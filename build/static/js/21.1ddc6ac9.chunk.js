(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[21],{995:function(n,e,t){"use strict";t.r(e);var i=t(10),r=t(1),a=t(6),o=t(0),s=t.n(o),l=t(982),c=t(5),u=t(4),p=t(11),d=t(12),f=t(965),h=(t(422),t(48)),m=t(911),g=t(912),x=t(913);function b(){var n=Object(a.a)(["\n  padding: ",";\n  font-weight: 500;\n  color: #929496;\n  &.important {\n    font-weight: 600;\n    color: #191c20;\n  }\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"]);return b=function(){return n},n}function w(){var n=Object(a.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"]);return w=function(){return n},n}function y(){var n=Object(a.a)(["\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n    flex-flow: column;\n    justify-content: center;\n  }\n  .reply-date.updated {\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"]);return y=function(){return n},n}function v(){var n=Object(a.a)(["\n  ","\n\n  .reply-author {\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n    z-index: 1;\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"]);return v=function(){return n},n}function A(){var n=Object(a.a)(["\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"]);return A=function(){return n},n}function _(){var n=Object(a.a)(["\n  // max-width: ",";\n  padding: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 991.99px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"]);return _=function(){return n},n}function O(){var n=Object(a.a)(["\n  img {\n    cursor: pointer;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: ",";\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"]);return O=function(){return n},n}function E(){var n=Object(a.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"]);return E=function(){return n},n}function j(){var n=Object(a.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]);return j=function(){return n},n}function k(){var n=Object(a.a)(["\n  background: ",";\n  border-radius: 6px;\n  margin: 4px -4px 4px -4px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: 7px -7px 10px -7px;\n    padding: 7px;\n  }\n"]);return k=function(){return n},n}function C(){var n=Object(a.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: ",";\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  min-height: ",";\n\n  &:after {\n    border: 10px solid #0000;\n    position: absolute;\n    top: 6px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 20px 10px;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    text-align: ",";\n    white-space: nowrap;\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  span.image-uploading {\n    display: none;\n  }\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n  .message-files div:first-child {\n    align-items: ",";\n  }\n"]);return C=function(){return n},n}var N=c.b.div(C(),(function(n){return n.hasFiles?"3px":"6px 9px 8px 9px"}),(function(n){return n.isAuthor?"#7A1B8B":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#000000"}),(function(n){return n.hasGif?"150px":"33px"}),(function(n){return n.isAuthor?"right: -16px":"left: -15px"}),(function(n){return n.isAuthor?"#7A1B8B":"#0000"}),(function(n){return n.isAuthor?"#0000":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#ffffff":"#AAB0C8"}),(function(n){return!0===n.isForwardedMessage&&"top: -40px;"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.showAvatar&&!1===n.hideBg||n.hasRemoveOnDlFiles?"#a7abc3":"#0000"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.isAuthor?"#ffffffe6":"#AAB0C8"}),(function(n){return n.isAuthor?"flex-end":"flex-start"})),F=c.b.div(k(),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return n.hasFiles?"210px":"auto"}),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return!n.isEmoticonOnly&&"content: ''"})),B=c.b.div(j()),S=c.b.div(E(),(function(n){return n.isAuthor?"#ffffffe6":"#000000"}),(function(n){return n.isAuthor?"#ffffffe6":"#8C3B9B"})),M=Object(c.b)(m.a)(O(),(function(n){return n.isAuthor?Object(f.hexToCSSFilter)("#ffffff").filter:Object(f.hexToCSSFilter)("#8C3B9B").filter}),(function(n){return n.theme.colors.primary}),(function(n){return n.isAuthor?Object(f.hexToCSSFilter)("#fff").filter:Object(f.hexToCSSFilter)("#0056b3").filter}),(function(n){return n.hasMessage&&""})),I=c.b.span(_(),(function(n){return n.hasFiles?"200px":"auto"}),(function(n){return n.hasFiles?"0 3px":""}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#ffffff99":"#7a1b8b"}),(function(n){return n.isAuthor?"#FFF":"#828282"}),(function(n){return n.isAuthor?"#ffffff":"#7a1b8b"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"})),T=c.b.div(A(),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"left":"right"})),z=c.b.div(v(),(function(n){return!n.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(n){return n.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-left-color: #f0f0f0;\n        position: absolute;\n        top: 6px;\n        left: -15px;\n        z-index: 1;\n        ").concat((function(n){return!0===n.isAuthor&&"\n            left: auto;\n            right: -15px;\n            border-left-color: red;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(n){return n.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(n){return n.isAuthor,"#ff4444"})),R=c.b.div(y(),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"0 10px 0 0":"0 0 0 10px"})),q=c.b.span(w(),(function(n){return n.isAuthor?"right: 100%;":"left: 100%;"})),D=c.b.span(b(),(function(n){return n.isEmoticonOnly||n.isGifOnly||!0===n.hasFiles?"3px 9px 3px 9px":"0"})),L=s.a.memo((function(n){var e=n.reply,t=n.showAvatar,i=n.selectedChannel,r=n.showGifPlayer,a=n.isAuthor,l=n.user,c=n.chatMessageActions,u=n.timeFormat,f=n.chatSettings,m=n.dictionary,b=n.users,w=n.translated_channels,y=n.chat_language,v=n.translate,A=n.language,_=Object(h.g)(),O=Object(p.z)();Object(x.a)({message:e,actions:c}),Object(g.a)({message:e,isAuthor:a,translate:i.is_translate,chat_language:y,actions:c});var E=Object(p.d)({reply:e,dictionary:m,isAuthor:a,user:l,selectedChannel:i,users:b,translate:v,language:A,translated_channels:w,chat_language:y}),j=E.quoteAuthor,k=E.quoteBody,C=E.replyBody,L=E.hasMessage,G=E.isGifOnly,P=E.isEmoticonOnly,U=e.files.length>0,H=e.files.some((function(n){return n.remove_on_download})),Y={container:Object(o.useRef)(null)},J=Object(o.useRef)(null),V=function(n){return n.preventDefault(),_.push(n.currentTarget.dataset.href),!1};Object(o.useEffect)((function(){var n=Y.container.current.querySelector("a.push");return n&&n.addEventListener("click",V,!0),function(){n&&n.removeEventListener("click",V,!0)}}),[]);var K=e.user&&b[e.user.id]&&"external"===b[e.user.id].type&&!a;return s.a.createElement(N,{ref:Y.container,tabIndex:e.id,hasFiles:U,className:"chat-bubble ql-editor ".concat(e.is_important&&"important"," ").concat(K&&"external-chat"),showAvatar:t,isAuthor:a,hideBg:P||G||U&&!L,theme:f.chat_message_theme,hasGif:r,hasRemoveOnDlFiles:H},s.a.createElement(s.a.Fragment,null,e.is_transferred&&s.a.createElement(q,{className:"small",isAuthor:a},s.a.createElement(d.u,{icon:"corner-up-right"}),m.forwardedMessage),s.a.createElement(T,{className:"chat-content-clap",isAuthor:a},s.a.createElement(z,{showAvatar:t,isAuthor:a,isEmoticonOnly:P,className:"chat-content animated slower",ref:J},!a&&t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(D,{isEmoticonOnly:P,hasFiles:U,isGifOnly:G,className:"chat-name-not-author-mobile ".concat(e.is_important&&"important")},"BOT"===e.user.type&&e.user.code&&e.user.code.includes("huddle")?m.teamFeedback:e.user.name)),e.quote&&e.quote.body&&!e.is_deleted&&(void 0!==e.quote.user_id||void 0!==e.quote.user)&&s.a.createElement(F,{className:"quote-container",showAvatar:t,isEmoticonOnly:P,hasFiles:U,theme:f.chat_message_theme,onClick:function(n){if(e.quote){var t=document.querySelector(".chat-list-item-".concat(e.quote.id));t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},isAuthor:a},e.quote.user_id===l.id?s.a.createElement(B,{theme:f.chat_message_theme,isAuthor:!0},"You"):s.a.createElement(B,{theme:f.chat_message_theme,isAuthor:e.quote.user_id===l.id},j),s.a.createElement(S,{ref:function(n){n&&n.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(n){O.init(n)}))},className:"quote-content",theme:f.chat_message_theme,isAuthor:a,dangerouslySetInnerHTML:{__html:k}})),L&&s.a.createElement("span",null,s.a.createElement(I,{ref:function(n){n&&n.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(n){O.init(n)}))},hasFiles:U,theme:f.chat_message_theme,isAuthor:a,className:"reply-content ".concat(P?"emoticon-body":""," ").concat(e.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:{__html:C}})),e.files.length>0&&!e.is_deleted&&s.a.createElement(M,{dictionary:m,hasMessage:L,isAuthor:a,theme:f.chat_message_theme,files:e.files,reply:e,type:"chat",topic_id:"TOPIC"===i.type?i.entity_id:null}),r&&s.a.createElement(d.c,{body:e.body,autoplay:!0}))),s.a.createElement(R,{className:"chat-timestamp",isAuthor:a},s.a.createElement("span",{className:"reply-date created"},s.a.createElement("span",null,u.todayOrYesterdayDate(e.created_at.timestamp)),H&&s.a.createElement("span",null,m.removeOnDownload)))))})),G=t(914),P=t(915),U=t(916),H=t(926),Y=t(917),J=t(14);function V(){var n=Object(a.a)(["\n  color: #a7abc3;\n  font-style: italic;\n  font-size: 11px;\n  position: absolute;\n  top: 0;\n  left: calc(100% + 10px);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  white-space: nowrap;\n\n  .star-wrap {\n    .feather-star {\n      width: 16px;\n      height: 16px;\n\n      &.active {\n        fill: #7a1b8bcc;\n        color: #7a1b8bcc;\n      }\n    }\n  }\n"]);return V=function(){return n},n}function K(){var n=Object(a.a)(["\n  display: block;\n  width: 100%;\n"]);return K=function(){return n},n}function W(){var n=Object(a.a)(['\n  display: block;\n  width: 100%;\n\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n\n  .push-link {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 25px;\n    margin-bottom: -25px;\n    width: 100%;\n\n    &:before {\n      position: absolute;\n      left: -14px;\n      top: -7px;\n      bottom: 0;\n      width: 6px;\n      height: calc(100% - 5px);\n      background: linear-gradient(180deg, rgba(106, 36, 126, 1) 0%, rgba(216, 64, 113, 1) 100%);\n      content: "";\n      border-radius: 6px 0 0 6px;\n    }\n\n    .card-body {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      padding: 1rem;\n      max-width: 95%;\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 12px;\n    }\n\n    .open-post {\n      display: flex;\n      position: absolute;\n      right: -20px;\n      bottom: -10px;\n      justify-content: center;\n      align-items: center;\n      font-size: 12px;\n\n      svg {\n        margin-left: 0;\n        height: 12px;\n      }\n    }\n  }\n']);return W=function(){return n},n}var Q=c.b.span(W()),X=c.b.span(K()),Z=c.b.div(V()),$=Object(o.forwardRef)((function(n,e){var t=n.reply,i=n.selectedChannel,r=n.chatMessageActions,a=n.user,o=n.timeFormat,l=n.dictionary,c=Object(h.g)(),u=Object(h.i)(),d=Object(p.cb)({dictionary:l,reply:t,selectedChannel:i,user:a}).parseBody;return s.a.createElement(Q,null,s.a.createElement(X,{ref:e,id:"bot-".concat(t.id),onClick:function(){if(t.body.startsWith("UPLOAD_BULK::")){var n=JSON.parse(t.body.replace("UPLOAD_BULK::",""));n.files&&r.viewFiles(n.files)}else if(t.body.startsWith("POST_CREATE::")){if(""!==t.body.replace("POST_CREATE::","").trim()){var e=JSON.parse(t.body.replace("POST_CREATE::",""));u&&u.workspaceId?u.folderId?c.push("/workspace/posts/".concat(u.folderId,"/").concat(u.folderName,"/").concat(u.workspaceId,"/").concat(Object(J.i)(u.workspaceName),"/post/").concat(e.post.id,"/").concat(Object(J.i)(e.post.title))):c.push("/workspace/posts/".concat(u.workspaceId,"/").concat(u.workspaceName,"/post/").concat(e.post.id,"/").concat(Object(J.i)(e.post.title))):c.push("/posts/".concat(e.post.id,"/").concat(Object(J.i)(e.post.title)))}}},dangerouslySetInnerHTML:{__html:d},isPostNotification:t.body.includes("POST_CREATE::")}),s.a.createElement(Z,{className:"chat-timestamp",isAuthor:!1},s.a.createElement("span",{className:"reply-date created"},o.localizeTime(t.created_at.timestamp))))})),nn=s.a.memo($);function en(){var n=Object(a.a)(["\n  align-self: flex-start;\n  width: 2rem !important;\n  height: 2rem !important;\n  margin-top: ",";\n\n  img {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n  .pixel-avatar {\n    padding-top: 2px !important;\n  }\n"]);return en=function(){return n},n}function tn(){var n=Object(a.a)(["\n  color: red;\n  margin: 0 10px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(a.a)(["\n  position: relative;\n  display: inline-flex;\n  border-radius: 8px;\n  background: #f4f4f4f4;\n  text-align: left;\n  min-width: 100px;\n  max-width: 100%;\n  padding: 7px 15px;\n  line-height: 1.5rem;\n  float: left;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: ",";\n  .chat-options {\n    visibility: hidden;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(a.a)(["\n  //width: 100%;\n  //overflow: hidden;\n  max-width: 75%;\n  position: relative;\n  flex-flow: column;\n  display: inherit;\n  margin-left: ",";\n  > img {\n    // max-height: ",";\n    max-height: 300px;\n    max-width: 100%;\n    width: auto;\n    object-fit: cover;\n  }\n  .edited-message {\n    color: #aab0c8;\n    font-style: italic;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    margin: 0 10px;\n    height: 25px;\n    white-space: nowrap;\n    ",";\n  }\n  .chat-options {\n    visibility: hidden;\n  }\n  .chat-options.active {\n    visibility: visible;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 991.99px) {\n    max-width: calc(100% - 110px);\n  }\n\n  @media (max-width: 620px) {\n    ",";\n    ",";\n  }\n"]);return an=function(){return n},n}function on(){var n=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n  margin: 5px;\n  max-width: 25px;\n\n  @media (max-width: 620px) {\n    margin-right: 0;\n  }\n\n  .more-options-tooltip {\n    &.orientation-bottom {\n      top: calc(100% - 35px);\n      @media (max-width: 620px) {\n        top: 100%;\n      }\n    }\n\n    &.orientation-top {\n      @media (max-width: 620px) {\n        bottom: 30px;\n      }\n    }\n\n    &.orientation-right {\n      left: calc(100% + 10px);\n      @media (max-width: 620px) {\n        left: 0;\n      }\n    }\n    &.orientation-left {\n      @media (max-width: 620px) {\n        left: auto;\n        right: 0;\n      }\n    }\n  }\n"]);return on=function(){return n},n}function sn(){var n=Object(a.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n  button {\n    margin: 5px;\n  }\n"]);return sn=function(){return n},n}function ln(){var n=Object(a.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n"]);return ln=function(){return n},n}function cn(){var n=Object(a.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  //align-items: ",";\n  justify-content: flex-end;\n  flex-flow: column;\n  flex-flow: ",";\n  margin-left: ",";\n  ",";\n  margin-top: ",";\n  margin-top: ",";\n  @media (max-width: 620px) {\n    margin-top: ",";\n    margin-top: ",";\n    ",";\n    ",";\n    ",";\n  }\n  &:before {\n    ",";\n    border: 10px solid transparent;\n    border-right-color: ",";\n    position: absolute;\n    top: ",";\n    left: 30px;\n    z-index: 1;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n    ",";\n  }\n  .dark & {\n    &:before {\n      display: none;\n    }\n  }\n"]);return cn=function(){return n},n}function un(){var n=Object(a.a)(["\n  z-index: 1;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  color: #a7abc3;\n  padding: 26px 0 14px 0;\n  position: sticky;\n  top: 0;\n  span {\n    padding: 4px 8px;\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 6px;\n    margin: 0 4px;\n    background: #f0f0f0;\n  }\n  &[stuck] {\n    &:before,\n    &:after {\n      display: none;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 14px 0 10px 0;\n  }\n"]);return un=function(){return n},n}function pn(){var n=Object(a.a)(["\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: ",';\n  text-align: center;\n  .chat-reply-list-item {\n    position: relative;\n    :before {\n      top: 7px;\n    }\n  }\n  .chat-actions-container {\n    opacity: 0;\n\n    .star-wrap {\n      position: relative;\n      display: flex;\n      &[data-star="true"] {\n        .feather-star {\n          fill: #7a1b8bcc;\n          color: #7a1b8bcc;\n        }\n      }\n      .feather-star {\n        width: 16px;\n        height: 16px;\n        cursor: pointer;\n      }\n      .star-count {\n        font-size: 0.835rem;\n        color: #a7abc3;\n        height: 16px;\n        line-height: 16px;\n        padding: 0 4px;\n      }\n      .star-user-popup {\n        position: absolute;\n        width: 250px;\n        padding: 4px;\n        background-color: #ffffff;\n        top: 100%;\n        z-index: 1;\n        border-top: 1px solid #eeeeee;\n        border-radius: 8px;\n        color: #4d4d4d;\n\n        .dark & {\n          background-color: #25282c;\n          border-top: 1px solid #25282c;\n          border-radius: 8px;\n          color: #c7c7c7;\n        }\n\n        .name {\n          display: block;\n          width: 100%;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n\n      display: none;\n      visibility: hidden;\n    }\n  }\n\n  &:hover {\n    .chat-actions-container {\n      opacity: 1;\n    }\n  }\n']);return pn=function(){return n},n}var dn=c.b.li(pn(),(function(n){return n.isLastChat?"20px":"5px"})),fn=c.b.div(un()),hn=c.b.div(cn(),(function(n){return n.isAuthor?"flex-end":"flex-start"}),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor||n.showAvatar?"0":"22px"}),(function(n){return!0===n.isAuthor&&"position: relative; right: 15px;"}),(function(n){return n.showAvatar&&"36px"}),(function(n){return n.showAvatar&&n.isAuthor&&"20px"}),(function(n){return n.showAvatar&&"12px"}),(function(n){return n.showAvatar&&n.isAuthor&&"8px"}),(function(n){return!n.showAvatar&&!n.isAuthor&&!n.isBot&&"margin-left: 0"}),(function(n){return!0===n.isAuthor&&!n.showAvatar&&"position: relative; right: 0px;"}),(function(n){return!0===n.isAuthor&&"position: relative; right: 0px;"}),(function(n){return n.showAvatar&&"content: '';"}),(function(n){return n.isImportant?"#7B68EE":n.isExternalChat?n.theme.colors.fourth:"#f0f0f0"}),(function(n){return n.showAvatar&&!n.isAuthor?"42px":"6px"}),(function(n){return!0===n.isAuthor&&"\n            left: auto;\n            right: -16px;\n            border-left-color:  ".concat((function(n){return n.isImportant?"#7B68EE":"#7A1B8B"}),";\n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        ")})),mn=c.b.div(ln(),(function(n){return n.isAuthor?"row-reverse":"row"}),(function(n){return n.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"})),gn=c.b.div(sn(),(function(n){return n.isAuthor?"row-reverse":"row"}),(function(n){return n.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"})),xn=Object(c.b)(G.a)(on()),bn=c.b.div(an(),(function(n){return n.showAvatar&&!n.isAuthor?"1rem":"1.6rem"}),(function(n){return n.maxImgHeight>300?"".concat(n.maxImgHeight,"px;"):"300px"}),(function(n){return n.isAuthor?"right: 100%;":"left: 100%"}),(function(n){return!n.showAvatar&&!n.isAuthor&&"margin-left: 0"}),(function(n){return!0===!n.isAuthor&&"margin-left: 0"})),wn=c.b.div(rn(),(function(n){return n.isAuthor?"row":"row-reverse"})),yn=c.b.span(tn()),vn=Object(c.b)(d.a)(en(),(function(n){return!0===n.isForwardedMessage?"25px":"0"})),An=0,_n=s.a.memo((function(n){var e=n.actualIndex,t=n.reply,i=n.lastReply,r=n.isLastChatVisible,a=n.dictionary,o=n.timeFormat,l=n.chatMessageActions,c=n.translate,p=n.language,d=n.translated_channels,f=n.chat_language,h=n.scrollComponent,m=Object(u.d)((function(n){return n.session.user})),g=Object(u.d)((function(n){return n.chat.selectedChannel})),x=Object(u.d)((function(n){return n.settings.user.CHAT_SETTINGS})),b=Object(u.d)((function(n){return n.users.users})),w=g.replies[e-1],y=!(!t||!t.user)&&t.user.id===m.id,v=!1,A=!1,_=!1,O=!1,E=!1;if(t&&t.user){t.created_at.timestamp&&(0===e&&(A=!0,v=!0),0!==e&&w&&o.localizeDate(w.created_at.timestamp,"D")!==o.localizeDate(t.created_at.timestamp,"D")&&(A=!0,v=!0),0!==e&&w&&t.created_at.timestamp-w.created_at.timestamp>600&&(v=!0)),0!==e&&w&&!0===w.is_read&&!1===t.is_read&&(E=!0),0!==e&&w&&null===w.user&&(v=!0),An!==t.user.id&&(v=!0,An=t.user.id),"undefined"!==typeof t.body&&null!==t.body&&null!==t.body.match(J.b)&&(_=!0);O=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot"].includes(t.user.code)}var j=g.members.filter((function(n){return 2===g.members.length?!(!g.last_reply||!g.last_reply.user)&&(g.last_reply.user.id===m.id?!(m.id===n.id):!(g.last_reply.user.id===n.id)):(!g.last_reply||!g.last_reply.user||g.last_reply.user.id!==n.id)&&m.id!==n.id})).filter((function(n){return!(!n.last_visited_at||!g.last_reply)&&n.last_visited_at.timestamp>=g.last_reply.created_at.timestamp}));return s.a.createElement(dn,{"data-message-id":t.id,"data-code":t.code,"data-timestamp":t.created_at.timestamp,className:"chat-list chat-list-item-".concat(t.id," code-").concat(t.code),showTimestamp:A},A&&s.a.createElement(fn,{className:"timestamp-container"},s.a.createElement("span",null,o.localizeChatDate(t.created_at.timestamp,"ddd, MMM DD, YYYY"))),t.user&&E&&!r&&s.a.createElement(P.a,null),t.user&&s.a.createElement(hn,{isAuthor:y,className:"chat-reply-list-item chat-reply-list-item-".concat(t.id," ").concat(y?"chat-right":"chat-left"),"data-message-id":t.id,showAvatar:v,isBot:O,hasGif:_},t.message_failed?s.a.createElement(yn,null,s.a.createElement("i",{className:"fas fa-times-circle",onClick:function(e){return n.handleResendMessage(t.payload)}})):null,s.a.createElement(bn,{isAuthor:y,showAvatar:v,className:"chat-bubble-quote-div"},s.a.createElement(L,{chatMessageActions:l,timeFormat:o,user:m,reply:t,showAvatar:v,selectedChannel:g,showGifPlayer:_,isAuthor:y,isLastChat:i.id===t.id,chatSettings:x,dictionary:a,users:b,translate:c,language:p,translated_channels:d,chat_language:f}),s.a.createElement(mn,{isAuthor:y,className:"chat-actions-container"},s.a.createElement(U.a,{isAuthor:y,reply:t,chatMessageActions:l,scrollComponent:h}),!isNaN(t.id)&&!t.is_deleted&&s.a.createElement(xn,{dictionary:a,className:"chat-message-options",selectedChannel:g,isAuthor:y,replyData:t,scrollComponent:h,chatMessageActions:l})),t.reactions.length>0&&s.a.createElement(H.a,{reactions:t.reactions,isAuthor:y,reply:t,loggedUser:m,chatReactionAction:n.chatReactionV2Action}),g.last_reply&&g.last_reply.id===t.id&&j.length>0&&s.a.createElement(Y.a,{isAuthor:y,onClick:n.handleShowSeenUsers,seenMembers:j,isPersonal:2===g.members.length})),!y&&v&&s.a.createElement(vn,{isForwardedMessage:t.is_transferred,id:t.user.id,type:"USER",imageLink:t.user.profile_image_thumbnail_link?t.user.profile_image_thumbnail_link:t.user.profile_image_link,name:t.user.name,isBot:O})),null===t.user&&s.a.createElement(hn,{className:"chat-reply-list-item system-reply-list-item chat-reply-list-item-".concat(t.id),"data-message-id":t.id,isAuthor:!1,hasGif:_},s.a.createElement(bn,{isAuthor:y,showAvatar:v,className:"chat-bubble-quote-div"},s.a.createElement(wn,{className:"system-message",isAuthor:!1},s.a.createElement(nn,{user:m,chatMessageActions:l,timeFormat:o,selectedChannel:g,reply:t,isLastChat:i.id===t.id,dictionary:a,users:b}),s.a.createElement(gn,{isAuthor:y,className:"chat-actions-container"},s.a.createElement(U.a,{isAuthor:y,reply:t,chatMessageActions:l,scrollComponent:h}),!isNaN(t.id)&&!t.is_deleted&&s.a.createElement(xn,{dictionary:a,replyData:t,className:"chat-message-options",selectedChannel:g,isAuthor:y,scrollComponent:h,chatMessageActions:l}))),t.reactions.length>0&&s.a.createElement(H.a,{reactions:t.reactions,reply:t,isAuthor:!1,loggedUser:m,chatReactionAction:n.chatReactionV2Action}))))}));function On(){var n=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  &.initial-load {\n    position: absolute;\n    top: 45%;\n    left: 45%;\n    transform: translate(-45%, -45%);\n  }\n"]);return On=function(){return n},n}function En(){var n=Object(a.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  svg {\n    max-width: 100%;\n    width: 100%;\n    max-height: 40%;\n    margin: auto;\n  }\n"]);return En=function(){return n},n}function jn(){var n=Object(a.a)(["\n  background: transparent;\n  background-repeat: repeat;\n  //   height: calc(100% - 181px);\n  //   overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  z-index: 1;\n  > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .chat-message-options svg {\n    fill: currentColor;\n  }\n  &.is-processed {\n    opacity: 0;\n  }\n  > div:first-child {\n    width: 100%;\n    overflow-x: hidden;\n  }\n"]);return jn=function(){return n},n}var kn=c.b.div(jn()),Cn=c.b.div(En()),Nn=c.b.div(On());e.default=function(n){var e=n.dictionary,t=Object(o.useRef)(null),a=Object(o.useRef)(null),c=Object(o.useRef)(null),f=Object(p.c)(),h=Object(p.eb)(),m=Object(p.l)(),g=Object(u.d)((function(n){return n.session.user})),x=Object(u.d)((function(n){return n.chat.selectedChannel})),b=Object(u.d)((function(n){return n.global.isIdle})),w=Object(u.d)((function(n){return n.global.isBrowserActive})),y=Object(p.N)(x),v=Object(u.d)((function(n){return n.settings.user.CHAT_SETTINGS})).translate,A=Object(u.d)((function(n){return n.settings.user.GENERAL_SETTINGS})),_=A.chat_language,O=A.translated_channels,E=A.language,j=function(){if(!x.isFetching&&x.hasMore){f.channelActions.fetchingMessages(x,!0);var n={skip:0,limit:20};"undefined"!==typeof x.replies&&(n={skip:0===x.skip&&x.replies.length?x.replies.length:x.skip,limit:20}),f.fetch(x,n,(function(n,e){n&&f.channelActions.fetchingMessages(x,!1)}))}};Object(o.useEffect)((function(){x.hasMore&&0===x.skip&&j(),t.current&&t.current[x.id]&&t.current[x.id].firstItem&&a.current&&a.current.scrollToIndex({index:t.current[x.id].firstItem.originalIndex,align:"start",behavior:"instant"})}),[x.id]);var k=function(n){n&&(m>0||x.total_unread>0)&&f.channelActions.markAsRead(x)};return s.a.createElement(kn,{ref:c,id:"component-chat-thread",className:"component-chat-thread messages",tabIndex:"2","data-init":1,"data-channel-id":x.id},x.replies&&x.replies.length>0&&s.a.createElement(l.a,{ref:a,overscan:0,firstItemIndex:x.replyCount?x.replyCount-x.replies.length:100-x.replies.length,initialTopMostItemIndex:x.replies.length-1,data:x.replies.sort((function(n,e){return n.created_at.timestamp-e.created_at.timestamp===0?n.id-e.id:n.created_at.timestamp-e.created_at.timestamp})),startReached:j,atBottomStateChange:function(n){return k(n)},followOutput:function(n){return n?!b&&w&&document.hasFocus():y&&x.id===y.id?!(y&&y.replies.length!==x.replies.length&&x.replies.length-y.replies.length>1)&&(x.last_reply&&x.last_reply.user&&x.last_reply.user.id===g.id):void 0},itemsRendered:function(n){return function(n){n.length&&(t.current=Object(r.a)(Object(r.a)({},t.current&&Object(r.a)({},t.current)),{},Object(i.a)({},x.id,{firstItem:n[0]})))}(n)},itemContent:function(n,t){return s.a.createElement(_n,{index:n,actualIndex:x.replyCount?x.replies.length-(x.replyCount-n):n,reply:t,lastReply:x.replies[x.replies.length-1],dictionary:e,chatMessageActions:f,timeFormat:h,translate:v,language:E,translated_channels:O,chat_language:_,scrollComponent:c.current})}}),x.replies&&0===x.replies.length&&!x.hasMore&&s.a.createElement(Cn,{className:"no-reply-container"},s.a.createElement(d.s,{icon:3})),x.isFetching&&x.hasMore&&0===x.skip&&s.a.createElement(Nn,{className:"initial-load"},s.a.createElement(d.k,null)))}}}]);