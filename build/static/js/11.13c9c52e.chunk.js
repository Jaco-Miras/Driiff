(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[11],{638:function(n,e,t){"use strict";var i=t(0),a=t(11),r=t(1),o=t.n(r),s=t(5),c=t(14),l=t(196),u=t(198),d=t(138);e.a=o.a.memo((function(n){var e=n.isAuthor,t=n.replyData,p=n.className,h=void 0===p?"":p,f=n.selectedChannel,m=n.dictionary,x=n.width,b=void 0===x?250:x,g=n.teamChannelId,y=void 0===g?null:g,w=n.isExternalUser,v=Object(r.useState)(!1),_=Object(a.a)(v,2),A=_[0],O=_[1],j=Object(s.c)(),E=document.getElementById("component-chat-thread"),k=Object(l.a)(),C=Object(u.a)(),N=C.selectUserChannel,B=C.loggedUser,F=C.users,S=C.channels,T=C.history,I=C.match;Object(r.useEffect)((function(){t.user&&"BOT"===t.user.type&&t.body.includes("<div><p>Your")&&!t.hasOwnProperty("huddle_log")&&k.channelActions.fetchUnpublishedAnswers({channel_id:t.channel_id})}),[]);var M=function(){k.remove(t.id)};var R=t.user&&F[t.user.id]&&"internal"===F[t.user.id].type,z=t.files.some((function(n){return"trashed"===n.file_type}));return o.a.createElement(d.c,{width:b,className:h,scrollRef:E},!t.hasOwnProperty("huddle_log")&&o.a.createElement("div",{onClick:function(){return k.remind(t,f)}},m.remindMeAboutThis),e&&t.hasOwnProperty("is_transferred")&&!t.is_transferred&&o.a.createElement("div",{onClick:function(){var n=t,e=n.body,i=document.createElement("div");i.innerHTML=e;for(var a=i.getElementsByClassName("fancied");a[0];)a[0].parentNode.removeChild(a[0]);var r=i.innerHTML;n.body=r.replace(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)((?:.(?!\<\/a\>))*.)(<\/a>)/g,(function(n,e,t,i,a,r,o){return i})),k.setEdit(n)}},m.edit),!t.hasOwnProperty("huddle_log")&&o.a.createElement("div",{onClick:function(){k.setQuote(t)}},m.quote),e&&o.a.createElement("div",{onClick:function(){var n={type:"confirmation",headerText:m.removeChat,submitText:m.remove,cancelText:m.cancel,bodyText:m.removeThisChat,actions:{onSubmit:M}};j(Object(c.a)(n))}},m.remove),!t.hasOwnProperty("huddle_log")&&o.a.createElement("div",{onClick:function(){k.clipboardLink(f,t)}},m.copyMessageLink),!t.hasOwnProperty("huddle_log")&&!z&&o.a.createElement("div",{onClick:function(){var n={type:"forward",channel:f,message:t};j(Object(c.a)(n))}},m.forward),e&&o.a.createElement("div",{onClick:function(){return k.markImportant(t)}},t.is_important?m.unMarkImportant:m.markImportant),t.user&&t.user.code&&t.user.code.includes("huddle_bot")&&t.body.includes("<div><p>Your Unpublished")&&o.a.createElement("div",{onClick:function(){k.setHuddleAnswers({id:t.id,channel_id:t.channel_id,huddle_log:t.huddle_log})}},"Edit huddle"),t.body.startsWith("HUDDLE_SKIP::")&&o.a.createElement("div",{onClick:function(){k.addSkip({channel_id:t.channel_id,id:t.id})}},"Unskip"),t.user&&"BOT"!==t.user.type&&t.user.id!==B.id&&"DIRECT"!==f.type&&t.user.code&&"huddle_bot"!==t.user.code&&R&&o.a.createElement("div",{onClick:function(){if(!A){O(!0),N(t.user,(function(n){n&&n.id&&k.setQuote(Object(i.a)(Object(i.a)({},t),{},{channel_id:n.id})),O(!1)}))}}},m.replyInPrivate),y&&!w&&o.a.createElement("div",{onClick:function(){if(!A){var n=function(n){if(n&&n.id){k.setQuote(Object(i.a)(Object(i.a)({},t),{},{channel_id:n.id}));var e=I.url;"/chat/:code"===I.path?T.push("/chat/".concat(y.code)):I.path.startsWith("/workspace/chat")&&T.push(e.replace("/workspace/chat","/workspace/team-chat"))}O(!1)};O(!0),S[y]?k.channelActions.select(S[y.id],n):k.channelActions.fetchByCode(y.code,(function(e,t){e||(n(t.data),k.channelActions.select(Object(i.a)(Object(i.a)({},t.data),{},{selected:!0,hasMore:!1,isFetching:!1,skip:0,replies:[]})))}))}}},"Discuss on team chat"))}))},639:function(n,e,t){"use strict";var i=t(9),a=t(1),r=t.n(a),o=t(10);function s(){var n=Object(i.a)(['\n  .sepline {\n    font-weight: 600;\n    font-size: 0.85em;\n    color: #972c86;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: 100%;\n    margin: 10px auto 8px;\n    &::before,\n    &::after {\n      content: "";\n      position: absolute;\n      background-color: #972c86;\n      width: 100%;\n      height: 1px;\n      display: block;\n      clear: both;\n\n      @media only screen and (min-width: 1800px) {\n        max-width: 44%;\n      }\n\n      @media only screen and (max-width: 1799px) {\n        max-width: 42%;\n      }\n\n      @media only screen and (max-width: 1650px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1440px) {\n        max-width: 38%;\n      }\n\n      @media only screen and (max-width: 1360px) {\n        max-width: 36%;\n      }\n\n      @media only screen and (max-width: 1280px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1136px) {\n        max-width: 32%;\n      }\n\n      @media only screen and (max-width: 1080px) {\n        max-width: 30%;\n      }\n\n      @media only screen and (max-width: 1024px) {\n        max-width: 26%;\n      }\n\n      @media only screen and (max-width: 1000px) {\n        max-width: 24%;\n      }\n\n      @media only screen and (max-width: 996px) {\n        max-width: 20%;\n      }\n\n      @media only screen and (max-width: 640px) {\n        max-width: 35%;\n      }\n    }\n    &::before {\n      left: 0;\n    }\n    &::after {\n      right: 0;\n    }\n  }\n']);return s=function(){return n},n}function c(){var n=Object(i.a)(["\n  &.hide {\n    visibility: hidden;\n    opacity: 0;\n  }\n"]);return c=function(){return n},n}var l=o.a.div(c()),u=o.a.div(s());e.a=function(n){return r.a.createElement(l,{className:"new-message-sepline"},r.a.createElement(u,null,r.a.createElement("span",{className:"sepline"},"New Message/s")))}},640:function(n,e,t){"use strict";var i=t(11),a=t(9),r=t(1),o=t.n(r),s=t(10),c=t(19),l=t(12),u=t(196);function d(){var n=Object(a.a)(['\n  &.orientation-top {\n    bottom: 25px;\n  }\n  &.orientation-bottom {\n    top: calc(100% + 5px);\n  }\n  &.orientation-left {\n    right: calc(100% - 25px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% - 25px);\n    right: auto;\n  }\n\n  @media (max-width: 576px) {\n    position: fixed;\n    justify-content: center;\n    display: flex;\n\n    &.orientation-top {\n      bottom: 100px;\n    }\n    &.orientation-bottom {\n      top: auto;\n      bottom: 100px;\n    }\n    &.orientation-left {\n      right: 0;\n      left: 0;\n    }\n    &.orientation-right {\n      left: 0;\n      right: 0;\n    }\n  }\n\n  .emoji-mart-bar {\n    display: none;\n  }\n\n  li {\n    &:before {\n      content: "" !important;\n      margin: 0 !important;\n      display: none !important;\n    }\n\n    padding-left: 0 !important;\n    text-align: left !important;\n    position: relative !important;\n    margin-left: 10px !important;\n  }\n']);return d=function(){return n},n}function p(){var n=Object(a.a)(["\n  @media (max-width: 620px) {\n    //display: none;\n  }\n  ",";\n\n  &:hover {\n    filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);\n  }\n"]);return p=function(){return n},n}function h(){var n=Object(a.a)(["\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n  padding: 0;\n  cursor: pointer;\n  position: relative;\n  @media (max-width: 620px) {\n    width: 20px;\n    height: 20px;\n  }\n"]);return h=function(){return n},n}var f=s.a.div(h()),m=Object(s.a)(c.s)(p(),(function(n){return n.active&&"filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);"})),x=Object(s.a)(c.l)(d());e.a=function(n){var e=n.reply,t=n.showEmojiSwitcher,a=void 0===t?null:t,s=null,c=Object(u.a)(),d=document.getElementById("component-chat-thread"),p={container:Object(r.useRef)(null),picker:Object(r.useRef)(null)},h=Object(r.useState)(a),b=Object(i.a)(h,2),g=b[0],y=b[1],w=function(){return y(!g)},v=Object(l.ab)(p.container,p.picker,d,g).orientation;return Object(r.useEffect)((function(){null!==a&&y(!0)}),[a]),Object(l.F)(p.container,(function(){y(!1)}),!0),o.a.createElement(f,{className:"emoji-button-div",ref:p.container},o.a.createElement(m,{icon:"smile",active:g,onClick:w}),g&&o.a.createElement(x,{ref:p.picker,onMouseEnter:function(){clearTimeout(s)},onMouseLeave:function(){s=setTimeout((function(){y(!1)}),1e3)},className:"chat-reaction-picker",orientation:v,onSelectEmoji:function(n){w(),c.react(e.id,n.id)},show:g}))}},641:function(n,e,t){"use strict";var i=t(11),a=t(9),r=t(1),o=t.n(r),s=t(10),c=t(19);function l(){var n=Object(a.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  z-index: 999;\n  ul {\n    max-height: 250px;\n\n    li {\n      display: flex;\n      text-align: left;\n\n      > span {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return l=function(){return n},n}function u(){var n=Object(a.a)(["\n    // position: absolute;\n    // right: ",";\n    // left: ",";\n    //top: 100%;\n    text-align: ",";\n    color: #a7abc3;\n    z-index: 2;\n    font-size: 11px;\n    position: absolute;\n    bottom: -18px;\n    white-space: nowrap;\n    ",";\n    span {\n        cursor: pointer;\n        &:hover {\n            color: #7A1B8B;\n            transition: color 0.3s;\n        }\n    }\n"]);return u=function(){return n},n}var d=s.a.div(u(),(function(n){return n.isAuthor?"0":"unset"}),(function(n){return n.isAuthor?"unset":"5px"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.isAuthor?"right: 0px":"left: 0px"})),p=Object(s.a)(c.u)(l(),(function(n){return n.isAuthor?"unset":"5px"}),(function(n){return n.isAuthor?"5px":"unset"}));e.a=function(n){var e=n.isPersonal,t=n.seenMembers,a=n.isAuthor,s=Object(r.useState)(!1),c=Object(i.a)(s,2),l=c[0],u=c[1],h=function(){return u(!l)};return o.a.createElement(d,n,e&&"seen",!e&&1===t.length&&"seen by ".concat(t.map((function(n){return n.first_name})).slice(0,1).toString()),!e&&t.length>1&&o.a.createElement(o.a.Fragment,null,"seen by"," ",t.map((function(n){return n.first_name})).slice(0,1).toString()," ","and",o.a.createElement("span",{onClick:h}," more")),!e&&t.length>1&&l&&o.a.createElement(p,{className:"chat-seen-list",users:t,isAuthor:a,onShowList:h}))}},642:function(n,e,t){"use strict";var i,a,r,o,s=t(21),c=t(9),l=t(1),u=t.n(l),d=t(5),p=t(10),h=t(20),f=t(636),m=["className","files","reply","type","topic_id","dictionary"],x=p.a.div(i||(i=Object(c.a)(["\n  position: relative;\n  z-index: 1;\n  border-radius: 8px;\n  color: #828282;\n"]))),b=p.a.div(a||(a=Object(c.a)(["\n  margin-bottom: 0.5rem;\n"]))),g=p.a.div(r||(r=Object(c.a)(["\n  display: flex;\n  flex-flow: column;\n"]))),y=Object(p.a)(f.a)(o||(o=Object(c.a)([""]))),w=Object(l.forwardRef)((function(n,e){var t=n.className,i=void 0===t?"":t,a=n.files,r=(n.reply,n.type),o=void 0===r?"chat":r,c=n.topic_id,l=void 0===c?null:c,p=n.dictionary,f=Object(s.a)(n,m),w=Object(d.c)(),v=function(n,e){if(n.stopPropagation(),"chat"===o&&"trashed"!==e.file_type){var t={file_id:e.file_id,files:[e],topic_id:l};w(Object(h.Ub)(t))}};return u.a.createElement(x,Object.assign({className:"message-files ".concat(i),filesLength:a.length,type:o},f),u.a.createElement(g,null,a.map((function(n,e){return 1===a.length&&"chat"===o?u.a.createElement(y,{key:e,cbFilePreview:v,file:n,"data-file-type":n.type,dictionary:p}):u.a.createElement(b,{key:n.id},u.a.createElement(y,{cbFilePreview:v,file:n,"data-file-type":n.type,dictionary:p}))}))))}));e.a=u.a.memo(w)},643:function(n,e,t){"use strict";var i=t(0),a=t(1);e.a=function(n){var e=n.message,t=n.isAuthor,r=n.translate,o=n.chat_language,s=n.actions;Object(a.useEffect)((function(){t||e.user.chat_language===o||!r||e.is_translated||e.translated_language===o||function(n){return fetch("https://api.deepl.com/v2/translate?auth_key=4fb7583d-a163-7abb-8e71-c882d1fd9408&text="+n.body+"&target_lang="+o).then((function(n){return n.json()})).then((function(n){return n})).catch(console.log)}(e).then((function(n){if("undefined"!==typeof n){var t=n.translations[0].text;s.setTranslationBody(Object(i.a)(Object(i.a)({},e),{},{translated_body:t,is_translated:r,translated_language:o})),s.saveTranslation({message_id:e.id,body:t,language:o})}}))}),[r])}},644:function(n,e,t){"use strict";var i=t(0),a=t(11),r=t(1),o=t(26);e.a=function(n){var e=n.message,t=n.actions,s=Object(r.useRef)(!0);var c=Object(r.useState)(null),l=Object(a.a)(c,2),u=l[0],d=l[1],p=e.body;Object(r.useEffect)((function(){return function(){s.current=!1}}),[]),Object(r.useEffect)((function(){var n=p;!p.includes('<span class="fancied">')&&(p.match(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)([^<]+)(<\/a>)/g)||[]).length>0&&!e.is_fancy&&(n=function(n){return Object(o.k)({message_id:n.id,content:n.body}).then((function(n){return n})).then((function(n){s.current&&d(n.data.body)})),null!==u?u:n.body}(e)),null!==u&&t.saveFancyContent(Object(i.a)(Object(i.a)({},e),{},{body:n,is_fancy:!0}))}),[u])}},647:function(n,e,t){"use strict";var i=t(11),a=t(9),r=t(1),o=t.n(r),s=t(10),c=t(25),l=t(139),u=t(19),d=t(196);function p(){var n=Object(a.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n  }\n"]);return p=function(){return n},n}function h(){var n=Object(a.a)(["\n  background: ",";\n  color: ",";\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  cursor: pointer;\n  position: relative;\n  :hover {\n    .chat-emoji-users-list {\n      visibility: visible;\n    }\n  }\n"]);return h=function(){return n},n}var f,m,x=s.a.div(h(),(function(n){return n.isAuthor?"rgb(157 57 173 / 93%)":"rgba(240, 240, 240, 0.8)"}),(function(n){return n.isAuthor?"#fff":"#505050"})),b=Object(s.a)(u.u)(p(),(function(n){return n.isAuthor?"unset":"5px"}),(function(n){return n.isAuthor?"5px":"unset"})),g=function(n){var e=n.type,t=n.count,i=n.reactions,a=n.isAuthor,r=n.reply,s=Object(d.a)();return o.a.createElement(x,{onClick:function(){s.react(r.id,e)},isAuthor:a,className:"chat-emoji"},o.a.createElement(l.a,{emoji:e,size:20}),t>1?o.a.createElement("span",{className:"emoji-counter"}," ",t):null,o.a.createElement(b,{className:"chat-emoji-users-list",isAuthor:a,users:i.map((function(n){return{id:n.user_id,name:n.user_name,profile_image_link:n.profile_image_link,profile_image_thumbnail_link:n.profile_image_thumbnail_link?n.profile_image_thumbnail_link:n.profile_image_link,partial_name:null}}))}))},y=t(12),w=s.a.div(f||(f=Object(a.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    position: relative;\n    z-index: 100;\n  }\n  li {\n    position: relative;\n    padding: 3px;\n    border-bottom: 1px solid;\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    :hover {\n      .chat-emoji-users-list {\n        visibility: visible;\n      }\n    }\n  }\n  li:last-child {\n    border: none;\n  }\n"]))),v=Object(s.a)(u.u)(m||(m=Object(a.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  top: 1px;\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n    padding: 5px 10px;\n  }\n  .profile-slider {\n    display: none !important;\n  }\n"])),(function(n){return n.isAuthor?"unset":"116%"}),(function(n){return n.isAuthor?"116%":"unset"})),_=function(n){var e=n.className,t=n.reactions,i=n.handleShowMoreEmojis,a=n.isAuthor,s=n.reply,c=n.chatReactionAction,u=Object(r.useRef)();Object(y.F)(u,i,!0);return o.a.createElement(w,{className:e,ref:u},o.a.createElement("ul",null,t.map((function(n){return o.a.createElement("li",{key:n.type,onClick:function(){return function(n){var e={message_id:s.id,react_type:n};c(e)}(n.type)}},o.a.createElement(l.a,{emoji:n.type,size:16}),o.a.createElement("span",null,n.reactions.length),o.a.createElement(v,{className:"chat-emoji-users-list",isAuthor:a,users:n.reactions.map((function(n){return{id:n.user_id,name:n.user_name,profile_image_link:n.profile_image_link,profile_image_thumbnail_link:n.profile_image_thumbnail_link?n.profile_image_thumbnail_link:n.profile_image_link,partial_name:null}}))}))}))))};function A(){var n=Object(a.a)(["\n  position: absolute;\n  background: #dedede;\n  border-radius: 8px;\n  max-width: 100px;\n  min-width: 60px;\n  padding: 5px;\n  top: 100%;\n  right: ",";\n  left: ",";\n  margin-top: 5px;\n  //visibility: hidden;\n"]);return A=function(){return n},n}function O(){var n=Object(a.a)(["\n  background: #dedede;\n  padding: 2px 5px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  position: relative;\n  cursor: pointer;\n  // :hover {\n  //     .chat-reactions-list {\n  //         visibility: visible;\n  //     }\n  // }\n"]);return O=function(){return n},n}function j(){var n=Object(a.a)(["\n  // position: absolute;\n  //bottom: -20px;\n  margin-top: -8px;\n  display: inline-flex;\n  max-width: 90%;\n  z-index: 1;\n  flex-flow: ",";\n  align-self: ",";\n  .profile-slider {\n    left: 60px !important;\n    right: unset !important;\n    bottom: 0px !important;\n    top: unset !important;\n  }\n  .chat-right & {\n    .profile-slider {\n      left: unset !important;\n      right: 0 !important;\n      bottom: 100% !important;\n      top: unset !important;\n    }\n  }\n"]);return j=function(){return n},n}var E=s.a.div(j(),(function(n){return n.isAuthor?"row-reverse":"row"}),(function(n){return n.isAuthor?"flex-end":"flex-start"})),k=s.a.div(O()),C=Object(s.a)(_)(A(),(function(n){return n.isAuthor?"0":"unset"}),(function(n){return n.isAuthor?"unset":"0"}));e.a=function(n){var e=n.reactions,t=n.isAuthor,a=n.chatReactionAction,s=n.reply,l=function(n){var e=Object(r.useRef)();return Object(r.useEffect)((function(){e.current=n})),e.current}(e.length),u=Object(r.useState)(!1),d=Object(i.a)(u,2),p=d[0],h=d[1],f=function(){return h(!p)},m=function(){return Object.entries(Object(c.b)(e,"react_type")).map((function(n){return{type:n[0],reactions:n[1]}}))},x=Object(r.useState)(m()),b=Object(i.a)(x,2),y=b[0],w=b[1];return Object(r.useEffect)((function(){w(m())}),[]),Object(r.useEffect)((function(){l!==e.length&&w(Object.entries(Object(c.b)(e,"react_type")).map((function(n){return{type:n[0],reactions:n[1]}})))}),[e,l]),o.a.createElement(E,{isAuthor:t},y.slice(0,7).map((function(n){return o.a.createElement(g,{userReacted:!1,key:n.type,type:n.type,count:n.reactions.length,reactions:n.reactions,isAuthor:t,chatReactionAction:a,reply:s})})),y.length>7&&o.a.createElement(k,null,o.a.createElement("span",{onClick:f},"..."),p&&o.a.createElement(C,{isAuthor:t,reactions:y.slice(7),className:"chat-reactions-list",handleShowMoreEmojis:f,chatReactionAction:a,reply:s})))}},736:function(n,e,t){"use strict";t.r(e);var i,a,r,o,s,c,l,u,d,p,h,f,m,x,b,g,y,w,v,_,A,O,j,E,k,C,N,B=t(4),F=t(0),S=t(9),T=t(1),I=t.n(T),M=t(724),R=t(10),z=t(5),L=t(12),P=t(19),q=t(645),D=(t(290),t(36)),U=t(642),G=t(643),H=t(644),Y=R.a.div(i||(i=Object(S.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: ",";\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  min-height: ",";\n\n  &:after {\n    border: 10px solid #0000;\n    position: absolute;\n    top: 6px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 20px 10px;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    text-align: ",";\n    white-space: nowrap;\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  span.image-uploading {\n    display: none;\n  }\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n"])),(function(n){return n.hasFiles?"3px":"6px 9px 8px 9px"}),(function(n){return n.isAuthor?"#7A1B8B":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#000000"}),(function(n){return n.hasGif?"150px":"33px"}),(function(n){return n.isAuthor?"right: -16px":"left: -15px"}),(function(n){return n.isAuthor?"#7A1B8B":"#0000"}),(function(n){return n.isAuthor?"#0000":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#ffffff":"#AAB0C8"}),(function(n){return!0===n.isForwardedMessage&&"top: -40px;"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.showAvatar&&!1===n.hideBg||n.hasRemoveOnDlFiles?"#a7abc3":"#0000"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.isAuthor?"#ffffffe6":"#AAB0C8"})),V=R.a.div(a||(a=Object(S.a)(["\n  background: ",";\n  border-radius: 6px;\n  margin: 4px -4px 4px -4px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: 7px -7px 10px -7px;\n    padding: 7px;\n  }\n"])),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return n.hasFiles?"210px":"auto"}),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return!n.isEmoticonOnly&&"content: ''"})),W=R.a.div(r||(r=Object(S.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]))),J=R.a.div(o||(o=Object(S.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"])),(function(n){return n.isAuthor?"#ffffffe6":"#000000"}),(function(n){return n.isAuthor?"#ffffffe6":"#8C3B9B"})),K=Object(R.a)(U.a)(s||(s=Object(S.a)(["\n  img {\n    cursor: pointer;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: #972c86;\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"])),(function(n){return n.isAuthor?Object(q.hexToCSSFilter)("#ffffff").filter:Object(q.hexToCSSFilter)("#8C3B9B").filter}),(function(n){return n.isAuthor?Object(q.hexToCSSFilter)("#fff").filter:Object(q.hexToCSSFilter)("#0056b3").filter}),(function(n){return n.hasMessage&&""})),Q=R.a.span(c||(c=Object(S.a)(["\n  max-width: ",";\n  padding: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 991.99px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"])),(function(n){return n.hasFiles?"200px":"auto"}),(function(n){return n.hasFiles?"7px 4px 5px 6px":""}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#ffffff99":"#7a1b8b"}),(function(n){return n.isAuthor?"#FFF":"#828282"}),(function(n){return n.isAuthor?"#ffffff":"#7a1b8b"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"})),X=R.a.div(l||(l=Object(S.a)(["\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"])),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"left":"right"})),Z=R.a.div(u||(u=Object(S.a)(["\n  ","\n\n  .reply-author {\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"])),(function(n){return!n.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(n){return n.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-left-color: #f0f0f0;\n        position: absolute;\n        top: 6px;\n        left: -15px;\n        z-index: 1;\n        ").concat((function(n){return!0===n.isAuthor&&"\n            left: auto;\n            right: -15px;\n            border-left-color: red;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(n){return n.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(n){return n.isAuthor,"#ff4444"})),$=R.a.div(d||(d=Object(S.a)(["\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n    flex-flow: column;\n    justify-content: center;\n  }\n  .reply-date.updated {\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"])),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"0 10px 0 0":"0 0 0 10px"})),nn=R.a.span(p||(p=Object(S.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"])),(function(n){return n.isAuthor?"right: 100%;":"left: 100%;"})),en=R.a.span(h||(h=Object(S.a)(["\n  padding: ",";\n  font-weight: 500;\n  color: #929496;\n  &.important {\n    font-weight: 600;\n    color: #191c20;\n  }\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"])),(function(n){return n.isEmoticonOnly||n.isGifOnly||!0===n.hasFiles?"3px 9px 3px 9px":"0"})),tn=function(n){var e=n.reply,t=n.showAvatar,i=n.selectedChannel,a=n.showGifPlayer,r=n.isAuthor,o=n.user,s=n.chatMessageActions,c=n.timeFormat,l=n.chatSettings,u=n.dictionary,d=n.users,p=n.translated_channels,h=n.chat_language,f=n.translate,m=n.language,x=Object(D.g)(),b=Object(L.w)();Object(H.a)({message:e,actions:s}),Object(G.a)({message:e,isAuthor:r,translate:i.is_translate,chat_language:h,actions:s});var g=Object(L.d)({reply:e,dictionary:u,isAuthor:r,user:o,selectedChannel:i,users:d,translate:f,language:m,translated_channels:p,chat_language:h}),y=g.quoteAuthor,w=g.quoteBody,v=g.replyBody,_=g.hasMessage,A=g.isGifOnly,O=g.isEmoticonOnly,j=e.files.length>0,E=e.files.some((function(n){return n.remove_on_download})),k={container:Object(T.useRef)(null)},C=Object(T.useRef)(null),N=function(n){return n.preventDefault(),x.push(n.currentTarget.dataset.href),!1};Object(T.useEffect)((function(){var n=k.container.current.querySelector("a.push");return n&&n.addEventListener("click",N,!0),function(){n&&n.removeEventListener("click",N,!0)}}),[]);var B=e.user&&d[e.user.id]&&"external"===d[e.user.id].type&&!r;return I.a.createElement(Y,{ref:k.container,tabIndex:e.id,hasFiles:j,className:"chat-bubble ql-editor ".concat(e.is_important&&"important"," ").concat(B&&"external-chat"),showAvatar:t,isAuthor:r,hideBg:O||A||j&&!_,theme:l.chat_message_theme,hasGif:a,hasRemoveOnDlFiles:E},I.a.createElement(I.a.Fragment,null,e.is_transferred&&I.a.createElement(nn,{className:"small",isAuthor:r},I.a.createElement(P.s,{icon:"corner-up-right"}),u.forwardedMessage),I.a.createElement(X,{className:"chat-content-clap",isAuthor:r},I.a.createElement(Z,{showAvatar:t,isAuthor:r,isEmoticonOnly:O,className:"chat-content animated slower",ref:C},!r&&t&&I.a.createElement(I.a.Fragment,null,I.a.createElement(en,{isEmoticonOnly:O,hasFiles:j,isGifOnly:A,className:"chat-name-not-author-mobile ".concat(e.is_important&&"important")},"BOT"===e.user.type&&e.user.code&&e.user.code.includes("huddle")?u.teamFeedback:e.user.name)),e.quote&&e.quote.body&&!e.is_deleted&&(void 0!==e.quote.user_id||void 0!==e.quote.user)&&I.a.createElement(V,{className:"quote-container",showAvatar:t,isEmoticonOnly:O,hasFiles:j,theme:l.chat_message_theme,onClick:function(n){if(e.quote){var t=document.querySelector(".chat-list-item-".concat(e.quote.id));t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},isAuthor:r},e.quote.user_id===o.id?I.a.createElement(W,{theme:l.chat_message_theme,isAuthor:!0},"You"):I.a.createElement(W,{theme:l.chat_message_theme,isAuthor:e.quote.user_id===o.id},y),I.a.createElement(J,{ref:function(n){n&&n.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(n){b.init(n)}))},className:"quote-content",theme:l.chat_message_theme,isAuthor:r,dangerouslySetInnerHTML:{__html:w}})),e.files.length>0&&!e.is_deleted&&I.a.createElement(K,{dictionary:u,hasMessage:_,isAuthor:r,theme:l.chat_message_theme,files:e.files,reply:e,type:"chat",topic_id:"TOPIC"===i.type?i.entity_id:null}),_&&I.a.createElement("span",null,I.a.createElement(Q,{ref:function(n){n&&n.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(n){b.init(n)}))},hasFiles:j,theme:l.chat_message_theme,isAuthor:r,className:"reply-content ".concat(O?"emoticon-body":""," ").concat(e.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:{__html:v}})),a&&I.a.createElement(P.c,{body:e.body,autoplay:!0}))),I.a.createElement($,{className:"chat-timestamp",isAuthor:r},I.a.createElement("span",{className:"reply-date created"},I.a.createElement("span",null,c.todayOrYesterdayDate(e.created_at.timestamp)),E&&I.a.createElement("span",null,u.removeOnDownload)))),n.children)},an=t(638),rn=t(639),on=t(640),sn=t(647),cn=t(641),ln=t(17),un=R.a.span(f||(f=Object(S.a)(['\n  display: block;\n  width: 100%;\n\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n\n  .push-link {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 25px;\n    margin-bottom: -25px;\n    width: 100%;\n\n    &:before {\n      position: absolute;\n      left: -14px;\n      top: -7px;\n      bottom: 0;\n      width: 6px;\n      height: calc(100% - 12px);\n      background: linear-gradient(180deg, rgba(106, 36, 126, 1) 0%, rgba(216, 64, 113, 1) 100%);\n      content: "";\n      border-radius: 6px 0 0 6px;\n    }\n\n    .card-body {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      padding: 1rem;\n      max-width: 95%;\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 12px;\n    }\n\n    .open-post {\n      display: flex;\n      position: absolute;\n      right: -20px;\n      bottom: -10px;\n      justify-content: center;\n      align-items: center;\n      font-size: 12px;\n\n      svg {\n        margin-left: 0;\n        height: 12px;\n      }\n    }\n  }\n']))),dn=R.a.span(m||(m=Object(S.a)(["\n  display: block;\n  width: 100%;\n"]))),pn=R.a.div(x||(x=Object(S.a)(["\n  color: #a7abc3;\n  font-style: italic;\n  font-size: 11px;\n  position: absolute;\n  top: 0;\n  left: calc(100% + 10px);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  white-space: nowrap;\n\n  .star-wrap {\n    .feather-star {\n      width: 16px;\n      height: 16px;\n\n      &.active {\n        fill: #7a1b8bcc;\n        color: #7a1b8bcc;\n      }\n    }\n  }\n"]))),hn=Object(T.forwardRef)((function(n,e){var t=n.reply,i=n.selectedChannel,a=n.chatMessageActions,r=n.user,o=n.timeFormat,s=n.dictionary,c=n.users,l=Object(D.g)(),u=Object(D.i)(),d=Object(L.V)({dictionary:s,reply:t,selectedChannel:i,user:r,users:c}).parseBody;return I.a.createElement(un,null,I.a.createElement(dn,{ref:e,id:"bot-".concat(t.id),onClick:function(){if(t.body.startsWith("UPLOAD_BULK::")){var n=JSON.parse(t.body.replace("UPLOAD_BULK::",""));n.files&&a.viewFiles(n.files)}else if(t.body.startsWith("POST_CREATE::")){if(""!==t.body.replace("POST_CREATE::","").trim()){var e=JSON.parse(t.body.replace("POST_CREATE::",""));u&&u.workspaceId?u.folderId?l.push("/workspace/posts/".concat(u.folderId,"/").concat(u.folderName,"/").concat(u.workspaceId,"/").concat(Object(ln.h)(u.workspaceName),"/post/").concat(e.post.id,"/").concat(Object(ln.h)(e.post.title))):l.push("/workspace/posts/".concat(u.workspaceId,"/").concat(u.workspaceName,"/post/").concat(e.post.id,"/").concat(Object(ln.h)(e.post.title))):l.push("/posts/".concat(e.post.id,"/").concat(Object(ln.h)(e.post.title)))}}},dangerouslySetInnerHTML:{__html:d},isPostNotification:t.body.includes("POST_CREATE::")}),I.a.createElement(pn,{className:"chat-timestamp",isAuthor:!1},I.a.createElement("span",{className:"reply-date created"},o.localizeTime(t.created_at.timestamp))))})),fn=R.a.li(b||(b=Object(S.a)(["\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: ",';\n  text-align: center;\n  .chat-reply-list-item {\n    position: relative;\n    :before {\n      top: 7px;\n    }\n  }\n  .chat-actions-container {\n    opacity: 0;\n\n    .star-wrap {\n      position: relative;\n      display: flex;\n      &[data-star="true"] {\n        .feather-star {\n          fill: #7a1b8bcc;\n          color: #7a1b8bcc;\n        }\n      }\n      .feather-star {\n        width: 16px;\n        height: 16px;\n        cursor: pointer;\n      }\n      .star-count {\n        font-size: 0.835rem;\n        color: #a7abc3;\n        height: 16px;\n        line-height: 16px;\n        padding: 0 4px;\n      }\n      .star-user-popup {\n        position: absolute;\n        width: 250px;\n        padding: 4px;\n        background-color: #ffffff;\n        top: 100%;\n        z-index: 1;\n        border-top: 1px solid #eeeeee;\n        border-radius: 8px;\n        color: #4d4d4d;\n\n        .dark & {\n          background-color: #25282c;\n          border-top: 1px solid #25282c;\n          border-radius: 8px;\n          color: #c7c7c7;\n        }\n\n        .name {\n          display: block;\n          width: 100%;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n\n      display: none;\n      visibility: hidden;\n    }\n  }\n\n  &:hover {\n    .chat-actions-container {\n      opacity: 1;\n    }\n  }\n'])),(function(n){return n.isLastChat?"20px":"5px"})),mn=R.a.div(g||(g=Object(S.a)(["\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #a7abc3;\n  padding: 26px 0 14px 0;\n  position: sticky;\n  top: 0;\n  span {\n    padding: 4px 8px;\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 6px;\n    margin: 0 4px;\n    background: #f0f0f0;\n  }\n  &[stuck] {\n    &:before,\n    &:after {\n      display: none;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 14px 0 10px 0;\n  }\n"]))),xn=R.a.div(y||(y=Object(S.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  //align-items: ",";\n  justify-content: flex-end;\n  flex-flow: column;\n  flex-flow: ",";\n  margin-left: ",";\n  ",";\n  margin-top: ",";\n  margin-top: ",";\n  @media (max-width: 620px) {\n    margin-top: ",";\n    margin-top: ",";\n    ",";\n    ",";\n    ",";\n  }\n  &:before {\n    ",";\n    border: 10px solid transparent;\n    border-right-color: ",";\n    position: absolute;\n    top: ",";\n    left: 30px;\n    z-index: 1;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n    ",";\n  }\n  .dark & {\n    &:before {\n      ",";\n      border: 10px solid transparent;\n      position: absolute;\n      top: ",";\n      left: 30px;\n      z-index: 1;\n      @media all and (max-width: 620px) {\n        display: none;\n      }\n      ",";\n    }\n  }\n"])),(function(n){return n.isAuthor?"flex-end":"flex-start"}),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor||n.showAvatar?"0":"22px"}),(function(n){return!0===n.isAuthor&&"position: relative; right: 15px;"}),(function(n){return n.showAvatar&&"36px"}),(function(n){return n.showAvatar&&n.isAuthor&&"20px"}),(function(n){return n.showAvatar&&"12px"}),(function(n){return n.showAvatar&&n.isAuthor&&"8px"}),(function(n){return!n.showAvatar&&!n.isAuthor&&!n.isBot&&"margin-left: 0"}),(function(n){return!0===n.isAuthor&&!n.showAvatar&&"position: relative; right: 0px;"}),(function(n){return!0===n.isAuthor&&"position: relative; right: 0px;"}),(function(n){return n.showAvatar&&"content: '';"}),(function(n){return n.isImportant?"#7B68EE":n.isExternalChat?"#FFDB92":"#f0f0f0"}),(function(n){return n.showAvatar&&!n.isAuthor?"42px":"6px"}),(function(n){return!0===n.isAuthor&&"\n            left: auto;\n            right: -16px;\n            border-left-color:  ".concat((function(n){return n.isImportant?"#7B68EE":"#7A1B8B"}),";\n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        ")}),(function(n){return n.showAvatar&&"content: '';"}),(function(n){return n.showAvatar&&!n.isAuthor?"42px":"6px"}),(function(n){return!0===n.isAuthor&&"\n            left: auto;\n            right: -16px;            \n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        "})),bn=R.a.div(w||(w=Object(S.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n"])),(function(n){return n.isAuthor?"row-reverse":"row"}),(function(n){return n.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"})),gn=R.a.div(v||(v=Object(S.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n  button {\n    margin: 5px;\n  }\n"])),(function(n){return n.isAuthor?"row-reverse":"row"}),(function(n){return n.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"})),yn=Object(R.a)(an.a)(_||(_=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n  margin: 5px;\n  max-width: 25px;\n\n  @media (max-width: 620px) {\n    margin-right: 0;\n  }\n\n  .more-options-tooltip {\n    &.orientation-bottom {\n      top: calc(100% - 35px);\n      @media (max-width: 620px) {\n        top: 100%;\n      }\n    }\n\n    &.orientation-top {\n      @media (max-width: 620px) {\n        bottom: 30px;\n      }\n    }\n\n    &.orientation-right {\n      left: calc(100% + 10px);\n      @media (max-width: 620px) {\n        left: 0;\n      }\n    }\n    &.orientation-left {\n      @media (max-width: 620px) {\n        left: auto;\n        right: 0;\n      }\n    }\n  }\n"]))),wn=R.a.div(A||(A=Object(S.a)(["\n  //width: 100%;\n  //overflow: hidden;\n  max-width: 75%;\n  position: relative;\n  flex-flow: column;\n  display: inherit;\n  margin-left: ",";\n  > img {\n    // max-height: ",";\n    max-height: 300px;\n    max-width: 100%;\n    width: auto;\n    object-fit: cover;\n  }\n  .edited-message {\n    color: #aab0c8;\n    font-style: italic;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    margin: 0 10px;\n    height: 25px;\n    white-space: nowrap;\n    ",";\n  }\n  .chat-options {\n    visibility: hidden;\n  }\n  .chat-options.active {\n    visibility: visible;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 991.99px) {\n    max-width: calc(100% - 110px);\n  }\n\n  @media (max-width: 620px) {\n    ",";\n    ",";\n  }\n"])),(function(n){return n.showAvatar&&!n.isAuthor?"1rem":"1.6rem"}),(function(n){return n.maxImgHeight>300?"".concat(n.maxImgHeight,"px;"):"300px"}),(function(n){return n.isAuthor?"right: 100%;":"left: 100%"}),(function(n){return!n.showAvatar&&!n.isAuthor&&"margin-left: 0"}),(function(n){return!0===!n.isAuthor&&"margin-left: 0"})),vn=R.a.div(O||(O=Object(S.a)(["\n  position: relative;\n  display: inline-flex;\n  border-radius: 8px;\n  background: #f4f4f4f4;\n  text-align: left;\n  min-width: 100px;\n  max-width: 100%;\n  padding: 7px 15px;\n  line-height: 1.5rem;\n  float: left;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: ",";\n  .chat-options {\n    visibility: hidden;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n"])),(function(n){return n.isAuthor?"row":"row-reverse"})),_n=R.a.span(j||(j=Object(S.a)(["\n  color: red;\n  margin: 0 10px;\n"]))),An=Object(R.a)(P.a)(E||(E=Object(S.a)(["\n  align-self: flex-start;\n  width: 2rem !important;\n  height: 2rem !important;\n  margin-top: ",";\n\n  img {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n  .pixel-avatar {\n    padding-top: 2px !important;\n  }\n"])),(function(n){return!0===n.isForwardedMessage?"25px":"0"})),On=0,jn=function(n){var e=n.actualIndex,t=n.reply,i=n.lastReply,a=n.isLastChatVisible,r=n.dictionary,o=n.timeFormat,s=n.chatMessageActions,c=n.translate,l=n.language,u=n.translated_channels,d=n.chat_language,p=Object(z.d)((function(n){return n.session.user})),h=Object(z.d)((function(n){return n.chat.selectedChannel})),f=Object(z.d)((function(n){return n.settings.user.CHAT_SETTINGS})),m=Object(z.d)((function(n){return n.users.users})),x=h.replies[e-1],b=!(!t||!t.user)&&t.user.id===p.id,g=!1,y=!1,w=!1,v=!1,_=!1;if(t&&t.user){t.created_at.timestamp&&(0===e&&(y=!0,g=!0),0!==e&&x&&o.localizeDate(x.created_at.timestamp,"D")!==o.localizeDate(t.created_at.timestamp,"D")&&(y=!0,g=!0),0!==e&&x&&t.created_at.timestamp-x.created_at.timestamp>600&&(g=!0)),0!==e&&x&&!0===x.is_read&&!1===t.is_read&&(_=!0),0!==e&&x&&null===x.user&&(g=!0),On!==t.user.id&&(g=!0,On=t.user.id),"undefined"!==typeof t.body&&null!==t.body&&null!==t.body.match(ln.b)&&(w=!0);v=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot"].includes(t.user.code)}var A=h.members.filter((function(n){return 2===h.members.length?!(!h.last_reply||!h.last_reply.user)&&(h.last_reply.user.id===p.id?!(p.id===n.id):!(h.last_reply.user.id===n.id)):(!h.last_reply||!h.last_reply.user||h.last_reply.user.id!==n.id)&&p.id!==n.id})).filter((function(n){return!!n.last_visited_at&&n.last_visited_at.timestamp>=h.last_reply.created_at.timestamp}));return I.a.createElement(fn,{"data-message-id":t.id,"data-code":t.code,"data-timestamp":t.created_at.timestamp,className:"chat-list chat-list-item-".concat(t.id," code-").concat(t.code),showTimestamp:y},y&&I.a.createElement(mn,{className:"timestamp-container"},I.a.createElement("span",null,o.localizeChatDate(t.created_at.timestamp,"ddd, MMM DD, YYYY"))),t.user&&_&&!a&&I.a.createElement(rn.a,null),t.user&&I.a.createElement(xn,{isAuthor:b,className:"chat-reply-list-item chat-reply-list-item-".concat(t.id," ").concat(b?"chat-right":"chat-left"),"data-message-id":t.id,showAvatar:g,isBot:v,hasGif:w},t.message_failed?I.a.createElement(_n,null,I.a.createElement("i",{className:"fas fa-times-circle",onClick:function(e){return n.handleResendMessage(t.payload)}})):null,I.a.createElement(wn,{isAuthor:b,showAvatar:g,className:"chat-bubble-quote-div"},I.a.createElement(tn,{chatMessageActions:s,timeFormat:o,user:p,reply:t,showAvatar:g,selectedChannel:h,showGifPlayer:w,isAuthor:b,isLastChat:i.id===t.id,chatSettings:f,isLastChatVisible:a,dictionary:r,users:m,translate:c,language:l,translated_channels:u,chat_language:d},I.a.createElement(bn,{isAuthor:b,className:"chat-actions-container"},I.a.createElement(on.a,{isAuthor:b,reply:t}),!isNaN(t.id)&&!t.is_deleted&&I.a.createElement(yn,{dictionary:r,className:"chat-message-options",selectedChannel:h,isAuthor:b,replyData:t}))),t.reactions.length>0&&I.a.createElement(sn.a,{reactions:t.reactions,isAuthor:b,reply:t,loggedUser:p,chatReactionAction:n.chatReactionV2Action}),h.last_reply&&h.last_reply.id===t.id&&A.length>0&&I.a.createElement(cn.a,{isAuthor:b,onClick:n.handleShowSeenUsers,seenMembers:A,isPersonal:2===h.members.length})),!b&&g&&I.a.createElement(An,{isForwardedMessage:t.is_transferred,id:t.user.id,type:"USER",imageLink:t.user.profile_image_thumbnail_link?t.user.profile_image_thumbnail_link:t.user.profile_image_link,name:t.user.name,isBot:v})),null===t.user&&I.a.createElement(xn,{className:"chat-reply-list-item system-reply-list-item chat-reply-list-item-".concat(t.id),"data-message-id":t.id,isAuthor:!1,hasGif:w},I.a.createElement(wn,{isAuthor:b,showAvatar:g,className:"chat-bubble-quote-div"},I.a.createElement(vn,{className:"system-message",isAuthor:!1},I.a.createElement(hn,{user:p,chatMessageActions:s,timeFormat:o,selectedChannel:h,reply:t,isLastChat:i.id===t.id,isLastChatVisible:a,dictionary:r,users:m}),I.a.createElement(gn,{isAuthor:b,className:"chat-actions-container"},I.a.createElement(on.a,{isAuthor:b,reply:t}),!isNaN(t.id)&&!t.is_deleted&&I.a.createElement(yn,{dictionary:r,replyData:t,className:"chat-message-options",selectedChannel:h,isAuthor:b}))),t.reactions.length>0&&I.a.createElement(sn.a,{reactions:t.reactions,reply:t,isAuthor:!1,loggedUser:p,chatReactionAction:n.chatReactionV2Action}))))},En=R.a.div(k||(k=Object(S.a)(["\n  background: transparent;\n  background-repeat: repeat;\n  //   height: calc(100% - 181px);\n  //   overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  z-index: 1;\n  > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .chat-message-options svg {\n    fill: currentColor;\n  }\n  &.is-processed {\n    opacity: 0;\n  }\n  > div:first-child {\n    width: 100%;\n    overflow-x: hidden;\n  }\n"]))),kn=R.a.div(C||(C=Object(S.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  svg {\n    max-width: 100%;\n    width: 100%;\n    max-height: 40%;\n    margin: auto;\n  }\n"]))),Cn=R.a.div(N||(N=Object(S.a)(["\n  display: flex;\n  justify-content: center;\n  &.initial-load {\n    position: absolute;\n    top: 45%;\n    left: 45%;\n    transform: translate(-45%, -45%);\n  }\n"])));e.default=function(n){var e=n.dictionary,t=Object(T.useRef)(null),i=Object(T.useRef)(null),a=Object(L.c)(),r=Object(L.W)(),o=Object(L.l)(),s=Object(z.d)((function(n){return n.session.user})),c=Object(z.d)((function(n){return n.chat.selectedChannel})),l=Object(z.d)((function(n){return n.global.isIdle})),u=Object(z.d)((function(n){return n.global.isBrowserActive})),d=Object(L.K)(c),p=Object(z.d)((function(n){return n.settings.user.CHAT_SETTINGS})).translate,h=Object(z.d)((function(n){return n.settings.user.GENERAL_SETTINGS})),f=h.chat_language,m=h.translated_channels,x=h.language,b=function(){if(!c.isFetching&&c.hasMore){a.channelActions.fetchingMessages(c,!0);var n={skip:0,limit:20};"undefined"!==typeof c.replies&&(n={skip:0===c.skip&&c.replies.length?c.replies.length:c.skip,limit:20}),a.fetch(c,n,(function(n,e){n&&a.channelActions.fetchingMessages(c,!1)}))}};Object(T.useEffect)((function(){c.hasMore&&0===c.skip&&b(),t.current&&t.current[c.id]&&t.current[c.id].firstItem&&i.current&&i.current.scrollToIndex({index:t.current[c.id].firstItem.originalIndex,align:"start",behavior:"instant"})}),[c.id]);var g=function(n){n&&(o>0||c.total_unread>0)&&a.channelActions.markAsRead(c)};return I.a.createElement(En,{id:"component-chat-thread",className:"component-chat-thread messages",tabIndex:"2","data-init":1,"data-channel-id":c.id},c.replies&&c.replies.length>0&&I.a.createElement(M.a,{ref:i,overscan:0,firstItemIndex:c.replyCount?c.replyCount-c.replies.length:100-c.replies.length,initialTopMostItemIndex:c.replies.length-1,data:c.replies.sort((function(n,e){return n.created_at.timestamp-e.created_at.timestamp===0?n.id-e.id:n.created_at.timestamp-e.created_at.timestamp})),startReached:b,atBottomStateChange:function(n){return g(n)},followOutput:function(n){return n?!l&&u&&document.hasFocus():d&&c.id===d.id?!(d&&d.replies.length!==c.replies.length&&c.replies.length-d.replies.length>1)&&(c.last_reply&&c.last_reply.user&&c.last_reply.user.id===s.id):void 0},itemsRendered:function(n){return function(n){n.length&&(t.current=Object(F.a)(Object(F.a)({},t.current&&Object(F.a)({},t.current)),{},Object(B.a)({},c.id,{firstItem:n[0]})))}(n)},itemContent:function(n,t){return I.a.createElement(jn,{index:n,actualIndex:c.replyCount?c.replies.length-(c.replyCount-n):n,reply:t,lastReply:c.replies[c.replies.length-1],dictionary:e,chatMessageActions:a,timeFormat:r,translate:p,language:x,translated_channels:m,chat_language:f})}}),c.replies&&0===c.replies.length&&!c.hasMore&&I.a.createElement(kn,{className:"no-reply-container"},I.a.createElement(P.q,{icon:3})),c.isFetching&&c.hasMore&&0===c.skip&&I.a.createElement(Cn,{className:"initial-load"},I.a.createElement(P.j,null)))}}}]);