(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[11],{744:function(n,e,t){"use strict";t.r(e);var i,r,o,a,s,l,c,u,f,h,p,d=t(6),m=t(2),x=t(171),g=t(0),b=t.n(g),w=(t(247),t(191)),y=t(39),v=t(3),A=t(7),O=t(9),_=t(343),E=t(344),k=t(345),j=v.a.div(i||(i=Object(m.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: ",";\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  min-height: ",";\n\n  &:after {\n    border: 10px solid #0000;\n    position: absolute;\n    top: 6px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 20px 10px;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    text-align: ",";\n    white-space: nowrap;\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  span.image-uploading {\n    display: none;\n  }\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n  a.a_fancy { \n    border-radius: 5px !important;\n    background-color: #FFF !important;\n    box-shadow: 0 1px 1px 0 rgba(0,0,0,0.11) !important; \n    text-decoration: none !important;\n    display: inline-block;\n    height: auto !important;\n    padding:5px 10px;\n    margin-bottom: 5px;\n    color: #000 !important;\n    font-family: Inter !important;\n    font-size: 13px !important;\n    letter-spacing: 0 !important;\n    line-height: 21px !important;\n    margin-right: 1pt;\n    margin-left: 1pt;\n  }\n"])),(function(n){return n.hasFiles?"3px":"6px 9px 8px 9px"}),(function(n){return n.isAuthor?"#7A1B8B":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#000000"}),(function(n){return n.hasGif?"150px":"33px"}),(function(n){return n.isAuthor?"right: -16px":"left: -15px"}),(function(n){return n.isAuthor?"#7A1B8B":"#0000"}),(function(n){return n.isAuthor?"#0000":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#ffffff":"#AAB0C8"}),(function(n){return!0===n.isForwardedMessage&&"top: -40px;"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.showAvatar&&!1===n.hideBg||n.hasRemoveOnDlFiles?"#a7abc3":"#0000"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.isAuthor?"#ffffffe6":"#AAB0C8"})),F=v.a.div(r||(r=Object(m.a)(["\n  background: ",";\n  border-radius: 6px;\n  margin: 4px -4px 4px -4px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: 7px -7px 10px -7px;\n    padding: 7px;\n  }\n"])),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return n.hasFiles?"210px":"auto"}),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return!n.isEmoticonOnly&&"content: ''"})),B=v.a.div(o||(o=Object(m.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]))),C=v.a.div(a||(a=Object(m.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"])),(function(n){return n.isAuthor?"#ffffffe6":"#000000"}),(function(n){return n.isAuthor?"#ffffffe6":"#8C3B9B"})),q=Object(v.a)(_.a)(s||(s=Object(m.a)(["\n  img {\n    cursor: pointer;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: #972c86;\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"])),(function(n){return n.isAuthor?Object(x.hexToCSSFilter)("#ffffff").filter:Object(x.hexToCSSFilter)("#8C3B9B").filter}),(function(n){return n.isAuthor?Object(x.hexToCSSFilter)("#fff").filter:Object(x.hexToCSSFilter)("#0056b3").filter}),(function(n){return n.hasMessage&&""})),S=v.a.span(l||(l=Object(m.a)(["\n  max-width: ",";\n  padding: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 991.99px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"])),(function(n){return n.hasFiles?"200px":"auto"}),(function(n){return n.hasFiles?"7px 4px 5px 6px":""}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#ffffff99":"#7a1b8b"}),(function(n){return n.isAuthor?"#FFF":"#828282"}),(function(n){return n.isAuthor?"#ffffff":"#7a1b8b"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"})),M=v.a.div(c||(c=Object(m.a)(["\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"])),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"left":"right"})),z=v.a.div(u||(u=Object(m.a)(["\n  ","\n\n  .reply-author {\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"])),(function(n){return!n.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(n){return n.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-left-color: #f0f0f0;\n        position: absolute;\n        top: 6px;\n        left: -15px;\n        z-index: 1;\n        ").concat((function(n){return!0===n.isAuthor&&"\n            left: auto;\n            right: -15px;\n            border-left-color: red;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(n){return n.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(n){return n.isAuthor,"#ff4444"})),N=v.a.div(f||(f=Object(m.a)(["\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n    flex-flow: column;\n    justify-content: center;\n  }\n  .reply-date.updated {\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"])),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"0 10px 0 0":"0 0 0 10px"})),L=v.a.span(h||(h=Object(m.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"])),(function(n){return n.isAuthor?"right: 100%;":"left: 100%;"})),T=v.a.span(p||(p=Object(m.a)(["\n  padding: ",";\n  font-weight: 500;\n  color: #929496;\n  &.important {\n    font-weight: 600;\n    color: #191c20;\n  }\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"])),(function(n){return n.isEmoticonOnly||n.isGifOnly||!0===n.hasFiles?"3px 9px 3px 9px":"0"})),R=[.1,.2,.3,.4,.5,.6,.7,.8,.9];e.default=function(n){var e=n.reply,t=n.showAvatar,i=n.selectedChannel,r=n.showGifPlayer,o=n.isAuthor,a=n.addMessageRef,s=n.user,l=n.isLastChat,c=n.chatMessageActions,u=n.timeFormat,f=n.chatSettings,h=n.isLastChatVisible,p=n.dictionary,m=n.users,x=n.translated_channels,v=n.chat_language,_=n.translate,I=n.language,G=n.loadReplies,D=Object(y.g)();Object(k.a)({message:e,actions:c}),Object(E.a)({message:e,isAuthor:o,translate:i.is_translate,chat_language:v,actions:c});var V=Object(O.d)({reply:e,dictionary:p,isAuthor:o,user:s,selectedChannel:i,users:m,translate:_,language:I,translated_channels:x,chat_language:v}),P=V.quoteAuthor,H=V.quoteBody,J=V.replyBody,Y=V.hasMessage,K=V.isGifOnly,Q=V.isEmoticonOnly,U=e.files.length>0,W=e.files.some((function(n){return n.remove_on_download})),X={container:Object(g.useRef)(null)},Z=Object(g.useRef)(null),$=Object(w.b)({threshold:1}),nn=Object(d.a)($,2),en=nn[0],tn=nn[1],rn=Object(w.b)({threshold:R,skip:!l}),on=Object(d.a)(rn,3),an=on[0],sn=on[1],ln=on[2],cn=function(n){return n.preventDefault(),D.push(n.currentTarget.dataset.href),!1};Object(g.useEffect)((function(){var n=X.container.current.querySelector("a.push");return n&&n.addEventListener("click",cn,!0),function(){n&&n.removeEventListener("click",cn,!0)}}),[]),Object(g.useEffect)((function(){"object"===typeof D.location.state&&D.location.state&&D.location.state.focusOn===e.code&&X.container.current&&Z.current&&(X.container.current.scrollIntoView({block:"center"}),Z.current&&Z.current.classList.add("pulse"),D.push(D.location.pathname,null))}),[D.location.state,X.container.current,Z.current]),Object(g.useEffect)((function(){a&&tn&&G&&G()}),[a,tn,G]),Object(g.useEffect)((function(){l&&ln&&(ln.boundingClientRect.height-ln.intersectionRect.height>=16?h&&c.setLastMessageVisiblility({status:!1}):h||c.setLastMessageVisiblility({status:!0}))}),[l,ln,h,sn]);var un=e.user&&m[e.user.id]&&"external"===m[e.user.id].type&&!o;return b.a.createElement(j,{ref:X.container,tabIndex:e.id,hasFiles:U,className:"chat-bubble ql-editor ".concat(e.is_important&&"important"," ").concat(un&&"external-chat"),showAvatar:t,isAuthor:o,hideBg:Q||K||U&&!Y,theme:f.chat_message_theme,hasGif:r,hasRemoveOnDlFiles:W},b.a.createElement(b.a.Fragment,null,e.is_transferred&&b.a.createElement(L,{className:"small",isAuthor:o},b.a.createElement(A.s,{icon:"corner-up-right"}),p.forwardedMessage),b.a.createElement(M,{ref:a?en:null,className:"chat-content-clap",isAuthor:o},b.a.createElement(z,{showAvatar:t,isAuthor:o,isEmoticonOnly:Q,className:"chat-content animated slower",ref:Z},!o&&t&&b.a.createElement(b.a.Fragment,null,b.a.createElement(T,{isEmoticonOnly:Q,hasFiles:U,isGifOnly:K,className:"chat-name-not-author-mobile ".concat(e.is_important&&"important")},"BOT"===e.user.type&&e.user.code&&e.user.code.includes("huddle")?e.user.name.substr(0,e.user.name.length/2):e.user.name)),e.quote&&e.quote.body&&!e.is_deleted&&(void 0!==e.quote.user_id||void 0!==e.quote.user)&&b.a.createElement(F,{className:"quote-container",showAvatar:t,isEmoticonOnly:Q,hasFiles:U,theme:f.chat_message_theme,onClick:function(n){if(e.quote){var t=document.querySelector(".chat-list-item-".concat(e.quote.id));t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},isAuthor:o},e.quote.user_id===s.id?b.a.createElement(B,{theme:f.chat_message_theme,isAuthor:!0},"You"):b.a.createElement(B,{theme:f.chat_message_theme,isAuthor:e.quote.user_id===s.id},P),b.a.createElement(C,{className:"quote-content",theme:f.chat_message_theme,isAuthor:o,dangerouslySetInnerHTML:{__html:H}})),e.files.length>0&&!e.is_deleted&&b.a.createElement(q,{dictionary:p,hasMessage:Y,isAuthor:o,theme:f.chat_message_theme,files:e.files,reply:e,type:"chat",topic_id:"TOPIC"===i.type?i.entity_id:null}),Y&&b.a.createElement("span",{ref:l?an:null},b.a.createElement(S,{hasFiles:U,theme:f.chat_message_theme,isAuthor:o,className:"reply-content ".concat(Q?"emoticon-body":""," ").concat(e.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:{__html:J}})),r&&b.a.createElement(A.c,{body:e.body,autoplay:!0}))),b.a.createElement(N,{className:"chat-timestamp",isAuthor:o},b.a.createElement("span",{className:"reply-date created"},b.a.createElement("span",null,u.todayOrYesterdayDate(e.created_at.timestamp)),W&&b.a.createElement("span",null,p.removeOnDownload)))),n.children)}}}]);