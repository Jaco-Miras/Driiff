(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[3],{998:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t(0),o=t.n(r),i=t(5),c=t(4),s=t(11),l=t(48),d=t(13);function m(){var e=Object(a.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return m=function(){return e},e}function u(){var e=Object(a.a)([""]);return u=function(){return e},e}var p=i.b.div(u()),f=i.b.span(m(),(function(e){return e.active&&"\n        background: 0 0;\n        color: ".concat(e.theme.colors.secondary,';\n        &:after {\n          content: "";\n          width: 3px;\n          height: 100%;\n          background-color: ').concat(e.theme.colors.secondary,";\n          display: block;\n          position: absolute;\n          top: 0;\n          animation: fadeIn 0.15s linear;\n          left: 0;\n        }\n        .dark & {\n          color: ").concat(e.theme.colors.third,";\n        }\n    ")})),E=o.a.memo((function(e){var n=e.className,t=Object(l.i)(),a=Object(s.kb)()._t,r=Object(s.fb)(),i=Object(c.c)(),m={statusToday:a("REMINDER.STATUS_TODAY","Today"),statusAll:a("REMINDER.STATUS_ALL","ALL"),statusExpired:a("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:a("REMINDER.STATUS_UPCOMING","Upcoming"),statusOverdue:a("REMINDER.STATUS_OVERDUE","Overdue"),addedByMe:a("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:a("REMINDER.ADDED_BY_OTHERS","Added by others")},u=function(e){document.body.classList.remove("mobile-modal-open")};return o.a.createElement(p,{className:"todo-sidebar bottom-modal-mobile ".concat(n)},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){var e=function(e,n){i(Object(d.O)(e,n))};!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(t,(function(e,t){e&&r.error(m.toasterGeneraError),t&&r.success(o.a.createElement("span",{dangerouslySetInnerHTML:{__html:m.toasterCreateTodo}})),a(e,t),n(e,t)}))},c={type:"video_reminder",actions:{onSubmit:a},videoMeeting:!0,params:t};i(Object(d.a)(c))}()}},"Create meeting")),o.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},o.a.createElement("div",{className:"list-group list-group-flush"},o.a.createElement(f,{onClick:u,"data-filter":"",active:!1,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),m.statusAll),o.a.createElement(f,{onClick:u,"data-filter":"TODAY",active:!1,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"TODAY"},o.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),m.statusToday)),o.a.createElement(f,{onClick:u,"data-filter":"NEW",active:!1,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"NEW"},o.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),m.statusUpcoming)),o.a.createElement(f,{onClick:u,"data-filter":"ASSIGNED_TO_OTHERS",active:!1,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},o.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),m.addedByMe)),o.a.createElement(f,{onClick:u,"data-filter":"ADDED_BY_OTHERS",active:!1,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},o.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),m.addedByOthers))))))})),b=t(7),g=t(12);function h(){var e=Object(a.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return h=function(){return e},e}var v=i.b.div(h()),N=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(r.useState)(""),i=Object(b.a)(a,2),c=i[0],s=i[1];return o.a.createElement(v,{className:"todos-header app-action ".concat(t)},o.a.createElement("div",{className:"action-left"},o.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},o.a.createElement(g.u,{icon:"menu"}))),o.a.createElement("div",{className:"action-right"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",onChange:function(e){s(e.target.value)},value:c,className:"form-control",placeholder:"search meetings","aria-describedby":"button-addon1"}),""!==c.trim()&&o.a.createElement("button",{onClick:function(){s("")},className:"btn-cross",type:"button"},o.a.createElement(g.u,{icon:"x"})),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},o.a.createElement(g.u,{icon:"search"}))))))})),O=t(887),_=t(23),R=t(53);function T(){var e=Object(a.a)(["\n  @media all and (max-width: 480px) {\n    flex-flow: row wrap;\n  }\n"]);return T=function(){return e},e}function D(){var e=Object(a.a)(["\n  min-width: 142px;\n  text-align: right;\n  @media all and (max-width: 480px) {\n    min-width: 70px;\n  }\n"]);return D=function(){return e},e}function k(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]);return k=function(){return e},e}function x(){var e=Object(a.a)(["\n  max-height: 50px;\n  > * {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]);return x=function(){return e},e}function y(){var e=Object(a.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .driff-talk-label {\n    text-align: left;\n    span {\n      display: inline-flex;\n      align-items: center;\n    }\n    svg {\n      margin-left: 5px;\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n  .todo-title {\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n    .avatars-container {\n      min-width: 40px;\n    }\n  }\n"]);return y=function(){return e},e}function A(){var e=Object(a.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]);return A=function(){return e},e}function S(){var e=Object(a.a)(["\n  width: 16px;\n  cursor: pointer;\n"]);return S=function(){return e},e}var I=Object(i.b)(g.u)(S()),w=i.b.div(A()),M=i.b.li(y()),C=i.b.div(x()),j=i.b.div(k()),U=(i.b.div(D()),i.b.div(T())),L=function(e){var n=e.todo,t=e.todoActions,a=e.handleLinkClick,i=e.dictionary,s=e.todoFormat,l=e.todoFormatShortCode,d=e.showWsBadge,m=e.handleRedirectToWorkspace,u=Object(c.c)(),p=Object(c.d)((function(e){return e.files.fileBlobs})),f=Object(r.useRef)(null);Object(r.useEffect)((function(){f.current&&f.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&p[a.id]&&(e.setAttribute("src",p[a.id]),e.setAttribute("data-id",a.id))}else{e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&p[r.id]&&(e.setAttribute("src",p[r.id]),e.setAttribute("data-id",r.id))}}));var e=n.files.filter((function(e){return e.type&&e.type.includes("image")}));e.length&&e.forEach((function(e){p[e.id]||R.sessionService.loadSession().then((function(n){var t=n.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:t,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var t=URL.createObjectURL(n);!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};u(Object(_.pb)(e,n))}({id:e.id,src:t})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[n.files,n.description,f]);var E=function(e){e.stopPropagation(),e.preventDefault(),t.updateFromModal(n)},b=n.assigned_to&&n.assigned_to.id!==n.user||null!==n.workspace&&null===n.assigned_to||null===n.workspace&&null!==n.assigned_to&&n.assigned_to.id!==n.user||n.assigned_to&&n.author&&n.assigned_to.id!==n.author.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(M,{className:"reminder-list"},n.workspace&&d&&o.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return m(e,n)}},o.a.createElement("span",{className:"badge ml-4 badge-light border-0"},n.workspace.name)),o.a.createElement("div",{className:"d-flex align-items-center reminder-content"},o.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3",onClick:function(e){e.preventDefault(),n.link_type?a(e,n):t.updateFromModal(n)}},o.a.createElement("span",{className:"todo-title"},n.title),n.description&&o.a.createElement(C,{ref:f,className:"text-truncate",dangerouslySetInnerHTML:{__html:n.description}})),o.a.createElement(w,{className:"hover-btns ml-1"},o.a.createElement(I,{icon:"pencil",onClick:E}),o.a.createElement(I,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault(),t.removeConfirmation(n)}})),o.a.createElement(U,{className:"d-flex align-items-center ml-auto"},o.a.createElement(j,null,o.a.createElement(I,{icon:"calendar"}),o.a.createElement(g.v,{content:n.remind_at?s(n.remind_at.timestamp):i.addDate},o.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(n)),onClick:E},n.remind_at?l(n.remind_at.timestamp,"MM/DD/YYYY"):i.addDate))),o.a.createElement("div",{className:"avatars-container"},null!==n.author&&o.a.createElement(g.a,{name:n.author.name,tooltipName:i.reminderAuthor,imageLink:n.author.profile_image_link,id:n.author.id}),b&&o.a.createElement(o.a.Fragment,null,o.a.createElement(I,{icon:"chevron-right"}),o.a.createElement(g.a,{name:n.assigned_to?n.assigned_to.name:n.workspace.name,tooltipName:i.reminderAssignedTo,imageLink:n.assigned_to?n.assigned_to.profile_image_link:n.workspace&&n.workspace.team_channel?n.workspace.team_channel.icon_link:null,id:n.assigned_to?n.assigned_to.id:n.workspace.id,type:n.assigned_to?"USER":"TOPIC",noDefaultClick:!n.assigned_to})))))))};function P(){var e=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]);return P=function(){return e},e}function B(){var e=Object(a.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n']);return B=function(){return e},e}var Y=i.b.div(B(),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),H=Object(i.b)(O.a)(P()),F=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspaceName,i=void 0===a?null:a,d=Object(s.kb)()._t,m={searchInputPlaceholder:d("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:d("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:d("REMINDER.TYPE_POST","Post"),typeChat:d("REMINDER.TYPE_CHAT","Chat"),typePostComment:d("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:d("REMINDER.STATUS_TODAY","Today"),statusAll:d("REMINDER.STATUS_ALL","ALL"),statusExpired:d("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:d("REMINDER.STATUS_UPCOMING","Upcoming"),statusOverdue:d("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:d("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:d("REMINDER.STATUS_DONE","Done"),emptyText:d("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:d("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),actionReschedule:d("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:d("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:d("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:d("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:d("REMINDER.ACTION_REMOVE","Remove"),actionFilter:d("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:d("REMINDER.AUTHOR","Author"),reminderAssignedTo:d("REMINDER.ASSIGNED_TO","Assigned to"),todo:d("REMINDER.TO_DO","To do"),done:d("REMINDER.DONE","Done"),addDate:d("REMINDER.ADD_DATE","Add date"),addedByMe:d("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:d("REMINDER.ADDED_BY_OTHERS","Added by others"),sortAlpha:d("TODO_SORT_OPTIONS.ALPHA","Sort by alphabetical order"),sortDate:d("TODO_SORT_OPTIONS.DATE","Sort by due date")},u=Object(s.hb)(!0),p=u.getVideoReminders,f=u.action,E=u.isLoaded,g=Object(s.eb)(),h=g.todoFormat,v=g.todoFormatShortCode,N=Object(c.d)((function(e){return e.global.meetings})),O=p({filter:{status:N.filter,search:N.search}}),_=O.filter((function(e){return"DONE"!==e.status})),R=O.filter((function(e){return"DONE"===e.status})),T=Object(s.S)(),D=Object(l.i)(),k=function(e,n){e.preventDefault(),f.updateFromModal(n)},x=Object(r.useState)({todo:!0,done:!1}),y=Object(b.a)(x,2),A=y[0],S=y[1],I=Object(r.useState)(!0),w=Object(b.a)(I,2),M=w[0],C=w[1],j=function(e,n){e.preventDefault(),e.stopPropagation(),T.toWorkspace(n.workspace,"reminders")},U=function(){C(!M)},P=function(e){return Object.values(e).sort((function(e,n){return M?e.remind_at&&n.remind_at?e.remind_at.timestamp-n.remind_at.timestamp:e.remind_at&&null===n.remind_at?-1:null===e.remind_at&&n.remind_at?1:null===e.remind_at&&null===n.remind_at?e.title.localeCompare(n.title):void 0:e.title.localeCompare(n.title)}))};return o.a.createElement(Y,{className:"todos-body card app-content-body mb-4 ".concat(t),active:!_.length},!E&&o.a.createElement("div",{className:"card-body d-flex justify-content-center align-items-center",style:{minHeight:"400px"}},o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),E&&o.a.createElement("div",{className:"card-body"},o.a.createElement(H,{active:A.todo,dictionary:m,handleHeaderClick:function(){S({todo:!A.todo,done:A.done})},headerText:"Meetings",items:P(_),params:D,workspaceName:i,sortByDate:M,handleSort:U,ItemList:function(e){return o.a.createElement(L,{key:e.id,todo:e,todoActions:f,dictionary:m,handleLinkClick:k,todoFormat:h,todoFormatShortCode:v,showWsBadge:!D.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:j})}}),o.a.createElement(H,{active:A.done,dictionary:m,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){S({todo:A.todo,done:!A.done})},headerText:"Past meetings",items:P(R),params:D,workspaceName:null,sortByDate:M,handleSort:U,ItemList:function(e){return o.a.createElement(L,{key:e.id,todo:e,todoActions:f,dictionary:m,handleLinkClick:k,todoFormat:h,todoFormatShortCode:v,showWsBadge:!D.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:j})}})))}));function W(){var e=Object(a.a)(["\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"]);return W=function(){return e},e}var G=i.b.div(W());n.default=o.a.memo((function(e){var n=e.isWorkspace,t=void 0!==n&&n;return o.a.createElement(G,{className:"container-fluid h-100 fadeIn"},o.a.createElement("div",{className:"row app-block"},o.a.createElement(E,{className:"col-lg-3"}),o.a.createElement("div",{className:"col-lg-9 app-content mb-4"},o.a.createElement("div",{className:"app-content-overlay"}),o.a.createElement(N,null),o.a.createElement(F,{isWorkspace:t}))))}))}}]);