(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[4],{935:function(e,a,t){"use strict";t.r(a);var n=t(11),c=t(1),l=t(7),i=t(6),r=t(0),o=t.n(r),m=t(4),s=t(49),d=t(67),u=t(98),E=t(182),b=t(859),f=t(861),v=t(858),O=t(860),p=t(282),h=t(5),T=t(14),_=t(13),N=t(12),j=t(66),x=t(296),y=t(10),g=t(19),A=t(46),I=t(77),k=t(21),P=function(e){var a=e.user,t=Object(y.ib)(),n=Object(y.nb)()._t,c={searchTeamsPlaceholder:n("PLACEHOLDER.SEARCH_TEAMS","Search teams"),searchPeoplePlaceholder:n("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:n("PEOPLE.EXTERNAL","External"),peopleInvited:n("PEOPLE.INVITED","Invited"),assignAsAdmin:n("PEOPLE.ASSIGN_AS_ADMIN","Assign as administrator"),assignAsSupervisor:n("PEOPLE.ASSIGN_AS_SUPERVISOR","Assign as supervisor"),assignAsEmployee:n("PEOPLE.ASSIGN_AS_EMPLOYEE","Assign as employee"),archiveUser:n("PEOPLE.ARCHIVE_USER","Archive user"),unarchiveUser:n("PEOPLE.UNARCHIVE_USER","Unarchive user"),showInactiveMembers:n("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),archive:n("PEOPLE.ARCHIVE","Archive"),unarchive:n("PEOPLE.UNARCHIVE","Un-archive"),archiveConfirmationText:n("PEOPLE.ARCHIVE_CONFIRMATION_TEXT","Are you sure you want to archive this user? This means this user can't log in anymore and will be removed from all its workspaces and group chats. If you want to remove him also from all chats and workspaces please use archive this user."),unarchiveConfirmationText:n("PEOPLE.UNARCHIVE_CONFIRMATION_TEXT","Are you sure you want to un-archive this user? The user will be re-added to its connected workspaces and group chats."),cancel:n("BUTTON.CANCEL","Cancel"),activateUser:n("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:n("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:n("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:n("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),activate:n("PEOPLE.ACTIVATE","Activate"),deactivate:n("PEOPLE.DEACTIVATE","Deactivate"),moveToInternal:n("PEOPLE.MOVE_TO_INTERNAL","Move to internal"),moveToExternal:n("PEOPLE.MOVE_TO_EXTERNAL","Move to external"),deleteUser:n("PEOPLE.DELETE_USER","Delete user"),deleteConfirmationText:n("PEOPLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this user? This means this user can't log in anymore."),btnInviteUsers:n("BUTTON.INVITE_USERS","Invite users"),resendInvitation:n("PEOPLE.RESEND_INVITATION","Resend invitation"),showInvited:n("PEOPLE.SHOW_INVITED","Show invited"),removeInvitedInternal:n("PEOPLE.REMOVE_INVITED_INTERNAL","Remove invited internal user"),sendInviteManually:n("PEOPLE.SEND_INVITE_MANUALLY","Send invite manually"),deleteInvitedUser:n("PEOPLE.DELETE_INVITED_USER","Delete invited user"),deleteInvitedConfirmationText:n("PEOPLE.DELETE_INVITED_CONFIRMATION_TEXT","Are you sure you want to remove this invited user?"),toasterRemoveInvited:n("TOASTER.REMOVE_INVITED_USER","Removed invited user"),btnTeam:n("BUTTON.TEAM","Team"),showTeams:n("PEOPLE.SHOW_TEAMS","Show teams"),editTeam:n("TEAM_OPTIONS.EDIT_TEAM","Edit team"),removeTeam:n("TEAM_OPTIONS.REMOVE_TEAM","Remove team"),removeTeamHeader:n("TEAM_MODAL.REMOVE_TEAM_HEADER","Remove team"),removeTeamBtn:n("BUTTON.REMOVE_TEAM","Remove team"),removeTeamConfirmation:n("TEAM_MODAL.REMOVE_TEAM_BODY","Are you sure you want to remove this team?"),addUserToTeam:n("PEOPLE.ADD_USER_TEAM","Add user to team"),removeTeamMember:n("PEOPLE.REMOVE_TEAM_MEMBER","Remove team member"),team:n("TEAM","Team"),internalAccounts:n("CHART.INTERNAL_ACCOUNTS","Accounts"),guestAccounts:n("CHART.GUEST_ACCOUNTS","Guest accounts"),totalAccounts:n("LABEL.TOTAL_ACCOUNTS","Total accounts"),moveToInternalConfirmation:n("PEOPLE.MOVE_TO_INTERNAL_CONFIRMATION","Are you sure you want to change user to internal account"),moveToExternalConfirmation:n("PEOPLE.MOVE_TO_EXTERNAL_CONFIRMATION","Are you sure you want to change user to guest account")},l=Object(m.d)((function(e){return e.users.usersWithoutActivity})),i=Object(m.d)((function(e){return e.admin.notifications})),r=Object(m.d)((function(e){return e.admin.notificationsLoaded})),s=Object(y.sb)(),d=function(){var e={type:"confirmation",headerText:a.active?c.archive:c.unarchive,submitText:a.active?c.archive:c.unarchive,cancelText:c.cancel,bodyText:a.active?c.archiveConfirmationText:c.unarchiveConfirmationText,actions:{onSubmit:function(){a.active?s.archive({user_id:a.id},(function(e,n){e||t.success("".concat(a.name," archived."))})):s.unarchive({user_id:a.id},(function(e,n){e||t.success("".concat(a.name," unarchived."))}))}}};s.showModal(e)},u=function(){var e={type:"confirmation",headerText:a.active?c.deactivate:c.activate,submitText:a.active?c.deactivate:c.activate,cancelText:c.cancel,bodyText:a.active?c.deactivateConfirmationText:c.activateConfirmationText,actions:{onSubmit:function(){a.active&&!a.deactivate?s.deactivate({user_id:a.id},(function(e,n){e||t.success("".concat(a.name," deactivated."))})):0===a.active&&a.deactivate&&s.activate({user_id:a.id},(function(e,n){e||t.success("".concat(a.name," activated."))}))}}};s.showModal(e)};return o.a.createElement(I.c,{className:"ml-2",width:240,moreButton:"more-horizontal"},a.active&&"internal"===a.type&&a.role&&1!==a.role.id&&a.hasOwnProperty("has_accepted")&&a.has_accepted&&o.a.createElement("div",{onClick:function(){var e={user_id:a.id,role_id:1};s.updateUserRole(e)}},c.assignAsAdmin),a.active&&"internal"===a.type&&a.role&&2!==a.role.id&&a.hasOwnProperty("has_accepted")&&a.has_accepted&&o.a.createElement("div",{onClick:function(){var e={user_id:a.id,role_id:2};s.updateUserRole(e)}},c.assignAsSupervisor),a.active&&"internal"===a.type&&a.role&&3!==a.role.id&&a.hasOwnProperty("has_accepted")&&a.has_accepted&&o.a.createElement("div",{onClick:function(){var e={user_id:a.id,role_id:3};s.updateUserRole(e)}},c.assignAsEmployee),a.active&&"external"===a.type&&o.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:c.moveToInternal,submitText:c.moveToInternal,cancelText:c.cancel,bodyText:c.moveToInternalConfirmation,actions:{onSubmit:function(){var e={id:a.id,type:"internal"};s.updateType(e,(function(e,a){e||t.success("".concat(n("TOASTER.CHANGE_USER_TYPE","Change user type to ::type::",{type:"internal"})))}))}}};s.showModal(e)}},c.moveToInternal),a.active&&"internal"===a.type&&o.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:c.moveToExternal,submitText:c.moveToExternal,cancelText:c.cancel,bodyText:c.moveToExternalConfirmation,actions:{onSubmit:function(){var e={id:a.id,type:"external"};s.updateType(e,(function(e,a){e||t.success("".concat(n("TOASTER.CHANGE_USER_TYPE","Change user type to ::type::",{type:"external"})))}))}}};s.showModal(e)}},c.moveToExternal),0!==a.active||a.deactivate?null:o.a.createElement("div",{onClick:d},c.unarchiveUser),a.active&&a.hasOwnProperty("has_accepted")&&a.has_accepted?o.a.createElement("div",{onClick:d},c.archiveUser):null,!a.deactivate&&a.active&&a.hasOwnProperty("has_accepted")&&a.has_accepted?o.a.createElement("div",{onClick:u},c.deactivateUser):null,0===a.active&&a.deactivate&&0===a.active&&a.hasOwnProperty("has_accepted")&&a.has_accepted?o.a.createElement("div",{onClick:u},c.activateUser):null,a.active&&a.hasOwnProperty("has_accepted")&&a.has_accepted&&l.some((function(e){return e.user_id===a.id}))||a.hasOwnProperty("has_accepted")&&!a.has_accepted&&"external"===a.type?o.a.createElement("div",{onClick:function(e){var a={type:"confirmation",headerText:c.deleteUser,submitText:c.deleteUser,cancelText:c.cancel,bodyText:c.deleteConfirmationText,actions:{onSubmit:function(){s.deleteUserAccount({user_id:e.id},(function(a,n){a||t.success("".concat(e.name," deleted."))}))}}};s.showModal(a)}},c.deleteUser):null,a.active&&a.hasOwnProperty("has_accepted")&&!a.has_accepted&&r&&i.email&&o.a.createElement("div",{onClick:function(){var e={user_id:a.id,email:a.email};s.resendInvitationEmail(e,(function(e,c){e?t.error(n("TOASTER.RESEND_INVITATION_FAILED","Invitation failed")):t.success(n("TOASTER.RESEND_INVITATION_SUCCESS","Invitation sent to ::email::",{email:a.email}))}))}},c.resendInvitation),a.active&&a.hasOwnProperty("has_accepted")&&!a.has_accepted&&"internal"===a.type&&o.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:c.deleteInvitedUser,submitText:c.deleteInvitedUser,cancelText:c.cancel,bodyText:c.deleteInvitedConfirmationText,actions:{onSubmit:function(){s.deleteInvitedInternalUser({user_id:a.id},(function(e,a){e||t.success("".concat(c.toasterRemoveInvited))}))}}};s.showModal(e)}},c.removeInvitedInternal),a.active&&a.hasOwnProperty("has_accepted")&&!a.has_accepted&&"internal"===a.type&&o.a.createElement("div",{onClick:function(){Object(k.b)(t,a.invite_link)}},c.sendInviteManually),a.active&&"internal"===a.type&&o.a.createElement("div",{onClick:function(){var e={type:"add-to-team",user:a};s.showModal(e)}},c.addUserToTeam))},S=t(35),w=t.n(S);function C(){var e=Object(i.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .row-user-profile-panel {\n    justify-content: center;\n\n    .avatar {\n      width: 68px;\n      height: 68px;\n    }\n\n    input.designation {\n      &::-webkit-input-placeholder {\n        font-size: 12px;\n      }\n      &:-ms-input-placeholder {\n        font-size: 12px;\n      }\n      &::placeholder {\n        font-size: 12px;\n      }\n    }\n\n    .col-label {\n      max-width: 130px;\n\n      @media only screen and (min-width: 1200px) {\n        max-width: 180px;\n      }\n    }\n  }\n\n  .close {\n    border-radius: 100%;\n    padding: 2px;\n  }\n\n  label {\n    padding: 5px 10px;\n    border-radius: 6px;\n    width: 100%;\n  }\n\n  .btn-toggle {\n    &:hover {\n      .input-group-text {\n        border: 1px solid #e1e1e1;\n        background: #fff;\n        color: ",";\n      }\n    }\n    .input-group-text {\n      border: 1px solid #",";\n      background: ",";\n      color: #fff;\n    }\n    svg {\n      cursor: pointer;\n    }\n  }\n\n  .avatar-container {\n    cursor: pointer;\n    position: relative;\n    width: 68px;\n    height: 68px;\n    margin: 0 auto;\n\n    .edit-avatar {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      background-color: #fff;\n      border-radius: 50px 50px 50px 50px;\n      height: 25px;\n      width: 25px;\n      padding: 5px;\n      border-color: rgba(0, 0, 0, 0.2);\n      color: #a5aeb3;\n      border-width: 1px;\n      color: #212529;\n      svg {\n        width: 1rem;\n        height: 1rem;\n      }\n    }\n    :hover {\n      svg {\n        color: ",";\n      }\n    }\n    .dark & {\n      svg {\n        color: #fff;\n      }\n    }\n  }\n\n  .form-group {\n    &.designation {\n      margin: 0 auto;\n      width: 66.66%;\n    }\n  }\n  .email-phone-container {\n    .input-group {\n      flex-wrap: ",";\n    }\n    .dropdown-menu.show {\n      left: unset !important;\n      right: 0;\n    }\n    input {\n      width: 100%;\n    }\n  }\n  .more-options {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n  }\n"]);return C=function(){return e},e}var R=h.b.div(C(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return"email"===e.registerMode?"unset":"wrap"})),L=/[a-zA-Z]/g;a.default=o.a.memo((function(e){var a,t,i,I,k,S,C=e.className,M=void 0===C?"":C,U=Object(h.c)(),D=Object(s.g)(),V=Object(m.c)(),F=Object(y.ib)(),B=Object(y.tb)(),H=B.users,G=B.loggedUser,Y=Object(y.qb)(),X=Y.checkEmail,q=Y.fetchById,W=Y.getReadOnlyFields,z=Y.getRequiredFields,Z=Y.update,K=Y.updateProfileImage,J=Y.fetchRoles,Q=Y.fetchUsersWithoutActivity,$=Object(y.rb)().selectUserChannel,ee=Object(m.d)((function(e){return e.users.roles})),ae=Object(m.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).dark_mode,te=H[e.match.params.id],ne=te&&G.id===te.id,ce=W(te?te.import_from:""),le=z(te?te.import_from:""),ie=Object(r.useState)(!1),re=Object(l.a)(ie,2),oe=re[0],me=re[1],se=Object(r.useState)(!1),de=Object(l.a)(se,2),ue=de[0],Ee=de[1],be=Object(r.useState)(!1),fe=Object(l.a)(be,2),ve=fe[0],Oe=fe[1],pe=Object(r.useState)(!1),he=Object(l.a)(pe,2),Te=he[0],_e=he[1],Ne=Object(r.useState)(te&&te.loaded?te:{}),je=Object(l.a)(Ne,2),xe=je[0],ye=je[1],ge=Object(r.useState)({valid:{},feedbackState:{},feedbackText:{}}),Ae=Object(l.a)(ge,2),Ie=Ae[0],ke=Ae[1],Pe=Object(r.useState)("email"),Se=Object(l.a)(Pe,2),we=Se[0],Ce=Se[1],Re=Object(r.useState)(null),Le=Object(l.a)(Re,2),Me=Le[0],Ue=Le[1],De=Object(r.useState)(H[e.match.params.id]?H[e.match.params.id].role.id:null),Ve=Object(l.a)(De,2),Fe=Ve[0],Be=Ve[1],He={dropZoneRef:Object(r.useRef)(null),first_name:Object(r.useRef)(null),password:Object(r.useRef)(null)},Ge=[{value:1,label:"Admin"},{value:2,label:"Supervisor"},{value:3,label:"Employee"}],Ye=Object(y.nb)()._t,Xe={companyName:Ye("PROFILE.COMPANY_NAME","Company name"),information:Ye("PROFILE.INFORMATION","Information"),firstName:Ye("PROFILE.FIRST_NAME","First name:"),middleName:Ye("PROFILE.MIDDLE_NAME","Middle name:"),lastName:Ye("PROFILE.LAST_NAME","Last name:"),password:Ye("PROFILE.PASSWORD","Password:"),position:Ye("PROFILE.POSITION","Position:"),city:Ye("PROFILE.CITY","City:"),address:Ye("PROFILE.ADDRESS","Address:"),zip_code:Ye("PROFILE.ZIP_POST_CODE","ZIP/POST code:"),phone:Ye("PROFILE.PHONE","Phone:"),email:Ye("LOGIN.EMAIL_PHONE","Email / Phone number"),edit:Ye("BUTTON.EDIT","Edit"),saveChanges:Ye("BUTTON.SAVE_CHANGES","Save changes"),cancel:Ye("BUTTON.CANCEL","Cancel"),clickToChangePassword:Ye("PROFILE.CLICK_TO_CHANGE_PASSWORD","Click to change your password"),external:Ye("PROFILE.EXTERNAL","External"),invalidPhoneNumber:Ye("FEEDBACK.INVALID_PHONE_NUMBER","Invalid phone number"),invalidEmail:Ye("FEEDBACK.INVALID_EMAIL","Invalid email format"),emailRequired:Ye("FEEDBACK.EMAIL_REQUIRED","Email is required."),accountType:Ye("PROFILE.ACCOUNT_TYPE","Account type"),lastLoggedIn:Ye("PROFILE.LAST_LOGGED_IN","Last Logged in"),invitedBy:Ye("PROFILE.INVITED_BY","Invited by")},qe=G&&"internal"===G.type&&te&&"external"===te.type&&1===te.active||G&&G.role&&G.role.id<=2,We=function(e){if("boolean"===typeof e)return e?"is-valid":"is-invalid"},ze=function(){me((function(e){return!e})),ye(Object(c.a)({},te)),ke({valid:{},feedbackState:{},feedbackText:{}}),Oe(!1)},Ze=function(e){if(null!==e.target){var a=e.target,t=a.name,l=a.value;ye((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(n.a)({},t,l.trim()))}))}},Ke=function(e){if(null!==e.target){var a=e.target,t=a.name,l=a.value;if(te[t]===xe[t])return void ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},Object(n.a)({},t,void 0)),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},Object(n.a)({},t,void 0)),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},Object(n.a)({},t,void 0))}}));"email"===t?le.includes(t)&&""===l.trim()?ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},Object(n.a)({},t,!1)),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},Object(n.a)({},t,!1)),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},Object(n.a)({},t,Xe.emailRequired))}})):""===l.trim()||T.a.test(l.trim())?X(xe.email,(function(e,a){a&&(a.data.status?ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},Object(n.a)({},t,!1)),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},Object(n.a)({},t,!1)),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},Object(n.a)({},t,"Email is already taken"))}})):ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},Object(n.a)({},t,!0)),feedbackState:Object(c.a)({},e.feedbackState),feedbackText:Object(c.a)({},e.feedbackText)}})))})):ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},Object(n.a)({},t,!1)),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},Object(n.a)({},t,!1)),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},Object(n.a)({},t,Xe.invalidEmail))}})):le.includes(t)?ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},Object(n.a)({},t,""!==l.trim())),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},Object(n.a)({},t,""!==l.trim())),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},Object(n.a)({},t,""===l.trim()?"Field is required.":""))}})):ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},Object(n.a)({},t,!0)),feedbackState:e.feedbackState,feedbackText:e.feedbackText}}))}},Je=function(){_e(!1)},Qe=function(e,a){ye((function(e){return Object(c.a)(Object(c.a)({},e),{},{profile_image_link:a})})),ke((function(a){return{valid:Object(c.a)(Object(c.a)({},a.valid),{},{profile_image_link:!0}),feedbackState:Object(c.a)({},a.feedbackState),feedbackText:Object(c.a)(Object(c.a)({},a.feedbackText),{},{profile_image_link:e})}})),me(!0),F.info(o.a.createElement(o.a.Fragment,null,"Click the ",o.a.createElement("b",null,"Save Changes")," button to update your profile image."))},$e=function(e){ye((function(a){return Object(c.a)(Object(c.a)({},a),{},{email:e})})),ke((function(e){return Object(c.a)(Object(c.a)({},e),{},{valid:Object(c.a)(Object(c.a)({},e.valid),{},{email:void 0}),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},{email:void 0}),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},{email:void 0})})}))};if(Object(r.useEffect)((function(){fetch("https://ipapi.co/json/").then((function(e){return e.json()})).then((function(e){Ue(e.country)})).catch((function(e,a){})),(!e.match.params.hasOwnProperty("id")||e.match.params.hasOwnProperty("id")&&!e.match.params.hasOwnProperty("name")&&parseInt(e.match.params.id)===G.id)&&D.push("/profile/".concat(G.id,"/").concat(Object(T.i)(G.name))),G.role.id<=2&&Q(),0===Object.keys(ee).length&&J()}),[]),Object(r.useEffect)((function(){var a=H[e.match.params.id]?H[e.match.params.id]:{};a.hasOwnProperty("loaded")?xe.id!==a.id&&ye(a):q(e.match.params.id)}),[e.match.params.id,H,ye]),Object(r.useEffect)((function(){"edit"===e.match.params.mode&&xe.id&&G.id===xe.id&&(D.push("/profile/".concat(xe.id,"/").concat(Object(T.i)(xe.name))),me(!0)),"view"===e.match.params.mode&&xe.id&&G.id===xe.id&&(D.push("/profile/".concat(xe.id,"/").concat(Object(T.i)(xe.name))),me(!1))}),[xe,e.match.params.mode]),Object(r.useEffect)((function(){ve&&He.password.current&&He.password.current.focus()}),[ve,He.password]),Object(r.useEffect)((function(){oe&&He.first_name.current&&(He.first_name.current.focus(),te&&"+"===te.email.charAt(0)&&!L.test(te.email)&&Ce("number"))}),[oe,He.first_name]),Object(r.useEffect)((function(){if($e("email"===we?"":void 0),te){var e="+"===te.email.charAt(0)&&!L.test(te.email);ye((function(a){return Object(c.a)(Object(c.a)({},a),{},{email:e&&"email"===we?"":te.email})}))}}),[we]),Object(r.useEffect)((function(){null===Fe&&H[e.match.params.id]&&Be(H[e.match.params.id].role.name)}),[Fe,H]),!H[e.match.params.id])return o.a.createElement(o.a.Fragment,null);var ea="";te&&(ea="+"===te.email.charAt(0)&&!L.test(te.email)&&"email"===we?"":te.email);return o.a.createElement(R,{className:"user-profile-panel container-fluid h-100 ".concat(M),registerMode:we},o.a.createElement("div",{className:"row row-user-profile-panel"},o.a.createElement("div",{className:"col-12 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"card"},G.role.id<=2&&G.id!==te.id&&o.a.createElement(P,{user:te}),o.a.createElement("div",{className:"card-body text-center",onDragOver:function(){Te||_e(!0)}},(ne||qe)&&o.a.createElement(j.a,{acceptType:"imageOnly",hide:!Te,ref:He.dropZoneRef,onDragLeave:Je,onDrop:function(e){!function(e){0===e.length?F.error("File type not allowed. Please use an image file."):e.length>1&&F.warning("Multiple files detected. First selected image will be used.");var a={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:Qe};V(Object(_.a)(a,(function(){Je()})))}(e.acceptedFiles)},onCancel:Je}),o.a.createElement("div",{className:"avatar-container"},o.a.createElement(N.a,{imageLink:xe.profile_image_link,name:xe.name?xe.name:xe.email,noDefaultClick:!0,forceThumbnail:!1}),(ne||qe)&&o.a.createElement("span",{className:"btn edit-avatar",onClick:function(){oe||me(!0),He.dropZoneRef.current.open()}},o.a.createElement(N.u,{icon:"pencil"}))),oe?o.a.createElement("h5",{className:"mb-1 mt-2"},xe.first_name," ",xe.middle_name," ",xe.last_name):o.a.createElement("h5",{className:"mb-1 mt-2"},te.first_name," ",te.middle_name," ",te.last_name),oe&&!ce.includes("designation")?o.a.createElement("div",{className:"text-muted small d-flex align-items-center mt-2"},o.a.createElement(g.h,{placeholder:"Job Title eg. Manager, Team Leader, Designer",className:"designation",name:"designation",onChange:Ze,onBlur:Ke,defaultValue:te.designation,isValid:Ie.feedbackState.designation,valid:Ie.feedbackText.designation})):o.a.createElement("p",{className:"text-muted small"},te.designation),o.a.createElement("div",{className:"col col-form my-lg-n3"},"external"===te.type&&Xe.external),G.id!==te.id&&o.a.createElement("div",{className:"d-flex justify-content-center"},""!==te.contact&&"internal"===G.type&&o.a.createElement("button",{className:"btn btn-outline-light mr-1"},o.a.createElement("a",{href:"tel:".concat(te.contact.replace(/ /g,"").replace(/-/g,""))},o.a.createElement(N.u,{className:"",icon:"phone"}))),"external"!==te.type&&"internal"===G.type&&o.a.createElement("button",{className:"ml-1 btn btn-outline-light"},o.a.createElement(N.u,{onClick:function(){!function(e){$(e)}(te)},icon:"message-circle"}))))),o.a.createElement("div",{className:"card"},oe?o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},Xe.information),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.firstName),o.a.createElement("div",{className:"col col-form"},ce.includes("first_name")?o.a.createElement(E.a,null,te.first_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:We(Ie.valid.first_name),innerRef:He.first_name,name:"first_name",onChange:Ze,onBlur:Ke,defaultValue:te.first_name}),o.a.createElement(x.a,{valid:Ie.feedbackState.first_name},Ie.feedbackText.first_name)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.middleName),o.a.createElement("div",{className:"col col-form"},ce.includes("middle_name")?o.a.createElement(E.a,null,te.middle_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:We(Ie.valid.middle_name),name:"middle_name",onChange:Ze,onBlur:Ke,defaultValue:te.middle_name}),o.a.createElement(x.a,{valid:Ie.feedbackState.middle_name},Ie.feedbackText.middle_name)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.lastName),o.a.createElement("div",{className:"col col-form"},ce.includes("last_name")?o.a.createElement(E.a,null,te.last_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:We(Ie.valid.last_name),name:"last_name",onChange:Ze,onBlur:Ke,defaultValue:te.last_name}),o.a.createElement(x.a,{valid:Ie.feedbackState.last_name},Ie.feedbackText.last_name)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.password),o.a.createElement("div",{className:"col col-form"},ce.includes("password")||qe&&!ne?o.a.createElement(E.a,null,"*****"):ne?o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{onClick:function(){Oe((function(e){return!e}))},className:"cursor-pointer mb-0 ".concat(ve?"d-none":"")},Xe.clickToChangePassword),o.a.createElement(f.a,{className:"form-group-password mb-0 ".concat(ve?"":"d-none")},o.a.createElement(v.a,null,o.a.createElement(b.a,{className:We(Ie.valid.password),innerRef:He.password,name:"password",onChange:Ze,onBlur:Ke,defaultValue:"",type:ue?"text":"password"}),o.a.createElement(O.a,{className:"btn-toggle",addonType:"append"},o.a.createElement(p.a,{className:"btn",onClick:function(){Ee((function(e){return!e}))}},o.a.createElement(N.u,{icon:ue?"eye-off":"eye"})))),o.a.createElement(x.a,{valid:Ie.feedbackState.password},Ie.feedbackText.password))):null)),"external"===te.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.companyName),o.a.createElement("div",{className:"col col-form"},ce.includes("company_name")?o.a.createElement(E.a,null,te.external_company_name&&te.external_company_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:We(!0),name:"company_name",disabled:qe||!ne,onChange:Ze,onBlur:Ke,defaultValue:te.external_company_name?te.external_company_name:""})))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.city),o.a.createElement("div",{className:"col col-form"},ce.includes("place")?o.a.createElement(E.a,null,te.place):o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:We(Ie.valid.place),name:"place",onChange:Ze,onBlur:Ke,defaultValue:te.place}),o.a.createElement(x.a,{valid:Ie.feedbackState.place},Ie.feedbackText.place)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.address),o.a.createElement("div",{className:"col col-form"},ce.includes("address")?o.a.createElement(E.a,null,te.address):o.a.createElement(o.a.Fragment,null,o.a.createElement(g.h,{name:"address",onChange:Ze,onBlur:Ke,defaultValue:te.address,isValid:Ie.feedbackState.address,feedback:Ie.feedbackText.address})))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.phone),o.a.createElement("div",{className:"col col-form"},ce.includes("contact")?o.a.createElement(E.a,null,te.contact):o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:We(Ie.valid.contact),name:"contact",onChange:Ze,onBlur:Ke,defaultValue:te.contact}),o.a.createElement(x.a,{valid:Ie.feedbackState.contact},Ie.feedbackText.contact)))),o.a.createElement("div",{className:"row mb-2 email-phone-container"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.email),o.a.createElement("div",{className:"col col-form"},ce.includes("email")?o.a.createElement(E.a,null,te.email):o.a.createElement(o.a.Fragment,null,o.a.createElement(g.f,{onChange:$e,name:"email_phone",isValid:Ie.feedbackState.email,feedback:Ie.feedbackText.email,placeholder:Xe.emailOnly,registerMode:we,setRegisterMode:Ce,value:xe.email,defaultCountry:Me,defaultValue:ea})))),G.role.id<=2&&G.id!==te.id&&"internal"===te.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.accountType),o.a.createElement("div",{className:"col col-form"},o.a.createElement(d.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===ae?A.b:A.a,value:Ge.find((function(e){return e.value===Fe})),onChange:function(e){Be(e.value),ye(Object(c.a)(Object(c.a)({},xe),{},{role_ids:[e.value]}))},options:Ge,menuPlacement:"top",menuColor:U.colors.primary}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-between align-items-center mt-0"},o.a.createElement("div",null,"\xa0"),o.a.createElement("div",null,o.a.createElement("span",{onClick:ze,className:"btn btn-outline-light mr-2"},Xe.cancel),o.a.createElement("span",{onClick:function(){!1===Object.values(Ie.valid).find((function(e){return!1===e}))?F.error("Some fields require your attention."):!0===Object.values(Ie.valid).find((function(e){return!0===e}))?xe.profile_image_link!==te.profile_image_link?K(xe,Ie.feedbackText.profile_image_link,(function(e,a){a&&me(!1)})):te.email!==xe.email?Z(Object(c.a)(Object(c.a)({},xe),{},{change_email:1}),(function(e,a){a&&me(!1)})):Z(Object(c.a)({},xe),(function(e,a){a&&me(!1)})):te&&xe.email&&te.email!==xe.email?le.includes("email")&&""===xe.email.trim()?ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},{email:!1}),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},{email:Xe.emailRequired})}})):""===xe.email.trim()||"+"!==xe.email.charAt(0)||L.test(xe.email)?""===xe.email.trim()||T.a.test(xe.email.trim())?X(xe.email,(function(e,a){a&&(a.data.status?ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},{email:!1}),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},{email:"Email is already taken"})}})):te.email!==xe.email?Z(Object(c.a)(Object(c.a)({},xe),{},{change_email:1}),(function(e,a){a&&me(!1)})):Z(Object(c.a)({},xe),(function(e,a){a&&me(!1)})))})):ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},{email:!1}),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},{email:Xe.invalidEmail})}})):Object(u.b)(xe.email)?X(xe.email,(function(e,a){a&&(a.data.status?ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},{email:!1}),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},{email:"Phone number already taken"})}})):te.email!==xe.email?Z(Object(c.a)(Object(c.a)({},xe),{},{change_email:1}),(function(e,a){a&&me(!1)})):Z(Object(c.a)({},xe),(function(e,a){a&&me(!1)})))})):ke((function(e){return{valid:Object(c.a)(Object(c.a)({},e.valid),{},{email:!1}),feedbackState:Object(c.a)(Object(c.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(c.a)(Object(c.a)({},e.feedbackText),{},{email:Xe.invalidPhoneNumber})}})):te&&Fe!==te.role.name?Z(Object(c.a)({},xe),(function(e,a){a&&me(!1)})):(F.info("Nothing was updated."),me(!1))},className:"btn btn-primary"},Xe.saveChanges)))):o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},Xe.information,ne||qe?o.a.createElement("span",{onClick:ze,className:"btn btn-outline-light btn-sm"},o.a.createElement(N.u,{className:"mr-2",icon:"edit-2"})," ",Xe.edit):null),te.first_name&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.firstName),o.a.createElement("div",{className:"col col-form"},te.first_name)),te.middle_name&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.middleName),o.a.createElement("div",{className:"col col-form"},te.middle_name)),te.last_name&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.lastName),o.a.createElement("div",{className:"col col-form"},te.last_name)),te.id===G.id&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.password),o.a.createElement("div",{className:"col col-form"},"*****")),"external"===te.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.companyName),o.a.createElement("div",{className:"col col-form"},te.external_company_name&&te.external_company_name)),te.place&&"internal"===G.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.city),o.a.createElement("div",{className:"col col-form"},te.place)),te.address&&"internal"===G.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.address),o.a.createElement("div",{className:"col col-form"},te.address)),te.contact&&"internal"===G.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.phone),o.a.createElement("div",{className:"col col-form"},te.contact)),te.email&&"internal"===G.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.email),o.a.createElement("div",{className:"col col-form cursor-pointer",onClick:function(){window.location.href="mailto:".concat(te.email)}},te.email)),te.role&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.accountType),o.a.createElement("div",{className:"col col-form"},"external"===te.type?Xe.external:te.role.display_name)),"external"===te.type&&o.a.createElement(o.a.Fragment,null,(null===(a=te.last_login)||void 0===a?void 0:a.timestamp)&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.lastLoggedIn),o.a.createElement("div",{className:"col col-form"},w.a.unix(null===te||void 0===te||null===(t=te.last_login)||void 0===t?void 0:t.timestamp).format("MMMM DD YYYY hh:mm A").toString())),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},Xe.invitedBy),o.a.createElement("div",{className:"col col-form"},null===(i=te.userData)||void 0===i||null===(I=i.invited_by)||void 0===I?void 0:I.first_name," ",null===(k=te.userData)||void 0===k||null===(S=k.invited_by)||void 0===S?void 0:S.last_name))))))))}))}}]);