(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[23],{754:function(e,a,t){"use strict";t.r(a);var n,l,c,r,s,i=t(7),o=t(5),m=t(0),u=t.n(m),p=t(4),d=t(12),E=t(10),g=p.a.div(n||(n=Object(o.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),h=function(e){var a=e.actions,t=e.clearTab,n=e.value,l=Object(m.useState)(n),c=Object(i.a)(l,2),r=c[0],s=c[1],o=function(){""!==r.trim()&&(t(),a.search({search:r,skip:0,limit:10}),a.saveSearchValue({value:r}))};Object(m.useEffect)((function(){s(n)}),[n]);var p=Object(E.gb)()._t,h={searchGlobalPlaceholder:p("PLACEHOLDER.SEARCH_GLOBAL","Search for anything in this Driff"),whatDoYouWantToFind:p("SEARCH.WHAT_DO_YOU_WANT_TO_FIND","What do you want to find?")};return u.a.createElement(g,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row d-flex justify-content-center"},u.a.createElement("div",null,u.a.createElement("h2",{className:"mb-4 text-center"},h.whatDoYouWantToFind),u.a.createElement("div",{className:"input-group"},u.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==n&&(t(),a.saveSearchValue({value:""})),s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&o()},type:"text",className:"form-control",placeholder:h.searchGlobalPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:r}),""!==r.trim()&&u.a.createElement("button",{onClick:function(){s(""),t(),a.search({search:"",skip:0,limit:10}),a.saveSearchValue({value:""})},className:"btn-cross",type:"button"},u.a.createElement(d.s,{icon:"x"})),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:o},u.a.createElement(d.s,{icon:"search"}))))))))},b=function(e){var a=e.activeTab,t=e.onSelectTab,n=e.tabs,l=e.dictionary;return u.a.createElement("ul",{className:"nav nav-pills mb-4",role:"tablist"},n.hasOwnProperty("CHANNEL")&&Object.keys(n.CHANNEL).length>0&&u.a.createElement("li",{className:"nav-item"},u.a.createElement("a",{className:"nav-link ".concat(("channel"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"channel",role:"tab","aria-controls":"clasic","aria-selected":"true"},l.chatChannel)),n.hasOwnProperty("CHAT")&&Object.keys(n.CHAT).length>0&&u.a.createElement("li",{className:"nav-item"},u.a.createElement("a",{className:"nav-link ".concat(("chat"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"chat",role:"tab","aria-controls":"clasic","aria-selected":"true"},l.message)),n.hasOwnProperty("COMMENT")&&Object.keys(n.COMMENT).length>0&&u.a.createElement("li",{className:"nav-item"},u.a.createElement("a",{className:"nav-link ".concat(("comment"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"comment",role:"tab","aria-controls":"clasic","aria-selected":"true"},l.comment)),n.hasOwnProperty("DOCUMENT")&&Object.keys(n.DOCUMENT).length>0&&u.a.createElement("li",{className:"nav-item"},u.a.createElement("a",{className:"nav-link ".concat(("document"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"document",role:"tab","aria-controls":"articles","aria-selected":"false"},l.files)),n.hasOwnProperty("PEOPLE")&&Object.keys(n.PEOPLE).length>0&&u.a.createElement("li",{className:"nav-item"},u.a.createElement("a",{className:"nav-link ".concat(("people"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"people",role:"tab","aria-controls":"users","aria-selected":"false"},l.people)),n.hasOwnProperty("POST")&&Object.keys(n.POST).length>0&&u.a.createElement("li",{className:"nav-item"},u.a.createElement("a",{className:"nav-link ".concat(("post"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"post",role:"tab","aria-controls":"photos","aria-selected":"false"},l.posts)),n.hasOwnProperty("WORKSPACE")&&Object.keys(n.WORKSPACE).length>0&&u.a.createElement("li",{className:"nav-item"},u.a.createElement("a",{className:"nav-link ".concat(("workspace"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"workspace",role:"tab","aria-controls":"photos","aria-selected":"false"},l.workspace)))},v=function(e){var a=e.activeTab,t=e.tabs,n=e.redirect;return u.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},u.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"channel"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("CHANNEL")&&u.a.createElement(f,{channels:t.CHANNEL.items,page:t.CHANNEL.page,redirect:n})),u.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"chat"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("CHAT")&&u.a.createElement(N,{chats:t.CHAT.items,page:t.CHAT.page,redirect:n})),u.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"comment"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("COMMENT")&&u.a.createElement(w,{comments:t.COMMENT.items,page:t.COMMENT.page,redirect:n})),u.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"document"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("DOCUMENT")&&u.a.createElement(A,{files:t.DOCUMENT.items,page:t.DOCUMENT.page,redirect:n})),u.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"people"===a)&&"active show"),id:"users",role:"tabpanel"},t.hasOwnProperty("PEOPLE")&&u.a.createElement(j,{people:t.PEOPLE.items,page:t.PEOPLE.page,redirect:n})),u.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"post"===a)&&"active show"),id:"photos",role:"tabpanel"},t.hasOwnProperty("POST")&&u.a.createElement(L,{posts:t.POST.items,page:t.POST.page,redirect:n})),u.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"workspace"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("WORKSPACE")&&u.a.createElement(W,{workspaces:t.WORKSPACE.items,page:t.WORKSPACE.page,redirect:n})))},f=function(e){var a=e.channels,t=e.page,n=e.redirect;return u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return e.data?u.a.createElement(k,{key:e.id,data:e.data,redirect:n}):null})))},k=function(e){var a=e.data,t=e.redirect,n=a.channel;return u.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},u.a.createElement("h5",{onClick:function(){t.toChannel(n)}},n.title))},N=function(e){var a=e.chats,t=e.page,n=e.redirect;return u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).filter((function(e){return e.data&&null!==e.data.message})).map((function(e){return u.a.createElement(C,{key:e.id,data:e.data,redirect:n})})))},O=p.a.li(l||(l=Object(o.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]))),C=function(e){var a=e.data,t=e.redirect,n=a.channel,l=a.message;return u.a.createElement(O,{className:"list-group-item p-l-0 p-r-0"},u.a.createElement("div",null,u.a.createElement(d.a,{id:l.user.id,name:l.user.name,imageLink:l.user.profile_image_thumbnail_link?l.user.profile_image_thumbnail_link:l.user.profile_image_link,showSlider:!0})),u.a.createElement("div",{className:"ml-2",onClick:function(){t.toChat(n,l)}},u.a.createElement("p",null,l.user.name," - ",n.title),u.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:l.body}})))},w=function(e){var a=e.comments,t=e.page,n=e.redirect;return u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return u.a.createElement(T,{key:e.id,comment:e,redirect:n})})))},y=p.a.li(c||(c=Object(o.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]))),P=p.a.div(r||(r=Object(o.a)(["\n  img {\n    max-height: 200px;\n    padding: 20px;\n    margin-top: 20px;\n    float: right;\n  }\n  p {\n    display: none;\n    &:nth-child(1),\n    &:nth-child(2),\n    &:nth-child(3),\n    &:nth-child(4),\n    &:nth-child(5) {\n      display: block;\n    }\n  }\n"]))),T=function(e){var a=e.comment,t=e.redirect,n=a.data;return u.a.createElement(y,{className:"list-group-item p-l-0 p-r-0",onClick:function(){if(null!==n)if(n.workspaces.length){var e={id:n.workspaces[0].topic.id,name:n.workspaces[0].topic.name,folder_id:n.workspaces[0].workspace?n.workspaces[0].workspace.id:null,folder_name:n.workspaces[0].workspace?n.workspaces[0].workspace.name:null};t.toPost({workspace:e,post:n.post},{focusOnMessage:n.comment.id})}else t.toPost({workspace:null,post:n.post},{focusOnMessage:n.comment.id})}},null!==n&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(d.a,{id:n.comment.author.id,name:n.comment.author.name,imageLink:(n.comment.author.profile_image_link,n.comment.author.profile_image_thumbnail_link),showSlider:!0})),u.a.createElement("div",{className:"ml-2"},u.a.createElement("p",null,n.comment.author.name),u.a.createElement(P,{className:"text-muted",dangerouslySetInnerHTML:{__html:n.comment.body}}))),null===n&&u.a.createElement("div",null,u.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:a.search_body}})))},_=function(e){var a=e.user,t=e.redirect;return u.a.createElement("li",{className:"list-group-item p-l-r-0"},u.a.createElement("div",{className:"media",onClick:function(){t.toPeople(a)}},u.a.createElement(d.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,className:"mr-2"}),u.a.createElement("div",{className:"media-body"},u.a.createElement("h6",{className:"m-0"},a.name))))},j=function(e){var a=e.page,t=e.people,n=e.redirect;return u.a.createElement("ul",{className:"list-group list-group-flush"},Object.keys(t).length>0&&Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return u.a.createElement(_,{key:e.id,user:e.data,redirect:n})})))},A=function(e){var a=e.files,t=e.page,n=e.redirect;return u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return u.a.createElement(S,{key:e.data.id,file:e.data,redirect:n})})))},S=function(e){var a=e.file,t=e.redirect;return u.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},u.a.createElement("label",{onClick:function(){t.toFiles(a)}},a.name))},L=function(e){var a=e.page,t=e.posts,n=e.redirect;return u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return u.a.createElement(H,{key:e.id,data:e.data,redirect:n})})))},H=function(e){var a=e.data,t=e.redirect,n=a.post,l=a.workspaces,c=Object(E.ab)().localizeChatDate;return u.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},u.a.createElement("div",{onClick:function(){var e=null;l.length&&(e={id:l[0].topic.id,name:l[0].topic.name,folder_id:l[0].workspace?l[0].workspace.id:null,folder_name:l[0].workspace?l[0].workspace.name:null}),t.toPost({post:n,workspace:e})}},u.a.createElement("h5",null,n.title),u.a.createElement("div",{className:"text-muted font-size-13"},u.a.createElement("div",null,c(n.created_at.timestamp)))))},x=t(1),M=t(752),R=t.n(M),U=function(e){var a=e.actions,t=e.activeTab,n=e.tabs,l=e.value,c=Object(m.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],p=function(e,n){var c=t;"workspace"===t?c="topic":"people"===t&&(c="user"),o(!0),a.search({search:l,skip:e,limit:n,tag:c},(function(e,a){o(!1)}))};if(Object(m.useEffect)((function(){if(t&&!s){var e=n[t.toUpperCase()].page,a=n[t.toUpperCase()].count;(1===e&&a<10&&n[t.toUpperCase()].total_count>10||1===e&&0===a)&&p(a,10)}}),[n,t,s]),t&&n[t.toUpperCase()].maxPage<=1||null===t)return null;var d=n[t.toUpperCase()].page,E=n[t.toUpperCase()].maxPage;return u.a.createElement("nav",{className:"mt-3"},u.a.createElement(R.a,{forcePage:d-1,previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:E,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var l=e.selected+1,c=n[t.toUpperCase()].items.slice(l>1?10*l-10:0,10*l),r=n[t.toUpperCase()].count;10!==c.length&&p(r,10*l);var s=Object(x.a)(Object(x.a)({},n[t.toUpperCase()]),{},{page:l,key:t.toUpperCase()});a.updateTabPage(s)},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},D=t(6),W=function(e){var a=e.page,t=e.workspaces,n=e.redirect,l=Object(D.d)((function(e){return e.workspaces.workspaces}));return u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return u.a.createElement(B,{key:e.id,data:e.data,redirect:n,workspaces:l})})))},B=function(e){var a=e.data,t=e.redirect,n=e.workspaces,l=a.topic,c=a.workspace;return u.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},u.a.createElement("h5",{onClick:function(){var e={id:l.id,name:l.name,folder_id:c?c.id:null,folder_name:c?c.name:null};n.hasOwnProperty(l.id)?t.toWorkspace(e):t.fetchWorkspaceAndRedirect(e)}},l.name))},F=p.a.div(s||(s=Object(o.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"])));a.default=u.a.memo((function(e){var a=e.className,t=void 0===a?"":a,n=Object(E.O)(),l=Object(E.R)(),c=Object(E.Q)(),r=c.count,s=c.results,o=c.searching,p=c.tabs,g=c.value,f=Object(E.gb)()._t,k={searching:f("SEARCH.SEARCHING","Searching"),chatChannel:f("SEARCH.TAB_CHAT_CHANNEL","Chat channel"),message:f("SEARCH.TAB_MESSAGE","Message"),comment:f("SEARCH.TAB_COMMENT","Comment"),files:f("SEARCH.TAB_FILES","Files"),people:f("SEARCH.TAB_PEOPLE","People"),posts:f("SEARCH.TAB_POSTS","Posts"),workspace:f("SEARCH.TAB_WORKSPACE","Workspace")},N=Object(m.useState)(null),O=Object(i.a)(N,2),C=O[0],w=O[1];Object(m.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),function(){return document.getElementById("main").removeAttribute("style")}}),[]),Object(m.useEffect)((function(){if(Object.keys(p).length&&null===C){var e=Object.keys(p)[0];w(e.toLowerCase())}else 0===Object.keys(p).length&&null!==C&&w(null)}),[p,C]);return u.a.createElement(F,{className:"user-search-panel container-fluid h-100 ".concat(t)},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-body"},u.a.createElement(h,{actions:l,value:g,clearTab:function(){return w(null)}}),""!==g&&u.a.createElement("h4",{className:"mb-5"},u.a.createElement(d.s,{icon:"search"}),o&&u.a.createElement("span",null,k.searching," ",u.a.createElement("span",{className:"text-primary"},"\u201c",g,"\u201d")),!o&&u.a.createElement("span",null,f("SEARCH.RESULTS_FOUND","::count:: results found for:",{count:r})," ",u.a.createElement("span",{className:"text-primary"},"\u201c",g,"\u201d"))),u.a.createElement(b,{activeTab:C,onSelectTab:function(e){e.currentTarget.dataset.value!==C&&w(e.currentTarget.dataset.value)},tabs:p,dictionary:k}),u.a.createElement(v,{activeTab:C,results:s,tabs:p,redirect:n}),r>0&&u.a.createElement(U,{activeTab:C,tabs:p,actions:l,value:g}))))))}))}}]);