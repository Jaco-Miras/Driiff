(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[6],{664:function(n,e,t){"use strict";var i,a,r,o,c=t(21),s=t(9),l=t(1),u=t.n(l),d=t(5),p=t(10),m=t(20),f=t(654),h=["className","files","reply","type","topic_id","dictionary"],b=p.a.div(i||(i=Object(s.a)(["\n  position: relative;\n  z-index: 1;\n  border-radius: 8px;\n  color: #828282;\n"]))),x=p.a.div(a||(a=Object(s.a)(["\n  margin-bottom: 0.5rem;\n"]))),g=p.a.div(r||(r=Object(s.a)(["\n  display: flex;\n  flex-flow: column;\n"]))),v=Object(p.a)(f.a)(o||(o=Object(s.a)([""]))),y=Object(l.forwardRef)((function(n,e){var t=n.className,i=void 0===t?"":t,a=n.files,r=(n.reply,n.type),o=void 0===r?"chat":r,s=n.topic_id,l=void 0===s?null:s,p=n.dictionary,f=Object(c.a)(n,h),y=Object(d.c)(),j=function(n,e){if(n.stopPropagation(),"chat"===o&&"trashed"!==e.file_type){var t={file_id:e.file_id,files:[e],topic_id:l};y(Object(m.Ub)(t))}};return u.a.createElement(b,Object.assign({className:"message-files ".concat(i),filesLength:a.length,type:o},f),u.a.createElement(g,null,a.map((function(n,e){return 1===a.length&&"chat"===o?u.a.createElement(v,{key:e,cbFilePreview:j,file:n,"data-file-type":n.type,dictionary:p}):u.a.createElement(x,{key:n.id},u.a.createElement(v,{cbFilePreview:j,file:n,"data-file-type":n.type,dictionary:p}))}))))}));e.a=u.a.memo(y)},665:function(n,e,t){"use strict";var i=t(0),a=t(1);e.a=function(n){var e=n.message,t=n.isAuthor,r=n.translate,o=n.chat_language,c=n.actions;Object(a.useEffect)((function(){t||e.user.chat_language===o||!r||e.is_translated||e.translated_language===o||function(n){return fetch("https://api.deepl.com/v2/translate?auth_key=4fb7583d-a163-7abb-8e71-c882d1fd9408&text="+n.body+"&target_lang="+o).then((function(n){return n.json()})).then((function(n){return n})).catch(console.log)}(e).then((function(n){if("undefined"!==typeof n){var t=n.translations[0].text;c.setTranslationBody(Object(i.a)(Object(i.a)({},e),{},{translated_body:t,is_translated:r,translated_language:o})),c.saveTranslation({message_id:e.id,body:t,language:o})}}))}),[r])}},666:function(n,e,t){"use strict";var i=t(0),a=t(11),r=t(1),o=t(25);e.a=function(n){var e=n.message,t=n.actions,c=Object(r.useRef)(!0);var s=Object(r.useState)(null),l=Object(a.a)(s,2),u=l[0],d=l[1],p=e.body;Object(r.useEffect)((function(){return function(){c.current=!1}}),[]),Object(r.useEffect)((function(){var n=p;!p.includes('<span class="fancied">')&&(p.match(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)([^<]+)(<\/a>)/g)||[]).length>0&&!e.is_fancy&&(n=function(n){return Object(o.k)({message_id:n.id,content:n.body}).then((function(n){return n})).then((function(n){c.current&&d(n.data.body)})),null!==u?u:n.body}(e)),null!==u&&t.saveFancyContent(Object(i.a)(Object(i.a)({},e),{},{body:n,is_fancy:!0}))}),[u])}},667:function(n,e,t){"use strict";var i=t(0),a=t(11),r=t(1),o=t.n(r),c=t(5),s=t(14),l=t(197),u=t(199),d=t(138);e.a=o.a.memo((function(n){var e=n.isAuthor,t=n.replyData,p=n.className,m=void 0===p?"":p,f=n.selectedChannel,h=n.dictionary,b=n.width,x=void 0===b?250:b,g=n.teamChannelId,v=void 0===g?null:g,y=n.isExternalUser,j=Object(r.useState)(!1),O=Object(a.a)(j,2),_=O[0],w=O[1],E=Object(c.c)(),k=document.getElementById("component-chat-thread"),A=Object(l.a)(),C=Object(u.a)(),N=C.selectUserChannel,S=C.loggedUser,T=C.users,R=C.channels,M=C.history,P=C.match;Object(r.useEffect)((function(){t.user&&"BOT"===t.user.type&&t.body.includes("<div><p>Your")&&!t.hasOwnProperty("huddle_log")&&A.channelActions.fetchUnpublishedAnswers({channel_id:t.channel_id})}),[]);var z=function(){A.remove(t.id)};var B=t.user&&T[t.user.id]&&"internal"===T[t.user.id].type,I=t.files.some((function(n){return"trashed"===n.file_type}));return o.a.createElement(d.c,{width:x,className:m,scrollRef:k},!t.hasOwnProperty("huddle_log")&&o.a.createElement("div",{onClick:function(){return A.remind(t,f)}},h.remindMeAboutThis),e&&t.hasOwnProperty("is_transferred")&&!t.is_transferred&&o.a.createElement("div",{onClick:function(){var n=t,e=n.body,i=document.createElement("div");i.innerHTML=e;for(var a=i.getElementsByClassName("fancied");a[0];)a[0].parentNode.removeChild(a[0]);var r=i.innerHTML;n.body=r.replace(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)((?:.(?!\<\/a\>))*.)(<\/a>)/g,(function(n,e,t,i,a,r,o){return i})),A.setEdit(n)}},h.edit),!t.hasOwnProperty("huddle_log")&&o.a.createElement("div",{onClick:function(){A.setQuote(t)}},h.quote),e&&o.a.createElement("div",{onClick:function(){var n={type:"confirmation",headerText:h.removeChat,submitText:h.remove,cancelText:h.cancel,bodyText:h.removeThisChat,actions:{onSubmit:z}};E(Object(s.a)(n))}},h.remove),!t.hasOwnProperty("huddle_log")&&o.a.createElement("div",{onClick:function(){A.clipboardLink(f,t)}},h.copyMessageLink),!t.hasOwnProperty("huddle_log")&&!I&&o.a.createElement("div",{onClick:function(){var n={type:"forward",channel:f,message:t};E(Object(s.a)(n))}},h.forward),e&&o.a.createElement("div",{onClick:function(){return A.markImportant(t)}},t.is_important?h.unMarkImportant:h.markImportant),t.user&&t.user.code&&t.user.code.includes("huddle_bot")&&t.body.includes("<div><p>Your Unpublished")&&o.a.createElement("div",{onClick:function(){A.setHuddleAnswers({id:t.id,channel_id:t.channel_id,huddle_log:t.huddle_log})}},"Edit huddle"),t.body.startsWith("HUDDLE_SKIP::")&&o.a.createElement("div",{onClick:function(){A.addSkip({channel_id:t.channel_id,id:t.id})}},"Unskip"),t.user&&"BOT"!==t.user.type&&t.user.id!==S.id&&"DIRECT"!==f.type&&t.user.code&&"huddle_bot"!==t.user.code&&B&&o.a.createElement("div",{onClick:function(){if(!_){w(!0),N(t.user,(function(n){n&&n.id&&A.setQuote(Object(i.a)(Object(i.a)({},t),{},{channel_id:n.id})),w(!1)}))}}},h.replyInPrivate),v&&!y&&o.a.createElement("div",{onClick:function(){if(!_){var n=function(n){if(n&&n.id){A.setQuote(Object(i.a)(Object(i.a)({},t),{},{channel_id:n.id}));var e=P.url;"/chat/:code"===P.path?M.push("/chat/".concat(v.code)):P.path.startsWith("/workspace/chat")&&M.push(e.replace("/workspace/chat","/workspace/team-chat"))}w(!1)};w(!0),R[v]?A.channelActions.select(R[v.id],n):A.channelActions.fetchByCode(v.code,(function(e,t){e||(n(t.data),A.channelActions.select(Object(i.a)(Object(i.a)({},t.data),{},{selected:!0,hasMore:!1,isFetching:!1,skip:0,replies:[]})))}))}}},"Discuss on team chat"))}))},668:function(n,e,t){"use strict";var i=t(9),a=t(1),r=t.n(a),o=t(10);function c(){var n=Object(i.a)(['\n  .sepline {\n    font-weight: 600;\n    font-size: 0.85em;\n    color: #972c86;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: 100%;\n    margin: 10px auto 8px;\n    &::before,\n    &::after {\n      content: "";\n      position: absolute;\n      background-color: #972c86;\n      width: 100%;\n      height: 1px;\n      display: block;\n      clear: both;\n\n      @media only screen and (min-width: 1800px) {\n        max-width: 44%;\n      }\n\n      @media only screen and (max-width: 1799px) {\n        max-width: 42%;\n      }\n\n      @media only screen and (max-width: 1650px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1440px) {\n        max-width: 38%;\n      }\n\n      @media only screen and (max-width: 1360px) {\n        max-width: 36%;\n      }\n\n      @media only screen and (max-width: 1280px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1136px) {\n        max-width: 32%;\n      }\n\n      @media only screen and (max-width: 1080px) {\n        max-width: 30%;\n      }\n\n      @media only screen and (max-width: 1024px) {\n        max-width: 26%;\n      }\n\n      @media only screen and (max-width: 1000px) {\n        max-width: 24%;\n      }\n\n      @media only screen and (max-width: 996px) {\n        max-width: 20%;\n      }\n\n      @media only screen and (max-width: 640px) {\n        max-width: 35%;\n      }\n    }\n    &::before {\n      left: 0;\n    }\n    &::after {\n      right: 0;\n    }\n  }\n']);return c=function(){return n},n}function s(){var n=Object(i.a)(["\n  &.hide {\n    visibility: hidden;\n    opacity: 0;\n  }\n"]);return s=function(){return n},n}var l=o.a.div(s()),u=o.a.div(c());e.a=function(n){return r.a.createElement(l,{className:"new-message-sepline"},r.a.createElement(u,null,r.a.createElement("span",{className:"sepline"},"New Message/s")))}},669:function(n,e,t){"use strict";var i=t(11),a=t(9),r=t(1),o=t.n(r),c=t(10),s=t(19),l=t(12),u=t(197);function d(){var n=Object(a.a)(['\n  &.orientation-top {\n    bottom: 25px;\n  }\n  &.orientation-bottom {\n    top: calc(100% + 5px);\n  }\n  &.orientation-left {\n    right: calc(100% - 25px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% - 25px);\n    right: auto;\n  }\n\n  @media (max-width: 576px) {\n    position: fixed;\n    justify-content: center;\n    display: flex;\n\n    &.orientation-top {\n      bottom: 100px;\n    }\n    &.orientation-bottom {\n      top: auto;\n      bottom: 100px;\n    }\n    &.orientation-left {\n      right: 0;\n      left: 0;\n    }\n    &.orientation-right {\n      left: 0;\n      right: 0;\n    }\n  }\n\n  .emoji-mart-bar {\n    display: none;\n  }\n\n  li {\n    &:before {\n      content: "" !important;\n      margin: 0 !important;\n      display: none !important;\n    }\n\n    padding-left: 0 !important;\n    text-align: left !important;\n    position: relative !important;\n    margin-left: 10px !important;\n  }\n']);return d=function(){return n},n}function p(){var n=Object(a.a)(["\n  @media (max-width: 620px) {\n    //display: none;\n  }\n  ",";\n\n  &:hover {\n    filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);\n  }\n"]);return p=function(){return n},n}function m(){var n=Object(a.a)(["\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n  padding: 0;\n  cursor: pointer;\n  position: relative;\n  @media (max-width: 620px) {\n    width: 20px;\n    height: 20px;\n  }\n"]);return m=function(){return n},n}var f=c.a.div(m()),h=Object(c.a)(s.s)(p(),(function(n){return n.active&&"filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);"})),b=Object(c.a)(s.l)(d());e.a=function(n){var e=n.reply,t=n.showEmojiSwitcher,a=void 0===t?null:t,c=null,s=Object(u.a)(),d=document.getElementById("component-chat-thread"),p={container:Object(r.useRef)(null),picker:Object(r.useRef)(null)},m=Object(r.useState)(a),x=Object(i.a)(m,2),g=x[0],v=x[1],y=function(){return v(!g)},j=Object(l.ab)(p.container,p.picker,d,g).orientation;return Object(r.useEffect)((function(){null!==a&&v(!0)}),[a]),Object(l.F)(p.container,(function(){v(!1)}),!0),o.a.createElement(f,{className:"emoji-button-div",ref:p.container},o.a.createElement(h,{icon:"smile",active:g,onClick:y}),g&&o.a.createElement(b,{ref:p.picker,onMouseEnter:function(){clearTimeout(c)},onMouseLeave:function(){c=setTimeout((function(){v(!1)}),1e3)},className:"chat-reaction-picker",orientation:j,onSelectEmoji:function(n){y(),s.react(e.id,n.id)},show:g}))}},670:function(n,e,t){"use strict";var i=t(11),a=t(9),r=t(1),o=t.n(r),c=t(10),s=t(19);function l(){var n=Object(a.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  z-index: 999;\n  ul {\n    max-height: 250px;\n\n    li {\n      display: flex;\n      text-align: left;\n\n      > span {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return l=function(){return n},n}function u(){var n=Object(a.a)(["\n    // position: absolute;\n    // right: ",";\n    // left: ",";\n    //top: 100%;\n    text-align: ",";\n    color: #a7abc3;\n    z-index: 2;\n    font-size: 11px;\n    position: absolute;\n    bottom: -18px;\n    white-space: nowrap;\n    ",";\n    span {\n        cursor: pointer;\n        &:hover {\n            color: #7A1B8B;\n            transition: color 0.3s;\n        }\n    }\n"]);return u=function(){return n},n}var d=c.a.div(u(),(function(n){return n.isAuthor?"0":"unset"}),(function(n){return n.isAuthor?"unset":"5px"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.isAuthor?"right: 0px":"left: 0px"})),p=Object(c.a)(s.u)(l(),(function(n){return n.isAuthor?"unset":"5px"}),(function(n){return n.isAuthor?"5px":"unset"}));e.a=function(n){var e=n.isPersonal,t=n.seenMembers,a=n.isAuthor,c=Object(r.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1],m=function(){return u(!l)};return o.a.createElement(d,n,e&&"seen",!e&&1===t.length&&"seen by ".concat(t.map((function(n){return n.first_name})).slice(0,1).toString()),!e&&t.length>1&&o.a.createElement(o.a.Fragment,null,"seen by"," ",t.map((function(n){return n.first_name})).slice(0,1).toString()," ","and",o.a.createElement("span",{onClick:m}," more")),!e&&t.length>1&&l&&o.a.createElement(p,{className:"chat-seen-list",users:t,isAuthor:a,onShowList:m}))}},679:function(n,e,t){"use strict";var i=t(11),a=t(9),r=t(1),o=t.n(r),c=t(10),s=t(26),l=t(154),u=t(19),d=t(197);function p(){var n=Object(a.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n  }\n"]);return p=function(){return n},n}function m(){var n=Object(a.a)(["\n  background: ",";\n  color: ",";\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  cursor: pointer;\n  position: relative;\n  :hover {\n    .chat-emoji-users-list {\n      visibility: visible;\n    }\n  }\n"]);return m=function(){return n},n}var f,h,b=c.a.div(m(),(function(n){return n.isAuthor?"rgb(157 57 173 / 93%)":"rgba(240, 240, 240, 0.8)"}),(function(n){return n.isAuthor?"#fff":"#505050"})),x=Object(c.a)(u.u)(p(),(function(n){return n.isAuthor?"unset":"5px"}),(function(n){return n.isAuthor?"5px":"unset"})),g=function(n){var e=n.type,t=n.count,i=n.reactions,a=n.isAuthor,r=n.reply,c=Object(d.a)();return o.a.createElement(b,{onClick:function(){c.react(r.id,e)},isAuthor:a,className:"chat-emoji"},o.a.createElement(l.a,{emoji:e,size:20}),t>1?o.a.createElement("span",{className:"emoji-counter"}," ",t):null,o.a.createElement(x,{className:"chat-emoji-users-list",isAuthor:a,users:i.map((function(n){return{id:n.user_id,name:n.user_name,profile_image_link:n.profile_image_link,profile_image_thumbnail_link:n.profile_image_thumbnail_link?n.profile_image_thumbnail_link:n.profile_image_link,partial_name:null}}))}))},v=t(12),y=c.a.div(f||(f=Object(a.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    position: relative;\n    z-index: 100;\n  }\n  li {\n    position: relative;\n    padding: 3px;\n    border-bottom: 1px solid;\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    :hover {\n      .chat-emoji-users-list {\n        visibility: visible;\n      }\n    }\n  }\n  li:last-child {\n    border: none;\n  }\n"]))),j=Object(c.a)(u.u)(h||(h=Object(a.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  top: 1px;\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n    padding: 5px 10px;\n  }\n  .profile-slider {\n    display: none !important;\n  }\n"])),(function(n){return n.isAuthor?"unset":"116%"}),(function(n){return n.isAuthor?"116%":"unset"})),O=function(n){var e=n.className,t=n.reactions,i=n.handleShowMoreEmojis,a=n.isAuthor,c=n.reply,s=n.chatReactionAction,u=Object(r.useRef)();Object(v.F)(u,i,!0);return o.a.createElement(y,{className:e,ref:u},o.a.createElement("ul",null,t.map((function(n){return o.a.createElement("li",{key:n.type,onClick:function(){return function(n){var e={message_id:c.id,react_type:n};s(e)}(n.type)}},o.a.createElement(l.a,{emoji:n.type,size:16}),o.a.createElement("span",null,n.reactions.length),o.a.createElement(j,{className:"chat-emoji-users-list",isAuthor:a,users:n.reactions.map((function(n){return{id:n.user_id,name:n.user_name,profile_image_link:n.profile_image_link,profile_image_thumbnail_link:n.profile_image_thumbnail_link?n.profile_image_thumbnail_link:n.profile_image_link,partial_name:null}}))}))}))))};function _(){var n=Object(a.a)(["\n  position: absolute;\n  background: #dedede;\n  border-radius: 8px;\n  max-width: 100px;\n  min-width: 60px;\n  padding: 5px;\n  top: 100%;\n  right: ",";\n  left: ",";\n  margin-top: 5px;\n  //visibility: hidden;\n"]);return _=function(){return n},n}function w(){var n=Object(a.a)(["\n  background: #dedede;\n  padding: 2px 5px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  position: relative;\n  cursor: pointer;\n  // :hover {\n  //     .chat-reactions-list {\n  //         visibility: visible;\n  //     }\n  // }\n"]);return w=function(){return n},n}function E(){var n=Object(a.a)(["\n  // position: absolute;\n  //bottom: -20px;\n  margin-top: -8px;\n  display: inline-flex;\n  max-width: 90%;\n  z-index: 1;\n  flex-flow: ",";\n  align-self: ",";\n  .profile-slider {\n    left: 60px !important;\n    right: unset !important;\n    bottom: 0px !important;\n    top: unset !important;\n  }\n  .chat-right & {\n    .profile-slider {\n      left: unset !important;\n      right: 0 !important;\n      bottom: 100% !important;\n      top: unset !important;\n    }\n  }\n"]);return E=function(){return n},n}var k=c.a.div(E(),(function(n){return n.isAuthor?"row-reverse":"row"}),(function(n){return n.isAuthor?"flex-end":"flex-start"})),A=c.a.div(w()),C=Object(c.a)(O)(_(),(function(n){return n.isAuthor?"0":"unset"}),(function(n){return n.isAuthor?"unset":"0"}));e.a=function(n){var e=n.reactions,t=n.isAuthor,a=n.chatReactionAction,c=n.reply,l=function(n){var e=Object(r.useRef)();return Object(r.useEffect)((function(){e.current=n})),e.current}(e.length),u=Object(r.useState)(!1),d=Object(i.a)(u,2),p=d[0],m=d[1],f=function(){return m(!p)},h=function(){return Object.entries(Object(s.b)(e,"react_type")).map((function(n){return{type:n[0],reactions:n[1]}}))},b=Object(r.useState)(h()),x=Object(i.a)(b,2),v=x[0],y=x[1];return Object(r.useEffect)((function(){y(h())}),[]),Object(r.useEffect)((function(){l!==e.length&&y(Object.entries(Object(s.b)(e,"react_type")).map((function(n){return{type:n[0],reactions:n[1]}})))}),[e,l]),o.a.createElement(k,{isAuthor:t},v.slice(0,7).map((function(n){return o.a.createElement(g,{userReacted:!1,key:n.type,type:n.type,count:n.reactions.length,reactions:n.reactions,isAuthor:t,chatReactionAction:a,reply:c})})),v.length>7&&o.a.createElement(A,null,o.a.createElement("span",{onClick:f},"..."),p&&o.a.createElement(C,{isAuthor:t,reactions:v.slice(7),className:"chat-reactions-list",handleShowMoreEmojis:f,chatReactionAction:a,reply:c})))}}}]);