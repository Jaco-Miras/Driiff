(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"m",(function(){return g})),n.d(t,"i",(function(){return N.a})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return D})),n.d(t,"l",(function(){return G})),n.d(t,"s",(function(){return H.c})),n.d(t,"r",(function(){return H.b})),n.d(t,"q",(function(){return H.a})),n.d(t,"u",(function(){return p})),n.d(t,"f",(function(){return ft})),n.d(t,"h",(function(){return St})),n.d(t,"e",(function(){return kt})),n.d(t,"g",(function(){return xt})),n.d(t,"t",(function(){return Ft})),n.d(t,"b",(function(){return Mt})),n.d(t,"d",(function(){return Bt.a})),n.d(t,"p",(function(){return zt})),n.d(t,"c",(function(){return Kt})),n.d(t,"o",(function(){return Jt.a})),n.d(t,"n",(function(){return Zt}));var a=n(146),r=n(6),i=n(2),c=n(0),o=n.n(c),s=n(3),l=n(9),d=n(703);function u(){var e=Object(i.a)(["\n  ul {\n    margin: 0;\n    list-style: none;\n    box-shadow: 0 0 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n    z-index: 5;\n    overflow: auto;\n    padding: 8px 8px;\n    cursor: pointer;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    max-height: 260px;\n  }\n\n  li {\n    white-space: nowrap;\n    margin-bottom: 10px;\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n    cursor: pointer;\n    padding-bottom: 5px;\n\n    span {\n      font-weight: 400;\n    }\n\n    &:hover {\n      span {\n        color: #972c86;\n      }\n    }\n    &:last-child {\n      border: none;\n      padding: 0;\n      margin: 0;\n    }\n  }\n  .ico-avatar {\n    margin-right: 10px;\n  }\n  div.ico-avatar img {\n    width: 100%;\n    height: 100%;\n  }\n  span {\n    font-weight: 600;\n    color: #676767;\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n  // .slide-enter.slide-enter-done {\n  //   opacity: 1;\n  //   transform: scale(1) translateY(0);\n  //   transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  // }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]);return u=function(){return e},e}var m=s.a.div(u()),p=function(e){var t=e.users,n=e.className,i=e.onShowList,s=Object(c.useRef)(),u=Object(c.useState)(!1),p=Object(r.a)(u,2),f=p[0],b=p[1],h=Object(c.useState)(null),_=Object(r.a)(h,2),O=_[0],E=_[1],g=function(e,t){e.preventDefault(),e.stopPropagation(),b(!0),E(t)};Object(l.F)(s,(function(){i&&i()}),!0);return o.a.createElement(m,{className:"component-user-list-pop-up-container ".concat(n),ref:s},o.a.createElement("ul",null,t.map((function(e,t){return o.a.createElement("li",{key:e.id,onClick:function(t){return g(t,e)}},o.a.createElement(a.a,{size:"xs",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,userId:e.id,name:e.name?e.name:e.email,partialName:e.partial_name,hasAccepted:e.has_accepted,id:e.id,showSlider:!1,onClick:function(t){return g(t,e)}}),o.a.createElement("span",{className:"user-list-name",onClick:function(t){return g(t,e)}},e.name?e.name:e.email))}))),f&&o.a.createElement(d.a,{appear:!0,in:f,timeout:300,classNames:"slide"},o.a.createElement(Jt.a,{id:O?O.id:null,onShowPopup:function(){return b((function(e){return!e}))},showPopup:f,orientation:{vertical:"bottom",horizontal:"left"}})))};function f(){var e=Object(i.a)(["\n  position: absolute;\n  top: 100%;\n  padding-top: 8px;\n  max-width: 250px;\n  z-index: 999;\n  ul li > span {\n    padding-left: 8px;\n    text-overflow: ellipsis;\n    max-width: 80%;\n    overflow: hidden;\n  }\n"]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n  border-radius: 50%;\n  background: #ffffff;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #dee2e6;\n  font-size: 11px;\n  cursor: pointer;\n"]);return b=function(){return e},e}function h(){var e=Object(i.a)(["\n  display: inline-block;\n  height: 2rem;\n  width: 2rem;\n  margin-left: -0.5rem;\n  position: relative;\n  @media all and (max-width: 920px) {\n  }\n"]);return h=function(){return e},e}var _=s.a.div(h()),O=s.a.span(b()),E=Object(s.a)(p)(f()),g=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.recipients,i=Object(c.useState)(!1),s=Object(r.a)(i,2),l=s[0],d=s[1];return o.a.createElement(_,{className:"plus-recipient-component ".concat(n)},o.a.createElement(O,{onClick:function(e){e.preventDefault(),e.stopPropagation(),d(!l)},className:"total-people-circle"},o.a.createElement("span",null,"+"),a.length),l&&o.a.createElement(E,{className:"people-list",users:a,onShowList:function(){return d(!l)}}))})),A=n(27),v=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,r=e.value,i=Object(A.a)(e,["className","value"]);return o.a.createElement("span",Object.assign({ref:t,className:"badge-growing "+a},i),o.a.createElement("i",{className:"badge-growing-value"},r))}));o.a.memo(v);function j(){var e=Object(i.a)([""]);return j=function(){return e},e}v.defaultProps={className:""};var C=s.a.div(j());o.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return o.a.createElement(C,{className:"".concat(n)})}));function T(){var e=Object(i.a)(["\n  ",";\n  display: inline-block;\n  width: ",";\n  height: ",";\n  -webkit-mask-image: url(",");\n  mask-image: url(",");\n  mask-size: contain;\n  mask-repeat: no-repeat;\n  mask-position: center;\n  ","\n"]);return T=function(){return e},e}var y,S=n(271),w=s.a.i(T(),(function(e){return e.rotate&&"transform: rotate(".concat(e.rotate,"deg);")}),(function(e){return e.width?e.width:"18px"}),(function(e){return e.height?e.height:"18px"}),(function(e){return e.src}),(function(e){return e.src}),(function(e){return e.bgColor&&"background-color: ".concat(e.bgColor,";")})),k=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,r=e.dataTip,i=void 0===r?"":r,c=(e.rotate,e.type),s=Object(A.a)(e,["className","dataTip","rotate","type"]);return o.a.createElement(w,Object.assign({ref:t,alt:"".concat(c," icon"),className:"icon-".concat(c," ").concat(a),src:function(e){switch(e){case"driff-logo":return S;default:return e}}(c),"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":i},s))})),N=(o.a.memo(k),n(187)),R=s.a.div(y||(y=Object(i.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),x=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return o.a.createElement(R,{className:"loading ".concat(n)})})),I=n(39),P=n(22),D=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.active,r=void 0===a?null:a,i=e.isSub,c=void 0!==i&&i,s=Object(A.a)(e,["className","active","isSub"]),l=Object(I.h)(),d=!0===r?"active":"";return null===r&&(d=""===d&&0===l.pathname.indexOf(e.to)?"active":c||0!==e.to.indexOf("/".concat(l.pathname.split("/")[1]))?l.pathname===e.to?"active":"":"active"),o.a.createElement(P.b,Object.assign({},s,{className:"".concat(n," ").concat(d)}),e.children)})),L=n(124);n(273);function F(){var e=Object(i.a)(["\n  ","\n  position: absolute;\n  z-index: 9999;\n  background-color: transparent;\n\n  &.orientation-top {\n    bottom: -10px;\n  }\n  &.orientation-bottom {\n    top: calc(100% - 25px);\n    bottom: auto;\n  }\n  &.orientation-left {\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% + 25px);\n    right: auto;\n  }\n"]);return F=function(){return e},e}var M=s.a.div(F(),(function(e){return e.hide&&"display: none;"})),U=o.a.forwardRef((function(e,t){var n=e.className,a=void 0===n?"":n,r=e.orientation,i=e.onSelectEmoji,c=Object(A.a)(e,["className","orientation","onSelectEmoji"]);return o.a.createElement(M,Object.assign({ref:t,hide:null===r.vertical||null===r.horizontal,className:"picker-emoji orientation-".concat(r.vertical," orientation-").concat(r.horizontal," ").concat(a)},c),o.a.createElement(L.b,{title:"Emoji",set:"apple",onSelect:i,theme:"light",showPreview:!1,showSkinTones:!1,i18n:{search:"Search",clear:"Clear",emojilist:"List of emoji",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}}))})),G=o.a.memo(U),H=n(79);function B(){var e=Object(i.a)(["\n  transform: ",";\n"]);return B=function(){return e},e}var W=n(511),Y=n(512),z=n(513),V=n(514),Q=n(515),q=n(516),K=n(517),J=n(518),Z=n(519),X=n(520),$=n(521),ee=n(271),te=n(522),ne=n(274),ae=n(523),re=n(524),ie=n(525),ce=n(526),oe=n(527),se=n(528),le=n(529),de=n(530),ue=n(531),me=n(532),pe=n(533),fe=n(534),be=n(535),he=n(536),_e=n(537),Oe=n(538),Ee=n(539),ge=n(540),Ae=n(541),ve=n(274),je=n(542),Ce=n(543),Te=n(270),ye=n(544),Se=n(545),we=n(546),ke=n(547),Ne=n(548),Re=n(549),xe=n(550),Ie=n(551),Pe=n(552),De=n(553),Le=n(554),Fe=n(555),Me=n(275),Ue=n(275),Ge=n(556),He=n(557),Be=n(558),We=n(559),Ye=n(560),ze=n(561),Ve=n(562),Qe=n(563),qe=n(195),Ke=n(564),Je=n(565),Ze=n(566),Xe=n(567),$e=s.a.img(B(),(function(e){return e.rotate?"rotate(".concat(e.rotate,"deg)"):"rotate(0deg)"})),et=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,r=e.dataTip,i=void 0===r?"":r,c=e.rotate,s=e.icon,l=e.onClick,d=e.dataSet,u=Object(A.a)(e,["className","dataTip","rotate","icon","onClick","dataSet"]),m=function(e){l&&(d?l(e,d):l(e))};return o.a.createElement($e,Object.assign({ref:t,alt:"".concat(s," icon"),className:"icon-".concat(s," ").concat(a),src:function(e){switch(e){case"arrow":return W;case"arrow-down":return Y;case"topics":case"topic":return z;case"person":case"people":return V;case"documents":return Q;case"tags":return q;case"templates":return K;case"requests":return Z;case"tasks":return X;case"settings":return $;case"team":case"departments":return J;case"logo":return ee;case"logo-transparent":return te;case"communications":return ne;case"favorites":return ae;case"notifications":return re;case"active-notification":return ie;case"arrow-transparent":return ce;case"search":return oe;case"close":return se;case"poll":return le;case"recent":return de;case"more":return ue;case"owner":return pe;case"enlarge":return fe;case"closed-eye":return be;case"opened-eye":return he;case"edit":return _e;case"check":return Oe;case"clap":return Ee;case"mention":return ge;case"post":return Ae;case"multi-post":case"multi_post":return ve;case"tail-spin":return je;case"circle":return Ce;case"gripp-logo":return Te;case"chat":return ye;case"dock":return Se;case"expand":return we;case"clipboard":return ke;case"trash":return Ne;case"logout":return Re;case"lock":return xe;case"unlock":return Ie;case"more-menu":return me;case"send":return Pe;case"google-login":return De;case"download":return Le;case"plus":return Fe;case"comment":return Me;case"quote":return Ue;case"heart-driff":return Ge;case"prio-critical":return He;case"prio-high":return Be;case"prio-medium":return We;case"prio-low":return Ye;case"cross":return ze;case"personal-bot":return Ve;case"share":return Qe;case"gripp-bot":return qe;case"heart-white":return Ke;case"link":return Je;case"menu-favourites":return Ze;case"new-chat":return Xe;default:return e}}(s),rotate:c,onClick:function(e){return m(e)},"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":i},u))})),tt=(o.a.memo(et),n(356)),nt=n.n(tt);n(611);function at(){var e=Object(i.a)(["\n  position: relative;\n  background-color: #fff;\n\n  .selectDiv {\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 10px;\n    padding: 10px;\n  }\n\n  .selectInputDiv {\n    margin: 15px 15px 20px;\n    padding: 0.5em 1em;\n    width: calc(100% - 30px);\n    box-sizing: border-box;\n    font-family: inherit;\n    font-size: 15px;\n    font-weight: 300;\n    border: 1px solid #cacaca;\n    border-radius: 10px;\n  }\n\n  .attributionDiv {\n    text-align: right;\n    text-transform: uppercase;\n    font-size: 12px;\n    font-weight: bold;\n    padding: 5px 16px;\n    letter-spacing: 0.25px;\n  }\n"]);return at=function(){return e},e}var rt=s.a.div(at()),it=o.a.forwardRef((function(e,t){var n=e.className,a=void 0===n?"":n;Object(c.useEffect)((function(){var n=function t(n){27===n.keyCode&&(e.handleShowGifPicker(),document.removeEventListener("keydown",t,!1))},a=function n(a){if(t){var r=document.querySelector(".picker-btn");t.current.contains(a.target)||a.target.contains(r)||(e.handleShowGifPicker(),document.removeEventListener("mousedown",n,!1))}};return document.querySelector(".selectInputDiv").focus(),document.addEventListener("mousedown",a,!1),document.addEventListener("keydown",n,!1),function(){document.removeEventListener("mousedown",a,!1),document.removeEventListener("keydown",n,!1)}}),[]);return o.a.createElement(rt,{className:"picker-gif ".concat(a),ref:t,orientation:e.orientation},o.a.createElement(nt.a,{theme:{select:"selectDiv",selectInput:"selectInputDiv",attribution:"attributionDiv"},onEntrySelect:function(t){e.onSelectGif(t)},requestKey:"na6sHnThmVFEFGTlKXlEkM5qtpx8kYUu",placeholder:"Search GIFs Here.."}))}));function ct(){var e=Object(i.a)([""]);return ct=function(){return e},e}function ot(){var e=Object(i.a)([""]);return ot=function(){return e},e}function st(){var e=Object(i.a)(["\n  cursor: hand;\n\n  svg {\n    position: relative;\n    top: 1px;\n  }\n"]);return st=function(){return e},e}function lt(){var e=Object(i.a)(["\n  position: absolute;\n  bottom: ",";\n  right: 5px;\n  top: ",";\n  z-index: 9999;\n  background-color: transparent;\n"]);return lt=function(){return e},e}var dt=s.a.div(lt(),(function(e){return"top"===e.orientation?"75px":null}),(function(e){return"bottom"===e.orientation?"75px":null})),ut=s.a.div(st()),mt=Object(s.a)(L.b)(ot()),pt=Object(s.a)(it)(ct()),ft=o.a.forwardRef((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.handleShowEmojiPicker,s=e.handleShowGifPicker,d=Object(c.useState)(!1),u=Object(r.a)(d,2),m=u[0],p=u[1];return Object(l.F)(t,i,!0),Object(l.F)(t,s,!0),o.a.createElement(dt,{ref:t,orientation:e.orientation,className:"common-picker ".concat(a),onMouseLeave:function(){e.onMouseLeave&&e.onMouseLeave()}},!1===m?o.a.createElement(mt,{className:"emoji-picker",title:"Emoji",set:"apple",onSelect:e.onSelectEmoji,theme:"light",showSkinTones:!1,showPreview:!1,i18n:{search:"Search",clear:"Clear",emojilist:"List of emoji",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}}):o.a.createElement(pt,{handleShowGifPicker:s,onSelectGif:e.onSelectGif,orientation:e.orientation}),o.a.createElement("div",{className:"block mt-2 common-picker-btn"},o.a.createElement(ut,{onClick:function(){p(!m)},className:"btn btn-primary"},"Switch to",!1===m?o.a.createElement(o.a.Fragment,null," Gif"):o.a.createElement(o.a.Fragment,null," Emoji"),o.a.createElement(H.c,{className:"ml-2",icon:"play"}))))})),bt=n(5),ht=n(19),_t=n(13);function Ot(){var e=Object(i.a)(["\n  padding-right: 16px;\n  ","\n  &:hover {\n    cursor: ",";\n    color: ",";\n\n    svg.feather-trash-2 {\n      color: #505050;\n    }\n  }\n  @media all and (max-width: 460px) {\n    width: 100%;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  svg {\n    &.feather-trash-2 {\n      position: absolute;\n      margin-left: 5px;\n      width: 11px;\n      top: -1px;\n      right: 0;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n"]);return Ot=function(){return e},e}function Et(){var e=Object(i.a)(["\n  width: 10px;\n  height: 10px;\n  margin-right: 10px;\n"]);return Et=function(){return e},e}function gt(){var e=Object(i.a)(["\n  ","\n  position: absolute;\n  z-index: 1000;\n  background-color: #fff;\n  padding: 10px 10px 5px;\n  border: 1px solid #e1e1e1;\n  border-radius: 8px;\n\n  &.orientation-top {\n    top: ","px;\n  }\n  &.orientation-bottom {\n    top: ",";\n  }\n  &.orientation-left {\n    right: 30px;\n    left: auto;\n  }\n  &.orientation-right {\n    left: 30px;\n    right: auto;\n  }\n\n  .fa {\n    font-size: 42px;\n  }\n  .file {\n    max-width: 200px;\n    max-height: 200px;\n    display: block;\n    border: 1px solid #e1e1e1;\n    border-radius: 8px;\n  }\n  .file-name {\n    display: block;\n  }\n  .file-delete {\n    margin-top: 10px;\n    cursor: pointer;\n    cursor: hand;\n    display: inline-block;\n    font-weight: bold;\n\n    &:hover {\n      color: #f44;\n    }\n\n    svg {\n      width: 11px;\n      height: 11px;\n      position: relative;\n      top: -1px;\n      margin-right: 5px;\n    }\n  }\n"]);return gt=function(){return e},e}function At(){var e=Object(i.a)(["\n  position: relative;\n  transition: all 0.3;\n\n  ul {\n    padding: 0;\n\n    li {\n      list-style: none;\n      position: relative;\n    }\n  }\n"]);return At=function(){return e},e}var vt,jt=s.a.div(At()),Ct=s.a.span(gt(),(function(e){return e.hide&&"display: none;"}),(function(e){return e.offsetTop-(e.clientHeight+20)}),(function(e){return e.offsetTop})),Tt=Object(s.a)(H.c)(Et()),yt=s.a.li(Ot(),(function(e){return e.isDeleted&&"text-decoration: line-through;"}),(function(e){return e.isDeleted?"inherit":"pointer"}),(function(e){return e.isDeleted?"inherit":"#972c86"}),(function(e){return e.isDeleted?"inherit":"#972c86"})),St=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.attachedFiles,i=e.handleRemoveFile,s=e.scrollRef,d=void 0===s?null:s,u=e.type,m=void 0===u?"modal":u,p=e.comment,f=void 0===p?null:p,b=e.showDelete,h=void 0===b||b,_=Object(bt.useDispatch)(),O=Object(I.i)(),E=Object(c.useState)(null),g=Object(r.a)(E,2),A=g[0],v=g[1],j=Object(bt.useSelector)((function(e){return e.session})).user,C={main:Object(c.useRef)(null),tooltip:Object(c.useRef)(null)},T=function(e){var t=e.currentTarget.dataset.targetIndex;if(!a[t].deleted_at)if("modal"===m)null!==A&&A.file.id===a[t].id?y(e):v({file:a[t],offsetTop:e.currentTarget.offsetTop+20});else{var n={file_id:a[t].id,files:a};_(Object(ht.Wb)(n))}},y=function(){v(null)},S=function(e){if(e.preventDefault(),e.stopPropagation(),"modal"===m)i(e.currentTarget.dataset.fileId),v(null);else if(O.hasOwnProperty("postId")){var t=e.currentTarget.dataset.fileId,n={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this file?",actions:{onSubmit:function(){_(Object(ht.n)({file_id:t,post_id:O.postId,message_id:f?f.id:null}))}}};_(Object(_t.a)(n))}},w=Object(l.ab)(C.main,C.tooltip,d,null!==A).orientation;return Object(l.F)(C.main,y,null!==A),o.a.createElement(jt,{ref:C.main,className:"file-attachments ".concat(n),onMouseLeave:function(){setTimeout((function(){v(null)}),500)}},o.a.createElement("ul",{className:"files"},a.map((function(e,t){return o.a.createElement(yt,{"data-target-index":t,key:t,onClick:T,title:e.search?e.search:e.name,isDeleted:e.deleted_at},o.a.createElement(Tt,{icon:"paperclip"}),e.search?e.search:e.name,!e.deleted_at&&h&&("modal"===m||j.id===e.uploader.id)&&o.a.createElement(H.c,{"data-file-id":e.id,onClick:S,icon:"trash-2"}))}))),null!==A&&o.a.createElement(Ct,{ref:C.tooltip,hide:null===w.horizontal||null===w.vertical,className:"tool-tip orientation-".concat(w.horizontal," orientation-").concat(w.vertical),clientHeight:w.clientHeight,offsetTop:A.offsetTop},o.a.createElement("a",{target:"_blank",href:A.file.src},function(e){switch(e.type){case"IMAGE":return e.hasOwnProperty("src")?o.a.createElement("img",{className:"file",src:e.src,alt:e.name}):o.a.createElement("img",{className:"file",src:e.view_link,alt:e.name});case"VIDEO":return e.hasOwnProperty("src")?o.a.createElement("video",{className:"file",controls:!0,playsInline:!0,autoPlay:!1,src:e.src}):o.a.createElement("video",{className:"file",controls:!0,playsInline:!0,autoPlay:!1,src:e.view_link});default:if(e.rawFile)switch(e.rawFile.type){case"application/x-zip-compressed":return o.a.createElement("i",{className:"fa fa-file-zip-o text-primary"});case"application/pdf":return o.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"});case"text/plain":return o.a.createElement("i",{className:"fa fa-file-text-o text-warning"});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return o.a.createElement("i",{className:"fa fa-file-excel-o text-success"});default:return o.a.createElement("i",{className:"fa fa-file text-warning"})}else switch(e.type){case"application/x-zip-compressed":return o.a.createElement("i",{className:"fa fa-file-zip-o text-primary"});case"application/pdf":return o.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"});case"text/plain":return o.a.createElement("i",{className:"fa fa-file-text-o text-warning"});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return o.a.createElement("i",{className:"fa fa-file-excel-o text-success"});default:return o.a.createElement("i",{className:"fa fa-file text-warning"})}}}(A.file),o.a.createElement("span",{className:"file-name"},A.file.name)),h&&o.a.createElement("span",{className:"file-delete","data-file-id":A.file.id,onClick:S},o.a.createElement(H.c,{icon:"trash-2"})," Delete")))})),wt=s.a.div(vt||(vt=Object(i.a)(["\n  position: relative;\n\n  .dropdown-toggle {\n    color: #212529 !important;\n\n    .dark & {\n      color: #c7c7c7 !important;\n    }\n\n    &:after {\n      margin-left: 10px;\n    }\n\n    &.show {\n      background: #afb8bd;\n      border-color: #afb8bd;\n      box-shadow: 0 0 0 0.2rem rgba(175, 184, 189, 0.4);\n    }\n    &:focus {\n      box-shadow: 0 0 0 0.2rem rgba(175, 184, 189, 0.4);\n    }\n  }\n  .dropdown-item {\n    cursor: pointer;\n  }\n"]))),kt=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.value,i=void 0===a?null:a,s=e.dropdown,d=Object(c.useRef)(),u=Object(c.useState)(!1),m=Object(r.a)(u,2),p=m[0],f=m[1],b=function(){f(!p)};Object(l.F)(d,b,p);var h=s.items.find((function(e){return e.value===i}));return o.a.createElement(wt,{className:"button-dropdown ".concat(n),ref:d},o.a.createElement("span",{className:"btn btn-outline-light dropdown-toggle d-flex justify-content-between ".concat(p?"show":""," ").concat(null!==i?"active":""),"data-toggle":"dropdown",onClick:b},s.label," ",h?h.label:""),o.a.createElement("div",{className:"dropdown-menu ".concat(p?"show":"")},s.items.map((function(e){return o.a.createElement("span",{className:"dropdown-item d-flex justify-content-between ".concat(i===e.value?"active":""),key:e.value,"data-value":e.value,onClick:function(t){e.onClick(t),b()}},e.label)}))))})),Nt=n(357),Rt=n.n(Nt),xt=function(e){var t=e.className,n=void 0===t?"":t,a=e.calendarIcon,r=void 0===a?null:a,i=e.clearIcon,s=void 0===i?null:i,l=e.dayPlaceholder,d=void 0===l?"dd":l,u=e.monthPlaceholder,m=void 0===u?"mm":u,p=e.yearPlaceholder,f=void 0===p?"yy":p,b=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(b.current){var e=b.current;e.onOutsideAction=function(t){e.wrapper&&!e.wrapper.contains(t.target)&&e.closeCalendar()}}})),o.a.createElement(Rt.a,Object.assign({className:"react-datetime-picker ".concat(n),ref:b,calendarIcon:r,clearIcon:s,dayPlaceholder:d,monthPlaceholder:m,yearPlaceholder:f},e))},It=n(43),Pt=n.n(It);function Dt(){var e=Object(i.a)([""]);return Dt=function(){return e},e}var Lt=Object(s.a)(Pt.a)(Dt()),Ft=o.a.memo((function(e){var t=e.arrowSize,n=void 0===t?5:t,a=e.distance,r=void 0===a?10:a,i=e.content,c=e.children,s=e.direction,l=void 0===s?"up-middle":s,d=Object(A.a)(e,["arrowSize","distance","content","children","direction"]);return o.a.createElement(Lt,Object.assign({direction:l,arrowSize:n,distance:r,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:i,zIndex:2e3},d),c)})),Mt=function(e){var t=e.className,n=void 0===t?"":t,a=e.label,r=e.badgeClassName,i=void 0===r?"badge-light text-white":r;return o.a.createElement("div",{className:"badge-wrapper mr-3 d-sm-inline d-none ".concat(n," ")},o.a.createElement("div",{className:"badge ".concat(i)},a))};n(107);function Ut(){var e=Object(i.a)(["\n  cursor: pointer;\n  padding: 0.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  background-color: rgba(255, 255, 225, 0.1);\n  border-radius: 6px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: #f8f8f8;\n  color: #696969 !important;\n  a {\n    text-decoration: none;\n    color: #696969 !important;\n    &.gdrive-link {\n      display: flex;\n    }\n\n    span {\n      &.link {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        max-width: calc(100% - 140px);\n        overflow: hidden;\n        display: inline-block;\n        margin-right: 0.1rem;\n        padding: 0;\n        line-height: 1.8;\n        position: relative;\n      }\n      &.preview-text {\n        font-weight: bold;\n        color: #696969 !important;\n      }\n    }\n  }\n"]);return Ut=function(){return e},e}s.a.div(Ut()),s.a.a(Gt||(Gt=Object(i.a)(["\nborder-radius: 5px !important;\nbackground-color: #FFF !important;\nbox-shadow: 0 1px 1px 0 rgba(0,0,0,0.11) !important; \ntext-decoration: none !important;\ndisplay: inline-block;\nheight: auto !important;\npadding:5px 10px;\nmargin-bottom: 5px;\ncolor: #000 !important;\nfont-family: Inter !important;\nfont-size: 13px !important;\nletter-spacing: 0 !important;\nline-height: 21px !important;\nmargin-right: 1pt;\nmargin-left: 1pt;\n::before { content : url(",");  display: inline-block;vertical-align: middle;line-height: normal; padding-right: .3em;}\n"])),(function(e){return e.favlink}));var Gt,Ht,Bt=n(120),Wt=["className","type","todoReminder"],Yt=s.a.div(Ht||(Ht=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem 0;\n  border-bottom: 1px solid #ebebeb;\n"]))),zt=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.type,r=e.todoReminder,i=Object(A.a)(e,Wt),c=Object(l.W)().localizeDate,s=Object(l.cb)()._t,d={reminderText:s("REMINDER.REMINDER_TEXT","A reminder is set for this ::type:: on ::date::",{type:function(){switch(a){case"POST":return s("REMINDER.TYPE_POST","post");case"POST_COMMENT":return s("REMINDER.TYPE_POST_COMMENT","comment");case"CHAT_MESSAGE":return s("REMINDER.TYPE_CHAT_MESSAGE","chat message")}}(),date:r.remind_at?c(r.remind_at.timestamp):r.reminder_at?c(r.reminder_at.timestamp):""})};return o.a.createElement(Yt,Object.assign({className:"".concat(n)},i),o.a.createElement(H.c,{className:"mr-2",height:"16",width:"16",icon:"clock"})," ",d.reminderText)})),Vt=n(358),Qt=n.n(Vt),qt=(n(222),n(14)),Kt=function(e){var t=e.body,n=e.autoPlay,a=void 0===n||n,r=Object(bt.useDispatch)(),i=Object(bt.useSelector)((function(e){return e.files.gifBlobs})),s=function(e){i[e.id]||fetch(e.src).then((function(e){return e.blob()})).then((function(t){var n=URL.createObjectURL(t);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};r(Object(ht.pb)(e,t))}({id:e.id,src:n})}))};Object(c.useEffect)((function(){var e=t.match(qt.b);e&&e.forEach((function(e){var t=e.replace("&amp;rid=giphy.gif","&rid=giphy.gif"),n=t.substring(t.indexOf("cid")+4);n=n.substring(0,n.length-"&rid=giphy.gif".length),s({id:n,src:t})}))}),[]);var l=t.match(qt.b).map((function(e){var t=e.replace("&amp;rid=giphy.gif","&rid=giphy.gif"),n=t.substring(t.indexOf("cid")+4);return n=n.substring(0,n.length-"&rid=giphy.gif".length)})),d=Object.values(l);return o.a.createElement(o.a.Fragment,null,d.length>0&&d.map((function(e,t){return i[e]?o.a.createElement(Qt.a,{className:"blob-gif-player gif-player",key:"".concat(e,"-").concat(t),gif:i[e],autoplay:a}):null})))},Jt=n(147),Zt=function(e){var t=e.dictionary,n=e.formRef,r=e.selectedAddressTo,i=e.workspaceIds,c=e.userOptions;return o.a.createElement("div",{className:"post-visibility-container",ref:function(e){var t,a;if(e){n.visibilityInfo.current=e;var r=e.querySelector(".user-popup:not([data-event='1'])");r&&(r.addEventListener("mouseover",(function(){if(n.visibilityInfo.current){var e=n.visibilityInfo.current.querySelector(".user-list"),a=n.visibilityInfo.current.querySelector(".user-popup");t=setTimeout((function(){a.matches(":hover")&&e.classList.add("active")}),1e3)}})),r.addEventListener("mouseout",(function(){n.visibilityInfo.current&&(n.visibilityInfo.current.querySelector(".user-list").classList.remove("active"),clearTimeout(t))})),r.dataset.event="1");var i=e.querySelector(".workspace-popup:not([data-event='1'])");i&&(i.addEventListener("mouseover",(function(){if(n.visibilityInfo.current){var e=n.visibilityInfo.current.querySelector(".workspace-list"),t=n.visibilityInfo.current.querySelector(".workspace-popup");a=setTimeout((function(){t.matches(":hover")&&e.classList.add("active")}),1e3)}})),i.addEventListener("mouseout",(function(){n.visibilityInfo.current&&(n.visibilityInfo.current.querySelector(".workspace-list").classList.remove("active"),clearTimeout(a))})),i.dataset.event="1")}}},o.a.createElement("span",{className:"user-list"},c.map((function(e){return o.a.createElement("span",{key:e.id},o.a.createElement("span",{title:e.email,className:"user-list-item d-flex justify-content-start align-items-center pt-2 pb-2"},o.a.createElement(a.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id}),o.a.createElement("span",{className:"item-user-name"},e.name)))}))),o.a.createElement("span",{className:"workspace-list"},r.filter((function(e){return i.includes(e.type_id)})).map((function(e){return o.a.createElement("span",{className:"d-flex justify-content-start align-items-center pt-2 pb-2",key:e.id},o.a.createElement("span",{className:"item-workspace-name"},e.name))}))),o.a.createElement("span",{className:"d-flex align-items-center post-info",dangerouslySetInnerHTML:{__html:t.postVisibilityInfo}}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),i=n(347),c=n(162);function o(e,t,n,a,o){return function(s){s({type:t}),e.then((function(e){200===e.status||201===e.status||204===e.status?(s({type:n,data:e.data}),o&&o(null,e)):s({type:a,error:e})})).catch((function(e){if(e.response){if(422===e.response.status||403===e.response.status){for(var t=Object.entries(e.response.data.errors),n="",l=0,d=t.length;l<d;l++)for(var u=t[l],m=0,p=u[1].length;m<p;m++){var f=u[1][m];n+="".concat(f)}i.toastr.warning("Something went wrong",{component:function(){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}})}})}401===e.response.status&&Object(c.b)(),s({type:a,error:e}),o&&o(e)}else Object(c.b)()}))}}function s(e,t,n){return function(a){a({type:e,data:t}),n&&n()}}},function(e,t,n){"use strict";n.d(t,"o",(function(){return l.a})),n.d(t,"F",(function(){return m})),n.d(t,"M",(function(){return S})),n.d(t,"U",(function(){return w})),n.d(t,"ab",(function(){return R})),n.d(t,"R",(function(){return G})),n.d(t,"L",(function(){return B})),n.d(t,"K",(function(){return H})),n.d(t,"n",(function(){return z})),n.d(t,"O",(function(){return V})),n.d(t,"l",(function(){return Q})),n.d(t,"B",(function(){return q})),n.d(t,"J",(function(){return J})),n.d(t,"bb",(function(){return te})),n.d(t,"S",(function(){return re})),n.d(t,"v",(function(){return ie})),n.d(t,"b",(function(){return se})),n.d(t,"a",(function(){return ce.a})),n.d(t,"fb",(function(){return le.a})),n.d(t,"eb",(function(){return de.a})),n.d(t,"gb",(function(){return ue})),n.d(t,"H",(function(){return pe})),n.d(t,"hb",(function(){return fe})),n.d(t,"T",(function(){return _e})),n.d(t,"h",(function(){return Oe})),n.d(t,"e",(function(){return Ee})),n.d(t,"g",(function(){return ve})),n.d(t,"jb",(function(){return je})),n.d(t,"kb",(function(){return Ce})),n.d(t,"s",(function(){return Te})),n.d(t,"r",(function(){return ye.a})),n.d(t,"X",(function(){return Re})),n.d(t,"E",(function(){return xe})),n.d(t,"D",(function(){return Ie})),n.d(t,"W",(function(){return Le})),n.d(t,"Q",(function(){return Be})),n.d(t,"P",(function(){return We})),n.d(t,"G",(function(){return Ye})),n.d(t,"N",(function(){return ze})),n.d(t,"w",(function(){return Je})),n.d(t,"p",(function(){return Ze.a})),n.d(t,"k",(function(){return Xe})),n.d(t,"j",(function(){return $e})),n.d(t,"m",(function(){return tt})),n.d(t,"i",(function(){return nt})),n.d(t,"C",(function(){return at})),n.d(t,"nb",(function(){return rt})),n.d(t,"Y",(function(){return it})),n.d(t,"Z",(function(){return ot})),n.d(t,"lb",(function(){return st})),n.d(t,"t",(function(){return lt})),n.d(t,"A",(function(){return ut})),n.d(t,"d",(function(){return bt})),n.d(t,"ib",(function(){return ht})),n.d(t,"V",(function(){return _t})),n.d(t,"y",(function(){return Ot})),n.d(t,"x",(function(){return Et})),n.d(t,"z",(function(){return gt})),n.d(t,"I",(function(){return At})),n.d(t,"mb",(function(){return vt})),n.d(t,"f",(function(){return jt})),n.d(t,"c",(function(){return Ct.a})),n.d(t,"q",(function(){return Tt})),n.d(t,"cb",(function(){return F})),n.d(t,"u",(function(){return yt})),n.d(t,"db",(function(){return St}));var a,r,i,c,o,s,l=n(86),d=n(0),u=n.n(d),m=function(e,t,n){var a=Object(d.useRef)(t);Object(d.useEffect)((function(){a.current=t}));var r=function(t){e.current&&!e.current.contains(t.target)&&a.current()},i=function(e){27===e.keyCode&&a.current()};Object(d.useEffect)((function(){if(n)return document.addEventListener("click",r),document.addEventListener("keydown",i),function(){document.removeEventListener("click",r),document.removeEventListener("keydown",i)}}),[n])},p=n(1),f=n(11),b=n(6),h=n(52),_=n(5),O=n(100),E=n(235),g=n.n(E),A=n(352),v=n.n(A),j=n(14),C=n(42),T=n(7),y=n(28),S=function(e){var t=e.mode,a=e.callback,r=void 0===a?null:a,i=e.removeMention,c=void 0===i?null:i,o=e.mentionOrientation,s=void 0===o?"top":o,l=e.quillRef,m=e.members,E=void 0===m?[]:m,A=e.workspaces,S=void 0===A?[]:A,w=e.disableMention,k=void 0!==w&&w,N=e.setInlineImages,R=void 0===N?null:N,x=e.prioMentionIds,I=void 0===x?[]:x,P=e.post,D=void 0===P?null:P,L=e.setImageLoading,F=void 0===L?null:L,M=Object(d.useState)({}),U=Object(b.a)(M,2),G=U[0],B=U[1],W=Object(d.useState)([]),Y=Object(b.a)(W,2),z=Y[0],V=Y[1],Q=Object(_.useSelector)((function(e){return e.global.recipients})),q=Object(_.useSelector)((function(e){return e.users.mentions})),K=Object(_.useSelector)((function(e){return e.session.user})),J=Object(_.useSelector)((function(e){return e.chat.selectedChannel})),Z=H(J),X=H(D),$=Object(d.useRef)(r),ee=Object(d.useRef)(c);Object(d.useEffect)((function(){$.current=r,ee.current=c}));var te=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),ne=te.REACT_APP_apiProtocol,ae=te.REACT_APP_localDNSName,re=function(){if(0!==Object.keys(q).length){var e={id:n(64).generate(),profile_image_link:n(627),value:"All",name:"All users in this channel",class:"all-pic",show_line:!1},a=[],r=[],i=I;a=E.length?[].concat(Object(f.a)(E.sort((function(e,t){return I.length?i.some((function(t){return t===e.id}))&&i.some((function(e){return e===t.id}))?0:i.some((function(t){return t===e.id}))?-1:1:0})).map((function(e,t){var n=Q.find((function(t){return"USER"===t.type&&e.id===t.type_id}));return Object.assign({},e,{value:""!==e.first_name.trim()?e.first_name:e.email,id:n?n.id:e.id,name:""!==e.name.trim()?e.name:e.email,type:e.type,type_id:e.id,user_id:e.id,class:"user-pic",profile_image_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link?e.profile_image_link:g.a,link:"".concat(ne).concat(localStorage.getItem("slug"),".").concat(ae,"/profile/").concat(e.id,"/").concat(Object(j.h)(e.name)),show_line:I.length===t+1})}))),[e]):[].concat(Object(f.a)(Object.values(q).sort((function(e,t){return I.length?i.some((function(t){return t===e.id}))&&i.some((function(e){return e===t.id}))?0:i.some((function(t){return t===e.id}))?-1:1:0})).map((function(e,t){var n=Q.find((function(t){return"USER"===t.type&&e.id===t.type_id}));return Object.assign({},e,{value:""!==e.first_name.trim()?e.first_name:e.email,id:n?n.id:e.id,name:""!==e.name.trim()?e.name:e.email,type:e.type,type_id:e.id,user_id:e.id,class:"user-pic all-users",profile_image_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link?e.profile_image_link:g.a,link:"".concat(ne).concat(localStorage.getItem("slug"),".").concat(ae,"/profile/").concat(e.id,"/").concat(Object(j.h)(e.name)),show_line:I.length===t+1})}))),[e]),Object.keys(S).length&&(r=Object(f.a)(Object.entries(S).map((function(e,t){var n=Object(b.a)(e,2),a=(n[0],n[1]);return Object.assign({},a,Object(p.a)(Object(p.a)({},a),{},{value:a.name,name:a.name,id:a.id,type:"TOPIC",type_id:a.id,icon:"compass",profile_image_link:v.a,link:"".concat(ne).concat(localStorage.getItem("slug"),".").concat(ae,"/workspace/chat/").concat(a.id,"/").concat(Object(j.h)(a.name))}))})))),k?(a=[],r=[]):(V(a),V(r));var c={magicUrl:!0,clipboard:{allowed:{tags:["a","b","strong","u","s","i","p","br","ul","ol","li","div","span"],attributes:["href","rel","target","class"]}},mention:{allowedChars:/^[A-Za-z\s\xc5\xc4\xd6\xe5\xe4\xf6\xeb]*$/,defaultMenuOrientation:s,spaceAfterInsert:!0,fixMentionsToQuill:!1,mentionDenotationChars:["@","/"],minChars:0,dataAttributes:["id","value","denotationChar","link","target","disabled","type_id","type","show_line"],source:function(e,t,n){var i;if("@"===n&&(i=a),"/"===n&&(i=r),0===e.length)t(i,e);else{var c,o=[];for(c=0;c<i.length;c++)~i[c].value.toLowerCase().indexOf(e.toLowerCase())&&o.push(i[c]);t(o,e)}},renderItem:function(e,t){var n={position:"relative",width:"30px",height:"30px",minWidth:"30px",minHeight:"30px",borderRadius:"50%",marginRight:"10px",zIndex:"1",pointerEvents:"auto",border:"none",overflow:"hidden",cursor:"pointer"};return"string"===typeof e.id&&(n={position:"relative",width:"24px",height:"24px",minWidth:"24px",minHeight:"24px",borderRadius:"50%",marginRight:"10px",zIndex:1,pointerEvents:"auto",border:"none",overflow:"hidden",cursor:"pointer"}),Object(y.renderToString)(u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:e.class,style:n},"WORKSPACE"===e.type||"TOPIC"===e.type?u.a.createElement(T.s,{icon:"compass",width:24,height:24,strokeWidth:"3"}):u.a.createElement("img",{src:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,style:{width:"100%",height:"100%",position:"absolute",left:0,top:0},alt:e.value})),"\xa0"," ",u.a.createElement("span",{style:{width:"auto",lineHeight:1.35}},e.name," ","external"===e.type&&"internal"===K.type&&u.a.createElement(T.s,{icon:"share",width:14,height:14,strokeWidth:"3"}))))}},toolbar:["bold","italic","image","link"],keyboard:{bindings:{tab:!1,handleBackspace:{key:8,metaKey:!(!h.osName.includes("Mac")||"chat"===t),handler:function(e,n){0===e.index&&0===e.length||(0===e.length?this.quill.deleteText(e.index-1,1,O.Quill.sources.USER):this.quill.deleteText(e,O.Quill.sources.USER),"post_comment"===t&&ee.current())}},handleEnter:{key:13,metaKey:!(!h.osName.includes("Mac")||"chat"===t),ctrlKey:!(!h.osName.includes("Windows")&&!h.osName.includes("Linux")||"chat"===t),handler:function(){$.current()}},linebreak:{key:13,metaKey:!0,handler:function(e,n){h.osName.includes("Mac")&&"chat"===t&&(l.current.getEditor().insertEmbed(e.index+1,"block",!0,"user"),l.current.getEditor().setSelection(e.index+1,O.Quill.sources.SILENT))}},disableUnderline:{key:85,ctrlKey:!0,handler:function(){console.warn("copy paste pressed")}}}}};"chat"===t||(c=Object(p.a)(Object(p.a)({},c),{},{imageUploader:{upload:function(e){if(R)return F&&F(!0),new Promise((function(t,n){var a=new FormData;a.append("file",e),Object(C.D)({user_id:K.id,file:a,file_type:"private",folder_id:null}).then((function(e){R&&R((function(t){return[].concat(Object(f.a)(t),[e.data])})),F&&F(!1),t(e.data.thumbnail_link)})).catch((function(e){n("Upload failed"),F&&F(!1),console.error("Error:",e)}))}))}}})),B(c)}};Object(d.useEffect)((function(){re()}),[]),Object(d.useEffect)((function(){Object.keys(q).length&&Object.keys(q).length+1!==z.length&&re()}),[Object.keys(q).length,z.length]),Object(d.useEffect)((function(){"chat"===t&&J&&Z&&Z.id!==J.id&&re()}),[t,J,Z]),Object(d.useEffect)((function(){"post_comment"===t&&D&&"undefined"===typeof X&&re()}),[t,D,X]),Object(d.useEffect)((function(){re()}),[Q.length,E.length,I.length]);return{modules:G,formats:["background","bold","color","font","code","italic","link","size","strike","script","blockquote","header","indent","list","align","direction","image","video"]}},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,r=Object(_.useSelector)((function(e){return e.session.user})),i=Object(_.useSelector)((function(e){return e.chat.searchArchivedChannels})),c=re(),o=c.chatSettings,s=[],l=Object.values(e).filter((function(e){var c=e.members.some((function(e){return e.id===r.id}));if("DIRECT"===e.type&&2===e.members.length){var o=e.members.find((function(e){return e.id!==r.id}));if(o&&s.includes(o))return!1;o&&s.push(o)}if("undefined"===typeof e.add_user&&(e.add_user=!1),"undefined"===typeof e.add_open_topic&&(e.add_open_topic=!c),n.type&&"DIRECT"===n.type){if("DIRECT"!==e.type&&"PERSON"!==e.type)return!1;if(2!==e.members.length)return!1}return!(a&&("TOPIC"!==e.type||!c))&&(e.is_relevant=0,t.length>=5&&"DIRECT"===e.type&&e.members.filter((function(e){return e.id!==r.id})).some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())}))&&(e.is_relevant=1),""===t?!(e.is_hidden||!0===e.is_archived||e.add_user||e.add_open_topic):"DIRECT"===e.type&&2===e.members.length?e.members.filter((function(e){return e.id!==r.id})).some((function(n){return(-1!==n.email.toLowerCase().search(t.toLowerCase())||-1!==n.name.toLowerCase().search(t.toLowerCase()))&&(!!i||!e.is_archived)})):!(-1===e.search.toLowerCase().search(t.toLowerCase())&&-1===e.title.toLowerCase().search(t.toLowerCase())&&!e.members.filter((function(e){return e.id!==r.id})).some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(-1!==t.toLowerCase())})))&&(!!i||!e.is_archived))})).sort((function(e,n){var a;if(0!==(a=n.is_relevant-e.is_relevant))return a;if((e.add_user||e.add_open_topic)&&!n.add_user&&!n.add_open_topic)return 1;if((n.add_user||n.add_open_topic)&&!e.add_user&&!e.add_open_topic)return-1;if(0!==a)return a;if(""!==t){if("DIRECT"!==e.type||"DIRECT"!==n.type){if("DIRECT"===e.type)return-1;if("DIRECT"===n.type)return 1}if(!e.last_reply&&!n.last_reply&&("DIRECT"===e.type||"DIRECT"===n.type)){if("DIRECT"===e.type)return-1;if("DIRECT"===n.type)return 1}}if(t.length>2){if((n.is_hidden||!0===n.is_archived)&&!e.is_hidden&&!0!==n.is_archived)return-1;if((e.is_hidden||!0===e.is_archived)&&!n.is_hidden&&!0!==n.is_archived)return 1}if("channel_date_updated"===o.order_channel.order_by){if(e.last_reply&&n.last_reply)return e.last_reply.created_at.timestamp===n.last_reply.created_at.timestamp?e.title.localeCompare(n.title):n.last_reply.created_at.timestamp-e.last_reply.created_at.timestamp;if(e.last_reply&&!n.last_reply)return-1;if(!e.last_reply&&n.last_reply)return 1;if(!e.last_reply&&!n.last_reply)return e.title.localeCompare(n.title)}return"channel_name"===o.order_channel.order_by?e.title.localeCompare(n.title):void 0}));return{sortedChannels:l,favoriteChannels:l.filter((function(e){return e.is_pinned})),searchArchivedChannels:i}},k=n(54),N=n.n(k),R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=r.horizontal,c=void 0===i?0:i,o=Object(d.useState)({vertical:null,horizontal:null,clientHeight:null}),s=Object(b.a)(o,2),l=s[0],u=s[1],m=function(){if(!e)return null;var a=e.current.getBoundingClientRect();return n?n.clientHeight-a.y>t.current.clientHeight/2?"bottom":"top":a.y-t.current.clientHeight<t.current.clientHeight?"bottom":"top"},p=function(){if(!e)return null;var t=e.current.getBoundingClientRect(),a=window.innerWidth/2,r=0;return n&&(r=n.parentElement.getBoundingClientRect().x,a=n.parentElement.clientWidth/2),r+=c,t.x-r<a?"right":"left"},f=N.a.debounce((function(){t.current&&u({vertical:m(),horizontal:p(),clientHeight:t.current.clientHeight})}),100);return Object(d.useEffect)((function(){if(a)return f(),n&&n.addEventListener("scroll",f),function(){n&&n.removeEventListener("scroll",f)}}),[a,n,p,m,t,e]),Object(d.useEffect)((function(){a&&0===l.clientHeight&&f()}),[a,l]),{orientation:l}},x=n(2),I=n(3),P=n(77),D=n(39),L=n(36),F=function(){var e=localStorage.getItem("i18n")?JSON.parse(localStorage.getItem("i18n")):{},t=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n;if(null!==e&&"undefined"!==typeof e[t]&&(r=e[t]),null!==a)for(var i in a)if(a.hasOwnProperty(i)){var c=new RegExp("::"+i+"::","ig");r=null===a[i]?r.replace(c,""):r.replace(c,a[i])}return Object(L.i)()?"** ".concat(r," **"):r};return{_t:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t(e,n,a)}}},M=Object(I.a)(T.i)(a||(a=Object(x.a)(["\n  display: block;\n"]))),U=I.a.a(r||(r=Object(x.a)(['\n  display: inline-block;\n  position: relative;\n  margin-left: 0.5rem;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  &:before {\n    position: absolute;\n    left: -14px;\n    top: -2px;\n    bottom: 0;\n    width: 6px;\n    height: 100%;\n    background: linear-gradient(180deg, rgba(106, 36, 126, 1) 0%, rgba(216, 64, 113, 1) 100%);\n    content: "";\n    border-radius: 6px 0 0 6px;\n  }\n\n  .card-body {\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n    padding: 1rem;\n  }\n']))),G=function(e){var t=Object(D.i)(),n=F()._t,a=Object(_.useSelector)((function(e){return e.chat.chatQuotes})),r=Object(_.useSelector)((function(e){return e.chat.selectedChannel})),i=Object(d.useState)(null),c=Object(b.a)(i,2),o=c[0],s=c[1],l=Object(d.useState)(null),m=Object(b.a)(l,2),p=m[0],f=m[1];return Object(d.useEffect)((function(){if(Object.keys(a).length>0){var e=Object.values(a).filter((function(e){return e.channel_id===r.id}));if(e.length){s(e[0]),e=e[0];var i="";if(e.user&&(e.body.startsWith('{"Welk punt geef je ons"')||e.body.startsWith("ZAP_SUBMIT::"))){try{var c=JSON.parse(e.body.replace("ZAP_SUBMIT::",""));i="<span class='zap-submit'>",i+="<span>Hoi, ".concat(c.project_manager," Bedrijf ").concat(c.company_name," heeft een NPS review achtergelaten voor project: ").concat(c.project_name,"</span><div><br/></div>"),Object.keys(c).filter((function(e){return"submission_id"!==e})).forEach((function(e){var t;""!==c[e]&&(i+='<span class="data-key">'.concat(e,'</span> : <span class="data-value">').concat(isNaN(c[e])?"true"===(t=c[e]).toLowerCase()?"\ud83d\udc4d":"false"===t.toLowerCase()?"\ud83d\udc4e":t:function(e){for(var t="",n=1;n<=10;n++)t+=Object(y.renderToString)(u.a.createElement(T.s,{width:16,icon:"star",fill:n<=e?"#ffc107":"none"}));return t}(parseInt(c[e])),"</span><br/>"))})),i+="</span>"}catch(E){return e.body}}else if(e.user){var o=document.createElement("div");o.innerHTML=e.body;for(var l=o.getElementsByTagName("img"),d=0;d<l.length;d++)i+=Object(y.renderToString)(u.a.createElement(M,{className:"image-quote",target:"_blank",href:l[0].getAttribute("src"),icon:"image-video"},"Photo"));for(var m=o.getElementsByTagName("video"),p=0;p<m.length;p++)i+=Object(y.renderToString)(u.a.createElement(M,{className:"video-quote",target:"_blank",href:m[0].getAttribute("player-source"),icon:"image-video"},"Video"));e.files&&e.files.forEach((function(e){"image"===e.type?i+=Object(y.renderToString)(u.a.createElement(M,{className:"image-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Photo")):"video"===e.type?i+=Object(y.renderToString)(u.a.createElement(M,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Video")):i+=Object(y.renderToString)(u.a.createElement(M,{target:"_blank",href:e.view_link,icon:"download"},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),i+=P.a.parseEmoji(e.body)}else if(e.body.startsWith("CHANNEL_UPDATE"))i=document.getElementById("bot-".concat(e.id)).outerHTML;else if(e.body.startsWith("POST_CREATE::")){if(""!==e.body.replace("POST_CREATE::","").trim()){var b=JSON.parse(e.body.replace("POST_CREATE::","")),h="";h=t&&t.workspaceId?t.folderId?"/workspace/posts/".concat(t.folderId,"/").concat(t.folderName,"/").concat(t.workspaceId,"/").concat(t.workspaceName,"/post/").concat(b.post.id,"/").concat(b.post.title):"/workspace/posts/".concat(t.workspaceId,"/").concat(t.workspaceName,"/post/").concat(b.post.id,"/").concat(b.post.title):"/posts/".concat(b.post.id,"/").concat(b.post.title);var _=P.a.parseToText(b.post.description);i=Object(y.renderToString)(u.a.createElement(U,{href:h,className:"push-link","data-href":h,"data-has-link":"0","data-ctrl":"0"},u.a.createElement("b",null,b.author.first_name)," created the post ",u.a.createElement("b",null,'"',b.post.title,'"'),""!==_.trim()&&u.a.createElement("span",{className:"card card-body",dangerouslySetInnerHTML:{__html:_}})))}}else if(e.body.startsWith("UPLOAD_BULK::")){var O=JSON.parse(e.body.replace("UPLOAD_BULK::",""));i=O.files&&1===O.files.length?n("SYSTEM.USER_UPLOADED_FILE",'<span class="chat-file-notification">::name:: uploaded <b>::filename::</b></span>',{name:O.author.first_name,filename:O.files[0].search}):n("SYSTEM.USER_UPLOADED_FILES",'<span class="chat-file-notification">::name:: uploaded ::count::  <b>files</b></span>',{name:O.author.first_name,count:O.files.length})}else i=e.body;f(i)}else s(null),f(null)}else s(null),f(null)}),[a,r,n]),[o,p]},H=function(e){var t=Object(d.useRef)();return Object(d.useEffect)((function(){t.current=e})),t.current},B=function(e,t){var n=Object(_.useSelector)((function(e){return e.chat.selectedChannel})),a=Object(d.useRef)(e),r=H(n);Object(d.useEffect)((function(){a.current=e}));Object(d.useEffect)((function(){null!==r&&null!==n&&r&&r.id!==n.id&&(a.current(),t.current.focus())}),[n,r])},W=n(16),Y=n(13),z=function(e,t,n,a,r){var i=Object(_.useDispatch)(),c=Object(_.useSelector)((function(e){return e.chat})),o=c.selectedChannel,s=c.channelDraftsLoaded,l=c.channelDrafts,u=H(o),m=Object(d.useRef)(e);Object(d.useEffect)((function(){m.current=e}));var f=function(){if(o&&Object.keys(l).length>0&&l.hasOwnProperty(o.id)){var e=Object(p.a)({},l[o.id]);m.current(e)}else m.current(null)},b=function(e){if(""===a.trim()){if(!r)return;i(Object(Y.g)({type:"channel",draft_id:r}))}var c={draft_type:t,type:t,created_at:{timestamp:Math.floor(Date.now()/1e3)}};"channel"===t&&(c=Object(p.a)(Object(p.a)({},c),{},{text:n,channel_id:e})),r?(c=Object(p.a)(Object(p.a)({},c),{},{draft_id:r}),i(Object(Y.cb)(c)),i(Object(W.g)(c))):i(Object(Y.Q)(c))};Object(d.useEffect)((function(){return 0!==Object.keys(l).length||s||i(Object(W.w)()),f(),function(){return b()}}),[]),Object(d.useEffect)((function(){null!==u&&null!==o&&u&&u.id!==o.id&&(b(u.id),f()),null===u&&null!==o&&f()}),[o,u,f,b])},V=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=Object(d.useRef)(e);Object(d.useEffect)((function(){i.current=e}));var c=Object(_.useDispatch)(),o=Object(_.useSelector)((function(e){return e.global.modals})),s=Object(_.useSelector)((function(e){return e.global.dataFromInput}));Object(d.useEffect)((function(){null!==s&&(void 0!==s.sent&&!0===s.sent?(i.current(),c(Object(Y.c)())):void 0!==s.sent&&!1===s.sent&&c(Object(Y.c)()))}),[s]),Object(d.useEffect)((function(){if(Object.keys(o).length&&o.hasOwnProperty("file_upload")&&!s){var e={text:t,textOnly:n,quillContents:a,approvers:r};(""!==n.trim()||r.length)&&c(Object(Y.R)(e))}}),[Object.keys(o).length,n,r,s])},Q=function(e){var t=Object(_.useSelector)((function(e){return e.chat.selectedChannel})),n=0;return null!==t&&t.replies&&t.replies.length&&(n=t.replies.filter((function(e){return!e.is_read})).length),n},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(_.useSelector)((function(e){return e.session.user})),n=!!e.length&&e.some((function(e){return e===t.id}));return n},K=n(17),J=function(){var e=pe(),t=Object(_.useDispatch)(),n=Object(D.i)(),a=Object(_.useSelector)((function(e){return e.workspaces})),r=a.flipper,i=a.workspacePosts,c=Object(_.useSelector)((function(e){return e.posts.recentPosts})),o=Object(_.useSelector)((function(e){return e.session.user})),s=Object(_.useSelector)((function(e){return e.posts})).postsLists,l=Object(d.useState)(!1),u=Object(b.a)(l,2),m=u[0],p=u[1],f=Object(d.useRef)(!0);Object(d.useEffect)((function(){return function(){f.current=null}}),[]),Object(d.useEffect)((function(){if(void 0!==n.workspaceId&&!i.hasOwnProperty(n.workspaceId)&&!m){p(!0);var a={topic_id:parseInt(n.workspaceId)};e.getPosts(a,(function(a,r){if(f.current&&p(!1),!a){var i=r.data.posts.map((function(e){return e.files}));i.length&&(i=i.flat()),e.getTagsCount(parseInt(n.workspaceId)),t(Object(K.g)({topic_id:parseInt(n.workspaceId),posts:r.data.posts,files:i,filters:{all:{active:!0,skip:r.data.next_skip,hasMore:r.data.total_take===r.data.posts.length}}}))}})),e.fetchPostList();e.getPosts({filters:["post","archived"],topic_id:parseInt(n.workspaceId)},(function(e,a){if(f.current&&p(!1),!e){var r=a.data.posts.map((function(e){return e.files}));r.length&&(r=r.flat()),t(Object(K.g)({topic_id:parseInt(n.workspaceId),posts:a.data.posts,filter:a.data.posts,files:r,filters:{archived:{active:!1,skip:a.data.next_skip,hasMore:25===a.data.total_take}}}))}}));e.getPosts({filters:["green_dot"],topic_id:parseInt(n.workspaceId),skip:0,limit:25},(function(e,a){if(f.current&&p(!1),!e){var r=a.data.posts.map((function(e){return e.files}));r.length&&(r=r.flat()),t(Object(K.g)({topic_id:parseInt(n.workspaceId),posts:a.data.posts,filter:a.data.posts,files:r,filters:{unreadPosts:{skip:a.data.next_skip,hasMore:25===a.data.total_take}}}))}}))}}),[n]);var h=null,O=[],E=null,g=null,A=null,v="recent",j=null,C="",T={is_must_reply:0,is_must_read:0,is_read_only:0,is_unread:0,is_close:0},y={all:0,my_posts:0,starred:0,archived:0,drafts:0,new_reply:0},S=null;if(Object.keys(c).length&&c.hasOwnProperty(n.workspaceId)&&(h=c[n.workspaceId].posts),Object.keys(i).length&&i.hasOwnProperty(n.workspaceId)){var w=i[n.workspaceId],k=w.filter,N=w.sort,R=w.tag,x=w.postListTag,I=w.posts,P=w.search,L=w.searchResults,F=w.filters;C=P,v=N,E=k,S=F,g=R,A=x,y={drafts:Object.values(I).filter((function(e){return"draft_post"===e.type})).length},I.hasOwnProperty(n.postId)&&(j=I[n.postId]),O=Object.values(I),L.length>0&&P?O=O.filter((function(e){return L.some((function(t){return e.id===t.id}))})):0===L.length&&P&&(O=[]),O=O.filter((function(e){return E?"all"===E?!e.hasOwnProperty("draft_type"):"inbox"===E?""!==P?!e.hasOwnProperty("draft_type"):!e.hasOwnProperty("draft_type")&&1!==e.is_archived&&1===e.is_unread:"my_posts"===E?!(!e.hasOwnProperty("author")||e.hasOwnProperty("draft_type"))&&e.author.id===o.id:"draft"===E?e.hasOwnProperty("draft_type"):"star"===E?e.is_favourite&&!e.hasOwnProperty("draft_type"):"archive"===E?1===e.is_archived&&!e.hasOwnProperty("draft_type"):void 0:g?"is_must_reply"===g?e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===o.id&&e.is_must_reply||e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply})):"is_must_read"===g?e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===o.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===o.id&&e.is_must_read||e.must_read_users&&e.must_read_users.some((function(e){return e.id===o.id&&!e.must_read})):"is_read_only"===g?e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_unread"===R?!e.hasOwnProperty("draft_type")&&1!==e.is_archived&&1===e.is_unread:"is_close"===R?e.is_close&&!e.hasOwnProperty("draft_type"):!!isNaN(parseInt(g))||e.post_list_connect.length>0&&e.post_list_connect[0].id===parseInt(R):!A||(!!isNaN(parseInt(A))||e.post_list_connect.length>0&&e.post_list_connect[0].id===parseInt(A))})).sort((function(e,t){return t.updated_at.timestamp>e.updated_at.timestamp?1:-1})),T={is_must_reply:Object.values(I).filter((function(e){return e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===o.id&&e.is_must_reply||e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply}))})).length,is_must_read:Object.values(I).filter((function(e){return e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===o.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===o.id&&e.is_must_read||e.must_read_users&&e.must_read_users.some((function(e){return e.id===o.id&&!e.must_read}))})).length,is_read_only:Object.values(I).filter((function(e){return e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,is_unread:Object.values(I).filter((function(e){return!e.hasOwnProperty("draft_type")&&1!==e.is_archived&&1===e.is_unread})).length,is_close:Object.values(I).filter((function(e){return e.is_close&&!e.hasOwnProperty("draft_type")})).length}}return{flipper:r,actions:e,posts:O,filter:E,tag:g,postListTag:A,sort:v,post:j,search:C,user:o,recentPosts:h,count:T,counters:y,filters:S,postLists:s}},Z=n(12),X=n(21),$={dict:"i18n",lang:"i18n_lang",name:"i18n_ver"},ee=!1,te=function(){var e=Object(_.useDispatch)(),t=Object(_.useSelector)((function(e){return e.session})),n=Object(l.a)().registeredDriff,a=re(),r=a.driffSettings,i=a.generalSettings.language,c=a.setGeneralSetting,o=localStorage.getItem("i18n")?JSON.parse(localStorage.getItem("i18n")):{},s=localStorage.getItem("i18new")?JSON.parse(localStorage.getItem("i18new")):{},u=Object(d.useState)(""),m=Object(b.a)(u,2),f=m[0],h=m[1],O=n?"https://{{driffName}}.driff.io/api/lang".replace("{{driffName}}",n):"https://{{driffName}}.driff.io/api/lang".replace("{{driffName}}.",""),E={main:(navigator.language||navigator.userLanguage).split("-")[0],exact:navigator.language||navigator.userLanguage};Object(d.useEffect)((function(){ee||!t.checked||t.authenticated&&null===i||(ee=!0,localStorage.removeItem("i18n.28082020"),localStorage.removeItem("i18n_lang.28082020"),$.ver=r.i18n,localStorage.getItem($.name)!==$.ver&&(localStorage.removeItem($.dict),localStorage.removeItem($.lang),localStorage.setItem($.name,$.ver)),h(i?"".concat(O,"/").concat(i):"".concat(O,"/").concat(E.exact)))})),Object(d.useEffect)((function(){f&&e(Object(Y.z)({url:f},(function(e,t){t&&(0===t.data.length?f==="".concat(O,"/").concat(E.exact)?h("".concat(O,"/").concat(E.main)):f==="".concat(O,"/").concat(E.main)&&h("".concat(O,"/en")):c({language:f.split("/").pop()}))})))}),[e,f,O]);var g=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n;if(null!==o&&"undefined"!==typeof o[e])r=o[e];else if(null!==o&&"undefined"===typeof o[e]&&!s.hasOwnProperty(e)&&t.authenticated&&t.user&&["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(t.user.email)){var i=Object(p.a)(Object(p.a)({},s),{},Object(Z.a)({},e,n));localStorage.setItem("i18new",JSON.stringify(i))}if(null!==a)for(var c in a)if(a.hasOwnProperty(c)){var l=new RegExp("::"+c+"::","ig");r=null===a[c]?r.replace(l,""):r.replace(l,a[c])}return Object(L.i)()?"** ".concat(r," **"):r};return Object(d.useEffect)((function(){localStorage.setItem($.lang,i)}),[i]),{init:ee,_t:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return g(e,t,n)},setLocale:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(O,"/").concat(t);!1!==Object(X.c)(a,!1)&&(e(Object(Y.z)({url:a},(function(e,t){t&&n&&n()}))),c({language:t}))},uploadTranslationToServer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=[],a="You are about to add the following words to the dictionary files, continue?";a+="<table>",Object.keys(s).forEach((function(e){a+="<tr>",a+="<td>".concat(e,"</td>"),a+="<td>".concat(s[e],"</td>"),a+="</tr>",n.push(Object(Z.a)({},e,s[e]))}));var r=function(){e(Object(Y.J)(n,t))},i={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:a+="</table>",size:"lg",actions:{onSubmit:r}};e(Object(Y.a)(i))}}},ne=n(82),ae=n(66),re=function(){var e=Object(_.useDispatch)(),t=Re(),n=Object(_.useSelector)((function(e){return e.settings})),a=n.driff,r=n.user,i=Object(_.useSelector)((function(e){return e.session})).user,c=Object(d.useState)(!1),o=Object(b.a)(c,2),s=o[0],l=o[1],m=Object(d.useState)(!1),f=Object(b.a)(m,2),h=f[0],O=f[1],E=Object(d.useState)(!1),g=Object(b.a)(E,2),A=g[0],v=g[1],j=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(ne.g)(t,(function(){var a={disable_sound:"0",chat_settings:Object(p.a)({},r.CHAT_SETTINGS),general_settings:Object(p.a)(Object(p.a)({},r.GENERAL_SETTINGS),t)};i&&e(Object(ne.k)(a,n))})))},C=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=r.GENERAL_SETTINGS.personal_links;a.push(e),j({personal_links:a},(function(a,r){t.success(u.a.createElement(u.a.Fragment,null,"You personal link ",e.name," is successfully created!")),n(a,r)}))},T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=r.GENERAL_SETTINGS.personal_links;a[e.index]=e,j({personal_links:a},(function(a,r){t.success(u.a.createElement(u.a.Fragment,null,"You personal link ",e.name," is successfully updated!")),n(a,r)}))},y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=r.GENERAL_SETTINGS.personal_links;a.splice(e.index,1),j({personal_links:a},(function(a,r){t.success(u.a.createElement(u.a.Fragment,null,"You have deleted ",u.a.createElement("b",null,e.name)," personal link!")),n(a,r)}))},S=function(e,t){w("personal_link_delete",e,t)},w=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};switch(t){case"personal_link_create":r={type:"personal_link_create_edit",mode:"create",item:n,actions:{create:C}};break;case"personal_link_edit":r={type:"personal_link_create_edit",mode:"edit",item:n,actions:{update:T,delete:S}};break;case"personal_link_delete":r={type:"confirmation",headerText:a.dictionary.removeLink,submitText:a.dictionary.remove,cancelText:a.dictionary.cancel,bodyText:a.dictionary.removeLinkBodyText,actions:{onSubmit:function(){y(n,a.callback)}}};break;case"modal":default:r=n}e(Object(Y.a)(r))};return{init:function(){a.isCompSettingsLoaded||h||(O(!0),e(Object(ne.a)({},(function(){O(!1)}))))},fetch:function(){a.isSettingsLoaded||s||(l(!0),e(Object(ne.b)({},(function(){l(!1)}))))},fetchUserSettings:function(){r.isLoaded||A||(v(!0),e(Object(ne.c)(),(function(){v(!1)})))},updateCompanyName:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a.company_name===n.company_name?t.success("No update made."):e(Object(ne.e)(n,(function(e,a){e&&t.error(u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,n.company_name)," can't be used.")),a&&t.success("You have updated the company name to ".concat(n.company_name)),r(e,a)})))},userSettings:r,driffSettings:a,chatSettings:r.CHAT_SETTINGS,generalSettings:Object(p.a)(Object(p.a)({},r.GENERAL_SETTINGS),{},{date_picker_format:r.GENERAL_SETTINGS.date_format.replace("YYYY","y").replace("DD","d"),time_picker_format:r.GENERAL_SETTINGS.time_format.replace("A","a")}),setChatSetting:function(t){e(Object(ne.f)(t,(function(){var n={disable_sound:"0",chat_settings:Object(p.a)(Object(p.a)({},r.CHAT_SETTINGS),t),general_settings:Object(p.a)({},r.GENERAL_SETTINGS)};e(Object(ne.k)(n))})))},setGeneralSetting:j,setPushSubscription:function(t){e(Object(ae.k)(t))},setReadAnnouncement:function(){e(Object(ne.k)({read_announcement:1})),e(Object(ne.j)())},showModal:w,loggedUser:i,setWorkspaceSetting:function(t){e(Object(ne.h)(t,(function(){var n=Object(p.a)(Object(p.a)({},r),{},{general_settings:Object(p.a)(Object(p.a)({},r.GENERAL_SETTINGS),t),order_channel:Object(p.a)({},t.order_channel)});e(Object(ne.k)(n))})))}}},ie=function(e){var t=function(t){t.metaKey||t.ctrlKey||17===t.keyCode||17===t.which||"input"===document.activeElement.tagName.toLowerCase()||document.activeElement.classList.contains("ql-editor")&&!document.activeElement.classList.contains("chat-bubble")||document.getElementsByClassName("modal-open").length||e&&e.focus()};Object(d.useEffect)((function(){return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}),[t])},ce=n(91),oe=!0,se=function(){var e=Object(_.useSelector)((function(e){return e.chat})),t=e.channels,n=e.selectedChannel,a=e.channelsLoaded,r=e.lastVisitedChannel,i=e.chatSidebarSearch,c=Object(ce.a)();return Object(d.useEffect)((function(){oe&&(oe=!1)}),[]),{actions:c,channels:t,selectedChannel:n,lastVisitedChannel:r,channelsLoaded:a,chatSidebarSearch:i}},le=n(188),de=n(162),ue=function(){var e=Object(_.useSelector)((function(e){return e.users}));return{users:e.users,getUserFilter:e.getUserFilter,loggedUser:Object(_.useSelector)((function(e){return e.session})).user,actions:Object(de.a)()}},me=n(20),pe=function(){var e=Object(_.useDispatch)(),t=Object(D.h)(),n=Object(D.g)(),a=Object(D.i)(),r=Re(),i=it(),c=F()._t,o=Object(_.useSelector)((function(e){return e.session.user})),s={headerRemoveDraftHeader:c("MODAL.REMOVE_DRAFT_HEADER","Remove post draft?"),headerRemovePostHeader:c("MODAL.REMOVE_POST_HEADER","Remove post?"),headerUnarchivePostHeader:c("MODAL.UNARCHIVE_POST_HEADER","Un-archive post?"),headerArchivePostHeader:c("MODAL.ARCHIVE_POST_HEADER","Archive post?"),buttonRemove:c("BUTTON.REMOVE","Remove"),buttonRemovePost:c("MODAL.REMOVE_POST","Remove draft"),buttonCancel:c("BUTTON.CANCEL","Cancel"),removeThisDraft:c("MODAL.REMOVE_THIS_DRAFT","Are you sure you want to remove this post draft?"),removeThisPost:c("MODAL.REMOVE_THIS_POST","Are you sure you want to remove this post?"),buttonArchive:c("BUTTON.ARCHIVE","Archive"),buttonUnarchive:c("BUTTON.UNARCHIVE","Un-archive"),unarchiveThisPost:c("MODAL.UNARCHIVE_THIS_POST","Are you sure you want to un-archive this post?"),archiveThisPost:c("MODAL.ARCHIVE_THIS_POST","Are you sure you want to archive this post?"),notificationStopFollow:c("NOTIFICATION.STOP_FOLLOW","You\u2019ve stopped to follow"),notificationStartFollow:c("NOTIFICATION.START_FOLLOW","You\u2019ve started to follow"),notificationError:c("NOTIFICATION.ERROR","An error has occurred try again!"),notificationYouMarked:c("NOTIFICATION.YOU_MARKED","You marked"),notificationYouUpdated:c("NOTIFICATION.YOU_UPDATED","You have updated"),notificationUnread:c("NOTIFICATION.UNREAD","as unread"),notificationRead:c("NOTIFICATION.READ","as read"),notificationDone:c("NOTIFICATION.DONE","as done"),notificationNotDone:c("NOTIFICATION.NOT_DONE","as not done"),notificationStar:c("NOTIFICATION.STAR","as starred"),notificationNotStar:c("NOTIFICATION.NOT_STAR","as not starred"),notificationRemoved:c("NOTIFICATION.REMOVED","is removed"),notificationActionFailed:c("NOTIFICATION.ACTION_FAILED","Action failed"),notificationCreatePost:c("NOTIFICATION.CREATE_POST","You have successfully created a post"),notificationReminderPost:c("NOTIFICATION.REMINDER_POST","You will be reminded about this post under"),itemPost:c("ITEM.POST","post"),todoLinks:c("SIDEBAR.TODO_LINKS","Reminders"),accept:c("POST.ACCEPT","Accept"),acceptThisPost:c("POST.ACCEPT_THIS_POST","Accept this post?"),acceptThisPostText:c("POST.ACCEPT_THIS_POST_TEXT","Are you sure you want to accept? Please refer to the General condition for more details"),acceptCondition:c("POST.ACCEPT_GENERAL_CONDITION","You accept the final design provided to you. Zuid will now proceed on the next steps. Any additional changes on the design will be subject for re-estimation and additional work which will be considered as a separate project."),snoozeThisPost:c("MODAL.SNOOZE_THIS_POST","Are you sure you want to snooze this post?"),buttonSnooze:c("BUTTON.SNOOZE","Snooze"),headerSnoozePost:c("MODAL.SNOOZE_POST","Snooze post"),postArchivedMuted:c("TOASTER.POST_ARCHIVED_MUTED","is archived. Comments for this post will be muted for 48 hours."),reminderAlreadyExists:c("TOASTER.REMINDER_EXISTS","Reminder already exists"),toasterGeneraError:c("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:c("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>.")},l=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={post_id:t.id,unread:0,topic_id:parseInt(a.workspaceId)},c=t.unread_count,l=function(l,d){l?r.success(u.a.createElement(u.a.Fragment,null,"Action failed.")):(i=Object(p.a)(Object(p.a)({},i),{},{folderId:a.hasOwnProperty("folderId")?parseInt(a.folderId):null,count:0===c?1:c}),d&&(t.recipients.some((function(e){return"TOPIC"===e.type}))&&e(Object(me.n)()),n&&r.success(u.a.createElement(u.a.Fragment,null,s.notificationYouMarked," ",u.a.createElement("b",null,t.title)," ",s.notificationRead,".")),e(Object(K.db)({post_id:t.id,unread:0,user_id:o.id}))))};e(Object(K.vb)(i,l))},d=function(t){e(Object(K.nb)(t))},m=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.mb)(t,(function(e,t){t&&r.success(u.a.createElement(u.a.Fragment,null,s.notificationCreatePost)),n(e,t)})))},f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.Bb)(t,(function(e,a){a&&r.success(u.a.createElement(u.a.Fragment,null,s.notificationYouUpdated," ",t.title," ",s.itemPost)),n(e,a)})))},b=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.Ab)(t,(function(e,a){a&&r.success(u.a.createElement(u.a.Fragment,null,s.notificationYouUpdated," ",t.title," ",s.itemPost)),n(e,a)})))},h=function(t,n){e(Object(K.gb)(t,n))},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.m)(t,n))},E=function(t,n,a){var r={post_id:t.id,body:"COMMENT_APPROVAL::".concat(JSON.stringify({message:a.length?"Everyone disagreed to this post":"Everyone agreed to this post"})),generate_system_message:1,accepted_user_ids:n,rejected_user_ids:a};e(Object(K.kb)(r))};return{approve:h,approveComment:O,addUserToPost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.h)(t,n))},starPost:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if("draft_post"!==t.type){var i="undefined"!==typeof a.workspaceId?parseInt(a.workspaceId):null;e(Object(K.ob)({type:"post",type_id:t.id},(function(e,a){n(e,a),e&&r.error(u.a.createElement(u.a.Fragment,null,s.notificationActionFailed)),a&&r.success(u.a.createElement(u.a.Fragment,null,s.notificationYouMarked,u.a.createElement("b",null,t.title)," ",t.is_favourite?s.notificationNotStar:s.notificationStar,"."))}))),e(Object(K.Rb)({post_id:t.id,topic_id:i}))}},markPost:function(t){"draft_post"!==t.type&&(e(Object(K.sb)({post_id:t.id},(function(e,n){e&&r.error(u.a.createElement(u.a.Fragment,null,s.notificationActionFailed)),n&&r.success(u.a.createElement(u.a.Fragment,null,s.notificationYouMarked,u.a.createElement("b",null,t.name," ",t.is_mark_done?s.notificationNotDone:s.notificationDone)))}))),e(Object(K.Y)({post_id:t.id,is_done:!t.is_mark_done})))},openPost:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("draft_post"===r.type){var c={type:"post_modal",mode:"create",item:{draft:r},params:a};e(Object(Y.a)(c))}else i?"/posts"===i?n.push(i+"/".concat(r.id,"/").concat(Object(j.h)(r.title))):n.push(i+"/post/".concat(r.id,"/").concat(Object(j.h)(r.title))):n.push(t.pathname+"/post/".concat(r.id,"/").concat(Object(j.h)(r.title)))},archivePost:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};"draft_post"===t.type?(e(Object(Y.g)({draft_id:t.draft_id,type:t.type})),e(Object(K.Gb)({post_id:t.id},(function(e,a){n(e,a),e?r.error(u.a.createElement(u.a.Fragment,null,s.notificationActionFailed)):a&&r.success(u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,t.title)," ",s.notificationRemoved,"."))})))):e(Object(K.hb)({post_id:t.id,is_archived:1===t.is_archived?0:1},(function(a,i){n(a,i),a?r.success(u.a.createElement(u.a.Fragment,null,"Action failed.")):i&&(t.is_archived?r.success(u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,t.title)," is unarchived.")):r.success(u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,t.title)," ",s.postArchivedMuted)),e(Object(K.j)({post_id:t.id,is_archived:1===t.is_archived?0:1})))})))},markAsRead:l,markAsUnread:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={post_id:t.id,unread:1,topic_id:a.workspaceId},c=function(c,l){c?r.success(u.a.createElement(u.a.Fragment,null,"Action failed.")):(i=Object(p.a)(Object(p.a)({},i),{},{folderId:a.hasOwnProperty("folderId")?a.folderId:null}),l&&(t.recipients.some((function(e){return"TOPIC"===e.type}))&&e(Object(me.n)()),n&&r.success(u.a.createElement(u.a.Fragment,null,s.notificationYouMarked," ",u.a.createElement("b",null,t.title)," ",s.notificationUnread,".")),e(Object(K.db)({post_id:t.id,unread:1,user_id:o.id}))))};e(Object(K.vb)(i,c))},sharePost:function(e){var n="".concat(Object(L.b)()).concat(t.pathname,"/post/").concat(e.id,"/").concat(Object(j.h)(e.title));Object(X.b)(r,n)},snoozePost:function(t){var n={type:"snooze_post",post:t,topic_id:a.workspaceId};e(Object(Y.a)(n))},followPost:function(t){t.is_followed?e(Object(K.wb)({post_id:t.id},(function(n,a){if(!n){var i="".concat(s.notificationStopFollow," ").concat(t.title);r.info(i),e(Object(K.Qb)({post_id:t.id,is_followed:!1}))}}))):e(Object(K.pb)({post_id:t.id},(function(n,a){if(!n){var i="".concat(s.notificationStartFollow," ").concat(t.title);r.info(i),e(Object(K.Qb)({post_id:t.id,is_followed:!0}))}})))},trash:function(t){var r={type:"confirmation",headerText:s.headerRemovePostHeader,submitText:s.buttonRemove,cancelText:s.buttonCancel,bodyText:s.removeThisPost,actions:{onSubmit:function(){e(Object(K.p)({id:t.id},(function(n,r){n||e(Object(K.Hb)({post_id:t.id,topic_id:parseInt(a.workspaceId),recipients:t.recipients,id:t.id}))}))),a.workspaceId?n.push("/workspace/posts/".concat(a.folderId,"/").concat(a.folderName,"/").concat(a.workspaceId,"/").concat(Object(j.h)(a.workspaceName))):n.push("/posts")}}};e(Object(Y.a)(r))},showModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c={};switch(t){case"create_company":c={type:"post_modal",mode:"create",item:{post:n},action:{create:m}};break;case"edit_company":c={type:"post_modal",mode:"edit",item:{post:n},action:{update:b}};break;case"edit":c={type:"post_modal",mode:t,item:{post:n},action:{update:f},params:a};break;case"confirmation":c={type:"confirmation",mode:t,submitText:s.accept,cancelText:s.buttonCancel,headerText:s.acceptThisPost,bodyText:s.acceptThisPostText,generalConditionText:s.acceptCondition,item:{post:n},actions:{onSubmit:function(){var t=!0;if(n.is_must_read&&n.author.id!==o.id&&(n.is_must_read&&n.required_users&&n.required_users.some((function(e){return e.id===o.id&&!e.must_read}))&&(t=null),n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read}))&&(t=null)),n.is_must_reply&&n.author.id!==o.id&&(n.required_users&&n.required_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&(t=null),n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&(t=null)),t&&l(n),i&&i.current&&i.current.rewardMe(),r){var a={post_id:n.id,body:"<div></div>",mention_ids:[],file_ids:[],post_file_ids:[],personalized_for_id:null,parent_id:r.parent_id?r.parent_id:r.id,approval_user_ids:[],code_data:{push_title:"".concat(o.name," replied in ").concat(n.title),post_id:n.id,post_title:n.title}};1===r.users_approval.length?e(Object(K.kb)(a,(function(t,a){t||O({post_id:n.id,approved:1,comment_id:r.id,transfer_comment_id:a.data.id},(function(t,a){t||e(Object(K.c)({counter:1,id:r.id,parent_id:r.parent_id,post_id:n.id,reaction:"clap"}))}))}))):O({post_id:n.id,approved:1,comment_id:r.id},(function(t,a){if(!t){e(Object(K.c)({counter:1,id:r.id,parent_id:r.parent_id,post_id:n.id,reaction:"clap"}));var i=1===r.users_approval.filter((function(e){return null===e.ip_address})).length,c=r.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===r.users_approval.length-1;i&&c&&E(n,r.users_approval.map((function(e){return e.id})),[])}}))}else{var c=1===n.users_approval.filter((function(e){return null===e.ip_address})).length,s=n.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===n.users_approval.length-1;setTimeout((function(){h({post_id:n.id,approved:1},(function(t,a){if(!t&&(c&&s&&n.users_approval.length>1&&E(n,n.users_approval.map((function(e){return e.id})),[]),1===n.users_approval.length)){var r={post_id:n.id,body:"<div></div>",mention_ids:[],file_ids:[],post_file_ids:[],personalized_for_id:null,parent_id:null,approval_user_ids:[],has_accepted:1,code_data:{push_title:"".concat(o.name," replied in ").concat(n.title),post_id:n.id,post_title:n.title}};e(Object(K.kb)(r))}}))}),1e3)}}}};break;case"create_edit_post_list":c={type:"post_list",mode:"create"};break;case"add_to_list":c={type:"post_list",mode:"add",item:{post:n}};break;case"edit_post_list":c={type:"post_list",mode:"edit",item:{post:n}};break;default:c={type:"post_modal",mode:t,item:{post:n},action:{create:d},params:a}}e(Object(Y.a)(c))},update:f,clap:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.ib)(t,n))},getRecentPosts:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.v)({topic_id:t},n))},getTagsCount:function(t,n){e(Object(K.w)({topic_id:t},n))},fetchCompanyPosts:function(t,n){e(Object(K.y)(t,n))},setCompanyFilterPosts:function(t,n){e(Object(K.Tb)(t,n))},getPosts:function(t,n){e(Object(K.u)(t,n))},visit:function(t){e(Object(K.xb)(t))},markReadRequirement:function(t){var n={post_id:t.id,must_read:1,must_reply:0,is_approved:0};e(Object(K.tb)(n))},remind:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};i.createForPost(t.id,e,(function(e,t){e&&(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.error_message.length&&e.response.data.errors.error_message.find((function(e){return"ALREADY_CREATED_TODO"===e}))?r.error(s.reminderAlreadyExists):r.error(s.toasterGeneraError)),t&&r.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:s.toasterCreateTodo}})),a(e,t),n(e,t)}))},c={type:"todo_reminder",item:t,itemType:"POST",actions:{onSubmit:a}};e(Object(Y.a)(c))},fetchPostClapHover:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.A)({post_id:t},n))},getUnreadPostsCount:function(){e(Object(K.J)())},archiveAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(K.i)(t,(function(e,t){})))},readAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(K.fb)(t,(function(e,t){})))},getUnreadPostCommentsCount:function(){e(Object(K.I)())},getUnreadNotificationEntries:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(Y.A)(t))},like:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.e)(t,n))},unlike:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.Ib)(t,n))},fetchPostDetail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.s)(t,n))},updatePostImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(K.Ub)(t))},getUnreadWsPostsCount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(me.r)(t,(function(n,a){n||e(Object(me.V)({topic_id:parseInt(t.topic_id),count:a.data.result}))})))},close:function(t,n){e(Object(K.jb)({post_id:t.id,is_close:t.is_close?0:1},n))},generateSystemMessage:E,fetchUnreadCompanyPosts:function(t,n){e(Object(K.H)(t,n))},snooze:function(t){var n={type:"confirmation",headerText:s.headerSnoozePost,submitText:s.buttonSnooze,cancelText:s.buttonCancel,bodyText:s.snoozeThisPost,actions:{onSubmit:function(){e(Object(K.ub)({post_id:t.id,set_time:"tomorrow"},(function(e,t){e||r.success("Post successfully snoozed.")}))),e(Object(K.Hb)(t))}}};e(Object(Y.a)(n))},fetchPostList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.B)(t,n))},createNewPostList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.n)(t,n))},updatePostsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.Vb)(t,n))},deletePostsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.q)(t,n))},connectPostList:function(t,n){e(Object(K.qb)(t,n))},disconnectPostList:function(t,n){e(Object(K.rb)(t,n))},updatePostListConnect:function(t,n){"POST_LIST_CONNECTED"===t.SOCKET_TYPE?e(Object(K.W)(t,n)):e(Object(K.X)(t,n))},markReplyRequirement:function(t){var n={post_id:t.id,must_read:0,must_reply:1,is_approved:0};e(Object(K.tb)(n))},setCommentType:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.Ob)(t,n))},fetchReadCompanyPosts:function(t,n){e(Object(K.D)(t,n))},fetchMyCompanyPosts:function(t,n){e(Object(K.z)(t,n))},fetchArchivedCompanyPosts:function(t,n){e(Object(K.x)(t,n))},fetchStarCompanyPosts:function(t,n){e(Object(K.F)(t,n))}}},fe=function(e){var t=Object(_.useDispatch)();Object(d.useEffect)((function(){var e,n;"undefined"!==typeof document.hidden?(e="visibilitychange",n="hidden"):"undefined"!==typeof document.msHidden?(e="msvisibilitychange",n="msHidden"):"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange",n="webkitHidden");var a=function(){document[n]?t(Object(Y.S)({status:!1})):t(Object(Y.S)({status:!0}))};return document.addEventListener(e,a,!1),function(){return document.removeEventListener(e,a,!1)}}),[])},be=n(51),he=n(359),_e=function(e){Object(d.useEffect)((function(){be.sessionService.loadSession().then((function(e){var t=e.token,a=e.access_broadcast_token;window.io||(window.io=n(628)),window.Echo||(window.Echo=new he.a({broadcaster:"socket.io",host:"https://driff.network",auth:{headers:{Authorization:t,"Driff-Broadcast-Token":a}}}))}))}),[])},Oe=function(e){var t=Ee(),n=Object(_.useSelector)((function(e){return e.workspaces.postComments})),a=Object(_.useSelector)((function(e){return e.session.user})),r=Object(d.useState)(!1),i=Object(b.a)(r,2),c=i[0],o=i[1],s=Object(d.useState)(!1),l=Object(b.a)(s,2),u=l[0],m=l[1],p=Object(d.useRef)(!0);return Object(d.useEffect)((function(){return function(){p.current=null}}),[]),Object(d.useEffect)((function(){if(!c&&!n.hasOwnProperty(e.id)){o(!0);var r={url:"/v1/messages?post_id=".concat(e.id,"&skip=",0,"&limit=",20)};t.fetchPostComments(r,(function(e,t){p.current&&o(!1)}))}var i=e.users_approval.length>0&&e.users_approval.some((function(e){return null===e.ip_address&&e.id===a.id}));if(!u&&!e.hasOwnProperty("post_reads")){if(i)return;if(e.is_must_read&&e.author.id!==a.id&&e.required_users&&e.required_users.some((function(e){return e.id===a.id&&!e.must_read})))return;if(e.is_must_reply&&e.author.id!==a.id&&e.required_users&&e.required_users.some((function(e){return e.id===a.id&&!e.must_reply})))return;if(e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===a.id&&!e.must_reply})))return;if(e.must_read_users&&e.must_read_users.some((function(e){return e.id===a.id&&!e.must_read})))return;t.fetchPostRead(parseInt(e.id),(function(n,a){m(!0);var r={postId:e.id,readPosts:Object(f.a)(a.data)};t.setPostReadComments(r,(function(){p.current&&m(!1)}))}))}}),[e]),{comments:e&&n[e.id]?n[e.id].comments:{}}},Ee=function(){var e=Object(_.useDispatch)(),t=it(),n=Re(),a=F()._t,r={reminderAlreadyExists:a("TOASTER.REMINDER_EXISTS","Reminder already exists"),toasterGeneraError:a("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:a("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>.")};return{add:function(t){e(Object(K.a)(t))},addQuote:function(t){e(Object(K.b)(t))},approve:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.m)(t,n))},clap:function(t){e(Object(K.lb)(t))},clearQuote:function(t){e(Object(K.l)(t))},create:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.kb)(t,n))},edit:function(t){e(Object(K.yb)(t))},fetchPostComments:function(t,n){e(Object(K.r)(t,n))},setToEdit:function(t){e(Object(K.Mb)(t))},remove:function(t){var n={type:"confirmation",headerText:"Remove post comment?",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this comment?",actions:{onSubmit:function(){if(Object.keys(t.replies).length>0){var n={post_id:t.post_id,id:t.id,user_id:t.author.id,body:"<i>The comment has been removed by the author.</i>",post_file_ids:[],file_ids:[],mention_ids:[],personalized_for_id:null,parent_id:t.parent_id};e(Object(K.yb)(n))}else e(Object(K.o)({comment_id:t.id}))}}};e(Object(Y.a)(n))},remind:function(a,i){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.createForPostComment(a.id,e,(function(e,t){e&&(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.error_message.length&&e.response.data.errors.error_message.find((function(e){return"ALREADY_CREATED_TODO"===e}))?n.error(r.reminderAlreadyExists):n.error(r.toasterGeneraError)),t&&n.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterCreateTodo}})),i(e,t),c(e,t)}))},s={type:"todo_reminder",parentItem:i,item:a,itemType:"POST_COMMENT",actions:{onSubmit:o}};e(Object(Y.a)(s))},fetchPostReplyHover:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(K.E)({message_id:t},n))},like:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.c)(t,n))},unlike:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e(Object(K.Fb)(t,n))},updateCommentImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(K.Sb)(t))},important:function(t){e(Object(K.zb)({message_id:t.id,is_important:t.is_important?0:1}))},fetchPostRead:function(t,n){e(Object(K.C)({post_id:t},n))},setPostReadComments:function(t,n){e(Object(K.Pb)(t,n))},clearApprovingStatus:function(t,n){e(Object(K.k)(t,n))},setRequestForChangeComment:function(t,n){e(Object(K.Lb)(t,n))}}},ge=n(187),Ae=Object(I.a)(ge.a)(i||(i=Object(x.a)(["\n  display: block;\n"]))),ve=function(e){var t=Object(_.useSelector)((function(e){return e.posts.commentQuotes})),n=Object(d.useState)(null),a=Object(b.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(null),o=Object(b.a)(c,2),s=o[0],l=o[1];return Object(d.useEffect)((function(){if(Object.keys(t).length>0){var n=Object.values(t).filter((function(t){return t.id===e}));if(n.length){i(n[0]),n=n[0];var a="",r=document.createElement("div");r.innerHTML=n.body;for(var c=r.getElementsByTagName("img"),o=0;o<c.length;o++)a+=Object(y.renderToString)(u.a.createElement(Ae,{className:"image-quote",target:"_blank",href:c[0].getAttribute("src"),icon:"image-video"},"Photo"));for(var s=r.getElementsByTagName("video"),d=0;d<s.length;d++)a+=Object(y.renderToString)(u.a.createElement(Ae,{className:"video-quote",target:"_blank",href:s[0].getAttribute("player-source"),icon:"image-video"},"Video"));n.files&&n.files.forEach((function(e){"image"===e.type?a+=Object(y.renderToString)(u.a.createElement(Ae,{className:"image-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Photo")):"video"===e.type?a+=Object(y.renderToString)(u.a.createElement(Ae,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Video")):a+=Object(y.renderToString)(u.a.createElement(Ae,{target:"_blank",href:e.view_link,icon:"download"},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),a+=P.a.parseEmoji(n.body),l(a)}else i(null),l(null)}else i(null),l(null)}),[t,e]),[r,s]},je=function(){var e=Object(d.useRef)(null),t=re().generalSettings,n=t.active_topic,a=t.order_channel,r=Re(),i=Object(D.j)(),c=Object(D.g)(),o=i.params,s=i.url,l=Ce(),u=Object(_.useSelector)((function(e){return e.workspaces.activeTopic})),m=Object(_.useSelector)((function(e){return e.workspaces.folders})),f=Object(_.useSelector)((function(e){return e.workspaces.workspaces})),h=Object(_.useSelector)((function(e){return e.workspaces.workspaceTimeline})),O=Object(_.useSelector)((function(e){return e.workspaces.workspacesLoaded})),E=Object(_.useSelector)((function(e){return e.workspaces.favoriteWorkspacesLoaded})),g=Object(_.useSelector)((function(e){return Object.keys(e.chat.channels)})),A=Object(_.useSelector)((function(e){return e.chat.selectedChannelId})),v=Object(_.useSelector)((function(e){return e.session.user})),j=Object(d.useState)(!1),C=Object(b.a)(j,2),T=C[0],y=C[1],S=Object(d.useState)(!1),w=Object(b.a)(S,2),k=w[0],N=w[1];Object(d.useEffect)((function(){o.workspaceId&&l.fetchWorkspace(o.workspaceId),l.fetchFavoriteWorkspaces({},(function(){l.fetchWorkspaces({sort_by:a.sort_by.toLowerCase(),order_by:a.order_by})})),"external"===v.type&&s.startsWith("/workspace/team-chat")&&c.push("/workspace/chat")}),[]),Object(d.useEffect)((function(){Object.keys(f).length&&null===u&&(o.hasOwnProperty("workspaceId")?f.hasOwnProperty(o.workspaceId)?l.selectWorkspace(f[o.workspaceId]):O&&n&&(e.current||(e.current=!0,l.fetchWorkspace(o.workspaceId,(function(t,a){if(e.current=null,t)if(r.warning("This workspace cannot be found or accessed."),parseInt(o.workspaceId)===n.id){var i=Object.values(f).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));i.length&&(l.selectWorkspace(i[0]),l.redirectTo(i[0]))}else f.hasOwnProperty(n.id)&&(l.selectWorkspace(f[n.id]),l.redirectTo(f[n.id]));if(a.data){var c=Object(p.a)(Object(p.a)({},a.data.workspace_data),{},{channel:a.data.workspace_data.topic_detail.channel,unread_chats:a.data.workspace_data.topic_detail.unread_chats,unread_posts:a.data.workspace_data.topic_detail.unread_posts,folder_id:a.data.workspace_id,folder_name:a.data.workspace_name});l.redirectTo(c)}})))):"search"!==o.page&&(n&&f.hasOwnProperty(n.id)?(l.selectWorkspace(f[n.id]),s.startsWith("/workspace")&&l.redirectTo(f[n.id])):s.startsWith("/workspace")&&localStorage.getItem("fromRegister")&&"external"===v.type&&(l.selectWorkspace(Object.values(f)[0]),l.redirectTo(Object.values(f)[0]),localStorage.removeItem("fromRegister"))))}),[u,n,o,f,s,O]),Object(d.useEffect)((function(){var e=function(e,t){t&&N(!1)};u&&!A&&g.length&&s.startsWith("/workspace")?s.startsWith("/workspace/team-chat")?u.team_channel.code&&g.some((function(e){return parseInt(e)===u.team_channel.id}))?l.selectChannel({id:u.team_channel.id}):u.team_channel.code&&!g.some((function(e){return parseInt(e)===u.team_channel.id}))&&(k||(N(!0),l.fetchChannel({code:u.team_channel.code},e))):g.some((function(e){return parseInt(e)===u.channel.id}))?l.selectChannel({id:u.channel.id}):k||(N(!0),l.fetchChannel({code:u.channel.code},e)):u&&A&&g.length&&s.startsWith("/workspace")&&(s.startsWith("/workspace/team-chat")?u.team_channel.code&&u.team_channel.id!==A&&(g.some((function(e){return parseInt(e)===u.team_channel.id}))?l.selectChannel({id:u.team_channel.id}):k||(N(!0),l.fetchChannel({code:u.team_channel.code},e))):u.channel.id!==A&&(g.some((function(e){return parseInt(e)===u.channel.id}))?l.selectChannel({id:u.channel.id}):k||(N(!0),l.fetchChannel({code:u.channel.code},e))))}),[u,A,k,s,g]),Object(d.useEffect)((function(){o.hasOwnProperty("workspaceId")&&N(!1)}),[o]),Object(d.useEffect)((function(){if(!T&&u&&!u.hasOwnProperty("primary_files")&&s.startsWith("/workspace/dashboard/")&&u.members.some((function(e){return e.id===v.id}))){y(!0);l.getPrimaryFiles(u.id,(function(e,t){if(setTimeout((function(){y(!1)}),300),!e){var n={id:u.id,folder_id:u.workspace_id,files:t.data};l.addPrimaryFilesToWorkspace(n)}}))}}),[T,u,s,v]);var R=null;return Object.keys(h).length&&u&&h[u.id]&&(R=h[u.id]),{favoriteWorkspacesLoaded:E,folders:m,workspaces:f,workspace:u,actions:l,workspacesLoaded:O,timeline:R,orderChannel:a,history:c}},Ce=function(){var e=Object(_.useDispatch)(),t=Object(D.g)(),n=re(),a=n.setGeneralSetting,r=n.loggedUser,i=Re(),c=F()._t,o={notificationError:c("NOTIFICATION.ERROR","An error has occurred try again!"),errorFetchingChannel:c("ERROR.CHANNEL_FETCH","Fetching channel failed")},s=function(t,n){e(Object(W.Ob)(t,n))};return{addPrimaryFilesToWorkspace:function(t){e(Object(me.b)(t))},addRole:function(t,n){e(Object(me.O)(t,n))},deleteRole:function(t,n){e(Object(me.f)(t,n))},clearChannel:function(){e(Object(W.o)())},fetchChannel:function(t,n){e(Object(W.u)(t,(function(t,a){if(n(t,a),t)i.error(o.errorFetchingChannel);else if(a.data){var r=Object(p.a)(Object(p.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e(Object(W.h)(r)),s(r)}})))},fetchFavoriteWorkspaces:function(t,n){e(Object(me.o)(t,n))},fetchWorkspaceChannels:function(t,n){e(Object(W.L)(t,n))},fetchWorkspace:function(t,n){e(Object(me.s)({topic_id:t},n))},fetchWorkspaces:function(t,n){e(Object(me.y)(t,n))},getDetail:function(t,n){e(Object(me.h)({topic_id:t},n))},getMembers:function(t,n){e(Object(me.i)({topic_id:t},n))},getPrimaryFiles:function(t,n){e(Object(me.j)({topic_id:t},n))},getTimeline:function(t,n){e(Object(me.k)(t,n))},join:function(t,n){e(Object(me.K)(t,n))},leave:function(t,n,a){if(1===t.members.length&&1===t.is_lock){var i={id:t.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};e(Object(W.nb)(i))}else{var c={name:t.name,description:t.description,topic_id:t.id,is_external:0,member_ids:t.members.map((function(e){return e.id})),is_lock:t.is_lock?1:0,workspace_id:t.folder_id?t.folder_id:0,new_member_ids:[],remove_member_ids:[n.id]};c.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:r.id,name:r.name,first_name:r.first_name,partial_name:r.partial_name,profile_image_link:r.profile_image_thumbnail_link?r.profile_image_thumbnail_link:r.profile_image_link},title:"",added_members:[],removed_members:[n.id]})),n.id===r.id&&e(Object(me.M)({workspace_id:t.id,channel_id:t.channel.id},a)),e(Object(me.T)(c))}},redirectTo:function(e){e.folder_id?t.push("/workspace/chat/".concat(e.folder_id,"/").concat(Object(j.h)(e.folder_name),"/").concat(e.id,"/").concat(Object(j.h)(e.name))):t.push("/workspace/chat/".concat(e.id,"/").concat(Object(j.h)(e.name)))},selectChannel:s,selectWorkspace:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(me.P)(t,(function(e,r){a({active_topic:t}),n(e,r)})))},showModal:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"workspace",r={mode:n,item:t};r="folder"===a?Object(p.a)(Object(p.a)({},r),{},{type:"workspace_folder"}):Object(p.a)(Object(p.a)({},r),{},{type:"workspace_create_edit"}),e(Object(Y.a)(r))},updateTimelinePage:function(t){e(Object(me.Z)(t))}}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(D.i)(),n=Object(ye.a)(t),a=Object(_.useSelector)((function(e){return e.workspaces.activeTopic})),r=Object(_.useSelector)((function(e){return e.session.user})),i=Object(_.useSelector)((function(e){return e.files})),c=i.workspaceFiles,o=i.googleDriveApiFiles,s=i.gifBlobs,l=i.fileBlobs,u=i.fileThumbnailBlobs,m=Object(d.useState)(!1),p=Object(b.a)(m,2),f=p[0],h=p[1];Object(d.useEffect)((function(){if(e){if(!f&&a&&!c.hasOwnProperty(a.id)||!f&&a&&c.hasOwnProperty(a.id)&&!c[a.id].hasOwnProperty("loaded")){h(!0),n.getFiles({topic_id:a.id},(function(e,t){h(!1),n.getFolders({topic_id:a.id}),n.getFilesDetail(a.id),n.getFavoriteFiles(a.id),n.getPopularFiles(a.id),n.getEditedFiles(a.id),n.getTrashFiles(a.id),n.getGoogleDriveFiles(a.id),n.getGoogleDriveFolders(a.id),"internal"===r.type&&a&&a.team_channel&&a.team_channel.code&&(n.fetchClientChatFiles({topic_id:a.id,filter_by:"client"}),n.fetchTeamChatFiles({topic_id:a.id,filter_by:"team"}),n.fetchPrivatePostFiles({topic_id:a.id,filter_by:"privatePost"}),n.fetchClientPostFiles({topic_id:a.id,filter_by:"clientPost"}))}))}if(!f&&a&&c.hasOwnProperty(a.id)&&t.hasOwnProperty("fileFolderId")&&c[a.id].folders.hasOwnProperty(t.fileFolderId)&&!c[a.id].folders[t.fileFolderId].hasOwnProperty("loaded")){h(!0);var i={topic_id:a.id,folder_id:parseInt(t.fileFolderId)};n.getFiles(i,(function(e,t){h(!1)}))}}}),[f,a,c,t]);var O=[];Object.values(c).length&&c.hasOwnProperty(t.workspaceId)&&(t.hasOwnProperty("fileFolderId")&&c[a.id].folders.hasOwnProperty(t.fileFolderId)&&c[a.id].folders[t.fileFolderId].hasOwnProperty("files")?(O=Object.values(c[a.id].folders[t.fileFolderId].files).sort((function(e,t){return t>e?1:-1})),c[a.id].hasOwnProperty("search_results")&&c[a.id].search_results.length>0&&(O=c[a.id].search_results.sort((function(e,t){return t>e?1:-1})))):(O=Object.values(c[a.id].files).filter((function(e){return null===e.folder_id})).map((function(e){return e.id})).sort((function(e,t){return t>e?1:-1})),c[a.id].hasOwnProperty("search_results")&&c[a.id].search_results.length>0&&(O=c[a.id].search_results.sort((function(e,t){return t>e?1:-1})))));var E=a&&c[a.id];return{params:t,wsFiles:E?c[a.id]:null,actions:n,topic:a,fileIds:O,folders:E?c[a.id].folders:{},subFolders:E?Object.values(c[a.id].folders).filter((function(e){return e.parent_folder&&e.parent_folder.id==t.fileFolderId})):[],folder:E?c[a.id].folders[t.fileFolderId]:null,googleDriveApiFiles:o,gifBlobs:s,fileBlobs:l,fileThumbnailBlobs:u}},ye=n(189),Se=n(46),we=I.a.div(c||(c=Object(x.a)(["\n  display: flex;\n  align-items: center;\n"]))),ke=Object(I.a)(T.s)(o||(o=Object(x.a)(["\n  margin-right: 10px;\n  min-width: 24px;\n"]))),Ne=I.a.div(s||(s=Object(x.a)(["\n  word-break: break-word;\n"]))),Re=function(){return{success:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object(p.a)(Object(p.a)({},t),{},{containerId:"toastA"}),Se.c.success(u.a.createElement(we,null,u.a.createElement(ke,{icon:"check",strokeWidth:"2"}),u.a.createElement(Ne,null,e)),t)},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object(p.a)(Object(p.a)({},t),{},{containerId:"toastA"}),Se.c.error(u.a.createElement(we,null,u.a.createElement(ke,{icon:"alert-x",strokeWidth:"2"}),u.a.createElement(Ne,null,e)),t)},warning:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object(p.a)(Object(p.a)({},t),{},{containerId:"toastA"}),Se.c.warn(u.a.createElement(we,null,u.a.createElement(ke,{icon:"warning",strokeWidth:"2"}),u.a.createElement(Ne,null,e)),t)},info:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object(p.a)(Object(p.a)({},t),{},{containerId:"toastA"}),Se.c.info(u.a.createElement(we,null,u.a.createElement(ke,{icon:"info",strokeWidth:"2"}),u.a.createElement(Ne,null,e)),t)},notify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object(p.a)(Object(p.a)({},t),{},{containerId:"toastA"}),Object(Se.c)(u.a.createElement(we,null,u.a.createElement(Ne,null,e)),t)},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(p.a)(Object(p.a)({},t),{},{containerId:"toastA"}),Se.c.update(e,t)},dismiss:function(e){Se.c.dismiss(e)}}},xe=function(e){var t=Object(_.useSelector)((function(e){return e.notifications})),n=t.notifications,a=t.unreadCount,r=t.is_snooze;return{notifications:n,unreadCount:a,unreadNotifications:Object.values(n).filter((function(e){return 0===e.is_read})).length,notificationSnooze:r}},Ie=function(e){var t=Object(_.useDispatch)(),n=Re();return{get:function(e,n){t(Object(ae.c)(e,n))},read:function(e){t(Object(ae.e)(e,(function(n,a){n||t(Object(ae.h)(e))})))},readAll:function(e){t(Object(ae.f)(e,(function(e,a){e?n.error(u.a.createElement(u.a.Fragment,null,"Action failed")):a&&(t(Object(ae.g)()),n.success(u.a.createElement(u.a.Fragment,null,"You marked all notifications read")))})))},remove:function(e){t(Object(ae.b)(e,(function(n,a){n||t(Object(ae.j)(e))})))},removeAll:function(){t(Object(ae.a)({},(function(e,n){e||t(Object(ae.i)())})))},selectWorkspace:function(e,n){t(Object(me.P)(e,n))},unread:function(e){t(Object(ae.n)(e,(function(n,a){n||t(Object(ae.o)(e))})))},snooze:function(e){t(Object(ae.l)(e))},snoozeAll:function(e){t(Object(ae.m)(e))}}},Pe=(n(651),n(652),n(38)),De=n.n(Pe),Le=function(){var e=re().generalSettings,t=e.timezone,n=e.date_format,a=e.time_format,r=e.language;De.a.locale(r),De.a.tz.setDefault(t);return{fromNow:function(e){return De()(De()(e,"X").toDate()).locale(r).fromNow()},localizeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(n," ").concat(a),i=De()(De()(e,"X").toDate());return i.locale(r).format(t)},localizeTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(a),n=De()(De()(e,"X").toDate());return n.locale(r).format(t)},localizeChatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LL";De.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",sameDay:"[Today]",lastWeek:"dddd",sameElse:t}}),De.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",sameDay:"[vandaag]",lastWeek:"dddd",sameElse:t}});var n=De()(De()(e,"X").toDate());return n.locale(r).calendar()},todayOrYesterdayDate:function(e){return De.a.updateLocale("en",{calendar:{lastDay:"[Yesterday] ".concat(a),sameDay:"[Today] ".concat(a),sameElse:"dddd[,] ".concat(a)}}),De.a.updateLocale("nl",{calendar:{lastDay:"[gisteren] ".concat(a),sameDay:"[vandaag] ".concat(a),sameElse:"dddd[,] ".concat(a)}}),De()(De()(e,"X").toDate()).locale(r).calendar()},todoFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LL ".concat(a);De.a.updateLocale("en",{calendar:{lastDay:"[Yesterday at] ".concat(a),nextDay:"[Tomorrow at] ".concat(a),sameDay:"[Today at] ".concat(a),nextWeek:"dddd [at] ".concat(a),lastWeek:"[Last] dddd [at] ".concat(a),sameElse:t}}),De.a.updateLocale("nl",{calendar:{lastDay:"[gisteren om] ".concat(a),nextDay:"[morgen om] ".concat(a),sameDay:"[vandaag om] ".concat(a),nextWeek:"dddd [om] ".concat(a),lastWeek:"[afgelopen] dddd [om] ".concat(a),sameElse:t}});var n=De()(De()(e,"X").toDate());return n.locale(r).calendar()},todoFormatShortCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(n," ").concat(a);De.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",nextDay:"[Tomorrow]",sameDay:"[Today]",nextWeek:"[Next] dddd",lastWeek:"[Last] dddd",sameElse:t}}),De.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",nextDay:"[morgen]",sameDay:"[vandaag]",nextWeek:"[deze] dddd",lastWeek:"[afgelopen] dddd",sameElse:t}});var i=De()(De()(e,"X").toDate());return i.locale(r).calendar()},channelPreviewDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(n);De.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",sameDay:"".concat(a),lastWeek:"dddd",sameElse:t}}),De.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",sameDay:"".concat(a),nextWeek:"[deze] dddd",lastWeek:"[afgelopen] dddd",sameElse:t}});var i=De()(De()(e,"X").toDate());return i.locale(r).calendar()}}},Fe=n(8),Me=n(10);var Ue,Ge,He,Be=function(){var e=Object(_.useDispatch)();return{search:function(t,n){e(function(e,t){return Object(Fe.b)(Object(Me.Jc)(e),"SEARCH_START","SEARCH_SUCCESS","SEARCH_FAIL",t)}(t,n))},saveSearchValue:function(t,n){e(function(e,t){return Object(Fe.a)("SAVE_SEARCH_INPUT",e,t)}(t,n))},updateTabPage:function(t,n){e(function(e,t){return Object(Fe.a)("UPDATE_TAB",e,t)}(t,n))}}},We=function(){var e=Object(_.useSelector)((function(e){return e.global})),t=e.searching,n=e.searchCount,a=e.searchResults,r=e.searchValue,i=e.tabs;return{count:n,results:Object.values(a),value:r,searching:t,tabs:i}},Ye=function(){var e=Object(_.useDispatch)(),t=Object(_.useSelector)((function(e){return e.global.isLoading}));return{isActive:t,toggle:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Object(Y.bb)(!t,n))},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Object(Y.bb)(!0,t))},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Object(Y.bb)(!1,t))}}},ze=function(){var e=Object(_.useDispatch)(),t=Object(D.g)(),n=Object(_.useSelector)((function(e){return e.workspaces.workspaces})),a=Object(_.useSelector)((function(e){return e.chat.channels})),r=Object(_.useSelector)((function(e){return e.session.user})),i=Re(),c=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(Object(me.s)({topic_id:n.id},(function(r,c){r?i.warning("This workspace cannot be found or accessed."):(e(Object(me.P)(n)),e(Object(me.R)(n.id)),a?n.folder_id?t.push("/workspace/posts/".concat(n.folder_id,"/").concat(Object(j.h)(n.folder_name),"/").concat(n.id,"/").concat(Object(j.h)(n.name),"/post/").concat(a.id,"/").concat(Object(j.h)(a.title))):t.push("/workspace/posts/".concat(n.id,"/").concat(Object(j.h)(n.name),"/post/").concat(a.id,"/").concat(Object(j.h)(a.title))):n.folder_id?t.push("/workspace/chat/".concat(n.folder_id,"/").concat(Object(j.h)(n.folder_name),"/").concat(n.id,"/").concat(Object(j.h)(n.name))):t.push("/workspace/chat/".concat(n.id,"/").concat(Object(j.h)(n.name))))})))};return{fetchWorkspaceAndRedirect:c,toChannel:function(e,n){t.push("/chat/".concat(e.code))},toChat:function(i,c){var o,s,l=function(){if("external"===r.type){var e=Object.values(n).find((function(e){return e.channel.id===i.id||e.team_channel&&e.team_channel.id===i.id}));e&&t.push({pathname:e.folder_id?"/workspace/chat/".concat(e.folder_id,"/").concat(e.folder_name,"/").concat(e.id,"/").concat(e.name):"/workspace/chat/".concat(e.id,"/").concat(e.name),state:{focusOn:c.code}})}else t.push({pathname:"/chat/".concat(i.code,"/").concat(c.code),state:{focusOn:c.code}})};if(a.hasOwnProperty(i.id)){var d=Object(p.a)({},a[i.id]);if(d.replies.find((function(e){return e.id===c.id})))e(Object(W.Lb)(d,l));else{var u={channel_id:d.id,skip:0,before_chat_id:c.id,limit:10};e(Object(W.A)(u)),e(Object(W.Lb)(d,l))}}else o=i.code,s=l,e(Object(W.H)({code:o},(function(e,n){e||(t.push("/chat/".concat(n.data.code)),s&&s())})))},toFiles:function(n){if(n.workspaces.length){var a={id:n.workspaces[0].topic.id,name:n.workspaces[0].topic.name,folder_id:n.workspaces[0].workspace?n.workspaces[0].workspace.id:null,folder_name:n.workspaces[0].workspace?n.workspaces[0].workspace.name:null};e(Object(me.P)(a)),a.folder_id?t.push("/workspace/files/".concat(a.folder_id,"/").concat(Object(j.h)(a.folder_name),"/").concat(a.id,"/").concat(Object(j.h)(a.name))):t.push("/workspace/files/".concat(a.id,"/").concat(Object(j.h)(a.name)))}else t.push("/files")},toPeople:function(e){t.push("/profile/".concat(e.id,"/").concat(Object(j.h)(e.name)))},toPost:function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=a.post,o=a.workspace;o&&n[o.id]?(e(Object(me.P)(o)),o.folder_id?t.push("/workspace/posts/".concat(o.folder_id,"/").concat(Object(j.h)(o.folder_name),"/").concat(o.id,"/").concat(Object(j.h)(o.name),"/post/").concat(i.id,"/").concat(Object(j.h)(i.title)),r):t.push("/workspace/posts/".concat(o.id,"/").concat(Object(j.h)(o.name),"/post/").concat(i.id,"/").concat(Object(j.h)(i.title)),r)):o&&"undefined"===typeof n[o.id]?c(o,i):t.push("/posts/".concat(i.id,"/").concat(Object(j.h)(i.title)),r)},toWorkspace:function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"chat";if(n[a.id]){var i=Object(p.a)({},n[a.id]);e(Object(me.P)(i)),i.folder_id?t.push("/workspace/".concat(r,"/").concat(i.folder_id,"/").concat(Object(j.h)(i.folder_name),"/").concat(i.id,"/").concat(Object(j.h)(i.name))):t.push("/workspace/".concat(r,"/").concat(i.id,"/").concat(Object(j.h)(i.name)))}else c(a)},toTodos:function(){t.push("/todos")}}},Ve=n(59),Qe=n.n(Ve),qe=n(78),Ke=n(19),Je=function(){var e=F()._t,t=Object(_.useDispatch)(),n=function(e){t(Object(Ke.Rb)(e))},a="363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",r="AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",i={connectPreview:e("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:e("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account")},c=function(e){e.preventDefault(),window.gapi.auth2.getAuthInstance().signIn()},o=function(e,t,a){e?window.gapi.client.load("drive","v2",(function(){window.gapi.client.drive.files.get({fileId:a,includePermissionsForView:"published",supportsAllDrives:!0}).execute((function(e){e.error?(n({file_id:a,metadata:{title:u.a.createElement("span",{className:"link"},t.href)}}),t.innerHTML='<span class="link">'.concat(t.href,'</span><span className="preview-text"> - ').concat(i.restrictedLink,"</span>"),t.onclick=c):(n({file_id:a,metadata:e}),t.innerHTML=e.title,t.onclick=null)}))})):t.onclick=c},s=function(e,t){window.gapi.load("client:auth2",Object(qe.a)(Qe.a.mark((function n(){return Qe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.gapi.client.init({clientId:a,apiKey:r,scope:"email https://www.googleapis.com/auth/drive.metadata.readonly",access_type:"offline"}).then(Object(qe.a)(Qe.a.mark((function n(){var i;return Qe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.gapi.auth2.getAuthInstance();case 2:i=n.sent,window.gapi.auth.authorize({client_id:a,api_key:r,scope:"email https://www.googleapis.com/auth/drive.metadata.readonly",immediate:!0},(function(n){n.access_token?o(n.access_token,e,t):o(null,e,t)})),i.isSignedIn.listen((function(){o(i.isSignedIn.get(),e,t)}));case 5:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)}))))};return{init:function(e){var t=e.querySelector(".link");t&&(t.innerHTML=e.dataset.hrefLink),(t=e.querySelector(".preview-text"))&&(t.innerHTML="- ".concat(i.connectPreview)),e.dataset.googleLinkRetrieve=1,s(e,e.dataset.googleFileId)}}},Ze=n(119),Xe=function(){var e=Object(D.i)(),t=pe(),n=Object(_.useSelector)((function(e){return e.session.user})),a=Object(_.useSelector)((function(e){return e.posts.companyPosts})),r=a.flipper,i=a.next_skip,c=a.posts,o=a.filter,s=a.tag,l=a.postListTag,u=a.count,m=a.sort,p=a.search,f=a.searchResults,b=Object(_.useSelector)((function(e){return e.posts.postsLists})),h=Object(_.useSelector)((function(e){return e.posts.archived})),O=Object(_.useSelector)((function(e){return e.posts.favourites})),E=Object(_.useSelector)((function(e){return e.posts.myPosts})),g=Object(_.useSelector)((function(e){return e.posts.unreadPosts})),A=Object(_.useSelector)((function(e){return e.posts.readPosts})),v=function(e){if(g.has_more&&t.fetchUnreadCompanyPosts({skip:g.skip,limit:25,filters:["green_dot"]}),A.has_more&&t.fetchReadCompanyPosts({skip:A.skip,limit:25,filters:["read_post"]}),"archive"===o){var n={skip:h.skip,limit:h.limit,filters:["post","archived"]};h.has_more&&t.fetchCompanyPosts(n,e)}else if("my_posts"===o){var a={skip:E.skip,limit:E.limit,filters:["post","created_by_me"]};E.has_more&&t.fetchCompanyPosts(a,e)}};Object(d.useEffect)((function(){v(),t.fetchPostList()}),[]),Object(d.useEffect)((function(){0===h.skip&&h.has_more&&"all"===o&&t.fetchArchivedCompanyPosts({skip:0,limit:25,filters:["post","archived"]})}),[o,h]),Object(d.useEffect)((function(){0===O.skip&&O.has_more&&"star"===o&&t.fetchStarCompanyPosts({skip:0,limit:25,filters:["post","favourites"]})}),[o,O]),Object(d.useEffect)((function(){0===E.skip&&E.has_more&&"my_posts"===o&&t.fetchMyCompanyPosts({skip:0,limit:25,filters:["post","created_by_me"]})}),[o,E]);var j=Object.values(c);f.length>0&&""!==p?j=j.filter((function(e){return f.some((function(t){return e.id===t.id}))})):0===f.length&&""!==p&&(j=[]),j=j.filter((function(e){return o?"all"===o?!e.hasOwnProperty("draft_type"):"inbox"===o?""!==p?!e.hasOwnProperty("draft_type"):!e.hasOwnProperty("draft_type")&&1!==e.is_archived&&1===e.is_unread:"my_posts"===o?!(!e.hasOwnProperty("author")||e.hasOwnProperty("draft_type"))&&e.author.id===n.id:"draft"===o?e.hasOwnProperty("draft_type"):"star"===o?e.is_favourite&&!e.hasOwnProperty("draft_type"):"archive"===o?1===e.is_archived&&!e.hasOwnProperty("draft_type"):void 0:s?"is_must_reply"===s?e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===n.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===n.id&&e.is_must_reply||e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===n.id&&!e.must_reply})):"is_must_read"===s?e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===n.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===n.id&&e.is_must_read||e.must_read_users&&e.must_read_users.some((function(e){return e.id===n.id&&!e.must_read})):"is_read_only"===s?e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_unread"===s?!e.hasOwnProperty("draft_type")&&1!==e.is_archived&&1===e.is_unread:"is_close"===s?e.is_close&&!e.hasOwnProperty("draft_type"):!!isNaN(parseInt(s))||e.post_list_connect.length>0&&e.post_list_connect[0].id===parseInt(s):l?!!isNaN(parseInt(l))||e.post_list_connect.length>0&&parseInt(e.post_list_connect[0].id)===parseInt(l):!e.hasOwnProperty("author")||e.author.id!==n.id})).sort((function(e,t){return t.updated_at.timestamp>e.updated_at.timestamp?1:-1})),u.is_must_reply=Object.values(c).filter((function(e){return e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===n.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===n.id&&e.is_must_reply||e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===n.id&&!e.must_reply}))})).length,u.is_must_read=Object.values(c).filter((function(e){return e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===n.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===n.id&&e.is_must_read||e.must_read_users&&e.must_read_users.some((function(e){return e.id===n.id&&!e.must_read}))})).length,u.is_read_only=Object.values(c).filter((function(e){return 1===e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,u.is_unread=Object.values(c).filter((function(e){return!e.hasOwnProperty("draft_type")&&1!==e.is_archived&&1===e.is_unread})).length,u.is_close=Object.values(c).filter((function(e){return e.is_close&&!e.hasOwnProperty("draft_type")})).length;var C={drafts:Object.values(c).filter((function(e){return"draft_post"===e.type})).length};return{archived:h,flipper:r,actions:t,fetchMore:v,posts:j,filter:o,tag:s,postListTag:l,sort:m,post:Object.values(c).filter((function(t){return t.id===parseInt(e.postId)}))[0],search:p,user:n,count:u,counters:C,skip:i,postLists:b}},$e=function(){var e=Object(D.i)(),t=Object(ye.a)(e),n=Object(_.useSelector)((function(e){return e.workspaces.activeTopic})),a=Object(_.useSelector)((function(e){return e.files.companyFiles})),r=a.init,i=a.count,c=a.has_more,o=a.skip,s=a.limit,l=a.items,u=a.search_results,m=a.search_value,p=Object(_.useSelector)((function(e){return e.files.companyFolders})),f=p.init,h=p.has_more,O=p.skip,E=p.limit,g=p.items,A=Object(_.useSelector)((function(e){return e.files.companyFiles.recently_edited})),v=A.init,j=A.has_more,C=A.skip,T=A.limit,y=A.items,S=Object(_.useSelector)((function(e){return e.files.companyFiles.favorite_files})),w=S.init,k=S.has_more,N=S.skip,R=S.limit,x=S.items,I=Object(_.useSelector)((function(e){return e.files.companyFiles.popular_files})),P=I.init,L=I.has_more,F=I.skip,M=I.limit,U=I.items,G=Object(_.useSelector)((function(e){return e.files.companyFiles.trash_files})),H=G.init,B=G.has_more,W=G.skip,Y=G.limit,z=G.items,V=Object(_.useSelector)((function(e){return e.files.companyFiles.google_files})),Q=V.init,q=V.has_more,K=V.skip,J=V.limit,Z=Object(_.useSelector)((function(e){return e.files.companyFolders.google_folders})),X=Z.init,$=Z.skip,ee=Z.limit,te=Object(_.useSelector)((function(e){return e.files.googleDriveApiFiles})),ne=Object(d.useState)(null),ae=Object(b.a)(ne,2),re=ae[0],ie=ae[1],ce=Object(d.useState)(!1),oe=Object(b.a)(ce,2),se=oe[0],le=oe[1],de=Object(d.useState)(!1),ue=Object(b.a)(de,2),me=ue[0],pe=ue[1],fe=Object(d.useState)(!1),be=Object(b.a)(fe,2),he=be[0],_e=be[1],Oe=Object(d.useState)(!1),Ee=Object(b.a)(Oe,2),ge=Ee[0],Ae=Ee[1],ve=Object(d.useState)(!1),je=Object(b.a)(ve,2),Ce=je[0],Te=je[1],Se=Object(d.useState)(!1),we=Object(b.a)(Se,2),ke=we[0],Ne=we[1],Re=Object(d.useState)(!1),xe=Object(b.a)(Re,2),Ie=xe[0],Pe=xe[1],De=Object(d.useState)(!1),Le=Object(b.a)(De,2),Fe=Le[0],Me=Le[1],Ue=Object(d.useState)(!1),Ge=Object(b.a)(Ue,2),He=(Ge[0],Ge[1]),Be=function(){!me&&c&&(pe(!0),t.fetchCompanyFiles({skip:o,limit:s},(function(){pe(!1)})))},We=function(){!Ce&&k&&(Te(!0),t.fetchCompanyFavoriteFiles({skip:N,limit:R},(function(){Te(!1)})))},Ye=function(){!ke&&L&&(Ne(!0),t.fetchCompanyPopularFiles({skip:F,limit:M},(function(){Ne(!1)})))},ze=function(){!Ie&&B&&(Pe(!0),t.fetchCompanyTrashedFiles({skip:W,limit:Y},(function(){Pe(!1)})))},Ve=function(){!Fe&&q&&(Me(!0),t.getCompanyGoogleDriveFolders({skip:$,limit:ee},(function(){Me(!1)})))},Qe=function(){!he&&q&&(He(!0),t.getCompanyGoogleDriveFiles({skip:K,limit:J},(function(){He(!1)})))};Object(d.useEffect)((function(){t.fetchCompanyFilesDetail(),r||Be(),f||!se&&h&&(le(!0),t.fetchCompanyFolders({skip:O,limit:E},(function(){le(!1)}))),X||Ve(),Q||Qe(),P||Ye(),w||We(),v||!ge&&j&&(Ae(!0),t.fetchCompanyRecentEditedFiles({skip:C,limit:T},(function(){Ae(!1)}))),H||ze()}),[]),Object(d.useEffect)((function(){!e.folderId||null!==re&&re.id===e.folderId?e.folderId||ie(null):"undefined"!==typeof g[e.folderId]?(t.fetchCompanyFolderBreadCrumbs({folder_id:e.folderId}),ie(g[e.folderId])):ie(null)})),Object(d.useEffect)((function(){re&&(re.init||re&&!he&&(_e(!0),re.has_more&&(pe(!0),t.fetchCompanyFiles({skip:re.skip,limit:re.limit,folder_id:re.id},(function(){_e(!1)})))))}),[re]);var qe=[];return qe=""!==m?u.sort((function(e,t){return t>e?1:-1})):e.hasOwnProperty("folderId")&&g.hasOwnProperty(e.folderId)&&g[e.folderId].hasOwnProperty("files")?Object.values(g[e.folderId].files).sort((function(e,t){return t>e?1:-1})):Object.values(l).filter((function(e){return null===e.folder_id})).map((function(e){return e.id})).sort((function(e,t){return t>e?1:-1})),{params:e,isLoaded:r,files:{files:l,recently_edited:y,popular_files:U,favorite_files:x,trash_files:z},fileCount:i,actions:t,topic:n,fileIds:qe,folders:g,subFolders:re?re.subFolders:[],folder:re,googleDriveApiFiles:te,loadMore:{files:Be,popularFiles:Ye,favoriteFiles:We,trashFiles:ze,googleDriveFiles:Qe,googleDriveFolders:Ve}}},et=n(128),tt=function(){var e=Object(_.useDispatch)();return{fetchCompanyTimeline:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(et.c)(t,n))},fetchCompanyRecentPosts:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(et.b)(t,n))},fetchCompanyMembers:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(et.a)(t,n))}}},nt=function(){var e=tt(),t=Object(_.useSelector)((function(e){return e.dashboard.timeline})),n=t.init,a=t.skip,r=t.limit,i=t.has_more,c=t.items,o=Object(_.useSelector)((function(e){return e.dashboard.members})),s=o.init,l=o.skip,u=o.limit,m=o.has_more,p=o.items,f=Object(_.useSelector)((function(e){return e.dashboard.recent_posts})),b=f.init,h=f.skip,O=f.limit,E=f.has_more,g=f.items,A=function(t){i&&e.fetchCompanyTimeline({skip:a,limit:r},t)},v=function(t){E&&e.fetchCompanyRecentPosts({skip:h,limit:O},t)},j=function(t){m&&e.fetchCompanyMembers({skip:l,limit:u},t)};return Object(d.useEffect)((function(){n||A(),s||j(),b||v()}),[]),{actions:e,fetchMoreTimeline:A,fetchMoreRecentPosts:v,fetchMoreMembers:j,timelineInit:n,timelineItems:c,recentPostsInit:b,recentPostsItems:g,membersInit:s,membersItems:p}},at=function(){var e=Object(_.useSelector)((function(e){return e.chat.channels})),t=Object(_.useSelector)((function(e){return e.chat.lastVisitedChannel})),n=Object(ce.a)(),a=Object(D.i)();Object(d.useEffect)((function(){t?n.select(e[t.id]):"undefined"===typeof a.code?n.fetchLastChannel():n.fetchSelectChannel(a.code)}),[])},rt=function(){var e=Object(_.useDispatch)(),t=Re(),n=Object(D.g)(),a=F()._t,r=Object(_.useSelector)((function(e){return e.workspaces.workspaces})),i=Object(_.useSelector)((function(e){return e.session.user})),c={archiveWorkspace:a("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:a("BUTTON.ARCHIVE","Archive"),cancel:a("BUTTON.CANCEL","Cancel"),archiveBodyText:a("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unArchiveBodyText:a("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),unArchiveWorkspace:a("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),leaveWorkspace:a("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:a("TOASTER.JOIN_WORKSPACE","You have joined #"),somethingWentWrong:a("TOASTER.SOMETHING_WENT_WRONG","Something went wrong!")},o=function(t){r[t.id]?(e(Object(me.P)(t)),t.folder_id?n.push("/workspace/chat/".concat(t.folder_id,"/").concat(Object(j.h)(t.folder_name),"/").concat(t.id,"/").concat(Object(j.h)(t.name))):n.push("/workspace/chat/".concat(t.id,"/").concat(Object(j.h)(t.name)))):s(t)},s=function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(Object(me.s)({topic_id:a.id},(function(i,c){i?t.warning("This workspace cannot be found or accessed."):(e(Object(me.P)(a)),e(Object(me.R)(a.id)),r?a.folder_id?n.push("/workspace/posts/".concat(a.folder_id,"/").concat(Object(j.h)(a.folder_name),"/").concat(a.id,"/").concat(Object(j.h)(a.name),"/post/").concat(r.id,"/").concat(Object(j.h)(r.title))):n.push("/workspace/posts/".concat(a.id,"/").concat(Object(j.h)(a.name),"/post/").concat(r.id,"/").concat(Object(j.h)(r.title))):a.folder_id?n.push("/workspace/chat/".concat(a.folder_id,"/").concat(Object(j.h)(a.folder_name),"/").concat(a.id,"/").concat(Object(j.h)(a.name))):n.push("/workspace/chat/".concat(a.id,"/").concat(Object(j.h)(a.name))))})))},l=function(t){e(Object(me.t)({},t))};return{edit:function(t){if(r[t.topic.id]){var n={type:"workspace_create_edit",mode:"edit",item:r[t.topic.id]};e(Object(Y.a)(n))}},favourite:function(n){var r={id:n.topic.id,workspace_id:n.workspace?n.workspace.id:0,is_pinned:n.topic.is_favourite?0:1};e(Object(me.g)(r,(function(e,i){e?t.error(c.somethingWentWrong):i&&i.data&&(r.is_pinned?t.success(a("TOASTER.ADDED_TO_FAVORITES","::title:: added to favorites",{title:n.topic.name})):t.success(a("TOASTER.REMOVED_FROM_FAVORITES","::title:: removed from favorites",{title:n.topic.name})),l())})))},getFilterCount:l,leave:function(n){if(1===n.members.length&&n.topic.is_locked){var a={id:n.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};e(Object(W.nb)(a))}else{var r={name:n.topic.name,description:n.topic.description,topic_id:n.topic.id,is_external:n.topic.is_shared?1:0,member_ids:n.members.map((function(e){return e.id})),is_lock:n.topic.is_locked?1:0,workspace_id:n.workspace?n.workspace.id:0,new_member_ids:[],remove_member_ids:[i.id]};r.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:i.id,name:i.name,first_name:i.first_name,partial_name:i.partial_name,profile_image_link:i.profile_image_thumbnail_link?i.profile_image_thumbnail_link:i.profile_image_link},title:"",added_members:[],removed_members:[i.id]}));e(Object(me.M)({workspace_id:n.topic.id,channel_id:n.channel.id},(function(e,a){e||(l(),t.success(u.a.createElement(u.a.Fragment,null,c.leaveWorkspace,u.a.createElement("b",null,n.topic.name))))}))),e(Object(me.T)(r))}},join:function(n){var a={channel_id:n.channel.id,recipient_ids:[i.id]};e(Object(me.K)(a,(function(e,a){e||(l(),o({id:n.topic.id,name:n.topic.name,folder_id:n.workspace?n.workspace.id:null,folder_name:n.workspace?n.workspace.name:null}),t.success(u.a.createElement(u.a.Fragment,null,c.joinWorkspace,u.a.createElement("b",null,n.topic.name))))})))},search:function(t,n){e(Object(me.l)(t,n))},showArchiveConfirmation:function(n){var a={type:"confirmation",headerText:c.archiveWorkspace,submitText:c.archive,cancelText:c.cancel,bodyText:c.archiveBodyText,actions:{onSubmit:function(){return function(n){var a={id:n.channel.id,is_archived:!n.topic.is_archive,is_muted:!1,is_pinned:!1,is_shared:n.topic.is_shared};n.topic.is_archive&&(a.push_unarchived=1),e(Object(W.nb)(a,(function(e,a){e||(l(),t.success(u.a.createElement("span",null,n.topic.is_archive?"Unarchived ":"Archived "," ",u.a.createElement("b",null,n.topic.name))))})))}(n)}}};n.topic.is_archive&&(a=Object(p.a)(Object(p.a)({},a),{},{headerText:c.unArchiveWorkspace,submitText:c.unArchiveWorkspace,bodyText:c.unArchiveBodyText})),e(Object(Y.a)(a))},showWorkspaceModal:function(){e(Object(Y.a)({type:"workspace_create_edit",mode:"create"}))},toWorkspace:o,updateSearch:function(t,n){e(Object(me.Y)(t,n))}}},it=function(){var e=Object(_.useDispatch)(),t=Re(),n=F()._t,a=Object(D.i)(),r={toasterGeneraError:n("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:n("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterUpdateTodo:n("TOASTER.TODO_UPDATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterDoneTodo:n("TOASTER.TODO_DONE_SUCCESS","You have mark ::todo_title:: as done."),toasterUnDoneTodo:n("TOASTER.TODO_UNDONE_SUCCESS","You have mark ::todo_title:: as undone."),toasterDeleteTodo:n("TOASTER.TODO_DELETE_SUCCESS","You have successfully deleted ::todo_title::."),modalConfirmationTodoRemoveHeader:n("MODAL_CONFIRMATION.TODO_REMOVE_HEADER","Remove reminder item?"),modalConfirmationTodoRemoveBody:n("MODAL_CONFIRMATION.TODO_REMOVE_BODY","Are you sure you want to remove this item?"),modalConfirmationTodoRemoveSubmit:n("MODAL_CONFIRMATION.TODO_REMOVE_SUBMIT","Remove"),modalConfirmationTodoRemoveCancel:n("MODAL_CONFIRMATION.TODO_REMOVE_CANCEL","Cancel")},i=function(t){e(Object(me.x)(t,(function(n,a){n||e(Object(me.X)({count:a.data,id:t.topic_id}))})))},c=function(){e(Object(Y.x)())},o=function(t,n){e(Object(Y.K)(t,n))},s=function(t,n){e(Object(Y.M)(t,n))},l=function(n,o){e(Object(Y.f)({todo_id:n.id},(function(e,s){s&&(t.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterDeleteTodo.replace("::todo_title::","<b>".concat(n.title,"</b>"))}})),a.workspaceId?i({topic_id:a.workspaceId}):c()),o&&o(e,s)})))};return{fetch:function(t,n){e(Object(Y.w)(t,n))},fetchDetail:c,fetchWs:function(t,n){e(Object(me.v)(t,(function(a,r){n&&n(),a||e(Object(me.w)(Object(p.a)(Object(p.a)({},r.data),{},{topic_id:t.topic_id})))})))},fetchWsCount:i,create:o,createFromModal:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},s=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(e,(function(e,o){e&&t.error(r.toasterGeneraError),o&&t.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterCreateTodo}})),a.workspaceId?i({topic_id:a.workspaceId}):c(),s(e,o),n(e,o)}))},l={type:"todo_reminder",actions:{onSubmit:s},params:a};e(Object(Y.a)(l))},createForPost:function(t,n,r){e(Object(Y.K)(Object(p.a)(Object(p.a)({},n),{},{link_id:t,link_type:"POST"}),(function(e,t){r&&r(e,t),a.workspaceId?i({topic_id:a.workspaceId}):c()})))},createForPostComment:function(t,n,r){e(Object(Y.K)(Object(p.a)(Object(p.a)({},n),{},{link_id:t,link_type:"POST_COMMENT"}),(function(e,t){r&&r(e,t),a.workspaceId?i({topic_id:a.workspaceId}):c()})))},createForChat:function(t,n,r){e(Object(Y.K)(Object(p.a)(Object(p.a)({},n),{},{link_id:t,link_type:"CHAT"}),(function(e,t){r&&r(e,t),a.workspaceId?i({topic_id:a.workspaceId}):c()})))},update:s,updateFromModal:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},l=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};s(Object(p.a)(Object(p.a)({},e),{},{id:n.id}),(function(e,n){e&&t.error(r.toasterGeneraError),n&&(t.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterUpdateTodo}})),a.workspaceId?i({topic_id:a.workspaceId}):c()),l(e,n),o(e,n)}))},d={type:"todo_reminder",mode:"edit",item:Object(p.a)(Object(p.a)({},n),{},{body:n.description},"undefined"===typeof n.user&&{user:n.author}),parentItem:n,itemType:n.link_type,actions:{onSubmit:l}};e(Object(Y.a)(d))},markDone:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(Y.L)({todo_id:n.id},(function(e,s){s&&(a.workspaceId?i({topic_id:a.workspaceId}):c(),t.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterDoneTodo.replace("::todo_title::","<b>".concat(n.title,"</b>"))}}))),o(e,s)})))},markUnDone:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(Y.L)(Object(p.a)({todo_id:n.id},"DONE"===n.status&&{undo:1}),(function(e,s){s&&(a.workspaceId?i({topic_id:a.workspaceId}):c(),t.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterUnDoneTodo.replace("::todo_title::","<b>".concat(n.title,"</b>"))}}))),o(e,s)})))},toggleDone:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(Y.L)(Object(p.a)({todo_id:n.id},"DONE"===n.status&&{undo:1}),(function(e,i){i&&("DONE"===i.data.status?t.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterDoneTodo.replace("::todo_title::","<b>".concat(n.title,"</b>"))}})):t.success(u.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.toasterUnDoneTodo.replace("::todo_title::","<b>".concat(n.title,"</b>"))}}))),a(e,i)})))},remove:l,removeConfirmation:function(t,n){e(Object(Y.a)({type:"confirmation",headerText:r.modalConfirmationTodoRemoveHeader,submitText:r.modalConfirmationTodoRemoveSubmit,cancelText:r.modalConfirmationTodoRemoveCancel,bodyText:r.modalConfirmationTodoRemoveBody,actions:{onSubmit:function(){l(t,n)}}}))},fetchDone:function(t,n){e(Object(Y.p)(t,n))},fetchWsDone:function(t,n){e(Object(me.v)(t,(function(a,r){n&&n(),a||e(Object(me.m)(Object(p.a)(Object(p.a)({},r.data),{},{topic_id:t.topic_id})))})))},fetchOverdue:function(t,n){e(Object(Y.s)(t,n))},fetchWsOverdue:function(t,n){e(Object(me.v)(t,(function(a,r){n&&n(),a||e(Object(me.p)(Object(p.a)(Object(p.a)({},r.data),{},{topic_id:t.topic_id})))})))},fetchToday:function(t,n){e(Object(Y.y)(t,n))},fetchWsToday:function(t,n){e(Object(me.v)(t,(function(a,r){n&&n(),a||e(Object(me.q)(Object(p.a)(Object(p.a)({},r.data),{},{topic_id:t.topic_id})))})))},snooze:function(t){e(Object(Y.Y)(t))},snoozeAll:function(t){e(Object(Y.Z)(t))}}},ct=!1,ot=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(_.useSelector)((function(e){return e.global.todos})),n=t.isLoaded,a=t.skip,r=t.limit,i=t.hasMore,c=t.items,o=t.count,s=t.doneRecently,l=t.done,u=t.overdue,m=t.today,f=Object(_.useSelector)((function(e){return e.session})),b=f.user,h=Object(_.useSelector)((function(e){return e.users.users})),O=it(),E=Le(),g=E.localizeDate,A=function(){i&&O.fetch({skip:a,limit:r,filter:"new"}),m.hasMore&&O.fetchToday({skip:m.skip,limit:m.limit,filter:"today"}),l.hasMore&&O.fetchDone({skip:l.skip,limit:l.limit,filter:"done"}),u.hasMore&&O.fetchOverdue({skip:u.skip,limit:u.limit,filter:"overdue"})},v=function(e){var t=e.filter,n=void 0===t?"":t;return Object.values(c).map((function(e){if(null===e.author&&null===e.link_type){var t=Object.values(h).find((function(t){return t.id===e.user}));return Object(p.a)(Object(p.a)({},e),{},{author:t||Object(p.a)({},b),status:null!==e.remind_at&&g(e.remind_at.timestamp,"YYYY-MM-DD")===De()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})}return Object(p.a)(Object(p.a)({},e),{},{status:null!==e.remind_at&&g(e.remind_at.timestamp,"YYYY-MM-DD")===De()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})})).filter((function(e){if(n){if(""!==n.search&&!e.title.toLowerCase().includes(n.search.toLowerCase().trim())&&!e.description.toLowerCase().includes(n.search.toLowerCase().trim()))return!1;if(""!==n.status){if("ASSIGNED_TO_OTHERS"===n.status)return e.assigned_to&&e.assigned_to.id!==b.id&&e.user===b.id;if("ADDED_BY_OTHERS"===n.status)return e.assigned_to&&e.assigned_to.id===b.id&&e.user!==b.id;if(e.status===n.status)return!(e.workspace&&!e.assigned_to);if("DONE"===e.status){if("TODAY"===n.status&&null!==e.remind_at&&g(e.remind_at.timestamp,"YYYY-MM-DD")===De()().format("YYYY-MM-DD"))return!0;if("OVERDUE"===n.status&&null!==e.remind_at&&g(e.remind_at.timestamp,"YYYY-MM-DD")<De()().format("YYYY-MM-DD"))return!0;if("NEW"===n.status&&null!==e.remind_at&&g(e.remind_at.timestamp,"YYYY-MM-DD")>De()().format("YYYY-MM-DD"))return!0;if("NEW"===n.status&&null===e.remind_at)return!0}return!1}return!(e.workspace&&!e.assigned_to)&&(!(!e.user||e.user!==b.id)||(!e.assigned_to||e.assigned_to.id===b.id))}return!0})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))};return Object(d.useEffect)((function(){ct||(ct=!0),!n&&e&&A(),O.fetchDetail({})}),[]),{isLoaded:n,items:c,count:o,getReminders:v,action:Object(p.a)(Object(p.a)({},O),{},{loadMore:A}),doneRecently:s}},st=function(e){var t=e.addressTo,n=Object(_.useSelector)((function(e){return e.global.recipients})),a=Object(_.useSelector)((function(e){return e.workspaces})),r=a.workspaces,i=a.activeTopic,c=Object(_.useSelector)((function(e){return e.users})).users,o=n.filter((function(e){return"undefined"!==typeof e.name})).sort((function(e,t){return e.name.localeCompare(t.name)})),s=o.find((function(e){return!0===e.main_department})),l=o.filter((function(e){return"TOPIC"===e.type})),u=o.filter((function(e){return"USER"===e.type&&1===e.active})).sort((function(e,t){return e.name.localeCompare(t.name)})),m=Object.values(c).filter((function(e){return 1===e.active&&"internal"===e.type})),h=Object(d.useState)([]),O=Object(b.a)(h,2),E=O[0],g=O[1],A=Object(d.useState)(!1),v=Object(b.a)(A,2),j=v[0],C=v[1];Object(d.useEffect)((function(){if(!j&&Object.values(c).length>1){C(!0);var e=[];l.forEach((function(t){"undefined"!==typeof r[t.type_id]&&"WORKSPACE"===r[t.type_id].type&&e.push(Object(p.a)(Object(p.a)(Object(p.a)({},t),r[t.type_id]),{},{icon:"compass",value:t.id,label:t.name}))}));var t=[];u.forEach((function(e){"undefined"!==typeof c[e.type_id]&&1===c[e.type_id].active&&t.push(Object(p.a)(Object(p.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"}))}));var n=[].concat(e,t),a=s?[Object(p.a)(Object(p.a)({},s),{},{participant_ids:m.map((function(e){return e.id})),member_ids:m.map((function(e){return e.id})),members:m.map((function(e){return e})),icon:"home",value:s.id,label:s.name})]:[];g([].concat(a,Object(f.a)(n)))}}),[E,n,c,r,g]);var T=[],y=[],S=[],w=[],k=!1;t.forEach((function(e){S.push(e.id),["DEPARTMENT","TOPIC","WORKSPACE"].includes(e.type)&&(w=[].concat(Object(f.a)(w),[e.type_id]),y=[].concat(Object(f.a)(y),Object(f.a)(e.member_ids))),"USER"===e.type&&(T.push(e.type_id),y=[].concat(Object(f.a)(y),[e.type_id]),k||(k=!0))}));var N=t.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat();N=Object(f.a)(new Set(N));var R=Object.values(c).filter((function(e){return N.some((function(t){return t===e.id}))})).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER",user_type:e.type})}));return{addressIds:N,options:E,userOptions:R,user_ids:Object(f.a)(new Set(y)),workspace_ids:w,responsible_ids:T,recipient_ids:S,is_personal:k,getAddressTo:function(e){return e.map((function(t){return Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},t),{},{icon:["TOPIC","DEPARTMENT"].includes(e.type)?"compass":"user-avatar"},"DEPARTMENT"===t.type&&{participant_ids:m.map((function(e){return e.id})),member_ids:m.map((function(e){return e.id})),members:m.map((function(e){return e}))}),"TOPIC"===t.type&&{participant_ids:t.participant_ids,member_ids:t.participant_ids,members:[],is_lock:t.private,is_shared:t.is_shared}),{},{value:t.id,label:t.name})}))},getDefaultAddressTo:function(){return[Object(p.a)(Object(p.a)(Object(p.a)({},l.filter((function(e){return e.type_id===i.id}))),i),{},{participant_ids:i.member_ids,icon:"compass",value:i.id,label:i.name})]},getDefaultAddressToAsCompany:function(){return[Object(p.a)(Object(p.a)({},s),{},{participant_ids:m.map((function(e){return e.id})),member_ids:m.map((function(e){return e.id})),members:m.map((function(e){return e})),icon:"home",value:s.id,label:s.name})]},actualUsers:c}},lt=function(e){var t=Object(_.useDispatch)(),n=Object(_.useSelector)((function(e){return e.files.pendingWorkspaceFilesUpload}));Object(d.useEffect)((function(){0!==Object.keys(n).length&&Object.values(n).forEach((function(e){t(Object(Ke.Vb)(e)),t(Object(Ke.Hb)(e))}))}),[n])},dt=n(37),ut=function(){var e=Object(_.useSelector)((function(e){return e.notifications.notifications})),t=Object(_.useSelector)((function(e){return e.session.user})),n=Object(ce.a)(),a=Object(_.useDispatch)();Object(d.useEffect)((function(){document.body.classList.remove("form-membership");t&&"internal"===t.type&&a(Object(W.C)()),n.loadMore({skip:0,limit:25},(function(){a(Object(Y.n)()),a(Object(dt.l)({},(function(){a(Object(dt.g)())}))),a(Object(dt.h)()),a(Object(Y.q)()),0===Object.keys(e).length&&a(Object(ae.c)({skip:0,limit:50})),a(Object(Y.A)({add_unread_comment:1})),a(Object(Y.u)()),a(Object(Y.x)()),a(Object(W.D)())})),a(Object(W.I)({})),a(Object(W.E)({},(function(e,t){e||(a(Object(W.i)()),t.data&&t.data.forEach((function(e){var t;t=e.channel.id,a(Object(W.J)({channel_id:t},(function(e,n){e||n.data&&n.data.length>0&&a(Object(W.c)({channel_id:t}))})))})))})))}),[])},mt=Object(I.a)(T.i)(Ue||(Ue=Object(x.a)(["\n  display: block;\n  svg,\n  polyline,\n  circle,\n  g {\n    stroke: ",";\n  }\n"])),(function(e){return e.isAuthor?"#ffffffe6":"#8C3B9B"})),pt=I.a.div(Ge||(Ge=Object(x.a)(["\n  cursor: pointer;\n  &:hover div.OriginalHtml {\n    transition: opacity 2s ease-out;\n    opacity: 1;\n    height: auto;\n  }\n"]))),ft=I.a.div(He||(He=Object(x.a)(["\n  font-size: small;\n  padding-left: 0.5em;\n  border-left: gray 2px solid;\n  transition: opacity 2s ease-in;\n  opacity: 0;\n  height: 0;\n  overflow: hidden;\n"]))),bt=function(e){var t=e.reply,n=e.dictionary,a=e.isAuthor,r=e.user,i=e.selectedChannel,c=e.users,o=e.translated_channels,s=function(e){var t="";if(e.includes("JOIN_CHANNEL")){var a=e.match(/\d+/g),o=Object.values(c).filter((function(e){return a.some((function(t){return parseInt(t)===e.id}))})).map((function(e){return e.name}));return t=(i.type,"<p><span class='channel-new-members'>".concat(o.join(", "),"</span><br> ").concat(n.joined," <span class='channel-title'>#").concat(i.title,"</span></p>"))}if(e.includes("MEMBER_REMOVE_CHANNEL"))return t=(i.type,"<p><span class='channel-new-members'>".concat(e.substr(e.indexOf(" ")),"</span><br> ").concat(n.left," <span class='channel-title'>#").concat(i.title,"</span></p>"));if(e.includes("ACCOUNT_DEACTIVATED")){var s=e.replace("ACCOUNT_DEACTIVATED ","");return s="s"===s[s.length-1]?"".concat(n.update,": ").concat(s,"' ").concat(n.accountDeactivated,"."):"".concat(n.update,": ").concat(s,"'s ").concat(n.accountDeactivated,".")}if(e.includes("NEW_ACCOUNT_ACTIVATED")){var l=e.replace("NEW_ACCOUNT_ACTIVATED ","");return l="s"===l[l.length-1]?"".concat(n.update,": ").concat(l,"' ").concat(n.accountActivated,"."):"".concat(n.update,": ").concat(l,"'s ").concat(n.accountActivated,".")}if(e.includes("HUDDLE_SKIP::"))t="You skipped today";else{if(e.includes("CHANNEL_UPDATE::")){var d=JSON.parse(e.replace("CHANNEL_UPDATE::","")),m={name:n.someone,id:null};if(d.author&&d.author.id===r.id)m={name:u.a.createElement("b",null,n.you),id:r.id};else if(d.author&&d.author.id!==r.id){var p=Object.values(c).find((function(e){return d.author.id===e.id}));p&&(m={name:p.name,id:p.id})}if(d.accepted_members&&d.author){var f=Object.values(c).find((function(e){return d.author===e.id}));f&&(m={name:f.name,id:f.id})}var b="";if(""!==d.title&&(b=u.a.createElement(u.a.Fragment,null,u.a.createElement(T.s,{width:16,icon:"edit-3"})," ",m.name," ","TOPIC"===i.type?n.renameThisWorkspace:n.renameThisChat," ",u.a.createElement("b",null,"#",d.title),u.a.createElement("br",null))),""!==d.title||0!==d.added_members.length||0!==d.removed_members.length||d.hasOwnProperty("accepted_members")||(b=u.a.createElement(u.a.Fragment,null,r.id===d.author.id?u.a.createElement("b",null,n.you):u.a.createElement("b",null,m.name)," updated ",u.a.createElement("b",null,"#",i.title))),1===d.added_members.length&&0===d.removed_members.length&&""===d.title){var h=Object.values(c).find((function(e){return d.added_members.includes(e.id)}));h&&d.author&&d.author.id===h.id?b=u.a.createElement(u.a.Fragment,null,r.id===d.author.id?u.a.createElement("b",null,n.you):u.a.createElement("b",null,m.name)," ",n.joined," ",u.a.createElement("b",null,"#",i.title)):h&&(b=u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,m.name)," ",n.added," ",u.a.createElement("b",null,h.name)))}else if(d.added_members.length>=1){var _=Object.values(c).filter((function(e){return d.added_members.includes(e.id)}));b=""===b?u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,m.name)," ",n.added," "):u.a.createElement(u.a.Fragment,null,b," ",n.andAdded),d.added_members.includes(r.id)&&(b=0!==(_=_.filter((function(e){return e.type_id!==r.id}))).length?u.a.createElement(u.a.Fragment,null,b," ",u.a.createElement("b",null,n.youAnd," ")):u.a.createElement(u.a.Fragment,null,b," ",u.a.createElement("b",null,n.you))),0!==_.length&&(b=u.a.createElement(u.a.Fragment,null,b," ",u.a.createElement("b",null,_.map((function(e){return e.name})).join(", ")),u.a.createElement("br",null)))}if(1===d.removed_members.length)if(d.author&&d.author.id===d.removed_members[0])b=""===b?d.author.id===r.id&&d.removed_members[0]===r.id?u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,n.you)," ","TOPIC"===i.type?n.leftTheWorkspace:n.leftTheChat," "):u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,d.author.name)," ","TOPIC"===i.type?n.hasLeftWorkspace:n.hasLeftChat," "):u.a.createElement(u.a.Fragment,null,b," ","TOPIC"===i.type?n.andHasLeftWorkspace:n.andHasLeftChat);else{var O=Object.values(c).find((function(e){return d.removed_members.includes(e.id)}));b=""===b?u.a.createElement(u.a.Fragment,null,m.name," ",n.removed," ",u.a.createElement("b",null,O?O.name:null)):u.a.createElement(u.a.Fragment,null,b," ",n.andRemoved," ",u.a.createElement("b",null,O?O.name:null))}else if(d.removed_members.length>1){var E=Object.values(c).filter((function(e){return d.removed_members.includes(e.id)}));d.removed_members.includes(r.id)&&d.author&&d.author.id===r.id?(b=""===b?u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,m.name)," ",n.left," "):u.a.createElement(u.a.Fragment,null,b," ",n.andLeft),0!==E.length&&(b=u.a.createElement(u.a.Fragment,null,b," ",n.andRemoved," ",u.a.createElement("b",null,E.join(", ")),u.a.createElement("br",null)))):(b=""===b?u.a.createElement(u.a.Fragment,null,m.name," ",n.removed," "):u.a.createElement(u.a.Fragment,null,b," ",n.andRemoved),d.removed_members.includes(r.id)&&(b=0!==E.length?u.a.createElement(u.a.Fragment,null,b," ",u.a.createElement("b",null,n.youAnd," ")):u.a.createElement(u.a.Fragment,null,b," ",u.a.createElement("b",null,n.you))),0!==E.length&&(b=u.a.createElement(u.a.Fragment,null,b," ",u.a.createElement("b",null,E.join(", ")),u.a.createElement("br",null))))}else if(d.accepted_members){var g=Object.values(c).find((function(e){return d.accepted_members[0]===e.id}));b=u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,m.name)," ",n.added," ",u.a.createElement("b",null,g&&g.name))}return Object(y.renderToString)(b)}if(e.includes("POST_CREATE::")){try{var A=JSON.parse(e.replace("POST_CREATE::","").replace("</div>","")),v=A.post.description;t=Object(y.renderToString)(u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,A.author.first_name)," ",n.createdThePost," ",u.a.createElement("b",null,'"',A.post.title,'"'),u.a.createElement("span",{className:"card card-body",style:{margin:0,padding:"10px"},dangerouslySetInnerHTML:{__html:v}})))}catch(C){t=e}return t}if(e.startsWith('{"Welk punt geef je ons"')||e.startsWith("ZAP_SUBMIT::")){try{var j=JSON.parse(e.replace("ZAP_SUBMIT::",""));t="<span class='zap-submit'>",t+="<span>Hoi, ".concat(j.project_manager," Bedrijf ").concat(j.company_name," heeft een NPS review achtergelaten voor project: ").concat(j.project_name,"</span><div><br/></div>"),Object.keys(j).filter((function(e){return"submission_id"!==e})).forEach((function(e){var n;""!==j[e]&&(t+='<span class="data-key">'.concat(e,'</span> : <span class="data-value">').concat(isNaN(j[e])?"true"===(n=j[e]).toLowerCase()?"\ud83d\udc4d":"false"===n.toLowerCase()?"\ud83d\udc4e":n:function(e){for(var t="",n=1;n<=10;n++)t+=Object(y.renderToString)(u.a.createElement(T.s,{width:16,icon:"star",fill:n<=e?"#ffc107":"none"}));return t}(parseInt(j[e])),"</span><br/>"))})),t+="</span>"}catch(S){return e}}}return""===t?e:t},l=t.body;t.is_deleted?l=n.chatRemoved:t.created_at.timestamp!==t.updated_at.timestamp&&(l="".concat(l,"<span class='edited-message'>(edited)</span>")),l=s(P.a.parseEmoji(Object(j.i)(l)));var d="",m="";if(t.quote){t.quote.user&&(d=r.id!==t.quote.user.id?t.quote.user.name:n.you);var p=document.createElement("div");p.innerHTML=t.quote.body;for(var f=p.getElementsByTagName("img"),b=0;b<f.length;b++)m+=Object(y.renderToString)(u.a.createElement(mt,{className:"image-quote",target:"_blank",href:f[0].getAttribute("src"),icon:"image-video",isAuthor:a},"Photo"));for(var h=p.getElementsByTagName("video"),_=0;_<h.length;_++)m+=Object(y.renderToString)(u.a.createElement(mt,{className:"video-quote",target:"_blank",href:h[0].getAttribute("player-source"),icon:"image-video",isAuthor:a},"Video"));t.quote.files&&t.quote.files.forEach((function(e){"image"===e.type?m+=Object(y.renderToString)(u.a.createElement(mt,{className:"image-quote",target:"_blank",href:e.thumbnail_link,icon:"image-video",isAuthor:a},n.photo)):"video"===e.type?m+=Object(y.renderToString)(u.a.createElement(mt,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video",isAuthor:a},n.video)):m+=Object(y.renderToString)(u.a.createElement(mt,{target:"_blank",href:e.view_link,icon:"documents",isAuthor:a},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),m=s(m+=P.a.parseEmoji(t.quote.body))}var O=!!t.body.substring(15,t.body.length-8).match(j.c),E=t.body.substring(5,t.body.length-6),g=!(""===E||"><"===E),A=!1,v=l.substring(5,l.length-6);if(v.length<=3&&v.match(Object(j.d)())&&!Object(j.f)(v)&&(A=!0),i.is_translate&&t.is_translated&&o.length>0&&o.includes(i.id)){var C=u.a.createElement(pt,{dangerouslySetInnerHTML:{__html:t.translated_body+Object(y.renderToString)(u.a.createElement(ft,{className:"OriginalHtml",dangerouslySetInnerHTML:{__html:t.body}}))}});l=Object(y.renderToString)(C)}return{parseSystemMessage:s,quoteBody:m,quoteAuthor:d,replyBody:l,hasMessage:g,isGifOnly:O,isEmoticonOnly:A}},ht=function(){var e=Object(d.useState)({width:void 0,height:void 0}),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(d.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},_t=function(e){var t=e.dictionary,n=e.reply,a=e.selectedChannel,r=e.user,i=Object(_.useSelector)((function(e){return e.users.users})),c=F()._t;return{parseBody:function(){var e="";if(n.body.includes("POST_CREATE::"))if(""!==n.body.replace("POST_CREATE::","").trim()){var o=JSON.parse(n.body.replace("POST_CREATE::","")),s=P.a.parseToText(o.post.description);e=Object(y.renderToString)(u.a.createElement("span",{className:"push-link"},u.a.createElement("b",null,o.author.first_name)," ",t.createdThePost," ",u.a.createElement("b",null,'"',o.post.title,'"'),o.post.description.includes("<img src")?u.a.createElement("span",{className:"card card-body"},u.a.createElement(T.s,{icon:"image"})):""!==s.trim()&&u.a.createElement("span",{className:"card card-body",dangerouslySetInnerHTML:{__html:s}}),u.a.createElement("span",{className:"open-post"},t.openPost," ",u.a.createElement(T.s,{icon:"arrow-right"}))))}else e="System message...";else if(n.body.includes("JOIN_CHANNEL")){var l=n.body.match(/\d+/g),d=Object.values(i).filter((function(e){return l.some((function(t){return parseInt(t)===e.id}))})).map((function(e){return e.name}));e=(a.type,"<p><span class='channel-new-members'>".concat(d.join(", "),"</span><br> ").concat(t.joined," <span class='channel-title'>#").concat(a.title,"</span></p>"))}else if(n.body.includes("MEMBER_REMOVE_CHANNEL"))e=(a.type,"<p><span class='channel-new-members'>".concat(n.body.substr(n.body.indexOf(" ")),"</span><br> ").concat(t.left," <span class='channel-title'>#").concat(a.title,"</span></p>"));else if(n.body.includes("ACCOUNT_DEACTIVATED")){var m=n.body.replace("ACCOUNT_DEACTIVATED ","");e="s"===m[m.length-1]?"".concat(t.update,": ").concat(m,"' ").concat(t.accountDeactivated,"."):"".concat(t.update,": ").concat(m,"'s ").concat(t.accountDeactivated,".")}else if(n.body.includes("NEW_ACCOUNT_ACTIVATED")){var p=n.body.replace("NEW_ACCOUNT_ACTIVATED ","");e="s"===p[p.length-1]?"".concat(t.update,": ").concat(p,"' ").concat(t.accountActivated,"."):"".concat(t.update,": ").concat(p,"'s ").concat(t.accountActivated,".")}else if(n.body.startsWith("UPLOAD_BULK::")){var f=JSON.parse(n.body.replace("UPLOAD_BULK::",""));e=f.files&&1===f.files.length?c("SYSTEM.USER_UPLOADED_FILE",'<span class="chat-file-notification">::name:: uploaded <b>::filename::</b></span>',{name:f.author.first_name,filename:f.files[0].search}):c("SYSTEM.USER_UPLOADED_FILES",'<span class="chat-file-notification">::name:: uploaded ::count::  <b>files</b></span>',{name:f.author.first_name,count:f.files.length})}else if(n.body.includes("CHANNEL_UPDATE::")){var b=JSON.parse(n.body.replace("CHANNEL_UPDATE::","")),h={name:t.someone,id:null};if(b.author&&b.author.id===r.id)h={name:u.a.createElement("b",null,t.you),id:r.id};else if(b.author&&b.author.id!==r.id){var _=Object.values(i).find((function(e){return b.author.id===e.id}));_&&(h={name:_.name,id:_.id})}if(b.accepted_members&&b.author){var O=Object.values(i).find((function(e){return b.author===e.id}));O&&(h={name:O.name,id:O.id})}var E="";if(""!==b.title&&(E=u.a.createElement(u.a.Fragment,null,u.a.createElement(T.s,{width:16,icon:"edit-3"})," ",h.name," ","TOPIC"===a.type?t.renameThisWorkspace:t.renameThisChat," ",u.a.createElement("b",null,"#",b.title),u.a.createElement("br",null))),""!==b.title||0!==b.added_members.length||0!==b.removed_members.length||b.hasOwnProperty("accepted_members")||(E=u.a.createElement(u.a.Fragment,null,r.id===b.author.id?u.a.createElement("b",null,t.you):u.a.createElement("b",null,h.name)," updated ",u.a.createElement("b",null,"#",a.title))),1===b.added_members.length&&0===b.removed_members.length&&""===b.title){var g=Object.values(i).find((function(e){return b.added_members.includes(e.id)}));g&&h.id===g.id?E=u.a.createElement(u.a.Fragment,null,r.id===h.id?u.a.createElement("b",null,t.you):u.a.createElement("b",null,h.name)," ",t.joined," ",u.a.createElement("b",null,"#",a.title)):g&&(E=u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,h.name)," ",t.added," ",u.a.createElement("b",null,g.name)))}else if(b.added_members.length>=1){var A=Object.values(i).filter((function(e){return b.added_members.includes(e.id)}));E=""===E?u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,h.name)," ",t.added," "):u.a.createElement(u.a.Fragment,null,E," ",t.andAdded),b.added_members.includes(r.id)&&(E=0!==(A=A.filter((function(e){return e.type_id!==r.id}))).length?u.a.createElement(u.a.Fragment,null,E," ",u.a.createElement("b",null,t.youAnd," ")):u.a.createElement(u.a.Fragment,null,E," ",u.a.createElement("b",null,t.you))),0!==A.length&&(E=u.a.createElement(u.a.Fragment,null,E," ",u.a.createElement("b",null,A.map((function(e){return e.name})).join(", ")),u.a.createElement("br",null)))}if(1===b.removed_members.length)if(b.author&&b.author.id===b.removed_members[0])E=""===E?b.author.id===r.id&&b.removed_members[0]===r.id?u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,t.you)," ","TOPIC"===a.type?t.leftTheWorkspace:t.leftTheChat," "):u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,b.author.name)," ","TOPIC"===a.type?t.hasLeftWorkspace:t.hasLeftChat," "):u.a.createElement(u.a.Fragment,null,E," ","TOPIC"===a.type?t.andHasLeftWorkspace:t.andHasLeftChat);else{var v=Object.values(i).find((function(e){return b.removed_members.includes(e.id)}));E=""===E?u.a.createElement(u.a.Fragment,null,h.name," ",t.removed," ",u.a.createElement("b",null,v?v.name:null)):u.a.createElement(u.a.Fragment,null,E," ",t.andRemoved," ",u.a.createElement("b",null,v?v.name:null))}else if(b.removed_members.length>1){var j=Object.values(i).filter((function(e){return b.removed_members.includes(e.id)}));b.removed_members.includes(r.id)&&b.author&&b.author.id===r.id?(E=""===E?u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,h.name)," ",t.left," "):u.a.createElement(u.a.Fragment,null,E," ",t.andLeft),0!==j.length&&(E=u.a.createElement(u.a.Fragment,null,E," ",t.andRemoved," ",u.a.createElement("b",null,j.map((function(e){return e.name})).join(", ")),u.a.createElement("br",null)))):(E=""===E?u.a.createElement(u.a.Fragment,null,h.name," ",t.removed," "):u.a.createElement(u.a.Fragment,null,E," ",t.andRemoved),b.removed_members.includes(r.id)&&(E=0!==j.length?u.a.createElement(u.a.Fragment,null,E," ",u.a.createElement("b",null,t.youAnd," ")):u.a.createElement(u.a.Fragment,null,E," ",u.a.createElement("b",null,t.you))),0!==j.length&&(E=u.a.createElement(u.a.Fragment,null,E," ",u.a.createElement("b",null,j.map((function(e){return e.name})).join(", ")),u.a.createElement("br",null))))}else if(b.accepted_members){var C=Object.values(i).find((function(e){return b.accepted_members[0]===e.id}));E=u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,h.name)," ",t.added," ",u.a.createElement("b",null,C&&C.name))}e=Object(y.renderToString)(E)}return e}()}},Ot=function(){var e=Object(_.useDispatch)();return{fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.E)(t,n))},create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.jb)(t,n))},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.rb)(t,n))},remove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.s)(t,n))},createAnswer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.ib)(t,n))},fetchUserBots:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.K)(t,n))},saveAnswer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.Ab)(t,n))},createUserBot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.mb)(t,n))},updateAnswer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.Tb)(t,n))},clearHuddle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.k)(t,n))},updateUnpublishedAnswers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.wb)(t,n))},skipHuddle:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(W.lb)(t,n))}}},Et=function(e){var t=e.selectedChannel,n=new Date,a=n.getTime(),r=Ot(),i=(Object(_.useSelector)((function(e){return e.users.onlineUsers})),Object(_.useSelector)((function(e){return e.chat.editHuddle}))),c=Object(_.useSelector)((function(e){return e.chat.hasUnpublishedAnswers})),o=[{day:"M",value:1},{day:"T",value:2},{day:"W",value:3},{day:"TH",value:4},{day:"F",value:5}],s=localStorage.getItem("huddle"),l=Object(_.useSelector)((function(e){return e.chat.huddleBots})).find((function(e){if(!t||e.channel.id!==t.id)return!1;if("NEVER"===e.end_type){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||o.find((function(t){return t.day===e.repeat_select_weekly})).value!==n.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_ON"===e.end_type){var a=new Date(e.end_select_on.substr(0,4),parseInt(e.end_select_on.substr(5,2))-1,e.end_select_on.substr(8,2));if(!(n.getTime()<a.getTime()))return!1;if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||o.find((function(t){return t.day===e.repeat_select_weekly})).value!==n.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_AFTER_REPEAT"===e.end_type&&e.repeat_count<e.end_select_after){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||o.find((function(t){return t.day===e.repeat_select_weekly})).value!==n.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}})),d=Object(f.a)(c),u=!1,m=0===n.getDay()||6===n.getDay();if(l){var p=parseInt(l.start_at.time.substr(0,2)),b=parseInt(l.start_at.time.substr(3,2)),h=parseInt(l.publish_at.time.substr(0,2)),O=parseInt(l.publish_at.time.substr(3,2)),E=new Date;E.setUTCHours(p,b,0),E.setDate(n.getDate());var g=new Date;g.setUTCHours(h,O,0),g.setDate(n.getDate()),u=a>E.getTime()&&g.getTime()>a}return{huddle:l,huddleAnswered:s,huddleActions:r,showQuestions:null!==i||l&&void 0!==l.questions.find((function(e){return null===e.answer}))&&!d.some((function(e){return t&&t.id===e}))&&u&&!m,question:i?i.questions.find((function(e){return null===e.answer})):l?l.questions.find((function(e){return null===e.answer})):null,isFirstQuestion:l&&l.questions.find((function(e){return null===e.answer}))?l.questions.find((function(e){return null===e.answer})).isFirstQuestion:null,editHuddle:i}},gt=function(e){var t=Object(d.useState)(!0),n=Object(b.a)(t,2),a=n[0],r=n[1],i=Ot(),c=Re(),o=Object(D.g)(),s=Object(d.useRef)(null),l=Object(d.useRef)(null),m=new Date,p=m.getTime(),h=Object(_.useDispatch)(),O=Object(_.useSelector)((function(e){return e.session.user})),E=Object(_.useSelector)((function(e){return e.chat.selectedChannel})),g=(Object(_.useSelector)((function(e){return e.chat.channels})),O.role&&O.role.name,Object(_.useSelector)((function(e){return e.users.onlineUsers})),Object(_.useSelector)((function(e){return e.chat.hasUnpublishedAnswers}))),A=Object(_.useSelector)((function(e){return e.chat.huddleBots})),v=[{day:"M",value:1},{day:"T",value:2},{day:"W",value:3},{day:"TH",value:4},{day:"F",value:5}],j=A.find((function(e){if(!(e.questions.filter((function(e){return null===e.answer})).length>0))return!1;var t,n=parseInt(e.start_at.time.substr(0,2)),a=parseInt(e.start_at.time.substr(3,2)),r=parseInt(e.publish_at.time.substr(0,2)),i=parseInt(e.publish_at.time.substr(3,2)),c=new Date;c.setUTCHours(n,a,0),c.setDate(m.getDate());var o=new Date;if(o.setUTCHours(r,i,0),o.setDate(m.getDate()),t=p>c.getTime()&&o.getTime()>p,!E||e.channel.id===E.id||!t)return!1;if("NEVER"===e.end_type){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||v.find((function(t){return t.day===e.repeat_select_weekly})).value!==m.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_ON"===e.end_type){var s=new Date(e.end_select_on.substr(0,4),parseInt(e.end_select_on.substr(5,2))-1,e.end_select_on.substr(8,2));if(!(m.getTime()<s.getTime()))return!1;if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||v.find((function(t){return t.day===e.repeat_select_weekly})).value!==m.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_AFTER_REPEAT"===e.end_type&&e.repeat_count<e.end_select_after){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||v.find((function(t){return t.day===e.repeat_select_weekly})).value!==m.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}})),C=0===m.getDay()||6===m.getDay(),T=Object(f.a)(g);if(void 0!==j&&!T.some((function(e){return j&&j.channel.id===e}))&&!C&&null===s.current){var y={onClick:function(){o.push("/chat/".concat(j.channel.code)),s.current=null,h(Object(W.Ob)({id:j.channel.id}))},autoClose:!1,position:Se.c.POSITION.BOTTOM_LEFT,closeButton:function(e){var t=e.closeToast;return u.a.createElement("i",{className:"material-icons",onClick:function(e){e.stopPropagation(),t(),s.current=null,c.info("Huddle skipped."),i.skipHuddle({channel_id:j.channel.id,huddle_id:j.id,body:"HUDDLE_SKIP::".concat(JSON.stringify({huddle_id:j.id,author:{name:O.name,first_name:O.first_name,id:O.id,profile_image_link:O.profile_image_link},user_bot:j.user_bot}))})}},"skip")}};s.current=!0,l.current=j.id,Object(Se.c)("Huddle time at ".concat(j.channel.name),y)}else s.current&&j&&E&&E.id===j.channel.id&&(s.current=null,l.current=null,Se.c.dismiss());s.current&&j&&l.current&&l.current!==j.id&&(s.current=null,l.current=null,Se.c.dismiss()),"undefined"===typeof j&&s.current&&(s.current=null,l.current=null,Se.c.dismiss()),Object(d.useEffect)((function(){var e=setInterval((function(){(new Date).getDate()!==m.getDate()&&(h(Object(W.m)()),h(Object(W.i)()),h(Object(W.l)()),clearInterval(e),r((function(e){return!e})))}),6e4);return function(){return clearInterval(e)}}),[a])},At=function(e){var t=e.draftId,n=e.initTimestamp,a=e.isExternalUser,r=e.item,i=e.form,c=e.is_personal,o=e.params,s=e.responsible_ids,l=e.user,u=e.topicId,m=e.toaster,f=e.setDraftId,h=e.savingDraft,O=e.setSavingDraft,E=Object(d.useRef)(0),g=Object(d.useState)(!1),A=Object(b.a)(g,2),v=A[0],j=A[1],C=Object(d.useState)(!1),T=Object(b.a)(C,2),y=T[0],S=T[1],w=Object(_.useDispatch)(),k=i.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared})),N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!h&&(""!==i.title||""!==i.body&&"<div><br></div>"!==i.body||i.selectedAddressTo.length)){var o={type:"draft_post",form:Object(p.a)(Object(p.a)({},i),{},{personal:c,users_responsible:s}),timestamp:n,id:n,created_at:{timestamp:n},updated_at:{timestamp:n},title:i.title,partial_body:i.body,clap_user_ids:[],author:l,user_reads:[],is_archived:0,is_must_read:i.must_read,is_must_reply:i.reply_required,is_read_only:i.no_reply,unread_count:0,reply_count:0,recipients:i.selectedAddressTo,recipient_ids:i.selectedAddressTo.map((function(e){return e.id})),users_approval:[],shared_with_client:!!(i.shared_with_client&&k||a),required_users:[],topic_id:u};O(!0),t?(o=Object(p.a)(Object(p.a)({},o),{},{draft_id:t,id:r.hasOwnProperty("draft")?r.draft.post_id:n,post_id:r.hasOwnProperty("draft")?r.draft.post_id:n}),w(Object(Y.cb)(o,(function(t,n){O(!1),t||(S(!0),setTimeout((function(){S(!1)}),2e3),e||m.success("Your post is still available as a draft"))})))):w(Object(Y.Q)(o,(function(t,n){O(!1),t||(f(n.data.id),S(!0),setTimeout((function(){S(!1)}),2e3),e||m.success("Your post is still available as a draft"))})))}};return Object(d.useEffect)((function(){var e=setTimeout((function(){j((function(e){return!e})),E.current=E.current+1}),1e3);return function(){return clearTimeout(e)}}),[i]),Object(d.useEffect)((function(){E.current>1&&N(!0)}),[v]),{handleSaveDraft:N,handleDeleteDraft:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&w(Object(Y.g)({type:"draft_post",draft_id:t},(function(a,i){w(o?Object(Y.h)({topic_id:u,draft_type:"draft_post",draft_id:t,id:r.hasOwnProperty("draft")?r.draft.post_id:n,post_id:r.hasOwnProperty("draft")?r.draft.post_id:n},(function(t,n){e&&m.success("Draft successfully removed.")})):Object(Y.h)({draft_type:"draft_post",draft_id:t,id:r.hasOwnProperty("draft")?r.draft.post_id:n,post_id:r.hasOwnProperty("draft")?r.draft.post_id:n},(function(t,n){e&&m.success("Draft successfully removed.")})))})))},draftSaved:y}},vt=function(){var e=Object(_.useSelector)((function(e){return e.global.todos.items})),t=Object(D.i)(),n=Object(_.useSelector)((function(e){return e.session})).user,a=Object(_.useSelector)((function(e){return e.users.users})),r=it(),i=Le().localizeDate,c=Object(_.useSelector)((function(e){return e.workspaces.workspaceReminders})),o=Object(_.useSelector)((function(e){return e.workspaces.activeTopic})),s="undefined"!==typeof c[t.workspaceId],l=function(){if(s){var e=c[t.workspaceId];if(e){if(e.hasMore){var n={skip:e.skip,limit:25,topic_id:t.workspaceId,filter:"new"};r.fetchWs(n)}if(e.done&&e.done.hasMore){var a={skip:e.done.skip,limit:10,topic_id:t.workspaceId,filter:"done"};r.fetchWsDone(a)}if(e.overdue&&e.overdue.hasMore){var i={skip:e.overdue.skip,limit:10,topic_id:t.workspaceId,filter:"overdue"};r.fetchWsOverdue(i)}if(e.today&&e.today.hasMore){var o={skip:e.today.skip,limit:10,topic_id:t.workspaceId,filter:"today"};r.fetchWsToday(o)}}}else{var l={skip:0,limit:25,topic_id:t.workspaceId,filter:"new"};r.fetchWs(l),r.fetchWsDone(Object(p.a)(Object(p.a)({},l),{},{limit:10,filter:"done"})),r.fetchWsOverdue(Object(p.a)(Object(p.a)({},l),{},{limit:25,filter:"overdue"})),r.fetchWsToday(Object(p.a)(Object(p.a)({},l),{},{limit:25,filter:"today"}))}};return Object(d.useEffect)((function(){l(),r.fetchWsCount({topic_id:t.workspaceId})}),[]),{isLoaded:s,items:e,count:s?c[t.workspaceId].count:{new:0,today:0,all:0,overdue:0,assigned_to_others:0,added_by_others:0},getWorkspaceReminders:function(t){var r=t.filter,c=void 0===r?"":r;return Object.values(e).map((function(e){if(null===e.author&&null===e.link_type){var t=Object.values(a).find((function(t){return t.id===e.user}));return Object(p.a)(Object(p.a)({},e),{},{author:t||Object(p.a)({},n),status:null!==e.remind_at&&i(e.remind_at.timestamp,"YYYY-MM-DD")===De()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})}return Object(p.a)(Object(p.a)({},e),{},{status:null!==e.remind_at&&i(e.remind_at.timestamp,"YYYY-MM-DD")===De()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})})).filter((function(e){if(e.workspace&&o&&e.workspace.id===o.id){if(c){if(""!==c.search&&!e.title.toLowerCase().includes(c.search.toLowerCase().trim())&&!e.description.toLowerCase().includes(c.search.toLowerCase().trim()))return!1;if(""!==c.status){if("ASSIGNED_TO_OTHERS"===c.status)return e.assigned_to&&e.assigned_to.id!==n.id&&e.user===n.id;if("ADDED_BY_OTHERS"===c.status)return e.assigned_to&&e.assigned_to.id===n.id&&e.user!==n.id;if(e.status===c.status)return!0;if("DONE"===e.status){if("TODAY"===c.status&&null!==e.remind_at&&i(e.remind_at.timestamp,"YYYY-MM-DD")===De()().format("YYYY-MM-DD"))return!0;if("OVERDUE"===c.status&&null!==e.remind_at&&i(e.remind_at.timestamp,"YYYY-MM-DD")<De()().format("YYYY-MM-DD"))return!0;if("NEW"===c.status&&null!==e.remind_at&&i(e.remind_at.timestamp,"YYYY-MM-DD")>De()().format("YYYY-MM-DD"))return!0;if("NEW"===c.status&&null===e.remind_at)return!0}return!1}return!e.assigned_to_others}return!0}return!1})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))},action:Object(p.a)(Object(p.a)({},r),{},{loadMore:l}),workspaceName:o?o.name:null}},jt=function(e,t,n,a,r,i,c,o,s){var l=Object(_.useDispatch)(),u=Object(_.useSelector)((function(e){return e.posts.commentDrafts})),m=Object(d.useState)(!1),f=Object(b.a)(m,2),h=f[0],O=f[1],E=Object(d.useState)(!1),g=Object(b.a)(E,2),A=g[0],v=g[1],j=Object(d.useState)(!1),C=Object(b.a)(j,2),T=C[0],y=C[1],S=Object(d.useRef)(0),w=Object(d.useRef)(e),k=Object(d.useRef)(null),N=Object(d.useRef)(null),R=Object(d.useRef)(null);Object(d.useEffect)((function(){w.current=e,N.current=a,k.current=n,R.current=r}));var x=function(e){l(Object(Y.g)({type:"comment",draft_id:e},(function(t,n){t||l(Object(K.Eb)({id:e}))})))},I=function(){if(N.current&&""===N.current.trim()){if(!R.current)return;x(R.current)}else{var e={draft_type:t,type:t,created_at:{timestamp:Math.floor(Date.now()/1e3)},text:k.current,comment_id:i,parent_id:o,post_id:c};v(!0),R.current?(e=Object(p.a)(Object(p.a)({},e),{},{draft_id:R.current}),l(Object(Y.cb)(e,(function(e,t){v(!1),e||t&&(y(!0),setTimeout((function(){y(!1)}),2e3))})))):l(Object(Y.Q)(e,(function(e,t){v(!1),e||t.data&&(s(t.data.id),y(!0),setTimeout((function(){y(!1)}),2e3))})))}};return Object(d.useEffect)((function(){return function(){if(r){var e=u.find((function(e){return e.id===r}));w.current(e)}else if(o){var t=u.find((function(e){return e.data.parent_id===o}));w.current(t)}else if(c&&!o){var n=u.find((function(e){return e.data.post_id===c&&!e.data.parent_id}));w.current(n)}else w.current(null)}(),function(){return I()}}),[]),Object(d.useEffect)((function(){var e=setTimeout((function(){O((function(e){return!e})),S.current=S.current+1}),2e3);return function(){return clearTimeout(e)}}),[a]),Object(d.useEffect)((function(){S.current>1&&I()}),[h]),{removeDraft:x,savingDraft:A,draftSaved:T}},Ct=n(97),Tt=function(){var e=Object(_.useDispatch)(),t=Object(D.i)();Object(d.useEffect)((function(){!function(){var n={topic_id:t.workspaceId};t.workspaceId&&e(Object(me.x)(n,(function(t,a){t||e(Object(me.X)({count:a.data,id:n.topic_id}))})))}()}),[])},yt=function(e){var t=Object(_.useSelector)((function(e){return e.workspaces.search})),n=Object(_.useSelector)((function(e){return e.session.user})),a=t.results,r=t.filterBy,i=t.value,c=a.filter((function(e){return"all"===r||"new"===r?""===i||e.topic.name.toLowerCase().includes(i.toLowerCase()):"member"===r?""!==i?e.topic.name.toLowerCase().includes(i.toLowerCase())&&e.members.some((function(e){return e.id===n.id})):e.members.some((function(e){return e.id===n.id})):"nonMember"===r?""!==i?e.topic.name.toLowerCase().includes(i.toLowerCase())&&!e.members.some((function(e){return e.id===n.id})):!e.members.some((function(e){return e.id===n.id})):"favourites"===r?""!==i?e.topic.name.toLowerCase().includes(i.toLowerCase())&&e.topic.is_favourite:e.topic.is_favourite:"external"===r?""!==i?e.topic.name.toLowerCase().includes(i.toLowerCase())&&e.topic.is_shared:e.topic.is_shared:"private"===r?""!==i?e.topic.name.toLowerCase().includes(i.toLowerCase())&&e.topic.is_locked:e.topic.is_locked:"archived"===r?""!==i?e.topic.name.toLowerCase().includes(i.toLowerCase())&&e.topic.is_archive:e.topic.is_archive:void 0})).sort((function(e,t){return t.topic.created_at.timestamp-e.topic.created_at.timestamp}));return{search:t,filteredResults:"new"===r?c.slice(0,t.counters.new):c}},St=function(e){var t=Object(_.useSelector)((function(e){return e.chat.selectedChannelId})),n=Object(_.useSelector)((function(e){return e.session.user})),a=Object(d.useState)([]),r=Object(b.a)(a,2),i=r[0],c=r[1],o=Object(d.useRef)(null),s=Object(d.useRef)(i);Object(d.useEffect)((function(){s.current=i}));if(Object(d.useEffect)((function(){return c([]),window.Echo.private(localStorage.getItem("slug")+".App.Channel."+t).listenForWhisper("typing",(function(e){!function(e){if(t===e.channel_id&&(clearTimeout(o.current),o.current=setTimeout((function(){c([])}),3e3),e.user.id!==n.id))if(s.current.length){var a=!1;s.current.forEach((function(t){t.id===e.user.id&&(a=!0)})),a||c([].concat(Object(f.a)(s.current),[e.user]))}else c([e.user])}(e)})),function(){window.Echo.leave(localStorage.getItem("slug")+".App.Channel."+t)}}),[t]),i.length){var l=i.map((function(e){return e.first_name})).slice(0,3).join(", ");return i.length>3&&(l+="and others"),[i,l]}return[i,null]}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"Jb",(function(){return p.n})),n.d(t,"jb",(function(){return p.i})),n.d(t,"db",(function(){return p.d})),n.d(t,"mb",(function(){return p.m})),n.d(t,"Mb",(function(){return p.q})),n.d(t,"fb",(function(){return p.f})),n.d(t,"ib",(function(){return p.h})),n.d(t,"ac",(function(){return p.r})),n.d(t,"qc",(function(){return p.v})),n.d(t,"Rd",(function(){return p.H})),n.d(t,"Sd",(function(){return p.I})),n.d(t,"je",(function(){return p.M})),n.d(t,"le",(function(){return p.N})),n.d(t,"ne",(function(){return p.P})),n.d(t,"md",(function(){return p.B})),n.d(t,"Gd",(function(){return p.E})),n.d(t,"Yc",(function(){return p.w})),n.d(t,"q",(function(){return p.a})),n.d(t,"kb",(function(){return p.j})),n.d(t,"Zc",(function(){return p.x})),n.d(t,"ad",(function(){return p.y})),n.d(t,"cd",(function(){return p.A})),n.d(t,"bd",(function(){return p.z})),n.d(t,"Td",(function(){return p.J})),n.d(t,"me",(function(){return p.O})),n.d(t,"r",(function(){return p.b})),n.d(t,"eb",(function(){return p.e})),n.d(t,"Lb",(function(){return p.p})),n.d(t,"hb",(function(){return p.g})),n.d(t,"Ud",(function(){return p.K})),n.d(t,"lb",(function(){return p.l})),n.d(t,"Kb",(function(){return p.o})),n.d(t,"ud",(function(){return p.D})),n.d(t,"ie",(function(){return p.L})),n.d(t,"A",(function(){return p.c})),n.d(t,"td",(function(){return p.C})),n.d(t,"lc",(function(){return p.u})),n.d(t,"Nd",(function(){return p.G})),n.d(t,"fc",(function(){return p.t})),n.d(t,"qe",(function(){return p.Q})),n.d(t,"Hd",(function(){return p.F})),n.d(t,"bc",(function(){return p.s})),n.d(t,"Eb",(function(){return b})),n.d(t,"mc",(function(){return h})),n.d(t,"Le",(function(){return _})),n.d(t,"Db",(function(){return f})),n.d(t,"de",(function(){return O})),n.d(t,"a",(function(){return V})),n.d(t,"f",(function(){return W})),n.d(t,"n",(function(){return z})),n.d(t,"J",(function(){return q})),n.d(t,"Mc",(function(){return g})),n.d(t,"Nc",(function(){return A})),n.d(t,"Kc",(function(){return N})),n.d(t,"Qb",(function(){return x})),n.d(t,"Ob",(function(){return T})),n.d(t,"kc",(function(){return v})),n.d(t,"g",(function(){return R})),n.d(t,"Be",(function(){return y})),n.d(t,"Bd",(function(){return S})),n.d(t,"h",(function(){return w})),n.d(t,"nc",(function(){return I})),n.d(t,"re",(function(){return j})),n.d(t,"Md",(function(){return P})),n.d(t,"nd",(function(){return D})),n.d(t,"fe",(function(){return L})),n.d(t,"Dd",(function(){return k})),n.d(t,"yd",(function(){return F})),n.d(t,"ke",(function(){return M})),n.d(t,"vd",(function(){return U})),n.d(t,"se",(function(){return G})),n.d(t,"Zb",(function(){return H})),n.d(t,"Fb",(function(){return B})),n.d(t,"cb",(function(){return Q})),n.d(t,"Fe",(function(){return Y})),n.d(t,"Me",(function(){return C})),n.d(t,"oc",(function(){return K})),n.d(t,"w",(function(){return J.c})),n.d(t,"I",(function(){return J.f})),n.d(t,"ab",(function(){return J.h})),n.d(t,"Bb",(function(){return J.i})),n.d(t,"Cb",(function(){return J.j})),n.d(t,"Vb",(function(){return J.l})),n.d(t,"Wb",(function(){return J.m})),n.d(t,"ec",(function(){return J.q})),n.d(t,"Z",(function(){return J.g})),n.d(t,"De",(function(){return J.y})),n.d(t,"Ee",(function(){return J.z})),n.d(t,"He",(function(){return J.A})),n.d(t,"Pe",(function(){return J.D})),n.d(t,"Oe",(function(){return J.C})),n.d(t,"gc",(function(){return J.r})),n.d(t,"rd",(function(){return J.s})),n.d(t,"F",(function(){return J.d})),n.d(t,"Jd",(function(){return J.t})),n.d(t,"pe",(function(){return J.v})),n.d(t,"cc",(function(){return J.o})),n.d(t,"dc",(function(){return J.p})),n.d(t,"ee",(function(){return J.u})),n.d(t,"o",(function(){return J.b})),n.d(t,"we",(function(){return J.w})),n.d(t,"xe",(function(){return J.x})),n.d(t,"Nb",(function(){return J.k})),n.d(t,"Xb",(function(){return J.n})),n.d(t,"Ke",(function(){return J.B})),n.d(t,"k",(function(){return J.a})),n.d(t,"G",(function(){return J.e})),n.d(t,"gb",(function(){return X})),n.d(t,"Ib",(function(){return Z})),n.d(t,"Cc",(function(){return ie})),n.d(t,"tc",(function(){return se})),n.d(t,"sc",(function(){return ee})),n.d(t,"Ac",(function(){return re})),n.d(t,"Hc",(function(){return te})),n.d(t,"rc",(function(){return ne})),n.d(t,"Dc",(function(){return ae})),n.d(t,"wc",(function(){return ce})),n.d(t,"xc",(function(){return oe})),n.d(t,"Pd",(function(){return $})),n.d(t,"Vc",(function(){return le})),n.d(t,"pd",(function(){return be})),n.d(t,"he",(function(){return he})),n.d(t,"Ce",(function(){return ue})),n.d(t,"L",(function(){return me})),n.d(t,"Qe",(function(){return de})),n.d(t,"Re",(function(){return _e})),n.d(t,"y",(function(){return Oe})),n.d(t,"x",(function(){return Ee})),n.d(t,"ge",(function(){return ge})),n.d(t,"H",(function(){return Ae})),n.d(t,"Pc",(function(){return ve})),n.d(t,"D",(function(){return je})),n.d(t,"M",(function(){return Ce})),n.d(t,"sd",(function(){return Te})),n.d(t,"yc",(function(){return ye})),n.d(t,"zc",(function(){return Se})),n.d(t,"z",(function(){return Ne})),n.d(t,"rb",(function(){return Re})),n.d(t,"qb",(function(){return xe})),n.d(t,"sb",(function(){return Ve})),n.d(t,"tb",(function(){return Qe})),n.d(t,"ub",(function(){return qe})),n.d(t,"xb",(function(){return Pe})),n.d(t,"zb",(function(){return Ie})),n.d(t,"Ab",(function(){return De})),n.d(t,"hd",(function(){return Ke})),n.d(t,"kd",(function(){return Le})),n.d(t,"jd",(function(){return Fe})),n.d(t,"Sc",(function(){return ze})),n.d(t,"Yd",(function(){return He})),n.d(t,"Zd",(function(){return We})),n.d(t,"u",(function(){return Me})),n.d(t,"v",(function(){return Je})),n.d(t,"t",(function(){return Ye})),n.d(t,"be",(function(){return Ue})),n.d(t,"te",(function(){return pe})),n.d(t,"Xd",(function(){return Be})),n.d(t,"ue",(function(){return fe})),n.d(t,"ce",(function(){return Ge})),n.d(t,"vb",(function(){return we})),n.d(t,"wb",(function(){return ke})),n.d(t,"Ae",(function(){return Ze})),n.d(t,"b",(function(){return wt})),n.d(t,"i",(function(){return Dt})),n.d(t,"s",(function(){return At})),n.d(t,"C",(function(){return ut})),n.d(t,"jc",(function(){return It})),n.d(t,"Tb",(function(){return Lt})),n.d(t,"T",(function(){return vt})),n.d(t,"U",(function(){return Ot})),n.d(t,"Q",(function(){return lt})),n.d(t,"W",(function(){return ht})),n.d(t,"X",(function(){return _t})),n.d(t,"Wc",(function(){return Pt})),n.d(t,"Xc",(function(){return et})),n.d(t,"dd",(function(){return pt})),n.d(t,"ld",(function(){return it})),n.d(t,"fd",(function(){return st})),n.d(t,"gd",(function(){return bt})),n.d(t,"od",(function(){return Xe})),n.d(t,"qd",(function(){return nt})),n.d(t,"zd",(function(){return $e})),n.d(t,"Ad",(function(){return gt})),n.d(t,"Id",(function(){return rt})),n.d(t,"Kd",(function(){return tt})),n.d(t,"Ld",(function(){return at})),n.d(t,"Od",(function(){return Et})),n.d(t,"Vd",(function(){return dt})),n.d(t,"Wd",(function(){return xt})),n.d(t,"oe",(function(){return mt})),n.d(t,"yb",(function(){return ft})),n.d(t,"id",(function(){return ct})),n.d(t,"ae",(function(){return ot})),n.d(t,"Rb",(function(){return jt})),n.d(t,"Yb",(function(){return Ct})),n.d(t,"ic",(function(){return Tt})),n.d(t,"hc",(function(){return Rt})),n.d(t,"e",(function(){return St})),n.d(t,"Oc",(function(){return yt})),n.d(t,"ze",(function(){return kt})),n.d(t,"ye",(function(){return Nt})),n.d(t,"ed",(function(){return Ft})),n.d(t,"Sb",(function(){return Mt})),n.d(t,"j",(function(){return Ut})),n.d(t,"Ie",(function(){return Gt})),n.d(t,"E",(function(){return Ht})),n.d(t,"wd",(function(){return Bt})),n.d(t,"xd",(function(){return Wt})),n.d(t,"Ed",(function(){return Yt})),n.d(t,"m",(function(){return Vt})),n.d(t,"l",(function(){return pn})),n.d(t,"K",(function(){return qt})),n.d(t,"O",(function(){return sn})),n.d(t,"N",(function(){return ln})),n.d(t,"P",(function(){return fn})),n.d(t,"R",(function(){return $t})),n.d(t,"V",(function(){return nn})),n.d(t,"S",(function(){return an})),n.d(t,"Y",(function(){return rn})),n.d(t,"Hb",(function(){return En})),n.d(t,"Gb",(function(){return hn})),n.d(t,"uc",(function(){return bn})),n.d(t,"Ub",(function(){return en})),n.d(t,"bb",(function(){return un})),n.d(t,"pc",(function(){return cn})),n.d(t,"vc",(function(){return dn})),n.d(t,"Bc",(function(){return Zt})),n.d(t,"Ec",(function(){return _n})),n.d(t,"Fc",(function(){return On})),n.d(t,"Gc",(function(){return Jt})),n.d(t,"Ic",(function(){return zt})),n.d(t,"Lc",(function(){return tn})),n.d(t,"Qc",(function(){return Kt})),n.d(t,"Qd",(function(){return on})),n.d(t,"Fd",(function(){return mn})),n.d(t,"Je",(function(){return Xt})),n.d(t,"Ne",(function(){return Qt})),n.d(t,"Cd",(function(){return gn})),n.d(t,"Rc",(function(){return An})),n.d(t,"pb",(function(){return vn})),n.d(t,"ob",(function(){return jn})),n.d(t,"nb",(function(){return Cn})),n.d(t,"Uc",(function(){return Tn})),n.d(t,"B",(function(){return Rn})),n.d(t,"p",(function(){return Nn})),n.d(t,"Pb",(function(){return yn})),n.d(t,"Tc",(function(){return Sn})),n.d(t,"ve",(function(){return kn})),n.d(t,"Ge",(function(){return wn})),n.d(t,"Jc",(function(){return xn}));var a=n(1),r=n(59),i=n.n(r),c=n(78),o=n(166),s=n.n(o),l=n(51),d=n(36),u=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,r,c,o,u,m,p,f,b,h,_,O,E,g,A,v,j,C,T;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T=function(e){if(h){for(var t=new FormData,r=0,i=Object.keys(c);r<i.length;r++){var o=i[r];t.append(o,c[o])}c=t}return s()({method:n,url:p?"".concat(Object(d.a)({isMockBased:!0})).concat(a):C,data:c,responseType:f,crossDomain:!0,headers:{"Access-Control-Allow-Origin":"*",crossorigin:!0,"Content-Type":h?"multipart/form-data":"application/json",Authorization:O&&c.token?"Bearer ".concat(c.token):e.token,"Accept-Language":A,"X-Timezone-Offset":v,"X-Timezone-Name":j},onUploadProgress:g.onUploadProgress,config:g})},n=t.method,a=t.url,r=t.data,c=void 0===r?null:r,o=t.register,u=void 0!==o&&o,m=t.mockServer,p=void 0!==m&&m,f=t.responseType,b=t.hasFile,h=void 0!==b&&b,_=t.is_shared,O=void 0!==_&&_,E=t.config,g=void 0===E?{timeout:5e3}:E,A=navigator.language||navigator.userLanguage,v=(new Date).getTimezoneOffset(),j=Intl.DateTimeFormat().resolvedOptions().timeZone,localStorage.getItem("loggedInUser.language")&&(A=localStorage.getItem("loggedInUser.language")),localStorage.getItem("loggedInUser.timezoneOffset")&&(v=localStorage.getItem("loggedInUser.timezoneOffset")),localStorage.getItem("loggedInUser.timezoneName")&&(j=localStorage.getItem("loggedInUser.timezoneName")),C=u?"".concat(Object(d.a)({noSlug:!0})).concat(a):O?"".concat(Object(d.a)({is_shared:!0,token:c.token,slug:c.slug})).concat(a):"".concat(Object(d.a)()).concat(a),e.abrupt("return",l.sessionService.loadSession().catch((function(e){throw e})).then((function(e){return T(e)})).then((function(e){return e})).catch((function(e){throw e})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r,c,o,l,u,m,p,f,b,h,_,O,E,g,A,v,j,C,T;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T=function(){var e=b?"".concat(Object(d.a)({isMockBased:!0})).concat(r):C;if(o)e=o;else{var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),i=t.REACT_APP_apiProtocol,c=t.REACT_APP_apiBaseUrl;"/announcement"===r&&(e="".concat(i).concat(c,"/announcement"))}var l={method:n,url:e,data:u,responseType:_,crossDomain:!0,headers:{"Access-Control-Allow-Origin":"*",crossorigin:!0,"Content-Type":"application/json","Accept-Language":v,"X-Timezone-Offset":j},config:A};return E&&(l=Object(a.a)(Object(a.a)({},l),{},{headers:Object(a.a)(Object(a.a)({},l.headers),{},{Authorization:E})})),s()(l)},n=t.method,r=t.url,c=t.actualUrl,o=void 0===c?null:c,l=t.data,u=void 0===l?null:l,m=t.register,p=void 0!==m&&m,f=t.mockServer,b=void 0!==f&&f,h=t.responseType,_=void 0===h?"json":h,O=t.token,E=void 0===O?null:O,g=t.config,A=void 0===g?{timeout:5e3}:g,v=navigator.language||navigator.userLanguage,j=(new Date).getTimezoneOffset(),localStorage.getItem("loggedInUser.language")&&(v=localStorage.getItem("loggedInUser.language")),localStorage.getItem("loggedInUser.timezoneOffset")&&(j=localStorage.getItem("loggedInUser.timezoneOffset")),C=p?"".concat(Object(d.a)({noSlug:!0})).concat(r):"".concat(Object(d.a)()).concat(r),e.abrupt("return",T().then((function(e){return e})).catch((function(e){throw e})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=n(34);function f(e){return m({method:"GET",url:"/comp-settings",data:e})}function b(e){return u({method:"GET",url:"/v1/settings",data:e})}function h(e){return u({method:"GET",url:"/v2/user-settings",data:e})}function _(e){return u({method:"PUT",url:"/v2/user-settings",data:e})}function O(e){return u({method:"PUT",url:"/v2/company/update-name",data:e})}var E=n(21);function g(e){return m({method:"POST",url:"/login",data:e})}function A(){return u({method:"POST",url:"/logout"})}function v(e){return u({method:"GET",url:"/users/".concat(e.id)})}function j(e){var t="/users/".concat(e.id);return u({method:"PUT",url:t,data:e})}function C(e){var t="/users/".concat(e.id,"/user-type");return u({method:"PUT",url:t,data:e})}function T(){return u({method:"GET",url:"/v2/mention/users"})}function y(e){return m({method:"POST",url:"/password/email",data:e})}function S(e){return m({method:"POST",url:"/password/reset",data:e})}function w(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),n=t.REACT_APP_apiProtocol,a=t.REACT_APP_apiBaseUrl,r="".concat(n).concat(e.driff,".").concat(a,"/check-email");return m({method:"PATCH",actualUrl:r,data:e})}function k(e){return m({method:"POST",url:"/requests",data:e})}function N(e){return m({method:"GET",actualUrl:"".concat(Object(d.a)({noSlug:!0}),"/auth/google?").concat(Object(E.g)(e))})}function R(e){return m({method:"POST",actualUrl:"".concat(Object(d.a)({noSlug:!0}),"/auth/google/user"),data:e})}function x(e){return u({method:"GET",url:"/v2/users-online",data:e})}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v1/users?".concat(Object(E.g)(e));return u({method:"GET",url:t})}function P(e){var t="/users/".concat(e.id,"/upload-profile-image");return u({method:"POST",url:t,hasFile:!0,data:{file:e.file}})}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v2/external-user-data";return m({method:"POST",url:t,data:e})}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v2/external-user-update";return m({method:"PUT",url:t,data:e})}function F(e){return m({method:"POST",url:"/magic-link",data:e})}function M(e){return m({method:"PUT",url:"/magic-link",data:e})}function U(e){return u({method:"POST",url:"/v2/internal-request-form",data:e})}function G(e){return u({method:"PUT",url:"/v2/update-user-role",data:e})}function H(e){return u({method:"GET",url:"/v2/roles"})}function B(){var e="/v1/users?filter=external";return u({method:"GET",url:e})}function W(e){return u({method:"DELETE",url:"/v2/archived-user",data:e})}function Y(e){return u({method:"PUT",url:"/v2/un-archived-user",data:e})}function z(e){return u({method:"DELETE",url:"/v2/deactivate-user",data:e})}function V(e){return u({method:"PUT",url:"/v2/activate-user",data:e})}function Q(){var e="/v1/users?filter=archive";return u({method:"GET",url:e})}function q(e){return u({method:"DELETE",url:"/users/".concat(e.user_id)})}function K(e){return u({method:"GET",url:"/users/inactive"})}var J=n(42);function Z(e){var t=e.sort,n="/v1/files";return e.sort?n+="?sort=".concat(t):n+="?sort=desc",u({method:"GET",url:n})}function X(e){var t="/v2/post-message-files?channel_id=".concat(e.channel_id,"&skip=").concat(e.skip,"&limit=").concat(e.limit);return u({method:"GET",url:t})}function $(e){var t="/v2/workspace-bulk-files?topic_id=".concat(e.topic_id,"&is_primary=").concat(e.is_primary);return u({method:"POST",url:t,data:e.files})}function ee(e){return u({method:"GET",url:"/v2/workspace-files?".concat(Object(E.g)(e))})}function te(e){return u({method:"GET",url:"/v2/workspace-trash-files?".concat(Object(E.g)(e))})}function ne(e){return u({method:"GET",url:"/v2/workspace-favorite-files?".concat(Object(E.g)(e))})}function ae(e){return u({method:"GET",url:"/v2/workspace-recent-edited-files?".concat(Object(E.g)(e))})}function re(e){return u({method:"GET",url:"/v2/workspace-popular-files?".concat(Object(E.g)(e))})}function ie(e){return u({method:"GET",url:"/v2/workspace-primary-files?".concat(Object(E.g)(e))})}function ce(e){return u({method:"GET",url:"/v2/workspace-folders?".concat(Object(E.g)(e))})}function oe(e){return u({method:"GET",url:"/v2/workspace-folder-breadcrumbs?".concat(Object(E.g)(e))})}function se(e){return u({method:"GET",url:"/v2/workspace-files-detail?".concat(Object(E.g)(e))})}function le(e){return u({method:"PATCH",url:"/v2/workspace-file-viewed?".concat(Object(E.g)(e))})}function de(e){var t="/v2/workspace-files?topic_id=".concat(e.topic_id);return u({method:"POST",url:t,data:e})}function ue(e){return u({method:"PUT",url:"/v2/workspace-restore-file",data:e})}function me(e){return u({method:"DELETE",url:"/v2/workspace-delete-files",data:e})}function pe(e){return u({method:"PUT",url:"/v2/workspace-restore-file",data:e})}function fe(e){return u({method:"PUT",url:"/v2/workspace-restore-folder",data:e})}function be(e){return u({method:"POST",url:"/v2/workspace-folders",data:e})}function he(e){var t="/v2/workspace-folders/".concat(e.id);return u({method:"PUT",url:t,data:e})}function _e(e){var t="/v2/workspace-bulk-files?topic_id=".concat(e.topic_id,"&is_primary=0");return e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),u({method:"POST",url:t,data:e.files})}function Oe(e){var t="/v2/workspace-folders/".concat(e.id,"?topic_id=").concat(e.topic_id);return e.force_delete&&(t+="&force_delete=1"),u({method:"DELETE",url:t,data:e})}function Ee(e){var t="/v2/workspace-files/".concat(e.file_id,"?topic_id=").concat(e.topic_id);return e.force_delete&&(t+="&force_delete=1"),u({method:"DELETE",url:t,data:e})}function ge(e){var t="/v2/workspace-files/".concat(e.id);return u({method:"PUT",url:t,data:e})}function Ae(e){var t="/v2/workspace-delete-all-trash-files?topic_id=".concat(e.topic_id);return u({method:"DELETE",url:t,data:e})}function ve(e){return u({method:"PUT",url:"/v2/workspace-file-move",data:e})}function je(e){return u({method:"DELETE",url:"/v2/post-delete-attachment?".concat(Object(E.g)(e)),data:e})}function Ce(e){return u({method:"DELETE",url:"/v2/workspace-bulk-files",data:e})}function Te(e){return u({method:"POST",url:"/v2/google-attachments",data:e})}function ye(e){return u({method:"GET",url:"/v2/workspace-google-attachments?topic_id=".concat(e.workspace_id,"&attachment_type=FILE"),data:e})}function Se(e){return u({method:"GET",url:"/v2/workspace-google-attachments?topic_id=".concat(e.workspace_id,"&attachment_type=FOLDER"),data:e})}function we(e){return u({method:"GET",url:"/v2/company/google-attachments?attachment_type=FILE",data:e})}function ke(e){return u({method:"GET",url:"/v2/company/google-attachments?attachment_type=FOLDER",data:e})}function Ne(e){return u({method:"DELETE",url:"/v2/google-attachments",data:e})}function Re(e){return u({method:"GET",url:"/v2/company/files?".concat(Object(E.g)(e))})}function xe(e){return u({method:"GET",url:"/v2/company/favorite-files?".concat(Object(E.g)(e))})}function Ie(e){return u({method:"GET",url:"/v2/company/recent-edited-files?".concat(Object(E.g)(e))})}function Pe(e){return u({method:"GET",url:"/v2/company/popular-files?".concat(Object(E.g)(e))})}function De(e){return u({method:"GET",url:"/v2/company/trashed-files?".concat(Object(E.g)(e))})}function Le(e){return u({method:"POST",url:"/v2/company/upload-files",data:e,hasFile:!0})}function Fe(e){var t="/v2/company/upload-bulk-files";return e.folder_id&&(t+="?folder_id=".concat(e.folder_id)),u({method:"POST",url:t,data:e.files})}function Me(e){return u({method:"DELETE",url:"/v2/company/files/".concat(e.file_id),data:e})}function Ue(e){return u({method:"PUT",url:"/v2/company/restore-file",data:e})}function Ge(e){return u({method:"PUT",url:"/v2/company/restore-folder",data:e})}function He(e){return u({method:"PUT",url:"/v2/company/files/".concat(e.id),data:e})}function Be(e){return u({method:"PUT",url:"/v2/company/file-move/?".concat(Object(E.g)(e)),data:e})}function We(e){return u({method:"PUT",url:"/v2/company/folders/".concat(e.id),data:e})}function Ye(e){return u({method:"DELETE",url:"/v2/company/delete-all-trash-files?".concat(Object(E.g)(e))})}function ze(e){return u({method:"PATCH",url:"/v2/company/file-viewed?".concat(Object(E.g)(e))})}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u({method:"GET",url:"/v2/company/files-detail?".concat(Object(E.g)(e))})}function Qe(e){return u({method:"GET",url:"/v2/company/folder-breadcrumbs?".concat(Object(E.g)(e))})}function qe(e){return u({method:"GET",url:"/v2/company/folders?".concat(Object(E.g)(e))})}function Ke(e){return u({method:"POST",url:"/v2/company/folders",data:e})}function Je(e){return u({method:"DELETE",url:"/v2/company/folders/".concat(e.id),data:e})}function Ze(e){return u({method:"POST",url:"/v1/download-file/".concat(e.file_id),data:e})}function Xe(e){return u({method:"POST",url:"/v1/favourites",data:e})}function $e(e){return u({method:"PATCH",url:"/v1/mark-done",data:e,is_shared:!!e.is_shared})}function et(e){return u({method:"POST",url:"/v2/post-toggle-archived",data:e,is_shared:!!e.is_shared})}function tt(e){return u({method:"POST",url:"/v2/post-toggle-unread",data:e,is_shared:!!e.is_shared})}function nt(e){return u({method:"PATCH",url:"/v1/follows?post_id=".concat(e.post_id),data:e,is_shared:!!e.is_shared})}function at(e){return u({method:"DELETE",url:"/v1/follows?post_id=".concat(e.post_id),data:e,is_shared:!!e.is_shared})}function rt(e){return u({method:"POST",url:"/v1/snooze-post",data:e})}function it(e){return u({method:"POST",url:"/v1/posts",data:e})}function ct(e){return u({method:"POST",url:"/v2/company/posts",data:e})}function ot(e){var t="/v2/company/posts/".concat(e.id);return u({method:"PUT",url:t,data:e})}function st(e){return u({method:"POST",url:"/v1/messages",data:e})}function lt(e){return u({method:"GET",url:e.url})}function dt(e){var t="/v1/messages/".concat(e.id);return u({method:"PUT",url:t,data:e})}function ut(e){var t="/v1/posts/".concat(e.id);return u({method:"DELETE",url:t,data:e})}function mt(e){var t="/v1/posts/".concat(e.id);return u({method:"PUT",url:t,data:e})}function pt(e){return u({method:"POST",url:"/v1/post-clap",data:e})}function ft(e){var t=e.skip,n=void 0===t?0:t,a=e.limit,r=void 0===a?25:a,i=e.search,c=void 0===i?"":i,o=e.filters,s=void 0===o?[]:o,l="/v2/company/posts?&skip=".concat(n,"&limit=").concat(r);return""!==c&&(l+="&search=".concat(c)),s.length&&s.forEach((function(e,t){l+="&filter[".concat(t,"]=").concat(e)})),u({method:"GET",url:l,data:e})}function bt(e){var t="/messages/".concat(e.id,"/reactions");return u({method:"POST",url:t,data:e})}function ht(e){var t="/v2/workspace-dashboard-recent-posts?topic_id=".concat(e.topic_id);return u({method:"GET",url:t,data:e})}function _t(e){var t="/v2/post-tags-entries?topic_id=".concat(e.topic_id);return u({method:"GET",url:t,data:e})}function Ot(e){var t=e.skip,n=void 0===t?0:t,a=e.limit,r=void 0===a?25:a,i="/v1/posts?topic_id=".concat(e.topic_id,"&skip=").concat(n,"&limit=").concat(r);if(void 0!==e.search&&(i+="&search=".concat(e.search)),void 0!==e.filters)for(var c=0;c<e.filters.length;c++)i+="&filter[".concat(c,"]=").concat(e.filters[c]);return u({method:"GET",url:i,data:e})}function Et(e){return u({method:"POST",url:"/v1/post-viewed",data:e})}function gt(e){return u({method:"POST",url:"/v1/post-mark-as-read",data:e})}function At(e){var t="/v1/messages/".concat(e.comment_id);return u({method:"DELETE",url:t})}function vt(e){return u({method:"GET",url:"/v1/posts/".concat(e.post_id),data:e})}function jt(e){return u({method:"GET",url:"/v1/post-clap-hover/?".concat(Object(E.g)(e)),data:e})}function Ct(e){return u({method:"GET",url:"/v1/reply-clap-hover/?".concat(Object(E.g)(e)),data:e})}function Tt(e){return u({method:"GET",url:"/v2/post-unread-entries"})}function yt(e){return u({method:"PUT",url:"/v2/marked-post-read/all",data:e})}function St(e){return u({method:"PUT",url:"/v2/archived-post/all",data:e})}function wt(e){return u({method:"POST",url:"/v2/add-post-recipients",data:e})}function kt(){return u({method:"POST",url:"/v2/re-fetch-module/posts"})}function Nt(e){return u({method:"POST",url:"/v2/re-fetch-module/get-comments?current_post_id=".concat(e.post_id)})}function Rt(e){return u({method:"GET",url:"/v2/post-unread-comments-entries"})}function xt(e){return u({method:"PUT",url:"/v2/set-important-comment",data:e})}function It(e){return u({method:"GET",url:"/v2/post-unread-entries?topic_id=".concat(e.topic_id)})}function Pt(e){return u({method:"POST",url:"/v2/post-approve",data:e})}function Dt(e){return u({method:"POST",url:"/v2/post-comment-approve",data:e})}function Lt(e){return u({method:"GET",url:"/v2/get-post-read/?".concat(Object(E.g)(e)),data:e})}function Ft(e){return u({method:"POST",url:"/v2/post-close",data:e})}function Mt(){return u({method:"GET",url:"/v2/user-post-list"})}function Ut(e){return u({method:"POST",url:"/v2/user-post-list",data:e})}function Gt(e,t){return u({method:"PUT",url:"/v2/user-post-list/".concat(t),data:e})}function Ht(e,t){return u({method:"DELETE",url:"/v2/user-post-list/".concat(t)})}function Bt(e){return u({method:"POST",url:"/v2/post-list-connect",data:e})}function Wt(e){return u({method:"DELETE",url:"/v2/post-list-disconnected",data:e})}function Yt(e){return u({method:"POST",url:"/v2/post-required",data:e})}function zt(e){"channel_date_updated"===e.order_by&&(e=Object(a.a)(Object(a.a)({},e),{},{order_by:"updated_at"}));var t="/v2/workspace?".concat(Object(E.g)(e));return u({method:"GET",url:t,data:e})}function Vt(e){return u({method:"POST",url:"/v2/workspace",data:e})}function Qt(e){var t="/v2/workspace/".concat(e.topic_id);return u({method:"PUT",url:t,data:e})}function qt(e){var t="/v2/workspace/".concat(e.workspace_id);return u({method:"DELETE",url:t,data:e})}function Kt(e){return u({method:"PUT",url:"/v2/move-topic-workspace",data:e})}function Jt(e){var t="/v2/workspace-topics?is_external=".concat(e.is_external);return void 0!==e.search&&(t+="&search=".concat(e.search)),u({method:"GET",url:t,data:e})}function Zt(e){var t="/v1/posts/".concat(e.post_id);return u({method:"GET",url:t,data:e})}function Xt(e){return u({method:"PUT",url:"/v2/posts/status",data:e})}function $t(e){var t="/v2/workspace-dashboard-detail?topic_id=".concat(e.topic_id);return u({method:"GET",url:t,data:e})}function en(e){var t="/v2/post-tags-entries?topic_id=".concat(e.topic_id);return u({method:"GET",url:t,data:e})}function tn(e){return u({method:"POST",url:"/v2/post-channel-members",data:e})}function nn(e){var t="/v2/workspace-primary-files?topic_id=".concat(e.topic_id);return u({method:"GET",url:t,data:e})}function an(e){var t="/v2/workspace-dashboard-members?topic_id=".concat(e.topic_id);return u({method:"GET",url:t,data:e})}function rn(e){var t="/v2/workspace-dashboard-timeline?".concat(Object(E.g)(e));return u({method:"GET",url:t,data:e})}function cn(e){var t="/v2/workspace/".concat(e.topic_id);return u({method:"GET",url:t,data:e})}function on(e){return u({method:"POST",url:"/v2/workspace-role",data:e})}function sn(e){return u({method:"DELETE",url:"/v2/workspace-role",data:e})}function ln(e){var t="/v2/workspace/".concat(e.topic_id,"?is_folder=1");return u({method:"DELETE",url:t,data:e})}function dn(e){var t="/v2/workspace/".concat(e.folder_id,"?is_folder=1");return u({method:"GET",url:t,data:e})}function un(e){return u({method:"GET",url:"/v2/search-workspace?".concat(Object(E.g)(e))})}function mn(e){return u({method:"POST",url:"/v2/resend-emails",data:e})}function pn(e){var t="/v2/workspace/".concat(e.id,"/team-channel");return u({method:"POST",url:t})}function fn(e){var t="/v2/workspace/".concat(e.id,"/favourite");return u({method:"POST",url:t,data:e})}function bn(e){return u({method:"GET",url:"/v2/workspace-counter-entries",data:e})}function hn(e){return u({method:"GET",url:"/v2/workspace-favourite-entries",data:e})}function _n(e){var t="/v2/to-do?".concat(Object(E.g)(e));return u({method:"GET",url:t,data:e})}function On(e){var t="/v2/to-do-detail?".concat(Object(E.g)(e));return u({method:"GET",url:t,data:e})}function En(e){return u({method:"GET",url:"/v2/workspace-favourites",data:e})}function gn(e){return m({method:"POST",url:"/register",register:!0,data:e})}function An(e){return m({method:"PATCH",actualUrl:"".concat(Object(d.a)({noSlug:!0}),"/check-slug?slug=").concat(e)})}function vn(e){return u({method:"GET",url:"/v2/company/dashboard-timeline/?".concat(Object(E.g)(e))})}function jn(e){return u({method:"GET",url:"/v2/company/dashboard-recent-posts/?".concat(Object(E.g)(e))})}function Cn(e){return u({method:"GET",url:"/v2/company/dashboard-members/?".concat(Object(E.g)(e))})}function Tn(e){return m({method:"PATCH",url:"/update-driff-version",data:{data:{version:e.version,requirement:e.requirement}}})}function yn(e){var t="/v2/notification-counter?skip=".concat(e.skip,"&limit=").concat(e.limit);return u({method:"GET",url:t,data:e})}function Sn(e){var t="/v2/notification-counter/".concat(e.id);return u({method:"PATCH",url:t,data:e})}function wn(e){var t="/v2/unread-notification-counter?notification_id=".concat(e.id);return u({method:"PUT",url:t,data:e})}function kn(e){return u({method:"PUT",url:"/v2/notification-counter-all-read",data:e})}function Nn(e){return u({method:"DELETE",url:"/v2/notification-counter-all-delete"})}function Rn(e){return u({method:"DELETE",url:"/v2/notification-counter/".concat(e.id)})}function xn(e){return u({method:"GET",url:"/v2/global-search?".concat(Object(E.g)(e))})}},,,function(e,t,n){"use strict";n.d(t,"S",(function(){return i})),n.d(t,"o",(function(){return c})),n.d(t,"n",(function(){return o})),n.d(t,"V",(function(){return s})),n.d(t,"bb",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"Q",(function(){return f})),n.d(t,"cb",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return _})),n.d(t,"R",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return g})),n.d(t,"z",(function(){return A})),n.d(t,"J",(function(){return v})),n.d(t,"t",(function(){return j})),n.d(t,"ab",(function(){return C})),n.d(t,"A",(function(){return T})),n.d(t,"T",(function(){return y})),n.d(t,"X",(function(){return S})),n.d(t,"q",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"P",(function(){return N})),n.d(t,"u",(function(){return R})),n.d(t,"i",(function(){return x})),n.d(t,"K",(function(){return I})),n.d(t,"M",(function(){return P})),n.d(t,"w",(function(){return D})),n.d(t,"x",(function(){return L})),n.d(t,"L",(function(){return F})),n.d(t,"f",(function(){return M})),n.d(t,"G",(function(){return U})),n.d(t,"H",(function(){return G})),n.d(t,"D",(function(){return H})),n.d(t,"F",(function(){return B})),n.d(t,"E",(function(){return W})),n.d(t,"N",(function(){return Y})),n.d(t,"O",(function(){return z})),n.d(t,"r",(function(){return V})),n.d(t,"v",(function(){return Q})),n.d(t,"e",(function(){return q})),n.d(t,"j",(function(){return K})),n.d(t,"db",(function(){return J})),n.d(t,"I",(function(){return Z})),n.d(t,"B",(function(){return X})),n.d(t,"C",(function(){return $})),n.d(t,"W",(function(){return ee})),n.d(t,"U",(function(){return te})),n.d(t,"p",(function(){return ne})),n.d(t,"s",(function(){return ae})),n.d(t,"y",(function(){return re})),n.d(t,"Y",(function(){return ie})),n.d(t,"Z",(function(){return ce}));var a=n(8),r=n(10);function i(e,t){return Object(a.a)("SET_BROWSER_TAB_STATUS",e,t)}function c(e,t){return Object(a.b)(Object(r.Bb)(e),"GET_CONNECTED_SLUGS_START","GET_CONNECTED_SLUGS_SUCCESS","GET_CONNECTED_SLUGS_FAIL",t)}function o(e,t){return Object(a.b)(Object(r.ab)(e),"GET_ALL_RECIPIENTS_START","GET_ALL_RECIPIENTS_SUCCESS","GET_ALL_RECIPIENTS_FAIL",t)}function s(e,t){return Object(a.a)("SET_NAV_MODE",e,t)}function l(e,t){return Object(a.a)("TOGGLE_LOADING",e,t)}function d(e,t){return Object(a.b)(Object(r.Z)(e),"GENERATE_UNFURL_START","GENERATE_UNFURL_SUCCESS","GENERATE_UNFURL_FAILURE",t)}function u(e,t){return Object(a.a)("GENERATE_UNFURL_REDUCER",e,t)}function m(e,t){return Object(a.a)("ADD_TO_MODALS",e,t)}function p(e,t){return Object(a.a)("CLEAR_MODAL",e,t)}function f(e,t){return Object(a.b)(Object(r.De)(e),"SAVE_DRAFT_START","SAVE_DRAFT_SUCCESS","SAVE_DRAFT_FAILURE",t)}function b(e,t){return Object(a.b)(Object(r.He)(e),"UPDATE_DRAFT_START","UPDATE_DRAFT_SUCCESS","UPDATE_DRAFT_FAILURE",t)}function h(e,t){return Object(a.b)(Object(r.w)(e),"DELETE_DRAFT_START","DELETE_DRAFT_SUCCESS","DELETE_DRAFT_FAILURE",t)}function _(e,t){return Object(a.a)("DELETE_DRAFT",e,t)}function O(e,t){return Object(a.a)("SAVE_INPUT_DATA",e,t)}function E(e,t){return Object(a.a)("CLEAR_INPUT_DATA",e,t)}function g(e,t){return Object(a.a)("ADD_USER_TO_REDUCERS",e,t)}function A(e,t){return Object(a.b)(Object(r.ec)(e),"GET_TRANSLATION_OBJECT_START","GET_TRANSLATION_OBJECT_SUCCESS","GET_TRANSLATION_OBJECT_FAIL",t)}function v(e,t){return Object(a.b)(Object(r.rd)(e),"POST_GENERATE_TRANSLATION_RAW_START","POST_GENERATE_TRANSLATION_RAW_SUCCESS","POST_GENERATE_TRANSLATION_RAW_FAIL",t)}var j=function(e,t){return Object(a.b)(Object(r.Vb)(e),"GET_PUSH_NOTIFICATION_START","GET_PUSH_NOTIFICATION_SUCCESS","GET_PUSH_NOTIFICATION_FAILURE",t)},C=function(e,t){return Object(a.b)(Object(r.Ee)(e),"SUBSCRIBE_PUSH_NOTIFICATIONS_START","SUBSCRIBE_PUSH_NOTIFICATIONS_SUCCESS","SUBSCRIBE_PUSH_NOTIFICATIONS_FAILURE",t)};function T(e,t){return Object(a.b)(Object(r.gc)(e),"GET_UNREAD_NOTIFICATION_COUNTER_START","GET_UNREAD_NOTIFICATION_COUNTER_SUCCESS","GET_UNREAD_NOTIFICATION_COUNTER_FAIL",t)}function y(e,t){return Object(a.a)("UPDATE_GENERAL_CHAT_NOTIFICATION",e,t)}function S(e,t){return Object(a.a)("UPDATE_UNREAD_LIST_COUNTER",e,t)}function w(e,t){return Object(a.b)(Object(r.Cb)(e),"GET_DRAFTS_START","GET_DRAFTS_SUCCESS","GET_DRAFTS_FAIL",t)}function k(e,t){return Object(a.b)(Object(r.I)(e),"DELETE_UNFURL_START","DELETE_UNFURL_SUCCESS","DELETE_UNFURL_FAIL",t)}function N(e,t){return Object(a.a)("REMOVE_UNFURL",e,t)}function R(e,t){return Object(a.b)(Object(r.Wb)(e),"GET_QUICK_LINKS_START","GET_QUICK_LINKS_SUCCESS","GET_QUICK_LINKS_FAIL",t)}function x(e,t){return Object(a.b)(Object(r.F)(e),"DELETE_PUSH_SUBSCRIPTION_START","DELETE_PUSH_SUBSCRIPTION_SUCCESS","DELETE_PUSH_SUBSCRIPTION_FAILURE",t)}function I(e,t){return Object(a.b)(Object(r.Jd)(e),"POST_TO_DO_START","POST_TO_DO_SUCCESS","POST_TO_DO_FAILURE",t)}function P(e,t){return Object(a.b)(Object(r.pe)(e),"PUT_TO_DO_START","PUT_TO_DO_SUCCESS","PUT_TO_DO_FAILURE",t)}function D(e,t){return Object(a.b)(Object(r.cc)(e),"GET_TO_DO_START","GET_TO_DO_SUCCESS","GET_TO_DO_FAILURE",t)}function L(e,t){return Object(a.b)(Object(r.dc)(e),"GET_TO_DO_DETAIL_START","GET_TO_DO_DETAIL_SUCCESS","GET_TO_DO_DETAIL_FAILURE",t)}function F(e,t){return Object(a.b)(Object(r.ee)(e),"PUT_DONE_TO_DO_START","PUT_DONE_TO_DO_SUCCESS","PUT_DONE_TO_DO_FAILURE",t)}function M(e,t){return Object(a.b)(Object(r.o)(e),"DEL_REMOVE_TO_DO_START","DEL_REMOVE_TO_DO_SUCCESS","DEL_REMOVE_TO_DO_FAILURE",t)}function U(e,t){return Object(a.a)("INCOMING_TO_DO",e,t)}function G(e,t){return Object(a.a)("INCOMING_UPDATE_TO_DO",e,t)}function H(e,t){return Object(a.a)("INCOMING_DONE_TO_DO",e,t)}function B(e,t){return Object(a.a)("INCOMING_REMOVE_TO_DO",e,t)}function W(e,t){return Object(a.a)("INCOMING_FAVOURITE_ITEM",e,t)}function Y(e,t){return Object(a.b)(Object(r.we)(e),"REFETCH_MESSAGES_START","REFETCH_MESSAGES_SUCCESS","REFETCH_MESSAGES_FAIL",t)}function z(e,t){return Object(a.b)(Object(r.xe)(e),"REFETCH_OTHER_MESSAGES_START","REFETCH_OTHER_MESSAGES_SUCCESS","REFETCH_OTHER_MESSAGES_FAIL",t)}function V(e,t){return Object(a.b)(Object(r.Nb)(e),"GET_LATEST_REPLY_START","GET_LATEST_REPLY_SUCCESS","GET_LATEST_REPLY_FAIL",t)}function Q(e,t){return Object(a.b)(Object(r.Xb)(e),"GET_RELEASE_ANNOUNCEMENTS_START","GET_RELEASE_ANNOUNCEMENTS_SUCCESS","GET_RELEASE_ANNOUNCEMENTS_FAIL",t)}function q(e,t){return Object(a.b)(Object(r.k)(e),"CREATE_RELEASE_ANNOUNCEMENTS_START","CREATE_RELEASE_ANNOUNCEMENTS_SUCCESS","CREATE_RELEASE_ANNOUNCEMENTS_FAIL",t)}function K(e,t){return Object(a.b)(Object(r.G)(e),"DELETE_RELEASE_ANNOUNCEMENTS_START","DELETE_RELEASE_ANNOUNCEMENTS_SUCCESS","DELETE_RELEASE_ANNOUNCEMENTS_FAIL",t)}function J(e,t){return Object(a.b)(Object(r.Ke)(e),"UPDATE_RELEASE_ANNOUNCEMENTS_START","UPDATE_RELEASE_ANNOUNCEMENTS_SUCCESS","UPDATE_RELEASE_ANNOUNCEMENTS_FAIL",t)}function Z(e,t){return Object(a.a)("INCOMING_UPDATED_ANNOUNCEMENT",e,t)}function X(e,t){return Object(a.a)("INCOMING_CREATED_ANNOUNCEMENT",e,t)}function $(e,t){return Object(a.a)("INCOMING_DELETED_ANNOUNCEMENT",e,t)}function ee(e,t){return Object(a.a)("SET_PROFILE_SLIDER",e,t)}function te(e,t){return Object(a.a)("SET_IDLE_STATUS",e,t)}function ne(e,t){return Object(a.b)(Object(r.cc)(e),"GET_DONE_TO_DO_START","GET_DONE_TO_DO_SUCCESS","GET_DONE_TO_DO_FAILURE",t)}function ae(e,t){return Object(a.b)(Object(r.cc)(e),"GET_OVERDUE_TO_DO_START","GET_OVERDUE_TO_DO_SUCCESS","GET_OVERDUE_TO_DO_FAILURE",t)}function re(e,t){return Object(a.b)(Object(r.cc)(e),"GET_TODAY_TO_DO_START","GET_TODAY_TO_DO_SUCCESS","GET_TODAY_TO_DO_FAILURE",t)}function ie(e,t){return Object(a.a)("REMINDER_SNOOZE",e,t)}function ce(e,t){return Object(a.a)("REMINDER_SNOOZE_ALL",e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return f}));var a=n(350),r=(n(86),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),i=/(http(s?):)([/|.|\w|\s|-])*\.(?:gif)/g,c=/(?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)(?:(?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)(?:jpg|gif|png)$/,o=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},s=function(e){return function(e){return e.replace(i,"")}(e)},l=function(e){return e.replace(/<[/]?img[^>]*>/gi,"")},d=function(e){return Object(a.toArray)(e).reduce((function(e,t){return"string"===typeof t?e+t:e+t.props.children}),"")},u=function(){return["\xa9|\xae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]"," "].join("|")},m=function(e){return e+(e>0?["th","st","nd","rd"][e>3&&e<21||e%10>3?0:e%10]:"")},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.toLowerCase().replace(/\s|\//g,t)},f=function(e){return/[\u20ac\xa3$]/g.test(e)}},,function(e,t,n){"use strict";n.d(t,"Ob",(function(){return i})),n.d(t,"z",(function(){return c})),n.d(t,"nb",(function(){return o})),n.d(t,"Db",(function(){return s})),n.d(t,"tb",(function(){return l})),n.d(t,"vb",(function(){return d})),n.d(t,"u",(function(){return u})),n.d(t,"G",(function(){return m})),n.d(t,"Mb",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"A",(function(){return b})),n.d(t,"Cb",(function(){return h})),n.d(t,"b",(function(){return _})),n.d(t,"db",(function(){return O})),n.d(t,"eb",(function(){return E})),n.d(t,"pb",(function(){return g})),n.d(t,"N",(function(){return A})),n.d(t,"O",(function(){return v})),n.d(t,"M",(function(){return j})),n.d(t,"fb",(function(){return C})),n.d(t,"P",(function(){return T})),n.d(t,"Eb",(function(){return y})),n.d(t,"Z",(function(){return S})),n.d(t,"Gb",(function(){return w})),n.d(t,"r",(function(){return k})),n.d(t,"R",(function(){return N})),n.d(t,"bb",(function(){return R})),n.d(t,"e",(function(){return x})),n.d(t,"n",(function(){return I})),n.d(t,"gb",(function(){return P})),n.d(t,"g",(function(){return D})),n.d(t,"j",(function(){return L})),n.d(t,"w",(function(){return F})),n.d(t,"D",(function(){return M})),n.d(t,"hb",(function(){return U})),n.d(t,"yb",(function(){return G})),n.d(t,"ob",(function(){return H})),n.d(t,"Y",(function(){return B})),n.d(t,"kb",(function(){return W})),n.d(t,"ub",(function(){return Y})),n.d(t,"cb",(function(){return z})),n.d(t,"q",(function(){return V})),n.d(t,"y",(function(){return Q})),n.d(t,"Sb",(function(){return q})),n.d(t,"Lb",(function(){return K})),n.d(t,"o",(function(){return J})),n.d(t,"Rb",(function(){return Z})),n.d(t,"xb",(function(){return X})),n.d(t,"L",(function(){return $})),n.d(t,"Jb",(function(){return ee})),n.d(t,"Kb",(function(){return te})),n.d(t,"t",(function(){return ne})),n.d(t,"X",(function(){return ae})),n.d(t,"v",(function(){return re})),n.d(t,"Pb",(function(){return ie})),n.d(t,"F",(function(){return ce})),n.d(t,"H",(function(){return oe})),n.d(t,"sb",(function(){return se})),n.d(t,"W",(function(){return le})),n.d(t,"x",(function(){return de})),n.d(t,"qb",(function(){return ue})),n.d(t,"B",(function(){return me})),n.d(t,"Q",(function(){return pe})),n.d(t,"E",(function(){return fe})),n.d(t,"jb",(function(){return be})),n.d(t,"rb",(function(){return he})),n.d(t,"s",(function(){return _e})),n.d(t,"ib",(function(){return Oe})),n.d(t,"K",(function(){return Ee})),n.d(t,"U",(function(){return ge})),n.d(t,"Ab",(function(){return Ae})),n.d(t,"ab",(function(){return ve})),n.d(t,"S",(function(){return je})),n.d(t,"mb",(function(){return Ce})),n.d(t,"m",(function(){return Te})),n.d(t,"T",(function(){return ye})),n.d(t,"J",(function(){return Se})),n.d(t,"wb",(function(){return we})),n.d(t,"Hb",(function(){return ke})),n.d(t,"d",(function(){return Ne})),n.d(t,"k",(function(){return Re})),n.d(t,"Tb",(function(){return xe})),n.d(t,"p",(function(){return Ie})),n.d(t,"a",(function(){return Pe})),n.d(t,"Bb",(function(){return De})),n.d(t,"lb",(function(){return Le})),n.d(t,"V",(function(){return Fe})),n.d(t,"f",(function(){return Me})),n.d(t,"i",(function(){return Ue})),n.d(t,"I",(function(){return Ge})),n.d(t,"l",(function(){return He})),n.d(t,"c",(function(){return Be})),n.d(t,"Nb",(function(){return We})),n.d(t,"Qb",(function(){return Ye})),n.d(t,"zb",(function(){return ze})),n.d(t,"Fb",(function(){return Ve})),n.d(t,"Ib",(function(){return Qe})),n.d(t,"C",(function(){return qe}));var a=n(8),r=n(10);function i(e,t){return Object(a.a)("SET_SELECTED_CHANNEL",e,t)}function c(e,t){return Object(a.b)(Object(r.jb)(e),"GET_CHANNELS_START","GET_CHANNELS_SUCCESS","GET_CHANNELS_FAIL",t)}function o(e,t){return Object(a.b)(Object(r.Rd)(e),"UPDATE_CHANNEL_START","UPDATE_CHANNEL_SUCCESS","UPDATE_CHANNEL_FAIL",t)}function s(e,t){return Object(a.a)("UPDATE_CHANNEL_REDUCER",e,t)}function l(e,t){return Object(a.b)(Object(r.le)(e),"MARK_READ_CHANNEL_START","MARK_READ_CHANNEL_SUCCESS","MARK_READ_CHANNEL_FAIL",t)}function d(e,t){return Object(a.b)(Object(r.ne)(e),"MARK_AS_UNREAD_CHANNEL_START","MARK_AS_UNREAD_CHANNEL_SUCCESS","MARK_AS_UNREAD_CHANNEL_FAIL",t)}function u(e,t){return Object(a.b)(Object(r.db)(e),"GET_CHANNEL_START","GET_CHANNEL_SUCCESS","GET_CHANNEL_FAIL",t)}function m(e,t){return Object(a.b)(Object(r.Mb)(e),"GET_LAST_VISITED_CHANNEL_START","GET_LAST_VISITED_CHANNEL_SUCCESS","GET_LAST_VISITED_CHANNEL_FAILURE",t)}function p(e,t){return Object(a.a)("UPDATE_MEMBER_TIMESTAMP",e,t)}function f(e,t){return Object(a.a)("ADD_TO_CHANNELS",e,t)}function b(e,t){return Object(a.b)(Object(r.kb)(e),"GET_CHAT_MESSAGES_START","GET_CHAT_MESSAGES_SUCCESS","GET_CHAT_MESSAGES_FAILURE",t)}function h(e,t){return Object(a.a)("MARK_ALL_MESSAGES_AS_READ",e,t)}function _(e,t){return Object(a.a)("ADD_CHAT_MESSAGE",e,t)}function O(e,t){return Object(a.b)(Object(r.Zc)(e),"CREATE_CHAT_MESSAGE_START","CREATE_CHAT_MESSAGE_SUCCESS","CREATE_CHAT_MESSAGE_FAILURE",t)}function E(e,t){return Object(a.b)(Object(r.ad)(e),"TRANSLATE_CHAT_MESSAGE_START","TRANSLATE_CHAT_MESSAGE_SUCCESS","TRANSLATE_CHAT_MESSAGE_FAILURE",t)}function g(e,t){return Object(a.b)(Object(r.Td)(e),"UPDATE_CHAT_MESSAGE_START","UPDATE_CHAT_MESSAGE_SUCCESS","UPDATE_CHAT_MESSAGE_FAILURE",t)}function A(e,t){return Object(a.a)("INCOMING_CHAT_MESSAGE",e,t)}function v(e,t){return Object(a.a)("INCOMING_CHAT_MESSAGE_FROM_OTHERS",e,t)}function j(e,t){return Object(a.a)("INCOMING_ARCHIVED_CHANNEL",e,t)}function C(e,t){return Object(a.b)(Object(r.bd)(e),"CHAT_REACTIONS_START","CHAT_REACTIONS_SUCCESS","CHAT_REACTIONS_FAILURE",t)}function T(e,t){return Object(a.a)("INCOMING_CHAT_MESSAGE_REACTION",e,t)}function y(e,t){return Object(a.a)("SET_CHANNEL_HISTORICAL_POSITION",e,t)}function S(e,t){return Object(a.a)("INCOMING_UPDATED_CHAT_MESSAGE",e,t)}function w(e,t){return Object(a.a)("SET_EDIT_CHAT_MESSAGE",e,t)}function k(e,t){return Object(a.b)(Object(r.r)(e),"DELETE_CHAT_MESSAGE_START","DELETE_CHAT_MESSAGE_SUCCESS","DELETE_CHAT_MESSAGE_FAILURE",t)}function N(e,t){return Object(a.a)("INCOMING_DELETED_CHAT_MESSAGE",e,t)}function R(e,t){return Object(a.a)("ON_CLICK_SEND_BUTTON",e,t)}function x(e,t){return Object(a.a)("ADD_QUOTE",e,t)}function I(e,t){return Object(a.a)("CLEAR_QUOTE",e,t)}function P(e,t){return Object(a.b)(Object(r.cd)(e),"SET_CHAT_REMINDER_START","SET_CHAT_REMINDER_SUCCESS","SET_CHAT_REMINDER_FAILURE",t)}function D(e,t){return Object(a.a)("ADD_TO_CHANNEL_DRAFTS",e,t)}function L(e,t){return Object(a.a)("CLEAR_CHANNEL_DRAFT",e,t)}function F(e,t){return Object(a.b)(Object(r.fb)(e),"GET_CHANNEL_DRAFTS_START","GET_CHANNEL_DRAFTS_SUCCESS","GET_CHANNEL_DRAFTS_FAILURE",t)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(a.b)(Object(r.Jb)(e),"GET_GLOBAL_RECIPIENTS_START","GET_GLOBAL_RECIPIENTS_SUCCESS","GET_GLOBAL_RECIPIENTS_FAILURE",t)}function U(e,t){return Object(a.b)(Object(r.md)(e),"CREATE_NEW_CHAT_START","CREATE_NEW_CHAT_SUCCESS","CREATE_NEW_CHAT_FAILURE",t)}function G(e,t){return Object(a.a)("RENAME_CHANNEL_KEY",e,t)}function H(e,t){return Object(a.b)(Object(r.Sd)(e),"EDIT_CHANNEL_DETAIL_START","EDIT_CHANNEL_DETIL_SUCCESS","EDIT_CHANNEL_DETAIL_FAILURE",t)}function B(e,t){return Object(a.a)("INCOMING_UPDATED_CHANNEL_DETAIL",e,t)}function W(e,t){return Object(a.b)(Object(r.Gd)(e),"SEARCH_EXISTING_CHAT_START","SEARCH_EXISTING_CHAT_SUCCESS","SEARCH_EXISTING_CHAT_FAILURE",t)}function Y(e,t){return Object(a.b)(Object(r.me)(e),"MARK_REMINDER_COMPLETE_START","MARK_REMINDER_COMPLETE_SUCCESS","MARK_REMINDER_COMPLETE_FAILURE",t)}function z(e,t){return Object(a.b)(Object(r.Yc)(e),"ADD_CHANNEL_MEMBERS_START","ADD_CHANNEL_MEMBERS_SUCCESS","ADD_CHANNEL_MEMBERS_FAILURE",t)}function V(e,t){return Object(a.b)(Object(r.q)(e),"DELETE_CHANNEL_MEMBERS_START","DELETE_CHANNEL_MEMBERS_SUCCESS","DELETE_CHANNEL_MEMBERS_FAILURE",t)}function Q(e,t){return Object(a.b)(Object(r.ib)(e),"GET_CHAT_MEMBERS_START","GET_CHAT_MEMBERS_SUCCESS","GET_CHAT_MEMBERS_FAILURE",t)}function q(e,t){return Object(a.a)("UPDATE_CHANNEL_MEMBERS_TITLE",e,t)}function K(e,t){return Object(a.a)("SAVE_LAST_VISITED_CHANNEL",e,t)}function J(e,t){return Object(a.a)("CLEAR_SELECTED_CHANNEL",e,t)}function Z(e,t){return Object(a.a)("UNREAD_CHANNEL_REDUCER",e,t)}function X(e,t){return Object(a.a)("READ_CHANNEL_REDUCER",e,t)}function $(e,t){return Object(a.b)(Object(r.qc)(e),"GET_WORKSPACE_CHANNELS_START","GET_WORKSPACE_CHANNELS_SUCCESS","GET_WORKSPACE_CHANNELS_FAIL",t)}function ee(e,t){return Object(a.a)("SET_FETCHING_MESSAGES",e,t)}function te(e,t){return Object(a.a)("SET_LAST_CHAT_VISIBILITY",e,t)}function ne(e,t){return Object(a.a)("DELETE_POST_NOTIFICATION",e,t)}function ae(e,t){return Object(a.a)("INCOMING_POST_NOTIFICATION_MESSAGE",e,t)}function re(e,t){return Object(a.b)(Object(r.eb)(e),"GET_CHANNEL_DETAIL_START","GET_CHANNEL_DETAIL_SUCCESS","GET_CHANNEL_DETAIL_FAIL",t)}function ie(e,t){return Object(a.a)("SET_SIDEBAR_SEARCH",e,t)}function ce(e,t){return Object(a.b)(Object(r.Lb)(e),"GET_LAST_CHANNEL_START","GET_LAST_CHANNEL_SUCCESS","GET_LAST_CHANNEL_FAIL",t)}function oe(e,t){return Object(a.b)(Object(r.ac)(e),"GET_SELECT_CHANNEL_START","GET_SELECT_CHANNEL_SUCCESS","GET_SELECT_CHANNEL_FAIL",t)}function se(e,t){return Object(a.b)(Object(r.je)(e),"PUT_IMPORTANT_CHAT_START","PUT_IMPORTANT_CHAT_SUCCESS","PUT_IMPORTANT_CHAT_FAIL",t)}function le(e,t){return Object(a.a)("INCOMING_IMPORTANT_CHAT",e,t)}function de(e,t){return Object(a.b)(Object(r.hb)(e),"GET_CHANNEL_LAST_REPLY_START","GET_CHANNEL_LAST_REPLY_SUCCESS","GET_CHANNEL_LAST_REPLY_FAIL",t)}function ue(e,t){return Object(a.b)(Object(r.Ud)(e),"PUT_CHAT_STAR_START","PUT_CHAT_STAR_SUCCESS","PUT_CHAT_STAR_FAIL",t)}function me(e,t){return Object(a.b)(Object(r.lb)(e),"GET_CHAT_STAR_START","GET_CHAT_STAR_SUCCESS","GET_CHAT_STAR_FAIL",t)}function pe(e,t){return Object(a.a)("INCOMING_CHAT_STAR",e,t)}function fe(e,t){return Object(a.b)(Object(r.Kb)(e),"GET_HUDDLE_CHATBOT_START","GET_HUDDLE_CHATBOT_SUCCESS","GET_HUDDLE_CHATBOT_FAIL",t)}function be(e,t){return Object(a.b)(Object(r.ud)(e),"POST_HUDDLE_CHATBOT_START","POST_HUDDLE_CHATBOT_SUCCESS","POST_HUDDLE_CHATBOT_FAIL",t)}function he(e,t){return Object(a.b)(Object(r.ie)(e),"PUT_HUDDLE_CHATBOT_START","PUT_HUDDLE_CHATBOT_SUCCESS","PUT_HUDDLE_CHATBOT_FAIL",t)}function _e(e,t){return Object(a.b)(Object(r.A)(e),"DELETE_HUDDLE_CHATBOT_START","DELETE_HUDDLE_CHATBOT_SUCCESS","DELETE_HUDDLE_CHATBOT_FAIL",t)}function Oe(e,t){return Object(a.b)(Object(r.td)(e),"POST_HUDDLE_ANSWER_START","POST_HUDDLE_ANSWER_SUCCESS","POST_HUDDLE_ANSWER_FAIL",t)}function Ee(e,t){return Object(a.b)(Object(r.lc)(e),"GET_USER_BOTS_START","GET_USER_BOTS_SUCCESS","GET_USER_BOTS_FAIL",t)}function ge(e,t){return Object(a.a)("INCOMING_HUDDLE_BOT",e,t)}function Ae(e,t){return Object(a.a)("SAVE_HUDDLE_ANSWER",e,t)}function ve(e,t){return Object(a.a)("INCOMING_UPDATED_HUDDLE_BOT",e,t)}function je(e,t){return Object(a.a)("INCOMING_DELETED_HUDDLE_BOT",e,t)}function Ce(e,t){return Object(a.b)(Object(r.Nd)(e),"POST_USER_BOTS_START","POST_USER_BOTS_SUCCESS","POST_USER_BOTS_FAIL",t)}function Te(e,t){return Object(a.a)("CLEAR_HUDDLE",e,t)}function ye(e,t){return Object(a.a)("INCOMING_HUDDLE_ANSWERS",e,t)}function Se(e,t){return Object(a.b)(Object(r.fc)(e),"GET_UNPUBLISHED_ANSWERS_START","GET_UNPUBLISHED_ANSWERS_SUCCESS","GET_UNPUBLISHED_ANSWERS_FAIL",t)}function we(e,t){return Object(a.b)(Object(r.qe)(e),"PUT_UNPUBLISHED_ANSWERS_START","PUT_UNPUBLISHED_ANSWERS_SUCCESS","PUT_UNPUBLISHED_ANSWERS_FAIL",t)}function ke(e,t){return Object(a.a)("SET_EDIT_HUDDLE_ANSWERS",e,t)}function Ne(e,t){return Object(a.a)("ADD_HUDDLE_LOG",e,t)}function Re(e,t){return Object(a.a)("CLEAR_EDIT_HUDDLE",e,t)}function xe(e,t){return Object(a.a)("UPDATE_HUDDLE_ANSWER",e,t)}function Ie(e,t){return Object(a.a)("CLEAR_UNPUBLISHED_HUDDLE_ANSWER",e,t)}function Pe(e,t){return Object(a.a)("ADD_CHANNELS",e,t)}function De(e,t){return Object(a.b)(Object(r.jb)(e),"SEARCH_CHANNELS_START","SEARCH_CHANNELS_SUCCESS","SEARCH_CHANNELS_FAIL",t)}function Le(e,t){return Object(a.b)(Object(r.Hd)(e),"POST_SKIP_HUDDLE_START","POST_SKIP_HUDDLE_SUCCESS","POST_SKIP_HUDDLE_FAIL",t)}function Fe(e,t){return Object(a.a)("INCOMING_HUDDLE_SKIP",e,t)}function Me(e,t){return Object(a.a)("ADD_SKIP_ID",e,t)}function Ue(e,t){return Object(a.a)("ADJUST_HUDDLE_DATE",e,t)}function Ge(e,t){return Object(a.b)(Object(r.bc)(e),"GET_SKIPPED_ANSWERS_START","GET_SKIPPED_ANSWERS_SUCCESS","GET_SKIPPED_ANSWERS_FAIL",t)}function He(e,t){return Object(a.a)("CLEAR_HAS_UNPUBLISHED_ANSWERS",e,t)}function Be(e,t){return Object(a.a)("ADD_HAS_UNPUBLISHED_ANSWERS",e,t)}function We(e,t){return Object(a.a)("SET_SEARCH_ARCHIVED_CHANNELS",e,t)}function Ye(e,t){return Object(a.a)("SET_TRANSLATED_BODY",e,t)}function ze(e,t){return Object(a.a)("RESET_TRANSLATED_BODY",e,t)}function Ve(e,t){return Object(a.a)("SET_CHANNEL_TRANSLATE_STATE",e,t)}function Qe(e,t){return Object(a.a)("SET_FANCY_LINK",e,t)}function qe(e,t){return Object(a.b)(Object(r.mb)(e),"GET_COMPANY_CHANNEL_START","GET_COMPANY_CHANNEL_SUCCESS","GET_COMPANY_CHANNEL_FAILURE",t)}},function(e,t,n){"use strict";n.d(t,"B",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"Vb",(function(){return o})),n.d(t,"q",(function(){return s})),n.d(t,"qb",(function(){return l})),n.d(t,"rb",(function(){return d})),n.d(t,"W",(function(){return u})),n.d(t,"X",(function(){return m})),n.d(t,"ob",(function(){return p})),n.d(t,"sb",(function(){return f})),n.d(t,"hb",(function(){return b})),n.d(t,"Hb",(function(){return h})),n.d(t,"vb",(function(){return _})),n.d(t,"pb",(function(){return O})),n.d(t,"wb",(function(){return E})),n.d(t,"Qb",(function(){return g})),n.d(t,"ub",(function(){return A})),n.d(t,"nb",(function(){return v})),n.d(t,"mb",(function(){return j})),n.d(t,"Ab",(function(){return C})),n.d(t,"kb",(function(){return T})),n.d(t,"r",(function(){return y})),n.d(t,"Mb",(function(){return S})),n.d(t,"yb",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return N})),n.d(t,"l",(function(){return R})),n.d(t,"p",(function(){return x})),n.d(t,"Nb",(function(){return I})),n.d(t,"Rb",(function(){return P})),n.d(t,"Y",(function(){return D})),n.d(t,"Bb",(function(){return L})),n.d(t,"T",(function(){return F})),n.d(t,"eb",(function(){return M})),n.d(t,"Q",(function(){return U})),n.d(t,"M",(function(){return G})),n.d(t,"ib",(function(){return H})),n.d(t,"lb",(function(){return B})),n.d(t,"V",(function(){return W})),n.d(t,"O",(function(){return Y})),n.d(t,"v",(function(){return z})),n.d(t,"w",(function(){return V})),n.d(t,"y",(function(){return Q})),n.d(t,"d",(function(){return q})),n.d(t,"Tb",(function(){return K})),n.d(t,"u",(function(){return J})),n.d(t,"g",(function(){return Z})),n.d(t,"xb",(function(){return X})),n.d(t,"bb",(function(){return $})),n.d(t,"j",(function(){return ee})),n.d(t,"db",(function(){return te})),n.d(t,"o",(function(){return ne})),n.d(t,"P",(function(){return ae})),n.d(t,"t",(function(){return re})),n.d(t,"S",(function(){return ie})),n.d(t,"A",(function(){return ce})),n.d(t,"E",(function(){return oe})),n.d(t,"J",(function(){return se})),n.d(t,"fb",(function(){return le})),n.d(t,"i",(function(){return de})),n.d(t,"f",(function(){return ue})),n.d(t,"h",(function(){return me})),n.d(t,"Jb",(function(){return pe})),n.d(t,"Z",(function(){return fe})),n.d(t,"Db",(function(){return be})),n.d(t,"Cb",(function(){return he})),n.d(t,"I",(function(){return _e})),n.d(t,"e",(function(){return Oe})),n.d(t,"Ib",(function(){return Ee})),n.d(t,"c",(function(){return ge})),n.d(t,"Fb",(function(){return Ae})),n.d(t,"s",(function(){return ve})),n.d(t,"Kb",(function(){return je})),n.d(t,"Ub",(function(){return Ce})),n.d(t,"Sb",(function(){return Te})),n.d(t,"zb",(function(){return ye})),n.d(t,"R",(function(){return Se})),n.d(t,"cb",(function(){return we})),n.d(t,"K",(function(){return ke})),n.d(t,"gb",(function(){return Ne})),n.d(t,"U",(function(){return Re})),n.d(t,"m",(function(){return xe})),n.d(t,"N",(function(){return Ie})),n.d(t,"C",(function(){return Pe})),n.d(t,"Pb",(function(){return De})),n.d(t,"Lb",(function(){return Le})),n.d(t,"k",(function(){return Fe})),n.d(t,"jb",(function(){return Me})),n.d(t,"L",(function(){return Ue})),n.d(t,"H",(function(){return Ge})),n.d(t,"G",(function(){return He})),n.d(t,"tb",(function(){return Be})),n.d(t,"ab",(function(){return We})),n.d(t,"Ob",(function(){return Ye})),n.d(t,"Gb",(function(){return ze})),n.d(t,"Eb",(function(){return Ve})),n.d(t,"D",(function(){return Qe})),n.d(t,"x",(function(){return qe})),n.d(t,"z",(function(){return Ke})),n.d(t,"F",(function(){return Je}));var a=n(8),r=n(10);function i(e,t){return Object(a.b)(Object(r.Sb)(e),"POST_LIST_START","POST_LIST_SUCCESS","POST_LIST_FAIL",t)}function c(e,t){return Object(a.b)(Object(r.j)(e),"POST_LIST_CREATE_START","POST_LIST_CREATE_SUCCESS","POST_LIST_CREATE_FAIL",t)}function o(e,t){return Object(a.b)(Object(r.Ie)(e,e.id),"POST_LIST_UPDATE_START","POST_LIST_UPDATE_SUCCESS","POST_LIST_UPDATE_FAIL",t)}function s(e,t){return Object(a.b)(Object(r.E)(e,e.id),"POST_LIST_DELETE_START","POST_LIST_DELETE_SUCCESS","POST_LIST_DELETE_FAIL",t)}function l(e,t){return Object(a.b)(Object(r.wd)(e),"POST_LIST_CONNECT_START","POST_LIST_CONNECT_SUCCESS","POST_LIST_CONNECT_FAIL",t)}function d(e,t){return Object(a.b)(Object(r.xd)(e),"POST_LIST_DISCONNECT_START","POST_LIST_DISCONNECT_SUCCESS","POST_LIST_DISCONNECT_FAIL",t)}function u(e,t){return Object(a.a)("POST_LIST_CONNECT",e,t)}function m(e,t){return Object(a.a)("POST_LIST_DISCONNECT",e,t)}function p(e,t){return Object(a.b)(Object(r.od)(e),"POST_FAVORITE_START","POST_FAVORITE_SUCCESS","POST_FAVORRITE_FAIL",t)}function f(e,t){return Object(a.b)(Object(r.zd)(e),"POST_MARK_DONE_START","POST_MARK_DONE_SUCCESS","POST_MARK_DONE_FAIL",t)}function b(e,t){return Object(a.b)(Object(r.Xc)(e),"POST_ARCHIVE_START","POST_ARCHIVE_SUCCESS","POST_ARCHIVE_FAIL",t)}function h(e,t){return Object(a.a)("REMOVE_POST",e,t)}function _(e,t){return Object(a.b)(Object(r.Kd)(e),"POST_TOGGLE_READ_START","POST_TOGGLE_READ_SUCCESS","POST_TOGGLE_READ_FAIL",t)}function O(e,t){return Object(a.b)(Object(r.qd)(e),"POST_FOLLOW_START","POST_FOLOW_SUCCESS","POST_FOLOW_FAIL",t)}function E(e,t){return Object(a.b)(Object(r.Ld)(e),"POST_UNFOLLOW_START","POST_UNFOLOW_SUCCESS","POST_UNFOLOW_FAIL",t)}function g(e,t){return Object(a.a)("INCOMING_POST_TOGGLE_FOLLOW",e,t)}function A(e,t){return Object(a.b)(Object(r.Id)(e),"POST_SNOOZE_START","POST_SNOOZE_SUCCESS","POST_SNOOZE_FAIL",t)}function v(e,t){return Object(a.b)(Object(r.ld)(e),"POST_CREATE_START","POST_CREATE_SUCCESS","POST_CREATE_FAIL",t)}function j(e,t){return Object(a.b)(Object(r.id)(e),"POST_COMPANY_POSTS_START","POST_COMPANY_POSTS_SUCCESS","POST_COMPANY_POSTS_FAIL",t)}function C(e,t){return Object(a.b)(Object(r.ae)(e),"PUT_COMPANY_POSTS_START","PUT_COMPANY_POSTS_SUCCESS","PUT_COMPANY_POSTS_FAIL",t)}function T(e,t){return Object(a.b)(Object(r.fd)(e),"POST_COMMENT_START","POST_COMMENT_SUCCESS","POST_COMMENT_FAIL",t)}function y(e,t){return Object(a.b)(Object(r.Q)(e),"FETCH_COMMENTS_START","FETCH_COMMENTS_SUCCESS","FETCH_COMMENTS_FAIL",t)}function S(e,t){return Object(a.a)("SET_EDIT_POST_COMMENT",e,t)}function w(e,t){return Object(a.b)(Object(r.Vd)(e),"UPDATE_COMMENT_START","UPDATE_COMMENT_SUCCESS","UPDATE_COMMENT_FAIL",t)}function k(e,t){return Object(a.a)("ADD_COMMENT",e,t)}function N(e,t){return Object(a.a)("ADD_COMMENT_QUOTE",e,t)}function R(e,t){return Object(a.a)("CLEAR_COMMENT_QUOTE",e,t)}function x(e,t){return Object(a.b)(Object(r.C)(e),"DELETE_POST_START","DELETE_POST_SUCCESS","DELETE_POST_FAIL",t)}function I(e,t){return Object(a.a)("SET_PARENT_ID",e,t)}function P(e,t){return Object(a.a)("STAR_POST_REDUCER",e,t)}function D(e,t){return Object(a.a)("INCOMING_POST_MARK_DONE",e,t)}function L(e,t){return Object(a.b)(Object(r.oe)(e),"UPADATE_POST_START","UPADATE_POST_SUCCESS","UPADATE_POST_FAIL",t)}function F(e,t){return Object(a.a)("INCOMING_POST",e,t)}function M(e,t){return Object(a.a)("INCOMING_UPDATED_POST",e,t)}function U(e,t){return Object(a.a)("INCOMING_DELETED_POST",e,t)}function G(e,t){return Object(a.a)("INCOMING_COMMENT",e,t)}function H(e,t){return Object(a.b)(Object(r.dd)(e),"POST_CLAP_START","POST_CLAP_SUCCESS","POST_CLAP_FAIL",t)}function B(e,t){return Object(a.b)(Object(r.gd)(e),"POST_COMMENT_CLAP_START","POST_COMMENT_CLAP_SUCCESS","POST_COMMENT_CLAP_FAIL",t)}function W(e,t){return Object(a.a)("INCOMING_POST_CLAP",e,t)}function Y(e,t){return Object(a.a)("INCOMING_COMMENT_CLAP",e,t)}function z(e,t){return Object(a.b)(Object(r.W)(e),"FETCH_RECENT_POSTS_START","FETCH_RECENT_POSTS_SUCCESS","FETCH_RECENT_POSTS_FAIL",t)}function V(e,t){return Object(a.b)(Object(r.X)(e),"FETCH_TAG_COUNTER_START","FETCH_TAG_COUNTER_SUCCESS","FETCH_TAG_COUNTER_FAIL",t)}function Q(e,t){return Object(a.b)(Object(r.yb)(e),"GET_COMPANY_POSTS_START","GET_COMPANY_POSTS_SUCCESS","GET_COMPANY_POSTS_FAIL",t)}function q(e,t){return Object(a.a)("ADD_COMPANY_POST_SEARCH_RESULT",e,t)}function K(e,t){return Object(a.a)("UPDATE_COMPANY_POST_FILTER_SORT",e,t)}function J(e,t){return Object(a.b)(Object(r.U)(e),"GET_WORKSPACE_POSTS_START","GET_WORKSPACE_POSTS_SUCCESS","GET_WORKSPACE_POSTS_FAIL",t)}function Z(e,t){return Object(a.a)("ADD_TO_WORKSPACE_POSTS",e,t)}function X(e,t){return Object(a.b)(Object(r.Od)(e),"POST_VISIT_START","POST_VISIT_SUCCESS","POST_VISIT_FAIL",t)}function $(e,t){return Object(a.a)("INCOMING_POST_VIEWER",e,t)}function ee(e,t){return Object(a.a)("ARCHIVE_POST_REDUCER",e,t)}function te(e,t){return Object(a.a)("INCOMING_READ_UNREAD_REDUCER",e,t)}function ne(e,t){return Object(a.b)(Object(r.s)(e),"DELETE_COMMENT_START","DELETE_COMMENT_SUCCESS","DELETE_COMMENT_FAIL",t)}function ae(e,t){return Object(a.a)("INCOMING_DELETED_COMMENT",e,t)}function re(e,t){return Object(a.b)(Object(r.T)(e),"GET_POST_START","GET_POST_SUCCESS","GET_POST_FAIL",t)}function ie(e,t){return Object(a.a)("INCOMING_MARK_AS_READ",e,t)}function ce(e,t){return Object(a.b)(Object(r.Rb)(e),"GET_POST_CLAP_HOVER_START","GET_POST_CLAP_HOVER_SUCCESS","GET_POST_CLAP_HOVER_FAIL",t)}function oe(e,t){return Object(a.b)(Object(r.Yb)(e),"GET_REPLY_CLAP_HOVER_START","GET_REPLY_CLAP_HOVER_SUCCESS","GET_REPLY_CLAP_HOVER_FAIL",t)}function se(e,t){return Object(a.b)(Object(r.ic)(e),"GET_UNREAD_POST_ENTRIES_START","GET_UNREAD_POST_ENTRIES_SUCCESS","GET_UNREAD_POST_ENTRIES_FAIL",t)}function le(e,t){return Object(a.b)(Object(r.Oc)(e),"MARK_ALL_POSTS_AS_READ_START","MARK_ALL_POSTS_AS_READ_SUCCESS","MARK_ALL_POSTS_AS_READ_FAIL",t)}function de(e,t){return Object(a.b)(Object(r.e)(e),"ARCHIVE_ALL_POSTS_START","ARCHIVE_ALL_POSTS_SUCCESS","ARCHIVE_ALL_POSTS_FAIL",t)}function ue(e,t){return Object(a.b)(Object(r.b)(e),"ADD_POST_RECIPIENTS_START","ADD_POST_RECIPIENTS_SUCCESS","ADD_POST_RECIPIENTS_FAIL",t)}function me(e,t){return Object(a.a)("ADD_USER_TO_POST_RECIPIENTS",e,t)}function pe(e,t){return Object(a.a)("REMOVE_USER_TO_POST_RECIPIENTS",e,t)}function fe(e,t){return Object(a.a)("INCOMING_POST_RECIPIENTS",e,t)}function be(e,t){return Object(a.b)(Object(r.ze)(e),"REFETCH_POSTS_START","REFETCH_POSTS_SUCCESS","REFETCH_POSTS_FAIL",t)}function he(e,t){return Object(a.b)(Object(r.ye)(e),"REFETCH_POST_COMMENTS_START","REFETCH_POST_COMMENTS_SUCCESS","REFETCH_POST_COMMENTS_FAIL",t)}function _e(e,t){return Object(a.b)(Object(r.hc)(e),"GET_UNREAD_POST_COMMENTS_START","GET_UNREAD_POST_COMMENTS_SUCCESS","GET_UNREAD_POST_COMMENTS_FAIL",t)}function Oe(e,t){return Object(a.a)("ADD_POST_REACT",e,t)}function Ee(e,t){return Object(a.a)("REMOVE_POST_REACT",e,t)}function ge(e,t){return Object(a.a)("ADD_COMMENT_REACT",e,t)}function Ae(e,t){return Object(a.a)("REMOVE_COMMENT_REACT",e,t)}function ve(e,t){return Object(a.b)(Object(r.T)(e),"GET_POST_DETAIL_START","GET_POST_DETAIL_SUCCESS","GET_POST_DETAIL_FAIL",t)}function je(e,t){return Object(a.b)(Object(r.yb)(e),"SEARCH_COMPANY_POSTS_START","SEARCH_COMPANY_POSTS_SUCCESS","SEARCH_COMPANY_POSTS_FAIL",t)}function Ce(e,t){return Object(a.a)("UPDATE_POST_FILES",e,t)}function Te(e,t){return Object(a.a)("UPDATE_COMMENT_FILES",e,t)}function ye(e,t){return Object(a.b)(Object(r.Wd)(e),"PUT_COMMENT_START","PUT_COMMENT_SUCCESS","PUT_COMMENT_FAIL",t)}function Se(e,t){return Object(a.a)("INCOMING_IMPORTANT_COMMENT",e,t)}function we(e,t){return Object(a.a)("INCOMING_READ_SELECTED_POSTS",e,t)}function ke(e,t){return Object(a.a)("INCOMING_ARCHIVED_SELECTED_POSTS",e,t)}function Ne(e,t){return Object(a.b)(Object(r.Wc)(e),"POST_APPROVE_START","POST_APPROVE_SUCCESS","POST_APPROVE_FAIL",t)}function Re(e,t){return Object(a.a)("INCOMING_POST_APPROVAL",e,t)}function xe(e,t){return Object(a.b)(Object(r.i)(e),"COMMENT_APPROVE_START","COMMENT_APPROVE_SUCCESS","COMMENT_APPROVE_FAIL",t)}function Ie(e,t){return Object(a.a)("INCOMING_COMMENT_APPROVAL",e,t)}function Pe(e,t){return Object(a.b)(Object(r.Tb)(e),"GET_POSTREAD_START","GET_POSTREAD_SUCCESS","GET_POSTREAD_FAIL",t)}function De(e,t){return Object(a.a)("SET_POSTREAD",e,t)}function Le(e,t){return Object(a.a)("SET_CHANGE_REQUESTED_COMMENT",e,t)}function Fe(e,t){return Object(a.a)("CLEAR_COMMENT_APPROVING_STATE",e,t)}function Me(e,t){return Object(a.b)(Object(r.ed)(e),"POST_CLOSE_START","POST_CLOSE_SUCCESS","POST_CLOSE_FAIL",t)}function Ue(e,t){return Object(a.a)("INCOMING_CLOSE_POST",e,t)}function Ge(e,t){return Object(a.b)(Object(r.yb)(e),"GET_UNREAD_COMPANY_POSTS_START","GET_UNREAD_COMPANY_POSTS_SUCCESS","GET_UNREAD_COMPANY_POSTS_FAIL",t)}function He(e,t){return Object(a.b)(Object(r.T)(e),"GET_UNARCHIVE_POST_DETAIL_START","GET_UNARCHIVE_POST_DETAIL_SUCCESS","GET_UNARCHIVE_POST_DETAIL_FAIL",t)}function Be(e,t){return Object(a.b)(Object(r.Ed)(e),"POST_REQUIRED_START","POST_REQUIRED_SUCCESS","POST_REQUIRED_FAIL",t)}function We(e,t){return Object(a.a)("INCOMING_POST_REQUIRED",e,t)}function Ye(e,t){return Object(a.a)("SET_POST_COMMENT_TYPE",e,t)}function ze(e,t){return Object(a.a)("REMOVE_DRAFT_POST",e,t)}function Ve(e,t){return Object(a.a)("REMOVE_COMMENT_DRAFT",e,t)}function Qe(e,t){return Object(a.b)(Object(r.yb)(e),"GET_READ_COMPANY_POSTS_START","GET_READ_COMPANY_POSTS_SUCCESS","GET_READ_COMPANY_POSTS_FAIL",t)}function qe(e,t){return Object(a.b)(Object(r.yb)(e),"GET_ARCHIVED_OMPANY_POSTS_START","GET_ARCHIVED_COMPANY_POSTS_SUCCESS","GET_ARCHIVED_COMPANY_POSTS_FAIL",t)}function Ke(e,t){return Object(a.b)(Object(r.yb)(e),"GET_MY_COMPANY_POSTS_START","GET_MY_COMPANY_POSTS_SUCCESS","GET_MY_COMPANY_POSTS_FAIL",t)}function Je(e,t){return Object(a.b)(Object(r.yb)(e),"GET_STAR_COMPANY_POSTS_START","GET_STAR_COMPANY_POSTS_SUCCESS","GET_STAR_COMPANY_POSTS_FAIL",t)}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"Wb",(function(){return o})),n.d(t,"Ub",(function(){return s})),n.d(t,"Vb",(function(){return l})),n.d(t,"Hb",(function(){return d})),n.d(t,"O",(function(){return u})),n.d(t,"H",(function(){return m})),n.d(t,"Q",(function(){return p})),n.d(t,"G",(function(){return f})),n.d(t,"P",(function(){return b})),n.d(t,"N",(function(){return h})),n.d(t,"J",(function(){return _})),n.d(t,"K",(function(){return O})),n.d(t,"I",(function(){return E})),n.d(t,"Zb",(function(){return g})),n.d(t,"p",(function(){return A})),n.d(t,"Tb",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"Ob",(function(){return C})),n.d(t,"ac",(function(){return T})),n.d(t,"ob",(function(){return y})),n.d(t,"l",(function(){return S})),n.d(t,"gb",(function(){return w})),n.d(t,"r",(function(){return k})),n.d(t,"j",(function(){return N})),n.d(t,"Nb",(function(){return R})),n.d(t,"kb",(function(){return x})),n.d(t,"b",(function(){return I})),n.d(t,"f",(function(){return P})),n.d(t,"eb",(function(){return D})),n.d(t,"nb",(function(){return L})),n.d(t,"e",(function(){return F})),n.d(t,"o",(function(){return M})),n.d(t,"Bb",(function(){return U})),n.d(t,"sb",(function(){return G})),n.d(t,"zb",(function(){return H})),n.d(t,"Ab",(function(){return B})),n.d(t,"jb",(function(){return W})),n.d(t,"n",(function(){return Y})),n.d(t,"ib",(function(){return z})),n.d(t,"xb",(function(){return V})),n.d(t,"yb",(function(){return Q})),n.d(t,"Yb",(function(){return q})),n.d(t,"q",(function(){return K})),n.d(t,"fb",(function(){return J})),n.d(t,"Gb",(function(){return Z})),n.d(t,"L",(function(){return X})),n.d(t,"M",(function(){return $})),n.d(t,"qb",(function(){return ee})),n.d(t,"rb",(function(){return te})),n.d(t,"m",(function(){return ne})),n.d(t,"hb",(function(){return ae})),n.d(t,"Rb",(function(){return re})),n.d(t,"v",(function(){return ie})),n.d(t,"u",(function(){return ce})),n.d(t,"w",(function(){return oe})),n.d(t,"x",(function(){return se})),n.d(t,"y",(function(){return le})),n.d(t,"B",(function(){return de})),n.d(t,"C",(function(){return ue})),n.d(t,"D",(function(){return me})),n.d(t,"Db",(function(){return pe})),n.d(t,"Fb",(function(){return fe})),n.d(t,"Eb",(function(){return be})),n.d(t,"Cb",(function(){return he})),n.d(t,"Jb",(function(){return _e})),n.d(t,"Kb",(function(){return Oe})),n.d(t,"h",(function(){return Ee})),n.d(t,"i",(function(){return ge})),n.d(t,"g",(function(){return Ae})),n.d(t,"Xb",(function(){return ve})),n.d(t,"a",(function(){return je})),n.d(t,"X",(function(){return Ce})),n.d(t,"db",(function(){return Te})),n.d(t,"T",(function(){return ye})),n.d(t,"V",(function(){return Se})),n.d(t,"W",(function(){return we})),n.d(t,"R",(function(){return ke})),n.d(t,"Z",(function(){return Ne})),n.d(t,"U",(function(){return Re})),n.d(t,"vb",(function(){return xe})),n.d(t,"Y",(function(){return Ie})),n.d(t,"ab",(function(){return Pe})),n.d(t,"bb",(function(){return De})),n.d(t,"wb",(function(){return Le})),n.d(t,"S",(function(){return Fe})),n.d(t,"cb",(function(){return Me})),n.d(t,"Pb",(function(){return Ue})),n.d(t,"Lb",(function(){return Ge})),n.d(t,"Qb",(function(){return He})),n.d(t,"Mb",(function(){return Be})),n.d(t,"Ib",(function(){return We})),n.d(t,"A",(function(){return Ye})),n.d(t,"z",(function(){return ze})),n.d(t,"pb",(function(){return Ve})),n.d(t,"lb",(function(){return Qe})),n.d(t,"mb",(function(){return qe})),n.d(t,"F",(function(){return Ke})),n.d(t,"s",(function(){return Je})),n.d(t,"t",(function(){return Ze})),n.d(t,"E",(function(){return Xe})),n.d(t,"Sb",(function(){return $e})),n.d(t,"tb",(function(){return et})),n.d(t,"ub",(function(){return tt}));var a=n(8),r=n(10);function i(e,t){return Object(a.a)("ADD_CHANNEL_FILES",e,t)}function c(e,t){return Object(a.a)("DELETE_CHANNEL_FILES",e,t)}function o(e,t){return Object(a.a)("SET_VIEW_FILES",e,t)}function s(e,t){return Object(a.a)("PREPARE_WORKSPACE_FILES_UPLOAD",e,t)}function l(e,t){return Object(a.a)("PROCESS_WORKSPACE_FILES_UPLOAD",e,t)}function d(e,t){return Object(a.b)(Object(r.Pd)(e),"UPLOADING_WORKSPACE_FILES_START","UPLOADING_WORKSPACE_FILES_SUCCESS","UPLOADING_WORKSPACE_FILES_FAILURE",t)}function u(e,t){return Object(a.b)(Object(r.Cc)(e),"GET_WORKSPACE_PRIMARY_FILES_START","GET_WORKSPACE_PRIMARY_FILES_SUCCESS","GET_WORKSPACE_PRIMARY_FILES_FAIL",t)}function m(e,t){return Object(a.b)(Object(r.sc)(e),"GET_WORKSPACE_FILES_START","GET_WORKSPACE_FILES_SUCCESS","GET_WORKSPACE_FILES_FAIL",t)}function p(e,t){return Object(a.b)(Object(r.Hc)(e),"GET_WORKSPACE_TRASH_FILES_START","GET_WORKSPACE_TRASH_FILES_SUCCESS","GET_WORKSPACE_TRASH_FILES_FAIL",t)}function f(e,t){return Object(a.b)(Object(r.rc)(e),"GET_WORKSPACE_FAVORITE_FILES_START","GET_WORKSPACE_FAVORITE_FILES_SUCCESS","GET_WORKSPACE_FAVORITE_FILES_FAIL",t)}function b(e,t){return Object(a.b)(Object(r.Dc)(e),"GET_WORKSPACE_RECENT_EDIT_FILES_START","GET_WORKSPACE_RECENT_EDIT_FILES_SUCCESS","GET_WORKSPACE_RECENT_EDIT_FILES_FAIL",t)}function h(e,t){return Object(a.b)(Object(r.Ac)(e),"GET_WORKSPACE_POPULAR_FILES_START","GET_WORKSPACE_POPULAR_FILES_SUCCESS","GET_WORKSPACE_POPULAR_FILES_FAIL",t)}function _(e,t){return Object(a.b)(Object(r.wc)(e),"GET_WORKSPACE_FOLDER_START","GET_WORKSPACE_FOLDER_SUCCESS","GET_WORKSPACE_FOLDER_FAIL",t)}function O(e,t){return Object(a.b)(Object(r.xc)(e),"GET_WORKSPACE_FOLDERS_BREADCRUMB_START","GET_WORKSPACE_FOLDERS_BREADCRUMB_SUCCESS","GET_WORKSPACE_FOLDERS_BREADCRUMB_FAIL",t)}function E(e,t){return Object(a.b)(Object(r.tc)(e),"GET_WORKSPACE_FILE_DETAILS_START","GET_WORKSPACE_FILE_DETAILS_SUCCESS","GET_WORKSPACE_FILE_DETAILS_FAIL",t)}function g(e,t){return Object(a.b)(Object(r.Qe)(e),"UPLOAD_WORKSPACE_FILE_START","UPLOAD_WORKSPACE_FILE_SUCCESS","UPLOAD_WORKSPACE_FILE_FAIL",t)}function A(e,t){return Object(a.b)(Object(r.L)(e),"DELETE_WORKSPACE_FILE_START","DELETE_WORKSPACE_FILE_SUCCESS","DELETE_WORKSPACE_FILE_FAIL",t)}function v(e,t){return Object(a.b)(Object(r.Ce)(e),"RESTORE_WORKSPACE_FILE_START","RESTORE_WORKSPACE_FILE_SUCCESS","RESTORE_WORKSPACE_FILE_FAIL",t)}function j(e,t){return Object(a.b)(Object(r.pd)(e),"ADD_FOLDER_START","ADD_FOLDER_SUCCESS","ADD_FOLDER_FAIL",t)}function C(e,t){return Object(a.b)(Object(r.he)(e),"UPDATE_FOLDER_START","UPDATE_FOLDER_SUCCESS","UPDATE_FOLDER_FAIL",t)}function T(e,t){return Object(a.b)(Object(r.Re)(e),"UPLOAD_WORKSPACE_FILES_START","UPLOAD_WORKSPACE_FILES_SUCCESS","UPLOAD_WORKSPACE_FILES_FAIL",t)}function y(e,t){return Object(a.a)("INCOMING_FOLDER",e,t)}function S(e,t){return Object(a.b)(Object(r.y)(e),"DELETE_FOLDER_START","DELETE_FOLDER_SUCCESS","DELETE_FOLDER_FAIL",t)}function w(e,t){return Object(a.a)("INCOMING_DELETED_FOLDER",e,t)}function k(e,t){return Object(a.b)(Object(r.od)(e),"FAVORITE_FILE_START","FAVORITE_FILE_SUCCESS","FAVORITE_FILE_FAIL",t)}function N(e,t){return Object(a.b)(Object(r.x)(e),"DELETE_FILE_START","DELETE_FILE_SUCCESS","DELETE_FILE_FAIL",t)}function R(e,t){return Object(a.b)(Object(r.ge)(e),"UPDATE_FILENAME_START","UPDATE_FILENAME_SUCCESS","UPDATE_FILENAME_FAIL",t)}function x(e,t){return Object(a.a)("INCOMING_FILE",e,t)}function I(e,t){return Object(a.a)("ADD_FILE_SEARCH_RESULTS",e,t)}function P(e,t){return Object(a.a)("CLEAR_FILE_SEARCH_RESULTS",e,t)}function D(e,t){return Object(a.a)("INCOMING_DELETED_FILE",e,t)}function L(e,t){return Object(a.a)("INCOMING_FILES",e,t)}function F(e,t){return Object(a.a)("ADD_REMOVE_FAVORITE",e,t)}function M(e,t){return Object(a.b)(Object(r.H)(e),"DELETE_TRASH_START","DELETE_TRASH_SUCCESS","DELETE_TRASH_FAIL",t)}function U(e,t){return Object(a.b)(Object(r.Pc)(e),"MOVE_FILE_START","MOVE_FILE_SUCCESS","MOVE_FILE_FAIL",t)}function G(e,t){return Object(a.a)("INCOMING_MOVED_FILE",e,t)}function H(e,t){return Object(a.a)("INCOMING_RESTORE_FILE",e,t)}function B(e,t){return Object(a.a)("INCOMING_RESTORE_FOLDER",e,t)}function W(e,t){return Object(a.a)("INCOMING_EMPTY_TRASH",e,t)}function Y(e,t){return Object(a.b)(Object(r.D)(e),"DELETE_POST_FILE_START","DELETE_POST_FILE_SUCCESS","DELETE_POST_FILE_FAIL",t)}function z(e,t){return Object(a.a)("INCOMING_DELETED_POST_FILE",e,t)}function V(e,t){return Object(a.a)("INCOMING_REMOVED_FILE",e,t)}function Q(e,t){return Object(a.a)("INCOMING_REMOVED_FOLDER",e,t)}function q(e,t){return Object(a.a)("UPLOAD_FILES_REDUCER",e,t)}function K(e,t){return Object(a.b)(Object(r.M)(e),"DELETE_WORKSPACE_FILES_START","DELETE_WORKSPACE_FILES_SUCCESS","DELETE_WORKSPACE_FILES_FAIL",t)}function J(e,t){return Object(a.a)("INCOMING_DELETED_FILES",e,t)}function Z(e,t){return Object(a.b)(Object(r.sd)(e),"POST_GOOGLE_ATTACHMENTS_START","POST_GOOGLE_ATTACHMENTS_SUCCESS","POST_GOOGLE_ATTACHMENTS_FAIL",t)}function X(e,t){return Object(a.b)(Object(r.yc)(e),"GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_START","GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_SUCCESS","GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_FAIL",t)}function $(e,t){return Object(a.b)(Object(r.zc)(e),"GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_START","GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_SUCCESS","GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_FAIL",t)}function ee(e,t){return Object(a.a)("INCOMING_GOOGLE_FILE",e,t)}function te(e,t){return Object(a.a)("INCOMING_GOOGLE_FOLDER",e,t)}function ne(e,t){return Object(a.b)(Object(r.z)(e),"DELETE_GOOGLE_ATTACHMENTS_START","DELETE_GOOGLE_ATTACHMENTS_SUCCESS","DELETE_GOOGLE_ATTACHMENTS_FAIL",t)}function ae(e,t){return Object(a.a)("INCOMING_DELETED_GOOGLE_FILE",e,t)}function re(e,t){return Object(a.a)("ADD_GOOGLE_DRIVE_FILE",e,t)}function ie(e,t){return Object(a.b)(Object(r.rb)(e),"GET_COMPANY_FILES_START","GET_COMPANY_FILES_SUCCESS","GET_COMPANY_FILES_FAIL",t)}function ce(e,t){return Object(a.b)(Object(r.qb)(e),"GET_COMPANY_FAVORITE_FILES_START","GET_COMPANY_FAVORITE_FILES_SUCCESS","GET_COMPANY_FAVORITE_FILES_FAIL",t)}function oe(e,t){return Object(a.b)(Object(r.sb)(e),"GET_COMPANY_FILES_DETAIL_START","GET_COMPANY_FILES_DETAIL_SUCCESS","GET_COMPANY_FILES_DETAIL_FAIL",t)}function se(e,t){return Object(a.b)(Object(r.tb)(e),"GET_COMPANY_FOLDER_BREAD_CRUMBS_START","GET_COMPANY_FOLDER_BREAD_CRUMBS_SUCCESS","GET_COMPANY_FOLDER_BREAD_CRUMBS_FAIL",t)}function le(e,t){return Object(a.b)(Object(r.ub)(e),"GET_COMPANY_FOLDERS_START","GET_COMPANY_FOLDERS_SUCCESS","GET_COMPANY_FOLDERS_FAIL",t)}function de(e,t){return Object(a.b)(Object(r.xb)(e),"GET_COMPANY_POPULAR_FILES_START","GET_COMPANY_POPULAR_FILES_SUCCESS","GET_COMPANY_POPULAR_FILES_FAIL",t)}function ue(e,t){return Object(a.b)(Object(r.zb)(e),"GET_COMPANY_RECENT_EDITED_FILES_START","GET_COMPANY_RECENT_EDITED_FILES_SUCCESS","GET_COMPANY_RECENT_EDITED_FILES_FAIL",t)}function me(e,t){return Object(a.b)(Object(r.Ab)(e),"GET_COMPANY_TRASHED_FILES_START","GET_COMPANY_TRASHED_FILES_SUCCESS","GET_COMPANY_TRASHED_FILES_FAIL",t)}function pe(e,t){return Object(a.b)(Object(r.hd)(e),"POST_COMPANY_FOLDERS_START","POST_COMPANY_FOLDERS_SUCCESS","POST_COMPANY_FOLDERS_FAIL",t)}function fe(e,t){return Object(a.b)(Object(r.kd)(e),"POST_COMPANY_UPLOAD_FILES_START","POST_COMPANY_UPLOAD_FILES_SUCCESS","POST_COMPANY_UPLOAD_FILES_FAIL",t)}function be(e,t){return Object(a.b)(Object(r.jd)(e),"POST_COMPANY_UPLOAD_BULK_FILES_START","POST_COMPANY_UPLOAD_BULK_FILES_SUCCESS","POST_COMPANY_UPLOAD_UPLOAD_BULK_FILES_FAIL",t)}function he(e,t){return Object(a.b)(Object(r.Sc)(e),"PATCH_COMPANY_FILE_VIEWED_START","PATCH_COMPANY_FILE_VIEWED_SUCCESS","PATCH_COMPANY_FILE_VIEWED_FAIL",t)}function _e(e,t){return Object(a.b)(Object(r.Yd)(e),"PUT_COMPANY_FILES_START","PUT_COMPANY_FILES_SUCCESS","PUT_COMPANY_FILES_FAIL",t)}function Oe(e,t){return Object(a.b)(Object(r.Zd)(e),"PUT_COMPANY_FOLDERS_START","PUT_COMPANY_FOLDERS_SUCCESS","PUT_COMPANY_FOLDERS_FAIL",t)}function Ee(e,t){return Object(a.b)(Object(r.u)(e),"DELETE_COMPANY_FILES_START","DELETE_COMPANY_FILES_SUCCESS","DELETE_COMPANY_FILES_FAIL",t)}function ge(e,t){return Object(a.b)(Object(r.v)(e),"DELETE_COMPANY_FOLDERS_START","DELETE_COMPANY_FOLDERS_SUCCESS","DELETE_COMPANY_FOLDERS_FAIL",t)}function Ae(e,t){return Object(a.b)(Object(r.t)(e),"DELETED_COMPANY_DELETE_START","DELETED_COMPANY_DELETE_SUCCESS","DELETED_COMPANY_DELETE_FAIL",t)}function ve(e,t){return Object(a.a)("UPLOAD_COMPANY_FILES_REDUCER",e,t)}function je(e,t){return Object(a.a)("ADD_COMPANY_FILE_SEARCH_RESULTS",e,t)}function Ce(e,t){return Object(a.a)("INCOMING_COMPANY_FOLDER",e,t)}function Te(e,t){return Object(a.a)("INCOMING_COMPANY_UPDATED_FOLDER",e,t)}function ye(e,t){return Object(a.a)("INCOMING_COMPANY_DELETED_FOLDER",e,t)}function Se(e,t){return Object(a.a)("INCOMING_COMPANY_FILE",e,t)}function we(e,t){return Object(a.a)("INCOMING_COMPANY_FILES",e,t)}function ke(e,t){return Object(a.a)("INCOMING_DELETED_FILE",e,t)}function Ne(e,t){return Object(a.a)("INCOMING_COMPANY_MOVED_FILE",e,t)}function Re(e,t){return Object(a.a)("INCOMING_COMPANY_EMPTY_TRASH",e,t)}function xe(e,t){return Object(a.a)("INCOMING_REMOVED_COMPANY_FILE",e,t)}function Ie(e,t){return Object(a.a)("INCOMING_COMPANY_MOVE_FILE",e,t)}function Pe(e,t){return Object(a.a)("INCOMING_COMPANY_RESTORE_FILE",e,t)}function De(e,t){return Object(a.a)("INCOMING_COMPANY_RESTORE_FOLDER",e,t)}function Le(e,t){return Object(a.a)("INCOMING_REMOVED_COMPANY_FOLDER",e,t)}function Fe(e,t){return Object(a.a)("INCOMING_COMPANY_DELETED_FILES",e,t)}function Me(e,t){return Object(a.a)("INCOMING_COMPANY_UPDATED_FILE",e,t)}function Ue(e,t){return Object(a.b)(Object(r.te)(e),"PUT_WORKSPACE_RESTORE_FILE_START","PUT_WORKSPACE_RESTORE_FILE_SUCCESS","PUT_WORKSPACE_RESTORE_FILE_FAIL",t)}function Ge(e,t){return Object(a.b)(Object(r.be)(e),"PUT_COMPANY_RESTORE_FILE_START","PUT_COMPANY_RESTORE_FILE_SUCCESS","PUT_COMPANY_RESTORE_FILE_FAIL",t)}function He(e,t){return Object(a.b)(Object(r.ue)(e),"PUT_WORKSPACE_RESTORE_FOLDER_START","PUT_WORKSPACE_RESTORE_FOLDER_SUCCESS","PUT_WORKSPACE_RESTORE_FOLDER_FAIL",t)}function Be(e,t){return Object(a.b)(Object(r.ce)(e),"PUT_COMPANY_RESTORE_FOLDER_START","PUT_COMPANY_RESTORE_FOLDER_SUCCESS","PUT_COMPANY_RESTORE_FOLDER_FAIL",t)}function We(e,t){return Object(a.b)(Object(r.Xd)(e),"PUT_COMPANY_FILE_MOVE_START","PUT_COMPANY_FILE_MOVE_SUCCESS","PUT_COMPANY_FILE_MOVE_FAIL",t)}function Ye(e,t){return Object(a.b)(Object(r.wb)(e),"GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_START","GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_SUCCESS","GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_FAIL",t)}function ze(e,t){return Object(a.b)(Object(r.vb)(e),"GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_START","GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_SUCCESS","GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_FAIL",t)}function Ve(e,t){return Object(a.a)("INCOMING_GIF_DATA",e,t)}function Qe(e,t){return Object(a.a)("INCOMING_FILE_DATA",e,t)}function qe(e,t){return Object(a.a)("INCOMING_FILE_THUMBNAIL_DATA",e,t)}function Ke(e,t){return Object(a.b)(Object(r.sc)(e),"GET_TEAM_CHAT_FILES_START","GET_TEAM_CHAT_FILES_SUCCESS","GET_TEAM_CHAT_FILES_FAIL",t)}function Je(e,t){return Object(a.b)(Object(r.sc)(e),"GET_CLIENT_CHAT_FILES_START","GET_CLIENT_CHAT_FILES_SUCCESS","GET_CLIENT_CHAT_FILES_FAIL",t)}function Ze(e,t){return Object(a.b)(Object(r.sc)(e),"GET_CLIENT_POST_FILES_START","GET_CLIENT_POST_FILES_SUCCESS","GET_CLIENT_POST_FILES_FAIL",t)}function Xe(e,t){return Object(a.b)(Object(r.sc)(e),"GET_PRIVATE_POST_FILES_START","GET_PRIVATE_POST_FILES_SUCCESS","GET_PRIVATE_POST_FILES_FAIL",t)}function $e(e,t){return Object(a.b)(Object(r.Ae)(e),"REMOVE_FILE_DOWNLOAD_START","REMOVE_FILE_DOWNLOAD_SUCCESS","REMOVE_FILE_DOWNLOAD_FAIL",t)}function et(e,t){return Object(a.a)("INCOMING_REMOVED_FILE_AFTER_DOWNLOAD",e,t)}function tt(e,t){return Object(a.a)("INCOMING_REMOVED_FILE_AUTOMATICALLY",e,t)}},function(e,t,n){"use strict";n.d(t,"y",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"T",(function(){return s})),n.d(t,"I",(function(){return l})),n.d(t,"H",(function(){return d})),n.d(t,"G",(function(){return u})),n.d(t,"C",(function(){return m})),n.d(t,"P",(function(){return p})),n.d(t,"W",(function(){return f})),n.d(t,"K",(function(){return b})),n.d(t,"L",(function(){return h})),n.d(t,"a",(function(){return _})),n.d(t,"j",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return A})),n.d(t,"E",(function(){return v})),n.d(t,"s",(function(){return j})),n.d(t,"U",(function(){return C})),n.d(t,"z",(function(){return T})),n.d(t,"F",(function(){return y})),n.d(t,"M",(function(){return S})),n.d(t,"O",(function(){return w})),n.d(t,"J",(function(){return k})),n.d(t,"R",(function(){return N})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return x})),n.d(t,"A",(function(){return I})),n.d(t,"u",(function(){return P})),n.d(t,"Z",(function(){return D})),n.d(t,"l",(function(){return L})),n.d(t,"Y",(function(){return F})),n.d(t,"r",(function(){return M})),n.d(t,"V",(function(){return U})),n.d(t,"N",(function(){return G})),n.d(t,"c",(function(){return H})),n.d(t,"D",(function(){return B})),n.d(t,"Q",(function(){return W})),n.d(t,"S",(function(){return Y})),n.d(t,"g",(function(){return z})),n.d(t,"B",(function(){return V})),n.d(t,"t",(function(){return Q})),n.d(t,"v",(function(){return q})),n.d(t,"w",(function(){return K})),n.d(t,"x",(function(){return J})),n.d(t,"X",(function(){return Z})),n.d(t,"n",(function(){return X})),n.d(t,"o",(function(){return $})),n.d(t,"m",(function(){return ee})),n.d(t,"p",(function(){return te})),n.d(t,"q",(function(){return ne}));var a=n(8),r=n(10);function i(e,t){return Object(a.b)(Object(r.Ic)(e),"GET_WORKSPACES_START","GET_WORKSPACES_SUCCESS","GET_WORKSPACES_FAIL",t)}function c(e,t){return Object(a.b)(Object(r.m)(e),"CREATE_WORKSPACE_START","CREATE_WORKSPACE_SUCCESS","CREATE_WORKSPACE_FAIL",t)}function o(e,t){return Object(a.b)(Object(r.R)(e),"GET_WORKSPACE_DETAIL_START","GET_WORKSPACE_DETAIL_SUCCESS","GET_WORKSPACE_DETAIL_FAIL",t)}function s(e,t){return Object(a.b)(Object(r.Ne)(e),"UPDATE_WORKSPACE_START","UPDATE_WORKSPACE_SUCCESS","UPDATE_WORKSPACE_FAIL",t)}function l(e,t){return Object(a.a)("INCOMING_WORKSPACE_FOLDER",e,t)}function d(e,t){return Object(a.a)("INCOMING_WORKSPACE",e,t)}function u(e,t){return Object(a.a)("INCOMING_UPDATED_WORKSPACE_FOLDER",e,t)}function m(e,t){return Object(a.a)("INCOMING_MOVED_TOPIC",e,t)}function p(e,t){return Object(a.a)("SET_ACTIVE_TOPIC",e,t)}function f(e,t){return Object(a.a)("UPDATE_WORKSPACE_POST_FILTER_SORT",e,t)}function b(e,t){return Object(a.b)(Object(r.Lc)(e),"JOIN_WORKSPACE_START","JOIN_WORKSPACE_SUCCESS","JOIN_WORKSPACE_FAIL",t)}function h(e,t){return Object(a.a)("JOIN_WORKSPACE_REDUCER",e,t)}function _(e,t){return Object(a.a)("ADD_POST_SEARCH_RESULT",e,t)}function O(e,t){return Object(a.b)(Object(r.V)(e),"FETCH_WORKSPACE_PRIMARY_FILES_START","FETCH_WORKSPACE_PRIMARY_FILES_SUCCESS","FETCH_WORKSPACE_PRIMARY_FILES_FAIL",t)}function E(e,t){return Object(a.a)("ADD_PRIMARY_FILES",e,t)}function g(e,t){return Object(a.b)(Object(r.S)(e),"FETCH_WORKSPACE_MEMBERS_START","FETCH_WORKSPACE_MEMBERS_SUCCESS","FETCH_WORKSPACE_MEMBERS_FAIL",t)}function A(e,t){return Object(a.b)(Object(r.Y)(e),"FETCH_TIMELINE_START","FETCH_TIMELINE_SUCCESS","FETCH_TIMELINE_FAIL",t)}function v(e,t){return Object(a.a)("INCOMING_TIMELINE",e,t)}function j(e,t){return Object(a.b)(Object(r.pc)(e),"GET_WORKSPACE_START","GET_WORKSPACE_SUCCESS","GET_WORKSPACE_FAIL",t)}function C(e,t){return Object(a.a)("UPDATE_WORKSPACE_COUNTER",e,t)}function T(e,t){return Object(a.a)("ARCHIVE_REDUCER",e,t)}function y(e,t){return Object(a.a)("UNARCHIVE_REDUCER",e,t)}function S(e,t){return Object(a.a)("LEAVE_WORKSPACE",e,t)}function w(e,t){return Object(a.b)(Object(r.Qd)(e),"ADD_WORKSPACE_ROLE_START","ADD_WORKSPACE_ROLE_SUCCESS","ADD_WORKSPACE_ROLE_FAIL",t)}function k(e,t){return Object(a.a)("INCOMING_WORKSPACE_ROLE",e,t)}function N(e,t){return Object(a.a)("SET_WORKSPACE_TO_DELETE",e,t)}function R(e,t){return Object(a.b)(Object(r.O)(e),"DELETE_WORKSPACE_ROLE_START","DELETE_WORKSPACE_ROLE_SUCCESS","DELETE_WORKSPACE_ROLE_FAIL",t)}function x(e,t){return Object(a.b)(Object(r.N)(e),"DELETE_WORKSPACE_FOLDER_START","DELETE_WORKSPACE_FOLDER_SUCCESS","DELETE_WORKSPACE_FOLDER_FAIL",t)}function I(e,t){return Object(a.a)("INCOMING_DELETED_WORKSPACE_FOLDER",e,t)}function P(e,t){return Object(a.b)(Object(r.vc)(e),"GET_FOLDER_START","GET_FOLDER_SUCCESS","GET_FOLDER_FAIL",t)}function D(e,t){return Object(a.a)("UPDATE_WORKSPACE_TIMELINE_PAGE",e,t)}function L(e,t){return Object(a.b)(Object(r.bb)(e),"GET_ALL_WORKSPACE_START","GET_ALL_WORKSPACE_SUCCESS","GET_ALL_WORKSPACE_FAIL",t)}function F(e,t){return Object(a.a)("UPDATE_WORKSPACE_SEARCH",e,t)}function M(e,t){return Object(a.b)(Object(r.jc)(e),"GET_UNREAD_WORKSPACE_POSTS_ENTRIES_START","GET_UNREAD_WORKSPACE_POSTS_ENTRIES_SUCCESS","GET_UNREAD_WORKSPACE_POSTS_ENTRIES_FAIL",t)}function U(e,t){return Object(a.a)("UPDATE_WORKSPACE_POST_COUNT",e,t)}function G(e,t){return Object(a.b)(Object(r.Fd)(e),"POST_RESEND_INVITE_START","POST_RESEND_INVITE_SUCCESS","POST_RESEND_INVITE_FAIL",t)}function H(e,t){return Object(a.b)(Object(r.l)(e),"CREATE_TEAM_CHANNEL_START","CREATE_TEAM_CHANNEL_SUCCESS","CREATE_TEAM_CHANNEL_FAIL",t)}function B(e,t){return Object(a.a)("INCOMING_TEAM_CHANNEL",e,t)}function W(e,t){return Object(a.a)("SET_CHANNEL_IS_TRANSLATE",e,t)}function Y(e,t){return Object(a.b)(Object(r.Rd)(e),"UPDATE_CHANNEL_IS_TRANSLATE","UPDATE_CHANNEL_IS_TRANSLATE_SUCCESS","UPDATE_CHANNEL_IS_TRANSLATE_FAILURE",t)}function z(e,t){return Object(a.b)(Object(r.P)(e),"FAVOURITE_WORKSPACE_START","FAVOURITE_WORKSPACE_SUCCESS","FAVOURITE_WORKSPACE_FAIL",t)}function V(e,t){return Object(a.a)("INCOMING_FAVOURITE_WORKSPACE",e,t)}function Q(e,t){return Object(a.b)(Object(r.uc)(e),"GET_WORKSPACE_FILTER_COUNT_START","GET_WORKSPACE_FILTER_COUNT_SUCCESS","GET_WORKSPACE_FILTER_COUNT_FAIL",t)}function q(e,t){return Object(a.b)(Object(r.Ec)(e),"GET_WORKSPACE_REMINDERS_START","GET_WORKSPACE_REMINDERS_SUCCESS","GET_WORKSPACE_REMINDERS_FAIL",t)}function K(e,t){return Object(a.a)("GET_WORKSPACE_REMINDERS_CALLBACK",e,t)}function J(e,t){return Object(a.b)(Object(r.Fc)(e),"GET_WORKSPACE_REMINDERS_COUNT_START","GET_WORKSPACE_REMINDERS_COUNT_SUCCESS","GET_WORKSPACE_REMINDERS_COUNT_FAIL",t)}function Z(e,t){return Object(a.a)("UPDATE_WORKSPACE_REMINDERS_COUNT",e,t)}function X(e,t){return Object(a.b)(Object(r.Gb)(e),"GET_FAVORITE_WORKSPACE_COUNTERS_START","GET_FAVORITE_WORKSPACE_COUNTERS_SUCCESS","GET_FAVORITE_WORKSPACE_COUNTERS_FAIL",t)}function $(e,t){return Object(a.b)(Object(r.Hb)(e),"GET_FAVORITE_WORKSPACES_START","GET_FAVORITE_WORKSPACES_SUCCESS","GET_FAVORITE_WORKSPACES_FAIL",t)}function ee(e,t){return Object(a.a)("GET_DONE_WORKSPACE_REMINDERS_CALLBACK",e,t)}function te(e,t){return Object(a.a)("GET_OVERDUE_WORKSPACE_REMINDERS_CALLBACK",e,t)}function ne(e,t){return Object(a.a)("GET_TODAY_WORKSPACE_REMINDERS_CALLBACK",e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return b}));var a=n(6),r=(n(166),n(345)),i=(n(346),n(0)),c=n.n(i),o=n(52),s=(n(53),function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return decodeURIComponent(a[1])}return null}),l=function(e){var t={},n=document.createElement("a");n.href=e;for(var a=n.search.substring(1).split("&"),r=0;r<a.length;r++){var i=a[r].split("=");t[i[0]]=decodeURIComponent(i[1])}return t},d=function(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)},u=function(){var e=new r.DeviceUUID,t="";return t=o.isMobile?"".concat(o.mobileVendor).concat(o.mobileModel,":").concat(o.osName).concat(o.osVersion):"".concat(o.osName).concat(o.osVersion),{serial:e.get(),device:t,browser:o.browserName}};function m(e,t,n){var a=document.createElement("textarea");a.style.position="fixed",a.style.top=0,a.style.left=0,a.style.opacity=0,a.style.width="2em",a.style.height="2em",a.style.padding=0,a.style.border="none",a.style.outline="none",a.style.boxShadow="none",a.style.background="transparent",a.value=t,document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy")&&e.info(n)}catch(r){e.error(c.a.createElement(c.a.Fragment,null,"Oops, unable to copy ",c.a.createElement("b",null,t))),console.error("Fallback: Oops, unable to copy",r)}document.body.removeChild(a)}var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Link copied to the clipboard.";navigator.clipboard?navigator.clipboard.writeText(t).then((function(){e.info(n)}),(function(n){e.error(c.a.createElement(c.a.Fragment,null,"Oops, unable to copy ",c.a.createElement("b",null,t))),console.error("Async: Could not copy text: ",n)})):m(e,t,n)},f=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=new XMLHttpRequest;return n.open("HEAD",e,t),n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Accept","application/json"),n.send(),0!==n.status&&n.status}catch(a){return!1}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!1===t.encode?Object.entries(e).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&"):Object.entries(e).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&")}},,function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return j.a})),n.d(t,"j",(function(){return C.a})),n.d(t,"d",(function(){return z})),n.d(t,"c",(function(){return ae})),n.d(t,"a",(function(){return se})),n.d(t,"k",(function(){return ue})),n.d(t,"f",(function(){return me.a})),n.d(t,"e",(function(){return Ce})),n.d(t,"g",(function(){return Ne})),n.d(t,"b",(function(){return Me}));n(193);var a=n(1),r=n(27),i=n(2),c=n(0),o=n.n(c),s=n(40),l=n(71),d=n(3),u=n(7),m=n(9),p=n(44),f=n(363);function b(){var e=Object(i.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  color: #505050 !important;\n  max-width: 2rem;\n  max-height: 2rem;\n"]);return b=function(){return e},e}function h(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: #deebff;\n  }\n  > div {\n    display: flex;\n    align-items: center;\n  }\n\n  .workspaces {\n    display: block;\n    font-size: 12px;\n    width: 100%;\n  }\n"]);return h=function(){return e},e}var _=d.a.div(h()),O=Object(d.a)(u.a)(b()),E=function(e){return o.a.createElement(_,null,o.a.createElement(s.f.Option,e,e.data&&o.a.createElement(o.a.Fragment,null,o.a.createElement(O,{className:"react-select-avatar",key:e.data.id,imageLink:e.data.profile_image_thumbnail_link?e.data.profile_image_thumbnail_link:e.data.profile_image_link,name:e.data.name,partialName:e.data.partial_name}),o.a.createElement("div",null,e.children,e.data.has_accepted&&"external"===e.data.type&&o.a.createElement("div",{className:"ml-1 badge badge-info"},e.data.dictionary&&e.data.dictionary.peopleExternal),!e.data.has_accepted&&"external"===e.data.type&&o.a.createElement("div",{className:"ml-1 badge badge-info"},e.data.dictionary&&e.data.dictionary.peopleInvited),e.data.workspaces&&e.data.workspaces.length&&o.a.createElement("span",{className:"workspaces"},e.data.workspaces&&e.data.workspaces.join(", "))))))},g=function(e){var t=e.children,n=e.selectProps,a=Object(r.a)(e,["children","selectProps"]);return o.a.createElement("div",{onClick:function(){a.data.has_accepted||"string"!==typeof a.data.id||n.onEmailClick(a.data)},className:a.data.has_accepted||"string"!==typeof a.data.id?"has-accepted":"has-not-accepted"},o.a.createElement(s.f.MultiValueLabel,a,t))},A=function(e){var t=e.children,n=(e.selectProps,Object(r.a)(e,["children","selectProps"])),i=t.map((function(e,t){return 0===t?Object(a.a)(Object(a.a)({},e),{},{props:Object(a.a)(Object(a.a)({},e.props),{},{children:n.data.first_name&&""!==n.data.first_name.trim()?n.data.first_name:n.data.email})}):e}));return o.a.createElement(s.f.MultiValueContainer,n,i)},v=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.isMulti,c=void 0===i||i,s=e.isClearable,d=void 0!==s&&s,u=e.creatable,b=void 0!==u&&u,h=Object(r.a)(e,["className","isMulti","isClearable","creatable"]),_=Object(m.S)().generalSettings.dark_mode;return b?o.a.createElement(f.a,Object.assign({ref:t,className:"react-select-container ".concat(a),styles:"0"===_?p.b:p.a,isMulti:c,isClearable:d,components:{Option:E,MultiValueLabel:g}},h,{onCreateOption:e.onCreateOption,onEmailClick:e.onEmailClick})):o.a.createElement(l.a,Object.assign({ref:t,className:"react-select-container ".concat(a),styles:"0"===_?p.b:p.a,isMulti:c,isClearable:d,components:{Option:E,MultiValueContainer:A}},h))})),j=n(92),C=n(65);n(104);function T(){var e=Object(i.a)(["\n  padding: 0 5px;\n  display: flex;\n  align-items: center;\n  ","\n"]);return T=function(){return e},e}function y(){var e=Object(i.a)(["\n  svg {\n    width: 0.8rem;\n    height: 0.8rem;\n  }\n  .value-remove {\n    > div:first-child {\n      display: none;\n    }\n    > div:last-child:hover {\n      background-color: ",";\n      color: #fff;\n    }\n    display: flex;\n    align-items: center;\n    -webkit-box-align: center;\n    align-items: center;\n    border-radius: 2px;\n    display: flex;\n    box-sizing: border-box;\n    :hover {\n      // background-color: rgb(255, 189, 173);\n      // color: rgb(222, 53, 11);\n      background-color: ",";\n      color: #fff;\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function S(){var e=Object(i.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  color: #505050 !important;\n  max-width: 2rem;\n  max-height: 2rem;\n"]);return S=function(){return e},e}function w(){var e=Object(i.a)(["\n  width: 1rem;\n  height: 1rem;\n  margin-left: 5px;\n"]);return w=function(){return e},e}function k(){var e=Object(i.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  width: 2rem;\n  height: 2rem;\n"]);return k=function(){return e},e}function N(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]);return N=function(){return e},e}var R,x,I,P,D,L,F=d.a.div(N()),M=Object(d.a)(u.s)(k()),U=Object(d.a)(u.s)(w()),G=Object(d.a)(u.a)(S()),H=d.a.div(y(),(function(e){return e.isPrivate?"#1E90FF":"#7a1b8b"}),(function(e){return e.isPrivate?"#1E90FF":"#7a1b8b"}),(function(e){return e.isPrivate&&"\n      > div {\n        background: #f44;\n        color: #fff;\n      }\n    "})),B=d.a.div(T(),(function(e){return e.isPrivate&&"\n      background: #f44;\n      color: #fff;\n    "})),W=function(e){return o.a.createElement(F,null,o.a.createElement(s.f.Option,e,e.data&&o.a.createElement("span",{className:"d-flex justify-content-start align-items-center"},"user-avatar"===e.data.icon?o.a.createElement(G,{className:"react-select-avatar mr-2",key:e.data.id,imageLink:e.data.profile_image_thumbnail_link?e.data.profile_image_thumbnail_link:e.data.profile_image_link,name:e.data.name,partialName:e.data.partial_name}):e.data.icon&&o.a.createElement(M,{className:"mr-2",icon:e.data.icon?e.data.icon:"folder"}),e.children,1===e.data.is_lock&&o.a.createElement(U,{className:"ml-1",icon:"lock",strokeWidth:"2",width:"12"}),e.data.is_shared&&o.a.createElement(U,{className:"ml-1",icon:"eye",strokeWidth:"2",width:"12"}),e.data.huddle&&o.a.createElement(U,{className:"ml-1",icon:"cpu",strokeWidth:"2",width:"12"}))))},Y=function(e){var t=e.children,n=(e.selectProps,Object(r.a)(e,["children","selectProps"]));return o.a.createElement(H,{isPrivate:1===n.data.is_lock},o.a.createElement(s.f.MultiValueContainer,n,o.a.createElement(s.f.MultiValueLabel,n,o.a.createElement(B,{isPrivate:1===n.data.is_lock},n.data.label,1===n.data.is_lock&&o.a.createElement(U,{className:"ml-1",icon:"lock",strokeWidth:"2",width:"12",height:"12"}),n.data.is_shared&&o.a.createElement(U,{className:"ml-1",icon:"eye",strokeWidth:"2",width:"12",height:"12"}))),o.a.createElement(s.f.MultiValueRemove,Object.assign({},n,{innerProps:{className:"value-remove"}}),t)))},z=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.isMulti,c=void 0!==i&&i,s=e.isClearable,d=void 0!==s&&s,u=Object(r.a)(e,["className","isMulti","isClearable"]),f=Object(m.S)().generalSettings.dark_mode,b={Option:W};return c&&(b={Option:W,MultiValueContainer:Y}),o.a.createElement(l.a,Object.assign({ref:t,className:"react-select-container ".concat(a),styles:"0"===f?p.b:p.a,isMulti:c,isClearable:d,components:b},u))})),V=n(11),Q=n(6),q=n(699),K=n(706),J=["className","onChange","showFileButton","onOpenFileDialog","defaultValue","valid","feedback","members","workspaces","disableMention","disableBodyMention","mentionedUserIds","onAddUsers","onDoNothing","modal","setInlineImages","setImageLoading","prioMentionIds"],Z=Object(d.a)(q.a)(R||(R=Object(i.a)(["\n  display: flex;\n  align-items: baseline;\n  margin: 20px 0;\n  position: relative;\n  label {\n    white-space: nowrap;\n    margin: 0 20px 0 0;\n    min-width: 109px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  .description-wrapper {\n    margin-bottom: 25px;\n    min-height: 133px;\n    &.is-invalid {\n      border-color: #dc3545;\n      padding-right: calc(1.5em + 0.75rem);\n      background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");\n      background-repeat: no-repeat;\n      background-position: right 0.5rem top 0.5rem;\n      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n\n      .action-wrapper {\n        margin-right: -32px;\n      }\n    }\n    &.is-valid {\n      border-color: #28a745;\n      padding-right: calc(1.5em + 0.75rem);\n      background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");\n      background-repeat: no-repeat;\n      background-position: right 0.5rem top 0.5rem;\n      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n\n      .action-wrapper {\n        margin-right: -32px;\n      }\n    }\n  }\n  .invalid-feedback {\n    display: block;\n    top: 55px;\n    position: relative;\n    left: 0px;\n    @media (max-width: 620px) {\n      position: absolute;\n      right: 0;\n      bottom: -20px;\n      left: auto;\n      top: auto;\n      text-align: right;\n    }\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n  .mention {\n    color: #7a1b8b;\n  }\n"]))),X=Object(d.a)(j.a)(x||(x=Object(i.a)(["\n  height: ","px;\n\n  &.description-input {\n    // overflow: auto;\n    // overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: 0;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n"])),(function(e){return e.height})),$=Object(d.a)(u.s)(I||(I=Object(i.a)(["\n  cursor: pointer;\n  border: 1px solid #afb8bd;\n  height: 1.5rem;\n  margin: -1px 8px;\n  width: 1.5rem;\n  padding: 5px;\n  border-radius: 8px;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  &:hover {\n    background: #afb8bd;\n    color: #ffffff;\n  }\n  &.feather-send {\n    border: 1px solid #7a1b8b;\n    background-color: #7a1b8b;\n    color: #fff;\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    &:hover {\n      background-color: #8c3b9b;\n    }\n  }\n"]))),ee=d.a.div(P||(P=Object(i.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  border: 1px solid #afb8bd;\n  border-radius: 5px;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]))),te=d.a.div(D||(D=Object(i.a)(["\n  padding: 5px;\n  display: flex;\n  justify-content: flex-end;\n"]))),ne=Object(d.a)(u.f)(L||(L=Object(i.a)(["\n  left: 15px;\n  bottom: 65px;\n\n  .common-picker-btn {\n    text-align: left;\n  }\n"]))),ae=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.onChange,i=e.showFileButton,s=void 0!==i&&i,l=e.onOpenFileDialog,d=e.defaultValue,p=void 0===d?"":d,f=e.valid,b=void 0===f?null:f,h=e.feedback,_=void 0===h?"":h,O=e.members,E=void 0===O?[]:O,g=e.workspaces,A=void 0===g?[]:g,v=e.disableMention,j=void 0!==v&&v,C=e.disableBodyMention,T=void 0!==C&&C,y=e.mentionedUserIds,S=e.onAddUsers,w=e.onDoNothing,k=e.modal,N=void 0===k?"post":k,R=e.setInlineImages,x=void 0===R?null:R,I=e.setImageLoading,P=void 0===I?null:I,D=e.prioMentionIds,L=void 0===D?[]:D,F=Object(r.a)(e,J),M=Object(m.cb)()._t,U=Object(c.useRef)(),G=Object(c.useRef)(),H={description:M("POST.DESCRIPTION","Description")},B=Object(c.useState)(!1),W=Object(Q.a)(B,2),Y=W[0],z=W[1],q=function(){z(!Y)},ae=Object(m.M)({mode:"description",mentionOrientation:"top",quillRef:U,members:E,workspaces:A,disableMention:j,setInlineImages:x,setImageLoading:P,prioMentionIds:Object(V.a)(new Set(L))}).modules;return o.a.createElement(Z,{className:"description-input ".concat(n)},o.a.createElement(K.a,{for:"firstMessage"},H.description),o.a.createElement(ee,{className:"description-wrapper ".concat(null===b?"":b?"is-valid":"is-invalid")},o.a.createElement(X,Object.assign({className:"description-input",modules:ae,ref:U,onChange:a,height:80,defaultValue:p},F)),y.length>0&&!T&&o.a.createElement(u.d,{onAddUsers:S,onDoNothing:w,userIds:y,baseOnId:!1,type:N}),o.a.createElement(te,{className:"action-wrapper"},o.a.createElement($,{onClick:q,icon:"smile"}),s&&o.a.createElement($,{onClick:l,icon:"paperclip"})),o.a.createElement(me.a,{valid:b},_)),!0===Y&&o.a.createElement(ne,{handleShowEmojiPicker:q,onSelectEmoji:function(e){var t=U.current.getEditor();U.current.focus();var n=t.getSelection().index;t.insertText(n,e.native),t.setSelection(n+2)},onSelectGif:function(e){var t=U.current.getEditor();U.current.focus();var n=t.getSelection().index;t.insertEmbed(n,"image",e.images.downsized.url),t.setSelection(n+5)},orientation:"top",ref:G}))}));function re(){var e=Object(i.a)(["\n  cursor: pointer;\n\n  label {\n    cursor: pointer;\n  }\n"]);return re=function(){return e},e}var ie,ce=d.a.div(re()),oe=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.type,c=void 0===i?"":i,s=e.checked,l=void 0!==s&&s,d=e.name,u=e.onClick,m=e.children,p=Object(r.a)(e,["className","type","checked","name","onClick","children"]),f="";return""!==c&&(f="custom-checkbox-".concat(c," ")),o.a.createElement(ce,{"data-name":d,className:"custom-control custom-checkbox ".concat(f).concat(a),onClick:u},o.a.createElement("input",Object.assign({ref:t,name:d,"data-name":d,type:"checkbox",className:"custom-control-input",checked:l,readOnly:!0},p)),o.a.createElement("label",{"data-name":d,className:"custom-control-label"},m))})),se=o.a.memo(oe),le=["className","type","checked","name","onClick","children","disabled"],de=d.a.div(ie||(ie=Object(i.a)(["\n  position: relative;\n  min-height: 1rem;\n  input {\n    cursor: ",";\n  }\n  .cci {\n    z-index: 1;\n    position: absolute;\n    width: 18px;\n    height: 18px;\n    opacity: 0;\n  }\n  .ccl {\n    cursor: pointer;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n\n    span {\n      display: inline-block;\n      vertical-align: middle;\n      transform: translate3d(0, 0, 0);\n    }\n    span:first-child {\n      position: relative;\n      width: 18px;\n      height: 18px;\n      border-radius: 3px;\n      transform: scale(1);\n      vertical-align: middle;\n      border: 1px solid #9098a9;\n      transition: all 0.2s ease;\n\n      svg {\n        position: absolute;\n        // top: 3px;\n        // left: 2px;\n        fill: none;\n        stroke: #ffffff;\n        stroke-width: 2;\n        stroke-linecap: round;\n        stroke-linejoin: round;\n        stroke-dasharray: 16px;\n        stroke-dashoffset: 16px;\n        transition: all 0.3s ease;\n        transition-delay: 0.1s;\n        transform: translate3d(0, 0, 0);\n        width: 8px;\n        height: 9px;\n        top: 4px;\n        left: 4px;\n        stroke-width: 3;\n      }\n    }\n  }\n  .cci.cci-active + .ccl {\n    span:first-child {\n      background: #506eec;\n      border-color: #506eec;\n      animation: wave 0.4s ease;\n\n      svg {\n        stroke-dashoffset: 0;\n      }\n    }\n  }\n"])),(function(e){return e.disabled?"not-allowed":"pointer"})),ue=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.type,i=void 0===a?"":a,s=e.checked,l=void 0!==s&&s,d=e.name,u=e.onClick,m=e.children,p=e.disabled,f=void 0!==p&&p,b=Object(r.a)(e,le),h=Object(c.useState)(l),_=Object(Q.a)(h,2),O=_[0],E=_[1],g="";""!==i&&(g="custom-checkbox-".concat(i," "));var A={checkbox:Object(c.useRef)(null)};return Object(c.useEffect)((function(){O!==l&&E((function(e){return!e}))}),[l,O]),o.a.createElement(de,{"data-name":d,className:"custom-control custom-checkbox ".concat(g).concat(n),onClick:function(e){e.preventDefault(),e.stopPropagation(),E((function(e){return!e})),setTimeout((function(){u(e)}),300)},disabled:f},o.a.createElement("input",Object.assign({ref:A.checkbox,name:d,"data-name":d,type:"checkbox",className:"cci ".concat(O?"cci-active":""),checked:O,readOnly:!0},b,{disabled:f})),o.a.createElement("label",{"data-name":d,className:"ccl"},o.a.createElement("span",null,o.a.createElement("svg",{width:"12px",height:"10px",viewBox:"0 0 12 10"},o.a.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))),o.a.createElement("span",null,m)))})),me=n(242),pe=(n(192),n(700));function fe(){var e=Object(i.a)(["\n    .form-control {\n        margin-bottom: 0 !important;\n        border-radius: 6px !important;\n    }\n            \n    .invalid-feedback {\n        text-align: left;\n    }\n"]);return fe=function(){return e},e}var be,he,_e,Oe,Ee,ge,Ae,ve,je=d.a.div(fe()),Ce=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.type,i=void 0===a?"text":a,c=e.name,s=e.onChange,l=e.defaultValue,d=void 0===l?"":l,u=e.isValid,m=void 0===u?null:u,p=e.feedback,f=void 0===p?null:p,b=Object(r.a)(e,["className","type","name","onChange","defaultValue","isValid","feedback"]);return o.a.createElement(je,{className:"form-group ".concat(n),isValid:m},o.a.createElement(q.a,null,o.a.createElement(pe.a,Object.assign({name:c,onChange:s,defaultValue:d,type:i,valid:m,invalid:null===m?m:!m},b)),o.a.createElement(me.a,{valid:m},f)))})),Te=n(701),ye=n(238),Se=["className","name","placeholder","onChange","defaultValue","isValid","feedback"],we=d.a.div(be||(be=Object(i.a)(["\n  .form-control {\n    margin-bottom: 0 !important;\n  }\n\n  .input-group-text {\n    height: 36px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: ",";\n    border-left: none;\n    border-radius: 0 6px 6px 0 !important;\n  }\n\n  .invalid-feedback {\n    text-align: left;\n  }\n"])),(function(e){return null===e.isValid?"#e9ecef":e.isValid?"#28a745":"#dc3545"})),ke=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.name,s=void 0===i?"password":i,l=e.placeholder,d=void 0===l?"Password":l,m=e.onChange,p=e.defaultValue,f=void 0===p?"":p,b=e.isValid,h=void 0===b?null:b,_=e.feedback,O=void 0===_?null:_,E=Object(r.a)(e,Se),g=Object(c.useState)(!1),A=Object(Q.a)(g,2),v=A[0],j=A[1];return o.a.createElement(we,{className:"form-group ".concat(a),isValid:h},o.a.createElement(q.a,null,o.a.createElement(pe.a,Object.assign({innerRef:t,name:s,onChange:m,placeholder:d,defaultValue:f,type:v?"text":"password",valid:h,invalid:null===h?h:!h},E,{required:!0})),o.a.createElement(Te.a,{className:"btn-toggle",addonType:"append"},o.a.createElement(ye.a,{className:"btn",onClick:function(){j((function(e){return!e}))}},o.a.createElement(u.s,{icon:v?"eye-off":"eye"}))),o.a.createElement(me.a,{valid:h},O)))})),Ne=o.a.memo(ke),Re=n(5),xe=n(120),Ie=n(17),Pe=d.a.div(he||(he=Object(i.a)(["\n  &.chat-input-wrapper:focus-within {\n    border: none;\n  }\n"]))),De=Object(d.a)(j.a)(_e||(_e=Object(i.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n\n    &:focus {\n      border: none;\n    }\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    "," .mention {\n      color: #7a1b8b;\n    }\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"])),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"})),Le=d.a.div(Oe||(Oe=Object(i.a)(["\n  padding: 5px;\n  font-size: 0.8rem;\n  > span {\n    cursor: pointer;\n  }\n  span.active {\n    text-decoration: underline;\n  }\n"]))),Fe=d.a.span(Ee||(Ee=Object(i.a)(["\n  position: absolute;\n  top: 105%;\n  font-size: 0.8rem;\n"]))),Me=Object(c.forwardRef)((function(e,t){var r=e.selectedEmoji,i=e.onClearEmoji,s=e.selectedGif,l=e.onClearGif,d=e.dropAction,u=e.sent,p=e.handleClearSent,f=e.post,b=e.parentId,h=e.commentActions,_=e.userMention,O=e.handleClearUserMention,E=e.commentId,g=e.onActive,A=e.onClosePicker,v=e.prioMentionIds,j=e.approvers,C=e.onClearApprovers,T=e.onSubmitCallback,y=e.mainInput,S=(e.readOnly,e.onToggleCommentType),w=e.commentType,k=e.imageLoading,N=void 0===k?null:k,R=e.setImageLoading,x=void 0===R?null:R,I=Object(Re.useDispatch)(),P=Object(c.useRef)(),D=Object(Re.useSelector)((function(e){return e.session.user})),L=Object(Re.useSelector)((function(e){return e.posts.editPostComment})),F=Object(Re.useSelector)((function(e){return e.users.users})),M=Object(Re.useSelector)((function(e){return e.global.recipients})),U=Object(Re.useSelector)((function(e){return e.workspaces.workspaces})),G=Object(c.useState)(""),H=Object(Q.a)(G,2),B=H[0],W=H[1],Y=Object(c.useState)(""),z=Object(Q.a)(Y,2),q=z[0],K=z[1],J=Object(c.useState)([]),Z=Object(Q.a)(J,2),X=Z[0],$=Z[1],ee=Object(c.useState)([]),te=Object(Q.a)(ee,2),ne=te[0],ae=te[1],re=Object(c.useState)([]),ie=Object(Q.a)(re,2),ce=ie[0],oe=ie[1],se=Object(c.useState)(!1),le=Object(Q.a)(se,2),de=le[0],ue=le[1],me=Object(c.useState)(null),pe=Object(Q.a)(me,2),fe=pe[0],be=pe[1],he=Object(c.useState)(null),_e=Object(Q.a)(he,2),Oe=_e[0],Ee=_e[1],ge=Object(c.useState)([]),Ae=Object(Q.a)(ge,2),ve=Ae[0],je=Ae[1],Ce=Object(m.g)(L&&f&&L.post_id===f.id&&L.quote?L.quote.id:E),Te=Object(Q.a)(Ce,1)[0],ye=Object(c.useState)([]),Se=Object(Q.a)(ye,2),we=Se[0],ke=Se[1],Ne=Object(c.useState)({}),Me=Object(Q.a)(Ne,2),Ue=Me[0],Ge=Me[1],He=Object(m.cb)()._t,Be={savingDraftLabel:He("DRAFT.SAVING_DRAFT","Saving draft..."),draftSavedLabel:He("DRAFT.SAVED","Draft saved"),addInternalNote:He("POST_COMMENT.ADD_INTERNAL_NOTE","Add internal note"),replyToCustomer:He("POST_COMMENT.REPLY_TO_CUSTOMER","Reply to customer")},We=Object(m.f)((function(e){e?(P.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.data.text),Ee(e.id),W(e.data.text)):Ee(null)}),"comment",B,q,Oe,E,f.id,b,Ee),Ye=We.removeDraft,ze=We.savingDraft,Ve=We.draftSaved,Qe=f.recipients.filter((function(e){return"DEPARTMENT"===e.type})).length>0,qe=function(){if(!N){var t=Math.floor(Date.now()/1e3),r=[],i=!1,c=n(64).generate(),o=f.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat();if(X.ops&&X.ops.length>0){var s=X.ops.filter((function(e){return e.insert.mention})).filter((function(e){return"internal"===e.insert.mention.type||"external"===e.insert.mention.type})).map((function(e){return Number(e.insert.mention.type_id)}));(r=Object(V.a)(new Set(s))).includes(NaN)&&(r=o.length?Object(V.a)(new Set([].concat(Object(V.a)(r.filter((function(e){return!isNaN(e)}))),Object(V.a)(o)))):r.filter((function(e){return!isNaN(e)}))),X.ops.forEach((function(e){e.insert.image&&(i=!0)}))}if(""!==q.trim()||0!==r.length||i){var l={post_id:f.id,body:B,mention_ids:r,file_ids:ve.map((function(e){return e.id})),post_file_ids:[],reference_id:c,personalized_for_id:null,parent_id:b,code_data:{push_title:"".concat(D.name," replied in ").concat(f.title),post_id:f.id,post_title:f.title},approval_user_ids:j.find((function(e){return"all"===e.value}))?j.find((function(e){return"all"===e.value})).all_ids:j.map((function(e){return e.value})).filter((function(e){return f.author.id!==e})),shared_with_client:!w||"internal"!==w};if(l.quote=Te?{id:Te.id,body:Te.body,user_id:Te.author?Te.author.id:Te.user_id,user:Te.author?Te.author:Te.user,files:Te.files}:null,!de){var d={author:D,body:B,clap_count:0,code:t,created_at:{timestamp:t},files:[],files_trashed:[],id:c,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:r,original_body:B,parent_id:b,personalized_for_id:null,post_id:f.id,quote:Te,reference_id:c,ref_quote:Te,replies:{},total_replies:0,todo_reminder:null,total_unread_replies:0,updated_at:{timestamp:t},unfurls:[],user_clap_count:0,clap_user_ids:[],users_approval:[]};h.add(d)}de?(l=Object(a.a)(Object(a.a)({},l),{},{id:fe.id,parent_id:fe.parent_id,reference_id:null}),L&&L.users_approval.find((function(e){return null!==e.ip_address&&e.is_approved}))&&delete l.approval_user_ids,h.edit(l),ue(!1),be(null)):(e.isApprover&&(l.has_rejected=1),h.create(l,T)),Te&&h.clearQuote(E),Oe&&(Ye(Oe),Ee(null)),Ue.hasOwnProperty("post_id")&&I(Object(Ie.f)(Ue,(function(e,t){e||I(Object(Ie.h)(Ue))}))),C(),Ke(),A(),S(null)}}},Ke=function(){K(""),W(""),$([]),je([]),P.current&&P.current.getEditor().setContents([]),null!==L&&I(Object(Ie.Mb)(null))},Je=function(e){if(e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)})),ke(e),e.length){var t=f.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),n=M.filter((function(e){return"USER"===e.type&&f.author.id===e.type_id||!("USER"!==e.type||!t.some((function(t){return t===e.type_id})))})).map((function(e){return e.id})),a=f.recipients.map((function(e){return e.id})),r=Object(V.a)(new Set([].concat(Object(V.a)(a),Object(V.a)(n),Object(V.a)(ce)))),i=e.filter((function(e){var t=!1;return r.forEach((function(n){n===parseInt(e)&&(t=!0)})),!t}));ae(i.length?i.map((function(e){return parseInt(e)})):[])}else oe([]),ae([])};Object(c.useEffect)((function(){_&&P.current.getEditor().clipboard.dangerouslyPasteHTML(0,_)}),[_]),Object(c.useEffect)((function(){P.current&&P.current.focus();var e=function(e){var t=[];if(e.clipboardData.items.length)for(var n=0;n<e.clipboardData.items.length;n++){var a=e.clipboardData.items[n];"file"===a.kind&&t.push(a.getAsFile(a.type))}t.length&&(d(t),I(Object(Ie.Nb)(b)))};return document.addEventListener("paste",e,!1),function(){return document.removeEventListener("paste",e,!1)}}),[]),Object(c.useEffect)((function(){var e=function(e){27===e.keyCode&&Ke()};return de?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[de]),Object(c.useEffect)((function(){var e;L&&!de&&null===fe&&y&&L.post_id===f.id&&(e=L,P.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),W(e.body),be(e),ue(!0),e.quote&&h.addQuote(e.quote)),null===L&&de&&fe&&Ze()}),[L]),Object(c.useEffect)((function(){if(r){var e=P.current.getEditor();P.current.focus();var t=e.getSelection().index;e.insertText(t,r.native),e.setSelection(t+2),i()}}),[r]),Object(c.useEffect)((function(){if(s){var e=P.current.getEditor();P.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",s.images.downsized.url),e.setSelection(t+5),l()}}),[s]),Object(c.useEffect)((function(){u&&(qe(),p())}),[u,w]);var Ze=function(){ue(!1),be(null),Ke(),C()};Object(m.O)(Ke,B,q,X),Object(m.L)(Ke,P);var Xe=Object(m.M)({mode:"post_comment",callback:qe,removeMention:function(){var e=[];f.hasOwnProperty("to_add")&&(e=f.to_add.filter((function(e){return!we.includes(e)})));var t={post_id:f.id,remove_recipient_ids:e};I(Object(Ie.Jb)(t))},mentionOrientation:"top",quillRef:P,members:Object.values(F).filter((function(e){return!!("external"===e.type&&v.some((function(t){return t===e.id}))||"internal"===e.type&&null!==e.role)})),workspaces:U||[],disableMention:!1,setInlineImages:je,setImageLoading:x,prioMentionIds:Object(V.a)(new Set(v)),post:f}).modules,$e=f.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return o.a.createElement(Pe,{className:"chat-input-wrapper",ref:t},$e&&f.shared_with_client&&"internal"===D.type&&o.a.createElement(Le,null,o.a.createElement("span",{className:w&&"internal"===w?"active":"",onClick:function(){return S("internal")}},Be.addInternalNote)," ","/"," ",o.a.createElement("span",{className:w&&"external"===w?"active":"",onClick:function(){return S("external")}},Be.replyToCustomer)),ne.length>0&&!Qe&&o.a.createElement(xe.a,{onAddUsers:function(e){var t=["USER","WORKSPACE","TOPIC"],n=M.filter((function(e){return t.includes(e.type)})).filter((function(t){return e.some((function(e){return e.id===t.id}))})),a={post_id:f.id,recipient_ids:n.map((function(e){return e.id})),recipients:n},r=f.recipients.map((function(e){return e.id}));Ge(a),oe([].concat(Object(V.a)(r),Object(V.a)(ce),Object(V.a)(e.map((function(e){return e.id}))))),ae([])},onDoNothing:function(e){oe(e.map((function(e){return e.id}))),ae([])},userIds:ne,basedOnId:!1}),o.a.createElement(De,{className:"chat-input",modules:Xe,ref:P,onChange:function(e,t,n,a){var r=a.getText(e);""===r.trim()&&_&&(O(),Ge({})),""===r.trim()&&de&&(ue(!1),be(null),Ge({}),null!==L&&I(Object(Ie.Mb)(null))),""===r.trim()&&Oe&&(Ye(Oe),Ee(null)),W(e),K(r),$(a.getContents());var i=!1,c=!1;a.getContents().ops&&a.getContents().ops.length&&(i=a.getContents().ops.filter((function(e){return e.insert.mention})).length,c=a.getContents().ops.filter((function(e){return e.insert.image})).length,Je(a.getContents().ops.filter((function(e){return!(!e.insert.mention||"external"===e.insert.mention.type)})).map((function(e){return e.insert.mention.id})))),""!==r.trim()||i||c?g(!0):g(!1)},editMode:de}),(ze||Ve)&&o.a.createElement(Fe,{className:"text-muted"},Ve?Be.draftSavedLabel:Be.savingDraftLabel))})),Ue=["className"],Ge=Object(d.a)(l.a)(ge||(ge=Object(i.a)(['\n  .dark & {\n    > div {\n      > div {\n        background-color: #25282c;\n        margin: 10px;\n        border-radius: 2px;\n        color: #fff;\n\n        > div {\n          color: #c7c7c7;\n\n          &[class$="indicatorContainer"] {\n            background: rgb(17, 20, 23);\n          }\n        }\n      }\n    }\n    [class$="menu"] {\n      > div {\n        > div {\n          > div {\n            //background: rgb(17, 20, 23);\n          }\n        }\n      }\n    }\n  }\n']))),He=d.a.div(Ae||(Ae=Object(i.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]))),Be=Object(d.a)(u.s)(ve||(ve=Object(i.a)(["\n  min-width: 1rem;\n  min-height: 1rem;\n  margin: -2px 10px 0 0;\n  border: none;\n"]))),We=function(e){return o.a.createElement(He,null,o.a.createElement(s.f.Option,e,e.data&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Be,{icon:e.data.icon}),e.children)))};Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,i=Object(r.a)(e,Ue),c=Object(m.cb)()._t,s={visibleAllInternal:c("POST.VISIBLE_ALL_INTERNAL","Visible to all internal members"),visibleAllWorkspace:c("POST.VISIBLE_ALL_WORKSPACE","Visible to all workspace members"),responsbileUsers:c("POST.VISIBLE_RESPONSIBLE_USERS","Visible to responsible users only")},l=Object(m.S)().generalSettings.dark_mode,d={Option:We},u=[{icon:"unlock",value:!1,label:s.visibleAllWorkspace},{icon:"lock",value:!0,label:s.responsbileUsers}];return o.a.createElement(Ge,Object.assign({ref:t,className:"react-select-container ".concat(a),styles:"0"===l?p.b:p.a,isMulti:!1,isClearable:!1,components:d,options:u},i))}))},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return P})),n.d(t,"a",(function(){return se}));var a,r,i,c,o,s=n(1),l=n(6),d=n(2),u=n(0),m=n.n(u),p=n(3),f=n(7),b=n(9),h=n(156),_=n(39),O=n(14),E=p.a.div(a||(a=Object(d.a)(["\n  position: absolute;\n  will-change: transform;\n  top: 0px;\n  right: 0px;\n  transform: translate3d(5px, 59px, 0px);\n\n  .list-group-item {\n    color: #828282;\n  }\n"]))),g=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.user,r=e.closeDropdown,i=Object(_.g)(),c=Object(b.eb)().processBackendLogout,o={container:Object(u.useRef)(null)},s=Object(b.cb)()._t,l={profile:s("PROFILE.PROFILE","Profile"),settings:s("PROFILE.SETTINGS","Settings"),signOut:s("PROFILE.SIGN_OUT","Sign out!")};return Object(b.F)(o.container,r,!0),m.a.createElement(E,{ref:o.container,className:"user-profile-dropdown dropdown-menu dropdown-menu-big show ".concat(n),"x-placement":"bottom-end"},m.a.createElement("div",{className:"p-3 text-center"},m.a.createElement(f.a,{name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,id:a.id,partialName:a.partial_name,showSlider:!1}),m.a.createElement("h6",{className:"d-flex align-items-center justify-content-center"},a.name,m.a.createElement("span",{className:"btn btn-primary btn-sm ml-2","data-toggle":"tooltip",title:"","data-original-title":"Edit profile",onClick:function(){o.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),i.push("/profile/".concat(a.id,"/").concat(Object(O.h)(a.name),"/edit"))}},m.a.createElement(f.s,{icon:"edit-2"})))),m.a.createElement("div",{className:"dropdown-menu-body"},m.a.createElement("div",{className:"list-group list-group-flush"},m.a.createElement("span",{className:"cursor-pointer list-group-item",onClick:function(){o.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),i.push("/profile/".concat(a.id,"/").concat(Object(O.h)(a.name),"/view"))}},l.profile),m.a.createElement("span",{className:"cursor-pointer list-group-item",onClick:function(){o.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),i.push("/settings")}},l.settings),m.a.createElement("span",{className:"cursor-pointer list-group-item text-danger",onClick:function(){o.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),c()}},l.signOut))))})),A=p.a.ul(r||(r=Object(d.a)(["\n  padding-left: 5px;\n  @media (max-width: 1200px) {\n    display: flex !important;\n    left: auto;\n    right: 0;\n    top: 0;\n    height: 45px;\n  }\n  > li {\n    position: relative;\n    .nav-link {\n      max-height: 45px;\n      padding: 10px 10px !important;\n      &.profile-button {\n        position: relative;\n        padding: 0 !important;\n        margin-left: 10px;\n        cursor: pointer;\n        .avatar-overlay {\n          position: absolute;\n          width: 45px;\n          height: 45px;\n          z-index: 1;\n        }\n        .avatar {\n          position: relative;\n          z-index: 0;\n        }\n        @media all and (max-width: 700px) {\n          margin-left: 4px;\n        }\n      }\n      @media (max-width: 620px) {\n        svg {\n          stroke: #363636;\n          width: 16px !important;\n          height: 16px !important;\n        }\n        &:not(.profile-button) {\n          margin: 0 4px;\n          &:first-of-type {\n            margin-right: 0;\n          }\n        }\n      }\n      @media all and (max-width: 920px) {\n        &.dark-mode-switch {\n          display: none !important;\n        }\n      }\n      @media all and (max-width: 700px) {\n        padding: 10px 4px !important;\n      }\n    }\n    .user-profile-dropdown {\n      position: absolute;\n      right: 0;\n      left: auto;\n      top: -10px;\n    }\n    .avatar-top-bar {\n      height: 2rem;\n      width: 2rem;\n    }\n    .notif-bell {\n      position: relative;\n    }\n    .notif-bell.active div {\n      filter: progid: DXImageTransform.Microsoft.BasicImage(rotation=0.25);\n      -webkit-transform: rotate(25deg);\n      -moz-transform: rotate(25deg);\n      -ms-transform: rotate(25deg);\n      -o-transform: rotate(25deg);\n      transform: rotate(25deg);\n      display: inline-block;\n    }\n  }\n"]))),v=p.a.span(i||(i=Object(d.a)(["\n  position: absolute;\n  top: 1px;\n  padding: 3px 5px;\n  right: 0;\n  z-index: 1;\n  min-width: 20px;\n  &.double {\n    right: -3px;\n  }\n  &.triple {\n    right: -8px;\n  }\n  @media (max-width: 414px) {\n    padding: 2px 3px;\n    font-size: 8px;\n    top: 5px;\n    &.single {\n      padding: 2px 0;\n      border-radius: 100%;\n      min-width: 14px;\n    }\n  }\n"]))),j=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,r=Object(b.gb)(),i=r.users,c=r.loggedUser,o=r.actions.fetchById,d=Object(b.E)().unreadNotifications,p=Object(b.S)(),O=p.generalSettings.dark_mode,E=p.setGeneralSetting,j=Object(u.useState)(null),C=Object(l.a)(j,2),T=C[0],y=C[1],S=Object(u.useState)({}),w=Object(l.a)(S,2),k=w[0],N=w[1],R=Object(u.useState)({}),x=Object(l.a)(R,2),I=x[0],P=x[1],D=Object(u.useState)(!1),L=Object(l.a)(D,2),F=L[0],M=L[1],U={container:Object(u.useRef)(null)};Object(u.useEffect)((function(){var e=document.body;"0"===O?e.classList.remove("dark"):e.classList.add("dark")}),[O]);Object(u.useEffect)((function(){N(c)}),[c.profile_image_link]),Object(u.useEffect)((function(){var e=i[c.id]?i[c.id]:{};e.hasOwnProperty("loaded")?N(e):o(c.id)}),[]);var G=Object(_.g)(),H=function(){M((function(e){return!e}))},B=Object(_.h)();return Object(b.F)(T,(function(){var e=U.container.current.querySelector("ul .dropdown-menu.show");e&&(e.classList.remove("show"),y(null)),document.querySelector(".overlay").classList.remove("show")}),null!==T),m.a.createElement(A,{ref:U.container,className:"header-profile-navigation navbar-nav ".concat(n)},m.a.createElement("li",{className:"nav-item dropdown"},m.a.createElement("a",{href:"/",className:"nav-link","data-toggle":"search",onClick:function(e){e.preventDefault();var t=e.currentTarget.dataset.toggle;P((function(e){return Object(s.a)(Object(s.a)(Object(s.a)({},e),e.name!==t&&{name:t}),{},{value:e.name!==t||!e.value})}))}},m.a.createElement(f.t,{content:a.generalSearch},m.a.createElement(f.s,{icon:"search"}))),"search"===I.name&&I.value&&m.a.createElement(h.b,null)),m.a.createElement("li",{className:"nav-item dropdown"},m.a.createElement("a",{href:"/",className:"nav-link notif-bell ".concat("notifications"===B.pathname.split("/")[1]&&"active"),"data-toggle":"notification",onClick:function(e){e.preventDefault(),G.push("/notifications")}},d>0&&m.a.createElement(v,{className:"badge badge-danger badge-pill ".concat(d>99?"triple":d>9?"double":"single")},d>99?"99+":d),m.a.createElement(f.t,{content:a.generalNotifications},m.a.createElement(f.s,{icon:"bell"})))),m.a.createElement("li",{className:"nav-item"},m.a.createElement("a",{href:"/",className:"nav-link dark-mode-switch",onClick:function(e){e.preventDefault(),P({}),E({dark_mode:"0"===O?"1":"0"})}},m.a.createElement(f.t,{content:a.generalSwitchTheme},m.a.createElement(f.s,{icon:"sun"}),m.a.createElement(f.s,{icon:"moon"})))),m.a.createElement("li",{className:"nav-item dropdown",onClick:H},m.a.createElement("span",{className:"nav-link profile-button"},m.a.createElement(f.t,{content:c.name},m.a.createElement("div",{className:"avatar-overlay"}),m.a.createElement(f.a,{name:k.name,id:k.id,type:"USER",className:"avatar-top-bar",imageLink:k.profile_image_thumbnail_link?k.profile_image_thumbnail_link:k.profile_image_link,noDefaultClick:!0}))),F&&m.a.createElement(g,{user:c,closeDropdown:H})))})),C=n(27),T=["className","item","moreButton","children","width","strokeWidth","fill","svgHeight","scrollRef","onClick"],y=p.a.div(c||(c=Object(d.a)(["\n  display: inline-flex;\n  position: relative;\n  width: 25px;\n  border-color: #e1e1e1 !important;\n  svg {\n    cursor: pointer;\n    width: 100%;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"]))),S=p.a.div(o||(o=Object(d.a)(["\n  visibility: hidden;\n  opacity: 0;\n  ",";\n  z-index: 30;\n  position: absolute;\n  cursor: pointer;\n  width: ","px;\n  background-color: #ffffff;\n  color: #4d4d4d;\n  border-radius: 8px;\n  padding: 8px 0;\n  box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n\n  .dark & {\n    color: #fff;\n  }\n\n  &.orientation-top {\n    bottom: -10px;\n  }\n  &.orientation-bottom {\n    top: calc(100% - 25px);\n    bottom: auto;\n  }\n  &.orientation-left {\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% + 25px);\n    right: auto;\n  }\n\n  button:hover {\n    color: #972c86;\n  }\n\n  > div {\n    text-align: left;\n    padding: 4px 24px;\n    cursor: pointer;\n\n    &.active,\n    &:hover {\n      background-color: #f0f0f0;\n      color: #7a1b8b;\n    }\n  }\n\n  > div:last-child {\n    border-bottom: none;\n  }\n"])),(function(e){return!e.hide&&"opacity: 1; visibility: visible"}),(function(e){return e.width})),w=Object(u.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,r=(e.item,e.moreButton),i=void 0===r?"more-horizontal":r,c=e.children,o=void 0===c?"More Options":c,s=e.width,d=void 0===s?200:s,p=e.strokeWidth,h=void 0===p?2:p,_=e.fill,O=void 0===_?"none":_,E=e.svgHeight,g=void 0===E?"20":E,A=e.scrollRef,v=void 0===A?null:A,j=e.onClick,w=Object(C.a)(e,T),k={options:Object(u.useRef)(),container:Object(u.useRef)(),scrollRef:v},N=null,R=Object(u.useState)(!1),x=Object(l.a)(R,2),I=x[0],P=x[1],D=Object(b.ab)(k.container,k.options,v,I).orientation,L=function(){N=setTimeout((function(){P(!1)}),1e3)},F=function(){clearTimeout(N)};return m.a.createElement(y,Object.assign({className:"more-options ".concat(I?"more-options-active":""," ").concat(a),onClick:function(e){e.preventDefault(),e.stopPropagation(),j&&j(e),P(!I)},ref:k.container,onMouseEnter:F},w),m.a.createElement(f.s,{onMouseLeave:L,"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":"Message options",icon:i,strokeWidth:h,fill:O,height:g}),I&&m.a.createElement(S,{ref:k.options,width:d,hide:null===D.vertical||null===D.horizontal,className:"more-options-tooltip orientation-".concat(D.vertical," orientation-").concat(D.horizontal),onMouseLeave:L,onMouseEnter:F},o))})),k=m.a.memo(w);function N(){var e=Object(d.a)(["\n  width: ","%;\n"]);return N=function(){return e},e}function R(){var e=Object(d.a)(["\n  height: ","px;\n"]);return R=function(){return e},e}var x=p.a.div(R(),(function(e){return e.height})),I=p.a.div(N(),(function(e){return e.progress})),P=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.barClassName,r=void 0===a?"progress-bar-striped":a,i=e.height,c=void 0===i?10:i,o=e.amount,s=void 0===o?0:o,l=e.limit,d=s/(void 0===l?100:l)*100;return m.a.createElement(x,{className:"progress ".concat(n),height:c},m.a.createElement(I,{className:"progress-bar ".concat(r),role:"progressbar",progress:d}))})),D=n(5),L=n(19),F=n(189);function M(){var e=Object(d.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n  }\n"]);return M=function(){return e},e}var U=p.a.div(M()),G=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,i=e.scrollRef,c=Object(_.j)().params,o=Object(D.useDispatch)(),l=Object(F.a)(),d=Object(b.W)().fromNow,u=function(){o(Object(L.Wb)({workspace_id:c.workspaceId,file_id:a.id,files:[Object(s.a)(Object(s.a)({},a),{},{filename:a.name,file_id:a.id})]}))};return m.a.createElement(U,{className:"attach-file-timeline timeline-item ".concat(n)},m.a.createElement("div",null,m.a.createElement(f.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),m.a.createElement("div",null,m.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},m.a.createElement("span",null,m.a.createElement("span",{className:"font-weight-normal"},a.user.name)," ",m.a.createElement("span",{onClick:u,className:"file-summary"},r.attachedFile)),m.a.createElement("span",{className:"text-muted font-weight-normal"},d(a.created_at.timestamp))),m.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},m.a.createElement("span",{onClick:u,className:"timeline-file-icon"},l.getFileIcon(a.mime_type)," ",m.a.createElement("span",null,a.name)))))})),H=n(43),B=n.n(H);function W(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return W=function(){return e},e}function Y(){var e=Object(d.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return Y=function(){return e},e}var z=p.a.div(Y()),V=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},Q=Object(p.a)(B.a)(W()),q=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,i=e.scrollRef,c=Object(_.g)(),o=Object(b.W)(),s=o.fromNow,l=o.localizeDate,d=function(e){e.preventDefault(),c.push("/posts/".concat(a.id,"/").concat(a.title))};return m.a.createElement(z,{className:"post-timeline timeline-item ".concat(n)},m.a.createElement("div",null,m.a.createElement(f.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),m.a.createElement("div",null,m.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},m.a.createElement("span",{className:"title"},a.user.name," ",m.a.createElement("span",{className:"post-title",onClick:d,title:a.title},r.sharedThePost,' "',a.title,'"')),m.a.createElement(Q,{arrowSize:5,distance:10,onToggle:V,content:"".concat(l(a.created_at.timestamp))},m.a.createElement("span",{className:"text-muted font-weight-normal"},s(a.created_at.timestamp)))),a.body.replace(/<\/?[^>]+(>|$)/g,"")&&m.a.createElement("span",{onClick:d},m.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},m.a.createElement(f.s,{icon:"arrow-right"}),m.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}))),a.files&&a.files.length>=1&&m.a.createElement(m.a.Fragment,null,r.fileAttachments,":",m.a.createElement(f.h,{attachedFiles:a.files,type:"timeline"}))))}));function K(){var e=Object(d.a)([""]);return K=function(){return e},e}var J=p.a.div(K());m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,r=Object(b.W)().fromNow;return m.a.createElement(J,{className:"timeline-item ".concat(n)},m.a.createElement("div",null,m.a.createElement(f.a,{name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link})),m.a.createElement("div",null,m.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},m.a.createElement("span",null,a.user.name," ",m.a.createElement("a",{href:"#"},"shared a post")),m.a.createElement("span",{className:"text-muted font-weight-normal"},r(a.created_at.timestamp))),m.a.createElement("a",{href:"#"},m.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},a.body))))}));function Z(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Z=function(){return e},e}function X(){var e=Object(d.a)(["\n  font-weight: bold;\n  .action-text {\n    margin: 0;\n    color: #505050;\n    .joined {\n      color: #00c851;\n      font-weight: bold;\n    }\n    .left {\n      color: #f44;\n      font-weight: bold;\n    }\n  }\n"]);return X=function(){return e},e}var $=p.a.div(X()),ee=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},te=Object(p.a)(B.a)(Z()),ne=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,i=e.scrollRef,c=Object(b.W)(),o=c.fromNow,s=c.localizeDate,l=Object(D.useSelector)((function(e){return e.session.user})),d=Object(D.useSelector)((function(e){return e.global.recipients.filter((function(e){return"USER"===e.type}))})),u=Object(D.useSelector)((function(e){return e.users.users})),p=null;a.body.includes("CHANNEL_UPDATE")&&(p=JSON.parse(a.body.replace("CHANNEL_UPDATE::","")));var h=function(){if(p){if(p.title&&""!==p.title)return"".concat(r.updatedWorkspaceTo," ").concat(p.title)}else{if(a.body.includes("NEW_ACCOUNT_ACTIVATED"))return"".concat(a.body.replace("NEW_ACCOUNT_ACTIVATED ","")," ").concat(r.isAddedToCompany);if(!a.body.includes("POST_CREATE"))return a.body;if(""!==a.body.replace("POST_CREATE::","").trim()){var e=JSON.parse(a.body.replace("POST_CREATE::",""));return m.a.createElement(m.a.Fragment,null,e.author.name," ",m.a.createElement("b",null,r.createdThePost," ",e.post.title))}}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===p.author)return"";if(e){if(p.accepted_members&&p.accepted_members.length){var t=u[p.accepted_members[0]];return"".concat(t.name," ").concat(r.hasJoined)}var n=d.filter((function(e){return e.type_id===p.author.id&&p.added_members.includes(e.type_id)}))[0];if(n)return n.type_id===l.id?"".concat(r.youJoined,"."):"".concat(n.name," ").concat(r.hasJoined)}else if(p.accepted_members&&p.accepted_members.length);else{var a=d.filter((function(e){return p.added_members.includes(e.type_id)&&e.type_id!==p.author.id})).map((function(e){return e.name}));if(a.length)return a.join(", ")+" ".concat(r.isAdded,".")}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===p.author)return"";if(e){var t=d.filter((function(e){return e.type_id===p.author.id&&p.removed_members.includes(e.type_id)}))[0];if(t)return t.type_id===l.id?"".concat(r.youLeft,"."):"".concat(t.name," ").concat(r.hasLeft)}else{var n=d.filter((function(e){return p.removed_members.includes(e.type_id)&&e.type_id!==p.author.id})).map((function(e){return e.name}));if(n.length)return n.join(", ")+" ".concat(r.isRemoved,".")}};return a.body.includes("POST_CREATE")?m.a.createElement(m.a.Fragment,null):m.a.createElement($,{className:"member-timeline timeline-item ".concat(n)},m.a.createElement("div",null,null!==p?m.a.createElement(m.a.Fragment,null,p.author?m.a.createElement(f.a,{className:"mr-3",name:p.author.name,imageLink:p.author.profile_image_thumbnail_link?p.author.profile_image_thumbnail_link:p.author.profile_image_link,id:p.author.id,showSlider:!0,scrollRef:i}):m.a.createElement(f.a,{className:"mr-3",imageLink:null,isBot:!0})):m.a.createElement(f.a,{className:"mr-3",imageLink:null,isBot:!0})),null!==p?m.a.createElement("div",null,m.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},m.a.createElement("span",{className:"title"},p.author&&p.author.name," ",h()),m.a.createElement("span",{className:"text-muted font-weight-normal"},o(a.created_at.timestamp))),p.added_members.length||p.removed_members.length?m.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},m.a.createElement("p",{className:"action-text"},p.added_members.length>0&&_(!0)),m.a.createElement("p",{className:"action-text"},p.added_members.length>0&&_()),m.a.createElement("p",{className:"action-text"},p.removed_members.length>0&&O(!0)),m.a.createElement("p",{className:"action-text"},p.removed_members.length>0&&O())):null):m.a.createElement("div",null,m.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},m.a.createElement("span",{className:"title"},h()),m.a.createElement(te,{arrowSize:5,distance:10,onToggle:ee,content:"".concat(s(a.created_at.timestamp))},m.a.createElement("span",{className:"text-muted font-weight-normal"},o(a.created_at.timestamp))))))}));function ae(){var e=Object(d.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return ae=function(){return e},e}var re=p.a.div(ae()),ie=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.scrollRef,i=Object(b.W)().fromNow;return m.a.createElement(re,{className:"topic-timeline timeline-item ".concat(n)},m.a.createElement("div",null,a.user&&m.a.createElement(f.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:r})),m.a.createElement("div",null,m.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},m.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",m.a.createElement("strong",null,"created ",a.name," workspace")),m.a.createElement("span",{className:"text-muted font-weight-normal"},i(a.created_at.timestamp)))))}));function ce(){var e=Object(d.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]);return ce=function(){return e},e}var oe=p.a.div(ce()),se=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.init,r=e.timeline,i=e.dictionary,c=Object(u.useRef)(null);return m.a.createElement(oe,{className:"timeline-panel card ".concat(n),ref:c},m.a.createElement("div",{className:"card-body"},m.a.createElement("h5",{className:"card-title"},i.timeline),m.a.createElement("div",{className:"timeline"},a?m.a.createElement(m.a.Fragment,null,r&&Object.values(r).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).map((function(e){switch(e.tag){case"CHAT_BOT":return m.a.createElement(ne,{key:e.id,data:e.item,dictionary:i,scrollRef:c.current});case"POST":return m.a.createElement(q,{key:e.id,data:e.item,dictionary:i,scrollRef:c.current});case"DOCUMENT":return m.a.createElement(G,{key:e.id,data:e.item,dictionary:i,scrollRef:c.current});case"TOPIC":return m.a.createElement(ie,{key:e.id,data:e.item,scrollRef:c.current})}}))):m.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))))}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(12),r=n(1),i=n(167);n(54);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(i.a)(this);try{for(a.s();!(e=a.n()).done;){var r=e.value;r instanceof Array&&t>0?r.flat(t-1,n):n.push(r)}}catch(c){a.e(c)}finally{a.f()}return n}}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[],a=function(a){null===t?n.includes(e[a])||n.push(e[a]):"undefined"===typeof n.filter((function(n){return n[t]===e[a][t]}))[0]&&n.push(e[a])},r=0;r<this.length;r++)a(r);return n}});var c=function(e,t){return e.reduce((function(e,n){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},n[t],n))}),{})},o=function(e,t){return e.reduce((function(e,n){var a=n[t];return e[a]||(e[a]=[]),e[a].push(n),e}),{})},s=function(e,t){return Array.from(e.reduce((function(e,n){return n&&n[t]&&e.set(n[t],n),e}),new Map).values())}},,function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"H",(function(){return s})),n.d(t,"N",(function(){return l})),n.d(t,"P",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"q",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"y",(function(){return f})),n.d(t,"x",(function(){return b})),n.d(t,"J",(function(){return h})),n.d(t,"z",(function(){return _})),n.d(t,"b",(function(){return O})),n.d(t,"A",(function(){return E})),n.d(t,"f",(function(){return g})),n.d(t,"n",(function(){return A})),n.d(t,"B",(function(){return v})),n.d(t,"I",(function(){return j})),n.d(t,"E",(function(){return C})),n.d(t,"O",(function(){return T})),n.d(t,"w",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"h",(function(){return w})),n.d(t,"v",(function(){return k})),n.d(t,"e",(function(){return N})),n.d(t,"p",(function(){return R})),n.d(t,"r",(function(){return x})),n.d(t,"M",(function(){return I})),n.d(t,"g",(function(){return P})),n.d(t,"K",(function(){return D})),n.d(t,"l",(function(){return L})),n.d(t,"o",(function(){return F})),n.d(t,"D",(function(){return M})),n.d(t,"L",(function(){return U})),n.d(t,"c",(function(){return G})),n.d(t,"C",(function(){return H})),n.d(t,"u",(function(){return B})),n.d(t,"G",(function(){return W})),n.d(t,"t",(function(){return Y})),n.d(t,"Q",(function(){return z})),n.d(t,"F",(function(){return V})),n.d(t,"s",(function(){return Q})),n.d(t,"m",(function(){return q})),n.d(t,"k",(function(){return K}));var a=n(27),r=n(1),i=n(21),c=n(10);function o(e){return"channel_date_updated"===(e=Object(r.a)({order_by:"channel_name",sort_by:"desc"},e)).order_by&&(e=Object(r.a)(Object(r.a)({},e),{},{order_by:"updated_at"})),Object(c.c)({method:"GET",url:"/v2/post-channels?".concat(Object(i.g)(e))})}function s(e){var t="/v2/post-channels/".concat(e.id);return Object(c.c)({method:"PUT",url:t,data:e,is_shared:!!e.is_shared,is_translate:!!e.is_translate})}function l(e){var t=e.channel_id,n=Object(a.a)(e,["channel_id"]);return Object(c.c)({method:"PUT",url:"/v2/read-notification-counter/all-chat?channel_id=".concat(t),is_shared:!!e.is_shared,data:n})}function d(e){var t=e.channel_id,n=Object(a.a)(e,["channel_id"]);return Object(c.c)({method:"PUT",url:"/v2/unread-notification-counter/all-chat?channel_id=".concat(t),is_shared:!!e.is_shared,data:n})}function u(e){var t="/v2/post-channels/".concat(e.code);return Object(c.c)({method:"GET",url:t})}function m(e){return Object(c.c)({method:"GET",url:"/v2/last-visit-channel",data:e})}function p(e){var t="/v2/post-channel-messages?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t})}function f(e){return Object(c.c)({method:"POST",url:"/v2/post-channel-messages-translate",data:e})}function b(e){return Object(c.c)({method:"POST",url:"/v2/post-channel-messages",data:e,is_shared:!!e.topic_id})}function h(e){var t="/v2/post-channel-messages/".concat(e.message_id);return Object(c.c)({method:"PUT",url:t,data:e,is_shared:!!e.topic_id})}function _(e){return Object(c.c)({method:"POST",url:"/v2/post-message-react",data:e,is_shared:!!e.is_shared})}function O(e){var t="/v2/post-channel-messages/".concat(e.message_id);return Object(c.c)({method:"DELETE",url:t,data:e,is_shared:!!e.is_shared})}function E(e){return Object(c.c)({method:"POST",url:"/v2/set-reminder",data:e})}function g(e){return Object(c.c)({method:"GET",url:"/v1/drafts?draft_type=channel",data:e})}function A(e){var t="/v2/global-recipients?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t,data:e})}function v(e){return Object(c.c)({method:"POST",url:"/v2/chat-channel/create",data:e})}function j(e){return Object(c.c)({method:"PUT",url:"/v2/chat-channel/update",data:e})}function C(e){return Object(c.c)({method:"POST",url:"/v2/search-post-channels",data:e})}function T(e){return Object(c.c)({method:"PUT",url:"/v2/bot-marked-completed",data:e})}function y(e){return Object(c.c)({method:"POST",url:"/v2/post-channel-members",data:e})}function S(e){return Object(c.c)({method:"DELETE",url:"/v2/post-channel-members",data:e})}function w(e){var t="/v2/post-channel-members?channel_id=".concat(e.channel_id);return Object(c.c)({method:"GET",url:t})}function k(e){return Object(c.c)({method:"GET",url:"/v2/workspace-channels?".concat(Object(i.g)(e))})}function N(e){var t="/v2/post-channels/".concat(e.id);return Object(c.c)({method:"GET",url:t})}function R(e){return Object(c.c)({method:"GET",url:"/v2/last-visit-channel?need_detail=11",data:e})}function x(e){var t="/v2/post-channels/".concat(e.code);return Object(c.c)({method:"GET",url:t})}function I(e){return Object(c.c)({method:"PUT",url:"/v2/set-message-important",data:e})}function P(e){var t="/v2/get-channel-last-reply?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t,data:e})}function D(e){return Object(c.c)({method:"PUT",url:"/v2/chat-star",data:e})}function L(e){var t="/v2/chat-star?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t,data:e})}function F(e){var t="/v2/huddle-chatbot?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t,data:e})}function M(e){return Object(c.c)({method:"POST",url:"/v2/huddle-chatbot",data:e})}function U(e){var t="/v2/huddle-chatbot/".concat(e.huddle_id);return Object(c.c)({method:"PUT",url:t,data:e})}function G(e){var t="/v2/huddle-chatbot/".concat(e.huddle_id);return Object(c.c)({method:"DELETE",url:t,data:e})}function H(e){return Object(c.c)({method:"POST",url:"/v2/huddle-answer",data:e})}function B(e){var t="/v2/user-bots?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t,data:e})}function W(e){return Object(c.c)({method:"POST",url:"/v2/user-bots",data:e})}function Y(e){var t="/v2/get-huddle-answer?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t,data:e})}function z(e){return Object(c.c)({method:"PUT",url:"/v2/update-huddle-answer",data:e})}function V(e){return Object(c.c)({method:"POST",url:"/v2/huddle-chatbot-skip",data:e})}function Q(e){var t="/v2/get-skip-answer?".concat(Object(i.g)(e));return Object(c.c)({method:"GET",url:t,data:e})}function q(e){return Object(c.c)({method:"GET",url:"/v2/company-post-channel"})}function K(e){return Object(c.c)({method:"POST",url:"/v2/fancy-link",data:e})}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return b}));var a=n(0),r=n.n(a),i=n(86),c=n(21),o=function(){var e=Object(i.b)(),t=window.location.protocol,n=window.location.port&&80!==window.location.port?":".concat(window.location.port):"";return Object(c.f)(window.location.hostname)||"localhost"===window.location.hostname?"".concat(t,"//").concat(window.location.hostname).concat(n):e?"".concat(t,"//").concat(e,".").concat("drevv.com").concat(n):"".concat(t,"//").concat("drevv.com").concat(n)},s=function(){if(localStorage.getItem("atoken")&&localStorage.getItem("slug"))return r.a.createElement("img",{style:{visibility:"hidden",display:"none"},alt:"login token",src:"".concat(l({isDNS:!0}),"/auth-web/login?token=").concat(localStorage.getItem("atoken")),height:1,width:1})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.b)(),n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),a=(n.REACT_APP_ENV,n.REACT_APP_apiProtocol),r=n.REACT_APP_apiBaseUrl,c=n.REACT_APP_apiDNSName,o=n.REACT_APP_mockServerBaseUrl,s=a;if("undefined"!==typeof e.noSlug&&!0===e.noSlug||(s+="".concat(t,".")),"undefined"!==typeof e.isDNS&&!0===e.isDNS)s+=c;else if("undefined"!==typeof e.isMockBased&&!0===e.isMockBased)s+=o;else{if(e.is_shared&&e.token)return"".concat(a).concat(e.slug,".").concat(r);s+=r}return s},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.b)(),n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),a=n.REACT_APP_ENV,r=n.REACT_APP_localDNSProtocol,c=n.REACT_APP_localDNSName,o=r;switch(a){case"local":return"".concat(r).concat(c);case"development":case"production":return"undefined"!==typeof e.noSlug&&!0===e.noSlug||(o+="".concat(t,".")),o+=c;default:return}},u=function(){var e=Object(c.a)("logger");e&&("remove"===e?localStorage.removeItem("logger"):localStorage.setItem("logger",e))},m=function(){return!!["all","console"].includes(localStorage.getItem("logger"))||(Object(c.f)(window.location.hostname)||"localhost"===window.location.hostname)},p=function(){return!!["all","reducer","axios"].includes(localStorage.getItem("logger"))||(Object(c.f)(window.location.hostname)||"localhost"===window.location.hostname)},f=function(){return"translation-off"!==localStorage.getItem("logger")&&(!!["all","translation"].includes(localStorage.getItem("logger"))||(Object(c.f)(window.location.hostname)||"localhost"===window.location.hostname))},b=function(){var e=Object(i.b)();return"https://{{driffName}}.driff.io/api".replace("{{driffName}}",e)}},function(e,t,n){"use strict";n.d(t,"B",(function(){return i})),n.d(t,"L",(function(){return c})),n.d(t,"M",(function(){return o})),n.d(t,"K",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"H",(function(){return m})),n.d(t,"A",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"F",(function(){return h})),n.d(t,"C",(function(){return _})),n.d(t,"v",(function(){return O})),n.d(t,"x",(function(){return E})),n.d(t,"D",(function(){return g})),n.d(t,"z",(function(){return A})),n.d(t,"E",(function(){return v})),n.d(t,"r",(function(){return j})),n.d(t,"y",(function(){return C})),n.d(t,"s",(function(){return T})),n.d(t,"G",(function(){return y})),n.d(t,"j",(function(){return S})),n.d(t,"w",(function(){return w})),n.d(t,"h",(function(){return k})),n.d(t,"b",(function(){return N})),n.d(t,"I",(function(){return R})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return I})),n.d(t,"g",(function(){return P})),n.d(t,"o",(function(){return D})),n.d(t,"u",(function(){return L})),n.d(t,"p",(function(){return F})),n.d(t,"n",(function(){return M})),n.d(t,"t",(function(){return U})),n.d(t,"J",(function(){return G})),n.d(t,"f",(function(){return H})),n.d(t,"m",(function(){return B})),n.d(t,"q",(function(){return W}));var a=n(8),r=n(10),i=function(e,t){return Object(a.b)(Object(r.Dd)(e),"REQUEST_START","REQUEST_SUCCESS","REQUEST_FAILURE",t)},c=function(e,t){return Object(a.b)(Object(r.Mc)(e),"LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE",t)},o=function(e,t){return Object(a.b)(Object(r.Nc)(e),"LOGOUT_START","LOGOUT_SUCCESS","LOGOUT_FAILURE",t)},s=function(e,t){return Object(a.b)(Object(r.Kc)(e),"GOOGLE_LOGIN_START","GOOGLE_LOGIN_SUCCESS","GOOGLE_LOGIN_FAILURE",t)},l=function(e,t){return Object(a.b)(Object(r.g)(e),"GOOGLE_AUTH_LOGIN_START","GOOGLE_AUTH_LOGIN_SUCCESS","GOOGLE_AUTH_LOGIN_FAILURE",t)};function d(e,t){return Object(a.b)(Object(r.Qb)(e),"GET_ONLINE_USERS_START","GET_ONLINE_USERS_SUCCESS","GET_ONLINE_USERS_FAIL",t)}function u(e,t){return Object(a.b)(Object(r.kc)(e),"GET_USER_START","GET_USER_SUCCESS","GET_USER_FAILURE",t)}function m(e,t){return Object(a.b)(Object(r.Be)(e),"RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE",t)}function p(e,t){return Object(a.b)(Object(r.Bd)(e),"RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE",t)}function f(e,t){return Object(a.b)(Object(r.h)(e),"CHECK_DRIFF_EMAIL_START","CHECK_DRIFF_EMAIL_SUCCESS","CHECK_DRIFF_EMAIL_FAILURE",t)}function b(e,t){return Object(a.b)(Object(r.nc)(e),"GET_USERS_START","GET_USERS_SUCCESS","GET_USERS_FAIL",t)}function h(e,t){return Object(a.b)(Object(r.re)(e),"UPDATE_USER_START","UPDATE_USER_SUCCESS","UPDATE_USER_FAIL",t)}function _(e,t){return Object(a.b)(Object(r.Md)(e),"UPDATE_PROFILE_IMAGE_START","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE",t)}function O(e,t){return Object(a.a)("INCOMING_UPDATED_USER",e,t)}function E(e,t){return Object(a.b)(Object(r.nd)(e),"POST_EXTERNAL_USER_DATA_START","POST_EXTERNAL_USER_DATA_SUCCESS","POST_EXTERNAL_USER_DATA_FAILURE",t)}function g(e,t){return Object(a.b)(Object(r.fe)(e),"PUT_EXTERNALUSER_UPDATE_START","PUT_EXTERNALUSER_UPDATE_SUCCESS","PUT_EXTERNALUSER_UPDATE_FAILURE",t)}function A(e,t){return Object(a.b)(Object(r.yd)(e),"POST_MAGIC_LINK_START","POST_MAGIC_LINK_SUCCESS","POST_MAGIC_LINK_FAILURE",t)}function v(e,t){return Object(a.b)(Object(r.ke)(e),"PUT_MAGIC_LINK_START","PUT_MAGIC_LINK_SUCCESS","PUT_MAGIC_LINK_FAILURE",t)}function j(e,t){return Object(a.a)("INCOMING_EXTERNAL_USER",e,t)}function C(e,t){return Object(a.b)(Object(r.vd)(e),"PUT_MAGIC_LINK_START","PUT_MAGIC_LINK_SUCCESS","PUT_MAGIC_LINK_FAILURE",t)}function T(e,t){return Object(a.a)("INCOMING_INTERNAL_USER",e,t)}function y(e,t){return Object(a.b)(Object(r.se)(e),"PUT_USER_ROLE_START","PUT_USER_ROLE_SUCCESS","PUT_USER_ROLE_FAILURE",t)}function S(e,t){return Object(a.b)(Object(r.Zb)(e),"GET_ROLES_START","GET_ROLES_SUCCESS","GET_ROLES_FAILURE",t)}function w(e,t){return Object(a.a)("INCOMING_USER_ROLE",e,t)}function k(e,t){return Object(a.b)(Object(r.Fb)(e),"GET_EXTERNAL_USERS_START","GET_EXTERNAL_USERS_SUCCESS","GET_EXTERNAL_USERS_FAILURE",t)}function N(e,t){return Object(a.b)(Object(r.f)(e),"ARCHIVE_USER_START","ARCHIVE_USER_SUCCESS","ARCHIVE_USER_FAILURE",t)}function R(e,t){return Object(a.b)(Object(r.Fe)(e),"UNARCHIVE_USER_START","UNARCHIVE_USER_SUCCESS","UNARCHIVE_USER_FAILURE",t)}function x(e,t){return Object(a.b)(Object(r.a)(e),"ACTIVATE_USER_START","ACTIVATE_USER_SUCCESS","ACTIVATE_USER_FAILURE",t)}function I(e,t){return Object(a.b)(Object(r.n)(e),"DEACTIVATE_USER_START","DEACTIVATE_USER_SUCCESS","DEACTIVATE_USER_FAILURE",t)}function P(e,t){return Object(a.b)(Object(r.cb)(e),"GET_ARCHIVED_USERS_START","GET_ARCHIVED_USERS_SUCCESS","GET_ARCHIVED_USERS_FAILURE",t)}function D(e,t){return Object(a.a)("INCOMING_ARCHIVED_USER",e,t)}function L(e,t){return Object(a.a)("INCOMING_UNARCHIVED_USER",e,t)}function F(e,t){return Object(a.a)("INCOMING_DEACTIVATED_USER",e,t)}function M(e,t){return Object(a.a)("INCOMING_ACTIVATED_USER",e,t)}function U(e,t){return Object(a.a)("INCOMING_ONLINE_USERS",e,t)}function G(e,t){return Object(a.b)(Object(r.Me)(e),"UPDATE_USER_TYPE_START","UPDATE_USER_TYPE_SUCCESS","UPDATE_USER_TYPE_FAILURE",t)}function H(e,t){return Object(a.b)(Object(r.J)(e),"DELETE_USER_START","DELETE_USER_SUCCESS","DELETE_USER_FAILURE",t)}function B(e,t){return Object(a.b)(Object(r.oc)(e),"GET_USERS_WITHOUT_ACTIVITY_START","GET_USERS_WITHOUT_ACTIVITY_SUCCESS","GET_USERS_WITHOUT_ACTIVITY_FAILURE",t)}function W(e,t){return Object(a.a)("INCOMING_DELETED_USER",e,t)}},,,,,function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"y",(function(){return l})),n.d(t,"A",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"D",(function(){return m})),n.d(t,"C",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"s",(function(){return b})),n.d(t,"z",(function(){return h})),n.d(t,"l",(function(){return _})),n.d(t,"r",(function(){return O})),n.d(t,"j",(function(){return E})),n.d(t,"f",(function(){return g})),n.d(t,"m",(function(){return A})),n.d(t,"d",(function(){return v})),n.d(t,"t",(function(){return j})),n.d(t,"v",(function(){return C})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return y})),n.d(t,"u",(function(){return S})),n.d(t,"b",(function(){return w})),n.d(t,"w",(function(){return k})),n.d(t,"x",(function(){return N})),n.d(t,"k",(function(){return R})),n.d(t,"n",(function(){return x})),n.d(t,"B",(function(){return I})),n.d(t,"a",(function(){return P})),n.d(t,"e",(function(){return D}));var a=n(36),r=n(10),i=n(21);function c(e){return Object(r.c)({method:"GET",url:"/v2/connected-slugs",data:e})}function o(e){return Object(r.c)({method:"GET",url:"/v1/recipients?is_shared_topic=1",data:e})}function s(e){var t="/v2/post-message-unfurl";return"task"===e.type&&(t="/v2/task-comment-unfurl"),Object(r.c)({method:"POST",url:t,data:e})}function l(e){return Object(r.c)({method:"POST",url:"/v1/drafts?draft_type=".concat(e.type),data:e})}function d(e){return Object(r.c)({method:"PUT",url:"/v1/drafts/".concat(e.draft_id,"?draft_type=").concat(e.type),data:e})}function u(e){return Object(r.c)({method:"DELETE",url:"/v1/drafts/".concat(e.draft_id,"?draft_type=").concat(e.type)})}function m(e){var t="/v1/files?file_type=".concat(e.file_type);e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),e.channel_id&&(t+="&channel_id=".concat(e.channel_id)),e.fileOption&&("remove_on_download"===e.fileOption.value?t+="&remove_on_download=1":t+="&remove_automatically=1");var n=Object.assign({method:"POST",url:t,data:e.file},e.options?e.options:{});return Object(r.c)(n)}function p(e){var t="/v1/bulk-files?file_type=".concat(e.file_type);e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),e.fileOption&&("remove_on_download"===e.fileOption.value?t+="&remove_on_download=1":t+="&remove_automatically=1");var n=Object.assign({method:"POST",url:t,data:e.files},e.options?e.options:{});return Object(r.c)(n)}function f(e){return Object(r.d)({method:"GET",actualUrl:e.url})}function b(e){return Object(r.d)({method:"POST",actualUrl:"".concat(Object(a.d)(),"/generate-translation-raw"),data:{raws:e}})}function h(e){return Object(r.c)({method:"POST",url:"/v2/push-api-notification",data:e})}function _(e){var t="/v2/push-api-notification?subscription_id=".concat(e.sub_id);return Object(r.c)({method:"GET",url:t,data:e})}function O(e){var t="/v2/notification-counter-entries?".concat(Object(i.g)(e));return Object(r.c)({method:"GET",url:t,data:e})}function E(e){return Object(r.c)({method:"GET",url:"/v1/drafts"})}function g(e){var t="";return t="task"===e.type?"/v2/task-comment-unfurl/".concat(e.unfurl_id):"/v2/post-message-unfurl/".concat(e.unfurl_id),Object(r.c)({method:"DELETE",url:t})}function A(e){return Object(r.c)({method:"GET",url:"/v2/quick-link"})}function v(e){return Object(r.c)({method:"DELETE",url:"/v2/push-api-notification?delete_all_subscription=".concat(e.user_id)})}function j(e){return Object(r.c)({method:"POST",url:"/v2/to-do",data:e})}function C(e){var t="/v2/to-do/".concat(e.id);return Object(r.c)({method:"PUT",url:t,data:e})}function T(e){var t="/v2/to-do?".concat(Object(i.g)(e));return Object(r.c)({method:"GET",url:t,data:e})}function y(e){return Object(r.c)({method:"GET",url:"/v2/to-do-detail",data:e})}function S(e){var t="/v2/done-to-do?".concat(Object(i.g)(e));return Object(r.c)({method:"PUT",url:t,data:e})}function w(e){var t="/v2/remove-to-do?".concat(Object(i.g)(e));return Object(r.c)({method:"DELETE",url:t,data:e})}function k(e){var t="/v2/re-fetch-module/channel?message_id=".concat(e.message_id);return Object(r.c)({method:"POST",url:t,data:e})}function N(e){return Object(r.c)({method:"POST",url:"/v2/re-fetch-module/other-channel-messages",data:e})}function R(e){return Object(r.c)({method:"GET",url:"/v2/re-fetch-module/get-last-reply",data:e})}function x(e){return Object(r.c)({method:"GET",url:"/v2/announcement-release"})}function I(e){var t="/v2/announcement-release/".concat(e.id);return Object(r.c)({method:"PUT",url:t,data:e})}function P(e){return Object(r.c)({method:"POST",url:"/v2/announcement-release",data:e})}function D(e){var t="/v2/announcement-release/".concat(e.id);return Object(r.c)({method:"DELETE",url:t,data:e})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(1),r={option:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{color:t.isSelected&&"#ffffff",backgroundColor:t.isSelected?"#7a1b8b":"#ffffff",cursor:"pointer",transition:"all 0.15s ease","&:hover":{backgroundColor:t.isSelected?"#7a1b8b":"#8C3B9B",color:"#ffffff"}})},control:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{borderColor:t.isFocused?"#7a1b8b":"#cccccc",boxShadow:(t.isFocused,0),cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:t.isFocused?"#7a1b8b":"#cccccc"}})},menu:function(e){return Object(a.a)(Object(a.a)({},e),{},{zIndex:9999})}},i={option:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{color:t.isSelected&&"#000000",backgroundColor:t.isSelected?"#7a1b8b":"#000000",cursor:"pointer",transition:"all 0.15s ease","&:hover":{backgroundColor:t.isSelected?"#7a1b8b":"#000000",color:"#ffffff"}})},control:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{borderColor:t.isFocused?"#7a1b8b":"#ffffff",boxShadow:(t.isFocused,0),backgroundColor:"#111417",cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:t.isFocused?"#7a1b8b":"#ffffff"}})},multiValue:function(e,t){return Object(a.a)(Object(a.a)({},e),{},{borderColor:(t.isFocused,"#000000"),boxShadow:(t.isFocused,0),backgroundColor:"#25282c",cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:(t.isFocused,"#fff")}})},multiValueLabel:function(e){return Object(a.a)(Object(a.a)({},e),{},{color:"#c7c7c7"})},menu:function(e){return Object(a.a)(Object(a.a)({},e),{},{backgroundColor:"#111417",zIndex:9999})},dropdownItem:function(e){return Object(a.a)(Object(a.a)({},e),{},{backgroundColor:"red"})}}},,,,,function(e,t,n){"use strict";var a=n(27),r=n(2),i=n(0),c=n.n(i);function o(){var e=Object(r.a)([""]);return o=function(){return e},e}var s=n(3).a.img(o());t.a=c.a.memo((function(e){var t=e.className,r=void 0===t?"":t,i=e.countryAbbr,o=void 0===i?"nl":i,l=Object(a.a)(e,["className","countryAbbr"]),d=o;null===o&&(d="nl");var u="";switch(d.toLocaleLowerCase()){case"en":case"uk":u=n(320);break;case"nl":u=n(321);break;case"de":u=n(688);break;default:u=n(321)}return c.a.createElement(s,Object.assign({className:"flag ".concat(r),src:u,alt:"flag"},l))}))},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));n(14);var a=function(e){var t=e.getHours(),n=e.getMinutes(),a=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+a},r=function(){return Math.round(+new Date/1e3)},i=function(e){e=e;var t=new Date;return Math.round(new Date(t.getTime()+6e4*e)/1e3)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j}));var a,r,i=n(1),c=n(6),o=n(2),s=n(0),l=n.n(s),d=n(3),u=n(7),m=n(108),p=n(30),f=d.a.div(a||(a=Object(o.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),b=Object(d.a)(u.s)(r||(r=Object(o.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),h=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.file,o=e.actions,d=e.isMember,h=e.forceDelete,_=void 0!==h&&h,O=e.disableOptions,E=o.getFileSizeUnit(r.hasOwnProperty("size")&&"number"===typeof r.size?r.size:0),g=Object(s.useState)(r.is_favorite),A=Object(c.a)(g,2),v=A[0],j=A[1];return l.a.createElement(f,{className:"file-list-item cursor-pointer ".concat(n),onClick:function(){o.viewFiles(r)}},l.a.createElement("div",{className:"card  app-file-list"},l.a.createElement("div",{className:"string"===typeof r.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===v&&l.a.createElement(b,{icon:"star"}),o.getFileIcon(r.mime_type),"number"===typeof r.id&&l.a.createElement(m.c,{file:r,folders:a,actions:Object(i.a)(Object(i.a)({},o),{},{favorite:function(){j((function(e){return!e})),o.favorite(r)}}),isMember:d,forceDelete:_,disableOptions:O}),"string"===typeof r.id&&l.a.createElement(p.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),l.a.createElement("div",{className:"p-2 small"},l.a.createElement(u.t,{content:r.name?r.name:r.search},l.a.createElement("div",{className:"file-name"},r.hasOwnProperty("payload_id")&&l.a.createElement(u.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),r.name?r.name:r.search)),l.a.createElement("div",{className:"text-muted"},E.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],E.unit))))})),_=n(39),O=n(14);function E(){var e=Object(o.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return E=function(){return e},e}function g(){var e=Object(o.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return g=function(){return e},e}var A=d.a.div(g()),v=Object(d.a)(u.s)(E()),j=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.actions,i=e.isMember,c=e.history,o=e.params,s=e.handleAddEditFolder,d=e.disableOptions,p=Object(_.j)(),f=p.path,b=p.url;return l.a.createElement(A,{className:"file-list-item cursor-pointer ".concat(n),onClick:function(e){if(e.preventDefault(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===f||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===f){var t=b.split("/folder/")[0];c.push(t+"/folder/".concat(a.id,"/").concat(Object(O.h)(a.search)))}else c.push(c.location.pathname+"/folder/".concat(a.id,"/").concat(Object(O.h)(a.search)))}},l.a.createElement("div",{className:"card  app-file-list"},l.a.createElement("div",{className:"app-file-icon"},a.hasOwnProperty("payload")&&l.a.createElement(v,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),l.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!d&&l.a.createElement(m.i,{folder:a,actions:r,isMember:i,history:c,params:o,handleAddEditFolder:s})),l.a.createElement("div",{className:"p-2 small"},l.a.createElement(u.t,{content:a.search},l.a.createElement("div",{className:"file-name"},a.search)))))}))},,function(e,t,n){"use strict";var a=n(6),r=n(27),i=n(2),c=n(4),o=n.n(c),s=n(0),l=n.n(s);function d(){var e=Object(i.a)(['\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  font-size: 1rem;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-align: left;\n\n  input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    width: 100%;\n    left: 0px;\n    height: 100%;\n    z-index: 1;\n    top: 6px;\n  }\n\n  .checkmark {\n    height: 16px;\n    width: 16px;\n    background-color: #fff;\n    border-radius: 50%;\n    border: 1px solid #adb5bd;\n    position: relative;\n    margin-right: 14px;\n    transition: all 200ms ease;\n  }\n\n  &:hover {\n    input ~ .checkmark {\n      background-color: #972c86;\n      border-color: #972c86;\n      box-shadow: 0 0 0 0.2rem rgba(170, 102, 204, 0.3);\n    }\n\n    input:checked ~ .checkmark {\n      background-color: #972c86;\n      border-color: #972c86;\n    }\n\n    input ~ .checkmark:after {\n      background-color: #fff;\n    }\n  }\n\n  input:checked ~ .checkmark {\n    background-color: #fff;\n  }\n\n  .checkmark:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n\n  input:checked ~ .checkmark:after {\n    display: block;\n  }\n\n  .checkmark:after {\n    left: 3px;\n    top: 3px;\n    width: 8px;\n    height: 8px;\n    background-color: #972c86;\n    border-radius: 50%;\n    transition: all 200ms ease;\n  }\n']);return d=function(){return e},e}var u=n(3).a.div(d()),m=Object(s.forwardRef)((function(e,t){var n=e.className,i=void 0===n?"":n,c=e.checked,o=void 0!==c&&c,d=e.onClick,m=e.name,p=e.value,f=e.readOnly,b=void 0===f?null:f,h=e.children,_=Object(r.a)(e,["className","checked","onClick","name","value","readOnly","children"]),O=Object(s.useState)(""),E=Object(a.a)(O,2),g=E[0],A=E[1],v=function(e){g.click(),d&&d(g)};return l.a.createElement(u,{ref:t,className:"component-radio-input ".concat(i),onClick:function(e){return v()}},b?l.a.createElement("input",Object.assign({readOnly:!0,checked:o,name:m,value:p,ref:A,type:"radio"},_)):l.a.createElement("input",Object.assign({checked:o,name:m,value:p,ref:A,type:"radio"},_)),l.a.createElement("span",{className:"checkmark"}),h)}));o.a.string,o.a.func,o.a.number,o.a.oneOfType;t.a=l.a.memo(m)},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"n",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return m})),n.d(t,"o",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return _})),n.d(t,"k",(function(){return O})),n.d(t,"d",(function(){return E}));var a=n(8),r=n(10);function i(e,t){return Object(a.b)(Object(r.Pb)(e),"GET_NOTIFICATIONS_START","GET_NOTIFICATIONS_SUCCESS","GET_NOTIFICATIONS_FAIL",t)}function c(e,t){return Object(a.b)(Object(r.Tc)(e),"PATCH_NOTIFICATION_START","PATCH_NOTIFICATION_SUCCESS","PATCH_NOTIFICATION_FAIL",t)}function o(e,t){return Object(a.b)(Object(r.Ge)(e),"UNREAD_NOTIFICATION_START","UNREAD_NOTIFICATION_SUCCESS","UNREAD_NOTIFICATION_FAIL",t)}function s(e,t){return Object(a.b)(Object(r.ve)(e),"READ_ALL_NOTIFICATION_START","READ_ALL_NOTIFICATION_SUCCESS","READ_ALL_NOTIFICATION_FAIL",t)}function l(e,t){return Object(a.a)("READ_ALL_NOTIFICATION_REDUCER",e,t)}function d(e,t){return Object(a.a)("READ_NOTIFICATION_REDUCER",e,t)}function u(e,t){return Object(a.a)("NOTIFICATION_SNOOZE",e,t)}function m(e,t){return Object(a.a)("NOTIFICATION_SNOOZE_ALL",e,t)}function p(e,t){return Object(a.a)("UNREAD_NOTIFICATION_REDUCER",e,t)}function f(e,t){return Object(a.b)(Object(r.B)(e),"DELETE_NOTIFICATION_START","DELETE_NOTIFICATION_SUCCESS","DELETE_NOTIFICATION_FAIL",t)}function b(e,t){return Object(a.b)(Object(r.p)(e),"DELETE_ALL_NOTIFICATION_START","DELETE_ALL_NOTIFICATION_SUCCESS","DELETE_ALL_NOTIFICATION_FAIL",t)}function h(e,t){return Object(a.a)("REMOVE_NOTIFICATION_REDUCER",e,t)}function _(e,t){return Object(a.a)("REMOVE_ALL_NOTIFICATION_REDUCER",e,t)}function O(e,t){return Object(a.a)("SET_PUSH_NOTIFICATION",e,t)}function E(e,t){return Object(a.a)("INCOMING_REMINDER_NOTIFICATION",e,t)}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,r,i=n(2),c=n(0),o=n.n(c),s=n(372),l=(n(686),n(3)),d=n(7),u=n(9),m=(n(687),l.a.section(a||(a=Object(i.a)(["\n  visibility: ",";\n  .reply-document-dropdown {\n    opacity: ",";\n    transition: opacity 200ms ease;\n    background: rgba(255, 255, 255, 0.9);\n\n    .dark & {\n      background: rgba(25, 28, 32, 0.9);\n    }\n  }\n  .click-cancel-drop {\n    .dark & {\n      background: #fff;\n      color: #7a1b8b;\n    }\n  }\n"])),(function(e){return e.hide?"hidden":"visible"}),(function(e){return e.hide?"0":"1"}))),p=Object(l.a)(d.s)(r||(r=Object(i.a)([""]))),f=Object(c.forwardRef)((function(e,t){var n=e.onCancel,a=e.onDrop,r=e.noX,i=void 0!==r&&r,c=e.disableInput,l=void 0!==c&&c,d=e.openOnLoad,f=void 0!==d&&d,b=e.hide,h=e.acceptType,_=void 0===h?"":h,O=Object(u.X)(),E=Object(u.cb)()._t,g=e.placeholderText;g||(g=E("UPLOAD.DRAG_N_DROP_YOUR_FILES","Drag 'n' drop your files here."));var A=function(e){for(var t=e.acceptedFiles,n=e.rejectedFiles,r={timeOut:8e3,icon:"error"},i=0;i<t.length;i++){var c=t[i];0===c.size&&(O.error(o.a.createElement("span",null,"File ",o.a.createElement("b",null,c.name)," upload failed!",o.a.createElement("br",null),"Empty file detected."),r),delete t[i])}for(var s=0;s<n.length;s++){var l=n[s];O.error(o.a.createElement("span",null,"File ",o.a.createElement("b",null,l.name)," upload failed!",o.a.createElement("br",null),o.a.createElement("b",null,"Tip:")," Zip it and try again."),r)}a({acceptedFiles:t})},v=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg",".7z",".aac",".ai",".aif",".aifc",".aifc",".aiff",".aiff",".avi",".bmp",".bmp",".cab",".csv",".doc",".docx",".dot",".dotx",".eps",".epub",".flac",".flv",".gif",".ico",".jpg",".mj2",".mjp2",".mkv",".mng",".mov",".mp3",".mp4",".mpeg",".mpp",".mpt",".numbers",".odm",".odm",".odoc",".odp",".ods",".odt",".oga",".ogg",".otp",".ott",".pages",".pdf",".pea",".pez",".png",".pot",".pps",".ppt",".pptx",".pptz",".ps",".qt",".rar",".raw",".rtf",".spx",".stc",".svg",".tar",".tgz",".tif",".tiff",".tsv",".txt",".vcf",".wav",".webm",".webp",".wma",".wmv",".xla",".xlc",".xls",".xlsx",".xlt",".xlw",".xml",".zip"];return"imageOnly"===_&&(v=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg"]),o.a.createElement(s.a,{ref:t,onDrop:function(e,t){return A({acceptedFiles:e,rejectedFiles:t})},onCancel:function(){return n()},onDragLeave:function(){return n()},onFileDialogCancel:n,hide:b,openOnload:f,noClick:l,accept:v},(function(e){var t=e.getRootProps,a=e.getInputProps,r=e.isDragActive;return o.a.createElement(m,{hide:b},o.a.createElement("div",Object.assign({},t(),{className:"reply-document-dropdown ".concat(r?"show-border":"no-border")}),o.a.createElement("input",a()),o.a.createElement("div",{className:"reply-dropzone"},o.a.createElement(p,{icon:"upload-cloud"}),o.a.createElement("p",null,g))),!i&&o.a.createElement("button",{"aria-label":"close",className:"click-cancel-drop",onClick:n},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement(p,{icon:"x"}))))}))}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return _})),n.d(t,"j",(function(){return N})),n.d(t,"n",(function(){return F})),n.d(t,"g",(function(){return B})),n.d(t,"i",(function(){return Ee})),n.d(t,"a",(function(){return ge})),n.d(t,"m",(function(){return Ce})),n.d(t,"e",(function(){return Le})),n.d(t,"f",(function(){return nt})),n.d(t,"b",(function(){return ft})),n.d(t,"d",(function(){return _t})),n.d(t,"p",(function(){return yt})),n.d(t,"c",(function(){return Nt})),n.d(t,"k",(function(){return It})),n.d(t,"l",(function(){return Wt})),n.d(t,"q",(function(){return Kt})),n.d(t,"r",(function(){return $t})),n.d(t,"o",(function(){return tn}));var a=n(2),r=n(0),i=n.n(r),c=n(3),o=n(7);function s(){var e=Object(a.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]);return s=function(){return e},e}var l,d,u,m,p,f,b,h=c.a.div(s()),_=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.search,r=e.dictionary;return i.a.createElement(h,{className:"post-filter-search-panel app-action ".concat(n)},i.a.createElement("div",{className:"action-left"},i.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},i.a.createElement(o.s,{icon:"menu"}))),i.a.createElement("div",{className:"action-right"},i.a.createElement(Ce,{search:a,placeholder:r.searchPost})))})),O=n(6),E=n(5),g=n(30),A=n(9),v=n(23),j=c.a.li(l||(l=Object(a.a)(["\n  flex-flow: column;\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    overflow: inherit;\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n    }\n    @media (max-width: 991.99px) {\n      img {\n        width: 2rem;\n        height: 2rem;\n      }\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"]))),C=Object(c.a)(o.s)(d||(d=Object(a.a)(["\n  width: 16px;\n"]))),T=c.a.div(u||(u=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]))),y=c.a.div(m||(m=Object(a.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]))),S=Object(c.a)(v.k)(p||(p=Object(a.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n"]))),w=c.a.div(f||(f=Object(a.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),k=c.a.div(b||(b=Object(a.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),N=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternalUser,c=e.post,s=e.dictionary,l=e.disableOptions,d=e.toggleCheckbox,u=e.checked,m=e.workspace,p=e.hasUnread,f=e.postActions,b=f.starPost,h=f.openPost,_=f.archivePost,v=f.markAsRead,N=f.markAsUnread,R=f.sharePost,x=f.followPost,I=f.remind,P=f.showModal,D=f.close,L=f.disconnectPostList,F=f.updatePostListConnect,M=Object(E.useSelector)((function(e){return e.session.user})),U=Object(E.useSelector)((function(e){return e.workspaces.flipper})),G=Object(A.W)().fromNow,H=Object(r.useState)(0),B=Object(O.a)(H,2),W=B[0],Y=B[1],z=Object(r.useState)(!1),V=Object(O.a)(z,2),Q=V[0],q=V[1],K=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){K.current=!1}}),[]);var J=function(){var e=c.users_approval.length>0&&c.users_approval.some((function(e){return null===e.ip_address&&e.id===M.id}));if(c.is_must_read&&c.author.id!==M.id){if(c.is_must_read&&c.required_users&&c.required_users.some((function(e){return e.id===M.id&&!e.must_read})))return!0}else{if(!c.is_must_reply||c.author.id===M.id)return!!e;if(c.required_users&&c.required_users.some((function(e){return e.id===M.id&&!e.must_reply})))return!0}};return i.a.createElement(j,{"data-toggle":U?"1":"0",appListWidthDiff:W+50,className:"list-group-item post-item-panel ".concat(p?"has-unread":""," ").concat(n," pl-3"),onClick:function(){return h(c)}},i.a.createElement(Wt,{post:c,user:M,dictionary:s,isExternalUser:a,classNames:"text-truncate"}),i.a.createElement(w,null,i.a.createElement(S,{name:"test",checked:u,onClick:function(){return d(c.id)},disabled:J()}),i.a.createElement(y,{className:"d-flex ml-2 mr-2"},i.a.createElement(o.a,{title:"FROM: ".concat(c.author.name),className:"author-avatar mr-2",id:c.author.id,name:c.author.name,imageLink:c.author.profile_image_thumbnail_link?c.author.profile_image_thumbnail_link:c.author.profile_image_link})),i.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},i.a.createElement("div",{className:"app-list-title text-truncate ".concat(p?"has-unread":"")},i.a.createElement("div",{className:"text-truncate d-flex"},i.a.createElement("span",{className:"text-truncate"},c.author.id!==M.id&&!c.is_followed&&i.a.createElement(C,{icon:"eye-off"}),c.title),i.a.createElement(k,{className:"hover-btns ml-1"},"draft_post"!==c.type&&!l&&c.author.id===M.id&&i.a.createElement(C,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),P("edit",c)}}),!l&&!J()&&i.a.createElement(C,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),Q||(q(!0),_(c,(function(){K.current&&q(!1)})))}}))),i.a.createElement(T,null,0!==c.unread_count&&i.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},c.unread_count," new"),i.a.createElement("div",{className:"text-muted"},0===c.reply_count?s.noComment:1===c.reply_count?s.oneComment:s.comments.replace("::comment_count::",c.reply_count)),i.a.createElement("span",{className:"time-stamp text-muted"},i.a.createElement("span",null,G(c.updated_at.timestamp)))))),i.a.createElement(ge,{post:c,dictionary:s,user:M,cbGetWidth:Y}),i.a.createElement("div",{className:"d-flex"},"draft_post"!==c.type&&!l&&i.a.createElement(g.c,{className:"d-flex ml-2",item:c,width:220,moreButton:"more-horizontal"},null===c.todo_reminder&&i.a.createElement("div",{onClick:function(){return I(c)}},s.remindMeAboutThis),c.author&&c.author.id===M.id&&i.a.createElement("div",{onClick:function(){return P("edit",c)}},s.editPost),0===c.is_unread?i.a.createElement("div",{onClick:function(){return N(c,!0)}},s.markAsUnread):J()?null:i.a.createElement("div",{onClick:function(){return v(c,!0)}},s.markAsRead),i.a.createElement("div",{onClick:function(){return R(c)}},s.share),c.author&&c.author.id!==M.id&&i.a.createElement("div",{onClick:function(){return x(c)}},c.is_followed?s.unFollow:s.follow),i.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),l||b(c)}},c.is_favourite?s.unStar:s.star),(c.author&&c.author.id===M.id||"external"===c.author.type&&"internal"===M.type)&&i.a.createElement("div",{onClick:function(){return D(c)}},c.is_close?s.openThisPost:s.closeThisPost),c.post_list_connect&&i.a.createElement("div",{onClick:function(){return function(){if(1!==c.post_list_connect.length)P("add_to_list",c);else{var e={link_id:c.post_list_connect[0].id,post_id:c.id};L(e,(function(e,t){e||(t.data.topic_id=m&&m.id?m.id:null,F(t.data))}))}}()}},1===c.post_list_connect.length?s.removeToList:s.addToList)))))}));function R(){var e=Object(a.a)([""]);return R=function(){return e},e}function x(){var e=Object(a.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]);return x=function(){return e},e}function I(){var e=Object(a.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return I=function(){return e},e}var P=c.a.div(I()),D=Object(c.a)(o.s)(x()),L=c.a.div(R()),F=i.a.memo((function(e){var t=e.workspace,n=e.isMember,a=e.filter,r=e.filters,c=e.tag,o=e.count,s=e.postLists,l=e.counters,d=e.postActions,u=e.onGoBack,m=e.dictionary,p=e.disableOptions,f=e.postListTag;return i.a.createElement(P,{className:"col-md-3 app-sidebar bottom-modal-mobile"},i.a.createElement(L,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),i.a.createElement("div",{className:"bottom-modal-mobile_inner"},i.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},n&&i.a.createElement("div",{className:"card-body create-new-post-wrapper"},i.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){d.showModal("create")},disabled:p},m.createNewPost)),i.a.createElement(B,{workspace:t,filter:a,filters:r,tag:c,onGoBack:u,counters:l,dictionary:m}),i.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},i.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},m.category,i.a.createElement("span",{className:"ml-auto",onClick:function(){d.showModal("create_edit_post_list")},disabled:p},i.a.createElement(D,{className:"mr-0",icon:"plus"})))),i.a.createElement(Ee,{count:o,workspace:t,tag:c,onGoBack:u,dictionary:m}),i.a.createElement(It,{workspace:t,postLists:s,tag:c,postListTag:f,onGoBack:u,dictionary:m,postActions:d}))))})),M=n(20),U=n(17);function G(){var e=Object(a.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']);return G=function(){return e},e}var H=c.a.div(G()),B=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,c=e.filter,s=void 0===c?"all":c,l=e.filters,d=e.onGoBack,u=e.counters,m=e.dictionary,p=Object(E.useDispatch)(),f=Object(A.H)(),b=Object(r.useState)(!1),h=Object(O.a)(b,2),_=h[0],g=h[1],v=function(e){if(l){if("archive"!==e.target.dataset.value||!a||l.hasOwnProperty("archived")||_||function(){g(!0);f.getPosts({filters:["post","archived"],topic_id:a.id},(function(e,t){if(g(!1),!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),p(Object(U.g)({topic_id:a.id,posts:t.data.posts,filter:t.data.posts,files:n,filters:{archived:{active:!1,skip:t.data.next_skip,hasMore:t.data.total_take===t.data.posts.length}}}))}}))}(),e.target.dataset.value===s)d();else{var t={topic_id:a.id,filter:e.target.dataset.value,tag:null};p(Object(M.W)(t)),d()}document.body.classList.remove("mobile-modal-open")}};return i.a.createElement(H,{className:"post-filter-item list-group list-group-flush ".concat(n)},i.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(s&&"inbox"===s?"active":""),"data-value":"inbox",onClick:v},i.a.createElement(o.s,{className:"mr-2",icon:"inbox"}),m.inbox,i.a.createElement("span",{className:"small ml-auto"},a&&a.unread_posts>0&&a.unread_posts)),i.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(s&&"all"===s?"active":""),"data-value":"all",onClick:v},i.a.createElement(o.s,{className:"mr-2",icon:"mail"}),m.all),i.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(s&&"my_posts"===s?"active":""),"data-value":"my_posts",onClick:v},i.a.createElement(o.s,{className:"mr-2",icon:"send-post"}),m.myPosts),i.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(s&&"star"===s?"active":""),"data-value":"star",onClick:v},i.a.createElement(o.s,{className:"mr-2",icon:"star"}),m.starred),i.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(s&&"archive"===s?"active":""),"data-value":"archive",onClick:v},i.a.createElement(o.s,{className:"mr-2",icon:"archive"}),m.archived),i.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(s&&"draft"===s?"active":""),"data-value":"draft",onClick:v},i.a.createElement(o.s,{className:"mr-2",icon:"edit-3"}),m.drafts,i.a.createElement("span",{className:"small ml-auto"},u.drafts>0&&u.drafts)))})),W=n(1);function Y(){var e=Object(a.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin!important;\n  }\n"]);return Y=function(){return e},e}var z,V,Q,q,K,J,Z,X,$,ee,te,ne,ae,re,ie,ce,oe,se,le,de,ue,me,pe,fe,be,he,_e,Oe=c.a.div(Y()),Ee=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,r=e.tag,c=e.count,o=e.onGoBack,s=e.dictionary,l=Object(E.useDispatch)(),d=function(e){var t={topic_id:a.id,tag:e.target.dataset.value,filter:null};r===e.target.dataset.value&&(t=Object(W.a)(Object(W.a)({},t),{},{tag:null,filter:"all"})),l(Object(M.W)(t)),o(),document.body.classList.remove("mobile-modal-open")};return i.a.createElement(Oe,{className:"list-group list-group-flush ".concat(n)},i.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_must_reply"===r?"active":""),"data-value":"is_must_reply",onClick:d},i.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),s.replyRequired,i.a.createElement("span",{className:"small ml-auto"},c&&c.is_must_reply>0&&c.is_must_reply)),i.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_must_read"===r?"active":""),"data-value":"is_must_read",onClick:d},i.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),s.mustRead,i.a.createElement("span",{className:"small ml-auto"},c&&c.is_must_read>0&&c.is_must_read)),i.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_read_only"===r?"active":""),"data-value":"is_read_only",onClick:d},i.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),s.noReplies,i.a.createElement("span",{className:"small ml-auto"},c&&c.is_read_only>0&&c.is_read_only)),i.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_unread"===r?"active":""),"data-value":"is_unread",onClick:d},i.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),s.unread,i.a.createElement("span",{className:"small ml-auto"},c&&c.is_unread>0&&c.is_unread)),i.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_close"===r?"active":""),"data-value":"is_close",onClick:d},i.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),s.closed,i.a.createElement("span",{className:"small ml-auto"},c&&c.is_close>0&&c.is_close)))})),ge=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isBadgePill,c=void 0!==a&&a,o=e.post,s=e.dictionary,l=e.user,d=e.cbGetWidth,u=void 0===d?function(){}:d,m={container:Object(r.useRef)(null)};Object(r.useEffect)((function(){m.container.current&&u(m.container.current.clientWidth)}),[o]);var p=o.users_approval.some((function(e){return e.id===l.id}));return i.a.createElement("div",{ref:m.container},(o.is_must_read||o.is_must_reply||o.is_read_only||"draft_post"===o.type||0!==o.is_archived||!0===o.is_personal)&&i.a.createElement(i.a.Fragment,null,!o.recipients.every((function(e){return"USER"===e.type}))&&o.recipients.some((function(e){return"USER"===e.type}))&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none")},i.a.createElement("div",{className:"badge badge-light text-white ".concat(c?"badge-pill":"")},s.private)),1===o.is_archived&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none")},i.a.createElement("div",{className:"badge badge-light text-white ".concat(c?"badge-pill":"")},s.archived)),"draft_post"===o.type&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none")},i.a.createElement("div",{className:"badge badge-light text-white ".concat(c?"badge-pill":"")},s.draft)),(o.is_must_read&&o.required_users&&o.required_users.some((function(e){return e.id===l.id&&!e.must_read}))||o.author.id===l.id&&o.is_must_read||o.must_read_users&&o.must_read_users.some((function(e){return e.id===l.id&&!e.must_read})))&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none ").concat(o.author.id===l.id?"opacity-2":"")},i.a.createElement("div",{className:"badge badge-danger ".concat(c?"badge-pill":"")},s.mustRead)),(o.is_must_reply&&o.required_users&&o.required_users.some((function(e){return e.id===l.id&&!e.must_reply}))||o.author.id===l.id&&o.is_must_reply||o.must_reply_users&&o.must_reply_users.some((function(e){return e.id===l.id&&!e.must_reply})))&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none ").concat(o.author.id===l.id?"opacity-2":"")},i.a.createElement("div",{className:"badge badge-warning ".concat(c?"badge-pill":"")},s.replyRequired)),o.is_read_only&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none")},i.a.createElement("div",{className:"badge badge-info ".concat(c?"badge-pill":"")},s.noReplies))),o.post_approval_label&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none")},i.a.createElement("div",{className:"badge ".concat("ACCEPTED"===o.post_approval_label?"badge-success":"badge-primary"," ").concat(c?"badge-pill":"")},function(e){switch(e){case"ACCEPTED":return s.accepted;case"NEED_ACTION":return p?s.actionNeeded:null;case"REQUEST_UPDATE":return o.author.id===l.id?s.changeRequested:null;case"SPLIT":return"Split";case"REQUEST_APPROVAL":return o.author.id===l.id?s.requestForApproval:null;default:return null}}(o.post_approval_label))),o.is_close&&i.a.createElement("div",{className:"".concat(n," mr-3 d-sm-inline d-none")},i.a.createElement("div",{className:"badge badge-closed ".concat(c?"badge-pill":"")},s.repliesClosed)))})),Ae=n(39),ve=n(54),je=c.a.div(z||(z=Object(a.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),Ce=i.a.memo((function(e){var t=e.search,n=e.placeholder,a=Object(E.useDispatch)(),c=Object(Ae.i)(),s=Object(r.useState)(null===t?"":t),l=Object(O.a)(s,2),d=l[0],u=l[1],m=parseInt(c.workspaceId),p=Object(ve.debounce)((function(e){a(Object(M.a)({topic_id:m,search:e,search_result:[]})),""!==e&&a(Object(U.u)({topic_id:m,search:e},(function(t,n){t||a(Object(M.a)({topic_id:m,search:e,search_result:n.data.posts}))})))}),500);return i.a.createElement(je,{className:"input-group"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:n,value:d,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&p()},onChange:function(e){u(e.target.value),p(e.target.value.trim())}}),i.a.createElement("div",{className:"input-group-append"},""!==d.trim()&&i.a.createElement("button",{onClick:function(){u(""),a(Object(M.a)({topic_id:m,search:"",search_result:[]}))},className:"btn-cross",type:"button"},i.a.createElement(o.s,{icon:"x"})),i.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:p},i.a.createElement("i",{className:"ti-search"}))))})),Te=n(11),ye=n(13),Se=n(74),we=n(81),ke=c.a.div(V||(V=Object(a.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]))),Ne=c.a.div(Q||(Q=Object(a.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]))),Re=Object(c.a)(g.c)(q||(q=Object(a.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]))),xe=Object(c.a)(o.h)(K||(K=Object(a.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]))),Ie=Object(c.a)(o.s)(J||(J=Object(a.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),Pe=c.a.div(Z||(Z=Object(a.a)(["\n  cursor: pointer;\n"]))),De=c.a.div(X||(X=Object(a.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),Le=i.a.memo((function(e){var t=e.post,a=e.posts,c=e.filter,s=e.postActions,l=e.user,d=e.onGoBack,u=e.workspace,m=e.dictionary,p=e.disableOptions,f=e.readByUsers,b=void 0===f?[]:f,h=e.isMember,_=s.markAsRead,g=s.markAsUnread,v=s.sharePost,j=s.followPost,C=s.remind,T=s.close,y=Object(E.useDispatch)(),S=Object(A.e)(),w=Object(E.useSelector)((function(e){return e.users.users})),k=Object(r.useState)(!1),N=Object(O.a)(k,2),R=N[0],x=N[1],I=Object(A.h)(t).comments,P=b.some((function(e){return e.id===l.id})),D=Object(Te.a)(new Set(t.view_user_ids)),L=Object.values(w).filter((function(e){return D.some((function(t){return t===e.id}))})),F=Object.values(w).filter((function(e){return t.clap_user_ids.some((function(t){return t===e.id}))})),M=function(){d()},G={dropZoneRef:Object(r.useRef)(null)},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y(Object(U.Nb)(e)),s.setCommentType(t),G.dropZoneRef.current&&G.dropZoneRef.current.open()},B=function(){x(!1)},Y=function(e){var a=[];e.forEach((function(e){var t=new FormData;t.append("file",e);var r=n(64).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?a.push(Object(W.a)(Object(W.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):"video/mp4"===e.type?a.push(Object(W.a)(Object(W.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):a.push(Object(W.a)(Object(W.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:t,name:e.name?e.name:e.path}))})),B();var r={type:"file_upload",droppedFiles:a,mode:"post",post:t,members:u?u.members:[]};y(Object(ye.a)(r))},z=function(){var e=t.users_approval.length>0&&t.users_approval.some((function(e){return null===e.ip_address&&e.id===l.id}));if(t.is_must_read&&t.author.id!==l.id){if(t.is_must_read&&t.required_users&&t.required_users.some((function(e){return e.id===l.id&&!e.must_read})))return!0;if(t.must_read_users&&t.must_read_users.some((function(e){return e.id===l.id&&!e.must_read})))return!0}if(t.is_must_reply&&t.author.id!==l.id){if(t.required_users&&t.required_users.some((function(e){return e.id===l.id&&!e.must_reply})))return!0;if(t.must_reply_users&&t.must_reply_users.some((function(e){return e.id===l.id&&!e.must_reply})))return!0}return!!e};Object(r.useEffect)((function(){return t.view_user_ids.some((function(e){return e===l.id}))||z()||s.visit({post_id:t.id,personalized_for_id:null}),(1===t.is_unread||t.unread_count>0)&&(z()||s.markAsRead(t)),"undefined"===typeof t.fetchedReact&&s.fetchPostClapHover(t.id),s.getUnreadWsPostsCount({topic_id:u.id}),function(){return s.getUnreadWsPostsCount({topic_id:u.id})}}),[]);var V=t.recipients.filter((function(e){return"TOPIC"===e.type&&1===e.private}));return i.a.createElement(i.a.Fragment,null,null!==t.todo_reminder&&i.a.createElement(o.p,{todoReminder:t.todo_reminder,type:"POST"}),i.a.createElement(ke,{className:"card-header d-flex justify-content-between"},i.a.createElement("div",{className:"d-flex flex-column align-items-start"},i.a.createElement("div",{className:"d-flex"},i.a.createElement("div",{className:"align-self-start"},i.a.createElement(Ie,{className:"close mr-2",icon:"arrow-left",onClick:M})),i.a.createElement("div",null,i.a.createElement("h5",{ref:G.title,className:"post-title mb-0"},i.a.createElement("span",null,t.author.id!==l.id&&!t.is_followed&&i.a.createElement(Ie,{icon:"eye-off"}),t.title,V.length===t.recipients.length&&i.a.createElement(Ie,{className:"ml-1",icon:"lock",strokeWidth:"2",width:14,height:14})))))),i.a.createElement("div",null,t.author.id===l.id&&!p&&i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},i.a.createElement("a",{onClick:function(){return s.showModal("edit",t)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},i.a.createElement(Ie,{icon:"edit-3"})))),i.a.createElement("li",null,i.a.createElement("a",{onClick:function(){return s.trash(t)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},i.a.createElement(Ie,{icon:"trash"}))),i.a.createElement("li",null,i.a.createElement(Re,{className:"ml-2",item:t,width:220,moreButton:"more-horizontal"},i.a.createElement("div",{onClick:function(){return C(t)}},m.remindMeAboutThis),0===t.is_unread?i.a.createElement("div",{onClick:function(){return g(t,!0)}},m.markAsUnread):i.a.createElement("div",{onClick:function(){return _(t,!0)}},m.markAsRead),i.a.createElement("div",{onClick:function(){return v(t)}},m.share),t.author.id!==l.id&&i.a.createElement("div",{onClick:function(){return j(t)}},t.is_followed?m.unFollow:m.follow),i.a.createElement("div",{onClick:function(){return T(t)}},t.is_close?m.openThisPost:m.closeThisPost)))),t.author.id!==l.id&&i.a.createElement("div",null,i.a.createElement(Re,{className:"ml-2",item:t,width:170,moreButton:"more-horizontal"},null===t.todo_reminder&&i.a.createElement("div",{onClick:function(){return C(t)}},m.remindMeAboutThis),!z()&&i.a.createElement("div",{onClick:function(){return _(t,!0)}},m.markAsRead),i.a.createElement("div",{onClick:function(){return g(t,!0)}},m.markAsUnread),i.a.createElement("div",{onClick:function(){return v(t)}},m.share),t.author.id!==l.id&&i.a.createElement("div",{onClick:function(){return j(t)}},t.is_followed?m.unFollow:m.follow),"external"===t.author.type&&"internal"===l.type&&i.a.createElement("div",{onClick:function(){return T(t)}},t.is_close?m.openThisPost:m.closeThisPost))))),i.a.createElement(Ne,{onDragOver:function(){x(!0)}},i.a.createElement(Se.a,{hide:!R,ref:G.dropZoneRef,onDragLeave:B,onDrop:function(e){var t=e.acceptedFiles;Y(t)},onCancel:B}),i.a.createElement(ft,{post:t,user:l,postActions:s,isAuthor:t.author&&t.author.id===l.id,dictionary:m,disableOptions:p,workspaceId:u.id,disableMarkAsRead:z}),(t.author.id!==l.id&&t.is_must_read&&t.required_users&&t.required_users.some((function(e){return e.id===l.id&&!e.must_read}))||t.must_read_users&&t.must_read_users.some((function(e){return e.id===l.id&&!e.must_read})))&&i.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},i.a.createElement(Pe,{className:"d-sm-inline d-none"},i.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){s.markReadRequirement(t);var e=t.users_approval.length>0&&t.users_approval.some((function(e){return null===e.ip_address&&e.id===l.id})),n=!0;t.is_must_reply&&t.author.id!==l.id&&(t.required_users&&t.required_users.some((function(e){return e.id===l.id&&!e.must_reply}))&&(n=!1),t.must_reply_users&&t.must_reply_users.some((function(e){return e.id===l.id&&!e.must_reply}))&&(n=!1)),n&&!e&&s.markAsRead(t)},disabled:p},m.markAsRead))),t.user_unfollow.length>0&&i.a.createElement(tn,{user_unfollow:t.user_unfollow}),i.a.createElement("hr",{className:"m-0"}),i.a.createElement(we.c,{dictionary:m,hasRead:P,likers:F,post:t,readByUsers:b,viewerIds:D,viewers:L,handleReaction:function(){var e={post_id:t.id,id:null,clap:0===t.user_clap_count?1:0,personalized_for_id:null};s.clap(e,(function(t,n){t&&(1===e.clap?s.unlike(e):s.like(e))})),0===t.user_clap_count?s.like(e):s.unlike(e)}}),t.files.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},m.files),i.a.createElement(xe,{attachedFiles:t.files,type:"post",post:t})),i.a.createElement("hr",{className:"m-0"})),t.files_trashed&&t.files_trashed.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(De,{className:"card-body"},i.a.createElement("h6",{className:"font-size-11 text-uppercase"},m.files),i.a.createElement("span",{className:"text-muted"},m.filesAutomaticallyRemoved),i.a.createElement(xe,{attachedFiles:t.files_trashed,type:"post",post:t})),i.a.createElement("hr",{className:"m-0"})),I&&Object.keys(I).length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(_t,{comments:I,post:t,user:l,commentActions:S,onShowFileDialog:H,dropAction:Y,workspace:u,isMember:h,dictionary:m,disableOptions:p,postActions:s}),i.a.createElement("hr",{className:"m-0"})),i.a.createElement(nt,{post:t,posts:a,filter:c,commentActions:S,postActions:s,overview:M,onShowFileDialog:H,dropAction:Y,workspace:u,isMember:h,disableOptions:p,mainInput:!0})))})),Fe=n(43),Me=n.n(Fe),Ue=n(192),Ge=n(16),He=n(14),Be=n(204),We=n(154),Ye=c.a.div($||($=Object(a.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),ze=c.a.div(ee||(ee=Object(a.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),Ve=Object(c.a)(o.s)(te||(te=Object(a.a)([""]))),Qe=c.a.div(ne||(ne=Object(a.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),qe=c.a.div(ae||(ae=Object(a.a)(["\n  width: 100%;\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),Ke=c.a.div(re||(re=Object(a.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),Je=Object(c.a)(o.f)(ie||(ie=Object(a.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Ze=c.a.div(ce||(ce=Object(a.a)(["\n  padding: 5px 45px;\n"]))),Xe=c.a.div(oe||(oe=Object(a.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),$e=Object(c.a)(o.s)(se||(se=Object(a.a)(["\n  margin-right: 6px;\n  width: 20px;\n"]))),et=c.a.div(le||(le=Object(a.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),tt=c.a.span(de||(de=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),nt=i.a.memo((function(e){var t=e.className,a=void 0===t?"":t,c=e.overview,s=e.onShowFileDialog,l=e.dropAction,d=e.post,u=e.posts,m=e.filter,p=e.parentId,f=void 0===p?null:p,b=e.commentActions,h=e.userMention,_=void 0===h?null:h,g=e.handleClearUserMention,j=void 0===g?null:g,C=e.commentId,T=void 0===C?null:C,y=e.innerRef,S=void 0===y?null:y,w=e.workspace,k=e.isMember,N=e.disableOptions,R=e.mainInput,x=d.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),I=Object(A.H)(),P=Object(E.useDispatch)(),D={picker:Object(r.useRef)(),postInput:Object(r.useRef)(null)},L=Object(E.useSelector)((function(e){return e.session.user})),F=Object(E.useSelector)((function(e){return e.posts.editPostComment})),U=Object(E.useSelector)((function(e){return e.posts.changeRequestedComment})),G=Object(E.useSelector)((function(e){return e.users.users})),H=Object(r.useRef)(),B=Object(r.useState)(!1),Y=Object(O.a)(B,2),z=Y[0],V=Y[1],Q=Object(r.useState)(null),q=Object(O.a)(Q,2),K=q[0],J=q[1],Z=Object(r.useState)(null),X=Object(O.a)(Z,2),$=X[0],ee=X[1],te=Object(r.useState)(!1),ne=Object(O.a)(te,2),ae=ne[0],re=ne[1],ie=Object(r.useState)(!1),ce=Object(O.a)(ie,2),oe=(ce[0],ce[1]),se=Object(r.useState)("default"),le=Object(O.a)(se,2),de=le[0],ue=le[1],me=Object(r.useState)(null),pe=Object(O.a)(me,2),fe=pe[0],be=pe[1],he=Object(r.useState)("#cacaca"),_e=Object(O.a)(he,2),Oe=_e[0],Ee=_e[1],ge=Object(r.useState)(!1),Ae=Object(O.a)(ge,2),ve=Ae[0],je=Ae[1],Ce=Object(r.useState)([]),Se=Object(O.a)(Ce,2),ke=Se[0],Ne=Se[1],Re=Object(r.useState)({approve:!1,change:!1}),xe=Object(O.a)(Re,2),Ie=xe[0],Pe=xe[1],De=Object(r.useState)(!(!x||!d.shared_with_client||"internal"!==L.type)),Le=Object(O.a)(De,2),Fe=Le[0],nt=Le[1],at=Object(r.useState)(d.shared_with_client?null:"internal"),rt=Object(O.a)(at,2),it=rt[0],ct=rt[1],ot=Object(r.useState)(null),st=Object(O.a)(ot,2),lt=st[0],dt=st[1],ut=function(){Fe||V(!z)},mt=Object(A.X)(),pt=Object(A.cb)()._t,ft={unarchiveThisWorkspace:pt("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:pt("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:pt("BUTTON.CANCEL","Cancel"),unarchiveBodyText:pt("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),workspaceIsUnarchived:pt("TOASTER.WORKSPACE_IS_UNARCHIVED","workpace is un-archived"),thisIsAnArchivedWorkspace:pt("FOOTER.THIS_IS_AN_ARCHIVED_WORKSPACE","This is an archived workpace"),noReplyAllowed:pt("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:pt("TOOLTIP.ATTACH_FILES","Attach files"),youAreViewing:pt("FOOTER.YOU_ARE_VIEWING","You are viewing"),joinWorkspace:pt("BUTTON.JOIN_WORKSPACE","Join workspace"),lockedLabel:pt("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:pt("POST.REQUEST_CHANGE","Request for change"),accept:pt("POST.ACCEPT","Accept"),requestApprovalFrom:pt("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:pt("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:pt("POST.ADDRESSED_TO","Addressed to"),selectApprover:pt("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:pt("TOOLTIP.EMOJI","Emoji"),images:pt("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:pt("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:pt("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:pt("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:pt("POST.REOPEN","Reopen"),agree:pt("POST.AGREE","Agree"),disagree:pt("POST.DISAGREE","Disagree"),overview:pt("POST.OVERVIEW","Overview"),archivePostOpenNext:pt("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next")},bt=function(){var e={id:w.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};P(Object(Ge.nb)(e)),mt.success(i.a.createElement("span",null,i.a.createElement("b",null,w.name," ",ft.workspaceIsUnarchived,".")))},ht=d.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),_t=[].concat(Object(Te.a)(Object.values(G).filter((function(e){return ht.some((function(t){return t===e.id}))&&e.id!==L.id})).map((function(e){return Object(W.a)(Object(W.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:n(64).generate(),value:"all",label:"All users",icon:"users",all_ids:ht.filter((function(e){return G[e]&&G[e].active&&e!==L.id}))}]);ke.length&&ke.find((function(e){return"all"===e.value}))&&(_t=_t.filter((function(e){return"all"===e.value})));Object(r.useEffect)((function(){if(F){var e=F.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;F.users_approval.length>0&&(je(!0),Ne(F.users_approval.map((function(t){return Object(W.a)(Object(W.a)({},t),{},{icon:"user-avatar",value:t.id,label:t.name,type:"USER",ip_address:e?null:t.ip_address,is_approved:!e&&t.is_approved})})))),nt(!1),F.shared_with_client?ct("external"):ct("internal")}}),[F]);var Ot=d.users_approval.length>0&&d.users_approval.filter((function(e){return null===e.ip_address})).length===d.users_approval.length,Et=d.users_approval.some((function(e){return e.id===L.id})),gt=d.users_approval.map((function(e){return e.name})),At=d.users_approval.length>1,vt=d.users_approval.some((function(e){return e.id===L.id&&null!==e.ip_address}));Object(r.useEffect)((function(){U&&T&&T===U.id?(je(!0),Ne([Object(W.a)(Object(W.a)({},U.author),{},{icon:"user-avatar",value:U.author.id,label:U.author.name,type:"USER",ip_address:null,is_approved:null})])):(je(!1),Ne([]))}),[U]);var jt=d.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),Ct=d.recipients.find((function(e){return"USER"===e.type})),Tt=d.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return i.a.createElement(Ye,{className:"post-detail-footer card-body ".concat(a)},N&&i.a.createElement(Xe,null,i.a.createElement($e,{icon:"archive"}),i.a.createElement("h4",null,ft.thisIsAnArchivedWorkspace),i.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:ft.cancel,headerText:ft.unarchiveWorkspace,submitText:ft.unarchiveWorkspace,bodyText:ft.unarchiveBodyText,actions:{onSubmit:bt}};P(Object(ye.a)(e))}},ft.unarchiveWorkspace)),i.a.createElement(Qe,{className:"d-flex pr-2 pl-2"},i.a.createElement(we.b,{commentActions:b,commentId:F&&d&&F.post_id===d.id&&F.quote?F.quote.id:T,editPostComment:F,mainInput:R})),i.a.createElement(Qe,{className:"d-flex alig-items-center"},jt&&Ct&&i.a.createElement("div",{className:"locked-label mb-2"},ft.sharedWithAdditionalPeople),jt&&Tt&&i.a.createElement("div",{className:"locked-label mb-2"},ft.sharedWithPublicWs),ve&&i.a.createElement(et,null,Ie.change&&Et&&i.a.createElement("label",null,ft.requestChangeTo),!Et&&i.a.createElement("label",null,ft.addressedTo),i.a.createElement(v.d,{options:_t,value:ke,onChange:function(t){null!==t&&t.length||(U&&b.clearApprovingStatus(U.id),e.handleCancelChange&&e.handleCancelChange(),Ie.change&&(Pe(Object(W.a)(Object(W.a)({},Ie),{},{change:!1})),je(!1))),null===t?Ne([]):t.find((function(e){return"all"===e.value}))?Ne(t.filter((function(e){return"all"===e.value}))):Ne(t)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),Ot&&!Et&&i.a.createElement(qe,{className:"d-flex align-items-center mb-2"},i.a.createElement("div",{className:"alert alert-primary",style:{color:"#7a1b8b"}},ft.requestApprovalFrom," ",gt.join(", "))),d.is_close&&R&&i.a.createElement(Ke,{className:"d-flex align-items-center"},i.a.createElement("div",{className:"alert alert-warning"},i.a.createElement("span",null,ft.creatorClosedPost),(d.author.id===L.id||"external"===d.author.type&&"internal"===L.type)&&i.a.createElement("span",{onClick:function(){I.close(d)}},ft.reopen))),d.is_read_only&&R&&i.a.createElement(Qe,{className:"d-flex align-items-end"},i.a.createElement(qe,{className:"d-flex align-items-center"},i.a.createElement("div",{className:"alert alert-warning"},ft.noReplyAllowed))),(k&&!N||Ie.change||vt)&&!d.is_close&&!d.is_read_only&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Qe,{className:"d-flex align-items-end",backgroundSend:fe,cursor:de,fillSend:Oe},i.a.createElement(ze,{ref:S,className:"flex-grow-1 chat-input-footer",disableButtons:Fe},i.a.createElement(Ue.a,{handleClearSent:function(){re(!1)},sent:ae,commentId:T,userMention:_,handleClearUserMention:j,commentActions:b,parentId:f,post:d,selectedGif:$,onClearGif:function(){ee(null)},selectedEmoji:K,onClearEmoji:function(){J(null)},dropAction:l,members:w?w.members:[],workspace:w||null,onActive:function(e){var t;oe(e),be((t=e&&!lt?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),ue(t[1]),Ee(t[2])},onClosePicker:function(){V(!1)},ref:D.postInput,prioMentionIds:ht,approvers:ve?ke:[],onClearApprovers:function(){je(!1),Ne([])},onSubmitCallback:function(e,t){if(!e){if(d.is_must_reply&&d.required_users.some((function(e){return e.id===L.id&&!e.must_reply}))||d.must_reply_users&&d.must_reply_users.some((function(e){return e.id===L.id&&!e.must_reply}))){I.markReplyRequirement(d);var n=!0;d.is_must_read&&d.author.id!==L.id&&(d.is_must_read&&d.required_users&&d.required_users.some((function(e){return e.id===L.id&&!e.must_read}))&&(n=!1),d.must_read_users&&d.must_read_users.some((function(e){return e.id===L.id&&!e.must_read}))&&(n=!1));var a=d.users_approval.length>0&&d.users_approval.some((function(e){return null===e.ip_address&&e.id===L.id}));n&&!a&&I.markAsRead(d)}1===d.users_approval.length&&Ot&&Et&&ve&&I.approve({post_id:d.id,approved:0},(function(e,t){Pe(Object(W.a)(Object(W.a)({},Ie),{},{change:!1}))})),U&&b.approve({post_id:d.id,approved:0,comment_id:U.id,transfer_comment_id:t.data.id})}},isApprover:Ie.change&&Ot,mainInput:R,readOnly:Fe,onToggleCommentType:function(e){nt(!e),ct(e)},commentType:it,imageLoading:lt,setImageLoading:dt}),i.a.createElement(Be.a,{parentId:f,handleQuillImage:function(){if(D.postInput&&!Fe){var e=D.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:ut,onShowFileDialog:s,showApprover:ve,toggleApprover:function(){Fe||je((function(e){return!e}))},editPostComment:F,mainInput:R,disableButtons:Fe,commentType:it})),i.a.createElement(Me.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Send"},i.a.createElement(Ve,{onClick:function(){Fe||re(!0)},icon:"send"})),!0===z&&i.a.createElement(Je,{handleShowEmojiPicker:ut,onSelectEmoji:function(e){J(e)},onSelectGif:function(e){ee(e)},orientation:"top",ref:D.picker})),F&&F.files.length>0&&i.a.createElement(Ze,null,F.files.map((function(e){return e.name})).join(", "))),(Ot&&Et&&!Ie.change||At&&Et&&!vt)&&i.a.createElement(Qe,null,i.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},i.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===d.users_approval.length?(Pe(Object(W.a)(Object(W.a)({},Ie),{},{change:!0})),je(!0),Ne([Object(W.a)(Object(W.a)({},d.author),{},{icon:"user-avatar",value:d.author.id,label:d.author.name,type:"USER",ip_address:null,is_approved:null})])):(Pe(Object(W.a)(Object(W.a)({},Ie),{},{change:!0})),I.approve({post_id:d.id,approved:0},(function(e,t){if(Pe(Object(W.a)(Object(W.a)({},Ie),{},{change:!1})),!e){var n=1===d.users_approval.filter((function(e){return null===e.ip_address})).length,a=d.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===d.users_approval.length-1;n&&a&&I.generateSystemMessage(d,[],d.users_approval.map((function(e){return e.id})))}})))}},ft.disagree," ",Ie.change&&i.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),i.a.createElement(We.a,{ref:H,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},i.a.createElement("button",{className:"btn btn-primary",onClick:function(){I.showModal("confirmation",d,null,H)}},ft.agree," ",Ie.approve&&i.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))))),!1===k&&null!==w&&!N&&i.a.createElement(Qe,{className:"channel-viewing"},i.a.createElement("div",{className:"channel-name"},ft.youAreViewing," #",w.name),i.a.createElement("div",{className:"channel-action"},i.a.createElement("button",{onClick:function(){P(Object(M.K)({channel_id:w.channel.id,recipient_ids:[L.id]},(function(e,t){})))}},ft.joinWorkspace))),m&&("all"===m||"inbox"===m)&&i.a.createElement(Qe,null,i.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},i.a.createElement(tt,{className:"mr-3",onClick:c},i.a.createElement(o.s,{className:"mr-2",icon:"corner-up-left"})," ",ft.overview),i.a.createElement(tt,{onClick:function(){var e=u.reduce((function(e,t,n){return t.id===d.id&&(e=u[n+1]),e}),null);I.archivePost(d,(function(){if(e){var t=w.folder_name&&w.folder_id?"/workspace/posts/".concat(w.folder_id,"/").concat(Object(He.h)(w.folder_name),"/").concat(w.id,"/").concat(Object(He.h)(w.name)):"/workspace/posts/".concat(w.id,"/").concat(Object(He.h)(w.name));console.error("PATH",t),I.openPost(e,t)}else c()}))}},ft.archivePostOpenNext," ",i.a.createElement(o.s,{className:"ml-2",icon:"corner-up-right"})))))})),at=n(77),rt=n(19),it=n(28),ct=c.a.div(ue||(ue=Object(a.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .author-avatar {\n    width: 40px;\n    height: 40px;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]))),ot=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},st=Object(c.a)(Me.a)(me||(me=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),lt=Object(c.a)(o.s)(pe||(pe=Object(a.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),dt=Object(c.a)(o.s)(fe||(fe=Object(a.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]))),ut=c.a.div(be||(be=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n  // .receiver.client-shared {\n  //   background: #ffdb92;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n  // .receiver.client-not-shared {\n  //   background: #d6edff;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n"]))),mt=c.a.div(he||(he=Object(a.a)(["\n  min-width: 150px;\n"]))),pt=c.a.span(_e||(_e=Object(a.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]))),ft=i.a.memo((function(e){var t=e.post,n=e.user,a=e.postActions,c=e.dictionary,s=e.disableOptions,l=e.workspaceId,d=e.disableMarkAsRead,u="external"===n.type,m=Object(E.useDispatch)(),p={container:Object(r.useRef)(null),body:Object(r.useRef)(null)},f=Object(r.useRef)(!0),b=Object(A.s)(),h=b.fileBlobs,_=b.actions.setFileSrc,g=Object(A.N)(),v=Object(E.useSelector)((function(e){return e.workspaces.workspaces})),j=Object(E.useSelector)((function(e){return e.global.recipients.filter((function(e){return t.recipient_ids.includes(e.id)})).sort((function(e,t){if(e.type!==t.type){if("TOPIC"===e.type)return-1;if("TOPIC"===t.type)return 1}return e.name.localeCompare(t.name)}))})),C=Object(r.useState)(t.is_favourite),T=Object(O.a)(C,2),y=T[0],S=T[1],w=Object(r.useState)({approve:!1,change:!1}),k=Object(O.a)(w,2),N=k[0],R=(k[1],Object(A.W)()),x=R.fromNow,I=R.localizeDate,P=Object(A.w)(),D=Object(A.ib)(),L=Object(Ae.g)(),F=Object(r.useState)(!1),M=Object(O.a)(F,2),U=M[0],G=M[1],H=Object(r.useState)(!1),B=Object(O.a)(H,2),Y=B[0],z=B[1];Object(r.useEffect)((function(){return function(){f.current=!1}}),[]);var V=function(e){var n=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(n=e.target.dataset.id);else{var a=t.files.find((function(t){return t.thumbnail_link===e.srcElement.currentSrc}));a&&(n=a.id)}n&&m(Object(rt.Wb)({file_id:parseInt(n),files:t.files}))},Q=JSON.parse(localStorage.getItem("userAuthToken"));Object(r.useEffect)((function(){p.body.current&&(p.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){P.init(e)})),p.body.current.querySelectorAll("img").forEach((function(e){var n=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=t.files.find((function(e){return n.includes(e.code)}));a&&h[a.id]&&(e.setAttribute("src",h[a.id]),e.setAttribute("data-id",a.id))}else{e.addEventListener("click",V,!1),e.classList.add("has-listener");var r=t.files.find((function(e){return n.includes(e.code)}));r&&h[r.id]&&(e.setAttribute("src",h[r.id]),e.setAttribute("data-id",r.id))}})));var e=t.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!h[e.id]&&t.body.includes(e.code)&&fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(Q.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var r=URL.createObjectURL(n);_({id:e.id,src:r}),a.updatePostImages({post_id:t.id,topic_id:l,file:Object(W.a)(Object(W.a)({},e),{},{blobUrl:r})})}))}))}),[t.body,p.body,t.files,l]);var q=function(e){var t=e.target.dataset,n=t.id;switch(t.type){case"DEPARTMENT":L.push("/chat");break;case"TOPIC":var a=v[n];a&&g.toWorkspace(a);break;case"USER":L.push("/profile/".concat(n,"/").concat(Object(He.h)(e.target.innerHTML)))}};Object(r.useEffect)((function(){p.container.current&&p.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",q)}))}));var K=t.users_approval.length>0&&t.users_approval.filter((function(e){return null===e.ip_address})).length===t.users_approval.length,J=t.users_approval.length>1,Z=j.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return i.a.createElement(ct,{ref:p.container,className:"card-body"},Z&&!u&&i.a.createElement(pt,{className:t.shared_with_client?"client-shared":"client-not-shared"},t.shared_with_client&&i.a.createElement(i.a.Fragment,null,i.a.createElement(dt,{icon:"eye"}),c.sharedClientBadge),!t.shared_with_client&&i.a.createElement(i.a.Fragment,null,i.a.createElement(dt,{icon:"eye-off"}),c.notSharedClientBadge)),i.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},i.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},i.a.createElement(o.a,{className:"author-avatar mr-2 post-author",id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link}),i.a.createElement("div",null,i.a.createElement("span",{className:"author-name"},t.author.first_name),i.a.createElement(ut,null,j.length>=1&&i.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=j.some((function(e){return e.type_id===n.id})),t=D.width>576?e?4:5:e?0:1,a="",r=j.filter((function(e){return!("USER"===e.type&&e.type_id===n.id)}));r.length&&(a+=r.filter((function(e,n){return n<t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(it.renderToString)(i.a.createElement(dt,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(it.renderToString)(i.a.createElement(dt,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1">'.concat(e.name,"</span>")})).join(", ")),e&&(r.length,a+='<span class="receiver mb-1">'.concat(c.me,"</span>"));var o="";return r.length+(e?1:0)>t&&(o+=r.filter((function(e,n){return n>=t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(it.renderToString)(i.a.createElement(dt,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(it.renderToString)(i.a.createElement(dt,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),o='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(o,"</span></span>")),"".concat(a," ").concat(o)}()}})))),i.a.createElement(mt,{className:"d-inline-flex"},i.a.createElement(ge,{post:t,isBadgePill:!0,dictionary:c,user:n}),t.files.length>0&&i.a.createElement(lt,{className:"mr-2",icon:"paperclip"}),i.a.createElement(lt,{className:"mr-2",onClick:function(){s||Y||(z(!0),a.starPost(t,(function(){f.current&&z(!1)})),f.current&&S(!y))},icon:"star",fill:y?"#ffc107":"none",stroke:y?"#ffc107":"currentcolor"}),!s&&!d()&&i.a.createElement(lt,{className:"mr-2",onClick:function(){U||(G(!0),a.archivePost(t,(function(){f.current&&G(!1)})))},icon:"archive"}),i.a.createElement("div",{className:"time-stamp"},i.a.createElement(st,{arrowSize:5,distance:10,onToggle:ot,content:"".concat(I(t.created_at.timestamp))},i.a.createElement("span",{className:"text-muted"},x(t.created_at.timestamp))))))),t.files.length>0&&i.a.createElement(yt,{files:t.files}),i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"w-100 post-body-content",ref:p.body,dangerouslySetInnerHTML:{__html:at.a.parseEmoji(t.body)}})),(K||J)&&i.a.createElement(Nt,{postBody:!0,approving:N,fromNow:x,usersApproval:t.users_approval,user:n,post:t,isMultipleApprovers:J}))}));function bt(){var e=Object(a.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return bt=function(){return e},e}var ht=c.a.div(bt()),_t=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.comments,r=e.post,c=e.user,o=e.commentActions,s=e.onShowFileDialog,l=e.dropAction,d=e.workspace,u=e.isMember,m=e.dictionary,p=e.disableOptions,f=e.postActions;return i.a.createElement(ht,{className:"post-comments card-body ".concat(n)},a&&i.a.createElement("ul",null,Object.values(a).map((function(e){return i.a.createElement(we.a,{key:e.id,comment:e,post:r,user:c,commentActions:o,onShowFileDialog:s,dropAction:l,workspace:d,isMember:u,dictionary:m,disableOptions:p,postActions:f})}))))})),Ot=n(202);function Et(){var e=Object(a.a)(["\n    video {\n        max-width: 100%;\n        max-height: 250px;\n    }\n"]);return Et=function(){return e},e}var gt,At,vt,jt,Ct,Tt=c.a.div(Et()),yt=function(e){var t=e.files.filter((function(e){return e.type.toLowerCase().includes("video")})),n=function(e,t){e.stopPropagation()};return t.length?i.a.createElement(Tt,{className:"d-flex align-items-center"},t.map((function(e){return i.a.createElement(Ot.a,{cbFilePreview:n,file:e,"data-file-type":e.type})}))):null},St=c.a.div(gt||(gt=Object(a.a)([""]))),wt=c.a.div(At||(At=Object(a.a)(["\n  .alert {\n    color: #fff !important;\n  }\n  span.approve-ip {\n    display: none;\n  }\n  :hover {\n    span.approve-ip {\n      display: block;\n    }\n  }\n"]))),kt=c.a.div(vt||(vt=Object(a.a)(["\n  text-align: right;\n  display: flex;\n  justify-content: center;\n  .read-users-container .name {\n    color: #212529;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]))),Nt=function(e){var t=e.fromNow,n=e.user,a=e.approving,r=e.usersApproval,c=e.handleApprove,s=void 0===c?function(){}:c,l=e.handleRequestChange,d=void 0===l?function(){}:l,u=e.postBody,m=void 0!==u&&u,p=e.post,f=e.isMultipleApprovers,b=e.isBotMessage,h=void 0!==b&&b,_=Object(E.useSelector)((function(e){return e.users.users})),O=Object(A.cb)()._t,g={comment:O("NOTIFICATION.COMMENT_POPUP","Made a comment in ::title::",{title:""}),requestChange:O("POST.REQUEST_CHANGE","Request for change"),hasRequestedChange:O("POST.HAS_REQUESTED_CHANGE","has requested a change."),accept:O("POST.ACCEPT","Accept"),hasAcceptedProposal:O("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),askForChange:O("POST.ASK_FOR_CHANGE","asked ::author:: for a change",{author:p.author.name}),agreedToThis:O("POST.AGREED_TO_THIS","I've agreed to this"),disagreedToThis:O("POST.DISAGREED_TO_THIS","I've disagreed to this"),agreedBy:O("POST.AGREED_BY","Agreed by"),disagreedBy:O("POST.DISAGREED_BY","Disagreed by"),agree:O("POST.AGREE","Agree"),disagree:O("POST.DISAGREE","Disagree")},v=r.find((function(e){return null!==e.ip_address&&e.is_approved})),j=r.find((function(e){return null!==e.ip_address&&!e.is_approved})),C=r.some((function(e){return e.id===n.id})),T=r.filter((function(e){return null!==e.ip_address&&e.is_approved})),y=r.filter((function(e){return null!==e.ip_address&&!e.is_approved})),S=r.filter((function(e){return null===e.ip_address})),w=T.map((function(e){return e.id})),k=Object.values(_).filter((function(e){return w.some((function(t){return t===e.id}))})),N=y.map((function(e){return e.id})),R=Object.values(_).filter((function(e){return N.some((function(t){return t===e.id}))})),x=S.map((function(e){return e.id})),I=Object.values(_).filter((function(e){return x.some((function(t){return t===e.id}))})),P=r.some((function(e){return e.id===n.id&&null!==e.ip_address})),D=r.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===r.length;return i.a.createElement(St,null,!m&&!P&&C&&i.a.createElement("div",{className:"d-flex align-items-center mt-3"},i.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:d},g.disagree," ",a.change&&i.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),i.a.createElement("button",{className:"btn btn-primary",onClick:s},g.agree," ",a.approve&&i.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))),h&&i.a.createElement(wt,null,i.a.createElement("div",{className:"d-flex align-items-center ".concat(D?"justify-content-center":"")},i.a.createElement("div",{className:"".concat(D?"alert alert-success":"")},i.a.createElement("span",null,D?"Everyone agreed to this post":"Everyone disagreed to this post")))),S&&!f&&i.a.createElement(kt,{className:"readers-container"},I.length>0&&i.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},i.a.createElement("span",{className:"no-readers"},O("POST.PERSON_PENDING_SINGLE","Waiting for approval from: ::name::",{name:I[0].name})),i.a.createElement("span",{className:"hover read-users-container"},I.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(o.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))}))))),v&&!f&&i.a.createElement(wt,null,i.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},i.a.createElement("div",{className:"alert alert-success"},i.a.createElement("span",null,v.name," ",g.hasAcceptedProposal," "),i.a.createElement("span",{className:"approve-ip"},t(v.created_at.timestamp)," - ",v.ip_address)))),j&&!f&&i.a.createElement(wt,null,j.name," ",C?g.askForChange:g.hasRequestedChange," ",i.a.createElement("span",{className:"text-muted approve-ip"},t(j.created_at.timestamp)," - ",j.ip_address)),f&&i.a.createElement(kt,{className:"readers-container"},R.length>0&&i.a.createElement("div",{className:"user-reads-container read-by badge badge-danger"},i.a.createElement("span",{className:"no-readers"},O("POST.PERSON_DISAGREED","::count:: person disagreed",{count:y.length})),i.a.createElement("span",{className:"hover read-users-container"},R.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(o.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),I.length>0&&i.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},i.a.createElement("span",{className:"no-readers"},O("POST.PERSON_PENDING","::count:: person pending",{count:I.length})),i.a.createElement("span",{className:"hover read-users-container"},I.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(o.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),k.length>0&&i.a.createElement("div",{className:"user-reads-container read-by badge badge-success"},i.a.createElement("span",{className:"no-readers"},O("POST.PERSON_APPROVED","::count:: person approved",{count:T.length})),i.a.createElement("span",{className:"hover read-users-container"},k.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(o.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))}))))))},Rt=c.a.div(jt||(jt=Object(a.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),xt=Object(c.a)(o.s)(Ct||(Ct=Object(a.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),It=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,c=e.postLists,o=e.onGoBack,s=e.postListTag,l=e.postActions,d=Object(r.useState)(null),u=Object(O.a)(d,2),m=u[0],p=u[1],f=l.showModal,b=Object(E.useDispatch)();return i.a.createElement(Rt,{className:"post-filter-item list-group list-group-flush ".concat(n)},c&&c.map((function(e){return i.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(s&&parseInt(s)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){e.persist();var t={topic_id:a.id,tag:null,postListTag:e.target.dataset.id,filter:null};b(Object(M.W)(t)),o(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(t){p(e.id)},onMouseLeave:function(e){return p(null)}},i.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,m&&m===e.id&&i.a.createElement("span",{className:"small ml-auto",onClick:function(t){return function(e,t){e.stopPropagation(),f("edit_post_list",t)}(t,e)}},i.a.createElement(xt,{className:"mr-0 small",icon:"edit-3"}))||i.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))}));function Pt(){var e=Object(a.a)(["\n  width: 12px;\n  margin: 0;\n"]);return Pt=function(){return e},e}function Dt(){var e=Object(a.a)(["\n  .client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .receiver {\n    display: inline-block;\n    align-items: center;\n  }\n  .feather-eye {\n    vertical-align: text-top;\n  }\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n"]);return Dt=function(){return e},e}var Lt,Ft,Mt,Ut,Gt,Ht=c.a.div(Dt()),Bt=Object(c.a)(o.s)(Pt()),Wt=function(e){var t=e.classNames,n=void 0===t?"":t,a=e.dictionary,r=e.post,c=e.user,o=e.isExternalUser,s=r.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),l=Object(A.ib)();return i.a.createElement(Ht,{className:"post-recipients ".concat(n," ").concat(s&&!o&&"has-external")},i.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=r.recipients.some((function(e){return e.type_id===c.id})),t=l.width>576?e?4:5:e?0:1,n="",d=r.recipients.filter((function(e){return!("USER"===e.type&&e.type_id===c.id)}));r.shared_with_client&&s&&!o?n+='<span class="receiver client-shared">'.concat(Object(it.renderToString)(i.a.createElement(Bt,{icon:"eye"}))," ").concat(a.sharedClientBadge,"</span>"):r.shared_with_client||!s||o||(n+='<span class="receiver client-not-shared">'.concat(Object(it.renderToString)(i.a.createElement(Bt,{icon:"eye-off"}))," ").concat(a.notSharedClientBadge,"</span>")),d.length&&(n+=d.filter((function(e,n){return n<t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(it.renderToString)(i.a.createElement(Bt,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(it.renderToString)(i.a.createElement(Bt,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(", ")),e&&(d.length,n+='<span class="receiver">'.concat(a.me,"</span>"));var u="";return d.length+(e?1:0)>t&&(u+=d.filter((function(e,n){return n>=t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(it.renderToString)(i.a.createElement(Bt,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(it.renderToString)(i.a.createElement(Bt,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),u='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(u,"</span></span>")),"".concat(n," ").concat(u)}()}}))},Yt=c.a.div(Lt||(Lt=Object(a.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),zt=c.a.div(Ft||(Ft=Object(a.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]))),Vt=c.a.div(Mt||(Mt=Object(a.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),Qt=c.a.li(Ut||(Ut=Object(a.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),qt=c.a.li(Gt||(Gt=Object(a.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),Kt=function(e){var t=e.actions,n=e.dictionary,a=e.filter,c=e.isExternalUser,s=e.loading,l=e.posts,d=e.search,u=e.workspace,m=Object(r.useRef)(!0),p=l.filter((function(e){return 0===e.is_unread})),f=l.filter((function(e){return 1===e.is_unread})),b=Object(r.useState)({showUnread:f.length>0,showRead:0===f.length}),h=Object(O.a)(b,2),_=h[0],E=h[1],g=Object(r.useState)([]),A=Object(O.a)(g,2),v=A[0],j=A[1],C=function(e){var t=!v.some((function(t){return t===e}))?[].concat(Object(Te.a)(v),[e]):v.filter((function(t){return t!==e}));j(t)};return Object(r.useEffect)((function(){return function(){m.current=null}}),[]),Object(r.useEffect)((function(){m.current&&j([])}),[a]),Object(r.useEffect)((function(){m.current&&(_.showUnread||_.showRead||(f.length?E((function(e){return Object(W.a)(Object(W.a)({},e),{},{showUnread:!0})})):p.length&&E((function(e){return Object(W.a)(Object(W.a)({},e),{},{showRead:!0})}))))}),[_,p,f]),i.a.createElement(i.a.Fragment,null,("all"===a||"inbox"===a)&&v.length>0&&i.a.createElement(Yt,null,i.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.archiveAll({selected_post_ids:v,topic_id:u.id}),j([])}},n.archive),i.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.readAll({selected_post_ids:v,topic_id:u.id}),j([]),t.getUnreadNotificationEntries({add_unread_comment:1})}},n.markAsRead)),"draft"===a&&i.a.createElement(Yt,null,i.a.createElement("button",{className:"btn all-action-button",onClick:function(){j(l.map((function(e){return e.id})))}},n.selectAll),i.a.createElement("button",{className:"btn all-action-button",onClick:function(){v.length&&v.forEach((function(e){var n=l.find((function(t){return t.id===e}));n&&t.archivePost(n)}))}},n.remove)),i.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},i.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":s},""!==d&&i.a.createElement(i.a.Fragment,null,0===l.length?i.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},n.searchNoResult," ",d):1===l.length?i.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},n.searchResult," ",d):i.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},n.searchResults," ",d)),"draft"===a&&i.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},i.a.createElement("div",null,l.map((function(e){return i.a.createElement(N,{key:e.id,post:e,postActions:t,dictionary:n,toggleCheckbox:C,checked:v.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:c})})))),"draft"!==a&&i.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},""===d&&i.a.createElement("div",null,i.a.createElement(Qt,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){_.showUnread?E({showUnread:!(p.length>0),showRead:p.length>0}):E({showUnread:!0,showRead:_.showRead})},showPosts:_.showUnread},i.a.createElement("span",{className:"badge badge-light"},i.a.createElement(o.s,{icon:_.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),n.unread))),f.length>0&&i.a.createElement(zt,{className:"unread-posts-container collapse ".concat(_.showUnread||""!==d?"show":""),id:"unread-posts-container",showPosts:_.showUnread},f.map((function(e,a){return i.a.createElement(N,{key:e.id,firstPost:0===a,post:e,postActions:t,dictionary:n,toggleCheckbox:C,checked:v.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:c})}))),""===d&&i.a.createElement("div",null,i.a.createElement(qt,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){_.showRead?E({showUnread:f.length>0,showRead:!(f.length>0)}):E({showUnread:f.length>0,showRead:p.length>0})},showPosts:_.showRead},i.a.createElement("span",{className:"badge badge-light"},i.a.createElement(o.s,{icon:_.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),n.allOthers))),p.length>0&&i.a.createElement(Vt,{className:"read-posts-container collapse ".concat(_.showRead||""!==d?"show":""),showPosts:_.showRead},p.map((function(e,a){return i.a.createElement(N,{key:e.id,firstPost:0===a,post:e,postActions:t,dictionary:n,toggleCheckbox:C,checked:v.some((function(t){return t===e.id})),hasUnread:!1,isExternalUser:c})})))))))};function Jt(){var e=Object(a.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return Jt=function(){return e},e}var Zt,Xt=c.a.div(Jt()),$t=function(e){var t=e.actions,n=e.dictionary,a=e.disableOptions,r=e.isMember;return i.a.createElement("div",{className:"card card-body app-content-body mb-4"},i.a.createElement(Xt,null,i.a.createElement(o.q,{icon:3,height:252}),r&&i.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){t.showModal("create")},disabled:a},n.createNewPost)))},en=c.a.div(Zt||(Zt=Object(a.a)(["\n    display: flex;\n    align-items-center;\n    justify-content: flex-end;\n    padding: 0.5rem 1.5rem;\n"]))),tn=function(e){var t=e.user_unfollow,n={usersUnfollowed:(0,Object(A.cb)()._t)("POST.USERS_UNFOLLOWED","Unfollowed by ::user_count:: user/s",{user_count:t.length})};return i.a.createElement(en,{className:"text-muted"},i.a.createElement("div",{className:"user-reads-container read-by"},i.a.createElement("span",{className:"no-readers"},n.usersUnfollowed),i.a.createElement("span",{className:"hover read-users-container"},t.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(o.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))))}},,function(e,t,n){"use strict";var a=n(167),r=n(105),i=n(106),c=n(14),o=n(7),s=n(0),l=n.n(s),d=n(28),u=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"generate",value:function(t){return t=e.convertColon(t)}},{key:"convertContentByTag",value:function(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.querySelectorAll(t),i=0,o=r.length;i<o;i++){var s=/:(.*?):/i,l=r[i].innerHTML,d=[];l.startsWith('<span class="ql-mention-denotation-char">')||(d=l.split(" "));var u,m=[],p=0,f=!1,b=!1,h=Object(a.a)(d);try{for(h.s();!(u=h.n()).done;){var _=u.value;if("<span"!==_)if(_.endsWith("</a></span></span>"))f=!1,m.push(_),p++;else if(!f||0!==_.length&&(_.startsWith("http")||_.length<=3))if("<a"!==_)if(_.endsWith("</a>"))b=!1,m.push(_),p++;else if(b)m.push(_),p++;else{switch(_){case":S":_=":worried:"}if("\u263a\ufe0f\ufe0f"===_)_="\ud83d\ude0a";else if(s.test(_))switch(_){case":thinking_face:":_="\ud83e\udd14";break;case":relaxed:":_="\ud83d\ude0a";break;default:_=Object(c.g)(_)}else if(_.length<=4&&_.length>=2){var O=Object(c.g)(_);!0!==n?O!==_&&(_=O):p!==d.length-1&&O!==_&&(_=O)}m.push(_),p++}else b=!0,m.push(_),p++;else m.push(_),p++;else f=!0,m.push(_),p++}}catch(E){h.e(E)}finally{h.f()}r[i].innerHTML=m.join(" ")}}},{key:"convertColon",value:function(e){var t=document.createElement("div");return t.innerHTML=e,this.convertContentByTag(t,"span",!1),this.convertContentByTag(t,"div"),this.convertContentByTag(t,"p"),this.convertContentByTag(t,"li"),t.innerHTML}},{key:"parseEmoji",value:function(e){if(null===e)return"";var t=document.createElement("div");return t.innerHTML=e,this.convertContentByTag(t,"span",!1),this.convertContentByTag(t,"div",!1),this.convertContentByTag(t,"p",!1),this.convertContentByTag(t,"li",!1),t.innerHTML}},{key:"parseToText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{imageVideo:!1},n=document.createElement("DIV");return t.imageVideo?n.innerHTML=e.replace(/<img[^>]*>/g,"::image::"):n.innerHTML=e,n.textContent||n.innerText||""}},{key:"parseToTextImageVideo",value:function(e){return this.parseToText(e,{imageVideo:!0}).replace("::image::",Object(d.renderToString)(l.a.createElement(o.r,{className:"ml-1",icon:"image-video"})))}}]),e}();t.a=u},,function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var a,r=n(27),i=n(2),c=n(0),o=n.n(c),s=n(3),l=["className","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"],d=["className","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"],u=["className","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"],m=s.a.svg(a||(a=Object(i.a)(["\n  ",";\n"])),(function(e){return"undefined"!==typeof e.rotate&&"transform: rotate(".concat(e.rotate,"deg);")})),p=o.a.memo(o.a.forwardRef((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.width,c=void 0===i?24:i,s=e.height,d=void 0===s?24:s,u=e.viewBox,p=void 0===u?"0 0 24 24":u,f=e.fill,b=void 0===f?"none":f,h=e.stroke,_=void 0===h?"currentColor":h,O=e.strokeWidth,E=void 0===O?"2":O,g=e.strokeLinecap,A=void 0===g?"round":g,v=e.strokeLinejoin,j=void 0===v?"round":v,C=e.icon,T=Object(r.a)(e,l),y="";switch(C){case"help-circle":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),o.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));break;case"cpu":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),o.a.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}),o.a.createElement("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),o.a.createElement("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),o.a.createElement("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),o.a.createElement("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),o.a.createElement("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),o.a.createElement("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),o.a.createElement("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),o.a.createElement("line",{x1:"1",y1:"14",x2:"4",y2:"14"}));break;case"clock":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("polyline",{points:"12 6 12 12 16 14"}));break;case"phone":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}));break;case"sun":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"5"}),o.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),o.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),o.a.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),o.a.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),o.a.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),o.a.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),o.a.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),o.a.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}));break;case"compass":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}));break;case"home":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}));break;case"calendar":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),o.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),o.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),o.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}));break;case"book-open":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),o.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}));break;case"check":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"20 6 9 17 4 12"}));break;case"chevron-down":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"6 9 12 15 18 9"}));break;case"chevron-left":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"15 18 9 12 15 6"}));break;case"chevron-right":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"9 18 15 12 9 6"}));break;case"pencil":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M12 20h9"}),o.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}));break;case"pencil-2":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}));break;case"circle":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}));break;case"circle-plus":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),o.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}));break;case"lock":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),o.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}));break;case"unlock":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),o.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}));break;case"user-plus":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),o.a.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),o.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}));break;case"user":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.a.createElement("circle",{cx:"12",cy:"7",r:"4"}));break;case"users":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),o.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),o.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}));break;case"inbox":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),o.a.createElement("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}));break;case"eye":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.a.createElement("circle",{cx:"12",cy:"12",r:"3"}));break;case"eye-off":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),o.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));break;case"star":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));break;case"volume-x":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),o.a.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),o.a.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"}));break;case"volume-2":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),o.a.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}));break;case"volume":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}));break;case"menu":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}));break;case"upload-cloud":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"16 16 12 12 8 16"}),o.a.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),o.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),o.a.createElement("polyline",{points:"16 16 12 12 8 16"}));break;case"monitor":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),o.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),o.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21"}));break;case"corner-up-right":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"15 14 20 9 15 4"}),o.a.createElement("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"}));break;case"corner-up-left":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"9 14 4 9 9 4"}),o.a.createElement("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"}));break;case"arrow-left":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),o.a.createElement("polyline",{points:"12 19 5 12 12 5"}));break;case"arrow-right":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),o.a.createElement("polyline",{points:"12 5 19 12 12 19"}));break;case"arrow-down":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.a.createElement("polyline",{points:"19 12 12 19 5 12"}));break;case"arrow-up":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),o.a.createElement("polyline",{points:"5 12 12 5 19 12"}));break;case"download":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.a.createElement("polyline",{points:"7 10 12 15 17 10"}),o.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}));break;case"start":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));break;case"mail":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),o.a.createElement("polyline",{points:"22,6 12,13 2,6"}));break;case"database":E="1",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),o.a.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),o.a.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}));break;case"rotate-ccw":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"1 4 1 10 7 10"}),o.a.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}));break;case"refresh-ccw":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"1 4 1 10 7 10"}),o.a.createElement("polyline",{points:"23 20 23 14 17 14"}),o.a.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}));break;case"refresh-cw":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"23 4 23 10 17 10"}),o.a.createElement("polyline",{points:"1 20 1 14 7 14"}),o.a.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}));break;case"share":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"18",cy:"5",r:"3"}),o.a.createElement("circle",{cx:"6",cy:"12",r:"3"}),o.a.createElement("circle",{cx:"18",cy:"19",r:"3"}),o.a.createElement("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),o.a.createElement("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}));break;case"link":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),o.a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}));break;case"play":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}));break;case"plus":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}));break;case"x":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));break;case"trash":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"3 6 5 6 21 6"}),o.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}));break;case"trash-2":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"3 6 5 6 21 6"}),o.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),o.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}));break;case"edit":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),o.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}));break;case"edit-2":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}));break;case"edit-3":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M12 20h9"}),o.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}));break;case"search":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),o.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}));break;case"image":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.a.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.a.createElement("polyline",{points:"21 15 16 10 5 21"}));break;case"heart":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}));break;case"video":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),o.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}));break;case"video-off":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}),o.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));break;case"meet":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Group"},o.a.createElement("g",null,o.a.createElement("polygon",{id:"Path",fill:"#A7A7A7",fillRule:"nonzero",points:"12.9375 9.5 15.1669318 12.0729167 18.1647727 14.0072222 18.6875 9.51583333 18.1647727 5.12472222 15.1094318 6.82416667"}),o.a.createElement("path",{d:"M0,13.5902778 L0,17.4166667 C0,18.2914583 0.701761364,19 1.56818182,19 L5.35795455,19 L6.14204545,16.1077778 L5.35795455,13.5902778 L2.75738636,12.7986111 L0,13.5902778 Z",id:"Path",fill:"#949494",fillRule:"nonzero"}),o.a.createElement("polygon",{id:"Path",fill:"#9C9C9C",fillRule:"nonzero",points:"5.35795455 0 0 5.40972222 2.75738636 6.20138889 5.35795455 5.40972222 6.12897727 2.92652778"}),o.a.createElement("polygon",{id:"Path",fill:"#DADADA",fillRule:"nonzero",points:"5.35795455 5.40972222 0 5.40972222 0 13.5902778 5.35795455 13.5902778"}),o.a.createElement("path",{d:"M21.5886364,2.29055556 L18.1647727,5.12472222 L18.1647727,14.0072222 L21.6043182,16.8545833 C22.1192045,17.2609722 22.8719318,16.8902083 22.8719318,16.2291667 L22.8719318,2.90277778 C22.8719318,2.23381944 22.1022159,1.86701389 21.5886364,2.29055556 Z M12.9375,9.5 L12.9375,13.5902778 L5.35795455,13.5902778 L5.35795455,19 L16.5965909,19 C17.4630114,19 18.1647727,18.2914583 18.1647727,17.4166667 L18.1647727,14.0072222 L12.9375,9.5 Z",id:"Shape",fill:"#CACACA",fillRule:"nonzero"}),o.a.createElement("path",{d:"M16.5965909,0 L5.35795455,0 L5.35795455,5.40972222 L12.9375,5.40972222 L12.9375,9.5 L18.1647727,5.12736111 L18.1647727,1.58333333 C18.1647727,0.708541667 17.4630114,0 16.5965909,0 Z",id:"Path",fill:"#E1E1E1",fillRule:"nonzero"})))));break;case"save":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),o.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),o.a.createElement("polyline",{points:"7 3 7 8 15 8"}));break;case"smile":E="0",c="16",d="16",p="0 0 16 16",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M0,8a8,8,0,1,1,8,8A8.01,8.01,0,0,1,0,8ZM1.143,8A6.857,6.857,0,1,0,8,1.143,6.865,6.865,0,0,0,1.143,8Zm4.785,2.731L5.9,10.706a.572.572,0,0,1,.748-.865,2.3,2.3,0,0,0,2.713,0l.032-.025a.571.571,0,0,1,.683.915,3.411,3.411,0,0,1-4.144,0ZM9.715,6.857A1.143,1.143,0,1,1,10.858,8,1.143,1.143,0,0,1,9.715,6.857ZM4,6.857A1.143,1.143,0,1,1,5.143,8,1.143,1.143,0,0,1,4,6.857Z",fill:"currentColor"}));break;case"paperclip":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}));break;case"send-post":E="0",c="16.696",d="16",p="0 0 16.696 16",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M6.446,15.974a.522.522,0,0,1-.359-.5V12.252l2.83.967L7.029,15.787a.52.52,0,0,1-.42.213A.514.514,0,0,1,6.446,15.974Zm7.646-2.089L6.8,11.393l7.17-8.64L4.7,10.677.353,9.19a.522.522,0,0,1-.072-.957L15.933.059a.523.523,0,0,1,.758.54L14.777,13.469a.521.521,0,0,1-.517.445A.541.541,0,0,1,14.092,13.885Z",transform:"translate(0 0)",fill:"currentColor"}));break;case"send":E="0",c="16.696",d="16",p="0 0 16.696 16",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M6.446,15.974a.522.522,0,0,1-.359-.5V12.252l2.83.967L7.029,15.787a.52.52,0,0,1-.42.213A.514.514,0,0,1,6.446,15.974Zm7.646-2.089L6.8,11.393l7.17-8.64L4.7,10.677.353,9.19a.522.522,0,0,1-.072-.957L15.933.059a.523.523,0,0,1,.758.54L14.777,13.469a.521.521,0,0,1-.517.445A.541.541,0,0,1,14.092,13.885Z",transform:"translate(0 0)"}));break;case"folder":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}));break;case"folder-plus":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),o.a.createElement("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),o.a.createElement("line",{x1:"9",y1:"14",x2:"15",y2:"14"}));break;case"file":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),o.a.createElement("polyline",{points:"13 2 13 9 20 9"}));break;case"file-minus":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.a.createElement("polyline",{points:"14 2 14 8 20 8"}),o.a.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}));break;case"file-text":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.a.createElement("polyline",{points:"14 2 14 8 20 8"}),o.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),o.a.createElement("polyline",{points:"10 9 9 9 8 9"}));break;case"moon":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}));break;case"bell":E="2",y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),o.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}));break;case"bar-chart-2":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),o.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),o.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}));break;case"command":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}));break;case"message-square":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}));break;case"message-circle":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}));break;case"settings":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),o.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}));break;case"log-out":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.a.createElement("polyline",{points:"16 17 21 12 16 7"}),o.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}));break;case"more-horizontal":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),o.a.createElement("circle",{cx:"19",cy:"12",r:"1"}),o.a.createElement("circle",{cx:"5",cy:"12",r:"1"}));break;case"more-vertical":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),o.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),o.a.createElement("circle",{cx:"12",cy:"19",r:"1"}));break;case"archive":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),o.a.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),o.a.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"}));break;case"gdrive":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"m323.303 31h-133.799c-5.361 0-10.313 2.856-12.993 7.5s-2.681 10.356 0 15l143.042 247.5h168.726l-151.998-262.515c-2.68-4.629-7.632-7.485-12.978-7.485z"}),o.a.createElement("path",{d:"m154.034 75.947-152.011 262.538c-2.622 4.512-2.695 10.049-.22 14.648l64.805 120c2.578 4.775 7.544 7.793 12.979 7.866h.22c5.347 0 10.313-2.856 12.993-7.5l145.494-251.757z"}),o.a.createElement("path",{d:"m509.88 338.31c-2.695-4.526-7.588-7.31-12.876-7.31h-286.41l-86.678 150h308.284c5.508 0 10.576-3.018 13.198-7.866l64.805-120c2.504-4.658 2.387-10.283-.323-14.824z"}));break;case"info":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.a.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}));break;case"warning":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),o.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),o.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));break;case"alert-x":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),o.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),o.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}));break;case"list":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),o.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),o.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),o.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),o.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),o.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}));break;case"alert-circle":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),o.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}));break;case"thumbs-up":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}));break;case"sliders":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),o.a.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),o.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),o.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),o.a.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),o.a.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),o.a.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),o.a.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),o.a.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}));break;case"gift":y=o.a.createElement(o.a.Fragment,null,o.a.createElement("polyline",{points:"20 12 20 22 4 22 4 12"}),o.a.createElement("rect",{x:"2",y:"7",width:"20",height:"5"}),o.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),o.a.createElement("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),o.a.createElement("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"}));break;default:console.log("".concat(C," not found"))}return o.a.createElement(m,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:d,viewBox:p,fill:b,stroke:_,strokeWidth:E,strokeLinecap:A,strokeLinejoin:j,className:"feather feather-".concat(C," ").concat(a)},T),y)}))),f=o.a.memo(o.a.forwardRef((function(e,t){var a=e.className,i=void 0===a?"":a,c=e.width,s=void 0===c?24:c,l=e.height,u=void 0===l?24:l,p=e.fill,f=void 0===p?"none":p,b=e.stroke,h=void 0===b?"currentColor":b,_=e.strokeWidth,O=void 0===_?"1":_,E=e.strokeLinecap,g=void 0===E?"round":E,A=e.strokeLinejoin,v=void 0===A?"round":A,j=e.icon,C=Object(r.a)(e,d);if("gripp-logo"===j)return o.a.createElement("img",{alt:"gripp logo",className:"icon-".concat(j," ").concat(i),width:s,height:u,src:n(270)});var T="",y="";switch(j){case"archive":y="0 0 48 48",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("defs",null,o.a.createElement("linearGradient",{x1:"0%",y1:"7.77940102%",x2:"100%",y2:"92.220599%",id:"linearGradient-1"},o.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),o.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),o.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),o.a.createElement("g",{id:"_icon/archive/l/active",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M39,20.5 C39.7796961,20.5 40.4204487,21.0948881 40.4931334,21.85554 L40.5,22 L40.5,37.4285714 C40.5,39.5999931 38.8250623,41.3885867 36.7004613,41.4949924 L36.5,41.5 L11.5,41.5 C9.3484916,41.5 7.6083567,39.777207 7.50486965,37.630981 L7.5,37.4285714 L7.5,22 C7.5,21.1715729 8.17157288,20.5 9,20.5 C9.77969612,20.5 10.4204487,21.0948881 10.4931334,21.85554 L10.5,22 L10.5,37.4285714 C10.5,37.9895449 10.8983759,38.4367012 11.3927122,38.4938289 L11.5,38.5 L36.5,38.5 C37.006502,38.5 37.4386447,38.0902419 37.4940126,37.5469373 L37.5,37.4285714 L37.5,22 C37.5,21.1715729 38.1715729,20.5 39,20.5 Z M29.5,22 C30.8807119,22 32,23.1192881 32,24.5 C32,25.8807119 30.8807119,27 29.5,27 L18.5,27 C17.1192881,27 16,25.8807119 16,24.5 C16,23.1192881 17.1192881,22 18.5,22 L29.5,22 Z M38.6,7.5 C40.7539105,7.5 42.5,9.24608948 42.5,11.4 L42.5,11.4 L42.5,14.6 C42.5,16.7539105 40.7539105,18.5 38.6,18.5 L38.6,18.5 L9.4,18.5 C7.24608948,18.5 5.5,16.7539105 5.5,14.6 L5.5,14.6 L5.5,11.4 C5.5,9.24608948 7.24608948,7.5 9.4,7.5 L9.4,7.5 Z M38.6,10.5 L9.4,10.5 C8.90294373,10.5 8.5,10.9029437 8.5,11.4 L8.5,11.4 L8.5,14.6 C8.5,15.0970563 8.90294373,15.5 9.4,15.5 L9.4,15.5 L38.6,15.5 C39.0970563,15.5 39.5,15.0970563 39.5,14.6 L39.5,14.6 L39.5,11.4 C39.5,10.9029437 39.0970563,10.5 38.6,10.5 L38.6,10.5 Z",id:"Combined-Shape",fill:"url(#linearGradient-1)",fillRule:"nonzero"})));break;case"reply":y="0 0 41 31",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("defs",null,o.a.createElement("linearGradient",{x1:"-1.11022302e-14%",y1:"1.72254642e-14%",x2:"100%",y2:"100%",id:"linearGradient-1"},o.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),o.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),o.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),o.a.createElement("g",{id:"E---Notifications",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"E1---01a-Notifications---Overview",transform:"translate(-42.000000, -1381.000000)",fill:"url(#linearGradient-1)",fillRule:"nonzero"},o.a.createElement("g",{id:"Group-13",transform:"translate(20.000000, 1364.000000)"},o.a.createElement("g",{id:"Group-24-Copy-3",transform:"translate(11.000000, 0.000000)"},o.a.createElement("g",{id:"_icon/reply/l/active",transform:"translate(8.000000, 9.000000)"},o.a.createElement("path",{d:"M20.5,37 C20.5,38.309747 18.9390974,38.990409 17.9793234,38.0991902 L3.97932335,25.0991902 C3.35630446,24.5206727 3.3381597,23.54052 3.93933983,22.9393398 L17.9393398,8.93933983 C18.8842871,7.99439254 20.5,8.66364272 20.5,10 L20.5,19.3691406 C20.5,20.1975677 19.8284271,20.8691406 19,20.8691406 C18.1715729,20.8691406 17.5,20.1975677 17.5,19.3691406 L17.5,13.6213203 L7.16133128,23.9599891 L17.5,33.5601814 L17.5,24.5 C17.5,23.6715729 18.1715729,23 19,23 L34.2221177,23 C39.3466003,23 43.5008143,27.154214 43.5008143,32.2786967 C43.5008143,32.6274968 43.4811465,32.9760194 43.4419044,33.322605 C43.3487014,34.1457725 42.6058364,34.7375257 41.7826689,34.6443227 C40.9595014,34.5511198 40.3677483,33.8082547 40.4609512,32.9850873 C40.4875055,32.7505601 40.5008143,32.5147223 40.5008143,32.2786967 C40.5008143,28.8110682 37.6897461,26 34.2221177,26 L20.5,26 L20.5,37 Z",id:"Path"})))))));break;case"document":y="0 0 1536 1792",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M1468 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28H96q-40 0-68-28t-28-68V96q0-40 28-68T96 0h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528V640H992q-40 0-68-28t-28-68V128H128v1536h1280zM384 800q0-14 9-23t23-9h704q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64zm736 224q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704zm0 256q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704z",fill:"#626262"}));break;case"image-video":y="0 0 448 512",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{fill:"currentColor",d:"M128 192a32 32 0 1 0-32-32 32 32 0 0 0 32 32zM416 32H32A32 32 0 0 0 0 64v384a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 320H64V96h320zM268.8 209.07a16 16 0 0 0-25.6 0l-49.32 65.75L173.31 244a16 16 0 0 0-26.62 0L96 320h256z"}));break;case"pin":y="0 0 24 24",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{id:"_icon/pin/r/secundary",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{d:"M15.7692308,8.70635677 C18.2871227,9.7169252 20,11.7084386 20,14 L4,14 C4,11.7084386 5.71287732,9.7169252 8.23076923,8.70635677 L8.23076923,2 L15.7692308,2 L15.7692308,8.70635677 Z",id:"Combined-Shape",stroke:"#972C86",strokeWidth:"2"}),o.a.createElement("path",{d:"M10.5,17.4019238 L13.5,22.5980762",id:"Line-2",stroke:"#972C86",strokeWidth:"2",transform:"translate(12.000000, 20.000000) rotate(30.000000) translate(-12.000000, -20.000000)"})));break;case"mute":y="0 0 24 24",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M6.092 15H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h4l5.293-5.293A1 1 0 0 1 16 4.414V6.5m0 5.5v7.558a1 1 0 0 1-1.713.701l-4.04-4.104"}),o.a.createElement("path",{d:"M6 19.818L21 7"}));break;case"driff-logo":y="0 0 465 355",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("defs",null,o.a.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"100%",y2:"100%",id:"linearGradient-1"},o.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),o.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),o.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),o.a.createElement("g",{id:"Symbols,-Styles-&-Typography",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"logo/gradient",fill:"url(#linearGradient-1)"},o.a.createElement("path",{d:"M444.876694,189.762858 C444.876694,184.355858 449.260694,179.972858 454.666694,179.972858 C460.073694,179.972858 464.456694,184.355858 464.456694,189.762858 C464.456694,195.169858 460.073694,199.552858 454.666694,199.552858 C449.260694,199.552858 444.876694,195.169858 444.876694,189.762858 Z M153.753094,95.3067584 C175.403094,118.181758 181.133094,149.458758 172.867094,179.417758 C162.355094,217.514758 130.210094,243.101758 94.2370945,256.022758 C81.8950945,260.454758 68.7470945,263.670758 55.6180945,264.438758 C51.9980945,264.651758 48.0080945,264.726758 44.5210945,263.619758 C38.5750945,261.731758 37.1550945,256.791758 37.3080945,251.188758 C38.6900945,200.786758 39.9310945,150.357758 39.2580945,99.9347584 C39.1110945,88.9087584 56.2120945,88.9397584 56.3580945,99.9347584 C56.4540945,107.041758 56.5080945,114.149758 56.5260945,121.256758 C56.5970945,149.275758 56.1930945,177.294758 55.5860945,205.306758 C55.3590945,215.758758 55.1000945,226.208758 54.8160945,236.659758 C54.7190945,240.186758 54.7800945,243.789758 54.6920945,247.366758 C55.0770945,247.351758 55.4610945,247.349758 55.8460945,247.325758 C56.9890945,247.254758 58.1310945,247.153758 59.2700945,247.033758 C59.8690945,246.970758 60.4650945,246.892758 61.0640945,246.826758 C61.0780945,246.824758 61.0870945,246.822758 61.1010945,246.820758 C67.0860945,245.854758 72.9920945,244.635758 78.8330945,242.998758 C82.2310945,242.046758 85.5960945,240.981758 88.9230945,239.806758 C92.5540945,238.524758 95.8140945,237.227758 98.1920945,236.172758 C129.822094,222.134758 155.397094,196.918758 159.092094,160.933758 C159.473094,157.220758 159.705094,153.475758 159.607094,149.741758 C159.573094,148.469758 159.502094,147.199758 159.396094,145.931758 C159.352094,145.409758 159.121094,143.665758 159.076094,143.216758 C158.206094,138.036758 156.832094,133.068758 155.028094,128.124758 C154.464094,126.577758 154.802094,127.518758 154.783094,127.474758 C154.475094,126.772758 154.162094,126.074758 153.836094,125.381758 C153.217094,124.070758 152.560094,122.778758 151.866094,121.506758 C150.370094,118.763758 148.702094,116.114758 146.875094,113.578758 C146.704094,113.341758 146.048094,112.473758 145.807094,112.148758 C145.547094,111.835758 144.858094,110.989758 144.647094,110.738758 C143.602094,109.499758 142.518094,108.294758 141.399094,107.123758 C138.961094,104.572758 136.350094,102.198758 133.608094,99.9767584 C132.620094,99.1757584 133.820094,100.088758 132.413094,99.0617584 C131.623094,98.4847584 130.829094,97.9137584 130.022094,97.3607584 C128.481094,96.3017584 126.905094,95.2937584 125.301094,94.3317584 C121.761094,92.2077584 118.082094,90.3107584 114.305094,88.6447584 C106.927094,85.3897584 96.8400945,82.5727584 88.0410945,80.9087584 C62.7140945,76.1177584 36.1160945,77.7367584 10.7810945,81.5557584 C6.19809447,82.2467584 1.60809447,80.4727584 0.26409447,75.5837584 C-0.85490553,71.5117584 1.66609447,65.7547584 6.23509447,65.0657584 C14.6450945,63.7987584 23.0840945,62.7127584 31.5590945,61.9977584 C73.4210945,58.4627584 123.117094,62.9357584 153.753094,95.3067584 Z M333.321994,31.2604584 C333.606994,31.4904584 334.527994,32.0314584 333.321994,31.2604584 Z M334.095994,27.7654584 C334.627994,27.2394584 334.361994,27.4264584 334.095994,27.7654584 Z M249.691994,203.864458 C249.443994,203.615458 249.509994,203.683458 249.691994,203.864458 Z M436.655994,129.367458 C437.285994,128.286458 437.764994,127.117458 438.367994,126.027458 C442.031994,115.884458 458.325994,120.367458 454.787994,130.746458 C452.063994,138.737458 446.559994,146.098458 440.028994,151.345458 C430.246994,159.202458 418.730994,162.384458 406.891994,162.450458 C424.394994,193.161458 428.839994,231.853458 425.059994,266.436458 C423.288994,282.647458 419.952994,298.578458 413.287994,313.520458 C409.426994,322.175458 403.979994,331.211458 395.923994,336.574458 C388.955994,341.213458 378.923994,341.649458 375.738994,332.433458 C373.563994,326.142458 373.676994,318.677458 373.412994,312.093458 C372.350994,285.709458 373.186994,259.211458 373.805994,232.826458 C374.225994,214.956458 374.736994,197.089458 375.218994,179.221458 C367.471994,181.876458 359.245994,182.902458 350.967994,182.712458 C357.273994,196.084458 359.724994,211.191458 361.287994,225.745458 C362.961994,241.332458 363.400994,257.319458 361.845994,272.935458 C359.969994,291.775458 355.275994,310.275458 346.877994,327.295458 C342.381994,336.404458 336.004994,347.965458 326.451994,352.659458 C303.822994,363.778458 308.115994,317.102458 308.192994,306.912458 C308.442994,274.095458 309.858994,241.293458 310.746994,208.489458 C308.053994,209.346458 305.195994,209.757458 302.165994,209.566458 C291.027994,208.866458 284.320994,199.906458 280.508994,190.346458 C278.996994,195.094458 277.265994,199.765458 275.230994,204.311458 C269.782994,216.478458 260.200994,226.809458 245.809994,221.313458 C228.482994,214.696458 230.620994,194.017458 233.734994,179.302458 C235.047994,173.095458 236.726994,166.977458 238.406994,160.861458 C234.410994,163.548458 230.113994,165.784458 225.586994,167.445458 C224.622994,167.798458 223.619994,168.134458 222.588994,168.450458 C220.597994,179.747458 216.214994,190.878458 210.729994,200.440458 C201.734994,216.124458 187.267994,230.038458 168.803994,232.928458 C164.223994,233.644458 159.624994,231.825458 158.285994,226.956458 C157.161994,222.866458 159.691994,217.153458 164.257994,216.439458 C179.022994,214.128458 189.164994,204.002458 196.441994,190.965458 C199.862994,184.837458 202.660994,177.722458 204.455994,170.708458 C198.452994,170.186458 192.829994,168.103458 188.802994,163.517458 C179.845994,153.314458 182.949994,136.882458 195.312994,131.090458 C202.736994,127.612458 211.388994,127.373458 217.316994,133.682458 C221.362994,137.989458 222.913994,144.000458 223.475994,149.798458 C225.670994,148.780458 227.801994,147.585458 229.843994,146.162458 C232.128994,144.571458 234.750994,142.140458 236.909994,139.799458 C237.804994,138.828458 238.668994,137.824458 239.490994,136.791458 C239.433994,136.826458 240.850994,134.900458 241.059994,134.591458 C242.228994,132.864458 243.316994,131.076458 244.570994,128.877458 C248.140994,120.314458 261.033994,120.908458 261.365994,131.149458 C261.924994,148.399458 254.269994,165.623458 250.577994,182.225458 C249.812994,185.666458 249.044994,189.649458 248.799994,192.360458 C248.646994,194.059458 248.544994,195.765458 248.567994,197.471458 C248.577994,198.124458 248.881994,200.836458 248.777994,200.553458 C248.953994,201.285458 249.328994,202.640458 249.489994,203.238458 C249.616994,203.531458 249.911994,204.058458 250.760994,204.834458 C250.958994,204.966458 251.487994,205.219458 251.672994,205.320458 C252.312994,205.528458 253.216994,205.794458 254.222994,205.741458 C254.807994,205.189458 255.364994,204.620458 255.915994,204.002458 C256.287994,203.450458 256.662994,202.904458 257.014994,202.339458 C260.348994,197.002458 261.339994,193.911458 263.308994,187.944458 C267.601994,174.939458 270.355994,161.411458 272.677994,147.932458 C273.440994,143.508458 274.131994,139.071458 274.768994,134.626458 C275.010994,131.769458 275.364994,128.932458 275.907994,126.148458 C277.745994,116.723458 293.812994,118.898458 292.702994,128.421458 C292.512994,130.043458 292.294994,131.661458 292.085994,133.281458 C291.971994,134.548458 291.860994,135.813458 291.783994,137.083458 C291.199994,146.751458 291.374994,156.527458 292.413994,166.157458 C292.841994,170.123458 293.661994,175.049458 295.002994,179.862458 C296.324994,184.603458 296.767994,186.311458 299.517994,190.154458 C298.822994,189.152458 300.582994,191.252458 301.108994,191.765458 C301.352994,191.929458 301.629994,192.093458 301.941994,192.344458 C302.087994,192.364458 302.293994,192.394458 303.467994,192.532458 C303.576994,192.531458 303.985994,192.498458 305.065994,192.323458 C305.536994,192.222458 305.991994,192.061458 306.504994,191.892458 C308.553994,190.898458 309.724994,189.982458 311.193994,188.624458 C311.863994,150.579458 311.556994,112.518458 312.813994,74.4844584 C313.316994,59.2584584 313.647994,43.7244584 316.314994,28.6854584 C317.046994,24.5594584 318.077994,19.9304584 321.057994,16.7904584 C324.931994,12.7104584 331.755994,12.4964584 336.827994,14.0924584 C349.853994,18.1894584 355.887994,33.4004584 358.826994,45.4454584 C363.165994,63.2274584 363.393994,82.2544584 361.170994,100.353458 C359.156994,116.744458 355.617994,132.948458 350.629994,148.691458 C348.874994,154.227458 346.964994,159.826458 344.789994,165.334458 C345.292994,165.384458 345.915994,165.437458 346.821994,165.512458 C356.378994,166.310458 362.627994,165.766458 371.248994,162.586458 C372.674994,162.060458 374.179994,161.334458 375.704994,160.468458 C375.835994,155.176458 375.968994,149.885458 376.084994,144.592458 C376.909994,106.512458 376.835994,68.1944584 379.932994,30.2094584 C380.568994,22.4124584 380.114994,9.87645843 386.019994,3.70245843 C392.629994,-3.20754157 403.239994,0.625458433 408.973994,6.47345843 C417.126994,14.7894584 421.047994,27.1224584 423.278994,38.2564584 C427.015994,56.9064584 426.812994,76.2114584 424.729994,95.0474584 C422.865994,111.895458 419.328994,129.871458 411.568994,145.336458 C412.771994,145.204458 413.964994,145.021458 415.140994,144.767458 C418.362994,144.072458 421.380994,143.057458 423.407994,141.954458 C425.981994,140.554458 428.009994,139.257458 429.128994,138.276458 C430.896994,136.723458 432.519994,135.064458 434.038994,133.272458 C434.136994,133.136458 434.777994,132.316458 435.272994,131.578458 C435.756994,130.856458 436.218994,130.118458 436.655994,129.367458 Z M286.000694,108.552958 C280.593694,108.552958 276.210694,104.169958 276.210694,98.7629584 C276.210694,93.3559584 280.593694,88.9729584 286.000694,88.9729584 C291.406694,88.9729584 295.790694,93.3559584 295.790694,98.7629584 C295.790694,104.169958 291.406694,108.552958 286.000694,108.552958 Z M403.610994,117.324458 C407.748994,101.065458 409.287994,84.0154584 409.082994,67.2664584 C408.922994,54.2534584 407.281994,39.0804584 402.513994,27.8884584 C401.619994,25.7874584 400.550994,23.7344584 399.342994,21.7974584 C398.951994,21.1684584 398.535994,20.5494584 398.102994,19.9444584 C398.082994,20.0814584 398.060994,20.2194584 398.040994,20.3564584 C398.121994,19.8454584 397.865994,21.6784584 397.812994,22.1344584 C397.673994,23.3284584 397.548994,24.5234584 397.431994,25.7204584 C396.126994,39.0824584 395.641994,52.5344584 395.164994,65.9474584 C394.242994,91.8624584 393.488994,117.797458 392.829994,143.737458 C392.858994,143.743458 392.886994,143.750458 392.915994,143.757458 C397.993994,135.681458 401.267994,126.533458 403.610994,117.324458 Z M409.164994,237.372458 C408.530994,221.198458 405.442994,205.057458 400.261994,189.727458 C398.131994,183.419458 395.578994,176.862458 392.173994,170.877458 C391.565994,197.384458 391.035994,223.891458 390.529994,250.383458 C390.104994,272.657458 389.414994,295.100458 390.772994,317.356458 C390.789994,317.621458 390.809994,317.886458 390.826994,318.152458 C390.970994,317.980458 391.121994,317.813458 391.262994,317.639458 C391.443994,317.385458 392.063994,316.560458 392.249994,316.284458 C407.054994,294.325458 410.184994,263.408458 409.164994,237.372458 Z M325.581994,330.019458 C341.569994,307.133458 345.937994,277.182458 345.595994,249.932458 C345.420994,235.871458 344.354994,221.711458 341.277994,207.965458 C339.927994,201.933458 338.308994,195.765458 335.632994,190.170458 C335.134994,189.129458 334.593994,188.089458 334.022994,187.076458 C333.247994,188.308458 332.453994,189.527458 331.624994,190.718458 C330.515994,192.309458 329.324994,193.906458 328.052994,195.460458 C327.844994,206.883458 327.591994,218.305458 327.249994,229.730458 C326.364994,259.176458 325.033994,288.662458 325.289994,318.127458 C325.324994,322.091458 325.398994,326.058458 325.581994,330.019458 Z M330.316994,63.9294584 C329.493994,82.5774584 329.219994,101.249458 329.007994,119.913458 C328.857994,133.195458 328.728994,146.473458 328.573994,159.749458 C339.359994,133.114458 346.020994,103.494458 345.305994,74.6894584 C344.971994,61.2674584 343.545994,46.1514584 336.233994,34.5804584 C335.061994,32.7254584 335.820994,33.8184584 334.409994,32.3014584 C334.067994,31.9324584 333.681994,31.5784584 333.278994,31.2324584 C333.251994,31.2154584 333.216994,31.1924584 333.181994,31.1684584 C332.219994,35.3394584 332.128994,37.5334584 331.682994,42.3754584 C331.022994,49.5444584 330.633994,56.7374584 330.316994,63.9294584 Z M204,152.583252 C206.04248,152.69458 207.356934,150.950665 207.356934,149.293811 C207.356934,147.636957 206.340576,145.364502 204,145.364502 C201.659424,145.364502 200.484619,147.343146 200.484619,149 C200.484619,150.656854 201.95752,152.471924 204,152.583252 Z",id:"Combined-Shape"}))));break;case"driff-logo2":y="0 0 45 33",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{id:"Welcome",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"logo.d0b06377",fill:"#FFFFFF",fillRule:"nonzero"},o.a.createElement("path",{d:"M43.1029448,17.6718104 C43.1029448,17.1682795 43.5276991,16.7601093 44.0514724,16.7601093 C44.5753425,16.7601093 45,17.1682795 45,17.6718104 C45,18.1753414 44.5753425,18.5835116 44.0514724,18.5835116 C43.5276991,18.5835116 43.1029448,18.1753414 43.1029448,17.6718104 Z M14.896737,8.87551435 C16.9943492,11.0057661 17.5495139,13.9184605 16.7486427,16.7084151 C15.7301624,20.2562272 12.615717,22.6390361 9.13038677,23.842314 C7.93460252,24.2550474 6.66072702,24.5545398 5.38869239,24.6260604 C5.03796001,24.6458962 4.6513793,24.6528806 4.31353295,24.5497904 C3.73744049,24.373969 3.59986038,23.9139277 3.61468416,23.3921441 C3.74858254,18.6984195 3.8688198,14.0021805 3.80361458,9.30650037 C3.78937213,8.27969573 5.4462435,8.28258263 5.46038906,9.30650037 C5.46969025,9.96834511 5.47492217,10.630283 5.47666615,11.2921278 C5.48354515,13.9014185 5.44440264,16.5107092 5.38559199,19.119348 C5.36359855,20.0926984 5.33850472,21.0658626 5.3109887,22.0391199 C5.30159062,22.3675745 5.30750075,22.7031066 5.29897466,23.0362174 C5.33627631,23.0348205 5.37348107,23.0346343 5.41078272,23.0323993 C5.52152501,23.0257873 5.63217042,23.0163816 5.74252516,23.0052066 C5.80056071,22.9993396 5.8583056,22.9920758 5.91634115,22.9859295 C5.91769758,22.9857433 5.91856956,22.985557 5.91992599,22.9853708 C6.49979706,22.8954113 7.07201402,22.781891 7.63793331,22.6294441 C7.96715668,22.5407884 8.29318277,22.4416095 8.61552714,22.3321867 C8.96732528,22.2127995 9.28317819,22.0920154 9.51357642,21.9937677 C12.5781247,20.6864682 15.0560199,18.3382091 15.4140188,14.9870786 C15.4509329,14.6413026 15.4734108,14.2925467 15.4639158,13.9448151 C15.4606217,13.8263591 15.4537427,13.7080894 15.4434726,13.5900059 C15.4392096,13.5413943 15.4168286,13.378983 15.4124686,13.3371695 C15.3281766,12.8547781 15.1950533,12.3921293 15.0202685,11.9317155 C14.965624,11.78765 14.9983719,11.8752813 14.996531,11.8711838 C14.9666897,11.8058095 14.936364,11.7408077 14.9047787,11.6762716 C14.8448054,11.5541837 14.7811504,11.4338652 14.7139105,11.3154092 C14.568967,11.0599653 14.4073588,10.8132751 14.2303455,10.5771082 C14.2137778,10.5550374 14.1502196,10.4742042 14.1268698,10.4439384 C14.101679,10.41479 14.0349236,10.3360056 14.0144804,10.312631 C13.9132331,10.1972482 13.8082071,10.0850317 13.6997901,9.97598142 C13.4635787,9.73841761 13.2106057,9.51733705 12.9449404,9.31041165 C12.8492157,9.23581791 12.9654805,9.3208417 12.82916,9.22520158 C12.7526189,9.17146801 12.6756903,9.1182932 12.5975022,9.06679466 C12.4481987,8.96817448 12.2955042,8.87430371 12.1400968,8.78471673 C11.7971154,8.58691762 11.4406667,8.41025805 11.074723,8.25511053 C10.3598878,7.95198618 9.38258466,7.68965091 8.53007246,7.53468965 C6.07620536,7.08852413 3.49919438,7.23929474 1.04455218,7.59494202 C0.600517238,7.65929192 0.155804087,7.49408682 0.0255874257,7.03879497 C-0.0828295713,6.65958688 0.161423556,6.12346188 0.604102072,6.05929823 C1.41892508,5.94130789 2.23655782,5.84017331 3.05767851,5.77358839 C7.11357872,5.44438883 11.9284947,5.86094036 14.896737,8.87551435 Z M42.3064625,12.0474429 C42.3675016,11.9467739 42.4139107,11.8379099 42.4723338,11.7364029 C42.8273292,10.7918283 44.4060124,11.2093111 44.0632248,12.1758633 C43.7993036,12.9200313 43.2660353,13.60553 42.6332637,14.0941609 C41.6855112,14.82585 40.569756,15.1221761 39.4227061,15.1283224 C41.1185262,17.9883077 41.5491907,21.5915296 41.1829563,24.8120977 C41.0113687,26.3217594 40.6881524,27.8053459 40.0423979,29.1968311 C39.6683156,30.0028345 39.14057,30.8443189 38.3600451,31.3437523 C37.6849337,31.7757627 36.7129594,31.8163656 36.404373,30.9581186 C36.1936429,30.3722644 36.2045912,29.6770806 36.1790129,29.0639406 C36.0761185,26.6069105 36.1571164,24.1392641 36.2170897,21.6821409 C36.2577824,20.0179836 36.3072918,18.3541056 36.3539916,16.6901346 C35.6034049,16.9373834 34.8064092,17.0329305 34.0043753,17.0152366 C34.6153472,18.2605143 34.8528182,19.6673651 35.0042532,21.0227174 C35.1664427,22.4742687 35.2089763,23.9630702 35.0583164,25.4173221 C34.8765556,27.1718114 34.4217662,28.894638 33.6081058,30.4796384 C33.1725001,31.327921 32.5546492,32.4045479 31.6290839,32.8416802 C29.436619,33.8771455 29.8525566,29.5304075 29.8600169,28.581456 C29.8842387,25.5253479 30.0214313,22.4706368 30.1074673,19.4157393 C29.8465495,19.4955481 29.5696454,19.5338228 29.2760766,19.5160358 C28.1969447,19.4508477 27.547121,18.6164409 27.1777862,17.7261586 C27.0312925,18.1683197 26.8635804,18.6033102 26.6664145,19.0266599 C26.138572,20.159721 25.2101969,21.1218032 23.8158904,20.6099841 C22.1371225,19.9937709 22.3442678,18.0680233 22.6459751,16.6976777 C22.7731883,16.1196461 22.9358622,15.5499027 23.098633,14.9803456 C22.711471,15.2305745 22.2951458,15.4388037 21.8565366,15.5934856 C21.7631371,15.626359 21.6659591,15.6576492 21.5660682,15.687077 C21.3731654,16.7391187 20.9485079,17.7757015 20.4170805,18.6661701 C19.5455784,20.1267545 18.1439084,21.4225063 16.3549795,21.6916398 C15.9112353,21.7583178 15.4656501,21.5889221 15.3359179,21.1354927 C15.2270165,20.7546084 15.4721416,20.2225809 15.9145294,20.1560891 C17.3450719,19.9408755 18.3277038,18.997884 19.0327534,17.7838035 C19.3642052,17.2131288 19.6352961,16.550539 19.809209,15.897355 C19.227594,15.8487433 18.6827961,15.6547624 18.2926306,15.2276876 C17.4248102,14.2775255 17.7255487,12.747283 18.9233675,12.2078986 C19.6426596,11.8840072 20.4809293,11.8617501 21.0552778,12.4492806 C21.4472842,12.8503732 21.5975566,13.4101521 21.6520073,13.9500953 C21.8646751,13.8552933 22.0711422,13.744008 22.2689862,13.61149 C22.4903739,13.463327 22.7444127,13.2369382 22.9535926,13.0189308 C23.0403068,12.9285057 23.1240175,12.8350075 23.203659,12.7388085 C23.1981364,12.7420679 23.3354258,12.5627077 23.3556753,12.5339319 C23.4689367,12.3731037 23.5743501,12.2065948 23.6958469,12.0018113 C24.0417349,11.2043754 25.2909042,11.2596921 25.3230708,12.213393 C25.3772308,13.8198124 24.6355578,15.4238105 24.2778495,16.9698843 C24.2037307,17.2903301 24.1293212,17.66125 24.1055837,17.9137139 C24.09076,18.0719346 24.0808775,18.2308071 24.0831059,18.3896797 C24.0840747,18.4504908 24.1135285,18.7030479 24.1034522,18.6766933 C24.1205044,18.7448613 24.1568372,18.8710467 24.172436,18.9267359 C24.1847407,18.9540218 24.2133225,19.0030991 24.2955799,19.0753647 C24.3147636,19.0876573 24.3660171,19.1112181 24.3839412,19.1206238 C24.4459492,19.1399939 24.5335354,19.1647654 24.6310041,19.1598297 C24.6876832,19.1084243 24.7416495,19.0554357 24.7950345,18.997884 C24.8310766,18.9464786 24.8674093,18.8956319 24.9015137,18.8430159 C25.2245363,18.3460037 25.3205517,18.058152 25.511323,17.5024706 C25.9272606,16.29137 26.1940885,15.0315648 26.419061,13.7763226 C26.4929861,13.3643343 26.5599353,12.9511353 26.6216525,12.5371913 C26.6450993,12.271131 26.6793974,12.0069332 26.7320073,11.7476711 C26.9100863,10.8699608 28.4667761,11.0725093 28.3592311,11.9593459 C28.3408225,12.1103959 28.3197011,12.2610734 28.2994516,12.4119371 C28.2884064,12.5299275 28.2776519,12.6477315 28.2701916,12.7660013 C28.2136094,13.6663411 28.2305647,14.5767385 28.3312307,15.4735396 C28.3726985,15.8428764 28.4521461,16.3016139 28.5820721,16.7498282 C28.7101573,17.1913374 28.7530784,17.3503962 29.0195187,17.7082785 C28.952182,17.6149665 29.1227038,17.8105306 29.1736666,17.8583041 C29.1973071,17.8735767 29.2241449,17.8888493 29.2543738,17.9122239 C29.2685193,17.9140864 29.2884781,17.9168802 29.4022239,17.9297316 C29.4127847,17.9296384 29.4524116,17.9265653 29.55705,17.9102683 C29.602684,17.9008626 29.6467677,17.8858693 29.696471,17.8701311 C29.8949932,17.7775641 30.0084484,17.6922609 30.150776,17.5657961 C30.2156905,14.0228265 30.1859461,10.478367 30.3077336,6.93642183 C30.3564679,5.518489 30.3885376,4.07187344 30.6469363,2.67135513 C30.7178579,2.28711824 30.8177488,1.85603909 31.1064733,1.56362421 C31.481815,1.1836711 32.1429746,1.16374219 32.6343875,1.3123709 C33.8964427,1.69390714 34.4810613,3.11044309 34.7658133,4.23214287 C35.1862078,5.88810514 35.2082981,7.66000898 34.9929174,9.34549208 C34.7977862,10.8719164 34.4549017,12.3809262 33.9716274,13.8470051 C33.80159,14.3625493 33.616535,14.8839604 33.405805,15.3968971 C33.4545393,15.4015534 33.5149002,15.4064891 33.6026801,15.4134735 C34.528633,15.4877879 35.1340823,15.4371274 35.9693486,15.1409875 C36.10751,15.0920034 36.2533255,15.0243941 36.4010788,14.9437472 C36.4137711,14.4509256 36.4266571,13.9581972 36.437896,13.4652826 C36.5178281,9.91905364 36.5106585,6.35066079 36.8107187,2.81327878 C36.8723391,2.08717723 36.8283522,0.919752701 37.4004723,0.344794257 C38.040898,-0.298704748 39.0688733,0.0582462923 39.6244256,0.602845739 C40.4143486,1.37727956 40.7942441,2.52579956 41.0103998,3.56266178 C41.372468,5.29945721 41.3527999,7.09725001 41.1509835,8.85136684 C40.9703853,10.4203496 40.6276946,12.0943783 39.8758484,13.5345682 C39.992404,13.5222756 40.1079906,13.5052335 40.2219302,13.4815796 C40.5341014,13.4168572 40.8265076,13.3223346 41.0228983,13.2196168 C41.2722865,13.0892408 41.4687741,12.9684567 41.5771911,12.8771003 C41.748488,12.732476 41.9057363,12.5779804 42.0529082,12.411099 C42.0624032,12.3984339 42.124508,12.3220708 42.1724673,12.253344 C42.2193608,12.1861072 42.2641228,12.1173803 42.3064625,12.0474429 Z M27.7098627,10.1090768 C27.1859926,10.1090768 26.7613351,9.70090655 26.7613351,9.1973756 C26.7613351,8.69384461 27.1859926,8.28567441 27.7098627,8.28567441 C28.233636,8.28567441 28.6583903,8.69384461 28.6583903,9.1973756 C28.6583903,9.70090655 28.233636,10.1090768 27.7098627,10.1090768 Z M39.1048185,10.9259294 C39.5057386,9.41179763 39.6548483,7.82400345 39.6349864,6.26424009 C39.6194844,5.05239457 39.4604922,3.63939741 38.998533,2.59713389 C38.9119157,2.40147667 38.8083431,2.21028949 38.6913031,2.02990489 C38.6534201,1.97132879 38.613115,1.91368394 38.5711627,1.85734285 C38.569225,1.87010108 38.5670935,1.88295244 38.5651557,1.89571067 C38.5730036,1.8481234 38.5482004,2.01882292 38.5430654,2.06128827 C38.529598,2.17248043 38.5174871,2.28376571 38.5061513,2.39523725 C38.3797132,3.63958366 38.3327229,4.89231139 38.2865076,6.14140721 C38.1971774,8.55476129 38.1241243,10.9699778 38.0602755,13.3856601 C38.0630852,13.3862188 38.0657981,13.3868707 38.0686078,13.3875226 C38.560602,12.6354389 38.8778114,11.7835245 39.1048185,10.9259294 Z M39.6429311,22.1054906 C39.5815045,20.5992746 39.2823162,19.0961317 38.7803426,17.6685138 C38.5739725,17.0810765 38.326619,16.4704509 37.9967174,15.9130932 C37.9378098,18.3815777 37.8864595,20.8500623 37.8374345,23.3171499 C37.7962573,25.3914331 37.729405,27.4814545 37.8609781,29.5540615 C37.8626252,29.5787398 37.864563,29.6034181 37.86621,29.6281896 C37.8801618,29.6121719 37.8947918,29.5966199 37.9084529,29.5804161 C37.9259896,29.5567621 37.9860598,29.4799334 38.0040808,29.4542307 C39.4384987,27.4092821 39.7417563,24.5301129 39.6429311,22.1054906 Z M31.5447918,30.733313 C33.0938275,28.6020368 33.5170317,25.8128272 33.4838962,23.2751502 C33.4669409,21.9657089 33.3636589,20.6470481 33.0655364,19.3669414 C32.9347384,18.8052068 32.7778777,18.2308071 32.5186071,17.7097685 C32.4703571,17.6128246 32.4179411,17.5159738 32.3626184,17.4216374 C32.2875306,17.5363683 32.210602,17.6498886 32.1302824,17.7608014 C32.0228343,17.9089645 31.9074414,18.0576863 31.7842006,18.2024038 C31.764048,19.2661793 31.7395355,20.3298618 31.7064,21.3938236 C31.6206547,24.1360047 31.4916975,26.8819109 31.5165007,29.6258614 C31.5198918,29.9950119 31.5270614,30.3644418 31.5447918,30.733313 Z M32.0035537,5.95347943 C31.9238153,7.6900886 31.8972682,9.42893277 31.8767281,11.167032 C31.8621949,12.4039283 31.8496965,13.6404522 31.8346789,14.8767897 C32.8797064,12.3963851 33.5250733,9.6380001 33.4557989,6.95551261 C33.4234385,5.70557865 33.285277,4.29788966 32.5768364,3.22033148 C32.4632844,3.0475832 32.5368219,3.14936965 32.4001138,3.00809788 C32.3669783,2.97373447 32.3295798,2.94076795 32.2905341,2.90854644 C32.2879182,2.9069633 32.2845271,2.90482141 32.2811361,2.90258639 C32.1879304,3.29101394 32.1791136,3.49533185 32.1359018,3.94624679 C32.0719562,4.61386536 32.034267,5.28371896 32.0035537,5.95347943 Z M19.7650289,14.2094314 C19.9629195,14.2197989 20.0902735,14.0573955 20.0902735,13.9030997 C20.0902735,13.7488039 19.9918013,13.5371798 19.7650289,13.5371798 C19.5382566,13.5371798 19.4244328,13.7214425 19.4244328,13.8757383 C19.4244328,14.0300341 19.5671384,14.1990639 19.7650289,14.2094314 Z",id:"Combined-Shape"}))));break;default:console.log("".concat(j," not found"))}return o.a.createElement(m,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:u,viewBox:y,fill:f,stroke:h,strokeWidth:O,"stroke-linecap":g,strokeLinejoin:v,className:"icon-".concat(j," ").concat(i)},C),T)}))),b=o.a.memo(o.a.forwardRef((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.width,c=void 0===i?"100%":i,s=e.height,l=void 0===s?"100%":s,d=e.fill,p=void 0===d?"none":d,f=e.stroke,b=void 0===f?"":f,h=e.strokeWidth,_=void 0===h?"":h,O=e.strokeLinecap,E=void 0===O?"":O,g=e.strokeLinejoin,A=void 0===g?"":g,v=e.icon,j=Object(r.a)(e,u),C=v,T="",y="0 0 ".concat(c," ").concat(l);switch("undefined"===typeof C&&(C=Math.floor(4*Math.random())+1),C){case 1:y="0 0 483 421",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{transform:"translate(-358 -223)"},o.a.createElement("g",{transform:"translate(358 414)",opacity:"0.346"},o.a.createElement("path",{d:"M.121-123.043C4.174-68.048,221.6,38.1,261.962-13.992s1.559-149.85-83.029-174.883S-3.931-178.038.121-123.043Z",transform:"translate(278) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M244.079,158.351c3.4-46.641,185.885-136.662,219.762-92.485s25.3,137.1-45.692,158.329S240.678,204.992,244.079,158.351Z",fill:"#dde3e9",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(387 223)"},o.a.createElement("g",{transform:"translate(15)"},o.a.createElement("rect",{width:"324",height:"283",rx:"8",fill:"#f2f2f2"}),o.a.createElement("path",{d:"M8,0H316a8,8,0,0,1,8,8V22H0V8A8,8,0,0,1,8,0Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(9 10)"},o.a.createElement("circle",{cx:"4",cy:"4",r:"4",fill:"#f2f2f2"}),o.a.createElement("circle",{cx:"4",cy:"4",r:"4",transform:"translate(12)",fill:"#f2f2f2"}),o.a.createElement("circle",{cx:"4",cy:"4",r:"4",transform:"translate(24)",fill:"#f2f2f2"})),o.a.createElement("g",{transform:"translate(16 43)"},o.a.createElement("g",{transform:"translate(222 89)"},o.a.createElement("rect",{width:"70",height:"135",rx:"8",fill:"#fff"}),o.a.createElement("g",{transform:"translate(18 18)"},o.a.createElement("rect",{width:"34",height:"17.284",rx:"4",fill:"#dde3e9"}),o.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 22.602)",fill:"#cca8d2"}),o.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 44.54)",fill:"#dde3e9"}),o.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 88.415)",fill:"#dde3e9"}),o.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 66.477)",fill:"#c5cfd6"}))),o.a.createElement("g",{transform:"translate(222)"},o.a.createElement("rect",{width:"70",height:"64.113",rx:"8",fill:"#fff"}),o.a.createElement("g",{transform:"translate(10 11.873)"},o.a.createElement("circle",{cx:"16",cy:"16",r:"16",transform:"translate(9)",fill:"#dde3e9"}),o.a.createElement("rect",{width:"50",height:"6",rx:"3",transform:"translate(0 36)",fill:"#dde3e9"}),o.a.createElement("rect",{width:"34",height:"6",rx:"3",transform:"translate(8 46)",fill:"#dde3e9"}))),o.a.createElement("rect",{width:"214",height:"37.201",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 11.16)"},o.a.createElement("rect",{width:"156",height:"5.58",rx:"2.79",fill:"#dde3e9"}),o.a.createElement("rect",{width:"104.712",height:"5.58",rx:"2.79",transform:"translate(0 9.3)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(184.13 11.601)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"})),o.a.createElement("g",{transform:"translate(0 43.534)"},o.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 9.261)"},o.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),o.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(184.13 8.435)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),o.a.createElement("g",{transform:"translate(0 80.735)"},o.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 9.261)"},o.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),o.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(184.13 8.435)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#afb9c5"}))),o.a.createElement("g",{transform:"translate(0 192.339)"},o.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 9.261)"},o.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),o.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(184.13 8.435)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),o.a.createElement("g",{transform:"translate(0 155.138)"},o.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 9.261)"},o.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),o.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(184.13 8.435)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),o.a.createElement("g",{transform:"translate(0 117.936)"},o.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 9.261)"},o.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),o.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(184.13 8.435)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))))),o.a.createElement("g",{transform:"translate(425 92) rotate(180)"},o.a.createElement("g",{transform:"translate(425 -0.798) rotate(-180)"},o.a.createElement("g",{transform:"translate(38.024 13.84) rotate(-8)"},o.a.createElement("g",{transform:"translate(38.515 22.058)"},o.a.createElement("path",{d:"M27.205,6.5c4.133,7.685,3.642,27.18-1.7,28.554-2.13.548-6.668-.794-11.287-3.571l2.9,20.461H0l5.893-27.4C2.606,20.692.382,15.976.754,10.691,1.825-4.536,23.072-1.186,27.205,6.5Z",fill:"#b28b67",fillRule:"evenodd"})),o.a.createElement("path",{d:"M58.959,20.186A22.392,22.392,0,0,0,51.8,19.4a12.264,12.264,0,0,0,.872-6.213,18.9,18.9,0,0,0-2.02-5.617,7.682,7.682,0,0,0-1.494-2.323,5.107,5.107,0,0,0-2.418-1.3,6.484,6.484,0,0,0-2.785,0c-.4.085-.768.27-1.165.372s-.6-.149-.9-.4a5.1,5.1,0,0,0-2.654-1.027,6.859,6.859,0,0,0-3.02.361A5.913,5.913,0,0,0,33.7,4.858a4.207,4.207,0,0,0-.754,1.152c-.073.175-.085.279-.26.343s-.351.061-.518.118a6.517,6.517,0,0,0-3.75,3.391,10.728,10.728,0,0,0-.59,4.417c.057,1.841,1.724,6.646,3.282,8.4a10.478,10.478,0,0,0,5.41,3.048,15.43,15.43,0,0,0-2.827,5.259A25.684,25.684,0,0,0,32.4,37.374a20.8,20.8,0,0,0,.321,6.3,6.826,6.826,0,0,0,3.059,4.444,14.628,14.628,0,0,0,2.355,1.1A15.528,15.528,0,0,0,40.558,50a4.877,4.877,0,0,0,4.608-.983,8.634,8.634,0,0,0,1.239-1.57c.115-.2.184-.328.045-.522a3.738,3.738,0,0,0-.652-.592,6.127,6.127,0,0,1-2.173-4.06c-.194-1.667.255-3.818,1.879-4.545,2-.9,4.213.133,6,1.093a9.781,9.781,0,0,1,4.751-6.291c2.7-1.353,5.792-1.512,8.564-2.673a5.111,5.111,0,0,0,1.99-1.263,2.566,2.566,0,0,0,.572-.933,1.508,1.508,0,0,0-.4-1.172C65.793,24.636,61.3,20.9,58.959,20.186Z",fill:"#191847",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(0 137.187)"},o.a.createElement("path",{d:"M92.3,0l52.758,87.842,39.553,74.263h8.519L126.858,0Z",fill:"#915b3c",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(177.5 140.715)"},o.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M173.626,150.214l16.429-4.95q-10.8-32.147-26.467-70.753T129.93,0h-46.4a725.656,725.656,0,0,0,42.4,82.538A558.652,558.652,0,0,0,173.626,150.214Z",fill:"#571563",fillRule:"evenodd"}),o.a.createElement("path",{d:"M88.833,0C83.853,30.868,74.25,70.306,73.343,71.524Q72.437,72.741,8.087,93.3l1.84,7.482Q86.665,89.756,90.8,83.673C94.926,77.59,115.551,29.531,123.54,0Z",fill:"#915b3c",fillRule:"evenodd"}),o.a.createElement("path",{d:"M23.167,86.834l3.241,12.05q57.4,5.013,70.335-7.245T126.237,0H81.989Q71.5,65,70.262,67.731T23.167,86.834Z",fill:"#7a1b8b",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(27.562 85.114) rotate(80)"},o.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"}))),o.a.createElement("g",{transform:"translate(3.93 77.259) rotate(-8)"},o.a.createElement("path",{d:"M48.322,52.553l15.568.058q-25.606,57.212-26.7,59.911c-1.645,4.048,1.836,10.213,3.325,13.526-4.849,2.154-4.332-5.824-10.448-3-5.583,2.579-9.83,7.252-16.28,3.3-.793-.486-1.662-2.315.438-3.745,5.231-3.561,12.769-9.794,13.787-11.846q2.083-4.2,20.313-58.206ZM180.36,39.046c-3.145,2.6-6.336,5.483-5.776,6.873s3.485.872,3.97,3.009q.485,2.137-14.241.694l-22.776,8.966L136.5,46.1l28.07-3.8a61.441,61.441,0,0,1,15.5-6.3C181.394,35.964,183.505,36.443,180.36,39.046Z",fill:"#997659",fillRule:"evenodd"}),o.a.createElement("path",{d:"M87.805,6.848l12.213-.259c5.341,26.6,23.114,42.144,59.082,33.209l7.872,34.169c-33.7,7.356-64.784-3.578-74.12-39.729C90.434,24.88,88.317,15.106,87.805,6.848Z",transform:"translate(4.09 -10.945) rotate(5)",fill:"#cca8d2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M84.941,0l.009.011,18.468,4.2c0,31.184,9.892,51.207,15.131,74.068l.177.78H68.85c-.7,8.012-1.134,16.248-1.359,24.706H30.145Q42.839,36.7,83.731,0h1.21Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M76.719,34.066q-1.928,29.479,2.268,44.993H68.85a241.428,241.428,0,0,1,7.785-44.7Z",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}))),o.a.createElement("g",{transform:"translate(73.688 -0.631) rotate(-7)"},o.a.createElement("g",{transform:"translate(38.515 -22.058)"},o.a.createElement("path",{d:"M27.205-6.5c4.133-7.685,3.642-27.18-1.7-28.554-2.13-.548-6.668.794-11.287,3.571l2.9-20.461H0l5.893,27.4C2.606-20.693.382-15.976.754-10.691,1.825,4.536,23.072,1.186,27.205-6.5Z",fill:"#b28b67",fillRule:"evenodd"})),o.a.createElement("path",{d:"M55.963-19.7c-2.256.369-8.331.623-9.451.623-.716,0-1.492-.163-1.916.493-.347.537-.22,1.445-.324,2.068-.12.724-.291,1.439-.464,2.151a21.843,21.843,0,0,1-2.277,5.77A17.762,17.762,0,0,1,33.106-.984,27.117,27.117,0,0,1,20.313.771C15.722.4,11.566-1.112,7.231-2.535A27.48,27.48,0,0,0-5.548-3.762C-9.9-3.1-13.19-.741-16.862,1.493a21.115,21.115,0,0,1-12.5,3.439A24.1,24.1,0,0,1-40.761.619,18.57,18.57,0,0,1-48.113-7.7c-1.608-3.89-1.607-8.16,1.038-11.6,3.833-4.983,10.95-6.272,16.871-6.144a32.3,32.3,0,0,1,10.021,1.832c4.312,1.513,8.038,4.078,12.072,6.158a31.458,31.458,0,0,0,5.9,2.356c1.99.561,3.951.818,5.753-.382a27.184,27.184,0,0,1,5.8-3.31,18.731,18.731,0,0,1,6.537-1.171c4.337.033,8.612,1.382,12.824,2.284,3.435.736,7.11,1.47,10.612.762,1.461-.3,3.6-.905,4.123-2.42C34.552-20.939,31.063-31.9,33.568-39.944c1.352-4.342,9.476-9.419,12.635-7.136,2,1.446.786,3.345,0,4.6-1.506,2.4-2.021,5.484.765,7.155,2.4,1.441,4.93-1.981,4.978-1.978.661.052,6.368,3.272,10.3,7.972,3.88-.229,4.468,2.323,3.542,4.41S59.081-20.21,55.963-19.7Z",fill:"#191847",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(0 -137.985)"},o.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),o.a.createElement("path",{d:"M80.832-108.06l3.256-12.089c37.082-4.334,61.513.9,70.1,9.074q8.587,8.178,15.258,88.532L145.309,11.928c-32.188-24.291-12.822-104.05-13.642-105.872S111.3-97.172,80.832-108.06Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 8.398, -125.914)",fill:"#2f3676",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(143.09 -111.732) rotate(-20)"},o.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M92.3,0,55.56-87.842,19.451-162.106H27.97L121.178,0Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(17.04 -140.715)"},o.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M22.712-146.678l18.93-3.536C56.279-128.783,117.534-40.908,124.25,0H82.107C59.679-29.572,36.664-124.893,22.712-146.678Z",fill:"#5c63ab",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(24.357 -53.066) rotate(-7)"},o.a.createElement("path",{d:"M36.619-57.883l14.568-2.87q-21.976-40.664-23.571-43.1c-2.392-3.66-.16-10.367.664-13.9-5.172-1.2-3.132,6.534-9.677,4.92-5.974-1.473-11.039-5.253-16.61-.155-.685.627-1.186,2.586,1.149,3.591,5.817,2.5,14.412,7.191,15.806,9.011Q21.8-96.667,36.619-57.883Zm144.093,21.7c-2.291-3.322-4.55-6.918-3.634-8.082s3.567.121,4.614-1.772q1.047-1.893-13.408-4.529L148.992-65.252l-8.226,10.463,25.761,11.233A60.987,60.987,0,0,0,179.6-33.376C180.856-32.978,183-32.858,180.713-36.18Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M87.667-6.995,93.7-5.416c14.463-11.68,22.607-42.07,31.854-45.378,8.743-3.127,20.33,1.653,34.05,7.939l5.179-9.242c-11.658-14.948-38.049-29.024-49.744-23.329C96.341-66.322,88.909-28.612,87.667-6.995Z",transform:"translate(4.06 10.845) rotate(-5)",fill:"#571563",fillRule:"evenodd"}),o.a.createElement("path",{d:"M63.985-80.471h54.4c2.486,0,2.017,3.564,1.658,5.362C115.891-54.356,99.7-31.985,99.7-2.443L84.013,0C71.035-20.724,66.547-46.239,63.985-80.471Z",fill:"#dde3e9",fillRule:"evenodd"}),o.a.createElement("path",{d:"M85.833,0h3.38q21.128-71.51,11.649-95.294H51.9a176.356,176.356,0,0,0,6.662,35.84Q41.927-89.248,30.6-102.353l-11.4,2.217Q30.212-32.3,83,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))),o.a.createElement("g",{transform:"translate(124.465 120.816) rotate(-14)"},o.a.createElement("path",{d:"M50.828,54.607l-.007.016s.007-.025.007-.016",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M50.823,54.614a.043.043,0,0,0,0,.005c0-.005.009-.02,0-.005",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M50.858,54.53c-.007.02-.016.039-.024.059l.012-.028c-.1.26-.038.091.012-.031",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M50.836,54.59l-.012.028c-.029.056.012-.028.012-.028",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M50.825,54.614Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M50.824,54.615v0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M50.819,54.622c-.006.012.028-.046,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M50.824,54.615l0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("rect",{width:"100",height:"66",rx:"4",transform:"translate(0.575 0.818)",fill:"#571563"}),o.a.createElement("g",{transform:"translate(9.058 20.093)"},o.a.createElement("path",{d:"M29.312,0,.471,47H58.152Z",fill:"rgba(0,0,0,0.2)",fillRule:"evenodd"}),o.a.createElement("path",{d:"M59.047,12.589,33.551,47H84.544Z",fill:"rgba(0,0,0,0.2)",fillRule:"evenodd"})),o.a.createElement("circle",{cx:"9.5",cy:"9.5",r:"9.5",transform:"translate(69.517 14.142)",fill:"#fff"})))));break;case 2:y="0 0 483 434.869",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{transform:"translate(-358 -209.131)"},o.a.createElement("g",{transform:"translate(512 209)",opacity:"0.5"},o.a.createElement("path",{d:"M1.908,2.672C.335,4.243.946,9.824.913,11.89c-.051,3.216.149,6.4.418,9.606.18,2.145,1.2,22.618,4.021,21.045,1.593-.886.594-6.808.591-8.681-.006-4.164-.18-8.319-.457-12.474A109.174,109.174,0,0,1,5.215,9.851c.036-.943.919-11.412-3.307-7.179",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M70.409.149C56.9.256,43.388.923,29.881,1.331c-6.5.2-12.995.446-19.487.807-2.212.123-6.957-.585-8.8.593C-2.5,5.348,4.1,5.96,5.859,5.9,32.59,4.927,59.329,3.65,86.082,3.59c13.124-.029,26.241.344,39.365.261,5.017-.032,10.573-2.193,11.84,3.646,1.43,6.59-.213,13.927-.66,20.548a116.174,116.174,0,0,0,.007,13.166c.128,2.829-.2,6.018.3,8.794.481,2.674,2.4,4.277,4.166,1.282,1.053-1.79.529-6.209.6-8.282.094-2.792.006-5.584.006-8.377,0-6.817.962-13.607.834-20.422-.082-4.395-.315-12.362-5.858-13.418-6.1-1.163-13.607.006-19.853-.065C101.344.546,85.892.028,70.409.149",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M33.174,42.786q-7.643,0-15.287.115c-4.37.072-11.24-.839-15.308.725C-.2,44.7-.944,47.8,2.58,48.633c3.843.9,9.636-.573,13.657-.644,20.164-.356,40.522-.82,60.658.455,18.868,1.195,38.1,2.353,56.994,1.092,1.59-.106,9.7-.429,6-3.468-2.158-1.774-10.907-.607-13.712-.692-9.894-.3-19.8-.365-29.69-.74C86.722,44.265,77,43.168,67.238,42.9c-11.345-.316-22.716-.11-34.065-.11",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M28.075,13.8c7.942.347,15.8,11.865,7.764,17.431-7.539,5.223-21.667-.5-17.475-10.629-.6,1.464.762-1.591.779-1.611a21.789,21.789,0,0,1,3.211-2.719,12.686,12.686,0,0,1,3.651-2.2c.89-.279.75.77,2.07-.267M24.207,9.65C20.49,11.1,18.794,12.738,16.239,15.7c-1.768,2.05-4.021,3.129-4,5.9,0,.613.792,1.287.928,1.878.188.816-.03,1.862.119,2.729C14.824,35.156,25.5,38.174,33.317,36.484c6.808-1.472,11.9-8.007,10.323-15.114C42.052,14.216,31.444,6.819,24.207,9.65",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M20.9,22.143c0,3.219,5.085,3.219,5.085,0,0-3.183-5.085-3.319-5.085,0",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M27.258,21.491c0,2.558,4.041,2.558,4.041,0,0-2.529-4.041-2.637-4.041,0",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M28.51,26.767c-1.294.5-2.935-.534-4,.146-1.881,1.2,0,2.294,1.013,2.778,4.54,2.179,5.348-3.829,2.984-2.924",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M97.85,19.632h0m-19.772-2.89c-3.4.767-6.267,3.941-9.959,3.516-2.829-.325-4.745-3.056-7.538-3.452-3.573-.508-13.3,7.643-8.185,9.041,2.983.816,4.638-4.635,7.273-4.925,2.085-.229,4.92,2.327,7.08,2.691,4.03.679,6.8-1.541,10.335-2.972,3.844-1.556,6.032-.155,9.375,1.574,2.639,1.365,5.124,2.253,8.144,1.69,2.834-.528,6.394-3.442,9.247-3.143,2.794.293,4.788,3.209,7.662,3.479,1.185.111,2.949.515,2.749-1.313-.159-1.464-1.793-1.216-2.814-1.748-2.628-1.368-5.086-3.792-8.257-3.585-2.386.156-4.557,1.832-6.756,2.634-7.2,2.626-11.248-5.081-18.356-3.487",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M84.092,63.111c-13.889.127-27.824.334-41.674,1.447-3.283.264-36.81,3.429-36.747,3.657.118.422,4.43,1.066,4.4,1.166q-.436-1.081-1.993-.895c31.8,0,63.494-2.847,95.334-2.335,8,.128,16.03.075,24.025.327,2,.063,6.941,1.494,8.509.592,4.114-2.365-3.36-2.638-4.6-2.738-15.669-1.253-31.546-1.379-47.259-1.222",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M1.556,69.859c-2.076,2.082-.164,9.571-.083,12.385.118,4.069.021,8.168.378,12.226a82.7,82.7,0,0,0,2.256,14.074c.67,2.478,3.022,6.416,3.953,1.914.665-3.216-.345-7.482-.7-10.759a126.813,126.813,0,0,1-.6-13.112c-.016-3.838-.09-7.691-.4-11.517-.163-1.986-1.163-8.832-4.8-5.212",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M53.794,108c-9.856.169-19.733.4-29.572,1.017-4.033.253-8.062.629-12.08,1.055-.82.087-9.895.455-5.84,3.8,1.83,1.512,9.359-.578,11.846-.8,4.182-.367,8.364-.6,12.558-.782,9.718-.413,19.467-.777,29.195-.608,17.766.308,35.419.446,53.19.05,2.525-.056,22.306.472,22.978-2.155.541-2.117-6.533-1.146-7.822-1.107-4.732.141-9.464.108-14.2.084-20.051-.1-40.219-.9-60.255-.561",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M132.719,66.347c.313,8.775,1.807,17.54,2.285,26.342.218,4.024.475,8.043.672,12.068.064,1.3-.46,4.427,1.076,5.174,2.106,1.024,2.39-1.04,2.784-2.436,1.139-4.033.369-9.271.265-13.414-.1-4.011-.107-8.03-.4-12.034-.3-4.091-1.127-8.1-1.509-12.18-.162-1.724.4-4.593-1.427-5.663a2.509,2.509,0,0,0-3.744,2.142",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M35.845,80.944l.112.087-.112-.087m-8.376-2.6c3.123.892,5.688.56,8.672,2.833,2.473,1.885,5.01,4.643,5.831,7.692,1.9,7.043-4.53,10.9-10.554,10.978-6.17.077-15.3-1.354-14.986-9.262.242-6.076,4.679-12,11.037-12.241m.22-3.98c-8.1.4-14.632,9.5-14.562,17.154.085,9.279,10.6,11.669,18.067,11.734,8.429.072,16.835-5.748,14.576-15.227-1.81-7.595-10.292-14.066-18.081-13.661",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M19.542,86.822c0,2.587,4.088,2.587,4.088,0,0-2.558-4.088-2.668-4.088,0",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M28.117,85.687c0,2.608,4.121,2.608,4.121,0,0-2.578-4.121-2.689-4.121,0",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M23.39,91.589c-2.661,2.657,6.687,7.314,8.891,3.618,1.811-3.035-2.132-2.029-3.529-2.193-1.519-.179-4.122-2.661-5.362-1.425",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M98.124,85.74h0m-35.1-4.325c-2.694.505-11.536,3.488-11.655,6.685-.218,5.81,8.441-.141,10.322-.905,5.108-2.076,7.792,2.159,12.923,2.382,4.457.194,8.554-3.62,12.753-3.169,4.4.472,6.514,5.152,11.592,2.667,2.686-1.314,2.619-3.34-.4-3.531-1.823-.115-3.075.638-4.975-.146-2.972-1.226-4.169-3.222-7.725-2.9-2.684.239-5.109,1.752-7.729,2.337-6,1.34-9.325-4.5-15.108-3.415",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M118.818,88.263h0m.68-2.419c.03.013.233.295,0,0M116.409,84h0m.067-.023c.6.358,5.414,3.651,1.917,4.426-1.775.394-3.244-3.179-1.917-4.426m-1.594-3.648c-7.713,3.517.587,16.1,6.64,10.989,2.547-2.152,2.882-6.5.4-8.742-1.485-1.343-5.029-3.167-7.045-2.246",fill:"#69a1ac",fillRule:"evenodd"}),o.a.createElement("path",{d:"M42.477,129.921c-9.625,0-19.334-.2-28.945.371-1.618.1-7.78-.212-8.613,1.479-1.525,3.093,4.816,1.557,5.737,1.465,19.138-1.916,39.129-.814,58.33-.267,15.7.446,31.323.724,47.008,1.533q6.184.319,12.362.7c1.343.081,4.722.971,5.005-1.174.262-1.985-3.954-1.537-5.007-1.592q-12.562-.661-25.116-1.374c-20.152-1.136-40.576-1.141-60.761-1.137",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M4.609,133.36c-1.8,1.787-.955,8.611-1.005,10.866-.088,3.945-.274,7.886-.357,11.83-.087,4.122.034,8.263.278,12.378.1,1.728,1.521,10.08,3.754,5.3,1-2.136-.024-8.085-.009-10.505.027-4.4.265-8.791.484-13.189.188-3.781.2-7.566.361-11.348.052-1.206.195-9.044-3.5-5.333",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M134.98,168.6c-9.367.96-18.883.506-28.286,1.215-8.1.611-16.2.861-24.323,1.033-18.4.388-36.824.767-55.167,2.3-4.18.349-8.356.72-12.547.907-2.1.094-10.893-.86-11.548,1.349-1.116,3.764,8.291,2.274,10.32,2.215,4.462-.129,8.9-.451,13.352-.79,18.7-1.425,37.478-1.851,56.221-2.443,10.194-.322,20.317-1.068,30.488-1.746,5.07-.338,10.153-.349,15.222-.677,1.326-.086,6.021.083,6.975-.984.656-.733.821-2.522-.708-2.379",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M131.8,134c.321,8.983.829,17.957,1.132,26.94.091,2.7-.725,7.542.78,9.924,2.418,3.83,4.306-.223,4.749-2.61,1.4-7.533-.1-15.855-.5-23.434-.149-2.892.749-9.327-.648-11.915-1.331-2.465-5.636-2.218-5.517,1.1",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M116.079,146.793c3.588.972,4.113,8.774.064,9.351-6.027.859-3.391-7.743-.064-9.351m-1.005-3.1c-1.095-.034-3.621-.336-4.3.555-.565.746.006,2.319-.06,3.029-.237,2.538-2.3,4-1.378,7a7.321,7.321,0,0,0,4.347,4.652c10.785,3.728,10.654-17.111,1.387-15.236",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M17.7,145.091l-.08.1.08-.1m8.471-4.507-.127-1.083c5.848,2.76,10.5,7.9,8.559,14.787-1.482,5.258-6.834,7.123-11.821,5.825-5.52-1.437-8.158-5.988-6.67-11.575.687-2.578,2.8-6.042,5.521-6.871,1.269-.386,4.075.6,4.537-1.083M22.753,138.4a8.344,8.344,0,0,0-4.126,1.559,6.738,6.738,0,0,1,4.126-1.559m.042-3.4c-3.654.112-6.048,2.324-8.216,4.98-.68.834-2.98,3.045-2.7,4.168.225.888.814,2.187,2.055,1.2-6.5,12.95,10.288,24,20.535,14.99,9.563-8.4.075-25.729-11.68-25.335",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M19.476,147.035a1.339,1.339,0,0,0,2.677,0,1.339,1.339,0,0,0-2.677,0",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M24.044,147.329a1.361,1.361,0,0,0,2.72,0,1.361,1.361,0,0,0-2.72,0",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M26.117,153.484c-1.273.1-5.931-.329-6.748.786-1.366,1.863.814,1.927,1.885,2.129.965.181,5.159.079,5.75-.778.522-.757.4-2.246-.887-2.136",fill:"#ddc8e1",fillRule:"evenodd"}),o.a.createElement("path",{d:"M82.241,148.653h0m-17.6-1.287c-2.867.211-5.3,1.86-8.038,2.518-2.926.7-4.193-.59-6.854-1.436a6.47,6.47,0,0,0-6.962,1.358c-1.261,1.071-4.026,3.537-3.238,5.44,1.8,4.355,5.888-2.731,7.809-3.06,3-.514,5.662,2.106,9.118,1.356,3.131-.679,5.909-2.829,9.18-2.852,2.735-.019,5.312,1.477,8.012,1.839,4.121.553,6.828-.91,10.638-2,3.3-.942,5.621.3,8.728,1.345,1.42.477,6.159,2.213,5.287-.934-.247-.889-6.492-2.479-7.46-2.785-3.414-1.079-5.577-.658-8.829.582a13.379,13.379,0,0,1-7.9.969c-3.2-.627-6.118-2.6-9.488-2.344",fill:"#ddc8e1",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(358 414)",opacity:"0.346"},o.a.createElement("path",{d:"M.121-123.043C4.174-68.048,221.6,38.1,261.962-13.992s1.559-149.85-83.029-174.883S-3.931-178.038.121-123.043Z",transform:"translate(278) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M244.079,158.351c3.4-46.641,185.885-136.662,219.762-92.485s25.3,137.1-45.692,158.329S240.678,204.992,244.079,158.351Z",fill:"#dde3e9",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(381 314)"},o.a.createElement("g",{transform:"translate(425) rotate(180)"},o.a.createElement("g",{transform:"translate(425 -0.798) rotate(-180)"},o.a.createElement("g",{transform:"translate(38.024 13.84) rotate(-8)"},o.a.createElement("g",{transform:"translate(38.515 22.058)"},o.a.createElement("path",{d:"M27.205,6.5c4.133,7.685,3.642,27.18-1.7,28.554-2.13.548-6.668-.794-11.287-3.571l2.9,20.461H0l5.893-27.4C2.606,20.692.382,15.976.754,10.691,1.825-4.536,23.072-1.186,27.205,6.5Z",fill:"#b28b67",fillRule:"evenodd"})),o.a.createElement("path",{d:"M58.959,20.186A22.392,22.392,0,0,0,51.8,19.4a12.264,12.264,0,0,0,.872-6.213,18.9,18.9,0,0,0-2.02-5.617,7.682,7.682,0,0,0-1.494-2.323,5.107,5.107,0,0,0-2.418-1.3,6.484,6.484,0,0,0-2.785,0c-.4.085-.768.27-1.165.372s-.6-.149-.9-.4a5.1,5.1,0,0,0-2.654-1.027,6.859,6.859,0,0,0-3.02.361A5.913,5.913,0,0,0,33.7,4.858a4.207,4.207,0,0,0-.754,1.152c-.073.175-.085.279-.26.343s-.351.061-.518.118a6.517,6.517,0,0,0-3.75,3.391,10.728,10.728,0,0,0-.59,4.417c.057,1.841,1.724,6.646,3.282,8.4a10.478,10.478,0,0,0,5.41,3.048,15.43,15.43,0,0,0-2.827,5.259A25.684,25.684,0,0,0,32.4,37.374a20.8,20.8,0,0,0,.321,6.3,6.826,6.826,0,0,0,3.059,4.444,14.628,14.628,0,0,0,2.355,1.1A15.528,15.528,0,0,0,40.558,50a4.877,4.877,0,0,0,4.608-.983,8.634,8.634,0,0,0,1.239-1.57c.115-.2.184-.328.045-.522a3.738,3.738,0,0,0-.652-.592,6.127,6.127,0,0,1-2.173-4.06c-.194-1.667.255-3.818,1.879-4.545,2-.9,4.213.133,6,1.093a9.781,9.781,0,0,1,4.751-6.291c2.7-1.353,5.792-1.512,8.564-2.673a5.111,5.111,0,0,0,1.99-1.263,2.566,2.566,0,0,0,.572-.933,1.508,1.508,0,0,0-.4-1.172C65.793,24.636,61.3,20.9,58.959,20.186Z",fill:"#191847",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(0 137.187)"},o.a.createElement("path",{d:"M92.3,0l52.758,87.842,39.553,74.263h8.519L126.858,0Z",fill:"#915b3c",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(177.5 140.715)"},o.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M173.626,150.214l16.429-4.95q-10.8-32.147-26.467-70.753T129.93,0h-46.4a725.656,725.656,0,0,0,42.4,82.538A558.652,558.652,0,0,0,173.626,150.214Z",fill:"#571563",fillRule:"evenodd"}),o.a.createElement("path",{d:"M88.833,0C83.853,30.868,74.25,70.306,73.343,71.524Q72.437,72.741,8.087,93.3l1.84,7.482Q86.665,89.756,90.8,83.673C94.926,77.59,115.551,29.531,123.54,0Z",fill:"#915b3c",fillRule:"evenodd"}),o.a.createElement("path",{d:"M23.167,86.834l3.241,12.05q57.4,5.013,70.335-7.245T126.237,0H81.989Q71.5,65,70.262,67.731T23.167,86.834Z",fill:"#7a1b8b",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(27.562 85.114) rotate(80)"},o.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"}))),o.a.createElement("g",{transform:"translate(3.93 77.259) rotate(-8)"},o.a.createElement("path",{d:"M48.322,52.553l15.568.058q-25.606,57.212-26.7,59.911c-1.645,4.048,1.836,10.213,3.325,13.526-4.849,2.154-4.332-5.824-10.448-3-5.583,2.579-9.83,7.252-16.28,3.3-.793-.486-1.662-2.315.438-3.745,5.231-3.561,12.769-9.794,13.787-11.846q2.083-4.2,20.313-58.206ZM180.36,39.046c-3.145,2.6-6.336,5.483-5.776,6.873s3.485.872,3.97,3.009q.485,2.137-14.241.694l-22.776,8.966L136.5,46.1l28.07-3.8a61.441,61.441,0,0,1,15.5-6.3C181.394,35.964,183.505,36.443,180.36,39.046Z",fill:"#997659",fillRule:"evenodd"}),o.a.createElement("path",{d:"M87.805,6.848l12.213-.259c5.341,26.6,23.114,42.144,59.082,33.209l7.872,34.169c-33.7,7.356-64.784-3.578-74.12-39.729C90.434,24.88,88.317,15.106,87.805,6.848Z",transform:"translate(4.09 -10.945) rotate(5)",fill:"#cca8d2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M84.941,0l.009.011,18.468,4.2c0,31.184,9.892,51.207,15.131,74.068l.177.78H68.85c-.7,8.012-1.134,16.248-1.359,24.706H30.145Q42.839,36.7,83.731,0h1.21Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M76.719,34.066q-1.928,29.479,2.268,44.993H68.85a241.428,241.428,0,0,1,7.785-44.7Z",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}))),o.a.createElement("g",{transform:"translate(73.688 -0.631) rotate(-7)"},o.a.createElement("g",{transform:"translate(38.515 -22.058)"},o.a.createElement("path",{d:"M27.205-6.5c4.133-7.685,3.642-27.18-1.7-28.554-2.13-.548-6.668.794-11.287,3.571l2.9-20.461H0l5.893,27.4C2.606-20.693.382-15.976.754-10.691,1.825,4.536,23.072,1.186,27.205-6.5Z",fill:"#b28b67",fillRule:"evenodd"})),o.a.createElement("path",{d:"M55.963-19.7c-2.256.369-8.331.623-9.451.623-.716,0-1.492-.163-1.916.493-.347.537-.22,1.445-.324,2.068-.12.724-.291,1.439-.464,2.151a21.843,21.843,0,0,1-2.277,5.77A17.762,17.762,0,0,1,33.106-.984,27.117,27.117,0,0,1,20.313.771C15.722.4,11.566-1.112,7.231-2.535A27.48,27.48,0,0,0-5.548-3.762C-9.9-3.1-13.19-.741-16.862,1.493a21.115,21.115,0,0,1-12.5,3.439A24.1,24.1,0,0,1-40.761.619,18.57,18.57,0,0,1-48.113-7.7c-1.608-3.89-1.607-8.16,1.038-11.6,3.833-4.983,10.95-6.272,16.871-6.144a32.3,32.3,0,0,1,10.021,1.832c4.312,1.513,8.038,4.078,12.072,6.158a31.458,31.458,0,0,0,5.9,2.356c1.99.561,3.951.818,5.753-.382a27.184,27.184,0,0,1,5.8-3.31,18.731,18.731,0,0,1,6.537-1.171c4.337.033,8.612,1.382,12.824,2.284,3.435.736,7.11,1.47,10.612.762,1.461-.3,3.6-.905,4.123-2.42C34.552-20.939,31.063-31.9,33.568-39.944c1.352-4.342,9.476-9.419,12.635-7.136,2,1.446.786,3.345,0,4.6-1.506,2.4-2.021,5.484.765,7.155,2.4,1.441,4.93-1.981,4.978-1.978.661.052,6.368,3.272,10.3,7.972,3.88-.229,4.468,2.323,3.542,4.41S59.081-20.21,55.963-19.7Z",fill:"#191847",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(0 -137.985)"},o.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),o.a.createElement("path",{d:"M80.832-108.06l3.256-12.089c37.082-4.334,61.513.9,70.1,9.074q8.587,8.178,15.258,88.532L145.309,11.928c-32.188-24.291-12.822-104.05-13.642-105.872S111.3-97.172,80.832-108.06Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 8.398, -125.914)",fill:"#2f3676",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(143.09 -111.732) rotate(-20)"},o.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M92.3,0,55.56-87.842,19.451-162.106H27.97L121.178,0Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(17.04 -140.715)"},o.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M22.712-146.678l18.93-3.536C56.279-128.783,117.534-40.908,124.25,0H82.107C59.679-29.572,36.664-124.893,22.712-146.678Z",fill:"#5c63ab",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(24.357 -53.066) rotate(-7)"},o.a.createElement("path",{d:"M36.619-57.883l14.568-2.87q-21.976-40.664-23.571-43.1c-2.392-3.66-.16-10.367.664-13.9-5.172-1.2-3.132,6.534-9.677,4.92-5.974-1.473-11.039-5.253-16.61-.155-.685.627-1.186,2.586,1.149,3.591,5.817,2.5,14.412,7.191,15.806,9.011Q21.8-96.667,36.619-57.883Zm144.093,21.7c-2.291-3.322-4.55-6.918-3.634-8.082s3.567.121,4.614-1.772q1.047-1.893-13.408-4.529L148.992-65.252l-8.226,10.463,25.761,11.233A60.987,60.987,0,0,0,179.6-33.376C180.856-32.978,183-32.858,180.713-36.18Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M87.667-6.995,93.7-5.416c14.463-11.68,22.607-42.07,31.854-45.378,8.743-3.127,20.33,1.653,34.05,7.939l5.179-9.242c-11.658-14.948-38.049-29.024-49.744-23.329C96.341-66.322,88.909-28.612,87.667-6.995Z",transform:"translate(4.06 10.845) rotate(-5)",fill:"#571563",fillRule:"evenodd"}),o.a.createElement("path",{d:"M63.985-80.471h54.4c2.486,0,2.017,3.564,1.658,5.362C115.891-54.356,99.7-31.985,99.7-2.443L84.013,0C71.035-20.724,66.547-46.239,63.985-80.471Z",fill:"#dde3e9",fillRule:"evenodd"}),o.a.createElement("path",{d:"M85.833,0h3.38q21.128-71.51,11.649-95.294H51.9a176.356,176.356,0,0,0,6.662,35.84Q41.927-89.248,30.6-102.353l-11.4,2.217Q30.212-32.3,83,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))))));break;case 3:y="0 0 412.064 498.67",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{transform:"translate(-397.936 -271)"},o.a.createElement("g",{transform:"translate(499 271)"},o.a.createElement("g",{transform:"translate(86 90)"},o.a.createElement("rect",{width:"225",height:"47",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 14.1)"},o.a.createElement("rect",{width:"167",height:"7.05",rx:"3",fill:"#dde3e9"}),o.a.createElement("rect",{width:"112.096",height:"7.05",rx:"3",transform:"translate(0 11.75)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(193.954 16.5)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),o.a.createElement("g",{transform:"translate(225 46) rotate(180)"},o.a.createElement("rect",{width:"225",height:"39",rx:"4",transform:"translate(0 -39)",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 -11.7)"},o.a.createElement("rect",{width:"167",height:"5.85",rx:"2.925",transform:"translate(0 -5.85)",fill:"#dde3e9"}),o.a.createElement("rect",{width:"112.096",height:"5.85",rx:"2.925",transform:"translate(0 -15.6)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(193.954 -12.5)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",transform:"translate(0 -14)",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 -10)",fill:"#f2f2f2"}))),o.a.createElement("g",{transform:"translate(86)"},o.a.createElement("rect",{width:"225",height:"39",rx:"4",fill:"#fff"}),o.a.createElement("g",{transform:"translate(9 11.7)"},o.a.createElement("rect",{width:"167",height:"5.85",rx:"2.925",fill:"#dde3e9"}),o.a.createElement("rect",{width:"112.096",height:"5.85",rx:"2.925",transform:"translate(0 9.75)",fill:"#dde3e9"})),o.a.createElement("g",{transform:"translate(193.954 12.5)"},o.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),o.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"})))),o.a.createElement("g",{transform:"translate(390 366)"},o.a.createElement("ellipse",{cx:"99.89",cy:"99.802",rx:"99.89",ry:"99.802",transform:"translate(33.626 47.431)",fill:"#cca8d2"}),o.a.createElement("g",{transform:"translate(-15.824 -15.81)"},o.a.createElement("g",{transform:"translate(81.18)"},o.a.createElement("g",{transform:"translate(53.46 30.69)"},o.a.createElement("path",{d:"M37.762,9.043C43.5,19.736,42.817,46.86,35.4,48.771c-2.957.762-9.256-1.105-15.668-4.97L23.76,72.27H0L8.179,34.144C3.617,28.79.53,22.228,1.046,14.875,2.533-6.311,32.025-1.651,37.762,9.043Z",fill:"#b28b67",fillRule:"evenodd"})),o.a.createElement("path",{d:"M59.814,69.6c-2.982-13.267-11.478-22.311-10.18-28.241a8.994,8.994,0,0,1,6.916-7.375q2.906-11.756,18.745-10C91.134,25.744,100.8,32.321,96.626,46.8c-3.838,0-8.47-1.388-14.877.99Q78.7,48.917,77.388,54.8H74.493q-4.215-6.987-8.311-5.135t-1.862,9L62.894,69.6Z",fill:"#191847",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(0 184.691)"},o.a.createElement("path",{d:"M205.075-9.724c-18.849,15.378-11.4,150.547-12.655,152.246q-.838,1.133-89.722,19.127l2.58,10.466q104-4.963,110.051-12.683,8.657-11.052,21.208-123.775Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 5.817, 173.565)",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M205.075-9.724c-18.849,15.378-11.4,150.547-12.655,152.246q-.838,1.133-89.722,19.127l2.58,10.466q104-4.963,110.051-12.683,8.657-11.052,21.208-123.775Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 5.817, 173.565)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),o.a.createElement("path",{d:"M112.72,150.654l4.54,16.857c51.7,6.047,85.763-1.243,97.734-12.645q11.971-11.4,21.265-123.438L202.6-16.638C157.729,17.228,184.739,128.437,183.6,130.978S155.2,135.476,112.72,150.654Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 11.72, 175.566)",fill:"#2f3676",fillRule:"evenodd"}),o.a.createElement("g",{transform:"matrix(0.94, 0.342, -0.342, 0.94, 199.519, 155.769)"},o.a.createElement("path",{d:"M2.648,24.528A20.278,20.278,0,0,0,.99,30.99a47.27,47.27,0,0,0,.892,7.62H57.72q2.177-7.016-2.513-7.575t-7.791-1.01L21.45,18.738a.99.99,0,0,0-1.3.513l0,.009L18.477,23.2h0a18.157,18.157,0,0,1-7.055,1.975A16.342,16.342,0,0,1,5.306,23.43h0a1.98,1.98,0,0,0-2.616,1Q2.667,24.477,2.648,24.528Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M128.7,0,77.471,122.466,27.122,226H39L168.967,0Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(23.76 196.179)"},o.a.createElement("path",{d:"M2.648,24.528A20.278,20.278,0,0,0,.99,30.99a47.27,47.27,0,0,0,.892,7.62H57.72q2.177-7.016-2.513-7.575t-7.791-1.01L21.45,18.738a.99.99,0,0,0-1.3.513l0,.009L18.477,23.2h0a18.157,18.157,0,0,1-7.055,1.975A16.342,16.342,0,0,1,5.306,23.43h0a1.98,1.98,0,0,0-2.616,1Q2.667,24.477,2.648,24.528Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M31.669,204.492l26.4,4.929C78.473,179.543,163.885,57.032,173.25,0H114.488C83.214,41.228,51.123,174.119,31.669,204.492Z",fill:"#5c63ab",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(21.78 80.988)"},o.a.createElement("path",{d:"M50.993,81.18,71.28,85.205q-30.6,57.032-32.823,60.454c-3.331,5.133-.223,14.54.925,19.494-7.2,1.676-4.362-9.164-13.476-6.9-8.319,2.066-15.373,7.368-23.13.217-.954-.879-1.652-3.627,1.6-5.036,8.1-3.511,20.069-10.086,22.01-12.638Q30.356,135.575,50.993,81.18ZM251.646,50.743c-3.19,4.659-6.335,9.7-5.061,11.336s4.967-.169,6.425,2.486q1.459,2.655-18.67,6.352l-26.866,20.6L196.02,76.841l35.872-15.754a85,85,0,0,1,18.2-14.278C251.846,46.252,254.836,46.084,251.646,50.743Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M122.047,9.778l8.4-2.209c20.151,16.393,31.519,59.02,44.4,63.667,12.178,4.394,28.31-2.3,47.412-11.1l7.22,12.965c-16.222,20.953-52.962,40.67-69.254,32.674C134.178,92.988,123.8,40.1,122.047,9.778Z",transform:"translate(5.687 -15.1) rotate(5)",fill:"#571563",fillRule:"evenodd"}),o.a.createElement("path",{d:"M89.1,112.86h75.746c3.461,0,2.809-5,2.309-7.52C161.38,76.234,138.839,44.858,138.839,3.426L116.99,0C98.918,29.065,92.669,64.85,89.1,112.86Z",fill:"#dde3e9",fillRule:"evenodd"}),o.a.createElement("path",{d:"M119.524,0h4.707q29.422,100.292,16.222,133.65H72.27c1.079-16.272,4.538-33.481,9.275-50.26q-23.162,41.781-38.938,60.16L26.73,140.44Q42.071,45.3,115.581,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))))));break;case 4:y="0 0 543 350",T=o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{transform:"translate(-328 -277)"},o.a.createElement("g",{transform:"translate(328 280)",opacity:"0.346"},o.a.createElement("path",{d:"M.218-189.873C7.506-105.008,398.558,58.791,471.155-21.592s2.8-231.24-149.333-269.871S-7.07-274.738.218-189.873Z",transform:"translate(500) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M166.125,255C171.49,195.106,459.341,79.51,512.779,136.238S552.692,312.285,440.7,339.547,160.76,314.887,166.125,255Z",fill:"#dde3e9",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(556 277)"},o.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),o.a.createElement("g",{transform:"translate(8 18)"},o.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),o.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),o.a.createElement("g",{transform:"translate(688 277)"},o.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),o.a.createElement("g",{transform:"translate(8 18)"},o.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),o.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),o.a.createElement("g",{transform:"translate(688 374)"},o.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),o.a.createElement("g",{transform:"translate(8 18)"},o.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),o.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),o.a.createElement("g",{transform:"translate(556 374)"},o.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),o.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),o.a.createElement("g",{transform:"translate(8 18)"},o.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),o.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),o.a.createElement("g",{transform:"translate(347 262)"},o.a.createElement("g",{transform:"translate(66)"},o.a.createElement("g",{transform:"translate(43.625 25.145)"},o.a.createElement("path",{d:"M30.815,7.409C35.5,16.17,34.94,38.394,28.89,39.96c-2.413.624-7.553-.905-12.785-4.071l3.284,23.325H0L6.674,27.976C2.952,23.589.433,18.212.854,12.188,2.067-5.171,26.134-1.352,30.815,7.409Z",fill:"#b28b67",fillRule:"evenodd"})),o.a.createElement("path",{d:"M45.914,32.888C50.335,14.65,75.35,25.973,80.163,22.9c1.052,6.621-2.341,11.96-14.271,10.929-2.633,1.476-4.506,4.246-6.761,7.879a4.8,4.8,0,0,0-1.772-.336,4.871,4.871,0,0,0-3.387,8.348c-1.121,1.588-2.378,3.249-3.819,4.963-5.37-3.235-9.365-12.656-4.256-21.758Z",fill:"#191847",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(0 152)"},o.a.createElement("path",{d:"M167.879-7.871c-15.458,12.606-9.49,123.24-10.521,124.632q-.688.928-73.526,15.746l2.1,8.564q85.212-4.167,90.174-10.492,7.1-9.056,17.5-101.336Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 4.598, 142.033)",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M167.879-7.871c-15.458,12.606-9.49,123.24-10.521,124.632q-.688.928-73.526,15.746l2.1,8.564q85.212-4.167,90.174-10.492,7.1-9.056,17.5-101.336Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 4.598, 142.033)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),o.a.createElement("path",{d:"M92.028,123.5l3.7,13.793c42.352,4.9,70.264-1.1,80.083-10.448q9.819-9.345,17.545-101.06L165.835-13.524c-36.8,27.766-14.782,118.767-15.722,120.848S126.842,111.035,92.028,123.5Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 9.439, 143.65)",fill:"#2f3676",fillRule:"evenodd"}),o.a.createElement("g",{transform:"matrix(0.94, 0.342, -0.342, 0.94, 163.189, 127.749)"},o.a.createElement("path",{d:"M1.949,20.7A15.68,15.68,0,0,0,.8,25.511a39.684,39.684,0,0,0,.72,6.273H46.553q1.755-5.775-2.027-6.236t-6.284-.832l-20.7-9.185a1.043,1.043,0,0,0-1.376.53l-.01.024L14.9,19.1h0a14.414,14.414,0,0,1-5.69,1.626A12.059,12.059,0,0,1,4.745,19.5h0A2.086,2.086,0,0,0,2,20.572Q1.972,20.634,1.949,20.7Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M105.256,0l-41.9,100.419-41.178,84.9H31.9L138.188,0Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("g",{transform:"translate(19.432 160.861)"},o.a.createElement("path",{d:"M1.949,20.7A15.68,15.68,0,0,0,.8,25.511a39.684,39.684,0,0,0,.72,6.273H46.553q1.755-5.775-2.027-6.236t-6.284-.832l-20.7-9.185a1.043,1.043,0,0,0-1.376.53l-.01.024L14.9,19.1h0a14.414,14.414,0,0,1-5.69,1.626A12.059,12.059,0,0,1,4.745,19.5h0A2.086,2.086,0,0,0,2,20.572Q1.972,20.634,1.949,20.7Z",fill:"#e4e4e4",fillRule:"evenodd"})),o.a.createElement("path",{d:"M25.9,167.678l21.587,4.042C64.178,147.22,134.032,46.764,141.691,0H93.632C68.056,33.806,41.81,142.773,25.9,167.678Z",fill:"#5c63ab",fillRule:"evenodd"})),o.a.createElement("g",{transform:"translate(18 67)"},o.a.createElement("path",{d:"M152.091,55.858l25.791,18.916a69.471,69.471,0,0,1,17.532,7.037c1.109,1.009,2.448,3.052-2.149,2.7l-.614-.046c-4.407-.319-8.864-.4-9.47,1.094-.634,1.566,2.148,3.44.866,5.553q-1.282,2.113-12.117-10.6L146.39,69.935Zm50.4-69.569c-3.049,3.455-6.1,7.226-5.231,8.675s4.043.357,4.961,2.651Q203.137-.089,186.452.9L162.624,14.91,154.8,1.89,185.446-7.3a69.441,69.441,0,0,1,16.178-9.75C203.1-17.326,205.538-17.165,202.489-13.71Z",fill:"#b28b67",fillRule:"evenodd"}),o.a.createElement("path",{d:"M102.684,12.647C123.02,34.277,147.827,48.389,181.662,60.9l-7.519,15.013c-34.913-3.278-53.577-5.9-68.2-27.565C102.269,42.913,95.708,24.2,91.777,14.484Z",transform:"matrix(0.966, 0.259, -0.259, 0.966, 16.119, -33.877)",fill:"#6c147c",fillRule:"evenodd"}),o.a.createElement("path",{d:"M72.768,92.064h62.257Q113.872,27.626,113.414,3.611c-.016-.816-1.525-2.254-2.192-2.066Q103.9,3.611,95.546,0C80.787,23.709,75.683,52.9,72.768,92.064Z",fill:"#f2f2f2",fillRule:"evenodd"}),o.a.createElement("path",{d:"M181.05-7.268l3.3,16.453C159.109,25.4,133.554,37.956,111.162,36.172c9.724,41.659,9.276,75.763-12.191,75.763h-33.2C60.5,76.545,74.36,27.477,87.206,2.727A4.379,4.379,0,0,1,91.2,0h9.646l.013.038C118.7.184,147.658,3.439,181.05-7.268Z",fill:"#7a1b8b",fillRule:"evenodd"})))));break;default:console.log("".concat(v," not found"))}return o.a.createElement(m,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:l,viewBox:y,fill:p,stroke:b,strokeWidth:_,"stroke-linecap":E,strokeLinejoin:A,className:"icon-".concat(v," ").concat(a)},j),T)})))},,function(e,t,n){"use strict";n.d(t,"e",(function(){return A})),n.d(t,"a",(function(){return Q})),n.d(t,"f",(function(){return J})),n.d(t,"b",(function(){return te})),n.d(t,"d",(function(){return ie})),n.d(t,"c",(function(){return de}));var a=n(2),r=n(0),i=n.n(r),c=n(3),o=n(9);function s(){var e=Object(a.a)(["\n  cursor: pointer;\n\n  .done {\n    text-decoration: line-through;\n    color: #00c851;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .user-name {\n    cursor: pointer;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n  }\n  .recent-post-timestamp {\n    @media only screen and (max-width: 480px) {\n      display: none !important;\n    }\n  }\n"]);return s=function(){return e},e}var l,d,u,m,p,f,b,h,_,O,E,g=c.a.li(s()),A=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.post,r=e.onOpenPost,c=Object(o.W)().localizeChatDate,s=function(e){r(a)};return i.a.createElement(g,{className:"recent-post-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(n),onClick:s},i.a.createElement("div",{className:"flex-grow-1 min-width-0",onClick:s},i.a.createElement("div",{className:"mb-1 d-flex align-items-center justify-content-between"},i.a.createElement("div",{className:"app-list-title text-truncate"},a.title),i.a.createElement("div",{className:"pl-3 d-flex recent-post-timestamp align-items-center"},c(a.created_at.timestamp)))))})),v=n(1),j=n(6),C=n(39),T=n(7),y=n(30),S=n(75),w=n(77),k=n(129),N=n(5),R=n(19),x=n(703),I=function(e){var t=e.users,n=Object(r.useState)(!1),a=Object(j.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(null),l=Object(j.a)(s,2),d=l[0],u=l[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"hover read-users-container"},t.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(T.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id,onClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),o(!0),u(t)}(t,e)}})," ",i.a.createElement("span",{className:"name"},e.name))}))),c&&i.a.createElement(x.a,{appear:!0,in:c,timeout:300,classNames:"slide"},i.a.createElement(T.o,{id:d?d.id:null,onShowPopup:function(){return o((function(e){return!e}))},showPopup:c,orientation:{vertical:"bottom",horizontal:"left"}})))},P=c.a.div(l||(l=Object(a.a)(["\n  .profile-slider {\n    left: 0 !important;\n    right: unset !important;\n    bottom: 30px !important;\n    top: unset !important;\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]))),D=Object(c.a)(T.s)(d||(d=Object(a.a)(["\n  width: 16px;\n"]))),L=c.a.span(u||(u=Object(a.a)(["\n  cursor: pointer;\n"]))),F=function(e){var t=e.comment,n=e.dictionary,a=e.disableOptions,r=e.likers,c=e.post,o=e.handleReaction,s=e.handleShowInput,l=function(){return c.post_reads?c.post_reads.filter((function(e){return(t.shared_with_client||"internal"===e.type)&&e.last_read_timestamp>=t.updated_at.timestamp})):[]};return i.a.createElement(P,{className:"d-flex align-items-center justify-content-start"},i.a.createElement("div",{className:"clap-count-wrapper"},i.a.createElement(D,{className:t.user_clap_count?"mr-2 comment-reaction clap-true":"mr-2 comment-reaction clap-false",icon:"thumbs-up",onClick:o}),t.clap_count,0!==r.length&&i.a.createElement("span",{className:"hover read-users-container"},r.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(T.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),!c.is_read_only&&!a&&!c.is_close&&i.a.createElement(L,{className:"ml-3",onClick:s},n.comment),i.a.createElement("div",{className:"user-reads-container"},i.a.createElement("span",{className:"no-readers"},i.a.createElement(D,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),l().length),i.a.createElement(I,{users:l()})))},M=n(154),U=c.a.li(m||(m=Object(a.a)(['\n  margin-bottom: 1rem;\n  overflow: initial;\n\n  &.important {\n    background: #6a5acd !important;\n    color: #fff;\n    .text-muted {\n      color: #fffafa !important;\n    }\n  }\n\n  .mention {\n    font-weight: bold;\n    color: #7a1b8b;\n    &[data-value="All"],\n    &[data-id="','"] {\n      font-weight: normal;\n      box-shadow: none;\n      padding: 0 4px;\n      border-radius: 8px;\n      text-decoration: underline;\n      display: inline-block;\n      width: auto;\n      height: auto;\n    }\n  }\n\n  .quote {\n    margin: 0 auto 0.5rem;\n    width: 95%;\n    position: relative;\n    padding: 0 1rem;\n    color: #868686;\n    border-left: 4px solid #972c86;\n\n    // &:before {\n    //   border: 10px solid #0000;\n    //   border-right-color: #36393d;\n    // }\n\n    // &.border-side {\n    //   border-left: 5px solid #822492;\n    //   border-radius: 0 !important;\n    // }\n\n    > * {\n      margin-bottom: 0;\n    }\n  }\n\n  .quote-author {\n    margin-top: 1rem;\n    margin-left: 2.5%;\n    margin-bottom: 0.5rem;\n  }\n\n  .files {\n    margin-bottom: 1rem;\n\n    li {\n      display: inline-block;\n\n      &:not(:last-child) {\n        margin-right: 1rem;\n      }\n\n      .feather-paperclip {\n        margin-right: 0.5rem;\n      }\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n\n    &:hover {\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      background: #fff;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n'])),(function(e){return e.userId})),G=c.a.li(p||(p=Object(a.a)(["\n  overflow: initial;\n  z-index: 10;\n"]))),H=c.a.div(f||(f=Object(a.a)(["\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .comment-reaction {\n    cursor: pointer;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n"]))),B=c.a.div(b||(b=Object(a.a)(["\n  .more-options {\n    margin-left: auto;\n    width: 28px;\n    height: 28px;\n    padding: 6px 0 0 5px;\n    svg {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]))),W=c.a.div(h||(h=Object(a.a)(["\n  img {\n    max-width: 50%;\n    @media (max-width: 991.99px) {\n      max-width: 100%;\n    }\n  }\n  ul {\n    padding-left: 40px;\n    li {\n      list-style: initial;\n    }\n  }\n"]))),Y=c.a.div(_||(_=Object(a.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),z=Object(c.a)(S.f)(O||(O=Object(a.a)([""]))),V=Object(c.a)(k.d)(E||(E=Object(a.a)([""]))),Q=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.comment,c=e.post,s=e.type,l=void 0===s?"main":s,d=e.user,u=e.commentActions,m=e.parentId,p=e.onShowFileDialog,f=e.dropAction,b=e.parentShowInput,h=void 0===b?null:b,_=e.workspace,O=e.isMember,E=e.dictionary,g=e.disableOptions,A=e.isCompanyPost,k=void 0!==A&&A,x=e.postActions,I=Object(N.useDispatch)(),P={input:Object(r.useRef)(null),body:Object(r.useRef)(null),main:Object(r.useRef)(null),content:Object(r.useRef)(null)},D=Object(r.useRef)(),L=Object(o.s)(),Q=L.fileBlobs,q=L.actions.setFileSrc,K=Object(C.g)(),Z=Object(o.w)(),X=Object(N.useSelector)((function(e){return e.users.users})),$=Object(N.useSelector)((function(e){return e.posts.clearApprovingState})),ee=Object(r.useState)(null),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)(null),ce=Object(j.a)(re,2),oe=ce[0],se=ce[1],le=Object(r.useState)(null),de=Object(j.a)(le,2),ue=(de[0],de[1]),me=Object(r.useState)({approve:!1,change:!1}),pe=Object(j.a)(me,2),fe=pe[0],be=pe[1],he=Object.values(X).filter((function(e){return a.clap_user_ids.some((function(t){return t===e.id}))})),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h?h(e):ae("number"!==typeof e?a.id:e),Ee()},Oe=function(){se(null)},Ee=function(){null!==ne&&null!==P.input.current&&(P.input.current.querySelector(".ql-editor").scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),P.input.current.querySelector(".ql-editor").focus())},ge=Object(o.W)().fromNow,Ae=function(e){var t=null;e.target.dataset.id&&(t=e.target.dataset.id),t&&I(Object(R.Wb)({file_id:parseInt(t),files:a.files}))},ve=JSON.parse(localStorage.getItem("userAuthToken"));Object(r.useEffect)((function(){P.content.current&&(P.content.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){Z.init(e)})),P.content.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var n=a.files.find((function(e){return t.includes(e.code)}));n&&Q[n.id]&&(e.setAttribute("src",Q[n.id]),e.setAttribute("data-id",n.id))}else{e.addEventListener("click",Ae,!1),e.classList.add("has-listener");var r=a.files.find((function(e){return t.includes(e.code)}));r&&Q[r.id]&&(e.setAttribute("src",Q[r.id]),e.setAttribute("data-id",r.id))}})));var e=a.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!Q[e.id]&&a.body.includes(e.code)&&fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(ve.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var n=URL.createObjectURL(t);q({id:e.id,src:n}),u.updateCommentImages({post_id:c.id,id:a.id,parent_id:"main"===l?null:m,file:Object(v.a)(Object(v.a)({},e),{},{blobUrl:n})})}))}))}),[a.body,P.content,a.files]),Object(r.useEffect)((function(){Ee()}),[Ee]),Object(r.useEffect)((function(){"object"===typeof K.location.state&&K.location.state&&K.location.state.focusOnMessage===a.id&&P.body.current&&(P.body.current.scrollIntoView(),P.main.current.classList.add("bounceIn"),K.push(K.location.pathname,null))}),[K.location.state]),Object(r.useEffect)((function(){return null!==a.body.match(/\.(gif)/g)&&ue(!0),a.clap_count>0&&a.clap_user_ids.length!==a.clap_count&&u.fetchPostReplyHover(a.id),function(){K.push(K.location.pathname,null)}}),[]);var je=function(){ae(null),be(Object(v.a)(Object(v.a)({},fe),{},{change:!1}))};Object(r.useEffect)((function(){$&&$===a.id&&(be(Object(v.a)(Object(v.a)({},fe),{},{change:!1})),u.clearApprovingStatus(null))}),[$]);var Ce=a.files.filter((function(e){return!a.body.includes(e.code)}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,{ref:P.main,isImportant:a.is_important,className:"comment card border fadeBottom ".concat(n," animated ").concat(a.is_important&&"important"),userId:d.id},null!==a.todo_reminder&&i.a.createElement(T.p,{todoReminder:a.todo_reminder,type:"POST_COMMENT"}),a.quote&&i.a.createElement(ie,{quote:a.quote,dictionary:E}),i.a.createElement(H,{ref:P.body,className:"card-body",type:l},i.a.createElement(B,{className:"d-flex"},i.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},i.a.createElement(T.a,{className:"mr-2",id:a.author.id,name:a.author.name,imageLink:a.author.profile_image_thumbnail_link?a.author.profile_image_thumbnail_link:a.author.profile_image_link,showSlider:!0}),i.a.createElement("span",null,a.author.first_name),i.a.createElement("span",{className:"text-muted ml-1"},ge(a.created_at.timestamp))),!c.is_read_only&&!g&&i.a.createElement(y.c,{scrollRef:P.body.current,moreButton:"more-horizontal"},null===a.todo_reminder&&i.a.createElement("div",{onClick:function(){return u.remind(a,c)}},E.remindMeAboutThis),d.id===a.author.id&&i.a.createElement("div",{onClick:function(){return u.setToEdit(a)}},E.editReply),i.a.createElement("div",{onClick:function(){h?h(a.id):(ae(a.id),Ee()),u.addQuote(a)}},E.quote),d.id!==a.author.id&&i.a.createElement("div",{onClick:function(){se('<p class="mention-data"><span class="mention" data-index="0" data-denotation-char="@" data-id="'.concat(a.author.id,'" data-value="').concat(a.author.name,'">\n        <span contenteditable="false"><span class="ql-mention-denotation-char">@</span>').concat(a.author.name,"</span></span></p> ")),ae(!0)}},E.mentionUser),d.id===a.author.id&&i.a.createElement("div",{onClick:function(){return u.remove(a)}},E.removeReply),d.id===a.author.id&&i.a.createElement("div",{onClick:function(){return u.important(a)}},a.is_important?E.unMarkImportant:E.markImportant))),!a.shared_with_client&&c.shared_with_client&&i.a.createElement("span",null,i.a.createElement("i",null,E.internalComment)),a.files.length>0&&i.a.createElement(S.p,{files:a.files}),i.a.createElement(W,{ref:P.content,className:"mt-2 mb-3",dangerouslySetInnerHTML:{__html:a.body.startsWith("COMMENT_APPROVAL::")?"<span></span>":w.a.parseEmoji(a.body)}}),a.users_approval.length>0&&!fe.change&&i.a.createElement(M.a,{ref:D,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},i.a.createElement(S.c,{approving:fe,fromNow:ge,usersApproval:a.users_approval,user:d,handleApprove:function(){x.showModal("confirmation",c,a,D)},handleRequestChange:function(){a.users_approval.length>1?(be(Object(v.a)(Object(v.a)({},fe),{},{change:!0})),fe.approve||u.approve({post_id:c.id,approved:0,comment_id:a.id},(function(e,t){if(be(Object(v.a)(Object(v.a)({},fe),{},{change:!1})),!e){var n=1===a.users_approval.filter((function(e){return null===e.ip_address})).length,r=a.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===a.users_approval.length-1;n&&r&&x.generateSystemMessage(c,[],a.users_approval.map((function(e){return e.id})))}}))):(_e(a.id),be(Object(v.a)(Object(v.a)({},fe),{},{change:!0})),u.setRequestForChangeComment(a))},post:c,isMultipleApprovers:a.users_approval.length>1,isBotMessage:a.body.startsWith("COMMENT_APPROVAL::")})),Ce.length>=1&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),i.a.createElement("h6",null,E.files),i.a.createElement(T.h,{attachedFiles:Ce,type:"comment",comment:a})),a.files_trashed&&a.files_trashed.length>=1&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Y,null,i.a.createElement("h6",{className:"font-size-11 text-uppercase"},E.files),i.a.createElement("span",{className:"text-muted"},E.filesAutomaticallyRemoved),i.a.createElement(T.h,{attachedFiles:a.files_trashed,type:"comment",comment:a}))),i.a.createElement(F,{comment:a,dictionary:E,disableOptions:g,likers:he,post:c,handleReaction:function(){if(!g){var e={id:a.id,reaction:"clap",counter:0===a.user_clap_count?1:0,post_id:c.id,parent_id:"main"===l?null:m};u.clap(e,(function(t,n){t&&(1===e.counter?u.unlike(e):u.like(e))})),0===a.user_clap_count?u.like(e):u.unlike(e)}},handleShowInput:_e}))),"main"===l&&Object.values(a.replies).length>0&&i.a.createElement(J,{parentShowInput:_e,comments:a.replies,post:c,user:d,commentActions:u,parentId:"main"===l?a.id:null,onShowFileDialog:p,dropAction:f,workspace:_,isMember:O,dictionary:E,disableOptions:g,isCompanyPost:k,postActions:x}),null!==ne&&i.a.createElement(G,{className:"card"},k?i.a.createElement(V,{innerRef:P.input,user:d,commentId:ne,post:c,parentId:"main"===l?a.id:m,commentActions:u,userMention:oe,handleClearUserMention:Oe,onShowFileDialog:p,dropAction:f,workspace:_,isMember:O,disableOptions:g,handleCancelChange:je,mainInput:!1}):i.a.createElement(z,{innerRef:P.input,user:d,commentId:ne,post:c,parentId:"main"===l?a.id:m,commentActions:u,userMention:oe,handleClearUserMention:Oe,onShowFileDialog:p,dropAction:f,workspace:_,isMember:O,disableOptions:g,handleCancelChange:je,mainInput:!1})))}));function q(){var e=Object(a.a)(["\n  width: 95%;\n"]);return q=function(){return e},e}var K=c.a.ul(q()),J=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.comments,r=e.post,c=e.commentActions,o=e.parentId,s=e.user,l=e.onShowFileDialog,d=e.dropAction,u=e.parentShowInput,m=e.workspace,p=e.isMember,f=e.dictionary,b=e.disableOptions,h=e.postActions;return a&&i.a.createElement(K,{className:"sub-comments ".concat(n)},Object.values(a).map((function(e){return i.a.createElement(Q,{key:e.id,comment:e,type:"sub",post:r,user:s,parentShowInput:function(){u(e.id)},commentActions:c,parentId:o,onShowFileDialog:l,dropAction:d,workspace:m,isMember:p,dictionary:f,disableOptions:b,postActions:h})})))}));function Z(){var e=Object(a.a)([""]);return Z=function(){return e},e}function X(){var e=Object(a.a)(["\n  padding: 0 10px 10px;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  border-left: 2px solid #972c86;\n  margin-left: 30px;\n  margin-bottom: 10px;\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: -35px;\n    top: calc(50% - 10px);\n    background-color: #fff;\n    cursor: pointer;\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return X=function(){return e},e}var $=c.a.div(X()),ee=Object(c.a)(T.s)(Z()),te=function(e){var t=e.commentActions,n=e.commentId,a=e.editPostComment,r=e.mainInput,c=Object(o.g)(n),s=Object(j.a)(c,2),l=s[0],d=s[1],u=function(){t.clearQuote(n)};return l?a&&r?i.a.createElement($,null,i.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:l.user?l.user.name:""}}),i.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:l.body?d.split("</p>")[0]:""}}),i.a.createElement("span",{className:"quote-clear-container",onClick:u},i.a.createElement(ee,{icon:"x"}))):a&&!r?null:i.a.createElement($,null,i.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:l.user?l.user.name:""}}),i.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:l.body?d.split("</p>")[0]:""}}),i.a.createElement("span",{className:"quote-clear-container",onClick:u},i.a.createElement(ee,{icon:"x"}))):null},ne=n(374);function ae(){var e=Object(a.a)(["\n  text-align: center;\n"]);return ae=function(){return e},e}var re=c.a.div(ae()),ie=function(e){var t=e.quote,n=e.dictionary,a=Object(r.useRef)(null),c=Object(r.useState)(!1),o=Object(j.a)(c,2),s=o[0],l=o[1],d=Object(r.useState)(!1),u=Object(j.a)(d,2),m=u[0],p=u[1],f=Object(r.useState)(200),b=Object(j.a)(f,2),h=b[0],_=b[1],O={transition:"max-height ".concat(300,"ms ease-in-out"),maxHeight:"200px",overflow:"hidden"},E={entering:{maxHeight:"".concat(h,"px")},entered:{maxHeight:"".concat(h,"px")},exiting:{maxHeight:"200px"},exited:{maxHeight:"200px"}},g=function(){l(!s)};return Object(r.useEffect)((function(){a.current&&(_(a.current.scrollHeight),a.current.scrollHeight>200&&p(!0))}),[]),i.a.createElement(ne.a,{in:s,timeout:300},(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:Object(v.a)(Object(v.a)({},O),E[e]),ref:a},t.user&&i.a.createElement("div",{className:"quote-author"},n.quotedCommentFrom," ",t.user.name),i.a.createElement("div",{className:"quote border-side",dangerouslySetInnerHTML:{__html:t.body}})),m&&i.a.createElement(re,{onClick:g,className:"btn-toggle-show cursor-pointer mt-2"},s?n.showLess:n.showMore))}))};function ce(){var e=Object(a.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(a.a)(["\n  width: 100%;\n  padding: 0.5rem 1.5rem;\n  flex-wrap: wrap;\n  .seen-indicator,\n  .post-reaction {\n    cursor: pointer;\n  }\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n  .readers-container {\n    @media (max-width: 575.99px) {\n      flex: 0 1 100%;\n      .clap-count-wrapper {\n        display: inline-block;\n        margin-right: 0.5rem;\n      }\n      .user-reads-container {\n        .not-read-users-container,\n        .read-users-container {\n          right: -75px;\n        }\n        &.read-by {\n          width: 100%;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          .not-read-users-container,\n          .read-users-container {\n            right: -20px;\n          }\n        }\n      }\n    }\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]);return oe=function(){return e},e}var se=c.a.div(oe()),le=Object(c.a)(T.s)(ce()),de=function(e){var t=e.dictionary,n=e.hasRead,a=e.likers,r=e.post,c=e.readByUsers,o=e.viewerIds,s=e.viewers,l=e.handleReaction;return i.a.createElement(se,{className:"d-flex align-items-center"},i.a.createElement("div",{className:"clap-count-wrapper d-none d-sm-flex"},i.a.createElement(le,{className:r.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:l}),r.clap_count,0!==a.length&&i.a.createElement("span",{className:"hover read-users-container"},a.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(T.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),i.a.createElement("div",{className:"readers-container ml-auto text-muted"},(c.length>0||r.required_users&&r.required_users.length>0)&&r.is_must_read&&i.a.createElement("div",{className:"user-reads-container read-by"},n&&i.a.createElement("span",{className:"mr-2"},i.a.createElement(le,{className:"mr-2",icon:"check"})," ",t.alreadyReadThis),i.a.createElement("span",{className:"no-readers"},t.readByNumberofUsers),i.a.createElement("span",{className:"hover read-users-container"},c.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(T.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))}))),r.required_users&&r.required_users.length>0&&r.is_must_read&&i.a.createElement("span",{className:"not-readers"},"\xa0 ",t.ofNumberOfUsers),i.a.createElement("span",{className:"hover not-read-users-container"},r.required_users&&r.required_users.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(T.a,{className:"mr-2",key:e.id,name:e.name,imageLink:null,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),i.a.createElement("div",{className:"clap-count-wrapper d-sm-none"},i.a.createElement(le,{className:r.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:l}),r.clap_count,0!==a.length&&i.a.createElement("span",{className:"hover read-users-container"},a.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(T.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),i.a.createElement(le,{className:"mr-2",icon:"message-square"}),r.reply_count,i.a.createElement("div",{className:"user-reads-container"},i.a.createElement("span",{className:"no-readers"},i.a.createElement(le,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),o.length),i.a.createElement(I,{users:s}))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return b}));var a=n(8),r=n(10);function i(e,t){return Object(a.b)(Object(r.Db)(e),"GET_DRIFF_COMP_SETTINGS_START","GET_DRIFF_COMP_SETTINGS_SUCCESS","GET_DRIFF_COMP_SETTINGS_FAIL",t)}function c(e,t){return Object(a.b)(Object(r.Eb)(e),"GET_DRIFF_SETTINGS_START","GET_DRIFF_SETTINGS_SUCCESS","GET_DRIFF_SETTINGS_FAIL",t)}function o(e,t){return Object(a.b)(Object(r.mc)(e),"GET_USER_SETTINGS_START","GET_USER_SETTINGS_SUCCESS","GET_USER_SETTINGS_FAIL",t)}function s(e,t){return Object(a.b)(Object(r.Le)(e),"UPDATE_SETTINGS_START","UPDATE_SETTINGS_SUCCESS","UPDATE_SETTINGS_FAILURE",t)}function l(e,t){return Object(a.a)("UPDATE_USER_CHAT_SETTING",e,t)}function d(e,t){return Object(a.a)("UPDATE_WORKSPACE_SETTING",e,t)}function u(e,t){return Object(a.a)("UPDATE_USER_GENERAL_SETTING",e,t)}function m(e,t){return Object(a.b)(Object(r.de)(e),"PUT_COMPANY_UPDATE_NAME_START","PUT_COMPANY_UPDATE_NAME_SUCCESS","PUT_COMPANY_UPDATE_NAME_FAIL",t)}function p(e,t){return Object(a.a)("INCOMING_UPDATE_COMPANY_NAME",e,t)}function f(e,t){return Object(a.a)("UPDATE_READ_ANNOUNCEMENT",e,t)}function b(e,t){return Object(a.a)("UPDATE_COMPANY_POST_ANNOUNCEMENT",e,t)}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(6),r=n(0),i=n(21),c=n(119),o=n(36),s=n(52),l=function(){var e=Object(i.a)("driff");if(e)return e;if(e=localStorage.getItem("slug"))return e;if(Object(i.f)(window.location.hostname))return null;if("drevv.com"===window.location.hostname)return null;var t=window.location.hostname.split(".");return t.length>=3?t[0]:"localhost"===t[0]&&null},d=!1;t.a=function(){var e=Object(c.a)(),t=Object(r.useState)(e.getName()),n=Object(a.a)(t,2),i=n[0],l=n[1],u=Object(r.useState)(e.getName()),m=Object(a.a)(u,2),p=m[0],f=m[1],b=Object(o.c)(),h={faviconState:Object(r.useRef)(!1)};return Object(r.useEffect)((function(){if(!d){if(s.isIOS){var t=document.createElement("link");t.href="".concat(b,"/assets/icons/favicon.png"),t.rel="apple-touch-icon",document.getElementsByTagName("head")[0].appendChild(t)}if(d=!0,p)e.check(p,(function(t,n){n&&n.data.status||(e.unStoreName(),l(!0))}));else{var n=e.getByHostname();!1===n?l(!0):null!==n?e.check(n,(function(t,a){a&&a.data.status?(e.storeName(n,!0),f(n)):(e.unStoreName(),l(!0))})):l(!1)}}}),[]),{actions:e,redirected:i,registeredDriff:p,setRegisteredDriff:f,updateFaviconState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(h.faviconState.current!==e){h.faviconState.current=e;var t=document.querySelector("link[rel*='icon shortcut']")||document.createElement("link");t.type="image/x-icon",t.rel="shortcut icon",t.href="".concat(b,e?"/assets/icons/favicon-active.png":"/assets/icons/favicon.png"),document.getElementsByTagName("head")[0].appendChild(t)}}}}},,,,,function(e,t,n){"use strict";var a=n(27),r=n(1),i=n(0),c=n.n(i),o=n(5),s=n(16),l=n(9),d=n(39),u=n(14),m=["skip","limit"],p=["skip","limit"],f=["skip","limit"];t.a=function(){var e=Object(o.useDispatch)(),t=Object(l.S)().chatSettings,n=Object(l.cb)()._t,i=Object(l.X)(),b=Object(d.g)(),h={toasterGeneraError:n("TOASTER.GENERAL_ERROR","An error has occurred try again!"),createChannel:n("TOASTER.CHANNEL_CREATE_SUCCESS","Channel ::channel_title:: is successfully created."),updateChannel:n("TOASTER.CHANNEL_UPDATE_SUCCESS","Channel ::channel_title:: is successfully modified.")},_=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.u)({code:t},n))},O=function(t,n){e(Object(s.hb)(t,(function(e,a){if(e&&i.success(h.toasterGeneraError),a){var r=void 0!==t.channel_name?t.channel_name:"DIRECT"===a.data.entity_type&&a.data.channel.profile?a.data.channel.profile.name:"";i.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:h.createChannel.replace("::channel_title::","<b>".concat(r,"</b>"))}}))}n(e,a)})))},E=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=Object(r.a)({},t);O({title:"",type:"person",recipient_ids:t.recipient_ids},(function(t,i){if(i){var c=Math.round(+new Date/1e3),o=Object(r.a)(Object(r.a)({},i.data.channel),{},{old_id:a.id,code:i.data.code,selected:!0,hasMore:!1,isFetching:!1,skip:0,replies:[],created_at:{timestamp:c},last_reply:null,title:i.data.channel.profile.name});e(Object(s.yb)(o,(function(){b.push("/chat/".concat(o.code)),e(Object(s.Ob)(o)),n&&n(o)})))}}))},g=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i={is_pinned:t.is_pinned,is_muted:t.is_muted,is_archived:t.is_archived};i=Object(r.a)(Object(r.a)({},i),n),e(Object(s.nb)(i,(function(i){var c=Object(r.a)(Object(r.a)({},t),n);e(Object(s.Db)(c,(function(){a(i,{data:c})})))})))},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_archived:!1,push_unarchived:1};g(e,n,t)},v=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.Lb)(t,n))},j=function(e){return"string"===typeof e?Object(u.h)(e.toLowerCase()):""},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e(Object(s.F)({},(function(e,n){e||(t&&t(),b.location.pathname.startsWith("/chat")&&b.push("/chat/".concat(n.data.code)))})))};return{create:O,createByUserChannel:E,fetchAll:function n(i){var c=i.skip,o=void 0===c?0:c,l=i.limit,d=void 0===l?20:l,u=Object(a.a)(i,p),m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},f=Object(r.a)(Object(r.a)({},u),{},{skip:o,limit:d,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()});e(Object(s.z)(f,(function(e,t){t&&t.data.results.length===d&&n(Object(r.a)(Object(r.a)({},f),{},{skip:f.skip+d})),m(e,t)})))},fetch:function(n){var i=n.skip,c=void 0===i?0:i,o=n.limit,l=void 0===o?20:o,d=Object(a.a)(n,m),u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},p=Object(r.a)(Object(r.a)({},d),{},{skip:c,limit:l,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()});e(Object(s.z)(p,u))},fetchNoChannelUsers:function(t){e(Object(s.D)({},t))},fetchByCode:_,fetchDrafts:function(t){e(Object(s.w)({},t))},fetchMembersById:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.y)({channel_id:t},n))},fetchLastChannel:C,fetchLastVisited:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Object(s.G)({},(function(e,n){n?_(n.data.code,(function(e,n){if(n){var a=n.data;v(n.data,(function(){t(null,{data:a})}))}else t(e,null)})):t(e,null)})))},fetchSelectChannel:function(t,n){e(Object(s.H)({code:t},(function(e,t){e?C():t&&t.data&&(b.push("/chat/".concat(t.data.code)),n&&n())})))},fetchUnpublishedAnswers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(n,a){if(!n){var i=a.data.find((function(e){return!e.huddle_log.published}));i&&e(Object(s.d)(Object(r.a)(Object(r.a)({},t),{},{message_id:i.huddle_log.connected_message_id,huddle_log:Object(r.a)(Object(r.a)({},i.huddle_log),{},{message_id:i.huddle_log.connected_message_id}),huddle_answers:i.huddle_answers})))}};e(Object(s.J)(t,n))},fetchWorkspaceChannels:function(t){t.skip,t.limit,Object(a.a)(t,f);e(Object(s.L)({skip:0,limit:100}))},saveHistoricalPosition:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(Object(s.Eb)({channel_id:t,scrollPosition:n.scrollHeight-n.scrollTop},a))},saveLastVisited:v,select:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};"undefined"===typeof t||(t.hasOwnProperty("add_user")&&!0===t.add_user?E(Object(r.a)(Object(r.a)({},t),{},{selected:!0})):"DIRECT"===t.type&&2===t.members.length&&t.is_archived?(A(t,(function(t,a){var r=a.data;e(Object(s.Ob)(a.data,(function(){n(r)})))})),b.push("/chat/".concat(t.code))):(e(Object(s.Ob)(Object(r.a)(Object(r.a)({},t),{},{selected:!0}))),n(t)))},archive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_archived:!0};g(e,n,t)},unArchive:A,updateStatus:g,pin:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_pinned:!0};g(e,n,t)},unPin:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_pinned:!1};g(e,n,t)},mute:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_muted:!0};g(e,n,t)},unMute:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_muted:!1};g(e,n,t)},hide:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_hidden:!0,is_hide:!0};g(e,n,t)},unHide:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={id:e.id,is_hidden:!1,is_hide:!1};g(e,n,t)},markAsRead:function(t,n){e(Object(s.tb)({channel_id:t.id},(function(a,r){n&&n(),a||"TOPIC"===t.type&&e(Object(s.xb)({id:t.entity_id,channel_id:t.id,count:t.replies.filter((function(e){return!e.is_read})).length}))})))},markAsUnRead:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.vb)({channel_id:t.id},n))},searchExisting:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(Object(s.kb)({title:t,search_recipient_ids:n},a))},addMembers:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(Object(s.cb)({channel_id:t,recipient_ids:n},a))},deleteMembers:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(Object(s.q)({channel_id:t,recipient_ids:n},a))},update:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.ob)(t,(function(e,a){if(e&&i.success(h.toasterGeneraError),a){var r=void 0!==t.channel_name?t.channel_name:"DIRECT"===a.data.entity_type?a.data.profile.name:"";i.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:h.updateChannel.replace("::channel_title::","<b>".concat(r,"</b>"))}}))}n(e,a)})))},fetchingMessages:function(t,n){var a={id:t.id,status:n};e(Object(s.Jb)(a))},getChannelLink:function(e){return e.workspace_folder?"/workspace/chat/".concat(e.workspace_folder.id,"/").concat(j(e.workspace_folder.name),"/").concat(e.entity_id,"/").concat(j(e.title)):"/workspace/chat/".concat(e.entity_id,"/").concat(j(e.title))},getUrlTitle:j,setSidebarSearch:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.Pb)(t,n))},fetchChannelLastReply:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.x)({channel_id:t},n))},loadMore:function(n){var a=n.skip,r=void 0===a?0:a,i=n.limit,c=void 0===i?25:i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},l={skip:r,limit:c,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()};e(Object(s.z)(l,(function(t,n){o&&o(),t||e(Object(s.a)({channels:n.data.results}))})))},search:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(s.Bb)(t,n))},searchArchivedChannels:function(t){e(Object(s.Nb)(t))}}}},function(e,t,n){"use strict";var a=n(27),r=(n(653),n(0)),i=n.n(r),c=n(100),o=n.n(c),s=(n(654),n(9)),l=n(360),d=n.n(l),u=n(373),m=n(361),p=n.n(m),f=["className","theme","placeholder"],b=Object(r.forwardRef)((function(e,t){var n=e.className,r=void 0===n?"":n,c=e.theme,l=void 0===c?"snow":c,d=e.placeholder,u=void 0===d?"":d,m=Object(a.a)(e,f),p=Object(s.cb)()._t,b=""!==u?u:p("FORM.REACT_QUILL_PLACEHOLDER","Write great things here...");return i.a.createElement(o.a,Object.assign({className:"quill-editor ".concat(r),theme:l},m,{ref:t,placeholder:b}))}));t.a=b;var h=c.Quill.import("blots/block");h.tagName="div",c.Quill.register(h),c.Quill.register("modules/magicUrl",d.a),c.Quill.register("modules/clipboard",p.a),c.Quill.register("modules/imageUploader",u.a)},,,,,function(e,t,n){"use strict";var a=n(1),r=n(0),i=n.n(r),c=n(5),o=n(21),s=n(36),l=n(16),d=n(9),u=n(91),m=n(13),p=n(19);t.a=function(){var e=Object(c.useDispatch)(),t=Object(d.X)(),f=Object(d.Y)(),b=Object(d.cb)()._t,h={reminderAlreadyExists:b("TOASTER.REMINDER_EXISTS","Reminder already exists"),toasterGeneraError:b("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:b("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>.")},_={fetch:Object(r.useRef)(!1)},O=function(t){e(Object(l.e)(t))};return{channelActions:Object(u.a)(),fetch:function(t,n){var a=n.skip,r=void 0===a?0:a,i=n.limit,c=void 0===i?20:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s={channel_id:t.id,skip:r,limit:c};e(Object(l.A)(s,(function(e,t){_.fetch.current=!1,o(e,t)})))},create:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r={};e(Object(l.db)(r,a))},edit:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(l.pb)(t,n))},react:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(Object(l.fb)({message_id:t,react_type:n},a))},remove:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(l.r)({message_id:t},n))},removeUnfurl:function(t){e(Object(m.k)(t)),e(Object(m.P)(t))},remind:function(n,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};f.createForChat(n.id,e,(function(e,n){e&&(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.error_message.length&&e.response.data.errors.error_message.find((function(e){return"ALREADY_CREATED_TODO"===e}))?t.error(h.reminderAlreadyExists):t.error(h.toasterGeneraError)),n&&t.success(i.a.createElement("span",{dangerouslySetInnerHTML:{__html:h.toasterCreateTodo}})),a(e,n),r(e,n)}))},o={type:"todo_reminder",parentItem:a,item:n,itemType:"CHAT",actions:{onSubmit:c}};e(Object(m.a)(o))},markComplete:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(l.ub)({message_id:t},n))},forward:function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i={channel_id:t.current.id,body:a,mention_ids:[],file_ids:[],reference_id:n(64).generate(),reference_title:t.title,is_transferred:!0};e(Object(l.db)(i,r))},setQuote:O,setEdit:function(t){if(e(Object(l.Gb)(t)),t.quote&&t.quote.hasOwnProperty("id")){var n=Object(a.a)(Object(a.a)({},t.quote),{},{channel_id:t.channel_id});O(n)}},clipboardLink:function(e,n){Object(o.b)(t,"".concat(Object(s.b)(),"/chat/").concat(e.code,"/").concat(n.code))},setLastMessageVisiblility:function(t){e(Object(l.Kb)(t))},markImportant:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(l.sb)({message_id:t.id,is_important:t.is_important?0:1},n))},getStars:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(l.B)({message_id:t},n))},setStar:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(l.qb)(t,n))},setHuddleAnswers:function(t){e(Object(l.Hb)(t))},addSkip:function(t){e(Object(l.f)(t))},resetTranslationBody:function(t){e(Object(l.zb)(t))},saveChannelTranslateState:function(t){e(Object(l.Fb)(t))},viewFiles:function(t){var n={files:t,file_id:t[0].file_id};e(Object(p.Wb)(n))},saveFancyContent:function(t){e(Object(l.Ib)(t))},setTranslationBody:function(t){e(Object(l.Qb)(t))},saveTranslation:function(t){e(Object(l.eb)(t))}}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return x}));var a,r,i,c,o,s,l,d=n(6),u=n(2),m=n(0),p=n.n(m),f=n(3),b=n(7),h=f.a.div(a||(a=Object(u.a)(["\n  border-left: 5px solid #822492;\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n\n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),_=f.a.div(r||(r=Object(u.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]))),O=f.a.div(i||(i=Object(u.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"])),(function(e){return e.height})),E=p.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.onEditClick,r=e.workspace,i=e.isMember,c=e.isExternal,o=e.dictionary,s=Object(m.useState)(""),l=Object(d.a)(s,2),u=l[0],f=l[1],E=Object(m.useState)(null),g=Object(d.a)(E,2),A=g[0],v=g[1],j=Object(m.useState)(140),C=Object(d.a)(j,2),T=C[0],y=C[1],S={description:Object(m.useRef)(null)};return Object(m.useEffect)((function(){S.description.current&&(!0===A?setTimeout((function(){S.description.current.style.overflow=""}),[300]):!1===A&&(S.description.current.style.overflow="hidden"))}),[A,S.description.current]),Object(m.useEffect)((function(){r&&u!==r.description&&(f(r.description),v(null),S.description.current=null)}),[r]),p.a.createElement(h,{className:"dashboard-about-workspace card ".concat(n)},p.a.createElement("div",{className:"bg-overlay ".concat(null===A?"":!0===A?"show":"hide")}),p.a.createElement("div",{className:"card-body"},p.a.createElement("h5",{className:"card-title"},o.aboutThisWorkspace," ",!0===i&&!c&&1===r.active&&p.a.createElement(b.s,{icon:"edit",onClick:a})),r&&p.a.createElement(p.a.Fragment,null,p.a.createElement(_,{className:null===A?"":!0===A?"show":"hide"},p.a.createElement(O,{ref:function(e){null===S.description.current&&e&&(S.description.current=e,e.clientHeight>140?(y(e.clientHeight),v(!1)):v(null))},height:T,className:"dashboard-description ".concat(null===A?"":!0===A?"show":"hide"),dangerouslySetInnerHTML:{__html:r.description}}),null!==A&&p.a.createElement("div",{onClick:function(e){e.preventDefault(),v((function(e){return!e}))},className:"btn-toggle-show cursor-pointer mt-2"},A?o.showLess:o.showMore)))))})),g=n(121),A=n(5),v=n(9),j=f.a.div(c||(c=Object(u.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),C=p.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,r=e.onEditClick,i=e.isExternal,c=e.isMember,o=e.dictionary,s=e.actions,l=Object(m.useRef)(null),u=Object(m.useState)(!1),f=Object(d.a)(u,2),h=f[0],_=f[1],O=Object(v.X)(),E=Object(A.useSelector)((function(e){return e.session.user})),C=!c||0===a.active,T=a.members.filter((function(e){return 1===e.active||!e.has_accepted})),y=function(){_((function(e){return!e}))},S=function(e,t){s.leave(e,t,(function(t,n){t||O.success(p.a.createElement(p.a.Fragment,null,o.leaveWorkspace,p.a.createElement("b",null,e.name)))}))},w=function(e,t){var n={topic_id:a.id,user_id:e.id,role:t};s.addRole(n)};return p.a.createElement(j,{className:"dashboard-team card ".concat(n),ref:l},p.a.createElement("div",{className:"card-body"},p.a.createElement("h5",{className:"card-title"},o.team," ",!0===c&&!i&&1===a.active&&p.a.createElement(b.s,{onClick:r,icon:"plus"})),0===T.length?p.a.createElement(p.a.Fragment,null,o.emptyTeam):p.a.createElement("ul",{className:"list-group list-group-flush"},(h?T:T.slice(0,5)).map((function(e,t){return p.a.createElement(g.b,{key:e.id,member:e,onEditClick:r,onLeaveWorkspace:S,onAddRole:w,hideOptions:C,actions:s,workspace_id:a.id,dictionary:o,showMoreButton:4===t&&T.length>5&&!h,showLessButton:t===T.length-1&&T.length>5&&h,toggleShow:y,loggedUser:E,workspace:a})})))))})),T=n(39),y=n(81),S=f.a.div(o||(o=Object(u.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    cursor: hand;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),w=p.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.posts,r=e.dictionary,i=e.disableOptions,c=Object(v.H)(),o=Object(T.j)(),s=function(e){c.openPost(e,o.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(m.useEffect)((function(){o.params.hasOwnProperty("workspaceId")&&c.getRecentPosts(o.params.workspaceId)}),[o.params.workspaceId]),p.a.createElement(S,{className:"recent-posts card ".concat(n)},p.a.createElement("div",{className:"card-body"},p.a.createElement("h5",{className:"card-title"},r.recentPosts," ",p.a.createElement(b.s,{icon:"refresh-ccw",onClick:function(){o.params.hasOwnProperty("workspaceId")&&c.getRecentPosts(o.params.workspaceId)}})),a&&Object.keys(a).length?p.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return p.a.createElement(y.e,{key:e.id,post:e,postActions:c,onOpenPost:s,disableOptions:i})}))):p.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))})),k=f.a.div(s||(s=Object(u.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),N=function(e){var t=e.className,n=void 0===t?"":t,a=e.onEditClick,r=e.dictionary,i=e.actions,c=Object(m.useRef)(null),o=Object(A.useSelector)((function(e){return e.users.users})),s=Object(A.useSelector)((function(e){return e.session.user})),l=Object(m.useState)(!1),u=Object(d.a)(l,2),f=u[0],b=u[1],h=function(){b((function(e){return!e}))},_=Object.values(o).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,t){return e.name.localeCompare(t.name)}));return p.a.createElement(k,{className:"dashboard-team card ".concat(n),ref:c},p.a.createElement("div",{className:"card-body"},p.a.createElement("h5",{className:"card-title"},r.team),p.a.createElement("ul",{className:"list-group list-group-flush"},(f?_:_.slice(0,5)).map((function(e,t){return p.a.createElement(g.b,{key:e.id,member:e,hideOptions:!0,onEditClick:a,actions:i,dictionary:r,showMoreButton:4===t&&_.length>5&&!f,showLessButton:t===_.length-1&&_.length>5&&f,showMore:f,toggleShow:h,loggedUser:s})})))))},R=f.a.div(l||(l=Object(u.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),x=p.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.posts,r=e.dictionary,i=e.disableOptions,c=Object(v.H)(),o=Object(T.j)(),s=function(e){c.openPost(e,o.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(m.useEffect)((function(){o.params.hasOwnProperty("workspaceId")&&c.getRecentPosts(o.params.workspaceId)}),[o.params.workspaceId]),p.a.createElement(R,{className:"recent-posts card ".concat(n)},p.a.createElement("div",{className:"card-body"},p.a.createElement("h5",{className:"card-title"},r.recentPosts," ",p.a.createElement(b.s,{icon:"refresh-ccw",onClick:function(){o.params.hasOwnProperty("workspaceId")&&c.getRecentPosts(o.params.workspaceId)}})),a&&Object.keys(a).length?p.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return p.a.createElement(y.e,{key:e.id,post:e,postActions:c,onOpenPost:s,disableOptions:i})}))):p.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))}))},,,,,,function(e,t,n){"use strict";var a,r=n(27),i=n(2),c=n(0),o=n.n(c),s=n(3),l=n(7),d=["className","onChange","onClick","placeholder","value","onClickEmpty","closeButton","searching"],u=s.a.form(a||(a=Object(i.a)(["\n  .btn-cross {\n    position: absolute;\n    right: 45px;\n    opacity: 0;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n  .not-empty .btn-cross {\n    z-index: 9;\n    opacity: 1;\n  }\n  .loading {\n    height: 1rem;\n    width: 1rem;\n  }\n"]))),m=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,i=e.onChange,s=e.onClick,m=e.placeholder,p=void 0===m?"Search":m,f=e.value,b=void 0===f?"":f,h=e.onClickEmpty,_=e.closeButton,O=void 0!==_&&_,E=e.searching,g=void 0===E?null:E,A=Object(r.a)(e,d),v=Object(c.useRef)();return Object(c.useEffect)((function(){""!==b&&v.current.classList.add("not-empty"),""===b&&v.current.classList.remove("not-empty")}),[i]),o.a.createElement(u,{className:"".concat(a)},o.a.createElement("div",{ref:v,className:"input-group"},o.a.createElement("input",Object.assign({ref:t,onChange:i,value:b,type:"text",className:"form-control",placeholder:p},A)),O&&o.a.createElement("button",{onClick:h,className:"btn-cross",type:"button"},g?o.a.createElement(l.j,null):o.a.createElement(l.s,{icon:"x"})),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{onClick:s,className:"btn btn-outline-light",type:"button"},o.a.createElement("i",{className:"ti-search"})))))}));t.a=o.a.memo(m)},,,function(e,t,n){"use strict";var a=n(11),r=n(164),i=n.n(r),c=n(18),o=n(234),s=n(348),l=n(51),d=n(349),u=n(36),m=n(12),p=n(1),f=n(60),b=n(32),h={user:null,companyChannel:null,channels:{},selectedChannel:null,selectedChannelId:null,startNewChannels:{},channelDrafts:{},unreadChatCount:0,historicalPositions:[],editChatMessage:null,sendButtonClicked:!1,chatQuotes:{},channelsLoaded:!1,lastVisitedChannel:null,isLastChatVisible:!1,lastReceivedMessage:null,chatSidebarSearch:"",searchingChannels:!1,channelRange:{},channelDraftsLoaded:!1,bots:{loaded:!1,channels:[],user_bots:[]},huddleBots:[],huddleBot:null,editHuddle:null,fetch:{skip:0,limit:25,fetching:!1,hasMore:!1},skipIds:[],hasUnpublishedAnswers:[],searchArchivedChannels:!1},_=new Date,O=_.getDate(),E=_.getFullYear(),g=_.getMonth(),A={0:{maxDate:31},1:{maxDate:E%4===0&&E%100!==0||E%400===0?29:28},2:{maxDate:31},3:{maxDate:30},4:{maxDate:31},5:{maxDate:30},6:{maxDate:31},7:{maxDate:31},8:{maxDate:30},9:{maxDate:31},10:{maxDate:30},11:{maxDate:31}},v=function(e,t){return A[e].maxDate>=t},j=function(e){return 0===e.getDay()||6===e.getDay()},C=function(e,t){var n=e;return n.setDate(e.getDate()+t),n},T={timeline:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}},members:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}},recent_posts:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}}},y={user:null,files:{},channelFiles:{},viewFiles:null,pendingWorkspaceFilesUpload:{},progressWorkspaceFilesUpload:{},workspaceFiles:{},googleDriveApiFiles:{},companyFiles:{init:!1,search_results:[],search_value:"",count:{all:0,stars:0,trash:0,storage:0},has_more:!0,skip:0,limit:100,items:{},favorite_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},popular_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},recently_edited:{init:!1,has_more:!0,skip:0,limit:100,items:[]},google_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},trash_files:{init:!1,has_more:!0,skip:0,limit:100,items:{}}},companyFolders:{init:!1,has_more:!0,skip:0,limit:100,items:{},google_folders:{init:!1,has_more:!0,skip:0,limit:100,items:[]}},gifBlobs:{},fileBlobs:{},fileThumbnailBlobs:{}},S={user:null,i18nLoaded:!1,recipients:[],isLoading:!1,isBrowserActive:!0,modals:{},slugs:[],navMode:2,dataFromInput:null,isIdle:!1,unreadCounter:{chat_message:0,workspace_post:0,workspace_chat_message:0,chat_reminder_message:0,unread_channel:0,unread_posts:0,general_post:0,generate_post_comment:0},socketMounted:!1,searchValue:"",searchResults:{},searchCount:0,searching:!1,tabs:{},links:[],todos:{isLoaded:!1,hasMore:!0,skip:0,limit:25,count:{new:0,today:0,all:0,overdue:0,done:0,assigned_to_others:0,added_by_others:0},today:{hasMore:!0,skip:0,limit:25},done:{hasMore:!0,skip:0,limit:10},overdue:{hasMore:!0,skip:0,limit:25},items:{},doneRecently:[],is_snooze:!1},releases:{timestamp:null,items:[]}},w={user:null,notifications:{},unreadCount:0,hasSubscribed:!0,is_snooze:!1,snooze_time:Object(f.b)()},k={user:{},companyPosts:{flipper:!0,limit:25,prev_skip:0,next_skip:0,total_take:0,has_more:!0,posts:{},filter:"inbox",sort:"recent",tag:null,postListTag:null,count:{},search:"",searchResults:[],unreadPosts:0},archived:{skip:0,has_more:!0,limit:25},favourites:{skip:0,has_more:!0,limit:25},myPosts:{skip:0,has_more:!0,limit:25},unreadPosts:{skip:0,has_more:!0,limit:25},readPosts:{skip:0,has_more:!0,limit:25},posts:{},postsLists:[],drafts:[],totalPostsCount:0,unreadPostsCount:0,editPostComment:null,commentQuotes:{},parentId:null,recentPosts:{},clearApprovingState:null,changeRequestedComment:null,commentType:null,commentDrafts:[]},N=n(38),R=n.n(N),x=n(21),I={sessionUser:null,driff:{i18n:1605864545,isSettingsLoaded:!1,isCompSettingsLoaded:!1,company_name:"Driff communication",settings:{maintenance_mode:!1,google_login:!0,magic_link:!0,password_login:!0,sign_up:!0},ANNOUNCEMENT_AT:null,ANNOUNCEMENT_LINK:null,READ_RELEASE_UPDATES:null},user:{isLoaded:!1,CHAT_SETTINGS:{chat_filter:"pills-home",sound_enabled:!0,open_topic_channels:[],order_channel:{order_by:"channel_date_updated",sort_by:"DESC"},preview_message:!0,chat_message_theme:{preset:"default",self:{chat_bubble_focus_border_color:"rgba(151,44,134,0.25)",chat_bubble_text_color:"#ffffff",chat_bubble_background_color:"#7A1B8B",chat_bubble_link_color:"#ffffff",chat_bubble_hover_color:"#fff",chat_bubble_quote_background_color:"#8C3B9B",chat_bubble_quote_text_color:"#ffffffe6",chat_bubble_quote_link_color:"#FF4445",chat_bubble_quote_hover_color:"#7a1b8b"},others:{chat_bubble_focus_border_color:"rgba(151,44,134,0.25)",chat_bubble_name_text_color:"#AAB0C8",chat_bubble_text_color:"#000000",chat_bubble_background_color:"#F0F0F0",chat_bubble_link_color:"#8C3B9B",chat_bubble_hover_color:"#0056b3",chat_bubble_quote_background_color:"#E4E4E4",chat_bubble_quote_text_color:"#000000",chat_bubble_quote_link_color:"#FF4445",chat_bubble_quote_hover_color:"#0056b3"}},virtualization:!1,translate:!1},GENERAL_SETTINGS:{notification_sound:"appointed",is_new:!0,timezone:R.a.tz.guess(),dark_mode:"0",log_rocket:"0",sentry:"0",language:null,active_topic:null,workspace_open_folder:{},date_format:"DD-MM-YYYY",time_format:"HH:mm",personal_links:[],notifications_on:!0,order_channel:{order_by:"channel_date_updated",sort_by:"DESC"},translated_channels:[],chat_language:"en"},READ_ANNOUNCEMENT:null,ORDER_CHANNEL:{order_by:"channel_date_updated",sort_by:"DESC"}},isLoaded:!1},P={tags:{}},D=n(27),L=["CHAT_SETTINGS","GENERAL_SETTINGS","ORDER_CHANNEL","id"],F=["CHAT_SETTINGS","GENERAL_SETTINGS","ORDER_CHANNEL","id"],M={user:null,users:{},getUserFilter:{hasMore:!1,limit:1e3,skip:0},viewedProfile:null,onlineUsers:[],mentions:{},roles:{},externalUsers:[],archivedUsers:[],profileSlider:null,usersWithoutActivity:[],usersWithoutActivityLoaded:!1},U=n(6),G={flipper:!0,user:{},workspaces:{},activeTopic:null,activeTab:"intern",favoriteWorkspacesLoaded:!1,workspacesLoaded:!1,externalWorkspacesLoaded:!1,workspacePosts:{},postComments:{},drafts:[],workspaceTimeline:{},workspace:{},folders:{},activeChannel:null,workspaceToDelete:null,folderToDelete:null,isOnClientChat:null,search:{results:[],searching:!1,filterBy:"all",value:"",page:1,maxPage:1,count:0,hasMore:!1,counters:{all:0,new:0,nonMember:0,external:0,private:0,archived:0,member:0,favourites:0},filters:{private:{checked:!1,label:"Private",key:"private"},archived:{checked:!1,label:"Archived",key:"archived"},nonMember:{checked:!1,label:"Non member",key:"nonMember"},new:{checked:!1,label:"New",key:"new"},external:{checked:!1,label:"External",key:"external"}}},workspaceReminders:{}},H=Object(c.combineReducers)({session:l.sessionReducer,chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SIDEBAR_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{chatSidebarSearch:t.data.value,searchingChannels:t.data.searching});case"GET_GLOBAL_RECIPIENTS_SUCCESS":var n=Object(p.a)({},e.channels);return t.data.result.filter((function(e){return!!e.id&&!("DIRECT"!==e.type||!e.profile)})).forEach((function(t){"DIRECT"===t.type&&(t.members=[Object(p.a)({},t.profile),{id:e.user.id,name:e.user.name,profile_image_link:e.user.profile_image_link,profile_image_thumbnail_link:e.user.profile_image_thumbnail_link?e.user.profile_image_thumbnail_link:e.user.profile_image_link,email:e.user.email}],t.title=t.profile.name,t.replies=[],t.recipient_ids=[t.id],t.add_user=!0),"TOPIC"===t.type&&(t.members=t.channel_members,t.replies=[],t.add_open_topic=!0,null===t.channel_code?t.recipient_ids=[t.id]:(t.hasMore=!0,t.code=t.channel_code,t.entity_id=t.channel_id,t.read_only=!0)),n[t.key_id]=Object(p.a)(Object(p.a)(Object(p.a)({},n[t.key_id]),t),{},{id:t.key_id,is_pinned:!1,is_hidden:!1,is_archived:!1})})),Object(p.a)(Object(p.a)({},e),{},{channels:n});case"RENAME_CHANNEL_KEY":var r=Object(p.a)({},e.channels);delete r[t.data.old_id],delete t.data.old_id;var i=Object(p.a)(Object(p.a)({},t.data),{},{selected:!0}),c=Object(p.a)({},e.selectedChannel);return t.data.selected&&c&&(r[c.id].selected=!1),Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},r),{},Object(m.a)({},i.id,i)),selectedChannel:i,lastVisitedChannel:i});case"ADD_CHANNELS":var o=Object(p.a)({},e.channels),s={};return t.data.channels.filter((function(e){return null!==e.id})).filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){o.hasOwnProperty(e.id)?s[e.id]=Object(p.a)(Object(p.a)(Object(p.a)({},"undefined"!==typeof s[e.id]&&s[e.id]),e),{},{replies:o[e.id].replies,hasMore:!0,skip:0,isFetching:!1}):s[e.id]=Object(p.a)(Object(p.a)(Object(p.a)({},"undefined"!==typeof s[e.id]&&s[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1})})),Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},e.channels),s),fetch:{skip:t.data.channels.length+e.fetch.skip,limit:25,fetching:!1,hasMore:25===t.data.channels.length},channelsLoaded:!0});case"SEARCH_CHANNELS_SUCCESS":var l=Object(p.a)({},e.channels);return t.data.results.length>0&&t.data.results.filter((function(e){return null!==e.id})).filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){l.hasOwnProperty(e.id)||(l[e.id]=Object(p.a)(Object(p.a)(Object(p.a)({},"undefined"!==typeof l[e.id]&&l[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1}))})),Object(p.a)(Object(p.a)({},e),{},{channels:l,searchingChannels:!1});case"GET_WORKSPACE_CHANNELS_SUCCESS":var d=Object(p.a)({},e.channels);return t.data.filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){d[e.id]=Object(p.a)(Object(p.a)(Object(p.a)({},d[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1})})),Object(p.a)(Object(p.a)({},e),{},{channels:d});case"GET_CHANNEL_SUCCESS":var u=e.channels[t.data.id];return"undefined"===typeof u&&(u=Object(p.a)(Object(p.a)({},t.data),{},{hasMore:!0,skip:0,isFetching:!1})),Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.id,u))});case"GET_WORKSPACES_SUCCESS":return e;case"UPDATE_CHANNEL_REDUCER":var _=Object(p.a)(Object(p.a)({},e.channels[t.data.id]),t.data);return Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.id,_)),companyChannel:e.companyChannel&&e.companyChannel.id===t.data.id?Object(p.a)(Object(p.a)({},e.companyChannel),t.data):e.companyChannel,selectedChannel:e.selectedChannel&&e.selectedChannel.id===_.id?_:e.selectedChannel});case"SET_SELECTED_CHANNEL":var A=Object(p.a)({},e.channels[t.data.id]),T=Object(p.a)({},e.channels);return e.selectedChannel&&(T[e.selectedChannel.id]&&(T[e.selectedChannel.id].selected=!1),T[t.data.id]&&(T[t.data.id].selected=!0)),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:A,channels:T,lastVisitedChannel:A,selectedChannelId:t.data.id});case"UPDATE_MEMBER_TIMESTAMP":var y=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(y=Object(p.a)({},e.channels[t.data.channel_id]),y=Object(p.a)(Object(p.a)({},y),{},{is_read:!0,total_unread:e.user&&e.user.id===t.data.member_id?0:y.total_unread,members:y.members.map((function(e){return e.id===t.data.member_id?Object(p.a)(Object(p.a)({},e),{},{last_visited_at:{timestamp:t.data.timestamp+3}}):e})),replies:t.data.member_id===e.user.id&&y.replies?y.replies.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{is_read:!0})})):y.replies})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==y?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,y)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===parseInt(t.data.channel_id)?y:e.selectedChannel});case"ADD_TO_CHANNELS":return Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.id,t.data))});case"GET_CHAT_MESSAGES_SUCCESS":var S=Object(p.a)({},e.channels[t.data.channel_id]),w=[].concat(Object(a.a)(t.data.results.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{is_read:!0,body:e.body.replace(/<[/]?img src=\"data:image[^>]*>/gi,""),channel_id:t.data.channel_id})}))),Object(a.a)(S.replies)),k=Object(b.c)(w,"id");return S=Object(p.a)(Object(p.a)({},S),{},{replies:k,read_only:t.data.read_only,hasMore:20===t.data.results.length,skip:0===S.skip&&S.replies.length?S.replies.length+20:S.skip+20,isFetching:!1,replyCount:t.data.total}),Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,S))},S&&e.selectedChannel&&{selectedChannel:S.id===e.selectedChannel.id?S:e.selectedChannel});case"MARK_ALL_MESSAGES_AS_READ":var N=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(N=Object(p.a)({},e.channels[t.data.channel_id]),N=Object(p.a)(Object(p.a)({},N),{},{replies:N.replies.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{is_read:!0})}))})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==N?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,N)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)({},N):e.selectedChannel});case"UPDATE_UNREAD_CHAT_REPLIES":return Object(p.a)(Object(p.a)({},e),{},{selectedChannel:t.data.id===e.selectedChannel.id?t.data:e.selectedChannel,channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.id,t.data)),unreadChatCount:e.unreadChatCount>0?e.unreadChatCount-t.data.minus_count:e.unreadChatCount});case"ADD_CHAT_MESSAGE":var R=Object(p.a)({},e.channels[t.data.channel_id]);return R=Object(p.a)(Object(p.a)({},R),{},{replies:[].concat(Object(a.a)(R.replies),[t.data]),last_reply:t.data,replyCount:R.replyCount?R.replyCount+1:1e3}),Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,R)),selectedChannel:e.selectedChannel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:[].concat(Object(a.a)(e.selectedChannel.replies),[t.data]),last_reply:t.data}):e.selectedChannel});case"SET_TRANSLATED_BODY":var x=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(x=Object(p.a)({},e.channels[t.data.channel_id]),x=Object(p.a)(Object(p.a)({},x),{},{is_hidden:!1,last_reply:x.last_reply&&x.last_reply.id===t.data.id?t.data:x.last_reply,replies:x.replies.map((function(e){return e.id===t.data.id?t.data:e}))})),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:e.selectedChannel&&x&&e.selectedChannel.id===x.id?x:e.selectedChannel,channels:null!==x?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,x)):e.channels});case"SET_FANCY_LINK":var I=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(I=Object(p.a)({},e.channels[t.data.channel_id]),I=Object(p.a)(Object(p.a)({},I),{},{is_hidden:!1,last_reply:I.last_reply&&I.last_reply.id===t.data.id?t.data:I.last_reply,replies:I.replies.map((function(e){return e.id===t.data.id?t.data:e}))})),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:e.selectedChannel&&I&&e.selectedChannel.id===I.id?I:e.selectedChannel,channels:null!==I?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,I)):e.channels});case"SET_CHANNEL_TRANSLATE_STATE":var P=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.id)&&(P=Object(p.a)({},e.channels[t.data.id]),P=Object(p.a)(Object(p.a)({},P),{},{is_translate:t.data.is_translate})),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:e.selectedChannel&&P&&e.selectedChannel.id===P.id?P:e.selectedChannel,channels:null!==P?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.id,P)):e.channels});case"INCOMING_CHAT_MESSAGE":var D=!1,L=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&((L=Object(p.a)({},e.channels[t.data.channel_id])).id===t.data.channel_id&&t.data.user.id===e.user.id&&t.data.reference_id&&(D=L.replies.some((function(e){return e.reference_id===t.data.reference_id}))),L=Object(p.a)(Object(p.a)({},L),{},{is_hidden:!1,replies:D?L.replies.map((function(e){return e.id===t.data.reference_id?Object(p.a)(Object(p.a)({},e),{},{id:t.data.id,created_at:t.data.created_at,updated_at:t.data.created_at}):Object(p.a)(Object(p.a)({},e),{},{is_read:!0})})):[].concat(Object(a.a)(L.replies),[t.data]),last_visited_at_timestamp:Object(f.b)(),last_reply:t.data,total_unread:t.data.is_read?0:L.total_unread+1,replyCount:L.replyCount&&t.data.user&&t.data.user.id!==e.user.id||L.replyCount&&!t.data.user?L.replyCount+1:L.replyCount?L.replyCount:1e3})),Object(p.a)(Object(p.a)({},e),{},{lastReceivedMessage:t.data,selectedChannel:e.selectedChannel&&L&&e.selectedChannel.id===L.id?L:e.selectedChannel,channels:null!==L?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,L)):e.channels});case"INCOMING_CHAT_MESSAGE_FROM_OTHERS":var F=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.reply.channel_id)&&(F=Object(p.a)({},e.channels[t.data.reply.channel_id]),F=Object(p.a)(Object(p.a)({},F),{},{replies:[].concat(Object(a.a)(F.replies),[t.data.reply]),is_hidden:!1,last_reply:t.data.last_reply,total_unread:e.selectedChannel&&e.selectedChannel.id===t.data.reply.channel_id?F.total_unread:F.total_unread+1})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==F?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.reply.channel_id,F)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.reply.channel_id&&e.selectedChannel.replies?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:[].concat(Object(a.a)(e.selectedChannel.replies),[t.data.reply]),last_reply:t.data.last_reply?t.data.last_reply:e.selectedChannel.last_reply}):e.selectedChannel});case"GENERATE_UNFURL_REDUCER":if(t.data.channel_id){var M=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(M=Object(p.a)({},e.channels[t.data.channel_id]),M=Object(p.a)(Object(p.a)({},M),{},{replies:M.replies.map((function(e){return e.id===t.data.message_id?Object(p.a)(Object(p.a)({},e),{},{unfurls:t.data.unfurls,unfurl_loading:!1}):e}))})),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.id===t.data.message_id?Object(p.a)(Object(p.a)({},e),{},{unfurls:t.data.unfurls,unfurl_loading:!1}):e}))}):e.selectedChannel,channels:null!==M?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,M)):e.channels})}return e;case"INCOMING_ARCHIVED_CHANNEL":var U=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(U=Object(p.a)({},e.channels[t.data.channel_id]),U=Object(p.a)(Object(p.a)({},U),{},{is_archived:"ARCHIVED"===t.data.status})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==U?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,U)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{is_archived:"ARCHIVED"===t.data.status}):e.selectedChannel});case"ARCHIVE_REDUCER":var G="ARCHIVED"===t.data.status;return Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)({},Object.values(e.channels).map((function(e){return G?t.data.topic_detail?e.entity_id===t.data.topic_detail.id?Object(p.a)(Object(p.a)({},e),{},{is_archived:!0}):e:t.data.channel_id===e.id?Object(p.a)(Object(p.a)({},e),{},{is_archived:!0}):e:e})).reduce((function(e,t){return e[t.id]=t,e}),{})),selectedChannel:e.selectedChannel&&t.data.topic_detail&&t.data.topic_detail.id===e.selectedChannel.entity_id||e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{is_archived:"ARCHIVED"===t.data.status}):e.selectedChannel});case"UNARCHIVE_REDUCER":var H=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(H=Object(p.a)({},e.channels[t.data.channel_id]),H=Object(p.a)(Object(p.a)({},H),{},{is_archived:"UNARCHIVED"!==t.data.status})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==H?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,H)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{is_archived:"UNARCHIVED"!==t.data.status}):e.selectedChannel});case"INCOMING_CHAT_MESSAGE_REACTION":var B=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(B=Object(p.a)({},e.channels[t.data.channel_id]),B=Object(p.a)(Object(p.a)({},B),{},{replies:B.replies.map((function(e){if(e.id===t.data.message_id){if("CREATED"===t.data.status){var n=e.reactions.filter((function(e){return e.id!==t.data.id}));return Object.assign({},e,{reactions:[].concat(Object(a.a)(n),[t.data])})}return Object.assign({},e,{reactions:e.reactions.filter((function(e){return e.id!==t.data.id}))})}return e}))})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==B?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,B)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)({},B):e.selectedChannel});case"SET_CHANNEL_HISTORICAL_POSITION":var W=!1;return e.historicalPositions.length?(e.historicalPositions.forEach((function(e){e.channel_id===t.data.channel_id&&(W=!0)})),W?Object(p.a)(Object(p.a)({},e),{},{historicalPositions:e.historicalPositions.map((function(e){return e.channel_id===t.data.channel_id?t.data:e}))}):Object(p.a)(Object(p.a)({},e),{},{historicalPositions:[].concat(Object(a.a)(e.historicalPositions),[t.data])})):Object(p.a)(Object(p.a)({},e),{},{historicalPositions:[t.data]});case"INCOMING_UPDATED_CHAT_MESSAGE":var Y=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(Y=Object(p.a)({},e.channels[t.data.channel_id]),Y=Object(p.a)(Object(p.a)({},Y),{},{replies:Y.replies.map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{body:t.data.body,updated_at:t.data.updated_at}):e})),last_reply:Y.last_reply&&Y.last_reply.id===t.data.id?Object(p.a)(Object(p.a)({},Y.last_reply),{},{body:t.data.body}):Y.last_reply})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==Y?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,Y)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)({},Y):e.selectedChannel});case"SET_EDIT_CHAT_MESSAGE":return Object(p.a)(Object(p.a)({},e),{},{editChatMessage:t.data});case"INCOMING_DELETED_CHAT_MESSAGE":var z=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(z=Object(p.a)({},e.channels[t.data.channel_id]),z=Object(p.a)(Object(p.a)({},z),{},{replies:z.replies.map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{is_deleted:!0,body:"The chat message has been deleted",files:[]}):e})),last_reply:z.last_reply.id===t.data.id?Object(p.a)(Object(p.a)({},z.last_reply),{},{body:"The chat message has been deleted",is_deleted:!0}):z.last_reply})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==z?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,z)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)({},z):e.selectedChannel});case"ON_CLICK_SEND_BUTTON":return Object(p.a)(Object(p.a)({},e),{},{sendButtonClicked:t.data});case"ADD_QUOTE":return Object(p.a)(Object(p.a)({},e),{},{chatQuotes:Object(p.a)(Object(p.a)({},e.chatQuotes),{},Object(m.a)({},e.selectedChannel.id,Object(p.a)(Object(p.a)({},t.data),{},{channel_id:e.selectedChannel.id})))});case"CLEAR_QUOTE":var V=Object(p.a)({},e.chatQuotes);return delete V[t.data.channel_id],Object(p.a)(Object(p.a)({},e),{},{chatQuotes:V});case"SAVE_DRAFT_SUCCESS":var Q=Object(p.a)({},e.channelDrafts);return"channel"===t.data.data.draft_type&&(Q[t.data.data.channel_id]=Object(p.a)(Object(p.a)({},t.data.data),{},{draft_id:t.data.id})),Object(p.a)(Object(p.a)({},e),{},{channelDrafts:Q});case"ADD_TO_CHANNEL_DRAFTS":var q=e.channelDrafts;return Object.keys(e.channelDrafts).length>0&&e.channelDrafts.hasOwnProperty(t.data.channel_id)?(delete(q=Object(p.a)({},e.channelDrafts))[t.data.channel_id],q=Object(p.a)(Object(p.a)({},q),{},Object(m.a)({},t.data.channel_id,t.data))):q=Object(p.a)(Object(p.a)({},q),{},Object(m.a)({},t.data.channel_id,t.data)),Object(p.a)(Object(p.a)({},e),{},{channelDrafts:q});case"CLEAR_CHANNEL_DRAFT":var K=Object(p.a)({},e.channelDrafts);return delete K[t.data.channel_id],Object(p.a)(Object(p.a)({},e),{},{channelDrafts:K});case"GET_CHANNEL_DRAFTS_SUCCESS":var J=e.channelDrafts;return t.data.filter((function(e){return"channel"===e.data.type})).forEach((function(e){J[e.data.channel_id]=Object(p.a)(Object(p.a)({},e.data),{},{draft_id:e.id})})),Object(p.a)(Object(p.a)({},e),{},{channelDrafts:J,channelDraftsLoaded:!0});case"INCOMING_UPDATED_CHANNEL_DETAIL":var Z=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.id)&&(Z=Object(p.a)({},e.channels[t.data.id]),Z=Object(p.a)(Object(p.a)(Object(p.a)({},Z),t.data),{},{replies:[].concat(Object(a.a)(Z.replies),[t.data.message])})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==Z?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.id,Z)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(p.a)({},Z):e.selectedChannel});case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{user:t.data,channels:Object(p.a)({},Object.values(e.channels).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{isFetching:!1})})).reduce((function(e,t){return e[t.id]=t,e}),{})),selectedChannel:e.selectedChannel?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{isFetching:!1}):e.selectedChannel});case"UPDATE_CHAT_MESSAGE_REMINDER_COMPLETE":var X=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(X=Object(p.a)({},e.channels[t.data.channel_id]),X=Object(p.a)(Object(p.a)({},X),{},{replies:X.replies.map((function(e){if(e.id===t.data.message_id){e.original_body&&(e.body=e.original_body);var n=e.body.replace(e.body.substr(0,e.body.search(" in ")+4,e.body),"");e.body=e.body.replace(" in ".concat(n),' in <a class="push" data-href="/chat/'.concat(e.quote.channel_code,'">#').concat(n,"</a>"));var a="/chat/".concat(e.quote.channel_code,"/").concat(e.quote.code);return e.body=e.body.replace("this message",'<a class="push" data-href="'.concat(a,'">this message</a>')),e.body='<span class="completed">'.concat(e.body,"</span><br/> ").concat(e.original_body.replace("You asked me to remind you","OK! I\u2019ve marked the reminder")," as complete."),e}return e}))})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==X?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,X)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)({},X):e.selectedChannel});case"UPDATE_CHANNEL_MEMBERS_TITLE":var $=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&($=Object(p.a)({},e.channels[t.data.channel_id]),$=Object(p.a)(Object(p.a)({},$),{},{members:t.data.members,title:t.data.title})),Object(p.a)(Object(p.a)({},e),{},{channels:null!==$?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,$)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)({},$):e.selectedChannel});case"SAVE_LAST_VISITED_CHANNEL":var ee=e.channels[t.data.id];return"undefined"===typeof ee&&(ee=t.data),Object(p.a)(Object(p.a)({},e),{},{lastVisitedChannel:ee});case"RESTORE_LAST_VISITED_CHANNEL":var te=Object(p.a)({},e.channels[t.data.channel_id]);return Object(p.a)(Object(p.a)({},e),{},{selectedChannel:te.hasOwnProperty("id")?te:e.selectedChannel});case"CLEAR_SELECTED_CHANNEL":return Object(p.a)(Object(p.a)({},e),e.lastVisitedChannel&&{selectedChannel:e.lastVisitedChannel?Object(p.a)({},e.channels[e.lastVisitedChannel.id]):null});case"JOIN_WORKSPACE_REDUCER":var ne=Object(p.a)({},e.channels),ae=e.selectedChannel?Object(p.a)({},e.selectedChannel):null;if(Object.keys(ne).length&&ne.hasOwnProperty(t.data.channel_id)){var re=Object(p.a)(Object(p.a)({},ne[t.data.channel_id]),{},{members:[].concat(Object(a.a)(ne[t.data.channel_id].members),Object(a.a)(t.data.users)),replies:[].concat(Object(a.a)(ne[t.data.channel_id].replies),[t.data.message])});ne[t.data.channel_id].members=[].concat(Object(a.a)(ne[t.data.channel_id].members),Object(a.a)(t.data.users)),ne[t.data.channel_id].replies=[].concat(Object(a.a)(ne[t.data.channel_id].replies),[t.data.message]),ae&&re.id===ae.id&&(ae=re)}return Object(p.a)(Object(p.a)({},e),{},{channels:ne,selectedChannel:ae});case"UNREAD_CHANNEL_REDUCER":var ie=Object(p.a)({},e.channels);return ie.hasOwnProperty(t.data.channel_id)&&(ie=Object(p.a)(Object(p.a)({},ie),{},Object(m.a)({},t.data.channel_id,Object(p.a)(Object(p.a)({},ie[t.data.channel_id]),{},{is_read:!1})))),Object(p.a)(Object(p.a)({},e),{},{channels:ie,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{is_read:!1}):e.selectedChannel});case"UPDATE_UNREAD_LIST_COUNTER":var ce=Object(p.a)({},e.channels),oe=Object(p.a)({},e.selectedChannel);return"UNREAD_CHANNEL"===t.data.entity_group_type?(ce.hasOwnProperty(t.data.entity_id)&&(ce[t.data.entity_id].is_read=!1,e.selectedChannel&&e.selectedChannel.id===t.data.entity_id&&(oe.is_read=!1)),Object(p.a)(Object(p.a)({},e),{},{channels:ce,selectedChannel:oe})):e;case"INCOMING_UPDATED_WORKSPACE_FOLDER":var se=[];return"WORKSPACE"===t.data.type&&t.data.team_channel&&e.channels[t.data.team_channel.id]&&(se=e.channels[t.data.team_channel.id].replies.filter((function(e){return e.body.startsWith("POST_CREATE::")&&!e.shared_with_client}))),Object(p.a)(Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)(Object(p.a)({},e.channels),"WORKSPACE"===t.data.type&&e.channels[t.data.channel.id]&&Object(m.a)({},t.data.channel.id,Object(p.a)(Object(p.a)(Object(p.a)({},e.channels[t.data.channel.id]),t.data.system_message&&{replies:[].concat(Object(a.a)(e.channels[t.data.channel.id].replies.filter((function(e){return!(e.body.startsWith("POST_CREATE::")&&t.data.is_shared&&!e.shared_with_client)}))),[Object(p.a)(Object(p.a)({},t.data.system_message),{},{created_at:t.data.updated_at,editable:!1,is_read:!0,is_deleted:!1,files:[],reactions:[],unfurls:[]})],Object(a.a)(se))}),{},{icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))}))),"WORKSPACE"===t.data.type&&t.data.team_channel&&e.channels[t.data.team_channel.id]&&Object(m.a)({},t.data.team_channel.id,Object(p.a)(Object(p.a)({},e.channels[t.data.team_channel.id]),{},{replies:"WORKSPACE"===t.data.type&&e.channels[t.data.channel.id]&&t.data.is_shared?[].concat(Object(a.a)(e.channels[t.data.team_channel.id].replies),Object(a.a)(e.channels[t.data.channel.id].replies.filter((function(e){return e.body.startsWith("POST_CREATE::")&&!e.shared_with_client})))):e.channels[t.data.team_channel.id].replies.filter((function(e){return!e.body.startsWith("POST_CREATE::")})),icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.filter((function(e){return"external"!==e.type})).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))})))},e.selectedChannel&&e.selectedChannel.id===t.data.channel.id&&{selectedChannel:Object(p.a)(Object(p.a)(Object(p.a)({},e.selectedChannel),t.data.system_message&&{replies:[].concat(Object(a.a)(e.channels[t.data.channel.id].replies.filter((function(e){return!(e.body.startsWith("POST_CREATE::")&&t.data.is_shared&&!e.shared_with_client)}))),[Object(p.a)(Object(p.a)({},t.data.system_message),{},{created_at:t.data.updated_at,editable:!1,is_read:!0,is_deleted:!1,files:[],reactions:[],unfurls:[]})],Object(a.a)(se))}),{},{icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))})}),e.selectedChannel&&t.data.team_channel&&e.selectedChannel.id===t.data.team_channel.id&&{selectedChannel:Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:"WORKSPACE"===t.data.type&&e.channels[t.data.channel.id]&&t.data.is_shared?[].concat(Object(a.a)(e.selectedChannel.replies),Object(a.a)(e.channels[t.data.channel.id].replies.filter((function(e){return e.body.startsWith("POST_CREATE::")&&!e.shared_with_client})))):e.selectedChannel.replies.filter((function(e){return!e.body.startsWith("POST_CREATE::")})),icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.filter((function(e){return"external"!==e.type})).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))})});case"REMOVE_UNFURL":var le=Object(p.a)({},e.channels),de=null;return"chat"===t.data.type&&le.hasOwnProperty(t.data.channel_id)&&(de=Object(p.a)(Object(p.a)({},le[t.data.channel_id]),{},{replies:le[t.data.channel_id].replies.map((function(e){return e.id===t.data.message_id?Object(p.a)(Object(p.a)({},e),{},{unfurls:e.unfurls.filter((function(e){return e.id!==t.data.unfurl_id}))}):e}))}),le[t.data.channel_id]=de),Object(p.a)(Object(p.a)({},e),{},{channels:le,selectedChannel:e.selectedChannel&&de&&de.id===e.selectedChannel.id?de:e.selectedChannel});case"LEAVE_WORKSPACE":var ue=Object(p.a)({},e.channels);return ue.hasOwnProperty(t.data.channel_id)&&(ue[t.data.channel_id].members=ue[t.data.channel_id].members.filter((function(t){return t.id!==e.user.id}))),Object(p.a)(Object(p.a)({},e),{},{channels:ue,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{members:e.selectedChannel.members.filter((function(t){return t.id!==e.user.id}))}):e.selectedChannel});case"INCOMING_EXTERNAL_USER":var me=e.selectedChannel?Object(p.a)({},e.selectedChannel):null,pe=Object(p.a)({},e.channels);return me&&(pe[(me=Object(p.a)(Object(p.a)({},me),{},{members:me.members.map((function(e){return e.id===t.data.current_user.id?Object(p.a)(Object(p.a)({},e),t.data.current_user):e}))})).id]=me),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:me,channels:pe});case"SET_FETCHING_MESSAGES":var fe=Object(p.a)({},e.channels);return fe.hasOwnProperty(t.data.id)&&(fe[t.data.id].isFetching=t.data.status),Object(p.a)(Object(p.a)({},e),{},{channels:fe,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{isFetching:t.data.status}):e.selectedChannel});case"SET_LAST_CHAT_VISIBILITY":return e.isLastChatVisible!==t.data.status?Object(p.a)(Object(p.a)({},e),{},{isLastChatVisible:t.data.status}):e;case"DELETE_POST_NOTIFICATION":var be=Object(p.a)({},e.channels),he=e.selectedChannel?Object(p.a)({},e.selectedChannel):null;return t.data.forEach((function(e){be.hasOwnProperty(e.channel.id)&&be[e.channel.id].replies.length&&(be[e.channel.id].replies=be[e.channel.id].replies.filter((function(t){return t.id!==e.system_message.id}))),he&&he.id===e.channel.id&&he.replies.length&&(he.replies=he.replies.filter((function(t){return t.id!==e.system_message.id})))})),Object(p.a)(Object(p.a)({},e),{},{channels:be,selectedChannel:he});case"INCOMING_POST_NOTIFICATION_MESSAGE":var _e=Object(p.a)({},e.channels);return Object.keys(_e).length&&_e.hasOwnProperty(t.data.channel_id)&&(_e=Object(p.a)({},Object.values(e.channels).map((function(e){return e.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e),{},{is_hidden:!1,last_reply:t.data,replies:e.replies.some((function(e){return e.id===t.data.id}))?e.replies.map((function(e){return e.id===t.data.id?t.data:e})):[].concat(Object(a.a)(e.replies),[t.data])}):!t.data.new_post&&t.data.topic&&"TOPIC"===e.type&&e.entity_id===t.data.topic.id?Object(p.a)(Object(p.a)({},e),{},{replies:e.replies.filter((function(e){return e.id!==t.data.id}))}):e})).reduce((function(e,t){return e[t.id]=t,e}),{}))),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:e.selectedChannel&&_e[e.selectedChannel.id]?Object(p.a)(Object(p.a)({},_e[e.selectedChannel.id]),{},{selected:!0}):e.selectedChannel,channels:_e});case"REFETCH_MESSAGES_SUCCESS":var Oe=Object(p.a)({},e.channels),Ee=null;if(t.data.channel_detail&&Oe.hasOwnProperty(t.data.channel_detail.id)){var ge=[].concat(Object(a.a)(Oe[t.data.channel_detail.id].replies),Object(a.a)(t.data.current_latest_messages.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{channel_id:t.data.channel_detail.id})}))));Ee=Object(p.a)(Object(p.a)({},t.data.channel_detail),{},{icon_link:Oe[t.data.channel_detail.id].icon_link,replies:Object(b.c)(ge,"id"),hasMore:Oe[t.data.channel_detail.id].hasMore,skip:Oe[t.data.channel_detail.id].skip,isFetching:!1,team:Oe[t.data.channel_detail.id].team}),Oe[t.data.channel_detail.id]=Ee}return Object(p.a)(Object(p.a)({},e),{},{channels:Oe,selectedChannel:e.selectedChannel&&Ee&&e.selectedChannel.id===Ee.id?Ee:e.selectedChannel});case"REFETCH_OTHER_MESSAGES_SUCCESS":var Ae=t.data.filter((function(e){return e.count_message>0})),ve=Object(p.a)({},e.channels);return Ae.forEach((function(e){if(ve.hasOwnProperty(e.channel_id)){var t=Object.values(e.messages).map((function(t){return Object(p.a)(Object(p.a)({},t),{},{channel_id:e.channel_id})})),n=[].concat(Object(a.a)(ve[e.channel_id].replies),Object(a.a)(t));ve[e.channel_id].replies=Object(b.c)(n,"id").sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))}})),Object(p.a)(Object(p.a)({},e),{},{channels:ve,selectedChannel:e.selectedChannel&&ve.hasOwnProperty(e.selectedChannel.id)?ve[e.selectedChannel.id]:e.selectedChannel});case"GET_CHANNEL_DETAIL_SUCCESS":var je=Object(p.a)({},e.channels);return je.hasOwnProperty(t.data.id)&&(je[t.data.id]=Object(p.a)(Object(p.a)({},t.data),{},{icon_link:je[t.data.id].icon_link,replies:je[t.data.id].replies,hasMore:je[t.data.id].hasMore,skip:je[t.data.id].skip,isFetching:!1})),Object(p.a)(Object(p.a)({},e),{},{channels:je});case"GET_LATEST_REPLY_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{lastReceivedMessage:t.data.latest_reply?{id:t.data.latest_reply.reply_id,channel_id:t.data.latest_reply.channel_id}:e.lastReceivedMessage});case"SET_CHANNEL_RANGE":return Object(p.a)(Object(p.a)({},e),{},{channelRange:Object(p.a)(Object(p.a)({},e.channelRange),{},Object(m.a)({},t.data.id,t.data.range))});case"GET_SELECT_CHANNEL_SUCCESS":if(t.data){var Ce=Object(p.a)({},e.channels),Te=Object(p.a)(Object(p.a)({},t.data),{},{hasMore:!0,skip:0,selected:!0,isFetching:!1});return Ce=Object(p.a)(Object(p.a)({},Ce),{},Object(m.a)({},Te.id,Te)),Object(p.a)(Object(p.a)({},e),{},{channels:Ce,lastVisitedChannel:Te,selectedChannel:Te,selectedChannelId:Te.id?Te.id:e.selectedChannelId})}return e;case"GET_LAST_CHANNEL_SUCCESS":if(t.data){var ye=Object(p.a)({},e.channels),Se=Object(p.a)(Object(p.a)({},t.data),{},{replies:t.data.replies.length?t.data.replies:[],hasMore:20===t.data.replies.length,skip:t.data.replies.length,selected:!0,isFetching:!1});return ye=Object(p.a)(Object(p.a)({},ye),{},Object(m.a)({},Se.id,Se)),Object(p.a)(Object(p.a)({},e),{},{channels:ye,lastVisitedChannel:Se,selectedChannel:Se,selectedChannelId:Se.id?Se.id:e.selectedChannelId})}return e;case"INCOMING_IMPORTANT_CHAT":return Object(p.a)(Object(p.a)(Object(p.a)({},e),e.selectedChannel&&e.selectedChannel.id===t.data.channel.id&&{selectedChannel:Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.id===t.data.chat_message.id?Object(p.a)(Object(p.a)({},e),t.data.chat_message):e}))})}),"undefined"!==typeof e.channels[t.data.channel.id]&&{channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel.id,Object(p.a)(Object(p.a)({},e.channels[t.data.channel.id]),{},{replies:e.channels[t.data.channel.id].replies.map((function(e){return e.id===t.data.chat_message.id?Object(p.a)(Object(p.a)({},e),t.data.chat_message):e}))})))});case"GET_CHAT_STAR_SUCCESS":return Object(p.a)(Object(p.a)(Object(p.a)({},e),e.selectedChannel&&-1!==e.selectedChannel.replies.findIndex((function(e){return e.id===t.data.chat_message_id}))&&{selectedChannel:Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.id===t.data.chat_message_id?Object(p.a)(Object(p.a)({},e),{},{star_users:t.data.users}):e}))})}),{},{channels:Object(p.a)({},Object.values(e.channels).map((function(n){return-1!==e.channels[n.id].replies.findIndex((function(e){return e.id===t.data.chat_message_id}))?Object(p.a)(Object(p.a)({},e.channels[n.id]),{},{replies:e.channels[n.id].replies.map((function(e){return e.id===t.data.chat_message_id?Object(p.a)(Object(p.a)({},e),{},{star_users:t.data.users}):e}))}):n})).reduce((function(e,t){return e[t.id]=t,e}),{}))});case"INCOMING_CHAT_STAR":return Object(p.a)(Object(p.a)(Object(p.a)({},e),e.selectedChannel&&e.selectedChannel.id===t.data.channel.id&&{selectedChannel:Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(n){return n.id===t.data.chat.id?Object(p.a)(Object(p.a)(Object(p.a)({},n),e.user.id===t.data.author.id&&{i_starred:1===t.data.star}),{},{star_count:1===t.data.star?n.star_count+1:n.star_count-1},"undefined"===typeof e.star_users?Object(p.a)({},1===t.data.star?{star_users:[t.data.author]}:{star_users:[]}):Object(p.a)({},1===t.data.star?{star_users:[e.star_users,t.data.author]}:{star_users:e.star_users.filter((function(e){return e.id!==t.data.author.id}))})):n}))})}),"undefined"!==typeof e.channels[t.data.channel.id]&&{channels:Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel.id,Object(p.a)(Object(p.a)({},e.channels[t.data.channel.id]),{},{replies:e.channels[t.data.channel.id].replies.map((function(n){return n.id===t.data.chat.id?Object(p.a)(Object(p.a)(Object(p.a)({},n),e.user.id===t.data.author.id&&{i_starred:1===t.data.star}),{},{star_count:1===t.data.star?n.star_count+1:n.star_count-1},"undefined"===typeof e.star_users?Object(p.a)({},1===t.data.star?{star_users:[t.data.author]}:{star_users:[]}):Object(p.a)({},1===t.data.star?{star_users:[e.star_users,t.data.author]}:{star_users:e.star_users.filter((function(e){return e.id!==t.data.author.id}))})):n}))})))});case"INCOMING_ARCHIVED_USER":return Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)({},Object.values(e.channels).map((function(e){return t.data.channel_ids.some((function(t){return t===e.id}))?Object(p.a)(Object(p.a)({},e),{},{members:e.members.filter((function(e){return e.id!==t.data.user.id}))}):e})).reduce((function(e,t){return e[t.id]=t,e}),{}))});case"INCOMING_UNARCHIVED_USER":return Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)({},Object.values(e.channels).map((function(e){return t.data.connected_channel_ids.some((function(t){return t===e.id}))?Object(p.a)(Object(p.a)({},e),{},{members:[].concat(Object(a.a)(e.members),[Object(p.a)(Object(p.a)({},t.data.profile),{},{last_visited_at:{timestamp:Math.floor(Date.now()/1e3)}})])}):e})).reduce((function(e,t){return e[t.id]=t,e}),{}))});case"GET_USER_BOTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{bots:{channels:t.data.channels.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{huddle:e.huddleBots.some((function(e){return e.channel.id===t.id}))?e.huddleBots.find((function(e){return e.channel.id===t.id})):null})})),user_bots:t.data.user_bots,loaded:!0},huddleBot:t.data.user_bots&&t.data.user_bots.length>0?t.data.user_bots[0]:null});case"GET_HUDDLE_CHATBOT_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{huddleBots:t.data.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{showToday:!1,questions:e.questions.sort((function(e,t){return e.id-t.id})).map((function(t,n){return Object(p.a)(Object(p.a)({},t),{},{isFirstQuestion:0===n,isLastQuestion:e.questions.length===n+1,answer:null,original_answer:null})}))})})),bots:Object(p.a)(Object(p.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return t.data.some((function(t){return t.channel.id===e.id}))?Object(p.a)(Object(p.a)({},e),{},{huddle:t.data.find((function(t){return t.channel.id===e.id}))}):e}))})});case"INCOMING_HUDDLE_BOT":return Object(p.a)(Object(p.a)({},e),{},{huddleBots:[].concat(Object(a.a)(e.huddleBots),[t.data]),bots:Object(p.a)(Object(p.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return t.data.channel.id===e.id?Object(p.a)(Object(p.a)({},e),{},{huddle:t.data}):e}))})});case"INCOMING_UPDATED_HUDDLE_BOT":return Object(p.a)(Object(p.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel.id?Object(p.a)(Object(p.a)({},e),t.data):e})),bots:Object(p.a)(Object(p.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return t.data.channel.id===e.id?Object(p.a)(Object(p.a)({},e),{},{huddle:e.huddle?Object(p.a)(Object(p.a)({},e.huddle),t.data):t.data}):e}))})});case"INCOMING_DELETED_HUDDLE_BOT":return Object(p.a)(Object(p.a)({},e),{},{huddleBots:e.huddleBots.filter((function(e){return e.id!==t.data.id})),bots:Object(p.a)(Object(p.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return e.huddle&&e.huddle.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{huddle:null}):e}))})});case"SAVE_HUDDLE_ANSWER":return Object(p.a)(Object(p.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return e.id===t.data.question_id?Object(p.a)(Object(p.a)({},e),{},{answer:t.data.answer,original_answer:t.data.answer}):e}))}):e}))});case"POST_USER_BOTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{huddleBot:t.data,user_bots:[].concat(Object(a.a)(e.bots.user_bots),[t.data])});case"CLEAR_HUDDLE":return Object(p.a)(Object(p.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{answer:null})}))})}))});case"INCOMING_HUDDLE_ANSWERS":var we=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel.id)&&(we=Object(p.a)({},e.channels[t.data.channel.id]),we=Object(p.a)(Object(p.a)({},we),{},{replies:we.replies.map((function(e){return e.id===t.data.message.id?Object(p.a)(Object(p.a)({},e),{},{huddle_log:t.data.huddle_log,body:t.data.message.body}):e})).filter((function(e){return!t.data.skip_message_ids||!t.data.skip_message_ids.some((function(t){return t===e.id}))}))})),Object(p.a)(Object(p.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(a.a)(e.hasUnpublishedAnswers),[t.data.channel.id]),selectedChannel:e.selectedChannel&&we&&e.selectedChannel.id===we.id?we:e.selectedChannel,channels:null!==we?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel.id,we)):e.channels,huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel.id?Object(p.a)(Object(p.a)({},e),{},{huddle_log:Object(p.a)(Object(p.a)({},t.data.huddle_log),{},{huddle_id:e.id}),questions:e.questions.map((function(e){var n=t.data.huddle_answers.find((function(t){return t.huddle_question_id===e.id}));return n?Object(p.a)(Object(p.a)({},e),{},{answer:n.answer,original_answer:n.answer,answer_id:n.id}):e}))}):e})),skipIds:t.data.skip_message_ids?e.skipIds.filter((function(e){return!t.data.skip_message_ids.some((function(t){return t===e.id}))})):e.skipIds});case"ADD_HUDDLE_LOG":var ke=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(ke=Object(p.a)({},e.channels[t.data.channel_id]),ke=Object(p.a)(Object(p.a)({},ke),{},{replies:ke.replies.map((function(e){return e.id===t.data.message_id?Object(p.a)(Object(p.a)({},e),{},{huddle_log:t.data.huddle_log}):e}))})),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:e.selectedChannel&&ke&&e.selectedChannel.id===ke.id?ke:e.selectedChannel,channels:null!==ke?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel_id,ke)):e.channels,huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){var n=t.data.huddle_answers.find((function(t){return t.huddle_question_id===e.id}));return n?Object(p.a)(Object(p.a)({},e),{},{answer:n.answer,original_answer:n.answer,answer_id:n.id}):e}))}):e}))});case"SET_EDIT_HUDDLE_ANSWERS":var Ne=e.huddleBots.find((function(e){return e.channel.id===t.data.channel_id}));return Object(p.a)(Object(p.a)({},e),{},{editHuddle:Ne?Object(p.a)(Object(p.a)({},Ne),{},{questions:Ne.questions.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{answer:null})}))}):null});case"UPDATE_HUDDLE_ANSWER":return Object(p.a)(Object(p.a)({},e),{},{editHuddle:Object(p.a)(Object(p.a)({},e.editHuddle),{},{questions:e.editHuddle.questions.map((function(e){return e.id===t.data.question_id?Object(p.a)(Object(p.a)({},e),{},{answer:t.data.answer}):e}))})});case"CLEAR_EDIT_HUDDLE":return Object(p.a)(Object(p.a)({},e),{},{editHuddle:null});case"CLEAR_UNPUBLISHED_HUDDLE_ANSWER":var Re=null,xe=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(Re=Object(p.a)({},e.channels[t.data.channel_id]),Re=Object(p.a)(Object(p.a)({},Re),{},{replies:Re.replies.filter((function(e){return!t.data.huddle_deleted_message_ids.some((function(t){return t===e.id}))}))})),e.channels[t.data.huddle_channel_id]&&(xe=Object(p.a)({},e.channels[t.data.huddle_channel_id]),xe=Object(p.a)(Object(p.a)({},xe),{},{replies:xe.replies.filter((function(e){return!t.data.huddle_deleted_message_ids.some((function(t){return t===e.id}))}))})),Object(p.a)(Object(p.a)({},e),{},{selectedChannel:e.selectedChannel&&Re&&e.selectedChannel.id===Re.id?Re:e.selectedChannel&&xe&&e.selectedChannel.id===xe.id?xe:e.selectedChannel,channels:Object(p.a)(Object(p.a)(Object(p.a)({},e.channels),Re&&Object(m.a)({},t.data.channel_id,Re)),xe&&Object(m.a)({},t.data.huddle_channel_id,xe))});case"INCOMING_HUDDLE_SKIP":var Ie=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel.id)&&(Ie=Object(p.a)({},e.channels[t.data.channel.id]),Ie=Object(p.a)(Object(p.a)({},Ie),{},{replies:[].concat(Object(a.a)(Ie.replies),[t.data.message])})),Object(p.a)(Object(p.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(a.a)(e.hasUnpublishedAnswers),[t.data.channel.id]),selectedChannel:e.selectedChannel&&Ie&&e.selectedChannel.id===Ie.id?Ie:e.selectedChannel,channels:null!==Ie?Object(p.a)(Object(p.a)({},e.channels),{},Object(m.a)({},t.data.channel.id,Ie)):e.channels});case"ADD_SKIP_ID":return Object(p.a)(Object(p.a)({},e),{},{skipIds:[].concat(Object(a.a)(e.skipIds),[t.data]),hasUnpublishedAnswers:e.hasUnpublishedAnswers.filter((function(e){return e!==t.data.channel_id}))});case"ADJUST_HUDDLE_DATE":return Object(p.a)(Object(p.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){if(e.repeat_select_monthly){if(O<=3){if(v(0===g?11:g-1,e.repeat_select_monthly)){var t=new Date(0===g?E-1:E,0===g?11:g-1,e.repeat_select_monthly);if(j(t)){var n=C(t,0===t.getDay()?1:2);return n.getMonth()===g?Object(p.a)(Object(p.a)({},e),{},{showToday:n.getDate()===O}):Object(p.a)(Object(p.a)({},e),{},{showToday:!1})}return Object(p.a)(Object(p.a)({},e),{},{showToday:!1})}var a=new Date(E,g,1);if(j(a)){var r=C(a,0===a.getDay()?1:2);return Object(p.a)(Object(p.a)({},e),{},{showToday:r.getDate()===O})}return Object(p.a)(Object(p.a)({},e),{},{showToday:a.getDate()===O})}if(O>3&&v(g,e.repeat_select_monthly)){var i=new Date(E,g,e.repeat_select_monthly);if(j(i)){var c=C(i,0===i.getDay()?1:2);return c.getMonth()===g?Object(p.a)(Object(p.a)({},e),{},{showToday:c.getDate()===O}):Object(p.a)(Object(p.a)({},e),{},{showToday:!1})}return Object(p.a)(Object(p.a)({},e),{},{showToday:e.repeat_select_monthly===O})}return Object(p.a)(Object(p.a)({},e),{},{showToday:!1})}if(e.repeat_select_yearly){var o=parseInt(e.repeat_select_yearly.substr(0,4)),s=parseInt(e.repeat_select_yearly.substr(5,2))-1,l=parseInt(e.repeat_select_yearly.substr(8,2)),d=new Date(o,s,l);if(11!==s||30!==l&&31!==l){if(j(d)){var u=C(d,0===d.getDay()?1:2);return Object(p.a)(Object(p.a)({},e),{},{showToday:u.getDate()===O&&u.getMonth()===g})}return Object(p.a)(Object(p.a)({},e),{},{showToday:d.getDate()===O&&s===g})}if(j(d)){var m=C(d,0===d.getDay()?1:2);return Object(p.a)(Object(p.a)({},e),{},{showToday:m.getDate()===O&&m.getMonth()===g})}return Object(p.a)(Object(p.a)({},e),{},{showToday:d.getDate()===O&&s===g})}return e}))});case"GET_SKIPPED_ANSWERS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(a.a)(e.hasUnpublishedAnswers),Object(a.a)(t.data.map((function(e){return e.channel_id}))))});case"ADD_HAS_UNPUBLISHED_ANSWERS":return Object(p.a)(Object(p.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(a.a)(e.hasUnpublishedAnswers),[t.data.channel_id])});case"CLEAR_HAS_UNPUBLISHED_ANSWERS":return Object(p.a)(Object(p.a)({},e),{},{hasUnpublishedAnswers:[]});case"GET_UNPUBLISHED_ANSWERS_SUCCESS":if(t.data.length){var Pe=t.data[0].huddle_log,De=t.data[0].huddle_answers;return Object(p.a)(Object(p.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return e.id===Pe.huddle_id?Object(p.a)(Object(p.a)({},e),{},{huddle_log:Object(p.a)(Object(p.a)({},Pe),{},{message_id:Pe.connected_message_id}),questions:e.questions.map((function(e){var t=De.find((function(t){return t.huddle_question_id===e.id}));return t?Object(p.a)(Object(p.a)({},e),{},{answer_id:t.id,answer:t.answer,original_answer:t.answer}):e}))}):e}))})}return e;case"SET_SEARCH_ARCHIVED_CHANNELS":return Object(p.a)(Object(p.a)({},e),{},{searchArchivedChannels:t.data});case"GET_COMPANY_CHANNEL_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyChannel:t.data});case"UPDATE_COMPANY_CHANNEL":return Object(p.a)(Object(p.a)({},e),{},{companyChannel:Object(p.a)(Object(p.a)({},e.companyChannel),t.data),channels:Object(p.a)(Object(p.a)({},e.channels),e.channels[t.data.id]&&Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.channels[t.data.id]),t.data))),selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(p.a)(Object(p.a)({},e.selectedChannel),t.data):e.selectedChannel});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)(Object(p.a)({},e.channels),t.data.files.reduce((function(t,n){return e.channels[n.channel_id]&&(t[n.channel_id]=Object(p.a)(Object(p.a)({},e.channels[n.channel_id]),{},{replies:e.channels[n.channel_id].replies.map((function(e){return e.files.some((function(e){return e.file_id===n.file_id}))?Object(p.a)(Object(p.a)({},e),{},{files:e.files.map((function(e){return e.file_id===n.file_id?Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()},file_type:"trashed"}):e}))}):e}))})),t}),{})),selectedChannel:e.selectedChannel&&t.data.files.some((function(t){return t.channel_id===e.selectedChannel.id}))?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.files.some((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))}))?Object(p.a)(Object(p.a)({},e),{},{files:e.files.map((function(e){return t.data.files.some((function(t){return e.file_id===t.file_id}))?Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()},file_type:"trashed"}):e}))}):e}))}):e.selectedChannel});case"INCOMING_REMOVED_FILE_AFTER_DOWNLOAD":return Object(p.a)(Object(p.a)({},e),{},{channels:Object(p.a)({},Object.values(e.channels).reduce((function(e,n){return e[n.id]=Object(p.a)(Object(p.a)({},n),{},{replies:n.replies.map((function(e){return e.files.some((function(e){return e.file_id===t.data.file_id}))?Object(p.a)(Object(p.a)({},e),{},{files:e.files.map((function(e){return e.file_id===t.data.file_id?Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()},file_type:"trashed"}):e}))}):e}))}),e}),{})),selectedChannel:e.selectedChannel?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.files.some((function(e){return e.file_id===t.data.file_id}))?Object(p.a)(Object(p.a)({},e),{},{files:e.files.map((function(e){return e.file_id===t.data.file_id?Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()},file_type:"trashed"}):e}))}):e}))}):e.selectedChannel});case"INCOMING_DELETED_POST":return Object(p.a)(Object(p.a)({},e),{},{channels:Object.values(e.channels).reduce((function(e,n){return n.replies.length&&t.data.channel_ids.some((function(e){return e.channel_id===n.id}))?e[n.id]=Object(p.a)(Object(p.a)({},n),{},{replies:n.replies.filter((function(e){return!t.data.channel_ids.some((function(t){return t.message_id===e.id}))}))}):e[n.id]=n,e}),{}),selectedChannel:e.selectedChannel&&t.data.channel_ids.some((function(t){return t.channel_id===e.selectedChannel.id}))?Object(p.a)(Object(p.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.filter((function(e){return!t.data.channel_ids.some((function(t){return t.message_id===e.id}))}))}):e.selectedChannel});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMPANY_DASHBOARD_TIMELINE_SUCCESS":var n=e.timeline;return n.init=!0,n.skip+=n.limit,t.data.timeline.forEach((function(e){n.items[e.id]=e})),Object(p.a)({},e);case"GET_COMPANY_DASHBOARD_RECENT_POST_SUCCESS":var a=e.recent_posts;return a.init=!0,a.skip+=a.limit,t.data.recent_posts.forEach((function(e){a.items[e.id]=e})),Object(p.a)(Object(p.a)({},e),{},{recent_posts:a});case"GET_COMPANY_DASHBOARD_MEMBERS_SUCCESS":var r=e.members;return r.init=!0,r.skip+=r.limit,t.data.members.forEach((function(e){r.items[e.id]=e})),Object(p.a)(Object(p.a)({},e),{},{members:r});default:return e}},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{user:t.data});case"INCOMING_COMPANY_FOLDER":return Object(p.a)(Object(p.a)({},e),{},{companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{items:Object(p.a)(Object(p.a)({},e.companyFolders.items),{},Object(m.a)({},t.data.folder.id,Object(p.a)(Object(p.a)({},t.data.folder),{},{files:[],has_more:!0,init:!1,skip:100,limit:100})))})});case"INCOMING_COMPANY_UPDATED_FOLDER":var n=e.companyFolders.items;return n[t.data.folder.id]&&(n[t.data.folder.id]=Object(p.a)(Object(p.a)({},n[t.data.folder.id]),t.data.folder)),Object(p.a)(Object(p.a)({},e),{},{companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{items:n})});case"INCOMING_COMPANY_DELETED_FOLDER":var r=e.companyFolders.items;r[t.data.folder.id]&&(r[t.data.folder.id].is_archived=!0),t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof r[e]&&(r[e].is_archived=!0)}));var i=e.companyFiles;return t.data.connected_file_ids.forEach((function(e){"undefined"!==typeof i.items[e]&&(i.count={all:i.count.all-1,stars:i.count.stars-(i.items[e].is_favorite?1:0),trash:i.count.trash+1,storage:i.count.storage-i.items[e].size},i.trash_files.items[e]=i.items[e])})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:i,companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{items:r})});case"INCOMING_COMPANY_MOVE_FILE":var c=e.companyFolders.items;if(c[t.data.folder_id]?c[t.data.folder_id].files.push(t.data.file_id):c[t.data.folder_id]={init:!1,skip:0,limit:100,files:[t.data.file_id]},t.data.original_folder_id&&c[t.data.original_folder_id]){var o=c[t.data.original_folder_id].files.indexOf(t.data.folder_id);o>-1&&c[t.data.original_folder_id].files.splice(o,1)}return Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{items:Object(p.a)(Object(p.a)({},e.companyFiles.items),"undefined"!==typeof e.companyFiles.items[t.data.file_id]&&Object(m.a)({},t.data.file_id,Object(p.a)(Object(p.a)({},e.companyFiles.items[t.data.file_id]),{},{folder_id:t.data.folder_id})))}),companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{items:c})});case"COMPANY_FILE_UPDATE":case"INCOMING_COMPANY_UPDATED_FILE":var s=e.companyFiles.items;return s[t.data.file.id]&&(s[t.data.file.id]=t.data.file),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{items:s})});case"INCOMING_COMPANY_RESTORE_FOLDER":var l=e.companyFolders.items;t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof l[e]&&(l[e].is_archived=!1)}));var d=e.companyFiles.trash_files.items,u=e.companyFiles.items,f=0,h=0,_=0;return t.data.connected_file_ids.forEach((function(e){"undefined"!==typeof d[e]&&(f+=1,h+=d[e].is_favorite?1:0,_+=d[e].size,u[e]=d[e],delete d[e])})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{count:Object(p.a)(Object(p.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all+f,stars:e.companyFiles.count.stars+h,trash:e.companyFiles.count.trash-f,storage:e.companyFiles.count.storage+_}),items:Object(p.a)(Object(p.a)({},e.companyFiles.items),{},{items:u}),trash_files:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files),{},{items:d})}),companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{items:l})});case"INCOMING_COMPANY_RESTORE_FILE":var O=e.companyFiles.trash_files.items;return"undefined"===typeof O[t.data.file.id]?e:(delete O[t.data.file.id],Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{count:Object(p.a)(Object(p.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all+1,stars:t.data.file.is_favorite?e.companyFiles.count.stars+1:e.companyFiles.count.stars,trash:e.companyFiles.count.trash-1,storage:e.companyFiles.count.storage+t.data.file.size}),items:Object(p.a)(Object(p.a)({},e.companyFiles.items),{},Object(m.a)({},t.data.file.id,t.data.file)),trash_files:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files),{},{items:O})})}));case"INCOMING_REMOVED_COMPANY_FILE":var E=e.companyFiles.items;if("undefined"===typeof E[t.data.file_id])return"undefined"!==typeof e.companyFiles.trash_files.items[t.data.file_id]?(delete(E=e.companyFiles.trash_files.items)[t.data.file_id],Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{count:Object(p.a)(Object(p.a)({},e.companyFiles.count),{},{trash:e.companyFiles.count.trash-1}),trash_files:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files),{},{items:E})})})):e;var g=E[t.data.file_id];return delete E[t.data.file_id],Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{count:Object(p.a)(Object(p.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all-1,stars:g.is_favorite?e.companyFiles.count.stars-1:e.companyFiles.count.stars,trash:e.companyFiles.count.trash+1,storage:e.companyFiles.count.storage-g.size}),items:E,favorite_files:Object(p.a)(Object(p.a)({},e.companyFiles.favorite_files),{},{items:e.companyFiles.favorite_files.items.filter((function(e){return e!==g.id}))}),popular_files:Object(p.a)(Object(p.a)({},e.companyFiles.popular_files),{},{items:e.companyFiles.popular_files.items.filter((function(e){return e!==g.id}))}),recently_edited:Object(p.a)(Object(p.a)({},e.companyFiles.recently_edited),{},{items:e.companyFiles.recently_edited.items.filter((function(e){return e!==g.id}))}),trash_files:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files),{},{items:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files.items),{},Object(m.a)({},t.data.file_id,g))})})});case"INCOMING_COMPANY_EMPTY_TRASH":var A=e.companyFiles.items,v=e.companyFiles.trash_files.items,j=0,C=0,T=0,S=0;t.data.deleted_file_ids.forEach((function(e){A[e]&&(j+=1,C+=A[e].size,A[e].is_favorite&&(T+=1),delete A[e]),v[e]&&(S+=1,delete v[e])}));var w=e.companyFolders.items;return t.data.deleted_folder_ids.forEach((function(e){w[e]&&delete w[e]})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{count:Object(p.a)(Object(p.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all-j,stars:e.companyFiles.count.stars-T,trash:e.companyFiles.count.trash-S,storage:e.companyFiles.count.trash-C}),items:A,trash_files:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files),{},{items:v})}),companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{items:w})});case"ADD_COMPANY_FILE_SEARCH_RESULTS":return Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{items:Object(p.a)(Object(p.a)({},e.companyFiles.items),Object(b.a)(t.data.search_results,"id")),search_results:t.data.search_results.map((function(e){return e.id})),search_value:t.data.search})});case"UPLOAD_COMPANY_FILES_REDUCER":var k=e.companyFolders,N=e.companyFiles.items;return t.data.files.forEach((function(e){N[e.id]=e,t.data.folder_id&&"undefined"!==typeof k.items[t.data.folder_id]&&!k.items[t.data.folder_id].files.includes(e.id)&&k.items[t.data.folder_id].files.push(e.id)})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{items:N}),companyFolders:k});case"INCOMING_COMPANY_FILES":var R=e.companyFolders,x=e.companyFiles,I=Object.values(x.items).filter((function(e){return e.uploading}));return t.data.files.forEach((function(e){var t=I.find((function(t){return t.size===e.size&&t.search===e.search}));if(t&&"undefined"!==typeof x.items[t.id]&&(delete x.items[t.id],e.folder_id)){var n=R.items[e.folder_id].files.findIndex((function(e){return e===t.id}));-1!==n&&R.items[e.folder_id].files.splice(n,1)}x.items[e.id]=e,x.count.all+=1,x.count.storage+=e.size,x.count.stars+=e.is_favorite?1:0,"undefined"===typeof R.items[e.folder_id]||R.items[e.folder_id].files.includes(e.id)||R.items[e.folder_id].files.push(e.id)})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:x,companyFolders:R});case"GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_SUCCESS":var P=e.companyFolders.items;return t.data.attachments.forEach((function(e){P[e.id]={id:e.id,is_archived:!1,parent_folder:null,search:e.payload.name,payload:e.payload,created_at:{timestamp:e.payload.lastEditedUtc},updated_at:{timestamp:e.payload.lastEditedUtc},link_type:e.link_type,link_id:e.link_index_id,attachment_type:e.attachment_type,files:[],subFolders:[]}})),Object(p.a)(Object(p.a)({},e),{},{companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{google_folders:Object(p.a)(Object(p.a)({},e.companyFolders.google_folders),{},{init:!0,skip:e.companyFolders.google_folders.skip+e.companyFolders.google_folders.limit,has_more:t.data.attachments.length===e.companyFolders.google_folders.limit}),items:P})});case"GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_SUCCESS":var D=Object(p.a)({},e.companyFiles),L=e.companyFiles.google_files.items,F=t.data.attachments.map((function(e){return L.includes(e.id)||L.push(e.id),{created_at:{timestamp:e.payload.lastEditedUtc},download_link:e.payload.embedUrl,folder_id:null,id:e.id,payload_id:e.payload.id,is_favorite:!1,link_id:t.data.topic_id,link_index_id:0,link_type:"TOPIC",mime_type:e.payload.mimeType,search:e.payload.name,size:e.payload.sizeBytes,type:e.payload.type,attachment_type:e.attachment_type}}));return D.items=Object(p.a)(Object(p.a)({},D.items),Object(b.a)(F,"id")),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},D),{},{google_files:{init:!0,skip:e.companyFiles.google_files.skip+e.companyFiles.google_files.limit,has_more:F.length===e.companyFiles.google_files.limit,items:L}})});case"GET_COMPANY_FILES_SUCCESS":var M=e.companyFiles,U=e.companyFolders.items;return t.data.files.forEach((function(e){M.items[e.id],M.items[e.id]=e,e.folder_id&&U[e.folder_id]&&(U[e.folder_id].files.includes(e.id)||U[e.folder_id].files.push(e.id))})),t.data.folder_id&&"undefined"!==typeof U[t.data.folder_id]&&(U[t.data.folder_id]=Object(p.a)(Object(p.a)({},U[t.data.folder_id]),{},{init:!1,has_more:t.data.files.length===U[t.data.folder_id].limit,skip:U[t.data.folder_id].skip+U[t.data.folder_id].limit})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)(Object(p.a)({},e.companyFiles),M),{},{init:!0,skip:e.companyFiles.skip+e.companyFiles.limit,has_more:t.data.files.length===e.companyFiles.limit}),companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{items:U})});case"GET_COMPANY_FOLDERS_SUCCESS":var G=e.companyFolders.items;return t.data.folders.forEach((function(e){G[e.id]=Object(p.a)(Object(p.a)({},e),{},{init:!1,has_more:!0,skip:0,limit:100,files:[],subFolders:[]}),e.parent_folder&&"undefined"!==typeof G[e.parent_folder.id]&&(G[e.parent_folder.id].subFolders.some((function(t){return t.id===e.id}))||G[e.parent_folder.id].subFolders.push(e))})),Object(p.a)(Object(p.a)({},e),{},{companyFolders:Object(p.a)(Object(p.a)({},e.companyFolders),{},{init:!0,skip:e.companyFolders.skip+e.companyFolders.limit,has_more:t.data.folders.length===e.companyFolders.limit,items:G})});case"GET_COMPANY_FILES_DETAIL_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{count:{all:t.data.total_file_count,storage:t.data.total_storage,stars:t.data.total_file_stars,trash:t.data.total_file_trash}})});case"GET_COMPANY_FAVORITE_FILES_SUCCESS":var H=e.companyFiles.items;t.data.files.forEach((function(e){H[e.id]=e}));var B=e.companyFiles.favorite_files.items;return t.data.files.forEach((function(e){B.includes(e.id)||B.push(e.id)})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{items:H,favorite_files:Object(p.a)(Object(p.a)({},e.companyFiles.favorite_files),{},{has_more:t.data.files.length===e.companyFiles.favorite_files.limit,skip:e.companyFiles.favorite_files.skip+e.companyFiles.favorite_files.limit,items:B})})});case"GET_COMPANY_POPULAR_FILES_SUCCESS":var W=e.companyFiles.items;t.data.files.forEach((function(e){W[e.id]=e}));var Y=e.companyFiles.popular_files.items;return t.data.files.forEach((function(e){Y.includes(e.id)||Y.push(e.id)})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{items:W,popular_files:Object(p.a)(Object(p.a)({},e.companyFiles.popular_files),{},{has_more:t.data.files.length===e.companyFiles.popular_files.limit,skip:e.companyFiles.popular_files.skip+e.companyFiles.popular_files.limit,items:Y})})});case"GET_COMPANY_RECENT_EDITED_FILES_SUCCESS":var z=e.companyFiles.items;t.data.files.forEach((function(e){z[e.id]=e}));var V=e.companyFiles.recently_edited.items;return t.data.files.forEach((function(e){V.includes(e.id)||V.push(e.id)})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{items:z,recently_edited:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files),{},{has_more:t.data.files.length===e.companyFiles.recently_edited.limit,skip:e.companyFiles.recently_edited.skip+e.companyFiles.recently_edited.limit,items:V})})});case"GET_COMPANY_TRASHED_FILES_SUCCESS":var Q=e.companyFiles.trash_files.items;return t.data.files.forEach((function(e){Q[e.id]=e})),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{trash_files:Object(p.a)(Object(p.a)({},e.companyFiles.trash_files),{},{has_more:t.data.files.length===e.companyFiles.trash_files.limit,skip:e.companyFiles.trash_files.skip+e.companyFiles.trash_files.limit,items:Q})})});case"GET_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{files:Object(b.a)(t.data.files,"id")});case"GET_CHANNEL_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{channelFiles:Object(p.a)(Object(p.a)({},e.channelFiles),{},Object(m.a)({},t.data.channel_id,Object(a.a)("undefined"===typeof e.channelFiles[t.data.channel_id]?Object.values(t.data.results).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})):Object.values(t.data.results).filter((function(n){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===n.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})))))});case"INCOMING_CHAT_MESSAGE":return Object(p.a)(Object(p.a)({},e),t.data.files.length&&"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(p.a)(Object(p.a)({},e.channelFiles),{},Object(m.a)({},t.data.channel_id,[].concat(Object(a.a)(e.channelFiles[t.data.channel_id]),Object(a.a)(t.data.files.filter((function(n){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===n.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"ADD_CHANNEL_FILES":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(p.a)(Object(p.a)({},e.channelFiles),{},Object(m.a)({},t.data.channel_id,[].concat(Object(a.a)(e.channelFiles[t.data.channel_id]),Object(a.a)(t.data.files.filter((function(n){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===n.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"GET_CHAT_MESSAGES_SUCCESS":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(p.a)(Object(p.a)({},e.channelFiles),{},Object(m.a)({},t.data.channel_id,[].concat(Object(a.a)(e.channelFiles[t.data.channel_id]),Object(a.a)(t.data.results.map((function(e){return e.files})).reduce((function(e,t){return[].concat(Object(a.a)(e),Object(a.a)(t))}),[]).filter((function(n){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===n.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"INCOMING_DELETED_CHAT_MESSAGE":case"DELETE_CHANNEL_FILES":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(p.a)(Object(p.a)({},e.channelFiles),{},Object(m.a)({},t.data.channel_id,e.channelFiles[t.data.channel_id].filter((function(e){return!t.data.file_ids.includes(e.file_id)}))))});case"SET_VIEW_FILES":return Object(p.a)(Object(p.a)({},e),{},{viewFiles:t.data,channelFiles:Object(p.a)(Object(p.a)({},e.channelFiles),null!==t.data&&"undefined"!==typeof t.data.channel_id&&"undefined"!==typeof t.data.files&&Object(m.a)({},t.data.channel_id,"undefined"===typeof e.channelFiles[t.data.channel_id]?t.data.files:[].concat(Object(a.a)(e.channelFiles[t.data.channel_id].filter((function(e){return!t.data.files.some((function(t){return t.id===e.id}))}))),Object(a.a)(t.data.files))))});case"PREPARE_WORKSPACE_FILES_UPLOAD":return Object(p.a)(Object(p.a)({},e),{},{pendingWorkspaceFilesUpload:Object(p.a)(Object(p.a)({},e.pendingWorkspaceFilesUpload),{},Object(m.a)({},t.data.workspace_id,t.data))});case"PROCESS_WORKSPACE_FILES_UPLOAD":var q=e.pendingWorkspaceFilesUpload;return delete e.pendingWorkspaceFilesUpload[t.data.workspace_id],Object(p.a)(Object(p.a)({},e),{},{pendingWorkspaceFilesUpload:q,progressWorkspaceFilesUpload:Object(p.a)(Object(p.a)({},e.progressWorkspaceFilesUpload),{},Object(m.a)({},t.data.workspace_id,t.data))});case"UPLOADING_WORKSPACE_FILES_SUCCESS":var K=e.progressWorkspaceFilesUpload;return delete e.progressWorkspaceFilesUpload[t.data.workspace_id],Object(p.a)(Object(p.a)({},e),{},{progressWorkspaceFilesUpload:K});case"ADD_PRIMARY_FILES":var J=Object(p.a)({},e.workspaceFiles);return J=J.hasOwnProperty(t.data.id)?Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},J[t.data.id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),J[t.data.id].files)})):Object(p.a)(Object(p.a)({},J),{},Object(m.a)({},t.data.id,{files:Object(b.a)(t.data.files,"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],team_chat:[],client_chat:[],private_post:[],client_post:[],trash_files:{},search_results:[],search_value:""})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:J});case"ADD_TO_WORKSPACE_POSTS":if(t.data.files.length){var Z=Object(p.a)({},e.workspaceFiles);return Z=Z.hasOwnProperty(t.data.topic_id)?Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},Z[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),Z[t.data.topic_id].files)})):Object(p.a)(Object(p.a)({},Z),{},Object(m.a)({},t.data.topic_id,{files:Object(b.a)(t.data.files,"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],team_chat:[],client_chat:[],private_post:[],client_post:[],trash_files:{},search_results:[],search_value:""})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Z})}return e;case"GET_WORKSPACE_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(m.a)({},t.data.topic_id,Object(p.a)({},"undefined"===typeof e.workspaceFiles[t.data.topic_id]?{files:Object(b.a)(t.data.files,"id"),folders:Object(p.a)({},t.data.folder_id&&Object(m.a)({},t.data.folder_id,{loaded:!0,files:t.data.files.filter((function(e){return e.folder_id===t.data.folder_id})).map((function(e){return e.id}))})),storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],team_chat:[],client_chat:[],private_post:[],client_post:[],trash_files:{},search_results:[],search_value:"",loaded:!0}:Object(p.a)(Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id]),t.data.folder_id&&e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id]&&{folders:Object(m.a)({},t.data.folder_id,Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id]),{},{loaded:!0,files:Object(a.a)(new Set([].concat(Object(a.a)(e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id].files),Object(a.a)(t.data.files.filter((function(e){return e.folder_id===t.data.folder_id})).map((function(e){return e.id}))))))}))}),{},{loaded:!0,files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files)})))});case"GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_SUCCESS":var X=Object(p.a)({},e.workspaceFiles);if(X.hasOwnProperty(t.data.topic_id)){var $=t.data.attachments.map((function(e){return{created_at:{timestamp:e.payload.lastEditedUtc},download_link:e.payload.embedUrl,folder_id:null,id:e.id,payload_id:e.payload.id,is_favorite:!1,link_id:t.data.topic_id,link_index_id:0,link_type:"TOPIC",mime_type:e.payload.mimeType,search:e.payload.name,size:e.payload.sizeBytes,type:e.payload.type,attachment_type:e.attachment_type}}));X[t.data.topic_id].files=Object(p.a)(Object(p.a)({},X[t.data.topic_id].files),Object(b.a)($,"id"))}return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:X});case"GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_SUCCESS":var ee=Object(p.a)({},e.workspaceFiles);return ee.hasOwnProperty(t.data.topic_id)&&ee[t.data.topic_id].hasOwnProperty("folders")&&t.data.attachments.map((function(e){ee[e.link_id].folders[e.id]={id:e.id,is_archived:!1,parent_folder:null,search:e.payload.name,payload:e.payload,created_at:{timestamp:e.payload.lastEditedUtc},updated_at:{timestamp:e.payload.lastEditedUtc},files:[],link_type:e.link_type,link_id:e.link_index_id,attachment_type:e.attachment_type}})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:ee});case"INCOMING_GOOGLE_FILE":var te=Object(p.a)({},e.workspaceFiles),ne=Object(p.a)({},e.companyFiles);return"TOPIC"===t.data.link_type&&te.hasOwnProperty(t.data.link_id)&&te[t.data.link_id].hasOwnProperty("folders")&&(te[t.data.link_id].files[t.data.id]={created_at:t.data.created_at,user_id:t.data.user_id,folder_id:null,download_link:t.data.payload.embedUrl,id:t.data.id,payload_id:t.data.payload.id,is_favorite:!1,link_id:parseInt(t.data.link_id),link_index_id:0,link_type:"TOPIC",mime_type:t.data.payload.mimeType,search:t.data.payload.name,size:t.data.payload.sizeBytes,type:t.data.payload.type,payload:t.data.payload}),"COMPANY_DRIVE"===t.data.link_type&&(ne.google_files.items.includes(t.data.id)||ne.google_files.items.push(t.data.id),"undefined"===typeof ne.items[t.data.id]&&(ne.items=Object(p.a)(Object(p.a)({},ne.items),{},Object(m.a)({},t.data.id,{id:t.data.id,created_at:t.data.created_at,download_link:t.data.payload.embedUrl,folder_id:null,payload_id:t.data.payload.id,is_favorite:!1,link_id:parseInt(t.data.link_id),link_index_id:0,link_type:t.data.link_type,mime_type:t.data.payload.mimeType,search:t.data.payload.name,size:t.data.payload.sizeBytes,type:t.data.payload.type,attachment_type:t.data.attachment_type,payload:t.data.payload})))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:te,companyFiles:ne});case"INCOMING_GOOGLE_FOLDER":var ae=Object(p.a)({},e.workspaceFiles);return ae.hasOwnProperty(t.data.link_id)&&ae[t.data.link_id].hasOwnProperty("folders")&&(ae[t.data.link_id].folders[t.data.id]={id:t.data.id,is_archived:!1,parent_folder:null,search:t.data.payload.name,payload:t.data.payload,created_at:t.data.created_at,updated_at:t.data.updated_at,files:[]}),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:ae});case"GET_WORKSPACE_FILE_DETAILS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id]?e.workspaceFiles[t.data.topic_id]:{}),{},{storage:t.data.total_storage,count:t.data.total_file_count,stars:t.data.total_file_stars,trash:t.data.total_file_trash}))});case"GET_WORKSPACE_TRASH_FILES_SUCCESS":var re=Object(p.a)({},e.workspaceFiles);return re=re.hasOwnProperty(t.data.topic_id)?Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},re[t.data.topic_id]),{},{trash_files:Object(b.a)(t.data.files,"id")})):Object(p.a)(Object(p.a)({},re),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},re[t.data.topic_id]),{},{trash_files:Object(b.a)(t.data.files,"id")}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:re});case"GET_WORKSPACE_FAVORITE_FILES_SUCCESS":var ie=Object(p.a)({},e.workspaceFiles);return ie=ie.hasOwnProperty(t.data.topic_id)?Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},ie[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),ie[t.data.topic_id].files),favorite_files:t.data.files.map((function(e){return e.id}))})):Object(p.a)(Object(p.a)({},ie),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},ie[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),ie[t.data.topic_id].files),favorite_files:t.data.files.map((function(e){return e.id}))}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:ie});case"GET_WORKSPACE_POPULAR_FILES_SUCCESS":var ce=Object(p.a)({},e.workspaceFiles);return ce=ce.hasOwnProperty(t.data.topic_id)?Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},ce[t.data.topic_id]),{},{popular_files:t.data.files.map((function(e){return e.id}))})):Object(p.a)(Object(p.a)({},ce),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},ce[t.data.topic_id]),{},{popular_files:t.data.files.map((function(e){return e.id}))}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:ce});case"GET_WORKSPACE_RECENT_EDIT_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(m.a)({},t.data.topic_id,Object(p.a)({},"undefined"===typeof e.workspaceFiles[t.data.topic_id]?{recently_edited:Object(a.a)(new Set(t.data.files.map((function(e){return e.id}))))}:Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id]),{},{recently_edited:Object(a.a)(new Set(e.workspaceFiles[t.data.topic_id].recently_edited.concat(t.data.files.map((function(e){return e.id})))))})))});case"GET_WORKSPACE_FOLDER_SUCCESS":var oe=Object(p.a)({},e.workspaceFiles),se=t.data.folders.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{files:[]})}));return oe=oe.hasOwnProperty(t.data.topic_id)?Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},oe[t.data.topic_id]),{},{folders:Object(p.a)(Object(p.a)({},Object(b.a)(se,"id")),oe[t.data.topic_id].folders)})):Object(p.a)(Object(p.a)({},oe),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},oe[t.data.topic_id]),{},{folders:Object(b.a)(se,"id")}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:oe});case"INCOMING_FOLDER":var le=Object(p.a)({},e.workspaceFiles);return le.hasOwnProperty(t.data.topic_id)&&le[t.data.topic_id].hasOwnProperty("folders")?(le=Object(p.a)(Object(p.a)({},le),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},le[t.data.topic_id]),{},{folders:Object(p.a)(Object(p.a)({},le[t.data.topic_id].folders),{},Object(m.a)({},t.data.folder.id,Object(p.a)(Object(p.a)({},t.data.folder),{},{loaded:!0,files:[]})))}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:le})):e;case"INCOMING_DELETED_FOLDER":if("undefined"===typeof e.workspaceFiles[t.data.topic_id])return e;var de=Object(p.a)({},e.workspaceFiles);return t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof de[t.data.topic_id].folders[e]&&(de[t.data.topic_id].folders[e].is_archived=!0)})),t.data.connected_file_ids.forEach((function(e){if("undefined"!==typeof de[t.data.topic_id].files[e]){if(de[t.data.topic_id].trash_files[e]=de[t.data.topic_id].files[e],de[t.data.topic_id].count-=1,de[t.data.topic_id].trash+=1,de[t.data.topic_id].files[e].is_favorite){de[t.data.topic_id].stars-=1;var n=de[t.data.topic_id].favorite_files.indexOf(e);-1!==n&&de[t.data.topic_id].favorite_files.splice(n,1)}delete de[t.data.topic_id].files[e]}})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:de});case"INCOMING_REMOVED_FOLDER":var ue=Object(p.a)({},e.workspaceFiles);return ue.hasOwnProperty(t.data.topic_id)&&ue[t.data.topic_id].hasOwnProperty("folders")?(delete ue[t.data.topic_id].folders[t.data.folder.id],Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:ue})):e;case"INCOMING_FILE":var me=Object(p.a)({},e.workspaceFiles);return me.hasOwnProperty(t.data.topic_id)?(me=Object(p.a)(Object(p.a)({},me),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},me[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},me[t.data.topic_id].files),{},Object(m.a)({},t.data.file.id,t.data.file))}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:me})):e;case"INCOMING_FILES":var pe=Object(p.a)({},e.workspaceFiles);if(pe.hasOwnProperty(t.data.topic_id)){var fe=function(e,t){return e+t};return pe[t.data.topic_id].hasOwnProperty("folders")&&t.data.folder_id&&pe[t.data.topic_id].folders.hasOwnProperty(t.data.folder_id)&&(pe[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object(a.a)(pe[t.data.topic_id].folders[t.data.folder_id].files),Object(a.a)(t.data.files.map((function(e){return e.id}))))),pe[t.data.topic_id].files=Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),pe[t.data.topic_id].files),Object.values(pe[t.data.topic_id].files).map((function(e){"string"===typeof e.id&&t.data.files.forEach((function(n){n.size===e.size&&n.search===e.search&&delete pe[t.data.topic_id].files[e.id]}))})),pe[t.data.topic_id].count=Object.keys(pe[t.data.topic_id].files).length,pe[t.data.topic_id].storage=Object.values(pe[t.data.topic_id].files).filter((function(e){return"number"===typeof e.size})).map((function(e){return e.size})).reduce(fe),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:pe})}return e;case"UPLOAD_FILES_REDUCER":var be=Object(p.a)({},e.workspaceFiles);return be.hasOwnProperty(t.data.topic_id)?(be[t.data.topic_id].hasOwnProperty("folders")&&t.data.folder_id&&(be[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object(a.a)(be[t.data.topic_id].folders[t.data.folder_id].files),Object(a.a)(t.data.files.map((function(e){return e.id}))))),be[t.data.topic_id].files=Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),be[t.data.topic_id].files),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:be})):e;case"ADD_FILE_SEARCH_RESULTS":var he=Object(p.a)({},e.workspaceFiles);return he.hasOwnProperty(t.data.topic_id)&&(he=Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},he[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.search_results,"id")),he[t.data.topic_id].files),search_results:t.data.search_results.map((function(e){return e.id})),search_value:t.data.search}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:he});case"CLEAR_FILE_SEARCH_RESULTS":var _e=Object(p.a)({},e.workspaceFiles);return _e.hasOwnProperty(t.data.topic_id)&&(_e=Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},_e[t.data.topic_id]),{},{search_results:[],search_value:""}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:_e});case"INCOMING_DELETED_FILE":if("undefined"===typeof e.workspaceFiles[t.data.topic_id]||"undefined"===typeof e.workspaceFiles[t.data.topic_id].files[t.data.file_id])return e;var Oe=e.workspaceFiles[t.data.topic_id],Ee=Oe.files[t.data.file_id];if(Oe.storage-=Ee.size,Oe.count-=1,Oe.trash+=1,Oe.trash_files[t.data.file_id]=Ee,Oe.recently_edited.filter((function(e){return e!==Ee.id})),Ee.folder_id&&Oe.folders[Ee.folder_id]){var ge=Oe.folders[Ee.folder_id].files.findIndex((function(e){return e.id===Ee.id}));-1!==ge&&Oe.folders[Ee.folder_id].files.splice(ge,1)}return delete Oe.files[Ee.id],Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),{},Object(m.a)({},t.data.topic_id,Oe))});case"INCOMING_DELETED_FILES":var Ae=Object(p.a)({},e.workspaceFiles);if(Ae.hasOwnProperty(t.data.topic_id)){Ae[t.data.topic_id].count=Ae[t.data.topic_id].count-t.data.deleted_file_ids.length,Ae[t.data.topic_id].trash=Ae[t.data.topic_id].trash+t.data.deleted_file_ids.length;var ve=Object.values(Ae[t.data.topic_id].files).filter((function(e){return t.data.deleted_file_ids.some((function(t){return t===e.id}))}));return Ae[t.data.topic_id].trash_files=Object(p.a)(Object(p.a)({},Object(b.a)(ve,"id")),Ae[t.data.topic_id].trash_files),t.data.deleted_file_ids.map((function(e){delete Ae[t.data.topic_id].files[e]})),Ae[t.data.topic_id].hasOwnProperty("folders")?(Object.values(Ae[t.data.topic_id].folders).forEach((function(e){e.hasOwnProperty("files")&&Ae[t.data.topic_id].folders[e.id].files.length&&(Ae[t.data.topic_id].folders[e.id].files=Ae[t.data.topic_id].folders[e.id].files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e}))})))})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Ae})):Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Ae})}return e;case"INCOMING_REMOVED_FILE":var je=Object(p.a)({},e.workspaceFiles);return"undefined"===typeof je[t.data.topic_id]?e:(delete je[t.data.topic_id].trash_files[t.data.file_id],je[t.data.topic_id].trash-=1,Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:je}));case"ADD_REMOVE_FAVORITE":if(t.data.topic_id){var Ce=Object(p.a)({},e.workspaceFiles);return Ce[t.data.topic_id].files[t.data.file_id].is_favorite=t.data.is_favorite,Ce=Object(p.a)(Object(p.a)({},Ce),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},Ce[t.data.topic_id]),{},{stars:t.data.is_favorite?Ce[t.data.topic_id].stars+1:Ce[t.data.topic_id].stars-1,favorite_files:t.data.is_favorite?[].concat(Object(a.a)(Ce[t.data.topic_id].favorite_files),[t.data.file_id]):Ce[t.data.topic_id].favorite_files.filter((function(e){return e!==t.data.file_id}))}))),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Ce})}var Te=Object(p.a)({},e.companyFiles.items);return Te[t.data.file_id]&&(Te[t.data.file_id].is_favorite=t.data.is_favorite),Object(p.a)(Object(p.a)({},e),{},{companyFiles:Object(p.a)(Object(p.a)({},e.companyFiles),{},{count:Object(p.a)(Object(p.a)({},e.companyFiles.count),{},{stars:t.data.is_favorite?e.companyFiles.count.stars+1:e.companyFiles.count.stars-1}),items:Te,favorite_files:Object(p.a)(Object(p.a)({},e.companyFiles.favorite_files),{},{items:t.data.is_favorite?[].concat(Object(a.a)(e.companyFiles.favorite_files.items),[t.data.file_id]):e.companyFiles.favorite_files.items.filter((function(e){return e!==t.data.file_id}))})})});case"INCOMING_RESTORE_FOLDER":if("undefined"===typeof e.workspaceFiles[t.data.topic_id])return e;var ye=e.workspaceFiles[t.data.topic_id];return t.data.connected_folder_ids.forEach((function(e){ye.folders[e].is_archived=!1})),t.data.connected_file_ids.forEach((function(e){ye.trash_files[e]&&(ye.files[e]=ye.trash_files[e],ye.count+=1,ye.trash-=1,ye.storage+=ye.trash_files[e].size,ye.trash_files[e].is_favorite&&!ye.favorite_files.includes(e)&&(ye.stars+=1,ye.favorite_files.push(e)),delete ye.trash_files[e])})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),{},Object(m.a)({},t.data.topic_id,ye))});case"INCOMING_RESTORE_FILE":if("undefined"===typeof e.workspaceFiles[t.data.topic.id])return e;var Se=e.workspaceFiles[t.data.topic.id];return Se.trash_files[t.data.file.id]&&(Se.files[t.data.file.id]=t.data.file,delete Se.trash_files[t.data.file.id]),t.data.folder&&Se.folders[t.data.folder.id]&&!Se.folders[t.data.folder.id].files.includes(t.data.file.id)&&Se.folders[t.data.folder.id].files.push(t.data.file.id),t.data.file.is_favorite&&!Se.favorite_files.includes(t.data.file.id)&&(Se.favorite_files.push(t.data.file.id),Se.stars+=1),Se.trash-=1,Se.count+=1,Se.storage+=t.data.file.size,Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),{},Object(m.a)({},t.data.topic.id,Se))});case"INCOMING_MOVED_FILE":var we=Object(p.a)({},e.workspaceFiles);return we.hasOwnProperty(t.data.topic_id)?(we[t.data.topic_id].files[t.data.file_id].folder_id=t.data.folder_id,we[t.data.topic_id].folders.hasOwnProperty(t.data.original_folder_id)&&we[t.data.topic_id].folders[t.data.original_folder_id].hasOwnProperty("files")&&(we[t.data.topic_id].folders[t.data.original_folder_id].files=we[t.data.topic_id].folders[t.data.original_folder_id].files.filter((function(e){return e!==t.data.file_id}))),we[t.data.topic_id].folders.hasOwnProperty(t.data.folder_id)&&we[t.data.topic_id].folders[t.data.folder_id].hasOwnProperty("loaded")?(we[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object(a.a)(we[t.data.topic_id].folders[t.data.folder_id].files),[t.data.file_id]),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:we})):Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:we})):e;case"INCOMING_EMPTY_TRASH":var ke=Object(p.a)({},e.workspaceFiles);if(ke.hasOwnProperty(t.data.topic_id)&&ke[t.data.topic_id].hasOwnProperty("trash_files")){var Ne=function(e,t){return e+t},Re=0;return t.data.deleted_file_ids.length&&(Re=Object.values(e.workspaceFiles[t.data.topic_id].trash_files).filter((function(e){return"undefined"!==typeof e})).filter((function(e){return t.data.deleted_file_ids.some((function(t){return t===e.id}))})).map((function(e){return e.size})).reduce(Ne)),ke[t.data.topic_id].trash_files={},ke[t.data.topic_id].trash=0,ke[t.data.topic_id].storage=ke[t.data.topic_id].storage-Re,Object.values(ke[t.data.topic_id].folders).forEach((function(e){e.is_archived&&delete ke[t.data.topic_id].folders[e.id]})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:ke})}return e;case"FETCH_TIMELINE_SUCCESS":var xe=Object(p.a)({},e.workspaceFiles);return xe.hasOwnProperty(t.data.topic_id)?xe[t.data.topic_id].files=Object(p.a)(Object(p.a)({},Object(b.a)(t.data.timeline.filter((function(e){return"DOCUMENT"===e.tag})).map((function(e){return e.item})),"id")),xe[t.data.topic_id].files):xe=Object(p.a)(Object(p.a)({},xe),{},Object(m.a)({},t.data.topic_id,{files:Object(b.a)(t.data.timeline.filter((function(e){return"DOCUMENT"===e.tag})).map((function(e){return e.item})),"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],trash_files:{},search_results:[],search_value:""})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:xe});case"INCOMING_COMMENT":var Ie=Object(p.a)({},e.workspaceFiles);return t.data.workspaces.length&&t.data.files.length?((1===t.data.files[0].shared_with_client||"internal"===e.user.type&&0===t.data.files[0].shared_with_client)&&t.data.workspaces.forEach((function(e){Ie.hasOwnProperty(e.topic_id)&&(Ie[e.topic_id].files=Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),Ie[e.topic_id].files))})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Ie})):e;case"INCOMING_POST":var Pe=Object(p.a)({},e.workspaceFiles);return t.data.files.length?(t.data.recipient_ids.forEach((function(e){Pe.hasOwnProperty(e)&&(Pe[e].files=Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),Pe[e].files))})),Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Pe})):e;case"INCOMING_DELETED_POST_FILE":var De=Object(p.a)({},e.workspaceFiles);return t.data.connected_workspace.length&&Object.keys(De).length?(t.data.connected_workspace.forEach((function(e){De.hasOwnProperty(e.topic_id)&&De[e.topic_id].hasOwnProperty("files")&&delete De[e.topic_id].files[t.data.file_id]})),e):e;case"ADD_GOOGLE_DRIVE_FILE":return Object(p.a)(Object(p.a)({},e),{},{googleDriveApiFiles:Object(p.a)(Object(p.a)({},e.googleDriveApiFiles),{},Object(m.a)({},t.data.file_id,t.data.metadata))});case"INCOMING_DELETED_GOOGLE_FILE":var Le=Object(p.a)({},e.workspaceFiles),Fe=Object(p.a)({},e.companyFiles);if(t.data.data_type){var Me={id:t.data.data_type.topic.id,name:t.data.data_type.topic.name,folder_id:t.data.data_type.workspace?t.data.data_type.workspace.id:null,folder_name:t.data.data_type.workspace?t.data.data_type.workspace.name:null};Le.hasOwnProperty(Me.id)&&(Le[Me.id].files.hasOwnProperty(t.data.attachment_id)?delete Le[Me.id].files[t.data.attachment_id]:Le[Me.id].folders.hasOwnProperty(t.data.attachment_id)&&delete Le[Me.id].folders[t.data.attachment_id])}else{var Ue=Fe.google_files.items.findIndex((function(e){return e===t.data.attachment_id}));-1!==Ue&&Fe.google_files.items.splice(Ue,1),"undefined"!==typeof Fe.items[t.data.attachment_id]&&delete Fe.items[t.data.attachment_id]}return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Le,companyFiles:Fe});case"INCOMING_GIF_DATA":return Object(p.a)(Object(p.a)({},e),{},{gifBlobs:Object(p.a)(Object(p.a)({},e.gifBlobs),{},Object(m.a)({},t.data.id,t.data.src))});case"INCOMING_FILE_DATA":return Object(p.a)(Object(p.a)({},e),{},{fileBlobs:Object(p.a)(Object(p.a)({},e.fileBlobs),{},Object(m.a)({},t.data.id,t.data.src))});case"INCOMING_FILE_THUMBNAIL_DATA":return Object(p.a)(Object(p.a)({},e),{},{fileThumbnailBlobs:Object(p.a)(Object(p.a)({},e.fileThumbnailBlobs),{},Object(m.a)({},t.data.id,t.data.src))});case"GET_TEAM_CHAT_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),team_chat:[].concat(Object(a.a)(e.workspaceFiles[t.data.topic_id].team_chat),Object(a.a)(t.data.files.map((function(e){return e.id}))))})))});case"GET_CLIENT_CHAT_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),client_chat:[].concat(Object(a.a)(e.workspaceFiles[t.data.topic_id].client_chat),Object(a.a)(t.data.files.map((function(e){return e.id}))))})))});case"GET_CLIENT_POST_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),client_post:[].concat(Object(a.a)(e.workspaceFiles[t.data.topic_id].client_post),Object(a.a)(t.data.files.map((function(e){return e.id}))))})))});case"GET_PRIVATE_POST_FILES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(p.a)(Object(p.a)({},Object(b.a)(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),private_post:[].concat(Object(a.a)(e.workspaceFiles[t.data.topic_id].private_post),Object(a.a)(t.data.files.map((function(e){return e.id}))))})))});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(p.a)(Object(p.a)({},e),{},{workspaceFiles:Object(p.a)(Object(p.a)({},e.workspaceFiles),t.data.files.reduce((function(n,a){return e.workspaceFiles[a.topic_id]&&(n[a.topic_id]=Object(p.a)(Object(p.a)({},e.workspaceFiles[a.topic_id]),{},{files:Object(p.a)({},Object.values(e.workspaceFiles[a.topic_id].files).reduce((function(e,n){return t.data.files.some((function(e){return e.file_id===n.id}))||(e[n.id]=Object(p.a)({},n)),e}),{})),recently_edited:e.workspaceFiles[a.topic_id].recently_edited.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e}))})),favorite_files:e.workspaceFiles[a.topic_id].favorite_files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e}))})),popular_files:e.workspaceFiles[a.topic_id].popular_files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e}))}))})),n}),{}))});default:return e}},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BROWSER_TAB_STATUS":return Object(p.a)(Object(p.a)({},e),{},{isBrowserActive:t.data.status});case"GET_ALL_RECIPIENTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{recipients:t.data.recipients.filter((function(e){return"string"===typeof e.name||e.name instanceof String}))});case"SET_NAV_MODE":return Object(p.a)(Object(p.a)({},e),{},{navMode:t.data.mode});case"TOGGLE_LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:"undefined"!==typeof t.data?t.data:!e.isLoading});case"ADD_TO_MODALS":return Object(p.a)(Object(p.a)({},e),{},{modals:Object(p.a)(Object(p.a)({},e.modals),{},Object(m.a)({},t.data.type,t.data))});case"CLEAR_MODAL":var n=Object(p.a)({},e.modals);return delete n[t.data.type],Object(p.a)(Object(p.a)({},e),{},{modals:n});case"SAVE_INPUT_DATA":return Object(p.a)(Object(p.a)({},e),{},{dataFromInput:t.data});case"CLEAR_INPUT_DATA":return Object(p.a)(Object(p.a)({},e),{},{dataFromInput:null});case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{user:t.data,socketMounted:!0});case"GET_TRANSLATION_OBJECT_SUCCESS":return localStorage.setItem("i18n",JSON.stringify(t.data)),Object(p.a)(Object(p.a)({},e),{},{i18nLoaded:!0});case"GET_UNREAD_NOTIFICATION_COUNTER_SUCCESS":var r=e.unreadCounter;for(var i in t.data){var c=t.data[i];r=Object(p.a)(Object(p.a)({},r),{},Object(m.a)({},c.entity_type.toLowerCase(),c.count))}return Object(p.a)(Object(p.a)({},e),{},{unreadCounter:r});case"UPDATE_GENERAL_CHAT_NOTIFICATION":var o=t.data.entity_type?t.data.entity_type.toLowerCase():"";return Object(p.a)(Object(p.a)({},e),""!==o&&{unreadCounter:Object(p.a)(Object(p.a)({},e.unreadCounter),{},Object(m.a)({},o,e.unreadCounter[o]+t.data.count))});case"UPDATE_UNREAD_LIST_COUNTER":var s=e.unreadCounter;for(var l in t.data.result){var d=t.data.result[l];s=Object(p.a)(Object(p.a)({},s),{},Object(m.a)({},d.entity_type.toLowerCase(),d.count))}return Object(p.a)(Object(p.a)({},e),{},{unreadCounter:s});case"SEARCH_SUCCESS":var u=Object(p.a)({},e.tabs);if(t.data.hasOwnProperty("count_category")){var h=Object.keys(t.data.count_category);h.sort((function(e,t){return e.localeCompare(t)})).map((function(e){var n=t.data.result.filter((function(t){return t.type===e}));t.data.count_category[e]>0&&(u[e]={count:n.length,total_count:t.data.count_category[e],page:1,items:n,maxPage:Math.ceil(t.data.count_category[e]/10)})}))}else if(t.data.result.length){var _=t.data.result[0].type,O=t.data.result.filter((function(e){return e.type===_}));u[_].count=O.length+u[_].count,u[_].items=[].concat(Object(a.a)(u[_].items),Object(a.a)(t.data.result))}return Object(p.a)(Object(p.a)({},e),{},{searchResults:t.data.result.length?Object(p.a)(Object(p.a)({},e.searchResults),Object(b.a)(t.data.result,"id")):{},searchCount:t.data.hasOwnProperty("count_category")?t.data.total_result:e.searchCount,searching:!1,tabs:u});case"SAVE_SEARCH_INPUT":return Object(p.a)(Object(p.a)({},e),{},{searchValue:t.data.value,searchCount:0,searchResults:{},searching:""!==t.data.value,tabs:{}});case"UPDATE_TAB":return Object(p.a)(Object(p.a)({},e),{},{tabs:Object(p.a)(Object(p.a)({},e.tabs),{},Object(m.a)({},t.data.key,t.data))});case"GET_QUICK_LINKS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{links:t.data});case"GET_TO_DO_DETAIL_SUCCESS":var E=e.todos.items;return Object.values(E).forEach((function(e){"undefined"===typeof E[e.id].is_snooze&&(E[e.id].is_snooze=!1)})),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{is_snooze:t.data.is_snooze,items:E,count:t.data.reduce((function(e,t){return e[t.status.toLowerCase()]=t.count,e}),{})})});case"GET_WORKSPACE_REMINDERS_SUCCESS":var g=e.todos.items;return t.data.todos.forEach((function(e){switch(g[e.id]=e,e.link_type){case"CHAT":g[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?g[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):g[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?g[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):g[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code);break;default:return null}})),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{items:Object(p.a)(Object(p.a)({},g),e.todos.items)})});case"GET_TO_DO_SUCCESS":var A=e.todos.items;t.data.todos.forEach((function(e){switch(A[e.id]=e,e.link_type){case"CHAT":A[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?A[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):A[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?A[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):A[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code)}A[e.id].is_snooze=t.data.is_snooze}));var v=t.data.today_todos.map((function(e){return e.link_type?"CHAT"===e.link_type?Object(p.a)(Object(p.a)({},e),{},{link:"/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code)}):"POST"===e.link_type?Object(p.a)(Object(p.a)({},e),{},{link:e.data.workspaces.length?"/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):"/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"))}):"POST_COMMENT"===e.link_type?Object(p.a)(Object(p.a)({},e),{},{link:e.data.workspaces.length?"/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):"/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code)}):void 0:Object(p.a)(Object(p.a)({},e),{},{link:null})}));return Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{isLoaded:!0,hasMore:t.data.todos.length===e.todos.limit,skip:e.todos.skip+t.data.todos.length,items:A,doneRecently:v})});case"GET_DONE_TO_DO_SUCCESS":var j=e.todos.items;return t.data.todos.forEach((function(e){switch(j[e.id]=e,e.link_type){case"CHAT":j[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?j[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):j[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?j[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):j[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code);break;default:return}})),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{done:{limit:10,hasMore:t.data.todos.length===e.todos.done.limit,skip:e.todos.done.skip+t.data.todos.length}})});case"GET_OVERDUE_TO_DO_SUCCESS":var C=e.todos.items;return t.data.todos.forEach((function(e){switch(C[e.id]=e,e.link_type){case"CHAT":C[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?C[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):C[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?C[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):C[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code);break;default:return}})),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{overdue:Object(p.a)(Object(p.a)({},e.todos.overdue.limit),{},{hasMore:t.data.todos.length===e.todos.overdue.limit,skip:e.todos.overdue.skip+t.data.todos.length})})});case"GET_TODAY_TO_DO_SUCCESS":var T=e.todos.items;return t.data.todos.forEach((function(e){switch(T[e.id]=e,e.link_type){case"CHAT":T[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?T[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):T[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?T[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):T[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code);break;default:return}})),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{today:Object(p.a)(Object(p.a)({},e.todos.today.limit),{},{hasMore:t.data.todos.length===e.todos.today.limit,skip:e.todos.today.skip+t.data.todos.length})})});case"INCOMING_TO_DO":var y=e.todos.items;switch(y[t.data.id]=t.data,t.data.link_type){case"CHAT":y[t.data.id].link="/chat/".concat(t.data.data.channel.code,"/").concat(t.data.data.chat_message.code);break;case"POST":t.data.data.workspaces.length?y[t.data.id].link="/workspace/posts/".concat(t.data.data.workspaces[0].topic.id,"/").concat(t.data.data.workspaces[0].topic.name,"/post/").concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-")):y[t.data.id].link="/posts/".concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":t.data.data.workspaces.length?y[t.data.id].link="/workspace/posts/".concat(t.data.data.workspaces[0].topic.id,"/").concat(t.data.data.workspaces[0].topic.name,"/post/").concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"),"/").concat(t.data.data.comment.code):y[t.data.id].link="/posts/".concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"),"/").concat(t.data.data.comment.code)}return y[t.data.id].is_snooze=!1,Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{items:y})});case"INCOMING_UPDATE_TO_DO":var w=e.todos.items;return"undefined"!==typeof w[t.data.id]&&(w[t.data.id]=Object(p.a)(Object(p.a)({},w[t.data.id]),{},{is_snooze:!1},t.data)),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{items:w})});case"INCOMING_DONE_TO_DO":var k=e.todos.items,N=null;return"undefined"!==typeof k[t.data.id]&&(k[t.data.id].status,t.data.status,N=Object(p.a)(Object(p.a)({},k[t.data.id]),{},{status:t.data.status,updated_at:t.data.updated_at,is_snooze:!1}),k[t.data.id]=N),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{items:k,doneRecently:[].concat(Object(a.a)(e.todos.doneRecently),[N])})});case"INCOMING_REMOVE_TO_DO":var R=e.todos.items;return"undefined"!==typeof R[t.data.todo_id]&&delete R[t.data.todo_id],Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{items:R})});case"GET_UNREAD_POST_ENTRIES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{unreadCounter:Object(p.a)(Object(p.a)({},e.unreadCounter),{},{general_post:t.data.result,unread_posts:t.data.result})});case"GET_UNREAD_POST_COMMENTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{unreadCounter:Object(p.a)(Object(p.a)({},e.unreadCounter),{},{generate_post_comment:t.data.result})});case"READ_ALL_POSTS":if(t.data.topic_id)return e;var x=Object(p.a)({},e.unreadCounter);return x=Object(p.a)(Object(p.a)({},x),{},{general_post:0,unread_posts:0,workspace_post:0,generate_post_comment:0}),Object(p.a)(Object(p.a)({},e),{},{unreadCounter:x});case"ARCHIVE_ALL_POSTS":if(t.data.topic_id)return e;var I=Object(p.a)({},e.unreadCounter);return I=Object(p.a)(Object(p.a)({},I),{},{general_post:0,unread_posts:0,workspace_post:0}),Object(p.a)(Object(p.a)({},e),{},{unreadCounter:I});case"GET_RELEASE_ANNOUNCEMENTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{releases:{timestamp:t.data.READ_RELEASE_UPDATES.timestamp,items:[].concat(Object(a.a)(e.releases.items.filter((function(e){return e.draft_type}))),Object(a.a)(t.data.items))}});case"INCOMING_UPDATED_ANNOUNCEMENT":return Object(p.a)(Object(p.a)({},e),{},{releases:Object(p.a)(Object(p.a)({},e.releases),{},{items:e.releases.items.map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{action_text:t.data.action_text,body:t.data.body}):e}))})});case"INCOMING_CREATED_ANNOUNCEMENT":return Object(p.a)(Object(p.a)({},e),{},{releases:Object(p.a)(Object(p.a)({},e.releases),{},{items:[Object(p.a)({},t.data)].concat(Object(a.a)(e.releases.items))})});case"INCOMING_DELETED_ANNOUNCEMENT":return Object(p.a)(Object(p.a)({},e),{},{releases:Object(p.a)(Object(p.a)({},e.releases),{},{items:e.releases.items.filter((function(e){return e.id!==t.data.id}))})});case"SAVE_DRAFT_SUCCESS":if("release"===t.data.data.draft_type){var P=Object(p.a)(Object(p.a)({draft_id:t.data.id},t.data.data),{},{created_at:{timestamp:Math.floor(Date.now()/1e3)}});return Object(p.a)(Object(p.a)({},e),{},{releases:Object(p.a)(Object(p.a)({},e.releases),{},{items:[P].concat(Object(a.a)(e.releases.items))})})}return e;case"GET_DRAFTS_SUCCESS":var D=t.data.filter((function(e){return"release"===e.data.draft_type})).map((function(e){return Object(p.a)(Object(p.a)({},e.data),{},{draft_id:e.id,action_text:e.data.title,body:e.data.description,created_at:{timestamp:Math.floor(Date.now()/1e3)}})}));return Object(p.a)(Object(p.a)({},e),{},{releases:Object(p.a)(Object(p.a)({},e.releases),{},{items:[].concat(Object(a.a)(D),Object(a.a)(e.releases.items))})});case"UPDATE_DRAFT_SUCCESS":if("release"===t.data.data.draft_type){var L=Object(p.a)(Object(p.a)({draft_id:t.data.id},t.data.data),{},{created_at:{timestamp:Math.floor(Date.now()/1e3)}});return Object(p.a)(Object(p.a)({},e),{},{releases:Object(p.a)(Object(p.a)({},e.releases),{},{items:e.releases.items.map((function(e){return e.draft_id&&e.draft_id===parseInt(t.data.id)?L:e}))})})}return e;case"SET_IDLE_STATUS":return Object(p.a)(Object(p.a)({},e),{},{isIdle:t.data});case"REMINDER_SNOOZE_ALL":var F=e.todos.items;return Object.values(F).forEach((function(e){F[e.id].is_snooze=t.data.is_snooze,F[e.id].snooze_time=Object(f.b)()})),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{is_snooze:t.data.is_snooze,items:F})});case"REMINDER_SNOOZE":var M=e.todos.items;return M[t.data.id].is_snooze=t.data.is_snooze,M[t.data.id].snooze_time=Object(f.b)(),Object(p.a)(Object(p.a)({},e),{},{todos:Object(p.a)(Object(p.a)({},e.todos),{},{items:M})});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{user:t.data});case"GET_NOTIFICATIONS_SUCCESS":var n=t.data.notifications;return n=n.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{is_snooze:!1})})),Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),Object(b.a)(n,"id")),unreadCount:e.unreadCount+n.filter((function(e){return 0===e.is_read})).length});case"READ_ALL_NOTIFICATION_REDUCER":var a=Object(p.a)({},e.notifications);return Object.values(a).forEach((function(e){a[e.id].is_read=1,a[e.id].is_snooze=!1})),Object(p.a)(Object(p.a)({},e),{},{notifications:a,unreadCount:0});case"READ_NOTIFICATION_REDUCER":var r=Object(p.a)({},e.notifications);return r[t.data.id].is_read=1,r[t.data.id].is_snooze=!1,r[t.data.id].snooze_time=Object(f.b)(),Object(p.a)(Object(p.a)({},e),{},{notifications:r,unreadCount:e.unreadCount-1});case"UNREAD_NOTIFICATION_REDUCER":var i=Object(p.a)({},e.notifications);return i[t.data.id].is_read=0,i[t.data.id].is_snooze=!1,Object(p.a)(Object(p.a)({},e),{},{notifications:i,unreadCount:e.unreadCount+1});case"REMOVE_NOTIFICATION_REDUCER":var c=Object(p.a)({},e.notifications);return delete c[t.data.id],Object(p.a)(Object(p.a)({},e),{},{notifications:c});case"REMOVE_ALL_NOTIFICATION_REDUCER":return Object(p.a)(Object(p.a)({},e),{},{notifications:{}});case"INCOMING_POST_APPROVAL":return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),t.data.notification_approval&&Object(m.a)({},t.data.notification_approval.id,{id:t.data.notification_approval.id,type:t.data.notification_approval.type,is_read:0,is_snooze:!1,created_at:t.data.created_at?t.data.created_at:t.data.user_approved.updated_at,author:t.data.user_approved,data:{post_id:t.data.post.id,type:"POST",must_read:!1,must_reply:!1,personalized_for_id:null,title:t.data.post.title,workspaces:t.data.workspaces.map((function(e){return{topic_id:e.topic.id,topic_name:e.topic.name,workspace_id:e.workspace?e.workspace.id:null,workspace_name:e.workspace?e.workspace.name:null}})),comment_body:null}}))});case"INCOMING_POST":var o={};if(t.data.notification&&t.data.author.id!==e.user.id){var s={id:t.data.notification.id,type:"POST_CREATE",is_read:0,is_snooze:!1,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.id,type:t.data.type,must_read:t.data.is_must_read,must_reply:t.data.is_must_reply,personalized_for_id:t.data.personalized_for_id,title:t.data.title,workspaces:t.data.workspaces,comment_body:null,required_users:t.data.required_users,must_read_users:t.data.must_read_users,must_reply_users:t.data.must_reply_users}};return t.data.notification_approval&&(o={id:t.data.notification_approval.id,type:t.data.notification_approval.type,is_read:0,is_snooze:!1,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.id,type:t.data.type,must_read:t.data.is_must_read,must_reply:t.data.is_must_reply,personalized_for_id:t.data.personalized_for_id,title:t.data.title,workspaces:t.data.workspaces,comment_body:null,required_users:t.data.required_users,must_read_users:t.data.must_read_users,must_reply_users:t.data.must_reply_users}}),Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},Object(m.a)({},s.id,s),t.data.notification_approval&&Object(m.a)({},o.id,o))})}return e;case"INCOMING_COMMENT":if(null===t.data.notification||t.data.author.id===e.user.id)return e;var l={id:t.data.notification.id,type:t.data.notification.type,is_read:0,is_snooze:!1,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.post_id,type:"TOPIC_POST",must_read:0,must_reply:0,personalized_for_id:t.data.personalized_for_id,title:t.data.post_title,workspaces:t.data.workspaces,comment_body:t.data.body,comment_id:t.data.id}};return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},Object(m.a)({},l.id,l))});case"SET_PUSH_NOTIFICATION":return Object(p.a)(Object(p.a)({},e),{},{hasSubscribed:t.data});case"INCOMING_REMINDER_NOTIFICATION":if(t.data.notification){var d=Object(p.a)(Object(p.a)({},t.data.notification),{},{is_read:0,is_snooze:!1,author:null,created_at:t.data.created_at,data:{id:t.data.id,title:t.data.title,description:t.data.description,created_at:t.data.created_at,remind_at:t.data.remind_at}});return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},Object(m.a)({},d.id,d))})}return e;case"INCOMING_CLOSE_POST":if(t.data.notification){var u=Object(p.a)(Object(p.a)({},t.data.notification),{},{is_read:0,is_snooze:!1,author:t.data.initiator,created_at:{timestamp:Math.round(+new Date/1e3)},data:{post_id:t.data.post.id,title:t.data.post.title,description:"",created_at:{timestamp:Math.round(+new Date/1e3)},workspaces:t.data.workspaces.map((function(e){return{topic_id:e.topic.id,topic_name:e.topic.name,workspace_id:e.workspace?e.workspace.id:null,workspace_name:e.workspace?e.workspace.name:null}}))}});return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},Object(m.a)({},u.id,u))})}return e;case"INCOMING_UPDATED_WORKSPACE_FOLDER":if("WORKSPACE"===t.data.type&&e.user&&e.user.id!==t.data.user_id&&t.data.new_member_ids.some((function(t){return t===e.user.id}))){var h=t.data.members.find((function(e){return e.id===t.data.user_id}));return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},Object(m.a)({},t.data.notification_id[0],{author:h,created_at:{timestamp:Object(f.b)()},data:{description:t.data.description,id:t.data.id,title:t.data.name,workspace_folder_id:t.data.workspace_id,workspace_folder_name:t.data.current_workspace_folder_name},id:t.data.notification_id[0],is_read:0,is_snooze:!1,type:"WORKSPACE_ADD_MEMBER"}))})}return e;case"INCOMING_WORKSPACE":if(e.user&&e.user.id===t.data.channel.user_id)return e;var _=t.data.members.find((function(e){return e.id===t.data.channel.user_id}));return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},Object(m.a)({},t.data.notification_id[0],{author:_,created_at:{timestamp:Object(f.b)()},data:{description:t.data.topic.description,id:t.data.topic.id,title:t.data.topic.name,workspace_folder_id:t.data.workspace?t.data.workspace.id:0,workspace_folder_name:t.data.workspace?t.data.workspace.name:""},id:t.data.notification_id[0],is_read:0,is_snooze:!1,type:"WORKSPACE_ADD_MEMBER"}))});case"INCOMING_POST_REQUIRED":return Object(p.a)(Object(p.a)({},e),{},{notifications:Object.values(e.notifications).reduce((function(e,n){return"POST_CREATE"===n.type&&t.data.post.id===n.data.post_id?e[n.id]=Object(p.a)(Object(p.a)({},n),{},{data:Object(p.a)(Object(p.a)({},n.data),{},{required_users:t.data.required_users,must_read_users:t.data.must_read_users,must_reply_users:t.data.must_reply_users})}):e[n.id]=Object(p.a)({},n),e}),{})});case"NOTIFICATION_SNOOZE_ALL":var O=Object(p.a)({},e.notifications);return Object.values(O).forEach((function(e){O[e.id].is_snooze=t.data.is_snooze,O[e.id].snooze_time=Object(f.b)()})),Object(p.a)(Object(p.a)({},e),{},{notifications:O});case"NOTIFICATION_SNOOZE":var E=Object(p.a)({},e.notifications);return E[t.data.id].is_snooze=t.data.is_snooze,E[t.data.id].snooze_time=Object(f.b)(),Object(p.a)(Object(p.a)({},e),{},{notifications:E});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{user:t.data});case"SET_EDIT_POST_COMMENT":var n=Object(p.a)({},e.commentQuotes);return Object.keys(e.commentQuotes).length>0&&e.editPostComment&&null===t.data&&delete(n=Object(p.a)({},e.commentQuotes))[e.editPostComment.id],Object(p.a)(Object(p.a)({},e),{},{editPostComment:t.data,commentQuotes:n});case"ADD_COMMENT_QUOTE":var r=Object(p.a)({},e.commentQuotes);return Object.keys(e.commentQuotes).length>0&&e.commentQuotes.hasOwnProperty(t.data.id)?(delete(r=Object(p.a)({},e.commentQuotes))[t.data.id],r=Object(p.a)(Object(p.a)({},r),{},Object(m.a)({},t.data.id,t.data))):r=Object(p.a)(Object(p.a)({},e.commentQuotes),{},Object(m.a)({},t.data.id,t.data)),Object(p.a)(Object(p.a)({},e),{},{commentQuotes:r});case"CLEAR_COMMENT_QUOTE":var i=Object(p.a)({},e.commentQuotes);return delete i[t.data],Object(p.a)(Object(p.a)({},e),{},{commentQuotes:i});case"SET_PARENT_ID":return Object(p.a)(Object(p.a)({},e),{},{parentId:t.data});case"GET_COMPANY_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{prev_skip:t.data.prev_skip,next_skip:t.data.next_skip,total_take:t.data.total_take,has_more:t.data.total_take===e.companyPosts.limit,posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))})});case"SEARCH_COMPANY_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))})});case"ADD_POST_REACT":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{clap_user_ids:[].concat(Object(a.a)(e.companyPosts.posts[t.data.post_id].clap_user_ids),[e.user.id]),clap_count:e.companyPosts.posts[t.data.post_id].clap_count+1,user_clap_count:1})))})});case"REMOVE_POST_REACT":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{clap_user_ids:e.companyPosts.posts[t.data.post_id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.companyPosts.posts[t.data.post_id].clap_count-1,user_clap_count:0})))})});case"GET_POST_CLAP_HOVER_SUCCESS":var c=t.data.claps.map((function(e){return e.user_id}));return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{clap_user_ids:Object(a.a)(c),fetchedReact:!0})))})});case"INCOMING_MARK_AS_READ":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.result.post_id]&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.result.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.result.post_id]),{},{user_reads:t.data.result.user_reads})))})});case"INCOMING_POST":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.id,t.data))})});case"INCOMING_TO_DO":case"INCOMING_UPDATE_TO_DO":case"INCOMING_DONE_TO_DO":case"INCOMING_REMOVE_TO_DO":var o=e.companyPosts.posts;return"POST"===t.data.link_type&&t.data.data&&"undefined"!==typeof o[t.data.data.post.id]&&(o[t.data.data.post.id]=Object(p.a)(Object(p.a)({},o[t.data.data.post.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}})),Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:o})});case"INCOMING_UPDATED_POST":var s=Object(p.a)({},e.companyPosts.posts);return t.data.is_personal&&!t.data.post_participant_data.all_participant_ids.some((function(t){return t===e.user.id}))?delete s[t.data.id]:s.hasOwnProperty(t.data.id)?s[t.data.id]=Object(p.a)(Object(p.a)({},t.data),{},{clap_user_ids:s[t.data.id].clap_user_ids}):s[t.data.id]=Object(p.a)(Object(p.a)({},t.data),{},{clap_user_ids:[]}),Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:s})});case"ADD_COMPANY_POST_SEARCH_RESULT":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{search:t.data.search,searchResults:t.data.search_result,filter:"all"})});case"UPDATE_COMPANY_POST_FILTER_SORT":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{filter:t.data.filter,tag:t.data.tag,postListTag:t.data.postListTag})});case"INCOMING_POST_CLAP":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),1===t.data.clap_count?{clap_count:e.companyPosts.posts[t.data.post_id].clap_count+1,clap_user_ids:[].concat(Object(a.a)(e.companyPosts.posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))),[t.data.author.id]),user_clap_count:t.data.author.id===e.user.id?1:e.companyPosts.posts[t.data.post_id].user_clap_count}:{clap_count:e.companyPosts.posts[t.data.post_id].clap_count-1,clap_user_ids:e.companyPosts.posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id})),user_clap_count:t.data.author.id===e.user.id?0:e.companyPosts.posts[t.data.post_id].user_clap_count})))})});case"STAR_POST_REDUCER":return"undefined"===typeof e.companyPosts.posts[t.data.post_id]?e:Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_favourite:!e.companyPosts.posts[t.data.post_id].is_favourite})))})});case"FETCH_RECENT_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{recentPosts:Object(m.a)({},t.data.topic_id,{folderId:t.data.workspace_id,posts:Object(b.a)(t.data.posts,"id")})});case"INCOMING_FAVOURITE_ITEM":return Object(p.a)(Object(p.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.type_id)&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.type_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.type_id]),{},{is_favourite:t.data.is_favourite})))})});case"INCOMING_POST_MARK_DONE":return Object(p.a)(Object(p.a)(Object(p.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))})}),{},{recentPosts:Object(p.a)(Object(p.a)({},e.recentPosts),Object.keys(e.recentPosts).filter((function(n){return e.recentPosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.recentPosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.recentPosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.recentPosts[n].posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))});case"GET_DRAFTS_SUCCESS":var l=t.data.filter((function(e){return"draft_post"===e.data.type})).map((function(e){return Object.assign({},e,Object(p.a)(Object(p.a)({},e.data),{},{post_id:e.data.id,draft_id:e.id,updated_at:e.data.created_at,is_unread:0,unread_count:0,is_close:!1,approval_label:null}))})),d=[],u=t.data.filter((function(e){return"comment"===e.data.type}));return l.length&&(d=Object(b.a)(l,"post_id")),Object(p.a)(Object(p.a)({},e),{},{drafts:l,companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),d)}),commentDrafts:u});case"DELETE_DRAFT":if("draft_post"===t.data.draft_type){var h=Object(a.a)(e.drafts.filter((function(e){return e.draft_id!==t.data.draft_id}))),_=Object(p.a)({},e.companyPosts);return delete _.posts[t.data.post_id],Object(p.a)(Object(p.a)({},e),{},{drafts:h,companyPosts:_})}return e;case"SAVE_DRAFT_SUCCESS":if("draft_post"===t.data.data.draft_type){var O=Object(p.a)(Object(p.a)(Object(p.a)({},t.data),t.data.data),{},{id:t.data.data.id,post_id:t.data.data.id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,approval_label:null});return Object(p.a)(Object(p.a)({},e),{},{drafts:[].concat(Object(a.a)(e.drafts),[O]),companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},O.id,O))})})}return"comment"===t.data.data.draft_type?Object(p.a)(Object(p.a)({},e),{},{commentDrafts:[].concat(Object(a.a)(e.commentDrafts),[t.data])}):e;case"REMOVE_COMMENT_DRAFT":return Object(p.a)(Object(p.a)({},e),{},{commentDrafts:e.commentDrafts.filter((function(e){return e.id!==t.data.id}))});case"UPDATE_DRAFT_SUCCESS":if("draft_post"===t.data.data.type){var E=Object(p.a)({},e.companyPosts);return E.posts[t.data.data.id]=Object(p.a)(Object(p.a)(Object(p.a)({},E.posts[t.data.data.post_id]),t.data.data),{},{id:t.data.data.post_id,post_id:t.data.data.post_id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,approval_label:null}),Object(p.a)(Object(p.a)({},e),{},{companyPosts:E})}return"comment"===t.data.data.draft_type?Object(p.a)(Object(p.a)({},e),{},{commentDrafts:e.commentDrafts.map((function(e){return e.id===parseInt(t.data.id)?Object(p.a)(Object(p.a)({},t.data),{},{id:parseInt(t.data.id)}):e}))}):e;case"INCOMING_POST_VIEWER":return Object(p.a)(Object(p.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{view_user_ids:[].concat(Object(a.a)(e.companyPosts.posts[t.data.post_id].view_user_ids),[t.data.viewer.id])})))})});case"ARCHIVE_POST_REDUCER":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),Object.values(e.companyPosts.posts).length>0&&Object(p.a)({},Object.values(e.companyPosts.posts).reduce((function(e,n){return e[n.id]=Object(p.a)(Object(p.a)({},n),{},{is_archived:n.id===t.data.post_id?t.data.is_archived:n.is_archived}),e}),{})))})});case"INCOMING_POST_TOGGLE_FOLLOW":return Object(p.a)(Object(p.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{flipper:!e.flipper,posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_followed:t.data.is_followed})))})});case"INCOMING_READ_UNREAD_REDUCER":return Object(p.a)(Object(p.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{flipper:!e.flipper,posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_unread:t.data.unread,unread_count:0===t.data.unread?0:e.companyPosts.posts[t.data.post_id].unread_count})))})});case"INCOMING_COMMENT":if("POST_COMMENT_CREATE"===t.data.SOCKET_TYPE){var g=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null===e.ip_address})).length===t.data.users_approval.length,A=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,v=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,j=t.data.users_approval.some((function(t){return t.id===e.user.id}));return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.post_id]&&Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{unread_count:t.data.author.id!==e.user.id?e.companyPosts.posts[t.data.post_id].unread_count+1:e.companyPosts.posts[t.data.post_id].unread_count,is_unread:t.data.author.id!==e.user.id?1:e.companyPosts.posts[t.data.post_id].is_unread,updated_at:t.data.updated_at,reply_count:e.companyPosts.posts[t.data.post_id].reply_count+1,has_replied:t.data.author.id===e.user.id,post_approval_label:v?"ACCEPTED":A?"REQUEST_UPDATE":j&&g?"NEED_ACTION":e.companyPosts.posts[t.data.post_id].author.id===t.data.author.id&&g?"REQUEST_APPROVAL":e.companyPosts.posts[t.data.post_id].post_approval_label})))})})}return e;case"GET_UNREAD_POST_ENTRIES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{unreadPosts:t.data.result})});case"INCOMING_DELETED_POST":var C=Object(p.a)({},e.companyPosts);return delete C.posts[t.data.id],Object(p.a)(Object(p.a)({},e),{},{companyPosts:C});case"READ_ALL_POSTS":if(t.data.topic_id)return e;var T=Object(p.a)({},e.companyPosts);return Object.keys(T.posts).length&&Object.values(T.posts).forEach((function(e){T.posts[e.id].is_read=!0,T.posts[e.id].unread_count=0,T.posts[e.id].is_unread=0})),Object(p.a)(Object(p.a)({},e),{},{companyPosts:T});case"ARCHIVE_ALL_POSTS":if(t.data.topic_id)return e;var y=Object(p.a)({},e.companyPosts);return Object.keys(y.posts).length&&Object.values(y.posts).forEach((function(e){y.posts[e.id].is_archived=1,y.posts[e.id].unread_count=0})),Object(p.a)(Object(p.a)({},e),{},{companyPosts:y});case"ADD_USER_TO_POST_RECIPIENTS":var S=Object(p.a)({},e.companyPosts);return S.posts.hasOwnProperty(t.data.post_id)&&(S.posts[t.data.post_id].hasOwnProperty("to_add")?S.posts[t.data.post_id].to_add=[].concat(Object(a.a)(S.posts[t.data.post_id].to_add),Object(a.a)(t.data.recipient_ids)):S.posts[t.data.post_id].to_add=Object(a.a)(t.data.recipient_ids),S.posts[t.data.post_id].recipients=[].concat(Object(a.a)(S.posts[t.data.post_id].recipients),Object(a.a)(t.data.recipients)),S.posts[t.data.post_id].recipient_ids=[].concat(Object(a.a)(S.posts[t.data.post_id].recipient_ids),Object(a.a)(t.data.recipient_ids))),Object(p.a)(Object(p.a)({},e),{},{companyPosts:S});case"REMOVE_USER_TO_POST_RECIPIENTS":var w=Object(p.a)({},e.companyPosts);if(w.posts.hasOwnProperty(t.data.post_id)){var N=w.posts[t.data.post_id].recipient_ids.filter((function(e){return!t.data.remove_recipient_ids.includes(e)})),R=w.posts[t.data.post_id].recipients.filter((function(e){return!t.data.remove_recipient_ids.includes(e.id)}));w.posts[t.data.post_id].recipient_ids=N,w.posts[t.data.post_id].recipients=R}return Object(p.a)(Object(p.a)({},e),{},{companyPosts:w});case"REFETCH_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))})});case"GET_UNARCHIVE_POST_DETAIL_SUCCESS":case"GET_POST_DETAIL_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},t.data),{},{clap_user_ids:[]})))})});case"UPDATE_POST_FILES":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{files:e.companyPosts.posts[t.data.post_id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))})});case"INCOMING_READ_SELECTED_POSTS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.post_ids.reduce((function(t,n){return e.companyPosts.posts[n]&&(t[n]=Object(p.a)(Object(p.a)({},e.companyPosts.posts[n]),{},{is_read:!0,unread_count:0,is_unread:0})),t}),{}))})});case"INCOMING_ARCHIVED_SELECTED_POSTS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.post_ids.reduce((function(t,n){return e.companyPosts.posts[n]&&(t[n]=Object(p.a)(Object(p.a)({},e.companyPosts.posts[n]),{},{is_archived:1,unread_count:0,is_unread:0})),t}),{}))})});case"INCOMING_POST_APPROVAL":var x=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,I=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,P=!t.data.users_approval.some((function(e){return null===e.ip_address}));return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),"undefined"!==typeof e.companyPosts.posts[t.data.post.id]&&Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post.id]),{},{post_approval_label:I?"ACCEPTED":x?"REQUEST_UPDATE":!P||x||I?t.data.user_approved.id===e.user.id?null:e.companyPosts.posts[t.data.post.id].post_approval_label:"SPLIT",users_approval:e.companyPosts.posts[t.data.post.id].users_approval.map((function(e){return e.id===t.data.user_approved.id?Object(p.a)(Object(p.a)({},e),t.data.user_approved):e}))})))})});case"INCOMING_COMMENT_APPROVAL":var D=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,L=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,F=!t.data.users_approval.some((function(e){return null===e.ip_address}));return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.post.id]&&Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post.id]),{},{post_approval_label:L?"ACCEPTED":D?"REQUEST_UPDATE":!F||D||L?t.data.user_approved.id===e.user.id?null:e.companyPosts.posts[t.data.post.id].post_approval_label:"SPLIT"})))})});case"SET_POSTREAD":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.postId]&&Object(m.a)({},t.data.postId,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.postId]),{},{post_reads:Object(a.a)(t.data.readPosts)})))})});case"CLEAR_COMMENT_APPROVING_STATE":return Object(p.a)(Object(p.a)({},e),{},{clearApprovingState:t.data});case"SET_CHANGE_REQUESTED_COMMENT":return Object(p.a)(Object(p.a)({},e),{},{changeRequestedComment:t.data});case"INCOMING_CLOSE_POST":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.post.id]&&Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post.id]),{},{is_close:t.data.is_close})))})});case"GET_UNREAD_COMPANY_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))}),unreadPosts:{skip:t.data.next_skip,has_more:25===t.data.posts.length,limit:25}});case"GET_READ_COMPANY_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))}),readPosts:{skip:t.data.next_skip,has_more:25===t.data.posts.length,limit:25}});case"POST_LIST_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{postsLists:Object(a.a)(t.data)});case"POST_LIST_CONNECT":var M=Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{post_list_connect:[{id:t.data.link_id}]});return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,M))})});case"POST_LIST_DISCONNECT":var U=Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post_id]),{},{post_list_connect:[]});return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),{},Object(m.a)({},t.data.post_id,U))})});case"REMOVE_POST":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)({},Object.keys(e.companyPosts.posts).filter((function(e){return parseInt(e)!==t.data.id})).reduce((function(t,n){return t[n]=Object(p.a)({},e.companyPosts.posts[n]),t}),{}))})});case"INCOMING_POST_REQUIRED":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),"undefined"!==typeof e.companyPosts.posts[t.data.post.id]&&Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.companyPosts.posts[t.data.post.id]),{},{required_users:t.data.required_users,user_reads:t.data.user_reads,must_read_users:t.data.must_read_users,must_reply_users:t.data.must_reply_users})))})});case"SET_POST_COMMENT_TYPE":return Object(p.a)(Object(p.a)({},e),{},{commentType:t.data});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.files.reduce((function(n,a){if(a.post_id&&e.companyPosts.posts[a.post_id]){var r=0===e.companyPosts.posts[a.post_id].files.length?[]:e.companyPosts.posts[a.post_id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()}})}));n[a.post_id]=Object(p.a)(Object(p.a)({},e.companyPosts.posts[a.post_id]),{},{files:e.companyPosts.posts[a.post_id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:r})}return n}),{}))})});case"INCOMING_REMOVED_FILE_AFTER_DOWNLOAD":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),Object.values(e.companyPosts.posts).reduce((function(n,a){return a.files.some((function(e){return e.file_id===t.data.file_id}))?n[a.id]=Object(p.a)(Object(p.a)({},e.companyPosts.posts[a.id]),{},{files:e.companyPosts.posts[a.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):n[a.id]=Object(p.a)({},e.companyPosts.posts[a.id]),n}),{}))})});case"REMOVE_DRAFT_POST":return Object(p.a)(Object(p.a)({},e),{},{companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)({},Object.values(e.companyPosts.posts).reduce((function(n,a){return a.id!==t.data.post_id&&(n[a.id]=Object(p.a)({},e.companyPosts.posts[a.id])),n}),{}))})});case"GET_ARCHIVED_COMPANY_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{archived:Object(p.a)(Object(p.a)({},e.archived),{},{limit:25,skip:t.data.next_skip,has_more:t.data.total_take===e.archived.limit}),companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))})});case"GET_MY_COMPANY_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{myPosts:Object(p.a)(Object(p.a)({},e.myPosts),{},{limit:25,skip:t.data.next_skip,has_more:t.data.total_take===e.myPosts.limit}),companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))})});case"GET_STAR_COMPANY_POSTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{favourites:Object(p.a)(Object(p.a)({},e.favourites),{},{limit:25,skip:t.data.next_skip,has_more:t.data.total_take===e.favourites.limit}),companyPosts:Object(p.a)(Object(p.a)({},e.companyPosts),{},{posts:Object(p.a)(Object(p.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,n){return e.companyPosts.posts[n.id]?t[n.id]=Object(p.a)(Object(p.a)({clap_user_ids:[]},e.companyPosts.posts[n.id]),n):t[n.id]=Object(p.a)({clap_user_ids:[]},n),t}),{}))})});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCOMING_UPDATE_COMPANY_NAME":return Object(p.a)(Object(p.a)({},e),{},{driff:Object(p.a)(Object(p.a)({},e.driff),{},{company_name:t.data.company_name})});case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{sessionUser:t.data});case"GET_DRIFF_COMP_SETTINGS_SUCCESS":var n=e.driff.settings,a=e.driff.ANNOUNCEMENT_AT,r=e.driff.ANNOUNCEMENT_LINK,i=e.driff.READ_RELEASE_UPDATES;return t.data.settings.forEach((function(e){e.ANNOUNCEMENT_AT&&(a=e.ANNOUNCEMENT_AT),e.ANNOUNCEMENT_LINK&&(r=e.ANNOUNCEMENT_LINK),e.READ_RELEASE_UPDATES&&(i=e.READ_RELEASE_UPDATES),n=Object(p.a)(Object(p.a)({},n),e)})),Object.keys(n).forEach((function(e){n[e]="1"===n[e]||!0===n[e]})),n.maintenance_mode=!Object.values(n).some((function(e){return!0===e})),"password_login"===Object(x.a)("allow")&&(n.password_login=!0),Object(p.a)(Object(p.a)({},e),{},{driff:Object(p.a)(Object(p.a)({},e.driff),{},{isCompSettingsLoaded:!0,settings:n,ANNOUNCEMENT_LINK:r,ANNOUNCEMENT_AT:a,READ_RELEASE_UPDATES:i})});case"GET_DRIFF_SETTINGS_SUCCESS":var c=e.driff;for(var o in t.data)if(t.data.hasOwnProperty(o)){var s=t.data[o],l=Object.keys(s)[0],d=s[l];switch(l){case"translation_updated_at":c="undefined"===typeof c.client_translation_updated_at?Object(p.a)(Object(p.a)({},c),{},{i18n:d?d.timestamp:1e9}):Object(p.a)(Object(p.a)({},c),{},{i18n:c.client_translation_updated_at<d.timestamp?d.timestamp:c.translation_updated_at});break;case"client_translation_updated_at":c="undefined"===typeof c.translation_updated_at?Object(p.a)(Object(p.a)({},c),{},{i18n:d?d.timestamp:1e9}):Object(p.a)(Object(p.a)({},c),{},{i18n:c.translation_updated_at<d.timestamp?d.timestamp:c.translation_updated_at});break;default:c=Object(p.a)(Object(p.a)({},c),{},Object(m.a)({},l,d))}}return Object(p.a)(Object(p.a)({},e),{},{driff:Object(p.a)(Object(p.a)({},c),{},{isSettingsLoaded:!0})});case"GET_USER_SETTINGS_SUCCESS":var u=e.user;for(var f in u.isLoaded=!0,t.data.settings)if(t.data.settings.hasOwnProperty(f)){var b=t.data.settings[f],h=Object.keys(b)[0],_=b[h];switch(h){case"CHAT_SETTINGS":"default"===_.chat_message_theme.preset||(_.old_chat_message_theme=_.chat_message_theme),delete _.chat_message_theme,u[h]=Object(p.a)(Object(p.a)({},u[h]),_);break;case"GENERAL_SETTINGS":u[h]=Object(p.a)(Object(p.a)(Object(p.a)({},u[h]),_),{},{language:null===_.language?"en":_.language});break;default:u[h]=_}}return Object(p.a)(Object(p.a)({},e),{},{user:u});case"UPDATE_USER_CHAT_SETTING":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)(Object(p.a)({},e.user),{},{CHAT_SETTINGS:Object(p.a)(Object(p.a)({},e.user.CHAT_SETTINGS),t.data)})});case"UPDATE_USER_GENERAL_SETTING":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)(Object(p.a)({},e.user),{},{GENERAL_SETTINGS:Object(p.a)(Object(p.a)({},e.user.GENERAL_SETTINGS),t.data)})});case"UPDATE_USER_SETTINGS":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)(Object(p.a)({},e.user),t.data)});case"UPDATE_READ_ANNOUNCEMENT":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)(Object(p.a)({},e.user),{},{READ_ANNOUNCEMENT:{timestamp:Math.floor(Date.now()/1e3)}})});case"UPDATE_COMPANY_POST_ANNOUNCEMENT":return Object(p.a)(Object(p.a)({},e),{},{driff:Object(p.a)(Object(p.a)({},e.driff),{},{ANNOUNCEMENT_LINK:t.data.ANNOUNCEMENT_LINK,ANNOUNCEMENT_AT:t.data.ANNOUNCEMENT_AT})});case"UPDATE_WORKSPACE_SETTING":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)(Object(p.a)({},e.user),{},{GENERAL_SETTINGS:Object(p.a)(Object(p.a)({},e.user.GENERAL_SETTINGS),t.data),ORDER_CHANNEL:Object(p.a)({},t.data.order_channel)})});case"INCOMING_CREATED_ANNOUNCEMENT":return t.data.major_release?Object(p.a)(Object(p.a)({},e),{},{driff:Object(p.a)(Object(p.a)({},e.driff),{},{READ_RELEASE_UPDATES:{timestamp:t.data.created_at.timestamp}})}):e;case"GET_RELEASE_ANNOUNCEMENTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)(Object(p.a)({},e.user),{},{READ_RELEASE_UPDATES:{timestamp:t.data.READ_RELEASE_UPDATES.timestamp}})});default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return t.type,e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCOMING_INTERNAL_USER":var n=Object(p.a)({contact:"",active:1},t.data);return delete n.SOCKET_TYPE,Object(p.a)(Object(p.a)({},e),{},{users:Object(p.a)(Object(p.a)({},e.users),{},Object(m.a)({},n.id,Object(p.a)(Object(p.a)({},n),{},{name:n.name.toString()}))),mentions:Object(p.a)(Object(p.a)({},e.mentions),{},Object(m.a)({},n.id,n))});case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{user:t.data});case"GET_MENTION_USERS_SUCCESS":var a=e.mentions;return t.data.result.forEach((function(e){a[e.id]=Object(p.a)(Object(p.a)({},a[e.id]),e)})),Object(p.a)(Object(p.a)({},e),{},{mentions:a});case"GET_ONLINE_USERS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{onlineUsers:t.data.result});case"GET_USERS_SUCCESS":var r=Object(p.a)({},e.users),i=Object(p.a)({},e.mentions);return t.data.users.forEach((function(e){r[e.id]=Object(p.a)(Object(p.a)(Object(p.a)({},r[e.id]),e),{},{name:e.name.toString()}),i[e.id]=Object(p.a)(Object(p.a)({},i[e.id]),e)})),Object(p.a)(Object(p.a)({},e),{},{users:r,mentions:i,getUserFilter:{hasMore:t.data.users.length===t.data.limit,limit:t.data.limit,skip:t.data.next_skip}});case"GET_EXTERNAL_USERS_SUCCESS":var c=Object(p.a)({},e.users),o=Object(p.a)({},e.mentions);return t.data.users.forEach((function(e){c[e.id]=Object(p.a)(Object(p.a)(Object(p.a)({},c[e.id]),e),{},{name:e.name.toString()}),o[e.id]=Object(p.a)(Object(p.a)({},o[e.id]),e)})),Object(p.a)(Object(p.a)({},e),{},{users:c,mentions:o,externalUsers:t.data.users});case"GET_USER_SUCCESS":var s=t.data,l=(s.CHAT_SETTINGS,s.GENERAL_SETTINGS,s.ORDER_CHANNEL,s.id),d=Object(D.a)(s,L),u=e.users[l];return u=u?Object(p.a)(Object(p.a)({},u),{},{userData:d}):d,Object(p.a)(Object(p.a)({},e),{},{users:Object(p.a)(Object(p.a)({},e.users),{},Object(m.a)({},l,Object(p.a)(Object(p.a)({id:l},u),{},{name:u.name.toString(),loaded:!0})))});case"UPDATE_USER_SUCCESS":var f=t.data,b=(f.CHAT_SETTINGS,f.GENERAL_SETTINGS,f.ORDER_CHANNEL,f.id),h=Object(D.a)(f,F);return Object(p.a)(Object(p.a)({},e),{},{users:Object(p.a)(Object(p.a)({},e.users),{},Object(m.a)({},b,Object(p.a)(Object(p.a)(Object(p.a)({id:b},e.users[b]),h),{},{name:h.name.toString()})))});case"INCOMING_UPDATED_USER":var _=Object(p.a)({},e.users),O=Object(p.a)({},e.mentions);return Object.keys(e.users).length&&(_[t.data.id]=Object(p.a)(Object(p.a)(Object(p.a)({},_[t.data.id]),t.data),{},{id:t.data.id,first_name:t.data.first_name,middle_name:t.data.middle_name,last_name:t.data.last_name,name:t.data.name.toString(),email:t.data.email,active:t.data.active,profile_image_link:t.data.profile_image_link,contact:t.data.contact,company:t.data.company,designation:t.data.designation,partial_name:t.data.partian_name,import_from:t.data.import_from,place:t.data.place,address:t.data.address})),Object.keys(e.mentions).length&&(O[t.data.id]={id:t.data.id,first_name:t.data.first_name,name:t.data.name,profile_image_link:t.data.profile_image_link}),Object(p.a)(Object(p.a)({},e),{},{users:_,mentions:O});case"INCOMING_EXTERNAL_USER":var E=Object(p.a)({},e.users),g=Object(p.a)({},e.mentions);return Object.keys(e.users).length&&(E[t.data.current_user.id]=Object(p.a)(Object(p.a)({},t.data.current_user),{},{name:t.data.current_user.name.toString(),address:"",role:null,designation:"",is_favourite:!1,place:"",slug:null,contact:"",company:""})),Object.keys(e.mentions).length&&(g[t.data.current_user.id]={id:t.data.current_user.id,first_name:t.data.current_user.first_name,name:t.data.current_user.name,profile_image_link:t.data.current_user.profile_image_link}),Object(p.a)(Object(p.a)({},e),{},{users:E,mentions:g});case"GET_ROLES_SUCCESS":var A=Object(p.a)({},e.roles);return t.data.forEach((function(e){A[e.name]=e.id})),Object(p.a)(Object(p.a)({},e),{},{roles:A});case"INCOMING_USER_ROLE":return Object(p.a)(Object(p.a)({},e),{},{users:Object(p.a)(Object(p.a)({},e.users),{},Object(m.a)({},t.data.user_id,Object(p.a)(Object(p.a)({},e.users[t.data.user_id]),{},{role:Object(p.a)(Object(p.a)({},e.users[t.data.user_id].role),{},{name:t.data.role.name,display_name:"admin"===t.data.role.name?"Site Admin":"Employee"})})))});case"GET_ARCHIVED_USERS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{archivedUsers:t.data.users});case"INCOMING_ARCHIVED_USER":var v=Object(p.a)({},e.users);v[t.data.user.id].active=0;var j=Object(p.a)({},e.mentions);return delete j[t.data.user.id],Object(p.a)(Object(p.a)({},e),{},{mentions:j,users:v});case"INCOMING_UNARCHIVED_USER":var C=Object(p.a)({},e.users);C[t.data.profile.id]=t.data.profile;var T=Object(p.a)({},e.mentions);return T[t.data.profile.id]=t.data.profile,Object(p.a)(Object(p.a)({},e),{},{archivedUsers:e.archivedUsers.filter((function(e){return e.id!==t.data.profile.id})),mentions:T,users:C});case"INCOMING_DEACTIVATED_USER":var y=Object(p.a)({},e.users);y[t.data.user_id].active=0,y[t.data.user_id].deactivate=!0;var S=Object(p.a)({},e.mentions);return delete S[t.data.user_id],Object(p.a)(Object(p.a)({},e),{},{mentions:S,users:y});case"INCOMING_ACTIVATED_USER":var w=Object(p.a)({},e.users);w[t.data.user.id]=Object(p.a)(Object(p.a)({},t.data.user),{},{deactivate:!1});var k=Object(p.a)({},e.mentions);return k[t.data.user.id]=t.data.user,Object(p.a)(Object(p.a)({},e),{},{mentions:k,users:w,archivedUsers:e.archivedUsers.filter((function(e){return e.id!==t.data.user.id}))});case"INCOMING_ONLINE_USERS":return Object(p.a)(Object(p.a)({},e),{},{onlineUsers:t.data.result});case"SET_PROFILE_SLIDER":return Object(p.a)(Object(p.a)({},e),{},{profileSlider:t.data.id&&e.users[t.data.id]?e.users[t.data.id]:null});case"GET_USERS_WITHOUT_ACTIVITY_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{usersWithoutActivity:t.data,usersWithoutActivityLoaded:!0});case"INCOMING_DELETED_USER":return Object(p.a)(Object(p.a)({},e),{},{users:Object.values(e.users).reduce((function(e,n){return n.id!==t.data.id&&(e[n.id]=n),e}),{})});default:return e}},workspaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WORKSPACE_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{search:Object(p.a)(Object(p.a)({},e.search),t.data)});case"ADD_USER_TO_REDUCERS":return Object(p.a)(Object(p.a)({},e),{},{user:t.data});case"INCOMING_UPDATED_USER":var n=e.activeTopic;if(n&&n.members.some((function(e){return e.id===t.data.id}))){var r=n.members.map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{active:t.data.active?t.data.active:e.active,email:t.data.email?t.data.email:e.email,name:t.data.name?t.data.name:e.name,profile_image_link:t.data.profile_image_link?t.data.profile_image_link:e.profile_image_link,profile_image_thumbnail_link:t.data.profile_image_thumbnail_link?t.data.profile_image_thumbnail_link:e.profile_image_thumbnail_link,type:t.data.type?t.data.type:e.type,designation:t.data.designation?t.data.designation:e.designation,contact:t.data.contact?t.data.contact:e.contact,external_company_name:t.data.external_company_name?t.data.external_company_name:e.external_company_name}):e})),i="internal"===t.data.type&&r.filter((function(e){return"external"===e.type})).length>0;n=Object(p.a)(Object(p.a)({},n),{},{is_shared:"external"===t.data.type||i,members:r})}return Object(p.a)(Object(p.a)({},e),{},{flipper:!e.flipper,workspaces:Object.values(e.workspaces).reduce((function(e,n){var a=n.members.some((function(e){return e.id===t.data.id}))?n.members.map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{active:t.data.active?t.data.active:e.active,email:t.data.email?t.data.email:e.email,name:t.data.name?t.data.name:e.name,profile_image_link:t.data.profile_image_link?t.data.profile_image_link:e.profile_image_link,profile_image_thumbnail_link:t.data.profile_image_thumbnail_link?t.data.profile_image_thumbnail_link:e.profile_image_thumbnail_link,type:t.data.type?t.data.type:e.type,designation:t.data.designation?t.data.designation:e.designation,contact:t.data.contact?t.data.contact:e.contact,external_company_name:t.data.external_company_name?t.data.external_company_name:e.external_company_name}):e})):n.members,r="internal"===t.data.type&&a.filter((function(e){return"external"===e.type})).length>0;return e[n.id]=Object(p.a)(Object(p.a)({},n),{},{members:a,is_shared:"external"===t.data.type||r}),e}),{}),activeTopic:n});case"GET_WORKSPACES_SUCCESS":var c=Object(p.a)({},e.workspaces),o=Object(p.a)({},e.folders);return t.data.workspaces.forEach((function(e){"FOLDER"===e.type?(o.hasOwnProperty(e.id)?o[e.id].workspace_ids=[].concat(Object(a.a)(o[e.id].workspace_ids),Object(a.a)(e.topics.map((function(e){return e.id})))):o[e.id]=Object(p.a)(Object(p.a)({},e),{},{workspace_ids:e.topics.map((function(e){return e.id}))}),e.topics.forEach((function(t){c[t.id]=Object(p.a)(Object(p.a)({},t),{},{channel:Object(p.a)(Object(p.a)({},t.channel),{},{loaded:!1}),is_lock:t.private,folder_id:e.id,folder_name:e.name,team_channel:t.team_channel,is_favourite:t.is_favourite,type:"WORKSPACE"})})),delete o[e.id].topics):"WORKSPACE"===e.type&&(c[e.id]=Object(p.a)(Object(p.a)({},e),{},{is_favourite:e.topic_detail.is_favourite,is_shared:e.topic_detail.is_shared,active:e.topic_detail.active,channel:Object(p.a)(Object(p.a)({},e.topic_detail.channel),{},{loaded:!1}),unread_chats:e.topic_detail.unread_chats,unread_posts:e.topic_detail.unread_posts,folder_id:null,folder_name:null,team_channel:e.topic_detail.team_channel,team_unread_chats:e.topic_detail.team_unread_chats,workspace_counter_entries:e.topic_detail.workspace_counter_entries}),delete c[e.id].topic_detail)})),Object(p.a)(Object(p.a)({},e),{},{workspaces:c,workspacesLoaded:!0,externalWorkspacesLoaded:!0,folders:o,isOnClientChat:e.activeChannel&&c[e.activeChannel.entity_id]&&c[e.activeChannel.entity_id].team_channel.code&&c[e.activeChannel.entity_id].channel.id===e.activeChannel.id?{code:c[e.activeChannel.entity_id].team_channel.code,id:c[e.activeChannel.entity_id].team_channel.id}:null});case"GET_FAVORITE_WORKSPACES_SUCCESS":var s=Object(p.a)({},e.workspaces),l=Object(p.a)({},e.folders);return t.data.workspaces.forEach((function(e){"FOLDER"===e.type?(l.hasOwnProperty(e.id)?l[e.id].workspace_ids=[].concat(Object(a.a)(l[e.id].workspace_ids),Object(a.a)(e.topics.map((function(e){return e.id})))):l[e.id]=Object(p.a)(Object(p.a)({},e),{},{workspace_ids:e.topics.map((function(e){return e.id}))}),e.topics.forEach((function(t){s[t.id]=Object(p.a)(Object(p.a)({},t),{},{channel:Object(p.a)(Object(p.a)({},t.channel),{},{loaded:!1}),is_lock:t.private,folder_id:e.id,folder_name:e.name,team_channel:t.team_channel,is_favourite:t.is_favourite,type:"WORKSPACE"})})),delete l[e.id].topics):"WORKSPACE"===e.type&&(s[e.id]=Object(p.a)(Object(p.a)({},e),{},{is_favourite:e.topic_detail.is_favourite,is_shared:e.topic_detail.is_shared,active:e.topic_detail.active,channel:Object(p.a)(Object(p.a)({},e.topic_detail.channel),{},{loaded:!1}),unread_chats:e.topic_detail.unread_chats,unread_posts:e.topic_detail.unread_posts,folder_id:null,folder_name:null,team_channel:e.topic_detail.team_channel,team_unread_chats:e.topic_detail.team_unread_chats,workspace_counter_entries:e.topic_detail.workspace_counter_entries}),delete s[e.id].topic_detail)})),Object(p.a)(Object(p.a)({},e),{},{workspaces:s,folders:l,favoriteWorkspacesLoaded:!0});case"GET_WORKSPACE_SUCCESS":var d=Object(p.a)(Object(p.a)({},t.data.workspace_data),{},{channel:t.data.workspace_data.topic_detail.channel,team_channel:t.data.workspace_data.topic_detail.team_channel,team_unread_chats:t.data.workspace_data.topic_detail.team_unread_chats,unread_chats:t.data.workspace_data.topic_detail.unread_chats,unread_posts:t.data.workspace_data.topic_detail.unread_posts,folder_id:t.data.workspace_id,folder_name:t.data.workspace_name,is_shared:t.data.workspace_data.topic_detail.is_shared});return Object(p.a)(Object(p.a)({},e),{},{workspaces:Object(p.a)(Object(p.a)({},e.workspaces),{},Object(m.a)({},d.id,d)),activeTopic:d});case"INCOMING_WORKSPACE_FOLDER":var u=Object(p.a)({},e.folders);return e.workspacesLoaded&&(u[t.data.id]=Object(p.a)(Object(p.a)({},t.data),{},{unread_count:0,member_ids:[],members:[],workspace_ids:[]})),Object(p.a)(Object(p.a)({},e),{},{folders:u});case"INCOMING_WORKSPACE":var h=Object(p.a)({},e.workspaces),_=Object(p.a)({},e.folders);return e.workspacesLoaded&&(h[t.data.id]={id:t.data.id,name:t.data.topic.name,is_external:t.data.is_external,is_lock:t.data.is_lock,description:t.data.topic.description,unread_count:0,type:"WORKSPACE",key_id:t.data.key_id,active:1,unread_chats:0,unread_posts:0,folder_id:t.data.workspace?t.data.workspace.id:null,folder_name:t.data.workspace?t.data.workspace.name:null,member_ids:t.data.member_ids,members:t.data.members,team_unread_chats:0,channel:{code:t.data.channel.code,id:t.data.channel.id,icon_link:null,loaded:!1},team_channel:{code:t.data.members.filter((function(e){return"external"===e.type})).length>0&&t.data.team_channel.code?t.data.team_channel.code:null,id:t.data.members.filter((function(e){return"external"===e.type})).length>0&&t.data.team_channel.ud?t.data.team_channel.id:null,icon_link:null},created_at:t.data.topic.created_at,updated_at:t.data.topic.created_at,primary_files:[],is_shared:t.data.members.filter((function(e){return"external"===e.type})).length>0},null!==t.data.workspace&&_[t.data.workspace.id]&&(_[t.data.workspace.id].workspace_ids=[].concat(Object(a.a)(_[t.data.workspace.id].workspace_ids),[t.data.id]))),Object(p.a)(Object(p.a)({},e),{},{workspaces:h,folders:_});case"INCOMING_UPDATED_WORKSPACE_FOLDER":var O=Object(p.a)({},e.workspaces),E=Object(p.a)({},e.folders),g=null,A=e.workspaceToDelete,v=e.folderToDelete,j=Object(p.a)({},e.search);if(j.results.length&&"WORKSPACE"===t.data.type&&(j.results=j.results.map((function(e){return e.topic.id===t.data.id?Object(p.a)(Object(p.a)(Object(p.a)({},e),t.data),{},{members:t.data.members,topic:Object(p.a)(Object(p.a)({},e.topic),{},{name:t.data.name,description:t.data.description,is_locked:1===t.data.private}),workspace:0===t.data.workspace_id?null:{id:t.data.workspace_id,name:t.data.current_workspace_folder_name}}):e}))),e.workspacesLoaded&&"WORKSPACE"===t.data.type&&O.hasOwnProperty(t.data.id)){var C=e.activeTopic?Object(p.a)({},e.activeTopic):null;if(g=Object(p.a)(Object(p.a)(Object(p.a)({},e.workspaces[t.data.id]),t.data),{},{is_lock:t.data.private,folder_id:0===t.data.workspace_id?null:t.data.workspace_id,folder_name:0===t.data.workspace_id?null:t.data.current_workspace_folder_name}),O[g.id]=g,e.activeTopic&&e.activeTopic.id===g.id&&(C=g),!t.data.member_ids.some((function(t){return t===e.user.id})))if(1===g.is_lock||"external"===e.user.type){if(delete O[g.id],0!==t.data.workspace_id&&E.hasOwnProperty(t.data.workspace_id)){var T=!1;E[t.data.workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})).forEach((function(n){e.workspaces.hasOwnProperty(n)&&t.data.id!==n&&e.workspaces[n].member_ids.some((function(t){return t===e.user.id}))&&(T=!0)})),T||delete E[t.data.workspace_id]}}else if(e.activeTopic&&e.activeTopic.id===t.data.id){if(A=t.data.id,0!==t.data.workspace_id&&E.hasOwnProperty(t.data.workspace_id)){var y=!1;E[t.data.workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})).forEach((function(n){e.workspaces.hasOwnProperty(n)&&t.data.id!==n&&e.workspaces[n].member_ids.some((function(t){return t===e.user.id}))&&(y=!0)})),y||(v=t.data.workspace_id)}}else if(delete O[t.data.id],0!==t.data.workspace_id&&E.hasOwnProperty(t.data.workspace_id)){var S=!1;E[t.data.workspace_id].workspace_ids.forEach((function(n){e.workspaces.hasOwnProperty(n)&&t.data.id!==n&&e.workspaces[n].member_ids.some((function(t){return t===e.user.id}))&&(S=!0)})),S||delete E[t.data.workspace_id]}return 0!==t.data.workspace_id&&E.hasOwnProperty(t.data.workspace_id)?t.data.original_workspace_id!==t.data.workspace_id&&(E[t.data.workspace_id].workspace_ids=[].concat(Object(a.a)(E[t.data.workspace_id].workspace_ids),[t.data.id]),0!==t.data.original_workspace_id&&(E[t.data.original_workspace_id].workspace_ids=E[t.data.original_workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})))):t.data.original_workspace_id!==t.data.workspace_id&&E[t.data.original_workspace_id]&&(E[t.data.original_workspace_id].workspace_ids=E[t.data.original_workspace_id].workspace_ids.filter((function(e){return e!==t.data.id}))),Object(p.a)(Object(p.a)({},e),{},{activeTopic:C,folders:E,workspaces:O,workspaceToDelete:A,folderToDelete:v,search:j})}return e.workspacesLoaded&&"FOLDER"===t.data.type?(E[t.data.id]&&(E[t.data.id]=Object(p.a)(Object(p.a)({},E[t.data.id]),{},{name:t.data.name,description:t.data.description,is_lock:t.data.is_lock,updated_at:t.data.updated_at}),E[t.data.id].workspace_ids.forEach((function(e){O[e].folder_name=t.data.name}))),Object(p.a)(Object(p.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.folder_id&&e.activeTopic.folder_id===t.data.id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{folder_name:t.data.name}):e.activeTopic,folders:E,workspaces:O})):Object(p.a)(Object(p.a)({},e),{},{search:j});case"SET_ACTIVE_TOPIC":var w=Object(p.a)({},e.workspaces),k=Object(p.a)({},e.folders);return e.workspaceToDelete&&delete w[e.workspaceToDelete],e.folderToDelete&&delete k[e.folderToDelete],Object(p.a)(Object(p.a)({},e),{},{workspaces:w,workspaceToDelete:null,folderToDelete:null,folders:k,activeTopic:t.data.hasOwnProperty("members")?t.data:e.workspaces.hasOwnProperty(t.data.id)?Object(p.a)({},e.workspaces[t.data.id]):e.activeTopic});case"GET_LAST_CHANNEL_SUCCESS":return t.data?Object(p.a)(Object(p.a)({},e),{},{activeChannel:{id:t.data.id,entity_id:t.data.entity_id,type:t.data.type},isOnClientChat:"TOPIC"===t.data.type&&e.workspaces[t.data.entity_id]&&e.workspaces[t.data.entity_id].team_channel.code&&e.workspaces[t.data.entity_id].channel.id===t.data.id?{code:e.workspaces[t.data.entity_id].team_channel.code,id:e.workspaces[t.data.entity_id].team_channel.id}:null}):e;case"GET_SELECT_CHANNEL_SUCCESS":case"SET_SELECTED_CHANNEL":return Object(p.a)(Object(p.a)({},e),{},{activeChannel:{id:t.data.id,entity_id:t.data.entity_id,type:t.data.type},isOnClientChat:"TOPIC"===t.data.type&&e.workspaces[t.data.entity_id]&&e.workspaces[t.data.entity_id].team_channel.code&&e.workspaces[t.data.entity_id].channel.id===t.data.id?{code:e.workspaces[t.data.entity_id].team_channel.code,id:e.workspaces[t.data.entity_id].team_channel.id}:null});case"GET_WORKSPACE_CHANNELS_SUCCESS":var N=Object(p.a)({},e.workspaces);return t.data.forEach((function(e){N.hasOwnProperty(e.entity_id)&&(N[e.entity_id].channel.loaded=!0)})),Object(p.a)(Object(p.a)({},e),{},{workspaces:N});case"SET_ACTIVE_TAB":return Object(p.a)(Object(p.a)({},e),{},{activeTab:t.data});case"ADD_POST_SEARCH_RESULT":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{search:t.data.search,searchResults:t.data.search_result,filter:"all"})))});case"ADD_TO_WORKSPACE_POSTS":var R=Object(b.a)(t.data.posts.map((function(e){return Object.assign({},e,{clap_user_ids:[]})})),"id"),x=[];return e.drafts.length&&(x=Object(b.a)(e.drafts,"post_id")),e.workspacePosts.hasOwnProperty(t.data.topic_id)?Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{filters:Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].filters),t.data.filters),posts:Object(p.a)(Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts),R),x)})))}):Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),{},Object(m.a)({},t.data.topic_id,{filters:t.data.filters,filter:"all",sort:"recent",tag:null,search:"",searchResults:[],count:null,posts:Object(p.a)(Object(p.a)({},R),x),post_ids:[].concat(Object(a.a)(t.data.posts.map((function(e){return e.id}))),Object(a.a)(e.drafts.map((function(e){return e.data.id}))))}))});case"UPDATE_WORKSPACE_POST_FILTER_SORT":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),e.workspacePosts[t.data.topic_id]&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{filter:t.data.filter,tag:t.data.tag,postListTag:t.data.postListTag})))});case"JOIN_WORKSPACE_REDUCER":var I=Object(p.a)({},e.workspaces),P=Object(p.a)({},e.search),D=null;return Object.keys(I).length&&Object.values(I).forEach((function(e){e.channel.id&&e.channel.id===t.data.channel_id&&(I[e.id].members=[].concat(Object(a.a)(I[e.id].members),Object(a.a)(t.data.users)),I[e.id].member_ids=[].concat(Object(a.a)(I[e.id].member_ids),Object(a.a)(t.data.users.map((function(e){return e.id})))),D=I[e.id])})),P.results.length&&(P.results=P.results.map((function(e){return e.channel.id===t.data.channel_id?Object(p.a)(Object(p.a)({},e),{},{members:[].concat(Object(a.a)(e.members),Object(a.a)(t.data.users))}):e}))),Object(p.a)(Object(p.a)({},e),{},{workspaces:I,activeTopic:e.activeTopic&&e.activeTopic.channel.id===t.data.channel_id&&D?D:e.activeTopic,search:P});case"GET_DRAFTS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{drafts:t.data.filter((function(e){return"draft_post"===e.data.type})).map((function(e){return Object.assign({},e,Object(p.a)(Object(p.a)({},e.data),{},{draft_id:e.id,post_id:e.data.id,updated_at:e.data.created_at,is_unread:0,unread_count:0,is_close:!1,post_approval_label:null}))}))});case"SAVE_DRAFT_SUCCESS":if("draft_post"===t.data.data.draft_type&&t.data.data.topic_id){var L=Object(p.a)(Object(p.a)(Object(p.a)({},t.data),t.data.data),{},{id:t.data.data.id,post_id:t.data.data.id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,post_approval_label:null});return Object(p.a)(Object(p.a)({},e),{},{drafts:[].concat(Object(a.a)(e.drafts),[L]),workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),{},Object(m.a)({},t.data.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.data.topic_id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.data.topic_id].posts),{},Object(m.a)({},L.id,L))})))})}return e;case"UPDATE_DRAFT_SUCCESS":if("draft_post"===t.data.data.draft_type&&t.data.data.topic_id&&e.workspacePosts[t.data.data.topic_id]){var F=Object(p.a)({},e.workspacePosts);return F[t.data.data.topic_id].posts[t.data.data.id]=Object(p.a)(Object(p.a)(Object(p.a)({},F[t.data.data.topic_id].posts[t.data.data.post_id]),t.data.data),{},{id:t.data.data.post_id,post_id:t.data.data.post_id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,post_approval_label:null}),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:F})}return e;case"DELETE_DRAFT":if("draft_post"===t.data.draft_type&&t.data.topic_id&&e.workspacePosts[t.data.topic_id]){var M=Object(a.a)(e.drafts.filter((function(e){return e.draft_id!==t.data.draft_id}))),H=Object(p.a)({},e.workspacePosts[t.data.topic_id].posts);return delete H[t.data.post_id],Object(p.a)(Object(p.a)({},e),{},{drafts:M,workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:H})))})}return e;case"FETCH_COMMENTS_SUCCESS":var B=Object(p.a)({},e.postComments),W={};return t.data.messages.length&&t.data.messages.forEach((function(e){W[e.id]=Object(p.a)(Object(p.a)({},e),{},{clap_user_ids:[],replies:Object(b.a)(e.replies.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{clap_user_ids:[]})})),"id"),skip:e.replies.length,hasMore:10===e.replies.length,limit:10})})),B[t.data.post_id]=Object(p.a)(Object(p.a)({},"undefined"!==typeof B[t.data.post_id]&&B[t.data.post_id]),{},{skip:t.data.next_skip,hasMore:20===t.data.messages.length,comments:Object(p.a)(Object(p.a)({},W),"undefined"!==typeof B[t.data.post_id]&&B[t.data.post_id].comments)}),Object(p.a)(Object(p.a)({},e),{},{postComments:B});case"REFETCH_POST_COMMENTS_SUCCESS":var Y=Object(p.a)({},e.postComments),z={};return t.data.messages.length&&t.data.messages.forEach((function(e){z[e.id]=Object(p.a)(Object(p.a)({},e),{},{clap_user_ids:[],replies:Object(b.a)(e.replies.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{clap_user_ids:[]})})),"id"),skip:e.replies.length,hasMore:10===e.replies.length,limit:10})})),Y[t.data.post_id]=Object(p.a)(Object(p.a)({},"undefined"!==typeof Y[t.data.post_id]&&Y[t.data.post_id]),{},{skip:t.data.next_skip,hasMore:20===t.data.messages.length,comments:Object(p.a)(Object(p.a)({},z),"undefined"!==typeof Y[t.data.post_id]&&Y[t.data.post_id].comments)}),Object(p.a)(Object(p.a)({},e),{},{postComments:Y});case"ADD_COMMENT_REACT":return Object(p.a)(Object(p.a)({},e),{},{postComments:Object(p.a)(Object(p.a)({},e.postComments),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id]),t.data.parent_id?{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.parent_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]),{},{clap_user_ids:[].concat(Object(a.a)(e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_user_ids),[e.user.id]),clap_count:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_count+1,user_clap_count:1})))})))}:Object(p.a)({},e.postComments[t.data.post_id]&&{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.id]),{},{clap_user_ids:[].concat(Object(a.a)(e.postComments[t.data.post_id].comments[t.data.id].clap_user_ids),[e.user.id]),clap_count:e.postComments[t.data.post_id].comments[t.data.id].clap_count+1,user_clap_count:1})))}))))});case"REMOVE_COMMENT_REACT":return Object(p.a)(Object(p.a)({},e),{},{postComments:Object(p.a)(Object(p.a)({},e.postComments),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id]),t.data.parent_id&&e.postComments[t.data.post_id]?{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.parent_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]),{},{clap_user_ids:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_count-1,user_clap_count:0})))})))}:Object(p.a)({},e.postComments[t.data.post_id]&&{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.id]),{},{clap_user_ids:e.postComments[t.data.post_id].comments[t.data.id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.postComments[t.data.post_id].comments[t.data.id].clap_count-1,user_clap_count:0})))}))))});case"GET_REPLY_CLAP_HOVER_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{postComments:Object(p.a)(Object(p.a)({},e.postComments),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id]),t.data.parent_id&&e.postComments[t.data.post_id]?{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.parent_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(m.a)({},t.data.message_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.message_id]),{},{clap_user_ids:t.data.claps.map((function(e){return e.user_id})),fetchedReact:!0})))})))}:Object(p.a)({},e.postComments[t.data.post_id]&&{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.message_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.message_id]),{},{clap_user_ids:t.data.claps.map((function(e){return e.user_id})),fetchedReact:!0})))}))))});case"ADD_POST_REACT":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.post_id]),{},{clap_user_ids:[].concat(Object(a.a)(e.workspacePosts[n].posts[t.data.post_id].clap_user_ids),[e.user.id]),clap_count:e.workspacePosts[n].posts[t.data.post_id].clap_count+1,user_clap_count:1})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))});case"REMOVE_POST_REACT":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.post_id]),{},{clap_user_ids:e.workspacePosts[n].posts[t.data.post_id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.workspacePosts[n].posts[t.data.post_id].clap_count-1,user_clap_count:0})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))});case"GET_POST_CLAP_HOVER_SUCCESS":var V=t.data.claps.map((function(e){return e.user_id}));return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.post_id]),{},{fetchedReact:!0,clap_user_ids:V})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))});case"ADD_COMMENT":var Q=Object(p.a)({},e.postComments[t.data.post_id]);return Q=t.data.parent_id?Object(p.a)(Object(p.a)({},Q),{},{comments:Object(p.a)(Object(p.a)({},Q.comments),{},Object(m.a)({},t.data.parent_id,Object(p.a)(Object(p.a)({},Q.comments[t.data.parent_id]),{},{replies:Object(p.a)(Object(p.a)({},Q.comments[t.data.parent_id].replies),{},Object(m.a)({},t.data.id,t.data))})))}):Object(p.a)(Object(p.a)({},Q),{},{comments:Object(p.a)(Object(p.a)({},Q.comments),{},Object(m.a)({},t.data.id,t.data))}),Object(p.a)(Object(p.a)({},e),{},{postComments:Object(p.a)(Object(p.a)({},e.postComments),{},Object(m.a)({},t.data.post_id,Q))});case"STAR_POST_REDUCER":return t.data.topic_id?Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts[t.data.post_id]),{},{is_favourite:!e.workspacePosts[t.data.topic_id].posts[t.data.post_id].is_favourite})))}))}):Object(p.a)({},e);case"INCOMING_FAVOURITE_ITEM":return Object(p.a)(Object(p.a)({},e),"post"===t.data.type&&{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.type_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.type_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.type_id]),{},{is_favourite:t.data.is_favourite})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))});case"INCOMING_POST_MARK_DONE":return Object(p.a)(Object(p.a)({},e),{},{flipper:!e.flipper,workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))});case"INCOMING_MARK_AS_READ":return Object(p.a)(Object(p.a)({},e),Object.keys(e.workspacePosts).filter((function(n){return"flipper"!==n&&e.workspacePosts[n]&&e.workspacePosts[n].posts[t.data.result.post_id]})).map((function(n){return Object(p.a)(Object(p.a)({},e.workspacePosts),{},{post:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.result.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.result.post_id]),{},{user_reads:t.data.result.user_reads})))})})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}));case"INCOMING_POST":var q=Object(p.a)({},e.workspacePosts),K=Object(p.a)({},e.workspaces),J=Object(p.a)({},e.folders),Z=!1;return t.data.workspaces.forEach((function(n){q.hasOwnProperty(n.topic_id)&&(q[n.topic_id].posts[t.data.id]=t.data,1===q[n.topic_id].posts[t.data.id].is_must_read?q[n.topic_id].count.is_must_read=q[n.topic_id].count.is_must_read+1:1===q[n.topic_id].posts[t.data.id].is_must_reply?q[n.topic_id].count.is_must_reply=q[n.topic_id].count.is_must_reply+1:1===q[n.topic_id].posts[t.data.id].is_read_only&&(q[n.topic_id].count.is_read_only=q[n.topic_id].count.is_read_only+1)),t.data.author.id!==e.user.id&&"undefined"!==typeof K[n.topic_id]&&(K[n.topic_id].unread_posts=K[n.topic_id].unread_posts+1,e.activeTopic&&e.activeTopic.id===n.topic_id&&(Z=!0),null!==n.workspace_id&&(J[n.workspace_id].unread_count=J[n.workspace_id].unread_count+1))})),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:q,workspaces:K,activeTopic:Z?Object(p.a)(Object(p.a)({},e.activeTopic),{},{unread_posts:e.activeTopic.unread_posts+1}):e.activeTopic});case"INCOMING_TO_DO":case"INCOMING_UPDATE_TO_DO":case"INCOMING_DONE_TO_DO":case"INCOMING_REMOVE_TO_DO":var X=Object(p.a)({},e.workspacePosts),$=Object(p.a)({},e.postComments);return"POST"===t.data.link_type&&t.data.data&&t.data.data.workspaces.forEach((function(e){"undefined"!==typeof X[e.topic.id]&&"undefined"!==typeof X[e.topic.id].posts[t.data.data.post.id]&&(X[e.topic.id].posts[t.data.data.post.id]=Object(p.a)(Object(p.a)({},X[e.topic.id].posts[t.data.data.post.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}}))})),"POST_COMMENT"===t.data.link_type&&t.data.data&&"undefined"!==typeof $[t.data.data.post.id]&&"undefined"!==typeof $[t.data.data.post.id].comments[t.data.data.comment.id]&&($[t.data.data.post.id]=Object(p.a)(Object(p.a)({},$[t.data.data.post.id]),{},{comments:Object(p.a)(Object(p.a)({},$[t.data.data.post.id].comments),{},Object(m.a)({},t.data.data.comment.id,Object(p.a)(Object(p.a)({},$[t.data.data.post.id].comments[t.data.data.comment.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}})))})),Object(p.a)(Object(p.a)({},e),{},{postComments:$,workspacePosts:X});case"INCOMING_UPDATED_POST":var ee=Object(p.a)({},e.workspacePosts);return t.data.recipient_ids.forEach((function(n){ee.hasOwnProperty(n)&&(t.data.is_personal&&!t.data.post_participant_data.all_participant_ids.some((function(t){return t===e.user.id}))?delete ee[n].posts[t.data.id]:ee[n].posts.hasOwnProperty(t.data.id)?ee[n].posts[t.data.id]=Object(p.a)(Object(p.a)({},t.data),{},{clap_user_ids:ee[n].posts[t.data.id].clap_user_ids}):ee[n].posts[t.data.id]=Object(p.a)(Object(p.a)({},t.data),{},{clap_user_ids:[]}))})),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:ee});case"INCOMING_DELETED_POST":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.recipient_ids.reduce((function(n,a){return e.workspacePosts[a]&&(n[a]=Object(p.a)(Object(p.a)({},e.workspacePosts[a]),e.workspacePosts[a].posts&&{posts:Object(p.a)({},Object.keys(e.workspacePosts[a].posts).filter((function(e){return parseInt(e)!==t.data.id})).reduce((function(t,n){return t[n]=Object(p.a)({},e.workspacePosts[a].posts[n]),t}),{}))})),n}),{}))});case"INCOMING_COMMENT":var te="POST_COMMENT_CREATE"===t.data.SOCKET_TYPE,ne=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null===e.ip_address})).length===t.data.users_approval.length,ae=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,re=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,ie=t.data.users_approval.some((function(t){return t.id===e.user.id}));return Object(p.a)(Object(p.a)({},e),{},{postComments:Object(p.a)(Object(p.a)({},e.postComments),e.postComments[t.data.post_id]&&Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id]),{},{comments:Object(p.a)(Object(p.a)(Object(p.a)({},Object.keys(e.postComments[t.data.post_id].comments).reduce((function(n,a){return t.data.parent_id?n[a]=Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[a]),{},{replies:Object(p.a)({},Object.keys(e.postComments[t.data.post_id].comments[a].replies).reduce((function(n,r){return t.data.reference_id&&r===t.data.reference_id?n[t.data.id]=Object(p.a)(Object(p.a)({},t.data),{},{clap_user_ids:[]}):parseInt(r)===t.data.id?n[r]=Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[a].replies[r]),{},{body:t.data.body,updated_at:t.data.updated_at,quote:t.data.quote}):n[r]=e.postComments[t.data.post_id].comments[a].replies[r],n}),{}))}):t.data.reference_id&&a===t.data.reference_id?n[t.data.id]=t.data:parseInt(a)===t.data.id?n[a]=Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[a]),{},{body:t.data.body,updated_at:t.data.updated_at,quote:t.data.quote}):n[a]=e.postComments[t.data.post_id].comments[a],n}),{})),e.user.id!==t.data.author.id&&te&&Object(p.a)(Object(p.a)({},t.data.parent_id&&e.postComments[t.data.post_id].comments[t.data.parent_id]&&Object(m.a)({},t.data.parent_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(m.a)({},t.data.id,t.data))}))),!t.data.parent_id&&Object(m.a)({},t.data.id,t.data))),!t.data.hasOwnProperty("reference_id")&&Object(p.a)(Object(p.a)({},t.data.parent_id&&e.postComments[t.data.post_id].comments[t.data.parent_id]&&Object(m.a)({},t.data.parent_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(m.a)({},t.data.id,t.data))}))),!t.data.parent_id&&Object(m.a)({},t.data.id,t.data)))}))),workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.reduce((function(n,a){return e.workspacePosts[a.topic_id]&&(n[a.topic_id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic_id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic_id].posts),e.workspacePosts[a.topic_id].posts[t.data.post_id]&&Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic_id].posts[t.data.post_id]),{},{post_approval_label:re?"ACCEPTED":ae?"REQUEST_UPDATE":ie&&ne?"NEED_ACTION":e.workspacePosts[a.topic_id].posts[t.data.post_id].author.id===t.data.author.id&&ne?"REQUEST_APPROVAL":e.workspacePosts[a.topic_id].posts[t.data.post_id].post_approval_label,reply_count:te?e.workspacePosts[a.topic_id].posts[t.data.post_id].reply_count+1:e.workspacePosts[a.topic_id].posts[t.data.post_id].reply_count,updated_at:te?t.data.updated_at:e.workspacePosts[a.topic_id].posts[t.data.post_id].updated_at,has_replied:!(!te||t.data.author.id!==e.user.id)||e.workspacePosts[a.topic_id].posts[t.data.post_id].has_replied,unread_count:te&&t.data.author.id!==e.user.id?e.workspacePosts[a.topic_id].posts[t.data.post_id].unread_count+1:e.workspacePosts[a.topic_id].posts[t.data.post_id].unread_count,is_unread:te&&t.data.author.id!==e.user.id?1:e.workspacePosts[a.topic_id].posts[t.data.post_id].is_unread})))})),n}),{}))});case"ADD_PRIMARY_FILES":return Object(p.a)(Object(p.a)({},e),{},{workspaces:Object(p.a)(Object(p.a)(Object(p.a)({},e.workspaces),t.data.folder_id&&e.workspaces[t.data.folder_id]&&e.workspaces[t.data.folder_id].topics[t.data.id]&&Object(m.a)({},t.data.folder_id,Object(p.a)(Object(p.a)({},e.workspaces[t.data.folder_id]),{},{topics:Object(p.a)(Object(p.a)({},e.workspaces[t.data.folder_id].topics),{},Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.workspaces[t.data.folder_id].topics[t.data.id]),{},{primary_files:t.data.files})))}))),e.workspaces[t.data.id]&&Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.workspaces[t.data.id]),{},{primary_files:t.data.files}))),activeTopic:e.activeTopic.id===t.data.id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{primary_files:t.data.files}):e.activeTopic});case"UPLOADING_WORKSPACE_FILES_SUCCESS":var ce=Object(p.a)({},e.workspaces),oe=t.data.files.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{uploader:e.user})}));return ce.hasOwnProperty(t.data.topic_id)&&(ce[t.data.topic_id].hasOwnProperty("primary_files")?ce[t.data.topic_id].primary_files=Object(a.a)(new Set([].concat(Object(a.a)(ce[t.data.topic_id].primary_files),Object(a.a)(oe)))):ce[t.data.topic_id].primary_files=oe),Object(p.a)(Object(p.a)({},e),{},{workspaces:ce,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{primary_files:e.activeTopic.hasOwnProperty("primary_files")?Object(a.a)(new Set([].concat(Object(a.a)(e.activeTopic.primary_files),Object(a.a)(oe)))):oe}):e.activeTopic});case"INCOMING_POST_CLAP":var se=Object.keys(e.workspacePosts);return Object(p.a)(Object(p.a)({},e),se.length&&{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),se.reduce((function(n,r){return n=Object(p.a)(Object(p.a)({},n),{},Object(m.a)({},r,"undefined"===typeof e.workspacePosts[r].posts||"undefined"===typeof e.workspacePosts[r].posts[t.data.post_id]?e.workspacePosts[r]:Object(p.a)(Object(p.a)({},e.workspacePosts[r]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[r].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[r].posts[t.data.post_id]),1===t.data.clap_count?{clap_count:e.workspacePosts[r].posts[t.data.post_id].clap_count+1,clap_user_ids:[].concat(Object(a.a)(e.workspacePosts[r].posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))),[t.data.author.id]),user_clap_count:t.data.author.id===e.user.id?1:e.workspacePosts[r].posts[t.data.post_id].user_clap_count}:{clap_count:e.workspacePosts[r].posts[t.data.post_id].clap_count-1,clap_user_ids:e.workspacePosts[r].posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id})),user_clap_count:t.data.author.id===e.user.id?0:e.workspacePosts[r].posts[t.data.post_id].user_clap_count})))})))}),{}))});case"INCOMING_COMMENT_CLAP":return Object(p.a)(Object(p.a)({},e),"undefined"!==typeof e.postComments[t.data.post_id]&&(t.data.parent_message_id?"undefined"!==typeof e.postComments[t.data.post_id].comments[t.data.parent_message_id]&&"undefined"!==typeof e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id]:"undefined"!==typeof e.postComments[t.data.post_id].comments[t.data.message_id])&&{postComments:Object(p.a)(Object(p.a)({},e.postComments),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id]),t.data.parent_message_id?{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.parent_message_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_message_id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies),{},Object(m.a)({},t.data.message_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id]),{},{user_clap_count:t.data.clap_count,clap_count:e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_count+(1===t.data.clap_count?1:-1),clap_user_ids:1===t.data.clap_count?[].concat(Object(a.a)(e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_user_ids),[t.data.author.id]):e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))})))})))}:{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),{},Object(m.a)({},t.data.message_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.message_id]),{},{user_clap_count:t.data.clap_count,clap_count:e.postComments[t.data.post_id].comments[t.data.message_id].clap_count+(1===t.data.clap_count?1:-1),clap_user_ids:1===t.data.clap_count?[].concat(Object(a.a)(e.postComments[t.data.post_id].comments[t.data.message_id].clap_user_ids),[t.data.author.id]):e.postComments[t.data.post_id].comments[t.data.message_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))})))})))});case"FETCH_TIMELINE_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaceTimeline:Object(p.a)(Object(p.a)({},e.workspaceTimeline),{},Object(m.a)({},t.data.topic_id,Object(p.a)({},"undefined"===typeof e.workspaceTimeline[t.data.topic_id]?{hasMore:t.data.total_count>10,timeline:t.data.timeline.reduce((function(e,t){return e[t.id]=t,e}),{}),total_items:t.data.total_count,page:1,maxPage:Math.ceil(t.data.total_count/10)}:Object(p.a)(Object(p.a)({},e.workspaceTimeline[t.data.topic_id]),{},{hasMore:Object.keys(e.workspaceTimeline[t.data.topic_id].timeline).length+t.data.timeline.length===t.data.total_count,timeline:Object(p.a)(Object(p.a)({},e.workspaceTimeline[t.data.topic_id].timeline),t.data.timeline.reduce((function(e,t){return e[t.id]=t,e}),{})),total_items:t.data.total_count,maxPage:Math.ceil(t.data.total_count/10)}))))});case"FETCH_WORKSPACE_MEMBERS_SUCCESS":var le=Object(p.a)({},e.workspaces);return le[t.data.id].members=t.data.members,Object(p.a)(Object(p.a)({},e),{},{workspaces:le,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{members:t.data.members}):e.activeTopic});case"FETCH_TAG_COUNTER_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{count:{is_must_reply:t.data.counters.filter((function(e){return"MUST_REPLY"===e.type}))[0].counter,is_must_read:t.data.counters.filter((function(e){return"MUST_READ"===e.type}))[0].counter,is_read_only:t.data.counters.filter((function(e){return"READ_ONLY"===e.type}))[0].counter}})))});case"INCOMING_POST_VIEWER":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.post_id]),e.workspacePosts[n].posts[t.data.post_id].view_user_ids&&{view_user_ids:[].concat(Object(a.a)(e.workspacePosts[n].posts[t.data.post_id].view_user_ids),[t.data.viewer.id])})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{}))});case"ARCHIVE_POST_REDUCER":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).length>0&&Object(p.a)({},Object.keys(e.workspacePosts).reduce((function(n,a){return n[a]=Object(p.a)(Object(p.a)({},e.workspacePosts[a]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a].posts),Object.values(e.workspacePosts[a].posts).length>0&&Object(p.a)({},Object.values(e.workspacePosts[a].posts).reduce((function(e,n){return e[n.id]=Object(p.a)(Object(p.a)({},n),{},{is_archived:n.id===t.data.post_id?t.data.is_archived:n.is_archived}),e}),{})))}),n}),{})))});case"ARCHIVE_REDUCER":var de=Object(p.a)({},e.workspaces),ue=Object(p.a)({},e.folders),me=Object(p.a)({},e.search);return de[t.data.topic_detail.id]&&(de[t.data.topic_detail.id].active=0),t.data.topic_detail.workspace_id&&0!==t.data.topic_detail.workspace_id&&ue[t.data.topic_detail.workspace_id]&&(ue[t.data.topic_detail.workspace_id].workspace_ids=ue[t.data.topic_detail.workspace_id].workspace_ids.filter((function(e){return e!==t.data.topic_detail.id}))),me.results.length&&(me.results=me.results.map((function(e){return e.topic.id===t.data.topic_detail.id?Object(p.a)(Object(p.a)({},e),{},{topic:Object(p.a)(Object(p.a)({},e.topic),{},{is_archive:!0})}):e}))),Object(p.a)(Object(p.a)({},e),{},{folders:ue,workspaces:de,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_detail.id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{active:0}):e.activeTopic,search:me});case"UNARCHIVE_REDUCER":var pe=Object(p.a)({},e.workspaces),fe=Object(p.a)({},e.search);return pe.hasOwnProperty(t.data.topic_detail.id)&&(pe[t.data.topic_detail.id].active=1),fe.results.length&&(fe.results=fe.results.map((function(e){return e.topic.id===t.data.topic_detail.id?Object(p.a)(Object(p.a)({},e),{},{topic:Object(p.a)(Object(p.a)({},e.topic),{},{is_archive:!1})}):e}))),Object(p.a)(Object(p.a)({},e),{},{search:fe,workspaces:pe,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_detail.id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{active:1}):e.activeTopic});case"INCOMING_POST_TOGGLE_FOLLOW":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.post_id]),{},{is_followed:t.data.is_followed})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{})),activeTopic:Object(p.a)(Object(p.a)({},e.activeTopic),e.workspacePosts.hasOwnProperty(e.workspacePosts)&&e.workspacePosts[e.activeTopic.id].posts.hasOwnProperty(t.data.post_id)&&{is_followed:!1})});case"INCOMING_READ_UNREAD_REDUCER":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(n){return e.workspacePosts[n].posts&&e.workspacePosts[n].posts.hasOwnProperty(t.data.post_id)})).map((function(n){return Object(m.a)({},n,Object(p.a)(Object(p.a)({},e.workspacePosts[n]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[n].posts[t.data.post_id]),{},{is_unread:t.data.unread,unread_count:0===t.data.unread?0:e.workspacePosts[n].posts[t.data.post_id].unread_count})))}))})).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),t)}),{})),activeTopic:Object(p.a)(Object(p.a)({},e.activeTopic),e.activeTopic&&e.workspacePosts.hasOwnProperty(e.activeTopic.id)&&e.workspacePosts[e.activeTopic.id].posts.hasOwnProperty(t.data.post_id)&&{unread_count:e.activeTopic.unread_count+(t.data.unread?1:-1),unread_posts:e.activeTopic.unread_posts+(t.data.unread?1:-1)})});case"INCOMING_TIMELINE":var be=Object(p.a)({},e.workspaceTimeline);return be.hasOwnProperty(t.data.workspace_data.topic_id)?(be[t.data.workspace_data.topic_id].timeline[t.data.timeline_data.id]=t.data.timeline_data,be[t.data.workspace_data.topic_id].total_items=be[t.data.workspace_data.topic_id].total_items+1,Object(p.a)(Object(p.a)({},e),{},{workspaceTimeline:be})):e;case"INCOMING_DELETED_POST_FILE":var he=Object(p.a)({},e.workspacePosts),_e=Object(p.a)({},e.postComments);return t.data.connected_workspace.length&&Object.keys(he).length?(t.data.connected_workspace.forEach((function(e){he.hasOwnProperty(e.topic_id)&&he[e.topic_id].hasOwnProperty("posts")&&he[e.topic_id].posts.hasOwnProperty(t.data.post_id)&&(he[e.topic_id].posts[t.data.post_id].files=he[e.topic_id].posts[t.data.post_id].files.filter((function(e){return e.id!==t.data.file_id}))),t.data.message_id&&Object.keys(_e).length&&_e.hasOwnProperty(t.data.post_id)&&Object.values(_e[t.data.post_id].comments).forEach((function(e){e.id===t.data.message_id?_e[t.data.post_id].comments[t.data.message_id].files=_e[t.data.post_id].comments[t.data.message_id].files.filter((function(e){return e.id!==t.data.file_id})):e.replies.hasOwnProperty(t.data.message_id)&&(_e[t.data.post_id].comments[e.id].replies[t.data.message_id].files=_e[t.data.post_id].comments[e.id].replies[t.data.message_id].files.filter((function(e){return e.id!==t.data.file_id})))}))})),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:he,postComments:_e})):e;case"INCOMING_DELETED_COMMENT":var Oe=Object(p.a)({},e.postComments);return Oe.hasOwnProperty(t.data.post_id)&&(t.data.parent_id?delete Oe[t.data.post_id].comments[t.data.parent_id].replies[t.data.message_id]:delete Oe[t.data.post_id].comments[t.data.message_id]),Object(p.a)(Object(p.a)({},e),{},{postComments:Oe});case"INCOMING_CHAT_MESSAGE":var Ee=e.activeTopic?Object(p.a)({},e.activeTopic):null;if(t.data.is_read){var ge=Object(p.a)({},e.workspaces);return Object.keys(ge).length>0?(ge.hasOwnProperty(t.data.workspace_id)&&e.activeTopic&&e.activeTopic.id===t.data.workspace_id&&(e.activeTopic.team_channel&&e.activeTopic.team_channel.id===t.data.channel_id?(Ee.team_unread_chats=0,ge[t.data.workspace_id].team_unread_chats=0):(ge[t.data.workspace_id].unread_chats=0,Ee.unread_chats=0)),Object(p.a)(Object(p.a)({},e),{},{workspaces:ge,activeTopic:Ee})):e}var Ae=Object(p.a)({},e.workspaces);return Object.keys(Ae).length>0?(Ae.hasOwnProperty(t.data.workspace_id)&&e.activeTopic&&e.activeTopic.id===t.data.workspace_id&&(e.activeTopic.team_channel&&e.activeTopic.team_channel.id===t.data.channel_id?(Ee.team_unread_chats=Ee.team_unread_chats+1,Ae[t.data.workspace_id].team_unread_chats=Ae[t.data.workspace_id].team_unread_chats+1):(Ee.unread_chats=Ee.unread_chats+1,Ae[t.data.workspace_id].unread_chats=Ae[t.data.workspace_id].unread_chats+1)),Object(p.a)(Object(p.a)({},e),{},{workspaces:Ae,activeTopic:Ee})):e;case"READ_CHANNEL_REDUCER":return Object(p.a)(Object(p.a)({},e),{},{workspaces:Object(p.a)({},Object.values(e.workspaces).map((function(e){return e.id===t.data.id?Object(p.a)(Object(p.a)({},e),{},{team_unread_chats:t.data.channel_id===e.team_channel.id?0:e.team_unread_chats,unread_chats:t.data.channel_id===e.channel.id?0:e.unread_chats}):e})).reduce((function(e,t){return e[t.id]=t,e}),{})),activeTopic:e.activeTopic&&e.activeTopic.id===t.data.id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{team_unread_chats:t.data.channel_id===e.activeTopic.team_channel.id?0:e.activeTopic.team_unread_chats,unread_chats:t.data.channel_id===e.activeTopic.channel.id?0:e.activeTopic.unread_chats}):e.activeTopic});case"GET_FOLDER_SUCCESS":var ve=Object(p.a)({},e.folders);return ve[t.data.workspace_id]=Object(p.a)(Object(p.a)({},t.data.workspace_data),{},{workspace_ids:t.data.workspace_data.topics.map((function(e){return e.id}))}),Object(p.a)(Object(p.a)({},e),{},{folders:ve});case"UPDATE_WORKSPACE_COUNTER":var je=Object(p.a)({},e.workspaces),Ce=Object(p.a)({},e.activeTopic);return Object.keys(je).length>0&&(je[t.data.topic_id].unread_posts=t.data.unread_posts,t.data.folder_id,e.activeTopic&&e.activeTopic.id===t.data.topic_id&&(Ce.unread_posts=t.data.unread_posts)),Object(p.a)(Object(p.a)({},e),{},{workspaces:je,activeTopic:Ce});case"INCOMING_DELETED_FILES":var Te=Object(p.a)({},e.workspaces);return Te.hasOwnProperty(t.data.topic_id)&&1===t.data.is_primary&&Te[t.data.topic_id].hasOwnProperty("primary_files")&&(Te[t.data.topic_id].primary_files=Te[t.data.topic_id].primary_files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e.id}))}))),Object(p.a)(Object(p.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{primary_files:e.activeTopic.hasOwnProperty("primary_files")?e.activeTopic.primary_files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e.id}))})):[]}):e.activeTopic,workspaces:Te});case"LEAVE_WORKSPACE":var ye=Object(p.a)({},e.workspaces);return ye.hasOwnProperty(t.data.workspace_id)&&(ye[t.data.workspace_id].members=ye[t.data.workspace_id].members.filter((function(t){return t.id!==e.user.id})),ye[t.data.workspace_id].member_ids=ye[t.data.workspace_id].member_ids.filter((function(t){return t!==e.user.id}))),Object(p.a)(Object(p.a)({},e),{},{workspaces:ye,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.workspace_id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{members:e.activeTopic.members.filter((function(t){return t.id!==e.user.id})),member_ids:e.activeTopic.member_ids.filter((function(t){return t!==e.user.id}))}):e.activeTopic});case"INCOMING_WORKSPACE_ROLE":var Se=Object(p.a)({},e.workspaces);return Se.hasOwnProperty(t.data.topic_id)&&(Se[t.data.topic_id].members=Se[t.data.topic_id].members.map((function(e){return e.id===t.data.user_id?Object(p.a)(Object(p.a)({},e),{},{workspace_role:t.data.role}):e}))),Object(p.a)(Object(p.a)({},e),{},{workspaces:Se,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{members:e.activeTopic.members.map((function(e){return e.id===t.data.user_id?Object(p.a)(Object(p.a)({},e),{},{workspace_role:t.data.role}):e}))}):e.activeTopic});case"INCOMING_DELETED_WORKSPACE_FOLDER":var we=Object(p.a)({},e.folders),ke=Object(p.a)({},e.workspaces),Ne=e.activeTopic?Object(p.a)({},e.activeTopic):null;return we.hasOwnProperty(t.data.id)&&(Object.values(ke).forEach((function(e){e.folder_id&&e.folder_id===t.data.id&&(ke[e.id].folder_id=null,ke[e.id].folder_name=null,Ne&&Ne.id===e.id&&(Ne.folder_id=null,Ne.folder_name=null))})),delete we[t.data.id]),Object(p.a)(Object(p.a)({},e),{},{activeTopic:Ne,workspaces:ke,folders:we});case"SET_WORKSPACE_TO_DELETE":return Object(p.a)(Object(p.a)({},e),{},{workspaceToDelete:t.data});case"INCOMING_EXTERNAL_USER":var Re=Object(p.a)({},e.workspaces),xe=null;return Re.hasOwnProperty(t.data.current_topic.id)&&(Re[t.data.current_topic.id].members=Re[t.data.current_topic.id].members.map((function(e){return e.id===t.data.current_user.id?Object(p.a)(Object(p.a)({},e),t.data.current_user):e})),e.activeTopic&&e.activeTopic.id===t.data.current_topic.id&&(xe=Object(p.a)(Object(p.a)({},e.activeTopic),{},{members:e.activeTopic.members.map((function(e){return e.id===t.data.current_user.id?Object(p.a)(Object(p.a)({},e),t.data.current_user):e}))}))),Object(p.a)(Object(p.a)({},e),{},{workspaces:Re,activeTopic:xe});case"UPDATE_WORKSPACE_TIMELINE_PAGE":var Ie=Object(p.a)({},e.workspaceTimeline);return Ie[t.data.id].page=t.data.page,Object(p.a)(Object(p.a)({},e),{},{workspaceTimeline:Ie});case"READ_ALL_POSTS":var Pe=Object(p.a)({},e.workspacePosts),De=Object(p.a)({},e.workspaces),Le=e.activeTopic?Object(p.a)({},e.activeTopic):null;return t.data.topic_id&&Pe.hasOwnProperty(t.data.topic_id)?(Object.values(Pe[t.data.topic_id].posts).forEach((function(e){Pe[t.data.topic_id].posts[e.id].is_read=!0,Pe[t.data.topic_id].posts[e.id].unread_count=0,Pe[t.data.topic_id].posts[e.id].is_unread=0})),De[t.data.topic_id].unread_posts=0,Le&&Le.id===t.data.topic_id&&(Le.unread_posts=0),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Pe,workspaces:De,activeTopic:Le})):e;case"ARCHIVE_ALL_POSTS":var Fe=Object(p.a)({},e.workspacePosts);return t.data.topic_id&&Fe.hasOwnProperty(t.data.topic_id)?(Object.values(Fe[t.data.topic_id].posts).forEach((function(e){Fe[t.data.topic_id].posts[e.id].is_archived=1,Fe[t.data.topic_id].posts[e.id].unread_count=0})),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Fe})):e;case"GET_UNARCHIVE_POST_DETAIL_SUCCESS":case"GET_POST_DETAIL_SUCCESS":var Me=Object(p.a)({},e.workspacePosts),Ue=Object(p.a)(Object(p.a)({},t.data),{},{clap_user_ids:[]});return t.data.workspaces.forEach((function(e){Me.hasOwnProperty(e.topic_id)?Me[e.topic_id].posts[Ue.id]=Ue:Me[e.topic_id]={filters:{},filter:"all",sort:"recent",tag:null,search:"",searchResults:[],count:null,posts:Object(m.a)({},Ue.id,Ue),post_ids:[Ue.id]}})),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Me});case"UPDATE_POST_FILES":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.topic_id&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts[t.data.post_id]),{},{files:e.workspacePosts[t.data.topic_id].posts[t.data.post_id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))})))});case"UPDATE_COMMENT_FILES":return Object(p.a)(Object(p.a)({},e),{},{postComments:Object(p.a)(Object(p.a)({},e.postComments),t.data.post_id&&Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id]),{},{comments:Object(p.a)(Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments),t.data.parent_id&&Object(m.a)({},t.data.parent_id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]),{},{files:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))}))),null===t.data.parent_id&&Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post_id].comments[t.data.id]),{},{files:e.postComments[t.data.post_id].comments[t.data.id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))})))});case"INCOMING_IMPORTANT_COMMENT":return Object(p.a)(Object(p.a)({},e),e.postComments[t.data.post.id]&&{postComments:Object(p.a)(Object(p.a)({},e.postComments),{},Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id]),{},{comments:Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments),e.postComments[t.data.post.id].comments[t.data.comment.id]&&Object(m.a)({},t.data.comment.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id]),{},{is_important:!e.postComments[t.data.post.id].comments[t.data.comment.id].is_important})))})))});case"INCOMING_READ_SELECTED_POSTS":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.topic_id&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts),t.data.post_ids.reduce((function(n,a){return e.workspacePosts[t.data.topic_id].posts[a]&&(n[a]=Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts[a]),{},{is_read:!0,unread_count:0,is_unread:0})),n}),{}))})))});case"INCOMING_ARCHIVED_SELECTED_POSTS":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.topic_id&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts),t.data.post_ids.reduce((function(n,a){return e.workspacePosts[t.data.topic_id].posts[a]&&(n[a]=Object(p.a)(Object(p.a)({},e.workspacePosts[t.data.topic_id].posts[a]),{},{is_archived:1,unread_count:0,is_unread:0})),n}),{}))})))});case"UPDATE_WORKSPACE_POST_COUNT":return Object(p.a)(Object(p.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{unread_posts:t.data.count}):e.activeTopic,workspaces:Object(p.a)(Object(p.a)({},e.workspaces),e.workspaces[t.data.topic_id]&&Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaces[t.data.topic_id]),{},{unread_posts:t.data.count})))});case"INCOMING_POST_APPROVAL":var Ge=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,He=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,Be=!t.data.users_approval.some((function(e){return null===e.ip_address}));return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.reduce((function(n,a){return e.workspacePosts[a.topic.id]&&(n[a.topic.id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts),{},Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts[t.data.post.id]),{},{post_approval_label:He?"ACCEPTED":Ge?"REQUEST_UPDATE":!Be||Ge||He?t.data.user_approved.id===e.user.id?null:e.workspacePosts[a.topic.id].posts[t.data.post.id].post_approval_label:"SPLIT",users_approval:e.workspacePosts[a.topic.id].posts[t.data.post.id].users_approval.map((function(e){return e.id===t.data.user_approved.id?Object(p.a)(Object(p.a)({},e),t.data.user_approved):e}))})))})),n}),{})))});case"INCOMING_COMMENT_APPROVAL":var We=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,Ye=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,ze=!t.data.users_approval.some((function(e){return null===e.ip_address}));return Object(p.a)(Object(p.a)({},e),{},{postComments:Object(p.a)(Object(p.a)({},e.postComments),e.postComments[t.data.post.id]&&Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id]),{},{comments:Object(p.a)(Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments),e.postComments[t.data.post.id].comments[t.data.comment.id]&&Object(m.a)({},t.data.comment.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id]),{},{users_approval:e.postComments[t.data.post.id].comments[t.data.comment.id].users_approval.length>1?e.postComments[t.data.post.id].comments[t.data.comment.id].users_approval.map((function(e){return e.id===t.data.user_approved.id?Object(p.a)(Object(p.a)({},e),t.data.user_approved):e})):[],replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id].replies),t.data.transferred_comment&&e.postComments[t.data.post.id].comments[t.data.comment.id].replies[t.data.transferred_comment.id]&&Object(m.a)({},t.data.transferred_comment.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id].replies[t.data.transferred_comment.id]),{},{users_approval:[Object(p.a)(Object(p.a)({},t.data.user_approved),{},{created_at:t.data.created_at})]})))}))),!e.postComments[t.data.post.id].comments.hasOwnProperty(t.data.comment.id)&&Object(p.a)({},Object.keys(e.postComments[t.data.post.id].comments).reduce((function(n,a){return n[a]=Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[a]),e.postComments[t.data.post.id].comments[a].replies[t.data.comment.id]&&{replies:Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[a].replies),{},Object(m.a)({},t.data.comment.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[a].replies[t.data.comment.id]),{},{users_approval:[]})),t.data.transferred_comment&&e.postComments[t.data.post.id].comments[a].replies[t.data.transferred_comment.id]&&Object(m.a)({},t.data.transferred_comment.id,Object(p.a)(Object(p.a)({},e.postComments[t.data.post.id].comments[a].replies[t.data.transferred_comment.id]),{},{users_approval:[Object(p.a)(Object(p.a)({},t.data.user_approved),{},{created_at:t.data.created_at})]})))}),n}),{})))}))),workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.reduce((function(n,a){return e.workspacePosts[a.topic.id]&&(n[a.topic.id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts),{},Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts[t.data.post.id]),{},{post_approval_label:Ye?"ACCEPTED":We?"REQUEST_UPDATE":!ze||We||Ye?t.data.user_approved.id===e.user.id?null:e.workspacePosts[a.topic.id].posts[t.data.post.id].post_approval_label:"SPLIT"})))})),n}),{})))});case"INCOMING_ARCHIVED_USER":var Ve=Object(p.a)({},e.workspaces);return t.data.topic_ids.forEach((function(e){Ve[e].members=Ve[e].members.filter((function(e){return e.id!==t.data.user.id}))})),Object(p.a)(Object(p.a)({},e),{},{workspaces:Ve});case"INCOMING_UNARCHIVED_USER":var Qe=Object(p.a)({},e.workspaces);return t.data.connected_topic_ids.forEach((function(e){Qe[e].members=[].concat(Object(a.a)(Qe[e].members),[t.data.profile])})),Object(p.a)(Object(p.a)({},e),{},{workspaces:Qe});case"SET_POSTREAD":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)({},Object.keys(e.workspacePosts).reduce((function(n,r){return"flipper"!==r&&(n[r]=Object(p.a)(Object(p.a)({},e.workspacePosts[r]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[r].posts),e.workspacePosts[r].posts[t.data.postId]&&Object(m.a)({},t.data.postId,Object(p.a)(Object(p.a)({},e.workspacePosts[r].posts[t.data.postId]),{},{post_reads:Object(a.a)(t.data.readPosts)})))})),n}),{}))});case"INCOMING_CLOSE_POST":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.reduce((function(n,a){return e.workspacePosts[a.topic.id]&&(n[a.topic.id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts),{},Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts[t.data.post.id]),{},{is_close:t.data.is_close})))})),n}),{})))});case"ADD_USER_TO_POST_RECIPIENTS":var qe=Object(p.a)({},e.workspacePosts);return t.data.hasOwnProperty("topic_id")&&qe.hasOwnProperty(t.data.topic_id)&&qe[t.data.topic_id].posts.hasOwnProperty(t.data.post_id)&&(qe[t.data.topic_id].posts[t.data.post_id].hasOwnProperty("to_add")?qe[t.data.topic_id].posts[t.data.post_id].to_add=[].concat(Object(a.a)(qe[t.data.topic_id].posts[t.data.post_id].to_add),Object(a.a)(t.data.recipient_ids)):qe[t.data.topic_id].posts[t.data.post_id].to_add=Object(a.a)(t.data.recipient_ids),qe[t.data.topic_id].posts[t.data.post_id].recipients=[].concat(Object(a.a)(qe[t.data.topic_id].posts[t.data.post_id].recipients),Object(a.a)(t.data.recipients)),qe[t.data.topic_id].posts[t.data.post_id].recipient_ids=[].concat(Object(a.a)(qe[t.data.topic_id].posts[t.data.post_id].recipient_ids),Object(a.a)(t.data.recipient_ids))),Object(p.a)(Object(p.a)({},e),{},{workspacePosts:qe});case"REMOVE_USER_TO_POST_RECIPIENTS":var Ke=Object(p.a)({},e.workspacePosts);if(t.data.hasOwnProperty("topic_id")&&Ke.hasOwnProperty(t.data.topic_id)&&Ke[t.data.topic_id].posts.hasOwnProperty(t.data.post_id)){var Je=Ke[t.data.topic_id].posts[t.data.post_id].recipient_ids.filter((function(e){return!t.data.remove_recipient_ids.includes(e)})),Ze=Ke[t.data.topic_id].posts[t.data.post_id].recipients.filter((function(e){return!t.data.remove_recipient_ids.includes(e.id)}));Ke[t.data.topic_id].posts[t.data.post_id].recipients=Ze,Ke[t.data.topic_id].posts[t.data.post_id].recipient_ids=Je}return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Ke});case"REMOVE_POST":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.recipients.filter((function(e){return"TOPIC"===e.type})).reduce((function(n,a){return e.workspacePosts[a.id]&&(n[a.id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.id]),e.workspacePosts[a.id].posts&&{posts:Object(p.a)({},Object.keys(e.workspacePosts[a.id].posts).filter((function(e){return parseInt(e)!==t.data.id})).reduce((function(t,n){return t[n]=Object(p.a)({},e.workspacePosts[a.id].posts[n]),t}),{}))})),n}),{}))});case"POST_LIST_CONNECT":var Xe=Object.entries(e.workspacePosts).reduce((function(e,n){var a=Object(U.a)(n,2),r=a[0],i=a[1];return i.posts.hasOwnProperty(t.data.post_id)?e[r]=Object(p.a)(Object(p.a)({},i),{},{posts:Object(p.a)(Object(p.a)({},i.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},i.posts[t.data.post_id]),{},{post_list_connect:[{id:t.data.link_id}]})))}):e[r]=i,e}),{});return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Xe});case"POST_LIST_DISCONNECT":var $e=Object.entries(e.workspacePosts).reduce((function(e,n){var a=Object(U.a)(n,2),r=a[0],i=a[1];return i.posts.hasOwnProperty(t.data.post_id)?e[r]=Object(p.a)(Object(p.a)({},i),{},{posts:Object(p.a)(Object(p.a)({},i.posts),{},Object(m.a)({},t.data.post_id,Object(p.a)(Object(p.a)({},i.posts[t.data.post_id]),{},{post_list_connect:[]})))}):e[r]=i,e}),{});return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:$e});case"INCOMING_POST_REQUIRED":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.workspaces.reduce((function(n,a){return e.workspacePosts[a.topic.id]&&e.workspacePosts[a.topic.id].posts[t.data.post.id]&&(n[a.topic.id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts),{},Object(m.a)({},t.data.post.id,Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic.id].posts[t.data.post.id]),{},{required_users:t.data.required_users,user_reads:t.data.user_reads,must_read_users:t.data.must_read_users,must_reply_users:t.data.must_reply_users})))})),n}),{})))});case"INCOMING_TEAM_CHANNEL":return Object(p.a)(Object(p.a)({},e),{},{workspaces:Object(p.a)({},Object.values(e.workspaces).map((function(e){return e.id===t.data.workspace_id?Object(p.a)(Object(p.a)({},e),{},{team_channel:{id:t.data.team_channel.id,code:t.data.team_channel.code,icon_link:null}}):e})).reduce((function(e,t){return e[t.id]=t,e}),{})),activeTopic:e.activeTopic&&e.activeTopic.id===t.data.workspace_id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{team_channel:{id:t.data.team_channel.id,code:t.data.team_channel.code,icon_link:null}}):e.activeTopic});case"INCOMING_FAVOURITE_WORKSPACE":return Object(p.a)(Object(p.a)({},e),{},{search:Object(p.a)(Object(p.a)({},e.search),{},{results:e.search.results.map((function(e){return e.topic.id===t.data.topic_id.id?Object(p.a)(Object(p.a)({},e),{},{topic:Object(p.a)(Object(p.a)({},e.topic),{},{is_favourite:"WORKSPACE_FAVOURITE"===t.data.SOCKET_TYPE})}):e}))}),workspaces:Object(p.a)({},Object.values(e.workspaces).reduce((function(e,n){return e[n.id]=Object(p.a)(Object(p.a)({},n),{},{is_favourite:n.id===t.data.topic_id.id?"WORKSPACE_FAVOURITE"===t.data.SOCKET_TYPE:n.is_favourite}),e}),{})),activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id.id?Object(p.a)(Object(p.a)({},e.activeTopic),{},{is_favourite:"WORKSPACE_FAVOURITE"===t.data.SOCKET_TYPE}):e.activeTopic});case"GET_WORKSPACE_FILTER_COUNT_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{search:Object(p.a)(Object(p.a)({},e.search),{},{counters:t.data.reduce((function(e,t){return"NON_MEMBER"===t.entity_type?e.nonMember=t.count:e[t.entity_type.toLowerCase()]=t.count,e}),{})})});case"REMOVE_DRAFT_POST":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).reduce((function(n,a){return e.workspacePosts[a]&&(n[a]=Object(p.a)(Object(p.a)({},e.workspacePosts[a]),{},{posts:Object(p.a)({},Object.values(e.workspacePosts[a].posts).reduce((function(n,r){return r.id!==t.data.post_id&&(n[r.id]=Object(p.a)({},e.workspacePosts[a].posts[r.id])),n}),{}))})),n}),{}))});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),t.data.files.reduce((function(n,a){return e.workspacePosts[a.topic_id]&&(n[a.topic_id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic_id]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic_id].posts),t.data.files.reduce((function(n,r){if(r.post_id&&e.workspacePosts[a.topic_id].posts[r.post_id]){var i=0===e.workspacePosts[a.topic_id].posts[r.post_id].files.length?[]:e.workspacePosts[a.topic_id].posts[r.post_id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()}})}));n[r.post_id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a.topic_id].posts[r.post_id]),{},{files:e.workspacePosts[a.topic_id].posts[r.post_id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:i})}return n}),{}))})),n}),{})),postComments:Object(p.a)(Object(p.a)({},e.postComments),Object.keys(e.postComments).reduce((function(n,a){return n[a]=Object(p.a)(Object(p.a)({},e.postComments[a]),{},{comments:Object(p.a)(Object(p.a)({},e.postComments[a].comments),Object.values(e.postComments[a].comments).reduce((function(n,r){if(r.files.some((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))}))){var i=0===e.postComments[a].comments[r.id].files.length?[]:e.postComments[a].comments[r.id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()}})}));n[r.id]=Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id]),{},{files:e.postComments[a].comments[r.id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:i})}else n[r.id]=Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id].replies),Object.values(e.postComments[a].comments[r.id].replies).reduce((function(n,i){if(i.files.some((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))}))){var c=0===e.postComments[a].comments[r.id].replies[i.id].files.length?[]:e.postComments[a].comments[r.id].replies[i.id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{deleted_at:{timestamp:Object(f.b)()}})}));n[i.id]=Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id].replies[i.id]),{},{files:e.postComments[a].comments[r.id].replies[i.id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:c})}else n[i.id]=Object(p.a)({},e.postComments[a].comments[r.id].replies[i.id]);return n}),{}))});return n}),{}))}),n}),{}))});case"INCOMING_REMOVED_FILE_AFTER_DOWNLOAD":return Object(p.a)(Object(p.a)({},e),{},{workspacePosts:Object(p.a)(Object(p.a)({},e.workspacePosts),Object.keys(e.workspacePosts).reduce((function(n,a){return e.workspacePosts[a]&&(n[a]=Object(p.a)(Object(p.a)({},e.workspacePosts[a]),{},{posts:Object(p.a)(Object(p.a)({},e.workspacePosts[a].posts),Object.values(e.workspacePosts[a].posts).reduce((function(n,r){return r.files.some((function(e){return e.file_id===t.data.file_id}))?n[r.id]=Object(p.a)(Object(p.a)({},e.workspacePosts[a].posts[r.id]),{},{files:e.workspacePosts[a].posts[r.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):n[r.id]=Object(p.a)({},e.workspacePosts[a].posts[r.id]),n}),{}))})),n}),{})),postComments:Object(p.a)(Object(p.a)({},e.postComments),Object.keys(e.postComments).reduce((function(n,a){return n[a]=Object(p.a)(Object(p.a)({},e.postComments[a]),{},{comments:Object(p.a)(Object(p.a)({},e.postComments[a].comments),Object.values(e.postComments[a].comments).reduce((function(n,r){return r.files.some((function(e){return e.file_id===t.data.file_id}))?n[r.id]=Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id]),{},{files:e.postComments[a].comments[r.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):n[r.id]=Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id]),{},{replies:Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id].replies),Object.values(e.postComments[a].comments[r.id].replies).reduce((function(n,i){return i.files.some((function(e){return e.file_id===t.data.file_id}))?n[i.id]=Object(p.a)(Object(p.a)({},e.postComments[a].comments[r.id].replies[i.id]),{},{files:e.postComments[a].comments[r.id].replies[i.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):n[i.id]=Object(p.a)({},e.postComments[a].comments[r.id].replies[i.id]),n}),{}))}),n}),{}))}),n}),{}))});case"GET_FAVORITE_WORKSPACE_COUNTERS_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{workspaces:Object(p.a)(Object(p.a)({},e.workspaces),t.data.length>0&&Object(p.a)({},t.data.reduce((function(t,n){return t[n.topic_id]=Object(p.a)(Object(p.a)({},e.workspaces[n.topic_id]),{},{workspace_counter_entries:n.workspace_counter_entries}),t}),{})))});case"GET_WORKSPACE_REMINDERS_CALLBACK":return Object(p.a)(Object(p.a)({},e),{},{workspaceReminders:Object(p.a)(Object(p.a)({},e.workspaceReminders),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]&&Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]),{},{hasMore:t.data.todos.length===t.data.limit,skip:e.workspaceReminders[t.data.topic_id].skip+t.data.todos.length,reminderIds:[].concat(Object(a.a)(e.workspaceReminders[t.data.topic_id].reminderIds),Object(a.a)(t.data.todos.map((function(e){return e.id}))))})),!e.workspaceReminders[t.data.topic_id]&&{skip:t.data.todos.length,hasMore:t.data.todos.length===t.data.limit,reminderIds:Object(a.a)(t.data.todos.map((function(e){return e.id}))),done:{limit:10,hasMore:!0,skip:0},overdue:{limit:25,hasMore:!0,skip:0},today:{limit:25,hasMore:!0,skip:0},count:{all:0,overdue:0,today:0,new:0}})))});case"GET_DONE_WORKSPACE_REMINDERS_CALLBACK":return Object(p.a)(Object(p.a)({},e),{},{workspaceReminders:Object(p.a)(Object(p.a)({},e.workspaceReminders),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]&&Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]),{},{reminderIds:[].concat(Object(a.a)(e.workspaceReminders[t.data.topic_id].reminderIds),Object(a.a)(t.data.todos.map((function(e){return e.id})))),done:{limit:10,hasMore:t.data.todos.length===t.data.limit,skip:e.workspaceReminders[t.data.topic_id].done.skip+t.data.todos.length}})),!e.workspaceReminders[t.data.topic_id]&&{hasMore:!0,skip:0,done:{limit:10,skip:t.data.todos.length,hasMore:t.data.todos.length===t.data.limit},reminderIds:Object(a.a)(t.data.todos.map((function(e){return e.id}))),count:{all:0,overdue:0,today:0,new:0}})))});case"GET_OVERDUE_WORKSPACE_REMINDERS_CALLBACK":return Object(p.a)(Object(p.a)({},e),{},{workspaceReminders:Object(p.a)(Object(p.a)({},e.workspaceReminders),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]&&Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]),{},{reminderIds:[].concat(Object(a.a)(e.workspaceReminders[t.data.topic_id].reminderIds),Object(a.a)(t.data.todos.map((function(e){return e.id})))),overdue:{limit:25,hasMore:t.data.todos.length===t.data.limit,skip:e.workspaceReminders[t.data.topic_id].overdue.skip+t.data.todos.length}})),!e.workspaceReminders[t.data.topic_id]&&{hasMore:!0,skip:0,overdue:{limit:25,skip:t.data.todos.length,hasMore:t.data.todos.length===t.data.limit},reminderIds:Object(a.a)(t.data.todos.map((function(e){return e.id}))),count:{all:0,overdue:0,today:0,new:0}})))});case"GET_TODAY_WORKSPACE_REMINDERS_CALLBACK":return Object(p.a)(Object(p.a)({},e),{},{workspaceReminders:Object(p.a)(Object(p.a)({},e.workspaceReminders),{},Object(m.a)({},t.data.topic_id,Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]&&Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.topic_id]),{},{reminderIds:[].concat(Object(a.a)(e.workspaceReminders[t.data.topic_id].reminderIds),Object(a.a)(t.data.todos.map((function(e){return e.id})))),today:{limit:25,hasMore:t.data.todos.length===t.data.limit,skip:e.workspaceReminders[t.data.topic_id].today.skip+t.data.todos.length}})),!e.workspaceReminders[t.data.topic_id]&&{hasMore:!0,skip:0,today:{limit:25,skip:t.data.todos.length,hasMore:t.data.todos.length===t.data.limit},reminderIds:Object(a.a)(t.data.todos.map((function(e){return e.id}))),count:{all:0,overdue:0,today:0,new:0}})))});case"UPDATE_WORKSPACE_REMINDERS_COUNT":return Object(p.a)(Object(p.a)({},e),{},{workspaceReminders:Object(p.a)(Object(p.a)(Object(p.a)({},e.workspaceReminders),e.workspaceReminders[t.data.id]&&Object(m.a)({},t.data.id,Object(p.a)(Object(p.a)({},e.workspaceReminders[t.data.id]),{},{count:t.data.count.reduce((function(e,t){return e[t.status.toLowerCase()]=t.count,e}),{})}))),"undefined"===typeof e.workspaceReminders[t.data.id]&&Object(m.a)({},t.data.id,{skip:0,hasMore:!0,reminderIds:[],done:{limit:10,skip:0,hasMore:!0},overdue:{limit:25,skip:0,hasMore:!0},today:{limit:25,skip:0,hasMore:!0},count:t.data.count.reduce((function(e,t){return e[t.status.toLowerCase()]=t.count,e}),{})}))});default:return e}}}),B=function(e,t){var n=e;return"LOGOUT"===t.type&&(n={}),H(n,t)},W=n(241),Y=n(351),z={key:"root",storage:n.n(Y).a,whitelist:["chat"]};Object(u.f)(),Object(u.g)()||"undefined"!=typeof window.console&&(window.console={},window.console.log=function(){},window.console.info=function(){},window.console.warn=function(){},window.console.error=function(){});var V=[d.a],Q=Object(s.createLogger)({predicate:function(e,t){return Object(u.h)()},collapsed:!0});V=[].concat(Object(a.a)(V),[Q,i.a.reduxMiddleware()]);var q=Object(W.a)(z,B),K=!!localStorage.getItem("persistence"),J=null;J=K?Object(c.createStore)(q,Object(o.composeWithDevTools)(c.applyMiddleware.apply(void 0,Object(a.a)(V)))):Object(c.createStore)(B,Object(o.composeWithDevTools)(c.applyMiddleware.apply(void 0,Object(a.a)(V))));var Z=Object(W.b)(J);l.sessionService.initSessionService(J,{redirectPath:"/login"});t.a=function(){return{store:J,persistor:Z,persistenceOn:K}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return L})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return B})),n.d(t,"n",(function(){return z})),n.d(t,"o",(function(){return K})),n.d(t,"c",(function(){return $})),n.d(t,"i",(function(){return te})),n.d(t,"h",(function(){return se})),n.d(t,"j",(function(){return me})),n.d(t,"e",(function(){return he})),n.d(t,"p",(function(){return Ee})),n.d(t,"a",(function(){return ve})),n.d(t,"m",(function(){return Te})),n.d(t,"b",(function(){return we}));var a,r,i,c,o=n(2),s=n(0),l=n.n(s),d=n(3),u=n(7),m=n(30),p=n(9),f=n(5),b=d.a.div(a||(a=Object(o.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),h=d.a.div(r||(r=Object(o.a)([""]))),_=d.a.span(i||(i=Object(o.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),O=Object(d.a)(u.s)(c||(c=Object(o.a)(["\n  width: 15px;\n"]))),E=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,r=e.actions,i=e.filterFile,c=e.filter,o=void 0===c?"all":c,s=e.dropZoneRef,d=e.storageLimit,E=void 0===d?25:d,g=e.wsFiles,A=e.folders,v=e.activeFolder,j=e.clearFilter,C=e.params,T=e.disableOptions,y=e.workspace,S="external"===Object(f.useSelector)((function(e){return e.session.user})).type,w=Object(p.cb)()._t,k=r.getFileSizeUnit(g.storage),N=0===g.storage?0:g.storage<1e8?1e8:g.storage,R={uploadFiles:w("FILE.UPLOAD_FILES","Upload files"),allFiles:w("FILES.ALL_FILES","All files"),recentlyEdited:w("FILES.RECENTLY_EDITED","Recently edited"),favorite:w("FILE.FAVORITE","Favorite"),removed:w("FILES.REMOVED","Removed"),storageStatus:w("FILES.STORAGE_STATUS","Storage Status"),usedOf:w("FILE.USED_OF","used of"),gigabyte:w("FILE.GIGABYTE","GB"),teamChat:w("FILES_SIDEBAR.TEAM_CHAT","Team chat"),clientChat:w("FILES_SIDEBAR.CLIENT_CHAT","Client chat"),privatePost:w("FILES_SIDEBAR.PRIVATE_POST","Private post"),postWithClient:w("FILES_SIDEBAR.POST_WITH_CLIENT","Post with client")};return l.a.createElement(b,{className:"file-sidebar bottom-modal-mobile ".concat(n)},l.a.createElement(h,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),l.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===a&&l.a.createElement("div",{className:"card-body"},l.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:T},R.uploadFiles),l.a.createElement("form",{className:"d-none",id:"file-upload"},l.a.createElement("input",{type:"file",multiple:""}))),l.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},l.a.createElement("div",{className:"list-group list-group-flush"},l.a.createElement(_,{onClick:i,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"folder"}),R.allFiles,l.a.createElement("span",{className:"small ml-auto"},g&&g.count>0?g.count:null)),A&&Object.values(A).filter((function(e){return!e.is_archived})).length>0&&!0===a&&l.a.createElement(_,{className:"d-flex align-items-center folder-list"},l.a.createElement("ul",null,Object.values(A).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return l.a.createElement(se,{key:e.id,clearFilter:j,folders:A,params:C,folder:e,activeFolder:v})})))),l.a.createElement(me,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){r.uploadWorkspaceGoogleDriveFile(C.workspaceId,e)}))},disableOptions:T}),!S&&y&&y.team_channel&&y.team_channel.code&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{onClick:i,"data-filter":"team",active:"team"===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"eye-off"}),R.teamChat),l.a.createElement(_,{onClick:i,"data-filter":"client",active:"client"===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"eye"}),R.clientChat),l.a.createElement(_,{onClick:i,"data-filter":"privatePost",active:"privatePost"===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"eye-off"}),R.privatePost),l.a.createElement(_,{onClick:i,"data-filter":"clientPost",active:"clientPost"===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"eye"}),R.postWithClient)),l.a.createElement(_,{onClick:i,"data-filter":"recent",active:"recent"===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"monitor"}),R.recentlyEdited),l.a.createElement(_,{onClick:i,"data-filter":"important",active:"important"===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"star"}),R.favorite,l.a.createElement("span",{className:"small ml-auto"},g&&g.stars>0?g.stars:null)),l.a.createElement(_,{onClick:i,"data-filter":"removed",active:"removed"===o,className:"list-group-item d-flex align-items-center"},l.a.createElement(O,{className:"mr-2",icon:"trash"}),R.removed,l.a.createElement("span",{className:"small ml-auto"},g&&g.trash>0?g.trash:null))),"undefined"!==typeof g&&null!==g&&l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",{className:"mb-4"},R.storageStatus),l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("div",{className:"mr-3"},l.a.createElement(u.s,{icon:"database"})),l.a.createElement("div",{className:"flex-grow-1"},l.a.createElement(m.d,{amount:N,limit:1e9*E}),l.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},k.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],k.unit," ",R.usedOf," ",E,R.gigabyte)))))))})),g=n(1),A=n(6),v=n(74),j=n(63);function C(){var e=Object(o.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return C=function(){return e},e}function T(){var e=Object(o.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return T=function(){return e},e}function y(){var e=Object(o.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]);return y=function(){return e},e}function S(){var e=Object(o.a)(["\n  .card-body {\n    position: relative;\n    overflow: visible !important;\n    padding-bottom: 12px;\n    min-height: 100px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return S=function(){return e},e}var w=d.a.div(S()),k=Object(d.a)(m.c)(y()),N=d.a.div(T()),R=d.a.div(C()),x=l.a.memo((function(e){var t=e.className,a=void 0===t?"":t,r=e.dropZoneRef,i=e.filter,c=e.search,o=e.wsFiles,d=e.isMember,m=e.handleAddEditFolder,b=e.actions,h=e.params,_=e.folders,O=e.folder,E=e.fileIds,C=e.history,T=e.subFolders,y=e.dictionary,S=e.disableOptions,x=Object(p.X)(),I=document.querySelector(".app-content-body"),P=Object(f.useSelector)((function(e){return e.session.user})),D=Object(s.useState)(!1),L=Object(A.a)(D,2),F=L[0],M=L[1],G=function(){r.current&&r.current.open()},H=function(){M(!1)};return Object(s.useEffect)((function(){F&&M(!1)}),[o]),Object(s.useEffect)((function(){F&&!d&&x.warning("You are not a member of this workspace.")}),[F]),l.a.createElement(w,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(i)||F||M(!0)}},!S&&l.a.createElement(v.a,{ref:r,hide:!(F&&!0===d),onDragLeave:H,onDrop:function(e){!function(e){M(!1);var t=Math.floor(Date.now()/1e3),a={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:O?O.id:null,id:n(64).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:P.id,view_link:null,uploading:!0}})),folder_id:O?O.id:null,topic_id:parseInt(h.workspaceId),workspace_id:h.hasOwnProperty("folderId")?parseInt(h.fileFolderId):null};b.uploadingFiles(a);var r=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].ref_id=n(64).generate(),r.append("files["+i+"]",e[i]));var c={is_primary:0,topic_id:h.workspaceId,files:r};h.fileFolderId&&(c=Object(g.a)(Object(g.a)({},c),{},{folder_id:h.fileFolderId})),b.uploadFiles(c)}(e.acceptedFiles)},onCancel:H,params:h}),l.a.createElement("div",{className:"card-body"},O&&d&&"removed"!==i&&!S&&l.a.createElement(k,{moreButton:"settings"},l.a.createElement("div",{onClick:function(){m(O,"update")}},y.editFolder),l.a.createElement("div",{onClick:function(){if(O){b.removeFolder(O,h.workspaceId,(function(e,t){if(!e&&t){var n=C.location.pathname.split("/folder/")[0];C.push(n)}}))}}},y.removeFolder)),"removed"===i&&o&&o.hasOwnProperty("trash_files")&&(Object.keys(o.trash_files).length>0||Object.values(_).filter((function(e){return e.is_archived})).length>0)&&l.a.createElement(u.s,{icon:"trash",onClick:b.removeTrashFiles}),""===i&&l.a.createElement(l.a.Fragment,null,"undefined"===typeof h.fileFolderId&&l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},y.allFiles),O&&O.search&&l.a.createElement(he,{folder:O,history:C,dictionary:y,folders:_,workspaceID:h.workspaceId}),l.a.createElement("div",{className:"row"},h.hasOwnProperty("fileFolderId")?T.filter((function(e){return!e.is_archived})).map((function(e){return l.a.createElement(j.b,{key:e.id,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:S,folder:e,history:C,isMember:d,params:h,handleAddEditFolder:m})})):Object.values(_).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return l.a.createElement(j.b,{key:e.id,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:S,folder:e,history:C,isMember:d,params:h,handleAddEditFolder:m})}))),"undefined"!==typeof h.fileFolderId?l.a.createElement(l.a.Fragment,null,O?l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},O.search),l.a.createElement("div",{className:"row"},o&&E.map((function(e){return o.files.hasOwnProperty(e)?l.a.createElement(j.a,{key:e,isMember:d,scrollRef:I,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:o.files[e],folders:_,disableOptions:S}):null}))),o&&0===E.length&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}),d&&l.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:G,disabled:S},y.uploadFiles))):l.a.createElement(l.a.Fragment,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},E.map((function(e){return o.files.hasOwnProperty(e)?l.a.createElement(j.a,{key:e,isMember:d,scrollRef:I,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:o.files[e],folders:_,disableOptions:S}):null}))),o.popular_files.length>0&&l.a.createElement(B,{search:c,scrollRef:I,wsFiles:o,actions:b,folders:_,disableOptions:S}),o.recently_edited.length>0&&l.a.createElement(z,{search:c,scrollRef:I,wsFiles:o,actions:b,folders:_,disableOptions:S})),0===E.length&&0===o.popular_files.length&&0===o.recently_edited.length&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}),d&&l.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:G,disabled:S},y.uploadFiles))),"team"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee,{search:c,scrollRef:I,wsFiles:o,actions:b,folders:_,disableOptions:S}),!(o&&o.team_chat.length>0)&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}))),"client"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ve,{search:c,scrollRef:I,wsFiles:o,actions:b,folders:_,disableOptions:S}),!(o&&o.client_chat.length>0)&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}))),"privatePost"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Te,{search:c,scrollRef:I,wsFiles:o,actions:b,folders:_,disableOptions:S}),!(o&&o.private_post.length>0)&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}))),"clientPost"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(we,{search:c,scrollRef:I,wsFiles:o,actions:b,folders:_,disableOptions:S}),!(o&&o.client_post.length>0)&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}))),"recent"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(z,{search:c,scrollRef:I,wsFiles:o,actions:b,folders:_,disableOptions:S}),!(o&&o.recently_edited.length>0)&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}))),"important"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{search:c,scrollRef:I,wsFiles:o,folders:_,actions:b}),!(o&&o.hasOwnProperty("favorite_files")&&o.favorite_files.length>0)&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282}),l.a.createElement(R,null,l.a.createElement("p",null,"No favorite files."),l.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(K,{scrollRef:I,search:c,wsFiles:o,actions:b,isMember:d,params:h,folders:_,subFolders:T,handleAddEditFolder:m,folder:O,disableOptions:S}),!(o&&o.hasOwnProperty("trash_files")&&Object.keys(o.trash_files).length>0)&&!(Object.values(_).some((function(e){return e.is_archived}))||T.some((function(e){return e.is_archived})))&&l.a.createElement(N,null,l.a.createElement(u.q,{icon:4,height:282})))))})),I=n(14);function P(){var e=Object(o.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return P=function(){return e},e}var D=d.a.div(P()),L=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,r=e.dropZoneRef,i=e.onSearchChange,c=e.onSearch,o=e.onEnter,s=e.wsFiles,d=e.handleAddEditFolder,m=e.folders,p=e.history,f=e.params,b=e.clearFilter,h=e.dictionary,_=e.disableOptions,O=e.onClickEmpty,E=e.value,g=function(e){if(b(),s.folders.hasOwnProperty(e.target.dataset.value)){var t=s.folders[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):f.hasOwnProperty("fileFolderId")?p.push(p.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Object(I.h)(t.search))):p.push(p.location.pathname+"/folder/".concat(t.id,"/").concat(Object(I.h)(t.search)))}},A={label:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.s,{className:"mr-1",icon:"plus"})," ",h.add),items:[{value:"folder",label:h.folder,onClick:function(){return d("add")}},{value:"file",label:h.file,onClick:function(){r.current&&r.current.open()}}]},v={label:h.folders,items:s&&Object.values(m).length?Object.values(m).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:g}})):[]};return l.a.createElement(D,{className:"files-header app-action ".concat(n)},l.a.createElement("div",{className:"action-left"},l.a.createElement("ul",{className:"list-inline"},!0===a&&!_&&l.a.createElement("li",{className:"list-inline-item mb-0"},l.a.createElement(u.e,{dropdown:A})),!0===a&&Object.values(m).filter((function(e){return!e.is_archived})).length>=1&&l.a.createElement("li",{className:"list-inline-item mb-0"},l.a.createElement(u.e,{dropdown:v}))),l.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},l.a.createElement(u.s,{icon:"menu"}))),l.a.createElement("div",{className:"action-right"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",onChange:i,onKeyDown:o,value:E,className:"form-control",placeholder:h.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==E.trim()&&l.a.createElement("button",{onClick:O,className:"btn-cross",type:"button"},l.a.createElement(u.s,{icon:"x"})),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:c},l.a.createElement(u.s,{icon:"search"}))))))}));function F(){var e=Object(o.a)([""]);return F=function(){return e},e}var M=d.a.div(F()),U=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,i=e.actions;return l.a.createElement(M,{className:"important-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),l.a.createElement("div",{className:"row"},r&&r.favorite_files.length>0&&r.favorite_files.map((function(e){return l.a.createElement(j.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:a,file:r.files[e],actions:i})}))))}));function G(){var e=Object(o.a)([""]);return G=function(){return e},e}var H=d.a.div(G()),B=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return l.a.createElement(H,{className:"popular-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),l.a.createElement("div",{className:"row"},r&&r.popular_files.length>0&&r.popular_files.map((function(e){return l.a.createElement(j.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c})}))))}));function W(){var e=Object(o.a)([""]);return W=function(){return e},e}var Y=d.a.div(W()),z=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return l.a.createElement(Y,{className:"recent-edited-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),l.a.createElement("div",{className:"row"},r&&r.recently_edited.length>0&&r.recently_edited.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(j.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))})),V=n(39);function Q(){var e=Object(o.a)([""]);return Q=function(){return e},e}var q=d.a.div(Q()),K=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,r=e.wsFiles,i=e.isMember,c=e.folders,o=e.subFolders,s=e.folder,d=e.params,u=e.handleAddEditFolder,m=e.disableOptions,p=Object(V.g)();return l.a.createElement(q,{className:"remove-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),s&&l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},s.search),l.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?o.filter((function(e){return e.is_archived})).map((function(e){return l.a.createElement(j.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:i,params:d,handleAddEditFolder:u,disableOptions:m})})):Object.values(c).filter((function(e){return e.is_archived})).map((function(e){return l.a.createElement(j.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:i,params:d,handleAddEditFolder:u,disableOptions:m})}))),l.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})).map((function(e){return l.a.createElement(j.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:c,disableOptions:m})})):r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).map((function(e){return"undefined"!==typeof e?l.a.createElement(j.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:c,disableOptions:m}):null}))))}));function J(){var e=Object(o.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return J=function(){return e},e}var Z,X=Object(d.a)(m.c)(J()),$=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.file,i=e.scrollRef,c=void 0===i?null:i,o=e.actions,s=e.isMember,d=e.forceDelete,u=e.disableOptions,m=Object(p.X)();return l.a.createElement(X,{className:"file-options ".concat(n),moreButton:"more-horizontal",file:r,scrollRef:c},l.a.createElement("div",{onClick:function(){o.viewFiles(r)}},"View Details"),l.a.createElement("div",{onClick:function(){o.favorite(r)}},r.is_favorite?"Unfavorite":"Favorite"),l.a.createElement("div",{onClick:function(){o.copyLink(r.view_link)}},"Share"),l.a.createElement("div",{onClick:function(){o.download(r)}},"Download"),l.a.createElement("div",{onClick:function(){s?o.moveFile(r):m.warning(l.a.createElement(l.a.Fragment,null,"You are ",l.a.createElement("b",null,"not")," a member of this workspace."))}},"Move to"),l.a.createElement("div",{onClick:function(){s?o.renameFile(r):m.warning("You are not a member of this workspace.")}},"Rename"),d&&l.a.createElement("div",{onClick:function(){o.restoreWorkspaceFile(r,(function(e,t){t&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?m.success(l.a.createElement(l.a.Fragment,null,"Item ",l.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):m.success(l.a.createElement(l.a.Fragment,null,"Item ",l.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),!u&&l.a.createElement("div",{onClick:function(){s?r.hasOwnProperty("payload_id")?o.unlinkGoogleAttachment(r):o.removeFile(r,d):m.warning("You are not a member of this workspace.")}},"Remove"))})),ee=Object(d.a)(m.c)(Z||(Z=Object(o.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),te=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,c=e.actions,o=e.isMember,s=e.history,d=e.params,u=e.handleAddEditFolder,m=Object(p.X)();return l.a.createElement(ee,{className:"file-options ".concat(n),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&l.a.createElement("div",{onClick:function(){o?u(a,"edit"):m.warning("You are not a member of this workspace.")}},"Rename"),a.is_archived&&l.a.createElement("div",{onClick:function(){c.restoreWorkspaceFolder(a,(function(e,t){t&&(a.parent_folder?m.success(l.a.createElement(l.a.Fragment,null,"Folder ",l.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):m.success(l.a.createElement(l.a.Fragment,null,"Folder ",l.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),l.a.createElement("div",{onClick:function(){if(o)if(a.hasOwnProperty("payload"))c.unlinkGoogleFolder(a);else{c.removeFolder(a,d.workspaceId,(function(e,t){if(!e&&t){var n=s.location.pathname.split("/folder/")[0];s.push(n)}}))}else m.warning("You are not a member of this workspace.")}},"Remove"))})),ne=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.folders,i=e.activeFolder,c=e.clearFilter,o=e.params;return l.a.createElement(se,{className:n,clearFilter:c,folders:r,params:o,folder:a,activeFolder:i})};function ae(){var e=Object(o.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(o.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return re=function(){return e},e}var ie,ce=d.a.li(re(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),oe=d.a.ul(ae(),(function(e){return e.maxHeight})),se=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.folders,i=e.activeFolder,c=e.clearFilter,o=Object(V.g)(),d=Object(V.j)(),m=d.params,p=d.path,f=d.url,b={container:Object(s.useRef)(null),arrow:Object(s.useRef)(null),nav:Object(s.useRef)(null)},h=Object(s.useState)(null),_=Object(A.a)(h,2),O=_[0],E=_[1],g=Object(s.useState)(null),v=Object(A.a)(g,2),j=v[0],C=v[1];return Object(s.useEffect)((function(){null!==b.nav.current&&C(b.nav.current.scrollHeight)}),[b.nav.current,j]),Object(s.useEffect)((function(){i&&i.parent_folder&&i.parent_folder.id===a.id&&E(!0)}),[m,i]),l.a.createElement(ce,{ref:b.container,className:"folder-list fadeIn ".concat(n),selected:!!i&&i.id==a.id},l.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(c(),"/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p){var e=f.split("/folder/")[0];o.push(e+"/folder/".concat(a.id,"/").concat(Object(I.h)(a.search)))}else o.push(o.location.pathname+"/folder/".concat(a.id,"/").concat(Object(I.h)(a.search)));E((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&l.a.createElement(u.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&l.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(O?"ti-minus rotate-in":"ti-plus")})),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&l.a.createElement(oe,{ref:b.nav,maxHeight:j,className:O?"enter-active":"leave-active"},O&&Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return l.a.createElement(ne,{key:e.id,clearFilter:c,params:m,folderHeight:j,activeFolder:i,folders:r,folder:e})}))))},le=n(208),de=n.n(le),ue=d.a.div(ie||(ie=Object(o.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"])),(function(e){return e.disabled?".5":"1"})),me=function(e){var t=e.className,n=void 0===t?"":t,a=e.onChange,r=e.disableOptions,i=Object(p.cb)()._t,c=Object(s.useState)(!1),o=Object(A.a)(c,2),d=o[0],m=o[1],f=function(e){null===localStorage.getItem("gdrive")&&localStorage.setItem("gdrive",e)},b={linkGoogleDrive:i("FILE.LINK_GOOGLE_DRIVE","Link your Google Drive first"),gDriveAttachFile:i("FILE.ATTACH_GOOGLE_DRIVE_FILE","Attach a file"),gDriveAttachFolder:i("FILE.ATTACH_GOOGLE_DRIVE_FOLDER","Attach a folder")};return l.a.createElement(ue,{className:"google-drive dropdown ".concat(n),onClick:function(){r||m(!d)},disabled:r},l.a.createElement(u.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"})," Google Drive",l.a.createElement("div",{className:"dropdown-menu ".concat(d?"show":"")},null===localStorage.getItem("gdrive")?l.a.createElement(de.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return f(e)},multiselect:!0,navHidden:!0,authImmediate:!1,viewId:"DOCS"},l.a.createElement("div",{className:"link-div"},b.linkGoogleDrive)):l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return f(e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"DOCS"},l.a.createElement("div",{className:"dropdown-item"},b.gDriveAttachFile)),l.a.createElement(de.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onAuthenticate:function(e){return f(e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"FOLDERS",createPicker:function(e,t){var n=e.picker.ViewId.FOLDERS,r=new e.picker.DocsView(n).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0);(new window.google.picker.PickerBuilder).addView(r).setOAuthToken(t).setDeveloperKey("AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA").setCallback((function(e){a(e)})).build().setVisible(!0)}},l.a.createElement("div",{className:"dropdown-item"},b.gDriveAttachFolder)))))},pe=n(156);function fe(){var e=Object(o.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return fe=function(){return e},e}var be=d.a.div(fe()),he=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.history,i=e.dictionary,c=e.folders,o=e.workspaceID,d=Object(V.j)().url,m=Object(s.useState)(!1),p=Object(A.a)(m,2),f=p[0],b=p[1];return Object(s.useEffect)((function(){a.parent_folder&&Object.values(c).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?b(!0):b(!1))})),a.parent_folder||b(!1)}),[a]),l.a.createElement(be,{className:"files-breadcrumb d-flex ".concat(n)},l.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},l.a.createElement("li",{onClick:function(){var e=r.location.pathname.split("/folder/")[0];r.push(e)}},i.allFiles),l.a.createElement(u.s,{width:12,icon:"chevron-right"}),f&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(pe.a,{parentFolder:a.parent_folder,workspaceID:o,history:r})),l.a.createElement(u.s,{width:12,icon:"chevron-right"})),a.parent_folder&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return function(e){var t=d.split("/folder/")[0];r.push(t+"/folder/".concat(e.id,"/").concat(Object(I.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),l.a.createElement(u.s,{width:12,icon:"chevron-right"})),l.a.createElement("div",null,a.search)))}));function _e(){var e=Object(o.a)([""]);return _e=function(){return e},e}var Oe=d.a.div(_e()),Ee=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return l.a.createElement(Oe,{className:"recent-edited-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Team chat"),l.a.createElement("div",{className:"row"},r&&r.team_chat.length>0&&r.team_chat.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(j.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))}));function ge(){var e=Object(o.a)([""]);return ge=function(){return e},e}var Ae=d.a.div(ge()),ve=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return l.a.createElement(Ae,{className:"recent-edited-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Client chat"),l.a.createElement("div",{className:"row"},r&&r.client_chat.length>0&&r.client_chat.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(j.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))}));function je(){var e=Object(o.a)([""]);return je=function(){return e},e}var Ce=d.a.div(je()),Te=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return l.a.createElement(Ce,{className:"recent-edited-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Private post"),l.a.createElement("div",{className:"row"},r&&r.private_post.length>0&&r.private_post.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(j.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))}));function ye(){var e=Object(o.a)([""]);return ye=function(){return e},e}var Se=d.a.div(ye()),we=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return l.a.createElement(Se,{className:"recent-edited-files ".concat(n)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Post with client"),l.a.createElement("div",{className:"row"},r&&r.client_post.length>0&&r.client_post.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(j.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))}))},function(e){e.exports=JSON.parse('{"a":{"version":"2.6.9","timestamp":1625810257,"requirement":"normal"}}')},,,,,,,,,,function(e,t,n){"use strict";var a=n(5),r=n(128),i=n(21),c=n(9),o=n(109);t.a=function(){var e=Object(a.useDispatch)(),t=Object(c.X)(),n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(r.d)(t,n))},s=function(){localStorage.removeItem("slug")};return{checkUpdateVersion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(localStorage.getItem("site_ver")){var n=parseFloat(localStorage.getItem("site_ver").substr(2)),a=parseFloat(o.a.version.substr(2));n<a&&e(Object(r.e)({version:o.a.version,requirement:o.a.requirement},(function(e,n){n&&localStorage.setItem("site_ver",JSON.parse(n.config.data).data.version),t(e,n)})))}else localStorage.setItem("site_ver",o.a.version)},check:n,create:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(r.f)(n,(function(e,n){e&&t.error("Something went wrong!"),n&&t.success("Driff successfully created."),a(e,n)})))},getBaseUrl:function(){return Object(i.f)(window.location.hostname)?"".concat("https://").concat(window.location.hostname):"localhost"===window.location.hostname?"".concat("https://","localhost"):"".concat("https://").concat("drevv.com")},getName:function(){var e=localStorage.getItem("slug");if(e)return e;var t=window.location.host.split(".");return 3===t.length?(localStorage.setItem("slug",t[0]),t[0]):null},getByHostname:function(){if(Object(i.f)(window.location.hostname)||"localhost"===window.location.hostname)return null;if("drevv.com"===window.location.hostname)return null;var e=window.location.hostname.split(".");return e.length>=3&&e[0]},storeName:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?localStorage.setItem("slug",e):n(e,(function(t,n){n&&n.status?localStorage.setItem("slug",e):s()}))},unStoreName:s}}},function(e,t,n){"use strict";var a,r=n(1),i=n(11),c=n(2),o=n(0),s=n.n(o),l=n(5),d=n(3),u=n(9),m=d.a.div(a||(a=Object(c.a)(["\n  margin: 10px;\n  border-radius: 8px;\n  background: #f0f0f0;\n  padding: 10px;\n  display: block;\n  .dark & {\n    background: #191c20;\n  }\n  .mention-name {\n    color: #7a1b8b;\n  }\n  button {\n    margin-right: 10px;\n  }\n"])));t.a=function(e){var t=e.onAddUsers,n=e.onDoNothing,a=e.userIds,c=e.type,o=void 0===c?"post":c,d=e.basedOnUserId,p=void 0!==d&&d,f=e.userMentionOnly,b=void 0!==f&&f,h=Object(u.cb)()._t,_="external"===Object(l.useSelector)((function(e){return e.session.user})).type,O=Object(l.useSelector)((function(e){return e.users.mentions})),E=Object(l.useSelector)((function(e){return e.global.recipients})),g=Object(i.a)(E).filter((function(e){return!b||"USER"===e.type})).map((function(e){return"USER"===e.type?Object(r.a)(Object(r.a)({},e),{},{type:O[e.type_id]?O[e.type_id].type:"internal"}):e})),A=Object.values(g).filter((function(e){return p?a.some((function(t){return t===e.type_id})):a.some((function(t){return t===e.id}))})),v={addToChat:h("MENTION.ADD_TO_CHAT","Add to chat"),addToPost:h("MENTION.ADD_TO_POST","Add to post"),addToWorkspace:h("MENTION.ADD_TO_WORKSPACE","Add to workspace"),notChatMembers:h("MENTION.NOT_CHAT_MEMBERS","but they are not members of this chat"),notWorkspaceMembers:h("MENTION.NOT_WORKSPACE_MEMBERS","but they are not members of this workspace"),notPostRecipients:h("MENTION.NOT_POST_RECIPIENTS","but they are not recipients of this post"),doNothing:h("MENTION.DO_NOTHING","Do nothing"),youMentioned:h("MENTION.YOU_MENTIONED","You mentioned"),and:h("GENERAL.AND","and")},j=v.notPostRecipients,C=v.addToPost;return"chat"===o?(j=v.notChatMembers,C=v.addToChat):"workspace"===o&&(j=v.notWorkspaceMembers,C=v.addToWorkspace),_?null:s.a.createElement(m,null,s.a.createElement("div",null,s.a.createElement("p",null,v.youMentioned,"\xa0",A.map((function(e,t){var n="WORKSPACE"===e.type||"TOPIC"===e.type?"/":"@";return t===A.length-1&&A.length>1?s.a.createElement("div",{className:"mention-data"},s.a.createElement("span",{key:t,className:"mention-normal"}," ",v.and,s.a.createElement("span",{className:"mention","data-denotation-char":"@","data-id":e.type_id,"data-value":e.name},s.a.createElement("span",{className:"mention-name pointer","data-mid":e.type_id,onClick:function(e){e.stopPropagation()}},s.a.createElement("span",{className:"ql-mention-denotation-char"},n),e.name)))):s.a.createElement("span",{key:t,className:"mention","data-denotation-char":"@","data-id":e.type_id,"data-value":e.name},s.a.createElement("span",{className:"mention-name pointer","data-mid":e.type_id,onClick:function(e){e.stopPropagation()}},s.a.createElement("span",{className:"ql-mention-denotation-char"},n),e.name,","))})),"\xa0",j)),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){t(A)}},C),s.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){n(A)}},v.doNothing)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return S}));var a,r,i=n(2),c=n(0),o=n.n(c),s=n(3),l=n(7),d=n(30),u=s.a.div(a||(a=Object(i.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n"])),(function(e){return e.userNameMaxWidth})),m=Object(s.a)(l.b)(r||(r=Object(i.a)(["\n  .badge {\n    background: ",";\n  }\n"])),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),p=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.loggedUser,r=e.onNameClick,i=void 0===r?null:r,s=e.onChatClick,p=void 0===s?null:s,f=e.user,b=e.dictionary,h=e.showOptions,_=void 0!==h&&h,O=e.onUpdateRole,E=void 0===O?null:O,g=e.roles,A=e.onArchiveUser,v=void 0===A?null:A,j=e.onActivateUser,C=void 0===j?null:j,T=e.onChangeUserType,y=void 0===T?null:T,S=e.onDeleteUser,w=void 0===S?null:S,k=e.showInactive,N=void 0!==k&&k,R=e.showWorkspaceRole,x=void 0!==R&&R,I=e.usersWithoutActivity,P=void 0===I?[]:I,D={cardBody:Object(c.useRef)(null),content:Object(c.useRef)(null)},L=function(e){var t={user_id:f.id,role_id:g[e]};E(t)},F=function(){v(f)},M=function(){C(f)};return o.a.createElement(u,{className:"workspace-user-item-list col-12 col-md-6 ".concat(n)},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"card border",key:f.id},o.a.createElement("div",{className:"card-body",ref:D.cardBody},o.a.createElement("div",{ref:D.content,className:"d-flex align-items-center justify-content-between"},o.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},o.a.createElement(l.a,{id:f.id,name:f.name?f.name:f.email,hasAccepted:f.has_accepted,imageLink:f.profile_image_thumbnail_link?f.profile_image_thumbnail_link:f.profile_image_link?f.profile_image_link:"",showSlider:!0}),o.a.createElement("div",{className:"user-info-wrapper ml-3"},""!==f.email&&f.hasOwnProperty("has_accepted")&&!f.has_accepted&&"external"===f.type?o.a.createElement("h6",{className:"user-name mb-0"},o.a.createElement(l.t,{content:f.email},o.a.createElement("div",{className:"mr-2 people-text-truncate"},""!==f.name?f.name:f.email)),o.a.createElement(l.b,{label:b.peopleInvited,badgeClassName:"badge badge-info text-white"}),o.a.createElement(l.b,{label:b.peopleExternal,badgeClassName:"badge badge-info text-white"})):o.a.createElement("h6",{className:"user-name mb-0",onClick:function(){i&&i(f)}},o.a.createElement("div",{className:"mr-2 d-flex"},o.a.createElement(l.t,{content:f.email},o.a.createElement("span",{className:"mr-2"},f.name)),f.hasOwnProperty("has_accepted")&&!f.has_accepted&&f.active?o.a.createElement(l.b,{label:b.peopleInvited,badgeClassName:"badge badge-info text-white"}):null,f.role&&("owner"===f.role.name||"admin"===f.role.name)&&o.a.createElement(l.t,{content:"This is an administrator account"},o.a.createElement(l.s,{icon:"settings",className:"ml-1",width:10,height:10}))),o.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===f.type&&"external"!==a.type&&o.a.createElement(l.b,{label:b.peopleExternal,badgeClassName:"badge badge-info text-white"}),0===f.active&&o.a.createElement(l.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}),x&&f.workspace_role&&""!==f.workspace_role&&o.a.createElement(m,{role:f.workspace_role,badgeClassName:"WATCHER"===f.workspace_role||"TEAM_LEAD"===f.workspace_role?"text-dark":"text-white",label:function(){switch(f.workspace_role){case"ADVISOR":return b.roleAdvisor;case"APPROVER":return b.roleApprover;case"CLIENT":return b.roleClient;case"COMMUNICATION_LEAD":return b.roleCommunicationLead;case"DEVELOPER":return b.roleDeveloper;case"DESIGNER":return b.roleDesigner;case"FREELANCER":return b.roleFreelancer;case"SUPERVISOR":return b.roleSupervisor;case"TEAM_LEAD":return b.roleTeamLead;case"TECHNICAL_ADVISOR":return b.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return b.roleTechnicalLead;case"WATCHER":return b.roleWatcher;default:return""}}()}))),f.role&&"internal"===f.type&&o.a.createElement("span",{className:"small text-muted"},f.role.display_name),f.external_company_name&&"external"===f.type&&o.a.createElement("span",{className:"small text-muted"},f.external_company_name))),null!==p&&"external"!==a.type&&o.a.createElement("div",{className:"button-wrapper"},f.contact&&""!==f.contact&&a.id!==f.id&&o.a.createElement("a",{href:"tel:".concat(f.contact.replace(/ /g,"").replace(/-/g,""))},o.a.createElement(l.s,{className:"mr-2",icon:"phone"})),a.id!==f.id&&1===f.active&&o.a.createElement(l.s,{onClick:function(){p&&p(f)},icon:"message-circle"}),_&&a.id!==f.id&&o.a.createElement(d.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:D.cardBody.current},!N&&"internal"===f.type&&f.role&&"employee"===f.role.name&&o.a.createElement("div",{onClick:function(){return L("admin")}},b.assignAsAdmin),!N&&"internal"===f.type&&f.role&&"admin"===f.role.name&&o.a.createElement("div",{onClick:function(){return L("employee")}},b.assignAsEmployee),!N&&"external"===f.type&&o.a.createElement("div",{onClick:function(){y&&y(f,"internal")}},b.moveToInternal),!N&&"internal"===f.type&&o.a.createElement("div",{onClick:function(){y&&y(f,"external")}},b.moveToExternal),N&&0===f.active&&!f.deactivate?o.a.createElement("div",{onClick:F},b.unarchiveUser):null,f.active?o.a.createElement("div",{onClick:F},b.archiveUser):null,!f.deactivate&&f.active?o.a.createElement("div",{onClick:M},b.deactivateUser):null,f.deactivate&&0===f.active?o.a.createElement("div",{onClick:M},b.activateUser):null,f.active&&P.some((function(e){return e.user_id===f.id}))&&w&&o.a.createElement("div",{onClick:function(){return w(f)}},b.deleteUser))))))))})),f=n(39),b=n(5),h=n(14),_=n(13),O=n(20),E=n(9),g=n(21);function A(){var e=Object(i.a)(["\n  .badge {\n    background: ",";\n  }\n"]);return A=function(){return e},e}function v(){var e=Object(i.a)(["\n  text-align: center;\n  position: absolute;\n  bottom: -10px;\n  z-index: 2;\n  width: 100%;\n  > span {\n    background: #fff;\n    padding: 10px;\n    .dark & {\n      background: #191c20;\n    }\n  }\n"]);return v=function(){return e},e}function j(){var e=Object(i.a)(["\n  padding: 16px 0 !important;\n  .card-title {\n    position: relative;\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .more-options {\n    display: none;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .profile-name {\n    cursor: pointer;\n    margin-bottom: 4px;\n  }\n  > .more-options svg {\n    width: auto;\n  }\n  .more-options-tooltip {\n    display: none;\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &:hover {\n    .more-options-tooltip {\n      display: block;\n    }\n  }\n"]);return j=function(){return e},e}var C=s.a.li(j()),T=s.a.div(v()),y=Object(s.a)(l.b)(A(),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),S=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.member,r=e.hideOptions,i=e.actions,c=e.workspace_id,s=e.dictionary,u=e.showMoreButton,m=e.showLessButton,p=e.toggleShow,A=e.loggedUser,v=e.onLeaveWorkspace,j=void 0===v?null:v,S=e.workspace,w=void 0===S?null:S,k=e.scrollRef,N=e.onAddRole,R=void 0===N?null:N,x=Object(f.g)(),I=Object(b.useDispatch)(),P=Object(E.X)(),D=function(){var e={topic_id:c,user_id:a.id};i.deleteRole(e)},L=function(){var e={topic_id:c,emails:[a.email]};I(Object(O.N)(e,(function(e,t){e||P.success(s.invitationSent)})))};return o.a.createElement(C,{className:"team-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(n)},o.a.createElement("div",{className:"d-flex align-items-center "},o.a.createElement("div",{className:"pr-3"},o.a.createElement(l.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,partialName:a.partial_name,noDefaultClick:!a.has_accepted,hasAccepted:a.has_accepted,showSlider:!0,scrollRef:k})),o.a.createElement("div",null,o.a.createElement("h6",{className:"profile-name",onClick:function(){a.has_accepted&&x.push("/profile/".concat(a.id,"/").concat(Object(h.h)(a.name)))}},a.has_accepted||""!==a.name?a.name:a.email),"internal"===a.type&&a.designation&&o.a.createElement("small",{className:"text-muted"},a.designation),"external"===a.type&&a.external_company_name&&o.a.createElement("small",{className:"text-muted"},a.external_company_name))),o.a.createElement("div",{className:"ml-auto"},a.workspace_role&&""!==a.workspace_role&&o.a.createElement(y,{role:a.workspace_role,badgeClassName:"WATCHER"===a.workspace_role||"TEAM_LEAD"===a.workspace_role?"text-dark":"text-white",label:function(){switch(a.workspace_role){case"ADVISOR":return s.roleAdvisor;case"APPROVER":return s.roleApprover;case"CLIENT":return s.roleClient;case"COMMUNICATION_LEAD":return s.roleCommunicationLead;case"DEVELOPER":return s.roleDeveloper;case"DESIGNER":return s.roleDesigner;case"FREELANCER":return s.roleFreelancer;case"SUPERVISOR":return s.roleSupervisor;case"TEAM_LEAD":return s.roleTeamLead;case"TECHNICAL_ADVISOR":return s.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return s.roleTechnicalLead;case"WATCHER":return s.roleWatcher;default:return""}}()}),"external"===a.type&&"external"!==A.type&&a.has_accepted&&o.a.createElement(l.b,{badgeClassName:"badge-info text-white",label:s.peopleExternal}),"external"===a.type&&!a.has_accepted&&o.a.createElement(l.b,{badgeClassName:"badge-info text-white",label:s.peopleInvited}),"external"===a.type&&"external"!==A.type&&!a.has_accepted&&o.a.createElement(o.a.Fragment,null,o.a.createElement(l.b,{badgeClassName:"badge-info text-white",label:s.peopleExternal}))),u&&o.a.createElement(T,{className:"btn-toggle-show"},o.a.createElement("span",{className:"cursor-pointer",onClick:p},s.showMore)),m&&o.a.createElement(T,{className:"btn-toggle-show"},o.a.createElement("span",{className:"cursor-pointer",onClick:p},s.showLess)),!r&&o.a.createElement(d.c,{moreButton:"more-horizontal",width:250},"APPROVER"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"approver")}},s.assignAsApprover),"APPROVER"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsApprover),"CLIENT"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"client")}},s.assignAsClient),"CLIENT"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsClient),"COMMUNICATION_LEAD"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"communication_lead")}},s.assignAsCommunicationLead),"COMMUNICATION_LEAD"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsCommunicationLead),"DESIGNER"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"designer")}},s.assignAsDesigner),"DESIGNER"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsDesigner),"DEVELOPER"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"developer")}},s.assignAsDeveloper),"DEVELOPER"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsDeveloper),"FREELANCER"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"freelancer")}},s.assignAsFreelancer),"FREELANCER"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsFreelancer),"SUPERVISOR"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"supervisor")}},s.assignAsSupervisor),"SUPERVISOR"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsSupervisor),"TEAM_LEAD"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"team_lead")}},s.assignAsTeamLead),"TEAM_LEAD"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsTeamLead),"TECHNICAL_ADVISOR"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"technical_advisor")}},s.assignAsTechnicalAdvisor),"TECHNICAL_ADVISOR"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsTechnicalAdvisor),"TECHNICAL_LEAD"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"technical_lead")}},s.assignAsTechnicalLead),"TECHNICAL_LEAD"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsTechnicalLead),"WATCHER"!==a.workspace_role&&o.a.createElement("div",{onClick:function(){return R(a,"watcher")}},s.assignAsWatcher),"WATCHER"===a.workspace_role&&o.a.createElement("div",{onClick:D},s.revokeAsWatcher),a.id===A.id&&o.a.createElement("div",{onClick:function(){return j(w,a)}},s.leave),a.id!==A.id&&"internal"===A.type&&o.a.createElement("div",{onClick:function(){return j(w,a)}},s.remove),0===a.active&&"external"===a.type&&o.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:s.resendInvite,submitText:s.resend,cancelText:s.cancel,bodyText:"".concat(s.resendInviteConfirmation," ").concat(a.email,"?"),actions:{onSubmit:L}};I(Object(_.a)(e))}},s.resendInvite),!a.has_accepted&&0===a.active&&"external"===a.type&&a.invite_link&&o.a.createElement("div",{onClick:function(){Object(g.b)(P,a.invite_link)}},s.sendInviteManually)))}))},,function(e,t,n){"use strict";var a=n(2),r=n(0),i=n.n(r),c=n(3),o=n(7),s=n(5);n(678);function l(){var e=Object(a.a)(["\n  position: absolute;\n  top: -2px;\n  right: 15px;\n  background-color: unset;\n  width: 1rem;\n  height: 1rem;\n  padding: 0;\n  z-index: 1;\n"]);return l=function(){return e},e}function d(){var e=Object(a.a)(["\n  color: #ffffff !important;\n  height: 2.7rem;\n  width: 2.7rem;\n  &.feather-home {\n    background: #7a1b8b;\n    padding: 6px 0;\n  }\n  .chat-header-icon-left & {\n    height: 28px;\n    width: 28px;\n  }\n"]);return d=function(){return e},e}function u(){var e=Object(a.a)(["\n  position: relative;\n  line-height: 0;\n  > span {\n    font-size: 13px;\n    background-color: ",";\n    color: #fff;\n    display: inline-flex;\n    padding: 5px;\n    border-radius: 100%;\n    width: 2.7rem;\n    height: 2.7rem;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n  }\n  > svg {\n    padding: 6px;\n    background-color: ",";\n    border-radius: 50%;\n    &.dark {\n      background-color: ",";\n    }\n    &.feather-eye,\n    &.feather-eye-off {\n      padding: 0;\n      background-color: #fff;\n      border: 2px solid #fff;\n      color: #7a1b8b;\n      .dark & {\n        background-color: #191c20;\n        color: #fff;\n        border: 2px solid #191c20;\n      }\n    }\n  }\n  .chat-header-icon-left & {\n    span {\n      width: 28px;\n      height: 28px;\n    }\n  }\n"]);return u=function(){return e},e}var m=c.a.div(u(),(function(e){return e.iconColor?e.iconColor:"#fff"}),(function(e){return e.iconColor,e.iconColor}),(function(e){return e.iconColor,e.iconColor})),p=Object(c.a)(o.s)(d()),f=Object(c.a)(o.s)(l()),b=function(e){var t=e.replace(/\s/g,"");if("undefined"===typeof t)return"";for(var n=0,a=0;a<t.length;a++)n=t.charCodeAt(a)+((n<<5)-n);return"hsla(".concat(n%360,", ").concat(50,"%, ").concat(40,"%, 0.8)")};t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,r=e.children,c=void 0===r?null:r,l=e.onSelectChannel,d=void 0===l?null:l,u=e.showSlider,h=void 0===u||u,_=Object(s.useSelector)((function(e){return e.workspaces.workspaces})),O=a.title?a.title.toLowerCase():"";return i.a.createElement(m,{className:"pr-3 ".concat(n),type:a.type,iconColor:b(O),onClick:d},a.profile&&a.members.length>=1&&"DIRECT"===a.type&&i.a.createElement(o.a,{imageLink:a.profile.profile_image_thumbnail_link?a.profile.profile_image_thumbnail_link:a.profile.profile_image_link,userId:a.profile.id,id:a.profile.id,name:a.profile.name,partialName:a.profile.partial_name,type:"USER",showSlider:h,onClick:d}),"GROUP"===a.type&&(a.icon_link?i.a.createElement(o.a,{forceThumbnail:!1,type:a.type,imageLink:a.icon_link,id:"ws_".concat(a.id),name:a.title,noDefaultClick:!1,showSlider:h,onClick:d}):i.a.createElement(p,{icon:"users",alt:a.title})),"COMPANY"===a.type&&i.a.createElement(p,{icon:"home",alt:a.title}),"POST"===a.type&&i.a.createElement(p,{icon:"users",alt:a.title}),"PERSONAL_BOT"===a.type&&i.a.createElement(p,{icon:"user",alt:a.title}),"TOPIC"===a.type&&i.a.createElement(o.a,{forceThumbnail:!1,type:a.type,imageLink:a.icon_link,id:"ws_".concat(a.id),name:a.title,noDefaultClick:!1,showSlider:h,onClick:d}),a.team&&"TOPIC"===a.type&&_.hasOwnProperty(a.entity_id)&&_[a.entity_id].is_shared&&i.a.createElement(f,{icon:"eye-off"}),!a.team&&"TOPIC"===a.type&&_.hasOwnProperty(a.entity_id)&&_[a.entity_id].is_shared&&i.a.createElement(f,{icon:"eye"}),c)}},,,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n(8),r=n(10),i=function(e,t){return Object(a.b)(Object(r.Cd)(e),"REGISTER_DRIFF_START","REGISTER_DRIFF_SUCCESS","REGISTER_DRIFF_FAILURE",t)},c=function(e,t){return Object(a.b)(Object(r.Rc)(e),"CHECK_DRIFF_START","CHECK_DRIFF_SUCCESS","CHECK_DRIFF_FAILURE",t)},o=function(e,t){return Object(a.b)(Object(r.pb)(e),"GET_COMPANY_DASHBOARD_TIMELINE_START","GET_COMPANY_DASHBOARD_TIMELINE_SUCCESS","GET_COMPANY_DASHBOARD_TIMELINE_FAILURE",t)},s=function(e,t){return Object(a.b)(Object(r.ob)(e),"GET_COMPANY_DASHBOARD_RECENT_POST_START","GET_COMPANY_DASHBOARD_RECENT_POST_SUCCESS","GET_COMPANY_DASHBOARD_RECENT_POST_FAILURE",t)},l=function(e,t){return Object(a.b)(Object(r.nb)(e),"GET_COMPANY_DASHBOARD_MEMBERS_START","GET_COMPANY_DASHBOARD_MEMBERS_SUCCESS","GET_COMPANY_DASHBOARD_MEMBERS_FAILURE",t)},d=function(e,t){return Object(a.b)(Object(r.Uc)(e),"CHECK_DRIFF_START","CHECK_DRIFF_SUCCESS","CHECK_DRIFF_FAILURE",t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return ae})),n.d(t,"c",(function(){return he})),n.d(t,"d",(function(){return Ne})),n.d(t,"e",(function(){return xe})),n.d(t,"f",(function(){return Ye})),n.d(t,"g",(function(){return Ve})),n.d(t,"h",(function(){return et})),n.d(t,"j",(function(){return at})),n.d(t,"k",(function(){return mt})),n.d(t,"i",(function(){return bt})),n.d(t,"m",(function(){return jt})),n.d(t,"l",(function(){return kt}));var a,r,i,c,o,s,l,d=n(1),u=n(6),m=n(2),p=n(0),f=n.n(p),b=n(3),h=n(7),_=n(9),O=n(77),E=n(43),g=n.n(E),A=n(5),v=n(39),j=n(19),C=n(75),T=n(14),y=n(28),S=b.a.div(a||(a=Object(m.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]))),w=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},k=Object(b.a)(g.a)(r||(r=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),N=Object(b.a)(h.s)(i||(i=Object(m.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),R=Object(b.a)(h.s)(c||(c=Object(m.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]))),x=b.a.div(o||(o=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n  // .receiver.client-shared {\n  //   background: #ffdb92;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n  // .receiver.client-not-shared {\n  //   background: #d6edff;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n"]))),I=b.a.div(s||(s=Object(m.a)(["\n  min-width: 150px;\n"]))),P=b.a.span(l||(l=Object(m.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]))),D=f.a.memo((function(e){var t=e.post,n=e.user,a=e.postActions,r=e.dictionary,i=e.disableOptions,c=e.disableMarkAsRead,o="external"===n.type,s=Object(A.useDispatch)(),l={container:Object(p.useRef)(null),body:Object(p.useRef)(null)},m=Object(p.useRef)(!0),b=Object(_.s)(),E=b.fileBlobs,g=b.actions.setFileSrc,D=Object(_.N)(),L=Object(A.useSelector)((function(e){return e.workspaces.workspaces})),F=Object(A.useSelector)((function(e){return e.global.recipients.filter((function(e){return t.recipient_ids.includes(e.id)})).sort((function(e,t){if(e.type!==t.type){if("TOPIC"===e.type)return-1;if("TOPIC"===t.type)return 1}return e.name.localeCompare(t.name)}))})),M=Object(p.useState)(t.is_favourite),U=Object(u.a)(M,2),G=U[0],H=U[1],B=Object(p.useState)({approve:!1,change:!1}),W=Object(u.a)(B,2),Y=W[0],z=(W[1],Object(_.W)()),V=z.fromNow,Q=z.localizeDate,q=Object(_.w)(),K=Object(_.ib)(),J=Object(v.g)(),Z=Object(p.useState)(!1),X=Object(u.a)(Z,2),$=X[0],ee=X[1],te=Object(p.useState)(!1),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1];Object(p.useEffect)((function(){return function(){m.current=!1}}),[]);var ie=function(e){var n=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(n=e.target.dataset.id);else{var a=t.files.find((function(t){return t.thumbnail_link===e.srcElement.currentSrc}));a&&(n=a.id)}n&&s(Object(j.Wb)({file_id:parseInt(n),files:t.files}))},ce=JSON.parse(localStorage.getItem("userAuthToken"));Object(p.useEffect)((function(){l.body.current&&(l.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){q.init(e)})),l.body.current.querySelectorAll("img").forEach((function(e){var n=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=t.files.find((function(e){return n.includes(e.code)}));a&&E[a.id]&&(e.setAttribute("src",E[a.id]),e.setAttribute("data-id",a.id))}else{e.addEventListener("click",ie,!1),e.classList.add("has-listener");var r=t.files.find((function(e){return n.includes(e.code)}));r&&E[r.id]&&(e.setAttribute("src",E[r.id]),e.setAttribute("data-id",r.id))}})));var e=t.files.filter((function(e){return e.type.includes("image")}));e.length&&e.forEach((function(e){E[e.id]||fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(ce.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var r=URL.createObjectURL(n);g({id:e.id,src:r}),a.updatePostImages({post_id:t.id,topic_id:null,file:Object(d.a)(Object(d.a)({},e),{},{blobUrl:r})})}))}))}),[t.body,l.body,t.files]);var oe=function(e){var t=e.target.dataset,n=t.id;switch(t.type){case"DEPARTMENT":J.push("/chat");break;case"TOPIC":var a=L[n];a&&D.toWorkspace(a);break;case"USER":J.push("/profile/".concat(n,"/").concat(Object(T.h)(e.target.innerHTML)))}};Object(p.useEffect)((function(){l.container.current&&l.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",oe)}))}));var se=t.users_approval.length>0&&t.users_approval.filter((function(e){return null===e.ip_address})).length===t.users_approval.length,le=t.users_approval.length>1,de=F.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return f.a.createElement(S,{ref:l.container,className:"card-body"},de&&!o&&f.a.createElement(P,{className:t.shared_with_client?"client-shared":"client-not-shared"},t.shared_with_client&&f.a.createElement(f.a.Fragment,null,f.a.createElement(R,{icon:"eye"}),r.sharedClientBadge),!t.shared_with_client&&f.a.createElement(f.a.Fragment,null,f.a.createElement(R,{icon:"eye-off"}),r.notSharedClientBadge)),f.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},f.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},f.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},f.a.createElement(h.a,{className:"mr-2 post-author",id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link}),f.a.createElement("div",null,f.a.createElement("span",{className:"author-name"},t.author.first_name),f.a.createElement(x,null,F.length>=1&&f.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=F.some((function(e){return e.type_id===n.id})),t=K.width>576?e?4:5:e?0:1,a="",i=F.filter((function(e){return!("USER"===e.type&&e.type_id===n.id)}));i.length&&(a+=i.filter((function(e,n){return n<t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(y.renderToString)(f.a.createElement(R,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(y.renderToString)(f.a.createElement(R,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1">'.concat(e.name,"</span>")})).join(", ")),e&&(i.length,a+='<span class="receiver mb-1">'.concat(r.me,"</span>"));var c="";return i.length+(e?1:0)>t&&(c+=i.filter((function(e,n){return n>=t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(y.renderToString)(f.a.createElement(R,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(y.renderToString)(f.a.createElement(R,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),c='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(c,"</span></span>")),"".concat(a," ").concat(c)}()}})))),f.a.createElement(I,{className:"d-inline-flex"},f.a.createElement(C.a,{post:t,isBadgePill:!0,dictionary:r,user:n}),t.files.length>0&&f.a.createElement(N,{className:"mr-2",icon:"paperclip"}),f.a.createElement(N,{className:"mr-2",onClick:function(){i||ae||(re(!0),a.starPost(t,(function(){m.current&&re(!1)})),m.current&&H(!G))},icon:"star",fill:G?"#ffc107":"none",stroke:G?"#ffc107":"currentcolor"}),!i&&!c()&&f.a.createElement(N,{className:"mr-2",onClick:function(){$||(ee(!0),a.archivePost(t,(function(){m.current&&ee(!1)})))},icon:"archive"}),f.a.createElement("div",{className:"time-stamp"},f.a.createElement(k,{arrowSize:5,distance:10,onToggle:w,content:"".concat(Q(t.created_at.timestamp))},f.a.createElement("span",{className:"text-muted"},V(t.created_at.timestamp))))))),t.files.length>0&&f.a.createElement(C.p,{files:t.files}),f.a.createElement("div",{className:"d-flex align-items-center"},f.a.createElement("div",{className:"w-100 post-body-content",ref:l.body,dangerouslySetInnerHTML:{__html:O.a.parseEmoji(t.body)}})),(se||le)&&f.a.createElement(C.c,{postBody:!0,approving:Y,fromNow:V,usersApproval:t.users_approval,user:n,post:t,isMultipleApprovers:le}))})),L=n(81);function F(){var e=Object(m.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return F=function(){return e},e}var M,U,G,H,B,W,Y,z,V,Q,q,K,J,Z,X,$,ee,te,ne=b.a.div(F()),ae=f.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.comments,r=e.post,i=e.user,c=e.commentActions,o=e.onShowFileDialog,s=e.dropAction,l=e.workspace,d=e.isMember,u=void 0===d||d,m=e.dictionary,p=e.disableOptions,b=void 0!==p&&p,h=e.postActions;return f.a.createElement(ne,{className:"post-comments card-body ".concat(n)},a&&f.a.createElement("ul",null,Object.values(a).map((function(e){return f.a.createElement(L.a,{key:e.id,comment:e,post:r,user:i,commentActions:c,onShowFileDialog:o,dropAction:s,workspace:l,isMember:u,dictionary:m,disableOptions:b,isCompanyPost:!0,postActions:h})}))))})),re=n(11),ie=n(13),ce=n(17),oe=n(74),se=n(30),le=b.a.div(M||(M=Object(m.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]))),de=b.a.div(U||(U=Object(m.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]))),ue=Object(b.a)(se.c)(G||(G=Object(m.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 28px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]))),me=Object(b.a)(h.h)(H||(H=Object(m.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]))),pe=Object(b.a)(h.s)(B||(B=Object(m.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),fe=b.a.div(W||(W=Object(m.a)(["\n  cursor: pointer;\n"]))),be=b.a.div(Y||(Y=Object(m.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),he=function(e){var t=e.post,a=e.posts,r=e.filter,i=e.postActions,c=e.user,o=e.onGoBack,s=e.dictionary,l=e.readByUsers,m=void 0===l?[]:l,b=i.markAsRead,O=i.markAsUnread,E=i.sharePost,g=i.followPost,v=i.remind,j=i.close,T=Object(A.useDispatch)(),y=Object(_.e)(),S=Object(A.useSelector)((function(e){return e.users.users})),w=Object(p.useState)(!1),k=Object(u.a)(w,2),N=k[0],R=k[1],x=Object(_.h)(t).comments,I=m.some((function(e){return e.id===c.id})),P=Object(re.a)(new Set(t.view_user_ids)),F=Object.values(S).filter((function(e){return P.some((function(t){return t===e.id}))})),M=Object.values(S).filter((function(e){return t.clap_user_ids.some((function(t){return t===e.id}))})),U=function(){o()},G={dropZoneRef:Object(p.useRef)(null)},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;T(Object(ce.Nb)(e)),i.setCommentType(t),G.dropZoneRef.current&&G.dropZoneRef.current.open()},B=function(){R(!1)},W=function(e){var a=[];e.forEach((function(e){var t=new FormData;t.append("file",e);var r=n(64).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?a.push(Object(d.a)(Object(d.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):"video/mp4"===e.type?a.push(Object(d.a)(Object(d.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):a.push(Object(d.a)(Object(d.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:t,name:e.name?e.name:e.path}))})),B();var r={type:"file_upload",droppedFiles:a,mode:"post",post:t};T(Object(ie.a)(r))},Y=t.users_responsible.some((function(e){return e.id===c.id})),z=function(){var e=t.users_approval.length>0&&t.users_approval.some((function(e){return null===e.ip_address&&e.id===c.id}));if(t.is_must_read&&t.author.id!==c.id){if(t.is_must_read&&t.required_users&&t.required_users.some((function(e){return e.id===c.id&&!e.must_read})))return!0;if(t.must_read_users&&t.must_read_users.some((function(e){return e.id===c.id&&!e.must_read})))return!0}if(t.is_must_reply&&t.author.id!==c.id){if(t.required_users&&t.required_users.some((function(e){return e.id===c.id&&!e.must_reply})))return!0;if(t.must_reply_users&&t.must_reply_users.some((function(e){return e.id===c.id&&!e.must_reply})))return!0}return!!e};return Object(p.useEffect)((function(){return t.view_user_ids.some((function(e){return e===c.id}))||z()||i.visit({post_id:t.id,personalized_for_id:null}),(1===t.is_unread||t.unread_count>0)&&(z()||i.markAsRead(t)),"undefined"===typeof t.fetchedReact&&i.fetchPostClapHover(t.id),i.getUnreadNotificationEntries({add_unread_comment:1}),function(){return i.getUnreadNotificationEntries({add_unread_comment:1})}}),[]),f.a.createElement(f.a.Fragment,null,null!==t.todo_reminder&&f.a.createElement(h.p,{todoReminder:t.todo_reminder,type:"POST"}),f.a.createElement(le,{className:"card-header d-flex justify-content-between"},f.a.createElement("div",{className:"d-flex flex-column align-items-start"},f.a.createElement("div",{className:"d-flex"},f.a.createElement("div",{className:"align-self-start"},f.a.createElement(pe,{className:"close mr-2",icon:"arrow-left",onClick:U})),f.a.createElement("div",null,f.a.createElement("h5",{ref:G.title,className:"post-title mb-0"},f.a.createElement("span",null,t.author.id!==c.id&&!t.is_followed&&f.a.createElement(pe,{icon:"eye-off"}),t.title))))),f.a.createElement("div",null,t.author.id===c.id&&f.a.createElement("ul",null,f.a.createElement("li",null,f.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},f.a.createElement("a",{onClick:function(){return i.showModal("edit_company",t)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},f.a.createElement(pe,{icon:"edit-3"})))),f.a.createElement("li",null,f.a.createElement("a",{onClick:function(){return i.trash(t)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},f.a.createElement(pe,{icon:"trash"})))),f.a.createElement("div",null,f.a.createElement(ue,{className:"ml-2",item:t,width:220,moreButton:"more-horizontal"},null===t.todo_reminder&&f.a.createElement("div",{onClick:function(){return v(t)}},s.remindMeAboutThis),0===t.is_unread?f.a.createElement("div",{onClick:function(){return O(t,!0)}},s.markAsUnread):z()?null:f.a.createElement("div",{onClick:function(){return b(t,!0)}},s.markAsRead),f.a.createElement("div",{onClick:function(){return E(t)}},s.share),t.author.id!==c.id&&f.a.createElement("div",{onClick:function(){return g(t)}},t.is_followed?s.unFollow:s.follow),(t.author&&t.author.id===c.id||"external"===t.author.type&&"internal"===c.type)&&f.a.createElement("div",{onClick:function(){return j(t)}},t.is_close?s.openThisPost:s.closeThisPost))))),f.a.createElement(de,{onDragOver:function(){R(!0)}},f.a.createElement(oe.a,{hide:!N,ref:G.dropZoneRef,onDragLeave:B,onDrop:function(e){var t=e.acceptedFiles;W(t)},onCancel:B}),f.a.createElement(D,{post:t,user:c,postActions:i,isAuthor:t.author.id===c.id,dictionary:s,disableMarkAsRead:z}),(t.author.id!==c.id&&t.is_must_read&&t.required_users&&t.required_users.some((function(e){return e.id===c.id&&!e.must_read}))||t.must_read_users&&t.must_read_users.some((function(e){return e.id===c.id&&!e.must_read})))&&f.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},f.a.createElement(fe,{className:"d-sm-inline d-none"},f.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){i.markReadRequirement(t);var e=t.users_approval.length>0&&t.users_approval.some((function(e){return null===e.ip_address&&e.id===c.id})),n=!0;t.is_must_reply&&t.author.id!==c.id&&(t.required_users&&t.required_users.some((function(e){return e.id===c.id&&!e.must_reply}))&&(n=!1),t.must_reply_users&&t.must_reply_users.some((function(e){return e.id===c.id&&!e.must_reply}))&&(n=!1)),n&&!e&&i.markAsRead(t)}},s.markAsRead))),t.user_unfollow.length>0&&f.a.createElement(C.o,{user_unfollow:t.user_unfollow}),f.a.createElement("hr",{className:"m-0"}),f.a.createElement(L.c,{dictionary:s,hasRead:I,likers:M,post:t,readByUsers:m,viewerIds:P,viewers:F,handleReaction:function(){var e={post_id:t.id,id:null,clap:0===t.user_clap_count?1:0,personalized_for_id:null};i.clap(e,(function(t,n){t&&(1===e.clap?i.unlike(e):i.like(e))})),0===t.user_clap_count?i.like(e):i.unlike(e)}}),t.files.length>0&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"card-body"},f.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},s.files),f.a.createElement(me,{attachedFiles:t.files,type:"post",post:t})),f.a.createElement("hr",{className:"m-0"})),t.files_trashed&&t.files_trashed.length>0&&f.a.createElement(f.a.Fragment,null,f.a.createElement(be,{className:"card-body"},f.a.createElement("h6",{className:"font-size-11 text-uppercase"},s.files),f.a.createElement("span",{className:"text-muted"},s.filesAutomaticallyRemoved),f.a.createElement(me,{attachedFiles:t.files_trashed,type:"post",post:t})),f.a.createElement("hr",{className:"m-0"})),x&&Object.keys(x).length>0&&f.a.createElement(f.a.Fragment,null,f.a.createElement(ae,{comments:x,post:t,user:c,commentActions:y,onShowFileDialog:H,dropAction:W,dictionary:s,postActions:i}),f.a.createElement("hr",{className:"m-0"})),f.a.createElement(Ne,{isMember:Y,post:t,posts:a,filter:r,commentActions:y,postActions:i,overview:U,onShowFileDialog:H,dropAction:W,mainInput:!0})))},_e=n(23),Oe=n(204),Ee=n(154),ge=b.a.div(z||(z=Object(m.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),Ae=b.a.div(V||(V=Object(m.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),ve=Object(b.a)(h.s)(Q||(Q=Object(m.a)([""]))),je=b.a.div(q||(q=Object(m.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),Ce=b.a.div(K||(K=Object(m.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),Te=b.a.div(J||(J=Object(m.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),ye=Object(b.a)(h.f)(Z||(Z=Object(m.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Se=b.a.div(X||(X=Object(m.a)(["\n  padding: 5px 45px;\n"]))),we=b.a.div($||($=Object(m.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),ke=b.a.span(ee||(ee=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),Ne=f.a.memo((function(e){var t=e.className,a=void 0===t?"":t,r=e.overview,i=e.onShowFileDialog,c=e.dropAction,o=e.post,s=e.posts,l=e.filter,m=e.parentId,b=void 0===m?null:m,O=e.commentActions,E=e.userMention,v=void 0===E?null:E,j=e.handleClearUserMention,C=void 0===j?null:j,T=e.commentId,y=void 0===T?null:T,S=e.innerRef,w=void 0===S?null:S,k=e.mainInput,N=o.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),R=Object(_.H)(),x={picker:Object(p.useRef)(),postInput:Object(p.useRef)(null)},I=Object(A.useSelector)((function(e){return e.session.user})),P=Object(A.useSelector)((function(e){return e.users.users})),D=Object(A.useSelector)((function(e){return e.posts.editPostComment})),F=Object(A.useSelector)((function(e){return e.posts.changeRequestedComment})),M=Object(p.useRef)(),U=Object(p.useState)(!1),G=Object(u.a)(U,2),H=G[0],B=G[1],W=Object(p.useState)(null),Y=Object(u.a)(W,2),z=Y[0],V=Y[1],Q=Object(p.useState)(null),q=Object(u.a)(Q,2),K=q[0],J=q[1],Z=Object(p.useState)(!1),X=Object(u.a)(Z,2),$=X[0],ee=X[1],te=Object(p.useState)(!1),ne=Object(u.a)(te,2),ae=(ne[0],ne[1]),ie=Object(p.useState)("default"),ce=Object(u.a)(ie,2),oe=ce[0],se=ce[1],le=Object(p.useState)(null),de=Object(u.a)(le,2),ue=de[0],me=de[1],pe=Object(p.useState)("#cacaca"),fe=Object(u.a)(pe,2),be=fe[0],he=fe[1],Ne=Object(p.useState)(!1),Re=Object(u.a)(Ne,2),xe=Re[0],Ie=Re[1],Pe=Object(p.useState)([]),De=Object(u.a)(Pe,2),Le=De[0],Fe=De[1],Me=Object(p.useState)({approve:!1,change:!1}),Ue=Object(u.a)(Me,2),Ge=Ue[0],He=Ue[1],Be=Object(p.useState)(!(!N||!o.shared_with_client||"internal"!==I.type)),We=Object(u.a)(Be,2),Ye=We[0],ze=We[1],Ve=Object(p.useState)(o.shared_with_client?null:"internal"),Qe=Object(u.a)(Ve,2),qe=Qe[0],Ke=Qe[1],Je=Object(p.useState)(null),Ze=Object(u.a)(Je,2),Xe=Ze[0],$e=Ze[1],et=function(){Ye||B(!H)},tt=Object(_.cb)()._t,nt={noReplyAllowed:tt("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:tt("TOOLTIP.ATTACH_FILES","Attach files"),lockedLabel:tt("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:tt("POST.REQUEST_CHANGE","Request for change"),accept:tt("POST.ACCEPT","Accept"),requestApprovalFrom:tt("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:tt("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:tt("POST.ADDRESSED_TO","Addressed to"),selectApprover:tt("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:tt("TOOLTIP.EMOJI","Emoji"),images:tt("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:tt("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:tt("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:tt("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:tt("POST.REOPEN","Reopen"),agree:tt("POST.AGREE","Agree"),disagree:tt("POST.DISAGREE","Disagree"),overview:tt("POST.OVERVIEW","Overview"),archivePostOpenNext:tt("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next")},at=o.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),rt=[].concat(Object(re.a)(Object.values(P).filter((function(e){return at.some((function(t){return t===e.id}))&&e.id!==I.id})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:n(64).generate(),value:"all",label:"All users",icon:"users",all_ids:at.filter((function(e){return P[e]&&P[e].active&&e!==I.id}))}]);Le.length&&Le.find((function(e){return"all"===e.value}))&&(rt=rt.filter((function(e){return"all"===e.value})));Object(p.useEffect)((function(){if(D){var e=D.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;D.users_approval.length>0&&(Ie(!0),Fe(D.users_approval.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{icon:"user-avatar",value:t.id,label:t.name,type:"USER",ip_address:e?null:t.ip_address,is_approved:!e&&t.is_approved})})))),ze(!1),D.shared_with_client?Ke("external"):Ke("internal")}}),[D]);var it=o.users_approval.length>0&&o.users_approval.filter((function(e){return null===e.ip_address})).length===o.users_approval.length,ct=o.users_approval.some((function(e){return e.id===I.id})),ot=o.users_approval.map((function(e){return e.name})),st=o.users_approval.length>1,lt=o.users_approval.some((function(e){return e.id===I.id&&null!==e.ip_address}));Object(p.useEffect)((function(){F&&y&&y===F.id?(Ie(!0),Fe([Object(d.a)(Object(d.a)({},F.author),{},{icon:"user-avatar",value:F.author.id,label:F.author.name,type:"USER",ip_address:null,is_approved:null})])):(Ie(!1),Fe([]))}),[F]);var dt=o.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),ut=o.recipients.find((function(e){return"USER"===e.type})),mt=o.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return f.a.createElement(ge,{className:"company-post-detail-footer card-body ".concat(a)},f.a.createElement(je,{className:"d-flex pr-2 pl-2"},f.a.createElement(L.b,{commentActions:O,commentId:D&&o&&D.post_id===o.id&&D.quote?D.quote.id:y,editPostComment:D,mainInput:k})),f.a.createElement(je,{className:"d-flex alig-items-center"},dt&&ut&&f.a.createElement("div",{className:"locked-label mb-2"},nt.sharedWithAdditionalPeople),dt&&mt&&f.a.createElement("div",{className:"locked-label mb-2"},nt.sharedWithPublicWs),xe&&f.a.createElement(we,null,Ge.change&&ct&&f.a.createElement("label",null,nt.requestChangeTo),!ct&&f.a.createElement("label",null,nt.addressedTo),f.a.createElement(_e.d,{options:rt,value:Le,onChange:function(t){null!==t&&t.length||(F&&O.clearApprovingStatus(F.id),e.handleCancelChange&&e.handleCancelChange(),Ge.change&&(He(Object(d.a)(Object(d.a)({},Ge),{},{change:!1})),Ie(!1))),null===t?Fe([]):t.find((function(e){return"all"===e.value}))?Fe(t.filter((function(e){return"all"===e.value}))):Fe(t)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),it&&!ct&&f.a.createElement(Ce,{className:"d-flex align-items-center mb-2"},f.a.createElement("div",{className:"alert alert-primary request-approval"},nt.requestApprovalFrom," ",ot.join(", "))),o.is_close&&k&&f.a.createElement(Te,{className:"d-flex align-items-center"},f.a.createElement("div",{className:"alert alert-warning"},f.a.createElement("span",null,nt.creatorClosedPost),(o.author.id===I.id||"external"===o.author.type&&"internal"===I.type)&&f.a.createElement("span",{onClick:function(){R.close(o)}},nt.reopen))),o.is_read_only&&k&&f.a.createElement(je,{className:"d-flex align-items-end"},f.a.createElement(Ce,{className:"d-flex align-items-center"},f.a.createElement("div",{className:"alert alert-warning"},nt.noReplyAllowed))),!o.is_close&&!o.is_read_only&&f.a.createElement(je,{className:"d-flex align-items-end",backgroundSend:ue,cursor:oe,fillSend:be},f.a.createElement(Ae,{ref:w,className:"flex-grow-1 chat-input-footer",disableButtons:Ye},f.a.createElement(_e.b,{handleClearSent:function(){ee(!1)},sent:$,commentId:y,userMention:v,handleClearUserMention:C,commentActions:O,parentId:b,post:o,selectedGif:K,onClearGif:function(){J(null)},selectedEmoji:z,onClearEmoji:function(){V(null)},dropAction:c,members:o.users_responsible,onActive:function(e){var t;ae(e),me((t=e&&!Xe?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),se(t[1]),he(t[2])},onClosePicker:function(){B(!1)},ref:x.postInput,prioMentionIds:at,approvers:xe?Le:[],onClearApprovers:function(){Ie(!1),Fe([])},onSubmitCallback:function(e,t){if(!e){if(o.is_must_reply&&o.required_users.some((function(e){return e.id===I.id&&!e.must_reply}))||o.must_reply_users&&o.must_reply_users.some((function(e){return e.id===I.id&&!e.must_reply}))){R.markReplyRequirement(o);var n=!0;o.is_must_read&&o.author.id!==I.id&&(o.is_must_read&&o.required_users&&o.required_users.some((function(e){return e.id===I.id&&!e.must_read}))&&(n=!1),o.must_read_users&&o.must_read_users.some((function(e){return e.id===I.id&&!e.must_read}))&&(n=!1));var a=o.users_approval.length>0&&o.users_approval.some((function(e){return null===e.ip_address&&e.id===I.id}));n&&!a&&R.markAsRead(o)}1===o.users_approval.length&&it&&ct&&xe&&R.approve({post_id:o.id,approved:0},(function(e,t){He(Object(d.a)(Object(d.a)({},Ge),{},{change:!1}))})),F&&O.approve({post_id:o.id,approved:0,comment_id:F.id,transfer_comment_id:t.data.id})}},isApprover:Ge.change&&it,mainInput:k,readOnly:Ye,onToggleCommentType:function(e){ze(!e),Ke(e)},commentType:qe,imageLoading:Xe,setImageLoading:$e}),f.a.createElement(Oe.a,{parentId:b,handleQuillImage:function(){if(x.postInput&&!Ye){var e=x.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:et,onShowFileDialog:i,showApprover:xe,toggleApprover:function(){Ye||Ie((function(e){return!e}))},editPostComment:D,mainInput:k,disableButtons:Ye,commentType:qe})),f.a.createElement(g.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Send"},f.a.createElement(ve,{onClick:function(){Ye||ee(!0)},icon:"send"})),!0===H&&f.a.createElement(ye,{handleShowEmojiPicker:et,onSelectEmoji:function(e){V(e)},onSelectGif:function(e){J(e)},orientation:"top",ref:x.picker})),D&&D.files.length>0&&f.a.createElement(Se,null,D.files.map((function(e){return e.name})).join(", ")),(it&&ct&&!Ge.change||st&&ct&&!lt)&&f.a.createElement(je,null,f.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},f.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===o.users_approval.length?(He(Object(d.a)(Object(d.a)({},Ge),{},{change:!0})),Ie(!0),Fe([Object(d.a)(Object(d.a)({},o.author),{},{icon:"user-avatar",value:o.author.id,label:o.author.name,type:"USER",ip_address:null,is_approved:null})])):(He(Object(d.a)(Object(d.a)({},Ge),{},{change:!0})),R.approve({post_id:o.id,approved:0},(function(e,t){if(He(Object(d.a)(Object(d.a)({},Ge),{},{change:!1})),!e){var n=1===o.users_approval.filter((function(e){return null===e.ip_address})).length,a=o.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===o.users_approval.length-1;n&&a&&R.generateSystemMessage(o,[],o.users_approval.map((function(e){return e.id})))}})))}},nt.disagree," ",Ge.change&&f.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),f.a.createElement(Ee.a,{ref:M,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},f.a.createElement("button",{className:"btn btn-primary",onClick:function(){R.showModal("confirmation",o,null,M)}},nt.agree," ",Ge.approve&&f.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))))),l&&("all"===l||"inbox"===l)&&f.a.createElement(je,null,f.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},f.a.createElement(ke,{className:"mr-3",onClick:r},f.a.createElement(h.s,{className:"mr-2",icon:"corner-up-left"})," ",nt.overview),f.a.createElement(ke,{onClick:function(){var e=s.reduce((function(e,t,n){return t.id===o.id&&(e=s[n+1]),e}),null);R.archivePost(o,(function(){e?R.openPost(e,"/posts"):r()}))}},nt.archivePostOpenNext," ",f.a.createElement(h.s,{className:"ml-2",icon:"corner-up-right"})))))})),Re=b.a.div(te||(te=Object(m.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']))),xe=f.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.filter,r=void 0===a?"inbox":a,i=e.onGoBack,c=e.counters,o=e.dictionary,s=Object(_.H)(),l=s.setCompanyFilterPosts,d=s.fetchCompanyPosts,m=Object(A.useSelector)((function(e){return e.global.unreadCounter})),b=Object(A.useSelector)((function(e){return e.posts.archived})),O=Object(p.useState)(!1),E=Object(u.a)(O,2),g=E[0],v=E[1],j=function(e){if(e.persist(),"archive"!==e.target.dataset.value||0!==b.skip||g||(v(!0),d({skip:0,limit:25,filters:["post","archived"]},(function(){return v(!1)}))),e.target.dataset.value===r)i();else{var t={filter:e.target.dataset.value,tag:null};l(t),i()}document.body.classList.remove("mobile-modal-open")};return f.a.createElement(Re,{className:"post-filter-item list-group list-group-flush ".concat(n)},f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"inbox"===r?"active":""),"data-value":"inbox",onClick:j},f.a.createElement(h.s,{className:"mr-2",icon:"inbox"}),o.inbox,m.general_post>0&&f.a.createElement("span",{className:"small ml-auto"},m.general_post)),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"all"===r?"active":""),"data-value":"all",onClick:j},f.a.createElement(h.s,{className:"mr-2",icon:"mail"}),o.all),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"my_posts"===r?"active":""),"data-value":"my_posts",onClick:j},f.a.createElement(h.s,{className:"mr-2",icon:"send-post"}),o.myPosts),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"star"===r?"active":""),"data-value":"star",onClick:j},f.a.createElement(h.s,{className:"mr-2",icon:"star"}),o.starred),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"archive"===r?"active":""),"data-value":"archive",onClick:j},f.a.createElement(h.s,{className:"mr-2",icon:"archive"}),o.archived),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"draft"===r?"active":""),"data-value":"draft",onClick:j},f.a.createElement(h.s,{className:"mr-2",icon:"edit-3"}),o.drafts,f.a.createElement("span",{className:"small ml-auto"},c.drafts>0&&c.drafts)))}));function Ie(){var e=Object(m.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]);return Ie=function(){return e},e}var Pe,De,Le,Fe,Me,Ue,Ge,He,Be,We=b.a.div(Ie()),Ye=f.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.search,r=e.dictionary;return f.a.createElement(We,{className:"post-filter-search-panel app-action ".concat(n)},f.a.createElement("div",{className:"action-left"},f.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},f.a.createElement(h.s,{icon:"menu"}))),f.a.createElement("div",{className:"action-right"},f.a.createElement(at,{search:a,placeholder:r.searchPost})))})),ze=b.a.div(Pe||(Pe=Object(m.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),Ve=f.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.tag,r=e.count,i=e.onGoBack,c=e.dictionary,o=Object(_.H)().setCompanyFilterPosts,s=function(e){e.persist();var t={tag:e.target.dataset.value,filter:null};a===e.target.dataset.value&&(t=Object(d.a)(Object(d.a)({},t),{},{tag:null,filter:"all"})),o(t),i(),document.body.classList.remove("mobile-modal-open")};return f.a.createElement(ze,{className:"list-group list-group-flush ".concat(n)},f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_must_reply"===a?"active":""),"data-value":"is_must_reply",onClick:s},f.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),c.replyRequired,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_must_reply>0&&r.is_must_reply)),f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_must_read"===a?"active":""),"data-value":"is_must_read",onClick:s},f.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),c.mustRead,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_must_read>0&&r.is_must_read)),f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_read_only"===a?"active":""),"data-value":"is_read_only",onClick:s},f.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),c.noReplies,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_read_only>0&&r.is_read_only)),f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_unread"===a?"active":""),"data-value":"is_unread",onClick:s},f.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),c.unread,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_unread>0&&r.is_unread)),f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_close"===a?"active":""),"data-value":"is_close",onClick:s},f.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),c.closed,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_close>0&&r.is_close)))})),Qe=b.a.li(De||(De=Object(m.a)(["\n  flex-flow: column;\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    //padding-left: 2.5rem;\n    overflow: inherit;\n    //width: calc(100% - ","px);\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 100%;\n      height: 100%;\n    }\n    @media (max-width: 991.99px) {\n    img {\n      width: 2rem;\n      height: 2rem;\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"])),(function(e){return e.appListWidthDiff})),qe=Object(b.a)(h.s)(Le||(Le=Object(m.a)(["\n  width: 16px;\n"]))),Ke=b.a.div(Fe||(Fe=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]))),Je=b.a.div(Me||(Me=Object(m.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]))),Ze=Object(b.a)(_e.k)(Ue||(Ue=Object(m.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n"]))),Xe=b.a.div(Ge||(Ge=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),$e=b.a.div(He||(He=Object(m.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),et=f.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternalUser,r=e.post,i=e.dictionary,c=e.disableOptions,o=e.toggleCheckbox,s=e.checked,l=e.hasUnread,d=e.postActions,m=d.starPost,b=d.openPost,O=d.archivePost,E=d.markAsRead,g=d.markAsUnread,v=d.sharePost,j=d.followPost,T=d.remind,y=d.showModal,S=d.close,w=d.disconnectPostList,k=Object(A.useSelector)((function(e){return e.session.user})),N=Object(A.useSelector)((function(e){return e.workspaces.flipper})),R=Object(_.W)().fromNow,x=Object(p.useState)(0),I=Object(u.a)(x,2),P=I[0],D=I[1],L=Object(p.useState)(!1),F=Object(u.a)(L,2),M=F[0],U=F[1],G=Object(p.useRef)(!0);Object(p.useEffect)((function(){return function(){G.current=!1}}),[]);var H=function(){var e=r.users_approval.length>0&&r.users_approval.some((function(e){return null===e.ip_address&&e.id===k.id}));if(r.is_must_read&&r.author.id!==k.id){if(r.is_must_read&&r.required_users&&r.required_users.some((function(e){return e.id===k.id&&!e.must_read})))return!0}else{if(!r.is_must_reply||r.author.id===k.id)return!!e;if(r.required_users&&r.required_users.some((function(e){return e.id===k.id&&!e.must_reply})))return!0}};return f.a.createElement(Qe,{"data-toggle":N?"1":"0",appListWidthDiff:P+50,className:"list-group-item post-item-panel ".concat(l?"has-unread":""," ").concat(n," pl-3"),onClick:function(){return b(r,"/posts")}},f.a.createElement(C.l,{post:r,user:k,dictionary:i,isExternalUser:a,classNames:"text-truncate"}),f.a.createElement(Xe,null,f.a.createElement(Ze,{name:"test",checked:s,onClick:function(){return o(r.id)},disabled:H()}),f.a.createElement(Je,{className:"d-flex ml-2 mr-2"},f.a.createElement(h.a,{title:"FROM: ".concat(r.author.name),className:"author-avatar mr-2",id:r.author.id,name:r.author.name,imageLink:r.author.profile_image_thumbnail_link?r.author.profile_image_thumbnail_link:r.author.profile_image_link})),f.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},f.a.createElement("div",{className:"app-list-title text-truncate ".concat(l?"has-unread":"")},f.a.createElement("div",{className:"text-truncate d-flex"},f.a.createElement("span",{className:"text-truncate"},r.author.id!==k.id&&!r.is_followed&&f.a.createElement(qe,{icon:"eye-off"}),r.title),f.a.createElement($e,{className:"hover-btns ml-1"},"draft_post"!==r.type&&!c&&r.author.id===k.id&&f.a.createElement(qe,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),y("edit",r)}}),!c&&!H()&&f.a.createElement(qe,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),M||(U(!0),O(r,(function(){G.current&&U(!1)})))}}))),f.a.createElement(Ke,null,0!==r.unread_count&&f.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},r.unread_count," new"),f.a.createElement("div",{className:"text-muted"},0===r.reply_count?i.noComment:1===r.reply_count?i.oneComment:i.comments.replace("::comment_count::",r.reply_count)),f.a.createElement("span",{className:"time-stamp text-muted"},f.a.createElement("span",null,R(r.updated_at.timestamp)))))),f.a.createElement(C.a,{post:r,dictionary:i,user:k,cbGetWidth:D}),f.a.createElement("div",{className:"d-flex"},"draft_post"!==r.type&&!c&&f.a.createElement(se.c,{className:"d-flex ml-2",item:r,width:220,moreButton:"more-horizontal"},null===r.todo_reminder&&f.a.createElement("div",{onClick:function(){return T(r)}},i.remindMeAboutThis),r.author&&r.author.id===k.id&&f.a.createElement("div",{onClick:function(){return y("edit_company",r)}},i.editPost),0===r.is_unread?f.a.createElement("div",{onClick:function(){return g(r,!0)}},i.markAsUnread):H()?null:f.a.createElement("div",{onClick:function(){return E(r,!0)}},i.markAsRead),f.a.createElement("div",{onClick:function(){return v(r)}},i.share),r.author&&r.author.id!==k.id&&f.a.createElement("div",{onClick:function(){return j(r)}},r.is_followed?i.unFollow:i.follow),f.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),c||m(r)}},r.is_favourite?i.unStar:i.star),(r.author&&r.author.id===k.id||"external"===r.author.type&&"internal"===k.type)&&f.a.createElement("div",{onClick:function(){return S(r)}},r.is_close?i.openThisPost:i.closeThisPost),r.post_list_connect&&f.a.createElement("div",{onClick:function(){return function(){if(1!==r.post_list_connect.length)y("add_to_list",r);else{var e={link_id:r.post_list_connect[0].id,post_id:r.id};w(e)}}()}},1===r.post_list_connect.length?i.removeToList:i.addToList)))))})),tt=n(54),nt=b.a.div(Be||(Be=Object(m.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),at=f.a.memo((function(e){var t=e.search,n=e.placeholder,a=Object(A.useDispatch)(),r=Object(p.useState)(t),i=Object(u.a)(r,2),c=i[0],o=i[1],s=Object(tt.debounce)((function(e){a(Object(ce.d)({search:e,search_result:[]})),""!==e&&a(Object(ce.Kb)({search:e},(function(t,n){t||a(Object(ce.d)({search:e,search_result:n.data.posts}))})))}),500);return f.a.createElement(nt,{className:"input-group"},f.a.createElement("input",{type:"text",className:"form-control",placeholder:n,value:c,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&s(c)},onChange:function(e){o(e.target.value),s(e.target.value.trim())}}),""!==t.trim()&&f.a.createElement("button",{onClick:function(){o(""),a(Object(ce.d)({search:"",search_result:[]}))},className:"btn-cross",type:"button"},f.a.createElement(h.s,{icon:"x"})),f.a.createElement("div",{className:"input-group-append"},f.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:s},f.a.createElement("i",{className:"ti-search"}))))}));function rt(){var e=Object(m.a)([""]);return rt=function(){return e},e}function it(){var e=Object(m.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]);return it=function(){return e},e}function ct(){var e=Object(m.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return ct=function(){return e},e}var ot,st,lt=b.a.div(ct()),dt=Object(b.a)(h.s)(it()),ut=b.a.div(rt()),mt=f.a.memo((function(e){var t=e.workspace,n=e.filter,a=e.tag,r=e.postListTag,i=e.count,c=e.postLists,o=e.counters,s=e.postActions,l=e.onGoBack,d=e.dictionary,u=e.disableOptions;return f.a.createElement(lt,{className:"col-md-3 app-sidebar bottom-modal-mobile"},f.a.createElement(ut,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),f.a.createElement("div",{className:"bottom-modal-mobile_inner"},f.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},f.a.createElement("div",{className:"card-body create-new-post-wrapper"},f.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){s.showModal("create_company")},disabled:u},d.createNewPost)),f.a.createElement(xe,{filter:n,tag:a,onGoBack:l,counters:o,dictionary:d}),f.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},f.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},d.category,f.a.createElement("span",{className:"ml-auto",onClick:function(){s.showModal("create_edit_post_list")},disabled:u},f.a.createElement(dt,{className:"mr-0",icon:"plus"})))),f.a.createElement(Ve,{count:i,workspace:t,tag:a,onGoBack:l,dictionary:d}),f.a.createElement(bt,{postLists:c,tag:a,postListTag:r,onGoBack:l,dictionary:d,postActions:s}))))})),pt=b.a.div(ot||(ot=Object(m.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),ft=Object(b.a)(h.s)(st||(st=Object(m.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),bt=f.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.postLists,r=e.tag,i=e.postListTag,c=e.onGoBack,o=Object(p.useState)(null),s=Object(u.a)(o,2),l=s[0],m=s[1],b=Object(_.H)(),h=b.setCompanyFilterPosts,O=b.showModal;return f.a.createElement(pt,{className:"post-filter-item list-group list-group-flush ".concat(n)},a&&a.map((function(e){return f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&parseInt(i)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){var t={tag:null,postListTag:e.target.dataset.id,filter:null};r===e.target.dataset.id&&(t=Object(d.a)(Object(d.a)({},t),{},{tag:null,filter:"all"})),h(t),c(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(t){m(e.id)},onMouseLeave:function(e){return m(null)}},f.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,l&&l===e.id&&f.a.createElement("span",{className:"small ml-auto",onClick:function(t){return function(e,t){e.stopPropagation(),O("edit_post_list",t)}(t,e)}},f.a.createElement(ft,{className:"mr-0 small",icon:"edit-3"}))||f.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))}));function ht(){var e=Object(m.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return ht=function(){return e},e}var _t,Ot,Et,gt,At,vt=b.a.div(ht()),jt=function(e){var t=e.actions,n=e.dictionary;return f.a.createElement("div",{className:"card card-body app-content-body"},f.a.createElement(vt,null,f.a.createElement(h.q,{icon:3,height:252}),f.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){t.showModal("create_company")}},n.createNewPost)))},Ct=b.a.div(_t||(_t=Object(m.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),Tt=b.a.div(Ot||(Ot=Object(m.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]))),yt=b.a.div(Et||(Et=Object(m.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),St=b.a.li(gt||(gt=Object(m.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),wt=b.a.li(At||(At=Object(m.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),kt=function(e){var t=e.actions,n=e.dictionary,a=e.filter,r=e.isExternalUser,i=e.loading,c=e.posts,o=e.search,s=c.filter((function(e){return 0===e.is_unread})),l=c.filter((function(e){return 1===e.is_unread})),m=Object(p.useState)({showUnread:l.length>0,showRead:0===l.length}),b=Object(u.a)(m,2),_=b[0],O=b[1],E=Object(p.useState)([]),g=Object(u.a)(E,2),A=g[0],v=g[1],j=function(e){var t=!A.some((function(t){return t===e}))?[].concat(Object(re.a)(A),[e]):A.filter((function(t){return t!==e}));v(t)};return Object(p.useEffect)((function(){v([])}),[a]),Object(p.useEffect)((function(){_.showUnread||_.showRead||(l.length?O((function(e){return Object(d.a)(Object(d.a)({},e),{},{showUnread:!0})})):s.length&&O((function(e){return Object(d.a)(Object(d.a)({},e),{},{showRead:!0})})))}),[_,s,l]),f.a.createElement(f.a.Fragment,null,("all"===a||"inbox"===a)&&A.length>0&&f.a.createElement(Ct,null,f.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.archiveAll({selected_post_ids:A}),v([])}},n.archive),f.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.readAll({selected_post_ids:A}),v([]),t.getUnreadNotificationEntries({add_unread_comment:1})}},n.markAsRead)),"draft"===a&&f.a.createElement(Ct,null,f.a.createElement("button",{className:"btn all-action-button",onClick:function(){v(c.map((function(e){return e.id})))}},n.selectAll),f.a.createElement("button",{className:"btn all-action-button",onClick:function(){A.length&&A.forEach((function(e){var n=c.find((function(t){return t.id===e}));n&&t.archivePost(n)}))}},n.remove)),f.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},f.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":i},""!==o&&f.a.createElement(f.a.Fragment,null,0===c.length?f.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},n.searchNoResult," ",o):1===c.length?f.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},n.searchResult," ",o):f.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},n.searchResults," ",o)),"draft"===a&&f.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},f.a.createElement("div",null,c.map((function(e){return f.a.createElement(et,{key:e.id,post:e,postActions:t,dictionary:n,toggleCheckbox:j,checked:A.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:r})})))),"draft"!==a&&f.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},""===o&&f.a.createElement("div",null,f.a.createElement(St,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){_.showUnread?O({showUnread:!(s.length>0),showRead:s.length>0}):O({showUnread:!0,showRead:_.showRead})},showPosts:_.showUnread},f.a.createElement("span",{className:"badge badge-light"},f.a.createElement(h.s,{icon:_.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),n.unread))),l.length>0&&f.a.createElement(Tt,{className:"unread-posts-container collapse ".concat(_.showUnread||""!==o?"show":""," fadeIn"),id:"unread-posts-container",showPosts:_.showUnread},l.map((function(e){return f.a.createElement(et,{key:e.id,post:e,postActions:t,dictionary:n,toggleCheckbox:j,checked:A.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:r})}))),""===o&&f.a.createElement("div",null,f.a.createElement(wt,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){_.showRead?O({showUnread:l.length>0,showRead:!(l.length>0)}):O({showUnread:l.length>0,showRead:s.length>0})},showPosts:_.showRead},f.a.createElement("span",{className:"badge badge-light"},f.a.createElement(h.s,{icon:_.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),n.allOthers))),s.length>0&&f.a.createElement(yt,{className:"read-posts-container collapse ".concat(_.showRead||""!==o?"show":""," fadeIn"),showPosts:_.showRead},s.map((function(e){return f.a.createElement(et,{key:e.id,post:e,postActions:t,dictionary:n,toggleCheckbox:j,checked:A.some((function(t){return t===e.id})),hasUnread:!1,isExternalUser:r})})))))))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return L})),n.d(t,"a",(function(){return ne}));n(333);var a=n(2),r=n(0),i=n.n(r),c=n(3);function o(){var e=Object(a.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return o=function(){return e},e}function s(){var e=Object(a.a)([""]);return s=function(){return e},e}var l=c.a.div(s()),d=c.a.span(o(),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),u=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,r=e.todoActions,c=e.setFilter,o=e.filter,s=e.count;return i.a.createElement(l,{className:"todo-sidebar bottom-modal-mobile ".concat(n)},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return r.createFromModal()}},a.createNewTodoItem)),i.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},i.a.createElement("div",{className:"list-group list-group-flush"},i.a.createElement(d,{onClick:c,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{className:"text-secondary fa fa-circle mr-2"}),a.statusAll,s&&s.all>0&&i.a.createElement("span",{className:"small ml-auto"},s.all)),i.a.createElement(d,{onClick:c,"data-filter":"OVERDUE",active:"OVERDUE"===o,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),a.statusExpired,s&&s.overdue>0&&i.a.createElement("span",{className:"small ml-auto"},s.overdue)),i.a.createElement(d,{onClick:c,"data-filter":"TODAY",active:"TODAY"===o,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"TODAY"},i.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),a.statusToday),s&&s.today>0&&i.a.createElement("span",{className:"small ml-auto"},s.today)),i.a.createElement(d,{onClick:c,"data-filter":"NEW",active:"NEW"===o,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"NEW"},i.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),a.statusUpcoming),s&&s.new>0&&i.a.createElement("span",{className:"small ml-auto"},s.new)),i.a.createElement(d,{onClick:c,"data-filter":"ASSIGNED_TO_OTHERS",active:"ASSIGNED_TO_OTHERS"===o,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},i.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByMe),s&&s.assigned_to_others>0&&i.a.createElement("span",{className:"small ml-auto"},s.assigned_to_others)),i.a.createElement(d,{onClick:c,"data-filter":"ADDED_BY_OTHERS",active:"ADDED_BY_OTHERS"===o,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},i.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByOthers),s&&s.added_by_others>0&&i.a.createElement("span",{className:"small ml-auto"},s.added_by_others))))))})),m=n(7);function p(){var e=Object(a.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return p=function(){return e},e}var f,b,h,_,O,E,g,A=c.a.div(p()),v=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.clearSearch,r=e.onEnter,c=e.dictionary,o=e.onSearchChange,s=e.searchValue;return i.a.createElement(A,{className:"todos-header app-action ".concat(n)},i.a.createElement("div",{className:"action-left"},i.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},i.a.createElement(m.s,{icon:"menu"}))),i.a.createElement("div",{className:"action-right"},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",onKeyDown:r,onChange:o,value:s,className:"form-control",placeholder:c.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==s.trim()&&i.a.createElement("button",{onClick:a,className:"btn-cross",type:"button"},i.a.createElement(m.s,{icon:"x"})),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},i.a.createElement(m.s,{icon:"search"}))))))})),j=n(1),C=n(6),T=n(23),y=n(19),S=n(5),w=n(51),k=Object(c.a)(m.s)(f||(f=Object(a.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),N=c.a.div(b||(b=Object(a.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),R=c.a.li(h||(h=Object(a.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .todo-title {\n    text-decoration: ",";\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n    .avatars-container {\n      min-width: 40px;\n    }\n  }\n"])),(function(e){return e.isDone?"line-through":"none"})),x=c.a.div(_||(_=Object(a.a)(["\n  max-height: 50px;\n  > * {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),I=c.a.div(O||(O=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]))),P=c.a.div(E||(E=Object(a.a)(["\n  min-width: 142px;\n  text-align: right;\n  @media all and (max-width: 480px) {\n    min-width: 70px;\n  }\n"]))),D=c.a.div(g||(g=Object(a.a)(["\n  @media all and (max-width: 480px) {\n    flex-flow: row wrap;\n  }\n"]))),L=function(e){var t=e.todo,n=e.todoActions,a=e.handleLinkClick,c=e.dictionary,o=e.todoFormat,s=e.todoFormatShortCode,l=e.getFileIcon,d=e.showWsBadge,u=e.handleRedirectToWorkspace,p=Object(S.useDispatch)(),f=Object(r.useState)("DONE"===t.status),b=Object(C.a)(f,2),h=b[0],_=b[1],O=Object(S.useSelector)((function(e){return e.files.fileBlobs})),E=Object(r.useRef)(null);Object(r.useEffect)((function(){E.current&&E.current.querySelectorAll("img").forEach((function(e){var n=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=t.files.find((function(e){return n.includes(e.code)}));a&&O[a.id]&&(e.setAttribute("src",O[a.id]),e.setAttribute("data-id",a.id))}else{e.classList.add("has-listener");var r=t.files.find((function(e){return n.includes(e.code)}));r&&O[r.id]&&(e.setAttribute("src",O[r.id]),e.setAttribute("data-id",r.id))}}));var e=t.files.filter((function(e){return e.type.includes("image")}));e.length&&e.forEach((function(e){O[e.id]||w.sessionService.loadSession().then((function(t){var n=t.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:n,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var n=URL.createObjectURL(t);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};p(Object(y.lb)(e,t))}({id:e.id,src:n})}))}))}))}),[t.files,t.description,E]),Object(r.useEffect)((function(){"DONE"!==t.status||h?"DONE"!==t.status&&h&&n.markDone(t):n.markUnDone(t)}),[h]);var g=function(e){e.stopPropagation(),e.preventDefault(),n.updateFromModal(t)},A=function(e){e.preventDefault(),t.link_type?a(e,t):n.updateFromModal(t)},v=t.assigned_to&&t.assigned_to.id!==t.user||null!==t.workspace&&null===t.assigned_to||null===t.workspace&&null!==t.assigned_to&&t.assigned_to.id!==t.user||t.assigned_to&&t.author&&t.assigned_to.id!==t.author.id;return i.a.createElement(i.a.Fragment,null,i.a.createElement(R,{className:"reminder-list",isDone:h},t.workspace&&d&&i.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return u(e,t)}},i.a.createElement("span",{className:"badge ml-4 badge-light border-0"},t.workspace.name)),i.a.createElement("div",{className:"d-flex align-items-center reminder-content"},i.a.createElement("span",{className:"custom-control custom-checkbox mr-2"},i.a.createElement(m.t,{content:"DONE"===t.status?c.actionMarkAsUndone:c.actionMarkAsDone},i.a.createElement(T.k,{checked:h,onClick:function(e){_(!h)}}))),i.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3 ".concat(h&&"text-muted"),onClick:A},i.a.createElement("span",{className:"todo-title"},t.title),t.description&&!h&&i.a.createElement(x,{ref:E,className:"text-truncate",dangerouslySetInnerHTML:{__html:t.description}}),!h&&t.files.map((function(e){return i.a.createElement("span",{key:"".concat(t.id).concat(e.file_id),onClick:function(n){return function(e,t,n){e.preventDefault(),e.stopPropagation();var a={files:t.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{filename:e.name})})),file_id:n.file_id};p(Object(y.Wb)(a))}(n,t.files,e)}},l(e.mime_type))}))),i.a.createElement(N,{className:"hover-btns ml-1"},i.a.createElement(k,{icon:"pencil",onClick:g}),i.a.createElement(k,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault(),n.removeConfirmation(t)}})),i.a.createElement(D,{className:"d-flex align-items-center ml-auto"},i.a.createElement(I,{className:"".concat(h&&"text-muted")},i.a.createElement(k,{icon:"calendar"}),i.a.createElement(m.t,{content:t.remind_at?o(t.remind_at.timestamp):c.addDate},i.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"Yesterday"===s(e.remind_at.timestamp)?"text-warning":"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(t)),onClick:g},t.remind_at?s(t.remind_at.timestamp,"MM/DD/YYYY"):c.addDate))),i.a.createElement(P,null,null!==t.link_type&&i.a.createElement("span",{className:"badge mr-3 badge-light todo-type-badge ".concat(h&&"text-muted"),onClick:A},function(e){switch(e.link_type){case"POST":return c.typePost;case"CHAT":return c.typeChat;case"POST_COMMENT":return c.typePostComment;default:return null}}(t))),i.a.createElement("div",{className:"avatars-container"},null!==t.author&&i.a.createElement(m.a,{name:t.author.name,tooltipName:c.reminderAuthor,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,id:t.author.id}),v&&i.a.createElement(i.a.Fragment,null,i.a.createElement(k,{icon:"chevron-right"}),i.a.createElement(m.a,{name:t.assigned_to?t.assigned_to.name:t.workspace.name,tooltipName:c.reminderAssignedTo,imageLink:t.assigned_to?t.assigned_to.profile_image_link:t.workspace?t.workspace.channel.icon_link:null,id:t.assigned_to?t.assigned_to.id:t.workspace.id,type:t.assigned_to?"USER":"TOPIC",noDefaultClick:!t.assigned_to})))))))},F=n(39),M=n(9);function U(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n"]);return U=function(){return e},e}function G(){var e=Object(a.a)(["\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return G=function(){return e},e}var H=c.a.div(G()),B=c.a.span(U()),W=function(e){var t=e.className,n=void 0===t?"":t,a=e.id,r=void 0===a?"":a,c=e.handleClick,o=e.active,s=e.headerText,l=void 0===s?"":s;return i.a.createElement(H,{className:n},i.a.createElement(B,{className:"badge badge-light",onClick:c,id:r},i.a.createElement(m.s,{icon:o?"arrow-down":"arrow-up",width:16,height:16,className:"mr-1"}),l),e.children)};function Y(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return Y=function(){return e},e}var z=c.a.div(Y()),V=function(e){var t=e.dictionary;return i.a.createElement(z,null,i.a.createElement("h3",null,t.noItemsFoundHeader),i.a.createElement("h5",null,t.noItemsFoundText," "))};function Q(){var e=Object(a.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  .list-group-item:last-child {\n    border-bottom: none;\n  }\n  li:last-child {\n    border-bottom: none;\n  }\n"]);return Q=function(){return e},e}function q(){var e=Object(a.a)(["\n  .badge.badge-light {\n    background: rgba(175, 184, 189, 0.2);\n    border: 1px solid #f8f9fa;\n    color: #212529;\n    .dark & {\n      color: #fff;\n      background: rgb(175, 184, 189, 0.2) !important;\n      border: 1px solid rgb(175, 184, 189, 0.2);\n    }\n  }\n"]);return q=function(){return e},e}var K,J,Z=c.a.div(q()),X=c.a.ul(Q()),$=function(e){var t=e.className,n=void 0===t?"":t,a=e.active,r=e.handleHeaderClick,c=e.headerText,o=e.headerChild,s=e.dictionary,l=e.items,d=e.ItemList,u=e.showEmptyState,m=void 0===u||u,p=e.listGroupClassname,f=void 0===p?"":p;return i.a.createElement(Z,{className:n},i.a.createElement(W,{active:a,headerText:c,handleClick:r},o),0===l.length&&m&&a&&i.a.createElement(V,{dictionary:s}),l.length>0&&a&&i.a.createElement(X,{className:f},l.map((function(e){return d(e)}))),e.children)},ee=c.a.div(K||(K=Object(a.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n'])),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),te=Object(c.a)($)(J||(J=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]))),ne=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,c=e.isLoaded,o=e.todoActions,s=e.todoItems,l=e.doneTodoItems,d=e.workspaceName,u=void 0===d?null:d,m=Object(M.W)(),p=m.todoFormat,f=m.todoFormatShortCode,b=Object(M.r)().getFileIcon,h=Object(M.N)(),_=Object(F.i)(),O=function(e,t){if(e.preventDefault(),"CHAT"===t.link_type)h.toChat(t.data.channel,t.data.chat_message);else{var n={id:"POST_COMMENT"===t.link_type&&t.data?t.data.post.id:t.link_id,title:t.title},a=Object(j.a)(Object(j.a)({},t.workspace),{},{folder_id:t.folder?t.folder.id:null,folder_name:t.folder?t.folder.name:null});h.toPost({workspace:a,post:n})}},E=Object(r.useState)({todo:!0,done:!1}),g=Object(C.a)(E,2),A=g[0],v=g[1],T=function(e,t){e.preventDefault(),e.stopPropagation(),h.toWorkspace(t.workspace,"reminders")};return i.a.createElement(ee,{className:"todos-body card app-content-body mb-4 ".concat(n),active:!s.length},!c&&i.a.createElement("div",{className:"card-body"},i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),c&&i.a.createElement("div",{className:"card-body"},i.a.createElement(te,{active:A.todo,dictionary:a,handleHeaderClick:function(){v({todo:!A.todo,done:A.done})},headerText:a.todo,items:s,headerChild:_.hasOwnProperty("workspaceId")?i.a.createElement("span",{className:"badge badge-light"},u):null,ItemList:function(e){return i.a.createElement(L,{key:e.id,todo:e,todoActions:o,dictionary:a,handleLinkClick:O,todoFormat:p,todoFormatShortCode:f,getFileIcon:b,showWsBadge:!_.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:T})}}),i.a.createElement(te,{active:A.done,dictionary:a,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){v({todo:A.todo,done:!A.done})},headerText:a.done,items:l,ItemList:function(e){return i.a.createElement(L,{key:e.id,todo:e,todoActions:o,dictionary:a,handleLinkClick:O,todoFormat:p,todoFormatShortCode:f,getFileIcon:b,showWsBadge:!_.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:T})}})))}));function ae(){var e=Object(a.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n  background: #f8f9fa !important;\n  border: 1px solid #f8f9fa;\n"]);return re=function(){return e},e}function ie(){var e=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    stroke: #191c20;\n  }\n  div:first-child {\n    padding-left: 20px;\n    padding-right: 0;\n  }\n"]);return ie=function(){return e},e}c.a.div(ie()),c.a.span(re()),c.a.div(ae())},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a,r,i,c=n(6),o=n(27),s=n(2),l=n(0),d=n.n(l),u=n(5),m=n(39),p=n(353),f=n.n(p),b=n(43),h=n.n(b),_=n(3),O=n(195),E=n.n(O),g=n(354),A=n.n(g),v=n(14),j=n(147),C=n(703),T=n(13),y=["className","imageLink","id","name","children","type","userId","onClick","noDefaultClick","isBot","isHuddleBot","forceThumbnail","fromSlider","showSlider","tooltipName"],S=_.a.div(a||(a=Object(s.a)(["\n  position: relative;\n  cursor: pointer;\n  line-height: 0;\n  .react-skeleton-load {\n    display: flex;\n    margin: auto;\n    text-align: center;\n    width: 100% !important;\n    height: 100% !important;\n    object-fit: cover;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n  // .slide-enter.slide-enter-done {\n  //   opacity: 1;\n  //   transform: scale(1) translateY(0);\n  //   transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  // }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n\n  .fade-appear {\n    opacity: 0;\n  }\n  .fade-appear.fade-appear-active {\n    opacity: 1;\n    transition: opacity 500ms linear;\n  }\n  .fade-enter {\n    opacity: 1;\n  }\n  // .fade-enter.fade-enter-done {\n  //   opacity: 1;\n  //   transition: opacity 500ms linear;\n  // }\n  .fade-exit {\n    opacity: 1;\n  }\n  .fade-exit.fade-exit-active {\n    opacity: 0;\n    transition: opacity 500ms linear;\n  }\n  .fade-exit-done {\n    opacity: 0;\n  }\n"]))),w=_.a.img(r||(r=Object(s.a)(["\n  display: ",";\n  object-fit: cover;\n"])),(function(e){return e.show?"inherit":"none"})),k=_.a.span(i||(i=Object(s.a)(["\n  color: #fff !important;\n  background: ",";\n  font-size: 11px;\n  line-height: 0;\n  display: flex;\n  margin: auto;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.avatarColor?e.avatarColor:"white"}));t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.imageLink,r=e.id,i=e.name,s=void 0===i?"":i,p=e.children,b=e.type,_=void 0===b?"USER":b,O=e.userId,g=e.onClick,N=void 0===g?null:g,R=e.noDefaultClick,x=void 0!==R&&R,I=e.isBot,P=void 0!==I&&I,D=e.isHuddleBot,L=void 0!==D&&D,F=e.forceThumbnail,M=void 0===F||F,U=e.fromSlider,G=void 0!==U&&U,H=e.showSlider,B=void 0===H||H,W=e.tooltipName,Y=void 0===W?null:W,z=Object(o.a)(e,y),V=Object(l.useRef)(null),Q=Object(m.g)(),q=Object(u.useDispatch)(),K=Object(u.useSelector)((function(e){return e.users.onlineUsers})).some((function(e){return e.user_id===O})),J=Object(l.useState)(!1),Z=Object(c.a)(J,2),X=Z[0],$=Z[1],ee=Object(l.useState)(!1),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],re=Object(l.useState)(!1),ie=Object(c.a)(re,2),ce=ie[0],oe=ie[1],se=Object(l.useState)(null),le=Object(c.a)(se,2),de=le[0],ue=le[1],me=function(e){if("undefined"===typeof e)return"";for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return"hsl(".concat(t%360,", ").concat(50,"%, ").concat(40,"%)")},pe=function(){$(!0)};Object(l.useEffect)((function(){null==a&&s&&$(!0)}),[]);var fe=function(e){x||(e.stopPropagation(),e.preventDefault(),N?N(e):!B||G||P?"USER"===_?Q.push("/profile/".concat(r,"/").concat(Object(v.h)(s))):"TOPIC"===_&&Q.push("/topic/".concat(r,"/").concat(Object(v.h)(s))):document.body.clientWidth<=414?q(Object(T.W)({id:r})):function(){var e=V.current.getBoundingClientRect(),t=e.bottom,n=e.left;oe((function(e){return!e}));var a=null,r=null;a=document.body.clientHeight-t<230?"top":"bottom",r=document.body.clientWidth-n<530?"left":"right",ue({vertical:a,horizontal:r})}())},be=function(){$(!0),ae(!0)},he=function(e){if("undefined"===typeof e)return"";for(var t="",n=e.split(" "),a=0;a<n.length;a++)t+=n[a].substring(0,1).toUpperCase();return t.substring(0,2)};return M&&a&&!a.includes("thumbnail")&&(a+="&need_thumbnail=1"),d.a.createElement(S,Object.assign({},z,{className:"avatar avatar-md ".concat(K?"avatar-state-success":""," ").concat(X?"ico-avatar-loaded":""," ").concat(n),ref:V}),!1===X&&d.a.createElement(f.a,{borderRadius:"50%",widthRandomness:0,heightRandomness:0}),d.a.createElement(h.a,{arrowSize:5,distance:10,onToggle:function(){G||document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:Y||s,zIndex:99999},P?d.a.createElement(w,{show:X,className:"rounded-circle",onLoad:pe,onError:be,src:L?A.a:E.a,alt:s}):null==a?d.a.createElement(k,{className:"rounded-circle",avatarColor:me(s),onClick:fe},he(s)):"Gripp Offerte Bot"===s?d.a.createElement(w,{show:X,className:"rounded-circle",onLoad:pe,onError:be,src:E.a,alt:s}):!1===ne?d.a.createElement(w,{show:X,className:"rounded-circle",onLoad:pe,onError:be,src:a,alt:s,onClick:fe}):d.a.createElement(k,{className:"rounded-circle",avatarColor:me(s),onClick:fe},he(s))),ce&&d.a.createElement(C.a,{appear:!0,in:ce,timeout:300,classNames:"slide"},d.a.createElement(j.a,Object.assign({},e,{onShowPopup:function(){oe((function(e){return!e})),ue(null),document.body.clientWidth<=414&&q(Object(T.W)({id:null}))},showPopup:ce,orientation:de}))),p)}},function(e,t,n){"use strict";var a,r,i=n(1),c=n(6),o=n(2),s=n(0),l=n.n(s),d=n(3),u=n(146),m=n(79),p=n(9),f=d.a.div(a||(a=Object(o.a)([""]))),b=Object(d.a)(m.c)(r||(r=Object(o.a)(["\n  opacity: ",";\n  width: ",";\n"])),(function(e){return e.loading?"0":"1"}),(function(e){return e.loading?"1px !important":"1rem"}));t.a=function(e){var t,n,a,r,o,d,h,_=e.id,O=e.onShowPopup,E=e.orientation,g=e.profile,A=e.classNames,v=void 0===A?"":A,j=Object(p.fb)(),C=j.loggedUser,T=j.selectUserChannel,y=j.users,S=Object(s.useState)(!1),w=Object(c.a)(S,2),k=w[0],N=w[1],R=Object(s.useRef)(null),x=Object(p.cb)()._t,I={companyName:x("PROFILE.COMPANY_NAME","Company name"),information:x("PROFILE.INFORMATION","Information"),firstName:x("PROFILE.FIRST_NAME","First name:"),middleName:x("PROFILE.MIDDLE_NAME","Middle name:"),lastName:x("PROFILE.LAST_NAME","Last name:"),password:x("PROFILE.PASSWORD","Password:"),position:x("PROFILE.POSITION","Position:"),city:x("PROFILE.CITY","City:"),address:x("PROFILE.ADDRESS","Address:"),phone:x("PROFILE.Phone","Phone:"),email:x("PROFILE.EMAIL","Email:"),external:x("PROFILE.EXTERNAL","External")},P=null;P=g?Object(i.a)({},g):Object(i.a)({},y[_]);return Object(p.F)(R,O,!0),l.a.createElement(f,{className:"profile-slider ".concat(v," ").concat(E?"".concat(E.vertical," ").concat(E.horizontal):""),ref:R},l.a.createElement(m.c,{onClick:function(e){e.stopPropagation(),e.preventDefault(),O()},icon:"x"}),l.a.createElement("div",{className:"avatar-wrapper"},P&&l.a.createElement(u.a,{id:P.id,type:"USER",imageLink:P.profile_image_link,name:P.name,fromSlider:!0,forceThumbnail:!1}),l.a.createElement("h5",null,null===(t=P)||void 0===t?void 0:t.name),l.a.createElement("span",{className:"text-muted small"},null===(n=P)||void 0===n?void 0:n.designation),P&&"internal"===P.type&&C.id!==P.id&&"internal"===C.type&&l.a.createElement("button",{className:"ml-1 btn btn-outline-light",onClick:function(e){e.stopPropagation(),e.preventDefault(),N(!0);k||T(P,(function(){N(!1),O()}))}},k&&l.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),l.a.createElement(b,{icon:"message-circle",loading:k})),P&&"external"===P.type&&"internal"===C.type&&l.a.createElement("span",{className:"badge badge-info text-white mt-2"},I.external)),l.a.createElement("div",{className:"information-wrapper"},l.a.createElement("div",{className:"info-x"},l.a.createElement("span",null,I.information)),l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"labels-wrapper"},l.a.createElement("label",null,I.firstName),l.a.createElement("label",null,I.lastName),l.a.createElement("label",null,I.position),"internal"===C.type&&l.a.createElement("label",null,I.email)),l.a.createElement("div",{className:"info-details"},l.a.createElement("span",null,null===(a=P)||void 0===a?void 0:a.first_name),l.a.createElement("span",null,null===(r=P)||void 0===r?void 0:r.last_name),l.a.createElement("span",null,(null===(o=P)||void 0===o?void 0:o.role)&&(null===(d=P)||void 0===d?void 0:d.role.display_name)),"internal"===C.type&&l.a.createElement("span",null,null===(h=P)||void 0===h?void 0:h.email)))))}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return A}));var a,r=n(2),i=n(0),c=n.n(i),o=n(39),s=n(3),l=n(9),d=n(341),u=s.a.div(a||(a=Object(r.a)(["\n  .text-link {\n    color: #828282;\n    cursor: pointer;\n\n    &:hover {\n      color: #000;\n    }\n  }\n\n  .notification-title-wrapper {\n    background: #7a1b8b;\n    color: #fff;\n  }\n"]))),m=(c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.toggleDropdown,r=Object(o.g)(),s=Object(l.D)(),m=Object(l.E)(s),p=m.notifications,f=m.unreadCount,b={container:Object(i.useRef)(null)},h=function(e){a(e)},_=Object(l.cb)()._t,O={new:_("NOTIFICATION.NEW","New"),notifications:_("NOTIFICATION.NOTIFICATIONS","Notifications"),markAllAsRead:_("NOTIFICATION.MARK_ALL_AS_READ","Mark all as read"),viewAll:_("NOTIFICATION.VIEW_ALL","View all"),unreadNotifications:_("NOTIFICATION.UNREAD_NOTIFICATIONS","Unread notifications"),oldNotifications:_("NOTIFICATION.OLD_NOTIFICATIONS","Old notifications"),noNotificationsToShow:_("NOTIFICATION.NO_NOTIFICATIONS_TO_SHOW","There are no notifications to show.")};return c.a.createElement(u,{ref:b.container,className:"dropdown-menu dropdown-menu-right dropdown-menu-big notification-drop-down show ".concat(n),styles:"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-252px, 38px, 0px);"},c.a.createElement("div",{className:"notification-title-wrapper p-4 text-center d-flex justify-content-between"},c.a.createElement("h6",{className:"mb-0"},O.notifications),f>0&&c.a.createElement("small",{className:"font-size-11 opacity-7"},f," ",O.unreadNotifications)),c.a.createElement("div",null,c.a.createElement(d.b,{"data-toggle":"notification",notifications:p,actions:s,history:r,dictionary:O,removeOverlay:a})),c.a.createElement("div",{className:"p-2 text-right"},c.a.createElement("ul",{className:"list-inline small"},c.a.createElement("li",{className:"list-inline-item d-flex"},c.a.createElement("span",{className:"cursor-pointer text-link",onClick:function(e){h(e),r.push("/notifications")}},O.viewAll),c.a.createElement("span",{className:"cursor-pointer ml-auto text-link",onClick:function(e){s.readAll({}),h(e)}},O.markAllAsRead)))))})),n(6)),p=n(7);function f(){var e=Object(r.a)(["\n  @media (min-width: 400px) {\n    min-width: 360px;\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return f=function(){return e},e}var b=s.a.div(f()),h=function(e){var t=Object(i.useRef)(),n=Object(l.Q)(),a=Object(l.P)().value,r=Object(o.g)(),s=Object(i.useState)(a),d=Object(m.a)(s,2),u=d[0],f=d[1],h=function(){""!==u.trim()&&(t.current.classList.remove("show"),n.search({search:u,skip:0,limit:10}),n.saveSearchValue({value:u}),document.querySelector(".overlay").classList.remove("show"),r.push("/search"))},_={searchGlobalPopupPlaceholder:(0,Object(l.bb)()._t)("PLACEHOLDER.SEARCH_GLOBAL_POPUP","Search for anything in this Driff")};return c.a.createElement(b,{className:"dropdown-menu p-2 dropdown-menu-right show",ref:t},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==a&&n.saveSearchValue({value:""}),f(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h()},value:u,type:"text",className:"form-control dropdown-search-input",placeholder:_.searchGlobalPopupPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0}),""!==u.trim()&&c.a.createElement("button",{onClick:function(){f(""),n.search({search:"",skip:0,limit:10}),n.saveSearchValue({value:""})},className:"btn-cross",type:"button"},c.a.createElement(p.s,{icon:"x"})),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:h},c.a.createElement(p.s,{icon:"search"})))))},_=n(30),O=n(14);function E(){var e=Object(r.a)(["\n    display: flex;\n    align-items: center;\n    max-width: 24px;\n    .more-options-tooltip {\n        &.orientation-top, &.orientation-bottom, &.orientation-left, &.orientation-right {\n            left: 0;\n            top: 26px;\n        }\n    }\n"]);return E=function(){return e},e}var g=s.a.div(E()),A=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.history,r=e.parentFolder,s=e.workspaceID,d=Object(l.r)(),u=Object(i.useState)([]),p=Object(m.a)(u,2),f=p[0],b=p[1],h=Object(o.j)().url;Object(i.useEffect)((function(){r&&d.getFoldersBreadcrumb({folder_id:r.id,topic_id:s},(function(e,t){t&&b(t.data.folders)}))}),[r]);return c.a.createElement(g,{className:" ".concat(n)},c.a.createElement(_.c,{width:140},f.map((function(e){return c.a.createElement("div",{onClick:function(){return function(e){var t=h.split("/folder/")[0];a.push(t+"/folder/".concat(e.id,"/").concat(Object(O.h)(e.search)))}(e)},className:"dropdown-item d-flex justify-content-between"},e.search)}))))}))},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));var a=n(12),r=n(1),i=n(27),c=n(0),o=n.n(c),s=n(5),l=n(51),d=n(37),u=n(9),m=n(36),p=n(13),f=n(86),b=n(21),h=n(39),_=n(107),O=["skip","limit"],E=function(){localStorage.getItem("userAuthToken")&&["nilo@makedevelopment.com","joules@makedevelopment.com","jessryll@makedevelopment.com"].includes(JSON.parse(localStorage.getItem("userAuthToken")).user_auth.email)};t.a=function(){var e=Object(s.useDispatch)(),t=Object(h.g)(),n=Object(u.X)(),c=Object(u.p)(),E=Object(u.S)(),g=E.generalSettings.is_new,A=E.driffSettings,v=E.userSettings,j=E.setGeneralSetting,C=E.setReadAnnouncement,T=Object(_.a)(),y=T.persistor,S=T.persistenceOn,w=Object(u.cb)()._t,k=Object(s.useSelector)((function(e){return e.users.getUserFilter})),N=Object(s.useSelector)((function(e){return e.session})).user,R=function(e){localStorage.setItem("userAuthToken",JSON.stringify(e)),localStorage.setItem("token",e.download_token),localStorage.setItem("atoken",e.auth_token)},x=function(e,t){var n="".concat(Object(m.c)()).concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""!==t&&(t="/".concat(btoa(t))),"/authenticate/".concat(e.access_token).concat(t)}(e,t));window.location.href="".concat(Object(m.a)({isDNS:!0}),"/auth-web/login?token=").concat(e.auth_token,"&redirect_link=").concat(n)},I=function(e,t){R(e),x(e,t)},P=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(d.d)({email:t,driff:localStorage.getItem("slug")},n))},D=function(t){var n=t.skip,a=void 0===n?0:n,c=t.limit,o=void 0===c?k.limit:c,s=Object(i.a)(t,O),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(d.l)(Object(r.a)(Object(r.a)({},s),{},{skip:a,limit:o}),l))},L=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=["id","first_name","last_name","middle_name","name","password","role_id","company","company_name","designation","skills","email","contact","place","address","house_number","country","zip_code","birthday","gender","timezone","language","change_email"],o={};c.forEach((function(e){o=Object(r.a)(Object(r.a)({},o),{},Object(a.a)({},e,t[e])),"password"===e&&(o=t[e]?Object(r.a)(Object(r.a)({},o),{},{type:2}):Object(r.a)(Object(r.a)({},o),{},{password:"",type:0}))})),e(Object(d.F)(o,(function(e,t){e&&n.error("Saving profile information failed."),t&&(N.id===t.data.id&&l.sessionService.saveUser(Object(r.a)({},t.data)),n.success("Profile information saved.")),i(e,t)})))};return{checkCredentials:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(d.L)(t,(function(e,t){e&&n.error(o.a.createElement(o.a.Fragment,null,"Invalid email or password.")),a(e,t)})))},login:I,register:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};P(t.email,(function(r,i){i&&!i.data.status?e(Object(d.B)(t,(function(e,t){e&&n.error("User registration failed."),t&&n.success("Slug request sent. Please wait for admin to cross-check. You'll recieve further notification on your email.",{duration:1e4}),a(e,t)}))):(n.error("Email ".concat(t.email," is already taken")),a({field:{email:o.a.createElement(o.a.Fragment,null,t.email," is already taken.")}}))}))},googleLogin:function(){var t={slug:Object(f.b)()};if(Object(b.f)(window.location.hostname)){var a=window.location,r=a.hostname,i=a.port;t.redirect_ip_address="http://".concat(r,":").concat(i)}e(Object(d.K)(t,(function(e,t){t&&(n.notify("Logging in via Google."),window.location.href=t.data.google_url)})))},storeLoginToken:R,processBackendLogin:x,requestPasswordReset:function(t,a){e(Object(d.H)({email:t},(function(e,r){e&&n.error("Email not found"),r&&n.success(o.a.createElement(o.a.Fragment,null,"Password reset link sent to ",o.a.createElement("b",null,t),". Please check.")),a(e,r)})))},checkEmail:P,sendMagicLink:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(d.z)({email:t},(function(e,r){e&&n.error(o.a.createElement(o.a.Fragment,null,"Not allowed for external users.")),r&&n.success(o.a.createElement(o.a.Fragment,null,"Link was sent to ",o.a.createElement("b",null,t))),a(e,r)})))},checkMagicLink:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(d.E)({token:t},(function(e,t){e&&n.error(o.a.createElement(o.a.Fragment,null,"Token expired or not working.")),a(e,t)})))},fetch:D,fetchStateCode:function(t,a){e(Object(d.x)({state_code:t},(function(e,t){e&&n.error(o.a.createElement(o.a.Fragment,null,"Invalid code.")),a(e,t)})))},update:L,updateProfileImage:function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i={id:t.id,file:a};e(Object(d.C)(i,(function(e,a){e&&(n.error("Profile image upload failed."),r(e)),a&&(t.profile_image_id=parseInt(a.data.profile_media_id),L(t,r))})))},updateExternalUser:function(t,n){e(Object(d.D)(t,(function(e,t){n(e,t)})))},updatePassword:function(t,a){e(Object(d.A)(t,(function(e,t){e&&(n.error(o.a.createElement(o.a.Fragment,null,"Invalid or expired token.")),a(e,t)),t&&(n.success(o.a.createElement(o.a.Fragment,null,"Password is successfully updated. You are being logged in!")),I(t.data))})))},fetchById:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(d.k)({id:t},n))},fetchMore:function(){k.hasMore&&D(k.skip,k.limit)},getReadOnlyFields:function(e){switch(e){case"gripp":default:return[]}},getRequiredFields:function(e){var t=["first_name","last_name","password","email"];switch(e){case"gripp":default:return t}},processBackendLogout:function(){S&&(y.purge(),localStorage.removeItem("persist:root"));var e="".concat(Object(m.c)(),"/logged-out");window.location.href="".concat(Object(m.a)({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)},logout:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};S&&(y.purge(),localStorage.removeItem("persist:root")),e(Object(p.bb)(!0)),e(Object(d.M)({},(function(a,r){S&&(y.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),localStorage.removeItem("welcomeBanner"),l.sessionService.deleteSession().then((function(){return l.sessionService.deleteUser()})).then((function(){e(Object(p.bb)(!1,(function(){n.success("You are logged out")})))})).then((function(){return t(a,r)}))})))},displayWelcomeBanner:function(){if(!localStorage.getItem("welcomeBanner")){localStorage.setItem("welcomeBanner","init");var e=c.getName();if(g)n.success(o.a.createElement(o.a.Fragment,null,"Welcome to ",o.a.createElement("b",null,e)," driff, ",N.first_name)),j({is_new:!1});else{if(A.ANNOUNCEMENT_AT&&A.ANNOUNCEMENT_LINK&&""!==A.ANNOUNCEMENT_LINK){var a=null;v.READ_ANNOUNCEMENT?v.READ_ANNOUNCEMENT.timestamp<A.ANNOUNCEMENT_AT.timestamp&&(a=A.ANNOUNCEMENT_LINK.split("posts/"),a="/posts/".concat(a[1]),C()):(a=A.ANNOUNCEMENT_LINK.split("posts/"),a="/posts/".concat(a[1]),C()),a&&t.push(a)}n.success(o.a.createElement(o.a.Fragment,null,"Welcome back, ",N.first_name))}}},inviteAsInternalUsers:function(t,n){e(Object(d.y)(t,n))},updateUserRole:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Object(d.G)(t,n))},fetchRoles:function(){e(Object(d.j)())},archive:function(t,n){e(Object(d.b)(t,n))},unarchive:function(t,n){e(Object(d.I)(t,n))},activate:function(t,n){e(Object(d.a)(t,n))},deactivate:function(t,n){e(Object(d.e)(t,n))},fetchArchivedUsers:function(){e(Object(d.g)())},updateType:function(t,a){e(Object(d.J)({id:t.id,type:a},(function(e,t){e||n.success("".concat(w("TOASTER.CHANGE_USER_TYPE","Change user type to ::type::",{type:a})))})))},deleteUserAccount:function(t,n){e(Object(d.f)(t,n))}}}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Qn})),n.d(t,"b",(function(){return Ga})),n.d(t,"c",(function(){return er})),n.d(t,"e",(function(){return Oi})),n.d(t,"f",(function(){return ji})),n.d(t,"d",(function(){return Ri})),n.d(t,"g",(function(){return Pi}));var a,r,i,c,o,s,l,d,u,m,p,f,b,h,_,O=n(1),E=n(6),g=n(2),A=n(0),v=n.n(A),j=n(5),C=n(3),T=n(13),y=n(74),S=n(9),w=n(97),k=n(105),N=n(106),R=n(157),x=n(155),I=n(54),P=n(115),D=n(39),L=n(7),F=n(111),M=(n(222),n(27)),U=n(19),G=n(202),H=["className","files","reply","type","topic_id","dictionary"],B=C.a.div(a||(a=Object(g.a)(["\n  position: relative;\n  z-index: 1;\n  border-radius: 8px;\n  color: #828282;\n"]))),W=C.a.div(r||(r=Object(g.a)(["\n  margin-bottom: 0.5rem;\n"]))),Y=C.a.div(i||(i=Object(g.a)(["\n  display: flex;\n  flex-flow: column;\n"]))),z=Object(C.a)(G.a)(c||(c=Object(g.a)([""]))),V=Object(A.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,r=e.files,i=(e.reply,e.type),c=void 0===i?"chat":i,o=e.topic_id,s=void 0===o?null:o,l=e.dictionary,d=Object(M.a)(e,H),u=Object(j.useDispatch)(),m=function(e,t){if(e.stopPropagation(),"chat"===c&&"trashed"!==t.file_type){var n={file_id:t.file_id,files:[t],topic_id:s};u(Object(U.Wb)(n))}};return v.a.createElement(B,Object.assign({className:"message-files ".concat(a),filesLength:r.length,type:c},d),v.a.createElement(Y,null,r.map((function(e,t){return 1===r.length&&"chat"===c?v.a.createElement(z,{key:t,cbFilePreview:m,file:e,"data-file-type":e.type,dictionary:l}):v.a.createElement(W,{key:e.id},v.a.createElement(z,{cbFilePreview:m,file:e,"data-file-type":e.type,dictionary:l}))}))))})),Q=v.a.memo(V),q=function(e){var t=e.message,n=e.isAuthor,a=e.translate,r=e.chat_language,i=e.actions;Object(A.useEffect)((function(){n||t.user.chat_language===r||!a||t.is_translated||t.translated_language===r||function(e){return fetch("https://api.deepl.com/v2/translate?auth_key=4fb7583d-a163-7abb-8e71-c882d1fd9408&text="+e.body+"&target_lang="+r).then((function(e){return e.json()})).then((function(e){return e})).catch(console.log)}(t).then((function(e){if("undefined"!==typeof e){var n=e.translations[0].text;i.setTranslationBody(Object(O.a)(Object(O.a)({},t),{},{translated_body:n,is_translated:a,translated_language:r})),i.saveTranslation({message_id:t.id,body:n,language:r})}}))}),[a])},K=n(34),J=function(e){var t=e.message,n=e.actions,a=Object(A.useRef)(!0);var r=Object(A.useState)(null),i=Object(E.a)(r,2),c=i[0],o=i[1],s=t.body;Object(A.useEffect)((function(){return function(){a.current=!1}}),[]),Object(A.useEffect)((function(){var e=s;!s.includes('<span class="fancied">')&&(s.match(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)([^<]+)(<\/a>)/g)||[]).length>0&&!t.is_fancy&&(e=function(e){return Object(K.k)({message_id:e.id,content:e.body}).then((function(e){return e})).then((function(e){a.current&&o(e.data.body)})),null!==c?c:e.body}(t)),null!==c&&n.saveFancyContent(Object(O.a)(Object(O.a)({},t),{},{body:e,is_fancy:!0}))}),[c])},Z=C.a.div(o||(o=Object(g.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: ",";\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  min-height: ",";\n\n  &:after {\n    border: 10px solid #0000;\n    position: absolute;\n    top: 6px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 20px 10px;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    text-align: ",";\n    white-space: nowrap;\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  span.image-uploading {\n    display: none;\n  }\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n  a.a_fancy { \n    border-radius: 5px !important;\n    background-color: #FFF !important;\n    box-shadow: 0 1px 1px 0 rgba(0,0,0,0.11) !important; \n    text-decoration: none !important;\n    display: inline-block;\n    height: auto !important;\n    padding:5px 10px;\n    margin-bottom: 5px;\n    color: #000 !important;\n    font-family: Inter !important;\n    font-size: 13px !important;\n    letter-spacing: 0 !important;\n    line-height: 21px !important;\n    margin-right: 1pt;\n    margin-left: 1pt;\n  }\n"])),(function(e){return e.hasFiles?"3px":"6px 9px 8px 9px"}),(function(e){return e.isAuthor?"#7A1B8B":"#F0F0F0"}),(function(e){return e.isAuthor?"#ffffff":"#000000"}),(function(e){return e.hasGif?"150px":"33px"}),(function(e){return e.isAuthor?"right: -16px":"left: -15px"}),(function(e){return e.isAuthor?"#7A1B8B":"#0000"}),(function(e){return e.isAuthor?"#0000":"#F0F0F0"}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#ffffff":"#AAB0C8"}),(function(e){return!0===e.isForwardedMessage&&"top: -40px;"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.showAvatar&&!1===e.hideBg||e.hasRemoveOnDlFiles?"#a7abc3":"#0000"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.isAuthor?"#ffffffe6":"#AAB0C8"})),X=C.a.div(s||(s=Object(g.a)(["\n  background: ",";\n  border-radius: 6px;\n  margin: 4px -4px 4px -4px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: 7px -7px 10px -7px;\n    padding: 7px;\n  }\n"])),(function(e){return e.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(e){return e.hasFiles?"210px":"auto"}),(function(e){return e.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(e){return!e.isEmoticonOnly&&"content: ''"})),$=C.a.div(l||(l=Object(g.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]))),ee=C.a.div(d||(d=Object(g.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"])),(function(e){return e.isAuthor?"#ffffffe6":"#000000"}),(function(e){return e.isAuthor?"#ffffffe6":"#8C3B9B"})),te=Object(C.a)(Q)(u||(u=Object(g.a)(["\n  img {\n    cursor: pointer;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: #972c86;\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"])),(function(e){return e.isAuthor?Object(F.hexToCSSFilter)("#ffffff").filter:Object(F.hexToCSSFilter)("#8C3B9B").filter}),(function(e){return e.isAuthor?Object(F.hexToCSSFilter)("#fff").filter:Object(F.hexToCSSFilter)("#0056b3").filter}),(function(e){return e.hasMessage&&""})),ne=C.a.span(m||(m=Object(g.a)(["\n  max-width: ",";\n  padding: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 991.99px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"])),(function(e){return e.hasFiles?"200px":"auto"}),(function(e){return e.hasFiles?"7px 4px 5px 6px":""}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#ffffff99":"#7a1b8b"}),(function(e){return e.isAuthor?"#FFF":"#828282"}),(function(e){return e.isAuthor?"#ffffff":"#7a1b8b"}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#fff":"#0056b3"})),ae=C.a.div(p||(p=Object(g.a)(["\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"left":"right"})),re=C.a.div(f||(f=Object(g.a)(["\n  ","\n\n  .reply-author {\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"])),(function(e){return!e.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(e){return e.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-left-color: #f0f0f0;\n        position: absolute;\n        top: 6px;\n        left: -15px;\n        z-index: 1;\n        ").concat((function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -15px;\n            border-left-color: red;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(e){return e.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(e){return e.isAuthor,"#ff4444"})),ie=C.a.div(b||(b=Object(g.a)(["\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n    flex-flow: column;\n    justify-content: center;\n  }\n  .reply-date.updated {\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"0 10px 0 0":"0 0 0 10px"})),ce=C.a.span(h||(h=Object(g.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"])),(function(e){return e.isAuthor?"right: 100%;":"left: 100%;"})),oe=C.a.span(_||(_=Object(g.a)(["\n  padding: ",";\n  font-weight: 500;\n  color: #929496;\n  &.important {\n    font-weight: 600;\n    color: #191c20;\n  }\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"])),(function(e){return e.isEmoticonOnly||e.isGifOnly||!0===e.hasFiles?"3px 9px 3px 9px":"0"})),se=[.1,.2,.3,.4,.5,.6,.7,.8,.9],le=function(e){var t=e.reply,n=e.showAvatar,a=e.selectedChannel,r=e.showGifPlayer,i=e.isAuthor,c=e.addMessageRef,o=e.user,s=e.isLastChat,l=e.chatMessageActions,d=e.timeFormat,u=e.chatSettings,m=e.isLastChatVisible,p=e.dictionary,f=e.users,b=e.translated_channels,h=e.chat_language,_=e.translate,O=e.language,g=e.loadReplies,j=Object(D.g)();J({message:t,actions:l}),q({message:t,isAuthor:i,translate:a.is_translate,chat_language:h,actions:l});var C=Object(S.d)({reply:t,dictionary:p,isAuthor:i,user:o,selectedChannel:a,users:f,translate:_,language:O,translated_channels:b,chat_language:h}),T=C.quoteAuthor,y=C.quoteBody,w=C.replyBody,k=C.hasMessage,N=C.isGifOnly,R=C.isEmoticonOnly,x=t.files.length>0,I=t.files.some((function(e){return e.remove_on_download})),F={container:Object(A.useRef)(null)},M=Object(A.useRef)(null),U=Object(P.b)({threshold:1}),G=Object(E.a)(U,2),H=G[0],B=G[1],W=Object(P.b)({threshold:se,skip:!s}),Y=Object(E.a)(W,3),z=Y[0],V=Y[1],Q=Y[2],K=function(e){return e.preventDefault(),j.push(e.currentTarget.dataset.href),!1};Object(A.useEffect)((function(){var e=F.container.current.querySelector("a.push");return e&&e.addEventListener("click",K,!0),function(){e&&e.removeEventListener("click",K,!0)}}),[]),Object(A.useEffect)((function(){"object"===typeof j.location.state&&j.location.state&&j.location.state.focusOn===t.code&&F.container.current&&M.current&&(F.container.current.scrollIntoView({block:"center"}),M.current&&M.current.classList.add("pulse"),j.push(j.location.pathname,null))}),[j.location.state,F.container.current,M.current]),Object(A.useEffect)((function(){c&&B&&g&&g()}),[c,B,g]),Object(A.useEffect)((function(){s&&Q&&(Q.boundingClientRect.height-Q.intersectionRect.height>=16?m&&l.setLastMessageVisiblility({status:!1}):m||l.setLastMessageVisiblility({status:!0}))}),[s,Q,m,V]);var le=t.user&&f[t.user.id]&&"external"===f[t.user.id].type&&!i;return v.a.createElement(Z,{ref:F.container,tabIndex:t.id,hasFiles:x,className:"chat-bubble ql-editor ".concat(t.is_important&&"important"," ").concat(le&&"external-chat"),showAvatar:n,isAuthor:i,hideBg:R||N||x&&!k,theme:u.chat_message_theme,hasGif:r,hasRemoveOnDlFiles:I},v.a.createElement(v.a.Fragment,null,t.is_transferred&&v.a.createElement(ce,{className:"small",isAuthor:i},v.a.createElement(L.s,{icon:"corner-up-right"}),p.forwardedMessage),v.a.createElement(ae,{ref:c?H:null,className:"chat-content-clap",isAuthor:i},v.a.createElement(re,{showAvatar:n,isAuthor:i,isEmoticonOnly:R,className:"chat-content animated slower",ref:M},!i&&n&&v.a.createElement(v.a.Fragment,null,v.a.createElement(oe,{isEmoticonOnly:R,hasFiles:x,isGifOnly:N,className:"chat-name-not-author-mobile ".concat(t.is_important&&"important")},"BOT"===t.user.type&&t.user.code&&t.user.code.includes("huddle")?t.user.name.substr(0,t.user.name.length/2):t.user.name)),t.quote&&t.quote.body&&!t.is_deleted&&(void 0!==t.quote.user_id||void 0!==t.quote.user)&&v.a.createElement(X,{className:"quote-container",showAvatar:n,isEmoticonOnly:R,hasFiles:x,theme:u.chat_message_theme,onClick:function(e){if(t.quote){var n=document.querySelector(".chat-list-item-".concat(t.quote.id));n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},isAuthor:i},t.quote.user_id===o.id?v.a.createElement($,{theme:u.chat_message_theme,isAuthor:!0},"You"):v.a.createElement($,{theme:u.chat_message_theme,isAuthor:t.quote.user_id===o.id},T),v.a.createElement(ee,{className:"quote-content",theme:u.chat_message_theme,isAuthor:i,dangerouslySetInnerHTML:{__html:y}})),t.files.length>0&&!t.is_deleted&&v.a.createElement(te,{dictionary:p,hasMessage:k,isAuthor:i,theme:u.chat_message_theme,files:t.files,reply:t,type:"chat",topic_id:"TOPIC"===a.type?a.entity_id:null}),k&&v.a.createElement("span",{ref:s?z:null},v.a.createElement(ne,{hasFiles:x,theme:u.chat_message_theme,isAuthor:i,className:"reply-content ".concat(R?"emoticon-body":""," ").concat(t.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:{__html:w}})),r&&v.a.createElement(L.c,{body:t.body,autoplay:!0}))),v.a.createElement(ie,{className:"chat-timestamp",isAuthor:i},v.a.createElement("span",{className:"reply-date created"},v.a.createElement("span",null,d.todayOrYesterdayDate(t.created_at.timestamp)),I&&v.a.createElement("span",null,p.removeOnDownload)))),e.children)},de=n(188),ue=n(30),me=v.a.memo((function(e){var t=e.isAuthor,n=e.replyData,a=e.className,r=void 0===a?"":a,i=e.selectedChannel,c=e.dictionary,o=e.width,s=void 0===o?250:o,l=e.teamChannelId,d=void 0===l?null:l,u=e.isExternalUser,m=Object(A.useState)(!1),p=Object(E.a)(m,2),f=p[0],b=p[1],h=Object(j.useDispatch)(),_=document.getElementById("component-chat-thread"),g=Object(w.a)(),C=Object(de.a)(),y=C.selectUserChannel,S=C.loggedUser,k=C.users,N=C.channels,R=C.history,x=C.match;Object(A.useEffect)((function(){n.user&&"BOT"===n.user.type&&n.body.includes("<div><p>Your")&&!n.hasOwnProperty("huddle_log")&&g.channelActions.fetchUnpublishedAnswers({channel_id:n.channel_id})}),[]);var I=function(){g.remove(n.id)};var P=n.user&&k[n.user.id]&&"internal"===k[n.user.id].type,D=n.files.some((function(e){return"trashed"===e.file_type}));return v.a.createElement(ue.c,{width:s,className:r,scrollRef:_},!n.hasOwnProperty("huddle_log")&&v.a.createElement("div",{onClick:function(){return g.remind(n,i)}},c.remindMeAboutThis),t&&n.hasOwnProperty("is_transferred")&&!n.is_transferred&&v.a.createElement("div",{onClick:function(){var e=n,t=e.body,a=document.createElement("div");a.innerHTML=t;for(var r=a.getElementsByClassName("fancied");r[0];)r[0].parentNode.removeChild(r[0]);var i=a.innerHTML;e.body=i.replace(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)((?:.(?!\<\/a\>))*.)(<\/a>)/g,(function(e,t,n,a,r,i,c){return a})),g.setEdit(e)}},c.edit),!n.hasOwnProperty("huddle_log")&&v.a.createElement("div",{onClick:function(){g.setQuote(n)}},c.quote),t&&v.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:c.removeChat,submitText:c.remove,cancelText:c.cancel,bodyText:c.removeThisChat,actions:{onSubmit:I}};h(Object(T.a)(e))}},c.remove),!n.hasOwnProperty("huddle_log")&&v.a.createElement("div",{onClick:function(){g.clipboardLink(i,n)}},c.copyMessageLink),!n.hasOwnProperty("huddle_log")&&!D&&v.a.createElement("div",{onClick:function(){var e={type:"forward",channel:i,message:n};h(Object(T.a)(e))}},c.forward),t&&v.a.createElement("div",{onClick:function(){return g.markImportant(n)}},n.is_important?c.unMarkImportant:c.markImportant),n.user&&n.user.code&&n.user.code.includes("huddle_bot")&&n.body.includes("<div><p>Your Unpublished")&&v.a.createElement("div",{onClick:function(){g.setHuddleAnswers({id:n.id,channel_id:n.channel_id,huddle_log:n.huddle_log})}},"Edit huddle"),n.body.startsWith("HUDDLE_SKIP::")&&v.a.createElement("div",{onClick:function(){g.addSkip({channel_id:n.channel_id,id:n.id})}},"Unskip"),n.user&&"BOT"!==n.user.type&&n.user.id!==S.id&&"DIRECT"!==i.type&&n.user.code&&"huddle_bot"!==n.user.code&&P&&v.a.createElement("div",{onClick:function(){if(!f){b(!0),y(n.user,(function(e){e&&e.id&&g.setQuote(Object(O.a)(Object(O.a)({},n),{},{channel_id:e.id})),b(!1)}))}}},c.replyInPrivate),d&&!u&&v.a.createElement("div",{onClick:function(){if(!f){var e=function(e){if(e&&e.id){g.setQuote(Object(O.a)(Object(O.a)({},n),{},{channel_id:e.id}));var t=x.url;"/chat/:code"===x.path?R.push("/chat/".concat(d.code)):x.path.startsWith("/workspace/chat")&&R.push(t.replace("/workspace/chat","/workspace/team-chat"))}b(!1)};b(!0),N[d]?g.channelActions.select(N[d.id],e):g.channelActions.fetchByCode(d.code,(function(t,n){t||(e(n.data),g.channelActions.select(Object(O.a)(Object(O.a)({},n.data),{},{selected:!0,hasMore:!1,isFetching:!1,skip:0,replies:[]})))}))}}},"Discuss on team chat"))}));function pe(){var e=Object(g.a)(['\n  .sepline {\n    font-weight: 600;\n    font-size: 0.85em;\n    color: #972c86;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: 100%;\n    margin: 10px auto 8px;\n    &::before,\n    &::after {\n      content: "";\n      position: absolute;\n      background-color: #972c86;\n      width: 100%;\n      height: 1px;\n      display: block;\n      clear: both;\n\n      @media only screen and (min-width: 1800px) {\n        max-width: 44%;\n      }\n\n      @media only screen and (max-width: 1799px) {\n        max-width: 42%;\n      }\n\n      @media only screen and (max-width: 1650px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1440px) {\n        max-width: 38%;\n      }\n\n      @media only screen and (max-width: 1360px) {\n        max-width: 36%;\n      }\n\n      @media only screen and (max-width: 1280px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1136px) {\n        max-width: 32%;\n      }\n\n      @media only screen and (max-width: 1080px) {\n        max-width: 30%;\n      }\n\n      @media only screen and (max-width: 1024px) {\n        max-width: 26%;\n      }\n\n      @media only screen and (max-width: 1000px) {\n        max-width: 24%;\n      }\n\n      @media only screen and (max-width: 996px) {\n        max-width: 20%;\n      }\n\n      @media only screen and (max-width: 640px) {\n        max-width: 35%;\n      }\n    }\n    &::before {\n      left: 0;\n    }\n    &::after {\n      right: 0;\n    }\n  }\n']);return pe=function(){return e},e}function fe(){var e=Object(g.a)(["\n  &.hide {\n    visibility: hidden;\n    opacity: 0;\n  }\n"]);return fe=function(){return e},e}var be=C.a.div(fe()),he=C.a.div(pe()),_e=function(e){return v.a.createElement(be,{className:"new-message-sepline"},v.a.createElement(he,null,v.a.createElement("span",{className:"sepline"},"New Message/s")))};function Oe(){var e=Object(g.a)(['\n  &.orientation-top {\n    bottom: 25px;\n  }\n  &.orientation-bottom {\n    top: calc(100% + 5px);\n  }\n  &.orientation-left {\n    right: calc(100% - 25px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% - 25px);\n    right: auto;\n  }\n\n  @media (max-width: 576px) {\n    position: fixed;\n    justify-content: center;\n    display: flex;\n\n    &.orientation-top {\n      bottom: 100px;\n    }\n    &.orientation-bottom {\n      top: auto;\n      bottom: 100px;\n    }\n    &.orientation-left {\n      right: 0;\n      left: 0;\n    }\n    &.orientation-right {\n      left: 0;\n      right: 0;\n    }\n  }\n\n  .emoji-mart-bar {\n    display: none;\n  }\n\n  li {\n    &:before {\n      content: "" !important;\n      margin: 0 !important;\n      display: none !important;\n    }\n\n    padding-left: 0 !important;\n    text-align: left !important;\n    position: relative !important;\n    margin-left: 10px !important;\n  }\n']);return Oe=function(){return e},e}function Ee(){var e=Object(g.a)(["\n  @media (max-width: 620px) {\n    //display: none;\n  }\n  ",";\n\n  &:hover {\n    filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);\n  }\n"]);return Ee=function(){return e},e}function ge(){var e=Object(g.a)(["\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n  padding: 0;\n  cursor: pointer;\n  position: relative;\n  @media (max-width: 620px) {\n    width: 20px;\n    height: 20px;\n  }\n"]);return ge=function(){return e},e}var Ae=C.a.div(ge()),ve=Object(C.a)(L.s)(Ee(),(function(e){return e.active&&"filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);"})),je=Object(C.a)(L.l)(Oe()),Ce=function(e){var t=e.reply,n=e.showEmojiSwitcher,a=void 0===n?null:n,r=null,i=Object(w.a)(),c=document.getElementById("component-chat-thread"),o={container:Object(A.useRef)(null),picker:Object(A.useRef)(null)},s=Object(A.useState)(a),l=Object(E.a)(s,2),d=l[0],u=l[1],m=function(){return u(!d)},p=Object(S.ab)(o.container,o.picker,c,d).orientation;return Object(A.useEffect)((function(){null!==a&&u(!0)}),[a]),Object(S.F)(o.container,(function(){u(!1)}),!0),v.a.createElement(Ae,{className:"emoji-button-div",ref:o.container},v.a.createElement(ve,{icon:"smile",active:d,onClick:m}),d&&v.a.createElement(je,{ref:o.picker,onMouseEnter:function(){clearTimeout(r)},onMouseLeave:function(){r=setTimeout((function(){u(!1)}),1e3)},className:"chat-reaction-picker",orientation:p,onSelectEmoji:function(e){m(),i.react(t.id,e.id)},show:d}))},Te=n(32),ye=n(124);function Se(){var e=Object(g.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n  }\n"]);return Se=function(){return e},e}function we(){var e=Object(g.a)(["\n  background: ",";\n  color: ",";\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  cursor: pointer;\n  position: relative;\n  :hover {\n    .chat-emoji-users-list {\n      visibility: visible;\n    }\n  }\n"]);return we=function(){return e},e}var ke,Ne,Re=C.a.div(we(),(function(e){return e.isAuthor?"rgb(157 57 173 / 93%)":"rgba(240, 240, 240, 0.8)"}),(function(e){return e.isAuthor?"#fff":"#505050"})),xe=Object(C.a)(L.u)(Se(),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"5px":"unset"})),Ie=function(e){var t=e.type,n=e.count,a=e.reactions,r=e.isAuthor,i=e.reply,c=Object(w.a)();return v.a.createElement(Re,{onClick:function(){c.react(i.id,t)},isAuthor:r,className:"chat-emoji"},v.a.createElement(ye.a,{emoji:t,size:20}),n>1?v.a.createElement("span",{className:"emoji-counter"}," ",n):null,v.a.createElement(xe,{className:"chat-emoji-users-list",isAuthor:r,users:a.map((function(e){return{id:e.user_id,name:e.user_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,partial_name:null}}))}))},Pe=C.a.div(ke||(ke=Object(g.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    position: relative;\n    z-index: 100;\n  }\n  li {\n    position: relative;\n    padding: 3px;\n    border-bottom: 1px solid;\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    :hover {\n      .chat-emoji-users-list {\n        visibility: visible;\n      }\n    }\n  }\n  li:last-child {\n    border: none;\n  }\n"]))),De=Object(C.a)(L.u)(Ne||(Ne=Object(g.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  top: 1px;\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n    padding: 5px 10px;\n  }\n  .profile-slider {\n    display: none !important;\n  }\n"])),(function(e){return e.isAuthor?"unset":"116%"}),(function(e){return e.isAuthor?"116%":"unset"})),Le=function(e){var t=e.className,n=e.reactions,a=e.handleShowMoreEmojis,r=e.isAuthor,i=e.reply,c=e.chatReactionAction,o=Object(A.useRef)();Object(S.F)(o,a,!0);return v.a.createElement(Pe,{className:t,ref:o},v.a.createElement("ul",null,n.map((function(e){return v.a.createElement("li",{key:e.type,onClick:function(){return function(e){var t={message_id:i.id,react_type:e};c(t)}(e.type)}},v.a.createElement(ye.a,{emoji:e.type,size:16}),v.a.createElement("span",null,e.reactions.length),v.a.createElement(De,{className:"chat-emoji-users-list",isAuthor:r,users:e.reactions.map((function(e){return{id:e.user_id,name:e.user_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,partial_name:null}}))}))}))))};function Fe(){var e=Object(g.a)(["\n  position: absolute;\n  background: #dedede;\n  border-radius: 8px;\n  max-width: 100px;\n  min-width: 60px;\n  padding: 5px;\n  top: 100%;\n  right: ",";\n  left: ",";\n  margin-top: 5px;\n  //visibility: hidden;\n"]);return Fe=function(){return e},e}function Me(){var e=Object(g.a)(["\n  background: #dedede;\n  padding: 2px 5px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  position: relative;\n  cursor: pointer;\n  // :hover {\n  //     .chat-reactions-list {\n  //         visibility: visible;\n  //     }\n  // }\n"]);return Me=function(){return e},e}function Ue(){var e=Object(g.a)(["\n  // position: absolute;\n  //bottom: -20px;\n  margin-top: -8px;\n  display: inline-flex;\n  max-width: 90%;\n  z-index: 1;\n  flex-flow: ",";\n  align-self: ",";\n  .profile-slider {\n    left: 60px !important;\n    right: unset !important;\n    bottom: 0px !important;\n    top: unset !important;\n  }\n  .chat-right & {\n    .profile-slider {\n      left: unset !important;\n      right: 0 !important;\n      bottom: 100% !important;\n      top: unset !important;\n    }\n  }\n"]);return Ue=function(){return e},e}var Ge=C.a.div(Ue(),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"flex-end":"flex-start"})),He=C.a.div(Me()),Be=Object(C.a)(Le)(Fe(),(function(e){return e.isAuthor?"0":"unset"}),(function(e){return e.isAuthor?"unset":"0"})),We=function(e){var t=e.reactions,n=e.isAuthor,a=e.chatReactionAction,r=e.reply,i=function(e){var t=Object(A.useRef)();return Object(A.useEffect)((function(){t.current=e})),t.current}(t.length),c=Object(A.useState)(!1),o=Object(E.a)(c,2),s=o[0],l=o[1],d=function(){return l(!s)},u=function(){return Object.entries(Object(Te.b)(t,"react_type")).map((function(e){return{type:e[0],reactions:e[1]}}))},m=Object(A.useState)(u()),p=Object(E.a)(m,2),f=p[0],b=p[1];return Object(A.useEffect)((function(){b(u())}),[]),Object(A.useEffect)((function(){i!==t.length&&b(Object.entries(Object(Te.b)(t,"react_type")).map((function(e){return{type:e[0],reactions:e[1]}})))}),[t,i]),v.a.createElement(Ge,{isAuthor:n},f.slice(0,7).map((function(e){return v.a.createElement(Ie,{userReacted:!1,key:e.type,type:e.type,count:e.reactions.length,reactions:e.reactions,isAuthor:n,chatReactionAction:a,reply:r})})),f.length>7&&v.a.createElement(He,null,v.a.createElement("span",{onClick:d},"..."),s&&v.a.createElement(Be,{isAuthor:n,reactions:f.slice(7),className:"chat-reactions-list",handleShowMoreEmojis:d,chatReactionAction:a,reply:r})))};function Ye(){var e=Object(g.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  z-index: 999;\n  ul {\n    max-height: 250px;\n\n    li {\n      display: flex;\n      text-align: left;\n\n      > span {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return Ye=function(){return e},e}function ze(){var e=Object(g.a)(["\n    // position: absolute;\n    // right: ",";\n    // left: ",";\n    //top: 100%;\n    text-align: ",";\n    color: #a7abc3;\n    z-index: 2;\n    font-size: 11px;\n    position: absolute;\n    bottom: -18px;\n    white-space: nowrap;\n    ",";\n    span {\n        cursor: pointer;\n        &:hover {\n            color: #7A1B8B;\n            transition: color 0.3s;\n        }\n    }\n"]);return ze=function(){return e},e}var Ve,Qe,qe,Ke,Je,Ze,Xe,$e,et,tt,nt,at,rt,it,ct,ot,st,lt=C.a.div(ze(),(function(e){return e.isAuthor?"0":"unset"}),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.isAuthor?"right: 0px":"left: 0px"})),dt=Object(C.a)(L.u)(Ye(),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"5px":"unset"})),ut=function(e){var t=e.isPersonal,n=e.seenMembers,a=e.isAuthor,r=Object(A.useState)(!1),i=Object(E.a)(r,2),c=i[0],o=i[1],s=function(){return o(!c)};return v.a.createElement(lt,e,t&&"seen",!t&&1===n.length&&"seen by ".concat(n.map((function(e){return e.first_name})).slice(0,1).toString()),!t&&n.length>1&&v.a.createElement(v.a.Fragment,null,"seen by"," ",n.map((function(e){return e.first_name})).slice(0,1).toString()," ","and",v.a.createElement("span",{onClick:s}," more")),!t&&n.length>1&&c&&v.a.createElement(dt,{className:"chat-seen-list",users:n,isAuthor:a,onShowList:s}))},mt=n(14),pt=C.a.span(Ve||(Ve=Object(g.a)(['\n  display: block;\n  width: 100%;\n\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n\n  .push-link {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 25px;\n    margin-bottom: -25px;\n    width: 100%;\n\n    &:before {\n      position: absolute;\n      left: -14px;\n      top: -7px;\n      bottom: 0;\n      width: 6px;\n      height: calc(100% - 12px);\n      background: linear-gradient(180deg, rgba(106, 36, 126, 1) 0%, rgba(216, 64, 113, 1) 100%);\n      content: "";\n      border-radius: 6px 0 0 6px;\n    }\n\n    .card-body {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      padding: 1rem;\n      max-width: 95%;\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 12px;\n    }\n\n    .open-post {\n      display: flex;\n      position: absolute;\n      right: -20px;\n      bottom: -10px;\n      justify-content: center;\n      align-items: center;\n      font-size: 12px;\n\n      svg {\n        margin-left: 0;\n        height: 12px;\n      }\n    }\n  }\n']))),ft=C.a.span(Qe||(Qe=Object(g.a)(["\n  display: block;\n  width: 100%;\n  cursor: ",";\n"])),(function(e){return e.isPostNotification?"pointer":"auto"})),bt=C.a.div(qe||(qe=Object(g.a)(["\n  color: #a7abc3;\n  font-style: italic;\n  font-size: 11px;\n  position: absolute;\n  top: 0;\n  left: calc(100% + 10px);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  white-space: nowrap;\n"]))),ht=[.1,.2,.3,.4,.5,.6,.7,.8,.9],_t=Object(A.forwardRef)((function(e,t){var n=e.reply,a=e.selectedChannel,r=e.isLastChat,i=e.chatMessageActions,c=e.user,o=e.timeFormat,s=e.isLastChatVisible,l=e.dictionary,d=e.users,u=Object(D.g)(),m=Object(D.i)(),p=Object(S.V)({dictionary:l,reply:n,selectedChannel:a,user:c,users:d}).parseBody,f=Object(P.b)({threshold:ht,skip:!r}),b=Object(E.a)(f,3),h=b[0],_=b[1],O=b[2];Object(A.useEffect)((function(){r&&O&&(O.boundingClientRect.height-O.intersectionRect.height>=16?s&&i.setLastMessageVisiblility({status:!1}):s||i.setLastMessageVisiblility({status:!0}))}),[r,O,s,_]);return v.a.createElement(pt,{ref:r?h:null},v.a.createElement(ft,{ref:t,id:"bot-".concat(n.id),onClick:function(){if(n.body.startsWith("UPLOAD_BULK::")){var e=JSON.parse(n.body.replace("UPLOAD_BULK::",""));e.files&&i.viewFiles(e.files)}else if(n.body.startsWith("POST_CREATE::")){if(""!==n.body.replace("POST_CREATE::","").trim()){var t=JSON.parse(n.body.replace("POST_CREATE::",""));m&&m.workspaceId?m.folderId?u.push("/workspace/posts/".concat(m.folderId,"/").concat(m.folderName,"/").concat(m.workspaceId,"/").concat(Object(mt.h)(m.workspaceName),"/post/").concat(t.post.id,"/").concat(Object(mt.h)(t.post.title))):u.push("/workspace/posts/".concat(m.workspaceId,"/").concat(m.workspaceName,"/post/").concat(t.post.id,"/").concat(Object(mt.h)(t.post.title))):u.push("/posts/".concat(t.post.id,"/").concat(Object(mt.h)(t.post.title)))}}},dangerouslySetInnerHTML:{__html:p},isPostNotification:n.body.includes("POST_CREATE::")}),v.a.createElement(bt,{className:"chat-timestamp",isAuthor:!1},v.a.createElement("span",{className:"reply-date created"},o.localizeTime(n.created_at.timestamp))))})),Ot=C.a.div(Ke||(Ke=Object(g.a)(["\n  background: transparent;\n  background-repeat: repeat;\n  height: calc(100% - 125px);\n  overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  //z-index: 1;\n  scrollbar-width: none;\n  > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .chat-message-options svg {\n    fill: currentColor;\n  }\n  &.is-processed {\n    opacity: 0;\n  }\n"]))),Et=C.a.li(Je||(Je=Object(g.a)(["\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: ",";\n  text-align: center;\n  .chat-actions-container {\n    opacity: 0;\n  }\n\n  &:hover {\n    .chat-actions-container {\n      opacity: 1;\n    }\n  }\n"])),(function(e){return e.isLastChat?"20px":"5px"})),gt=C.a.div(Ze||(Ze=Object(g.a)(["\n  z-index: 2;\n  color: #a7abc3;\n  display: inline-block;\n  left: 50%;\n  position: sticky;\n  top: 10px;\n  transform: translateX(-50%);\n  span {\n    padding: 4px 8px;\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 6px;\n    margin: 0 4px;\n    background: #f0f0f0;\n  }\n  &[stuck] {\n    &:before,\n    &:after {\n      display: none;\n    }\n  }\n"]))),At=C.a.div(Xe||(Xe=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: column;\n  flex-flow: ",";\n  margin-left: ",";\n  ",";\n  margin-top: ",";\n  margin-top: ",";\n  @media (max-width: 620px) {\n    margin-top: ",";\n    margin-top: ",";\n    ",";\n    ",";\n    ",";\n  }\n  &:before {\n    ",";\n    border: 10px solid transparent;\n    border-right-color: ",";\n    position: absolute;\n    top: ",";\n    left: 30px;\n    z-index: 1;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n    ",";\n  }\n  .dark & {\n    &:before {\n      ",";\n      border: 10px solid transparent;\n      position: absolute;\n      top: ",";\n      left: 30px;\n      z-index: 1;\n      @media all and (max-width: 620px) {\n        display: none;\n      }\n      ",";\n    }\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor||e.showAvatar?"0":"22px"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 15px;"}),(function(e){return e.showAvatar&&"36px"}),(function(e){return e.showAvatar&&e.isAuthor&&"20px"}),(function(e){return e.showAvatar&&"12px"}),(function(e){return e.showAvatar&&e.isAuthor&&"8px"}),(function(e){return!e.showAvatar&&!e.isAuthor&&!e.isBot&&"margin-left: 0"}),(function(e){return!0===e.isAuthor&&!e.showAvatar&&"position: relative; right: 0px;"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 0px;"}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.isImportant?"#7B68EE":e.isExternalChat?"#FFDB92":"#f0f0f0"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;\n            border-left-color:  ".concat((function(e){return e.isImportant?"#7B68EE":"#7A1B8B"}),";\n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        ")}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;            \n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        "})),vt=C.a.div($e||($e=Object(g.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),jt=C.a.div(et||(et=Object(g.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n  button {\n    margin: 5px;\n  }\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),Ct=Object(C.a)(me)(tt||(tt=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n  margin: 5px;\n  max-width: 25px;\n\n  @media (max-width: 620px) {\n    margin-right: 0;\n  }\n\n  .more-options-tooltip {\n    &.orientation-bottom {\n      top: calc(100% - 35px);\n      @media (max-width: 620px) {\n        top: 100%;\n      }\n    }\n\n    &.orientation-top {\n      @media (max-width: 620px) {\n        bottom: 30px;\n      }\n    }\n\n    &.orientation-right {\n      left: calc(100% + 10px);\n      @media (max-width: 620px) {\n        left: 0;\n      }\n    }\n    &.orientation-left {\n      @media (max-width: 620px) {\n        left: auto;\n        right: 0;\n      }\n    }\n  }\n"]))),Tt=C.a.div(nt||(nt=Object(g.a)(["\n  //width: 100%;\n  //overflow: hidden;\n  max-width: 75%;\n  position: relative;\n  flex-flow: column;\n  display: inherit;\n  margin-left: ",";\n  > img {\n    max-height: 300px;\n    max-width: 100%;\n    width: auto;\n    object-fit: cover;\n  }\n  .edited-message {\n    color: #aab0c8;\n    font-style: italic;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    margin: 0 10px;\n    height: 25px;\n    white-space: nowrap;\n    ",";\n  }\n  .chat-options {\n    visibility: hidden;\n  }\n  .chat-options.active {\n    visibility: visible;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 991.99px) {\n    max-width: calc(100% - 110px);\n  }\n\n  @media (max-width: 620px) {\n    ",";\n    ",";\n  }\n"])),(function(e){return e.showAvatar&&!e.isAuthor?"1rem":"1.6rem"}),(function(e){return e.isAuthor?"right: 100%;":"left: 100%"}),(function(e){return!e.showAvatar&&!e.isAuthor&&"margin-left: 0"}),(function(e){return!0===!e.isAuthor&&"margin-left: 0"})),yt=C.a.div(at||(at=Object(g.a)(["\n  position: relative;\n  display: inline-flex;\n  border-radius: 8px;\n  background: #f4f4f4f4;\n  text-align: left;\n  min-width: 100px;\n  max-width: 100%;\n  padding: 7px 15px;\n  line-height: 1.5rem;\n  float: left;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: ",";\n  .chat-options {\n    visibility: hidden;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"})),St=C.a.span(rt||(rt=Object(g.a)(["\n  color: red;\n  margin: 0 10px;\n"]))),wt=C.a.div(it||(it=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  &.initial-load {\n    position: absolute;\n    top: 45%;\n    left: 45%;\n    transform: translate(-45%, -45%);\n  }\n"]))),kt=C.a.div(ct||(ct=Object(g.a)(["\n  width: 100%;\n  ul {\n    margin: 0;\n  }\n"]))),Nt=Object(C.a)(L.a)(ot||(ot=Object(g.a)(["\n  align-self: flex-start;\n  width: 2rem !important;\n  height: 2rem !important;\n  margin-top: ",";\n\n  img {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n  .pixel-avatar {\n    padding-top: 2px !important;\n  }\n"])),(function(e){return!0===e.isForwardedMessage?"25px":"0"})),Rt=C.a.div(st||(st=Object(g.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  svg {\n    max-width: 100%;\n    width: 100%;\n    max-height: 40%;\n    margin: auto;\n  }\n"]))),xt=function(e){Object(R.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).loadReplies=function(){var e=a.props,t=e.selectedChannel,n=e.chatMessageActions,r=a.scrollComponent.current;if(!t.isFetching&&t.hasMore){n.channelActions.fetchingMessages(t,!0);var i={skip:0,limit:20};"undefined"!==typeof t.replies&&(i={skip:0===t.skip&&t.replies.length?t.replies.length:t.skip,limit:20}),n.fetch(t,i,(function(e,i){if(e)n.channelActions.fetchingMessages(t,!1);else if((0===t.replies.length||0===t.skip)&&"object"!==typeof a.props.history.location.state){r.scrollTop=r.scrollHeight;var c=r.scrollHeight;setTimeout((function(){c<r.scrollHeight&&(r.scrollTop=r.scrollHeight)}),1e3)}}))}},a.handleReadChannel=function(){if(a.props.unreadCount>0||a.props.selectedChannel.total_unread>0){var e=a.props,t=e.selectedChannel;e.chatMessageActions.channelActions.markAsRead(t)}},a.handleResendMessage=function(e){a.props.createChatMessageV2Action(e,(function(t,n){t&&a.props.onFailedMessageSend(e)}))},a.handleRemoveReply=function(e){a.props.cbOnRemoveReply(e)},a.handleEditReply=function(e){a.props.onEditReply(e)},a.handleQuoteReply=function(e){a.props.onSelectQuote(e)},a.handleLoadMoreRefChange=function(e,t){e&&a.loadReplies()},a.handleShowSeenUsers=function(){return a.setState({showSeenUsers:!a.state.showSeenUsers})},a.filterSeenMembers=function(){return a.props.selectedChannel.members.filter((function(e){return 2===a.props.selectedChannel.members.length?!(!a.props.selectedChannel.last_reply||!a.props.selectedChannel.last_reply.user)&&(a.props.selectedChannel.last_reply.user.id===a.props.user.id?!(a.props.user.id===e.id):!(a.props.selectedChannel.last_reply.user.id===e.id)):(!a.props.selectedChannel.last_reply||!a.props.selectedChannel.last_reply.user||a.props.selectedChannel.last_reply.user.id!==e.id)&&a.props.user.id!==e.id})).filter((function(e){return!!e.last_visited_at&&e.last_visited_at.timestamp>=a.props.selectedChannel.last_reply.created_at.timestamp}))},a.getLoadRef=function(e){var t=a.props.selectedChannel,n=!1;if(t.replies.length&&!t.isFetching){var r=t.replies.findIndex((function(t){return t.id===e}));r<Math.round(t.replies.length/2)&&r%2===0&&(n=!0)}return n},a.sortedReplies=function(){return a.props.selectedChannel.replies.map((function(e){return e.hasOwnProperty("g_date")?e:Object(O.a)(Object(O.a)({},e),{},{g_date:a.props.timeFormat.localizeDate(e.created_at.timestamp,"YYYY-MM-DD")})})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp===0?e.id-t.id:e.created_at.timestamp-t.created_at.timestamp}))},a.isLastChat=function(e){return a.sortedReplies()[a.props.selectedChannel.replies.length-1].id===e.id},a.groupedMessages=function(){return Object.entries(Object(I.groupBy)(a.sortedReplies(),"g_date")).map((function(e){return{key:e[0],replies:e[1]}})).sort((function(e,t){return e.key.localeCompare(t.key)}))},a.state={hasArrowUpListener:!1,loadMoreInView:!1,fetchingReplies:!1,showEmoji:{}},a.scrollComponent=v.a.createRef(),a.infiniteScroll=v.a.createRef(),a.mouseOver=v.a.createRef(!1),a}return Object(N.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.scrollComponent.current;this.props.chatMessageActions.channelActions.saveHistoricalPosition(this.props.selectedChannel.id,e)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedChannel,n=e.historicalPositions,a=this.scrollComponent.current;"object"!==typeof this.props.history.location.state&&(n.length?n.forEach((function(e){e.channel_id===t.id&&a&&(a.scrollTop=a.scrollHeight-e.scrollPosition)})):a&&(a.scrollTop=a.scrollHeight)),t.hasMore&&0===t.skip&&this.loadReplies(),t.is_read&&this.handleReadChannel()}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=this.props.selectedChannel,a=this.scrollComponent.current;return e.selectedChannel&&e.selectedChannel&&e.selectedChannel.replies&&n.replies&&a&&n.replies.length>20&e.selectedChannel.replies.length<n.replies.length&&n.replies.length-e.selectedChannel.replies.length>=2?a.scrollHeight-a.scrollTop:null}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.selectedChannel,i=a.historicalPositions,c=(a.user,this.scrollComponent.current);this.props.selectedChannel&&e.selectedChannel.id!==r.id&&(r.hasMore&&0===r.skip&&this.loadReplies(),this.handleReadChannel(),i.length&&i.forEach((function(e){e.channel_id===r.id&&c&&(c.scrollTop=c.scrollHeight-e.scrollPosition)}))),r&&e.selectedChannel.id===this.props.selectedChannel.id&&(null!==n&&r.replies.length!==e.selectedChannel.replies.length&&(r.replies.length-e.selectedChannel.replies.length===1?r.last_reply&&r.last_reply.user&&r.last_reply.user.id!==this.props.user.id&&(this.props.isLastChatVisible||(c.scrollTop=c.scrollHeight-n)):c.scrollTop=c.scrollHeight-n),r.replies&&r.replies.length&&r.replies.length-e.selectedChannel.replies.length===1&&(r.last_reply&&r.last_reply.user&&r.last_reply.user.id===this.props.user.id?c&&(c.scrollTop=c.scrollHeight):this.props.isLastChatVisible&&!this.props.isIdle&&this.props.isBrowserActive&&document.hasFocus()&&(r.is_read&&this.props.chatMessageActions.channelActions.markAsRead(r),c&&(c.scrollTop=c.scrollHeight)))),this.props.unreadCount>0&&this.props.isLastChatVisible&&!this.props.isIdle&&this.props.isBrowserActive&&document.hasFocus()&&this.handleReadChannel()}},{key:"render",value:function(){var e=this,t=0;return v.a.createElement(Ot,{ref:this.scrollComponent,id:"component-chat-thread",className:"component-chat-thread messages ".concat(this.props.className),tabIndex:"2"},this.props.selectedChannel.isFetching&&this.props.selectedChannel.hasMore&&0===this.props.selectedChannel.replies.length&&0===this.props.selectedChannel.skip&&v.a.createElement(wt,{className:"initial-load"},v.a.createElement(L.j,null)),v.a.createElement(kt,{ref:this.infiniteScroll,className:"infinite-scroll",id:"infinite-scroll-chat-replies"},this.props.selectedChannel.replies&&this.props.selectedChannel.replies.length>=20&&v.a.createElement(P.a,{as:"div",onChange:function(t,n){return e.handleLoadMoreRefChange(t,n)}},v.a.createElement("span",{className:"intersection-load-more-ref"})),v.a.createElement("ul",null,this.props.selectedChannel.replies&&this.props.selectedChannel.replies.length?this.groupedMessages().map((function(n,a){return v.a.createElement("div",{key:"".concat(n.replies[0].created_at.timestamp)},v.a.createElement(gt,{className:"timestamp-container"},v.a.createElement("span",null,e.props.timeFormat.localizeChatDate(n.replies[0].created_at.timestamp,"ddd, MMM DD, YYYY"))),n.replies.map((function(a,r,i){var c=a.user&&a.user.id===e.props.user.id,o=!1,s=!1,l=!1,d=!1,u=!1;if(a.user){a.created_at.timestamp&&(0===r&&(s=!0,o=!0),0!==r&&e.props.timeFormat.localizeDate(i[r-1].created_at.timestamp,"D")!==e.props.timeFormat.localizeDate(a.created_at.timestamp,"D")&&(s=!0,o=!0),0!==r&&a.created_at.timestamp-i[r-1].created_at.timestamp>600&&(o=!0)),0!==r&&!0===i[r-1].is_read&&!1===a.is_read&&(u=!0),0!==r&&null===i[r-1].user&&(o=!0),t!==a.user.id&&(o=!0,t=a.user.id),"undefined"!==typeof a.body&&null!==a.body&&null!==a.body.match(mt.b)&&(l=!0);d=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot","huddle_bot"].includes(a.user.code)}else if(0!==r){var m=n.replies[r-1];if(m.body===a.body&&Math.abs(a.created_at.timestamp-m.created_at.timestamp)<=10)return v.a.createElement(v.a.Fragment,null)}return v.a.createElement(Et,{key:a.id,className:"chat-list chat-list-item-".concat(a.id," code-").concat(a.code),showTimestamp:s,isLastChat:e.isLastChat(a)},a.user&&u&&e.props.unreadCount>0&&v.a.createElement(_e,null),a.user&&v.a.createElement(At,{isAuthor:c,className:"chat-reply-list-item chat-reply-list-item-".concat(a.id," ").concat(c?"chat-right":"chat-left"),showAvatar:o,isBot:d,isImportant:a.is_important,isExternalChat:a.user&&e.props.users[a.user.id]&&"external"===e.props.users[a.user.id].type&&!c},a.message_failed?v.a.createElement(St,null,v.a.createElement("i",{className:"fas fa-times-circle",onClick:function(t){return e.handleResendMessage(a.payload)}})):null,v.a.createElement(Tt,{isAuthor:c,showAvatar:o,className:"chat-bubble-quote-div"},v.a.createElement(le,{chatMessageActions:e.props.chatMessageActions,timeFormat:e.props.timeFormat,user:e.props.user,reply:a,showAvatar:o,selectedChannel:e.props.selectedChannel,showGifPlayer:l,isAuthor:c,addMessageRef:e.getLoadRef(a.id),isLastChat:e.isLastChat(a),loadReplies:e.loadReplies,chatSettings:e.props.settings,isLastChatVisible:e.props.isLastChatVisible,dictionary:e.props.dictionary,users:e.props.users,translate:e.props.translate,language:e.props.language,translated_channels:e.props.translated_channels,chat_language:e.props.chat_language},v.a.createElement(vt,{isAuthor:c,className:"chat-actions-container"},v.a.createElement(Ce,{isAuthor:c,reply:a,showEmojiSwitcher:e.state.showEmoji[a.id]}),!isNaN(a.id)&&!a.is_deleted&&v.a.createElement(Ct,{dictionary:e.props.dictionary,className:"chat-message-options",selectedChannel:e.props.selectedChannel,isAuthor:c,replyData:a,teamChannelId:e.props.teamChannelId,isExternalUser:"external"===e.props.user.type}))),a.reactions.length>0&&v.a.createElement(We,{reactions:a.reactions,isAuthor:c,reply:a,loggedUser:e.props.user,chatReactionAction:e.props.chatReactionV2Action}),e.props.selectedChannel.last_reply&&e.props.selectedChannel.last_reply.id===a.id&&e.filterSeenMembers().length>0&&v.a.createElement(ut,{isAuthor:c,onClick:e.handleShowSeenUsers,seenMembers:e.filterSeenMembers(),isPersonal:2===e.props.selectedChannel.members.length})),!c&&o&&v.a.createElement(Nt,{isForwardedMessage:a.is_transferred,id:a.user.id,type:"USER",imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,name:a.user.name,isBot:d,isHuddleBot:"huddle_bot"===a.user.code,showSlider:!0})),null===a.user&&v.a.createElement(At,{className:"chat-reply-list-item system-reply-list-item chat-reply-list-item-".concat(a.id),isAuthor:!1},v.a.createElement(Tt,{isAuthor:c,showAvatar:o,className:"chat-bubble-quote-div"},v.a.createElement(yt,{className:"system-message",isAuthor:!1},v.a.createElement(_t,{user:e.props.user,chatMessageActions:e.props.chatMessageActions,timeFormat:e.props.timeFormat,selectedChannel:e.props.selectedChannel,reply:a,addMessageRef:e.getLoadRef(a.id),isLastChat:e.isLastChat(a),isLastChatVisible:e.props.isLastChatVisible,dictionary:e.props.dictionary,users:e.props.users}),v.a.createElement(jt,{isAuthor:c,className:"chat-actions-container"},v.a.createElement(Ce,{isAuthor:c,reply:a,showEmojiSwitcher:e.state.showEmoji[a.id]}),!isNaN(a.id)&&!a.is_deleted&&v.a.createElement(Ct,{dictionary:e.props.dictionary,scrollRef:e.scrollComponent,replyData:a,className:"chat-message-options",selectedChannel:e.props.selectedChannel,isAuthor:c,teamChannelId:e.props.teamChannelId,isExternalUser:"external"===e.props.user.type}))),a.reactions.length>0&&v.a.createElement(We,{reactions:a.reactions,reply:a,isAuthor:!1,loggedUser:e.props.user,chatReactionAction:e.props.chatReactionV2Action}))))})))})):null,!this.props.selectedChannel.isFetching&&this.props.selectedChannel.replies&&this.props.selectedChannel.replies.length<1&&v.a.createElement(Rt,{className:"no-reply-container"},v.a.createElement(L.q,{icon:3})))))}}]),n}(v.a.Component);var It,Pt,Dt,Lt,Ft,Mt,Ut,Gt,Ht,Bt,Wt,Yt,zt,Vt,Qt,qt,Kt,Jt,Zt,Xt,$t,en,tn,nn,an,rn,cn,on,sn,ln=Object(D.k)(Object(j.connect)((function(e){var t=e.global,n=t.isIdle,a=t.isBrowserActive,r=e.session.user,i=e.chat,c=i.historicalPositions,o=i.isLastChatVisible,s=i.selectedChannel,l=e.users.users;return{user:r,settings:e.settings.user.CHAT_SETTINGS,historicalPositions:c,isLastChatVisible:o,users:l,isIdle:n,isBrowserActive:a,selectedChannel:s}}),null)(xt)),dn=n(203),un=n(12),mn=n(375),pn=C.a.div(It||(It=Object(g.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: ",";\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  min-height: ",";\n\n  &:after {\n    border: 10px solid #0000;\n    position: absolute;\n    top: 6px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 20px 10px;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    text-align: ",";\n    white-space: nowrap;\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  span.image-uploading {\n    display: none;\n  }\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n"])),(function(e){return e.hasFiles?"3px":"6px 9px 8px 9px"}),(function(e){return e.isAuthor?"#7A1B8B":"#F0F0F0"}),(function(e){return e.isAuthor?"#ffffff":"#000000"}),(function(e){return e.hasGif?"150px":"33px"}),(function(e){return e.isAuthor?"right: -16px":"left: -15px"}),(function(e){return e.isAuthor?"#7A1B8B":"#0000"}),(function(e){return e.isAuthor?"#0000":"#F0F0F0"}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#ffffff":"#AAB0C8"}),(function(e){return!0===e.isForwardedMessage&&"top: -40px;"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.showAvatar&&!1===e.hideBg||e.hasRemoveOnDlFiles?"#a7abc3":"#0000"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.isAuthor?"#ffffffe6":"#AAB0C8"})),fn=C.a.div(Pt||(Pt=Object(g.a)(["\n  background: ",";\n  border-radius: 6px;\n  margin: 4px -4px 4px -4px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: 7px -7px 10px -7px;\n    padding: 7px;\n  }\n"])),(function(e){return e.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(e){return e.hasFiles?"210px":"auto"}),(function(e){return e.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(e){return!e.isEmoticonOnly&&"content: ''"})),bn=C.a.div(Dt||(Dt=Object(g.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]))),hn=C.a.div(Lt||(Lt=Object(g.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"])),(function(e){return e.isAuthor?"#ffffffe6":"#000000"}),(function(e){return e.isAuthor?"#ffffffe6":"#8C3B9B"})),_n=Object(C.a)(Q)(Ft||(Ft=Object(g.a)(["\n  img {\n    cursor: pointer;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: #972c86;\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"])),(function(e){return e.isAuthor?Object(F.hexToCSSFilter)("#ffffff").filter:Object(F.hexToCSSFilter)("#8C3B9B").filter}),(function(e){return e.isAuthor?Object(F.hexToCSSFilter)("#fff").filter:Object(F.hexToCSSFilter)("#0056b3").filter}),(function(e){return e.hasMessage&&""})),On=C.a.span(Mt||(Mt=Object(g.a)(["\n  max-width: ",";\n  padding: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 991.99px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"])),(function(e){return e.hasFiles?"200px":"auto"}),(function(e){return e.hasFiles?"7px 4px 5px 6px":""}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#ffffff99":"#7a1b8b"}),(function(e){return e.isAuthor?"#FFF":"#828282"}),(function(e){return e.isAuthor?"#ffffff":"#7a1b8b"}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#fff":"#0056b3"})),En=C.a.div(Ut||(Ut=Object(g.a)(["\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"left":"right"})),gn=C.a.div(Gt||(Gt=Object(g.a)(["\n  ","\n\n  .reply-author {\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"])),(function(e){return!e.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(e){return e.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-left-color: #f0f0f0;\n        position: absolute;\n        top: 6px;\n        left: -15px;\n        z-index: 1;\n        ").concat((function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -15px;\n            border-left-color: red;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(e){return e.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(e){return e.isAuthor,"#ff4444"})),An=C.a.div(Ht||(Ht=Object(g.a)(["\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n    flex-flow: column;\n    justify-content: center;\n  }\n  .reply-date.updated {\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"0 10px 0 0":"0 0 0 10px"})),vn=C.a.span(Bt||(Bt=Object(g.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"])),(function(e){return e.isAuthor?"right: 100%;":"left: 100%;"})),jn=C.a.span(Wt||(Wt=Object(g.a)(["\n  padding: ",";\n  font-weight: 500;\n  color: #929496;\n  &.important {\n    font-weight: 600;\n    color: #191c20;\n  }\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"])),(function(e){return e.isEmoticonOnly||e.isGifOnly||!0===e.hasFiles?"3px 9px 3px 9px":"0"})),Cn=function(e){var t=e.reply,n=e.showAvatar,a=e.selectedChannel,r=e.showGifPlayer,i=e.isAuthor,c=e.user,o=e.chatMessageActions,s=e.timeFormat,l=e.chatSettings,d=e.dictionary,u=e.users,m=e.translated_channels,p=e.chat_language,f=e.translate,b=e.language,h=Object(D.g)(),_=Object(S.w)();J({message:t,actions:o}),q({message:t,isAuthor:i,translate:a.is_translate,chat_language:p,actions:o});var O=Object(S.d)({reply:t,dictionary:d,isAuthor:i,user:c,selectedChannel:a,users:u,translate:f,language:b,translated_channels:m,chat_language:p}),E=O.quoteAuthor,g=O.quoteBody,j=O.replyBody,C=O.hasMessage,T=O.isGifOnly,y=O.isEmoticonOnly,w=t.files.length>0,k=t.files.some((function(e){return e.remove_on_download})),N={container:Object(A.useRef)(null)},R=Object(A.useRef)(null),x=function(e){return e.preventDefault(),h.push(e.currentTarget.dataset.href),!1};Object(A.useEffect)((function(){var e=N.container.current.querySelector("a.push");return e&&e.addEventListener("click",x,!0),function(){e&&e.removeEventListener("click",x,!0)}}),[]);var I=t.user&&u[t.user.id]&&"external"===u[t.user.id].type&&!i;return v.a.createElement(pn,{ref:N.container,tabIndex:t.id,hasFiles:w,className:"chat-bubble ql-editor ".concat(t.is_important&&"important"," ").concat(I&&"external-chat"),showAvatar:n,isAuthor:i,hideBg:y||T||w&&!C,theme:l.chat_message_theme,hasGif:r,hasRemoveOnDlFiles:k},v.a.createElement(v.a.Fragment,null,t.is_transferred&&v.a.createElement(vn,{className:"small",isAuthor:i},v.a.createElement(L.s,{icon:"corner-up-right"}),d.forwardedMessage),v.a.createElement(En,{className:"chat-content-clap",isAuthor:i},v.a.createElement(gn,{showAvatar:n,isAuthor:i,isEmoticonOnly:y,className:"chat-content animated slower",ref:R},!i&&n&&v.a.createElement(v.a.Fragment,null,v.a.createElement(jn,{isEmoticonOnly:y,hasFiles:w,isGifOnly:T,className:"chat-name-not-author-mobile ".concat(t.is_important&&"important")},"BOT"===t.user.type&&t.user.code&&t.user.code.includes("huddle")?d.teamFeedback:t.user.name)),t.quote&&t.quote.body&&!t.is_deleted&&(void 0!==t.quote.user_id||void 0!==t.quote.user)&&v.a.createElement(fn,{className:"quote-container",showAvatar:n,isEmoticonOnly:y,hasFiles:w,theme:l.chat_message_theme,onClick:function(e){if(t.quote){var n=document.querySelector(".chat-list-item-".concat(t.quote.id));n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},isAuthor:i},t.quote.user_id===c.id?v.a.createElement(bn,{theme:l.chat_message_theme,isAuthor:!0},"You"):v.a.createElement(bn,{theme:l.chat_message_theme,isAuthor:t.quote.user_id===c.id},E),v.a.createElement(hn,{ref:function(e){e&&e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){_.init(e)}))},className:"quote-content",theme:l.chat_message_theme,isAuthor:i,dangerouslySetInnerHTML:{__html:g}})),t.files.length>0&&!t.is_deleted&&v.a.createElement(_n,{dictionary:d,hasMessage:C,isAuthor:i,theme:l.chat_message_theme,files:t.files,reply:t,type:"chat",topic_id:"TOPIC"===a.type?a.entity_id:null}),C&&v.a.createElement("span",null,v.a.createElement(On,{ref:function(e){e&&e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){_.init(e)}))},hasFiles:w,theme:l.chat_message_theme,isAuthor:i,className:"reply-content ".concat(y?"emoticon-body":""," ").concat(t.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:{__html:j}})),r&&v.a.createElement(L.c,{body:t.body,autoplay:!0}))),v.a.createElement(An,{className:"chat-timestamp",isAuthor:i},v.a.createElement("span",{className:"reply-date created"},v.a.createElement("span",null,s.todayOrYesterdayDate(t.created_at.timestamp)),k&&v.a.createElement("span",null,d.removeOnDownload)))),e.children)},Tn=C.a.span(Yt||(Yt=Object(g.a)(['\n  display: block;\n  width: 100%;\n\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n\n  .push-link {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 25px;\n    margin-bottom: -25px;\n    width: 100%;\n\n    &:before {\n      position: absolute;\n      left: -14px;\n      top: -7px;\n      bottom: 0;\n      width: 6px;\n      height: calc(100% - 12px);\n      background: linear-gradient(180deg, rgba(106, 36, 126, 1) 0%, rgba(216, 64, 113, 1) 100%);\n      content: "";\n      border-radius: 6px 0 0 6px;\n    }\n\n    .card-body {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      padding: 1rem;\n      max-width: 95%;\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 12px;\n    }\n\n    .open-post {\n      display: flex;\n      position: absolute;\n      right: -20px;\n      bottom: -10px;\n      justify-content: center;\n      align-items: center;\n      font-size: 12px;\n\n      svg {\n        margin-left: 0;\n        height: 12px;\n      }\n    }\n  }\n']))),yn=C.a.span(zt||(zt=Object(g.a)(["\n  display: block;\n  width: 100%;\n"]))),Sn=C.a.div(Vt||(Vt=Object(g.a)(["\n  color: #a7abc3;\n  font-style: italic;\n  font-size: 11px;\n  position: absolute;\n  top: 0;\n  left: calc(100% + 10px);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  white-space: nowrap;\n\n  .star-wrap {\n    .feather-star {\n      width: 16px;\n      height: 16px;\n\n      &.active {\n        fill: #7a1b8bcc;\n        color: #7a1b8bcc;\n      }\n    }\n  }\n"]))),wn=Object(A.forwardRef)((function(e,t){var n=e.reply,a=e.selectedChannel,r=e.chatMessageActions,i=e.user,c=e.timeFormat,o=e.dictionary,s=e.users,l=Object(D.g)(),d=Object(D.i)(),u=Object(S.V)({dictionary:o,reply:n,selectedChannel:a,user:i,users:s}).parseBody;return v.a.createElement(Tn,null,v.a.createElement(yn,{ref:t,id:"bot-".concat(n.id),onClick:function(){if(n.body.startsWith("UPLOAD_BULK::")){var e=JSON.parse(n.body.replace("UPLOAD_BULK::",""));e.files&&r.viewFiles(e.files)}else if(n.body.startsWith("POST_CREATE::")){if(""!==n.body.replace("POST_CREATE::","").trim()){var t=JSON.parse(n.body.replace("POST_CREATE::",""));d&&d.workspaceId?d.folderId?l.push("/workspace/posts/".concat(d.folderId,"/").concat(d.folderName,"/").concat(d.workspaceId,"/").concat(Object(mt.h)(d.workspaceName),"/post/").concat(t.post.id,"/").concat(Object(mt.h)(t.post.title))):l.push("/workspace/posts/".concat(d.workspaceId,"/").concat(d.workspaceName,"/post/").concat(t.post.id,"/").concat(Object(mt.h)(t.post.title))):l.push("/posts/".concat(t.post.id,"/").concat(Object(mt.h)(t.post.title)))}}},dangerouslySetInnerHTML:{__html:u},isPostNotification:n.body.includes("POST_CREATE::")}),v.a.createElement(Sn,{className:"chat-timestamp",isAuthor:!1},v.a.createElement("span",{className:"reply-date created"},c.localizeTime(n.created_at.timestamp))))})),kn=C.a.li(Qt||(Qt=Object(g.a)(["\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: ",';\n  text-align: center;\n  .chat-reply-list-item {\n    position: relative;\n    :before {\n      top: 7px;\n    }\n  }\n  .chat-actions-container {\n    opacity: 0;\n\n    .star-wrap {\n      position: relative;\n      display: flex;\n      &[data-star="true"] {\n        .feather-star {\n          fill: #7a1b8bcc;\n          color: #7a1b8bcc;\n        }\n      }\n      .feather-star {\n        width: 16px;\n        height: 16px;\n        cursor: pointer;\n      }\n      .star-count {\n        font-size: 0.835rem;\n        color: #a7abc3;\n        height: 16px;\n        line-height: 16px;\n        padding: 0 4px;\n      }\n      .star-user-popup {\n        position: absolute;\n        width: 250px;\n        padding: 4px;\n        background-color: #ffffff;\n        top: 100%;\n        z-index: 1;\n        border-top: 1px solid #eeeeee;\n        border-radius: 8px;\n        color: #4d4d4d;\n\n        .dark & {\n          background-color: #25282c;\n          border-top: 1px solid #25282c;\n          border-radius: 8px;\n          color: #c7c7c7;\n        }\n\n        .name {\n          display: block;\n          width: 100%;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n\n      display: none;\n      visibility: hidden;\n    }\n  }\n\n  &:hover {\n    .chat-actions-container {\n      opacity: 1;\n    }\n  }\n'])),(function(e){return e.isLastChat?"20px":"5px"})),Nn=C.a.div(qt||(qt=Object(g.a)(["\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #a7abc3;\n  padding: 26px 0 14px 0;\n  position: sticky;\n  top: 0;\n  span {\n    padding: 4px 8px;\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 6px;\n    margin: 0 4px;\n    background: #f0f0f0;\n  }\n  &[stuck] {\n    &:before,\n    &:after {\n      display: none;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 14px 0 10px 0;\n  }\n"]))),Rn=C.a.div(Kt||(Kt=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  //align-items: ",";\n  justify-content: flex-end;\n  flex-flow: column;\n  flex-flow: ",";\n  margin-left: ",";\n  ",";\n  margin-top: ",";\n  margin-top: ",";\n  @media (max-width: 620px) {\n    margin-top: ",";\n    margin-top: ",";\n    ",";\n    ",";\n    ",";\n  }\n  &:before {\n    ",";\n    border: 10px solid transparent;\n    border-right-color: ",";\n    position: absolute;\n    top: ",";\n    left: 30px;\n    z-index: 1;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n    ",";\n  }\n  .dark & {\n    &:before {\n      ",";\n      border: 10px solid transparent;\n      position: absolute;\n      top: ",";\n      left: 30px;\n      z-index: 1;\n      @media all and (max-width: 620px) {\n        display: none;\n      }\n      ",";\n    }\n  }\n"])),(function(e){return e.isAuthor?"flex-end":"flex-start"}),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor||e.showAvatar?"0":"22px"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 15px;"}),(function(e){return e.showAvatar&&"36px"}),(function(e){return e.showAvatar&&e.isAuthor&&"20px"}),(function(e){return e.showAvatar&&"12px"}),(function(e){return e.showAvatar&&e.isAuthor&&"8px"}),(function(e){return!e.showAvatar&&!e.isAuthor&&!e.isBot&&"margin-left: 0"}),(function(e){return!0===e.isAuthor&&!e.showAvatar&&"position: relative; right: 0px;"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 0px;"}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.isImportant?"#7B68EE":e.isExternalChat?"#FFDB92":"#f0f0f0"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;\n            border-left-color:  ".concat((function(e){return e.isImportant?"#7B68EE":"#7A1B8B"}),";\n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        ")}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;            \n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        "})),xn=C.a.div(Jt||(Jt=Object(g.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),In=C.a.div(Zt||(Zt=Object(g.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n  button {\n    margin: 5px;\n  }\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),Pn=Object(C.a)(me)(Xt||(Xt=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n  margin: 5px;\n  max-width: 25px;\n\n  @media (max-width: 620px) {\n    margin-right: 0;\n  }\n\n  .more-options-tooltip {\n    &.orientation-bottom {\n      top: calc(100% - 35px);\n      @media (max-width: 620px) {\n        top: 100%;\n      }\n    }\n\n    &.orientation-top {\n      @media (max-width: 620px) {\n        bottom: 30px;\n      }\n    }\n\n    &.orientation-right {\n      left: calc(100% + 10px);\n      @media (max-width: 620px) {\n        left: 0;\n      }\n    }\n    &.orientation-left {\n      @media (max-width: 620px) {\n        left: auto;\n        right: 0;\n      }\n    }\n  }\n"]))),Dn=C.a.div($t||($t=Object(g.a)(["\n  //width: 100%;\n  //overflow: hidden;\n  max-width: 75%;\n  position: relative;\n  flex-flow: column;\n  display: inherit;\n  margin-left: ",";\n  > img {\n    // max-height: ",";\n    max-height: 300px;\n    max-width: 100%;\n    width: auto;\n    object-fit: cover;\n  }\n  .edited-message {\n    color: #aab0c8;\n    font-style: italic;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    margin: 0 10px;\n    height: 25px;\n    white-space: nowrap;\n    ",";\n  }\n  .chat-options {\n    visibility: hidden;\n  }\n  .chat-options.active {\n    visibility: visible;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 991.99px) {\n    max-width: calc(100% - 110px);\n  }\n\n  @media (max-width: 620px) {\n    ",";\n    ",";\n  }\n"])),(function(e){return e.showAvatar&&!e.isAuthor?"1rem":"1.6rem"}),(function(e){return e.maxImgHeight>300?"".concat(e.maxImgHeight,"px;"):"300px"}),(function(e){return e.isAuthor?"right: 100%;":"left: 100%"}),(function(e){return!e.showAvatar&&!e.isAuthor&&"margin-left: 0"}),(function(e){return!0===!e.isAuthor&&"margin-left: 0"})),Ln=C.a.div(en||(en=Object(g.a)(["\n  position: relative;\n  display: inline-flex;\n  border-radius: 8px;\n  background: #f4f4f4f4;\n  text-align: left;\n  min-width: 100px;\n  max-width: 100%;\n  padding: 7px 15px;\n  line-height: 1.5rem;\n  float: left;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: ",";\n  .chat-options {\n    visibility: hidden;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"})),Fn=C.a.span(tn||(tn=Object(g.a)(["\n  color: red;\n  margin: 0 10px;\n"]))),Mn=Object(C.a)(L.a)(nn||(nn=Object(g.a)(["\n  align-self: flex-start;\n  width: 2rem !important;\n  height: 2rem !important;\n  margin-top: ",";\n\n  img {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n  .pixel-avatar {\n    padding-top: 2px !important;\n  }\n"])),(function(e){return!0===e.isForwardedMessage?"25px":"0"})),Un=0,Gn=function(e){var t=e.actualIndex,n=e.reply,a=e.lastReply,r=e.isLastChatVisible,i=e.dictionary,c=e.timeFormat,o=e.chatMessageActions,s=e.translate,l=e.language,d=e.translated_channels,u=e.chat_language,m=Object(j.useSelector)((function(e){return e.session.user})),p=Object(j.useSelector)((function(e){return e.chat.selectedChannel})),f=Object(j.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})),b=Object(j.useSelector)((function(e){return e.users.users})),h=p.replies[t-1],_=!(!n||!n.user)&&n.user.id===m.id,O=!1,E=!1,g=!1,A=!1,C=!1;if(n&&n.user){n.created_at.timestamp&&(0===t&&(E=!0,O=!0),0!==t&&h&&c.localizeDate(h.created_at.timestamp,"D")!==c.localizeDate(n.created_at.timestamp,"D")&&(E=!0,O=!0),0!==t&&h&&n.created_at.timestamp-h.created_at.timestamp>600&&(O=!0)),0!==t&&h&&!0===h.is_read&&!1===n.is_read&&(C=!0),0!==t&&h&&null===h.user&&(O=!0),Un!==n.user.id&&(O=!0,Un=n.user.id),"undefined"!==typeof n.body&&null!==n.body&&null!==n.body.match(mt.b)&&(g=!0);A=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot"].includes(n.user.code)}var T=p.members.filter((function(e){return 2===p.members.length?!(!p.last_reply||!p.last_reply.user)&&(p.last_reply.user.id===m.id?!(m.id===e.id):!(p.last_reply.user.id===e.id)):(!p.last_reply||!p.last_reply.user||p.last_reply.user.id!==e.id)&&m.id!==e.id})).filter((function(e){return!!e.last_visited_at&&e.last_visited_at.timestamp>=p.last_reply.created_at.timestamp}));return v.a.createElement(kn,{"data-message-id":n.id,"data-code":n.code,"data-timestamp":n.created_at.timestamp,className:"chat-list chat-list-item-".concat(n.id," code-").concat(n.code),showTimestamp:E},E&&v.a.createElement(Nn,{className:"timestamp-container"},v.a.createElement("span",null,c.localizeChatDate(n.created_at.timestamp,"ddd, MMM DD, YYYY"))),n.user&&C&&!r&&v.a.createElement(_e,null),n.user&&v.a.createElement(Rn,{isAuthor:_,className:"chat-reply-list-item chat-reply-list-item-".concat(n.id," ").concat(_?"chat-right":"chat-left"),"data-message-id":n.id,showAvatar:O,isBot:A,hasGif:g},n.message_failed?v.a.createElement(Fn,null,v.a.createElement("i",{className:"fas fa-times-circle",onClick:function(t){return e.handleResendMessage(n.payload)}})):null,v.a.createElement(Dn,{isAuthor:_,showAvatar:O,className:"chat-bubble-quote-div"},v.a.createElement(Cn,{chatMessageActions:o,timeFormat:c,user:m,reply:n,showAvatar:O,selectedChannel:p,showGifPlayer:g,isAuthor:_,isLastChat:a.id===n.id,chatSettings:f,isLastChatVisible:r,dictionary:i,users:b,translate:s,language:l,translated_channels:d,chat_language:u},v.a.createElement(xn,{isAuthor:_,className:"chat-actions-container"},v.a.createElement(Ce,{isAuthor:_,reply:n}),!isNaN(n.id)&&!n.is_deleted&&v.a.createElement(Pn,{dictionary:i,className:"chat-message-options",selectedChannel:p,isAuthor:_,replyData:n}))),n.reactions.length>0&&v.a.createElement(We,{reactions:n.reactions,isAuthor:_,reply:n,loggedUser:m,chatReactionAction:e.chatReactionV2Action}),p.last_reply&&p.last_reply.id===n.id&&T.length>0&&v.a.createElement(ut,{isAuthor:_,onClick:e.handleShowSeenUsers,seenMembers:T,isPersonal:2===p.members.length})),!_&&O&&v.a.createElement(Mn,{isForwardedMessage:n.is_transferred,id:n.user.id,type:"USER",imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,name:n.user.name,isBot:A})),null===n.user&&v.a.createElement(Rn,{className:"chat-reply-list-item system-reply-list-item chat-reply-list-item-".concat(n.id),"data-message-id":n.id,isAuthor:!1,hasGif:g},v.a.createElement(Dn,{isAuthor:_,showAvatar:O,className:"chat-bubble-quote-div"},v.a.createElement(Ln,{className:"system-message",isAuthor:!1},v.a.createElement(wn,{user:m,chatMessageActions:o,timeFormat:c,selectedChannel:p,reply:n,isLastChat:a.id===n.id,isLastChatVisible:r,dictionary:i,users:b}),v.a.createElement(In,{isAuthor:_,className:"chat-actions-container"},v.a.createElement(Ce,{isAuthor:_,reply:n}),!isNaN(n.id)&&!n.is_deleted&&v.a.createElement(Pn,{dictionary:i,replyData:n,className:"chat-message-options",selectedChannel:p,isAuthor:_}))),n.reactions.length>0&&v.a.createElement(We,{reactions:n.reactions,reply:n,isAuthor:!1,loggedUser:m,chatReactionAction:e.chatReactionV2Action}))))},Hn=C.a.div(an||(an=Object(g.a)(["\n  background: transparent;\n  background-repeat: repeat;\n  //   height: calc(100% - 181px);\n  //   overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  z-index: 1;\n  > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .chat-message-options svg {\n    fill: currentColor;\n  }\n  &.is-processed {\n    opacity: 0;\n  }\n  > div:first-child {\n    width: 100%;\n    overflow-x: hidden;\n  }\n"]))),Bn=C.a.div(rn||(rn=Object(g.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  svg {\n    max-width: 100%;\n    width: 100%;\n    max-height: 40%;\n    margin: auto;\n  }\n"]))),Wn=C.a.div(cn||(cn=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  &.initial-load {\n    position: absolute;\n    top: 45%;\n    left: 45%;\n    transform: translate(-45%, -45%);\n  }\n"]))),Yn=function(e){var t=e.dictionary,n=Object(A.useRef)(null),a=Object(A.useRef)(null),r=Object(S.c)(),i=Object(S.W)(),c=Object(S.l)(),o=Object(j.useSelector)((function(e){return e.session.user})),s=Object(j.useSelector)((function(e){return e.chat.selectedChannel})),l=Object(j.useSelector)((function(e){return e.global.isIdle})),d=Object(j.useSelector)((function(e){return e.global.isBrowserActive})),u=Object(S.K)(s),m=Object(j.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})).translate,p=Object(j.useSelector)((function(e){return e.settings.user.GENERAL_SETTINGS})),f=p.chat_language,b=p.translated_channels,h=p.language,_=function(){if(!s.isFetching&&s.hasMore){r.channelActions.fetchingMessages(s,!0);var e={skip:0,limit:20};"undefined"!==typeof s.replies&&(e={skip:0===s.skip&&s.replies.length?s.replies.length:s.skip,limit:20}),r.fetch(s,e,(function(e,t){e&&r.channelActions.fetchingMessages(s,!1)}))}};Object(A.useEffect)((function(){s.hasMore&&0===s.skip&&_(),n.current&&n.current[s.id]&&n.current[s.id].firstItem&&a.current&&a.current.scrollToIndex({index:n.current[s.id].firstItem.originalIndex,align:"start",behavior:"instant"})}),[s.id]);var E=function(e){e&&(c>0||s.total_unread>0)&&r.channelActions.markAsRead(s)};return v.a.createElement(Hn,{id:"component-chat-thread",className:"component-chat-thread messages",tabIndex:"2","data-init":1,"data-channel-id":s.id},s.replies&&s.replies.length>0&&v.a.createElement(mn.a,{ref:a,overscan:0,firstItemIndex:s.replyCount?s.replyCount-s.replies.length:100-s.replies.length,initialTopMostItemIndex:s.replies.length-1,data:s.replies.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp===0?e.id-t.id:e.created_at.timestamp-t.created_at.timestamp})),startReached:_,atBottomStateChange:function(e){return E(e)},followOutput:function(e){return e?!l&&d&&document.hasFocus():u&&s.id===u.id?!(u&&u.replies.length!==s.replies.length&&s.replies.length-u.replies.length>1)&&(s.last_reply&&s.last_reply.user&&s.last_reply.user.id===o.id):void 0},itemsRendered:function(e){return function(e){e.length&&(n.current=Object(O.a)(Object(O.a)({},n.current&&Object(O.a)({},n.current)),{},Object(un.a)({},s.id,{firstItem:e[0]})))}(e)},itemContent:function(e,n){return v.a.createElement(Gn,{index:e,actualIndex:s.replyCount?s.replies.length-(s.replyCount-e):e,reply:n,lastReply:s.replies[s.replies.length-1],dictionary:t,chatMessageActions:r,timeFormat:i,translate:m,language:h,translated_channels:b,chat_language:f})}}),s.replies&&0===s.replies.length&&!s.hasMore&&v.a.createElement(Bn,{className:"no-reply-container"},v.a.createElement(L.q,{icon:3})),s.isFetching&&s.hasMore&&0===s.skip&&v.a.createElement(Wn,{className:"initial-load"},v.a.createElement(L.j,null)))},zn=C.a.div(on||(on=Object(g.a)(["\n  width: 100%;\n  z-index: 2;\n  @media (max-width: 992px) {\n    z-index: 1;\n  }\n"]))),Vn=C.a.div(sn||(sn=Object(g.a)(["\n  flex: 1;\n"]))),Qn=function(e){var t=e.className,a=void 0===t?"":t,r=e.isWorkspace,i=void 0!==r&&r,c=Object(dn.a)({timeout:6e4}).isIdle,o=Object(j.useDispatch)(),s=Object(w.a)(),l=Object(S.W)(),d=Object(j.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})),u=d.virtualization,m=d.translate,p=Object(j.useSelector)((function(e){return e.settings.user.GENERAL_SETTINGS})),f=p.chat_language,b=p.translated_channels,h=p.language,_=Object(j.useSelector)((function(e){return e.chat.selectedChannel})),g=Object(j.useSelector)((function(e){return e.workspaces.isOnClientChat})),C=Object(A.useState)(!1),k=Object(E.a)(C,2),N=k[0],R=k[1],x=Object(S.l)(),I={dropZoneRef:Object(A.useRef)()},P=function(){R(!1)},D=function(e){var t=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var r=n(64).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push(Object(O.a)(Object(O.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):"video/mp4"===e.type?t.push(Object(O.a)(Object(O.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):t.push(Object(O.a)(Object(O.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:a,name:e.name?e.name:e.path}))})),P();var a={type:"file_upload",droppedFiles:t,mode:"chat",members:_?_.members:[],team_channel:_.team&&"TOPIC"===_.type?_.id:null};o(Object(T.a)(a))},L=Object(S.cb)()._t,F={remindMeAboutThis:L("TODO.REMIND_ABOUT_THIS","Remind about this"),quote:L("CHAT.QUOTE","Quote"),copyMessageLink:L("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:L("CHAT.FORWARD","Forward"),edit:L("CHAT.EDIT","Edit"),remove:L("CHAT.REMOVE","Remove"),removeChat:L("MODAL.REMOVE_CHAT","Remove chat"),cancel:L("MODAL.CANCEL","Cancel"),removeThisChat:L("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:L("SYSTEM.UPDATE","Update"),accountActivated:L("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:L("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:L("SYSTEM.REMOVED","removed"),andRemoved:L("SYSTEM.AND_REMOVED","and removed"),you:L("SYSTEM.YOU","You"),youAnd:L("SYSTEM.YOU_AND","You and"),joined:L("SYSTEM.JOINED","joined"),andJoined:L("SYSTEM.AND_JOINED","and joined"),left:L("SYSTEM.LEFT","left"),andLeft:L("SYSTEM.AND_LEFT","and left"),createdThePost:L("SYSTEM.CREATED_THE_POST","created the post"),openPost:L("SYSTEM.OPEN_POST","Open post"),someone:L("SYSTEM.SOMEONE","Someone"),added:L("SYSTEM.ADDED","added"),andAdded:L("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:L("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:L("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:L("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:L("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:L("CHAT.WORKSPACE","Workspace"),hasLeftChat:L("SYSTEM.HAS_LEFT_CHAT","has left the chat"),hasLeftWorkspace:L("SYSTEM.HAS_LEFT_WORKSPACE","has left the workspace"),andHasLeftChat:L("SYSTEM.AND_HAS_LEFT_CHAT","and has left the chat"),andHasLeftWorkspace:L("SYSTEM.AND_HAS_LEFT_WORKSPACE","and has left the workspace"),youLeftChat:L("SYSTEM.YOU_LEFT_CHAT","You left the chat"),youLeftWorkspace:L("SYSTEM.YOU_LEFT_WORKSPACE","You left the workspace"),leftTheWorkspace:L("SYSTEM.LEFT_THE_WORKSPACE","left the workspace"),leftTheChat:L("SYSTEM.LEFT_THE_CHAT","left the chat"),markImportant:L("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:L("CHAT.UNMARK_IMPORTANT","Unmark as important"),teamFeedback:L("HUDDLE.HUDDLE_TEAM_FEEDBACK","Huddle team feedback"),replyInPrivate:L("CHAT.REPLY_IN_PRIVATE","Reply in private"),removeOnDownload:L("CHAT.REMOVE_ON_DOWNLOAD","Remove on download"),withClient:L("PAGE.WITH_CLIENT","With client"),teamChat:L("PAGE.TEAM_CHAT","Team Chat"),clientChat:L("PAGE.CLIENT_CHAT","Client Chat"),mute:L("CHAT.MUTE","Mute"),unmute:L("CHAT.UNMUTE","Unmute"),hide:L("CHAT.HIDE","Hide"),unhide:L("CHAT.UNHIDE","Unhide"),favorite:L("FAVORITE","Favorite"),unfavorite:L("UNFAVORITE","Unfavorite"),markAsUnread:L("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:L("POST.MARK_AS_READ","Mark as read"),unarchive:L("CHAT.UNARCHIVE","Un-archive"),archive:L("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:L("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:L("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),headerArchive:L("HEADER.ARCHIVE","Chat archive"),headerUnarchive:L("HEADER.UNARCHIVE","Un-archive channel"),clickHereToJoin:L("CHAT.CLICK_HERE_TO_JOIN","Click here to join"),fileAutomaticallyRemoved:L("FILE.AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),connectPreview:L("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:L("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account")};return Object(S.v)(document.querySelector(".chat-footer .ql-editor")),v.a.createElement(zn,{className:"chat-content ".concat(a),onDragOver:function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return void R(!0)}},v.a.createElement(y.a,{hide:!N,ref:I.dropZoneRef,onDragLeave:P,onDrop:function(e){var t=e.acceptedFiles;D(t)},onCancel:P}),!i&&v.a.createElement(er,{dictionary:F,channel:_}),null!==_?u?v.a.createElement(Yn,{dictionary:F}):v.a.createElement(ln,{chatMessageActions:s,timeFormat:l,dictionary:F,unreadCount:x,teamChannelId:g,isIdle:c,translate:m,language:h,translated_channels:b,chat_language:f}):v.a.createElement(Vn,null),v.a.createElement(Ga,{onShowFileDialog:function(){I.dropZoneRef.current&&I.dropZoneRef.current.open()},dropAction:D}))},qn=n(43),Kn=n.n(qn),Jn=n(16),Zn=n(20),Xn=n(193);function $n(){var e=Object(g.a)([""]);return $n=function(){return e},e}function ea(){var e=Object(g.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return ea=function(){return e},e}var ta,na,aa,ra,ia,ca,oa,sa,la,da,ua,ma,pa,fa,ba,ha,_a,Oa,Ea,ga,Aa,va,ja=C.a.div(ea()),Ca=Object(C.a)(L.s)($n()),Ta=function(e){var t=Object(S.R)(),n=Object(E.a)(t,2),a=n[0],r=n[1],i=Object(j.useDispatch)();return a?v.a.createElement(ja,null,v.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:a.user?a.user.name:""}}),v.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:a.body?r:""}}),v.a.createElement("span",{className:"quote-clear-container",onClick:function(){i(Object(Jn.n)(a))}},v.a.createElement(Ca,{icon:"x"}))):null},ya=C.a.div(ta||(ta=Object(g.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar-typing {\n    height: 26px !important;\n    width: 26px !important;\n  }\n"])),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),Sa=C.a.div(na||(na=Object(g.a)(["\n  margin-left: 10px !important;\n"]))),wa=C.a.div(aa||(aa=Object(g.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: #972c86;\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]))),ka=v.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(S.db)(),r=Object(E.a)(a,1)[0];return v.a.createElement(ya,{users:r.length,className:"component-chat-indicator ".concat(n)},r.length>2?v.a.createElement(wa,null,"".concat(r.length-2,"+")):null,r.map((function(e,t){return t<=1?v.a.createElement(L.a,{key:t,className:"xs avatar-typing",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),v.a.createElement(Sa,{className:"typing-indicator"},v.a.createElement("span",null),v.a.createElement("span",null),v.a.createElement("span",null)))})),Na=C.a.div(ra||(ra=Object(g.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]))),Ra=Object(C.a)(L.s)(ia||(ia=Object(g.a)(["\n  width: 14px;\n  height: 14px;\n  margin-left: 5px;\n"]))),xa=function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,r=Object(S.cb)()._t,i=Object(j.useSelector)((function(e){return e.workspaces.workspaces})),c=Object(j.useSelector)((function(e){return e.session.user})),o={lockedLabel:r("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),teamChat:r("CHAT.INFO_TEAM_CHAT","You are in the team chat"),clientChat:r("CHAT.INFO_CLIENT_CHAT","Client can read this chat")};return v.a.createElement(v.a.Fragment,null,a&&!a.is_archived&&i.hasOwnProperty(a.entity_id)&&1===i[a.entity_id].active&&v.a.createElement(Na,{className:"locked-label ".concat(n)},i[a.entity_id].is_shared&&i[a.entity_id].channel.id===a.id&&"internal"===c.type&&v.a.createElement("span",null,o.clientChat,v.a.createElement(Ra,{icon:"eye"})),i[a.entity_id].is_shared&&i[a.entity_id].team_channel.id===a.id&&"internal"===c.type&&v.a.createElement("span",null,o.teamChat," ",v.a.createElement(Ra,{icon:"eye-off"}))))},Ia=C.a.div(ca||(ca=Object(g.a)(["\n  position: relative;\n  z-index: 3;\n  padding-top: 0 !important; \n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),Pa=C.a.div(oa||(oa=Object(g.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),Da=C.a.div(sa||(sa=Object(g.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  flex-flow: column;\n  .feather-paperclip,\n  .feather-meet,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-meet {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n"]))),La=Object(C.a)(L.s)(la||(la=Object(g.a)(["\n  width: 20px;\n"]))),Fa=Object(C.a)(L.s)(da||(da=Object(g.a)([""]))),Ma=C.a.div(ua||(ua=Object(g.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),Ua=Object(C.a)(L.f)(ma||(ma=Object(g.a)(["\n  right: 100px;\n  bottom: 80px;\n\n  @media (max-width: 414px) {\n    right: -10px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Ga=v.a.memo((function(e){var t=e.className,a=void 0===t?"":t,r=e.onShowFileDialog,i=e.dropAction,c=Object(S.W)(),o=c.localizeChatDate,s=c.localizeDate,l=Object(j.useDispatch)(),d=Object(S.X)(),u={picker:Object(A.useRef)()},m=Object(A.useState)(!1),p=Object(E.a)(m,2),f=p[0],b=p[1],h=Object(A.useState)(null),_=Object(E.a)(h,2),O=_[0],g=_[1],C=Object(A.useState)(null),y=Object(E.a)(C,2),w=y[0],k=y[1],N=Object(A.useState)("default"),R=Object(E.a)(N,2),x=R[0],I=R[1],P=Object(A.useState)(null),D=Object(E.a)(P,2),L=D[0],F=D[1],M=Object(A.useState)("#cacaca"),U=Object(E.a)(M,2),G=U[0],H=U[1],B=Object(j.useSelector)((function(e){return e.chat})),W=B.editChatMessage,Y=B.selectedChannel,z=Object(j.useSelector)((function(e){return e.session.user})),V=Object(S.R)(),Q=Object(E.a)(V,1)[0],q=function(){l(Object(Jn.bb)(!0))},K=function(){b(!f)},J=Object(S.cb)()._t,Z={unarchiveThisWorkspace:J("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:J("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:J("BUTTON.CANCEL","Cancel"),unarchiveBodyText:J("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),chatUnarchiveConfirmation:J("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),headerUnarchive:J("HEADER.UNARCHIVE","Un-archive channel"),youAreViewing:J("CHAT.LABEL","You are viewing"),joinWorkspaceChat:J("CHAT.JOIN_WORKSPACE_CHAT","Join workspace chat"),googleMeet:J("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:J("YES","Yes"),no:J("NO","No"),googleMeetConfirmation:J("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?")},X=function(){var e={id:Y.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};l(Object(Jn.nb)(e)),d.success(v.a.createElement("span",null,v.a.createElement("b",null,"TOPIC"===Y.type?"".concat(Y.title," workspace is un-archived."):"".concat(Y.title," channel is un-archived."))))},$=Object(S.B)(Y&&Y.members&&Y.members.length?Y.members.map((function(e){return e.id})):[]),ee=function(){var e=Math.floor(Date.now()/1e3),t=n(64).generate(),a=Y.title.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9_-]/g,"-"),r='<div>I started a Google meet: <a href="https://meet.google.com/lookup/'.concat(Object(mt.h)(a),'" rel="noopener noreferrer" target="_blank"><strong>Click here to join</strong></a></div><br/><div><i>Notice this meeting only works if you and the participant are using the same Google WorkSpace domain. If you both use a different domain, share the Google link generated by Google.</i></div>'),i={channel_id:Y.id,body:r,mention_ids:[],file_ids:[],reference_id:t,reference_title:"".concat(z.first_name," started a Google meeting"),quote:null},c={message:r,body:r,mention_ids:[],user:z,original_body:"".concat(z.first_name," started a Google meet. Click here to join"),is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:e},updated_at:{timestamp:e},channel_id:Y.id,reactions:[],id:t,reference_id:t,quote:null,unfurls:[],g_date:s(e,"YYYY-MM-DD")};l(Object(Jn.b)(c)),l(Object(Jn.db)(i))};return v.a.createElement(Ia,{className:"chat-footer ".concat(a)},Y&&v.a.createElement(ka,null),v.a.createElement(xa,{channel:Y}),$&&v.a.createElement(Ma,{className:"d-flex align-items-end chat-input-cointainer-footer",backgroundSend:L,cursor:x,fillSend:G},Y&&Y.is_archived?v.a.createElement(Pa,null,v.a.createElement(La,{icon:"archive"}),v.a.createElement("h4",null,"TOPIC"===Y.type?"This is an archived workspace":"This is an archived channel"),v.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:Z.cancel,headerText:"TOPIC"===Y.type?Z.unarchiveWorkspace:Z.headerUnarchive,submitText:"TOPIC"===Y.type?Z.unarchiveWorkspace:Z.headerUnarchive,bodyText:"TOPIC"===Y.type?Z.unarchiveBodyText:Z.chatUnarchiveConfirmation,actions:{onSubmit:X}};l(Object(T.a)(e))}},"TOPIC"===Y.type?"Un-archive workspace":"Un-archive channel")):v.a.createElement(v.a.Fragment,null,v.a.createElement(Da,{className:"flex-grow-1 chat-input-footer"},Y&&!Y.is_archived&&Q&&v.a.createElement(Ma,{className:"d-flex pr-2 pl-2"},v.a.createElement(Ta,null)),v.a.createElement(Ma,{className:"d-flex flex-grow-1"},v.a.createElement(Xn.a,{onActive:function(e){var t;F((t=e?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),I(t[1]),H(t[2])},selectedGif:w,onSendCallback:function(){b(!1)},onClearGif:function(){k(null)},selectedEmoji:O,onClearEmoji:function(){g(null)},dropAction:i}),v.a.createElement(Ri,{channel:Y,showEmojiPicker:f,handleShowEmojiPicker:K,handleGoogleMeet:function(){var e={type:"confirmation",cancelText:Z.no,headerText:Z.googleMeet,submitText:Z.yes,bodyText:Z.googleMeetConfirmation,actions:{onSubmit:ee}};l(Object(T.a)(e))},onShowFileDialog:r,editChatMessage:W,quote:Q}))),v.a.createElement(Kn.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Send"},v.a.createElement(Fa,{onClick:q,icon:"send"}))),!0===f&&v.a.createElement(Ua,{handleSend:q,handleShowEmojiPicker:K,onSelectEmoji:function(e){g(e)},onSelectGif:function(e){k(e)},orientation:"top",ref:u.picker})),$&&W&&v.a.createElement(Ma,{className:"d-flex align-items-end"},v.a.createElement("div",{className:"p-5"},W.files.map((function(e){return e.filename})).join(", "))),!1===$&&null!==Y&&"internal"===z.type&&v.a.createElement(Ma,{className:"channel-viewing"},v.a.createElement("div",{className:"channel-name"},Z.youAreViewing," #",Y.title),v.a.createElement("div",{className:"channel-create"},"Created by ",Y.creator&&Y.creator.name," on ",o(Y.created_at&&Y.created_at.timestamp)),v.a.createElement("div",{className:"channel-action"},v.a.createElement("button",{onClick:function(){l(Object(Zn.K)({channel_id:Y.id,recipient_ids:[z.id]},(function(e,t){e||d.success(v.a.createElement(v.a.Fragment,null,"You have joined ",v.a.createElement("b",null,"#",Y.title)))})))}},Z.joinWorkspaceChat))))})),Ha=n(91),Ba=n(206),Wa=n(123),Ya=C.a.div(pa||(pa=Object(g.a)(["\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding-bottom: 1em;\n\n  .chat-header-left {\n    display: flex;\n  }\n\n  .chat-header-title {\n    height: 17px;\n    color: #000000;\n    font-family: Inter;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 17px;\n    text-align: center;\n    display: flex;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n\n    a {\n      color: #000 !important;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      .dark & {\n        color: #ffffff !important;\n      }\n    }\n    .dark & {\n      color: #ffffff !important;\n    }\n  }\n  .chat-header-right {\n    @media (max-width: 414px) {\n      .nav {\n        display: flex;\n      }\n    }\n    margin-left: auto;\n    ul {\n      flex-flow: row;\n    }\n    li .more-options-tooltip {\n      top: 115%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n  .dictionary-label {\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 255px !important;\n  }\n  .channel-title-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .chat-header-folder {\n    flex: 1 1 100%;\n    height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 12px;\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]))),za=Object(C.a)(L.s)(fa||(fa=Object(g.a)([""]))),Va=Object(C.a)(L.s)(ba||(ba=Object(g.a)(["\n  width: 12px;\n  height: 11px;\n"]))),Qa=Object(C.a)(L.s)(ha||(ha=Object(g.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),qa=C.a.div(_a||(_a=Object(g.a)(["\n  @media (min-width: 992px) {\n    display: none;\n  }\n  color: #7a1b8b;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  margin-right: 12px;\n  margin-top: 8px;\n  display: flex;\n  span {\n    line-height: 1.7;\n  }\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),Ka=Object(C.a)(L.s)(Oa||(Oa=Object(g.a)(["\n  color: #7a1b8b;\n  height: 24px;\n  width: 24px;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),Ja=Object(C.a)(ue.c)(Ea||(Ea=Object(g.a)(["\n  border: 1px solid #fff;\n  border-radius: 4px;\n\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c !important;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    font-size: 10px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: -25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  // @media (max-width: 480px) {\n  //   margin: 0 0 0.75rem !important;\n  // }\n"]))),Za=C.a.div(ga||(ga=Object(g.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  margin-left:5px;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Xa=C.a.div(Aa||(Aa=Object(g.a)(["\n  display: flex;\n  align-items: center;\n"]))),$a=Object(C.a)(L.s)(va||(va=Object(g.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  min-width: 14px;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),er=function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,r=e.dictionary,i=Object(j.useDispatch)(),c=Object(D.g)(),o=Object(Ha.a)(),s=Object(j.useSelector)((function(e){return e.chat.selectedChannel})),l=Object(j.useSelector)((function(e){return e.workspaces.workspaces})),d=Object(j.useSelector)((function(e){return e.global.unreadCounter})),u=Object(j.useSelector)((function(e){return e.settings.user.GENERAL_SETTINGS})),m=(u.chat_language,u.translated_channels),p=Object(w.a)(),f=function(){o.archive(a)},b=Object(S.kb)(),h=Object(S.S)(),_=h.generalSettings.workspace_open_folder,E=h.setGeneralSetting,g=function(e){e.preventDefault(),s.workspace_folder&&E({workspace_open_folder:Object(O.a)(Object(O.a)({},_),{},Object(un.a)({},s.workspace_folder.id,s.workspace_folder.id))}),document.body.classList.remove("navigation-show"),b.selectWorkspace(l[s.entity_id]),b.redirectTo(l[s.entity_id])};return null===a?null:(m.length>0&&m.includes(s.id)&&!s.is_translate&&p.saveChannelTranslateState(Object(O.a)(Object(O.a)({},s),{},{is_translate:!0})),v.a.createElement(Ya,{className:"chat-header border-bottom ".concat(n)},v.a.createElement("div",{className:"chat-header-left"},v.a.createElement(qa,{className:"chat-back-button",onClick:function(){document.body.classList.remove("m-chat-channel-closed")}},v.a.createElement(Ka,{icon:"chevron-left"}),d.chat_message>0&&v.a.createElement("span",null,d.chat_message.toString())),v.a.createElement(Wa.a,{className:"chat-header-icon",channel:a,width:"33px"})),v.a.createElement("div",{className:"channel-title-wrapper"},v.a.createElement("div",{className:"chat-header-title"},function(){switch(s.type){case"TOPIC":return s.workspace_folder?v.a.createElement(v.a.Fragment,null,v.a.createElement("a",{onClick:g,"data-href":o.getChannelLink(s),href:o.getChannelLink(s)},s.title)):v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{className:"dictionary-label"}),v.a.createElement("a",{onClick:g,"data-href":o.getChannelLink(s),href:o.getChannelLink(s)},s.title));case"DIRECT":return v.a.createElement(v.a.Fragment,null,v.a.createElement("a",{onClick:function(e){return function(e,t){e.preventDefault(),c.push("/profile/".concat(t.id,"/").concat(Object(mt.h)(t.name)))}(e,s.profile)},"data-href":"/profile/".concat(s.profile.id,"/").concat(s.profile.name),href:"/profile/".concat(s.profile.id,"/").concat(s.profile.name)},s.profile?s.profile.name:s.title));default:return s.title}}()),v.a.createElement(Xa,{className:"chat-header-badge"},"TOPIC"===a.type&&!a.is_archived&&l.hasOwnProperty(a.entity_id)&&1===l[a.entity_id].is_lock&&1===l[a.entity_id].active&&v.a.createElement(za,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===a.type&&!a.is_archived&&l.hasOwnProperty(a.entity_id)&&l[a.entity_id].is_shared&&1===l[a.entity_id].active&&v.a.createElement(Za,{className:"badge badge-external mr-1",isTeam:!!a.team},v.a.createElement(Qa,{icon:a.team?"eye-off":"eye",className:"mr-1"}),a.team?r.teamChat:r.clientChat)),v.a.createElement($a,{icon:"star",isFav:a.is_pinned,onClick:function(){a.is_pinned?o.unPin(a):o.pin(a)}}),v.a.createElement("div",null,v.a.createElement("ul",{className:"nav align-items-center justify-content-end"},v.a.createElement("li",{className:"ml-2",style:{height:"21px"}},v.a.createElement(Ja,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"17",width:"17"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(a.type)&&v.a.createElement("div",{onClick:function(){if(a.is_archived)o.unArchive(a);else{var e={type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:f}};i(Object(T.a)(e))}}},a.is_archived?r.unarchive:r.archive),"GROUP"===a.tyope&&!a.is_archived&&v.a.createElement("div",{onClick:function(){i(Object(T.a)({type:"chat_create_edit",mode:"edit"}))}},r.edit),v.a.createElement("div",{onClick:function(){a.is_pinned?o.unPin(a):o.pin(a)}},a.is_pinned?r.unfavorite:r.favorite),v.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===a.total_unread&&a.is_read?o.markAsUnRead(a):o.markAsRead(a)}(e)}},0===a.total_unread&&!0===a.is_read?r.markAsUnread:r.markAsRead),v.a.createElement("div",{onClick:function(){a.is_muted?o.unMute(a):o.mute(a)}},a.is_muted?r.unmute:r.mute),"PERSONAL_BOT"!==a.type&&v.a.createElement("div",{onClick:function(){a.is_hidden?o.unHide(a):o.hide(a),a.total_unread>0&&o.markAsRead(a)}},a.is_hidden?r.unhide:r.hide),v.a.createElement(Pi,{selectedChannel:s,translated_channels:m,chatMessageActions:p}))))),v.a.createElement("div",{className:"chat-header-folder"},function(){switch(s.type){case"TOPIC":return s.workspace_folder?v.a.createElement(v.a.Fragment,null,v.a.createElement(Va,{icon:"folder"})," ",s.workspace_folder.name," "):v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{className:"dictionary-label"},r.workspace));default:return""}}())),v.a.createElement("div",{className:"chat-header-right"},v.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(a.type)&&v.a.createElement("li",null,v.a.createElement(Ba.a,{members:a.members}))))))};function tr(){var e=Object(g.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]);return tr=function(){return e},e}function nr(){var e=Object(g.a)(["\n  ","\n"]);return nr=function(){return e},e}function ar(){var e=Object(g.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]);return ar=function(){return e},e}var rr=C.a.div(ar()),ir=C.a.div(nr(),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),cr=C.a.div(tr()),or=v.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.reply;return v.a.createElement(rr,{className:"message-item ".concat(n," ").concat(!0===a.author?"me":"them")},v.a.createElement(ir,{className:"message-item-content",isAuthor:a.author},!1===a.author&&v.a.createElement(v.a.Fragment,null,v.a.createElement(cr,{className:"avatar avatar-sm"},v.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),a.message),v.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))}));function sr(){var e=Object(g.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]);return sr=function(){return e},e}var lr,dr,ur,mr,pr,fr,br,hr,_r,Or,Er,gr,Ar,vr,jr,Cr,Tr,yr=C.a.div(sr()),Sr=(v.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return v.a.createElement(yr,{className:"messages ".concat(n),tabIndex:"2"},v.a.createElement(or,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),v.a.createElement(or,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),v.a.createElement(or,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),v.a.createElement("div",{className:"message-item me"},v.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),v.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),v.a.createElement("div",{className:"message-item"},v.a.createElement("div",{className:"message-item-content d-flex"},v.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),v.a.createElement("div",null,v.a.createElement("div",null,"important_documents.pdf ",v.a.createElement("i",{className:"text-muted small"},"(50KB)")),v.a.createElement("ul",{className:"list-inline small"},v.a.createElement("li",{className:"list-inline-item"},v.a.createElement("a",{href:"/"},"Download")),v.a.createElement("li",{className:"list-inline-item"},v.a.createElement("a",{href:"/"},"View"))))),v.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),v.a.createElement("div",{className:"message-item me"},v.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),v.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),v.a.createElement("div",{className:"message-item"},v.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),v.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),v.a.createElement("div",{className:"message-item me message-media"},v.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),v.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),v.a.createElement("div",{className:"message-item message-item-divider"},v.a.createElement("span",null,"Today")),v.a.createElement("div",{className:"message-item"},v.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),v.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))})),C.a.div(lr||(lr=Object(g.a)(["\n  max-width: 100%;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n  .title-data-chat-folder {\n    display: inline-block;\n    height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 12px;\n    font-weight: normal;\n    margin-left: 5px;\n  }\n"])))),wr=Object(C.a)(L.s)(dr||(dr=Object(g.a)(["\n  width: 12px;\n  height: 10px;\n"]))),kr=C.a.h6(ur||(ur=Object(g.a)(["\n  color: #363636;\n  ",";\n  flex-grow: 1;\n  ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: calc(100% - 100px);\n\n  &.is-unread {\n    span {\n      font-weight: bold;\n    }\n  }\n\n  span {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: block;\n  }\n\n  .badge-wrapper {\n    margin-right: 0.5rem !important;\n  }\n"])),(function(e){return e.channel.total_unread&&"color: #7a1b8b"}),(function(e){return null!==e.selectedChannel&&e.channel.id===e.selectedChannel.id&&"font-weight: bold;"})),Nr=v.a.memo((function(e){var t=Object(S.W)().channelPreviewDate,n=e.className,a=void 0===n?"":n,r=e.search,i=void 0===r?"":r,c=e.selectedChannel,o=e.channel,s=e.dictionary,l=(Object(j.useSelector)((function(e){return e.workspaces.workspaces})),v.a.createElement(v.a.Fragment,null,!!o.is_archived&&v.a.createElement(v.a.Fragment,null,v.a.createElement(L.b,{badgeClassName:"bg-warning-bright",label:"Archived"})),function(e){var t=e;if("DIRECT"===o.type&&o.profile&&(t=o.profile.name),""===i)return t;var n=t.split(new RegExp("(".concat(i,")"),"gi"));return v.a.createElement("span",null,n.map((function(e){return e.toLowerCase()===i.toLowerCase()?v.a.createElement("b",null,e):e})))}(o.title)));return v.a.createElement(Sr,{className:"d-flex justify-content-between align-items-center"},v.a.createElement(kr,{className:"mb-1 ".concat(o.is_read?"":"is-unread"," ").concat(a),selectedChannel:c,channel:o},v.a.createElement(L.t,{direction:"up-start",arrow:!1,content:o.title},v.a.createElement("span",null,l,v.a.createElement("span",{className:"title-data-chat-folder"},function(){switch(o.type){case"TOPIC":return o.workspace_folder?v.a.createElement(v.a.Fragment,null,v.a.createElement(wr,{icon:"folder"})," ",o.workspace_folder.name," "):v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{className:"dictionary-label"},s.workspace));default:return""}}())))),v.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:o.last_reply?t(o.last_reply.created_at.timestamp):""}}))})),Rr=n(28),xr=n(77),Ir=Object(C.a)(ue.c)(mr||(mr=Object(g.a)(["\n  position: relative;\n  height: 18px;\n  width: 25px;\n  > svg {\n    position: absolute;\n    top: -1px;\n    height: 20px;\n    width: 20px;\n    left: 1.5px;\n  }\n"]))),Pr=function(e){var t=e.selectedChannel,n=e.channel,a=e.moreButton,r=void 0===a?"more-horizontal":a,i=e.onSelectOptions,c=void 0===i?null:i,o=Object(j.useDispatch)(),s=Object(Ha.a)(),l=document.getElementById("pills-home"),d=Object(S.cb)()._t,u={mute:d("CHAT.MUTE","Mute"),unmute:d("CHAT.UNMUTE","Unmute"),hide:d("CHAT.HIDE","Hide"),unhide:d("CHAT.UNHIDE","Unhide"),favorite:d("FAVORITE","Favorite"),unfavorite:d("UNFAVORITE","Unfavorite"),markAsUnread:d("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:d("POST.MARK_AS_READ","Mark as read"),unarchive:d("CHAT.UNARCHIVE","Un-archive"),archive:d("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:d("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:d("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),cancel:d("BUTTON.CANCEL","Cancel"),headerArchive:d("HEADER.ARCHIVE","Chat archive"),headerUnarchive:d("HEADER.UNARCHIVE","Un-archive channel")},m=function(){n.is_archived?s.unArchive(n):s.archive(n)};return v.a.createElement(v.a.Fragment,null,v.a.createElement(Ir,{channel:n,scrollRef:l,moreButton:r,onClick:c},v.a.createElement("div",{onClick:function(){n.is_pinned?s.unPin(n):s.pin(n)}},n.is_pinned?u.unfavorite:u.favorite),v.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===n.total_unread&&n.is_read?s.markAsUnRead(n):s.markAsRead(n)}(e)}},0===n.total_unread&&!0===n.is_read?u.markAsUnread:u.markAsRead),v.a.createElement("div",{onClick:function(){n.is_muted?s.unMute(n):s.mute(n)}},n.is_muted?u.unmute:u.mute),"PERSONAL_BOT"!==n.type&&v.a.createElement("div",{onClick:function(){n.is_hidden?s.unHide(n):s.hide(n),n.total_unread>0&&s.markAsRead(n),t&&(t.id,n.id)}},n.is_hidden?u.unhide:u.hide),!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(n.type)&&v.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:u.headerArchive,submitText:u.archive,cancelText:u.cancel,bodyText:u.chatArchiveConfirmation,actions:{onSubmit:m}};n.is_archived&&(e=Object(O.a)(Object(O.a)({},e),{},{headerText:u.headerUnarchive,submitText:u.unarchive,bodyText:u.chatUnarchiveConfirmation})),o(Object(T.a)(e))}},n.is_archived?u.unarchive:u.archive)))},Dr=C.a.span(pr||(pr=Object(g.a)(["\n  //display: flex;\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n  font-weight: ",";\n"])),(function(e){return e.hasUnRead?"bold":"normal"})),Lr=C.a.span(fr||(fr=Object(g.a)(["\n  display: flex;\n"]))),Fr=C.a.span(br||(br=Object(g.a)([""]))),Mr=C.a.span(hr||(hr=Object(g.a)([""]))),Ur=C.a.div(_r||(_r=Object(g.a)(["\n  min-width: 200px;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 2;\n  width: calc(100% - ","px);\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n"])),(function(e){return e.iconWidth})),Gr=Object(C.a)(L.r)(Or||(Or=Object(g.a)(["\n  max-width: 12px;\n"]))),Hr=Object(C.a)(L.s)(Er||(Er=Object(g.a)(["\n  position: relative;\n  top: -2px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]))),Br=C.a.span(gr||(gr=Object(g.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]))),Wr=C.a.div(Ar||(Ar=Object(g.a)(["\n  display: inline-block;\n  align-items: center;\n"]))),Yr=Object(C.a)(L.s)(vr||(vr=Object(g.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),zr=C.a.div(jr||(jr=Object(g.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  height:18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Vr=v.a.memo((function(e){var t=e.channel,n=e.drafts,a=e.dictionary,r=e.selectedChannel,i=Object(j.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})),c=Object(j.useSelector)((function(e){return e.session.user})),o=Object(j.useSelector)((function(e){return e.workspaces.workspaces})),s=Object(A.useState)(0),l=Object(E.a)(s,2),d=l[0],u=l[1],m={icons:Object(A.useRef)(null)},p=!1,f="",b="",h=Object(Rr.renderToString)(v.a.createElement(Wr,{className:"chat-header-badge"},"TOPIC"===t.type&&!t.is_archived&&o.hasOwnProperty(t.entity_id)&&1===o[t.entity_id].is_lock&&1===o[t.entity_id].active&&v.a.createElement(Hr,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===t.type&&!t.is_archived&&o.hasOwnProperty(t.entity_id)&&o[t.entity_id].is_shared&&1===o[t.entity_id].active&&v.a.createElement(zr,{className:"badge badge-external mr-1",isTeam:!!t.team},v.a.createElement(Yr,{icon:t.team?"eye-off":"eye",className:"mr-1"}),t.team?a.withTeam:a.withClient)));if(t.last_reply&&i.preview_message){if(t.last_reply.is_deleted)b='<span class="is-deleted">'+a.messageRemoved+"</span>";else{var _=t.is_translate&&t.last_reply.translated_body?t.last_reply.translated_body:t.last_reply.body,O=document.createElement("div");O.innerHTML=_;for(var g=O.getElementsByClassName("OriginalHtml");g[0];)g[0].parentNode.removeChild(g[0]);b=O.innerHTML,b=xr.a.parseEmoji(Object(mt.k)(b)),b=Object(Rr.renderToString)(v.a.createElement(Lr,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:b}}));try{b=b.replace(/<?(data-value)="[^"]*"/g," ").replace(/(<([^>]+)>)/gi," ")}catch(w){b=Object(mt.j)(b)}}(""===t.last_reply.body||t.last_reply.files&&t.last_reply.files.length||t.replies.length&&t.replies[t.replies.length-1].files.length||t.last_reply.body.match(/<img/))&&(p=!0);var C=(f+=b).replace(/\s/g,"");if(p&&(f=Object(Rr.renderToString)(v.a.createElement(Gr,{icon:"image-video"}))+f),t.last_reply.user){if(t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var T=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));f="".concat(T.author.first_name," has created the post ").concat(T.post.title)}t.last_reply.body.includes("ZAP_SUBMIT::")&&(f="System message update...");t.last_reply.user&&t.last_reply.user.id===c.id?(!C&&p&&(f+="Photo"),f=h+Object(Rr.renderToString)(v.a.createElement(Mr,{className:"last-reply-name"},a.you,":"))+" "+f):f=h+Object(Rr.renderToString)(v.a.createElement(Mr,{className:"last-reply-name"},t.last_reply.user.first_name,":"))+" "+f,f=(f=f.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")}else{if(f="System message update...",t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var y=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));f="".concat(y.author.first_name," has created the post ").concat(y.post.title)}}"undefined"!==typeof n[t.id]&&(n[t.id].text&&"<div><br></div>"!==n[t.id].text?f="DRAFT:&nbsp;".concat(Object(Rr.renderToString)(v.a.createElement(Fr,{dangerouslySetInnerHTML:{__html:n[t.id].text.replace(/(<([^>]+)>)/gi," ")}}))):n[t.id].reply_quote&&(f="QUOTE:&nbsp;".concat(n[t.id].reply_quote.body,"&nbsp;~").concat(n[t.id].reply_quote.user.name)))}else f=h;Object(A.useEffect)((function(){m.icons.current&&u(m.icons.current.clientWidth)}),[m.icons,t]);var S=!1===t.add_user&&(!t.is_read||t.total_unread>0);return v.a.createElement(Dr,{hasUnRead:t.total_unread>0,className:"d-flex justify-content-between align-items-center small text-muted "},v.a.createElement(Ur,{iconWidth:d,isUnread:t.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:f}}),v.a.createElement("div",{ref:m.icons,className:"chat-timestamp d-inline-flex justify-content-center align-items-end flex-row-reverse"},v.a.createElement(Pr,{className:"ml-1",moreButton:"chevron-down",selectedChannel:r,channel:t}),0===t.total_unread&&!1===t.is_read?v.a.createElement(v.a.Fragment,null,v.a.createElement(Br,{className:"badge badge-primary badge-pill ml-1"},"\xa0")):v.a.createElement(v.a.Fragment,null,S&&v.a.createElement(Br,{className:"badge badge-primary badge-pill ml-1 ".concat(t.is_read||0!==t.total_unread?"":"unread")},t.total_unread>0?t.total_unread:t.is_read?null:"0")),t.is_muted&&v.a.createElement(Hr,{icon:"volume-x",className:"".concat(t.is_pinned&&"mr-1")})))})),Qr=C.a.li(Cr||(Cr=Object(g.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n  &:focus,\n  &:hover {\n    background: #f0f0f050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n    .more-options {\n      display: inline-flex;\n      opacity: 1;\n      z-index: 1;\n      &.active {\n        color: #4d4d4d !important;\n      }\n    }\n    h6 {\n      color: #7a1b8b;\n    }\n  }\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: #7a1b8b;\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n"])),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.selected&&"color: #7A1B8B;"}),(function(e){return e.selected&&"content: '';"})),qr=C.a.div(Tr||(Tr=Object(g.a)([""]))),Kr=function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,r=e.selectedChannel,i=e.channelDrafts,c=e.dictionary,o=e.addLoadRef,s=e.onLoadMore,l=e.onSelectChannel,d={container:Object(A.useRef)(null)},u=Object(P.b)({threshold:1}),m=Object(E.a)(u,2),p=m[0],f=m[1];Object(A.useEffect)((function(){o&&f&&s()}),[o,f]);return v.a.createElement(Qr,{ref:d.container,className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(n),selected:null!==r&&a.id===r.id,onClick:function(){l(a)}},v.a.createElement(Wa.a,{channel:a}),v.a.createElement("div",{className:"channel-info",ref:o?p:null},v.a.createElement(qr,{className:"channel-title-preview"},v.a.createElement(Nr,{className:"chat-date-icons",selectedChannel:r,channel:a,dictionary:c})),v.a.createElement(Vr,{channel:a,drafts:i,dictionary:c,selectedChannel:r}),v.a.createElement("div",{className:"d-flex"},a.is_hidden&&v.a.createElement(v.a.Fragment,null,v.a.createElement(L.b,{label:"Hidden"})))))},Jr=n(715);function Zr(){var e=Object(g.a)(["\n  background: #7a1b8b;\n  color: #fff !important;\n  min-height: 18px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  position: absolute;\n  right: 0px;\n  bottom: 0;\n  width: 18px;\n  height: 18px;\n  font-size: 11px;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]);return Zr=function(){return e},e}function Xr(){var e=Object(g.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-right: 0.5rem;\n  .more-options {\n    margin-top: 0.5rem;\n    position: static;\n    opacity: 0;\n    svg {\n      position: relative;\n    }\n  }\n  .feather-more-horizontal {\n    width: 20px;\n    height: 18px;\n    vertical-align: initial;\n  }\n  :hover {\n    .more-options {\n      opacity: 1;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return Xr=function(){return e},e}function $r(){var e=Object(g.a)(["\n  padding: 0 24px;\n  ul {\n    margin: 0;\n    padding-left: 0;\n    padding-bottom: 12px;\n    overflow: auto;\n    // overflow-y: hidden;\n    // overflow-x: scroll;\n    display: flex;\n    border-bottom: 1px solid #dee2e6;\n    .dark & {\n      border-bottom-color: rgba(155, 155, 155, 0.2) !important;\n    }\n    .fav-channel {\n      padding-right: 0 !important;\n      cursor: pointer;\n    }\n  }\n  // .more-options-tooltip {\n  //   position: fixed;\n  //   top: 240px;\n  //   left: ",";\n  //   &.orientation-left {\n  //     left: ",";\n  //   }\n  // }\n  .feather-star,\n  .feather-volume-x {\n    position: absolute;\n    background-color: unset;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    z-index: 1;\n  }\n  .feather-star {\n    bottom: 0;\n    left: 0;\n    fill: rgb(255, 193, 7);\n    color: rgb(255, 193, 7);\n  }\n  .feather-volume-x {\n    bottom: 0;\n    right: 0;\n    background-color: #fff;\n    border: 2px solid #fff;\n    color: #7a1b8b;\n    .dark & {\n      background-color: #191c20;\n      color: #fff;\n      border: 2px solid #191c20;\n    }\n  }\n  .feather-eye,\n  .feather-eye-off {\n    top: -2px;\n    right: 0px;\n  }\n  .more-options {\n    display: none;\n  }\n  :hover {\n    .more-options {\n      display: block;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return $r=function(){return e},e}var ei,ti,ni,ai,ri,ii,ci,oi,si=C.a.div($r(),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left,"px"):"30px"}),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left-170,"px"):"30px"})),li=C.a.div(Xr()),di=C.a.div(Zr()),ui=function(e){var t=e.channels,n=e.onSelectChannel,a=function(e){n(e)};return v.a.createElement(si,{className:"mb-2"},v.a.createElement("ul",null,t.map((function(e){return v.a.createElement(li,{key:e.id},v.a.createElement(Wa.a,{channel:e,className:"fav-channel",onSelectChannel:function(){return a(e)},showSlider:!1},v.a.createElement(L.s,{icon:"star"}),e.is_muted&&v.a.createElement(L.s,{icon:"volume-x"}),!e.is_muted&&v.a.createElement(di,{className:"badge badge-pill ml-1 ".concat(e.is_read||0!==e.total_unread?"":"unread")},e.total_unread>9?"".concat(e.total_unread,"+"):e.total_unread>0?e.total_unread:e.is_read?null:"0")))}))))},mi=C.a.div(ei||(ei=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n"]))),pi=C.a.ul(ti||(ti=Object(g.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]))),fi=C.a.div(ni||(ni=Object(g.a)(["\n  border-bottom: 1px solid #ebebeb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n"]))),bi=C.a.h4(ai||(ai=Object(g.a)(["\n  font-weight: 300;\n  margin: 24px 0 6px 0;\n"]))),hi=function(e){var t=e.className,n=void 0===t?"":t,a=e.search,r=e.workspace,i=e.dictionary,c=Object(j.useSelector)((function(e){return e.chat.channels})),o=Object(j.useSelector)((function(e){return e.chat.selectedChannel})),s=Object(A.useState)(!1),l=Object(E.a)(s,2),d=l[0],u=l[1],m=Object(S.a)(),p=Object(S.U)(Object.values(c),a,{},r),f=p.favoriteChannels,b=p.sortedChannels,h=p.searchArchivedChannels,_=Object(j.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),g=Object(D.g)(),C=Object(j.useSelector)((function(e){return e.chat.channelDrafts})),T=Object(j.useSelector)((function(e){return e.chat.fetch})),y=T.skip,w=T.fetching,k=T.hasMore,N=function(){w||!k||d||(u(!0),m.loadMore({skip:y},(function(){return u(!1)})))},R=function(){m.searchArchivedChannels(!h)},x=function(e){if(document.body.classList.add("m-chat-channel-closed"),null!==o&&!_){var t=document.getElementById("component-chat-thread");t&&m.saveHistoricalPosition(o.id,t)}m.select(Object(O.a)(Object(O.a)({},e),{},{selected:!0})),g.push("/chat/".concat(e.code))};return v.a.createElement(mi,{className:"chat-lists ".concat(n)},f.length>0&&v.a.createElement(ui,{channels:f,onSelectChannel:x}),v.a.createElement(pi,{className:"list-group list-group-flush"},b.map((function(e,t,n){var r="",c=!1;if(0!==t){var s=n[t-1],l=e;"PERSONAL_BOT"===s.type&&"PERSONAL_BOT"!==l.type?r=(l.is_relevant,i.chats):s.is_relevant&&!l.is_relevant?s.add_user||s.add_open_topic||!l.add_user&&!l.add_open_topic||(r=i.contacts):s.is_relevant||l.is_relevant||s.add_user||s.add_open_topic||!l.add_user&&!l.add_open_topic||(r=i.contacts)}else"PERSONAL_BOT"===e.type?r=i.personalBot:e.is_relevant&&e.add_user?r=i.chats:e.add_user||e.add_open_topic?r=i.contacts:(r=i.chats,c=!0);return v.a.createElement(v.a.Fragment,{key:e.id},""!==a&&""!==r&&v.a.createElement(fi,null,v.a.createElement(bi,null,r," "),c&&v.a.createElement(Jr.a,{className:"cursor-pointer text-muted",checked:h,type:"switch",id:"show_archive",name:"show archive",onChange:R,label:v.a.createElement("span",null,i.showArchived)})),v.a.createElement(Kr,{channel:e,selectedChannel:o,channelDrafts:C,dictionary:i,search:a,addLoadRef:""===a&&t>b.length-5,onLoadMore:N,onSelectChannel:x}))})),!0===r&&0===b.length?v.a.createElement("li",null,v.a.createElement("h4",null,i.nothingToSeeHere)):0===b.length&&""!==a&&v.a.createElement("li",null,v.a.createElement("h4",null,i.noMatchingChats))))},_i=C.a.div(ri||(ri=Object(g.a)(["\n  // overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 991.99px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n  // .tab-panel {\n  //   overflow-x: hidden;\n  // }\n  .tab-content,\n  .tab-panel {\n    display: flex;\n    height: 100%;\n  }\n  .tab-content {\n    flex-flow: column;\n  }\n  .badge-filter {\n    width: 130px;\n  }\n"]))),Oi=function(e){var t=e.className,n=void 0===t?"":t,a=e.pill,r=void 0===a?"pills-home":a,i=e.search,c=e.dictionary,o=e.resetFilter;return v.a.createElement(_i,{className:"chat-sidebar-content ".concat(n),tabIndex:"1"},v.a.createElement("div",{className:"tab-content pt-2",id:"pills-tabContent"},"pills-workspace"===r&&v.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:o},v.a.createElement(L.s,{className:"mr-1",icon:"x",width:11,height:11,onClick:o})," Workspace chats"),"pills-home"===r&&v.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===r&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},v.a.createElement(hi,{search:i,workspace:null,dictionary:c})),"pills-workspace"===r&&v.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===r&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},v.a.createElement(hi,{search:i,workspace:!0,dictionary:c}))))},Ei=n(104),gi=C.a.div(ii||(ii=Object(g.a)(['\n  z-index: 2;\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: #7a1b8b;\n            color: #ffffff;\n            border-color: #7a1b8b;\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    background: rgb(222, 226, 230);\n    .dark & {\n      background: #333539;\n    }\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n']))),Ai=Object(C.a)(Ei.a)(ci||(ci=Object(g.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]))),vi=Object(C.a)(ue.c)(oi||(oi=Object(g.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n"]))),ji=function(e){var t=e.className,n=void 0===t?"":t,a=Object(D.i)(),r=Object(j.useDispatch)(),i=Object(j.useSelector)((function(e){return e.chat.searchArchivedChannels})),c=Object(S.S)(),o=c.chatSettings,s=c.setChatSetting,l=Object(S.a)(),d=Object(j.useSelector)((function(e){return e.chat.chatSidebarSearch}));Object(S.C)();var u=Object(j.useSelector)((function(e){return e.chat.searchingChannels})),m=Object(A.useState)(""),p=Object(E.a)(m,2),f=p[0],b=p[1],h=Object(A.useState)(""),_=Object(E.a)(h,2),g=_[0],C=_[1],y=Object(A.useState)(o.chat_filter),w=Object(E.a)(y,2),k=w[0],N=w[1],R={container:Object(A.useRef)(null),navTab:Object(A.useRef)(null)};Object(A.useEffect)((function(){var e=setTimeout((function(){if(l.setSidebarSearch({value:g,searching:""!==g.trim()}),""!==g.trim()){var e={search:g,skip:0,limit:25};i&&(e=Object(O.a)(Object(O.a)({},e),{},{filter:"archived"})),l.search(e)}}),300);return function(){return clearTimeout(e)}}),[g,i]);var x=function(){b(""),C("")},I=function(){N("pills-home")},P=function(e){k===e.target.getAttribute("aria-controls")?I():N(e.target.getAttribute("aria-controls"))},F=Object(S.bb)()._t,M={chats:F("CHAT.CHATS","Chats"),contacts:F("CHAT.CONTACTS","Contacts"),workspaceChats:F("CHAT.WORKSPACE_CHATS","Workspace chats"),recentChats:F("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:F("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:F("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:F("CHAT.RECENT","Recent"),favorite:F("CHAT.FAVORITE","Favorite"),hidden:F("CHAT.HIDDEN","Hidden"),pinned:F("CHAT.PINNED","Pinned"),startNew:F("CHAT.START_NEW","Start new"),viewOpenWorkspace:F("CHAT.VIEW_OPEN_WORKSPACE","View open workspace"),archived:F("CHAT.ARCHIVED","Archived"),nothingToSeeHere:F("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:F("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:F("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:F("CHAT.PERSONAL_BOT","Personal bot"),you:F("CHAT.PREVIEW_AUTHOR_YOU","You"),showArchived:F("CHAT.SHOW_ARCHIVED","Show archived"),withTeam:F("CHANNEL.WITH_TEAM","Team Chat"),withClient:F("CHANNEL.WITH_CLIENT","Client Chat")};return Object(A.useEffect)((function(){o.chat_filter!==k&&s({chat_filter:k})}),[o.chat_filter,k]),Object(A.useEffect)((function(){""===d?x():b(d)}),[d]),Object(A.useEffect)((function(){a.messageId&&document.body.classList.add("m-chat-channel-closed")}),[]),v.a.createElement(gi,{ref:R.container,className:"chat-sidebar ".concat(n)},v.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start align-items-center"},v.a.createElement(Ai,{onChange:function(e){C(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&x()},value:g,onClickEmpty:x,closeButton:"true",searching:u,className:"chat-search",placeholder:M.searchChatPlaceholder}),v.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2",style:{height:"38px"}},v.a.createElement(vi,{ref:R.navTab,role:"tabList"},v.a.createElement("div",{className:"option-filter ".concat("pills-home"===k?"active":""),onClick:P,"aria-controls":"pills-home","aria-selected":"false"},M.chats),v.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===k?"active":""),onClick:P,"aria-controls":"pills-workspace","aria-selected":"false"},M.workspaceChats),v.a.createElement("div",{className:"d-flex",onClick:function(){r(Object(T.a)({type:"chat_create_edit",mode:"new"}))}},v.a.createElement(L.s,{className:"mr-2",width:14,height:14,icon:"plus"})," ",M.newGroupChat)))),v.a.createElement(Oi,{pill:k,search:f,dictionary:M,resetFilter:I}))};function Ci(){var e=Object(g.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    min-width: ",";\n    .btn-meet,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"]);return Ci=function(){return e},e}function Ti(){var e=Object(g.a)(["\n  width: 40px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n"]);return Ti=function(){return e},e}var yi,Si,wi,ki=C.a.div(Ti()),Ni=C.a.div(Ci(),(function(e){return e.editMode&&!e.clientChat?"160px":e.editMode&&e.clientChat?"120px":!e.editMode&&e.clientChat?"80px":"120px"}),(function(e){return e.clientChat&&e.showButtons&&e.editMode?"120px":e.clientChat&&e.showButtons&&!e.editMode?"90px":e.showButtons&&e.editMode?"150px":e.showButtons?"120px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),Ri=function(e){var t=e.channel,n=e.showEmojiPicker,a=e.handleShowEmojiPicker,r=e.handleGoogleMeet,i=e.onShowFileDialog,c=e.editChatMessage,o=e.quote,s=Object(j.useDispatch)(),l=Object(j.useSelector)((function(e){return e.workspaces.workspaces})),d=Object(A.useState)(!1),u=Object(E.a)(d,2),m=u[0],p=u[1],f=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},b=t&&l[t.entity_id]&&l[t.entity_id].is_shared&&l[t.entity_id].channel.id===t.id;return v.a.createElement(Ni,{editMode:null!==c,showButtons:m,clientChat:b},c&&v.a.createElement(ki,null,v.a.createElement(Kn.a,{arrowSize:5,distance:10,onToggle:f,content:"Close edit"},v.a.createElement(L.s,{className:"close-button",icon:"x",onClick:function(){o&&s(Object(Jn.n)(o)),null!==c&&s(Object(Jn.Gb)(null))}}))),v.a.createElement(ki,{className:"btn-smile"},v.a.createElement(Kn.a,{arrowSize:5,distance:10,onToggle:f,content:"Emoji"},v.a.createElement(L.s,{className:"".concat(n?"active":""),onClick:a,icon:"smile"}))),!b&&v.a.createElement(ki,{className:"btn-meet"},v.a.createElement(Kn.a,{arrowSize:5,distance:10,onToggle:f,content:"Google meet"},v.a.createElement(L.s,{onClick:r,icon:"meet"}))),v.a.createElement(ki,{className:"btn-paperclip"},v.a.createElement(Kn.a,{arrowSize:5,distance:10,onToggle:f,content:"Attach file"},v.a.createElement(L.s,{onClick:i,icon:"paperclip"}))),v.a.createElement(ki,{className:"chat-buttons"},v.a.createElement(L.s,{onClick:function(){p((function(e){return!e}))},icon:m?"x":"more-vertical"})))},xi=n(11),Ii=(C.a.div(yi||(yi=Object(g.a)(["\n  font-size: 13px;\n  font-weight: 600;\n  .card {\n    overflow: visible;\n  }\n  .custom-switch {\n    input {\n      cursor: pointer;\n    }\n  }\n"]))),C.a.span(Si||(Si=Object(g.a)(["\n  font-weight: 600;\n  cursor: pointer;\n"]))),C.a.div(wi||(wi=Object(g.a)([""])))),Pi=function(e){e.className;var t=e.selectedChannel,n=e.chatMessageActions,a=e.translated_channels,r=(Object(D.g)(),Object(j.useDispatch)()),i=Object(S.X)(),c=Object(S.S)().setGeneralSetting,o=Object(S.bb)(),s=o._t,l=(o.setLocale,o.uploadTranslationToServer,{chatTranslateOn:s("SETTINGS.CHAT_TRANSLATE_TITLE_ON","Turn ON chat translate."),chatTranslateOff:s("SETTINGS.CHAT_TRANSLATE_TITLE_OFF","Turn OFF chat translate."),chatTranslateIsOn:s("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned ON chat translate."),chatTranslateIsOff:s("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned OFF chat translate")}),d=!!(a.length>0&&a.includes(t.id)),u=Object(A.useCallback)((function(e){e.persist();var r=!d||!t.is_translate;n.saveChannelTranslateState(Object(O.a)(Object(O.a)({},t),{},{is_translate:r})),m(Object(O.a)(Object(O.a)({},t),{},{is_translate:r}));var o=t.id;c(r?{translated_channels:[].concat(Object(xi.a)(a),[o])}:{translated_channels:a.filter((function(e){return e!==o}))}),i.success(v.a.createElement("span",null,r?l.chatTranslateIsOn:l.chatTranslateIsOff))})),m=Object(A.useCallback)((function(e){r(Object(Zn.Q)(e,(function(){var t=Object(O.a)({},e);r(Object(Zn.S)(t))})))}));return v.a.createElement(Ii,{onClick:u},d?l.chatTranslateOff:l.chatTranslateOn)}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(2),r=n(4),i=n.n(r),c=n(0),o=n.n(c),s=n(3),l=n(79);function d(){var e=Object(a.a)(["\n  justify-content: center;\n"]);return d=function(){return e},e}var u=s.a.span(d()),m=Object(c.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"":n,r=e.rotate,i=void 0===r?"":r,c=e.iconPosition,s=void 0===c?"left":c,d=e.children,m=e.href,p=e.icon,f=e.clickHandler,b=e.onClick,h=e.iconLeft,_=e.iconRight,O=e.iconLeftRotate,E=e.iconRightRotate,g=e.iconLeftOnClick,A=e.iconRightOnClick,v=e.iconRightDataSet,j=e.iconLeftDataSet,C=e.dataSet,T=e.target,y=void 0===T?null:T,S=e.dataTip,w=void 0===S?"":S,k=e.style,N=void 0===k?null:k,R=function(e){e.stopPropagation(),e.preventDefault(),m&&(f?f(m):window.open(e.target.href,"_blank")),b&&(C?b(e,C):b(e))};return o.a.createElement(u,{ref:t,style:N,className:"img-lnk component-image-text-link ".concat(a),onClick:function(e){return function(e){R(e)}(e)},"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":w},h&&o.a.createElement(l.b,{className:"svg-icon-left",onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),g?j?g(e,j):g(e):R(e)}(e)},icon:h,rotate:O,dataSet:j}),o.a.createElement("a",{target:y,href:m,onClick:function(e){return R(e)}},("right"===s||"both"===s)&&p&&o.a.createElement(l.b,{className:"svg-icon-right",icon:p,rotate:i}),d,("left"===s||"both"===s)&&p&&o.a.createElement(l.b,{className:"svg-icon-left",icon:p,rotate:i})),_&&o.a.createElement(l.b,{className:"svg-icon-right",onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),A?v?A(e,v):A(e):R(e)}(e)},icon:_,rotate:E,dataSet:v}))}));i.a.string,i.a.func,i.a.number,i.a.oneOfType,i.a.object;t.a=m},function(e,t,n){"use strict";var a=n(1),r=n(27),i=n(0),c=n(9),o=n(5),s=n(32),l=n(39),d=["actions","loggedUser"],u=!0;t.a=function(){var e=Object(c.b)(),t=e.channels,n=e.actions,m=Object(c.gb)(),p=m.actions,f=m.loggedUser,b=Object(r.a)(m,d),h=Object.values(t).filter((function(e){return e.add_user})),_=Object(o.useSelector)((function(e){return e.global.recipients})),O=Object(i.useRef)(null),E=Object(l.g)(),g=Object(l.j)();return Object(i.useEffect)((function(){u&&(u=!1)}),[]),Object(a.a)(Object(a.a)(Object(a.a)({},Object(c.b)()),b),{},{loggedUser:f,userActions:p,userChannels:h,selectUserChannel:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=h.find((function(t){return t.profile.id===e.id}));if(r)n.createByUserChannel(r,a);else{var i=Object.values(t).find((function(t){return t.profile&&t.profile.id===e.id&&"DIRECT"===t.type}));if(i)n.select(i),E.push("/chat/".concat(i.code)),a&&a(i);else{var c=function(e,t){O.current=null,e||(t.data.channel_code&&n.fetchSelectChannel(t.data.channel_code),t.data&&a&&a({id:t.data.channel_id,code:t.data.channel_code}))},o=[e.id,f.id],l=_.filter((function(e){return"USER"===e.type&&o.some((function(t){return e.type_id===t}))}));(l=Object(s.c)(l,"type_id")).length&&2===l.length&&!O.current&&(O.current=!0,n.searchExisting("",l.map((function(e){return e.id})),c))}}},history:E,match:g})}},function(e,t,n){"use strict";var a=n(1),r=n(0),i=n.n(r),c=n(5),o=n(21),s=n(19),l=n(13),d=n(9);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(c.useDispatch)(),n=Object(d.X)(),u=Object(r.useRef)(""),m=Object(d.cb)(),p=m._t,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"trashed"===e?i.a.createElement("i",{class:"fa fa-exclamation-triangle text-danger"}):e.includes("image")?i.a.createElement("i",{className:"fa fa-file-image-o text-instagram"}):e.includes("audio")?i.a.createElement("i",{className:"fa fa-file-audio-o text-dark"}):e.includes("video")?i.a.createElement("i",{className:"fa fa-file-video-o text-google"}):e.includes("pdf")?i.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"}):e.includes("zip")||e.includes("archive")||e.includes("x-rar")?i.a.createElement("i",{className:"fa fa-file-zip-o text-primary"}):e.includes("excel")||e.includes("spreadsheet")||e.includes("csv")||e.includes("numbers")||e.includes("xml")?i.a.createElement("i",{className:"fa fa-file-excel-o text-success"}):e.includes("powerpoint")||e.includes("presentation")?i.a.createElement("i",{className:"fa fa-file-powerpoint-o text-secondary"}):e.includes("word")||e.includes("document")?i.a.createElement("i",{className:"fa fa-file-word-o text-info"}):e.includes("script")?i.a.createElement("i",{className:"fa fa-file-code-o"}):i.a.createElement("i",{className:"fa fa-file-text-o text-warning"}):i.a.createElement("i",{className:"fa fa-file-text-o text-warning"})},b={buttonCancel:p("BUTTON.CANCEL","Cancel"),buttonRemove:p("BUTTON.REMOVE","Remove"),removeHeaderFolder:p("FILES.REMOVE_HEADER","Remove folder for everyone?"),removeBodyFolder:p("FILES.REMOVE_BODY","This folder will be moved to the recycle bin and will be permanently removed after thirty (30) days."),removeConfirmation:p("FILES.REMOVE_HEADER","This folder will be removed permanently.")},h=function(e,n){t(Object(s.v)(e,n))},_=function(e,n){t(Object(s.u)(e,n))},O=function(e,n){t(Object(s.w)(e,n))},E=function(e,n){t(Object(s.x)(e,n))},g=function(e,n){t(Object(s.y)(e,n))},A=function(e,n){t(Object(s.B)(e,n))},v=function(e,n){t(Object(s.C)(e,n))},j=function(e,n){t(Object(s.D)(e,n))},C=function(e,n){t(Object(s.Db)(e,n))},T=function(e,n){t(Object(s.Fb)(e,n))},y=function(e,n){t(Object(s.Eb)(e,n))},S=function(e,n){t(Object(s.Cb)(e,n))},w=function(e,n){t(Object(s.Jb)(e,n))},k=function(e,n){t(Object(s.Kb)(e,n))},N=function(e,n){t(Object(s.i)(e,n))},R=function(e,n){t(Object(s.H)(e,n))},x=function(e,n){t(Object(s.O)({topic_id:e},n))},I=function(e,n){t(Object(s.L)({workspace_id:e},n))},P=function(e,n){t(Object(s.M)({workspace_id:e},n))},D=function(e,n){t(Object(s.A)({},n))},L=function(e,n){t(Object(s.z)({workspace_id:e},n))},F=function(e,n){t(Object(s.I)({topic_id:e},n))},M=function(e,n){t(Object(s.N)({topic_id:e},n))},U=function(e,n){t(Object(s.P)({topic_id:e},n))},G=function(e,n){t(Object(s.Q)({topic_id:e},n))},H=function(e,n){t(Object(s.d)(e,n))},B=function(e,n){t(Object(s.J)(e,n))},W=function(e,n){t(Object(s.K)(e,n))},Y=function(e,n){t(Object(s.Ob)(e,n))},z=function(e,n){t(Object(s.ac)(e,n))},V=function(e,n,a){t(Object(s.Gb)({link_id:e,link_type:"topic",attachment_type:"folder"===n.type?"FOLDER":"FILE",payload:n},a))},Q=function(e,n){t(Object(s.Gb)({link_type:"company_drive",attachment_type:"folder"===e.type?"FOLDER":"FILE",payload:e},n))},q=function(e,n,r){var i={type:"confirmation",headerText:b.removeHeaderFolder,submitText:b.buttonRemove,cancelText:b.buttonCancel,bodyText:b.removeBodyFolder,actions:{onSubmit:function(){var i={id:e.id,topic_id:n};e.is_archived&&(i=Object(a.a)(Object(a.a)({},i),{},{force_delete:1})),t(Object(s.l)(i,r))}}};e.is_archived&&(i=Object(a.a)(Object(a.a)({},i),{},{bodyText:b.removeConfirmation})),t(Object(l.a)(i))},K=function(e,n){var r={type:"confirmation",headerText:"Remove folder for everyone?",submitText:"Remove",cancelText:"Cancel",bodyText:"This folder will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:function(){var r={id:e.id};e.is_archived&&(r=Object(a.a)(Object(a.a)({},r),{},{force_delete:1})),t(Object(s.i)(r,n))}}};e.is_archived&&(r=Object(a.a)(Object(a.a)({},r),{},{bodyText:"This folder will be removed permanently."})),t(Object(l.a)(r))},J=function(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=function(){var c={file_id:r.id,link_id:r.link_id,link_type:r.link_type,topic_id:e.workspaceId};i&&(c=Object(a.a)(Object(a.a)({},c),{},{force_delete:1})),t(Object(s.j)(c,(function(e,t){n.info("You have removed ".concat(r.search,"."))})))},o={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"This file will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:c}};t(Object(l.a)(o))},Z=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force_delete:!1},c=function(){var c={file_id:e.id,link_id:e.link_id,link_type:e.link_type};i.force_delete&&(c=Object(a.a)(Object(a.a)({},c),{},{force_delete:1})),t(Object(s.h)(c,(function(t,a){n.info("You have removed ".concat(e.search,".")),r(t,a)})))},o={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"This file will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:c}};t(Object(l.a)(o))},X=function(a,r){var c=a.search.split(".").slice(0,-1).join(".");""===c&&(c=a.search),u.current=c;var o={type:"single_input",preInputLabel:"Renaming the file will update the filename for everyone.",label:"Filename",defaultValue:c,title:"Rename file",labelPrimaryAction:"Rename file",onPrimaryAction:function(){t(Object(s.Nb)({id:a.id,name:u.current,topic_id:e.workspaceId},(function(e,t){e&&n.error(i.a.createElement("span",null,"System failed to rename the ",i.a.createElement("b",null,a.search)," to ",u.current,".")),t&&n.success(i.a.createElement("span",null,"You renamed ",i.a.createElement("b",null,a.search)," to ",u.current,".")),r(e,t)})))},onChange:function(e){u.current=e.target.value.trim()},onClose:function(){u.current=""}};t(Object(l.a)(o))},$=function(e,a){var r=e.search.split(".").slice(0,-1).join(".");""===r&&(r=e.search),u.current=r;var c={type:"single_input",defaultValue:r,title:"Update filename",preInputLabel:"Renaming the file will update the filename for everyone.",label:"Filename",labelPrimaryAction:"Rename file",onPrimaryAction:function(){var t=u.current,r=e.search.split(".");r.length>=2&&(t="".concat(t,".").concat(r.pop())),w({id:e.id,name:t},(function(t,r){t&&n.error(i.a.createElement("span",null,"System failed to rename the ",i.a.createElement("b",null,e.search)," to ",u.current,".")),r&&n.success(i.a.createElement("span",null,"You renamed ",i.a.createElement("b",null,e.search)," to ",u.current,".")),a(t,r)}))},onChange:function(e){u.current=e.target.value.trim()},onClose:function(){u.current=""}};t(Object(l.a)(c))},ee=function(r,c){t(Object(s.r)({type_id:r.id,type:"file"},(function(c,o){if(c)n.error(i.a.createElement("div",null,"System failed to mark the file ",i.a.createElement("b",null,r.search)," ",r.is_favorite?"unfavorite":"as favorite"));else if(o){var l={file_id:r.id,topic_id:e.workspaceId,is_favorite:!r.is_favorite};e.hasOwnProperty("fileFolderId")&&(l=Object(a.a)(Object(a.a)({},l),{},{folder_id:e.fileFolderId})),t(Object(s.e)(l,(function(){n.success(i.a.createElement(i.a.Fragment,null,"You have marked ",i.a.createElement("b",null,r.search)," ",r.is_favorite?"as favorite":"unfavorite"))})))}})))},te=function(e,n){t(Object(s.G)({topic_id:e},n))},ne=function(n,a){if(n.hasOwnProperty("payload_id")){var r=document.createElement("a");r.href=n.download_link.replace("/preview","/view"),r.target="_blank",r.click()}else{var i={workspace_id:e.workspaceId,file_id:n.id};t(Object(s.Wb)(i,a))}},ae=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;if(e.hasOwnProperty("payload_id")){var r=document.createElement("a");r.href=e.download_link.replace("/preview","/view"),r.target="_blank",r.click()}else{var i={file_id:e.id,files:Object.values(n)};t(Object(s.Wb)(i,a))}},re=function(n){var r={topic_id:e.workspaceId,search:n};t(Object(s.H)(r,(function(e,n){e||t(Object(s.b)(Object(a.a)(Object(a.a)({},r),{},{search_results:n.data.files})))})))},ie=function(e){var n={search:e};h(n,(function(e,r){e||t(Object(s.a)(Object(a.a)(Object(a.a)({},n),{},{search_results:r.data.files})))}))},ce=function(){var n={topic_id:e.workspaceId};t(Object(s.f)(n))},oe=function(e){Object(o.b)(n,e)},se=function(){var n={type:"confirmation",headerText:"Empty trash",submitText:"Empty",cancelText:"Cancel",bodyText:"Are you sure you want to empty the trash?",actions:{onSubmit:function(){t(Object(s.o)({topic_id:e.workspaceId}))}}};t(Object(l.a)(n))},le=function(){var e={type:"confirmation",headerText:"Empty trash",submitText:"Empty",cancelText:"Cancel",bodyText:"Are you sure you want to empty the trash?",actions:{onSubmit:function(){t(Object(s.g)({}))}}};t(Object(l.a)(e))},de=function(n){var r={type:"move_files",file:n,topic_id:e.workspaceId,folder_id:null};e.hasOwnProperty("fileFolderId")&&(r=Object(a.a)(Object(a.a)({},r),{},{folder_id:e.fileFolderId})),t(Object(l.a)(r))},ue=function(r){var c={type:"move_company_files",dictionary:{headerText:"Move files",submitText:"Move",cancelText:"Cancel",bodyText:r.search},file:r,folder_id:null,actions:{onSubmit:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t(Object(s.Ib)(e,(function(e,t){e&&n.error(i.a.createElement("div",null,"Failed to move ",i.a.createElement("b",null,r.search)," to folder ",i.a.createElement("strong",null,c.selectedFolder))),t&&n.success(i.a.createElement("div",null,i.a.createElement("strong",null,r.search)," has been moved to folder ",i.a.createElement("strong",null,c.selectedFolder))),a(e,t)})))}}};e.hasOwnProperty("folderId")&&(c=Object(a.a)(Object(a.a)({},c),{},{folder_id:e.folderId})),t(Object(l.a)(c))},me=function(e){var n={type:"confirmation",headerText:"Download file",submitText:"Download",cancelText:"Cancel",bodyText:"Download ".concat(e.search,"?"),actions:{onSubmit:function(){if(e.hasOwnProperty("payload_id")){var t=document.createElement("a");t.href="https://drive.google.com/u/0/uc?export=download&id=".concat(e.payload_id),t.target="_blank",t.click()}else{var n=document.createElement("a");n.href=e.download_link,n.target="_blank",n.click()}}}};t(Object(l.a)(n))},pe=function(e){return e?e<1e6?{size:e/1e3,unit:"KB"}:e<1e9?{size:e/1e6,unit:"MB"}:e<1e12?{size:e/1e9,unit:"GB"}:void 0:{size:0,unit:"KB"}},fe=function(e){t(Object(s.Yb)(e))},be=function(e){t(Object(s.Xb)(e))},he=function(e){var a={type:"confirmation",headerText:"Remove Google attachment",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this file?",actions:{onSubmit:function(){var a={link_id:e.link_id,link_type:"topic_drive",attachment_type:e.attachment_type,attachment_id:e.id,payload:{id:e.payload_id,name:e.search,mime_type:e.mime_type}};t(Object(s.m)(a,(function(t,a){n.info("You have removed ".concat(e.search,"."))})))}}};t(Object(l.a)(a))},_e=function(e){var a={type:"confirmation",headerText:"Remove Google folder",cancelText:"Cancel",submitText:"Remove",bodyText:"Are you sure you want to remove this folder?",actions:{onSubmit:function(){var a={link_id:e.link_id,link_type:"topic_drive",attachment_type:e.attachment_type,attachment_id:e.id,payload:{id:e.payload_id,name:e.search,mime_type:e.mime_type}};t(Object(s.m)(a,(function(t,a){n.info("You have removed ".concat(e.search,"."))})))}}};t(Object(l.a)(a))},Oe=function(e){t(Object(s.Rb)(e))},Ee=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Object(s.Pb)(Object(a.a)(Object(a.a)({},n),{},{topic_id:e.workspaceId}),r))},ge=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{notification:!0};t(Object(s.Lb)(e,(function(t,i){i&&r.notification&&n.success("Item ".concat(e.search," is restored.")),a(t,i)})))},Ae=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Object(s.Qb)(Object(a.a)(Object(a.a)({},n),{},{topic_id:e.workspaceId,folder_id:n.id}),r))},ve=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Object(s.Mb)(Object(a.a)(Object(a.a)({},e),{},{folder_id:e.id}),n))},je=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Object(s.pb)(e,n))},Ce=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Object(s.lb)(e,n))},Te=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Object(s.mb)(e,n))},ye=function(e,n){t(Object(s.F)(e,n))},Se=function(e,n){t(Object(s.s)(e,n))},we=function(e,n){t(Object(s.t)(e,n))},ke=function(e,n){t(Object(s.E)(e,n))};return{addGoogleDriveFile:Oe,clearSearch:ce,copyLink:oe,createFolder:H,download:me,favorite:ee,getFavoriteFiles:te,getFileIcon:f,getFiles:R,getFilesDetail:F,getFolders:B,getFoldersBreadcrumb:W,getPopularFiles:M,getEditedFiles:U,getTrashFiles:G,moveFile:de,removeFile:J,removeFolder:q,removeTrashFiles:se,renameFile:X,search:re,updateFolder:Y,uploadFiles:z,viewFiles:ne,viewCompanyFiles:ae,getFileSizeUnit:pe,getPrimaryFiles:x,getGoogleDriveFiles:I,getGoogleDriveFolders:P,unlinkGoogleAttachment:he,unlinkGoogleFolder:_e,uploadWorkspaceGoogleDriveFile:V,uploadCompanyGoogleDriveFile:Q,uploadingFiles:fe,fetchCompanyFiles:h,fetchCompanyFavoriteFiles:_,fetchCompanyFilesDetail:O,fetchCompanyFolderBreadCrumbs:E,fetchCompanyFolders:g,fetchCompanyPopularFiles:A,fetchCompanyRecentEditedFiles:v,fetchCompanyTrashedFiles:j,createCompanyFolders:C,renameCompanyFile:$,moveCompanyFile:ue,uploadingCompanyFiles:be,uploadCompanyFiles:T,uploadCompanyBulkFiles:y,viewCompanyFile:S,updateCompanyFiles:w,updateCompanyFolders:k,removeCompanyFile:Z,removeAllCompanyTrashFiles:le,removeCompanyFolder:K,deleteCompanyFolder:N,searchCompany:ie,restoreWorkspaceFile:Ee,restoreCompanyFile:ge,restoreWorkspaceFolder:Ae,restoreCompanyFolder:ve,getCompanyGoogleDriveFolders:D,getCompanyGoogleDriveFiles:L,setGifSrc:je,setFileSrc:Ce,setFileThumbnailSrc:Te,fetchTeamChatFiles:ye,fetchClientChatFiles:Se,fetchClientPostFiles:we,fetchPrivatePostFiles:ke}}},,,function(e,t,n){"use strict";var a,r,i,c,o=n(1),s=n(11),l=n(6),d=n(2),u=n(0),m=n.n(u),p=n(5),f=n(3),b=n(120),h=n(9),_=n(92),O=n(17),E=f.a.div(a||(a=Object(d.a)([""]))),g=Object(f.a)(_.a)(r||(r=Object(d.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    @media (min-width: 768px) {\n      max-height: 370px;\n    }\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n\n    &:focus {\n      border: none;\n    }\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    "," .mention {\n      color: #7a1b8b;\n    }\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"])),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"})),A=f.a.div(i||(i=Object(d.a)(["\n  padding: 5px;\n  font-size: 0.8rem;\n  > span {\n    cursor: pointer;\n  }\n  span.active {\n    text-decoration: underline;\n  }\n"]))),v=f.a.span(c||(c=Object(d.a)(["\n  position: absolute;\n  top: 105%;\n  font-size: 0.8rem;\n"]))),j=Object(u.forwardRef)((function(e,t){var a=e.selectedEmoji,r=e.onClearEmoji,i=e.selectedGif,c=e.onClearGif,d=e.dropAction,f=e.sent,_=e.handleClearSent,j=e.post,C=e.parentId,T=e.commentActions,y=e.userMention,S=e.handleClearUserMention,w=e.commentId,k=e.members,N=e.workspace,R=e.onClosePicker,x=e.onActive,I=e.prioMentionIds,P=e.approvers,D=e.onClearApprovers,L=e.onSubmitCallback,F=void 0===L?function(){}:L,M=e.mainInput,U=(e.readOnly,e.onToggleCommentType),G=e.commentType,H=e.imageLoading,B=void 0===H?null:H,W=e.setImageLoading,Y=void 0===W?null:W,z=Object(p.useDispatch)(),V=Object(u.useRef)(),Q=Object(p.useSelector)((function(e){return e.session.user})),q=Object(p.useSelector)((function(e){return e.workspaces.workspaces})),K=Object(p.useSelector)((function(e){return e.posts.editPostComment})),J=Object(p.useSelector)((function(e){return e.global.recipients})),Z=Object(p.useSelector)((function(e){return e.users.users})),X=Object(u.useState)(""),$=Object(l.a)(X,2),ee=$[0],te=$[1],ne=Object(u.useState)(""),ae=Object(l.a)(ne,2),re=ae[0],ie=ae[1],ce=Object(u.useState)([]),oe=Object(l.a)(ce,2),se=oe[0],le=oe[1],de=Object(u.useState)([]),ue=Object(l.a)(de,2),me=ue[0],pe=ue[1],fe=Object(u.useState)([]),be=Object(l.a)(fe,2),he=be[0],_e=be[1],Oe=Object(u.useState)(!1),Ee=Object(l.a)(Oe,2),ge=Ee[0],Ae=Ee[1],ve=Object(u.useState)(null),je=Object(l.a)(ve,2),Ce=je[0],Te=je[1],ye=Object(u.useState)(null),Se=Object(l.a)(ye,2),we=Se[0],ke=Se[1],Ne=Object(u.useState)([]),Re=Object(l.a)(Ne,2),xe=Re[0],Ie=Re[1],Pe=Object(h.g)(K&&j&&K.post_id===j.id&&K.quote?K.quote.id:w),De=Object(l.a)(Pe,1)[0],Le=Object(u.useState)([]),Fe=Object(l.a)(Le,2),Me=Fe[0],Ue=Fe[1],Ge=Object(u.useState)({}),He=Object(l.a)(Ge,2),Be=He[0],We=He[1],Ye=Object(h.cb)()._t,ze={savingDraftLabel:Ye("DRAFT.SAVING_DRAFT","Saving draft..."),draftSavedLabel:Ye("DRAFT.SAVED","Draft saved"),addInternalNote:Ye("POST_COMMENT.ADD_INTERNAL_NOTE","Add internal note"),replyToCustomer:Ye("POST_COMMENT.REPLY_TO_CUSTOMER","Reply to customer")},Ve=Object(h.f)((function(e){e?(V.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.data.text),ke(e.id),te(e.data.text)):ke(null)}),"comment",ee,re,we,w,j.id,C,ke),Qe=Ve.removeDraft,qe=Ve.savingDraft,Ke=Ve.draftSaved,Je=j.recipients.filter((function(e){return"DEPARTMENT"===e.type})).length>0,Ze=function(){if(!B){var t=Math.floor(Date.now()/1e3),a=[],r=!1,i=n(64).generate(),c=j.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat();if(se.ops&&se.ops.length>0){var l=se.ops.filter((function(e){return e.insert.mention})).filter((function(e){return"internal"===e.insert.mention.type||"external"===e.insert.mention.type})).map((function(e){return Number(e.insert.mention.type_id)}));(a=Object(s.a)(new Set(l))).includes(NaN)&&(a=c.length?Object(s.a)(new Set([].concat(Object(s.a)(a.filter((function(e){return!isNaN(e)}))),Object(s.a)(c)))):a.filter((function(e){return!isNaN(e)}))),se.ops.forEach((function(e){e.insert.image&&(r=!0)}))}if(""!==re.trim()||0!==a.length||r){var d={post_id:j.id,body:ee,mention_ids:a,file_ids:xe.map((function(e){return e.id})),post_file_ids:[],reference_id:i,personalized_for_id:null,parent_id:C,code_data:{push_title:"".concat(Q.name," replied in ").concat(j.title),post_id:j.id,post_title:j.title},approval_user_ids:P.find((function(e){return"all"===e.value}))?P.find((function(e){return"all"===e.value})).all_ids:P.map((function(e){return e.value})).filter((function(e){return j.author.id!==e})),shared_with_client:!G||"internal"!==G};if(d.quote=De?{id:De.id,body:De.body,user_id:De.author?De.author.id:De.user_id,user:De.author?De.author:De.user,files:De.files}:null,!ge){var u={author:Q,body:ee,clap_count:0,code:t,created_at:{timestamp:t},files:[],files_trashed:[],id:i,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:a,original_body:ee,parent_id:C,personalized_for_id:null,post_id:j.id,quote:De,reference_id:i,ref_quote:De,replies:{},todo_reminder:null,total_replies:0,total_unread_replies:0,updated_at:{timestamp:t},unfurls:[],user_clap_count:0,clap_user_ids:[],users_approval:[]};T.add(u)}ge?(d=Object(o.a)(Object(o.a)({},d),{},{id:Ce.id,parent_id:Ce.parent_id,reference_id:null}),K&&K.users_approval.find((function(e){return null!==e.ip_address&&e.is_approved}))&&delete d.approval_user_ids,T.edit(d),Ae(!1),Te(null)):(e.isApprover&&(d.has_rejected=1),T.create(d,F)),De&&T.clearQuote(w),we&&(Qe(we),ke(null)),Be.hasOwnProperty("post_id")&&z(Object(O.f)(Be,(function(e,t){e||z(Object(O.h)(Be))}))),D(),Xe(),R(),U(null)}}},Xe=function(){ie(""),te(""),le([]),Ie([]),V.current&&V.current.getEditor().setContents([]),null!==K&&z(Object(O.Mb)(null))},$e=function(e){if(e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)})),Ue(e),e.length){var t=j.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),n=J.filter((function(e){return"USER"===e.type&&j.author.id===e.type_id||!("USER"!==e.type||!t.some((function(t){return t===e.type_id})))})).map((function(e){return e.id})),a=j.recipients.map((function(e){return e.id})),r=Object(s.a)(new Set([].concat(Object(s.a)(a),Object(s.a)(n),Object(s.a)(he)))),i=e.filter((function(e){var t=!1;return r.forEach((function(n){n===parseInt(e)&&(t=!0)})),!t}));pe(i.length?i.map((function(e){return parseInt(e)})):[])}else _e([]),pe([])};Object(u.useEffect)((function(){y&&V.current.getEditor().clipboard.dangerouslyPasteHTML(0,y)}),[y]),Object(u.useEffect)((function(){V.current&&V.current.focus();var e=function(e){var t=[];if(e.clipboardData.items.length)for(var n=0;n<e.clipboardData.items.length;n++){var a=e.clipboardData.items[n];"file"===a.kind&&t.push(a.getAsFile(a.type))}t.length&&(d(t),z(Object(O.Nb)(C)))};return document.addEventListener("paste",e,!1),function(){return document.removeEventListener("paste",e,!1)}}),[]),Object(u.useEffect)((function(){var e=function(e){27===e.keyCode&&Xe()};return ge?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[ge]),Object(u.useEffect)((function(){var e;K&&!ge&&null===Ce&&M&&K.post_id===j.id&&(e=K,V.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),te(e.body),Te(e),Ae(!0),e.quote&&T.addQuote(e.quote)),null===K&&ge&&Ce&&et()}),[K]),Object(u.useEffect)((function(){if(a){var e=V.current.getEditor();V.current.focus();var t=e.getSelection().index;e.insertText(t,a.native),e.setSelection(t+2),r()}}),[a]),Object(u.useEffect)((function(){if(i){var e=V.current.getEditor();V.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",i.images.downsized.url),e.setSelection(t+5),c()}}),[i]),Object(u.useEffect)((function(){f&&(Ze(),_())}),[f,G]);var et=function(){Ae(!1),Te(null),Xe(),D()};Object(h.O)(Xe,ee,re,se,P.map((function(e){return e.value})).filter((function(e){return j.author.id!==e}))),Object(h.L)(Xe,V);var tt=Object(h.M)({mode:"post_comment",callback:Ze,removeMention:function(){var e=[];j.hasOwnProperty("to_add")&&(e=j.to_add.filter((function(e){return!Me.includes(e)})));var t={post_id:j.id,topic_id:N.id,remove_recipient_ids:e};z(Object(O.Jb)(t))},mentionOrientation:"top",quillRef:V,members:"external"===Q.type?k.filter((function(e){return e.id!==Q.id})):Object.values(Z).filter((function(e){return e.id!==Q.id&&!!("external"===e.type&&I.some((function(t){return t===e.id}))||"internal"===e.type&&null!==e.role)})),workspaces:q||[],disableMention:!1,setInlineImages:Ie,setImageLoading:Y,prioMentionIds:Object(s.a)(new Set(I)),post:j}).modules,nt=j.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return m.a.createElement(E,{className:"chat-input-wrapper",ref:t},nt&&j.shared_with_client&&"internal"===Q.type&&m.a.createElement(A,null,m.a.createElement("span",{className:G&&"internal"===G?"active":"",onClick:function(){return U("internal")}},ze.addInternalNote)," ","/"," ",m.a.createElement("span",{className:G&&"external"===G?"active":"",onClick:function(){return U("external")}},ze.replyToCustomer)),me.length>0&&!Je&&m.a.createElement(b.a,{onAddUsers:function(e){var t=["USER","WORKSPACE","TOPIC"],n=J.filter((function(e){return t.includes(e.type)})).filter((function(t){return e.some((function(e){return e.id===t.id}))})),a={post_id:j.id,topic_id:N.id,recipient_ids:n.map((function(e){return e.id})),recipients:n},r=j.recipients.map((function(e){return e.id}));We(a),_e([].concat(Object(s.a)(r),Object(s.a)(he),Object(s.a)(e.map((function(e){return e.id}))))),pe([])},onDoNothing:function(e){_e(e.map((function(e){return e.id}))),pe([])},userIds:me}),m.a.createElement(g,{className:"chat-input",modules:tt,ref:V,onChange:function(e,t,n,a){var r=a.getText(e);""===r.trim()&&y&&(S(),We({})),""===r.trim()&&ge&&(Ae(!1),Te(null),We({}),null!==K&&z(Object(O.Mb)(null))),""===r.trim()&&we&&(Qe(we),ke(null)),te(e),ie(r),le(a.getContents());var i=!1,c=!1;a.getContents().ops&&a.getContents().ops.length&&(i=a.getContents().ops.filter((function(e){return e.insert.mention})).length,c=a.getContents().ops.filter((function(e){return e.insert.image})).length,$e(a.getContents().ops.filter((function(e){return!(!e.insert.mention||"external"===e.insert.mention.type)})).map((function(e){return e.insert.mention.id})))),""!==r.trim()||i||c?x(!0):x(!1)},editMode:ge}),(qe||Ke)&&m.a.createElement(v,{className:"text-muted"},Ke?ze.draftSavedLabel:ze.savingDraftLabel))}));t.a=j},function(e,t,n){"use strict";var a,r,i,c=n(1),o=n(11),s=n(6),l=n(2),d=n(0),u=n.n(d),m=n(5),p=n(3),f=n(16),b=n(13),h=n(7),_=n(120),O=n(9),E=n(92),g=n(54),A=n.n(g),v=n(39),j=(n(342),p.a.div(a||(a=Object(l.a)(["\n  margin: 10px;\n  border-radius: 8px;\n  background: #f0f0f0;\n  padding: 10px;\n  display: block;\n  position: relative;\n  .dark & {\n    background: #191c20;\n  }\n  span {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    cursor: pointer;\n  }\n"])))),C=function(e){var t=e.question,n=e.huddle,a=e.isFirstQuestion,r=e.selectedChannel,i=e.user,c=Object(O.cb)()._t,o=Object(O.y)(),s={skip:c("SKIP","skip")};return u.a.createElement(j,null,a&&n.introduction_message&&u.a.createElement("div",null,n.introduction_message),u.a.createElement("div",null,t.question),a&&u.a.createElement("span",{onClick:function(){o.skipHuddle({channel_id:r.id,huddle_id:n.id,body:"HUDDLE_SKIP::".concat(JSON.stringify({huddle_id:n.id,author:{name:i.name,first_name:i.first_name,id:i.id,profile_image_link:i.profile_image_link},user_bot:n.user_bot}))})}},u.a.createElement("i",null,s.skip)))},T=Object(p.a)(E.a)(r||(r=Object(l.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    @media (min-width: 768px) {\n      max-height: 370px;\n    }\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    ",";\n    ","\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-editor.ql-blank::before {\n    ",";\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 1000;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"])),(function(e){return e.showFileIcon&&"padding-left: 30px"}),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"}),(function(e){return e.showFileIcon&&"left: 25px"})),y=Object(p.a)(h.s)(i||(i=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 4px;\n  height: calc(100% - 8px);\n  background: white;\n  border: 1px solid white;\n  border-radius: 4px;\n  width: 20px;\n  // padding: 9px;\n  cursor: pointer;\n  z-index: 9;\n  color: #cacaca;\n  transition: color 0.15s ease-in-out;\n\n  &:hover {\n    color: #7a1b8b;\n  }\n"])));t.a=function(e){var t=e.selectedEmoji,a=e.onClearEmoji,r=e.selectedGif,i=e.onClearGif,l=e.dropAction,p=e.onActive,h=Object(v.g)(),E=Object(m.useDispatch)(),g=Object(d.useRef)(),j=Object(O.W)().localizeDate,S=Object(O.a)(),w=S.setSidebarSearch,k=S.create,N=S.fetchChannelLastReply,R=Object(m.useSelector)((function(e){return e.chat.selectedChannel})),x=Object(m.useSelector)((function(e){return e.global.recipients})),I=Object(m.useSelector)((function(e){return e.session.user})),P=Object(m.useSelector)((function(e){return e.chat.editChatMessage})),D=Object(m.useSelector)((function(e){return e.chat.sendButtonClicked})),L=Object(m.useSelector)((function(e){return e.users.externalUsers})),F=Object(m.useSelector)((function(e){return e.chat.skipIds})),M=Object(m.useSelector)((function(e){return e.users.users})),U=Object(m.useSelector)((function(e){return e.chat.chatSidebarSearch})),G=L.filter((function(e){return 1===e.active})),H=Object(d.useState)(""),B=Object(s.a)(H,2),W=B[0],Y=B[1],z=Object(d.useState)(""),V=Object(s.a)(z,2),Q=V[0],q=V[1],K=Object(d.useState)([]),J=Object(s.a)(K,2),Z=J[0],X=J[1],$=Object(d.useState)([]),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ae=Object(d.useState)([]),re=Object(s.a)(ae,2),ie=re[0],ce=re[1],oe=Object(d.useState)(!1),se=Object(s.a)(oe,2),le=se[0],de=se[1],ue=Object(d.useState)(null),me=Object(s.a)(ue,2),pe=me[0],fe=me[1],be=Object(d.useState)(null),he=Object(s.a)(be,2),_e=he[0],Oe=he[1],Ee=Object(d.useState)(null),ge=Object(s.a)(Ee,2),Ae=ge[0],ve=ge[1],je=Object(O.R)(),Ce=Object(s.a)(je,1)[0],Te=Object(O.X)(),ye=Object(O.x)({selectedChannel:R}),Se=ye.huddle,we=ye.huddleActions,ke=ye.showQuestions,Ne=ye.question,Re=ye.isFirstQuestion,xe=ye.editHuddle;Object(d.useEffect)((function(){xe&&Ne&&Ae!==Ne.answer_id&&Q!==Ne.original_answer&&(g.current.getEditor().clipboard.dangerouslyPasteHTML(0,Ne.original_answer),g.current.getEditor().getText()===Ne.original_answer&&(ve(Ne.answer_id),q(Ne.original_answer)))}),[xe,Ne,Ae,Q]);var Ie=function(){if(!W.includes('<span class="image-uploading">')){if(ke){if(Ne.isLastQuestion){var t=F.find((function(e){return e.channel_id===R.id})),a={huddle_id:Se.id,answers:Se.questions.map((function(e){return{question_id:e.id,question:e.question,answer:e.isLastQuestion?Q:e.answer}})),skip_message_ids:t?[t.id]:[]},r=Se.closing_message?Se.closing_message:"Huddle submitted";if(xe){var i={message_id:xe.huddle_log.message_id,huddle_log_id:xe.huddle_log.id,answers:xe.questions.map((function(e){return{id:e.answer_id,answer:e.isLastQuestion?g.current.getEditor().getText():e.answer}}))};we.updateUnpublishedAnswers(i,(function(e,t){e||we.clearHuddle()}))}else we.createAnswer(a,(function(e,t){e?Te.error("Error huddle"):Te.success(r)}))}return xe?Ne.isLastQuestion||(we.updateAnswer({channel_id:R.id,question_id:Ne.id,answer:g.current.getEditor().getText()}),ve(null)):we.saveAnswer({channel_id:R.id,question_id:Ne.id,answer:Q}),void Pe()}var s=Math.floor(Date.now()/1e3),l=[],d=!1,u=n(64).generate(),m=R.members.map((function(e){return e.id}));if(Z.ops&&Z.ops.length>0){var p=Z.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));(l=Object(o.a)(new Set(p))).includes(NaN)&&(l=m.length?Object(o.a)(new Set([].concat(Object(o.a)(l.filter((function(e){return!isNaN(e)}))),Object(o.a)(m)))):l.filter((function(e){return!isNaN(e)}))),Z.ops.forEach((function(e){e.insert.image&&(d=!0)}))}if(""!==A.a.trim(Q)||0!==l.length||d){var h=document.createElement("div");h.innerHTML=W;for(var _=h.childNodes.length-1;_>=0;_--){if(""!==A.a.trim(h.childNodes[_].innerText)||"<br>"!==h.childNodes[_].innerHTML){h.childNodes[_].innerHTML=A.a.trim(h.childNodes[_].innerHTML);break}h.removeChild(h.childNodes[_])}var O={channel_id:R.id,body:h.innerHTML,mention_ids:"TOPIC"!==R.type?l.filter((function(e){return!G.some((function(t){return t.id===e}))})):l,file_ids:[],reference_id:u,reference_title:"DIRECT"===R.type?"".concat(I.first_name," in a direct message"):R.title,topic_id:R.is_shared?R.entity_id:null,is_shared:R.is_shared?R.entity_id:null};Ce&&(Ce.user?O.quote={id:Ce.id,body:Ce.body,user_id:Ce.user.id,user:Ce.user,files:Ce.files}:O.quote={id:Ce.id,body:Ce.body,user_id:null,user:null,files:Ce.files});var v={message:h.innerHTML,body:h.innerHTML,mention_ids:l,user:I,original_body:W,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:s},updated_at:{timestamp:s},channel_id:R.id,reactions:[],id:u,reference_id:u,quote:Ce?O.quote:null,unfurls:[],g_date:j(s,"YYYY-MM-DD")};if(le||E(Object(f.b)(v)),le){var C=Object(c.a)(Object(c.a)({},O),{},{message_id:pe.id,reply_id:pe.id});Ce&&(O.quote=Ce),E(Object(f.pb)(C)),de(!1),fe(null),null!==P&&E(Object(f.Gb)(null))}else E(Object(f.db)(O));Ce&&E(Object(f.n)(Ce)),_e&&(E(Object(b.g)({type:"channel",draft_id:_e})),E(Object(f.j)({channel_id:R.id})),Oe(null)),Pe(),e.onSendCallback(),""!==U&&w({value:""})}}},Pe=function(){if(q(""),Y(""),X([]),g.current)try{g.current.getEditor().setContents([])}catch(e){}},De=function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){if("PERSONAL_BOT"===R.type)return;var t="TOPIC"===R.type?G.map((function(e){return e.id})):[],n=[I.id].concat(Object(o.a)(R.members.map((function(e){return e.id}))),Object(o.a)(ie),Object(o.a)(t)),a=e.filter((function(e){var t=!1;return n.forEach((function(n){n===parseInt(e)&&(t=!0)})),!t}));ne(a.length?a.map((function(e){return parseInt(e)})):[])}else ce([]),ne([])},Le=function(e){if(38===e.keyCode&&e.target.classList.contains("ql-editor")&&""===e.target.innerText.trim()&&!e.target.contains(document.querySelector(".ql-editor .anchor-blot"))){e.preventDefault();var t=Object(o.a)(R.replies).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).filter((function(e){return!e.is_deleted&&e.user&&e.user.id===I.id}))[0];if("undefined"!==typeof t){if(E(Object(f.Gb)(t)),t.quote&&t.quote.hasOwnProperty("id")){var n=Object(c.a)(Object(c.a)({},t.quote),{},{channel_id:t.channel_id});E(Object(f.e)(n))}}else N(R.id)}};Object(d.useEffect)((function(){g.current&&(window.innerWidth>620&&g.current.focus())}),[]);var Fe=function(e){var t=[];if(e.clipboardData.items.length)for(var n=0;n<e.clipboardData.items.length;n++){var a=e.clipboardData.items[n];"file"===a.kind&&t.push(a.getAsFile(a.type))}t.length&&l(t),setTimeout((function(){var e=g.current.getEditor();g.current.focus();var t=e.getSelection().index;e.insertText(t," "),e.setSelection(t+1)}),100)},Me=Object(m.useSelector)((function(e){return e.global.modals}));Object(d.useEffect)((function(){if(!Object.keys(Me).length)return document.addEventListener("paste",Fe,!1),function(){return document.removeEventListener("paste",Fe,!1)}}),[Object.keys(Me).length,Fe]),Object(d.useEffect)((function(){return R&&R.replies.length&&document.addEventListener("keydown",Le,!1),function(){return document.removeEventListener("keydown",Le,!1)}}),[R]),Object(d.useEffect)((function(){var e=function(e){27===e.keyCode&&Pe()};return le?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[le]),Object(d.useEffect)((function(){if(t){var e=g.current.getEditor();g.current.focus();var n=e.getSelection().index;e.insertText(n,t.native),e.setSelection(n+2),a()}}),[t]),Object(d.useEffect)((function(){if(r){var e=g.current.getEditor();g.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",r.images.downsized.url),e.setSelection(t+5),i()}}),[r]),Object(d.useEffect)((function(){D&&(E(Object(f.bb)(!1)),Ie())}),[D]);Object(O.O)(Pe,W,Q,Z),Object(O.L)(Pe,g),Object(O.n)((function(e){null===e?Oe(null):(g.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.text),Oe(e.draft_id),Y(e.text))}),"channel",W,Q,_e);var Ue=Object(O.M)({mode:"chat",callback:Ie,mentionOrientation:"top",quillRef:g,members:"external"===I.type?R.members:Object.values(M).filter((function(e){return!!("external"===e.type&&R.members.some((function(t){return t.id===e.id}))||"internal"===e.type&&null!==e.role)})),prioMentionIds:R.members.filter((function(e){return e.id!==I.id})).map((function(e){return e.id}))}).modules;return Object(d.useEffect)((function(){var e;P&&!le&&null===pe&&(e=P,g.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),Y(e.body),fe(e),de(!0),e.quote&&e.quote.hasOwnProperty("id")&&E(Object(f.e)(Object(c.a)(Object(c.a)({},e.quote),{},{channel_id:e.channel_id})))),null===P&&le&&pe&&(Ce&&E(Object(f.n)(Ce)),de(!1),fe(null),Pe(),null!==P&&E(Object(f.Gb)(null)))}),[P]),u.a.createElement("div",{className:"chat-input-wrapper"},ke&&!le&&null===_e&&u.a.createElement(C,{question:Ne,huddle:Se,isFirstQuestion:Re,selectedChannel:R,user:I}),te.length>0&&u.a.createElement(_.a,{onAddUsers:function(e){if("DIRECT"===R.type){var t=n(64).generate(),a=Math.round(+new Date/1e3),r=[].concat(Object(o.a)(R.members),Object(o.a)(e)),i=r.map((function(e){return e.first_name})).join(", "),s={id:t,entity_id:0,type:"GROUP",title:i,code:t,is_archived:!1,is_pinned:!1,is_hidden:!1,is_muted:!1,total_unread:0,profile:null,selected:!0,inviter:null,hasMore:!1,skip:0,isFetching:!1,members:r,replies:[],created_at:{timestamp:a},updated_at:{timestamp:a},last_reply:null,reference_id:t},l=s,d=x.filter((function(e){return"USER"===e.type})).filter((function(e){return R.members.some((function(t){return t.id===e.type_id}))})).map((function(e){return e.id})),u={recipient_ids:[].concat(Object(o.a)(d),Object(o.a)(e.map((function(e){return e.type_id})))),title:i};k(u,(function(e,t){if(!e){var n=Object(c.a)(Object(c.a)({},s),{},{id:t.data.channel.id,old_id:l.id,code:t.data.code,members:t.data.channel.members?t.data.channel.members:s.members,profile:null,type:"GROUP",last_reply:null,replies:[],selected:!0,search:t.data.search});E(Object(f.h)(n)),E(Object(f.Ob)(n)),h.push("/chat/".concat(t.data.code))}}))}else{var m={channel_id:R.id,recipient_ids:e.map((function(e){return e.type_id}))};E(Object(f.cb)(m,(function(t,n){t||n&&ce([].concat(Object(o.a)(ie),Object(o.a)(e.map((function(e){return e.id})))))}))),ne([])}},onDoNothing:function(e){ce(e.map((function(e){return e.type_id}))),ne([])},userIds:te,type:"TOPIC"===R.type?"workspace":"chat",basedOnUserId:!0,userMentionOnly:!0}),u.a.createElement(T,{className:"chat-input",modules:Ue,ref:g,onChange:function(e,t,n,a){if(null!==R){var r=a.getText(e);Y(e),q(r),X(a.getContents()),""===r.trim()?p(!1):p(!0),a.getContents().ops&&a.getContents().ops.length&&De(a.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.type_id}))),window.Echo.private(localStorage.getItem("slug")+".App.Channel.".concat(R.id)).whisper("typing",{user:{id:I.id,name:I.name,profile_image_link:I.profile_image_thumbnail_link?I.profile_image_thumbnail_link:I.profile_image_link,email:I.email},typing:!0,channel_id:R.id})}},editMode:le,showFileIcon:le&&P&&P.files.length>0}),le&&P&&P.files.length>0&&u.a.createElement(y,{className:"close-button",icon:"file"}))}},,function(e,t,n){e.exports=n.p+"static/media/gripp-bot.078c64fa.png"},,,,,,,function(e,t,n){"use strict";var a,r,i,c,o,s,l=n(27),d=n(2),u=n(0),m=n.n(u),p=n(3),f=n(36),b=n(5),h=n(19),_=["className","file","cbFilePreview","dictionary"],O=p.a.div(a||(a=Object(d.a)(["\n  position: relative;\n  border: 1px solid #ddd;\n  background-color: transparent;\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n  border-radius: 8px;\n"]))),E=p.a.div(r||(r=Object(d.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),g=p.a.img(i||(i=Object(d.a)(["\n  &.img-error {\n    background-image: none;\n    padding: 2.8rem 3rem;\n  }\n"]))),A=p.a.video(c||(c=Object(d.a)(["\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n"]))),v=p.a.div(o||(o=Object(d.a)(["\n  border-radius: 8px;\n  cursor: pointer;\n\n  > img {\n    border: 1px solid #ddd;\n    border-radius: inherit;\n    object-fit: cover;\n    max-height: 150px;\n    min-height: 150px;\n    max-width: 200px;\n    min-width: 200px;\n    @media (max-width: 380px) {\n      min-width: auto;\n      min-height: auto;\n    }\n  }\n"]))),j=p.a.div(s||(s=Object(d.a)(["\n  .card {\n    margin-bottom: 0;\n    min-width: 180px;\n    @media (max-width: 380px) {\n      min-width: auto;\n    }\n  }\n  > img {\n    width: 30px;\n  }\n"]))),C=Object(u.forwardRef)((function(e,t){var a=e.className,r=void 0===a?"":a,i=e.file,c=e.cbFilePreview,o=e.dictionary,s=Object(l.a)(e,_);"undefined"===typeof i.type&&(i.type=i.mime_type);var d=Object(b.useDispatch)(),p=Object(u.useRef)(),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"trashed"===e?m.a.createElement("i",{class:"fa fa-exclamation-triangle text-danger"}):e.includes("image")?m.a.createElement("i",{className:"fa fa-file-image-o text-instagram"}):e.includes("audio")?m.a.createElement("i",{className:"fa fa-file-audio-o text-dark"}):e.includes("video")?m.a.createElement("i",{className:"fa fa-file-video-o text-google"}):e.includes("pdf")?m.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"}):e.includes("zip")||e.includes("archive")||e.includes("x-rar")?m.a.createElement("i",{className:"fa fa-file-zip-o text-primary"}):e.includes("excel")||e.includes("spreadsheet")||e.includes("csv")||e.includes("numbers")||e.includes("xml")?m.a.createElement("i",{className:"fa fa-file-excel-o text-success"}):e.includes("powerpoint")||e.includes("presentation")?m.a.createElement("i",{className:"fa fa-file-powerpoint-o text-secondary"}):e.includes("word")||e.includes("document")?m.a.createElement("i",{className:"fa fa-file-word-o text-info"}):e.includes("script")?m.a.createElement("i",{className:"fa fa-file-code-o"}):m.a.createElement("i",{className:"fa fa-file-text-o text-warning"}):m.a.createElement("i",{className:"fa fa-file-text-o text-warning"})},T=Object(b.useSelector)((function(e){return e.files.fileThumbnailBlobs})),y=JSON.parse(localStorage.getItem("userAuthToken"));Object(u.useEffect)((function(){!T[i.id]&&i.type.toLowerCase().includes("image")&&y&&fetch(i.thumbnail_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(y.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};d(Object(h.mb)(e,t))}({id:i.id,src:t})}))}),[]);var S="trashed"===i.file_type;return m.a.createElement(v,Object.assign({onClick:function(e){"trashed"!==i.type&&c(e,i)},ref:t,className:"file-pill ".concat(r)},s),S?m.a.createElement(j,null,m.a.createElement("div",{className:"card app-file-list"},m.a.createElement("div",{className:"app-file-icon"},C("trashed")),m.a.createElement("div",{className:"p-2 small"},m.a.createElement("div",null,o&&o.fileAutomaticallyRemoved)))):"image"===i.type.toLowerCase()?m.a.createElement(m.a.Fragment,null,m.a.createElement(O,{className:T[i.id]?"d-none":""},m.a.createElement(E,{className:"img-loader"})),m.a.createElement(g,{ref:p,"data-attempt":0,className:T[i.id]?"":"d-none",onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(f.a)({isDNS:!0}),"/file-view-attempt/").concat(i.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=n(229))},height:150,src:T[i.id]?T[i.id]:i.view_link?i.view_link:"",alt:i.filename?i.filename:i.search,title:i.filename?i.filename:i.search})):i.type.toLowerCase().includes("video")?m.a.createElement(m.a.Fragment,null,m.a.createElement(A,{"data-attempt":0,width:"320",height:"240",controls:!0,playsInline:!0,onLoadStart:function(e){},onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(f.a)({isDNS:!0}),"/file-view-attempt/").concat(i.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp&&(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime()))}},m.a.createElement("source",{src:i.view_link,type:i.type}),"Your browser does not support the video tag.")):m.a.createElement(j,null,m.a.createElement("div",{className:"card app-file-list"},m.a.createElement("div",{className:"app-file-icon"},C(i.type)),m.a.createElement("div",{className:"p-2 small"},m.a.createElement("div",null,i.filename?i.filename:i.search)))))}));t.a=m.a.memo(C)},,function(e,t,n){"use strict";var a=n(6),r=n(2),i=n(0),c=n.n(i),o=n(3),s=n(43),l=n.n(s),d=n(5),u=n(7),m=n(17),p=n(23);function f(){var e=Object(r.a)(["\n  display: inline-block;\n"]);return f=function(){return e},e}function b(){var e=Object(r.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    .btn-approver {\n      padding-top: 13px;\n    }\n    min-width: ",";\n    .btn-approver,\n    .btn-image,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(r.a)(["\n  width: 40px;\n  height: 46px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  .feather {\n    cursor: pointer;\n  }\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n  &.btn-approver {\n    padding-top: 16px;\n  }\n"]);return h=function(){return e},e}var _=o.a.div(h()),O=o.a.div(b(),(function(e){return e.editMode?"200px":"160px"}),(function(e){return e.showButtons&&e.editMode?"180px":e.showButtons?"150px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),E=Object(o.a)(p.a)(f());t.a=function(e){var t=e.parentId,n=e.showEmojiPicker,r=e.handleShowEmojiPicker,o=e.onShowFileDialog,s=e.editPostComment,p=e.handleQuillImage,f=e.showApprover,b=e.toggleApprover,h=e.mainInput,g=e.disableButtons,A=e.commentType,v=Object(d.useDispatch)(),j=Object(i.useState)(!1),C=Object(a.a)(j,2),T=C[0],y=C[1],S=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return c.a.createElement(O,{editMode:null!==s,showButtons:T},s&&h&&c.a.createElement(_,null,c.a.createElement(l.a,{arrowSize:5,distance:10,onToggle:S,content:"Close edit"},c.a.createElement(u.s,{className:"close-button",icon:"x",onClick:function(){null!==s&&v(Object(m.Mb)(null))}}))),c.a.createElement(_,{className:"btn-approver"},c.a.createElement(l.a,{arrowSize:5,distance:10,onToggle:S,content:"Select approver"},c.a.createElement(E,{name:"approve",checked:f,onClick:b,disabled:g}))),c.a.createElement(_,{className:"btn-smile"},c.a.createElement(l.a,{arrowSize:5,distance:10,onToggle:S,content:"Emoji"},c.a.createElement(u.s,{className:"".concat(n?"active":""),onClick:r,icon:"smile"}))),c.a.createElement(_,{className:"btn-image"},c.a.createElement(l.a,{arrowSize:5,distance:10,onToggle:S,content:"Inline image"},c.a.createElement(u.s,{icon:"image",onClick:p}))),c.a.createElement(_,{className:"btn-paperclip"},c.a.createElement(l.a,{arrowSize:5,distance:10,onToggle:S,content:"Attach file"},c.a.createElement(u.s,{onClick:function(){g||o(t,A)},icon:"paperclip"}))),c.a.createElement(_,{className:"chat-buttons"},c.a.createElement(u.s,{onClick:function(){y((function(e){return!e}))},icon:T?"x":"more-vertical"})))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,r,i=n(2),c=n(0),o=n.n(c),s=n(3),l=n(7),d=n(9),u=s.a.div(a||(a=Object(i.a)(["\n  .people-list {\n    right: 0;\n  }\n"]))),m=Object(s.a)(l.a)(r||(r=Object(i.a)(["\n  height: 2.7rem !important;\n  width: 2.7rem !important;\n  margin-left: ",";\n"])),(function(e){return e.firstUser?"0":"-0.5rem"})),p=function(e){var t=e.members,n=e.classNames,a=void 0===n?"":n,r=5;Object(d.ib)().width<=575&&(r=5);var i=t?t.slice(0,r):[],c=t?t.slice(r):[];return o.a.createElement(u,{className:"d-flex ".concat(a)},i.map((function(e,t){return o.a.createElement(m,{id:e.id,firstUser:0===t,className:"chat-members",key:e.id,name:e.name?e.name:e.email,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,hasAccepted:e.has_accepted})})),c.length>0&&o.a.createElement(l.m,{recipients:c}))}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/text.bf6e5a52.svg"},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAKL0lEQVR4Xu3d63MT1x3G8UcSkleSZckG3AIFl2BZDtjhFggQE0hJwiW002mnnTR90T+vM206aTppyoQQaMG3GIOxZeMbvpD4JoOktSzpWPJKfdGGMilwwNaR9nf0+7x+9EIzX6+ktbTrKBaLRTBWYk7ZgLGN4LCYEhwWU4LDYkpwWEwJDospwWExJTgspgSHxZTgsJgSHBZTgsNiSnBYTAkOiynBYTElOCymBIfFlOCwmBIcFlOCw2JKcFhMCQ6LKbFFNqgG8ccxjI2OYGFhEblcDtnsGtw1huxhTxQsC8WChS1bXKivD2Lnzl14fX87agyv7KHaclTj7woT8ceIxRYQW1rC0tIS0uksfLV1cLlcsoe+lHw+j/VcFqFQENu2bceOnbuwp2mv7GFaqZqwhBAAgLv9PZiemYXhDcgeUjJmMo7WSDMOHz0BADCMlz8aUlUVYS3HYrj1r+soOt2yqXKZdBrbtgZx4dIvZFPStA/rs0//jHjcRLC+QTYtG8uykM9lcPz4W2gOt8rmJGkblmkmMTjQj7mFZXg8Htm8IlZXEmhvb8fho8dlU3K0DEsIgS8+/yvgtGdQT1tbE2jbH0E4ckCr917ahWWaSXz55dWSfcIrl4C/Bu+f/1A2I0OrE6RCCHz6l0/IRQUAi0uP8PVXV2QzMrQKKzp0F3Uh+7xJfxX+2gBmH36HyYlR2ZQEbcK63deN4ZEx2czWgqEGdHb1PDnnRpkWYT2cnUZ0aBiBQJ1sanuBQB2++3ZGNrM9LcLq7+sl+xL4LN1d3eSPWuTDEkLAXM3IZqT4A0GYyceyma2RDwsA6upCsgk5d+/0yya2Rj6s0ZFB2YSk5eVHWI7Ny2a2RT6smdlZ2YQkwxfALOHnRj6sRMKUTUhyuVyIx+OymW2RDksIAbenRjYjazm2LJvYFumwspk0fD6/bMYqgHRY6+uWbMIqhHRYzL44LKYEh8WU4LCYEhwWU4LDYkpwWEwJDospwWExJTgspgSHxZTgsJgSHBZTgsNiSnBYTAkOiylBOqzZ2QeyCWn59QJGovdkM1siG1Z35w0MDY3IZqTVBUPo/aaP5K+iyYY1Pj6JYKheNiMvGGrA2hqHVRZdnTcAZ/Vcov7aVXrXzSIZ1sT4Ay2uLPOyzJVVZDKrspmtkAyrUNDq6pZSgboQQOwpkwwLDodswSqMZFhFan++m0bv+ZIMy4FqO2LRe74kw2L2x2GRwC+FTAl+KWQM4LCYKhwWU4LDYkpwWEwJkmE56X1I2hTLssjd0YxkWOGWfUilVmQzbaznsnC77X9Tz6eRDOvU22fhKBZkM238+jcfwclHrPKIRFpgJuheB/1lra4kZRNbIvs1zLdOdiCbzSCepPUFuFeRMuN4/4MPSN4rmvQ9oYUQmJocw+i4fr/WcbuKOPfeBfj8NK9jT/aIBQCGYeC15giG74+T+9T0PCtmEh/97mPgv8+PKrLvsb5nGAZWV/S5n47PWwPDMEhHBR3CAgCvV4/76ZiJONra2mQzErQI681jx2Am6X9C9HprsL/toGxGghZhNYdb4ffRfukAgD1Nu2UTMrQICwAaGxtlE1sT2RT27QvLZmRoE9ZPdu8h/XLY3taGH/14l2xGBunTDU9rDrfC5XLh7sCQbGo7ZjKBcOSSbEaKNkcsANixczdyuZxsZjutkX3kTy/8kFZhGYaBgrUmm9lKKrWCw0dPyGbkaBUWAFy8eBmWRePOq5Zlwb3Fod3RCjqGVd+wFSJL4x/TRWsNH//+D7IZSdqFBQAdHR1Imfb+hLhiJtHS0iKbkaVlWHtfC6OpaY9sVlGN2xtw6Mhx2YwsLcMCgOMn3obLYd/3Wj9774JsQpq2Yfl8fpy/+HPbnX5Ir6bw5tHDshl52pwgfRbDMOD3upG30YHLa7ixp2mvbEaetkes771//kPbfDdeZFM4/c4Z2UwL2odlGAba3ziAfD4vmyp39uy7Wv0/8EW0DwsAGrdvR6FQ2dfDYrEIt1u/E6HPUxVhwVH5a5cVi0X4/T7ZTBvVEZYtVLjsMuOwmBIcVtlU15VMOKyy4ZdCxjaNwyoTuhcy2BgOq0wcDiCdzshm2qiKsMykCUeFLwPodLpQKFT+7H+5VEVYc3Nz8Hgq/zP8VColm2ijKsJaWIzJJmUxPaXf5ZaeR/uwlhbn4Nrils3KYn5+EWOjw7KZFrQOSwiB619fQ21tQDYti0CwHkOD92QzLWgd1t3+HniMWtmsrNYLzv/cLF1zpC8V+Tzzcw/R1XkL6wUnPB77XcY6l8th147tOH3mnGxKllZhCSEwMTaMwcEheP32vsu9mYijsXEr2t84pOVXlbUISwgBAOi6eR3JVFY2t5UVM4mjRw4iHDkAEL/u6NPIh/Vwdho3b3bC66P/Jbp0ysTJUyfRHG6VTW2PbFgjw/cwPj6ORNxEsL5BNifDTCYQqvPj0JGj2Psa3QuxkQtLCIG+3k48eDCNupA+Qf1QOmWiuXkvDh46BqfLRe4lkkxYQggszH+LGzf+iaDGQT1LeF8TwpEDpOIiEdYnf/oj1nKWFu+jNiqfz0NkUni7o4PEezDbhlWwLNwb6MeDB5PIrRdhGF7ZQ6qCmYxj184dCLe02Po9mO3CEkKgYFm49tUVrOULcDr1uJVJqa0k44hEmp9cDdBuL5O2CmtpcR5dt26i6LTHP42pCPhrcPrMOVvFZYuwbvd1YWhwBF5/rS3/BUNBNpNBLidw+NBBHDpyTDZXrmJhFSwLw9EBzMzM4NGjhFbnoirJTMaxbWs9du/ejaaf7kN9w1bZQ5SoSFhCCFy7+g+IXAEOR2W/MqyznFjFL3/1W6AC78HKHtbtvm5Eo/dRFwzJpqxEzGQckZZmnOo4K5uWTNnCMs0k/v75ZygUnfD5aN41lLJMJo3Ceh6XLl/Gtm3q7ztUtrCufPE3ZMS6bMYUq3E7EGl9XflJ1rJ8g7S3+xYex1dkM1YGa/kient6cLuvWzbdFKVHrMmJUdzu64PD5YHbzeem7MSyLBStNXScfgc7d5X+0uXKjlimmcTtvj54DD9HZUMulwtbPD5809uLxflvZfNXpiyswYF+eAx+k253VtGJ7q5OTE9NyKavRElY01MTmJyakc2YDTgcDhSdHvT29CCTTsvmL63k77FG70dxp78fhs8ev+VjL8/psPDB+Yvw+Tb/k7mSHrEKloWJ8TGOiqh1C+jv60WhBLflK2lYw9EBrGZo3YiS/Y/T6cLswzkMRwdkU6mShjUUjaKmprz/k2Kl5fPXYnh4GPNzD2XTFypZWNNTE4BD61vzVA2PUYu7d+7IZi9UsrBmZ6b568MaWV5+hExm458SSxJWIv4Y8wsLshkjpC7UgPm5jZ84LUlYszNTMLz8SVA30egQMumN3V9702EVChZiMXtcMY+VVlbkMT52XzZ7pk2HlUmnsLjEYemopsbA8nJsQ+e1Nh2WaSbgcvGnQV0tLMaQSiVls//zb0dxchP3PBCcAAAAAElFTkSuQmCC"},,,,,,,function(e,t,n){"use strict";var a=n(2),r=n(0),i=n.n(r);function c(){var e=Object(a.a)([""]);return c=function(){return e},e}var o=n(3).a.div(c());t.a=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.valid,r=e.children;return i.a.createElement(o,{className:"input-feedback ".concat(a?"valid":"invalid","-feedback ").concat(n)},r)}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/gripp-logo.127a836d.svg"},function(e,t,n){e.exports=n.p+"static/media/driff-logo.cf17324f.svg"},,,function(e,t,n){e.exports=n.p+"static/media/active.31fee911.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.4f7f3ab6.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a,r,i=n(12),c=n(1),o=n(6),s=n(2),l=n(0),d=n.n(l),u=n(39),m=n(3),p=n(23),f=n(14),b=n(702),h=n(699),_=n(700),O=n(701),E=n(238),g=n(119),A=n(13),v=n(5),j=n(364),C=n.n(j),T=n(21),y=m.a.form(a||(a=Object(s.a)(["\n  .btn {\n    .badge {\n      position: relative;\n      right: auto;\n      top: 0px;\n      left: 0.5rem;\n    }\n  }\n"]))),S=Object(m.a)(b.a)(r||(r=Object(s.a)(["\n  .form-control {\n    margin-bottom: 0 !important;\n  }\n  .invalid-feedback {\n    text-align: left;\n  }\n  .input-group-text {\n    height: 36px;\n  }\n"])));t.default=d.a.memo((function(e){var t=e.dictionary,n=e.setRegisteredDriff,a=Object(u.g)(),r=Object(v.useDispatch)(),s=Object(g.a)(),m=Object(l.useState)(!1),b=Object(o.a)(m,2),j=b[0],w=b[1],k=Object(l.useState)(!1),N=Object(o.a)(k,2),R=N[0],x=N[1],I=Object(l.useState)("/login"),P=Object(o.a)(I,2),D=P[0],L=P[1],F=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),M=F.REACT_APP_localDNSName,U=F.REACT_APP_apiProtocol,G={company_name:Object(l.useRef)(null),slug:Object(l.useRef)(null)},H=Object(l.useState)({}),B=Object(o.a)(H,2),W=B[0],Y=B[1],z=Object(l.useState)({valid:{},message:{}}),V=Object(o.a)(z,2),Q=V[0],q=V[1],K=Object(l.useCallback)((function(e){e.persist(),Y((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(i.a)({},e.target.name,e.target.value))})),q((function(t){return Object(c.a)(Object(c.a)({},t),{},{valid:Object(c.a)(Object(c.a)({},t.valid),{},Object(i.a)({},e.target.name,void 0)),message:Object(c.a)(Object(c.a)({},t.message),{},Object(i.a)({},e.target.name,void 0))})}))}),[Y]),J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0;Y((function(t){return Object(c.a)(Object(c.a)({},t),{},{invitations:e})})),t(),n.closeModal()},Z=Object(l.useCallback)((function(e){e.persist(),a.push("/login")}),[]),X=Object(l.useCallback)((function(e){e.preventDefault(),j||function(){var e={},n={};return"undefined"===typeof W.company_name||""===W.company_name?(e.company_name=!1,n.company_name=t.companyRequired):e.company_name=!0,"undefined"!==typeof W.slug&&""!==W.slug||(e.slug=!1,n.slug=t.driffRequired),"undefined"===typeof W.email||""===W.email?(e.email=!1,n.email=t.emailRequired):f.a.test(W.email)?e.email=!0:(e.email=!1,n.email=t.invalidEmail),"undefined"===typeof W.user_name||""===W.user_name?(e.user_name=!1,n.user_name=t.yourNameRequired):e.user_name=!0,"undefined"===typeof W.password||""===W.password?(e.password=!1,n.password=t.passwordRequired):e.password=!0,q({valid:e,message:n}),!Object.values(e).some((function(e){return!1===e}))}()&&(w(!0),s.check(W.slug,(function(e,a){a.data.status?(w(!1),q({valid:{slug:!1},message:{slug:t.driffTaken}})):s.create(W,(function(e,t){w(!1),t&&(x(!0),Object(T.f)(window.location.hostname)||"localhost"===window.location.hostname?(s.storeName(W.slug,!0),n(W.slug)):L("".concat(U).concat(W.slug,".").concat(M,"/login")))}))})))}),[W]);return Object(l.useEffect)((function(){G.company_name.current&&G.company_name.current.focus()}),[]),Object(l.useEffect)((function(){var e=document.querySelector("h5.title");e&&(e.innerHTML=R?t.thankYou:t.driffRegistration)}),[R]),d.a.createElement(y,null,R?d.a.createElement(d.a.Fragment,null,"Your Driff"," ",d.a.createElement("b",null,d.a.createElement("a",{href:D},W.slug,".",M))," ","is ready.",d.a.createElement("hr",null),d.a.createElement("a",{href:D,className:"btn btn-outline-light btn-sm"},t.signIn),d.a.createElement(C.a,{recycle:!1})):d.a.createElement(d.a.Fragment,null,d.a.createElement(p.e,{onChange:K,name:"company_name",isValid:Q.valid.company_name,feedback:Q.message.company_name,placeholder:t.companyName,innerRef:G.company_name,readOnly:j,autoFocus:!0}),d.a.createElement(S,null,d.a.createElement(h.a,{className:"driff-name"},d.a.createElement(_.a,{ref:G.slug,onChange:K,name:"slug",type:"text",placeholder:"Driff",autoCapitalize:"none",valid:Q.valid.slug,invalid:"undefined"!==typeof Q.valid.slug?!Q.valid.slug:Q.valid.slug,readOnly:j,required:!0,autoFocus:!0}),d.a.createElement(O.a,{addonType:"append"},d.a.createElement(E.a,null,".",M)),d.a.createElement(p.f,{valid:Q.valid.slug},Q.message.slug))),d.a.createElement(p.e,{onChange:K,name:"email",isValid:Q.valid.email,feedback:Q.message.email,placeholder:t.yourEmail,type:"email",readOnly:j}),d.a.createElement(p.e,{onChange:K,name:"user_name",isValid:Q.valid.user_name,feedback:Q.message.user_name,placeholder:t.yourName,innerRef:G.user_name,readOnly:j}),d.a.createElement(p.g,{onChange:K,isValid:Q.valid.password,feedback:Q.message.password,readOnly:j,placeholder:t.password}),d.a.createElement("button",{className:"btn btn-outline-light btn-sm mb-4",onClick:function(e){if(e.preventDefault(),!j){var t={type:"driff_invite_users",invitations:"undefined"!==typeof W.invitations?W.invitations:[],onPrimaryAction:J,fromRegister:!0};r(Object(A.a)(t))}}},"undefined"!==typeof W.invitations?d.a.createElement(d.a.Fragment,null,t.invitedUsers," ",d.a.createElement("div",{className:"mr-2 d-sm-inline d-none"},d.a.createElement("div",{className:"badge badge-info text-white"},W.invitations.length))):d.a.createElement(d.a.Fragment,null,"+ ",t.inviteUser)),d.a.createElement("button",{className:"btn btn-primary btn-block",onClick:X},j&&d.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.register),d.a.createElement("hr",null),d.a.createElement("button",{className:"btn btn-outline-light btn-sm",onClick:Z},t.login)))}))},function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(1),i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(5),d=n(39),u=n(22),m=n(3),p=n(21),f=n(14),b=n(13),h=n(23),_=n(9),O=n(107);function E(){var e=Object(c.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n\n  .btn-magic-link {\n    background-color: #7a1b8b;\n    color: #fff;\n  }\n"]);return E=function(){return e},e}var g=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),A=g.REACT_APP_apiProtocol,v=g.REACT_APP_localDNSName,j=m.a.form(E());t.default=s.a.memo((function(e){var t=e.dictionary,n=Object(d.g)(),c=Object(l.useDispatch)(),m=Object(_.S)().driffSettings,E=Object(_.eb)(),g=Object(O.a)(),C=g.persistor,T=(g.persistenceOn,{email:Object(o.useRef)(),password:Object(o.useRef)()}),y=Object(o.useState)({email:"",password:"",remember_me:!0}),S=Object(i.a)(y,2),w=S[0],k=S[1],N=Object(o.useState)({valid:{},message:{}}),R=Object(i.a)(N,2),x=R[0],I=R[1],P=Object(o.useCallback)((function(e){e.persist(),k((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.dataset.name,!t[e.target.dataset.name]))}))}),[k]),D=Object(o.useCallback)((function(e){e.persist(),k((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value.trim()))}))}),[k]);return Object(o.useEffect)((function(){localStorage.getItem("persist:root")&&(C.purge(),localStorage.removeItem("persist:root"))})),Object(p.a)("code")&&Object(p.a)("state")?s.a.createElement(j,{className:"fadeIn"}):s.a.createElement(j,{className:"fadeIn"},m.settings.password_login&&s.a.createElement(s.a.Fragment,null,s.a.createElement(h.e,{onChange:D,name:"email",isValid:x.valid.email,feedback:x.message.email,placeholder:t.email,innerRef:T.email,type:"email",autoFocus:!0}),s.a.createElement(h.g,{ref:T.password,onChange:D,isValid:x.valid.password,feedback:x.message.password,placeholder:t.password}),s.a.createElement("div",{className:"form-group d-flex justify-content-between"},s.a.createElement(h.a,{name:"remember_me",checked:w.remember_me,onClick:P},t.rememberMe),s.a.createElement(u.b,{to:"/reset-password"},t.resetPassword)),s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(n){if(n.preventDefault(),function(){var e={},n={};return""===w.email?(e.email=!1,n.email=t.emailRequired):f.a.test(w.email)?e.email=!0:(e.email=!1,n.email=t.invalidEmail),""===w.password?(e.password=!1,n.password=t.passwordRequired):e.password=!0,I({valid:e,message:n}),!Object.values(e).some((function(e){return!1===e}))}()){for(var i=Object(p.d)(),o=Object(r.a)(Object(r.a)({},w),{},{serial:i.serial,device:i.device,browser:i.browser}),s=["first_name","slug","free_account","topic_id","topic_name","slug_from","invited_by","invited_by_id"],l=0;l<s.length;l++){var d=s[l],u=Object(p.a)(d)?Object(p.a)(d):"";u&&(o=Object(r.a)(Object(r.a)({},o),{},Object(a.a)({},d,u)))}c(Object(b.bb)(!0)),E.checkCredentials(o,(function(t,n){if(t&&(c(Object(b.bb)(!1)),I((function(e){return Object(r.a)(Object(r.a)({},e),{},{valid:{email:!1,password:!1}})})),T.email.current.focus()),n)if(n.data.message&&"need_verify_via_email"===n.data.message);else{var a="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/chat";E.login(n.data,a)}}))}else x.valid.email?x.valid.password||T.password.current.focus():T.email.current.focus()}},t.signIn)),(m.settings.google_login||m.settings.magic_link)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),s.a.createElement("ul",{className:"list-inline"},m.settings.magic_link&&s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("span",{onClick:function(){n.push("/magic-link")},className:"btn btn-floating btn-magic-link"},s.a.createElement("i",{className:"fa fa-magic"}))),m.settings.google_login&&s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("span",{onClick:E.googleLogin,className:"btn btn-floating btn-google"},s.a.createElement("i",{className:"fa fa-google"}))))),m.settings.sign_up&&s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("p",{className:"text-muted"},t.noAccount),s.a.createElement(u.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow)),s.a.createElement("hr",null),s.a.createElement("a",{className:"btn btn-outline-light btn-sm",href:"".concat(A).concat(v)},t.logDifferent))}))},function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(1),i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(22),d=n(3),u=n(14),m=n(9),p=n(23);function f(){var e=Object(c.a)([""]);return f=function(){return e},e}var b=d.a.form(f());t.default=s.a.memo((function(e){var t=e.dictionary,n=Object(m.eb)(),c=Object(o.useState)(!1),d=Object(i.a)(c,2),f=d[0],h=d[1],_={email:Object(o.useRef)(null)},O=Object(o.useState)({email:""}),E=Object(i.a)(O,2),g=E[0],A=E[1],v=Object(o.useState)({valid:{},message:{}}),j=Object(i.a)(v,2),C=j[0],T=j[1],y=Object(o.useCallback)((function(e){e.persist(),A((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value.trim()))}))}),[A]);return Object(o.useEffect)((function(){_.email.current.focus()}),[]),s.a.createElement(b,null,s.a.createElement("div",{className:"form-group"},s.a.createElement(p.e,{innerRef:_.email,isValid:C.valid.email,feedback:C.message.email,onChange:y,name:"email",type:"email",placeholder:t.email,required:!0,autoFocus:!0})),s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),!function(e){var n={},a={};return""===g.email?(n.email=!1,a.email=t.emailRequired):u.a.test(g.email)?n.email=!0:(n.email=!1,a.email=t.invalidEmail),T({valid:n,message:a}),!Object.values(n).some((function(e){return!1===e}))}()||f)return!1;h(!0),n.requestPasswordReset(g.email,(function(e,n){e&&T({valid:{email:!1},message:{email:t.emailNotFound}}),h(!1)}))}},f&&s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.submit),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-muted"},t.takeADifferentAction),s.a.createElement(l.b,{className:"btn btn-sm btn-outline-light mr-1-1",to:"/register"},t.registerNow)," ",t.or," ",s.a.createElement(l.b,{className:"btn btn-sm btn-outline-light ml-1",to:"/login"},t.login))}))},function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(1),i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(39),d=n(22),u=n(3),m=n(9),p=n(23);function f(){var e=Object(c.a)([""]);return f=function(){return e},e}var b=u.a.form(f());t.default=s.a.memo((function(e){var t=e.dictionary,n=Object(l.g)(),c=Object(l.j)("/resetpassword/:token/:email"),u=Object(m.eb)(),f=Object(m.G)(),h={password:Object(o.useRef)()},_=Object(o.useState)({token:c.params.token,email:c.params.email,password:""}),O=Object(i.a)(_,2),E=O[0],g=O[1],A=Object(o.useState)({password:""}),v=Object(i.a)(A,2),j=(v[0],v[1]),C=Object(o.useState)({error:"",success:""}),T=Object(i.a)(C,2),y=(T[0],T[1]),S=function(e){g(Object(r.a)(Object(r.a)({},E),{},Object(a.a)({},e.target.name,e.target.value.trim())))};return s.a.createElement(b,null,s.a.createElement(p.e,{onChange:S,name:"email",type:"email",placeholder:"Email",value:E.email,readOnly:!0}),s.a.createElement(p.g,{ref:h.password,onChange:S}),s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),!function(){y({error:"",success:""});var e=!0,n={password:"",form:""};return""===E.password&&(e=!1,n=Object(r.a)(Object(r.a)({},n),{},{password:t.passwordRequired})),j(n),!0!==e&&""!==n.password&&h.password.current.focus(),e}())return!1;f.show(),u.updatePassword(E,(function(e,t){e&&(setTimeout((function(){n.push("/reset-password")}),5e3),f.hide())}))}},t.updatePassword),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),s.a.createElement("ul",{className:"list-inline"},s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("span",{nClick:function(e){e.preventDefault(),u.googleLogin()},className:"btn btn-floating btn-google"},s.a.createElement("i",{className:"fa fa-google"})))),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-muted"},t.noAccount),s.a.createElement(d.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow))}))},function(e,t,n){"use strict";n.r(t);var a,r=n(12),i=n(1),c=n(6),o=n(2),s=n(0),l=n.n(s),d=n(22),u=n(3),m=n(23),p=n(9),f=n(14),b=u.a.form(a||(a=Object(o.a)([""])));t.default=l.a.memo((function(e){var t=e.dictionary,n={first_name:Object(s.useRef)()},a=Object(p.eb)(),o=Object(s.useState)({}),u=Object(c.a)(o,2),h=u[0],_=u[1],O=Object(s.useState)(!1),E=Object(c.a)(O,2),g=E[0],A=E[1],v=Object(s.useState)({valid:{},message:{}}),j=Object(c.a)(v,2),C=j[0],T=j[1],y=Object(s.useCallback)((function(e){e.persist(),_((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},e.target.name,e.target.value))})),T((function(t){return Object(i.a)(Object(i.a)({},t),{},{valid:Object(i.a)(Object(i.a)({},t.valid),{},Object(r.a)({},e.target.name,void 0)),message:Object(i.a)(Object(i.a)({},t.message),{},Object(r.a)({},e.target.name,void 0))})}))}),[_]),S=Object(s.useCallback)((function(e){e.preventDefault(),function(){var e={},n={};return"undefined"===typeof h.first_name||""===h.first_name?(e.first_name=!1,n.first_name=t.firstNameRequired):e.first_name=!0,"undefined"===typeof h.last_name||""===h.last_name?(e.last_name=!1,n.last_name=t.lastNameRequired):e.last_name=!0,"undefined"===typeof h.email||""===h.email?(e.email=!1,n.email=t.emailRequired):f.a.test(h.email)?e.email=!0:(e.email=!1,n.email=t.invalidEmail),"undefined"===typeof h.password||""===h.password?(e.password=!1,n.password=t.passwordRequired):e.password=!0,T({valid:e,message:n}),!Object.values(e).some((function(e){return!1===e}))}()&&!g&&(A(!0),a.register(h,(function(e,t){if(A(!1),e.field){var n={},a={};Object.keys(e.field).forEach((function(t){n[t]=!1,a[t]=e.field[t]})),T({valid:n,message:a})}})))}),[h]);return Object(s.useEffect)((function(){n.first_name.current.focus()}),[]),l.a.createElement(b,null,l.a.createElement(m.e,{onChange:y,name:"first_name",isValid:C.valid.first_name,feedback:C.message.first_name,placeholder:t.firstName,innerRef:n.first_name,autoFocus:!0}),l.a.createElement(m.e,{onChange:y,name:"middle_name",isValid:C.valid.middle_name,feedback:C.message.middle_name,placeholder:t.middleName}),l.a.createElement(m.e,{onChange:y,name:"last_name",isValid:C.valid.last_name,feedback:C.message.last_name,placeholder:t.lastName}),l.a.createElement(m.e,{onChange:y,name:"email",isValid:C.valid.email,feedback:C.message.email,placeholder:t.email,type:"email"}),l.a.createElement(m.g,{onChange:y,isValid:C.valid.password,feedback:C.message.password,placeholder:t.password}),l.a.createElement("button",{className:"btn btn-primary btn-block",onClick:S},g&&l.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.register),l.a.createElement("hr",null),l.a.createElement("p",{className:"text-muted"},t.haveAccount),l.a.createElement(d.b,{className:"btn btn-outline-light btn-sm",to:"/login"},t.signIn))}))},function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(1),i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(3),d=n(9),u=n(39),m=n(23),p=n(14),f=n(21);function b(){var e=Object(c.a)(["\n  .form-control {\n    margin-bottom: 0 !important;\n  }\n  .invalid-feedback {\n    text-align: left;\n  }\n  .input-group-text {\n    height: 36px;\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(c.a)([""]);return h=function(){return e},e}var _=l.a.form(h()),O=l.a.div(b());t.default=s.a.memo((function(e){var t=Object(u.g)(),n=Object(d.eb)(),c=Object(d.X)(),l=Object(o.useState)(!1),b=Object(i.a)(l,2),h=b[0],E=b[1],g={first_name:Object(o.useRef)()},A=Object(o.useState)({user_id:0,topic_id:0,first_name:"",middle_name:"",last_name:"",email:"",password:"",company_name:"",responsible_user_id:null}),v=Object(i.a)(A,2),j=v[0],C=v[1],T=Object(o.useState)({valid:{},message:{}}),y=Object(i.a)(T,2),S=y[0],w=y[1],k=Object(o.useState)(!1),N=Object(i.a)(k,2),R=(N[0],N[1]),x=Object(d.bb)(),I=x._t,P=x.setLocale,D={magicLink:I("LOGIN.MAGIC_LINK","Magic link"),rememberMe:I("LOGIN.REMEMBER_ME","Remember me"),resetPassword:I("LOGIN.RESET_PASSWORD","Reset password"),signIn:I("LOGIN.SIGN_IN","Sign in"),loginSocialMedia:I("LOGIN.SOCIAL_MEDIA_LOGIN","Login with your social media account."),noAccount:I("LOGIN.NO_ACCOUNT","Don't have an account?"),registerNow:I("LOGIN.REGISTER_NOW","Register now!"),logDifferent:I("LOGIN.LOG_INTO_DIFFERENT_DRIFF","Log into different Driff"),registerNewDriff:I("DOMAIN.REGISTER_NEW_DRIFF","Register new Driff"),submit:I("RESET_PASSWORD.SUBMIT","Submit"),login:I("RESET_PASSWORD.LOGIN","Login!"),takeADifferentAction:I("RESET_PASSWORD.TAKE_A_DIFFERENT_ACTION","Take a different action."),updatePassword:I("UPDATE_PASSWORD.UPDATE_PASSWORD","Update password"),register:I("REGISTER.REGISTER","Register"),haveAccount:I("REGISTER.HAVE_ACCOUNT","Already have an account?"),password:I("REGISTER.PASSWORD","Password"),firstName:I("REGISTER.FIRST_NAME","First name"),middleName:I("REGISTER.MIDDLE_NAME","Middle name"),lastName:I("REGISTER.LAST_NAME","Last name"),accept:I("REGISTER.ACCEPT","Accept"),driffRegistration:I("DRIFF.DRIFF_REGISTRATION","Driff registration."),inviteUser:I("DRIFF.INVITE","Invite user"),companyName:I("DRIFF.COMPANY_NAME","Company name"),yourEmail:I("DRIFF.YOUR_EMAIL","Your email"),yourName:I("DRIFF.YOUR_NAME","Your name"),sendLink:I("MAGIC_LINK.SEND_LINK","Send link"),emailRequired:I("FEEDBACK.EMAIL_REQUIRED","Email is required."),passwordRequired:I("FEEDBACK.PASSWORD_REQUIRED","Password is required."),invalidEmail:I("FEEDBACK.INVALID_EMAIL","Invalid email format"),yourNameRequired:I("FEEDBACK.YOUR_NAME_REQUIRED","Your name is required."),firstNameRequired:I("FEEDBACK.FIRST_NAME_REQUIRED","First name is required."),lastNameRequired:I("FEEDBACK.LAST_NAME_REQUIRED","Last name is required."),companyRequired:I("FEEDBACK.COMPANY_REQUIRED","Company name is required."),driffRequired:I("FEEDBACK.DRIFF_REQUIRED","Driff is required."),driffTaken:I("FEEDBACK.DRIFF_TAKEN","Driff is already taken"),emailNotFound:I("FEEDBACK.EMAIL_NOT_FOUND","Email not found."),notAllowedForExternal:I("FEEDBACK.NOT_ALLOWED_FOR_EXTERNAL","Not allowed for external users."),thankYou:I("FEEDBACK.THANK_YOU","Thank you!"),or:I("RESET_PASSWORD.OR","or"),createAccount:I("LOGIN.CREATE_ACCOUNT","Create account"),authentication:I("LOGIN.AUTHENTICATION","Authentication"),email:I("LOGIN.EMAIL","Email"),invitedUsers:I("DRIFF.INVITED_USERS","Invited users"),acceptInvite:I("REGISTER.ACCEPT_INVITE","Accept your invitation to")},L=Object(o.useCallback)((function(e){e.persist(),C((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value))})),w((function(t){return Object(r.a)(Object(r.a)({},t),{},{valid:Object(r.a)(Object(r.a)({},t.valid),{},Object(a.a)({},e.target.name,void 0)),message:Object(r.a)(Object(r.a)({},t.message),{},Object(a.a)({},e.target.name,void 0))})}))}),[]);return Object(o.useEffect)((function(){n.fetchStateCode(Object(f.a)("state_code"),(function(a,i){if(a&&t.push("/login"),i)if(i.data.auth_login){c.success("Activation successful!");var o="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/workspace/chat";n.storeLoginToken(i.data.auth_login),n.processBackendLogin(i.data.auth_login,o)}else C((function(e){return Object(r.a)(Object(r.a)({},e),{},{user_id:i.data.user.id,topic_id:i.data.topic.id,email:i.data.user.email,responsible_user_id:i.data.responsible_user_id,last_name:i.data.user.last_name,first_name:i.data.user.first_name,middle_name:i.data.user.middle_name,company_name:i.data.user.company?i.data.user.company:""})})),P(i.data.user.language,R(!0)),setTimeout((function(){R(!1)}),1e3),localStorage.setItem("i18n_lang",i.data.user.language),g.first_name.current.focus()}))}),[]),s.a.createElement(_,null,s.a.createElement(O,{className:"form-group"},s.a.createElement(m.e,{innerRef:g.first_name,value:j.first_name,onChange:L,name:"first_name",placeholder:D.firstName,isValid:S.valid.first_name,feedback:S.message.first_name,required:!0,autoFocus:!0})),s.a.createElement(O,{className:"form-group"},s.a.createElement(m.e,{onChange:L,value:j.middle_name,name:"middle_name",type:"text",placeholder:D.middleName,isValid:S.valid.middle_name,feedback:S.message.middle_name})),s.a.createElement(O,{className:"form-group"},s.a.createElement(m.e,{onChange:L,value:j.last_name,name:"last_name",type:"text",placeholder:D.lastName,isValid:S.valid.last_name,feedback:S.message.last_name})),s.a.createElement(O,{className:"form-group"},s.a.createElement(m.e,{onChange:L,value:j.company_name,name:"company_name",placeholder:D.companyName})),s.a.createElement(O,{className:"form-group text-left"},s.a.createElement(m.e,{onChange:L,name:"email",type:"text",value:j.email,isValid:S.valid.email,feedback:S.message.email,readOnly:!0})),s.a.createElement(O,{className:"form-group"},s.a.createElement(m.g,{innerRef:g.password,name:"password",onChange:L,placeholder:D.password,isValid:S.valid.password,feedback:S.message.password,required:!0})),s.a.createElement("button",{className:"btn btn-primary btn-block mt-2",onClick:function(t){t.preventDefault(),function(){var e={},t={};return""===j.email?(e.email=!1,t.email=D.emailRequired):p.a.test(j.email)?e.email=!0:(e.email=!1,t.email=D.invalidEmail),""===j.first_name?(e.first_name=!1,t.first_name=D.firstNameRequired):e.first_name=!0,""!==j.middle_name&&(e.middle_name=!0),""===j.last_name?(e.last_name=!1,t.last_name=D.lastNameRequired):e.last_name=!0,""===j.password?(e.password=!1,t.password=D.passwordRequired):e.password=!0,w({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}()&&!h&&(E(!0),n.updateExternalUser(j,(function(t,a){if(E(!1),a){c.success("Login successful!"),localStorage.setItem("fromRegister",!0);var r="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/workspace/chat";n.login(a.data.auth_login,r)}})))}},h&&s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",D.accept))}))},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABkaSURBVHic7d3Nr213Xcfx7zn2Fou09N4YBAYkmmBpG8Nj5G9wQIo4Nk5wokBCNKZ/gIOGYEwAdSCJMQwNSOPAqSMTCCqGQHlINDKQtmq5fZDaS+lxcHt7n87Z37X3Xg/ftb6v1x+w1i/3JvfzvufsvdbJP378j88e+ewnYo2+/6OX4yOf+VY88/y1pY/Cwr73p78ev/TWe2e/79MPfnj2e3LT269+bfZ7PvP8tXjo01+f/b7086FfuT++8gePxgP33TP6tV964i/j9MoXvxTf+cMvjH7xOfzqO+6Lv/ujX1vkH34AmMrU4//SE1+M04gIEQAANcwx/hFxPQAiRAAALG2u8Y+4JQAiRAAALGXO8Y+4IwAiRAAAzG3u8Y84JwAiRAAAzGWJ8Y+4IAAiRAAATG2p8Y/YEQARIgAAprLk+EckARAhAgBgbEuPf8SAAIgQAQAwlgrjHzEwACJEAAAcq8r4R+wRABEiAAAOVWn8I/YMgAgRAAD7qjb+EQcEQIQIAIChKo5/xIEBECECACBTdfwjjgiACBEAABepPP4RRwZAhAgAgDtVH/+IEQIgQgQAwA1rGP+IkQIgQgQAwFrGP2LEAIgQAQD0tabxjxg5ACJEAAD9rG38IyYIgAgRAEAfaxz/iIkCIEIEALB9ax3/iAkDIEIEALBdax7/iIkDIEIEALA9ax//iBkCIEIEALAdWxj/iJkCIEIEALB+Wxn/iBkDIEIEALBeWxr/iJkDIEIEALA+Wxv/iAUCIEIEALAeWxz/iIUCIEIEAFDfVsc/YsEAiBABANS15fGPWDgAIkQAAPVsffwjCgRAhAgAoI4O4x9RJAAiRAAAy+sy/hGFAiBCBACwnE7jH1EsACJEAADz6zb+EQUDIEIEADCfjuMfUTQAIkQAANPrOv4RhQMgQgQAMJ3O4x9RPAAiRAAA4+s+/hErCIAIEQDAeIz/dasIgAgRAMDxjP9NqwmACBEAwOGM/+1WFQARIgCA/Rn/u60uACJEAADDGf/zrTIAIkQAADnjf7HVBkCECADgYsZ/t1UHQIQIAOBuxj93+trD7176DEcTAQDcYPxzlz70aJze9+XPhQhYlggAGIfxz1360KNx5Sufi9PL77wSImB5IgDgOMY/d2P8Tx54y/XPAIiAGkQAwGGMf+7SB2+Of8QtHwIUATWIAID9GP/cpQ8+Glf+9ub4R9zxLQARUIMIABjG+OfOG/+Ic74GKAJqEAEAuxn/3EXjH3HBcwBEQA0iAOB8xj+3a/wjdjwISATUIAIAbmf8c9n4RyRPAhQBNYgAgOuMf27I+EcMeBSwCKhBBADdGf/c0PGPGPguABFQgwgAujL+uX3GP2KPlwGJgBpEANCN8c/tO/4Re74NUATUIAKALox/7pDxjzjgdcAioAYRAGyd8c8dOv4RBwRAhAioQgQAW2X8c8eMf8SBARAhAqoQAcDWGP/cseMfcUQARIiAKkQAsBXGPzfG+EccGQARIqAKEQCsnfHPjTX+ESMEQIQIqEIEAGtl/HNjjn/ESAEQIQKqEAHA2hj/3NjjHzFiAESIgCpEALAWxj83xfhHjBwAESKgChEAVGf8c1ONf0TE6RNP/nD0i4qAGkQAUJXxz005/hGvB4AI2E0EAIzH+OemHv+I138FIAJyIgDgeMY/N8f4R9zyGQARkBMBAIcz/rm5xj/ijg8BioCcCADYn/HPzTn+Eed8C0AE5EQAwHDGP3fpA4/MOv4RF3wNUATkRABAzvjnLn3gkbjy1c/POv4RO54DIAJyIgDgYsY/t9T4RyQPAhIBOREAcDfjn1ty/CMGPAlQBOREAMBNxj+39PhHDHwUsAjIiQAA4z9EhfGP2ONdACIgJwKAzox/rsr4R+z5MiARkBMBQEfGP1dp/CMOeBugCMiJAKAT45+rNv4RB74OWATkRADQgfHPVRz/iAMDIEIEDCECgC0z/rmq4x9xRABEiIAhRACwRcY/V3n8I44MgAgRMIQIALbE+Oeqj3/ECAEQIQKGEAHAFhj/3KUPPBKXZ36xzyFGCYAIETCECADWzPjnboz/6VvvX/ooqdECIEIEDCECgDUy/rk1jX/EyAEQIQKGEAHAmhj/3NrGP2KCAIgQAUOIAGANjH9ujeMfMVEARIiAIUQAUJnxz611/CMmDIAIETCECAAqMv65NY//tVfPpg2ACBEwhAgAKjH+ubWP/+/8+VPTB0CECBhCBAAVGP/cFsb/77/53DwBECEChhABwJKMf24r4x8x8WcA7iQCciIAWILxz21p/CNmDoAIETCECADmZPxzl97/8KbGP2KBAIgQAUOIAGAOxj936f0Px+Wvfn5T4x+xUABEiIAhRAAwJeOf2+r4RywYABEiYAgRAEzB+Oe2PP4RCwdAhAgYQgQAYzL+ua2Pf0SBAIgQAUOIAGAMxj/XYfwjigRAhAgYQgQAxzD+uS7jH1EoACJEwBAiADiE8c91Gv+IYgEQIQKGEAHAPox/rtv4RxQMgAgRMIQIAIYw/rmO4x9RNAAiRMAQIgDYxfjnuo5/ROEAiBABQ4gA4DzGP9d5/COKB0CECBhCBAC3Mv657uMfsYIAiBABQ4gAIML4D2H8r1tFAESIgCFEAPRm/HPG/6bVBECECBhCBEBPxj9n/G+3qgCIEAFDiADoxfjnjP/dVhcAESJgCBEAPRj/nPE/3yoDIEIEDCECYNuMf874X2y1ARAhAoYQAbBNxj9n/HdbdQBEiIAhRABsi/HPGf/c6gMgQgQMIQJgG4x/zvgPs4kAiBABQ4gAWDfjnzP+w20mACJEwBAiANbJ+OeM/342FQARImAIEQDrYvxzxn9/mwuACBEwhAiAdTD+uUvve4/xP8AmAyBCBAwhAqA245+79L73xOUnv2D8D7DZAIgQAUOIAKjJ+OeM/3E2HQARImCILUTAm+/9uaWPAqMx/jnjf7zNB0CECBhi7RFw/30CgG0w/jnjP44WARAhAoZYcwTAFhj/nPEfT5sAiBABQ4gAWIbxzxn/cbUKgAgRMIQIgHkZ/5zxH1+7AIgQAUOIAJiH8c9d/56/8R9bywCIEAFDiACYlvHPvTH+Dxr/sbUNgAgRMIQIgGkY/5zxn1brAIgQAUOIABiX8c8Z/+m1D4AIETCECIBxGP+c8Z+HAHidCMiJADiO8c8Z//kIgFuIgJwIgMMY/5zxn5cAuIMIyIkA2I/xzxn/+QmAc4iAnAiAYYx/zvgvQwBcQATkRADsZvxzxn85AmAHEZATAXA+458z/ssSAAkRkBMBcDvjnzP+yxMAA4iAnAiA64x/zvjXIAAGEgE5EUB3xj9n/OsQAHsQATkRQFfGP2f8axEAexIBORFAN8Y/Z/zrEQAHEAE5EUAXxj9n/GsSAAcSATkRwNYZ/9yl9z5k/IsSAEcQATkRwFYZ/9yl9z4Ul5/8M+NflAA4kgjIiQC2xvjnjH99AmAEIiAnAtiKt953j/FPGP91EAAjEQE5EcAW/Py9p8Z/B+O/HgJgRCIgJwLgbsZ/ed3GP0IAjE4E5EQA3GT8l9dx/CMEwCREQE4EgPGvoOv4RwiAyYiAnAigM+O/vM7jHyEAJiUCciKAjoz/8rqPf4QAmJwIyIkAOjH+yzP+1wmAGYiAnAigA+O/PON/kwCYiQjIiQC2zPgvz/jfTgDMSATkRABbZPyXZ/zvJgBmJgJyIoAtMf7LM/7nEwALEAE5EcAWGP/lGf+LCYCFiICcCGDNjP/yjP9uAmBBIiAnAlgj4788458TAAsTATkRwJoY/+UZ/2EEQAEiICcCWAPjvzzjP5wAKEIE5EQAlRn/5Rn//QiAQkRATgRQkfFfnvHfnwAoRgTkRACVGP/lGf/DCICCREBOBFCB8V+e8T+cAChKBOREAEsy/ssz/scRAIWJgJwIYAnGf3nG/3gn3/uPZ8+WPgS7ve2Be+PkZPzrvvKTV+KFH10d/8IL+MVfflucnE7wh5R4+sEPz35Pbnr71a/Nf9Ozs3jt2W2MzsmD98fJm+5d+hgHufbqWfz4f3+69DFW7eTq1asCAA4kAJa1SADARvgVAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaOjku/HQ2dKHAADm5ScAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDJ1evXj1b+hCwVk8/+OGlj9Da269+bekjwGr5CQAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGjonmeev7b0GVbt8i9cinvvOVn6GAc5e+VanF19celjjOL0bVciTtb598C6nL12Fv/9788ufYxRPPCOB+NNb37T6Nc9O4t49gXbUt09D33660ufYbV+431X4q9/7+Glj3GQ166+GD9+7Pfjp//6vaWPcrS3PP7xeMvjv7v0MWji5PQk/usv/iaufPFLSx/laP/z8Lvjvi9/Li6/88qo1z05ifirf3g6nnjyh6Nel3H5FcCBboz/Gv/3b/zhOI989hPx3Md/e+ljHO30qR/Ey7/1qfjxfz43+rUff+xd8fhj7xr9uoxHABzA+Ndg/FmSCMiJgNoEwJ6Mfw3GnwpEQE4E1CUA9mD8azD+VCICciKgJgEwkPGvwfhTkQjIiYB6BMAAxr8G409lIiAnAmoRAAnjX4PxZw1EQE4E1CEAdjD+NRh/1kQE5ERADQLgAsa/BuPPGomAnAhYngA4h/GvwfizZiIgJwKWJQDuYPxrMP5sgQjIiYDlCIBbGP8ajD9bIgJyImAZAuB1xr8G488WiYCcCJifAAjjX4XxZ8tEQE4EzKt9ABj/Gow/HYiAnAiYT+sAMP41GH86EQE5ETCPtgFg/Gsw/nQkAnIiYHotA8D412D86UwE5ETAtNoFgPGvwfiDCBhCBEynVQAY/xqMP9wkAnIiYBptAsD412D84W4iICcCxtciAIx/DVON/wsvvxr/d+210a8LcxIBOREwrs0HgPGvYcrx/9iffDuef/nV0a8NcxMBOREwnk0HgPGvYerx/8a/vTj6tWEpIiAnAsax2QAw/jUYf9ifCMiJgONtMgBWP/4f/YTx38H404EIyImA42wuADYx/t/87tJHOZrxh+OJgJwIONymAsD412D8YTwiICcCDrOZADD+NRh/GJ8IyImA/W0iAIx/DcYfpiMCciJgP6sPAONfg/GH6YmAnAgYbtUBYPxrMP4wHxGQEwHDrDYAjH8Nxh/mJwJyIiC3ygAw/jUYf1iOCMiJgN1WFwDGvwbjD8sTATkRcLFVBYDxr8H4Qx0iICcCzreaADD+NRh/qEcE5ETA3VYRAMa/BuMPdYmAnAi4XfkAMP41GH+oTwTkRMBNpQPA+Ndg/GE9REBOBFxXNgCMfw3GH9ZHBOREQNEAMP41GH9YLxGQ6x4B5QJg1eP/vPHPGH+YjwjIdY6AUgGw+vF/zPjvYvxhfiIg1zUCygSA8a/B+MP2iIBcxwgoEQDGvwbjD9slAnLdImDxADD+NRh/GObFl38W3//Ry0sf4yAiINcpAhYNAONfg/GH4X5y7Wfxkc98SwQsTAQcb7EAMP41GH/Y3zPPXxMBBYiA4ywSAMa/BuMPhxMBNYiAw80eAKsf/49+0vjvYPzpRATUIAIOM2sAbGL8/+WppY9yNOMP4xEBNYiA/c0WAMa/BuMP4xMBNYiA/cwSAMa/BuMP0xEBNYiA4SYPAONfg/GH6YmAGkTAMJMGgPGvwfjDfERADSIgN1kAGP8ajD/MTwTUIAJ2myQAjH8Nxh+WIwJqEAEXGz0AjH8Nxh+WJwJqEAHnGzUAjH8Nxh/qEAE1iIC7jRYAxr8G4w/1iIAaRMDtRgkA41+D8Ye6REANIuCmowPA+Ndg/KE+EVCDCLjuqAAw/jUYf1gPEVCDCDgiAIx/DcYf1kcE1NA9Ag4KAONfg/GH9RIBNXSOgL0DwPjXYPxh/URADV0jYK8AMP41GH/YDhFQQ8cIGBwAxr8G4w/bIwJq6BYBgwLA+Ndg/GG7REANnSIgDQDjX4Pxh+0TATV0iYCdAWD8azD+0IcIqKFDBFwYAMa/BuMP/YiAGrYeAecGgPGvwfhDXyKghi1HwF0BYPxrMP6ACKhhqxFwWwCsfvx/81PGfwfjD+sjAmrYYgS8EQCbGP9//s7SRzma8QfuJAJq2FoEnEYY/yqMP3AREVDDliLg1PjXYPyBjAioYSsRcGr8l2f8gaFEQA1biIBT478s4w/sSwTUsPYI2Pt1wEsz/jnjD9snAmpYcwSsKgCMf874Qx8ioIa1RsBqAsD454w/9CMCalhjBKwiAIx/zvhDXyKghrVFQPkAMP454w+IgBrWFAGlA+DshZeMf8L4AzeIgBrWEgFlA+DshZfiuY9+0vjvYPyBO4mAGtYQASUDwPjnjD9wERFQQ/UIKBcAxj9n/IGMCKihcgSUCgDjnzP+wFAioIaqEVAmAIx/zvgD+xIBNVSMgBIBYPxzxh84lAiooVoELB4Axj9n/IFjiYAaKkXAogFg/HPGHxiLCKihSgQsFgDGP2f8gbGJgBoqRMAiAWD8c8YfmIoIqGHpCJg9AIx/zvgDUxMBNSwZAbMGgPHPGX9gLiKghqUiYLYAOHvhpXjOi312Mv7A3ERADUtEwCwB8Mb4/9O357jdpIw/sDUioIa5I2DyADD+OeMPLE0E1DBnBEwaAMY/Z/yBKkRADXNFwGQBYPxzxh+oRgTUMEcETBIAxj9n/IGqREANU0fA6AFg/HPGH6hOBNQwZQSMGgDGP2f8gbUQATVMFQGjBYDxzxl/YG1EQA1TRMAoAWD8c8YfWCsRUMPYEXB0ABj/nPEH1k4E1DBmBBwVAMY/Z/yBrRABNYwVAQcHgPHPGX9ga0RADWNEwEEBYPxzxh/YKhFQw7ERsHcAGP+c8Qe2TgTUcEwE7BUAxj9n/IEuREANh0bA4AAw/jnjD3QjAmo4JAIGBYDxzxl/oCsRUMO+EZAGgPHPGX+gOxFQwz4RsDMAjH/O+ANcJwJqGBoBFwaA8c8Zf4DbiYAahkTAuQFg/HPGH+B8IqCGLALuCgDjnzP+ALuJgBp2RcBtAWD8c8YfYBgRUMNFEfBGABj/nPEH2I8IqOG8CDiNeH38P2b8dzH+AIcRATXcGQGnb4z/N4z/RYw/wHFEQA23RsCp8d/N+AOMQwTUcCMCTo3/xYw/wLhEQA2nT/1g/9cBV2P8AdZFBNSw6gAw/gDrJAKWt9oAMP4A6yYClrXKADD+ANsgApazugAw/gDbIgKWsaoAMP4A2yQC5reaADD+ANsmAua1igAw/gA9iID5lA8A4w/QiwiYR+kAMP4APYmA6ZUNAOMP0JsImFbJADD+AESIgCmVCwDjD8CtRMA0SgWA8QfgPCJgfGUCwPgDsIsIGFeJADD+AAwhAsazeAAYfwD2IQLGsWgAGH8ADiECjrdYABh/AI4hAo6zSAAYfwDGIAION3sAGH8AxiQCDjNrABh/AKYgAvY3WwAYfwCmJAL2M0sAGH8A5iAChps8AIw/AHMSAcNMGgDGH4AliIDcZAFg/AFYkgjYbZIAMP4AVCACLjZ6ABh/ACoRAecbNQCMPwAViYC7jRYAxh+AykTA7UYJAOMPwBqIgJuODgDjD8CaiIDrjgoA4w/AGomAIwLA+AOwZt0j4KAAMP4AbEHnCNg7AIw/AFvSNQL2CgDjD8AWdYyAwQFg/AHYsm4RMCgAjD8AHXSKgDQAjD8AnXSJgJ0BYPwB6KhDBFwYAMYfgM62HgHnBoDxB4BtR8BdAWD8AeCmrUbAbQFg/AHgbluMgDcCwPgDwMW2FgGnEcYfAIbYUgScGn8AGG4rEfD/e+n9oFIHAacAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAiESURBVHic7dkxEcJQAAXBhIkLBj/UkYAqagQgBAWIoIiD4OL/4nYVvPJm3vpabucCAKRcZg8AAMYTAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAjarvt99gYAYLD1OI5z9ggAYCwXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAEbY/nd/YGAGCw7f35zd4AAAzmAgCAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAoD+jxw59wgOPLQAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(1),i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(22),d=n(3),u=n(14),m=n(23),p=n(9);function f(){var e=Object(c.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n  \n  .btn-magic-link {\n    background-color: #7a1b8b;\n    color: #fff;\n  }  \n"]);return f=function(){return e},e}var b=d.a.form(f());t.default=s.a.memo((function(e){var t=e.dictionary,n=Object(p.G)(),c=Object(p.eb)(),d={email:Object(o.useRef)(null)},f=Object(o.useState)({email:"",remember_me:!0}),h=Object(i.a)(f,2),_=h[0],O=h[1],E=Object(o.useState)({valid:{},message:{}}),g=Object(i.a)(E,2),A=g[0],v=g[1],j=Object(o.useCallback)((function(e){e.persist(),O((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.dataset.name,!t[e.target.dataset.name]))}))}),[O]),C=Object(o.useCallback)((function(e){e.persist(),O((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e.target.name,e.target.value.trim()))})),v((function(t){return Object(r.a)(Object(r.a)({},t),{},{valid:Object(r.a)(Object(r.a)({},t.valid),{},Object(a.a)({},e.target.name,void 0)),message:Object(r.a)(Object(r.a)({},t.message),{},Object(a.a)({},e.target.name,void 0))})}))}),[O,v]);return s.a.createElement(b,{className:"fadeIn"},s.a.createElement(m.e,{onChange:C,name:"email",isValid:A.valid.email,feedback:A.message.email,placeholder:"Email",innerRef:d.email,type:"email",autoFocus:!0}),s.a.createElement("div",{className:"form-group d-flex justify-content-between"},s.a.createElement(m.a,{name:"remember_me",checked:_.remember_me,onClick:j},t.rememberMe)),s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault(),function(){var e={},n={};return""===_.email?(e.email=!1,n.email=t.emailRequired):u.a.test(_.email)?e.email=!0:(e.email=!1,n.email=t.invalidEmail),v({valid:e,message:n}),!Object.values(e).some((function(e){return!1===e}))}()&&!n.isActive&&(n.show(),c.checkEmail(_.email,(function(e,a){a&&a.data.status?c.sendMagicLink(_.email,(function(e,a){n.hide(),e&&v({valid:{email:!1},message:{email:t.notAllowedForExternal}})})):(v({valid:{email:!1},message:{email:t.emailNotFound}}),n.hide())})))}},t.sendLink),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),s.a.createElement("ul",{className:"list-inline"},s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("span",{onClick:c.googleLogin,className:"btn btn-floating btn-google"},s.a.createElement("i",{className:"fa fa-google"})))),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-muted"},t.takeADifferentAction),s.a.createElement(l.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow)," or ",s.a.createElement(l.b,{className:"btn btn-outline-light btn-sm",to:"/login"},t.login))}))},function(e,t,n){"use strict";n.r(t);var a,r=n(2),i=n(0),c=n.n(i),o=n(3),s=n(169),l=o.a.div(a||(a=Object(r.a)(["\n  .chat-sidebar-panel {\n    max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    flex: 1 1 auto;\n    @media (min-width: 1920px) {\n      max-width: calc(100% - 540px);\n    }\n  }\n  @media (max-width: 1550px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 45%;\n      max-width: 45%;\n    }\n    .chat-content-panel {\n      flex: 0 0 55%;\n      max-width: 55%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n  .row {\n    flex-wrap: unset;\n  }\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t;return null!==localStorage.getItem("chat_translate_change")&&(localStorage.removeItem("chat_translate_change"),window.location.reload()),c.a.createElement(l,{className:"company-chat ".concat(n)},c.a.createElement("div",{className:"row no-gutters chat-block"},c.a.createElement(s.f,{className:"col-lg-4 chat-sidebar-panel"}),c.a.createElement(s.a,{className:"col-lg-8 chat-content-panel"})))}},function(e,t,n){"use strict";n.r(t);var a,r=n(2),i=n(0),c=n.n(i),o=n(3),s=n(9),l=n(98),d=n(30),u=o.a.div(a||(a=Object(r.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));t.default=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.match,r=e.actions,i=a.params,o=Object(s.cb)()._t,m=Object(s.i)(),p=m.timelineInit,f=m.timelineItems,b=m.recentPostsInit,h=Object(s.k)().posts,_=window.innerWidth,O={aboutThisWorkspace:o("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:o("TEAM","Team"),timeline:o("TIMELINE","Timeline"),noRecentPosts:o("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:o("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:o("FILE_ATTACHMENTS","File attachments"),attachedFile:o("ATTACHED_A_FILE","attached a file"),sharedThePost:o("SHARED_THE_POST","shared the post"),hasJoined:o("TIMELINE.HAS_JOINED","has joined"),hasLeft:o("TIMELINE.HAS_LEFT","has left"),youJoined:o("TIMELINE.YOU_JOINED","You joined"),youLeft:o("TIMELINE.YOU_LEFT","You left"),isAdded:o("TIMELINE.IS_ADDED","is added"),isRemoved:o("TIMELINE.IS_REMOVED","is removed"),createdThePost:o("TIMELINE.CREATED_POST","created the post"),isAddedToCompany:o("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company"),updatedWorkspaceTo:o("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:o("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:o("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:o("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:o("TEAM.REVOKE_APPROVER","Assign as approver"),remove:o("TEAM.REMOVE","Remove"),showMore:o("SHOW_MORE","Show more"),showLess:o("SHOW_LESS","Show less")};return c.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(n)},c.a.createElement("div",{className:"row"},_>620?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-md-6"},c.a.createElement(d.a,{init:p,timeline:f,actions:r,params:i,dictionary:O})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(l.a,{dictionary:O}),c.a.createElement(l.b,{posts:h,dictionary:O}))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"col-md-12"},c.a.createElement(l.a,{dictionary:O}),c.a.createElement(l.b,{init:b,posts:h,dictionary:O}),c.a.createElement(d.a,{init:p,timeline:f,actions:r,params:i,dictionary:O})))))}))},function(e,t,n){"use strict";n.r(t);var a,r,i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(39),d=n(3),u=n(104),m=n(9),p=n(121),f=n(14),b=d.a.div(a||(a=Object(c.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n"]))),h=Object(d.a)(u.a)(r||(r=Object(c.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"])));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(m.fb)(),r=a.users,c=a.loggedUser,d=a.selectUserChannel,u=Object(l.g)(),_=Object(o.useState)(""),O=Object(i.a)(_,2),E=O[0],g=O[1],A={search:Object(o.useRef)()},v=function(e){u.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},j=function(e){return d(e)};Object(o.useEffect)((function(){A.search.current.focus()}),[]);var C=Object.values(r).sort((function(e,t){return e.name.toString().localeCompare(t.name)})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email)&&("internal"===e.type&&(1===e.active&&(""===E||-1!==e.name.toLowerCase().search(E.toLowerCase())||-1!==e.email.toLowerCase().search(E.toLowerCase()))))})),T=Object(m.cb)()._t,y={searchPeoplePlaceholder:T("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:T("PEOPLE.EXTERNAL","External"),peopleInvited:T("PEOPLE.INVITED","Invited")};return s.a.createElement(b,{className:"workspace-people container-fluid h-100 ".concat(n)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement(h,{ref:A.search,value:E,closeButton:"true",onClickEmpty:function(){g("")},placeholder:y.searchPeoplePlaceholder,onChange:function(e){g(e.target.value)},autoFocus:!0}),s.a.createElement("div",{className:"row"},C.map((function(e){return s.a.createElement(p.a,{loggedUser:c,key:e.id,user:e,onNameClick:v,onChatClick:j,dictionary:y})}))))))}))},function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,s,l=n(6),d=n(2),u=n(0),m=n.n(u),p=n(39),f=n(3),b=n(7),h=n(9),_=n(129),O=n(54),E=f.a.div(a||(a=Object(d.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),g=f.a.span(r||(r=Object(d.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),A=f.a.div(i||(i=Object(d.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),v=f.a.div(c||(c=Object(d.a)(["\n  //text-align: right;\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),j=Object(f.a)(b.s)(o||(o=Object(d.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),C=f.a.div(s||(s=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t,a=Object(p.i)(),r=Object(p.g)(),i=Object(h.X)(),c=Object(h.k)(),o=c.actions,s=c.fetchMore,d=c.posts,f=c.filter,T=c.tag,y=c.postListTag,S=c.sort,w=c.post,k=c.user,N=c.search,R=c.count,x=c.postLists,I=c.counters,P=w?Object.values(w.user_reads).sort((function(e,t){return e.name.localeCompare(t.name)})):[],D=w&&w.required_users?w.required_users:[],L=Object(u.useState)(!1),F=Object(l.a)(L,2),M=F[0],U=F[1],G=Object(u.useState)(!1),H=Object(l.a)(G,2),B=H[0],W=H[1],Y=Object(u.useState)({}),z=Object(l.a)(Y,2),V=z[0],Q=z[1],q="external"===k.type,K=Object(u.useRef)(!0),J=function(){a.hasOwnProperty("postId")&&r.push("/posts")},Z=Object(h.cb)()._t,X={createNewPost:Z("POST.CREATE_NEW_POST","Create new post"),all:Z("POST.ALL","All"),inbox:Z("POST.INBOX","Inbox"),newReply:Z("POST.NEW_REPLY","New reply"),myPosts:Z("POST.MY_POSTS","My sent posts"),starred:Z("POST.STARRED","Starred"),archived:Z("POST.ARCHIVED","Archived"),draft:Z("POST.DRAFT","Draft"),drafts:Z("POST.DRAFTS","Drafts"),category:Z("POST.CATEGORY","Category"),replyRequired:Z("POST.REPLY_REQUIRED","Reply required"),mustRead:Z("POST.MUST_READ","Must read"),noReplies:Z("POST.NO_REPLIES","No replies"),sortBy:Z("POST.SORT_BY","Sort by"),starredFavorite:Z("POST.STARRED_FAVORITE","Starred / Favorite"),recent:Z("POST.RECENT","Recent"),unread:Z("POST.UNREAD","Unread"),searchPost:Z("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:Z("POST.MARK_AS_READ","Mark as read"),markAsUnread:Z("POST.MARK_AS_UNREAD","Mark as unread"),share:Z("POST.SHARE","Share"),snooze:Z("POST.SNOOZE","Snooze"),follow:Z("POST.FOLLOW","Follow"),unFollow:Z("POST.UNFOLLOW","Unfollow"),files:Z("POST.FILES","Files"),comment:Z("POST.COMMENT","Comment"),editPost:Z("POST.EDIT_POST","Edit post"),editReply:Z("POST.EDIT_REPLY","Edit reply"),removeReply:Z("POST.REMOVE_REPLY","Remove reply"),quote:Z("POST.QUOTE","Quote"),mentionUser:Z("POST.MENTION_USER","Mention user"),remindMeAboutThis:Z("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:Z("POST.SEARCH_RESULT","Search Result:"),searchResults:Z("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:Z("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:Z("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:Z("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:Z("POST.PRIVATE","Private"),by:Z("POST.BY","by"),star:Z("POST.STAR","Mark with star"),unStar:Z("POST.UNSTAR","Unmark star"),alreadyReadThis:Z("POST.ALREADY_READ_THIS","I've read this"),readByNumberofUsers:1===P?Z("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_name::",{user_name:P[0].first_name}):Z("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:P.length}),me:Z("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:Z("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:Z("SHOW_MORE","Show more"),showLess:Z("SHOW_LESS","Show less"),markAll:Z("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:Z("POST.ARCHIVE_ALL","Archive all"),noComment:Z("POST.NO_COMMENT","no comment"),oneComment:Z("POST.ONE_COMMENT","1 comment"),comments:Z("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:Z("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:Z("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Z("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:Z("POST.ARCHIVE","Archive"),requestChange:Z("POST.REQUEST_CHANGE","Request for change"),accept:Z("POST.ACCEPT","Accept"),hasAcceptedProposal:Z("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:Z("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:Z("POST.ACTION_NEEDED","Action needed"),changeRequested:Z("POST.CHANGE_REQUESTED","Change requested"),accepted:Z("POST.ACCEPTED","Accepted"),requestForApproval:Z("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:Z("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:Z("POST.REPLIES_CLOSED","Replies closed"),openThisPost:Z("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:Z("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:Z("POST.REOPEN","Reopen"),closed:Z("POST.CLOSED","Closed"),createNewList:Z("POST.CREATE_NEW_LIST","New List"),addToList:Z("POST.ADD_TO_LIST","Add to list"),removeToList:Z("POST.REMOVE_TO_LIST","Remove to list"),ofNumberOfUsers:Z("POST.OF_NUMBER_OF_USERS","of ::user_count:: user/s",{user_count:D.length}),allOthers:Z("POST.ALL_OTHERS","All others"),sharedClientBadge:Z("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:Z("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:Z("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:Z("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:Z("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:Z("BUTTON.SELECT_ALL","Select all"),remove:Z("BUTTON.REMOVE","Remove"),errorLoadingPost:Z("TOASTER.ERROR_LOADING_POST","Error loading post")},$=Object(u.useMemo)((function(){var e=Object(O.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&W(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(u.useEffect)((function(){B&&(""!==N||w||(U(!0),s((function(e,t){K.current&&(U(!1),W(!1))}))))}),[B]),Object(u.useEffect)((function(){return o.getUnreadNotificationEntries({add_unread_comment:1}),function(){o.getUnreadNotificationEntries({add_unread_comment:1}),K.current=null}}),[]),Object(u.useEffect)((function(){a.postId&&!w&&o.fetchPostDetail({post_id:parseInt(a.postId)},(function(e,t){if(K.current&&e){o.setCompanyFilterPosts({filter:"all",tag:null}),r.push("/posts"),i.error(X.errorLoadingPost)}}))}),[a.postId,w]),Object(u.useEffect)((function(){if(y){var e=Object(O.find)(x,(function(e){return parseInt(e.id)===parseInt(y)}));if(x.map((function(t){e&&parseInt(y)===t.id&&Q(t)})),!e){Q(x[0]);var t={tag:null,postListTag:x[0].id,filter:null};o.setCompanyFilterPosts(t)}}}),[y,x]);return null===d?m.a.createElement(m.a.Fragment,null):m.a.createElement(E,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:$},m.a.createElement("div",{className:"row app-block"},m.a.createElement(_.k,{filter:f,tag:T,postListTag:y,postActions:o,count:R,postLists:x,counters:I,onGoBack:J,dictionary:X}),m.a.createElement("div",{className:"col-md-9 app-content"},m.a.createElement("div",{className:"app-content-overlay"}),!w&&m.a.createElement(_.f,{activeSort:S,search:N,dictionary:X,className:"mb-3"}),!!y&&m.a.createElement(v,null,m.a.createElement("span",null,"Filter:"),m.a.createElement(g,{className:"ml-2 recipients"},m.a.createElement("span",{className:"receiver"},m.a.createElement("span",{onClick:function(){o.setCompanyFilterPosts({tag:null,filter:"all"})}},m.a.createElement(j,{icon:"x",className:"mr-1"})),V.name))),0!==d.length||""!==N||a.hasOwnProperty("postId")?m.a.createElement(m.a.Fragment,null,w&&a.hasOwnProperty("postId")?m.a.createElement("div",{className:"card card-body app-content-body"},m.a.createElement(A,{className:"fadeBottom"},m.a.createElement(_.c,{readByUsers:P,post:w,posts:d,filter:f,postActions:o,user:k,history:r,onGoBack:J,dictionary:X,isExternalUser:q}))):!w&&a.hasOwnProperty("postId")?m.a.createElement(C,{className:"card initial-load"},m.a.createElement(b.j,null)):m.a.createElement(_.l,{actions:o,dictionary:X,filter:f,isExternalUser:q,loading:M,posts:d,search:N})):m.a.createElement(_.m,{actions:o,dictionary:X}),m.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},function(e,t,n){"use strict";n.r(t);var a,r,i,c=n(6),o=n(2),s=n(0),l=n.n(s),d=n(3),u=n(5),m=n(169),p=n(39),f=n(7),b=n(20),h=n(9),_=d.a.div(a||(a=Object(o.a)([""]))),O=d.a.div(r||(r=Object(o.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]))),E=d.a.div(i||(i=Object(o.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,r=Object(p.j)(),i=Object(u.useDispatch)(),o=Object(u.useSelector)((function(e){return e.chat.selectedChannel})),d=Object(u.useSelector)((function(e){return e.session.user})),g=Object(s.useState)(!1),A=Object(c.a)(g,2),v=A[0],j=A[1];Object(h.q)();return l.a.createElement(_,{className:"workspace-chat container-fluid ".concat(n)},l.a.createElement(O,{className:"row no-gutters chat-block"},a&&!a.team_channel.code&&r.path.startsWith("/workspace/team-chat/")&&"internal"===d.type&&l.a.createElement(E,null,l.a.createElement(f.q,{icon:3,height:252}),l.a.createElement("button",{className:"btn btn-outline-primary btn-block",disable:v,onClick:function(){v||(j(!0),i(Object(b.c)({id:a.id},(function(e,t){j(!1)}))))}},v?"Activating...":"Activate chat")),(r.path.startsWith("/workspace/chat")&&o&&o.id===a.channel.id||a&&a.team_channel.code&&"internal"===d.type&&o&&o.team)&&l.a.createElement(m.a,{className:"col-lg-12",isWorkspace:!0,selectedChannel:o})))}},function(e,t,n){"use strict";n.r(t);var a,r,i=n(1),c=n(6),o=n(2),s=n(0),l=n.n(s),d=n(5),u=n(39),m=n(3),p=n(14),f=n(13),b=n(9),h=n(108),_=m.a.div(a||(a=Object(o.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]))),O=m.a.div(r||(r=Object(o.a)(["\n  padding-top: 10px;\n"])));t.default=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,r=e.workspace,o=Object(d.useDispatch)(),m=Object(u.g)(),E=Object(b.cb)()._t,g=Object(b.s)(!0),A=g.params,v=g.wsFiles,j=g.actions,C=g.topic,T=g.fileIds,y=g.folders,S=g.folder,w=g.subFolders;Object(b.q)();var k=Object(s.useState)(""),N=Object(c.a)(k,2),R=N[0],x=N[1],I=Object(s.useState)(""),P=Object(c.a)(I,2),D=P[0],L=P[1],F={dropZone:Object(s.useRef)(null)},M=!1;r&&0===r.active&&(M=!0);var U=function(){j.search(D)},G=function(){L(""),j.clearSearch()},H={createFolder:E("CREATE_FOLDER","Create folder"),create:E("CREATE","Create"),updateFolder:E("UPDATE_FOLDER","Update folder"),update:E("UPDATE","Update"),editFolder:E("EDIT_FOLDER","Edit folder"),removeFolder:E("REMOVE_FOLDER","Remove folder"),renameFolder:E("RENAME.FOLDER","Rename folder"),folderInfo:E("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:E("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:E("ADD","Add"),favorite:E("FAVORITE","Favorite"),file:E("FILE","File"),folder:E("FOLDER","Folder"),folderName:E("FOLDER_NAME","Folder name"),folders:E("FOLDERS","Folders"),allFiles:E("FILES.ALL_FILES","All files"),recentlyEdited:E("FILES.RECENTLY_EDITED","Recently edited"),removed:E("FILES.REMOVED","Removed"),searchInputPlaceholder:E("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:E("UPLOAD_FILES","Upload files")},B=Object(s.useRef)(""),W=function(){B.current=""},Y=function(e){B.current=e.target.value.trim()},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",n=function(){if(C){var e={topic_id:C.id,name:B.current};A.hasOwnProperty("fileFolderId")&&(e=Object(i.a)(Object(i.a)({},e),{},{folder_id:A.fileFolderId})),j.createFolder(e,(function(e,t){if(!e)if(A.hasOwnProperty("fileFolderId")){var n=m.location.pathname.split("/folder/")[0];m.push(n+"/folder/".concat(t.data.folder.id,"/").concat(Object(p.h)(t.data.folder.search)))}else m.push(m.location.pathname+"/folder/".concat(t.data.folder.id,"/").concat(Object(p.h)(t.data.folder.search)))}))}},a=function(){if(C){j.updateFolder({id:e.id,topic_id:C.id,name:B.current},(function(e,t){if(!e&&A.hasOwnProperty("fileFolderId")){var n=m.location.pathname.split("/folder/")[0];m.push(n+"/folder/".concat(t.data.folder.id,"/").concat(Object(p.h)(t.data.folder.search)))}}))}},r={type:"single_input",defaultValue:"",label:H.folderName,postInputLabel:S?l.a.createElement(O,null,"The folder will be created inside ",l.a.createElement("b",null,"#",S.search)):"",onChange:Y,onClose:W};"add"===t?r=Object(i.a)(Object(i.a)({},r),{},{title:H.createFolder,preInputLabel:H.folderInfo,labelPrimaryAction:H.create,onPrimaryAction:n}):(B.current=e.search,r=Object(i.a)(Object(i.a)({},r),{},{defaultValue:e.search,title:H.renameFolder,preInputLabel:H.renameFolderInfo,labelPrimaryAction:H.renameFolder,onPrimaryAction:a})),o(Object(f.a)(r))},V=function(){x("")};return Object(s.useEffect)((function(){S&&S.is_archived&&"removed"!==R&&x("removed")}),[S,R,x]),l.a.createElement(_,{className:"container-fluid h-100 fadeIn ".concat(n)},l.a.createElement("div",{className:"row app-block"},"undefined"===typeof v||null===v?l.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(h.g,{actions:j,isMember:a,clearFilter:V,params:A,dropZoneRef:F.dropZone,className:"col-lg-3",filterFile:function(e){if(A.hasOwnProperty("fileFolderId")){var t=m.location.pathname.split("/folder/")[0];m.push(t)}x(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:R,wsFiles:v,folders:y,activeFolder:S,dictionary:H,disableOptions:M,workspace:r}),l.a.createElement("div",{className:"col-md-9 app-content mb-4"},l.a.createElement("div",{className:"app-content-overlay"}),l.a.createElement(h.f,{isMember:a,clearFilter:V,dropZoneRef:F.dropZone,history:m,params:A,onSearch:U,onSearchChange:function(e){""===e.target.value&&G(),L(e.target.value)},onEnter:function(e){"Enter"===e.key&&U()},wsFiles:v,handleAddEditFolder:z,folders:y,dictionary:H,disableOptions:M,onClickEmpty:G,value:D}),l.a.createElement(h.d,{dropZoneRef:F.dropZone,filter:R,search:D,folders:y,folder:S,fileIds:T,isMember:a,subFolders:w,history:m,actions:j,params:A,wsFiles:v,handleAddEditFolder:z,dictionary:H,disableOptions:M})))))}))},function(e,t,n){"use strict";n.r(t);var a,r,i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(39),d=n(3),u=n(104),m=n(9),p=n(121),f=n(14),b=n(7),h=n(13),_=n(5),O=d.a.div(a||(a=Object(c.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n"]))),E=Object(d.a)(u.a)(r||(r=Object(c.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 1rem;\n  }\n"])));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=e.isMember,c=e.workspace,d=Object(_.useDispatch)(),u=Object(m.fb)(),g=u.selectUserChannel,A=u.loggedUser,v=Object(_.useSelector)((function(e){return e.workspaces})).activeTopic,j=Object(l.g)();Object(m.q)();var C=Object(o.useState)(""),T=Object(i.a)(C,2),y=T[0],S=T[1],w={search:Object(o.useRef)()},k=function(e){j.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},N=function(e){return g(e)};Object(o.useEffect)((function(){w.search.current.focus()}),[]);var R=[];c&&(R=c.members);var x=R.filter((function(e){return""===y||-1!==e.name.toLowerCase().search(y.toLowerCase())||-1!==e.email.toLowerCase().search(y.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)})),I=Object(m.cb)()._t,P={searchPeoplePlaceholder:I("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:I("PEOPLE.EXTERNAL","External"),peopleInvited:I("PEOPLE.INVITED","Invited"),peopleManage:I("PEOPLE.MANAGE","Manage People"),roleAdvisor:I("ROLE.ADVISOR","Advisor"),roleApprover:I("ROLE.APPROVER","Approver"),roleClient:I("ROLE.CLIENT","Client"),roleCommunicationLead:I("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:I("ROLE.DESIGNER","Designer"),roleDeveloper:I("ROLE.DEVELOPER","Developer"),roleFreelancer:I("ROLE.FREELANCER","Freelancer"),roleSupervisor:I("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:I("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:I("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:I("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:I("ROLE.WATCHER","Watcher")};return Object(m.v)(w.search.current),s.a.createElement(O,{className:"workspace-people fadeIn container-fluid ".concat(n)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"people-header"},s.a.createElement(E,{ref:w.search,value:y,closeButton:"true",onClickEmpty:function(){S("")},placeholder:P.searchPeoplePlaceholder,onChange:function(e){S(e.target.value)},autoFocus:!0}),!a&&r&&s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:v};d(Object(h.a)(e))}},s.a.createElement(b.s,{className:"mr-2",icon:"user-plus"})," ",P.peopleManage))),s.a.createElement("div",{className:"row"},x.map((function(e){return s.a.createElement(p.a,{key:e.id,loggedUser:A,user:e,onNameClick:k,onChatClick:N,dictionary:P,showWorkspaceRole:!0})}))))))}))},function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,s,l=n(1),d=n(6),u=n(2),m=n(0),p=n.n(m),f=n(39),b=n(3),h=n(7),_=n(9),O=n(75),E=n(54),g=n(17),A=n(20),v=n(5),j=b.a.div(a||(a=Object(u.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),C=b.a.div(r||(r=Object(u.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),T=b.a.div(i||(i=Object(u.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),y=b.a.span(c||(c=Object(u.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),S=Object(b.a)(h.s)(o||(o=Object(u.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),w=b.a.div(s||(s=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,r=e.isMember,i=Object(f.i)(),c=Object(f.g)(),o=Object(_.X)(),s=Object(v.useDispatch)();Object(_.q)();var u=Object(_.J)(),b=u.actions,k=u.posts,N=u.filter,R=u.tag,x=u.sort,I=u.post,P=u.user,D=u.search,L=u.count,F=u.postLists,M=u.counters,U=u.filters,G=u.postListTag,H=I?Object.values(I.user_reads).sort((function(e,t){return e.name.localeCompare(t.name)})):[],B=I&&I.required_users?I.required_users:[],W=Object(m.useState)(!1),Y=Object(d.a)(W,2),z=Y[0],V=Y[1],Q=Object(m.useState)(!1),q=Object(d.a)(Q,2),K=q[0],J=q[1],Z=Object(m.useState)({}),X=Object(d.a)(Z,2),$=X[0],ee=X[1],te=Object(m.useRef)(!0),ne="external"===P.type,ae=function(){if(i.hasOwnProperty("postId")){var e=c.location.pathname.split("/post/")[0];c.push(e)}};Object(m.useEffect)((function(){return i.hasOwnProperty("workspaceId")&&b.getUnreadWsPostsCount({topic_id:i.workspaceId}),function(){te.current=null}}),[]),Object(m.useEffect)((function(){i.hasOwnProperty("workspaceId")&&b.getRecentPosts(i.workspaceId)}),[i.workspaceId]);var re=Object(_.cb)()._t,ie={createNewPost:re("POST.CREATE_NEW_POST","Create new post"),all:re("POST.ALL","All"),inbox:re("POST.INBOX","Inbox"),newReply:re("POST.NEW_REPLY","New reply"),myPosts:re("POST.MY_POSTS","My sent posts"),starred:re("POST.STARRED","Starred"),archived:re("POST.ARCHIVED","Archived"),draft:re("POST.DRAFT","Draft"),drafts:re("POST.DRAFTS","Drafts"),category:re("POST.CATEGORY","Category"),replyRequired:re("POST.REPLY_REQUIRED","Reply required"),mustRead:re("POST.MUST_READ","Must read"),noReplies:re("POST.NO_REPLIES","No replies"),sortBy:re("POST.SORT_BY","Sort by"),starredFavorite:re("POST.STARRED_FAVORITE","Starred / Favorite"),recent:re("POST.RECENT","Recent"),unread:re("POST.UNREAD","Unread"),searchPost:re("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:re("POST.MARK_AS_READ","Mark as read"),markAsUnread:re("POST.MARK_AS_UNREAD","Mark as unread"),share:re("POST.SHARE","Share"),snooze:re("POST.SNOOZE","Snooze"),follow:re("POST.FOLLOW","Follow"),unFollow:re("POST.UNFOLLOW","Unfollow"),files:re("POST.FILES","Files"),comment:re("POST.COMMENT","Comment"),editPost:re("POST.EDIT_POST","Edit post"),editReply:re("POST.EDIT_REPLY","Edit reply"),removeReply:re("POST.REMOVE_REPLY","Remove reply"),quote:re("POST.QUOTE","Quote"),mentionUser:re("POST.MENTION_USER","Mention user"),remindMeAboutThis:re("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:re("POST.SEARCH_RESULT","Search Result:"),searchResults:re("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:re("POST.NO_SEARCH_RESULT","No result found:"),private:re("POST.PRIVATE","Private"),by:re("POST.BY","by"),star:re("POST.STAR","Mark with star"),unStar:re("POST.UNSTAR","Unmark star"),alreadyReadThis:re("POST.ALREADY_READ_THIS","I've read this"),readByNumberofUsers:1===H?re("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_name::",{user_name:H[0].first_name}):re("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:H.length}),me:re("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:re("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:re("SHOW_MORE","Show more"),showLess:re("SHOW_LESS","Show less"),markAll:re("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:re("POST.ARCHIVE_ALL","Archive all"),noComment:re("POST.NO_COMMENT","no comment"),oneComment:re("POST.ONE_COMMENT","1 comment"),comments:re("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:re("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:re("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:re("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:re("POST.ARCHIVE","Archive"),requestChange:re("POST.REQUEST_CHANGE","Request for change"),accept:re("POST.ACCEPT","Accept"),hasAcceptedProposal:re("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:re("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:re("POST.ACTION_NEEDED","Action needed"),changeRequested:re("POST.CHANGE_REQUESTED","Change requested"),accepted:re("POST.ACCEPTED","Accepted"),requestForApproval:re("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:re("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:re("POST.REPLIES_CLOSED","Replies closed"),openThisPost:re("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:re("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:re("POST.REOPEN","Reopen"),closed:re("POST.CLOSED","Closed"),createNewList:re("POST.CREATE_NEW_LIST","New List"),addToList:re("POST.ADD_TO_LIST","Add to list"),removeToList:re("POST.REMOVE_TO_LIST","Remove to list"),ofNumberOfUsers:re("POST.OF_NUMBER_OF_USERS","of ::user_count:: user/s",{user_count:B.length}),allOthers:re("POST.ALL_OTHERS","All others"),sharedClientBadge:re("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:re("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:re("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:re("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:re("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:re("BUTTON.SELECT_ALL","Select all"),remove:re("BUTTON.REMOVE","Remove"),errorLoadingPost:re("TOASTER.ERROR_LOADING_POST","Error loading post")};Object(m.useEffect)((function(){i.postId&&!I&&b.fetchPostDetail({post_id:parseInt(i.postId)},(function(e,t){if(te.current&&e){var n={topic_id:a.id,filter:"all",tag:null};s(Object(A.W)(n)),c.push("/posts"),o.error(ie.errorLoadingPost)}}))}),[i.postId,I]),Object(m.useEffect)((function(){if("star"===N){b.getPosts({filters:["post","favourites"],topic_id:parseInt(i.workspaceId)},(function(e,t){if(!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(g.g)({topic_id:parseInt(i.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{favourites:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}else if("my_posts"===N){b.getPosts({filters:["post","created_by_me"],topic_id:parseInt(i.workspaceId)},(function(e,t){if(!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(g.g)({topic_id:parseInt(i.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{myPosts:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}}),[N]);var ce=function(){if(""===D&&!I){V(!0),function(){if(U&&U.unreadPosts&&U.unreadPosts.hasMore){var e={filters:["green_dot"],topic_id:a.id,skip:U.unreadPosts.skip};b.getPosts(e,(function(e,t){if(!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(g.g)({topic_id:a.id,posts:t.data.posts,files:n,filters:{unreadPosts:{skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}}();var e={filters:"archive"===N?["post","archived"]:"star"===N?["post","favourites"]:"my_posts"===N?["post","created_by_me"]:[],topic_id:a.id,skip:"archive"===N?null===U||void 0===U?void 0:U.archived.skip:"star"===N?null===U||void 0===U?void 0:U.favourites.skip:"my_posts"===N?null===U||void 0===U?void 0:U.myPosts.skip:U.all.skip};if("all"===N){if(U.all&&!U.all.hasMore)return}else if("archive"===N){if(U.archived&&!U.archived.hasMore)return}else if("star"===N){if(U.favourites&&!U.favourites.hasMore)return}else if("my_posts"===N&&U.myPosts&&!U.myPosts.hasMore)return;b.getPosts(e,(function(e,t){if(te.current&&(V(!1),J(!1)),!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(g.g)({topic_id:a.id,posts:t.data.posts,files:n,filters:Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"all"===N&&{all:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"archive"===N&&{archived:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"star"===N&&{favourites:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"myPosts"===N&&{myPosts:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}})}))}}))}},oe=Object(m.useMemo)((function(){var e=Object(E.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&J(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(m.useEffect)((function(){K&&ce()}),[K]),Object(m.useEffect)((function(){if(G){var e=Object(E.find)(F,(function(e){return parseInt(e.id)===parseInt(G)}));if(F.map((function(t){e&&parseInt(G)===t.id&&ee(t)})),!e){ee(F[0]);var t={topic_id:a.id,tag:null,postListTag:F[0].id,filter:null};s(Object(A.W)(t))}}}),[G,F]);var se=!1;return a&&0===a.active&&(se=!0),null===k?p.a.createElement(p.a.Fragment,null):p.a.createElement(j,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:oe},p.a.createElement("div",{className:"row app-block"},p.a.createElement(O.n,{disableOptions:se,isMember:r,workspace:a,filter:N,filters:U,tag:R,postListTag:G,postActions:b,count:L,postLists:F,counters:M,onGoBack:ae,dictionary:ie}),p.a.createElement("div",{className:"col-md-9 app-content"},p.a.createElement("div",{className:"app-content-overlay"}),!I&&p.a.createElement(O.h,{activeSort:x,workspace:a,search:D,dictionary:ie,className:"mb-3"}),!!G&&p.a.createElement(T,null,p.a.createElement("span",null,"Filter:"),p.a.createElement(y,{className:"ml-2 recipients"},p.a.createElement("span",{className:"receiver"},p.a.createElement("span",{onClick:function(){var e={topic_id:a.id,tag:null,postListTag:null,filter:"all"};s(Object(A.W)(e))}},p.a.createElement(S,{icon:"x",className:"mr-1"})),$.name))),0!==k.length||""!==D||i.hasOwnProperty("postId")?p.a.createElement(p.a.Fragment,null,null!==I?p.a.createElement("div",{className:"card card-body app-content-body mb-4"},p.a.createElement(C,{className:"fadeBottom"},p.a.createElement(O.e,{readByUsers:H,post:I,posts:k,filter:N,postActions:b,user:P,history:c,onGoBack:ae,dictionary:ie,workspace:a,isMember:r,disableOptions:se,isExternalUser:ne}))):!I&&i.hasOwnProperty("postId")?p.a.createElement(w,{className:"card initial-load"},p.a.createElement(h.j,null)):p.a.createElement(O.q,{actions:b,dictionary:ie,filter:N,isExternalUser:ne,loading:z,posts:k,search:D,workspace:a})):p.a.createElement(O.r,{actions:b,dictionary:ie,disableOptions:se,isMember:r}),p.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r);function c(){var e=Object(a.a)([""]);return c=function(){return e},e}var o=n(3).a.div(c());t.default=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return i.a.createElement(o,{className:"container-fluid h-100 ".concat(n)},i.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}))},function(e,t,n){"use strict";n.r(t);var a,r=n(11),i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(3),d=n(9),u=n(130),m=n(54),p=l.a.div(a||(a=Object(c.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(d.mb)(),c=a.getWorkspaceReminders,l=a.action,f=a.isLoaded,b=a.count,h=a.workspaceName,_=Object(d.cb)()._t,O=Object(o.useState)(""),E=Object(i.a)(O,2),g=E[0],A=E[1],v=Object(o.useState)(""),j=Object(i.a)(v,2),C=j[0],T=j[1],y=Object(o.useState)(!1),S=Object(i.a)(y,2),w=S[0],k=S[1],N=[_("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),_("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),_("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],R=[_("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),_("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),_("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==C&&(N=[_("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],R=[_("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===C&&"OVERDUE"===g&&(N=[].concat(Object(r.a)(N),[_("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),R=[].concat(Object(r.a)(R),[_("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var x=Object(o.useState)(Math.floor(Math.random()*N.length)),I=Object(i.a)(x,2),P=I[0],D=I[1],L={searchInputPlaceholder:_("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:_("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:_("REMINDER.TYPE_POST","Post"),typeChat:_("REMINDER.TYPE_CHAT","Chat"),typePostComment:_("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:_("REMINDER.STATUS_TODAY","Today"),statusAll:_("REMINDER.STATUS_ALL","ALL"),statusExpired:_("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:_("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:_("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:_("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:_("REMINDER.STATUS_DONE","Done"),emptyText:_("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:_("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:N[P],noItemsFoundText:R[P],actionReschedule:_("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:_("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:_("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:_("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:_("REMINDER.ACTION_REMOVE","Remove"),actionFilter:_("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:_("REMINDER.AUTHOR","Author"),reminderAssignedTo:_("REMINDER.ASSIGNED_TO","Assigned to"),todo:_("REMINDER.TO_DO","To do"),done:_("REMINDER.DONE","Done"),addDate:_("REMINDER.ADD_DATE","Add date"),addedByMe:_("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:_("REMINDER.ADDED_BY_OTHERS","Added by others")},F=Object(o.useMemo)((function(){var e=Object(m.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&k(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(o.useEffect)((function(){w&&l.loadMore()}),[w]),Object(o.useEffect)((function(){D(Math.floor(Math.random()*N.length))}),[g]);var M=c({filter:{status:g,search:C}});return s.a.createElement(p,{className:"container-fluid h-100 fadeIn ".concat(n),hasReminders:M.length>0,onScroll:F},s.a.createElement("div",{className:"row app-block"},s.a.createElement(u.d,{className:"col-lg-3",dictionary:L,todoActions:l,setFilter:function(e){A(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:g,count:b}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(u.b,{dictionary:L,onSearchChange:function(e){T(e.target.value),""===e.target.value.trim()?D(Math.floor(Math.random()*N.length)):D(0)},clearSearch:function(){T("")},searchValue:C}),s.a.createElement(u.a,{complete:!1,isLoaded:f,todoItems:M.filter((function(e){return"DONE"!==e.status})),dictionary:L,todoActions:l,filter:g,doneTodoItems:M.filter((function(e){return"DONE"===e.status})),workspaceName:h}))))}))},function(e,t,n){"use strict";n.r(t);var a,r=n(11),i=n(6),c=n(2),o=n(0),s=n.n(o),l=n(3),d=n(9),u=n(130),m=n(54),p=l.a.div(a||(a=Object(c.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(d.Z)(!0),c=a.getReminders,l=a.action,f=a.isLoaded,b=a.count,h=Object(d.cb)()._t,_=Object(o.useState)(""),O=Object(i.a)(_,2),E=O[0],g=O[1],A=Object(o.useState)(""),v=Object(i.a)(A,2),j=v[0],C=v[1],T=Object(o.useState)(!1),y=Object(i.a)(T,2),S=y[0],w=y[1],k=[h("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),h("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),h("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],N=[h("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),h("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),h("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==j&&(k=[h("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],N=[h("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===j&&"OVERDUE"===E&&(k=[].concat(Object(r.a)(k),[h("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),N=[].concat(Object(r.a)(N),[h("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var R=Object(o.useState)(Math.floor(Math.random()*k.length)),x=Object(i.a)(R,2),I=x[0],P=x[1],D={searchInputPlaceholder:h("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:h("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:h("REMINDER.TYPE_POST","Post"),typeChat:h("REMINDER.TYPE_CHAT","Chat"),typePostComment:h("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:h("REMINDER.STATUS_TODAY","Today"),statusAll:h("REMINDER.STATUS_ALL","ALL"),statusExpired:h("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:h("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:h("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:h("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:h("REMINDER.STATUS_DONE","Done"),emptyText:h("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:h("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:k[I],noItemsFoundText:N[I],actionReschedule:h("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:h("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:h("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:h("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:h("REMINDER.ACTION_REMOVE","Remove"),actionFilter:h("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:h("REMINDER.AUTHOR","Author"),reminderAssignedTo:h("REMINDER.ASSIGNED_TO","Assigned to"),todo:h("REMINDER.TO_DO","To do"),done:h("REMINDER.DONE","Done"),addDate:h("REMINDER.ADD_DATE","Add date"),addedByMe:h("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:h("REMINDER.ADDED_BY_OTHERS","Added by others")},L=Object(o.useMemo)((function(){var e=Object(m.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&w(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(o.useEffect)((function(){S&&l.loadMore()}),[S]),Object(o.useEffect)((function(){P(Math.floor(Math.random()*k.length))}),[E]);var F=c({filter:{status:E,search:j}});return s.a.createElement(p,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:L},s.a.createElement("div",{className:"row app-block"},s.a.createElement(u.d,{className:"col-lg-3",dictionary:D,todoActions:l,setFilter:function(e){g(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:E,count:b}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(u.b,{dictionary:D,onSearchChange:function(e){C(e.target.value),""===e.target.value.trim()?P(Math.floor(Math.random()*k.length)):P(0)},clearSearch:function(){C("")},searchValue:j}),s.a.createElement(u.a,{complete:!1,isLoaded:f,todoItems:F.filter((function(e){return"DONE"!==e.status})),dictionary:D,todoActions:l,filter:E,doneTodoItems:F.filter((function(e){return"DONE"===e.status}))}))))}))},,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(6),i=n(2),c=n(0),o=n.n(c),s=n(5),l=n(39),d=n(3),u=n(14),m=n(13),p=n(9),f=n(30);function b(){var e=Object(i.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return b=function(){return e},e}var h,_,O=Object(d.a)(f.c)(b()),E=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.file,i=e.files,c=e.scrollRef,s=void 0===c?null:c,l=e.actions,d=e.forceDelete,u=e.disableOptions,m=Object(p.X)();return o.a.createElement(O,{className:"file-options ".concat(n),moreButton:"more-horizontal",file:r,scrollRef:s},o.a.createElement("div",{onClick:function(){l.viewCompanyFiles(r,i)}},"View Details"),o.a.createElement("div",{onClick:function(){l.download(r)}},"Download"),d?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(){l.restoreCompanyFile(r,(function(e,t){t&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?m.success(o.a.createElement(o.a.Fragment,null,"Item ",o.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):m.success(o.a.createElement(o.a.Fragment,null,"Item ",o.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore")):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(){l.copyLink(r.view_link)}},"Share"),o.a.createElement("div",{onClick:function(){l.favorite(r)}},r.is_favorite?"Unfavorite":"Favorite"),o.a.createElement("div",{onClick:function(){l.moveCompanyFile(r)}},"Move to"),o.a.createElement("div",{onClick:function(){l.renameCompanyFile(r)}},"Rename")),!u&&o.a.createElement("div",{onClick:function(){r.hasOwnProperty("payload_id")?l.unlinkGoogleAttachment(r):l.removeCompanyFile(r,(function(){}),{forceDelete:d})}},"Remove"))})),g=n(7),A=n(74),v=d.a.div(h||(h=Object(i.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),j=Object(d.a)(g.s)(_||(_=Object(i.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),C=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.folders,s=e.file,l=e.files,d=e.actions,u=e.forceDelete,m=void 0!==u&&u,p=e.disableOptions,b=d.getFileSizeUnit(s.hasOwnProperty("size")&&"number"===typeof s.size?s.size:0),h=Object(c.useState)(s.is_favorite),_=Object(r.a)(h,2),O=_[0],A=_[1],C=Object(c.useState)("undefined"===typeof s.name?s.search:s.name),T=Object(r.a)(C,2),y=T[0],S=T[1];return Object(c.useEffect)((function(){S("undefined"===typeof s.name?s.search:s.name)}),[s.name,s.search]),o.a.createElement(v,{className:"file-list-item cursor-pointer ".concat(n),onClick:function(){d.viewCompanyFiles(s,l)}},o.a.createElement("div",{className:"card  app-file-list"},o.a.createElement("div",{className:"string"===typeof s.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===O&&o.a.createElement(j,{icon:"star"}),d.getFileIcon(s.mime_type),"number"===typeof s.id&&o.a.createElement(E,{file:s,files:l,folders:i,actions:Object(a.a)(Object(a.a)({},d),{},{favorite:function(){A((function(e){return!e})),d.favorite(s)}}),forceDelete:m,disableOptions:p}),"string"===typeof s.id&&o.a.createElement(f.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),o.a.createElement("div",{className:"p-2 small"},o.a.createElement(g.t,{content:y},o.a.createElement("div",{className:"file-name"},s.hasOwnProperty("payload_id")&&o.a.createElement(g.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),y)),o.a.createElement("div",{className:"text-muted"},b.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],b.unit))))}));function T(){var e=Object(i.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return T=function(){return e},e}function y(){var e=Object(i.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return y=function(){return e},e}var S,w,k,N,R=d.a.div(y()),x=Object(d.a)(g.s)(T()),I=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.actions,i=e.history,c=e.params,s=e.handleAddEditFolder,d=e.disableOptions,m=Object(l.j)(),p=m.path,f=m.url;return o.a.createElement(R,{className:"file-list-item cursor-pointer ".concat(n),onClick:function(e){if(e.preventDefault(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===p){var t=f.split("/folder/")[0];i.push(t+"/folder/".concat(a.id,"/").concat(Object(u.h)(a.search)))}else i.push(i.location.pathname+"/folder/".concat(a.id,"/").concat(Object(u.h)(a.search)))}},o.a.createElement("div",{className:"card  app-file-list"},o.a.createElement("div",{className:"app-file-icon"},a.hasOwnProperty("payload")&&o.a.createElement(x,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),o.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!d&&o.a.createElement(le,{folder:a,actions:r,history:i,params:c,handleAddEditFolder:s})),o.a.createElement("div",{className:"p-2 small"},o.a.createElement(g.t,{content:a.search},o.a.createElement("div",{className:"file-name"},a.search)))))})),P=d.a.div(S||(S=Object(i.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),D=Object(d.a)(f.c)(w||(w=Object(i.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]))),L=d.a.div(k||(k=Object(i.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),F=d.a.div(N||(N=Object(i.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]))),M=o.a.memo((function(e){var t=e.className,i=void 0===t?"":t,l=e.dropZoneRef,d=e.filter,u=e.search,m=e.files,p=e.handleAddEditFolder,f=e.actions,b=e.params,h=e.folders,_=e.folder,O=e.fileIds,E=e.history,v=e.subFolders,j=e.dictionary,T=e.disableOptions,y=e.loadMore,S=e.isLoaded,w=document.querySelector(".app-content-body"),k=Object(s.useSelector)((function(e){return e.session.user})),N={files:Object(c.useRef)(null),btnLoadMore:Object(c.useRef)(null)},R=Object(c.useState)(!1),x=Object(r.a)(R,2),M=x[0],U=x[1],G=function(){l.current&&l.current.open()},H=function(){U(!1)},W=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&N.btnLoadMore.current&&N.btnLoadMore.current.click()};return Object(c.useEffect)((function(){if(N.files.current){var e=N.files.current;return e&&"0"===e.dataset.loaded?(y.files(),e.dataset.loaded="1",N.files.current.addEventListener("scroll",W,!1),function(){return N.files.current.removeEventListener("scroll",W,!1)}):void 0}}),[N.files.current]),o.a.createElement(P,{className:"files-body card app-content-body ".concat(i),onDragOver:function(){["recent","important","removed"].includes(d)||M||U(!0)}},o.a.createElement("span",{className:"d-none",ref:N.btnLoadMore,onClick:y.files},"Load more"),!T&&o.a.createElement(A.a,{ref:l,hide:!M,onDragLeave:H,onDrop:function(e){!function(e){U(!1);var t=Math.floor(Date.now()/1e3),r=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].reference_id=n(64).generate(),r.append("files["+i+"]",e[i]));var c={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:_?_.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:k.id,view_link:null,uploading:!0}})),folder_id:_?_.id:null};f.uploadingCompanyFiles(c);var o={is_primary:0,files:r};b.folderId&&(o=Object(a.a)(Object(a.a)({},o),{},{folder_id:b.folderId})),f.uploadCompanyBulkFiles(o)}(e.acceptedFiles)},onCancel:H,params:b}),o.a.createElement("div",{ref:N.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof m&&o.a.createElement(o.a.Fragment,null,_&&"removed"!==d&&!T&&o.a.createElement(D,{moreButton:"settings"},o.a.createElement("div",{onClick:function(){p(_,"update")}},j.editFolder),o.a.createElement("div",{onClick:function(){if(_){f.removeFolder(_,(function(e,t){if(!e&&t){var n=E.location.pathname.split("/folder/")[0];E.push(n)}}))}}},j.removeFolder)),"removed"===d&&m&&m.hasOwnProperty("trash_files")&&(Object.keys(m.trash_files).length>0||Object.values(h).filter((function(e){return e.is_archived})).length>0)&&o.a.createElement(g.s,{icon:"trash",onClick:f.removeAllCompanyTrashFiles}),""===d&&o.a.createElement(o.a.Fragment,null,"undefined"===typeof b.folderId&&o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},j.allFiles),_&&o.a.createElement(B,{folder:_,history:E,dictionary:j,folders:h}),o.a.createElement("div",{className:"row"},b.hasOwnProperty("folderId")?v.filter((function(e){return!e.is_archived})).map((function(e){return o.a.createElement(I,{key:e.id,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:T,folder:e,history:E,params:b,handleAddEditFolder:p})})):Object.values(h).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return o.a.createElement(I,{key:e.id,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:T,folder:e,history:E,params:b,handleAddEditFolder:p})}))),"undefined"!==typeof b.folderId?o.a.createElement(o.a.Fragment,null,_?o.a.createElement(o.a.Fragment,null,o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},_.search),o.a.createElement("div",{className:"row"},m&&O.map((function(e){return m.files.hasOwnProperty(e)?o.a.createElement(C,{key:e,scrollRef:w,actions:f,folders:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:m.files[e],files:m.files,disableOptions:T}):null}))),m&&0===O.length&&o.a.createElement(L,null,o.a.createElement(g.q,{icon:4,height:282}),o.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:G,disabled:T},j.uploadFiles))):o.a.createElement(o.a.Fragment,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},m&&O.map((function(e){return m.files.hasOwnProperty(e)?o.a.createElement(C,{key:e,scrollRef:w,actions:f,folders:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:m.files[e],files:m.files,disableOptions:T}):null}))),m&&m.popular_files.length>0&&o.a.createElement(he,{search:u,scrollRef:w,files:Object.values(m.files).filter((function(e){return m.popular_files.includes(e.id)})),actions:f,disableOptions:T}),m&&m.recently_edited.length>0&&o.a.createElement(Ee,{search:u,scrollRef:w,files:Object.values(m.files).filter((function(e){return m.recently_edited.includes(e.id)})),actions:f,disableOptions:T}),S&&0===m.popular_files.length&&0===m.recently_edited.length&&0===O.length&&0===Object.values(h).filter((function(e){return!0!==e.is_archived})).length&&0===v.length&&o.a.createElement(L,null,o.a.createElement(g.q,{icon:4,height:282}),o.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:G,disabled:T},j.uploadFiles)),!S&&o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===d&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee,{search:u,scrollRef:w,files:Object.values(m.files).filter((function(e){return m.recently_edited.includes(e.id)})),actions:f,disableOptions:T}),!(m&&m.recently_edited.length>0)&&o.a.createElement(L,null,o.a.createElement(g.q,{icon:4,height:282}))),"important"===d&&o.a.createElement(o.a.Fragment,null,o.a.createElement(pe,{search:u,scrollRef:w,files:Object.values(m.files).filter((function(e){return m.favorite_files.includes(e.id)})),actions:f,dictionary:j}),!(m&&m.hasOwnProperty("favorite_files")&&m.favorite_files.length>0)&&o.a.createElement(L,null,o.a.createElement(g.q,{icon:4,height:282}),o.a.createElement(F,null,o.a.createElement("p",null,"No favorite files."),o.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===d&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ce,{scrollRef:w,search:u,files:m.trash_files,actions:f,params:b,folders:h,subFolders:v,handleAddEditFolder:p,folder:_,disableOptions:T}),!(m&&m.hasOwnProperty("trash_files")&&Object.keys(m.trash_files).length>0)&&!(Object.values(h).some((function(e){return e.is_archived}))||v.some((function(e){return e.is_archived})))&&o.a.createElement(L,null,o.a.createElement(g.q,{icon:4,height:282}))))))})),U=n(156);function G(){var e=Object(i.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return G=function(){return e},e}var H=d.a.div(G()),B=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.history,s=e.dictionary,d=e.folders,m=e.workspaceID,p=Object(l.j)().url,f=Object(c.useState)(!1),b=Object(r.a)(f,2),h=b[0],_=b[1];return Object(c.useEffect)((function(){a.parent_folder&&Object.values(d).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?_(!0):_(!1))})),a.parent_folder||_(!1)}),[a]),o.a.createElement(H,{className:"files-breadcrumb d-flex ".concat(n)},o.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},o.a.createElement("li",{onClick:function(){var e=i.location.pathname.split("/folder/")[0];i.push(e)}},s.allFiles),o.a.createElement(g.s,{width:12,icon:"chevron-right"}),h&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,o.a.createElement(U.a,{parentFolder:a.parent_folder,workspaceID:m,history:i})),o.a.createElement(g.s,{width:12,icon:"chevron-right"})),a.parent_folder&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{onClick:function(){return function(e){var t=p.split("/folder/")[0];i.push(t+"/folder/".concat(e.id,"/").concat(Object(u.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),o.a.createElement(g.s,{width:12,icon:"chevron-right"})),o.a.createElement("div",null,a.search)))}));function W(){var e=Object(i.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return W=function(){return e},e}var Y,z,V,Q,q=d.a.div(W()),K=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dropZoneRef,r=e.onSearchChange,i=e.onSearch,c=e.onEnter,s=e.handleAddEditFolder,l=e.folders,d=e.history,m=e.params,p=e.clearFilter,f=e.dictionary,b=e.onClickEmpty,h=e.value,_=function(e){if(p(),l.hasOwnProperty(e.target.dataset.value)){var t=l[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):m.hasOwnProperty("folderId")?d.push(d.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Object(u.h)(t.search))):d.push("/files/folder/".concat(t.id,"/").concat(Object(u.h)(t.search)))}},O={label:o.a.createElement(o.a.Fragment,null,o.a.createElement(g.s,{className:"mr-1",icon:"plus"})," ",f.add),items:[{value:"folder",label:f.folder,onClick:function(){return s("add")}},{value:"file",label:f.file,onClick:function(){a.current&&a.current.open()}}]},E={label:f.folders,items:Object.values(l).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:_}}))};return o.a.createElement(q,{className:"files-header app-action ".concat(n)},o.a.createElement("div",{className:"action-left"},o.a.createElement("ul",{className:"list-inline"},o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement(g.e,{dropdown:O})),o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement(g.e,{dropdown:E}))),o.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},o.a.createElement(g.s,{icon:"menu"}))),o.a.createElement("div",{className:"action-right"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",onChange:r,value:h,onKeyDown:c,className:"form-control",placeholder:f.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==h.trim()&&o.a.createElement("button",{onClick:b,className:"btn-cross",type:"button"},o.a.createElement(g.s,{icon:"x"})),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:i},o.a.createElement(g.s,{icon:"search"}))))))})),J=n(108),Z=d.a.div(Y||(Y=Object(i.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),X=d.a.div(z||(z=Object(i.a)([""]))),$=d.a.span(V||(V=Object(i.a)(["\n  cursor: pointer;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),ee=Object(d.a)(g.s)(Q||(Q=Object(i.a)(["\n  width: 15px;\n"]))),te=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,r=e.filterFile,i=e.filter,c=void 0===i?"all":i,s=e.dropZoneRef,l=e.storageLimit,d=void 0===l?25:l,u=e.fileCount,m=e.folders,b=e.activeFolder,h=e.clearFilter,_=e.params,O=e.disableOptions,E=Object(p.cb)()._t,A=a.getFileSizeUnit(u.storage),v=0===u.storage?0:u.storage<1e8?1e8:u.storage,j={uploadFiles:E("FILE.UPLOAD_FILES","Upload files"),allFiles:E("FILES.ALL_FILES","All files"),recentlyEdited:E("FILES.RECENTLY_EDITED","Recently edited"),favorite:E("FILE.FAVORITE","Favorite"),removed:E("FILES.REMOVED","Removed"),storageStatus:E("FILES.STORAGE_STATUS","Storage Status"),usedOf:E("FILE.USED_OF","used of"),gigabyte:E("FILE.GIGABYTE","GB")};return o.a.createElement(Z,{className:"file-sidebar bottom-modal-mobile ".concat(n)},o.a.createElement(X,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),o.a.createElement("div",{className:"card bottom-modal-mobile_inner"},o.a.createElement("div",{className:"card-body"},o.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:O},j.uploadFiles),o.a.createElement("form",{className:"d-none",id:"file-upload"},o.a.createElement("input",{type:"file",multiple:""}))),o.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},o.a.createElement("div",{className:"list-group list-group-flush"},o.a.createElement($,{onClick:r,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(ee,{className:"mr-2",icon:"folder"}),j.allFiles,o.a.createElement("span",{className:"small ml-auto"},u.all>0?u.all:null)),m&&Object.values(m).filter((function(e){return!e.is_archived})).length>0&&o.a.createElement($,{className:"d-flex align-items-center folder-list"},o.a.createElement("ul",null,Object.values(m).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return o.a.createElement(ce,{key:e.id,clearFilter:h,folders:m,params:_,folder:e,activeFolder:b})})))),o.a.createElement(J.j,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){a.uploadCompanyGoogleDriveFile(e)}))},disableOptions:O}),o.a.createElement($,{onClick:r,"data-filter":"recent",active:"recent"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(ee,{className:"mr-2",icon:"monitor"}),j.recentlyEdited),o.a.createElement($,{onClick:r,"data-filter":"important",active:"important"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(ee,{className:"mr-2",icon:"star"}),j.favorite,o.a.createElement("span",{className:"small ml-auto"},u.stars>0?u.stars:null)),o.a.createElement($,{onClick:r,"data-filter":"removed",active:"removed"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(ee,{className:"mr-2",icon:"trash"}),j.removed,o.a.createElement("span",{className:"small ml-auto"},u.trash>0?u.trash:null))),o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"mb-4"},j.storageStatus),o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("div",{className:"mr-3"},o.a.createElement(g.s,{icon:"database"})),o.a.createElement("div",{className:"flex-grow-1"},o.a.createElement(f.d,{amount:v,limit:1e9*d}),o.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},A.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],A.unit," ",j.usedOf," ",d,j.gigabyte)))))))}));function ne(){var e=Object(i.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(i.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n    \n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return ae=function(){return e},e}var re=d.a.li(ae(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),ie=d.a.ul(ne(),(function(e){return e.maxHeight})),ce=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.folders,s=e.activeFolder,d=e.clearFilter,m=Object(l.g)(),p=Object(l.j)(),f=p.params,b=p.path,h=p.url,_={container:Object(c.useRef)(null),arrow:Object(c.useRef)(null),nav:Object(c.useRef)(null)},O=Object(c.useState)(null),E=Object(r.a)(O,2),A=E[0],v=E[1],j=Object(c.useState)(null),C=Object(r.a)(j,2),T=C[0],y=C[1];return Object(c.useEffect)((function(){null!==_.nav.current&&y(_.nav.current.scrollHeight)}),[_.nav.current,T]),Object(c.useEffect)((function(){s&&s.parent_folder&&s.parent_folder.id===a.id&&v(!0)}),[f,s]),o.a.createElement(re,{ref:_.container,className:"folder-list fadeIn ".concat(n),selected:!!s&&s.id===a.id},o.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(d(),"/files/folder/:folderId/:folderName"===b){var e=h.split("/folder/")[0];m.push(e+"/folder/".concat(a.id,"/").concat(Object(u.h)(a.search)))}else m.push("/files/folder/".concat(a.id,"/").concat(Object(u.h)(a.search)));v((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&o.a.createElement(g.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&o.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(A?"ti-minus rotate-in":"ti-plus")})),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&o.a.createElement(ie,{ref:_.nav,maxHeight:T,className:A?"enter-active":"leave-active"},A&&Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return o.a.createElement(Te,{key:e.id,clearFilter:d,params:f,folderHeight:T,activeFolder:s,folders:i,folder:e})}))))};function oe(){var e=Object(i.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return oe=function(){return e},e}var se=Object(d.a)(f.c)(oe()),le=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,c=e.actions,s=e.history,l=e.handleAddEditFolder,d=Object(p.X)();return o.a.createElement(se,{className:"file-options ".concat(n),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&!a.is_archived&&o.a.createElement("div",{onClick:function(){l(a,"edit")}},"Rename"),a.is_archived&&o.a.createElement("div",{onClick:function(){c.restoreCompanyFolder(a,(function(e,t){t&&(a.parent_folder?d.success(o.a.createElement(o.a.Fragment,null,"Folder ",o.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):d.success(o.a.createElement(o.a.Fragment,null,"Folder ",o.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),o.a.createElement("div",{onClick:function(){if(a.hasOwnProperty("payload"))c.unlinkGoogleFolder(a);else{c.removeCompanyFolder(a,(function(e,t){if(!e&&t){var n=s.location.pathname.split("/folder/")[0];s.push(n),d.info(o.a.createElement(o.a.Fragment,null,"You have removed ",o.a.createElement("b",null,a.search),"."))}}))}}},"Remove"))})),de=n(63);function ue(){var e=Object(i.a)([""]);return ue=function(){return e},e}var me=d.a.div(ue()),pe=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.files,i=e.actions,c=e.dictionary;return o.a.createElement(me,{className:"important-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},c.favoriteTitle),o.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return o.a.createElement(de.a,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:a,actions:i})}))))}));function fe(){var e=Object(i.a)([""]);return fe=function(){return e},e}var be=d.a.div(fe()),he=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.files,i=e.actions,c=e.disableOptions;return o.a.createElement(be,{className:"popular-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),o.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return o.a.createElement(C,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:i,folders:a,files:r,disableOptions:c})}))))}));function _e(){var e=Object(i.a)([""]);return _e=function(){return e},e}var Oe=d.a.div(_e()),Ee=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.files,i=e.actions,c=e.disableOptions;return o.a.createElement(Oe,{className:"recent-edited-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),o.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return o.a.createElement(C,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:r,folders:a,actions:i,disableOptions:c})}))))}));function ge(){var e=Object(i.a)([""]);return ge=function(){return e},e}var Ae,ve,je=d.a.div(ge()),Ce=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,r=e.files,i=e.folders,c=e.subFolders,s=e.folder,d=e.params,u=e.handleAddEditFolder,m=e.disableOptions,p=Object(l.g)();return o.a.createElement(je,{className:"remove-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),s&&o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},s.search),o.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?c.filter((function(e){return e.is_archived})).map((function(e){return o.a.createElement(I,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:d,handleAddEditFolder:u,disableOptions:m})})):Object.values(i).filter((function(e){return e.is_archived})).map((function(e){return o.a.createElement(I,{key:e.id,actions:a,folders:i,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:d,handleAddEditFolder:u,disableOptions:m})}))),o.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?r&&Object.values(r).length>0&&Object.values(r).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})).map((function(e){return o.a.createElement(C,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})),actions:a,folders:i,disableOptions:m})})):r&&Object.values(r).length>0&&Object.values(r).map((function(e){return"undefined"!==typeof e?o.a.createElement(C,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r),folders:i,actions:a,disableOptions:m}):null}))))})),Te=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.folders,i=e.activeFolder,c=e.clearFilter,s=e.params;return o.a.createElement(ce,{className:n,clearFilter:c,folders:r,params:s,folder:a,activeFolder:i})},ye=d.a.div(Ae||(Ae=Object(i.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]))),Se=d.a.div(ve||(ve=Object(i.a)(["\n  padding-top: 10px;\n"])));t.default=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.isMember,d=e.workspace,f=Object(s.useDispatch)(),b=Object(l.g)(),h=Object(p.cb)()._t,_=Object(p.j)(),O=_.params,E=_.isLoaded,g=_.files,A=_.fileCount,v=_.actions,j=_.fileIds,C=_.folders,T=_.folder,y=_.subFolders,S=_.loadMore,w=Object(c.useState)(""),k=Object(r.a)(w,2),N=k[0],R=k[1],x=Object(c.useState)(""),I=Object(r.a)(x,2),P=I[0],D=I[1],L={dropZone:Object(c.useRef)(null)},F=!1;d&&0===d.active&&(F=!0);var U=function(){v.searchCompany(P)},G=function(){D(""),v.clearSearch()},H={createFolder:h("FILE.CREATE_FOLDER","Create folder"),create:h("FILE.CREATE","Create"),updateFolder:h("FILE.UPDATE_FOLDER","Update folder"),update:h("FILE.UPDATE","Update"),editFolder:h("FILE.EDIT_FOLDER","Edit folder"),removeFolder:h("FILE.REMOVE_FOLDER","Remove folder"),add:h("FILE.ADD","Add"),favorite:h("FILE.FAVORITE","Favorite"),favoriteTitle:h("FILE.FAVORITE_TITLE","Favorite"),file:h("FILE.FILE","File"),folder:h("FILE.FOLDER","Folder"),folders:h("FILE.FOLDERS","Folders"),allFiles:h("FILES.ALL_FILES","All files"),recentlyEdited:h("FILES.RECENTLY_EDITED","Recently edited"),removed:h("FILES.REMOVED","Removed"),searchInputPlaceholder:h("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:h("FILE.UPLOAD_FILES","Upload files")},B=Object(c.useRef)(""),W=function(){B.current=""},Y=function(e){B.current=e.target.value.trim()},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",n=function(){var e={name:B.current};O.hasOwnProperty("folderId")&&(e=Object(a.a)(Object(a.a)({},e),{},{folder_id:O.folderId})),v.createCompanyFolders(e,(function(e,t){if(!e)if(O.hasOwnProperty("folderId")){var n=b.location.pathname.split("/folder/")[0];b.push(n+"/folder/".concat(t.data.folder.id,"/").concat(Object(u.h)(t.data.folder.search)))}else b.push(b.location.pathname+"/folder/".concat(t.data.folder.id,"/").concat(Object(u.h)(t.data.folder.search)))}))},r=function(){v.updateCompanyFolders({id:e.id,name:B.current,is_archived:!0},(function(e,t){if(!e&&O.hasOwnProperty("folderId")){var n=b.location.pathname.split("/folder/")[0];b.push(n+"/folder/".concat(t.data.folder.id,"/").concat(Object(u.h)(t.data.folder.search)))}}))},i={type:"single_input",defaultValue:"",label:"Folder name",postInputLabel:null===T?"":o.a.createElement(Se,null,"The folder will be created inside ",o.a.createElement("b",null,"#",T.search)),onChange:Y,onClose:W};"add"===t?i=Object(a.a)(Object(a.a)({},i),{},{title:H.createFolder,preInputLabel:"Folders help to organize your files. A file can only be connected to one folder.",labelPrimaryAction:H.create,onPrimaryAction:n}):(B.current=e.search,i=Object(a.a)(Object(a.a)({},i),{},{defaultValue:e.search,title:"Rename folder",preInputLabel:"Renaming the folder will update the folder name for everyone.",labelPrimaryAction:"Rename folder",onPrimaryAction:r})),f(Object(m.a)(i))},V=function(){R("")};return Object(c.useEffect)((function(){T&&T.is_archived&&"removed"!==N&&R("removed")}),[T,N,R]),o.a.createElement(ye,{className:"container-fluid h-100 fadeIn ".concat(n)},o.a.createElement("div",{className:"row app-block"},o.a.createElement(te,{init:E,actions:v,isMember:i,clearFilter:V,params:O,dropZoneRef:L.dropZone,className:"col-lg-3",filterFile:function(e){if(O.hasOwnProperty("folderId")){var t=b.location.pathname.split("/folder/")[0];b.push(t)}R(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:N,fileCount:A,folders:C,activeFolder:T,dictionary:H,disableOptions:F}),o.a.createElement("div",{className:"col-lg-9 app-content mb-4"},o.a.createElement("div",{className:"app-content-overlay"}),o.a.createElement(K,{isMember:i,clearFilter:V,dropZoneRef:L.dropZone,history:b,params:O,onSearch:U,onSearchChange:function(e){""===e.target.value&&G(),D(e.target.value)},onEnter:function(e){"Enter"===e.key&&U()},files:g,handleAddEditFolder:z,folders:C,dictionary:H,disableOptions:F,onClickEmpty:G,value:P}),o.a.createElement(M,{dropZoneRef:L.dropZone,isLoaded:E,loadMore:S,filter:N,search:P,folders:C,folder:T,fileIds:j,subFolders:y,history:b,actions:v,params:O,files:g,handleAddEditFolder:z,dictionary:H,disableOptions:F}))))}))},function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),c=n(3),o=n(9),s=n(6),l=n(1),d=n(5),u=n(39),m=n(19),p=n(7);function f(){var e=Object(a.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n"]);return f=function(){return e},e}var b=c.a.div(f()),h=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,c=e.scrollRef,s=Object(u.j)().params,f=Object(d.useDispatch)(),h=Object(o.W)().fromNow;return i.a.createElement(b,{className:"attach-file-timeline timeline-item ".concat(n)},i.a.createElement("div",null,i.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:c})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},i.a.createElement("span",null,i.a.createElement("span",{className:"font-weight-normal"},a.user.name)," ",i.a.createElement("span",{onClick:function(){f(Object(m.Wb)({workspace_id:s.workspaceId,file_id:a.id,files:[Object(l.a)(Object(l.a)({},a),{},{filename:a.name,file_id:a.id})]}))},className:"file-summary"},r.attachedFile)),i.a.createElement("span",{className:"text-muted font-weight-normal"},h(a.created_at.timestamp)))))}));function _(){var e=Object(a.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return _=function(){return e},e}var O=c.a.div(_()),E=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,c=e.scrollRef,s=Object(u.g)(),l=Object(u.j)().params,d=Object(o.W)().fromNow,m=function(e){e.preventDefault(),s.push("/workspace/posts/".concat(l.workspaceId,"/").concat(l.workspaceName,"/post/").concat(a.id,"/").concat(a.title))};return i.a.createElement(O,{className:"post-timeline timeline-item ".concat(n)},i.a.createElement("div",null,i.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:c})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"title"},a.user.name," ",i.a.createElement("span",{className:"post-title",onClick:m,title:a.title},r.sharedThePost,' "',a.title,'"')),i.a.createElement("span",{className:"text-muted font-weight-normal"},d(a.created_at.timestamp))),a.body.replace(/<\/?[^>]+(>|$)/g,"")&&i.a.createElement("span",{onClick:m},i.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},i.a.createElement(p.s,{icon:"arrow-right"}),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}))),a.files&&a.files.length>=1&&i.a.createElement(i.a.Fragment,null,r.fileAttachments,":",i.a.createElement(p.h,{attachedFiles:a.files,type:"timeline"}))))}));function g(){var e=Object(a.a)([""]);return g=function(){return e},e}var A=c.a.div(g()),v=(i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,r=Object(o.W)().fromNow;return i.a.createElement(A,{className:"timeline-item ".concat(n)},i.a.createElement("div",null,i.a.createElement(p.a,{name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",null,a.user.name," ",i.a.createElement("a",{href:"#"},"shared a post")),i.a.createElement("span",{className:"text-muted font-weight-normal"},r(a.created_at.timestamp))),i.a.createElement("a",{href:"#"},i.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},a.body))))})),n(11)),j=n(43),C=n.n(j);function T(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return T=function(){return e},e}function y(){var e=Object(a.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]);return y=function(){return e},e}var S=c.a.div(y()),w=Object(c.a)(C.a)(T()),k=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,c=e.scrollRef,s=Object(o.W)(),l=s.fromNow,u=s.localizeDate,m=Object(d.useSelector)((function(e){return e.users.users})),f=Object(d.useSelector)((function(e){return e.users.archivedUsers})),b=[].concat(Object(v.a)(Object.values(m)),Object(v.a)(f)),h=null,_=null;a.body.includes("CHANNEL_UPDATE")&&(h=JSON.parse(a.body.replace("CHANNEL_UPDATE::",""))),h&&h.author&&(_=h.author.name?h.author:b.find((function(e){return e.id===h.author})));var O=function(){if(""!==h.title)return"".concat(r.updatedWorkspaceTo," ").concat(h.title)};return null===h?null:i.a.createElement(S,{className:"member-timeline timeline-item ".concat(n)},i.a.createElement("div",null,null!==h?i.a.createElement(i.a.Fragment,null,_?i.a.createElement(p.a,{className:"mr-3",name:_.name,imageLink:_.profile_image_thumbnail_link?_.profile_image_thumbnail_link:_.profile_image_link,id:_.id,showSlider:!0,scrollRef:c}):i.a.createElement(p.a,{className:"mr-3",imageLink:null,isBot:!0})):i.a.createElement(p.a,{className:"mr-3",imageLink:null,isBot:!0})),i.a.createElement("div",null,null!==h?i.a.createElement(i.a.Fragment,null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"title"},_&&_.name," ",O()),i.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp))),h.added_members.length||h.removed_members.length?i.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},i.a.createElement("p",{className:"action-text"},h.added_members.length>0&&function(){if(null===h.author){if(!h.accepted_members)return"";var e=b.filter((function(e){return h.accepted_members.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else if(h.accepted_members){var t=b.filter((function(e){return h.accepted_members.some((function(t){return t===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else{var n=b.filter((function(e){return h.added_members.some((function(t){return t===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}}()),i.a.createElement("p",{className:"action-text"},h.removed_members.length>0&&function(){if(null===h.author)return"";var e=b.filter((function(e){return h.removed_members.some((function(t){return t===e.id}))}));return e.length?e.map((function(e){return e.name})).join(", ")+" ".concat(r.isRemoved,"."):void 0}())):null):i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"title"},O()),i.a.createElement(w,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(u(a.created_at.timestamp))},i.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp)))))))}));function N(){var e=Object(a.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return N=function(){return e},e}var R=c.a.div(N()),x=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,c=e.scrollRef,s=Object(o.W)().fromNow;return i.a.createElement(R,{className:"topic-timeline timeline-item ".concat(n)},i.a.createElement("div",null,a.user&&i.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:c})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",i.a.createElement("strong",null,r.created," ",a.name," ",r.workspace)),i.a.createElement("span",{className:"text-muted font-weight-normal"},s(a.created_at.timestamp)))))}));function I(){var e=Object(a.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return I=function(){return e},e}var P=c.a.div(I()),D=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.tag,c=e.dictionary,s=e.workspace,l=e.scrollRef,d=Object(o.W)().fromNow;return i.a.createElement(P,{className:"topic-timeline timeline-item ".concat(n)},i.a.createElement("div",null,a.user&&i.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:l})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",i.a.createElement("strong",null,"ARCHIVED_WORKSPACE"===r?c.archived:c.unarchived," ",s.name," ",c.workspace)),i.a.createElement("span",{className:"text-muted font-weight-normal"},d(a.created_at.timestamp)))))})),L=n(186),F=n.n(L),M=function(e){var t=e.actions,n=e.workspace,a=e.workspaceTimeline,r=a.page,c=a.maxPage,o=a.timeline,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;t.getTimeline({topic_id:n.id,skip:e,limit:a})};return i.a.createElement("nav",{className:"mt-3"},i.a.createElement(F.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:c,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var i=e.selected+1;i!==r&&(t.updateTimelinePage({id:n.id,page:i}),a.total_items!==Object.keys(o).length&&Object.keys(o).length<=10*i&&(10*i-Object.keys(o).length>0?s(Object.keys(o).length,10*i):s(Object.keys(o).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))};function U(){var e=Object(a.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]);return U=function(){return e},e}var G,H=c.a.div(U()),B=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspaceTimeline,c=e.actions,o=e.workspace,l=e.dictionary,d=Object(r.useRef)(null),u=Object(r.useState)(!1),m=Object(s.a)(u,2),p=m[0],f=m[1];return Object(r.useEffect)((function(){a||!o||p||(f(!0),c.getTimeline({topic_id:o.id,skip:0,limit:10},(function(){f(!1)})))}),[a,o,p]),i.a.createElement(H,{className:"timeline-panel card ".concat(n),ref:d},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},l.timeline),i.a.createElement("div",{className:"timeline"},a&&Object.values(a.timeline).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(a.page>1?10*a.page-10:0,10*a.page).map((function(e){switch(e.tag){case"CHAT_BOT":return i.a.createElement(k,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"POST":return i.a.createElement(E,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"ICON":case"DOCUMENT":return i.a.createElement(h,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"TOPIC":return i.a.createElement(x,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"UNARCHIVED_WORKSPACE":case"ARCHIVED_WORKSPACE":return i.a.createElement(D,{key:e.id,data:e.item,tag:e.tag,dictionary:l,workspace:o,scrollRef:d.current});default:return null}})))),a&&a.total_items>10&&i.a.createElement(M,{workspaceTimeline:a,actions:c,workspace:o}))})),W=n(98),Y=c.a.div(G||(G=Object(a.a)(["\n  overflow: auto !important;\n  min-height: calc(100vh - 100px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));t.default=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=e.isMember,c=e.match,s=e.actions,l=e.workspaceTimeline,d=e.workspace,u=c.params,m=Object(o.cb)()._t,p=Object(o.J)().recentPosts,f=window.innerWidth,b=function(){s.showModal(d,"edit","workspace")};Object(o.q)();var h={aboutThisWorkspace:m("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:m("TEAM","Team"),timeline:m("TIMELINE","Timeline"),noRecentPosts:m("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:m("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:m("FILE_ATTACHMENTS","File attachments"),peopleExternal:m("PEOPLE.EXTERNAL","External"),peopleInvited:m("PEOPLE.INVITED","Invited"),emptyTeam:m("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:m("DASHBOARD.SHOW_MORE","Show more"),showLess:m("DASHBOARD.SHOW_LESS","Show less"),attachedFile:m("ATTACHED_A_FILE","attached a file"),sharedThePost:m("SHARED_THE_POST","shared the post"),hasJoined:m("TIMELINE.HAS_JOINED","has joined"),hasLeft:m("TIMELINE.HAS_LEFT","has left"),youJoined:m("TIMELINE.YOU_JOINED","You joined"),youLeft:m("TIMELINE.YOU_LEFT","You left"),isAdded:m("TIMELINE.IS_ADDED","is added"),isRemoved:m("TIMELINE.IS_REMOVED","is removed"),createdThePost:m("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:m("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),remove:m("TEAM.REMOVE","Remove"),leave:m("TEAM.LEAVE","Leave"),leaveWorkspace:m("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:m("TIMELINE.ARCHIVED","archived"),unarchived:m("TIMELINE.UNARCHIVED","unarchived"),workspace:m("TIMELINE.WORKSPACE","workspace"),created:m("TIMELINE.CREATED","created"),resend:m("TEAM.RESEND","Resend"),cancel:m("MODAL.CANCEL","Cancel"),resendInvite:m("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:m("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:m("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:m("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:m("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:m("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:m("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:m("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:m("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:m("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:m("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:m("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:m("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:m("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:m("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:m("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:m("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:m("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:m("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:m("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:m("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:m("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:m("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:m("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:m("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:m("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:m("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:m("ROLE.ADVISOR","Advisor"),roleApprover:m("ROLE.APPROVER","Approver"),roleClient:m("ROLE.CLIENT","Client"),roleCommunicationLead:m("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:m("ROLE.DESIGNER","Designer"),roleDeveloper:m("ROLE.DEVELOPER","Developer"),roleFreelancer:m("ROLE.FREELANCER","Freelancer"),roleSupervisor:m("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:m("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:m("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:m("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:m("ROLE.WATCHER","Watcher"),sendInviteManually:m("TEAM.SEND_INVITE_MANUALLY","Send invite manually")},_=!1;return d&&0===d.active&&(_=!0),i.a.createElement(Y,{className:"container-fluid fadeIn ".concat(n)},i.a.createElement("div",{className:"row"},null===d?i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):i.a.createElement(i.a.Fragment,null,f>620?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-md-6"},i.a.createElement(W.c,{isMember:r,workspace:d,onEditClick:b,isExternal:a,dictionary:h}),i.a.createElement(B,{workspaceTimeline:l,actions:s,workspace:d,dictionary:h})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(W.d,{workspace:d,actions:s,onEditClick:b,isMember:r,isExternal:a,dictionary:h}),i.a.createElement(W.e,{posts:p,dictionary:h,disableOptions:_}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-md-12"},i.a.createElement(W.c,{isMember:r,workspace:d,onEditClick:b,isExternal:a,dictionary:h}),i.a.createElement(W.d,{workspace:d,onEditClick:b,isMember:r,isExternal:a,dictionary:h}),i.a.createElement(W.e,{posts:p,dictionary:h,disableOptions:_}),i.a.createElement(B,{workspaceTimeline:l,actions:s,params:u,dictionary:h}))))))}))},,function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return j}));var a,r,i,c,o=n(2),s=n(0),l=n.n(s),d=n(3),u=n(9),m=n(5),p=d.a.ul(a||(a=Object(o.a)(["\n  overflow: auto;\n\n  &.list-group {\n    max-height: 390px !important;\n    @media all and (max-width: 620px) {\n      max-height: 60vh !important;\n      max-height: calc(var(--vh, 1vh) * 100 - 196px) !important;\n    }\n  }\n"]))),f=function(e){var t=e.notifications,n=e.actions,a=e.history,r=e.dictionary,i=e.removeOverlay,c=Object(u.N)(),o=Object(u.cb)()._t,s=Object(m.useSelector)((function(e){return e.session.user}));return 0===Object.keys(t).length?null:l.a.createElement(p,{className:"list-group list-group-flush"},0===Object.values(t).length&&l.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},l.a.createElement("span",null,r.noNotificationsToShow)),Object.values(t).filter((function(e){return 0===e.is_read})).length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},l.a.createElement("span",null,r.new)),Object.values(t).filter((function(e){return 0===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).map((function(e){return l.a.createElement(E,{"data-toggle":"notification",key:e.id,notification:e,actions:n,history:a,redirect:c,removeOverlay:i,_t:o,user:s})}))),Object.values(t).filter((function(e){return 1===e.is_read})).length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},l.a.createElement("span",null,r.oldNotifications)),Object.values(t).filter((function(e){return 1===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).map((function(e){return l.a.createElement(E,{"data-toggle":"notification",key:e.id,notification:e,actions:n,history:a,redirect:c,removeOverlay:i,_t:o,user:s})}))))},b=n(43),h=n.n(b),_=n(7),O=d.a.li(r||(r=Object(o.a)(["\n  cursor: pointer;\n\n  .notification-container {\n    max-width: calc(100% - 60px);\n  }\n  .notification-activity {\n    width: calc(100% - 10px);\n    line-height: 1.1;\n    overflow: hidden;\n    display: block !important;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .notification-title {\n    width: calc(100% - 10px);\n    line-height: 1.1;\n    font-size: 12px;\n    margin: 0.25rem 0;\n  }\n  .list-group-item {\n    border: none;\n  }\n\n  .avatar {\n    margin-right: 1rem;\n  }\n  p {\n    margin: 0;\n  }\n"]))),E=function(e){var t=e.notification,n=e.actions,a=e.redirect,r=e.removeOverlay,i=e._t,c=e.user,o=Object(u.W)().fromNow,s=function(e){if(e.preventDefault(),r(e),0===t.is_read&&n.read({id:t.id}),"NEW_TODO"===t.type)a.toTodos();else if("WORKSPACE_ADD_MEMBER"===t.type){var i={id:t.data.id,name:t.data.title,folder_id:0!==t.data.workspace_folder_id?t.data.workspace_folder_id:null,folder_name:""!==t.data.workspace_folder_name?t.data.workspace_folder_name:null};a.toWorkspace(i)}else{var c={id:t.data.post_id,title:t.data.title},o=null,s=null;t.data.workspaces&&t.data.workspaces.length&&(o={id:(o=t.data.workspaces[0]).topic_id,name:o.topic_name,folder_id:o.workspace_id?o.workspace_id:null,folder_name:o.workspace_name?o.workspace_name:null}),"POST_COMMENT"!==t.type&&"POST_MENTION"!==t.type||t.data.comment_id&&(s={focusOnMessage:t.data.comment_id}),a.toPost({workspace:o,post:c},s)}},d=function(e){e.preventDefault(),e.stopPropagation(),0===t.is_read?n.read({id:t.id}):n.unread({id:t.id})},m={post:i("NOTIFICATION.POST_POPUP","Shared a post"),comment:i("NOTIFICATION.COMMENT_POPUP","Made a comment in ::title::",{title:""}),mention:i("NOTIFICATION.MENTION_POPUP","Mentioned you in ::title::",{title:""}),reminder:i("NOTIFICATION.REMINDER_POPUP","You asked to be reminded about ::title::",{title:""}),hasAcceptedProposal:i("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:i("POST.HAS_REQUESTED_CHANGE","has requested a change."),sentProposal:i("POST.SENT_PROPOSAL","sent a proposal."),closedThePost:i("NOTIFICATION.CLOSED_THE_POST","closed the post"),addedYouInWorkspace:i("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace")},p=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return l.a.createElement(O,null,l.a.createElement("span",{className:"list-group-item d-flex hide-show-toggler"},l.a.createElement("div",null,null!==t.author&&l.a.createElement(_.a,{id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,showSlider:!0}),"NEW_TODO"===t.type&&l.a.createElement(_.a,{id:c.id,name:c.name,imageLink:c.profile_image_thumbnail_link?c.profile_image_thumbnail_link:c.profile_image_link,showSlider:!0})),function(){switch(t.type){case"POST_CREATE":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"notification-activity text-link"},m.post),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"POST_COMMENT":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"nnotification-activity text-link"},m.comment),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"POST_MENTION":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"notification-activity text-link"},m.mention),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"NEW_TODO":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,c.name),l.a.createElement("p",{className:"notification-activity text-link"},m.reminder),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"POST_ACCEPT_APPROVAL":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"notification-title text-link"},m.hasAcceptedProposal),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"POST_REJECT_APPROVAL":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"notification-title text-link"},m.hasRequestedChange),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"POST_REQST_APPROVAL":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"notification-title text-link"},m.sentProposal),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"CLOSED_POST":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"notification-title text-link"},m.closedThePost),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));case"WORKSPACE_ADD_MEMBER":return l.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},l.a.createElement("span",null,t.author.name),l.a.createElement("p",{className:"notification-title text-link"},m.addedYouInWorkspace),l.a.createElement("p",{className:"notification-title text-link"},t.data.title),l.a.createElement("span",{className:"text-muted small"},o(t.created_at.timestamp)));default:return null}}(),l.a.createElement("div",{style:{minWidth:"10px"}},0===t.is_read?l.a.createElement(h.a,{arrowSize:5,distance:10,onToggle:p,content:"Mark as read"},l.a.createElement("i",{onClick:d,className:"hide-show-toggler-item fa fa-circle-o font-size-11"})):l.a.createElement(h.a,{arrowSize:5,distance:10,onToggle:p,content:"Mark as unread"},l.a.createElement("i",{onClick:d,className:"hide-show-toggler-item fa fa-check font-size-11"})))))},g=n(14),A=Object(d.a)(_.s)(i||(i=Object(o.a)(["\n  width: 12px;\n"]))),v=d.a.div(c||(c=Object(o.a)(["\n  cursor: pointer;\n  padding: 1.5em 1.5em 0em 1.5em !important;\n  background: ",";\n\n  border-bottom: ",";\n  .avatar {\n    margin-right: 1rem;\n  }\n  p {\n    margin: 0;\n  }\n  h6 {\n    color: ",";\n    font-family: Inter;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 15px;\n    .text-link {\n      color: #828282;\n      cursor: hand;\n      cursor: pointer;\n      &:hover {\n        color: #000;\n      }\n    }\n  }\n\n  .notification-body-wrapper {\n    .border-left-active {\n      border-left: 5px solid #822492 !important;\n    }\n    i {\n      left: 40px;\n      position: relative;\n    }\n    &:hover {\n      i {\n        opacity: 1;\n        visibility: visible;\n      }\n    }\n    i {\n      opacity: 0;\n      visibility: hidden;\n    }\n  }\n  .badge-danger {\n    background-color: #ff4445;\n  }\n  .badge-success {\n    background-color: #00c851;\n  }\n  :before {\n    display: none !important;\n  }\n"])),(function(e){return e.isRead?"transparent":"1"===e.darkMode?"#2a2f31":"#F9F9F9"}),(function(e){return"1"===e.darkMode?"1px solid #9b9b9b1a":"1px solid #ebebeb;"}),(function(e){return"1"===e.darkMode?"#afb8bd":"#000000"})),j=function(e){var t,n=e.notification,a=e.actions,r=e.history,i=e.redirect,c=e.user,o=e._t,s=e.darkMode,d=Object(u.W)().fromNow,m=function(e){if(e.preventDefault(),0===n.is_read&&a.read({id:n.id}),"NEW_TODO"===n.type)i.toTodos();else if("WORKSPACE_ADD_MEMBER"===n.type){var t={id:n.data.id,name:n.data.title,folder_id:0!==n.data.workspace_folder_id?n.data.workspace_folder_id:null,folder_name:""!==n.data.workspace_folder_name?n.data.workspace_folder_name:null};i.toWorkspace(t)}else{var r={id:n.data.post_id,title:n.data.title},c=null,o=null;n.data.workspaces&&n.data.workspaces.length&&(c={id:(c=n.data.workspaces[0]).topic_id,name:c.topic_name,folder_id:c.workspace_id?c.workspace_id:null,folder_name:c.workspace_name?c.workspace_name:null}),"POST_COMMENT"!==n.type&&"POST_MENTION"!==n.type||n.data.comment_id&&(o={focusOnMessage:n.data.comment_id}),i.toPost({workspace:c,post:r},o)}},p=function(e){e.preventDefault(),e.stopPropagation(),0===n.is_read?a.read({id:n.id}):a.unread({id:n.id})},f=function(e){e.preventDefault(),e.stopPropagation(),r.push("/profile/".concat(n.author.id,"/").concat(Object(g.h)(n.author.name)))},b={notificationNewPost:o("NOTIFICATION.NEW_POST",'shared a <span class="'.concat(n.is_read?"text-link":"text-primary font-weight-bold text-link",'">post</span>')),notificationComment:o("NOTIFICATION.COMMENT",'made a <span class="'.concat(n.is_read?"text-link":"text-primary font-weight-bold text-link",'">comment</span> in <span class="text-link">').concat(n.data.title)),notificationMention:o("NOTIFICATION.MENTION",'<span class="'.concat(n.is_read?"text-link":"text-primary font-weight-bold text-link",'">mentioned</span> you in')),hasAcceptedProposal:o("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:o("POST.HAS_REQUESTED_CHANGE","has requested a change."),sentProposal:o("POST.SENT_PROPOSAL","sent a proposal."),notificationClosedPost:o("NOTIFICATION.CLOSED_POST",'closed the <span class="'.concat(n.is_read?"text-link":"text-primary font-weight-bold text-link",'">post</span>')),addedYouInWorkspace:o("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace"),reminder:o("NOTIFICATION.REMINDER_ICON","Reminder"),mustRead:o("NOTIFICATION.MUST_READ","Must read"),needsReply:o("NOTIFICATION.NEEDS_REPLY","Needs reply"),markAsRead:o("NOTIFICATION.MARK_AS_READ","Mark as read"),markAsUnread:o("NOTIFICATION.MARK_AS_UNREAD","Mark as unread")};return l.a.createElement(v,{className:"timeline-item timeline-item-no-line",isRead:n.is_read,darkMode:s},l.a.createElement("div",null,n.author?l.a.createElement(_.a,{id:n.author.id,name:n.author.name,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link,showSlider:!0}):l.a.createElement(_.a,{id:c.id,name:c.name,imageLink:c.profile_image_thumbnail_link?c.profile_image_thumbnail_link:c.profile_image_link,showSlider:!0})),l.a.createElement("div",null,l.a.createElement("div",{onClick:m},l.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},l.a.createElement("div",null,l.a.createElement("span",{style:{fontWeight:"bold"}},function(){switch(n.type){case"POST_CREATE":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:f,className:"author-name text-link"},n.author.name," "),l.a.createElement("span",{dangerouslySetInnerHTML:{__html:b.notificationNewPost}}));case"POST_COMMENT":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:f,className:"author-name text-link"},n.author.name," "),l.a.createElement("span",{dangerouslySetInnerHTML:{__html:b.notificationComment}}));case"POST_MENTION":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:f,className:"author-name text-link"},n.author.name)," ",l.a.createElement("span",{dangerouslySetInnerHTML:{__html:b.notificationMention}}),l.a.createElement("span",{className:"text-link",onClick:m}," ",n.data.title));case"NEW_TODO":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,o("NOTIFICATION.REMINDER","You asked to be reminded about ::title::",{title:n.data.title})));case"POST_ACCEPT_APPROVAL":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,n.author.name," ",b.hasAcceptedProposal));case"POST_REJECT_APPROVAL":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,n.author.name," ",b.hasRequestedChange));case"POST_REQST_APPROVAL":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,n.author.name," ",b.sentProposal));case"CLOSED_POST":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:f,className:"author-name text-link"},n.author.name," "),l.a.createElement("span",{dangerouslySetInnerHTML:{__html:b.notificationClosedPost}}));case"WORKSPACE_ADD_MEMBER":return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:f,className:"author-name text-link"},n.author.name," "),l.a.createElement("span",null,b.addedYouInWorkspace));default:return null}}(),":"," ","NEW_TODO"===n.type?l.a.createElement(l.a.Fragment,null,Object(g.j)(n.data.description)):"POST_CREATE"===n.type||"POST_REQST_APPROVAL"===n.type||"POST_ACCEPT_APPROVAL"===n.type||"POST_REJECT_APPROVAL"===n.type||"CLOSED_POST"===n.type||"WORKSPACE_ADD_MEMBER"===n.type?l.a.createElement("span",{style:{fontWeight:"normal"}},n.data&&n.data.title):l.a.createElement("span",{style:{fontWeight:"normal"}},Object(g.j)(n.data.comment_body))),l.a.createElement("p",{style:{fontWeight:"normal",color:"#8B8B8B"}},"NEW_TODO"===n.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{icon:"calendar"})," ",b.reminder," "),n.data.workspaces&&n.data.workspaces.length>0&&n.data.workspaces[0].workspace_name&&l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{icon:"folder"}),l.a.createElement("span",{style:{verticalAlign:"middle"}}," ",n.data.workspaces[0].workspace_name," ")," "),n.data.workspaces&&n.data.workspaces.length>0&&n.data.workspaces[0].topic_name&&l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{icon:"compass"}),l.a.createElement("span",{style:{verticalAlign:"middle"}}," ",n.data.workspaces[0].topic_name," ")," "))),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("span",{className:"text-muted font-weight-normal"},d(n.created_at.timestamp)),l.a.createElement("p",{style:{textAlign:"right",lineHeight:"1"}},0===n.is_read?l.a.createElement("span",{title:b.markAsRead,"data-toggle":"tooltip",onClick:p,className:"cursor-pointer"},"..."):l.a.createElement("span",{title:b.markAsUnread,"data-toggle":"tooltip",onClick:p,className:"cursor-pointer"},"...")),"POST_CREATE"===n.type&&l.a.createElement("p",null," ",l.a.createElement("span",{className:"badge badge-danger text-white"},(t=n.data).must_read&&t.required_users&&t.required_users.some((function(e){return e.id===c.id&&!e.must_read}))||t.must_read_users&&t.must_read_users.some((function(e){return e.id===c.id&&!e.must_read}))?b.mustRead:null),l.a.createElement("span",{className:"badge badge-success text-white"},function(e){return e.must_reply&&e.required_users&&e.required_users.some((function(e){return e.id===c.id&&!e.must_reply}))||e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===c.id&&!e.must_reply}))?b.needsReply:null}(n.data))))))))}},function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(11),i=n(1),c=n(6),o=n(2),s=n(0),l=n.n(s),d=n(3),u=n(362),m=n.n(u),p=n(23),f=n(5),b=n(9),h=n(13);function _(){var e=Object(o.a)(["\n  height: 1.5rem;\n  width: 1.5rem;\n  border-radius: 50%;\n  margin-right: 1rem;\n  border-color: #191c20;\n  cursor: pointer;\n  > span {\n    color: ",";\n    background: ",";\n    font-size: 11px;\n    line-height: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin: auto;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    border-radius: inherit;\n  }\n"]);return _=function(){return e},e}function O(){var e=Object(o.a)(["\n  display: flex;\n"]);return O=function(){return e},e}var E,g,A,v,j,C,T=d.a.div(O()),y=d.a.div(_(),(function(e){return e.active?"#FFF":"#828282"}),(function(e){return e.active?"#6495ED":"#f1f2f7"})),S=function(e){var t=e.onClick,n=e.selectedDay;return l.a.createElement(T,null,l.a.createElement(y,{"data-name":"monday",onClick:t,active:"monday"===n},l.a.createElement("span",null,"M")),l.a.createElement(y,{"data-name":"tuesday",onClick:t,active:"tuesday"===n},l.a.createElement("span",null,"T")),l.a.createElement(y,{"data-name":"wednesday",onClick:t,active:"wednesday"===n},l.a.createElement("span",null,"W")),l.a.createElement(y,{"data-name":"thursday",onClick:t,active:"thursday"===n},l.a.createElement("span",null,"TH")),l.a.createElement(y,{"data-name":"friday",onClick:t,active:"friday"===n},l.a.createElement("span",null,"F")))},w=n(65),k=n(7),N=n(58),R=n.n(N),x=d.a.div(E||(E=Object(o.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n  }\n  .component-radio-input input {\n    z-index: 0;\n  }\n"]))),I=Object(d.a)(m.a)(g||(g=Object(o.a)(["\n  .dark & {\n    input,\n    select {\n      color: #fff;\n    }\n    option {\n      color: #000;\n    }\n  }\n  .react-time-picker__inputGroup__minute {\n    width: 18px !important;\n  }\n"]))),P=d.a.div(A||(A=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  .repeat-times {\n    width: 60px;\n    background-color: #f1f2f7;\n    border: none;\n  }\n"]))),D=d.a.div(v||(v=Object(o.a)(["\n  margin: 0 10px;\n  background-color: #f1f2f7;\n  padding: 2px 5px;\n"]))),L=Object(d.a)(w.a)(j||(j=Object(o.a)(["\n  input {\n    width: auto;\n  }\n"]))),F=d.a.div(C||(C=Object(o.a)(["\n  margin: 0 10px;\n"]))),M=function(e){return(e<10?"0":"")+e};t.default=l.a.memo((function(e){var t=Object(b.cb)()._t,n={huddleBot:t("HUDDLE.Question","Question"),huddleBotCreated:t("HUDDLE.HUDDLE_CREATED","Huddle bot created."),huddleBotUpdated:t("HUDDLE.HUDDLE_UPDATED","Huddle bot updated."),huddleBotFailed:t("HUDDLE.HUDDLE_FAILED","Huddle bot failed."),channels:t("HUDDLE.CHANNELS","Channels"),questions:t("HUDDLE.QUESTIONS","Questions"),startAt:t("HUDDLE.START_AT","Start at"),publishAt:t("HUDDLE.PUBLISH_AT","Publish at"),delete:t("HUDDLE.DELETE","Delete"),update:t("HUDDLE.UPDATE","Update"),create:t("HUDDLE.CREATE","Create"),cancel:t("HUDDLE.CANCEL","Cancel"),confirmationText:t("HUDDLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this huddle bot?"),deleteHuddle:t("HUDDLE.DELETE_HUDDLE","Delete huddle")},o=Object(b.y)(),d=Object(b.X)(),u=Object(f.useDispatch)(),m=Object(f.useSelector)((function(e){return e.chat.bots})),_=Object(f.useSelector)((function(e){return e.chat.huddleBot})),O=m.channels,E=(m.loaded,[{question:""},{question:""},{question:""},{question:""},{question:""}]),g=new Date,A=M(g.getHours())+":"+M(g.getMinutes()),v=g.getTimezoneOffset()/60,j=Object(s.useState)([]),C=Object(c.a)(j,2),T=C[0],y=C[1],N=Object(s.useState)([]),U=Object(c.a)(N,2),G=U[0],H=U[1],B=Object(s.useState)([{value:"DAILY",label:"Daily"}]),W=Object(c.a)(B,2),Y=W[0],z=W[1],V=Object(s.useState)({set_start_at:A,set_publish_at:A,channel_id:null,user_bot_id:_?_.id:null,questions:E,introduction_message:"",closing_message:"",publish_channel_id:null,repeat_type:"DAILY",repeat_select_weekly:null,repeat_select_monthly:1,repeat_select_yearly:null,end_type:"NEVER",end_select_after:1,end_select_on:null,repeat_hour:0,bot_name:""}),Q=Object(c.a)(V,2),q=Q[0],K=Q[1],J=O.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{value:e.id,label:e.name,icon:"compass"})})),Z=Object(r.a)(Array(31).keys()).map((function(e){return{value:e+1,label:e+1,icon:null}}));Object(s.useEffect)((function(){o.fetchUserBots({},(function(e,t){e||t.data.user_bots&&0===t.data.user_bots.length&&o.createUserBot({bot_name:"Huddle"})}))}),[]);var X=function(e){K(Object(i.a)(Object(i.a)({},q),{},{questions:q.questions.map((function(t,n){return n===parseInt(e.target.dataset.name)?Object(i.a)(Object(i.a)({},t),{},{question:e.target.value}):t}))}))},$=function(e){K(Object(i.a)(Object(i.a)({},q),{},Object(a.a)({},e.target.dataset.name,e.target.value)))},ee=function(){K({set_start_at:A,set_publish_at:A,channel_id:null,user_bot_id:_.id,questions:E,bot_name:"",publish_channel_id:null,repeat_type:"DAILY",repeat_select_weekly:null,repeat_select_monthly:1,repeat_select_yearly:null,end_type:"NEVER",end_select_after:1,end_select_on:null,repeat_hour:0})},te=function(e){K(Object(i.a)(Object(i.a)({},q),{},{end_type:e}))},ne=q.questions.filter((function(e){return""===e.question.trim()})).length===q.questions.length||null===q.channel_id;return l.a.createElement(x,{className:"workspace-people container-fluid h-100"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6"},l.a.createElement("div",{className:"card"},_&&l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Bot name"),l.a.createElement("div",{className:"mb-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{onChange:$,"data-name":"bot_name",type:"text",className:"form-control",placeholder:"Bot name","aria-describedby":"button-addon1",autoFocus:!0,value:q.bot_name})))),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Publish question channel"),l.a.createElement(p.d,{options:J,value:T,onChange:function(e){if(null===e)y([]),K(Object(i.a)(Object(i.a)({},q),{},{set_start_at:A,set_publish_at:A,channel_id:null,user_bot_id:_.id,questions:E}));else if(y(e),e.huddle){var t=parseInt(e.huddle.publish_at.time.substr(0,2))-v,n=parseInt(e.huddle.start_at.time.substr(0,2))-v;K(Object(i.a)(Object(i.a)({},q),{},{introduction_message:e.huddle.introduction_message,closing_message:e.huddle.closing_message,channel_id:e.value,questions:e.huddle.questions,user_bot_id:_.id,set_publish_at:M(t>23?24-t:t)+":"+e.huddle.publish_at.time.substr(3,2),set_start_at:M(n>23?24-n:n)+":"+e.huddle.start_at.time.substr(3,2),publish_channel_id:e.huddle.publish_channel.id,repeat_type:e.huddle.repeat_type,repeat_select_weekly:e.huddle.repeat_select_weekly?e.huddle.repeat_select_weekly:[],repeat_select_monthly:e.huddle.repeat_select_monthly?e.huddle.repeat_select_monthly:1,repeat_select_yearly:e.huddle.repeat_select_yearly?new Date(e.huddle.repeat_select_yearly.substr(0,4),parseInt(e.huddle.repeat_select_yearly.substr(5,2))-1,e.huddle.repeat_select_yearly.substr(8,2)):null,end_type:e.huddle.end_type,end_select_after:e.huddle.end_select_after?e.huddle.end_select_after:1,end_select_on:e.huddle.end_select_on?new Date(e.huddle.end_select_on.substr(0,4),parseInt(e.huddle.end_select_on.substr(5,2))-1,e.huddle.end_select_on.substr(8,2)):null,bot_name:e.huddle.user_bot.first_name})),H([Object(i.a)(Object(i.a)({},e.huddle.publish_channel),{},{value:e.huddle.publish_channel.id,label:e.huddle.publish_channel.name,icon:"compass"})])}else K(Object(i.a)(Object(i.a)({},q),{},{channel_id:e.value,questions:E}))},isMulti:!1,isClearable:!0})),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Publish answer channel"),l.a.createElement(p.d,{options:J,value:G,onChange:function(e){null===e?(H([]),K(Object(i.a)(Object(i.a)({},q),{},{publish_channel_id:null}))):(H(e),K(Object(i.a)(Object(i.a)({},q),{},{publish_channel_id:e.value})))},isMulti:!1,isClearable:!0})),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"What time do you want to ask the questions?"),l.a.createElement("br",null),l.a.createElement(I,{className:"react-datetime-picker start_at",onChange:function(e){K(Object(i.a)(Object(i.a)({},q),{},{set_start_at:e}))},value:q.set_start_at,disableClock:!0})),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"What time do you want to publish?"),l.a.createElement("br",null),l.a.createElement(I,{className:"react-datetime-picker publish_at",onChange:function(e){K(Object(i.a)(Object(i.a)({},q),{},{set_publish_at:e}))},value:q.set_publish_at,disableClock:!0})),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Repeat every"),l.a.createElement(p.d,{options:[{value:"DAILY",label:"Daily",icon:null},{value:"WEEKLY",label:"Weekly",icon:null},{value:"MONTHLY",label:"Monthly",icon:null},{value:"YEARLY",label:"Yearly",icon:null}],value:Y,onChange:function(e){K(Object(i.a)(Object(i.a)({},q),{},{repeat_type:e.value})),z(e)},isMulti:!1})),"WEEKLY"===q.repeat_type&&l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Repeat on"),l.a.createElement(S,{onClick:function(e){var t=e.currentTarget.dataset.name;K(Object(i.a)(Object(i.a)({},q),{},{repeat_select_weekly:t}))},selectedDay:q.repeat_select_weekly})),"MONTHLY"===q.repeat_type&&l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Repeat on"),l.a.createElement(p.d,{options:Z,value:Z.find((function(e){return e.value===q.repeat_select_monthly})),onChange:function(e){K(Object(i.a)(Object(i.a)({},q),{},{repeat_select_monthly:e.value}))},isMulti:!1})),"YEARLY"===q.repeat_type&&l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Repeat on"),l.a.createElement("div",null,l.a.createElement(k.g,{className:"react-datetime-picker",onChange:function(e){K(Object(i.a)(Object(i.a)({},q),{},{repeat_select_yearly:e}))},value:q.repeat_select_yearly}))),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Ending"),l.a.createElement(P,null,l.a.createElement(w.a,{checked:"NEVER"===q.end_type,value:"NEVER",name:"NEVER",onClick:function(){return te("NEVER")}},"Never")),l.a.createElement(P,null,l.a.createElement(w.a,{checked:"END_ON"===q.end_type,value:"END_ON",name:"END_ON",onClick:function(){return te("END_ON")}},"On"),l.a.createElement(F,null,l.a.createElement(k.g,{className:"react-datetime-picker",onChange:function(e){K(Object(i.a)(Object(i.a)({},q),{},{end_select_on:e}))},value:q.end_select_on,minDate:T.huddle?null:new Date((new Date).setDate((new Date).getDate()+1))}))),l.a.createElement(P,null,l.a.createElement(L,{checked:"END_AFTER_REPEAT"===q.end_type,value:"END_AFTER_REPEAT",name:"END_AFTER_REPEAT",onClick:function(){return te("END_AFTER_REPEAT")}},l.a.createElement("span",null,"After")),l.a.createElement(D,null,l.a.createElement("input",{type:"number",value:q.end_select_after,placeholder:"number",className:"repeat-times",onChange:function(e){K(Object(i.a)(Object(i.a)({},q),{},{end_select_after:e.target.value}))}}),l.a.createElement("span",null,"times")))),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Welcome message"),l.a.createElement("div",{className:"mb-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{onChange:$,"data-name":"introduction_message",type:"text",className:"form-control",placeholder:"Welcome message","aria-describedby":"button-addon1",value:q.introduction_message})))),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,"Thank you message"),l.a.createElement("div",{className:"mb-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{onChange:$,"data-name":"closing_message",type:"text",className:"form-control",placeholder:"Thank you message","aria-describedby":"button-addon1",value:q.closing_message})))),l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",null,n.questions),q.questions.map((function(e,t){return l.a.createElement("div",{className:"mb-2",key:t},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{onChange:X,"data-name":t,type:"text",className:"form-control",placeholder:"Question","aria-describedby":"button-addon1",value:e.question})))})),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=parseInt(q.set_publish_at.substr(0,2))+v,t=parseInt(q.set_start_at.substr(0,2))+v,a=q.set_publish_at.substr(3,2),r=q.set_start_at.substr(3,2),c=Object(i.a)(Object(i.a)({},q),{},{questions:q.questions.filter((function(e){return""!==e.question.trim()})),user_bot_id:_.id,set_publish_at:M(e>=0?e:24+e)+":"+a,set_start_at:M(t>=0?t:24+t)+":"+r});"DAILY"===c.repeat_type?(delete c.repeat_select_weekly,delete c.repeat_select_monthly,delete c.repeat_select_yearly,"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=R()(q.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on):"WEEKLY"===c.repeat_type?(delete c.repeat_select_monthly,delete c.repeat_select_yearly,c.repeat_select_weekly="thursday"===c.repeat_select_weekly?"TH":c.repeat_select_weekly.toUpperCase().charAt(0),"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=R()(q.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on):"MONTHLY"===c.repeat_type?(delete c.repeat_select_weekly,delete c.repeat_select_yearly,"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=R()(q.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on):"YEARLY"===c.repeat_type&&(delete c.repeat_select_weekly,delete c.repeat_select_monthly,c.repeat_select_yearly=R()(q.repeat_select_yearly,"YYYY-MM-DD").format("YYYY-MM-DD"),"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=R()(q.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on);var s=function(e,t){e?d.error(n.huddleBotFailed):(T.huddle?d.success(n.huddleBotUpdated):d.success(n.huddleBotCreated),ee(),y([]))};T.huddle?("END_AFTER_REPEAT"!==(c=Object(i.a)(Object(i.a)({},c),{},{huddle_id:T.huddle.id,update_questions:c.questions,new_questions:[],remove_question_ids:[]})).end_type&&"END_AFTER_REPEAT"===T.huddle.end_type&&(c=Object(i.a)(Object(i.a)({},c),{},{reset_repeat_logs:1})),o.update(c,s)):(delete c.user_bot_id,o.create(c,s))},disabled:ne},T.huddle?n.update:n.create),T.huddle&&l.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){var e=function(e,t){e||(ee(),y([]))},t={type:"confirmation",headerText:n.deleteHuddle,submitText:n.delete,cancelText:n.cancel,bodyText:n.confirmationText,actions:{onSubmit:function(){return o.remove({huddle_id:T.huddle.id},e)}}};u(Object(h.a)(t))},disabled:ne},n.delete)))))))}))},function(e,t,n){"use strict";n.r(t);var a,r,i=n(2),c=n(0),o=n.n(c),s=n(3),l=n(12),d=n(6),u=n(38),m=n.n(u),p=n(5),f=n(39),b=n(71),h=n(715),_=n(7),O=n(49),E=n(9),g=n(86),A=n(44),v=n(13),j=n(109),C=n(107),T=n(52),y=s.a.div(a||(a=Object(i.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n  .version-number {\n    display: flex;\n    place-content: center;\n    font-size: 13px;\n  }\n']))),S=s.a.span(r||(r=Object(i.a)(["\n  font-weight: 500;\n  cursor: pointer;\n"]))),w=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=!!localStorage.getItem("persistence"),r=Object(C.a)().persistor,i=Object(c.useState)(a),s=Object(d.a)(i,2),u=s[0],w=s[1],k=Object(f.g)(),N=Object(E.W)().localizeDate,R=Object(p.useDispatch)(),x=Object(E.X)(),I=Object(p.useSelector)((function(e){return e.session})).user,P=Object(E.S)(),D=P.generalSettings,L=D.language,F=D.timezone,M=D.date_format,U=D.time_format,G=D.dark_mode,H=D.notifications_on,B=D.log_rocket,W=D.sentry,Y=D.logs,z=(D.notification_sound,D.order_channel),V=D.chat_language,Q=P.chatSettings,q=Q.order_channel,K=Q.sound_enabled,J=Q.preview_message,Z=Q.virtualization,X=(Q.translate,P.userSettings.isLoaded),$=P.setChatSetting,ee=P.setWorkspaceSetting,te=P.setGeneralSetting,ne=P.setPushSubscription,ae=Object(E.bb)(),re=ae._t,ie=ae.setLocale,ce=ae.uploadTranslationToServer,oe={chatSettingsTitle:re("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:re("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:re("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:re("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:re("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:re("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:re("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),notificationSound:re("SETTINGS.NOTIFICATION_SOUND","Notification sound"),notificationSoundDefault:re("SETTINGS.NOTIFICATION_SOUND_DEFAULT","Default"),notificationSoundJingleBells:re("SETTINGS.NOTIFICATION_SOUND_JINGLE_BELLS","Jingle bells"),localizationSettingsTitle:re("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:re("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:re("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:re("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format"),workspaceSettingsTitle:re("SETTINGS.WORKSPACE_TITLE","Workspace Settings"),sortWorkspaceLabel:re("SETTINGS.SORT_WORKSPACE_LABEL","Sort workspace by"),viewRelease:re("SETTINGS.VIEW_RELEASE","View Release List"),liveTranslation:re("SETTINGS.LIVE_TRANSLATION","Talk in your own language (live translation)"),dailyDigest:re("SETTINGS.DAILY_DIGEST","Daily digest"),chatTranslateTitle:re("SETTINGS.CHAT_TRANSLATE","Choose a target language to be translated !BETA!")},se=[{value:"channel_date_updated",label:oe.sortChannelRecentActivityValue},{value:"channel_name",label:oe.sortChannelNameValue}],le=[{value:"en",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"en",className:"mr-2",width:"18"}),re("LANGUAGE.ENGLISH","English"))},{value:"nl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),re("LANGUAGE.DUTCH","Dutch"))},{value:"de",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"de",className:"mr-2",width:"18"}),re("LANGUAGE.GERMAN","German"))}],de=[{value:"en",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"en",className:"mr-2",width:"18"}),re("LANGUAGE.ENGLISH","English"))},{value:"bg",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"bg",className:"mr-2",width:"18"}),re("LANGUAGE.BULGARIAN","Bulgarian"))},{value:"cs",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"cs",className:"mr-2",width:"18"}),re("LANGUAGE.CZECH","Czech"))},{value:"da",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"da",className:"mr-2",width:"18"}),re("LANGUAGE.DANISH","Danish"))},{value:"de",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"de",className:"mr-2",width:"18"}),re("LANGUAGE.GERMAN","German"))},{value:"el",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"el",className:"mr-2",width:"18"}),re("LANGUAGE.GREEK","Greek"))},{value:"es",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"es",className:"mr-2",width:"18"}),re("LANGUAGE.SPANISH","Spanish"))},{value:"et",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"et",className:"mr-2",width:"18"}),re("LANGUAGE.ESTONIAN","Estonian"))},{value:"fi",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),re("LANGUAGE.FINNISH","Finnish"))},{value:"fr",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),re("LANGUAGE.FRENCH","French"))},{value:"hu",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),re("LANGUAGE.HUNGARAIN","Hungarian"))},{value:"it",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"it",className:"mr-2",width:"18"}),re("LANGUAGE.ITALIAN","Italian"))},{value:"ja",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"ja",className:"mr-2",width:"18"}),re("LANGUAGE.JAPANESE","Japanese"))},{value:"lt",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"lt",className:"mr-2",width:"18"}),re("LANGUAGE.LITHUANIAN","Lithuanian"))},{value:"lv",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"lv",className:"mr-2",width:"18"}),re("LANGUAGE.LATVIAN","Latvian"))},{value:"nl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),re("LANGUAGE.DUTCH","Dutch"))},{value:"pl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"pl",className:"mr-2",width:"18"}),re("LANGUAGE.POLISH","Polish"))},{value:"pt",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"pt",className:"mr-2",width:"18"}),re("LANGUAGE.PORTUGUESE","Portuguese"))},{value:"ro",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"ro",className:"mr-2",width:"18"}),re("LANGUAGE.ROMANIAN","Romanian"))},{value:"ru",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"ru",className:"mr-2",width:"18"}),re("LANGUAGE.RUSSIAN","Russian"))},{value:"sk",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"sk",className:"mr-2",width:"18"}),re("LANGUAGE.SLOVAK","Slovak"))},{value:"sl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"sl",className:"mr-2",width:"18"}),re("LANGUAGE.SLOVENIAN","Slovenian"))},{value:"sv",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"sv",className:"mr-2",width:"18"}),re("LANGUAGE.SWEDISH","Swedish"))},{value:"zh",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{countryAbbr:"zh",className:"mr-2",width:"18"}),re("LANGUAGE.CHINESE","Chinese"))}],ue=m.a.tz.names().map((function(e){return{value:e,label:e}})),me=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],pe=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],fe=Object(c.useCallback)((function(e){te({chat_language:e.value,translated_channels:[]}),setTimeout((function(){localStorage.setItem("chat_translate_change","1")}),1e3),x.success(o.a.createElement("span",null,"You have successfully updated chat target language"))}),[te]),be=Object(c.useCallback)((function(e){e.persist();var t=e.target,n=t.name,a=t.checked,r=t.dataset;$(Object(l.a)({},n,a)),x.success(o.a.createElement("span",null,r.successMessage))}),[$]),he=Object(c.useCallback)((function(e){e.persist();var t=e.target,n=t.name,a=t.checked,r=t.dataset;te(Object(l.a)({},n,a?"1":"0"),(function(){["log_rocket","sentry"].includes(n)?(localStorage.setItem(n,a?"1":"0"),window.location.reload()):"logs"===n&&(a?localStorage.setItem("logger","all"):localStorage.removeItem("logger"))})),x.success(o.a.createElement("span",null,r.successMessage))}),[$]),_e=Object(c.useCallback)((function(e){e.persist();var t=e.target,n=t.name,a=t.dataset;if(H){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ne(!1),R(Object(v.i)({user_id:I.id}))}else ne(null);te(Object(l.a)({},n,!H)),x.success(o.a.createElement("span",null,a.successMessage))}),[te]),Oe=Object(c.useCallback)((function(e){te({timezone:e.value}),x.success(o.a.createElement("span",null,"You have successfully updated Timezone"))}),[]),Ee=Object(c.useCallback)((function(e){te({date_format:e.value}),x.success(o.a.createElement("span",null,"You have successfully updated Date format"))}),[]),ge=Object(c.useCallback)((function(e){te({time_format:e.value}),x.success(o.a.createElement("span",null,"You have successfully updated Time format"))}),[]);return o.a.createElement(y,{className:"profile-settings ".concat(n)},X?o.a.createElement(o.a.Fragment,null,"owner"===I.role.name&&o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center mb-0"},"System Settings ",o.a.createElement(_.s,{className:"cursor-pointer",icon:"settings",onClick:function(){var e=document.createElement("a");e.href="https://".concat(Object(g.b)(),".driff.io/admin"),e.target="_blank",e.click()}})))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},oe.chatSettingsTitle),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-12"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:K,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:be,"data-success-message":"".concat(K?"Chats are now muted!":"Chat sound is enabled!"),label:o.a.createElement("span",null,oe.soundLabel)}))),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:J,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:be,"data-success-message":"You have turn ".concat(J?"OFF":"ON"," preview in chat messages!"),label:o.a.createElement("span",null,oe.previewMessageLabel)}))),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:Z,type:"switch",id:"chat_virtualization",name:"virtualization",onChange:be,"data-success-message":"You have turn ".concat(Z?"OFF":"ON"," virtualization in chat messages!"),label:o.a.createElement("span",null,"Virtualized chat")}))),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:u,type:"switch",id:"redux_persist",name:"persistence",onChange:function(e){e.persist();var t=e.target,n=t.checked,i=t.dataset;w(n),n?localStorage.setItem("persistence",!0):(a&&(r.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("persistence")),x.success(o.a.createElement("span",null,i.successMessage))},"data-success-message":"You have turn ".concat(u?"OFF":"ON"," data persistence in chat!"),label:o.a.createElement("span",null,"Persisted data")}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},oe.chatTranslateTitle),o.a.createElement("div",{className:"col-7"},o.a.createElement(b.a,{styles:"0"===G?A.b:A.a,value:de.find((function(e){return e.value===V})),onChange:fe,options:de}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},oe.sortChannelLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(b.a,{styles:"0"===G?A.b:A.a,value:se.find((function(e){return e.value===q.order_by})),onChange:function(e){$({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),x.success(o.a.createElement("span",null,"You have successfully sort channel"))},options:se}))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},oe.workspaceSettingsTitle),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},oe.sortWorkspaceLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(b.a,{styles:"0"===G?A.b:A.a,value:se.find((function(e){return e.value===z.order_by})),onChange:function(e){ee({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),x.success(o.a.createElement("span",null,"You have successfully sort channel"))},options:se}))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},oe.localizationSettingsTitle),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},oe.languageLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(b.a,{styles:"0"===G?A.b:A.a,value:le.find((function(e){return e.value===L})),onChange:function(e){ie(e.value),x.success(o.a.createElement("span",null,"You have successfully updated Language"))},options:le}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},oe.timezoneLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(b.a,{styles:"0"===G?A.b:A.a,value:ue.find((function(e){return e.value===F})),onChange:Oe,options:ue}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},oe.dateTimeFormatLabel),o.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},o.a.createElement("div",{className:"row"},o.a.createElement(b.a,{styles:"0"===G?A.b:A.a,className:"col-6",value:me.find((function(e){return e.value===M})),onChange:Ee,options:me}),o.a.createElement(b.a,{styles:"0"===G?A.b:A.a,className:"col-6",value:pe.find((function(e){return e.value===U})),onChange:ge,options:pe})))),["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(I.email)&&o.a.createElement("div",{className:"row mb-2 mt-4"},o.a.createElement("div",{className:"col-12 text-right"},o.a.createElement("button",{className:"btn btn-primary",onClick:function(){ce((function(){localStorage.removeItem("i18new");var e=document.createElement("a");e.href="https://".concat(Object(g.b)(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},"Notifications"),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:H,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(H?"Notifications disabled":"Notifications enabled"),onChange:_e,label:o.a.createElement("span",null,oe.allowNotifications)}))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},"Extra settings"),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===G,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(G?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:he,label:o.a.createElement("span",null,"Dark mode")})),o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===B,type:"switch",id:"log_rocket",name:"log_rocket","data-success-message":"".concat(B?"LogRocket is now enabled":"LogRocket is now disabled"),onChange:he,label:o.a.createElement("span",null,"LogRocket")})),o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===W,type:"switch",id:"sentry",name:"sentry","data-success-message":"".concat(W?"Sentry is now enabled":"Sentry is now disabled"),onChange:he,label:o.a.createElement("span",null,"Sentry")})),o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===Y,type:"switch",id:"logs",name:"logs","data-success-message":"".concat(W?"Logs are now enabled":"Logs are now disabled"),onChange:he,label:o.a.createElement("span",null,"Logs")})))))):o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"version-number mb-3"},"Driff version: ",j.a.version," ",N(j.a.timestamp)," \xa0",o.a.createElement(S,{onClick:function(){k.push("/releases")}},oe.viewRelease)),I&&"nilo@makedevelopment.com"===I.email&&o.a.createElement("span",null,T.isMobileSafari&&"mobile safari",", ",T.browserName,", ",T.deviceType))}));function k(){var e=Object(i.a)(["\n  overflow: auto;\n  .row-settings {\n    justify-content: center;\n  }\n"]);return k=function(){return e},e}var N=s.a.div(k());t.default=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return o.a.createElement(N,{className:"container-fluid h-100 ".concat(n)},o.a.createElement("div",{className:"row row-settings"},o.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},o.a.createElement(w,null))))}))},,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/active.bd6fafbb.svg"},,function(e,t,n){e.exports=n.p+"static/media/driff_logo.5de4243a.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(698)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAylJREFUaAXtmUty2zAMhpMufZTkGl00l4ici1XpneIu2smikzNk7X6gBBYiQZmR6FrtGDMUKAD88TBEPXxzU0PH43HHOE5sM4FordDOw0oEh9QoKPSQrVCFy11rhO+ZNcK7TKgCF6ZKqUbKQXrVeZFj9KIulWfGKELB4feZsiQQNGiSvghK9lGOjXq7q1oQV559QjiP1U4kdqF0wadUIOej4TdPN5Fh2I3GE7l7IoZCrjIVYvfLM/ZkcS3Kp9QgPY/GdiJGUC8ymVidzG9TgZxbw1vI2rhlHY2erOF/OKcuB6mNULP0wOoEcKR3naxyAIhe3IoXtxQEbyJc5IB1YSMTAOh5EUi6CKAvAW44TPay1FbOMXtgvHm6oowF3wf8cPxaNBwcBKM5m6KOlWnts/uQBlIEqVUAtFcweCydympxquwAjf1/FgcaBeCxhCq78r9fAX6Hn4zPzT0DGh464IGaOgCxH2D/HJs5ADJu0czjxbfaAWCTknC+E1B4oFUOQOgHmHA8WLBR/rHdNAGwJWn3FEBkbkms88VzwPsxdWGTkiwG1YUA2pLsVV7i2Ms9+aGkz+QYK71kSkegxo7KF7HgXheNPLSjb72iTQG3peqaOxBAnDybbNySqb4UwEk5ALMlW+1AIwDILVkzB+IIMFuycH00dTA6Sa/w4EMzbcZBtSVb9vB7KhpTsh+nbK/6awX+qQrQ3DtGz7C0/UYn2o4xufxtBpv8FQhQNkb7rm1jnsw3kwBReS2iwR6YhK8QKlB+8QQIpGN4LSKy7IkW2YQukgARzLWI3LyLT2zowhcU+MeeO9dmKkExeoZHsUXW+mm+nmg7RnWLNA9gCSABL26RJf6ariH48KEcbqlZiwAavoOO4Mvff0tZAywXWallim86JbxUPgYeWapvdo4HuWjt60B0ykRuUtkXzhrnFkTmNWtW2+BH3tKkjTzqERa3zdR5CpDqz35OAPK/0OIWu3gCWiECmWsx+bXcFttMApqIcIKqbrFNJpAksyfIYottPgFNhkDnWizmofab5kQrd3Z3F9t04F5wJPLIkL8aXhnt/27wnF5lZ6jAb5EVJTnDQksDAAAAAElFTkSuQmCC"},function(e,t,n){e.exports=n.p+"static/media/arrow_down_r_secundary.ac4ec86d.svg"},function(e,t,n){e.exports=n.p+"static/media/active.cbaeb23f.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.9db7215d.svg"},function(e,t,n){e.exports=n.p+"static/media/active.b22bf3a2.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.a77c2a87.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.07223cf3.svg"},function(e,t,n){e.exports=n.p+"static/media/department.fc475178.svg"},function(e,t,n){e.exports=n.p+"static/media/requests-active.45b2f4f7.svg"},function(e,t,n){e.exports=n.p+"static/media/task-menu-secundary.7365c9ec.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.8084315e.svg"},function(e,t,n){e.exports=n.p+"static/media/logo.d0b06377.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.dc54ddc8.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.c6daa980.svg"},function(e,t,n){e.exports=n.p+"static/media/active.e0f8fbcf.svg"},function(e,t,n){e.exports=n.p+"static/media/white-arrow-right.56dfb481.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.bc75fa82.svg"},function(e,t,n){e.exports=n.p+"static/media/active.ee83a5a4.svg"},function(e,t,n){e.exports=n.p+"static/media/poll_l_active.ae1e22d9.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.8fffcb8d.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.fc04f109.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.0c1a3d93.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.5a464073.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.0d732f3e.svg"},function(e,t,n){e.exports=n.p+"static/media/closed-eye.d4d23ef8.svg"},function(e,t,n){e.exports=n.p+"static/media/open-eye.7668c668.svg"},function(e,t,n){e.exports=n.p+"static/media/edit-secundary.ef3aadbb.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.1419358c.svg"},function(e,t,n){e.exports=n.p+"static/media/active.bddfba8b.svg"},function(e,t,n){e.exports=n.p+"static/media/active.eab6983d.svg"},function(e,t,n){e.exports=n.p+"static/media/active.d4880dcd.svg"},function(e,t,n){e.exports=n.p+"static/media/tail-spin.7258e2eb.svg"},function(e,t,n){e.exports=n.p+"static/media/quarternary.cd84b124.svg"},function(e,t,n){e.exports=n.p+"static/media/chat-icon-active.bdb463e4.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABECAYAAAA1DeP1AAAAAXNSR0IArs4c6QAACp5JREFUeAHtXN2rHVcVn5mEID4INUnxNvhJS/JHKAh58TGCLTSaW4ooIqUiFW7x4RAOiBQs+FGhrz2pEVIFQRBE8iwIPqoJamsIckOSIhQRLffM9Pex1syc3DuTJiCcuae7Tvaevdfnb6+99p6Zcy2KD4oQKMdwuPLklWO337wxr5t6uymKLVxFUZol2w3v8T/et32iw/3KWIl7UpC+LGpSa3yIn/QUFLJBa/nouJefNGEDx0hX676RDdTFe9ZJtyyL3bJsFiePPTq7+MZT7x4Fz2C59be35hjcSQPKUOJ7GwrRIOkbaXHsvXeM/LWGG9h7EL/7LM/c6ZhAkX5LZj+LbenAykmR0xoHCKCiXspQba6tJXzb3btNMS9W/HewlMW2FMoAO8tZzktGCnlICBoqkrM0tHeF+aZLGQLQcs1vhzxzdDQuykGx09Zv3WETBykTVd00xRItOQ02RQZqjVFG9DliRL9N9tGIgMytRFi1BEKklFJ0iWZFtVLAfquksWF49CQPuSzTctzvPg2049GXchIMCqjsNOWQh7pY5GS/lmWeGNvTjwzbjP4t8o4CkQptPLSFQjtsRwlC60y2xQDpMUsylLzpTNboEj+dIQ9yiKINTdGCh93iz77g4K3G2EBZDf+QAz3u573lkKeNhp6sUSBaRekQOwIMNvvG2mn1FiVmjAaQNulY21kydv330kg+9ZFBNeU4AgQa2n0eytJSok4wSQ9o1Jdjca/xsEnj0U8Z9wUijaDyTJYv/OE7uJte+fq5VxoDEMsFsCmfwZX7JcuYUVAKPYfX9CCwxRkxWedy4eh4RMB5xqEDjs1em9wTKw2mPZcMQcjlQTfGgSAFGLDrR91CwpHJFTrurb1ot1gf8u4DRD8/JBjME1MtTKSc09w1FBXKyvfJEcmYS0IZ2VljklgQAEZE5gi29RiAenRpEACW3Mp0P92A0FlCQNAngYKpDR9HgWBGcFSAS4mS+WK6JXNEgpA1PRoFgs7n2cGATBcEWk7H6ce9NcdGgRCTWDMiECERSmSeWmFuWEmU8E27CBwZBcIR4QTT30anBkDaKxAYFbiWPI7jXJFLfRSIJMraeaK9S/mTqRnNzhMdCLxnGQcCyCkqUGUI8X6qpebTLYzXBTdyB6E/o0CQIBnzkZx9Uy2c/RYELg2AwYtlHAg82q4URAMFTbbE0qDzjAb6kpE++vTJY7UcDwCM52RhwPOFY0JRQSDeb0TI8YwC1N45pgtEJks+aCkiFBmO8fGIqMpdoRfIsY0D1u5UoVA8hPOc5H5EjAKB1zYLb5leT2qzb6KlzQ0EA5fOEuHLaLJ84uRjs7/eucV3qnqtjwPI4vTxj80mioMyRD9JOiK8NEaBeApfgOD0i3FN1f/WbkaBI1wLA0ujRAJ1GQWilXBIGpz73Df8zOE8QffGc8QhASDdyORoEAIURgnKRgHB/NC9nUI05PcX9G/W0shnDURBt0wYDxsGhD8Od1/hvIO8j13DWB2ef+my9gtERB6u8kXTRuUI5YQWBEaGAeFUb1SOaKOAkdHLEwRioyKi3TUiKpQj+DCJoojgb6X+8vatOU5d+K1Uid9KYTXxqZOXyIygT2XoCDS15kTXW3M4kNdlfb0pj8x/+Otv/DzYD6yePffjpxGuM8g5XeP0r/2dRuqlCfVbbvtmCbpyVlnroi268IBYlotHHj81e+OiTsT7dFoe8wTlhs1BpYgIEHZq/EJGjvcBCFBIr0SjOgDCPpzGZg2j8V95ZtksLz9/7tWzoWdf9dUvvXIWIFyGzDMEIUHXLMX+TgDsOACAs3yfoL58jJZ+r3XI2YLOnbffvDnfpyw6WhAJMGRwPdBuFi8NRQLuAoAVMNpZAAfajAZFhPoDVfRlmOVMCZh67wKVHFTqZXOBwLaOEmbIaftgWQsKIwRCCJb60CYwK7o0XhR7NR4QB0pOlmRRhi5566XBSLBzNAQlHG7b0UdzPHOsbRhpWqSzDWFWSsaDy5KzgaE0pgPB/a1c0khXX0/qTxm+t6xav4k6SGtnJyMLFPBTPqIZEeFODuTXbhEEIdtQ1TIaDDy59V6A0ogEJ0O6qopL6D6wQM+lNMx85IdhjAQYmb+M6wDqnE36Pn+CRf6h0kYU9eCiDgECBrHlu0k6a4dgSYCQS4H3/dlLQ91nEGgY7inuGn5Hdf6nv3ru6pBRr/3iuauA/TyIr5GHvDIMNR21PtuTTlp+AhJj0knLHTG0Z6iIn/kF8tn2BJva54hQrC60TVIW3/vtNznyfyuv//J57iqjO8uY8s9/5WUACJdos+x2PcTDSHU0BwjgIfgsAYRn21HQLYEhgevSr1llpMIht10P2UewSJd8hEPRl0DkjXCCYAIyhaItELbKIRgsB0cM11KAa669tNJ35wi+mU4AQjDkrf/b6rLa7ecVOoXQH7R7NXK8jAgeS+bYhYSgw+HCcCsXoljjf2q8TKbdclCHLFg/8pY9EzvpxUdv0WZRjjj6kROzvX/fxW2FIzaIIOxDH/7ojATrXE596uOzG/+4AXfKbe0WVbn4zCc+OfvjgNHODQCO2z5Pr3A2IyLwGOA8ZN2Pf+37jSOBAAACpgEgcPPV75beNQ6Zw0Pu5HJg9BAEbadBnDliiPdQ9efS4LdPgsI0kEtjoyLCyZIgIBoiUbLNslFA8DlEmwEjIqKBNctmLQ3sFo4KLwklS+PgiLiIN1Tv/Pfu3NsQMML2+cixE/rrt6Bby+rJi1eO/fnmW3Os+W0nwnJx9NSnZ38aeUOl3NDLD46NWBrv/OfuHBl0h+tGmbQpdu68679+W0sEwqhrN29g8mB3zDQA2fnfP//OUX643lcwxfy9B95kMU9w59DuoZOolgbWjhDlgB+89FS2vU/SmnXslUtHQusUQp5/mThQ6iPFQhMd9E6YzYLkSpZAaIsgKCLYK8Jy8E0PSdahcHZxOQGiDvsH7T5+8onZ7TvX4R9P0OAsi8Vjx0/P/gVeAdGGCYUGIFSw7kW2clm0M2z7h+yO3LHyew+CwNIC0b1x8vphdl334tDuTV5M4sPYLSAkENx9wYyIZ7/4E3yj4JajQHK0ZMT0DiUEjac112hUxfVl1cx/8/q3R98+ffaZHzyNnWqGZHeaXzWos5vdbkL6dlFH3rvuDkfZD5IHLkqWKUBLBCKchb2DpLLV74arxpDGINCRptyr6zP1sr78hS//aPC7xueeefls0zSX8Qf48V2DvN3s2uFOj5dsd592WTdtDV7UD1MMBGeZlxzyTCQoeRzttigrTMNEl0b0+C1vOfxdo2kuyNlWd08/POnk8g1UB0DXT5tXbc1oeWggEMq7LcKtYV1EaLYBmYHC1hoJKoFLEGUkzGYtHtRDBS9V5Ij1WrZBZ7/vLd9ftzgmvRDofMYlkXxdjaU2+IZqyBb2KyIQ9n7Ts+KEFeUMpMG610uNnA0/07Nfr83CCX0GaI4MftcAWpc40yk/I4/3qctg9h1OnZwMUpF/VT9PxXTsQYuAOFU9Oiuq5iUYgQ+pNs6z4bXvdq8/TmaZSJPWvBUmpbiGsfO/+9m3Br9r/P61F64WVYXvGqCFaMpI3axztlN2BwptAi0nQwk6bcT/MUZVvnQCZ4UHBeED+h4C7wH7aeACmWuKggAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABECAYAAAA85kOPAAAAAXNSR0IArs4c6QAADFhJREFUeAHtnGtsHUcVx2fX13FS+rQT59EU20mEkErEJ74glKa0inSjNq5bpaiAUHiUPK+TEiFIX1xogZZHW+rGqdMETBLRUueBBMqVSlGaIPEFtRJCahEi2E1SHPJsQlPq2neX///Mnt299vX1dZ6Dkk03s4+ZuXN+8z9nZncnNebKJgTy+dBPo/DSJ5fbcS63u27wYO/3gjBcbnwThMZsvjHTuC7fc++HmcsNhtr7wOKXJ31wYP9vAmMWhJ4HKqHBn28cGDrMLGudUkwYht5jt3U8FBpvTegZz/hed31m1oPthYUDatD5SFcsXn91MBj+FgqZHxAHKg1Agsf4zVPNc1fVOwXmsc8+95NiGKw16EHubHDoe4XJmZa28wUn94Vt1w6dOVXA73xa6o+AEAw6g4BOb93Rfl1JwDkfvXEudaBhSzw/AsKGChqTPVbs3fVsdnfdudTNsss/33kDoLwqUAg+ggL4thOQBzLtYl6nwMDPGxgBVS2QtYF7YTfZo8W+c4Kz9r6uyeF7wR64y6cIhNDFjRhfeMZrXvi7WX7jw86BIRPrRjxg49HayK3Q+Oy/g7fPCg5iyrT3zwy9BuM/aYMsIdidUBCAeb5zUsPEuzki8bedUowoRXoTLRMghMMdiHhOOAZwMMzipKotd/cLM8PBcG/ghTerMhhPiqw1ggNXenH23Lmf27hx6aBW6hQYqxg0DRAsEOlJGEC5R8fGZP+1vzo4a+7a0Dw09ME+uOfHRBkRiBiQrbN7zidWfTGfv3VIoTB1Cgw9R4HwWDZRCo54rsDCMPvOGHDgPnMGwmBf4HktUIuog3UIYFTF38Fx15btua/k8x4vl2xOgRHFoPUKh0qhMXI9gqK9DVfIHugtr5xV93R9PPjQ7AtMcBPdRdUiKWqTa174s20725fBRe3PlmBxTjEEkd4jBUVw4pjAc+wwNPvPPoxWqZizqrVrbrE4tBfmT1coadC8Bj95ctuO1WuGsSg5ZTZntkcWrMfInFIIW2dVgwmZyWI4VSBI7TBrY49XMM3NbcE7B28uFgd/j5GnXqCgPFPWaZWGI9//Ltwnj0sVN+dcyboP3ClSDo2aNrupDS5VIAS7l8w9kDfMBgd6XwmKg39AfoEiyiiBgsKev64aKCTmFhhRSNLL2tPtHQsHbiQcPB7YnldAUJDAksnaPNy7XhSCeixAncShTt88sGVH7gkaXc3mFBhGWhoauY91A8LCRjgfbWlqC30/hkNV2V1dJUktILmPR1Nv+dbt7c/Ymqr72y0wKfehMuyeGEI4s5oBx/MK1IrcR9xhSqCcKROIloWLBYFvvrp1R+75pJbqjpwCIwby2QjGJT1eagjhSKAFnAQAYg7KFIFEpvxReSjva9u2535RWkN1Z06BoQvxSdcanPT8cFM6AKemqaXNg1tpjIlhwiKNL5jKLs7lnq368SH9O06BETegYthC9joSXiu3EU7mphbEHI5WSZDVh0SBHAbZo/1m19nAcQoMe1oUAxh0DXGtUcAQFuFMnDkbQzndyiolVpzGHgzlhw8H44bjFBgNqKIcqIDv7Qmn0kY4HyGcaCgXmFIugmwVmO0/Mj44ToERo0BBXEgVUIlKdI9wrp0xOxqttHziXgRdxIPnoaPVw3EKjHWjUoPoItVshFM/w7ThabrAdy10RVWeuiTh9FUJxykw6aHWqscO3dWAYZ6OjvaBKdNNm+fpaGXhWEDWLfEKIrv/aHFXdozRyikwiQE0iMO2NaxaMAqncZpBzDEyCYzr5AOovPSmmoJscKIynAoxfzzNOT95c3c8F4o7RZO82B3ic4ZndRGm1mX4Al0CteZDLgGi7qTXea732GS4XaY+01aA0oZb4JhiMMGLDKdhPE67l6gI1+3QTOM1PwBFxks5AWLvDb+uw7qkcKsPTg7+YDgUnjsGJooDQMIYo0HTukNkPGHhHhUiQZbHBCQwtLymvEdl8Ry7KkfKyEgFtwqX4NaIzSkwcJ1+NURStM4alRgY34cpoiim0WQuDZL55LtUBCUuJ6AIMqqTX63KbG6BMeEWCyLpYTXWpomKeJ7cI5wkWOs9DM+pPBZEugyPAa/s6winwEyf0PgoVPMkHFyUk+5xjQ0WnDVSnqfUTSL3YD55ThLFJIpLytuHVPzGca/G++ne7rXfLyOYK5euEBgnAQou3rg+5fHb1v8YQl2CCN4gkuTd1GqA+BpLRsOllbQdHpmdH7go3UT2+o4FPi2xAPd9r9/44ZapmcZH9Xsxy7qy1aQbUvvHhocB5CE0/ipZjiHGIweMSXaew2gWlOs2UMoxLkng430BYOEwrx0V7LDKiRvyXQN4nzkdvj/hjb/tfpXVubSVBN8AK5looBgC69V4OeccAC3XXaHwnB/cmcpMNVYX8+MPAVkQ9jz6WwMrcnzJJSDalpI1eOhFmMD/rKFqMI3jZdl4zA0JYWje2G1wUY45T8BtnVRZBREU1cKykbsZM53VuLaVKAbGdovBNDoynGkpBGswDVVj6T72j0KxxotSGG8EBnJoiiql/ujcNShsTwmY+glzHsSlQjwXjJSTVoZ1IUCJMimg2FAJvBaCXCME/gGEOCWQlGu6CAZNLN241u0YlnWFeJFMqdCg2F2Y1bpVYdqcpjb5lFFavOLZ/a0dGPeoJgtKlbR15+oR7ahY0UW4WaIY/h5XR06uabYve8pDgVnVL95J2yBQCAa7uqGoMZ3JkeMRYNiuGI7BKgJsaVdib0c9Per6FJYptzHoxmoR1dg4VS7vpb5WFgwbRThToBx89iww+OpOSNyjkSXb21d+8Q6yjNhsnNHyjDhUj2AfkfdSXxgVDBtGOFP9Jnzx47di7W07ixW3QAANEIu4eIfr8scyZrhaRH1xpB+r9MW9XxEMmyJwsAQDIArS4xIfGCOiHXm47Cvs6x0TTlxGykYjFdXo4DYmGLaZo88MwMHzTbwEQ3ob92isHOM14dDbleEMjzGqIAe5lM5jKjWQcLg+BVP5ku82qgKFM3Bw/6jK0bdmnMNIjIpUV+l3L9W9qhSjjSOcJqxPwaNCHHMS5dg5DwzOnjlUHk6sGD5PidJsENf6XUrHBYYNJxwsxulJlJJyJw7lHIYB53QZOAqDgdyWt/ldAqJtGT+Y1s4vYyTapPFBDZRUDNZRK8ye6qdykvUpWsa+3SecaGatrXEoHReY9kWdy/BxazNcwrcuRHVwyIaRMEqn+BYWP08E2eOp9Sl6nWlS3iEaqaZUDSZ3Z+caGLoBi7ns+nJ9umYARS2cqIkTxUbb+IFr2SP9dpWBjTEWijyxM+//4wRPAa5u3fBtjChPl+1xAWHexWpKrNu3RouLEBPOo5UHsj5FRyWrGM2rv+JWOqZi2hdt+A6U8kOND/Z1AY1GfIAtODoRZGpuv2bGrAUAUyAcApCU9+UcELAEQ9xNXzfwOu6zPhe3imBWt3Y+UQyL+RhK2lAi8b0jQcab/8ueFa9zfcoNM+bYZV8p420sISD7ilPUEinJQsOJg9uoYNoXrX+mGITfElWg7XGwVKPwUcyv9eZ39+T+qnbJ4h2sT8F6/WTBIG6KMvB3Ati6mc5rtLxL6Qgw/ISC0QdB1qyWgIocNEAEz17nsecd9Gr8eZt+vfKt4cbI4h2sTwlrIrfCZM4GZuSU8haKjTP2eHgdLpyXgOE/419zV+fPMU9ZJr2LFmpvx4YY01tXl5m3uWflP0YzgHCmN/r2wXOYUrReVQ/rdXGLweTzezLH3+jchn/+ssT6PpVhXUhSGuB5f/f9ifOef2l531jGEM5MwGFAFrgon66X12z9Y9V0ae4LmK6vd9WefP2tl9DY+9iTdk+gyJzDmDfrMt4tm3bef6japhJO05SaNlOTijkpd9Lfqra+i5nPzy9+ecKbh4s7sQ7/HpE3fl2G4qiHJUB65i+ZiRNu6exZKf/jg/E0kHBaGnw7WlGBusvv4C+sOhhPfRcrr39y4NjjmKfcITKPGqs9Kakf/rluYs2tG19ceuxsG0U4pgHK4QpuDuWEI8pEjT6+ZTm4+WjmUpljoHHa4BiS7//p6kn1t2/41YqT59p2LgCswUJAgHgKbE5QKRjZHtnTvfab51r3hSjvrWxd/y568TqBkepJuNBrk2r9O+E+712IH3a9Tt944WZVii7NQrB95fraqQsvVyjsNH9KbeM6gHkKs9VTcKn/4NXlj66aOXvR0z33/tf1Xr2Q7fsf/xe+9igIS1UAAAAASUVORK5CYII="},function(e,t,n){e.exports=n.p+"static/media/secundary.d29a5c71.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.af28936c.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.ae061e44.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.25601864.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.c178f518.svg"},function(e,t,n){e.exports=n.p+"static/media/send-secundary.7055e754.svg"},function(e,t,n){e.exports=n.p+"static/media/google-logo.8084f354.svg"},function(e,t,n){e.exports=n.p+"static/media/download_r_secundary.8f8976be.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.a5f0bb1d.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABzCAYAAADdVU0oAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAACIuSURBVHhe7Z0HYFRV9sa/9N4TUmgJEghVYAVRERHsyIooiq7giuuq64ruWhYWVl3ssrpiWQtiW8EOYm8rCirSFaRJJ6EE0nuf//nO5CYvI2SNJv81zv2Fx9x5c999k5nz3XPOvfe9+LgEWCyWw+Jb/2ixWA6DFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjF0gx2qUkLqaur00cfHx+Yj45lwuembPDc53z+Q8pOPOsQPj9cXUvrYAXSAvhRUSBO43SWCZ//kDIxxx9p/+HKxHkM8fX1bfLc0nrYEKuFeBouH03ZabhHKlNgzmM863A7kpdi2dQzZUvbYj1IC+BHVVtb22CgfCROo6+oqEBJSQkKCwtRU1MDf39/REZGIiIiAgEBAfDz89NjzMfOY6qqqlBWVoa8vFwUFRWLR/CR+pGIjY1FSEgIAgMDm9RnmRs9B7EepO2wAmkBxjBND0/DNCEXhZGZuQcLFizERx99iH379qpAKIrExCSMHDkK559/Prp27apGT4Om2A4cOICPP/4Yr776Cnbs2I7i4hJp2UdEFY4ePXriwgsvxEknjUBcXByCg4MbzkehmffDshVI22AF0gL4URkDdYqD3uK+++7Dc889K4Lw1x6fr1dWVmpZjpRylW5jxozBnXfehfDwcBHGR7jxxpvE4xSpaOhtysvL1dgphurqavUuMTFxmDVrFkaMGIGgoCBtm+c174P1rUDaBiuQFsCPyhliccvJycE555yD7Oz9Yqx+4jWq5flY9RhJSUk4dOgglixZioULF0h9t6BCQ0NFKOeIoJ5RIVA4Q4cOxUUXXYxevXrpudavX4+XX34JK1euFJEFyB4fXHXV1ZgyZYqKhOKkOIgJ2yxtgHxhlh+IGKVLwibdpHd3lZaWukaNGunq0qWTq0OHBNfUqVNdmZmZLun1XSIkrWce9+3b57rrrju1XqdOKa7k5A7ymOw68cRhrm+//VbbY13zyI3trFq1SuvwmLS0VNcTTzzhknCuyfuwtB1WIC3ACMQY8QMPPOBKSUlyJSYmuB5//DFXSUlxE8P1LNOwFy58wyWexdWxY7Jr7Nixrvz8/AZhmHadx/D5zp07XWPGnK3H9OyZrs+NgFiH78vSNtgQqwXwoxLD1DJzhUGDBqKsrFRyg5F4/PHHNXQi5iM1oZjJD1gWg8bixYsxd+5cPPXUXEREhOt+bs7E23kMyxs2bMCECReitLQEZ5xxJv71r8f0dWLyEEvrYwXSAvhRMfbn9uabb+KKK36n+cGXX36Fzp07NyTPxIjDE5M3EL7urE/43Fk2UFgPP/ywJOv3IioqGsuWfSXJe4zWsaNYbYedKGwhxmiXL/9KEuwg9OyZgYSEhAZx0FCNOEyZmDI9EF8zm3mNmGPMa+YYwuHiE044Qc7DgYAaZGdnax2n4Cytj/10fyTbtu3Qnjs9PV0f6VU8Dd2zbOpw435iyqaes0yc5fj4ePEeUTqUzJDLiqPtsZ9wCzFGXFtbo48cpuU+Y6wUgcGzbOqx7DR8Ytolpi1Th4/cOE8SEhKkr0kSr4/Oc1haHyuQFuA06ri4WC3v2rW7YW7EiMAYNQ3dCIL7WDYhlpm7MG3y0RxDzDEGljkwUFhYJGWgQ4eE79WxtD5WIC2AxkgDpxEPGTJEDLYCmzZt1N7ciISv0dANTnGwTA43WkXMseYcxNTh4549e1BUVISKimoJ7Xro687jLa2PFUgLMQY5atQpYsQ+Osw7b94Lmjg7RWCM2pSbE4ezzHrGuxhxkeLiYrz00ku6JCU+Pu57AwOWtsEKpIWYnj0tLQ1nnHGWji7Nnj1bFypy3RShwTrFYcrGoJ2G7zRwlj09B+FCSA4rf/LJJ3K+QFx77RQVihGdad/S+liBtBBjlDTeqVOnSuIcgMrKClxyySXIzc1VYzUGezhxcDucCA5X5sYFj0uWLME999wtz4Fu3brh17/+dZP3YWk7rEBaiDFcGnHPnj3FcO/lXmRnH8Dll0/WR+MhWMccw32eIjB47jdleiSK4+abb9brRRhW3X///Xp9CXGew9I2WIG0AGOMTiPmSt6ZM2/X8ubNm3D99X/C/v37NdEmTiM+nAhMmY/O/fQcS5cuxY033iD5R6FeDzJ79kPo3buP1jHHWNoWu9SkBfCj8jR8PnLfiy++iNtuu0U9xaBBx+DBBx9ESkpKg8Gb+txMuOXcb8qE4lixYgWuvPL3Gr5FR8fikUceweDBg3UuhDiPYXvmWEvrYgXSAvhRmeFclo1Rmv3z5s3DnXferiNagwcfKyKZrfMVZuSKOHMR5/GmzLDKLExkO7ywas6cp0R0g1QcrGfeA9uiII1oLK2PFUgLMImxyTG4OcucD3nuuedw1113itG7PQlX+XJRIY3ZGDQ/cpZNW6ZMz7F9+3acddaZupzEx8dPh3aPPvpoFZk5HzFtcR/LfLS0PjYHaQFOAyXOcIv7acSTJk3C9OkzuBdr1qySxP1yvSSXUBhOb+EUCsW1bt06nHmmWxy1tXV45ZVX0L9//yZiIkYczrYsbYMVyI+ARmmM04jDGDvnRSZOnIi//GWq7lu//htcdtllKhIKyvT2TuNmKLV27VqMHz9ejvcTsdTozR/69evX4DlYn3iez9mOpfWxAmkhnsbKMjeTZ3CjSCZPnoypU/+qnmDduq/Vs3Co1tQxRk3RrF69WnKOCdIG2wPeeusdFYcRk8F5br5mMPssrY8VSAsxxuhprCxzMwbNxJkimTbtr+IhatWTUAS8Z5aB4li+fDkuuGA8n0k7/li06E307t2rQRzOds35PPdb2g4rkBZCg/xvxmrKRiQzZvwNVVXV2Lhxg4ZRXHDoFIefn6/UDdKwqnfv3kf0HHw0Zed+S9thR7FaAD8qbiZZPpKxskzMcybgzzzzDGbO/LtehZiR0Qs33HCTzrxL6i0hGcWxQPZnaKhGgXiew7NNZx2Tp1haHyuQFsCPij0/H01YRY4kDrOfW3V1FZ5++hncffdd4i38dAEiL7biWi56Dt4PyxlWkSOVneIwx3CztD42xGohNFIapSkbwzX7TdlpsNwfGBiko1k33HCj5iQUh59fU3FwMyNUTkGw7BQEy9zM+aw42g7rQVqAMVJ+ZMYwzcdnjNUYLjF1iNnPqwLnzJmDhx56SBLyRQ3iIM62zLlMu6YtU3aOmtkQq+2wAmkB/KhouHw8nLE6xeFZZh3COQ+GaXl5eQ0XPXkKzZzDiIM0dz7ThqX1sQJpAfyozJWD5rkxTM8yMUZt9tOgWTaGb17zrM/N8xxm/+HEaMRnaX3cn7DlB/NjxWHKPN54CPMaMfWJMXjPOkZYTnHwuTnO0vpYgfwInAbpNGJTNsZ+uP00bmLqmNf4aPZ7CsizfDiRWtoGG2K1EOYPngbtLBNjuEfa/9/KxHga4tmWZ9mGWG2HFYjF0gxWIF6Eq86FsuIKZO/JR614p+j4cMQkRMA/0HqgI2EF8guBX6MJ044ExfHa7E+x9rOtcEnd4PBAjLtmOAaccBQCg/lXrCye2CS9HUNRVFXUIHdfIfZuPYSCQyWoKK1qyFE8+W5NFr75Yjv8gvzgH+SrCyhfmPUh1izdirpad75jaYr1IO2Y6qoavP3o5/hi4Tfw9fcDv8iMoV0x4S+nIiSCf+yz0aPwa/5g3kp8OH+l1JV+UV5yycZQi+3MeHIikrvE1te2GKwHaaewWystKMeKdzciKCwQ/sH+CJBt84o9eOT618WTVDbxJHW1LhQXlKko6lx16HtcGpJS40RULgSGBuCj11drm5amWIG0UxgSZW7OVg/AfCIyLkwEQqH4ITsrD+8/u1w8g/uaecL65RQNf+Rbj+kQgXG/PxFVNbWokTbWfLEVZSUV9bUtBiuQdgpHpPZuyxFv4A6VMoamYtz1w1FZWaPe5PN3N6C8uLK+tjuUKhOB1DHq8vNFdEI44hIjJFEPQq2IplRey9yZ465sacAKpJ3CScTcA8Xw8fPR5fOR8WHoe3w3dEiNrc8tarHl60zU1riTb4ZYKhARg4/kJuHRoQgODUS3PikqHj/xPJk7DmpdSyNWIO2UOnEdhYcoEKBGwqcICbF8RSxDTstwi0D2f/35dk3Atb7Uqaiq1uScogoJCwIv9U3rkSheyL18ZbcVyPfwKoEwaa2trkVVaRUqiipQWdy4VVdUqxG1FxhiFReWw+UvHkTed7Ak2qRLz0RUVVZLnuGDPduyUVHu/pMMvLtKtfzudfKNu0Q8AUHuS3sTkqNUUMxLckRwlqb8Iod56ySsKNxbgP3r9iJ/dwGK9hWiJKcYZQXlqCqv1q1GjIW9Kf/jBxAQEoCAsECERIUgKjkScWlxSOqVhJiOUQiT3jlIelx3/Z8HZZJfPHDNyyjIK0GliPvaf5yH9KM7SoKej5mTn9ffh/fX+vvcS5GQEo08Mf4Hpy/AoexChEWG4Prbz0Vy51isX7UTs+98E4FBAeicGo8ZsybUn8FCfpEeJH93Hp4e/SQ+mvkBVs1fie8+2YLMb/YhZ2cuCvYXoTS/DBUllSgvkk0MjeXi3FLkZ4moNmdjy9Jt+PLfK/DqzW/g0XFz8ci4p7BgxtvYuXI3yqXX/jnA0agayTOYb3AUi3kFoaH7h/jX7+cFWm6vWClepUo6Be7jtx4Y6K96D5EknR0E2yuv/wNAlkZ+kQLhKE5wTCjKJZQqyy1HrVhFUGQwYlLj0HlQZ3QfkY4eI3ug35i+6DO6l5ZTB3dF/FHxCIoIQk1lnQihEtWVtfAJ8NXZ6S0Sz7988yI8csEz+ODBz1B0sLjJPMP/O3Jqhkx8Bz7+Yuji/eji/AP84CebWyBi9vXvkR6z1sUhYXkiYgoIdE8sFkuoqfVkP8VlacovMsRinlEmHqE0pxS+YuD+wdKrBvnDT3pNP39fSVJlY0X9T5BPgB8Dj6uprGkIwwokNNu1ag92rM5EXma+JMG+aki+YoAB0t4x447G8RcfoxN1/20d1E+B+QYxXoKUimHfccULKC+v1FGsaY9ejBQJkQrzSnHL757VodsaSdBvfWwiUrrEYdfWbMyeuQglJRWIig2VUOoihEunseKLrXjsgXcRJJ9RWnoSpt/Bm9hZDL9ID8IeNCIpEkl9k9FBktbYrrGIlOdhYhjBYhTVYvxZ3+xFVVm1CidQDDxIQo1Q8TqsFy/5R0rvJGScnI5TrhuBSY+Ox8RHxuNX4waIh5Hjq2o1+f1i/mo8N+V1HJTQzQyntjaFIvS3n/4S8+//GDs37NfRK0JBV9fUqGA5KkUDp3w4alXF/fLDOQ9zcRX/Mq7bg7i9BfXMNvJyxRNKmYKKTYjQupZGfpECaRaxrzemvYmF097Cvye/qCI5EvQYgZLsRnaIQOqvOuOUa4Zh0uzzcNyFg0RYgWqA+7fn4PkbFmK3CE4T/1aEBrz49bVYvOBrrFq8Ba88+imqxNANOvokjzRwVYdsFG61eBTKlcvYGXIReplaaY91/Zl/iDfi3EhWZq5aQZ38JCZHa11LI14nEFddHbK3HkJNbS3yDxSIQH5YYsoQKkB66aQeHTDqqmG48M6zEZMcpcOjJQXlmDf9bRzc0fqeJF7O4c8hWQkV46RswiwNCeV34flp9BQzKS4s07oUT5x4w0DxkIq8f9ajoOhxuJCROcyuXQfF5Uq5tg4dO9vFip54n0DESJiDsLvl6I+7D24Z7JmPGtwFE0QkHSQcY3sMbeb97R0dDaPxtgYU5TGn9MTlt47GxX86BROmnKyhFOEZ6Cn4/k2IRfbuydUQk+FUx7SEBoFUyfvj7HudhFhM0Nl2RUUVsvbSg1AgtUhMsh7EE68TCC1Le1K3Rsx/PwqK44LbzpL8JVgTd4rjqzfWobrCPXvdUpiMa47h0BdvU9qxWzx6D05FaERQ/V43+nvUb4ZN67PU4NlEz74d9XhCAZsQy90xAAWFpbpQ0Uc+i+iYMHRIbBQIBVVYVKaPrSX49oj3CYTGRCOR/+rEUH4qCV1iMH7GaTqbTdF9uWAdcvYW8AQNaDgk4Ywa6RFCsMryamz/di9Wf/IdSosrGsSycfVuPDx9IZ67/wPke8x003vwNOZUVZU12LHtgIZXXD6S0a+zjtoRCoM5Ex8ZsjFfWvrpJvU+3Hr17YzQUA4Vu/OV9z78Grfe8SrmvbwUlfK+vRXvE4hYk/SZ9T1p/b6fSNqAjkjunqChFnObrav2iBAk/JFzManO2VuIr97ZgP+8sArrPtuGEi4RcQiIS1xWfLQJD/zpNTw/6wO8P3+FGikF9fGCNcjamYONa3fjm6921h/hxm3wHK1yN8a1VHk5xSoOXjAVLp7NDD/zHCocPhUPU1Rcjs+WbmQch4rqGpw0orfW45KUtd/swpPPfIw9WTl4471VOpTsrXitB2lN/CSMGT7hVyoQhi+blu9BpYRZFMfiF9fgvt/OwxuPLMFH81di3qyP8NB1r6G8/toLGuT2b/fjlUcX6zXiTJh11a14D3qE4qJy3cc5nMROTXME+o9a+V04VM3RqrWrdriXmIhIM/p3RmBw41+/LZN8w33tCDQH2bQpS2fX2XZkVCh69EjRnGTDpkzc+89FCAnlDLsLw47LQHCw27N4I17pQRheaRzeCiGWoWPPBAlbJHySJvP2F6K0oAyblu3Cf15cLcbtCx8REQXEy11zDxZhlYRSFNCGFbvw2IxFOpmpPbz8xCVH6ihTiYijvLzKnS+JIXN41sAQyYRMHNmip1i2ZHPDqNbI0/uDfwzUCT0Nf+X9Bwrw6mvL3HXl54ILjkdmZi4effJD3HLHK/yINMmPiQ3HFZNGIjjICsS7qDes1vQkgSGB8JFenKIrkRyCiwn37chRA2TI0/uEVEyeORoV0mtzGHbFx5vw3L0f4Ilb31LDpThomMxQehzdSb1S5o5DKONqXGmTeUKAQyB8/7qxfTl+25Z9yM4uaAiv0o5K1OXsBl5my7Ypqpz8YhSXigeTMp/PfX4xpt4yH0u+2KQi5LL41K4JuPfvFyMqMlRF5a14nUD4ZXMpOI2DPTqHRFsFMUwdgZITcIEgy2GxITpDzd5/o3iK5+/9EAHBfmrEmdsPYf3ynRoS6Qw3m5D3RPHEJ0VJMz7Y+d0B9yiSCIDhEXMSJzR4HsP5mddfXqYi5Sz60GE9dTGigYME5eKtzOJG/RDkH8XBdislB6mR1qokNIuKDsUfrzwd9912MRLiIvV9eDNeJ5Bqies5ksQwi4bSWt8/l59ojC8/vAkC7zM1YHg6Uvsko6ysUoXC5ef0MO6e3KWGGd8xGp2OStBwh7lDer9OCBJDpxh2iEDUu8h75HAsL4t1ogm6PBYWlmLb1v36nIIfM3awhlcUaV5eCVas3IZVa7a7Z8+lvmmTyXr/fl0x9uzBuO6qM/HQfb/Fk/+8AmeOGvC98Mxb8TqB1EqewB7c9NitRVFeqeQa4h2kZV7+Gh4TojdSuPzvozHu6uFI6RavybT6CvnUewzsjJsevBA3PTAehQWl2qPTk5w0ur9O7pVJCJSbU6z7+V657iovp8h9snrcHsRt7PSKrMdQbMb0+fjjH57ElVc+jqvl8e67F2DL1n0qCK1PbycbBX0orxgXjBuKU0/uj+5pTcMyixcKxBicxu+tGD6sWbwVdb4iPGmyY3qCXu/N5jm5d9K4AZh406moYR4ghskwaNS4geiWkYT9e/KQc7BYPQzXfXXvnaJGunXjPsk/KhsMn/Mse3bnuMM4hSJ3n8/9+1AobsMvLqlUwy/gRF9NrX7LtXIc6/L1AUen6kpeinVvdj5WiHfhoIC3h1OHwyu7i4YRLLP9RDivsfrjzait5UVMdegzNFWXwxM1OrHgLEm4OYzKXpzhV5fuiXru777d6zZgEUBaRrIm4jov8vkWvcBJBS2Gz+O+k0ScQ8DMKYqLKZ5GL0IB0ODVm8jPgAGpOOaY7hh91iBMuXY0hg/vjWrJQViHo1PnnTNERUlRz5m3WMXoSeb+PMx8+A3MePB1Kec6xOk9eJdA5PvldR78EwaKhCOtwZrF36lXYO8cEReKLj0StUc2FEoe8NpTn+sQr0+AD0aOHYgw8Sw09G3iKXgrUOYfvQd2gb/U4TUbG9dnaY/PrZq5jXxT2dmF+HLpJslpqnSijwaunkPOwYWG4REh+o3yvRx/Qgauufp0TLrkJJx4Qi8Ei3dip8BjIiJDMLBfmoZjHN3KKy7FRoZgHsx66l189e12rPp2B+57+l2dS/E2vEsgApdwiF2KmYjltYL32Ls9B4vmfKFGyoHU0b89XnMPA69q/HjBWpQUl6k3oDiHndG3wbMwwVYhyDfRKTVeE+k1y7eLYDiuVIdESeJHntHfPdIlYpj/wlLMmDoPsySv0BE4OZYe6aabx2LsuCGa+FOIL776BeWjo1kUKz0bj+d56AfixIscM7Cbeh56rXc//dr9hh30y+iEQsmFCsW7DOiVisDWGvFrR3idQIiKg4byEwXCxPzZu94Tg5SeWQy/Q+cY9BnSteEajArp6Re/9TWWvL9eDNw9enTlX89GdGyjgGjMDIsY+uRLe9n7C/Dis5+JQTNcc2H4qL4YM24wBg3prmuiKID9B/LrDZ5tQttLSIjCsYPTRTS+mrdkHypCqRg3vRQFUS69vwpRyvRSQYEBOPuUQeClVQy9Vn+7C0UlTa+3v2j0UMy9fTKemnkZJpw5BAH1Cx+9Ca8SCI2DiwK5XoplH15t9yM0QqMrzC3BM3e8h9zsIk2gOVN+6V9Ol9ApWPMJ3kXklSc/wwevrnLnBXKqEWcPQI9+ndRLED5mHN1Zl3z4B/hjwfwv8cAdC0VMklPIO+RdR44Z2h0xMeG47IqR+P01p2HAoDT07NURPXqmaEhnwjBqPVa8Qmqq5DbSLgW3flOWvhe+X3og7qNI9bp1P18kJ0a798lWUFqOrAN5+r4M4aHByEhLRp+jOiIsJMjt9bwMr/Mg7hCrPkkXQ+JPS+Acyq6NBzDntnewc/MBMS2XTu5Nnn4GgkIDsX7lLrz572WYPX0BVny2RXtn1jluVC+MvnBIw3UbhAZ30un90LlbgniEWuQVlCD7YJF6ibDwIPzuD6fqMnQKKSo6DMNH9MG1152FG248B78eO0Qn9tQj1Hssttevbxd3OCbf7Nr1u9zXjIhASsokqZdflWLgcxIaEoguHeN1dM1ffoede+2tRz3xMoFIbykC0ZEf2XgdxA/VB4/jjRKWLPpGwo53kLX9kBphoBjyxBtORVKXWDz8tzfw9L3v4cPXV+FgdqGGSLz37TmXHIfzLh2GUCk7oUYpgD/ePAZjzh+C7hkp6CJiGTaiN6bdej66dWs6L8FyaGgQwsKCdMkKhUej1z9nUE+P9GQVJcW/K+tQ/fUcFAbDMQkuZb8RaaB4rYzuvPWo7Je2t+w6oPstjXiZQNzLz7kUhIYl2at7ZzMwROEw7oblO0UY72LR3C90lInDo4ldYnDFjLPQb2g3VRxv4sbemPMZ0fHhOPbknphyyzkYNWbA98ThJCklGudOOA43Th+Lv952PiZfeQo6dYlr8Aye0ANwObyGbhoyNf4eMeJpKuk1ZNeBXPFGKhD33As7BeYnZpbcT37/dAnJauR1CifrYL7utzTidQJhb0px0Fi0Cz8Meh9bSbAP7i3AN0u3Y+7MdyVRfQc7Nu5zr6oN8sfA4en4453n4qg+KXpREu+WfsW00Rh98VBcev1puOme8bjkDyORmp7YZJHhkVDvIJ4hLDxYDNh9SeyR4O/AxYb8HegZQiRXMISHBcOXupLDi8sq3MPP4iHozYyg+EMoitjocN3H0KtI6lua4nUCqSyvct/fSsrBkUFqPFyfRUEU5ZbiwO48bFy+C6//awlm//k1PHvP+5Jr7NfRIc5X8PLXq24bg0l/PhWRMVzp6jZkXtra51ddcdYFgzHo+O56C50fIowfh3gEXddFo3epoAzBQe51YNzPb1e9pfyYJJ2iYGhFNMSLCNUOg0Kzd1b8Pl4nECpDe1LpYrnAcOvqPfjPS6vx0qz/4MEpr+Lu382TBPxtrPpkM8olsWW4RENMSovHlSKM6+47D937ddTl6P8r6EFKmXTLt0ehm0tlid7dRCyfRs/cgjXYCVTWSM5CLTMHqRcuBygoHn4etfVexNIUrxOIGgnjDzGIooJSvHDPR/jghRVYt2w7igrLEBTmr7cu5dAtJ/xGnDsA05+YiD//43z06N+p8TY6/0No1OWVVW7DlrLzlqGcqzC3FYVomL8H4aid25fwxw1L9IBmuNibrxw8El4lEPaYnXt0QHRiBKrEe1RzZa8YCTfOSnN/3+OPwoVTTsb0OZdg2uO/wdmThqJDx+gjJsz/C+hByqvMKJYLQQ7RMvTiNeaUBcXD3Ia3+2F9Cko9SL2g2E5+can7TyLIa1xmb2mKd3kQMYJwyRtufuZiXPfIePzhH2Nx3UPjMW3uRNzy/KWY9uRvMOnm0zDklF46bOucs/hZIYbN0SkaPMUdJom5gZOguiixPmSih6AQ3B2BHCqCMTkIPceB/CKtSzElxUXqfksjXhdiEd7yv2uvJKQP6IRUeUzqEoMIEY5zzuHnDD1HSXlFvUAkkvKna3DDCcGSCgm/WEu8hbkvFsMqIxr+EA5hb9t7SMOvKvEyvbom635LI14pkPaO8QgMr9jzBzluqlBQXKbDznw9MT5KR7XoOdV7cGvUks7Yf709S1f1VtTUomuSvfWoJ1Yg7RAuUS8WT6GGL+VgRw6yI+uQDvtyPVeX5DiEiEDcwhDvId+2UyClFZXYtO+gDv36BPgiLSm+/hWLwQqkvSKGzqtaTJhlWLZ+h3yrPjo7Pmxgen2+IeKor8cwi4Lh6NamPQc0R+Eyk4wuiegQE8EmLA6sQNop9ARmM5OVxaXlWPvdHl3Czm1I3zT4M6+qD8ncOYgg1UvKK/H0+1+CfxmX+ce44wc0tGNpxAqkHcKJv4pqTvy5UCmegEvRCb1HsSTvXA+WnBCFyLAQNXr+ER0OY9NzMGfh1YvfZWVjzS735b4VUn9E/+7ahqUpViDtECbpFVyEKK6AInGHTLX493vLdI6DHuGi045FSP3EH0XCETreppTiOVRYiunPv4VASeb9/f1x6cjBSIqJ0rqWpliBtEMoCXMJLnML3r7ng682aE5B2fCm1acd2xsB9cPWvOSWS2NYn7nJg4sW42BRiTz3QWFNjQjk2CbX0FsasQJpp5gEnQn5noN5eHTBp3r9eXlNNSadfhwiHFcAcvlJSEigCMJ9A4icEvffBamoq8VTV41HSqz1HkfCCqQdQsPneisKhNeXP//+MuSIR6gWr9IxMRbnjRjY5PrxAD8/HJPeWUOvSgnFqqQeL7K6/aKzcFyvNOs9msEKpB1C40+Kj9J8giIplMSc16nUSHnGJWciPLjp9eMUwLgTBmDSKcdiQPdOOOe4ozHnmotwrjwGB/xMl9P8TPhF/p30Xzq8zvyT1Zsx7cmF7sWIso8e4c/nj8L4kwbBXzzG4eDFUzyWrwfVr8eyNI8VSDuEX1hJWQWuf/RV7Nifg8S4KFw95kQM63NUu1lP1l6wAmmn8GvjWipO+IUGByLUi//ITVtiBWKxNIP1xxZLM1iBWCzNYAVisTSDFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjFckSA/wP+p4hyIrinvAAAAABJRU5ErkJggg=="},function(e,t,n){e.exports=n.p+"static/media/secundary.48d69966.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.3b1c40f4.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.ee187bcc.svg"},function(e,t,n){e.exports=n.p+"static/media/quarternary.1b7d2236.svg"},function(e,t,n){e.exports=n.p+"static/media/secundary.67ccb83e.svg"},function(e,t,n){e.exports=n.p+"static/media/active.e1900b4f.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.b3fbfb33.svg"},function(e,t,n){e.exports=n.p+"static/media/heart-white.8e297fd4.svg"},function(e,t,n){e.exports=n.p+"static/media/active.93995dee.svg"},function(e,t,n){e.exports=n.p+"static/media/favourites-menu-inactive.76c9d847.svg"},function(e,t,n){e.exports=n.p+"static/media/inactive.b0611f9f.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/workspace.1147193a.svg"},,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){e.exports=n.p+"static/media/company_chat.b868171a.svg"},,,,,,,,,function(e,t,n){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAh+SURBVHic7dmxDQIxAARBP3KE9BEZDdDLV0d5dPN0YQc7U8GFK90xxrgHAJDy2D0AAFhPAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBoXuPcvQEAWOz4jc+9ewQAsJYLAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACC5vv72r0BAFhsntdz9wYAYDEXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAE/QFDUgh36a0p6AAAAABJRU5ErkJggg=="},,,,function(e,t,n){e.exports=n.p+"static/media/appointed.4a7182ca.ogg"},function(e,t,n){e.exports=n.p+"static/media/appointed.d46d7db1.mp3"},function(e,t,n){e.exports=n.p+"static/media/appointed.b1ef26b6.m4r"},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r,i=n(0),c=n.n(i),o=n(53),s=n.n(o),l=n(713),d=n(90),u=n(5),m=n(371),p=n(22),f=n(164),b=n.n(f),h=n(2),_=n(39),O=n(344),E=n(3),g=n(9),A=n(6),v=n(7),j=n(30),C=E.a.div(a||(a=Object(h.a)([""]))),T=Object(_.k)((function(e){var t=e.redirectTo,n=Object(i.useState)(5),a=Object(A.a)(n,2),r=a[0],o=a[1],s=Object(i.useState)(0),l=Object(A.a)(s,2),d=l[0],u=l[1],m=Object(g.cb)()._t,p={invalidDriffName:m("REDIRECT.INVALID_DRIFF_NAME","Invalid driff name detected"),redirectedTo:m("REDIRECT.REDIRECT_TO","You will automatically get redirected to"),in:m("REDIRECT.IN","in")};return Object(i.useEffect)((function(){0===r&&(window.location.href=t())}),[r]),Object(i.useEffect)((function(){document.body.classList.add("form-membership"),setInterval((function(){o((function(e){return e-1}))}),1e3),setInterval((function(){u((function(e){return e+1.2}))}),50)}),[]),c.a.createElement(C,{className:"redirect-panel form-wrapper"},c.a.createElement("div",{id:"logo"},c.a.createElement(v.r,{icon:"driff-logo",width:"110",height:"80"})),c.a.createElement("h5",null,p.invalidDriffName),c.a.createElement("p",null,p.redirectedTo,c.a.createElement("br",null),c.a.createElement("a",{href:t()},t())," ",p.in," ",r,"s."),c.a.createElement(j.d,{amount:d,limit:100}))})),y=n(12),S=n(1),w=n(707),k=n(702),N=n(699),R=n(700),x=n(701),I=n(238),P=n(21),D=n(23),L=E.a.div(r||(r=Object(h.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n  .input-group {\n    input {\n      margin-bottom: 0 !important;\n    }\n\n    &.driff-name {\n      .input-group-text {\n        border-radius: 0 6px 6px 0;\n      }\n      .invalid-feedback {\n        text-align: left;\n      }\n    }\n  }\n"]))),F=Object(_.k)((function(e){var t=e.className,n=void 0===t?"":t,a=e.setRegisteredDriff,r=Object(g.p)(),o=Object(_.g)(),s=Object(i.useState)(!1),l=Object(A.a)(s,2),d=l[0],u=l[1],m=Object(i.useState)({valid:{},message:{}}),p=Object(A.a)(m,2),f=p[0],b=p[1],h={name:Object(i.useRef)(null)},O=Object(i.useState)({name:""}),E=Object(A.a)(O,2),j=E[0],C=E[1];Object(i.useEffect)((function(){document.body.classList.add("form-membership"),h.name.current.focus()}),[]);var T=Object(g.bb)()._t,F={continue:T("REGISTER.CONTINUE","Continue"),registerNewDriff:T("REGISTER.REGISTER_NEW_DRIFF","Register new driff"),yourDriff:T("REGISTER.YOUR_DRIFF","Your driff")};return c.a.createElement(L,{className:"driff-register-panel fadeIn form-wrapper ".concat(n)},c.a.createElement("div",{id:"logo"},c.a.createElement(v.r,{icon:"driff-logo",width:"110",height:"80"})),c.a.createElement("h5",null,F.yourDriff),c.a.createElement(w.a,null,c.a.createElement(k.a,null,c.a.createElement(N.a,{className:"driff-name"},c.a.createElement(R.a,{ref:h.name,onChange:function(e){e.persist(),C((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(y.a)({},e.target.name,e.target.value.trim()))})),b((function(t){return Object(S.a)(Object(S.a)({},t),{},{valid:Object(S.a)(Object(S.a)({},t.valid),{},Object(y.a)({},e.target.name,void 0)),message:Object(S.a)(Object(S.a)({},t.message),{},Object(y.a)({},e.target.name,void 0))})}))},name:"name",type:"text",className:"form-control",placeholder:"driff",autoCapitalize:"none",valid:f.valid.name,invalid:"undefined"!==typeof f.valid.name?!f.valid.name:f.valid.name,required:!0,autoFocus:!0}),c.a.createElement(x.a,{addonType:"append"},c.a.createElement(I.a,null,".","drevv.com")),c.a.createElement(D.f,{valid:f.valid.name},f.message.name))),c.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),d||!function(){var e={},t={};return""===j.name&&(e.name=!1,t.name="Driff is required."),b({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}())return null;u(!0),r.check(j.name,(function(e,t){u(!1),!e&&t.data.status||(b({valid:{name:!1},message:{name:c.a.createElement(c.a.Fragment,null,"Driff ",c.a.createElement("b",null,j.name)," does not exist.")}}),h.name.current.focus()),t&&t.data.status&&(b({valid:{name:!0},message:{}}),Object(P.f)(window.location.hostname)||"localhost"===window.location.hostname?(r.storeName(j.name,!0),a(j.name),o.push("/login")):window.location.href="".concat("https://").concat(j.name,".").concat("drevv.com"))}))}},d&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",F.continue),c.a.createElement("hr",null),c.a.createElement("button",{className:"btn btn-outline-light btn-sm",onClick:function(){o.push("/driff-register")}},F.registerNewDriff)))}));n(309),n(310);function M(){var e=Object(h.a)(["\n  ",";\n"]);return M=function(){return e},e}var U,G,H,B,W,Y,z,V,Q,q,K,J,Z,X,$,ee,te,ne,ae,re,ie,ce,oe,se,le,de,ue,me,pe,fe,be,he,_e,Oe,Ee,ge,Ae,ve,je=E.a.div(M(),(function(e){return!1===e.isLoading?"display: none; opacity: 0;":"opacity: ".concat(e.opacity,";")})),Ce=Object(i.forwardRef)((function(e,t){var n=Object(g.G)().isActive,a=Object(i.useState)(1),r=Object(A.a)(a,2),o=r[0],s=r[1];return Object(i.useEffect)((function(){!1===n?s(.8):o>.3&&setTimeout((function(){s(o+-.01)}),10)}),[n,o]),c.a.createElement(je,{className:"preloader",isLoading:n,opacity:o},c.a.createElement("div",{className:"preloader-icon"}))})),Te=c.a.memo(Ce),ye=(n(311),n(312),n(313),n(314),n(36)),Se=n(19),we=(n(670),n(79)),ke=E.a.div(U||(U=Object(h.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: auto;\n  align-items: center;\n  justify-content: space-evenly;\n  font-size: 2.5rem;\n  color: #fff;\n  z-index: 9999;\n  .fas {\n    cursor: pointer;\n  }\n  .cannot-preview {\n    min-width: 40vw;\n    min-height: 40vh;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: #cccccc;\n    text-align: center;\n    p {\n      font-size: 1.1rem;\n      line-height: 1.4rem;\n      margin: 2rem 0 1.5rem 0;\n    }\n    svg {\n      width: 48px;\n      height: 48px;\n    }\n  }\n  .iframe.file {\n    min-width: 80vw;\n    min-height: 80vh;\n  }\n"]))),Ne=Object(E.a)(we.c)(G||(G=Object(h.a)(["\n  position: relative;\n  top: -3px;\n  margin-right: 5px;\n"]))),Re=Object(E.a)(we.c)(H||(H=Object(h.a)([""]))),xe=E.a.p(B||(B=Object(h.a)(["\n  display: block;\n  text-align: left;\n  margin-bottom: 0;\n"]))),Ie=E.a.span(W||(W=Object(h.a)(["\n  position: relative;\n  z-index: 1;\n  display: inline-block;\n  font-size: 16px;\n  font-weight: 500;\n  margin: 0;\n  color: #fff;\n\n  &:hover {\n    text-decoration: none;\n    color: #fff;\n    cursor: pointer;\n  }\n"]))),Pe=E.a.p(Y||(Y=Object(h.a)(["\n  width: 100%;\n  display: block;\n  font-size: 11px;\n  font-weight: normal;\n  text-align: left;\n  margin: 0;\n"]))),De=E.a.div(z||(z=Object(h.a)(['\n  position: relative;\n  top: 0;\n  margin: 0 auto;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: rgba(24, 24, 26, 0.5);\n\n  :before {\n    background-color: rgba(0, 0, 0, 0.8);\n    opacity: 0.5;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    content: "";\n    display: block;\n    z-index: -1;\n  }\n\n  .iframe {\n    width: 100%;\n    height: 100%;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .mfp-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .mfp-content {\n    margin-top: -20px;\n\n    .mfp-close {\n      position: relative;\n      width: 22px;\n    }\n  }\n  .mfp-figure {\n    &::after {\n      top: 58px;\n      bottom: 0;\n    }\n  }\n  .mfp-bottom-bar {\n    margin-top: 0;\n  }\n']))),Le=E.a.div(V||(V=Object(h.a)(["\n  position: relative;\n"]))),Fe=E.a.button(Q||(Q=Object(h.a)(["\n  &:focus {\n    outline: none;\n  }\n"]))),Me=E.a.button(q||(q=Object(h.a)(["\n  opacity: ",";\n  visibility: ",";\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.show?"1":"0"}),(function(e){return e.show?"visible":"hidden"})),Ue=E.a.figure(K||(K=Object(h.a)(["\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0 auto;\n  img {\n    max-width: 100%;\n    max-height: 80vh;\n  }\n"]))),Ge=E.a.div(J||(J=Object(h.a)(["\n  text-align: center;\n\n  .spinner-border {\n    border-width: 3px;\n    padding: 10px;\n    margin: 5px;\n  }\n  .file {\n    margin: 0 auto;\n    transition: all 0.5s ease;\n    opacity: 1;\n    max-height: 80vh;\n    max-width: 100%;\n\n    &:not([src]) {\n      opacity: 0;\n      max-height: 0;\n    }\n    &[src] {\n      ","\n    }\n\n    &.file-pdf {\n      &:not([data]) {\n        opacity: 0;\n        max-height: 0;\n      }\n      &[data] {\n        ","\n      }\n    }\n  }\n"])),(function(e){return e.isLoaded?"\n        opacity: 1;\n        max-height: 80vh;      \n      ":"\n        opacity: 0;\n        max-height: 0;\n      "}),(function(e){return e.isLoaded?"\n          max-width: 1060px;\n          max-height: 100%;\n          opacity: 1;\n        ":"\n          opacity: 0;\n          max-height: 0;\n        "})),He=function(e){var t=e.className,a=void 0===t?"":t,r=e.file,o=e.setFiles,s=e.files,l=e.viewFiles,d=Object(u.useDispatch)(),m=Object(g.ib)(),p=Object(g.s)(),f=p.fileBlobs,b=p.actions.setFileSrc,h=Object(i.useState)(!1),_=Object(A.a)(h,2),O=_[0],E=_[1],v={},j=JSON.parse(localStorage.getItem("userAuthToken"));Object(i.useEffect)((function(){!f[r.id]&&j?(E(!1),fetch(r.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(j.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);o(s.map((function(e){return e.id===r.id?Object(S.a)(Object(S.a)({},e),{},{imgSrc:t}):e}))),b({id:r.id,src:t},(function(){E(!0)}))}))):E(!0)}),[r]);var C=r.type.toLowerCase();return C.includes("video")?c.a.createElement(Ge,{isLoaded:O,key:r.id,"data-index":r.id,className:"file-item mfp-img ".concat(a)},O?c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"d-none",src:n(229),alt:"File not found."}),c.a.createElement("video",{className:"file opacity-0","data-index":r.id,"data-attempt":0,ref:function(e){return v[r.id]=e},controls:!0,playsInline:!0,key:r.id,autoPlay:!1,onLoadStart:function(e){e.currentTarget.classList.remove("d-none"),e.currentTarget.removeAttribute("height")},onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(ye.a)({isDNS:!0}),"/file-view-attempt/").concat(r.file_id,"/").concat(localStorage.getItem("atoken"))):(document.querySelector('.file-item[data-index="'.concat(e.currentTarget.dataset.index,'"] img')).classList.remove("d-none"),document.querySelector('.file-item[data-index="'.concat(e.currentTarget.dataset.index,'"] video')).classList.add("d-none"))},src:f[r.id]})):c.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})):"image"===C?c.a.createElement(Ge,{isLoaded:O,key:r.id,"data-index":r.id,className:"file-item mfp-img ".concat(a)},O?c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"file","data-index":r.id,"data-attempt":0,onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(ye.a)({isDNS:!0}),"/file-view-attempt/").concat(r.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=n(229))},ref:function(e){return v[r.id]=e},key:r.id,src:f[r.id],alt:r.filename?r.filename:r.search})):c.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})):"pdf"===C?c.a.createElement(Ge,{isLoaded:O,key:r.id,"data-index":r.id,className:"file-item mfp-img ".concat(a)},O?c.a.createElement(c.a.Fragment,null,c.a.createElement("object",{className:"file file-pdf",data:f[r.id],width:.9*m.width,height:m.height-122,onLoad:function(e){}},c.a.createElement("embed",{src:f[r.id],width:"600",height:"400"}))):c.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})):c.a.createElement(Ge,{isLoaded:O,key:r.id,"data-index":r.id,className:"file-item mfp-img cannot-preview ".concat(a)},c.a.createElement(Re,{icon:"eye-off"}),c.a.createElement("p",null,r.search?r.search:r.filename,"We can't preview this file type. ",c.a.createElement("br",null),"Try downloading the file to view it."),c.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return function(e,t){if(t.remove_on_download){var n={file_id:t.file_id};l.topic_id&&(n=Object(S.a)(Object(S.a)({},n),{},{topic_id:l.topic_id})),d(Object(Se.Sb)(n))}e.preventDefault(),window.open(t.download_link,"_self").blur(),window.focus()}(e,r)}},"Download ",r.search))},Be=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(i.useRef)(),r=Object(u.useDispatch)(),o=Object(u.useSelector)((function(e){return e.files.channelFiles})),s=Object(u.useSelector)((function(e){return e.files.viewFiles})),l=Object(u.useSelector)((function(e){return e.files.workspaceFiles})),d=Object(g.W)().localizeDate,m=Object(i.useState)(0),p=Object(A.a)(m,2),f=p[0],b=p[1],h=Object(i.useState)([]),_=Object(A.a)(h,2),O=_[0],E=_[1],v=function(){var e=O.length;b(e-1===f?0:f+1)},j=function(){var e=O.length;b(0===f?e-1:f-1)},C=function(e){e.preventDefault(),e.stopPropagation(),r(Object(Se.Wb)(null))};Object(i.useEffect)((function(){if(Object.keys(o).length&&o.hasOwnProperty(s.channel_id))E(o[s.channel_id]),o[s.channel_id].forEach((function(e,t){e.file_id===s.file_id&&b(t)}));else if(Object.keys(l).length&&l.hasOwnProperty(s.workspace_id)){var e=Object.values(l[s.workspace_id].files);s.hasOwnProperty("files")&&(e=s.files),E(e),b(e.findIndex((function(e){return e.id===s.file_id})))}else s.files&&s.files.length&&(E(s.files),b(s.files.findIndex((function(e){return e.file_id===s.file_id}))))}),[]),Object(i.useEffect)((function(){if(a.current){var e=function(e){switch(e.keyCode){case 27:C(e);break;case 39:v();break;case 37:j();break;default:return null}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}),[a]),Object(g.F)(a,(function(){r(Object(Se.Wb)(null))}),!0);var T=O[f];if(0!==O.length&&null!==f&&"undefined"!==typeof T)return c.a.createElement(ke,{className:"fileviewer-container ".concat(n),"data-file-index":f},c.a.createElement(De,{className:"iframe-img-container"},c.a.createElement("div",{className:"mfp-container mfp-s-ready mfp-image-holder"},c.a.createElement("div",{ref:a},c.a.createElement("div",{className:"mfp-content"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-start"},c.a.createElement(Le,null,c.a.createElement(xe,null,c.a.createElement(Ie,{onClick:function(e){return function(e,t){if(t.remove_on_download){var n={file_id:t.file_id};s.topic_id&&(n=Object(S.a)(Object(S.a)({},n),{},{topic_id:s.topic_id})),r(Object(Se.Sb)(n))}e.preventDefault(),window.open(t.download_link,"_self").blur(),window.focus()}(e,T)}},c.a.createElement(Ne,{icon:"download"})," ",T.filename?T.filename:T.search)),T.created_at&&T.created_at.timestamp&&c.a.createElement(Pe,null,d(T.created_at.timestamp)," \u25cf ",T.type.toLowerCase())),c.a.createElement(Fe,{onClick:function(e){return C(e)},title:"Close (Esc)",type:"button",className:"mfp-close"},"\xd7")),c.a.createElement("div",{className:"mfp-figure"},c.a.createElement(Ue,null,c.a.createElement(He,{files:O,file:O[f],setFiles:E,viewFiles:s}),c.a.createElement("figcaption",null,c.a.createElement("div",{className:"mfp-bottom-bar"},c.a.createElement("div",{className:"mfp-title"}),c.a.createElement("div",{className:"mfp-counter"},"".concat(f+1," of ").concat(O.length))))))),c.a.createElement("div",{className:"mfp-preloader"},"Loading..."),c.a.createElement(Me,{show:O.length>1,onClick:function(e){return j()},title:"Previous (Left arrow key)",type:"button",className:"mfp-arrow mfp-arrow-left mfp-prevent-close"}),c.a.createElement(Me,{show:O.length>1,onClick:function(e){return v()},title:"Next (Right arrow key)",type:"button",className:"mfp-arrow mfp-arrow-right mfp-prevent-close"})))))})),We=n(714),Ye=n(708),ze=n(709),Ve=n(710),Qe=n(13),qe=c.a.memo((function(e){var t=e.data,n=t.submitText,a=t.cancelText,r=t.headerText,o=t.bodyText,s=t.type,l=t.size,d=void 0===l?"m":l,m=e.data.actions.onSubmit,p=Object(u.useDispatch)(),f=Object(i.useState)(!0),b=Object(A.a)(f,2),h=b[0],_=b[1],O=Object(i.useState)(!1),E=Object(A.a)(O,2),g=E[0],j=E[1],C=function(){_(!h),p(Object(Qe.d)({type:s}))},T=null;return c.a.createElement(We.a,{isOpen:h,toggle:C,size:d,centered:!0},c.a.createElement(sn,{toggle:C},r),c.a.createElement(Ye.a,null,c.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}}),e.data.generalConditionText&&c.a.createElement(v.s,{className:"ml-2",icon:"help-circle",width:16,height:16,onMouseEnter:function(){j(!0),clearTimeout(T)}}),g&&c.a.createElement("div",{onMouseLeave:function(){T=setTimeout((function(){j(!1)}),600)}},e.data.generalConditionText)),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:C},a),c.a.createElement(Ve.a,{color:"primary",onClick:function(){C(),m()}},n)," "))})),Ke=n(16),Je=n(104),Ze=n(123),Xe=Object(E.a)(v.s)(Z||(Z=Object(h.a)(["\n  cursor: pointer;\n  cursor: hand;\n  border: 1px solid #afb8bd;\n  height: 38px;\n  margin: -1px 8px;\n  width: 40px;\n  padding: 10px;\n  border-radius: 8px;\n\n  // &.feather-send {\n  //     border: 1px solid #7a1b8b;\n  //     background-color: #7a1b8b;\n  //     color: #fff;\n  // }\n"]))),$e=E.a.div(X||(X=Object(h.a)(["\n  padding: 10px;\n"]))),et=E.a.div($||($=Object(h.a)(["\n  label {\n    margin-top: 0.5rem;\n    font-weight: 600;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    height: 300px;\n    max-height: 300px;\n    overflow: auto;\n  }\n"]))),tt=E.a.li(ee||(ee=Object(h.a)(["\n  padding: 5px 0;\n  color: ",";\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  font-weight: ",";\n  :hover {\n    color: #972c86;\n    font-weight: 600;\n    .channel-icon {\n      border: ",";\n    }\n  }\n  .channel-icon {\n    border: ",";\n  }\n"])),(function(e){return e.chosen?"#972c86":"#676767"}),(function(e){return e.chosen?"600":"500"}),(function(e){return e.chosen?"2px solid #972c86":"1px solid #972c86"}),(function(e){return e.chosen?"2px solid #972c86":"1px solid #ddd"})),nt=Object(E.a)(Ze.a)(te||(te=Object(h.a)(["\n  // width: 30px;\n  // height: 30px;\n  // min-width: 30px;\n"]))),at=Object(E.a)(ze.a)(ne||(ne=Object(h.a)(["\n  justify-content: space-between;\n  .chosen-channel-title {\n    color: #7a1b8b;\n    font-weight: 600;\n  }\n"]))),rt=Object(E.a)(Je.a)(ae||(ae=Object(h.a)(["\n  margin: 0 0 1.5rem !important;\n"]))),it=c.a.memo((function(e){var t=e.data,a=t.type,r=t.message,o=Object(_.g)(),s=Object(u.useDispatch)(),l=Object(u.useSelector)((function(e){return e.chat.channels})),d=Object(i.useState)(""),m=Object(A.a)(d,2),p=m[0],f=m[1],b=Object(i.useState)(null),h=Object(A.a)(b,2),O=h[0],E=h[1],v=Object(i.useState)(null),j=Object(A.a)(v,2),C=j[0],T=j[1],y=Object(i.useState)(!0),S=Object(A.a)(y,2),w=S[0],k=S[1],N=function(){k(!w),s(Object(Qe.d)({type:a}))},R=Object.values(l).sort((function(e,t){var n;return 0!==(n=t.is_pinned-e.is_pinned)?n:e.last_reply&&t.last_reply?e.last_reply.created_at.timestamp===t.last_reply.created_at.timestamp?e.title.localeCompare(t.title):t.last_reply.created_at.timestamp-e.last_reply.created_at.timestamp:e.last_reply&&!t.last_reply?-1:!e.last_reply&&t.last_reply?1:e.last_reply||t.last_reply?void 0:e.title.localeCompare(t.title)})).filter((function(e){return!e.is_archived&&(""===p.trim()||-1!==e.title.toLowerCase().search(p.toLowerCase()))})),x=Object(g.cb)()._t,I={recentChannels:x("CHAT.FORWARD.RECENT_CHANNELS","Recent channels"),transferMessageTo:x("CHAT.FORWARD.TRANSFER_MESSAGE_TO","Transfer the message to"),searchChannelPlaceholder:x("CHAT.FORWARD.SEARCH_CHANNEL_PLACEHOLDER","Search channel")},P=function(){f("")};return Object(i.useEffect)((function(){var e=setTimeout((function(){if(""!==p.trim()){T(!0);var e={search:p,skip:0,limit:25};s(Object(Ke.Bb)(e,(function(){return T(!1)})))}}),300);return function(){return clearTimeout(e)}}),[p]),c.a.createElement(We.a,{isOpen:w,toggle:N,size:"lg",className:"chat-forward-modal",centered:!0},c.a.createElement(sn,{toggle:N},I.transferMessageTo),c.a.createElement($e,null,c.a.createElement(rt,{onChange:function(e){f(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&P()},value:p,onClickEmpty:P,closeButton:"true",searching:C,className:"chat-search",placeholder:I.searchChatPlaceholder}),c.a.createElement(et,null,c.a.createElement("label",null,I.recentChannels),Object.keys(l).length>0&&c.a.createElement("ul",null,R.map((function(e){return c.a.createElement(tt,{key:e.id,onClick:function(){return function(e){E(e)}(e)},chosen:O&&O.id===e.id},c.a.createElement(nt,{className:"message-forward-popup",channel:e}),e.title)}))))),O&&c.a.createElement(at,null,c.a.createElement("span",{className:"chosen-channel-title"},O?O.title:null),c.a.createElement(Xe,{onClick:function(){var e={channel_id:O.id,body:r.body,mention_ids:[],file_ids:r.files.length?r.files.map((function(e){return e.file_id})):[],reference_id:n(64).generate(),reference_title:O.title,is_transferred:!0};s(Object(Ke.db)(e,(function(e,t){e||(s(Object(Ke.Ob)(O)),o.push("/chat/".concat(O.code)))}))),N()},icon:"send",fill:"#fff",className:"bg-primary"})))})),ct=n(58),ot=n.n(ct),st=n(153),lt=n.n(st),dt=n(60),ut=n(65),mt=E.a.div(re||(re=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]))),pt=c.a.memo((function(e){var t=e.data,n=t.type,a=t.message,r=Object(g.cb)()._t,o=Object(u.useDispatch)(),s=Object(u.useSelector)((function(e){return e.session.user})),l=Object(g.X)(),d=Object(i.useState)(!1),m=Object(A.a)(d,2),p=m[0],f=m[1],b=Object(i.useState)("20m"),h=Object(A.a)(b,2),_=h[0],O=h[1],E=Object(i.useState)(new Date),v=Object(A.a)(E,2),j=v[0],C=v[1],T=Object(i.useState)(null),y=Object(A.a)(T,2),S=y[0],w=y[1],k=Object(i.useState)(!0),N=Object(A.a)(k,2),R=N[0],x=N[1],I={chatReminder:r("REMINDER.CHAT_REMINDER","Set a reminder"),oneHour:r("REMINDER.ONE_HOUR","1 hour"),threeHours:r("REMINDER.THREE_HOURS","3 hours"),tomorrow:r("REMINDER.TOMORROW","Tomorrow"),pickDateTime:r("REMINDER.PICK_DATE_TIME","Pick date and time"),snooze:r("REMINDER.SNOOZE","Snooze"),cancel:r("REMINDER.CANCEL","Cancel")},P=function(){x(!R),o(Object(Qe.d)({type:n}))},D=function(e,t){w(!1),O(t)};return c.a.createElement(We.a,{isOpen:R,toggle:P,centered:!0,className:"chat-forward-modal"},c.a.createElement(sn,{toggle:P},I.chatReminder),c.a.createElement(Ye.a,null,c.a.createElement(mt,null,c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){D(0,"1h")},checked:"1h"===_,value:"1h",name:"role"},I.oneHour),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){D(0,"3h")},checked:"3h"===_,value:"3h",name:"role"},I.threeHours),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){D(0,"tomorrow")},checked:"tomorrow"===_,value:"tomorrow",name:"role"},I.tomorrow),c.a.createElement(ut.a,{readOnly:!0,onClick:function(){O("pick_data"),w(!0)},checked:"pick_data"===_,value:"pick_data",name:"role"},I.pickDateTime),S&&c.a.createElement(lt.a,{minDate:new Date,onChange:function(e){C(e)},value:j,disableClock:!0}))),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{color:"primary",onClick:function(){if(!p){f(!0);var e={message_id:a.id,set_time:"pick_data"===_?ot.a.utc(new Date(j)).format("YYYY-MM-DD HH:mm:ss"):_};o(Object(Ke.gb)(e,(function(){f(!1),P();var e="You",t="",n=new Date;switch(_){case"1h":n.setHours(n.getHours()+1),t="in an hour at ".concat(Object(dt.a)(n)," today");break;case"3h":n.setHours(n.getHours()+3),t="in 3 hours at ".concat(Object(dt.a)(n)," today");break;case"tomorrow":n.setDate(n.getDate()+1),t="at 9 AM tomorrow";break;case"pick_data":t="at ".concat(ot()(new Date(j)).format("YYYY-MM-DD HH:mm"));break;default:t=_+" at 9 AM"}var r=document.createElement("div");r.innerHTML=a.body,r.innerText.length>=15&&(r.innerText=r.innerText.substring(0,15)+"..."),s.id!==a.user.id&&(e=a.user.name),l.success(c.a.createElement(c.a.Fragment,null,'I will remind you about this message ("',c.a.createElement("b",null,r.innerText)," from ",e," in ",t,'")'))})))}}},p&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),I.snooze)," ",c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:P},I.cancel)))})),ft=n(59),bt=n.n(ft),ht=n(78),_t=n(11),Ot=n(42),Et=n(92),gt=n(17),At=n(52),vt=E.a.div(ie||(ie=Object(h.a)(["\n  flex: 1 0 0;\n  width: 100%;\n  border: 1px solid #afb8bd;\n  border-radius: 5px;\n  min-height: 350px;\n  position: relative;\n"]))),jt=Object(E.a)(Et.a)(ce||(ce=Object(h.a)(["\n  &.description-input {\n    // overflow: auto;\n    // overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: 0;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n    .ql-image {\n      display: none;\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n  .ql-editor {\n    height: 320px;\n    max-height: 320px;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0 2px 3px 0, rgba(0, 0, 0, 0.1) 0 1px 3px 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]))),Ct=E.a.div(oe||(oe=Object(h.a)(["\n  width: 100%;\n  margin-top: 15px;\n  border: 1px solid #afb8bd;\n  border-radius: 5px;\n  ul {\n    margin: 0;\n    padding: 10px 0;\n    align-items: center;\n    justify-content: ",";\n    display: flex;\n    overflow-x: auto;\n  }\n  li {\n    list-style: none;\n    padding: 0 10px;\n    border-radius: 8px;\n    position: relative;\n\n    img {\n      width: auto;\n      height: 160px;\n      border: 1px solid #ddd;\n      object-fit: cover;\n      border-radius: inherit;\n    }\n    span {\n      position: absolute;\n      top: -10px;\n      right: -6px;\n      display: none;\n      color: black;\n    }\n    span:hover {\n      color: #7a1b8b;\n      cursor: pointer;\n    }\n    .app-file-list {\n      height: 158px;\n      width: 158px;\n      margin-bottom: 0;\n    }\n    &:first-of-type {\n      padding-left: 15px;\n    }\n    &:last-of-type {\n      padding-right: 15px;\n    }\n    .remove-upload {\n      background: rgba(0, 0, 0, 0.8);\n      color: #ffffff;\n      border-radius: 50%;\n      position: absolute;\n      height: 20px;\n      width: 20px;\n      display: ",";\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      border: 2px solid #fff;\n      top: -8px;\n      right: 2px;\n      &:hover {\n        background: rgba(0, 0, 0, 1);\n      }\n      svg {\n        width: 12px;\n        height: 12px;\n      }\n    }\n  }\n  li:hover span {\n    display: ",';\n  }\n  &:after {\n    content: "";\n    width: 100px;\n  }\n'])),(function(e){return e.hasOneFile?"center":"flex-start"}),(function(e){return e.hasOneFile?"none":"flex"}),(function(e){return e.hasOneFile?"none":"block"})),Tt=Object(E.a)(v.s)(se||(se=Object(h.a)(["\n  position: absolute;\n  right: 0;\n  cursor: pointer;\n  border: 1px solid #afb8bd;\n  height: 1.5rem;\n  margin: -1px 8px;\n  width: 1.5rem;\n  padding: 5px;\n  border-radius: 8px;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  &:hover {\n    background: #afb8bd;\n    color: #ffffff;\n  }\n  &.feather-send {\n    border: 1px solid #7a1b8b;\n    background-color: #7a1b8b;\n    color: #fff;\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    &:hover {\n      background-color: #8c3b9b;\n    }\n  }\n"]))),yt=Object(E.a)(v.f)(le||(le=Object(h.a)(["\n  left: unset;\n  bottom: 40px;\n\n  .common-picker-btn {\n    text-align: right;\n  }\n  .react-giphy-select__src-components-GiphyList-styles__list___Tdg5X {\n    height: 250px;\n  }\n"]))),St=E.a.div(de||(de=Object(h.a)([""]))),wt=E.a.span(ue||(ue=Object(h.a)(["\n  font-weight: 500;\n"]))),kt=Object(E.a)(ze.a)(me||(me=Object(h.a)(["\n  flex-wrap: nowrap;\n"]))),Nt=E.a.div(pe||(pe=Object(h.a)(["\n  .react-select-container {\n    max-width: 320px;\n  }\n"]))),Rt=[{id:"remove_automatically",value:"remove_automatically",label:"Remove file automatically in 5 days",icon:"file-minus"}],xt=function(e){var t=e.files,n=e.onRemoveFile;return c.a.createElement(Ct,{hasOneFile:1===t.length},c.a.createElement("ul",null,t.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("div",{className:"remove-upload","aria-label":"close",onClick:function(){return function(e){n(e)}(e)}},c.a.createElement(v.s,{icon:"x"})),"IMAGE"===e.type&&c.a.createElement("img",{alt:"file",src:e.src}),"IMAGE"!==e.type&&c.a.createElement(St,{className:"card app-file-list"},c.a.createElement("div",{className:"app-file-icon"},c.a.createElement(v.r,{icon:"document",width:"28",height:"32"})),c.a.createElement("div",{className:"p-2 small"},e.name)))}))))},It=c.a.memo((function(e){var t=e.data,a=t.type,r=t.mode,o=t.droppedFiles,s=t.post,l=void 0===s?null:s,d=t.members,m=void 0===d?[]:d,p=(t.team_channel,Object(i.useRef)(0)),f=Object(g.X)(),b=Object(i.useRef)(),h=Object(g.cb)()._t,_=Object(u.useDispatch)(),O=Object(i.useRef)(),E=Object(u.useSelector)((function(e){return e.workspaces.workspaces})),v=Object(i.useRef)(null),j=Object(u.useSelector)((function(e){return e.chat.selectedChannel})),C=Object(u.useSelector)((function(e){return e.session.user})),T=Object(u.useSelector)((function(e){return e.global.dataFromInput})),y=Object(u.useSelector)((function(e){return e.posts.commentType})),w=Object(u.useSelector)((function(e){return e.posts})),k=w.parentId,N=w.editPostComment,R=Object(i.useState)(!0),x=Object(A.a)(R,2),I=x[0],P=x[1],L=Object(i.useState)(!1),F=Object(A.a)(L,2),M=F[0],U=F[1],G=Object(i.useState)(o),H=Object(A.a)(G,2),B=H[0],W=H[1],Y=Object(i.useState)(""),z=Object(A.a)(Y,2),V=z[0],Q=z[1],q=Object(i.useState)(""),K=Object(A.a)(q,2),J=K[0],Z=K[1],X=Object(i.useState)([]),$=Object(A.a)(X,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),ae=Object(A.a)(ne,2),re=ae[0],ie=ae[1],ce=Object(i.useState)(null),oe=Object(A.a)(ce,2),se=oe[0],le=oe[1],de=Object(i.useState)([]),ue=Object(A.a)(de,2),me=ue[0],pe=ue[1],fe=Object(i.useState)(null),be=Object(A.a)(fe,2),he=be[0],_e=be[1],Oe=function(){ie(!re)},Ee={cancel:h("BUTTON.CANCEL","Cancel"),upload:h("BUTTON.UPLOAD","Upload"),fileUpload:h("FILE_UPLOAD","File upload"),quillPlaceholder:h("FORM.REACT_QUILL_PLACEHOLDER","Write great things here..."),fileUploadLabel:h("LABEL.EXTERNAL_WORKSPACE_FILES","Files added to workspace can be seen by internal and external accounts"),uploading:h("FILE_UPLOADING","Uploading File"),unsuccessful:h("FILE_UNSUCCESSFULL","Upload File Unsuccessful")};Object(i.useEffect)((function(){null!==T&&(O.current.getEditor().clipboard.dangerouslyPasteHTML(0,T.text),Q(T.text),Z(T.textOnly),te(T.quillContents),O.current.focus())}),[T]),Object(i.useEffect)((function(){"post"===r&&N&&W([].concat(Object(_t.a)(N.files.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{src:e.view_link})}))),Object(_t.a)(o)));var e=function(e){27===e.keyCode&&_(Object(Qe.d)({type:a})),At.osName.includes("Mac")?e.metaKey&&13===e.keyCode&&Ce():e.ctrlKey&&13===e.keyCode&&Ce()};return document.addEventListener("keydown",e,!1),function(){document.removeEventListener("keydown",e,!1)}}),[]);var ge=function(){P(!I),_(Object(Qe.d)({type:a})),_(Object(Qe.R)({sent:!1}))};function Ae(){return(Ae=Object(ht.a)(bt.a.mark((function e(){var t,n;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B.filter((function(e){return"string"===typeof e.id})).length){e.next=7;break}return t=new FormData,n={user_id:C.id,file_type:"private",folder_id:null,fileOption:se,options:{config:{onUploadProgress:je}}},B.filter((function(e){return"string"===typeof e.id})).map((function(e,n){t.append("files[".concat(n,"]"),e.bodyFormData.get("file"))})),n.files=t,e.next=7,new Promise((function(e,t){e(Object(Ot.C)(n))})).then((function(e){var t=[].concat(Object(_t.a)(B.filter((function(e){return"string"!==typeof e.id}))),Object(_t.a)(e.data.map((function(e){return e}))));Te(t)})).catch((function(e){ve(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=function(){null!==v.curent&&(U(!1),f.dismiss(v.current),f.error(c.a.createElement("div",null,Ee.unsuccessful,".")),v.current=null)},je=function(e){var t=e.loaded/e.total;null===v.current?v.current=f.info(c.a.createElement("div",null,Ee.uploading,"."),{progress:p.current,autoClose:!0}):f.update(v.current,{progress:t,autoClose:!0})},Ce=function(){M||(U(!0),function(){Ae.apply(this,arguments)}(),_(Object(Qe.d)({type:a})))},Te=function(e){var t=[],a=V,i=!1;if(ee.ops&&ee.ops.length>0){var c=ee.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));t=(t=Object(_t.a)(new Set(c))).includes(NaN)?Object(_t.a)(new Set([].concat(Object(_t.a)(t.filter((function(e){return!isNaN(e)}))),Object(_t.a)(j.members.map((function(e){return e.id})))))):t.filter((function(e){return!isNaN(e)})),ee.ops.forEach((function(e){e.insert.image&&(i=!0)}))}if(""!==J.trim()||0!==t.length||i||(a="<span></span>"),"chat"===r)_(Object(Ke.Pb)({value:""})),e.forEach((function(r,i){var c={};i===e.length-1?(c={channel_id:j.id,body:a,mention_ids:t,file_ids:[r.id],quote:null,reference_id:n(64).generate(),reference_title:"DIRECT"===j.type?"".concat(C.first_name," in a direct message"):j.title},setTimeout((function(){_(Object(Ke.db)(c)),f.dismiss(v.current)}),300),_(Object(Qe.R)({sent:!0}))):(c={channel_id:j.id,body:"",mention_ids:[],file_ids:[r.id],quote:null,reference_id:n(64).generate(),reference_title:"DIRECT"===j.type?"".concat(C.first_name," in a direct message"):j.title},_(Object(Ke.db)(c)))}));else if("post"===r){var o=n(64).generate(),s={post_id:l.id,body:a,mention_ids:t,file_ids:[].concat(Object(_t.a)(e.map((function(e){return e.id}))),Object(_t.a)(me.map((function(e){return e.id})))),reference_id:o,personalized_for_id:null,parent_id:k,approval_user_ids:T&&T.approvers?T.approvers:[],shared_with_client:!y||"internal"!==y};if(_(Object(gt.Nb)(null)),_(Object(Qe.R)({sent:!0})),_(Object(gt.Ob)(null)),N)s=Object(S.a)(Object(S.a)({},s),{},{id:N.id,file_ids:[].concat(Object(_t.a)(e.map((function(e){return e.id}))),Object(_t.a)(B.filter((function(e){return"string"!==typeof e.id}))),Object(_t.a)(me.map((function(e){return e.id})))),parent_id:N.parent_id,reference_id:null}),_(Object(gt.yb)(s)),_(Object(gt.Mb)(null)),f.dismiss(v.current);else{var d=Math.floor(Date.now()/1e3),u={author:C,body:a,clap_count:0,code:d,created_at:{timestamp:d},files:[],files_trashed:[],id:o,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:t,original_body:a,parent_id:k,personalized_for_id:null,post_id:l.id,quote:null,reference_id:o,ref_quote:null,replies:{},todo_reminder:null,total_replies:0,total_unread_replies:0,updated_at:{timestamp:d},unfurls:[],user_clap_count:0,clap_user_ids:[],users_approval:[]};_(Object(gt.a)(u)),_(Object(gt.kb)(s)),f.dismiss(v.current)}}},ye=Object(i.useState)(!1),Se=Object(A.a)(ye,2),we=Se[0],ke=Se[1];Object(i.useEffect)((function(){!0===we&&O.current&&setTimeout((function(){O.current.focus()}),300)}),[we]);var Ne=!1;l&&(Ne=l.recipients.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared})));var Re=Object(g.M)({mode:r,mentionOrientation:"bottom",quillRef:O,members:m,setImageLoading:_e,setInlineImages:pe}).modules;return c.a.createElement(We.a,{isOpen:I,toggle:ge,size:"lg",centered:!0},c.a.createElement(sn,{toggle:ge},Ee.fileUpload),c.a.createElement(Ye.a,null,c.a.createElement(vt,null,c.a.createElement(jt,{ref:function(e){O.current=e,ke(!0)},className:"chat-input description-input",modules:Re,placeholder:Ee.quillPlaceholder,readOnly:M,onChange:function(e,t,n,a){Q(e),te(a.getContents()),Z(a.getText(e))},height:80}),c.a.createElement(Tt,{onClick:Oe,icon:"smile"}),!0===re&&c.a.createElement(yt,{handleShowEmojiPicker:Oe,onSelectEmoji:function(e){var t=O.current.getEditor();O.current.focus();var n=t.getSelection().index;t.insertText(n,e.native),t.setSelection(n+2)},onSelectGif:function(e){var t=O.current.getEditor();O.current.focus();var n=t.getSelection().index;t.insertEmbed(n,"image",e.images.downsized.url),t.setSelection(n+5)},orientation:"top",ref:b})),c.a.createElement(xt,{files:B,onRemoveFile:function(e){W(B.filter((function(t){return t.id!==e.id})))}}),c.a.createElement(Nt,{className:"mt-1"},c.a.createElement(D.d,{options:Rt,value:se,onChange:function(e){le(e)},isClearable:!0,maxMenuHeight:250,menuPlacement:"top",placeholder:"File options"}))),c.a.createElement(kt,null,(j&&j.entity_id&&E[j.entity_id]&&E[j.entity_id].is_shared&&E[j.entity_id].team_channel.id===j.id&&"internal"===C.type||Ne&&"internal"===C.type)&&c.a.createElement(wt,null,Ee.fileUploadLabel),c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:ge},Ee.cancel),c.a.createElement(Ve.a,{color:"primary",onClick:Ce,disabled:he},M&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),Ee.upload)))})),Pt=n(54),Dt=n.n(Pt),Lt=n(706),Ft=n(74),Mt=Object(E.a)(N.a)(fe||(fe=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n  .icon-wrapper {\n    width: 60px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    display: grid;\n\n    .btn {\n      background: #fff;\n      position: absolute;\n      right: 5px;\n      bottom: -5px;\n      padding: 3px;\n\n      &:hover {\n        background: #fff !important;\n      }\n    }\n  }\n  .name-wrapper {\n    width: calc(100% - 40px);\n  }\n  .form-group {\n    margin-bottom: 0;\n  }\n  label {\n    margin: 0 20px 0 0;\n    min-width: 530px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n"]))),Ut=Object(E.a)(D.h)(be||(be=Object(h.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  min-width: 550px;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]))),Gt=Object(E.a)(Et.a)(he||(he=Object(h.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  &.group-chat-input {\n    border: 1px solid #afb8bd;\n    border-radius: 5px;\n    max-height: 130px;\n    overflow: auto;\n    overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]))),Ht=function(e){var t=e.data,a=t.type,r=t.mode,o=Object(i.useRef)(),s=Object(i.useRef)(),l=Object(u.useDispatch)(),d=Object(_.g)(),m=Object(g.cb)()._t,p=Object(g.X)(),f=Object(g.a)(),b=f.searchExisting,h=f.create,O=f.update,E=Object(g.W)().localizeDate,j=Object(u.useSelector)((function(e){return e.users.mentions})),C=Object(u.useSelector)((function(e){return e.chat.selectedChannel})),T=Object(u.useSelector)((function(e){return e.session.user})),w=Object(u.useSelector)((function(e){return e.global.recipients})),k=Object(i.useState)(!0),N=Object(A.a)(k,2),R=N[0],x=N[1],I=Object(i.useState)(""),P=Object(A.a)(I,2),L=P[0],F=P[1],M=Object(i.useState)(""),U=Object(A.a)(M,2),G=U[0],H=U[1],B=Object(i.useState)(!1),W=Object(A.a)(B,2),Y=W[0],z=W[1],V=Object(i.useState)(!1),Q=Object(A.a)(V,2),q=Q[0],K=Q[1],J=Object(i.useState)(!1),Z=Object(A.a)(J,2),X=Z[0],$=Z[1],ee=Object(i.useState)(!1),te=Object(A.a)(ee,2),ne=te[0],ae=te[1],re=Object(i.useState)(!1),ie=Object(A.a)(re,2),ce=ie[0],oe=ie[1],se=function(){x(!R),l(Object(Qe.d)({type:a}))},le={chatTitle:m("MODAL.CHAT_TITLE","Title"),people:m("MODAL.PEOPLE","People"),firstMessage:m("MODAL.FIRST_MESSAGE","First message"),newGroupChat:m("MODAL.NEW_GROUP_CHAT","New group chat"),editChat:m("MODAL.EDIT_CHAT","Edit chat"),createChat:m("MODAL.CREATE_CHAT","Create chat"),chatInfo:m("FOLDER_INFO","Create a group chat to quickly discuss any subject with multiple people. A group chat can hold an unlimited amount of members."),chatInfoEdit:m("FOLDER_INFO_EDIT","Edit the chat's title and members. A group chat can hold an unlimited amount of members."),feedbackChatTitleIsRequired:m("FEEDBACK.CHAT_TITLE_IS_REQUIRED","Chat title is required."),feedbackChatTitleIsUnique:m("FEEDBACK.CHAT_TITLE_IS_UNIQUE","Chat title is already taken."),feedbackChatMemberIsRequired:m("FEEDBACK.CHAT_MEMBER_IS_REQUIRED","You must assign atleast a member on this chat.")},de=Object.values(j).filter((function(e){return"internal"===e.type})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{value:e.id,label:e.name})})),ue=de.filter((function(e){return e.value===T.id})),me=Object(i.useState)({icon:{file:null,file_id:null,value:"edit"===r?C.icon_link:null},title:{value:"edit"===r?C.title:""},selectedUsers:{value:"edit"===r?C.members.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{value:e.id,label:e.first_name})})):ue}}),pe=Object(A.a)(me,2),fe=pe[0],be=pe[1],he=function(){if(!fe.icon.file||fe.icon.file_id){if(!X){if($(!0),"edit"===r){var e=C.members.filter((function(e){return!fe.selectedUsers.value.some((function(t){return t.id===e.id}))})).map((function(e){return e.id})),t=fe.selectedUsers.value.filter((function(e){return!C.members.some((function(t){return t.id===e.id}))})).map((function(e){return e.id})),a=Object(S.a)(Object(S.a)({id:C.id},fe.icon.file_id&&{file_id:fe.icon.file_id}),{},{channel_id:C.id,channel_name:fe.title.value,remove_member_ids:e,add_member_ids:t,message_body:"CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:T.id,name:T.name,first_name:T.first_name,partial_name:T.partial_name,profile_image_link:T.profile_image_thumbnail_link?T.profile_image_thumbnail_link:T.profile_image_link},title:C.title===fe.title.value?"":fe.title.value,added_members:t,removed_members:e}))});C.members=fe.selectedUsers.value,C.title=fe.title.value,O(a,(function(){$(!1)}))}else{var i=n(64).generate(),c=Math.round(+new Date/1e3),o={id:i,body:L,code:i,editable:0,unfurls:[],quote:null,files:[],mention_html:null,reactions:[],is_deleted:!1,is_completed:!0,is_transferred:!1,is_read:!0,channel_id:i,g_date:E(c),created_at:{timestamp:c},updated_at:{timestamp:c},user:T},s={id:i,entity_id:0,type:"GROUP",title:fe.title.value,code:i,is_archived:!1,is_pinned:!1,is_hidden:!1,is_muted:!1,total_unread:0,profile:null,selected:!0,inviter:null,hasMore:!1,skip:0,isFetching:!1,members:[].concat(Object(_t.a)(fe.selectedUsers.value),[T]),replies:[o],created_at:{timestamp:c},updated_at:{timestamp:c},last_reply:{id:null,body:L,user:T,created_at:{timestamp:c}},reference_id:i},u={recipient_ids:w.filter((function(e){return"USER"===e.type})).filter((function(e){var t=!1;return fe.selectedUsers.value.forEach((function(n){n.id===e.type_id&&(t=!0)})),t})).map((function(e){return e.id})),title:fe.title.value};0!==G.trim().length&&(u=Object(S.a)(Object(S.a)({},u),{},{message_body:L}));var m=s;h(u,(function(e,t){if($(!1),!e){var n=Object(S.a)(Object(S.a)(Object(S.a)({},s),{},{id:t.data.channel.id,old_id:m.id},fe.icon.file_id&&{file_id:fe.icon.file_id}),{},{code:t.data.code,members:t.data.channel.members?t.data.channel.members:s.members,profile:t.data.channel.profile,type:"GROUP",last_reply:t.data.channel.last_reply,replies:0!==G.trim().length?[Object(S.a)(Object(S.a)({},o),{},{id:t.data.last_reply.id,channel_id:t.data.channel.id,created_at:{timestamp:o.created_at.timestamp},updated_at:{timestamp:o.created_at.timestamp}})]:[],selected:!0,search:t.data.search});l(Object(Ke.h)(n)),l(Object(Ke.Ob)(n)),d.push("/chat/".concat(t.data.code))}}))}se()}}else je(fe.icon.file)},_e=Dt.a.debounce((function(){var e=w.filter((function(e){return"USER"===e.type})).filter((function(e){var t=!1;return fe.selectedUsers.value.forEach((function(n){n.id===e.type_id&&(t=!0)})),t})).map((function(e){return e.id}));if("edit"===r){if(fe.title.value===C.title&&JSON.stringify(C.members.map((function(e){return e.id})).sort())===JSON.stringify(fe.selectedUsers.value.map((function(e){return e.id})).sort())){var t=Object(S.a)({},fe);t.selectedUsers.valid=!0,t.selectedUsers.feedback=null,z(!1),be(t),ae(!0)}else if(e.length){K(!0);b(fe.title.value,e,(function(e,t){K(!1),e||(t.data.channel_id?z(!0):z(!1))})),ae(!1)}}else if(e.length){K(!0);b(fe.title.value,e,(function(e,t){K(!1),e||(t.data.channel_id?z(!0):z(!1))}))}}),300),Oe=Object(g.M)({mode:"group_chat"}).modules;Object(i.useEffect)((function(){fe.selectedUsers.value.length&&_e()}),[fe.title.value,fe.selectedUsers.value.length]),Object(i.useEffect)((function(){if(!q){var e=Object(S.a)({},fe);""===e.title.value?(e.title.valid=!1,e.title.feedback=le.feedbackChatTitleIsRequired):!0===Y?(e.title.valid=!1,e.title.feedback=le.feedbackChatTitleIsUnique):(e.title.valid=!0,e.title.feedback=null),0===e.selectedUsers.value.length?(e.selectedUsers.valid=!1,e.selectedUsers.feedback=le.feedbackChatMemberIsRequired):(e.selectedUsers.valid=!0,e.selectedUsers.feedback=null),be(e)}}),[fe.title.value,fe.selectedUsers.value,Y,q]);var Ee=function(){oe(!1)},ge=function(e,t){be((function(n){return Object(S.a)(Object(S.a)({},n),{},{icon:Object(S.a)(Object(S.a)({},n.icon),{},{file:e,value:t})})}))},Ae={iconDropZone:Object(i.useRef)(null)},ve=Object(g.r)().uploadCompanyFiles,je=function(e){ve({file:e},(function(e,t){be((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:Object(S.a)(Object(S.a)({},e.icon),{},{file_id:t.data.id})})}))}))};return Object(i.useEffect)((function(){fe.icon.file&&ae(!1)}),[fe.icon.file]),Object(i.useEffect)((function(){fe.icon.file_id&&he()}),[fe.icon.file_id]),c.a.createElement(We.a,{isOpen:R,toggle:se,size:"lg",onOpened:function(){o&&o.current&&o.current.focus()},centered:!0},c.a.createElement(sn,{toggle:se},"edit"===r?le.editChat:le.newGroupChat),c.a.createElement(Ye.a,null,c.a.createElement(Mt,null,c.a.createElement("div",null,c.a.createElement(Lt.a,{className:"modal-info mb-3"},"edit"===r?le.chatInfoEdit:le.chatInfo),c.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},c.a.createElement("div",{className:"icon-wrapper",onClick:function(){Ae.iconDropZone.current.open()}},c.a.createElement(Ft.a,{acceptType:"imageOnly",hide:!ce,ref:Ae.iconDropZone,onDragLeave:Ee,onDrop:function(e){!function(e){0===e.length?p.error("File type not allowed. Please use an image file."):e.length>1&&p.warning("Multiple files detected. First selected image will be used.");var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:ge};l(Object(Qe.a)(t,(function(){Ee()})))}(e.acceptedFiles)},onCancel:Ee}),c.a.createElement(v.a,{imageLink:fe.icon.value,name:fe.title.value,noDefaultClick:!0,forceThumbnail:!1}),c.a.createElement("span",{className:"btn btn-outline-light btn-sm"},c.a.createElement(v.s,{icon:"pencil"}))),c.a.createElement("div",{className:"name-wrapper"},c.a.createElement(Lt.a,{className:"modal-label",for:"chat"},le.chatTitle),c.a.createElement(D.e,{name:"title",style:{borderRadius:"5px"},defaultValue:fe.title.value,onChange:function(e){var t=e.target,n=t.name,a=t.value;be((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(y.a)({},n,{value:a}))}))},innerRef:o,isValid:fe.title.valid,feedback:fe.title.feedback}))))),c.a.createElement(Mt,null,c.a.createElement("div",null,c.a.createElement(Lt.a,{className:"modal-label",for:"people"},le.people),c.a.createElement(Ut,{options:de,value:fe.selectedUsers.value,onChange:function(e){be(null===e?function(e){return Object(S.a)(Object(S.a)({},e),{},{selectedUsers:{value:ue}})}:function(t){return Object(S.a)(Object(S.a)({},t),{},{selectedUsers:{value:e}})})}}))),"new"===r&&c.a.createElement(Mt,null,c.a.createElement("div",null,c.a.createElement(Lt.a,{className:"modal-label",for:"firstMessage"},le.firstMessage),c.a.createElement(Gt,{className:"group-chat-input",modules:Oe,ref:s,onChange:function(e,t,n,a){var r=a.getText(e);F(e),H(r)}}))),c.a.createElement(Mt,null,c.a.createElement("button",{className:"btn btn-primary",disabled:q||Object.keys(fe).map((function(e){return fe[e].valid})).some((function(e){return!1===e}))||"edit"===r&&ne,onClick:he},X&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===r?le.editChat:le.createChat))))},Bt=n(14),Wt=n(20),Yt=n(49),zt=n(37),Vt=n(71),Qt=n(44),qt=Object(E.a)(N.a)(_e||(_e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n\n  .icon-wrapper {\n    width: 60px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    display: grid;\n\n    .btn {\n      background: #fff;\n      position: absolute;\n      right: 5px;\n      bottom: -5px;\n      padding: 3px;\n\n      &:hover {\n        background: #fff !important;\n      }\n    }\n  }\n\n  .name-wrapper {\n    width: calc(100% - 40px);\n  }\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  .input-feedback {\n    margin-left: 130px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n  }\n\n  label {\n    margin: 0 20px 0 0;\n    min-width: 530px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n    // z-index: 2;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  .files {\n    width: 320px;\n  }\n  .file-attachments {\n    position: relative;\n    max-width: 100%;\n    margin-left: 128px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n    ul {\n      margin-right: 128px;\n      margin-bottom: 0;\n      @media all and (max-width: 480px) {\n        padding-right: 40px;\n      }\n      li {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n  }\n  &.file-attachment-wrapper {\n    margin-top: 30px;\n    margin-bottom: -20px;\n  }\n  &.action-wrapper {\n    z-index: 0;\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n      display: flex;\n      width: 100%;\n\n      .btn-archive {\n        display: flex;\n        margin-left: auto;\n        text-decoration: underline;\n        color: #a7abc3;\n      }\n    }\n  }\n  &.checkboxes {\n    flex-flow: row !important;\n    label {\n      min-width: 0;\n    }\n  }\n  &.external-select {\n    .invalid-feedback {\n      display: block;\n    }\n    .react-select__control {\n      border-color: ","!important;\n    }\n  }\n"])),(function(e){return!1===e.valid?"red":"#cccccc"})),Kt=Object(E.a)(D.d)(Oe||(Oe=Object(h.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]))),Jt=Object(E.a)(D.h)(Ee||(Ee=Object(h.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .has-not-accepted .react-select__multi-value__label {\n    background: #33b5e5;\n    color: #fff;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]))),Zt=Object(E.a)(D.c)(ge||(ge=Object(h.a)(["\n  .description-input {\n    height: ","px;\n    max-height: 300px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n\n  .ql-toolbar {\n    bottom: 30px;\n    left: 40px;\n  }\n\n  .invalid-feedback {\n    position: absolute;\n    bottom: 0;\n    top: auto;\n  }\n"])),(function(e){return e.height})),Xt=E.a.div(Ae||(Ae=Object(h.a)(["\n  .component-radio-input {\n    font-size: 0.9rem;\n  }\n"]))),$t=c.a.memo((function(e){var t=e.data,a=t.type,r=t.mode,o=t.item,s=void 0===o?null:o,l=Object(g.r)().uploadFiles,d=Object(g.cb)()._t,m=Object(_.g)(),p=Object(u.useDispatch)(),f=Object(g.X)(),b=Object(i.useState)(!0),h=Object(A.a)(b,2),O=h[0],E=h[1],j=Object(i.useState)(!1),C=Object(A.a)(j,2),T=C[0],w=C[1],k=Object(u.useSelector)((function(e){return e.settings.user})),N=Object(u.useSelector)((function(e){return e.session.user})),x=Object(u.useSelector)((function(e){return e.users.users})),I=Object(u.useSelector)((function(e){return e.users.externalUsers})),L=Object(u.useSelector)((function(e){return e.users.archivedUsers})),F=Object(u.useSelector)((function(e){return e.workspaces.workspaces})),M=Object(u.useSelector)((function(e){return e.workspaces.folders})),U=Object(i.useState)([]),G=Object(A.a)(U,2),H=G[0],B=G[1],W=Object(i.useState)([]),Y=Object(A.a)(W,2),z=Y[0],V=Y[1],Q=Object(i.useState)(""),q=Object(A.a)(Q,2),K=q[0],J=q[1],Z=Object(i.useState)(""),X=Object(A.a)(Z,2),$=X[0],ee=X[1],te=Object(i.useState)({is_private:!1,has_folder:null!==s&&"WORKSPACE"===s.type&&null!==s.folder_id,icon:null,icon_link:s&&s.channel?s.channel.icon_link:null,name:"",selectedUsers:[],selectedFolder:null===s?null:"FOLDER"===s.type?{value:s.id,label:s.name}:s.folder_id?{value:s.folder_id,label:s.folder_name}:null,description:"",textOnly:"",has_externals:!1,selectedExternals:[]}),ne=Object(A.a)(te,2),ae=ne[0],re=ne[1],ie=Object(i.useState)(!1),ce=Object(A.a)(ie,2),oe=ce[0],se=ce[1],le=Object(i.useState)(!1),de=Object(A.a)(le,2),ue=de[0],me=de[1],pe=Object(i.useState)([]),fe=Object(A.a)(pe,2),be=fe[0],he=fe[1],_e=Object(i.useState)([]),Oe=Object(A.a)(_e,2),Ee=Oe[0],ge=Oe[1],Ae=Object(i.useState)([]),ve=Object(A.a)(Ae,2),je=ve[0],Ce=ve[1],Te=Object(i.useState)(!1),ye=Object(A.a)(Te,2),we=ye[0],ke=ye[1],Ne=Object(i.useState)({name:null,description:null,has_folder:null,team:null,external:!0}),Re=Object(A.a)(Ne,2),xe=Re[0],Ie=Re[1],Pe=Object(i.useState)({name:"",description:"",folder:"",team:"",external:""}),De=Object(A.a)(Pe,2),Le=De[0],Fe=De[1],Me={container:Object(i.useRef)(null),workspace_name:Object(i.useRef)(null),dropZone:Object(i.useRef)(null),iconDropZone:Object(i.useRef)(null),first_name:Object(i.useRef)(null)},Ue=Object(i.useState)([]),Ge=Object(A.a)(Ue,2),He=Ge[0],Be=Ge[1],qe=Object(i.useState)([]),Je=Object(A.a)(qe,2),Ze=Je[0],Xe=Je[1],$e=Object(i.useState)([]),et=Object(A.a)($e,2),tt=et[0],nt=et[1],at=Object(i.useState)({email:"",first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0}),rt=Object(A.a)(at,2),it=rt[0],ct=rt[1],ot=Object(i.useState)([]),st=Object(A.a)(ot,2),lt=st[0],dt=st[1],ut=[].concat(Object(_t.a)(Object.values(x)),Object(_t.a)(L)),mt=[{value:"en",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(Yt.a,{countryAbbr:"en",className:"mr-2",width:"18"}),d("LANGUAGE.ENGLISH","English"))},{value:"nl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(Yt.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),d("LANGUAGE.DUTCH","Dutch"))}],pt={createWorkspace:d("WORKSPACE.CREATE_WORKSPACE","Create workspace"),create:d("BUTTON.CREATE","Create"),updateWorkspace:d("WORKSPACE.UPDATE_WORKSPACE","Update workspace"),update:d("BUTTON.UPDATE","Update"),workspaceName:d("WORKSPACE.WORKSPACE_NAME","Name"),workspaceInfo:d("WORKSPACE.WORKSPACE_INFO","A workspace centers the team communication about a subject. A workspace can only be connected to one folder."),lockWorkspace:d("WORKSPACE.WORKSPACE_LOCK","Make workspace private"),lockWorkspaceText:d("WORKSPACE.WORKSPACE_LOCK.DESCRIPTION","When a workspace is private it is only visible to the members of the workspace."),archiveThisWorkspace:d("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unArchiveThisWorkspace:d("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),description:d("LABEL.DESCRIPTION","Description"),addToFolder:d("CHECKBOX.ADD_TO_FOLDER","Add to folder"),folder:d("LABEL.FOLDER","Folder"),team:d("LABEL.TEAM","Team"),archiveWorkspace:d("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:d("BUTTON.ARCHIVE","Archive"),unArchiveWorkspace:d("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:d("BUTTON.CANCEL","Cancel"),archiveBodyText:d("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unArchiveBodyText:d("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),confirm:d("WORKSPACE.CONFIRM","Confirm"),lockedWorkspace:d("WORKSPACE.LOCKED_WORKSPACE","Private workspace"),lockedWorkspaceText:d("WORKSPACE.LOCKED_WORKSPACE_TEXT","Only members can view and search this workspace."),feedbackWorkspaceNameIsRequired:d("FEEDBACK.WORKSPACE_NAME_IS_REQUIRED","Workspace name is required."),feedbackWorkspaceNameAlreadyExists:d("FEEDBACK.WORKSPACE_NAME_ALREADY_EXISTS","Workspace name already exists."),feedbackWorkspaceDescriptionIsRequired:d("FEEDBACK.WORKSPACE_DESCRIPTION_IS_REQUIRED","Description is required."),toasterWorkspaceIsCreated:d("TOASTER.WORKSPACE_IS_CREATED","::workspace_name:: workspace is created.",{workspace_name:"<b>".concat(ae.name,"</b>")}),externalWorkspace:d("WORKSPACE.EXTERNAL_WORKSPACE","External workspace"),externalUserConfirmation:d("CONFIRMATION_EXTERNAL_USER","Are you sure you want to give an external user access to this Workspace?"),workspaceWithExternals:d("WORKSPACE.WORKSPACE_WITH_EXTERNALS","Workspace with externals"),externalGuest:d("WORKSPACE.EXTERNAL_GUEST","External guest"),peopleExternal:d("PEOPLE.EXTERNAL","External"),peopleInvited:d("PEOPLE.INVITED","Invited"),workspaceWithExternalsInfo1:d("WORKSPACE.WORKSPACE_WITH_EXTERNALS_INFO1","This function will allow users outside your company be invited on this workspace."),workspaceWithExternalsInfo2:d("WORKSPACE.WORKSPACE_WITH_EXTERNALS_INFO2","This may be your customer or supplier."),emailExists:d("WORKSPACE.EMAIL_EXISTS","Email already used"),invalidEmail:d("WORKSPACE.INVALID_EMAIL","Invalid email"),newExternalInfo:d("WORKSPACE.NEW_EXTERNAL_INFO","You are adding a new external user (#::email::#). You can add extra information to this account if you like. The account can verify or change this info during his first login.",{email:it.email}),newExternalUser:d("WORKSPACE.NEW_EXTERNAL_USER","New external user"),firstName:d("REGISTER.FIRST_NAME","First name"),middleName:d("REGISTER.MIDDLE_NAME","Middle name"),lastName:d("REGISTER.LAST_NAME","Last name"),companyName:d("DRIFF.COMPANY_NAME","Company name"),languageLabel:d("SETTINGS.LANGUAGE_LABEL","Language"),save:d("POST.SAVE","Save"),sendMyself:d("BUTTON.SEND_MYSELF","Send the signup link myself"),sendTruDriff:d("BUTTON.SEND_TRU_DRIFF","Automatically send the signup link to the mail")},ft=Object(i.useCallback)((function(){return""===ae.name?(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:pt.feedbackWorkspaceNameIsRequired})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:!1})})),!1):Object.values(F).some((function(e){return"edit"===r?e.id!==s.id&&e.name.toLowerCase()===ae.name.toLowerCase():e.name.toLowerCase()===ae.name.toLowerCase()}))?(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:pt.feedbackWorkspaceNameAlreadyExists})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:!0})})),!0):(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:""})})),void Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:!0})})))}),[ae.name,ae.has_folder,ae.selectedFolder,F,Ie,Fe]),bt=function(){E(!O),p(Object(Qe.d)({type:a}))},ht=function(e){var t=e.target.dataset.name,n=!ae[t];re((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(y.a)({},t,n))}))},Ot=Object.values(M).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"folder",value:e.id,label:e.name})})),Et=Object(i.useCallback)(Object(Pt.debounce)((function(e,t){e?(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:""})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:null})}))):!1===e&&!1===t?(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:pt.emailExists})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:!1})}))):!1===e&&!0===t?(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:pt.invalidEmail})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:!1})}))):(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:""})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:!0})})))}),300),[]),gt=function(e,t){var n=new FormData;n.append("files[0]",t),l({is_primary:0,topic_id:e.topic_id?e.topic_id:e.id,files:n},(function(t,n){p(Object(Wt.T)(Object(S.a)(Object(S.a)({},e),{},{topic_id:e.topic_id?e.topic_id:e.id,file_id:n.data.files[0].id,workspace_id:e.folder_id?e.folder_id:e.workspace_id})))}))},At=Object(i.useCallback)((function(e,t,n,a){var r=a.getText(e);a.getContents().ops&&a.getContents().ops.length&&function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){var t=[N.id].concat(Object(_t.a)(ae.selectedUsers.map((function(e){return e.id}))),Object(_t.a)(Ze)),n=e.filter((function(e){return!t.some((function(t){return t===e}))}));Be(n.length?n.map((function(e){return parseInt(e)})):[])}else Xe([]),Be([])}(a.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id}))),re((function(t){return Object(S.a)(Object(S.a)({},t),{},{description:e,textOnly:r})})),""===r.trim()?(Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{description:pt.feedbackWorkspaceDescriptionIsRequired})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{description:!1})}))):Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{description:!0})}))}),[re,Fe,Ie,ae.selectedUsers,He,Ze]),vt=function(){se(!1)},jt=function(){me(!1)},Ct=Object(i.useCallback)((function(e,t){re((function(n){return Object(S.a)(Object(S.a)({},n),{},{icon:e,icon_link:t})}))}),[]),Tt=Object(i.useCallback)((function(e){0===e.length?f.error("File type not allowed. Please use an image file."):e.length>1&&f.warning("Multiple files detected. First selected image will be used.");var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:Ct};p(Object(Qe.a)(t,(function(){jt()})))}),[Ct,jt]),yt=function(){var e={type:"confirmation",headerText:pt.archiveWorkspace,submitText:pt.archive,cancelText:pt.cancel,bodyText:pt.archiveBodyText,actions:{onSubmit:St}};0===s.active&&(e=Object(S.a)(Object(S.a)({},e),{},{headerText:pt.unArchiveWorkspace,submitText:pt.unArchiveWorkspace,bodyText:pt.unArchiveBodyText})),p(Object(Qe.a)(e))},St=Object(i.useCallback)((function(){var e={id:s.channel.id,is_archived:1===s.active,is_muted:!1,is_pinned:!1,is_shared:s.is_external};e.is_archived||(e.push_unarchived=1),p(Object(Ke.nb)(e)),f.success(c.a.createElement("span",null,c.a.createElement("b",null,s.name)," workspace is",1===s.active?c.a.createElement(c.a.Fragment,null," unarchived"):c.a.createElement(c.a.Fragment,null," archived"),null!==ae.selectedFolder&&c.a.createElement(c.a.Fragment,null," ",c.a.createElement("b",null,ae.selectedFolder.label)," under directory"),".")),bt()}),[]);Object(i.useEffect)((function(){var e=null;if(Object.values(x).length&&(e=Object(S.a)(Object(S.a)({},x[N.id]),{},{value:N.id,label:N.name})),"edit"===r){var t=[],n=[],a=void 0!==s.type&&"WORKSPACE"===s.type?1===s.is_lock:1===s.private;s.members.length&&(t=s.members.filter((function(e){return 1===e.active&&"internal"===e.type})).map((function(e){return{value:e.id,label:e.name,name:e.name,id:e.id,first_name:""===e.first_name?e.email:e.first_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,has_accepted:e.has_accepted,email:e.email}})),n=s.members.filter((function(e){return"external"===e.type})).map((function(e){return{value:e.id,label:""!==e.name?e.name:""!==e.first_name?e.first_name:e.email,name:e.name,id:e.id,first_name:""===e.first_name?e.email:e.first_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,email:e.email,has_accepted:e.has_accepted}})),dt(s.members.filter((function(e){return 0===e.active&&e.has_accepted})))),re(Object(S.a)(Object(S.a)({},ae),{},{has_folder:null!==s&&"WORKSPACE"===s.type&&null!==s.folder_id,selectedUsers:t,selectedFolder:s.folder_id?{value:s.folder_id,label:s.folder_name}:null,description:s.description,textOnly:s.description,name:s.name,is_private:a,has_externals:n.length>0,selectedExternals:n})),Ie({name:!0,folder:!0,team:!0}),s.hasOwnProperty("primary_files")&&ge(s.primary_files)}else re((function(t){return Object(S.a)(Object(S.a)({},t),{},{selectedUsers:e?[e]:[],selectedFolder:null===s?null:{value:s.id,label:s.name},has_folder:null!==s&&"FOLDER"===s.type})})),Ie((function(t){return Object(S.a)(Object(S.a)({},t),{},{team:!!e||null,name:null})}));return function(){return p(Object(zt.h)())}}),[]),Object(i.useEffect)((function(){var e=!0;ae.has_folder&&null===ae.selectedFolder&&(e=!1),Ie((function(t){return Object(S.a)(Object(S.a)({},t),{},{has_folder:e})})),ft()}),[ae.has_folder,ae.selectedFolder]),Object(i.useEffect)((function(){var e=Object.values(x).filter((function(e){return"internal"===e.type&&1===e.active})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{value:e.id,label:e.name})}));B(e)}),[Object.values(x).length]),Object(i.useEffect)((function(){if(I.length){var e=I.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{value:e.id,label:e.has_accepted?"".concat(e.email," | ").concat(e.first_name," ").concat(e.last_name," - ").concat(e.external_company_name):"".concat(e.email," "),dictionary:{peopleExternal:d("PEOPLE.EXTERNAL","External"),peopleInvited:d("PEOPLE.INVITED","Invited")}})}));V(e)}}),[I.length]);var wt=function(e,t){return!t||(-1!==e.label.toLowerCase().search(t.toLowerCase())||e.data.email&&-1!==e.data.email.toLowerCase().search(t.toLowerCase()))},kt=function(){w((function(e){return!e}))},Nt=function(e){e.persist(),ct((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(y.a)({},e.target.name,e.target.value))}))},Rt=function(e,t){ct(Object(S.a)(Object(S.a)({},it),{},{send_by_email:"myself"!==t}))};return c.a.createElement(We.a,{innerRef:Me.container,isOpen:O,toggle:bt,centered:!0,size:"lg",onOpened:function(){Me.workspace_name&&Me.workspace_name.current&&Me.workspace_name.current.focus()}},c.a.createElement(sn,{toggle:bt},"edit"===r?pt.updateWorkspace:pt.createWorkspace),c.a.createElement(Ye.a,{onDragOver:function(){se(!0)}},c.a.createElement(We.a,{isOpen:T,toggle:kt,centered:!0,onOpened:function(){Me.first_name&&Me.first_name.current&&Me.first_name.current.focus()}},c.a.createElement(sn,{toggle:kt},pt.newExternalUser),c.a.createElement(Ye.a,null,c.a.createElement(Lt.a,{className:"modal-info mb-3"},pt.newExternalInfo),c.a.createElement(Lt.a,{className:"modal-label"},pt.firstName),c.a.createElement(R.a,{className:"mb-2",name:"first_name",value:it.first_name,onChange:Nt,autoFocus:!0,innerRef:Me.first_name}),c.a.createElement(Lt.a,{className:"modal-label"},pt.middleName),c.a.createElement(R.a,{className:"mb-2",name:"middle_name",value:it.middle_name,onChange:Nt}),c.a.createElement(Lt.a,{className:"modal-label"},pt.lastName),c.a.createElement(R.a,{className:"mb-2",name:"last_name",value:it.last_name,onChange:Nt}),c.a.createElement(Lt.a,{className:"modal-label"},pt.companyName),c.a.createElement(R.a,{className:"mb-2",name:"company",value:it.company,onChange:Nt}),c.a.createElement(Lt.a,{className:"modal-label"},pt.languageLabel),c.a.createElement(Vt.a,{styles:"1"===k.GENERAL_SETTINGS.dark_mode?Qt.a:Qt.b,value:mt.find((function(e){return e.value===it.language})),onChange:function(e){ct((function(t){return Object(S.a)(Object(S.a)({},t),{},{language:e.value})}))},options:mt}),c.a.createElement(Xt,{className:"mt-3"},c.a.createElement(D.j,{readOnly:!0,onClick:function(e){Rt(0,"myself")},checked:!it.send_by_email,value:"myself",name:"myself"},pt.sendMyself),c.a.createElement(D.j,{readOnly:!0,onClick:function(e){Rt(0,"driff")},checked:it.send_by_email,value:"driff",name:"driff"},pt.sendTruDriff))),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{className:"btn-outline-secondary",onClick:kt},pt.cancel),c.a.createElement(Ve.a,{color:"primary",onClick:function(){kt(),tt.some((function(e){return e.email===it.email}))?nt(tt.map((function(e){return e.email===it.email?it:e}))):nt([].concat(Object(_t.a)(tt),[it])),ct({email:"",first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0})}},pt.save))),c.a.createElement(Ft.a,{hide:!oe,ref:Me.dropZone,onDragLeave:vt,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var n=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,type:"IMAGE",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:N}):"video/mp4"===e.type?t.push({rawFile:e,type:"VIDEO",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:N}):t.push({rawFile:e,type:"DOC",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:N})})),he((function(e){return[].concat(Object(_t.a)(e),t)})),vt()}(e.acceptedFiles)},onCancel:vt,attachedFiles:be}),c.a.createElement(qt,{className:"modal-input mt-0"},c.a.createElement("div",null,c.a.createElement(Lt.a,{className:"modal-info pb-3 pt-3"},pt.workspaceInfo),c.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},c.a.createElement("div",{className:"icon-wrapper",onClick:function(){Me.iconDropZone.current.open()}},c.a.createElement(Ft.a,{acceptType:"imageOnly",hide:!ue,ref:Me.iconDropZone,onDragLeave:jt,onDrop:function(e){var t=e.acceptedFiles;Tt(t)},onCancel:jt}),c.a.createElement(v.a,{imageLink:ae.icon_link,name:ae.name,noDefaultClick:!0,forceThumbnail:!1}),c.a.createElement("span",{className:"btn btn-outline-light btn-sm"},c.a.createElement(v.s,{icon:"pencil"}))),c.a.createElement("div",{className:"name-wrapper"},c.a.createElement(Lt.a,{className:"modal-label",for:"chat"},pt.workspaceName),c.a.createElement(R.a,{name:"name",defaultValue:"edit"===r?s.name:"",onFocus:function(){Fe((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:""})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:null})}))},onChange:function(e){e.persist(),re((function(t){return Object(S.a)(Object(S.a)({},t),{},{name:e.target.value.trim()})}))},onBlur:function(){ft()},valid:xe.name,invalid:null!==xe.name&&!xe.name,innerRef:Me.workspace_name}),c.a.createElement(D.f,{valid:xe.name},Le.name))))),c.a.createElement(qt,{className:"modal-input checkboxes"},c.a.createElement("div",null,c.a.createElement(D.a,{type:"success",name:"has_folder",checked:ae.has_folder,onClick:ht},pt.addToFolder)),c.a.createElement("div",null,c.a.createElement(D.a,{type:"success",name:"has_externals",checked:ae.has_externals,onClick:ht},pt.workspaceWithExternals)),c.a.createElement("div",{style:{position:"relative"}},c.a.createElement(v.t,{content:c.a.createElement("div",null,pt.workspaceWithExternalsInfo1,c.a.createElement("br",null),pt.workspaceWithExternalsInfo2)},c.a.createElement(v.s,{icon:"alert-circle",width:"16",height:"16"})))),!0===ae.has_folder&&c.a.createElement(qt,{className:"modal-input"},c.a.createElement(Lt.a,{for:"people"},pt.folder),c.a.createElement(Kt,{options:Ot,value:ae.selectedFolder,onChange:function(e){re((function(t){return Object(S.a)(Object(S.a)({},t),{},{selectedFolder:e})}))},isMulti:!1,isClearable:!0}),c.a.createElement(D.f,{valid:xe.has_folder},Le.has_folder)),c.a.createElement(qt,{className:"modal-input"},c.a.createElement(Lt.a,{for:"people"},pt.team),c.a.createElement(Jt,{valid:xe.team,options:H,value:ae.selectedUsers,inputValue:K,onChange:function(e){null===e?(re((function(e){return Object(S.a)(Object(S.a)({},e),{},{selectedUsers:[]})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{team:"edit"===r})}))):(re((function(t){return Object(S.a)(Object(S.a)({},t),{},{selectedUsers:e})})),Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{team:!0})})))},onInputChange:function(e){J(e)},filterOption:wt,isSearchable:!0}),c.a.createElement(D.f,{valid:xe.user},Le.user)),!0===ae.has_externals&&c.a.createElement(qt,{className:"modal-input external-select",valid:xe.external},c.a.createElement(Lt.a,{for:"people"},pt.externalGuest),c.a.createElement(D.f,{valid:xe.external},Le.external),c.a.createElement(Jt,{creatable:!0,options:z,value:ae.selectedExternals,inputValue:$,isValidNewOption:function(e,t,n){var a=n.some((function(t){return t.email===e})),r=t.some((function(t){return t.email===e}));return!a&&!r&&""!==e&&(!!Bt.a.test(e)&&!ut.some((function(t){return t.email===e})))},onCreateOption:function(e){var t=tt.find((function(t){return t.email===e}));ct(t||{email:e,first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0}),kt(!0),re((function(t){return Object(S.a)(Object(S.a)({},t),{},{selectedExternals:[].concat(Object(_t.a)(t.selectedExternals),[{id:n(64).generate(),label:e,value:e,name:e,first_name:e,email:e,has_accepted:!1}])})}))},onChange:function(e){if(e&&e.some((function(e){return e.label.startsWith("Add ")&&!e.hasOwnProperty("id")}))){w(!0);var t=e.find((function(e){return e.label.startsWith("Add ")}));ct({email:t.value,first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0})}if(null===e)re((function(e){return Object(S.a)(Object(S.a)({},e),{},{selectedExternals:[]})})),nt([]);else{var a=e.map((function(e){return e.id?e:Object(S.a)(Object(S.a)({},e),{},{id:n(64).generate(),label:e.value,value:e.value,name:e.value,first_name:e.value,email:e.value,has_accepted:!1})}));re((function(e){return Object(S.a)(Object(S.a)({},e),{},{selectedExternals:a})})),nt(tt.filter((function(t){return e.some((function(e){return e.email===t.email}))})))}},onInputChange:function(e){ee(e);var t=z.some((function(t){return t.email===e})),n=ae.selectedExternals.some((function(t){return t.email===e}));t||n||""===e?Et(null):Bt.a.test(e)?ut.some((function(t){return t.email===e}))?Et(!1,!1):Et(!0):Et(!1,!0)},filterOption:wt,formatCreateLabel:function(e){return"Add ".concat(e)},isSearchable:!0,classNamePrefix:"react-select",onMenuClose:function(){Ie((function(e){return Object(S.a)(Object(S.a)({},e),{},{external:!0})}))},onEmailClick:function(e){var t=tt.find((function(t){return t.email===e.email}));t&&ct(t),kt(!0)}})),c.a.createElement(Zt,{className:"modal-description",height:window.innerHeight-660,required:!0,showFileButton:!0,onChange:At,onOpenFileDialog:function(){Me.dropZone.current&&Me.dropZone.current.open()},defaultValue:"edit"===r&&s?s.description:"",mode:r,valid:xe.description,feedback:Le.description,disableBodyMention:!0,modal:"workspace",mentionedUserIds:He,onAddUsers:function(e){re(Object(S.a)(Object(S.a)({},ae),{},{selectedUsers:[].concat(Object(_t.a)(e.map((function(e){return{id:e.id,value:e.id,label:e.name,name:e.name,first_name:e.first_name,profile_image_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link}}))),Object(_t.a)(ae.selectedUsers))})),Be([])},onDoNothing:function(e){Xe(e.map((function(e){return e.id}))),Be(He.filter((function(t){return!e.some((function(e){return e.id===t}))})))},setInlineImages:Ce}),(be.length>0||Ee.length>0)&&c.a.createElement(qt,{className:"file-attachment-wrapper"},c.a.createElement(v.h,{attachedFiles:[].concat(Object(_t.a)(be),Object(_t.a)(Ee)),handleRemoveFile:function(e){ge((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),he((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))}})),c.a.createElement(qt,{className:"action-wrapper"},c.a.createElement(Lt.a,null),c.a.createElement(D.a,{name:"is_private",checked:ae.is_private,onClick:ht},pt.lockWorkspace),c.a.createElement("div",{className:"lock-workspace-text-container pb-3"},c.a.createElement(Lt.a,{className:"lock-workspace-text"},pt.lockWorkspaceText)),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){if(!we){var e=[].concat(Object(_t.a)(ae.selectedUsers.filter((function(e){return"number"===typeof e.id}))),Object(_t.a)(ae.selectedExternals.filter((function(e){return"number"===typeof e.id})))),t=e.map((function(e){return e.id})),n={name:ae.name,description:ae.description,is_external:0,member_ids:t,is_lock:ae.is_private?1:0,workspace_id:ae.selectedFolder&&"number"===typeof ae.selectedFolder.value&&ae.has_folder?ae.selectedFolder.value:0,file_ids:je.map((function(e){return e.id}))};if(tt.length&&ae.has_externals&&(n="edit"===r?Object(S.a)(Object(S.a)({},n),{},{new_externals:tt.filter((function(e){return ae.selectedExternals.some((function(t){return t.email===e.email}))})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{first_name:e.first_name.trim(),middle_name:e.middle_name.trim(),last_name:e.last_name.trim(),company:e.company.trim()})})),is_external:1}):Object(S.a)(Object(S.a)({},n),{},{external_emails:tt.filter((function(e){return ae.selectedExternals.some((function(t){return t.email===e.email}))})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{first_name:e.first_name.trim(),middle_name:e.middle_name.trim(),last_name:e.last_name.trim(),company:e.company.trim()})})),is_external:1})),"edit"===r){var a=s.members.filter((function(e){return 1===e.active})),i=s.members.filter((function(e){return!t.some((function(t){return e.id===t}))})),o=t.filter((function(e){return!a.some((function(t){return t.id===e}))})),l=e.filter((function(e){return!e.has_accepted})).map((function(e){return e.id}));n=Object(S.a)(Object(S.a)({},n),{},{workspace_id:ae.selectedFolder&&ae.has_folder?ae.selectedFolder.value:0,topic_id:s.id,remove_member_ids:i.map((function(e){return e.id})),new_member_ids:o}),(i.filter((function(e){return e.has_accepted})).length||n.new_member_ids.filter((function(e){return!l.some((function(t){return t===e}))&&!lt.some((function(t){return t.id===e}))})).length||s.name!==ae.name)&&(n.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:N.id,name:N.name,first_name:N.first_name,partial_name:N.partial_name,profile_image_link:N.profile_image_thumbnail_link?N.profile_image_thumbnail_link:N.profile_image_link},title:ae.name===s.name?"":ae.name,added_members:o.filter((function(e){return!l.some((function(t){return t===e}))&&!lt.some((function(t){return t.id===e}))})),removed_members:i.filter((function(e){return e.has_accepted})).map((function(e){return e.id}))})));var u=function(){ke(!0);if(1===s.members.length&&0===ae.selectedUsers.length&&1===s.is_lock){var e={id:s.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1,is_shared:s.is_external};p(Object(Ke.nb)(e)),bt()}else i.some((function(e){return e===N.id}))&&p(Object(Wt.M)({workspace_id:s.id,channel_id:s.channel.id})),p(Object(Wt.T)(n,(function(e,t){if(bt(),!e){if(ae.icon&&gt(n,ae.icon),t.data){var a=tt.find((function(e){return!e.send_by_email}));if(a){var r=t.data.members.find((function(e){return e.email===a.email}));r&&r.invite_link&&Object(P.b)(f,r.invite_link)}}if(function(){var e=[];if(s.primary_files&&s.primary_files.length&&(e=s.primary_files.filter((function(e){return!Ee.some((function(t){return t.id===e.id}))}))),e.length){var t={topic_id:s.id,is_primary:1,file_ids:e.map((function(e){return e.id}))};p(Object(Se.q)(t))}}(),be.length){var i=new FormData;for(var c in be)i.append("files["+c+"]",be[c].rawFile);p(Object(Se.Ub)({is_primary:1,topic_id:t.data.id,files:i}))}ae.selectedFolder&&"number"===typeof ae.selectedFolder.value?m.push("/workspace/dashboard/".concat(ae.selectedFolder.value,"/").concat(Object(Bt.h)(ae.selectedFolder.label),"/").concat(t.data.id,"/").concat(Object(Bt.h)(ae.name))):m.push("/workspace/dashboard/".concat(t.data.id,"/").concat(Object(Bt.h)(ae.name)))}})))};if(s.is_lock!==n.is_lock&&1===n.is_lock||ae.has_externals){!function(){var e={type:"confirmation",headerText:ae.has_externals&&1===n.is_lock?"".concat(pt.lockedWorkspace," / ").concat(pt.externalWorkspace):ae.has_externals?pt.externalWorkspace:pt.lockedWorkspace,submitText:pt.confirm,cancelText:pt.cancel,bodyText:ae.has_externals&&1===n.is_lock?"".concat(pt.externalUserConfirmation,"<br/>").concat(pt.lockedWorkspaceText):ae.has_externals?pt.externalUserConfirmation:pt.lockedWorkspaceText,actions:{onSubmit:u}};p(Object(Qe.a)(e))}()}else u()}else{var b=function(){ke(!0),p(Object(Wt.d)(n,(function(e,t){if(bt(),e&&(ke(!1),f.warning(c.a.createElement("span",null,"Workspace creation failed.",c.a.createElement("br",null),"Please try again."))),t){if(ae.selectedFolder&&"number"===typeof ae.selectedFolder.value?m.push("/workspace/dashboard/".concat(ae.selectedFolder.value,"/").concat(Object(Bt.h)(t.data.workspace.name),"/").concat(t.data.id,"/").concat(Object(Bt.h)(t.data.topic.name)),{folder_id:ae.selectedFolder.value,workspace_id:t.data.id}):m.push("/workspace/dashboard/".concat(t.data.id,"/").concat(Object(Bt.h)(t.data.topic.name)),{folder_id:null,workspace_id:t.data.id}),be.length){var n=new FormData;for(var a in be)n.append("files["+a+"]",be[a].rawFile);p(Object(Se.Ub)({is_primary:1,topic_id:t.data.id,files:n}))}var r={id:t.data.id,name:t.data.topic.name,is_external:t.data.is_external,is_lock:t.data.is_lock,description:t.data.topic.description,unread_count:0,type:"WORKSPACE",key_id:t.data.key_id,active:1,unread_chats:0,unread_posts:0,folder_id:t.data.workspace?t.data.workspace.id:null,folder_name:t.data.workspace?t.data.workspace.name:null,member_ids:t.data.member_ids,members:t.data.members,channel:{code:t.data.channel.code,id:t.data.channel.id,loaded:!1},team_channel:{code:t.data.team_channel.code,id:t.data.team_channel.id,icon_link:t.data.team_channel.icon_link},created_at:t.data.topic.created_at,updated_at:t.data.topic.created_at,is_shared:ae.has_externals},i=tt.find((function(e){return!e.send_by_email}));if(i){var o=t.data.members.find((function(e){return e.email===i.email}));o&&o.invite_link&&Object(P.b)(f,o.invite_link)}p(Object(Wt.P)(r)),ae.icon&&gt(r,ae.icon),null!==ae.selectedFolder?f.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:pt.toasterWorkspaceIsCreated}})):f.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:d("TOASTER.WORKSPACE_UNDER_FOLDER_IS_CREATED","::workspace_name:: workspace is created under ::folder_name:: directory",{workspace_name:"<b>".concat(ae.name,"</b>"),folder_name:"<b>".concat(ae.selectedFolder.label,"</b>")})}}))}})))};if(1===n.is_lock||ae.has_externals){!function(){var e={type:"confirmation",headerText:ae.has_externals&&1===n.is_lock?"".concat(pt.lockedWorkspace," / ").concat(pt.externalWorkspace):ae.has_externals?pt.externalWorkspace:pt.lockedWorkspace,submitText:pt.confirm,cancelText:pt.cancel,bodyText:ae.has_externals&&1===n.is_lock?"".concat(pt.externalUserConfirmation,"<br/>").concat(pt.lockedWorkspaceText):ae.has_externals?pt.externalUserConfirmation:pt.lockedWorkspaceText,actions:{onSubmit:b}};p(Object(Qe.a)(e))}()}else b()}}},disabled:""===ae.name.trim()||""===ae.textOnly.trim()||0===ae.selectedUsers.length},we&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===r?pt.updateWorkspace:pt.createWorkspace),"edit"===r&&c.a.createElement("div",{className:"action-archive-wrapper"},1===s.active?c.a.createElement("span",{onClick:yt,className:"btn-archive text-link mt-2 cursor-pointer"},pt.archiveThisWorkspace):c.a.createElement("span",{onClick:yt,className:"btn-archive text-link mt-2 cursor-pointer"},pt.unArchiveThisWorkspace)))))})),en=Object(E.a)(N.a)(ve||(ve=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin: 5px 0 20px 0;\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  ","\n\n  .input-feedback {\n    margin-left: 130px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n  }\n\n  p {\n    max-width: 530px;\n    opacity: 0.8;\n  }\n\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.action-wrapper {\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n      display: flex;\n      width: 100%;\n\n      .btn-archive {\n        display: flex;\n        margin-left: auto;\n        text-decoration: underline;\n        color: #a7abc3;\n      }\n    }\n  }\n"])),""),tn=c.a.memo((function(e){var t=e.data,n=t.type,a=t.mode,r=t.item,o=void 0===r?null:r,s=Object(_.g)(),l=Object(g.cb)()._t,d={createWorkspaceFolder:l("WORKSPACE.CREATE_WORKSPACE_FOLDER","Create folder"),updateWorkspaceFolder:l("WORKSPACE.UPDATE_WORKSPACE_FOLDER","Update folder"),removeWorkspaceFolder:l("WORKSPACE.DELETE_WORKSPACE_FOLDER","Remove folder"),folderName:l("FOLDER_NAME","Name"),folderInfo:l("FOLDER_INFO","Folders help to organize your workspaces and are set for everyone who can see them. A workspace can only be connected to one folder."),lockWorkspaceFolder:l("WORKSPACE.WORKSPACE_FOLDER_LOCK","Make folder private"),lockWorkspaceFolderText:l("WORKSPACE.WORKSPACE_FOLDER_LOCK.DESCRIPTION","When a folder is private it is only visible to the members of the workspaces inside the folder."),description:l("DESCRIPTION","Description"),remove:l("WORKSPACE.REMOVE","Remove"),cancel:l("WORKSPACE.CANCEL","Cancel"),removeFolderText:l("WORKSPACE.REMOVE_FOLDER_TEXT","Workspaces in"),removeFolderText2:l("WORKSPACE.REMOVE_FOLDER_TEXT_2","will move back to the Workspaces sections in your sidebar. <br /><br />The workspaces in this folder will not be removed when you remove this folder."),confirm:l("WORKSPACE.CONFIRM","Confirm"),lockedFolder:l("WORKSPACE.LOCKED_FOLDER","Private folder"),lockedFolderText:l("WORKSPACE.LOCKED_FOLDER_TEXT","Only members can view and search this workspace.")},m=Object(g.X)(),p=Object(i.useRef)(),f=Object(u.useDispatch)(),b=Object(u.useSelector)((function(e){return e.workspaces})),h=b.activeTopic,O=b.folders,E=Object(u.useSelector)((function(e){return e.workspaces.activeTab})),v=Object(i.useState)(!0),j=Object(A.a)(v,2),C=j[0],T=j[1],w=Object(i.useState)(!1),k=Object(A.a)(w,2),N=k[0],x=k[1],I=Object(i.useState)({is_private:!1,name:"",description:"",textOnly:"",workspace_id:null}),P=Object(A.a)(I,2),L=P[0],F=P[1],M=Object(i.useState)({name:null}),U=Object(A.a)(M,2),G=U[0],H=U[1],B=Object(i.useState)({name:""}),W=Object(A.a)(B,2),Y=W[0],z=W[1],V=function(){T(!C),f(Object(Qe.d)({type:n}))},Q=Object(i.useCallback)((function(e){var t=e.target.dataset.name;F((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(y.a)({},t,!e[t]))}))}),[F]);Object(i.useEffect)((function(){"edit"===a&&F(Object(S.a)(Object(S.a)({},L),{},{name:o.name,description:o.description,textOnly:o.description,is_private:1===o.is_lock,workspace_id:o.id}))}),[]);var q=Object(i.useCallback)((function(){H(Object(S.a)(Object(S.a)({},G),{},{name:""!==L.name})),"edit"===a?""===L.name?z(Object(S.a)(Object(S.a)({},Y),{},{name:"Please provide a folder name."})):Object.values(O).filter((function(e){return e.name.toLowerCase()===L.name.toLowerCase()})).length?o.name!==L.name&&z(Object(S.a)(Object(S.a)({},Y),{},{name:"Folder name already exists."})):z(Object(S.a)(Object(S.a)({},Y),{},{name:""})):""===L.name?z(Object(S.a)(Object(S.a)({},Y),{},{name:"Please provide a folder name."})):Object.values(O).filter((function(e){return e.name.toLowerCase()===L.name.toLowerCase()})).length?z(Object(S.a)(Object(S.a)({},Y),{},{name:"Folder name already exists."})):z(Object(S.a)(Object(S.a)({},Y),{},{name:""}))}),[L.name,G,H,Y,z,O]),K=Object(i.useCallback)((function(e){e.persist(),null!==G.name&&H((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:null})})),F((function(t){return Object(S.a)(Object(S.a)({},t),{},{name:e.target.value.trim()})})),q()}),[G.name,H,F]),J=Object(i.useCallback)((function(){q()}),[q]),Z=Object(i.useCallback)((function(){if(!N){var e={name:L.name,description:L.description,is_external:"extern"===E?1:0,is_folder:1,is_lock:L.is_private?1:0};if("edit"===a){e=Object(S.a)(Object(S.a)({},e),{},{workspace_id:L.workspace_id,topic_id:L.workspace_id});var t=function(){x(!0),f(Object(Wt.T)(e,(function(e,t){x(!1),e&&m.error(c.a.createElement("span",null,"Folder update failed.",c.a.createElement("br",null),"Please try again.")),t&&(m.success(c.a.createElement("span",null,c.a.createElement("b",null,L.name)," folder is updated")),V())})))};o.is_lock!==e.is_lock&&1===e.is_lock?function(){var e={type:"confirmation",headerText:d.lockedFolder,submitText:d.confirm,cancelText:d.cancel,bodyText:d.lockedFolderText,actions:{onSubmit:t}};f(Object(Qe.a)(e))}():t()}else{var n=function(){x(!0),f(Object(Wt.d)(e,(function(e,t){x(!1),e&&m.error(c.a.createElement("span",null,"Folder creation failed.",c.a.createElement("br",null),"Please try again.")),t&&(m.success(c.a.createElement("span",null,c.a.createElement("b",null,L.name)," folder is created")),V())})))};1===e.is_lock?function(){var e={type:"confirmation",headerText:d.lockedFolder,submitText:d.confirm,cancelText:d.cancel,bodyText:d.lockedFolderText,actions:{onSubmit:n}};f(Object(Qe.a)(e))}():n()}}}),[f,V,E,L.description,L.is_private,L.name,G.name,F,a]),X=function(){f(Object(Wt.e)({topic_id:o.id},(function(e,t){e||h&&h.folder_id===o.id&&s.push("/workspace/chat/".concat(h.id,"/").concat(Object(Bt.h)(h.name)))}))),V()};return c.a.createElement(We.a,{isOpen:C,toggle:V,size:"lg",onOpened:function(){p&&p.current&&p.current.focus()},centered:!0},c.a.createElement(sn,{toggle:V,className:"workspace-folder-header"},"edit"===a?"Edit  folder":"Create new folder"),c.a.createElement(Ye.a,null,c.a.createElement(en,{className:"modal-input"},c.a.createElement("div",null,c.a.createElement(Lt.a,{className:"modal-info"},d.folderInfo),c.a.createElement(Lt.a,{className:"modal-label",for:"folder"},d.folderName)),c.a.createElement("div",{className:"folder-searchbar-container"},c.a.createElement(R.a,{className:"folder-searchbar",defaultValue:"edit"===a?o.name:"",onChange:K,onBlur:J,valid:G.name,invalid:null!==G.name&&!G.name,innerRef:p}),c.a.createElement(D.f,{valid:G.name},Y.name))),c.a.createElement(en,{className:"action-wrapper",style:{marginTop:"40px"}},c.a.createElement("div",null,c.a.createElement(D.a,{name:"is_private",checked:L.is_private,onClick:Q},d.lockWorkspaceFolder),c.a.createElement("div",{className:"lock-workspace-folder-text-container"},c.a.createElement(Lt.a,{className:"lock-workspace-text"},d.lockWorkspaceFolderText))),c.a.createElement("div",{className:"create-folder-btn ml-auto"},c.a.createElement("button",{className:"btn btn-primary",disabled:null===G.name||!1===G.name,onClick:Z},N&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===a?d.updateWorkspaceFolder:d.createWorkspaceFolder)),"edit"===a&&c.a.createElement("div",{className:"action-archive-wrapper"},c.a.createElement("span",{onClick:function(){var e={type:"confirmation",headerText:d.removeWorkspaceFolder,submitText:d.remove,cancelText:d.cancel,bodyText:"".concat(d.removeFolderText," <b>").concat(o.name,"</b> ").concat(d.removeFolderText2),actions:{onSubmit:X}};f(Object(Qe.a)(e))},className:"btn-archive text-link mt-2 cursor-pointer"},d.removeWorkspaceFolder)))))})),nn=n(27);function an(){var e=Object(h.a)(["\n  width: 20px;\n  height: 20px;\n"]);return an=function(){return e},e}function rn(){var e=Object(h.a)(["\n  font-size: 17px;\n  color: #505050;\n  font-weight: 600;\n\n  button:focus {\n    outline: none;\n  }\n"]);return rn=function(){return e},e}var cn=E.a.div(rn()),on=Object(E.a)(v.s)(an()),sn=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.children,r=e.toggle,i=Object(nn.a)(e,["className","children","toggle"]);return c.a.createElement(cn,Object.assign({className:"model-header-section modal-header ".concat(n)},i),c.a.createElement("h5",{className:"modal-title"},a),c.a.createElement("button",{type:"button",onClick:r,className:"close","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},c.a.createElement(on,{icon:"x"}))))}));function ln(){var e=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]);return ln=function(){return e},e}var dn=E.a.div(ln()),un=c.a.memo((function(e){var t=e.data,n=t.type,a=t.post,r=t.topic_id,o=Object(u.useDispatch)(),s=Object(g.X)(),l=new Date,d=l.getMinutes();l.setMinutes(d+1);var m=Object(i.useState)("20m"),p=Object(A.a)(m,2),f=p[0],b=p[1],h=Object(i.useState)(l),_=Object(A.a)(h,2),O=_[0],E=_[1],v=Object(i.useState)(null),j=Object(A.a)(v,2),C=j[0],T=j[1],y=Object(i.useState)(!0),S=Object(A.a)(y,2),w=S[0],k=S[1],N=Object(i.useState)(!0),R=Object(A.a)(N,2),x=R[0],I=R[1],P=Object(i.useState)(!1),D=Object(A.a)(P,2),L=D[0],F=D[1],M=function(){I(!x),o(Object(Qe.d)({type:n}))},U=function(e,t){T(!1),b(t),k(!0)};return c.a.createElement(We.a,{isOpen:x,toggle:M,centered:!0,className:"chat-forward-modal"},c.a.createElement(sn,{toggle:M},"Snooze post"),c.a.createElement(Ye.a,null,c.a.createElement(dn,null,c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){U(0,"2m")},checked:"2m"===f,value:"2m",name:"role"},"2 minutes"),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){U(0,"20m")},checked:"20m"===f,value:"20m",name:"role"},"20 minutes"),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){U(0,"1h")},checked:"1h"===f,value:"1h",name:"role"},"1 hour"),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){U(0,"3h")},checked:"3h"===f,value:"3h",name:"role"},"3 hours"),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){U(0,"tomorrow")},checked:"tomorrow"===f,value:"tomorrow",name:"role"},"Tomorrow"),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){U(0,"next_week")},checked:"next_week"===f,value:"next_week",name:"role"},"Next Week"),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){b("pick_data"),T(!0),k(!0)},checked:"pick_data"===f,value:"pick_data",name:"role"},"Pick date and time"),C&&c.a.createElement(lt.a,{minDate:l,onChange:function(e){e>new Date?(E(e),k(!0)):k(!1)},value:O,disableClock:!0})),!1===w&&c.a.createElement("div",null,"Date time is invalid. Please select new date time.")),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{disabled:!w,color:"primary",onClick:function(e){if(!L){if(F(!0),"pick_data"===f){var t=new Date;if(!(O>t))return void k(!1);k(!0)}var n={post_id:a.id,set_time:"pick_data"===f?ot.a.utc(new Date(O)).format("YYYY-MM-DD HH:mm:ss"):f};o(Object(gt.ub)(n,(function(e,t){if(F(!1),M(),!e){o(Object(gt.Hb)({post_id:a.id,topic_id:r}));var n="",i=new Date;switch(f){case"2m":i.setMinutes(i.getMinutes()+2),n="for 2 minutes.";break;case"20m":i.setMinutes(i.getMinutes()+20),n="for 20 minutes.";break;case"1h":i.setHours(i.getHours()+1),n="for an hour.";break;case"3h":i.setHours(i.getHours()+3),n="for 3 hours";break;case"tomorrow":i.setDate(i.getDate()+1),n="for a day";break;case"next_week":i.setDate(i.getDate()+7),n="for a a week";break;case"pick_data":n="until ".concat(ot()(new Date(O)).format("YYYY-MM-DD HH:mm"));break;default:n=f+""}s.success("You snoozed this ".concat(a.title," ").concat(n))}})))}}},L&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Snooze")," ",c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:M},"Cancel")))}));function mn(){var e=Object(h.a)([""]);return mn=function(){return e},e}function pn(){var e=Object(h.a)([""]);return pn=function(){return e},e}var fn=Object(E.a)(We.a)(pn()),bn=Object(E.a)(k.a)(mn()),hn=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.title,r=e.type,o=e.defaultValue,s=void 0===o?"":o,l=e.preInputLabel,d=void 0===l?"":l,m=e.label,p=void 0===m?"":m,f=e.postInputLabel,b=void 0===f?"":f,h=e.onPrimaryAction,_=e.onChange,O=e.onClose,E=void 0===O?function(){}:O,g=e.labelClose,v=void 0===g?"Close":g,j=e.labelPrimaryAction,C=void 0===j?"Save":j,T=Object(nn.a)(e,["className","title","type","defaultValue","preInputLabel","label","postInputLabel","onPrimaryAction","onChange","onClose","labelClose","labelPrimaryAction"]),y=Object(u.useDispatch)(),S={main:Object(i.useRef)(null),name:Object(i.useRef)(null)},w=Object(i.useState)(s),k=Object(A.a)(w,2),N=k[0],x=k[1],I=function(){y(Object(Qe.d)({type:r}))},P=Object(i.useRef)();return c.a.createElement(fn,Object.assign({ref:S.main,isOpen:!0,toggle:I,centered:!0,onOpened:function(){P&&P.current&&P.current.focus()},className:"single-input-modal ".concat(n)},T),c.a.createElement(sn,{toggle:I},a),c.a.createElement(Ye.a,null,""!==d&&c.a.createElement(Lt.a,{className:"modal-info mb-3"},d),c.a.createElement(bn,null,""!==p&&c.a.createElement(Lt.a,{className:"modal-label"},p),c.a.createElement(R.a,{innerRef:P,autoFocus:!0,defaultValue:s,onChange:function(e){x(e.target.value),_(e)}}),b)),c.a.createElement(ze.a,null,c.a.createElement("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){E(),I()}},v),c.a.createElement("button",{disabled:""===N.trim(),type:"button",className:"btn btn-primary",onClick:function(){h(),I()}},C)))}));function _n(){var e=Object(h.a)([""]);return _n=function(){return e},e}var On=Object(E.a)(We.a)(_n()),En=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.type,r=e.file,o=e.topic_id,s=e.folder_id,l=Object(nn.a)(e,["className","type","file","topic_id","folder_id"]),d=Object(u.useDispatch)(),m=Object(g.X)(),p=Object(u.useSelector)((function(e){return e.files.workspaceFiles})),f=Object(i.useState)(null),b=Object(A.a)(f,2),h=b[0],_=b[1],O=Object(i.useState)(!1),E=Object(A.a)(O,2),v=E[0],j=E[1],C=Object.values(p[o].folders).filter((function(e){return"undefined"===typeof e.payload&&((!s||e.id!==s)&&!e.is_archived)})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{id:e.id,label:e.search})})),T=function(){d(Object(Qe.d)({type:a}))},y=Object(g.S)().generalSettings.dark_mode;return c.a.createElement(On,Object.assign({isOpen:!0,toggle:T,centered:!0,className:"single-input-modal ".concat(n)},l),c.a.createElement(sn,{toggle:T},"Move the file"),c.a.createElement(Ye.a,null,c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("span",{className:"pr-1 mb-3"},"Move"),c.a.createElement("div",{className:"folder-name mb-3"},r.search),c.a.createElement("span",{className:"pl-1 mb-3"},"to:")),c.a.createElement(Lt.a,{className:"folder-name"},"Select a folder"),c.a.createElement(Vt.a,{styles:"0"===y?Qt.b:Qt.a,options:C,onChange:function(e){_(e)}})),c.a.createElement(ze.a,null,c.a.createElement("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){T()}},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){if(!v){if(j(!0),h){d(Object(Se.Bb)({file_id:r.id,topic_id:o,folder_id:h.id},(function(e,t){j(!1),e?m.success(c.a.createElement("div",null,"Failed to move ",c.a.createElement("b",null,r.search)," to folder ",c.a.createElement("strong",null,h.label))):m.success(c.a.createElement("div",null,c.a.createElement("strong",null,r.search)," has been moved to folder ",c.a.createElement("strong",null,h.label)))})))}T()}}},v&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Move File")))})),gn=(n(689),n(366)),An=n.n(gn);function vn(){var e=Object(h.a)(["\n  &.modal-dialog {\n    .modal-body {\n      padding: 0;\n\n      .cropper-view-box {\n        border-radius: 50%;\n      }\n    }\n  }\n"]);return vn=function(){return e},e}var jn,Cn,Tn=Object(E.a)(We.a)(vn()),yn=c.a.memo((function(e){var t=e.data,n=t.type,a=t.imageFile,r=t.handleSubmit,o=Object(u.useDispatch)(),s=Object(i.useState)(!0),l=Object(A.a)(s,2),d=l[0],m=l[1],p={cropper:Object(i.useRef)(null)},f=function(){m(!d),o(Object(Qe.d)({type:n}))};return c.a.createElement(Tn,{isOpen:d,toggle:f,size:"lg",centered:!0},c.a.createElement(sn,{toggle:f},"Crop Image"),c.a.createElement(Ye.a,{style:{padding:0}},c.a.createElement(An.a,{style:{height:window.innerHeight-300,width:"100%"},aspectRatio:1,guides:!1,src:URL.createObjectURL(a),ref:p.cropper})),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{color:"primary",onClick:function(){var e=p.cropper.current.getCroppedCanvas().toDataURL("image/jpeg",.5);r(function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,c=new Uint8Array(i);i--;)c[i]=r.charCodeAt(i);return new File([c],t,{type:a,lastModified:Date.now()})}(e,a.name),e),f()}},"Save"),c.a.createElement(Ve.a,{color:"secondary",onClick:f},"Discard")))})),Sn=E.a.span(jn||(jn=Object(h.a)(["\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n"]))),wn=c.a.memo((function(e){var t=e.data,n=t.submitText,a=void 0===n?"Submit":n,r=t.cancelText,o=void 0===r?"Cancel":r,s=t.onPrimaryAction,l=t.hasLastName,d=void 0!==l&&l,m=t.invitations,p=void 0===m?[]:m,f=t.type,b=t.fromRegister,h=Object(i.useState)(p),_=Object(A.a)(h,2),O=_[0],E=_[1],j=Object(i.useState)({valid:{},message:{}}),C=Object(A.a)(j,2),T=C[0],y=C[1],S=Object(g.cb)()._t,w=Object(u.useDispatch)(),k=Object(i.useState)(!0),N=Object(A.a)(k,2),R=N[0],x=N[1],I=Object(i.useState)(!1),P=Object(A.a)(I,2),L=P[0],F=P[1],M=Object(i.useState)(!1),U=Object(A.a)(M,2),G=(U[0],U[1]),H=Object(u.useSelector)((function(e){return e.session.user})),B={closeButton:S("BUTTON.CLOSE","Close"),availableToAdmin:S("TOOLTIP.AVAILABLE_TO_ADMIN","This option is only available for administrators"),userInvitations:S("LABEL.USER_INVITATIONS","User invitations"),firstName:S("INVITE.FIRST_NAME","First name"),lastName:S("INVITE.LAST_NAME","Last name"),email:S("INVITE.EMAIL","Email"),name:S("INVITE.NAME","Name")},W=function(e){e.persist();var t=e.currentTarget.dataset.id,n=e.currentTarget.name;E((function(a){return a[t][n]=e.target.value,a})),G((function(e){return!e}))},Y=function(e){E((function(e){return d?e.push({first_name:"",last_name:"",email:""}):e.push({name:"",email:""}),e})),G((function(e){return!e}))},z=function(e){var t=e.currentTarget.dataset.id;E((function(e){return e.splice(t,1),e})),G((function(e){return!e}))},V=function(e){E((function(t){return t.splice(e,1),t}))},Q=function(){x(!R),w(Object(Qe.d)({type:f}))};return Object(i.useEffect)((function(){for(var e=function(e){var t={};t=d?{first_name:"",last_name:"",email:""}:{name:"",email:""},E((function(e){return[].concat(Object(_t.a)(e),[t])}))},t=O.length;t<3;t++)e()}),[]),c.a.createElement(We.a,{isOpen:R,toggle:Q,size:"lg",centered:!0},c.a.createElement(sn,{toggle:Q,className:"invited-users-modal"},B.userInvitations),(b||"owner"===H.role.name||"admin"===H.role.name)&&c.a.createElement(Ye.a,null,c.a.createElement("table",{className:"table table-responsive"},c.a.createElement("tr",null,d?c.a.createElement(c.a.Fragment,null,c.a.createElement("th",null,B.firstName),c.a.createElement("th",null,B.lastName)):c.a.createElement("th",null,B.name),c.a.createElement("th",null,B.email),c.a.createElement("th",null,c.a.createElement(v.s,{className:"cursor-pointer",icon:"circle-plus",onClick:Y}))),O.map((function(e,t){return c.a.createElement("tr",{key:t},d?c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,c.a.createElement(D.e,{"data-id":t,placeholder:B.firstName,name:"first_name",value:e.first_name,isValid:T.valid[t]?T.valid[t].first_name:null,feedback:T.message[t]?T.message[t].first_name:null,onChange:W})),c.a.createElement("td",null,c.a.createElement(D.e,{"data-id":t,placeholder:B.lastName,name:"last_name",value:e.last_name,isValid:T.valid[t]?T.valid[t].last_name:null,feedback:T.message[t]?T.message[t].last_name:null,onChange:W}))):c.a.createElement("td",null,c.a.createElement(D.e,{"data-id":t,placeholder:B.name,name:"name",value:e.name,isValid:T.valid[t]?T.valid[t].name:null,feedback:T.message[t]?T.message[t].name:null,onChange:W})),c.a.createElement("td",null,c.a.createElement(D.e,{"data-id":t,placeholder:B.email,name:"email",value:e.email,type:"email",isValid:T.valid[t]?T.valid[t].email:null,feedback:T.message[t]?T.message[t].email:null,onChange:W})),c.a.createElement("td",null,c.a.createElement(v.s,{"data-id":t,className:"cursor-pointer",icon:"x",onClick:z})))})),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(Sn,{onClick:Y},c.a.createElement(v.s,{icon:"plus"})," ",c.a.createElement("span",null,"Add another")))))),!b&&!("owner"===H.role.name||"admin"===H.role.name)&&c.a.createElement(Ye.a,null,c.a.createElement("div",null,B.availableToAdmin)),(b||"owner"===H.role.name||"admin"===H.role.name)&&c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{color:"primary",onClick:function(){(function(){for(var e=!0,t={},n={},a=0;a<O.length;a++)d?""===O[a].first_name&&""===O[a].last_name&&""===O[a].email||("undefined"===typeof t[a]&&(t[a]={},n[a]={}),""===O[a].first_name?(t[a].first_name=!1,n[a].first_name="First name is required.",e=!1):t[a].first_name=!0,""===O[a].last_name?(t[a].last_name=!1,n[a].last_name="Last name is required.",e=!1):t[a].last_name=!0,""===O[a].email?(t[a].email=!1,n[a].email="Email is required.",e=!1):Bt.a.test(O[a].email)?t[a].email=!0:(t[a].email=!1,n[a].email="Email is invalid format.",e=!1)):""===O[a].name&&""===O[a].email||("undefined"===typeof t[a]&&(t[a]={},n[a]={}),""===O[a].name?(t[a].name=!1,n[a].name="Name is required.",e=!1):t[a].name=!0,""===O[a].email?(t[a].email=!1,n[a].email="Email is required.",e=!1):Bt.a.test(O[a].email)?t[a].email=!0:(t[a].email=!1,n[a].email="Email is invalid format.",e=!1));return y({valid:t,message:n}),e})()&&!L&&(F(!0),s(d?O.filter((function(e,t){return""!==e.first_name&&""!==e.last_name&&""!==e.email})):O.filter((function(e,t){return""!==e.name&&""!==e.email})),(function(){F(!1)}),{closeModal:Q,deleteItemByIndex:V,invitationItems:O}))}},L&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),a)," ",c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:Q},o)),!b&&!("owner"===H.role.name||"admin"===H.role.name)&&c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:Q},B.closeButton)))})),kn=Object(E.a)(N.a)(Cn||(Cn=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  label {\n    white-space: nowrap;\n    margin: 0 20px 0 0;\n    min-width: 125px;\n  }\n\n  .form-group {\n    width: calc(100% - 145px);\n  }\n\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.action-wrapper {\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n      display: flex;\n      width: 100%;\n\n      .btn-archive {\n        display: flex;\n        margin-left: auto;\n        text-decoration: underline;\n        color: #a7abc3;\n      }\n    }\n  }\n"]))),Nn=c.a.memo((function(e){var t=e.data,n=t.type,a=t.mode,r=t.item,o=void 0===r?null:r,s=t.actions,l=Object(g.p)(),d=Object(g.cb)()._t,m={linkCreateTitle:d("SHORTCUT.LINK_CREATE_TITLE","Add shortcut"),linkUpdateTitle:d("SHORTCUT.LINK_UPDATE_TITLE","Update shortcut"),linkRemoveTitle:d("SHORTCUT.LINK_REMOVE_TITLE","Remove shortcut"),createLink:d("SHORTCUT.CREATE_LINK","Add"),updateLink:d("SHORTCUT.UPDATE_LINK","Update"),removeLink:d("SHORTCUT.REMOVE_LINK","Remove"),name:d("SHORTCUT.NAME","Name"),webAddress:d("SHORTCUT.WEB_ADDRESS","Web address"),remove:d("SHORTCUT.REMOVE","Remove"),cancel:d("SHORTCUT.CANCEL","Cancel")};o&&(m=Object(S.a)(Object(S.a)({},m),{},{removeLinkBodyText:d("SHORTCUT.REMOVE_LINK_BODY_TEXT","Are you sure to remove ::name::?",{name:'<a href="'.concat(o.web_address,'" target="_blank">').concat(o.name,"</a>")})}));var p=Object(i.useRef)(),f=Object(u.useDispatch)(),b=Object(i.useState)(!0),h=Object(A.a)(b,2),_=h[0],O=h[1],E=Object(i.useState)({name:"",web_address:""}),v=Object(A.a)(E,2),j=v[0],C=v[1],T=Object(i.useState)(!1),w=Object(A.a)(T,2),k=w[0],N=w[1],R=Object(i.useState)({valid:{},message:{}}),x=Object(A.a)(R,2),I=x[0],P=x[1],L=function(e){e.persist(),C((function(t){return Object(S.a)(Object(S.a)({},t),{},Object(y.a)({},e.target.name,e.target.value))})),P((function(t){return Object(S.a)(Object(S.a)({},t),{},{valid:Object(S.a)(Object(S.a)({},t.valid),{},Object(y.a)({},e.target.name,void 0)),message:Object(S.a)(Object(S.a)({},t.message),{},Object(y.a)({},e.target.name,void 0))})}))},F=function(){O(!_),f(Object(Qe.d)({type:n}))};Object(i.useEffect)((function(){"edit"===a&&C(Object(S.a)(Object(S.a)({},j),{},{name:o.name,web_address:o.web_address,index:o.index}))}),[]);return c.a.createElement(We.a,{isOpen:_,toggle:F,size:"lg",onOpened:function(){p&&p.current&&p.current.focus()},centered:!0},c.a.createElement(sn,{toggle:F,className:"workspace-folder-header"},"edit"===a?m.linkUpdateTitle:m.linkCreateTitle),c.a.createElement(Ye.a,null,c.a.createElement(kn,null,c.a.createElement("div",null,c.a.createElement(Lt.a,{for:"folder"},m.webAddress)),c.a.createElement(D.e,{name:"web_address",defaultValue:j.web_address,placeholder:"e.g. ".concat(l.getBaseUrl()),onChange:L,isValid:I.valid.web_address,feedback:I.message.web_address})),c.a.createElement(kn,null,c.a.createElement("div",null,c.a.createElement(Lt.a,{for:"folder"},m.name)),c.a.createElement(D.e,{name:"name",defaultValue:j.name,placeholder:"e.g. ".concat(l.getName()," Driff website"),onChange:L,isValid:I.valid.name,feedback:I.message.name})),c.a.createElement(kn,{className:"action-wrapper",style:{marginTop:"40px"}},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){if(function(){var e={},t={};return""===j.name?(e.name=!1,t.name="Name is required."):e.name=!0,""===j.web_address?(e.web_address=!1,t.web_address="Link is required."):e.web_address=!0,P({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}()&&!k)switch(N(!0),a){case"create":s.create(j,(function(){N(!1),F()}));break;case"edit":s.update(j,(function(){N(!1),F()}))}}},k&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===a?m.updateLink:m.createLink),"edit"===a&&c.a.createElement("div",{className:"action-archive-wrapper"},c.a.createElement("span",{onClick:function(){s.delete(j,{dictionary:m,callback:function(){F()}})},className:"btn-archive text-link mt-2 cursor-pointer"},m.removeLink)))))}));function Rn(){var e=Object(h.a)([""]);return Rn=function(){return e},e}var xn,In,Pn,Dn,Ln,Fn,Mn,Un,Gn,Hn,Bn,Wn,Yn,zn,Vn,Qn,qn,Kn,Jn,Zn,Xn=Object(E.a)(We.a)(Rn()),$n=c.a.memo((function(e){var t=e.data,n=t.className,a=void 0===n?"":n,r=t.type,o=t.file,s=t.folder_id,l=t.dictionary,d=t.actions,m=Object(g.j)().folders,p=Object(u.useDispatch)(),f=Object(i.useState)(null),b=Object(A.a)(f,2),h=b[0],_=b[1],O=Object(i.useState)(!1),E=Object(A.a)(O,2),v=E[0],j=E[1],C=function(){p(Object(Qe.d)({type:r}))},T=Object.values(m).filter((function(e){return"undefined"===typeof e.payload&&((!s||e.id!==s)&&!e.is_archived)})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{id:e.id,label:e.search})})),y=Object(g.S)().generalSettings.dark_mode;return c.a.createElement(Xn,{isOpen:!0,toggle:C,centered:!0,className:"single-input-modal ".concat(a)},c.a.createElement(sn,{toggle:C},l.headerText),c.a.createElement(Ye.a,null,c.a.createElement("div",null,l.bodyText),c.a.createElement(Vt.a,{styles:"0"===y?Qt.b:Qt.a,options:T,onChange:function(e){_(e)}})),c.a.createElement(ze.a,null,c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){v||null===h||(j(!0),d.onSubmit({name:o.search,file_id:o.id,folder_id:h.id},(function(){j(!1),C()}),{selectedFolder:h.label}))}},v&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),l.submitText),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){C()}},l.cancelText)))})),ea=Object(E.a)(We.a)(xn||(xn=Object(h.a)(["\n  .invalid-feedback {\n    display: block;\n  }\n  .modal-body {\n    padding-bottom: 0 !important;\n  }\n  .file-attachments-container {\n    display: inline-flex;\n  }\n"]))),ta=E.a.div(In||(In=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]))),na=Object(E.a)(D.f)(Pn||(Pn=Object(h.a)(["\n  display: block;\n"]))),aa=E.a.div(Dn||(Dn=Object(h.a)(["\n  z-index: 3;\n"]))),ra=E.a.div(Ln||(Ln=Object(h.a)(["\n  z-index: 2;\n"]))),ia=E.a.div(Fn||(Fn=Object(h.a)(["\n  z-index: 1;\n"]))),ca=Object(E.a)(D.c)(Mn||(Mn=Object(h.a)(["\n  .description-input {\n    height: ","px;\n    max-height: 400px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n"])),(function(e){return e.height>80?e.height:80})),oa=c.a.memo((function(e){var t=e.data,n=t.type,a=t.item,r=t.parentItem,o=void 0===r?null:r,s=t.itemType,l=void 0===s?null:s,d=t.actions,m=t.params,p=t.mode,f=void 0===p?"create":p,b=Object(g.S)().generalSettings,h=b.date_picker_format,_=b.time_picker_format,O=b.language,E=Object(g.cb)()._t,j=Object(u.useDispatch)(),C=Object(g.X)(),T=Object(g.ib)(),w=Object(u.useSelector)((function(e){return e.session.user})),k=Object(u.useSelector)((function(e){return e.users.users})),R=Object(u.useSelector)((function(e){return e.workspaces.workspaces})),x=Object(u.useSelector)((function(e){return e.workspaces.workspacesLoaded})),I=Object(i.useState)(0),P=Object(A.a)(I,2),L=P[0],F=P[1],M=Object(i.useState)(!1),U=Object(A.a)(M,2),G=U[0],H=U[1],B=Object(i.useState)({title:{value:"POST"===l?a.title:o?o.title:""},description:{value:a&&a.body?a.body:""},set_time:{value:"1h"},topic_id:{value:null},assigned_to:{value:null}}),W=Object(A.a)(B,2),Y=W[0],z=W[1],V=a&&a.remind_at&&Math.round(+new Date/1e3)>a.remind_at.timestamp?ot.a.unix(a.remind_at.timestamp).toDate():ot()().add(1,"m").toDate(),Q=Object(i.useState)(a&&a.remind_at?"pick_data":""),q=Object(A.a)(Q,2),K=q[0],J=q[1],Z=Object(i.useState)(a&&a.remind_at?ot.a.unix(a.remind_at.timestamp).toDate():ot()().add(20,"m").toDate()),X=Object(A.a)(Z,2),$=X[0],ee=X[1],te=Object(i.useState)(!(!a||!a.remind_at)||null),ne=Object(A.a)(te,2),ae=ne[0],re=ne[1],ie=Object(i.useState)(!0),ce=Object(A.a)(ie,2),oe=ce[0],se=ce[1],le=Object(i.useState)(!1),de=Object(A.a)(le,2),ue=de[0],me=de[1],pe=Object(i.useState)([]),fe=Object(A.a)(pe,2),be=fe[0],he=fe[1],_e=Object(i.useState)(null),Oe=Object(A.a)(_e,2),Ee=Oe[0],ge=Oe[1],Ae=Object(i.useState)([]),ve=Object(A.a)(Ae,2),je=ve[0],Ce=ve[1],Te=Object(i.useState)(null),ye=Object(A.a)(Te,2),Se=ye[0],we=ye[1],ke=Object(i.useState)(""),Ne=Object(A.a)(ke,2),Re=Ne[0],xe=Ne[1],Ie=Object(i.useState)(!1),Pe=Object(A.a)(Ie,2),De=Pe[0],Le=Pe[1],Fe=Object(i.useState)([]),Me=Object(A.a)(Fe,2),Ue=Me[0],Ge=Me[1],He=Object(i.useState)([]),Be=Object(A.a)(He,2),We=Be[0],qe=Be[1],Ke=Object(i.useState)([]),Je=Object(A.a)(Ke,2),Ze=Je[0],Xe=Je[1],$e=Object(i.useState)(!1),et=Object(A.a)($e,2),tt=et[0],nt=et[1],at=Object(i.useState)([]),rt=Object(A.a)(at,2),it=rt[0],ct=rt[1],st=Object(i.useState)(null),dt=Object(A.a)(st,2),mt=dt[0],pt=dt[1],ft=Object(i.useRef)(null),Et=Object(i.useRef)(0),gt=function(){Ce(Object.values(k).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))};Object(i.useEffect)((function(){if(x&&De){if(!l&&m&&R[m.workspaceId]){var e=Object(S.a)({},R[m.workspaceId]);ge(Object(S.a)(Object(S.a)({},e),{},{icon:"compass",value:e.id,label:e.name})),z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:e.id}})),Ce(e.members.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}if(l&&o&&"CHAT"===l&&"TOPIC"===o.type&&R[o.entity_id]){var t=Object(S.a)({},R[o.entity_id]);ge(Object(S.a)(Object(S.a)({},t),{},{icon:"compass",value:t.id,label:t.name})),z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:t.id}})),Ce(t.members.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}if(l&&"POST"===l&&"create"===f){var n=a.recipients.find((function(e){return"TOPIC"===e.type}));if(n){var r=Object(S.a)({},R[n.id]);ge(Object(S.a)(Object(S.a)({},r),{},{icon:"compass",value:r.id,label:r.name})),z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:r.id}})),Ce(r.members.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}}if(l&&"POST_COMMENT"===l&&o&&"create"===f){var i=o.recipients.find((function(e){return"TOPIC"===e.type}));if(i){var c=Object(S.a)({},R[i.id]);ge(Object(S.a)(Object(S.a)({},c),{},{icon:"compass",value:c.id,label:c.name})),z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:c.id}})),Ce(c.members.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}}he(Object.values(R).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"compass",value:e.id,label:e.name})})))}}),[De,x,m]),Object(i.useEffect)((function(){if("edit"===f&&a&&a.workspace&&R[a.workspace.id]){var e=Object(S.a)({},R[a.workspace.id]);ge(Object(S.a)(Object(S.a)({},e),{},{icon:"compass",value:e.id,label:e.name})),Ce(e.members.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:e.id},assigned_to:{value:a.assigned_to?a.assigned_to.id:null}})),a.assigned_to&&we(Object(S.a)(Object(S.a)({},a.assigned_to),{},{icon:"user-avatar",value:a.assigned_to.id,label:a.assigned_to.name?a.assigned_to.name:a.assigned_to.email,type:"USER"}))}else"edit"===f&&a&&!a.workspace?(z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:null},assigned_to:{value:a.assigned_to?a.assigned_to.id:null}})),a.assigned_to&&we(Object(S.a)(Object(S.a)({},a.assigned_to),{},{icon:"user-avatar",value:a.assigned_to.id,label:a.assigned_to.name?a.assigned_to.name:a.assigned_to.email,type:"USER"})),gt()):gt();"edit"===f&&a&&a.files.length&&qe(a.files.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{id:e.file_id})}))),Le(!0)}),[]);var At={title:Object(i.useRef)(null),dropzone:Object(i.useRef)(null)},vt={author:E("REMINDER.AUTHOR","Author"),title:E("REMINDER.TITLE","Title"),description:E("REMINDER.DESCRIPTION","Description"),remindMeOn:E("REMINDER.REMIND_ME_ON","Remind me in"),message:E("REMINDER.MESSAGE","Message"),oneHour:E("REMINDER.ONE_HOUR","1 hour"),threeHours:E("REMINDER.THREE_HOURS","3 hours"),tomorrow:E("REMINDER.TOMORROW","Tomorrow"),pickDateTime:E("REMINDER.PICK_DATE_TIME","Pick date and time"),cancel:E("REMINDER.CANCEL","Cancel"),feedbackReminderDateFuture:E("FEEDBACK.REMINDER_DATE_MUST_BE_FUTURE","Reminder date must be in the future."),feedbackReminderDateOverdue:E("FEEDBACK.REMINDER_DATE_OVERDUE","Note: Reminder date is overdue."),reminderInfo:E("REMINDER.INFO","Reminders help to organize your thoughts and guide you through your day."),snooze:E("REMINDER.REMIND","Remind"),workspaceLabel:E("LABEL.WORKSPACE","Workspace"),assignedToLabel:E("LABEL.ASSIGN_TO","Assign to"),fileAttachments:E("POST.FILE_ATTACHMENTS","File attachments"),uploadingAndSending:E("TOASTER.CREATING_TODO_WITH_FILE","Uploading file and creating reminder"),unsuccessful:E("FILE_UNSUCCESSFULL","Upload File Unsuccessful")};vt.chatReminder="edit"===f?E("TODO.EDIT","Edit todo"):E("TODO.NEW","New todo");var jt=function(){se(!oe),j(Object(Qe.d)({type:n}))},Ct=function(e){var t=e.currentTarget,n=t.name,a=t.value;z((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(y.a)({},n,Object(S.a)(Object(S.a)({},e[n]),{},{value:a})))}))},Tt=function(e,t,n,a){(""!==a.getText(e).trim()||it.length>0)&&z((function(t){return Object(S.a)(Object(S.a)({},t),{},{description:Object(S.a)(Object(S.a)({},t.description),{},{value:e})})}))},yt=function(e,t){re(!1),J(K===t?"":t)},St=function(e){e&&!ue&&(At.title.current=e,setTimeout((function(){At.title.current.focus(),me(!0)}),500))},wt=function(e){ge(e),e?(z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:e.id},assigned_to:{value:Se&&e.member_ids.some((function(e){return Se.id!==e}))?null:Y.assigned_to.value}})),Ce(e.members.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),Se&&e.member_ids.some((function(e){return Se.id!==e}))&&we(null)):(z(Object(S.a)(Object(S.a)({},Y),{},{topic_id:{value:null},assigned_to:{value:null}})),gt(),we(null))},kt=function(e){we(e),z(e?Object(S.a)(Object(S.a)({},Y),{},{assigned_to:{value:e.id}}):Object(S.a)(Object(S.a)({},Y),{},{assigned_to:{value:null}}))},Nt=function(e){xe(e)},Rt=function(){At.dropzone.current&&At.dropzone.current.open()},xt=function(){nt(!1)},It=function(e){We.some((function(t){return t.id===parseInt(e)}))&&Xe([].concat(Object(_t.a)(We.filter((function(t){return t.id===parseInt(e)}))),Object(_t.a)(Ze))),qe((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),Ge((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))},Pt=function(e){var t=e.loaded/e.total;null===ft.current?ft.current=C.info(c.a.createElement("div",null,vt.uploadingAndSending,"."),{progress:Et.current,autoClose:!0}):C.update(ft.current,{progress:t,autoClose:!0})},Dt=function(){setTimeout((function(){ft.curent&&C.dismiss(ft.current)}),500)},Lt=function(){null!==ft.curent&&(H(!1),Dt(),C.error(c.a.createElement("div",null,vt.unsuccessful,".")),ft.current=null)};function Mt(){return(Mt=Object(ht.a)(bt.a.mark((function e(t){var n,a,r=arguments;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:"create",n=new FormData,a={user_id:w.id,file_type:"private",folder_id:null,fileOption:null,options:{config:{onUploadProgress:Pt}}},Ue.map((function(e,t){return n.append("files[".concat(t,"]"),e.bodyFormData.get("file"))})),a.files=n,e.next=7,new Promise((function(e,t){return e(Object(Ot.C)(a))})).then((function(e){t=Object(S.a)(Object(S.a)({},t),{},{file_ids:[].concat(Object(_t.a)(e.data.map((function(e){return e.id}))),Object(_t.a)(t.file_ids))}),d.onSubmit(t,Dt)})).catch((function(e){Lt()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement(ea,{isOpen:oe,toggle:jt,size:"lg",className:"todo-reminder-modal",centered:!0},c.a.createElement(sn,{toggle:jt},vt.chatReminder),c.a.createElement(Ye.a,{"data-set-update":L,onDragOver:function(){tt||nt(!0)}},c.a.createElement(Ft.a,{hide:!tt,ref:At.dropzone,onDragLeave:xt,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var a=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,bodyFormData:n,type:"IMAGE",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:w}):"video/mp4"===e.type?t.push({rawFile:e,bodyFormData:n,type:"VIDEO",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:w}):t.push({rawFile:e,bodyFormData:n,type:"DOC",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:w})})),Ge((function(e){return[].concat(Object(_t.a)(e),t)})),xt()}(e.acceptedFiles)},onCancel:xt,attachedFiles:Ue}),null===l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"col-12 modal-info"},vt.reminderInfo),c.a.createElement("div",{className:"col-12 modal-label"},vt.title),c.a.createElement("div",{className:"col-12"},c.a.createElement(D.e,{innerRef:St,name:"title",defaultValue:Y.title.value,placeholder:vt.title,onChange:Ct,isValid:Y.title.valid,feedback:Y.title.feedback,autoFocus:!0})),c.a.createElement("div",{className:"col-12"},c.a.createElement(ca,{className:"modal-description",height:T.height-660,defaultValue:Y.description.value,showFileButton:!0,onChange:Tt,onOpenFileDialog:Rt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:ct,setImageLoading:pt})),(Ue.length>0||We.length>0)&&c.a.createElement("div",{className:"col-12"},c.a.createElement("div",null,c.a.createElement("label",{className:"modal-label",for:"workspace"},vt.fileAttachments)),c.a.createElement("div",{className:"file-attachments-container"},c.a.createElement(v.h,{attachedFiles:[].concat(Object(_t.a)(Ue),Object(_t.a)(We)),handleRemoveFile:It})))),c.a.createElement("div",{className:"column clearfix"},c.a.createElement("div",{className:"col-lg-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.workspaceLabel),c.a.createElement(aa,{className:"mb-2"},c.a.createElement(D.d,{options:be,value:Ee,onChange:wt,isMulti:!1,isClearable:!0}))),c.a.createElement("div",{className:"col-lg-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.assignedToLabel),c.a.createElement(ra,{className:"mb-2"},c.a.createElement(D.h,{options:je,value:Se,inputValue:Re,onChange:kt,onInputChange:Nt,isMulti:!1,isClearable:!0,isSearchable:!0}))))),"POST"===l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"col-12 modal-info"},vt.reminderInfo),c.a.createElement("div",{className:"col-12 modal-label"},vt.author),c.a.createElement("div",{className:"col-12 mb-3"},a.author.name),c.a.createElement("div",{className:"col-12 modal-label"},vt.title),c.a.createElement("div",{className:"col-12"},c.a.createElement(D.e,{innerRef:St,name:"title",defaultValue:Y.title.value,placeholder:vt.title,onChange:Ct,isValid:Y.title.valid,feedback:Y.title.feedback,autoFocus:!0})),c.a.createElement("div",{className:"col-12"},c.a.createElement(ca,{className:"modal-description",height:T.height-660,defaultValue:Y.description.value,showFileButton:!0,onChange:Tt,onOpenFileDialog:Rt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:ct,setImageLoading:pt})),(Ue.length>0||We.length>0)&&c.a.createElement("div",{className:"col-12"},c.a.createElement("div",null,c.a.createElement("label",{className:"modal-label",for:"workspace"},vt.fileAttachments)),c.a.createElement("div",{className:"file-attachments-container"},c.a.createElement(v.h,{attachedFiles:[].concat(Object(_t.a)(Ue),Object(_t.a)(We)),handleRemoveFile:It}))),c.a.createElement("div",{className:"column clearfix"},c.a.createElement("div",{className:"col-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.workspaceLabel),c.a.createElement(aa,{className:" mb-2"},c.a.createElement(D.d,{options:be,value:Ee,onChange:wt,isMulti:!1,isClearable:!0}))),c.a.createElement("div",{className:"col-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.assignedToLabel),c.a.createElement(ra,{className:"mb-2"},c.a.createElement(D.h,{options:je,value:Se,inputValue:Re,onChange:kt,onInputChange:Nt,isMulti:!1,isClearable:!0,isSearchable:!0})))))),"CHAT"===l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"col-12 modal-info"},vt.reminderInfo),c.a.createElement("div",{className:"col-12 modal-label"},vt.author),c.a.createElement("div",{className:"col-12 mb-3"},a.user?a.user.name:"System"),c.a.createElement("div",{className:"col-12 modal-label"},vt.title),c.a.createElement("div",{className:"col-12"},c.a.createElement(D.e,{innerRef:St,name:"title",defaultValue:Y.title.value,placeholder:vt.title,onChange:Ct,isValid:Y.title.valid,feedback:Y.title.feedback,autoFocus:!0})),c.a.createElement("div",{className:"col-12"},c.a.createElement(ca,{className:"modal-description",height:T.height-660,defaultValue:Y.description.value,showFileButton:!0,onChange:Tt,onOpenFileDialog:Rt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:ct,setImageLoading:pt})),(Ue.length>0||We.length>0)&&c.a.createElement("div",{className:"col-12"},c.a.createElement("div",null,c.a.createElement("label",{className:"modal-label",for:"workspace"},vt.fileAttachments)),c.a.createElement("div",{className:"file-attachments-container"},c.a.createElement(v.h,{attachedFiles:[].concat(Object(_t.a)(Ue),Object(_t.a)(We)),handleRemoveFile:It})))),c.a.createElement("div",{className:"column clearfix"},c.a.createElement("div",{className:"col-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.workspaceLabel),c.a.createElement(aa,{className:"mb-2"},c.a.createElement(D.d,{options:be,value:Ee,onChange:wt,isMulti:!1,isClearable:!0}))),c.a.createElement("div",{className:"col-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.assignedToLabel),c.a.createElement(ra,{className:"mb-2"},c.a.createElement(D.h,{options:je,value:Se,inputValue:Re,onChange:kt,onInputChange:Nt,isMulti:!1,isClearable:!0,isSearchable:!0}))))),"POST_COMMENT"===l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"col-12 modal-info"},vt.reminderInfo),c.a.createElement("div",{className:"col-12 modal-label"},vt.author),c.a.createElement("div",{className:"col-12 mb-3"},a.author.name),c.a.createElement("div",{className:"col-12 modal-label"},vt.title),c.a.createElement("div",{className:"col-12"},c.a.createElement(D.e,{innerRef:St,name:"title",defaultValue:Y.title.value,placeholder:vt.title,onChange:Ct,isValid:Y.title.valid,feedback:Y.title.feedback,autoFocus:!0})),c.a.createElement("div",{className:"col-12"},c.a.createElement(ca,{className:"modal-description",height:T.height-660,defaultValue:Y.description.value,showFileButton:!0,onChange:Tt,onOpenFileDialog:Rt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:ct,setImageLoading:pt})),(Ue.length>0||We.length>0)&&c.a.createElement("div",{className:"col-12"},c.a.createElement("div",null,c.a.createElement("label",{className:"modal-label",for:"workspace"},vt.fileAttachments)),c.a.createElement("div",{className:"file-attachments-container"},c.a.createElement(v.h,{attachedFiles:[].concat(Object(_t.a)(Ue),Object(_t.a)(We)),handleRemoveFile:It})))),c.a.createElement("div",{className:"column clearfix"},c.a.createElement("div",{className:"col-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.workspaceLabel),c.a.createElement(aa,{className:"mb-2"},c.a.createElement(D.d,{options:be,value:Ee,onChange:wt,isMulti:!1,isClearable:!0}))),c.a.createElement("div",{className:"col-6 float-left"},c.a.createElement("div",{className:"modal-label"},vt.assignedToLabel),c.a.createElement(ra,{className:"mb-2"},c.a.createElement(D.h,{options:je,value:Se,inputValue:Re,onChange:kt,onInputChange:Nt,isMulti:!1,isClearable:!0,isSearchable:!0}))))),c.a.createElement(ia,{className:"column mt-2"},c.a.createElement("div",{className:"col-12 col-lg-4 modal-label mb-1"},vt.remindMeOn),c.a.createElement("div",{className:"col-12 mb-3"},c.a.createElement(ta,null,c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){yt(0,"1h")},checked:"1h"===K,value:"1h",name:"role"},vt.oneHour),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){yt(0,"3h")},checked:"3h"===K,value:"3h",name:"role"},vt.threeHours),c.a.createElement(ut.a,{readOnly:!0,onClick:function(e){yt(0,"tomorrow")},checked:"tomorrow"===K,value:"tomorrow",name:"role"},vt.tomorrow),c.a.createElement(ut.a,{readOnly:!0,onClick:function(){J("pick_data"),re(!0)},checked:"pick_data"===K,value:"pick_data",name:"role"},vt.pickDateTime),ae&&c.a.createElement(N.a,null,c.a.createElement(lt.a,{minDate:V,onChange:function(e){ee(e)},value:$,locale:O,format:"".concat(h," ").concat(_),disableClock:!0}),c.a.createElement(na,{valid:Y.set_time.valid},Y.set_time.feedback)))))),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:jt},vt.cancel),c.a.createElement(Ve.a,{color:"primary",onClick:function(){if(!G&&function(){var e=Object(S.a)({},Y);if(""===Y.title.value.trim()?(e.title.valid=!1,e.title.feedback="Title is required."):(e.title.value=Y.title.value.trim(),e.title.valid=!0,e.title.feedback=null),"pick_data"===K){var t=new Date,n=new Date($);if(n>t){var a=ot.a.utc(n).format("YYYY-MM-DD HH:mm:ss");e.set_time.value=a.slice(0,-2)+"00",e.set_time.valid=!0,e.set_time.feedback=null}else if($.getTime()===n.getTime()){var r=ot.a.utc(n).format("YYYY-MM-DD HH:mm:ss");e.set_time.value=r.slice(0,-2)+"00",e.set_time.valid=!0,e.set_time.feedback=vt.feedbackReminderDateOverdue}else e.set_time.valid=!1,e.set_time.feedback=vt.feedbackReminderDateFuture}else e.set_time.value=K,e.set_time.valid=!0;return z(e),F((function(e){return e?0:1})),!Object.keys(e).map((function(t){return e[t].valid})).some((function(e){return!1===e}))}()&&!mt){H(!0);var e={};Object.keys(Y).forEach((function(t){"set_time"===t?""!==Y[t].value&&(e[t]=Y[t].value):Y[t].value&&(e[t]=Y[t].value)})),e=Object(S.a)(Object(S.a)({},e),{},{file_ids:[].concat(Object(_t.a)(it.map((function(e){return e.id}))),Object(_t.a)(We.map((function(e){return e.id})))),remove_file_ids:Ze.map((function(e){return e.id}))}),Ue.length>0?(!function(e){Mt.apply(this,arguments)}(e),jt()):(d.onSubmit(e,(function(e,t){})),H(!1),jt())}},disabled:mt||""===Y.title.value},G&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),vt.snooze)," "))})),sa=E.a.div(Un||(Un=Object(h.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  place-content: center;\n  .feather {\n    cursor: pointer;\n  }\n  position: fixed;\n  top: 0;\n  z-index: 1000;\n\n  .button-notification {\n    background: #8c48ae;\n    border: none;\n    padding: 0 1rem;\n    margin: 0 6px;\n  }\n"]))),la=c.a.memo((function(e){var t=e.data,n=t.type,a=t.requirement,r=t.handleReminder,o=Object(g.eb)(),s=o.logout,l=o.processBackendLogout,d=Object(u.useDispatch)(),m=Object(g.cb)()._t,p={update:m("DRIFF.DRIFF_VERSION_UPDATE","Go!"),remindMeAboutThis:m("DRIFF.REMIND_ME_ABOUT_THIS","Not right now"),updateReload:m("DRIFF.UPDATE_BODY_RELOAD","\ud83c\udf89  Driff is updated. Reload now?"),updateLogout:m("DRIFF.UPDATE_BODY_LOGOUT","\ud83c\udf89 Driff is updated. Logout now?")},f=Object(i.useState)(!0),b=Object(A.a)(f,2),h=b[0],_=b[1],O=function(){_(!h),d(Object(Qe.d)({type:n}))};return Object(i.useEffect)((function(){var e=setInterval((function(){var t=document.querySelector(".modal-backdrop");t&&t.classList.contains("show")&&(t.classList.remove("show"),clearInterval(e))}),100)}),[]),c.a.createElement(sa,{isOpen:h,toggle:O,size:"m",centered:!0},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:function(){switch(a){case"logout":return p.updateLogout;default:return p.updateReload}}()}}),c.a.createElement(Ve.a,{className:"button-notification",onClick:function(){switch(O(),a){case"logout":s(l()());break;default:window.location.reload()}}},p.update)," ",c.a.createElement(v.s,{className:"ml-3 align-self-center",icon:"x",onClick:function(){O(),r()}}))})),da=Object(E.a)(We.a)(Gn||(Gn=Object(h.a)(["\n  .modal-footer {\n    justify-content: space-between;\n  }\n  .margin-left-auto {\n    margin-left: auto;\n  }\n"]))),ua=Object(E.a)(D.i)(Hn||(Hn=Object(h.a)(["\n  width: 100%;\n  min-height: 300px;\n  max-height: 600px;\n  border-radius: 6px;\n  border: 1px solid #e1e1e1;\n\n  &.description-input {\n    overflow: auto;\n    overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: -25px;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n  }\n  .ql-container {\n    border: none;\n    max-height: inherit;\n  }\n  .ql-editor {\n    padding: 5px;\n    max-height: inherit;\n  }\n"]))),ma=E.a.div(Bn||(Bn=Object(h.a)(["\n  text-align: right;\n"]))),pa=c.a.memo((function(e){var t=e.data,n=t.type,a=t.item,r=Object(u.useDispatch)(),o=Object(i.useState)(!0),s=Object(A.a)(o,2),l=s[0],d=s[1],m=Object(i.useState)({title:"",description:"",textOnly:"",major_release:!1}),p=Object(A.a)(m,2),f=p[0],b=p[1],h=Object(i.useState)(!1),_=Object(A.a)(h,2),O=_[0],E=(_[1],Object(i.useState)(!1)),v=Object(A.a)(E,2),j=v[0],C=v[1],T=Object(i.useState)(!1),y=Object(A.a)(T,2),w=y[0],k=y[1],N=Object(i.useState)(!1),R=Object(A.a)(N,2),x=R[0],I=R[1],P=function(){a?!a.draft_id||a.body===f.description&&a.action_text===f.title?(d(!l),r(Object(Qe.d)({type:n}))):I(!0):""!==f.title&&""!==f.description?I(!0):(d(!l),r(Object(Qe.d)({type:n})))},L=function(){I(!x),k(!1)},F=function(){C(!j),k(!1)},M=function(e){C(!j),k(!0),d(!l),e&&G(),r(Object(Qe.d)({type:n}))};Object(i.useEffect)((function(){a&&b({title:a.action_text,description:a.body,textOnly:a.body,major_release:a.major_release})}),[]);var U=function(){r(Object(Qe.g)({type:"release",draft_id:a.draft_id},(function(e,t){e||r(Object(Qe.C)({id:a.draft_id}))})))},G=function(){a&&a.draft_id?U():r(Object(Qe.j)({id:a.id})),P()},H=function(){a&&a.draft_id?r(Object(Qe.cb)(Object(S.a)(Object(S.a)({type:"release",draft_id:a.draft_id},f),{},{action_text:f.title,body:f.description}),(function(e,t){}))):r(Object(Qe.Q)(Object(S.a)(Object(S.a)({},f),{},{action_text:f.title,body:f.description,type:"release"}))),d(!l),r(Object(Qe.d)({type:n}))},B=Object(i.useRef)(null),W=Object(g.M)({mode:"description",mentionOrientation:"top",quillRef:B,disableMention:!0}).modules;return c.a.createElement(da,{isOpen:l,toggle:P,size:"lg",className:"todo-reminder-modal",centered:!0},c.a.createElement(sn,{toggle:P},"Release note"),c.a.createElement(Ye.a,null,c.a.createElement(We.a,{isOpen:j,toggle:F,onClosed:w?P:void 0,centered:!0},c.a.createElement(sn,{toggle:F},"Delete log"),c.a.createElement(Ye.a,null,"Are you sure you want to delete this release log?"),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{className:"btn-outline-secondary",onClick:function(){return M(!1)}},"Cancel"),c.a.createElement(Ve.a,{color:"primary",onClick:function(){return M(!0)}},"Delete"))),c.a.createElement(We.a,{isOpen:x,toggle:L,onClosed:w?P:void 0,centered:!0},c.a.createElement(sn,{toggle:L},"Save as draft"),c.a.createElement(Ye.a,null,"Save entry as draft?"),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{className:"btn-outline-secondary",onClick:function(){return M(!1)}},"Cancel"),c.a.createElement(Ve.a,{color:"primary",onClick:H},"Save"))),c.a.createElement("div",{className:"col-12 modal-label"},"Title"),c.a.createElement("div",{className:"col-12"},c.a.createElement(D.e,{name:"title",defaultValue:f.title,placeholder:"title",onChange:function(e){var t=e.currentTarget.value;b((function(e){return Object(S.a)(Object(S.a)({},e),{},{title:t})}))},autoFocus:!0})),c.a.createElement("div",{className:"col-12 modal-label"},"Description"),c.a.createElement("div",{className:"col-12"},c.a.createElement(ua,{ref:B,onChange:function(e,t,n,a){var r=a.getText(e);""!==r.trim()&&b((function(t){return Object(S.a)(Object(S.a)({},t),{},{description:e,textOnly:r})}))},modules:W,name:"description",defaultValue:a?a.body:""})),c.a.createElement("br",null),c.a.createElement(ma,{className:"col-12"},c.a.createElement(D.a,{name:"must_read",checked:f.major_release,onClick:function(){b(Object(S.a)(Object(S.a)({},f),{},{major_release:!f.major_release}))},type:"danger"},"Major release"))),c.a.createElement(ze.a,null,a&&c.a.createElement("div",null,c.a.createElement(Ve.a,{className:"mr-1",outline:!0,color:"secondary",onClick:F},"Delete"),a.draft_id&&c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:H,disabled:""===f.textOnly||""===f.title},"Update draft")),!a&&c.a.createElement("div",null,c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:L,disabled:""===f.textOnly||""===f.title},"Save as draft")),c.a.createElement("div",{className:a?"":"margin-left-auto"},c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:P},"Cancel"),c.a.createElement(Ve.a,{color:"primary ml-2",onClick:function(){if(a){var e={id:a.id,body:f.description,action_text:f.title,major_release:f.major_release};a.draft_id?(delete e.id,r(Object(Qe.e)(e,(function(e,t){e||U()})))):r(Object(Qe.db)(e)),P()}else{var t={body:f.description,action_text:f.title,major_release:f.major_release};r(Object(Qe.e)(t)),P()}},disabled:""===f.textOnly||""===f.title},O&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),a&&a.draft_id?"Save":a?"Update":"Save")," ")))})),fa=n(40),ba=Object(E.a)(N.a)(Wn||(Wn=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),ha=E.a.div(Yn||(Yn=Object(h.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]))),_a=c.a.memo((function(e){var t=e.data,n=t.type,a=t.mode,r=t.item,o=Object(u.useDispatch)(),s=Object(g.H)(),l=s.createNewPostList,d=s.updatePostsList,m=s.deletePostsList,p=s.connectPostList,f=s.fetchPostList,b=s.updatePostListConnect,h=Object(u.useSelector)((function(e){return e.posts.postsLists})),_=Object(i.useState)(!1),O=Object(A.a)(_,2),E=O[0],v=O[1],j=Object(i.useState)(!0),C=Object(A.a)(j,2),T=C[0],y=C[1],w=Object(i.useState)({name:"edit"===a?r.post.name:""}),k=Object(A.a)(w,2),N=k[0],x=k[1],I=Object(i.useState)({post_id:r&&r.post.hasOwnProperty("id")?r.post.id:null,link_id:""}),P=Object(A.a)(I,2),L=P[0],F=P[1],M=Object(i.useState)({name:null,link_id:null}),U=Object(A.a)(M,2),G=U[0],H=U[1],B=Object(i.useState)({name:"",link_id:""}),W=Object(A.a)(B,2),Y=W[0],z=W[1],V=Object(g.S)().generalSettings.dark_mode,Q=Object(g.cb)()._t,q={postListInfo:Q("POST.POST_LIST_INFO","Lists help you to combine post to groups (just for you!) or todo's"),cancel:Q("BUTTON.CANCEL","Cancel"),saveList:Q("BUTTON.SAVE_LIST","Save list"),addPost:Q("BUTTON.ADD_TO_LIST","Add"),update:Q("BUTTON.UPDATE","Update"),newList:Q("POST_LIST.NEW_LIST","New list"),updateList:Q("POST_LIST.UPDATE_LIST","Update list"),addToList:Q("POST_LIST.ADD_TO_LIST","Add to list"),title:Q("LABEL.TITLE","Title"),maxCharacters:Q("FEEDBACK.MAX_CHARACTERS","Max 50 characters"),requiredTitle:Q("FEEDBACK.REQUIRED","Title is required"),requiredPostList:Q("FEEDBACK.REQUIRED_POST_LIST","Please Select Post List"),archiveThisList:Q("POST_LIST.POST_LIST_ARCHIVE","Archive this list")},K=function(){y(!T),o(Object(Qe.d)({type:n}))},J=Object(i.useCallback)((function(){v(!0),m({id:r.post.id},(function(e,t){e||(K(),f())}))}),[N,r]),Z=Object(i.useCallback)((function(){return""===N.name||N.name.length>50?(z((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:q.requiredTitle})})),H((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:!1})})),!1):(z((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:""})})),void H((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:!0})})))}),[N.name,z,H]);return c.a.createElement(We.a,{isOpen:T,toggle:K,size:"lg",className:"chat-forward-modal",centered:!0},c.a.createElement(sn,{toggle:K},"add"===a?q.addToList:"edit"===a?q.updateList:q.newList),c.a.createElement(Ye.a,null,c.a.createElement(ba,{className:"modal-input mt-0"},c.a.createElement("div",{className:"w-100"},c.a.createElement(Lt.a,{className:"modal-info pb-3 pt-3"},q.postListInfo),c.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},c.a.createElement("div",{className:"name-wrapper w-100"},"create"===a||"edit"===a?c.a.createElement(c.a.Fragment,null,c.a.createElement(Lt.a,{className:"modal-label",for:"name"},q.title),c.a.createElement(R.a,{name:"name",onFocus:function(){z((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:""})})),H((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:!0})}))},onChange:function(e){e.persist(),x((function(t){return Object(S.a)(Object(S.a)({},t),{},{name:e.target.value.trim()})}))},onBlur:function(){Z()},valid:G.name,invalid:null!==G.name&&!G.name,placeholder:q.title,defaultValue:"edit"===a?r.post.name:""}),c.a.createElement(D.f,{valid:G.name},Y.name)):c.a.createElement(c.a.Fragment,null,c.a.createElement(Vt.a,{className:"react-select-container",styles:"0"===V?Qt.b:Qt.a,isMulti:!1,isClearable:!0,components:{Option:function(e){return c.a.createElement(ha,null,c.a.createElement(fa.f.Option,e,e.data&&c.a.createElement("span",{className:"d-flex justify-content-start align-items-center"},c.a.createElement("div",{className:"select-option"},e.children))))}},options:h.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{label:e.name,value:e.id})})),onChange:function(e){null===e?(H((function(e){return Object(S.a)(Object(S.a)({},e),{},{link_id:!1})})),z((function(e){return Object(S.a)(Object(S.a)({},e),{},{link_id:q.requiredPostList})})),F((function(e){return Object(S.a)(Object(S.a)({},e),{},{link_id:""})}))):(H((function(e){return Object(S.a)(Object(S.a)({},e),{},{link_id:!0})})),F((function(t){return Object(S.a)(Object(S.a)({},t),{},{link_id:e.id})})))}}),c.a.createElement(D.f,{valid:G.link_id},Y.link_id)))))),"edit"===a&&c.a.createElement("span",{onClick:J,className:"btn-archive text-link mt-2 cursor-pointer d-flex flex-row-reverse"},q.archiveThisList)),c.a.createElement(ze.a,null,c.a.createElement(Ve.a,{outline:!0,color:"secondary",onClick:K},q.cancel),c.a.createElement(Ve.a,{color:"primary",onClick:function(){if(!E)if("create"===a){if(!G.name)return;v(!0);var e={name:N.name};l(e,(function(e,t){e||(K(),f())}))}else if("add"===a){if(!G.link_id)return;v(!0);var t=Object(S.a)({},L);p(t,(function(e,t){e||f({},(function(e,n){e||(b(t.data),K())}))}))}else if("edit"===a){if(!G.name)return;v(!0);var n={name:N.name,id:r.post.id};d(n,(function(e,t){e||(K(),f())}))}}},E&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"add"===a?q.addPost:"edit"===a?q.update:q.saveList)))})),Oa=E.a.div(zn||(zn=Object(h.a)(["\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"]))),Ea=E.a.div(Vn||(Vn=Object(h.a)(["\n  .react-select-container {\n    width: 300px !important;\n    @media all and (max-width: 480px) {\n      width: 100%;\n    }\n  }\n"]))),ga=Object(E.a)(D.d)(Qn||(Qn=Object(h.a)([""]))),Aa=function(e){var t=e.dictionary,a=e.form,r=e.userOptions,o=e.isExternalUser,s=e.shareOption,l=e.setShareOption,d=e.setForm,u=e.user,m=[].concat(Object(_t.a)(r.filter((function(e){return e.id!==u.id})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:n(64).generate(),value:"all",label:"All users",icon:"users",all_ids:r.filter((function(e){return e.id!==u.id})).map((function(e){return e.id}))}]),p=Object(_t.a)(m),f=Object(_t.a)(m),b=[{id:"internal",value:"internal",label:t.internalTeamLabel,icon:"eye-off"},{id:"external",value:"external",label:t.internalAndExternalTeamLabel,icon:"eye"}],h=function(e){var t=e.target.dataset.name;switch(t){case"no_reply":d((function(e){var n;return Object(S.a)(Object(S.a)({},e),{},(n={},Object(y.a)(n,t,!e[t]),Object(y.a)(n,"reply_required",!0!==!e[t]&&e.reply_required),n))}));break;case"reply_required":d((function(e){var n;return Object(S.a)(Object(S.a)({},e),{},(n={},Object(y.a)(n,t,!e[t]),Object(y.a)(n,"no_reply",!0!==!e[t]&&e.no_reply),Object(y.a)(n,"mustReplyUsers",0===e.mustReplyUsers.length&&e.selectedAddressTo.length>0?[{id:"all",value:"all",label:"All users",icon:"users",all_ids:r.filter((function(e){return e.id!==u.id})).map((function(e){return e.id}))}]:e.mustReplyUsers),n))}));break;default:d((function(e){var n;return Object(S.a)(Object(S.a)({},e),{},(n={},Object(y.a)(n,t,!e[t]),Object(y.a)(n,"mustReadUsers",0===e.mustReadUsers.length&&e.selectedAddressTo.length>0?[{id:"all",value:"all",label:"All users",icon:"users",all_ids:r.filter((function(e){return e.id!==u.id})).map((function(e){return e.id}))}]:e.mustReadUsers),n))}))}};Object(i.useEffect)((function(){(a.mustReplyUsers.find((function(e){return"all"===e.value}))||a.mustReadUsers.find((function(e){return"all"===e.value})))&&(a.shared_with_client||d(Object(S.a)(Object(S.a)({},a),{},{shared_with_client:!0})))}),[a]),a.requiredUsers.length&&a.mustReadUsers.find((function(e){return"all"===e.value}))&&(p=m.filter((function(e){return"all"===e.value}))),a.requiredUsers.length&&a.mustReplyUsers.find((function(e){return"all"===e.value}))&&(f=m.filter((function(e){return"all"===e.value})));var _=a.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared}));return c.a.createElement(Oa,null,c.a.createElement(Ea,{className:"d-flex align-items-center"},c.a.createElement(D.a,{name:"must_read",checked:a.must_read,onClick:h,type:"danger"},t.mustRead),c.a.createElement(D.a,{name:"reply_required",checked:a.reply_required,onClick:h,type:"warning"},t.replyRequired)),c.a.createElement(Ea,{className:"d-flex align-items-center mb-2"},a.must_read&&c.a.createElement(ga,{options:a.selectedAddressTo.length>0?p:[],value:a.mustReadUsers,onChange:function(e){null===e?d(Object(S.a)(Object(S.a)({},a),{},{mustReadUsers:[]})):e.find((function(e){return"all"===e.value}))?d(Object(S.a)(Object(S.a)({},a),{},{mustReadUsers:e.filter((function(e){return"all"===e.value})),shared_with_client:!0})):d(Object(S.a)(Object(S.a)({},a),{},{mustReadUsers:e}))},isMulti:!0,isClearable:!0,maxMenuHeight:250,menuPlacement:"top",placeholder:"Select must read"})),c.a.createElement(Ea,{className:"d-flex align-items-center"},a.reply_required&&c.a.createElement(ga,{options:a.selectedAddressTo.length>0?f:[],value:a.mustReplyUsers,onChange:function(e){null===e?d(Object(S.a)(Object(S.a)({},a),{},{mustReplyUsers:[]})):e.find((function(e){return"all"===e.value}))?d(Object(S.a)(Object(S.a)({},a),{},{mustReplyUsers:e.filter((function(e){return"all"===e.value})),shared_with_client:!0})):d(Object(S.a)(Object(S.a)({},a),{},{mustReplyUsers:e}))},isMulti:!0,isClearable:!0,maxMenuHeight:250,menuPlacement:"top",placeholder:"Select must reply"})),c.a.createElement(Ea,{className:"d-flex align-items-center"},c.a.createElement(D.a,{name:"no_reply",checked:a.no_reply,onClick:h,type:"info"},t.noReplies),c.a.createElement(D.a,{name:"must_read",checked:a.showApprover,onClick:function(){d(Object(S.a)(Object(S.a)({},a),{},{showApprover:!a.showApprover}))}},t.approve)),c.a.createElement(Ea,{className:"d-flex align-items-center"},a.showApprover&&c.a.createElement(ga,{options:m,value:a.approvers,onChange:function(e){null===e?d(Object(S.a)(Object(S.a)({},a),{},{approvers:[]})):e.find((function(e){return"all"===e.value}))?d(Object(S.a)(Object(S.a)({},a),{},{approvers:e.filter((function(e){return"all"===e.value}))})):d(Object(S.a)(Object(S.a)({},a),{},{approvers:e}))},isMulti:!0,isClearable:!0,maxMenuHeight:250,menuPlacement:"top"})),!o&&_&&c.a.createElement(Ea,{className:"d-flex align-items-center"},c.a.createElement("span",null,t.shareWithClient)),!o&&_&&c.a.createElement(Ea,{className:"d-flex align-items-center"},c.a.createElement(ga,{options:b,value:s,onChange:function(e){l(e),"external"===e.id?d(Object(S.a)(Object(S.a)({},a),{},{shared_with_client:!0})):d(Object(S.a)(Object(S.a)({},a),{},{shared_with_client:!1}))},maxMenuHeight:250,menuPlacement:"top"})))},va=n(28),ja=function(e){var t=e.workspace_ids,n=e.addressIds,a=Object(g.cb)()._t;return{dictionary:{createPost:a("POST.CREATE_POST","Create post"),createNewPost:a("POST.CREATE_NEW_POST","Create new post"),editPost:a("POST.EDIT_POST","Edit post"),postTitle:a("POST.TITLE","Title"),postInfo:a("POST_INFO","A post is a message that can contain text and images. It can be directed at one or more workspaces, and to one or multiple persons."),visibility:a("POST.VISIBILITY","Visibility"),workspace:a("POST.WORKSPACE","Workspace"),responsible:a("POST.RESPONSIBLE","Responsible"),addressed:a("POST.ADDRESSED","Addressed"),addressedTo:a("POST.ADDRESSED_TO","Addressed to"),addressedPeople:a("POST.ADDRESSED_PEOPLE","Addressed people"),addressedPeopleOnly:a("POST.ADDRESSED_PEOPLE_ONLY","Addressed people only"),description:a("POST.DESCRIPTION","Description"),saveAsDraft:a("POST.SAVE_AS_DRAFT","Save as draft"),moreOptions:a("POST.MORE_OPTIONS","More options"),replyRequired:a("POST.REPLY_REQUIRED","Reply required"),mustRead:a("POST.MUST_READ","Must read"),noReplies:a("POST.NO_REPLIES","No replies"),schedulePost:a("POST.SCHEDULE","Schedule"),updatePostButton:a("POST.UPDATE_BUTTON","Update post"),createPostButton:a("POST.CREATE_BUTTON","Create post"),save:a("POST.SAVE","Save"),discard:a("POST.DISCARD","Discard"),draftBody:a("POST.DRAFT_BODY","Not sure about the content? Save it as a draft."),postVisibilityInfo:a("POST.POST_VISIBILITY_COUNT_INFO","This post will be visible to ::user_count:: in ::workspace_count::",{user_count:Object(va.renderToString)(c.a.createElement("span",{className:"user-popup"},1===n.length?a("POST.NUMBER_USER","1 user"):a("POST.NUMBER_USERS","::count:: users",{count:n.length}))),workspace_count:Object(va.renderToString)(c.a.createElement("span",{className:"workspace-popup"},1===t.length?a("POST.NUMBER_WORKSPACE","1 workspace"):a("POST.NUMBER_WORKSPACES","::count:: workspaces",{count:t.length})))}),approve:a("POST.APPROVE","Approve"),shareWithClient:a("POST.SHARE_WITH_CLIENT","Who can read this post"),fileUploadLabel:a("LABEL.EXTERNAL_WORKSPACE_FILES","Files added to workspace can be seen by internal and external accounts"),internalTeamLabel:a("LABEL.INTERNAL_TEAM","Internal team"),internalAndExternalTeamLabel:a("LABEL.INTERNAL_AND_EXTERTNAL_TEAM","Internal and external team"),uploading:a("FILE_UPLOADING","Uploading File"),unsuccessful:a("FILE_UNSUCCESSFULL","Upload File Unsuccessful"),fileAttachments:a("POST.FILE_ATTACHMENTS","File attachments"),sendingPost:a("TOASTER.SENDING_POST","Sending post"),updatingPost:a("TOASTER.UPDATING_POST","Updating post"),uploadingAndSending:a("TOASTER.SENDING_POST_WITH_FILE","Uploading file and sending post")}}},Ca=Object(E.a)(N.a)(qn||(qn=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  label {\n    margin: 0 20px 0 0;\n    min-width: 109px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.modal-input {\n    z-index: 2;\n  }\n  &.more-option {\n    //z-index: 0;\n    overflow: unset;\n    width: 100%;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n      margin-right: 0;\n      margin-bottom: 1rem;\n    }\n  }\n  &.schedule-post {\n    width: 100%;\n    label {\n      margin: 0 20px 0 0;\n    }\n    .feather {\n      color: #c7ced6;\n    }\n    .react-date-picker__wrapper {\n      border: thin solid #c8ced5;\n      border-radius: 4px;\n      color: #c7ced6;\n      .react-date-picker__inputGroup {\n        padding: 0 6px;\n      }\n    }\n    #placeholder {\n      color: #c7ced6;\n    }\n    input {\n      color: #505050;\n      &::-webkit-input-placeholder {\n        color: #c7ced6;\n      }\n    }\n\n    .dark & {\n      input {\n        color: #ffffff;\n        &::-webkit-input-placeholder {\n          color: #c7ced6;\n        }\n      }\n    }\n  }\n  &.file-attachment-wrapper {\n    margin-top: 0;\n    margin-bottom: 20px;\n  }\n  &.file-attachment-wrapper > div {\n    display: flex;\n    width: 100%;\n    align-items: center;\n    .react-select-container {\n      max-width: 300px;\n    }\n  }\n  .file-attachments {\n    position: relative;\n    max-width: 100%;\n    // margin-left: 3rem;\n    // margin-right: 2rem;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n    ul {\n      //margin-right: 128px;\n      margin-bottom: 0;\n      @media all and (max-width: 480px) {\n        padding-right: 40px;\n      }\n      li {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n  }\n  .user-popup {\n    cursor: pointer;\n    margin: 0 0.25rem;\n  }\n  .workspace-popup {\n    cursor: pointer;\n    margin: 0 0.25rem;\n  }\n  .user-list {\n    transition: all 0.5s ease;\n    position: absolute;\n    bottom: 22px;\n    right: 0;\n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    overflow-x: hidden;\n    width: 230px;\n\n    .dark & {\n      background: #191c20;\n    }\n\n    &.active {\n      padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;\n    }\n\n    img {\n      min-width: 28px;\n    }\n\n    .item-user-name {\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: block;\n    }\n  }\n  .workspace-list {\n    position: absolute;\n    bottom: 22px;\n    right: 0;\n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    width: 230px;\n\n    .dark & {\n      background: #191c20;\n    }\n\n    &.active {\n      padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;\n    }\n\n    .item-workspace-name {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n  .post-visibility-container {\n    width: 100%;\n    .post-info {\n      font-size: 0.8rem;\n      flex-flow: wrap;\n      justify-content: flex-end;\n      @media all and (max-width: 480px) {\n        justify-content: flex-start;\n      }\n    }\n  }\n  .dark & {\n    input {\n      color: #ffffff !important;\n      &::-webkit-input-placeholder {\n        color: #c7ced6;\n      }\n    }\n  }\n  &.file-attachment-wrapper .file-label {\n    font-size: 0.8rem;\n  }\n"]))),Ta=E.a.div(Kn||(Kn=Object(h.a)(["\n  cursor: pointer;\n  margin-bottom: 5px;\n  &:hover {\n    color: #972c86;\n  }\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n  svg {\n    transition: all 0.3s;\n    width: 15px;\n    margin-left: 5px;\n\n    &.ti-plus {\n      transform: rotate(-540deg);\n    }\n    &.rotate-in {\n      transform: rotate(0deg);\n    }\n  }\n"]))),ya=Object(E.a)(D.c)(Jn||(Jn=Object(h.a)(["\n  .description-input {\n    height: ","px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n"])),(function(e){return e.height>80?e.height:80})),Sa=[{id:"remove_automatically",value:"remove_automatically",label:"Remove file automatically in 5 days",icon:"file-minus"}],wa=c.a.memo((function(e){var t=e.data,n=t.type,a=t.mode,r=t.item,o=void 0===r?{}:r,s=t.params,l=void 0===s?null:s,d=Object(_.g)(),m=Object(g.ib)(),p=Object(i.useRef)(),f=Object(u.useDispatch)(),b=Object(g.X)(),h=Object(i.useRef)(!0),O=Object(u.useSelector)((function(e){return e.session.user})),E="external"===O.type,j=Object(u.useSelector)((function(e){return e.global.recipients})),C=Object(u.useSelector)((function(e){return e.workspaces.workspaces})),T=Object(u.useSelector)((function(e){return e.workspaces.activeTopic})),y=Object(i.useState)(Math.floor(Date.now()/1e3)),w=Object(A.a)(y,1)[0],k=Object(i.useState)(!0),N=Object(A.a)(k,2),x=N[0],I=N[1],P=Object(i.useState)(null),L=Object(A.a)(P,2),F=L[0],M=L[1],U=Object(i.useState)(!1),G=Object(A.a)(U,2),H=G[0],B=G[1],W=Object(i.useState)([]),Y=Object(A.a)(W,2),z=Y[0],V=Y[1],Q=Object(i.useState)([]),q=Object(A.a)(Q,2),K=q[0],J=q[1],Z=Object(i.useState)(!1),X=Object(A.a)(Z,2),$=X[0],ee=X[1],te=Object(i.useState)([]),ne=Object(A.a)(te,2),ae=ne[0],re=ne[1],ie=Object(i.useState)([]),ce=Object(A.a)(ie,2),oe=ce[0],se=ce[1],le=Object(i.useState)([]),de=Object(A.a)(le,2),ue=de[0],me=de[1],pe=Object(i.useState)(null),fe=Object(A.a)(pe,2),be=fe[0],he=fe[1],_e=Object(i.useState)(!1),Oe=Object(A.a)(_e,2),Ee=Oe[0],ge=Oe[1],Ae=Object(i.useState)([]),ve=Object(A.a)(Ae,2),je=ve[0],Ce=ve[1],Te=Object(i.useState)(null),ye=Object(A.a)(Te,2),Se=ye[0],we=ye[1],ke=Object(i.useRef)(null),Ne=Object(i.useRef)(0),Re={reactQuillRef:Object(i.useRef)(null),more_options:Object(i.useRef)(null),dropzone:Object(i.useRef)(null),arrow:Object(i.useRef)(null),visibilityInfo:Object(i.useRef)(null)},xe=Object(i.useState)({must_read:!1,reply_required:!1,no_reply:!1,is_private:!1,has_folder:!1,title:"",selectedAddressTo:[],body:"",textOnly:"",show_at:null,end_at:null,approvers:[],showApprover:!1,mention_ids:[],requiredUsers:[],shared_with_client:!1,mustReadUsers:[],mustReplyUsers:[]}),Ie=Object(A.a)(xe,2),Pe=Ie[0],De=Ie[1],Le=Object(g.lb)({addressTo:Pe.selectedAddressTo}),Fe=Le.options,Me=Le.getDefaultAddressTo,Ue=Le.getAddressTo,Ge=Le.responsible_ids,He=Le.recipient_ids,Be=Le.is_personal,ze=Le.workspace_ids,Ve=Le.userOptions,qe=Le.addressIds,Ke=Le.actualUsers,Je=Object(g.I)({draftId:F,initTimestamp:w,isExternalUser:E,item:o,form:Pe,is_personal:Be,params:l,responsible_ids:Ge,user:O,topicId:l?T.id:null,toaster:b,setDraftId:M,savingDraft:Ee,setSavingDraft:ge}),Ze=Je.draftSaved,Xe=Je.handleDeleteDraft,$e=ja({workspace_ids:ze,addressIds:qe}).dictionary,et=Object(i.useState)({id:"internal",value:"internal",label:$e.internalTeamLabel,icon:null}),tt=Object(A.a)(et,2),nt=tt[0],at=tt[1],rt=Object(i.useRef)(null),it=function(e){return rt.current=b.info(e)},ct=function(){return b.dismiss(rt.current)},st=function(){I(!x),f(Object(Qe.d)({type:n}))},lt=function(){st()},dt=function(){B(!1)};function ut(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(ht.a)(bt.a.mark((function e(t){var n,a,r,i=arguments;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"create",a=new FormData,r={user_id:O.id,file_type:"private",folder_id:null,fileOption:Se,options:{config:{onUploadProgress:ft}}},z.map((function(e,t){return a.append("files[".concat(t,"]"),e.bodyFormData.get("file"))})),r.files=a,e.next=7,new Promise((function(e,t){return e(Object(Ot.C)(r))})).then((function(e){"edit"===n?(t=Object(S.a)(Object(S.a)({},t),{},{file_ids:[].concat(Object(_t.a)(e.data.map((function(e){return e.id}))),Object(_t.a)(t.file_ids))}),f(Object(gt.Bb)(t,(function(){ke.current&&b.dismiss(ke.current),ee(!1),Xe()})))):(t=Object(S.a)(Object(S.a)({},t),{},{file_ids:[].concat(Object(_t.a)(e.data.map((function(e){return e.id}))),Object(_t.a)(t.file_ids))}),f(Object(gt.nb)(t,(function(e,t){if(ke.current&&b.dismiss(ke.current),ee(!1),!e)if(Xe(),l){var n={topic_id:T.id,filter:"my_posts",tag:null};f(Object(Wt.W)(n)),T.folder_id?d.push("/workspace/posts/".concat(T.folder_id,"/").concat(Object(Bt.h)(T.folder_name),"/").concat(T.id,"/").concat(Object(Bt.h)(T.name),"/post/").concat(t.data.id,"/").concat(Object(Bt.h)(t.data.title))):d.push("/workspace/posts/".concat(T.id,"/").concat(Object(Bt.h)(T.name),"/post/").concat(t.data.id,"/").concat(Object(Bt.h)(t.data.title)))}else{f(Object(gt.Tb)({filter:"my_posts",tag:null})),d.push("/posts/".concat(t.data.id,"/").concat(Object(Bt.h)(t.data.title)))}}))))})).catch((function(e){pt(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pt=function(){null!==ke.curent&&(ee(!1),b.dismiss(ke.current),b.error(c.a.createElement("div",null,$e.unsuccessful,".")),ke.current=null)},ft=function(e){var t=e.loaded/e.total;null===ke.current?ke.current=b.info(c.a.createElement("div",null,$e.uploadingAndSending,"."),{progress:Ne.current,autoClose:!0}):b.update(ke.current,{progress:t,autoClose:!0})};Object(i.useEffect)((function(){if(o.hasOwnProperty("draft"))De(o.draft.form),M(o.draft.draft_id);else if(l&&null!==T&&"edit"!==a)De(Object(S.a)(Object(S.a)({},Pe),{},{selectedAddressTo:Me(),requiredUsers:[{id:"all",value:"all",label:"All users",icon:"users",all_ids:qe}]}));else if("edit"===a&&o.hasOwnProperty("post")){var e=o.post.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length,t=o.post.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),n=(t=Object(_t.a)(new Set(t)).filter((function(e){return e!==O.id}))).length===o.post.required_users.length;De(Object(S.a)(Object(S.a)({},Pe),{},{body:o.post.body,textOnly:o.post.body,title:o.post.title,has_folder:!!o.post.recipients.find((function(e){return"TOPIC"===e.type})),no_reply:o.post.is_read_only,must_read:o.post.is_must_read,reply_required:o.post.is_must_reply,selectedAddressTo:Ue(o.post.recipients),file_ids:o.post.files.map((function(e){return e.id})),show_at:o.post.show_at,end_at:o.post.end_at,showApprover:o.post.users_approval.length>0,shared_with_client:o.post.shared_with_client,approvers:o.post.users_approval.length>0?o.post.users_approval.map((function(t){return Object(S.a)(Object(S.a)({},t),{},{icon:"user-avatar",value:t.id,label:t.name,type:"USER",ip_address:e?null:t.ip_address,is_approved:!e&&t.is_approved})})):[],requiredUsers:o.post.required_users.length>0?n?[{id:"all",value:"all",label:"All users",icon:"users",all_ids:t}]:o.post.required_users.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name,type:"USER"})})):[]})),J(o.post.files.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{rawFile:e})})))}return function(){h.current=null}}),[]);Object(i.useEffect)((function(){h.current&&(Pe.shared_with_client?at({id:"external",value:"external",label:$e.internalAndExternalTeamLabel,icon:"eye"}):at({id:"internal",value:"internal",label:$e.internalTeamLabel,icon:"eye-off"}))}),[Pe.shared_with_client]);var Et=Pe.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared}));return c.a.createElement(We.a,{isOpen:x,toggle:lt,size:"xl",onOpened:function(){p&&p.current&&p.current.focus()},centered:!0,className:"post-modal"},c.a.createElement(sn,{toggle:lt},Ze?"Draft saved":Ee?"Saving draft...":"edit"===a?$e.editPost:$e.createNewPost),c.a.createElement(Ye.a,{onDragOver:function(){H||B(!0)}},c.a.createElement(Ft.a,{hide:!H,ref:Re.dropzone,onDragLeave:dt,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var a=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,bodyFormData:n,type:"IMAGE",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:O}):"video/mp4"===e.type?t.push({rawFile:e,bodyFormData:n,type:"VIDEO",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:O}):t.push({rawFile:e,bodyFormData:n,type:"DOC",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:O})})),V((function(e){return[].concat(Object(_t.a)(e),t)})),dt()}(e.acceptedFiles)},onCancel:dt,attachedFiles:z}),c.a.createElement(Ca,{className:"modal-input mt-0"},c.a.createElement("div",{className:"w-100"},c.a.createElement(Lt.a,{className:"modal-info pb-3"},$e.postInfo)),c.a.createElement("div",{className:"w-100"},c.a.createElement(Lt.a,{className:"modal-label",for:"post-title"},$e.postTitle),c.a.createElement(R.a,{className:"w-100",style:{borderRadius:"5px"},value:Pe.title,onChange:function(e){De(Object(S.a)(Object(S.a)({},Pe),{},{title:e.target.value}))},innerRef:p}))),c.a.createElement(Ca,{className:"modal-input"},c.a.createElement(Lt.a,{className:"modal-label",for:"workspace"},$e.addressedTo),c.a.createElement(D.d,{options:Fe,value:Pe.selectedAddressTo,onChange:function(e){if(null===e)De(Object(S.a)(Object(S.a)({},Pe),{},{selectedAddressTo:[],shared_with_client:!1}));else{var t=e.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared}));De(Object(S.a)(Object(S.a)({},Pe),{},{selectedAddressTo:e,shared_with_client:!!t&&Pe.shared_with_client}))}},isMulti:!0,isClearable:!0})),c.a.createElement(ya,{className:"modal-description",height:m.height-660,showFileButton:!0,onChange:function(e,t,n,a){var r=a.getText(e),i=[];a.getContents().ops&&a.getContents().ops.length&&function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){var t=Pe.selectedAddressTo.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),n=j.filter((function(e){return"USER"===e.type&&O.id===e.type_id||!("USER"!==e.type||!t.some((function(t){return t===e.type_id})))})).map((function(e){return e.id})),a=Pe.selectedAddressTo.map((function(e){return e.id})),r=[].concat(Object(_t.a)(n),Object(_t.a)(a),Object(_t.a)(oe)),i=e.filter((function(e){return!r.some((function(t){return t===e}))}));re(i.length?i.map((function(e){return parseInt(e)})):[])}else se([]),re([])}(i=a.getContents().ops.filter((function(e){return e.insert.mention&&"external"!==e.insert.mention.type})).map((function(e){return e.insert.mention.id}))),Ce(a.getContents()),De(Object(S.a)(Object(S.a)({},Pe),{},{body:e,textOnly:r.trim(),mention_ids:i.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))}))},onOpenFileDialog:function(){Re.dropzone.current&&Re.dropzone.current.open()},defaultValue:o.hasOwnProperty("draft")?Pe.body:"edit"===a?o.post.body:"",mode:a,required:!0,mentionedUserIds:ae,workspaces:C,onAddUsers:function(e){var t=Fe.filter((function(t){return e.some((function(e){return e.id===t.id}))}));De(Object(S.a)(Object(S.a)({},Pe),{},{selectedAddressTo:[].concat(Object(_t.a)(t),Object(_t.a)(Pe.selectedAddressTo))})),re([]),se([].concat(Object(_t.a)(oe),Object(_t.a)(e.map((function(e){return parseInt(e.id)})))))},onDoNothing:function(e){se(e.map((function(e){return e.id}))),re(ae.filter((function(t){return!e.some((function(e){return e.id===t}))})))},setInlineImages:me,setImageLoading:he,disableBodyMention:E,prioMentionIds:qe,members:Object.values(Ke).filter((function(e){return"external"===O.type?qe.some((function(t){return e.id===t})):!!("external"===e.type&&qe.some((function(t){return t===e.id}))||"internal"===e.type&&null!==e.role)}))}),(z.length>0||K.length>0)&&c.a.createElement(Ca,{className:"file-attachment-wrapper"},c.a.createElement("div",{className:"mb-2"},c.a.createElement(Lt.a,{className:"modal-label",for:"workspace"},$e.fileAttachments)),c.a.createElement("div",{className:"mb-2"},c.a.createElement(D.d,{options:Sa,value:Se,onChange:function(e){we(e)},isClearable:!0,maxMenuHeight:250,menuPlacement:"top",placeholder:"File options"}),Et&&!E&&c.a.createElement("span",{className:"file-label ml-2"},$e.fileUploadLabel)),c.a.createElement("div",null,c.a.createElement(v.h,{attachedFiles:[].concat(Object(_t.a)(z),Object(_t.a)(K)),handleRemoveFile:function(e){J((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),V((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))}}))),c.a.createElement(Ca,{className:"modal-label more-option"},c.a.createElement(Ta,null,$e.moreOptions),c.a.createElement(Aa,{userOptions:Ve,dictionary:$e,form:Pe,isExternalUser:E,shareOption:nt,setShareOption:at,setForm:De,user:O})),c.a.createElement(Ca,{className:"mt-0 mb-0"},c.a.createElement("button",{className:"btn btn-primary",disabled:0===Pe.selectedAddressTo.length||""===Pe.title||be,onClick:function(){if(!$&&!be){ee(!0);var e=Pe.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared})),t=je.ops&&je.ops.length>0?je.ops.filter((function(t){return Pe.shared_with_client&&e?t.insert.mention&&("internal"===t.insert.mention.type||"external"===t.insert.mention.type):t.insert.mention&&"internal"===t.insert.mention.type})).map((function(e){return parseInt(e.insert.mention.type_id)})):[],n={title:Pe.title,body:Pe.body,responsible_ids:Ge,type:"post",personal:Be,recipient_ids:He,must_read:Pe.must_read?1:0,must_reply:Pe.reply_required?1:0,read_only:Pe.no_reply?1:0,show_at:Pe.show_at?ot()(Pe.show_at,"YYYY-MM-DD").format("YYYY-MM-DD"):Pe.end_at?ot()(new Date).add(1,"day").format("YYYY-MM-DD"):null,end_at:Pe.end_at?ot()(Pe.end_at,"YYYY-MM-DD").format("YYYY-MM-DD"):null,tag_ids:[],file_ids:ue.map((function(e){return e.id})),code_data:{base_link:"".concat("https://").concat(localStorage.getItem("slug"),".").concat("drevv.com")},approval_user_ids:Pe.showApprover&&Pe.approvers.find((function(e){return"all"===e.value}))?Pe.approvers.find((function(e){return"all"===e.value})).all_ids:Pe.showApprover?Pe.approvers.map((function(e){return e.value})).filter((function(e){return O.id!==e})):[],required_user_ids:[],shared_with_client:Pe.shared_with_client&&e||E?1:0,body_mention_ids:t.filter((function(e){return qe.some((function(t){return t===e}))})),must_read_user_ids:Pe.must_read&&Pe.mustReadUsers.find((function(e){return"all"===e.value}))?qe.filter((function(e){return e!==O.id})):Pe.must_read?Pe.mustReadUsers.map((function(e){return e.value})).filter((function(e){return O.id!==e})):[],must_reply_user_ids:Pe.reply_required&&Pe.mustReplyUsers.find((function(e){return"all"===e.value}))?qe.filter((function(e){return e!==O.id})):Pe.reply_required?Pe.mustReplyUsers.map((function(e){return e.value})).filter((function(e){return O.id!==e})):[]};"edit"===a?(n=Object(S.a)(Object(S.a)({},n),{},{id:o.post.id,file_ids:[].concat(Object(_t.a)(K.map((function(e){return e.id}))),Object(_t.a)(n.file_ids))}),o.post.users_approval.find((function(e){return null!==e.ip_address&&e.is_approved}))&&delete n.approval_user_ids,z.length?ut(n,"edit"):Pe.selectedAddressTo.length&&(it($e.updatingPost),f(Object(gt.Bb)(n,(function(e,t){ct(),ee(!1),Xe()}))))):z.length?ut(n,"create"):Pe.selectedAddressTo.length&&(it($e.sendingPost),f(Object(gt.nb)(n,(function(e,t){if(ct(),ee(!1),!e)if(Xe(),l){var n={topic_id:T.id,filter:"my_posts",tag:null};f(Object(Wt.W)(n)),T.folder_id?d.push("/workspace/posts/".concat(T.folder_id,"/").concat(Object(Bt.h)(T.folder_name),"/").concat(T.id,"/").concat(Object(Bt.h)(T.name),"/post/").concat(t.data.id,"/").concat(Object(Bt.h)(t.data.title))):d.push("/workspace/posts/".concat(T.id,"/").concat(Object(Bt.h)(T.name),"/post/").concat(t.data.id,"/").concat(Object(Bt.h)(t.data.title)))}else{f(Object(gt.Tb)({filter:"my_posts",tag:null})),d.push("/posts/".concat(t.data.id,"/").concat(Object(Bt.h)(t.data.title)))}})))),st(!1)}}},$&&c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===a?$e.updatePostButton:$e.createPostButton)),c.a.createElement(Ca,{className:"mb-0 mt-1"},c.a.createElement(v.n,{dictionary:$e,formRef:Re,selectedAddressTo:Pe.selectedAddressTo,workspaceIds:ze,userOptions:Ve}))))})),ka=E.a.div(Zn||(Zn=Object(h.a)(["\n  z-index: 7;\n"]))),Na=c.a.memo((function(){var e=Object(i.useState)(0),t=Object(A.a)(e,2),n=t[0],a=t[1],r=Object(u.useSelector)((function(e){return e.global.modals})),o=Object(u.useSelector)((function(e){return e.files.viewFiles})),s=Object(i.useRef)(!0);return Object(g.z)(),Object(i.useEffect)((function(){return function(){s.current=null}}),[]),Object(i.useEffect)((function(){Object.keys(r).length>0?s.current&&a(document.documentElement.scrollTop):s.current&&(window.scrollTo(0,n),a(0)),document.body.classList.remove("mobile-modal-open")}),[r]),Object.keys(r).length>0?c.a.createElement(ka,null,Object.values(r).map((function(e){switch(e.type){case"confirmation":return c.a.createElement(qe,{key:e.type,data:e});case"forward":return c.a.createElement(it,{key:e.type,data:e});case"reminder":return c.a.createElement(pt,{key:e.type,data:e});case"file_upload":return c.a.createElement(It,{key:e.type,data:e});case"file_crop_upload":return c.a.createElement(yn,{key:e.type,data:e});case"chat_create_edit":return c.a.createElement(Ht,{key:e.type,data:e});case"workspace_folder":return c.a.createElement(tn,{key:e.type,data:e});case"workspace_create_edit":return c.a.createElement($t,{key:e.type,data:e});case"snooze_post":return c.a.createElement(un,{key:e.type,data:e});case"driff_invite_users":return c.a.createElement(wn,{key:e.type,data:e});case"single_input":return c.a.createElement(hn,Object.assign({key:e.type},e));case"move_files":return c.a.createElement(En,Object.assign({key:e.type},e));case"move_company_files":return c.a.createElement($n,{key:e.type,data:e});case"personal_link_create_edit":return c.a.createElement(Nn,{key:e.type,data:e});case"todo_reminder":return c.a.createElement(oa,{key:e.type,data:e});case"update_found":return c.a.createElement(la,{key:e.type,data:e});case"release":return c.a.createElement(pa,{key:e.type,data:e});case"post_list":return c.a.createElement(_a,{key:e.type,data:e});case"post_modal":return c.a.createElement(wa,{key:e.type,data:e});default:return null}}))):null!==o?c.a.createElement(ka,null,c.a.createElement(Be,null)):null})),Ra=(n(322),n(91));function xa(){var e=Object(h.a)([""]);return xa=function(){return e},e}var Ia=E.a.div(xa()),Pa=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t;Object(Ra.a)();return c.a.createElement(Ia,{className:"".concat(n)})})),Da=function(){var e=Object(u.useDispatch)();return{create:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t},n);e(Object(Se.Zb)(r,a))},remove:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={link_type:t.link_type,link_id:t.link_id,file_id:t.id};e(Object(Se.p)(a,n))},restore:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={link_type:t.link_type,link_id:t.link_id,file_id:t.id};e(Object(Se.Tb)(a,n))},fetch:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t,skip:0,limit:1e3},n);e(Object(Se.H)(r,a))},fetchPrimary:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t,skip:0,limit:1e3},n);e(Object(Se.O)(r,a))},fetchRecentlyEdited:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t,skip:0,limit:1e3},n);e(Object(Se.P)(r,a))},fetchImportant:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t,skip:0,limit:1e3},n);e(Object(Se.G)(r,a))},fetchRemoved:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t,skip:0,limit:1e3},n);e(Object(Se.Q)(r,a))},fetchPopular:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t,skip:0,limit:1e3},n);e(Object(Se.N)(r,a))},fetchStats:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={topic_id:t};e(Object(Se.I)(a,n))},fetchFolders:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(S.a)({topic_id:t,skip:0,limit:1e3},n);e(Object(Se.J)(r,a))}}};function La(){var e=Object(h.a)([""]);return La=function(){return e},e}var Fa,Ma,Ua,Ga=E.a.div(La()),Ha=c.a.memo((function(e){var t=Object(_.i)(),n=e.className,a=void 0===n?"":n,r=Da(),i={};return Object(P.a)("search")&&(i.search=Object(P.a)("search")),Object(P.a)("skip")&&(i.skip=Object(P.a)("skip")),Object(P.a)("limit")&&(i.limit=Object(P.a)("limit")),r.fetchStats(t.workspaceId),r.fetch(t.workspaceId,i),r.fetchPopular(t.workspaceId,i),r.fetchImportant(t.workspaceId,i),r.fetchRecentlyEdited(t.workspaceId,i),r.fetchRemoved(t.workspaceId,i),r.fetchFolders(t.workspaceId,i),c.a.createElement(Ga,{className:"".concat(a)})})),Ba=n(51),Wa=n(119),Ya=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,309))})),za=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,314))})),Va=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,310))})),Qa=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,322))})),qa=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,313))})),Ka=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,311))})),Ja=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,312))})),Za=Object(i.lazy)((function(){return n.e(4).then(n.bind(null,718))})),Xa=E.a.div(Fa||(Fa=Object(h.a)(["\n  @keyframes blink {\n    /**\n   * At the start of the animation the dot\n   * has an opacity of .2\n   */\n    0% {\n      opacity: 0.2;\n    }\n    /**\n   * At 20% the dot is fully visible and\n   * then fades out slowly\n   */\n    20% {\n      opacity: 1;\n    }\n    /**\n   * Until it reaches an opacity of .2 and\n   * the animation can start again\n   */\n    100% {\n      opacity: 0.2;\n    }\n  }\n\n  .loading span {\n    font-size: 2.5rem;\n    /**\n   * Use the blink animation, which is defined above\n   */\n    animation-name: blink;\n    /**\n   * The animation should take 1.4 seconds\n   */\n    animation-duration: 1.4s;\n    /**\n   * It will repeat itself forever\n   */\n    animation-iteration-count: infinite;\n    /**\n   * This makes sure that the starting style (opacity: .2)\n   * of the animation is applied before the animation starts.\n   * Otherwise we would see a short flash or would have\n   * to set the default styling of the dots to the same\n   * as the animation. Same applies for the ending styles.\n   */\n    animation-fill-mode: both;\n  }\n\n  .loading span:nth-child(2) {\n    /**\n   * Starts the animation of the third dot\n   * with a delay of .2s, otherwise all dots\n   * would animate at the same time\n   */\n    animation-delay: 0.2s;\n  }\n\n  .loading span:nth-child(3) {\n    /**\n   * Starts the animation of the third dot\n   * with a delay of .4s, otherwise all dots\n   * would animate at the same time\n   */\n    animation-delay: 0.4s;\n  }\n"]))),$a=Object(_.k)((function(e){!function(e){var t=Object(u.useDispatch)(),n=Object(_.g)(),a=Object(_.j)("/authenticate/:token/:returnUrl?"),r=Object(_.j)("/magic-link/:token"),c=Object(_.i)(),o=Object(g.eb)(),s=Object(i.useRef)(null);Object(i.useEffect)((function(){if("/logged-out"===n.location.pathname&&(o.logout(),n.push("/login")),null===r||s.current||(s.current=!0,o.checkMagicLink(r.params.token,(function(e,t){if(setTimeout((function(){s.current=null}),3e3),t)if(t.data.additional_data){if("POST"===t.data.additional_data.type){if(t.data.additional_data.data.workspace){var n=t.data.additional_data.data.workspace[0],a=t.data.additional_data.data.id,r=t.data.additional_data.data.code;if(n.workspace_id){var i="/workspace/posts/".concat(n.topic_id,"/").concat(Object(Bt.h)(n.topic_name),"/post/").concat(a,"/").concat(Object(Bt.h)(r));o.login(t.data,i)}else{var c="/workspace/posts/".concat(n.workspace_id,"/").concat(Object(Bt.h)(n.workspace_name),"/").concat(n.topic_id,"/").concat(Object(Bt.h)(n.topic_name),"/post/").concat(a,"/").concat(Object(Bt.h)(r));o.login(t.data,c)}}}else if("CHANNEL"===t.data.additional_data.type)if(t.data.additional_data.topic){var l=t.data.additional_data.topic,d=t.data.additional_data.workspace;if(d){var u="/workspace/chat/".concat(d.id,"/").concat(Object(Bt.h)(d.name),"/").concat(l.id,"/").concat(Object(Bt.h)(l.name));o.login(t.data,u)}else{var m="/workspace/chat/".concat(l.id,"/").concat(Object(Bt.h)(l.name));o.login(t.data,m)}}else if(t.data.additional_data.data){var p="/chat/".concat(t.data.additional_data.data.code);o.login(t.data,p)}else o.login(t.data,"/chat")}else o.login(t.data,"/chat")}))),null!==a){var i=localStorage.getItem("userAuthToken"),l=a.params.returnUrl?atob(a.params.returnUrl):"";if(!e.authenticated&&i){var d=JSON.parse(i);d.access_token!==a.params.token&&localStorage.removeItem("userAuthToken"),Ba.sessionService.saveSession({token:"".concat(d.token_type," ").concat(d.access_token),xsrf_token:"XSRF-TOKEN=".concat(d.access_token),access_broadcast_token:"".concat(d.access_broadcast_token),download_token:"".concat(d.download_token)}).then((function(){Ba.sessionService.saveUser(Object(S.a)({},d.user_auth)),"1"===localStorage.getItem("promptTrustDevice")&&localStorage.removeItem("promptTrustDevice"),a.params.returnUrl&&n.push(l)}))}}if(n.location.pathname.startsWith("/authenticate-ios/")&&!s.current){var u=Object(P.e)("".concat(Object(ye.b)(),"/authenticate-ios?auth_token=").concat(c.tokens));s.current=!0,u.id&&u.auth_token&&u.redirect_url&&fetch("".concat(Object(ye.a)(),"/users/").concat(u.id),{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(u.auth_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){s.current=null}),3e3),Ba.sessionService.saveSession({token:"Bearer ".concat(u.auth_token),xsrf_token:"XSRF-TOKEN=".concat(u.auth_token),access_broadcast_token:"".concat(u.access_broadcast_token),download_token:"".concat(u.download_token)}).then((function(){Ba.sessionService.saveUser(Object(S.a)({},e)),window.location.href=u.redirect_url}))}))}if(Object(P.a)("code")&&Object(P.a)("state")){var m=Object(P.e)(window.location.href);t(Object(zt.c)(m,(function(e,t){t&&o.login(t.data,"/chat")})))}}),[a,t,n,e,c])}(e);var t=Object(_.g)(),n=Object(_.h)(),a=Object(g.S)().driffSettings,r=Object(Wa.a)(),o=Object(g.bb)()._t,s=e.setRegisteredDriff,l={magicLink:o("LOGIN.MAGIC_LINK","Magic link"),rememberMe:o("LOGIN.REMEMBER_ME","Remember me"),resetPassword:o("LOGIN.RESET_PASSWORD","Reset password"),signIn:o("LOGIN.SIGN_IN","Sign in"),loginSocialMedia:o("LOGIN.SOCIAL_MEDIA_LOGIN","Login with your social media account."),noAccount:o("LOGIN.NO_ACCOUNT","Don't have an account?"),registerNow:o("LOGIN.REGISTER_NOW","Register now!"),logDifferent:o("LOGIN.LOG_INTO_DIFFERENT_DRIFF","Log into different Driff"),registerNewDriff:o("DOMAIN.REGISTER_NEW_DRIFF","Register new Driff"),submit:o("RESET_PASSWORD.SUBMIT","Submit"),login:o("RESET_PASSWORD.LOGIN","Login!"),takeADifferentAction:o("RESET_PASSWORD.TAKE_A_DIFFERENT_ACTION","Take a different action."),updatePassword:o("UPDATE_PASSWORD.UPDATE_PASSWORD","Update password"),register:o("REGISTER.REGISTER","Register"),haveAccount:o("REGISTER.HAVE_ACCOUNT","Already have an account?"),password:o("REGISTER.PASSWORD","Password"),firstName:o("REGISTER.FIRST_NAME","First name"),middleName:o("REGISTER.MIDDLE_NAME","Middle name"),lastName:o("REGISTER.LAST_NAME","Last name"),accept:o("REGISTER.ACCEPT","Accept"),driffRegistration:o("DRIFF.DRIFF_REGISTRATION","Driff registration."),inviteUser:o("DRIFF.INVITE","Invite user"),companyName:o("DRIFF.COMPANY_NAME","Company name"),yourEmail:o("DRIFF.YOUR_EMAIL","Your email"),yourName:o("DRIFF.YOUR_NAME","Your name"),sendLink:o("MAGIC_LINK.SEND_LINK","Send link"),emailRequired:o("FEEDBACK.EMAIL_REQUIRED","Email is required."),passwordRequired:o("FEEDBACK.PASSWORD_REQUIRED","Password is required."),invalidEmail:o("FEEDBACK.INVALID_EMAIL","Invalid email format"),yourNameRequired:o("FEEDBACK.YOUR_NAME_REQUIRED","Your name is required."),firstNameRequired:o("FEEDBACK.FIRST_NAME_REQUIRED","First name is required."),lastNameRequired:o("FEEDBACK.LAST_NAME_REQUIRED","Last name is required."),companyRequired:o("FEEDBACK.COMPANY_REQUIRED","Company name is required."),driffRequired:o("FEEDBACK.DRIFF_REQUIRED","Driff is required."),driffTaken:o("FEEDBACK.DRIFF_TAKEN","Driff is already taken"),emailNotFound:o("FEEDBACK.EMAIL_NOT_FOUND","Email not found."),notAllowedForExternal:o("FEEDBACK.NOT_ALLOWED_FOR_EXTERNAL","Not allowed for external users."),thankYou:o("FEEDBACK.THANK_YOU","Thank you!"),or:o("RESET_PASSWORD.OR","or"),createAccount:o("LOGIN.CREATE_ACCOUNT","Create account"),authentication:o("LOGIN.AUTHENTICATION","Authentication"),email:o("LOGIN.EMAIL","Email"),invitedUsers:o("DRIFF.INVITED_USERS","Invited users"),acceptInvite:o("REGISTER.ACCEPT_INVITE","Accept your invitation to")},d=Object(i.useState)(l.signIn),m=Object(A.a)(d,2),p=m[0],f=m[1];return Object(i.useEffect)((function(){document.querySelector("body").classList.add("form-membership")}),[]),Object(i.useEffect)((function(){switch(n.pathname){case"/magic-link":a.settings.magic_link?f(l.magicLink):t.push("/login");break;case"/driff-register":f(l.driffRegistration);break;case"/request-form":f("".concat(l.acceptInvite," ").concat(r.getName()));break;case"/reset-password":a.settings.password_login?f(l.resetPassword):t.push("/login");break;case"/register":a.settings.sign_up?f(l.createAccount):t.push("/login");break;default:0===n.pathname.indexOf("/authenticate/")||(Object(P.a)("code"),Object(P.a)("state"))?f(l.authentication):0===n.pathname.indexOf("/resetpassword/")?f(l.updatePassword):f(l.signIn)}}),[n]),c.a.createElement(Xa,{className:"form-wrapper fadeIn"},c.a.createElement("div",{id:"logo"},c.a.createElement(v.r,{icon:"driff-logo",width:"110",height:"80"})),a.settings.maintenance_mode?c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",{className:"title"},"Maintenance Mode")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",{className:"title ".concat(Object(P.a)("code")&&Object(P.a)("state")&&"loading")},p,Object(P.a)("code")&&Object(P.a)("state")&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,"."),c.a.createElement("span",null,"."),c.a.createElement("span",null,"."))),c.a.createElement(i.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(_.d,null,c.a.createElement(_.b,{path:"/login",render:function(){return c.a.createElement(Va,Object.assign({dictionary:l},e))}}),c.a.createElement(_.b,{path:"/magic-link",render:function(){return c.a.createElement(Qa,Object.assign({dictionary:l},e))}}),c.a.createElement(_.b,{path:"/resetpassword/:token/:email",render:function(){return c.a.createElement(Ja,Object.assign({dictionary:l},e))},exact:!0}),c.a.createElement(_.b,{path:"/reset-password",render:function(){return c.a.createElement(Ka,Object.assign({dictionary:l},e))}}),c.a.createElement(_.b,{path:"/register",render:function(){return c.a.createElement(qa,Object.assign({dictionary:l},e))}}),c.a.createElement(_.b,{path:"/request-form",render:function(){return c.a.createElement(za,Object.assign({dictionary:l},e))}}),c.a.createElement(_.b,{path:"/driff-register",render:function(){return c.a.createElement(Ya,Object.assign({dictionary:l,setRegisteredDriff:s},e))}}),c.a.createElement(_.b,{path:"/force-logout",render:function(){return c.a.createElement(Za,null)}})))))})),er=E.a.div(Ma||(Ma=Object(h.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n    text-align: center;\n    justify-content: center;\n  }\n"]))),tr=c.a.memo((function(e){var t={redirecting:(0,Object(g.cb)()._t)("REDIRECT.REDIRECTING","Redirecting...")},n=Object(g.eb)(),a=Object(g.a)(),r=Object(_.g)(),o=Object(_.j)("/magic-link/:token");return Object(i.useEffect)((function(){null!==o&&n.checkMagicLink(o.params.token,(function(e,t){if(t)if(t.data.additional_data){if("POST"===t.data.additional_data.type){if(t.data.additional_data.data.workspace){var n=t.data.additional_data.data.workspace[0],i=t.data.additional_data.data.id,c=t.data.additional_data.data.code;if(n.workspace_id){var o="/workspace/posts/".concat(n.workspace_id,"/").concat(Object(Bt.h)(n.workspace_name),"/").concat(n.topic_id,"/").concat(Object(Bt.h)(n.topic_name),"/post/").concat(i,"/").concat(Object(Bt.h)(c));r.push(o)}else{var s="/workspace/posts/".concat(n.topic_id,"/").concat(Object(Bt.h)(n.topic_name),"/post/").concat(i,"/").concat(Object(Bt.h)(c));r.push(s)}}}else if("CHANNEL"===t.data.additional_data.type)if(t.data.additional_data.topic){var l=t.data.additional_data.topic,d=t.data.additional_data.workspace;if(d){var u="/workspace/chat/".concat(d.id,"/").concat(Object(Bt.h)(d.name),"/").concat(l.id,"/").concat(Object(Bt.h)(l.name));r.push(u)}else{var m="/workspace/chat/".concat(l.id,"/").concat(Object(Bt.h)(l.name));r.push(m)}}else if(t.data.additional_data.data){var p="/chat/".concat(t.data.additional_data.data.code);a.fetchSelectChannel(t.data.additional_data.data.code,(function(){document.body.classList.add("m-chat-channel-closed")})),r.push(p)}else r.push("/workspace/chat")}else r.push("/workspace/chat")}))}),[]),c.a.createElement(er,{className:"workspace-people container-fluid h-100"},c.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6 h-50"},c.a.createElement("div",{className:"card"},c.a.createElement("h3",null,t.redirecting)))))})),nr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,323))})),ar=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,324))})),rr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,338))})),ir=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,325))})),cr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,326))})),or=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,343))})),sr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,333))})),lr=Object(i.lazy)((function(){return n.e(6).then(n.bind(null,719))})),dr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,342))})),ur=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,721))})),mr=Object(i.lazy)((function(){return n.e(3).then(n.bind(null,722))})),pr=Object(i.lazy)((function(){return n.e(7).then(n.bind(null,716))})),fr=Object(i.lazy)((function(){return n.e(8).then(n.bind(null,717))})),br=E.a.div(Ua||(Ua=Object(h.a)(["\n  padding-bottom: ",";\n"])),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),hr=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=Object(u.useSelector)((function(e){return e.session.user})),o=r.role&&"owner"===r.role.name;return c.a.createElement(br,{className:"main-content ".concat(n),isOnWorkspace:"workspace"===e.match.params.page},c.a.createElement(i.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(_.d,null,c.a.createElement(_.b,Object.assign({},e,{component:pr,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile","/profile/:id"],exact:!0})),c.a.createElement(_.b,Object.assign({},e,{component:mr,path:["/notifications"]})),c.a.createElement(_.b,Object.assign({},e,{component:fr,path:["/search"]})),!a&&c.a.createElement(_.b,Object.assign({},e,{component:ar,path:["/dashboard"]})),!a&&c.a.createElement(_.b,Object.assign({},e,{component:cr,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!a&&c.a.createElement(_.b,Object.assign({},e,{component:nr,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),c.a.createElement(_.b,Object.assign({},e,{render:function(e){return c.a.createElement(rr,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!a&&c.a.createElement(_.b,Object.assign({},e,{component:ir,path:["/people"]})),!a&&c.a.createElement(_.b,Object.assign({},e,{component:lr,path:["/system/people"]})),c.a.createElement(_.b,Object.assign({},e,{component:or,path:["/settings"]})),c.a.createElement(_.b,Object.assign({},e,{component:sr,path:["/todos"]})),o&&c.a.createElement(_.b,Object.assign({},e,{component:dr,path:["/bot"]})),c.a.createElement(_.b,Object.assign({},e,{component:tr,path:["/magic-link/:token"]})),c.a.createElement(_.b,Object.assign({},e,{component:ur,path:["/releases"]})),c.a.createElement(_.a,{from:"*",to:{pathname:a?"/workspace/chat":"/chat",state:{from:e.location}}}))))}));function _r(){var e=Object(h.a)(["\n  z-index: 1 !important;\n"]);return _r=function(){return e},e}var Or,Er,gr,Ar,vr,jr,Cr,Tr,yr,Sr,wr=E.a.footer(_r()),kr=(c.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return c.a.createElement(wr,{className:"".concat(n)},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),c.a.createElement("div",null,c.a.createElement("nav",{className:"nav"},c.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),c.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),c.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))})),n(323),n(324),n(338),E.a.div(Or||(Or=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n\n  &.page-notifications,\n  &.page-profile,\n  &.page-settings,\n  &.page-system {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 4px;\n          display: flex;\n          align-items: center;\n          height: 40px;\n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  svg.feather-home {\n    color: rgb(80, 80, 80);\n\n    .dark & {\n      color: #fff;\n    }\n  }\n  .dash {\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n"])))),Nr=E.a.h2(Er||(Er=Object(h.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),Rr=Object(E.a)(v.s)(gr||(gr=Object(h.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFavorite&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),xr=c.a.memo((function(){var e=Object(_.j)(),t=Object(u.useSelector)((function(e){return e.settings})),n=t.driff,a=t.user.GENERAL_SETTINGS.dark_mode,r=Object(u.useSelector)((function(e){return e.global.unreadCounter})),o=Object(u.useSelector)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),s=Object(u.useSelector)((function(e){return Object.values(e.workspaces.workspaces).find((function(e){return o&&o.id===e.id}))})),l=Object(g.cb)()._t,d={pageTitleDashboard:l("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:l("PAGE_TITLE.POSTS","Posts"),pageTitleChat:l("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:l("PAGE_TITLE.FILES","Files"),pageTitleNotifications:l("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:l("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:l("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:l("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:l("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:l("PAGE_TITLE.TODOS","Reminders"),pageTitleSystemPeople:l("PAGE_TITLE.SYSTEM_PEOPLE","All people"),generalSearch:l("GENERAL.SEARCH","Search"),generalNotifications:l("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:l("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===a?l("SETTINGS.DARK_MODE","dark mode"):l("SETTINGS.LIGHT_MODE","light mode")}),bots:l("SIDEBAR.BOTS","Bots")},m=Object(u.useDispatch)(),p=Object(i.useState)(d.pageTitleDashboard),f=Object(A.a)(p,2),b=f[0],h=f[1],O=function(){if(s){var e={id:s.id,workspace_id:0,is_pinned:s.is_favourite?0:1};m(Object(Wt.g)(e))}};return Object(i.useEffect)((function(){var t=document.body;switch(["people","workspace","notifications"].includes(e.params.page)?t.classList.remove("stretch-layout"):t.classList.add("stretch-layout"),e.params.page){case"posts":h(d.pageTitlePosts);break;case"chat":h(d.pageTitleChat);break;case"files":h(d.pageTitleFiles);break;case"notifications":h(d.pageTitleNotifications);break;case"people":h(d.pageTitlePeople);break;case"profile":h(d.pageTitleProfile);break;case"search":h(d.pageTitleSearch);break;case"settings":h(d.pageTitleSettings);break;case"todos":h(d.pageTitleTodos);break;default:h(d.pageTitleDashboard)}r.chat_message>=1||r.unread_channel>0?document.title="".concat(b," \u2039 * ").concat(n.company_name," @ Driff"):document.title="".concat(b," \u2039 ").concat(n.company_name," @ Driff")}),[e.params.page,m,b,n.company_name]),c.a.createElement(kr,{className:"page-".concat(e.params.page)},c.a.createElement("div",{className:"navbar-left"},c.a.createElement("div",{className:"navbar-nav"},c.a.createElement("div",{className:"navbar-wrap"},c.a.createElement("div",{className:"navbar-top"},c.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},c.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},c.a.createElement(v.s,{icon:"menu"}))),c.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},function(){switch(e.params.page){case"notifications":return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.s,{className:"mr-2",icon:"bell"}),c.a.createElement(Nr,null,d.pageTitleNotifications));case"profile":return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.s,{className:"mr-2",icon:"user"}),c.a.createElement(Nr,null,d.pageTitleProfile));case"settings":return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.s,{className:"mr-2",icon:"settings"}),c.a.createElement(Nr,null,d.pageTitleSettings));case"system":return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.s,{className:"mr-2",icon:"user"}),c.a.createElement(Nr,null,d.pageTitleSystemPeople));default:return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.s,{className:"mr-2",icon:"home"})," ",c.a.createElement(Nr,null,n.company_name),o&&c.a.createElement(Rr,{className:"mr-2",icon:"star",onClick:O,isFavorite:s&&s.is_favourite}))}}())),!["system","notifications","profile","settings"].includes(e.params.page)&&c.a.createElement("div",{className:"navbar-bottom"},c.a.createElement("div",{className:"navbar-main"},c.a.createElement(Lr,{dictionary:d})))))),c.a.createElement("div",null,c.a.createElement(j.b,{dictionary:d})))})),Ir=(n(325),n(326),n(343),E.a.div(Ar||(Ar=Object(h.a)([""])))),Pr=E.a.ul(vr||(vr=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n  }\n"]))),Dr=Object(E.a)(v.k)(jr||(jr=Object(h.a)(['\n  color: #828282;\n  margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),Lr=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,r=Object(u.useSelector)((function(e){return e.global.unreadCounter})),i=Object(u.useSelector)((function(e){return e.chat.lastVisitedChannel})),o=Object(u.useSelector)((function(e){return e.session.user})),s=Object(u.useSelector)((function(e){return e.global.todos.count}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ir,{className:"".concat(n)},c.a.createElement(Pr,{className:"navbar-nav"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(Dr,{to:"/dashboard"},a.pageTitleDashboard)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Dr,{to:null!==i&&i.hasOwnProperty("code")?"/chat/".concat(i.code):"/chat"},a.pageTitleChat," ",c.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.chat_message>0?r.chat_message:null))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Dr,{to:"/posts"},a.pageTitlePosts," ",c.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.general_post>0?r.general_post:null))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Dr,{to:"/todos"},a.pageTitleTodos," ",c.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},s.todo_with_date>0?s.todo_with_date:null))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Dr,{to:"/files"},a.pageTitleFiles)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Dr,{to:"/people"},a.pageTitlePeople)),o.role&&["owner"].includes(o.role.name)&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(Dr,{to:"/bot"},a.bots)))))})),Fr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,327))})),Mr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,339))})),Ur=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,328))})),Gr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,329))})),Hr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,330))})),Br=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,332))})),Wr=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,331))})),Yr=Object(i.lazy)((function(){return n.e(9).then(n.bind(null,720))})),zr=E.a.div(Cr||(Cr=Object(h.a)(["\n  position: relative;\n  //padding-bottom: 0 !important;\n  // overflow: hidden;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n"]))),Vr=E.a.div(Tr||(Tr=Object(h.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),Qr=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=Object(g.cb)()._t,o={createWorkspace:r("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:r("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},s=Object(u.useDispatch)(),l=Object(g.gb)().loggedUser,d=Object(g.kb)(),m=Object(u.useSelector)((function(e){return e.workspaces})),p=m.workspaces,f=m.workspacesLoaded,b=m.favoriteWorkspacesLoaded,h=m.activeTopic,O=m.workspaceTimeline,E=null;Object.keys(O).length&&h&&O[h.id]&&(E=O[h.id]);var A=Object(g.B)(h&&h.member_ids.length?h.member_ids:[]);return c.a.createElement(zr,{className:"main-content ".concat(n)},f||b?c.a.createElement(c.a.Fragment,null,Object.keys(p).length>=1?c.a.createElement(c.a.Fragment,null,c.a.createElement(i.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(_.d,null,c.a.createElement(_.b,{render:function(e){return c.a.createElement(Yr,Object.assign({isExternal:a},e))},path:["/workspace/search"]}),c.a.createElement(_.b,{render:function(){return c.a.createElement(Mr,Object.assign({},e,{workspace:h,isMember:A,actions:d,workspaceTimeline:E}))},path:["/workspace/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/dashboard/:workspaceId/:workspaceName","/workspace/dashboard"]}),c.a.createElement(_.b,{exact:!0,render:function(){return c.a.createElement(Hr,Object.assign({},e,{workspace:h,isMember:A}))},path:["/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/posts/:workspaceId/:workspaceName","/workspace/posts"]}),c.a.createElement(_.b,{exact:!0,render:function(){return c.a.createElement(Fr,Object.assign({},e,{workspace:h}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/chat"]}),!a&&c.a.createElement(_.b,{exact:!0,render:function(){return c.a.createElement(Fr,Object.assign({},e,{workspace:h}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/team-chat/:workspaceId/:workspaceName","/workspace/chat"]}),c.a.createElement(_.b,Object.assign({exact:!0},e,{render:function(e){return c.a.createElement(Ur,Object.assign({},e,{workspace:h,isMember:A}))},path:["/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/files/:workspaceId/:workspaceName","/workspace/files"]})),c.a.createElement(_.b,{render:function(){return c.a.createElement(Gr,Object.assign({},e,{workspace:h,isMember:A}))},path:["/workspace/people/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/people/:workspaceId/:workspaceName","/workspace/people"]}),c.a.createElement(_.b,{render:function(){return c.a.createElement(Br,Object.assign({},e,{workspace:h,isMember:A}))},path:["/workspace/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/reminders/:workspaceId/:workspaceName","/workspace/reminders"]}),c.a.createElement(_.b,Object.assign({},e,{component:Wr,path:["/workspace/settings/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/settings/:workspaceId/:workspaceName","/workspace/settings"]})),c.a.createElement(_.a,{from:"*",to:{pathname:"/workspace/chat",state:{from:e.location}}})))):c.a.createElement(Vr,null,c.a.createElement("div",null,c.a.createElement(v.q,{height:275,icon:1}),"external"!==l.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,o.sidebarTextCreateWorkspace),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){s(Object(Qe.a)({type:"workspace_create_edit",mode:"add"}))}},o.createWorkspace))))):c.a.createElement("div",{className:"spinner-container"},c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))})),qr=(n(327),n(339),n(328),n(711));E.a.li(yr||(yr=Object(h.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"])),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Object(E.a)(v.s)(Sr||(Sr=Object(h.a)(["\n  width: 12px !important;\n"])));function Kr(){var e=Object(h.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return Kr=function(){return e},e}function Jr(){var e=Object(h.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return Jr=function(){return e},e}function Zr(){var e=Object(h.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return Zr=function(){return e},e}function Xr(){var e=Object(h.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"]);return Xr=function(){return e},e}E.a.li(Xr(),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),Object(E.a)(v.s)(Zr()),E.a.ul(Jr(),(function(e){return e.maxHeight})),Object(E.a)(v.s)(Kr());var $r,ei,ti=n(43),ni=n.n(ti),ai=E.a.div($r||($r=Object(h.a)(["\n  position: relative;\n  display: flex;\n  margin-left: 6px;\n  align-items: center;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n  .feather.feather-pencil {\n    width: 14px;\n    height: 14px;\n  }\n"]))),ri=Object(E.a)(ni.a)(ei||(ei=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ii=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(g.X)(),r=Object(g.cb)()._t,o={archiveThisWorkspace:r("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:r("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),archiveWorkspace:r("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:r("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:r("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:r("BUTTON.CANCEL","Cancel"),archiveBodyText:r("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:r("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?")},s=Object(i.useRef)(),l=Object(u.useDispatch)(),d=Object(u.useSelector)((function(e){return e.workspaces.activeTopic})),m=Object(u.useSelector)((function(e){return e.workspaces.folders})),p=Object(i.useState)(!1),f=Object(A.a)(p,2),b=f[0],h=f[1],_=function(){h(!b)},O=function(e){E(e.target.dataset.name)},E=function(e){var t={mode:"edit",item:d};t="folder"===e?Object(S.a)(Object(S.a)({},t),{},{type:"workspace_folder",item:m[d.folder_id]}):Object(S.a)(Object(S.a)({},t),{},{type:"workspace_create_edit"}),l(Object(Qe.a)(t))},j=function(){var e={id:d.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:d.is_external,push_unarchived:1};l(Object(Ke.nb)(e)),a.success(c.a.createElement("span",null,c.a.createElement("b",null,d.name," workspace is un-archived.")))};return Object(g.F)(s,_,b),Object(g.B)(d?d.member_ids:[])?c.a.createElement(ai,{className:"nav-item ".concat(n),ref:s},c.a.createElement("div",null,c.a.createElement("span",{className:"dropdown-toggle ".concat(b?"show":""),"data-toggle":"dropdown",onClick:function(){d&&null!==d.folder_id||d&&0===d.active?_():E("workspace")}},c.a.createElement(ri,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Workspace settings"},c.a.createElement(v.s,{icon:"pencil"}))),c.a.createElement("div",{className:"dropdown-menu ".concat(b?"show":"")},1===d.active?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:O},"Folder settings"),c.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:O},"Workspace settings")):c.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){var e={type:"confirmation",cancelText:o.cancel,headerText:o.unarchiveWorkspace,submitText:o.unarchiveWorkspace,bodyText:o.unarchiveBodyText,actions:{onSubmit:j}};l(Object(Qe.a)(e))}},"Un-archive workspace")))):null}));function ci(){var e=Object(h.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return ci=function(){return e},e}function oi(){var e=Object(h.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"]);return oi=function(){return e},e}E.a.li(oi(),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),Object(E.a)(v.s)(ci());function si(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  color: #8b8b8b;\n"]);return si=function(){return e},e}function li(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  color: #cbd4db;\n  .feather {\n    margin-left: 5px;\n  }\n"]);return li=function(){return e},e}function di(){var e=Object(h.a)(["\n  min-width: 0.8rem;\n  min-height: 0.8rem;\n  width: 0.8rem;\n  height: 0.8rem;\n"]);return di=function(){return e},e}function ui(){var e=Object(h.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  align-self: center;\n"]);return ui=function(){return e},e}function mi(){var e=Object(h.a)(["\n  display: flex;\n  padding-top: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n  .feather-star {\n    top: -2px;\n    right: -2px;\n  }\n  .feather-folder {\n    margin-right: 5px;\n    width: 0.7rem;\n    height: 0.7rem;\n  }\n  .workspace-folder-name {\n    font-size: 0.7rem;\n  }\n"]);return mi=function(){return e},e}var pi=E.a.div(mi()),fi=E.a.div(ui()),bi=Object(E.a)(v.s)(di()),hi=E.a.div(li()),_i=E.a.div(si()),Oi=function(e){var t=e.isExternal,n=e.onSelectWorkspace,a=e.workspace;return c.a.createElement(pi,{onClick:function(){n(a)}},c.a.createElement(Li,{avatarClassName:"avatar-sm",workspace:a}),c.a.createElement(fi,null,c.a.createElement(hi,null,c.a.createElement("span",{className:"text-truncate"},a.name),1===a.is_lock&&c.a.createElement(bi,{icon:"lock"}),a.is_shared&&!t&&c.a.createElement(bi,{icon:"eye"})),a.folder_name&&c.a.createElement(_i,{className:"workspace-folder-name"},c.a.createElement(bi,{icon:"folder"}),c.a.createElement("span",{className:"text-truncate"},a.folder_name))))};function Ei(){var e=Object(h.a)(["\n  position: absolute;\n  right: -7px;\n  top: -4px;\n  z-index: 1;\n  padding: 4px 8px;\n  font-size: 10px;\n  &.badge.badge-primary {\n    background: #3f034a;\n  }\n"]);return Ei=function(){return e},e}function gi(){var e=Object(h.a)(["\n  position: relative;\n"]);return gi=function(){return e},e}var Ai,vi,ji,Ci,Ti,yi,Si,wi,ki,Ni,Ri,xi,Ii,Pi=E.a.div(gi()),Di=Object(E.a)(qr.a)(Ei()),Li=function(e){var t=e.avatarClassName,n=void 0===t?"":t,a=e.onSelectWorkspace,r=void 0===a?null:a,i=e.workspace;return c.a.createElement(Pi,{className:"workspace-icon mr-3"},i.hasOwnProperty("workspace_counter_entries")&&i.workspace_counter_entries>0&&c.a.createElement(Di,{className:"badge badge-primary badge-pill ml-1"},i.workspace_counter_entries>99?"99+":i.workspace_counter_entries),c.a.createElement(v.a,{className:n,forceThumbnail:!1,type:"TOPIC",imageLink:i.channel?i.channel.icon_link:null,id:i.id,name:i.name,onClick:r,noDefaultClick:!r,showSlider:!1}))},Fi=n(206),Mi=E.a.div(Ai||(Ai=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .nav-item {\n    display: flex;\n    .mobile-private {\n      display: none;\n    }\n    @media all and (max-width: 440px) {\n      .badge.badge-danger {\n        display: none !important;\n      }\n      .mobile-private {\n        display: block;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 991.99px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n          overflow: auto;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 165px;\n    top: 0;\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]))),Ui=E.a.ul(vi||(vi=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      max-width: 80px;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    .badge {\n      display: flex;\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-eye {\n      color: inherit;\n      margin-left: 0;\n      margin-right: 0.4rem;\n      width: 11px !important;\n      height: 11px !important;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n    svg.feather-compass {\n      color: rgb(80, 80, 80);\n\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]))),Gi=E.a.h2(ji||(ji=Object(h.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),Hi=E.a.h2(Ci||(Ci=Object(h.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),Bi=E.a.span(Ti||(Ti=Object(h.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),Wi=E.a.h3(yi||(yi=Object(h.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .avatar {\n    height: 2rem;\n    width: 2rem;\n    margin-right: 0.25rem;\n  }\n  svg {\n    color: #64625c;\n  }\n  .feather-lock {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),Yi=E.a.h3(Si||(Si=Object(h.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),zi=Object(E.a)(v.s)(wi||(wi=Object(h.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n"]))),Vi=Object(E.a)(v.s)(ki||(ki=Object(h.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),Qi=function(e){var t=e.isExternal,n=Object(g.X)(),a=Object(u.useDispatch)(),r=Object(_.j)(),o=Object(u.useSelector)((function(e){return e.workspaces})),s=o.activeTopic,l=o.folders,d=o.workspacesLoaded,m=Object(u.useSelector)((function(e){return e.settings})),p=m.driff,f=m.user.GENERAL_SETTINGS.dark_mode,b=Object(u.useSelector)((function(e){return e.session.user})),h=Object(g.cb)()._t,O={allWorkspaces:h("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),pageTitleWorkspaceReminders:h("PAGE_TITLE.WORKSPACE_REMINDERS","Reminders"),pageTitleWorkspaceDashboard:h("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:h("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:h("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:h("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:h("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:h("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:h("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:h("PAGE_TITLE.WORKSPACE_SEARCH","Search workspace"),pageTitleSettings:h("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:h("PAGE_TITLE.TODOS","Reminders"),generalSearch:h("GENERAL.SEARCH","Search"),generalNotifications:h("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:h("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===f?h("SETTINGS.DARK_MODE","dark mode"):h("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:h("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:h("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:h("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:h("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:h("WORKSPACE.STATUS_ARCHIVED","Archived"),statusNoWorkspaceExternal:h("WORKSPACE.EXTERNAL_NO_WORKSPACES","You currently don't have any workspaces."),toasterJoinWorkspace:h("TOASTER.JOIN_WORKSPACE","You have joined ::topic_name::",{topic_name:s?"<b>#{activeTopic.name}</b>":""}),withClient:h("PAGE.WITH_CLIENT","With client"),somethingWentWrong:h("TOASTER.SOMETHING_WENT_WRONG","Something went wrong!")},E=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};Object(i.useEffect)((function(){var e=document.body,t="";switch(r.params.page){case"posts":t=O.pageTitleWorkspacePosts;break;case"chat":t=O.pageTitleWorkspaceChat;break;case"files":t=O.pageTitleWorkspaceFiles;break;case"people":t=O.pageTitleWorkspacePeople;break;case"settings":t=O.pageTitleSettings;break;case"reminders":t=O.pageTitleWorkspaceReminders;break;default:t=O.pageTitleWorkspaceDashboard}[O.pageTitleWorkspaceDashboard,O.pageTitleWorkspaceFiles,O.pageTitleWorkspacePeople].includes(t)?e.classList.remove("stretch-layout"):e.classList.add("stretch-layout"),s&&(s.unread_chats>=1||s.unread_posts>0?document.title="".concat(t," \u2039 * ").concat(s.name," \u2014 ").concat(p.company_name," @ Driff"):document.title="".concat(t," \u2039 ").concat(s.name," \u2014 ").concat(p.company_name," @ Driff"))}),[r.params.page,a,s,p.company_name]);var A=function(){var e={id:s.id,workspace_id:s.folder_id?s.folder_id:0,is_pinned:s.is_favourite?0:1};a(Object(Wt.g)(e,(function(t,a){t?n.error(O.somethingWentWrong):e.is_pinned?n.success(h("TOASTER.ADDED_TO_FAVORITES","::title:: added to favorites",{title:s.name})):n.success(h("TOASTER.REMOVED_FROM_FAVORITES","::title:: removed from favorites",{title:s.name}))})))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Mi,{className:"navbar-left"},c.a.createElement(Ui,{className:"navbar-nav"},"search"===r.params.page?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},c.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:E},c.a.createElement(v.s,{icon:"menu"}))),c.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},c.a.createElement(v.s,{className:"mr-2",icon:"compass"}),c.a.createElement(Hi,null,O.allWorkspaces))):s?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"navbar-wrap"},c.a.createElement("div",{className:"navbar-top"},c.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},c.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:E},c.a.createElement(v.s,{icon:"menu"}))),null===s.folder_id?c.a.createElement(c.a.Fragment,null,!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item nav-item-folder"},c.a.createElement(Gi,null,"Workspaces")),c.a.createElement("li",{className:"nav-item-chevron"},c.a.createElement(v.s,{icon:"chevron-right"}))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Wi,{className:"current-title"},c.a.createElement(v.a,{forceThumbnail:!1,type:s.type,imageLink:s.channel.icon_link,id:"ws_".concat(s.id),name:s.name,noDefaultClick:!1}),c.a.createElement(Bi,null,s.name))),1===s.is_lock&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(zi,{icon:"lock",className:"mobile-private ml-1"}),c.a.createElement("div",{className:"badge badge-danger text-white ml-1"},O.statusWorkspacePrivate)),0===s.active&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-light text-white ml-1"},O.statusWorkspaceArchived)),s.is_shared&&!t&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},c.a.createElement(zi,{icon:"eye"})," ",O.withClient)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Vi,{icon:"star",isFav:s.is_favourite,onClick:A})),c.a.createElement("li",{className:"nav-item"},!t&&c.a.createElement(ii,null))):c.a.createElement(c.a.Fragment,null,!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item nav-item-folder"},c.a.createElement(v.s,{icon:"folder",className:"mr-1"}),c.a.createElement(Gi,null,c.a.createElement(Bi,null,s.folder_name,l.hasOwnProperty(s.folder_id)&&1===l[s.folder_id].is_lock&&c.a.createElement(zi,{icon:"lock",strokeWidth:"2"})," "))),c.a.createElement("li",{className:"nav-item-chevron"},c.a.createElement(v.s,{icon:"chevron-right"}))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Wi,{className:"current-title"},c.a.createElement(v.a,{forceThumbnail:!1,type:s.type,imageLink:s.channel.icon_link,id:"ws_".concat(s.id),name:s.name,noDefaultClick:!1}),c.a.createElement(Bi,null,s.name))),1===s.is_lock&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(zi,{icon:"lock",className:"mobile-private ml-1"}),c.a.createElement("div",{className:"badge badge-danger text-white ml-1"},O.statusWorkspacePrivate)),0===s.active&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-light text-white ml-1"},O.statusWorkspaceArchived)),s.is_shared&&!t&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},c.a.createElement(zi,{icon:"eye"})," ",O.withClient)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Vi,{icon:"star",isFav:s.is_favourite,onClick:A})),c.a.createElement("li",{className:"nav-item"},!t&&c.a.createElement(ii,null)))),c.a.createElement("div",{className:"navbar-bottom"},c.a.createElement(_.b,Object.assign({},e,{exact:!0,render:function(e){return c.a.createElement(Zi,Object.assign({},e,{user:b,workspace:s}))},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page"]})))),c.a.createElement("li",{className:"nav-item-last"},c.a.createElement("div",{className:"nav-item-avatars-wrap"},c.a.createElement(Fi.a,{members:s.members})),s.member_ids.includes(b.id)&&!t?c.a.createElement("button",{onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:s};a(Object(Qe.a)(e))},className:"btn btn-primary",disabled:0===s.active},c.a.createElement(v.s,{icon:"user-plus"}),O.actionWorkspaceInvite):t?null:c.a.createElement("button",{onClick:function(){a(Object(Wt.K)({channel_id:s.channel.id,recipient_ids:[b.id]},(function(e,t){e||n.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:O.toasterJoinWorkspace}}))})))},className:"btn btn-primary",disabled:0===s.active},c.a.createElement(v.s,{icon:"user-plus"}),O.actionWorkspaceJoin))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},d&&c.a.createElement(c.a.Fragment,null,"external"===b.type?c.a.createElement(c.a.Fragment,null,O.statusNoWorkspaceExternal):c.a.createElement(Yi,{onClick:function(){a(Object(Qe.a)({type:"workspace_create_edit",mode:"create"}))}},O.actionWorkspaceNewWorkspace," ",c.a.createElement(v.s,{className:"ml-2",icon:"circle-plus"}))))))),c.a.createElement("div",null,c.a.createElement(j.b,{dictionary:O})))},qi=E.a.div(Ni||(Ni=Object(h.a)([""]))),Ki=E.a.ul(Ri||(Ri=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),Ji=Object(E.a)(v.k)(xi||(xi=Object(h.a)(['\n  color: #828282;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),Zi=c.a.memo((function(e){var t=Object(_.g)(),n=e.className,a=void 0===n?"":n,r=e.workspace,i=e.user,o=Object(u.useSelector)((function(e){return e.workspaces.workspaceReminders})),s=Object(_.i)(),l="undefined"!==typeof o[s.workspaceId],d=e.match.url;if("/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path)d=d.split("/post/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path)d=d.split("/folder/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:workspaceId/:workspaceName"===e.match.path&&"undefined"===typeof e.match.params.page){var m=d.split("/");m.splice(2,0,"chat"),t.push(m.join("/"))}else d=d.replace("/workspace/".concat(e.match.params.page),"");var p=Object(g.cb)()._t,f={pageTitleDashboard:p("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:p("PAGE_TITLE.POSTS","Posts"),pageTitleChat:p("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:p("PAGE_TITLE.FILES","Files"),pageTitlePeople:p("PAGE_TITLE.PEOPLE","People"),pageTitleClientChat:p("PAGE_TITLE.CLIENT_CHAT","Client chat"),pageTitleTeamChat:p("PAGE_TITLE.TEAM_CHAT","Team chat"),pageTitleReminders:p("PAGE_TITLE.REMINDERS","Reminders")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(qi,{className:"".concat(a)},c.a.createElement(Ki,{className:"navbar-nav"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ji,{isSub:!0,to:"/workspace/dashboard".concat(d)},f.pageTitleDashboard)),(r&&"internal"===i.type&&r.is_shared||r&&"internal"===i.type&&r.team_channel.code)&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ji,{isSub:!0,to:"/workspace/team-chat".concat(d)},f.pageTitleTeamChat,null!==r&&(null===r||void 0===r?void 0:r.team_unread_chats)>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.team_unread_chats))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ji,{isSub:!0,to:"/workspace/chat".concat(d)},r&&r.is_shared&&"internal"===i.type?f.pageTitleClientChat:f.pageTitleChat,null!==r&&r.unread_chats>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_chats))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ji,{isSub:!0,to:"/workspace/posts".concat(d)},f.pageTitlePosts,null!==r&&r.unread_posts>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_posts))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ji,{isSub:!0,to:"/workspace/reminders".concat(d)},f.pageTitleReminders,l&&o[s.workspaceId].count.todo_with_date>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},o[s.workspaceId].count.todo_with_date))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ji,{isSub:!0,to:"/workspace/files".concat(d)},f.pageTitleFiles)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(Ji,{isSub:!0,to:"/workspace/people".concat(d)},f.pageTitlePeople)))))})),Xi=(n(329),n(330),n(331),n(186)),$i=n.n(Xi),ec=E.a.div(Ii||(Ii=Object(h.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"])));c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(g.N)(),r=Object(g.nb)(),o=Object(u.useSelector)((function(e){return e.workspaces.search})),s=Object(u.useSelector)((function(e){return e.session.user})),l=o.count,d=o.maxPage,m=o.page,p=o.results,f=o.searching,b=o.filter_by,h=o.value;Object(i.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===h&&(r.search({search:"",skip:0,limit:25,filter_by:b},(function(e,t){e?r.updateSearch(Object(S.a)(Object(S.a)({},o),{},{searching:!1})):r.updateSearch(Object(S.a)(Object(S.a)({},o),{},{filter_by:b,searching:!1,count:t.data.total_count,results:t.data.workspaces,maxPage:Math.ceil(t.data.total_count/25)}))})),r.updateSearch(Object(S.a)(Object(S.a)({},o),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var _=Object(g.cb)()._t,O={labelResultsFor:_("LABEL.RESULTS_FOR","results found for: "),labelSearching:_("LABEL.SEARCHING","Searching "),sidebarWorkspaces:_("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:_("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:_("BUTTON.PREV_PAGE","Previous")};return c.a.createElement(ec,{className:"user-search-panel container-fluid h-100 ".concat(n)},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement(Tc,{actions:r,search:o}),""!==h?c.a.createElement("h4",{className:"mb-5"},c.a.createElement(v.s,{icon:"search"}),f&&c.a.createElement("span",null,O.labelSearching,c.a.createElement("span",{className:"text-primary"},"\u201c",h,"\u201d")),!f&&c.a.createElement("span",null,l," ",O.labelResultsFor,c.a.createElement("span",{className:"text-primary"},"\u201c",h,"\u201d"))):c.a.createElement("h4",{className:"mb-5"},p.length>0&&c.a.createElement("span",null,l," ",O.sidebarWorkspaces)),p.length>0&&c.a.createElement(Oc,{user:s,actions:r,page:m,results:p,redirect:a}),l>25&&c.a.createElement("nav",{className:"mt-3"},c.a.createElement($i.a,{previousLabel:O.buttonPrevPage,nextLabel:O.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:d,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t=e.selected+1;p.length===l?r.updateSearch(Object(S.a)(Object(S.a)({},o),{},{filter_by:b,page:t})):(p.length<25*t&&r.search({search:h,skip:p.length,limit:25*t-p.length,filter_by:b},(function(e,n){e?r.updateSearch(Object(S.a)(Object(S.a)({},o),{},{searching:!1,filter_by:b})):r.updateSearch(Object(S.a)(Object(S.a)({},o),{},{searching:!1,filter_by:b,count:n.data.total_count,results:[].concat(Object(_t.a)(n.data.workspaces),Object(_t.a)(p)),maxPage:Math.ceil(n.data.total_count/25),page:t}))})),r.updateSearch(Object(S.a)(Object(S.a)({},o),{},{filter_by:b,value:h,searching:!0,page:t})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))}));function tc(){var e=Object(h.a)(["\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n"]);return tc=function(){return e},e}function nc(){var e=Object(h.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  stroke-width: 3px;\n  margin-right: 3px;\n  margin-bottom: 0.1rem;\n"]);return nc=function(){return e},e}function ac(){var e=Object(h.a)(["\n  width: 1rem;\n  height: 1rem;\n  stroke-width: 2px;\n"]);return ac=function(){return e},e}function rc(){var e=Object(h.a)(["\n  margin-left: auto;\n  display: none;\n"]);return rc=function(){return e},e}function ic(){var e=Object(h.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  :hover {\n    button {\n      display: inline-flex;\n    }\n  }\n"]);return ic=function(){return e},e}var cc,oc,sc,lc,dc,uc,mc=E.a.li(ic()),pc=E.a.button(rc()),fc=Object(E.a)(v.s)(ac()),bc=Object(E.a)(v.s)(nc()),hc=Object(E.a)(v.s)(tc()),_c=function(e){var t=e.dictionary,n=e.onJoinWorkspace,a=e.onLeaveWorkspace,r=e.item,i=e.redirect,o=e.workspaces,s=r.topic,l=r.workspace,d=Object(g.B)(r.members.map((function(e){return e.id})));return c.a.createElement(mc,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:s.id,name:s.name,folder_id:l?l.id:null,folder_name:l?l.name:null};o.hasOwnProperty(s.id)?i.toWorkspace(e):i.fetchWorkspaceAndRedirect(e)}},c.a.createElement("div",{className:"workspace-search-detail"},c.a.createElement("div",{className:"workspace-title-status"},c.a.createElement("h5",null,s.name),s.is_locked&&c.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelPrivate),s.is_archive&&c.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelArchived),!s.is_archive&&!s.is_locked&&c.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelOpen),s.is_shared&&c.a.createElement("span",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},c.a.createElement(hc,{icon:"eye"})," ",t.externalAccess)),c.a.createElement("ul",{className:"workspace-detail-lists"},d&&c.a.createElement("li",{className:"text-success"},c.a.createElement(fc,{icon:"check"}),t.labelJoined),c.a.createElement("li",null,r.members.length," ",1===r.members.length?t.member:t.members),c.a.createElement("li",null,c.a.createElement(bc,{icon:"folder"}),l?l.name:"Workspaces"),c.a.createElement("li",null,Object(Bt.j)(s.description)))),d?c.a.createElement(pc,{onClick:function(e){e.stopPropagation(),a(r)},className:"btn btn-primary join-button"},t.buttonLeave):c.a.createElement(pc,{onClick:function(e){e.stopPropagation(),n(r)},className:"btn btn-primary join-button"},c.a.createElement(v.s,{icon:"user-plus"}),t.buttonJoin))},Oc=function(e){var t=e.actions,n=e.page,a=e.results,r=e.redirect,i=e.user,o=Object(u.useDispatch)(),s=Object(u.useSelector)((function(e){return e.workspaces.workspaces})),l=Object(g.X)(),d=Object(g.cb)()._t,m={labelArchived:d("LABEL.ARCHIVED","Archived"),labelPrivate:d("LABEL.PRIVATE","Private"),labelOpen:d("LABEL.OPEN","Open"),labelJoined:d("LABEL.JOINED","Joined"),sidebarWorkspaces:d("SIDEBAR.WORKSPACES","Workspaces"),member:d("LABEL.MEMBER","member"),members:d("LABEL.MEMBERS","members"),buttonJoin:d("BUTTON.JOIN","Join"),buttonLeave:d("BUTTON.LEAVE","Leave"),leaveWorkspace:d("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:d("TOASTER.JOIN_WORKSPACE","You have joined #"),externalAccess:d("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access")},p=function(e){var n={channel_id:e.channel.id,recipient_ids:[i.id]};t.join(n,(function(t,n){t||(!function(e){var t={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};s.hasOwnProperty(e.topic.id)?r.toWorkspace(t):r.fetchWorkspaceAndRedirect(t)}(e),l.success(c.a.createElement(c.a.Fragment,null,m.joinWorkspace,c.a.createElement("b",null,e.topic.name))))}))},f=function(e){if(1===e.members.length&&e.topic.is_locked){var t={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};o(Object(Ke.nb)(t))}else{var n={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[i.id]};n.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:i.id,name:i.name,first_name:i.first_name,partial_name:i.partial_name,profile_image_link:i.profile_image_thumbnail_link?i.profile_image_thumbnail_link:i.profile_image_link},title:"",added_members:[],removed_members:[i.id]}));o(Object(Wt.M)({workspace_id:e.topic.id,channel_id:e.channel.id},(function(t,n){t||l.success(c.a.createElement(c.a.Fragment,null,m.leaveWorkspace,c.a.createElement("b",null,e.topic.name)))}))),o(Object(Wt.T)(n))}};return c.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},c.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},c.a.createElement("ul",{className:"list-group list-group-flush"},a.sort((function(e,t){return e.topic.name.localeCompare(t.topic.name)})).slice(n>1?25*n-25:0,25*n).map((function(e){return c.a.createElement(_c,{key:e.topic.id,dictionary:m,onJoinWorkspace:p,onLeaveWorkspace:f,item:e,redirect:r,workspaces:s})})))))},Ec=E.a.div(cc||(cc=Object(h.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"])),""),gc=Object(E.a)(v.s)(oc||(oc=Object(h.a)(["\n  stroke-width: 2px;\n"]))),Ac=E.a.div(sc||(sc=Object(h.a)([""]))),vc=E.a.div(lc||(lc=Object(h.a)(["\n  margin-bottom: 5px;\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n"]))),jc=E.a.ul(dc||(dc=Object(h.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  label {\n    margin: 0;\n  }\n  .custom-control {\n    min-height: 1rem;\n  }\n"]))),Cc=E.a.div(uc||(uc=Object(h.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"])),(function(e){return e.maxHeight})),Tc=function(e){var t=e.actions,n=e.search,a=n.value,r=n.searching,o=n.filterBy,s=n.filters,l=Object(i.useState)(a),d=Object(A.a)(l,2),u=d[0],m=d[1],p=Object(i.useState)(o),f=Object(A.a)(p,2),b=f[0],h=f[1],_=Object(i.useState)(s),O=Object(A.a)(_,2),E=O[0],j=O[1],C=function(){t.search({search:u,skip:0,limit:25,filter_by:b},(function(e,a){e?t.updateSearch(Object(S.a)(Object(S.a)({},n),{},{searching:!1})):t.updateSearch(Object(S.a)(Object(S.a)({},n),{},{value:u,filter_by:b,searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25),page:1}))})),t.updateSearch({results:[],value:u,filter_by:b,searching:!0})},T=function(){t.updateSearch({results:[],searching:!0,value:"",filter_by:"",page:1,maxPage:1,count:0}),t.search({search:"",skip:0,limit:25,filter_by:""},(function(e,a){e?t.updateSearch(Object(S.a)(Object(S.a)({},n),{},{searching:!1,value:"",filter_by:""})):t.updateSearch(Object(S.a)(Object(S.a)({},n),{},{value:"",filter_by:"",searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25)}))})),m("")},y=function(e){var t=e.target.dataset.name;j((function(e){return function(e,t){h((function(n){return e[t].checked?"":t})),e[t].checked=!e[t].checked;var n=Object.values(e).reduce((function(e,n){return t!==n.key&&(n.checked=!1,e[n.key]=Object(S.a)({},n)),e}),{});return Object(S.a)(Object(S.a)({},e),n)}(e,t)}))};Object(i.useEffect)((function(){Object.values(E).map((function(e){return e.checked})).includes(!0)&&!r||a?t.updateSearch({results:[],value:u,filter_by:b,searching:!0},(function(){C()})):T()}),[b]),Object(i.useEffect)((function(){m(a)}),[a]);var w=Object(g.cb)()._t,k={searchWorkspaceSearchPlaceholder:w("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:w("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:w("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:w("WORKSPACE.PRIVATE","Private"),archived:w("WORKSPACE.ARCHIVED","Archived"),nonMember:w("WORKSPACE.NON_MEMBER","Non Member"),new:w("WORKSPACE.NEW","New"),external:w("WORKSPACE.EXTERNAL","External")};return c.a.createElement(Ec,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row d-flex justify-content-center"},c.a.createElement("h2",{className:"mb-4 text-center"},k.searchWorkspaceSearchTitle),c.a.createElement("div",{className:"input-group"},c.a.createElement(Ac,{className:"input-wrap"},c.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==a?T():m(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||r||C()},type:"text",className:"form-control",placeholder:k.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:u}),""!==u.trim()&&c.a.createElement("button",{className:"btn-cross",type:"button",onClick:T},c.a.createElement(gc,{icon:"x"}))),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:C},c.a.createElement(v.s,{icon:"search"})))),c.a.createElement(Cc,{className:"enter-active"},c.a.createElement("div",{className:"row d-flex justify-content-center my-3"},c.a.createElement(vc,{className:"px-3"},c.a.createElement(v.s,{icon:"sliders"})),c.a.createElement(jc,{className:"d-flex"},Object.values(E).map((function(e){return c.a.createElement("li",{className:"d-flex align-items-center mr-2",key:e.key},c.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success"},c.a.createElement(D.a,{name:e.key,checked:e.checked,type:"danger",onClick:y})),c.a.createElement("span",null,k[e.key]))}))))))))};n(332);function yc(){var e=Object(h.a)([""]);return yc=function(){return e},e}var Sc=E.a.div(yc()),wc=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal;return c.a.createElement(Sc,{className:"header ".concat(n)},c.a.createElement(_.d,null,c.a.createElement(_.b,{render:function(){return c.a.createElement(Qi,Object.assign({isExternal:a},e))},path:["/workspace/:page"]}),c.a.createElement(_.b,{render:function(){return c.a.createElement(xr,Object.assign({isExternal:a},e))},path:["/:page"]})))}));function kc(){var e=Object(h.a)([""]);return kc=function(){return e},e}var Nc=E.a.div(kc()),Rc=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.showNotificationBar;return c.a.createElement(Nc,{className:"navigation ".concat(n," ").concat(a&&"notification-bar")},c.a.createElement(_.b,{exact:!0,render:function(){return c.a.createElement(ro,e)},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile/:id","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people","/magic-link/:token","/:page"]}))})),xc=n(703);function Ic(){var e=Object(h.a)([""]);return Ic=function(){return e},e}function Pc(){var e=Object(h.a)(["\n  padding: 15px 30px 0 30px;\n  color: #cbd4db;\n  > div {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      :hover {\n        cursor: pointer;\n        color: #fff;\n      }\n    }\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n    margin-right: 15px;\n  }\n"]);return Pc=function(){return e},e}var Dc,Lc,Fc,Mc,Uc,Gc,Hc,Bc,Wc,Yc,zc,Vc,Qc,qc,Kc=E.a.div(Pc()),Jc=Object(E.a)(v.s)(Ic()),Zc=function(e){var t=e.dictionary,n=e.isExternal,a=e.onShowModalButtons,r=e.showButtons,o={btn1Ref:Object(i.useRef)(null),btn2Ref:Object(i.useRef)(null),btn3Ref:Object(i.useRef)(null),btn4Ref:Object(i.useRef)(null)},s=Object(u.useDispatch)(),l=Object(g.X)();return Object(g.F)(o.btn1Ref,a,r),Object(g.F)(o.btn2Ref,a,r),Object(g.F)(o.btn3Ref,a,r),Object(g.F)(o.btn4Ref,a,r),c.a.createElement(xc.a,{appear:!0,in:r,timeout:300,unmountOnExit:!0,classNames:"bslide"},c.a.createElement(Kc,null,!n&&c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),s(Object(Qe.a)({type:"chat_create_edit",mode:"new"}))},ref:o.btn1Ref},c.a.createElement(Jc,{icon:"message-circle"}),t.chat)),c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),s(Object(Qe.a)({type:"post_modal",mode:"create",item:{post:null}}))},ref:o.btn2Ref},c.a.createElement(Jc,{icon:"file-text"}),t.post)),c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){var e={type:"todo_reminder",actions:{onSubmit:function(e){s(Object(Qe.K)(e,(function(e,n){e&&l.error(t.toasterGeneraError),n&&l.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.toasterCreateTodo}}))})))}}};a(),s(Object(Qe.a)(e))},ref:o.btn3Ref},c.a.createElement(Jc,{icon:"calendar"}),t.reminder)),!n&&c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),s(Object(Qe.a)({type:"workspace_create_edit",mode:"create"}))},ref:o.btn4Ref},c.a.createElement(Jc,{icon:"compass"}),t.workspace))))},Xc=E.a.div(Dc||(Dc=Object(h.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //padding: 30px;\n    margin-bottom: 1rem;\n    min-height: 74px;\n    max-height: 74px;\n    background-color: #3f034a;\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 20px 0;\n    }\n    .dark & {\n      background-color: inherit;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]))),$c=Object(E.a)(v.r)(Lc||(Lc=Object(h.a)(["\n  width: 84px;\n  height: 56px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]))),eo=Object(E.a)(v.s)(Fc||(Fc=Object(h.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]))),to=E.a.button(Mc||(Mc=Object(h.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 15px 30px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  color: #ffffff !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]))),no=E.a.span(Uc||(Uc=Object(h.a)(['\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  :before {\n    content: "";\n    position: absolute;\n    width: 6px;\n    height: 6px;\n    right: -6px;\n    border-radius: 50%;\n    top: -2px;\n    background: #f44;\n  }\n']))),ao=Object(E.a)(v.s)(Gc||(Gc=Object(h.a)([""]))),ro=function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=Object(_.g)(),o=Object(u.useDispatch)(),s=Object(u.useSelector)((function(e){return e.global.todos.count})),l=Object(g.S)(),d=l.updateCompanyName,m=l.driffSettings,p=l.generalSettings,f=l.userSettings,b=Object(u.useSelector)((function(e){return e.session.user})),h=Object(g.cb)()._t,O=Object(i.useState)(!1),E=Object(A.a)(O,2),v=E[0],j=E[1],C={allWorkspaces:h("SIDEBAR.ALL_WORKSPACES","Browse workspaces"),people:h("SIDEBAR.PEOPLE","All people"),workspace:h("SIDEBAR.WORKSPACE","Workspace"),workspaces:h("SIDEBAR.WORKSPACES","Workspaces"),chats:h("SIDEBAR.CHATS","Chats"),yourWorkspaces:h("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:h("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:h("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:h("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:h("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:h("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:h("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:h("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:h("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:h("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:h("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:h("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:h("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:h("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace"),bots:h("SIDEBAR.BOTS","Bots"),favoriteWorkspaces:h("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),browseAll:h("SIDEBAR.BROWSE_ALL","Browse all..."),toasterCreateTodo:h("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterGeneraError:h("TOASTER.GENERAL_ERROR","An error has occurred try again!"),chat:h("SIDEBAR.CHAT","Chat"),post:h("SIDEBAR.POST","Post"),reminder:h("SIDEBAR.REMINDER","Reminder"),addNew:h("SIDEBAR.ADD_NEW","Add new"),startBrowsing:h("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:h("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:b.first_name})},T=function(){j((function(e){return!e}))};return c.a.createElement(Xc,{className:"navigation-menu-tab ".concat(n)},c.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},(m.READ_RELEASE_UPDATES&&f.READ_RELEASE_UPDATES&&m.READ_RELEASE_UPDATES.timestamp>f.READ_RELEASE_UPDATES.timestamp||null===(null===f||void 0===f?void 0:f.READ_RELEASE_UPDATES))&&c.a.createElement(no,null,c.a.createElement(ao,{icon:"gift",color:"#fff",onClick:function(){r.push("/releases")}})),c.a.createElement($c,{icon:"driff-logo2","data-link":"/",onClick:function(e){e.preventDefault(),e.target.dataset.link?o(Object(Qe.V)({mode:3})):o(Object(Qe.V)({mode:2})),r.push(e.target.dataset.link)}}),c.a.createElement(Qo,null)),c.a.createElement(zo,{count:s,dictionary:C,isExternal:a,driffSettings:m,user:b,updateCompanyName:d}),c.a.createElement(fo,{dictionary:C,generalSettings:p,isExternal:a,user:b}),c.a.createElement(Zc,{dictionary:C,isExternal:a,onShowModalButtons:T,showButtons:v}),c.a.createElement("div",null,c.a.createElement(to,{onClick:T,className:"btn btn-outline-light",type:"button"},c.a.createElement("div",null,c.a.createElement(eo,{icon:"circle-plus"}),C.addNew))))},io=E.a.div(Hc||(Hc=Object(h.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  min-height: 0;\n"]))),co=Object(E.a)(ni.a)(Bc||(Bc=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),oo=Object(E.a)(v.s)(Wc||(Wc=Object(h.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n  margin-left: 5px;\n"]))),so=E.a.div(Yc||(Yc=Object(h.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),lo=E.a.div(zc||(zc=Object(h.a)(["\n  margin: 0 15px;\n  display: flex;\n  align-items: center;\n  color: rgba(255, 255, 255, 0.6);\n  border-top: 2px solid;\n  padding: 15px 0;\n  > span {\n    margin-left: 15px;\n  }\n"]))),uo=E.a.span(Vc||(Vc=Object(h.a)(["\n  color: rgba(255, 255, 255, 0.6);\n  text-decoration: underline;\n  :hover {\n    cursor: pointer;\n  }\n"]))),mo=E.a.div(Qc||(Qc=Object(h.a)(["\n  padding: 0 30px;\n  overflow: auto;\n"]))),po=E.a.div(qc||(qc=Object(h.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  color: #cbd4db;\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]))),fo=function(e){var t=e.dictionary,n=e.isExternal,a=e.user,r=Object(u.useDispatch)(),i=Object(g.jb)(),o=i.actions,s=i.folders,l=i.history,d=i.orderChannel,m=i.workspaces,p=i.favoriteWorkspacesLoaded,f=Object(u.useSelector)((function(e){return e.chat.selectedChannelId})),b=Object(u.useSelector)((function(e){return Object.keys(e.chat.channels)})),h=Object(u.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),_=Object(u.useSelector)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),O=Object.values(m).find((function(e){return _&&_.id===e.id})),E=Object(u.useSelector)((function(e){return e.chat.companyChannel})),A=function(){r(Object(Qe.a)({type:"workspace_create_edit",mode:"create"}))},j=Object.values(m).sort((function(e,t){return"channel_date_updated"===d.order_by?-1:e.name.localeCompare(t.name)})).filter((function(e){return e.is_favourite})),C=function(e){if(O&&e.id===O.id&&E)l.push("/chat/".concat(E.code)),o.selectChannel({id:E.id});else{if(document.body.classList.remove("navigation-show"),f&&!h){var t=document.getElementById("component-chat-thread");t&&r(Object(Ke.Eb)({channel_id:f,scrollPosition:t.scrollHeight-t.scrollTop}))}f&&f!==e.channel.id&&b.some((function(t){return parseInt(t)===e.channel.id}))&&o.selectChannel({id:e.channel.id}),o.selectWorkspace(e),o.redirectTo(e)}},T=function(){l.push("/workspace/search")},y=function(){return c.a.createElement(so,null,c.a.createElement("div",null,c.a.createElement(v.q,{height:200,icon:2}),"external"!==a.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,t.sidebarTextCreateWorkspace),c.a.createElement("button",{className:"btn btn-primary mt-2",onClick:A},t.createWorkspace))))};return c.a.createElement(io,null,c.a.createElement(lo,null,c.a.createElement("span",null,t.favoriteWorkspaces),!n&&c.a.createElement(co,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"New folder"},c.a.createElement(oo,{onClick:function(){r(Object(Qe.a)({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),c.a.createElement(mo,null,c.a.createElement("div",{id:"elements",className:"open"},p&&Object.values(m).length>0&&0===j.length&&c.a.createElement(po,null,c.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.addYourFavWs}}),c.a.createElement(uo,{onClick:T},t.startBrowsing)),p&&0===Object.values(s).length&&0===Object.values(m).length&&c.a.createElement(y,null),p&&Object.values(m).length>0&&j.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,j.map((function(e){return c.a.createElement(Oi,{key:e.id,isExternal:n,onSelectWorkspace:C,workspace:e})}))),c.a.createElement(uo,{onClick:T},t.browseAll)))))};function bo(){var e=Object(h.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return bo=function(){return e},e}function ho(){var e=Object(h.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n  width: 1rem !important;\n  height: 1rem !important;\n"]);return ho=function(){return e},e}function _o(){var e=Object(h.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  &.enter-active {\n    max-height: 250px;\n    overflow: scroll;\n  }\n  // &.enter-active {\n  //   max-height: ","px !important;\n  // }\n  &.leave-active {\n    max-height: 0;\n  }\n  li.personal-link {\n    min-height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      min-height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      &.shorcut-title {\n        padding-left: 0.5rem;\n        font-weight: 500;\n      }\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n  li.shorcut-title-link {\n    padding: 0;\n\n    .shorcut-title {\n      background: #ffffff10;\n    }\n  }\n"]);return _o=function(){return e},e}function Oo(){var e=Object(h.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s ease;\n  > a {\n    position: relative;\n    font-weight: ",";\n    display: flex;\n    color: #fff;\n    height: 40px;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n  .quick-links {\n    .feather-pencil {\n      display: none;\n    }\n    &:hover {\n      .sub-menu-arrow {\n        margin-left: ",";\n      }\n      .feather-pencil {\n        display: ",";\n      }\n    }\n  }\n"]);return Oo=function(){return e},e}var Eo=E.a.li(Oo(),(function(e){return e.selected?"600":"400"}),(function(e){return e.showEditIcon?"10px":"auto"}),(function(e){return e.showEditIcon?"block":"none"})),go=E.a.ul(_o(),(function(e){return e.maxHeight})),Ao=Object(E.a)(v.s)(ho()),vo=Object(E.a)(v.s)(bo()),jo=function(e){var t=e.className,n=void 0===t?"":t,a=e.user,r=e.dictionary,o=Object(g.S)(),s=o.generalSettings,l=o.showModal,d=Object(u.useSelector)((function(e){return e.global.links})),m=new RegExp("^(http|https)://"),p={container:Object(i.useRef)(),arrow:Object(i.useRef)(),nav:Object(i.useRef)()},f=Object(i.useState)(!1),b=Object(A.a)(f,2),h=b[0],_=b[1],O=function(e){var t=e.currentTarget.dataset.index;l("personal_link_edit",Object(S.a)(Object(S.a)({},s.personal_links[t]),{},{index:t}))};return c.a.createElement(Eo,{ref:p.container,className:"fadeIn ".concat(n," ").concat(h&&"folder-open"),selected:h,showEditIcon:a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)},c.a.createElement("a",{className:"quick-links",href:"/",onClick:function(e){e.preventDefault(),_((function(e){return!e}))}},c.a.createElement(Ao,{icon:"link"}),c.a.createElement("div",null,r.shortcuts),a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)&&c.a.createElement(vo,{icon:"pencil",onClick:function(){window.open("".concat("https://").concat(localStorage.getItem("slug"),".driff.io/admin/quick-links"),"_blank")}}),c.a.createElement("i",{ref:p.arrow,className:"sub-menu-arrow ti-angle-up ".concat(h?"ti-minus rotate-in":"ti-plus")})),c.a.createElement(go,{ref:p.nav,className:h?"enter-active":"leave-active"},c.a.createElement("li",{className:"personal-link shorcut-title-link"},c.a.createElement("div",{className:"shorcut-title"},r.personalLinks)),s.personal_links.map((function(e,t){return c.a.createElement("li",{key:t,className:"personal-link"},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("a",{href:m.test(e.web_address)?e.web_address:"https://".concat(e.web_address),target:"_blank",rel:"noopener noreferrer"},e.name)),c.a.createElement("div",{className:"action"},c.a.createElement(v.s,{className:"cursor-pointer","data-index":t,icon:"pencil",onClick:O}))))})),s.personal_links.length<5&&c.a.createElement("li",{className:"personal-link nav-action cursor-pointer",onClick:function(){l("personal_link_create")}},c.a.createElement("div",{className:"justify-content-start"},c.a.createElement(v.s,{icon:"circle-plus",width:24,height:24})," ",r.addPersonalShortcut)),"external"!==a.type&&d.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:e.id},0===t&&c.a.createElement("li",{className:"personal-link shorcut-title-link pt-2"},c.a.createElement("div",{className:"shorcut-title"},r.companyLinks)),c.a.createElement(yo,{link:e,className:"quick-links"}))}))))};function Co(){var e=Object(h.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  div {\n    position: relative;\n    height: 40px;\n    display: inline-flex;\n    align-items: center;\n    svg {\n      margin-left: 6px;\n    }\n    a {\n      display: block;\n      background-color: transparent;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return Co=function(){return e},e}var To=E.a.li(Co(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),yo=function(e){var t=e.className,n=void 0===t?"":t,a=e.link;return c.a.createElement(To,{className:"topic-list ".concat(n)},c.a.createElement("div",null,c.a.createElement("a",{href:a.link,target:"_blank"},a.menu_name)))};function So(){var e=Object(h.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return So=function(){return e},e}function wo(){var e=Object(h.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  li {\n    height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return wo=function(){return e},e}function ko(){var e=Object(h.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n"]);return ko=function(){return e},e}E.a.li(ko(),(function(e){return e.selected?"600":"400"})),E.a.ul(wo(),(function(e){return e.maxHeight})),Object(E.a)(v.s)(So());function No(){var e=Object(h.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return No=function(){return e},e}function Ro(){var e=Object(h.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n"]);return Ro=function(){return e},e}E.a.li(Ro(),(function(e){return e.selected?"600":"400"})),Object(E.a)(v.s)(No());function xo(){var e=Object(h.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px;\n  border-radius: 8px;\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]);return xo=function(){return e},e}function Io(){var e=Object(h.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return Io=function(){return e},e}function Po(){var e=Object(h.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]);return Po=function(){return e},e}function Do(){var e=Object(h.a)(["\n  .badge {\n    padding: 4px 8px;\n    font-size: 9px;\n  }\n"]);return Do=function(){return e},e}var Lo,Fo,Mo,Uo,Go,Ho=E.a.div(Do()),Bo=E.a.div(Po()),Wo=Object(E.a)(v.s)(Io()),Yo=Object(E.a)(v.k)(xo()),zo=function(e){var t=e.dictionary,n=e.isExternal,a=e.driffSettings,r=e.user,o=e.updateCompanyName,s=Object(_.i)(),l=Object(_.h)(),d=Object(u.useSelector)((function(e){return e.chat.lastVisitedChannel})),m=Object(i.useState)(a.company_name),p=Object(A.a)(m,2),f=p[0],b=p[1],h=Object(i.useState)(!1),O=Object(A.a)(h,2),E=O[0],g=O[1],j=Object(i.useRef)(null);Object(i.useEffect)((function(){j.current&&j.current.select()}),[E]);var C=function(){document.body.classList.remove("navigation-show")},T=function(){g((function(e){var t=!e;return t||a.company_name===f||o({company_name:f}),t}))};return c.a.createElement(Ho,{className:"flex navigation-menu-tab-header-options"},c.a.createElement("ul",null,!n&&c.a.createElement("li",{onClick:C,className:"driff-company-name ".concat(E?"active":"")},E?c.a.createElement(Bo,{className:"active"},c.a.createElement(Wo,{icon:"home"}),c.a.createElement("input",{ref:j,defaultValue:a.company_name,onChange:function(e){b(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:T();break;default:return}},name:"company-name",autoFocus:!0})):c.a.createElement(Yo,{active:["dashboard","posts","chat","files","people"].includes(s.page),to:null!==d&&d.hasOwnProperty("code")?"/chat/".concat(d.code):"/chat"},c.a.createElement(Wo,{icon:"home"}),a.company_name),r.role&&["owner","admin"].includes(r.role.name)&&c.a.createElement(c.a.Fragment,null,E?c.a.createElement(v.s,{className:"action",onClick:T,icon:"save"}):c.a.createElement(v.s,{className:"action",onClick:T,icon:"pencil"}))),c.a.createElement("li",{onClick:C},c.a.createElement(Yo,{to:"/workspace/search",active:["/workspace/search"].includes(l.pathname)},c.a.createElement(Wo,{icon:"compass"}),c.a.createElement("div",null,t.allWorkspaces))),"internal"===r.type&&c.a.createElement("li",null,c.a.createElement(Yo,{to:"/system/people",active:["/system/people"].includes(l.pathname)},c.a.createElement(Wo,{icon:"user"}),c.a.createElement("div",null,t.people))),c.a.createElement(jo,{user:r,dictionary:t})))},Vo=E.a.span(Lo||(Lo=Object(h.a)(["\n  cursor: pointer;\n  position: absolute;\n  ","\n  right: 10px;\n"])),(function(e){return e.gift?"top: 10px;":""})),Qo=function(e){var t=Object(_.g)(),n=Object(_.i)(),a=Object(g.kb)(),r=Object(u.useSelector)((function(e){return e.settings})),o=r.driff,s=r.user,l=Object(u.useSelector)((function(e){return e.workspaces.workspaces})),d=Object(u.useSelector)((function(e){return e.workspaces.activeTopic})),m=Object(u.useSelector)((function(e){return e.chat.selectedChannel})),p=Object(u.useSelector)((function(e){return Object.values(e.chat.channels).map((function(e){return{id:e.id,code:e.code}}))}));Object(i.useEffect)((function(){if(n.workspaceId&&d&&parseInt(n.workspaceId)!==d.id&&l[n.workspaceId]&&a.selectWorkspace(l[n.workspaceId]),n.code&&m&&m.code!==n.code){var e=p.find((function(e){return e.code===n.code}));e&&a.selectChannel({id:e.id})}}),[n,l,d,m]);return c.a.createElement(Vo,{gift:!!(o.READ_RELEASE_UPDATES&&s.READ_RELEASE_UPDATES&&o.READ_RELEASE_UPDATES.timestamp>s.READ_RELEASE_UPDATES.timestamp||null===(null===s||void 0===s?void 0:s.READ_RELEASE_UPDATES))},c.a.createElement(v.s,{icon:"chevron-left",color:"#fff",onClick:function(){t.goBack()}}))},qo=n(46),Ko=E.a.div(Fo||(Fo=Object(h.a)(["\n.snooze-container {}\n.snooze-container .snooze-body {}\n.snooze-container .snooze-me {font-size: 12px; margin:0 5px; text-decoration: underline;}\n.snooze-all-container {background: transparent;\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n  height: auto;\n  min-height: 25px;}\n.snooze-all-container .snooze-all-body {height: auto; font-size: 12px; margin:0 5px; text-decoration: underline;}\n.robotAvatar {margin-right : 1rem; height: 2.7rem; width: 2.7rem }\n.robotAvatar div { background: #F1F2F7; border-radius: 40px; font-size: 25px; text-align: center; width: 100%; height: 100%;}\n"]))),Jo=Object(E.a)(v.s)(Mo||(Mo=Object(h.a)(["\n  width: 12px;\n  height:12px;\n"]))),Zo=(Object(E.a)(v.s)(Uo||(Uo=Object(h.a)(["\nwidth: 16px;  height:16px;"]))),E.a.div(Go||(Go=Object(h.a)(["\n  cursor: pointer;\n  display: flex;\n  font-family: Inter;\n  letter-spacing: 0;\n  font-size: 12px;\n  .avatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  p {\n    margin: 0;\n  }\n"])))),Xo=function(e){var t=Object(g.E)(),n=t.notifications,a=(t.unreadNotifications,t.notificationSnooze),r=Object(g.Z)(!0),o=r.getReminders,s=(r.items,Object(u.useSelector)((function(e){return e.global.todos}))),l=Object(u.useSelector)((function(e){return e.session.user})),d=Object(g.cb)()._t,m=(Object(g.W)().fromNow,Object(g.D)()),p=Object(g.Y)(),f=(Object(g.S)().generalSettings.dark_mode,Object(g.N)()),b={notificationMention:d("SNOOZE.MENTION","mentioned you in"),todoReminder:d("SNOOZE.REMINDER","A friendly automated reminder"),sentProposal:d("SNOOZE.SENT_PROPOSAL","sent a proposal."),notificationNewPost:d("SNOOZE.NEW_POST","shared a post"),mustRead:d("SNOOZE.MUST_READ","Must read"),needsReply:d("SNOOZE.NEEDS_REPLY","Needs reply")},h=function(){return Object.values(n).filter((function(e){return"POST_MENTION"===e.type||"POST_REQST_APPROVAL"===e.type||"POST_CREATE"===e.type&&(e.data.must_read||e.data.must_reply)})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))},_=function(){var e=Object(dt.c)(50);return o({filter:{status:"",search:""}}).filter((function(t){return t.assigned_to&&t.assigned_to.id===l.id&&t.remind_at&&t.remind_at.timestamp<=e&&"OVERDUE"!==t.status}))},O=function(e,t,n){return c.a.createElement(Zo,{className:"timeline-item timeline-item-no-line d-flex",isRead:t.is_read,darkMode:null,onClick:function(n){return function(e,t,n,a){var r="mention"===t?m:p;if(a.preventDefault(),0===e.is_read&&m.read({id:e.id}),"NEW_TODO"===e.type||"todo"===t)f.toTodos();else{var i={id:e.data.post_id,title:e.data.title},c=null,o=null;e.data.workspaces&&e.data.workspaces.length&&(c={id:(c=e.data.workspaces[0]).topic_id,name:c.topic_name,folder_id:c.workspace_id?c.workspace_id:null,folder_name:c.workspace_name?c.workspace_name:null}),"POST_MENTION"===e.type&&e.data.comment_id&&(o={focusOnMessage:e.data.comment_id}),f.toPost({workspace:c,post:i},o)}r.snooze({id:e.id,is_snooze:!1})}(t,e,0,n)}},c.a.createElement("div",null,"mention"===e?t.author?c.a.createElement(v.a,{id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,showSlider:!1}):c.a.createElement(v.a,{id:l.id,name:l.name,imageLink:l.profile_image_thumbnail_link?l.profile_image_thumbnail_link:l.profile_image_link,showSlider:!1}):c.a.createElement("div",{className:"robotAvatar"},c.a.createElement("div",null,"\ud83e\udd16"))),c.a.createElement("div",{style:{display:"inline-block",marginTop:"4px"}},function(e,t){t[0];return"mention"!==e?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{lineHeight:"1"}},b.todoReminder),c.a.createElement("p",{style:{color:"#000"}}," ",Object(Bt.j)(t.title))):"POST_MENTION"===t.type?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{lineHeight:"1"}},t.author.name+" "+b.notificationMention,t.data.workspaces&&t.data.workspaces.length>0&&t.data.workspaces[0].workspace_name&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Jo,{icon:"folder"})," "," ",t.data.workspaces[0].workspace_name)),c.a.createElement("p",{style:{color:"#000"}}," ",Object(Bt.j)(t.data.comment_body))):"POST_CREATE"===t.type?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{lineHeight:"1"}},t.author.name+" "+b.notificationNewPost+" ",t.data.workspaces&&t.data.workspaces.length>0&&t.data.workspaces[0].workspace_name&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Jo,{icon:"folder"})," "," ",t.data.workspaces[0].workspace_name)),c.a.createElement("p",{style:{color:"#000"}}," ",Object(Bt.j)(t.data.title)),t.data.must_read?c.a.createElement("p",null,c.a.createElement("span",{className:"badge badge-danger text-white"},b.mustRead)):"",t.data.must_reply?c.a.createElement("p",null,c.a.createElement("span",{className:"badge badge-success text-white"},b.needsReply)):""):"POST_REQST_APPROVAL"===t.type?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{lineHeight:"1"}},t.author.name," ",b.sentProposal)):null}(e,t)))},E=function(e){e.length>0&&(qo.c.isActive("btnSnoozeAll")||Object(qo.c)(c.a.createElement("span",{className:"snooze-all",onClick:function(e){return function(e){e.preventDefault(),m.snoozeAll({is_snooze:!0}),p.snoozeAll({is_snooze:!0}),qo.c.clearWaitingQueue({containerId:"toastS"}),qo.c.dismiss()}(e)}},"Snooze All"),{className:"snooze-all-container",bodyClassName:"snooze-all-body",containerId:"toastS",toastId:"btnSnoozeAll",closeButton:!1}),e.map((function(e,t){var n="mention"===e[3]?m:p;Object(qo.c)(e[1],{className:"snooze-container",bodyClassName:"snooze-body",containerId:"toastS",toastId:e[2],onClose:function(){return n.snooze({id:e[0],is_snooze:!0})}})})))},A=function(e,t,n){var a=[];return t.map((function(t){var r=e+"__"+t.id,i=[t.id,function(n){n.closeToast;return O(e,t)},r,e,t.snooze_time?t.snooze_time:t.created_at.timestamp];"mention"===e?n&&!t.is_read&&t.is_snooze?a.push(i):t.is_read||t.is_snooze?qo.c.isActive(r)&&qo.c.dismiss(r):a.push(i):n&&"DONE"!==t.status&&t.is_snooze?a.push(i):"DONE"===t.status||t.is_snooze?qo.c.isActive(r)&&qo.c.dismiss(r):a.push(i)})),a};return Object(i.useEffect)((function(){var e=setInterval((function(){var e=A("mention",h(),!0);m.snoozeAll({is_snooze:!1});var t=e.concat(A("todo",_(),!0));p.snoozeAll({is_snooze:!1}),t.length?E(t.sort((function(e,t){return e[4]-t[4]}))):qo.c.dismiss()}),36e5);return function(){return clearInterval(e)}}),[n,s]),Object(i.useEffect)((function(){var e=setInterval((function(){if(!s.is_snooze){var e=A("todo",_(),!1);E(e.sort((function(e,t){return e[4]-t[4]})))}}),15e3);return function(){return clearInterval(e)}}),[s]),Object(i.useEffect)((function(){if(!a&&!s.is_snooze){var e=A("mention",h(),!1).concat(A("todo",_(),!1));e.length?E(e.sort((function(e,t){return e[4]-t[4]}))):qo.c.dismiss()}}),[n,s]),c.a.createElement(Ko,null,c.a.createElement(qo.b,{enableMultiContainer:!0,containerId:"toastS",position:"bottom-left",autoClose:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,limit:7,closeButton:function(e){var t=e.closeToast;return c.a.createElement("span",{className:"snooze-me",onClick:t},"Snooze")}}))};function $o(){var e=Object(h.a)([""]);return $o=function(){return e},e}var es=E.a.div($o()),ts=c.a.memo((function(){return c.a.createElement(es,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),ns=n(105),as=n(106),rs=n(157),is=n(155),cs=n(18),os=n(138),ss=n.n(os),ls=n(64),ds=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(i=ls.generate()),ss.a.create(e,{body:t,icon:null!==n?n:"./assets/icons/favicon.png",timeout:r,tag:e,onClick:function(){window.focus(),a&&a(),this.close()}})},us=n(82),ms=n(66),ps=n(109),fs=function(e){Object(rs.a)(n,e);var t=Object(is.a)(n);function n(e){var a;return Object(ns.a)(this,n),(a=t.call(this,e)).refetchPosts=function(){a.props.refetchPosts()},a.refetchPostComments=function(){Object.keys(a.props.postComments).forEach((function(e){a.props.refetchPostComments({post_id:e})}))},a.refetch=function(){a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&a.props.refetchMessages({message_id:a.props.lastReceivedMessage.id})},a.refetchOtherMessages=function(){if(a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&Object.values(a.props.channels).length){var e=Object.values(a.props.channels);a.props.refetchOtherMessages({message_id:a.props.lastReceivedMessage.id,channel_ids:e.filter((function(e){return"number"===typeof e.id&&e.id!==a.props.lastReceivedMessage.channel_id})).map((function(e){return e.id}))},(function(e,t){e||t.data.filter((function(e){return e.count_message>0})).forEach((function(e){a.props.getChannelDetail({id:e.channel_id})}))}))}},a.state={reconnected:null,disconnectedTimestamp:null,reconnectedTimestamp:null},a.onlineUsers=c.a.createRef(null),a.publishChannelId=c.a.createRef(null),a}return Object(as.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.getOnlineUsers(),this.props.getLatestReply({},(function(e,t){})),window.Echo.connector.socket.on("connect",(function(){})),window.Echo.connector.socket.on("disconnect",(function(){e.setState({disconnectedTimestamp:Math.floor(Date.now()/1e3)})})),window.Echo.connector.socket.on("reconnect",(function(){e.setState({reconnected:!0,reconnectedTimestamp:Math.floor(Date.now()/1e3)}),e.refetch(),e.refetchOtherMessages(),e.refetchPosts(),e.refetchPostComments(),e.props.getFavoriteWorkspaceCounters()})),window.Echo.connector.socket.on("reconnecting",(function(){})),window.Echo.private("".concat(localStorage.getItem("slug"),".App.User.Inactive")).listen(".user-inactive",(function(t){e.props.incomingDeletedUser(t)})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".Driff.User.").concat(this.props.user.id)).listen(".unarchive-post-notification",(function(t){t.posts.forEach((function(t){e.props.getUnarchivePost({post_id:t.id})}))})).listen(".huddle-notification",(function(t){switch(t.SOCKET_TYPE){case"HUDDLE_CREATED":e.props.incomingHuddleBot(Object(S.a)(Object(S.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,n){return Object(S.a)(Object(S.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===n,isLastQuestion:t.questions.length===n+1})}))}));break;case"HUDDLE_UPDATED":e.props.incomingUpdatedHuddleBot(Object(S.a)(Object(S.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,n){return Object(S.a)(Object(S.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===n,isLastQuestion:t.questions.length===n+1})}))}));break;case"HUDDLE_DELETED":e.props.incomingDeletedHuddleBot({id:parseInt(t.id)});break;case"HUDDLE_ANSWER_UPDATE":e.props.incomingHuddleAnswers(Object(S.a)(Object(S.a)({},t),{},{channel:{id:t.huddle.channel_id}}));break;case"USER_ANSWERED":e.props.incomingHuddleAnswers(t),e.props.incomingChatMessage(Object(S.a)(Object(S.a)({},t.message),{},{huddle_log:t.huddle_log}));break;case"HUDDLE_SKIP":e.props.incomingHuddleSkip(t);break;default:return null}})).listen(".workspace-todo-notification",(function(t){switch(t.workspace&&Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace.id===e.id}))&&e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),t.SOCKET_TYPE){case"CREATE_WORKSPACE_TODO":e.props.incomingToDo(Object(S.a)(Object(S.a)({},t),{},{user:t.user_id}));break;case"UPDATE_WORKSPACE_TODO":e.props.incomingUpdateToDo(t);break;case"DONE_TODO":e.props.incomingDoneToDo(t);break;case"DELETE_WORKSPACE_TODO":e.props.incomingRemoveToDo(t);break;case"REMIND_WORKSPCE_TODO":e.props.incomingUpdateToDo(t);break;case"ADVANCE_REMIND_TODO":if(At.isSafari&&e.props.notificationsOn){ds("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var n="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?n=t.data.workspaces.length?t.data.workspaces[0].workspace?"/workspace/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Object(Bt.h)(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Object(Bt.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(Bt.h)(t.data.post.title)):"/workspace/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Object(Bt.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(Bt.h)(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Object(Bt.h)(t.data.post.title)):"CHAT"===t.link_type&&(n="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==n&&e.props.history.push(n)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(t);break;default:return null}})).listen(".todo-notification",(function(t){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),t.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(Object(S.a)(Object(S.a)({},t),{},{user:t.user_id}));break;case"UPDATE_TODO":e.props.incomingUpdateToDo(t);break;case"DONE_TODO":e.props.incomingDoneToDo(t);break;case"DELETE_TODO":e.props.incomingRemoveToDo(t);break;case"REMIND_TODO":e.props.incomingUpdateToDo(t);break;case"ADVANCE_REMIND_TODO":if(At.isSafari&&e.props.notificationsOn){ds("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var n="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?n=t.data.workspaces.length?t.data.workspaces[0].workspace?"/workspace/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Object(Bt.h)(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Object(Bt.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(Bt.h)(t.data.post.title)):"/workspace/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Object(Bt.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(Bt.h)(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Object(Bt.h)(t.data.post.title)):"CHAT"===t.link_type&&(n="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==n&&e.props.history.push(n)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(t);break;default:return null}})).listen(".workspace-role-notification",(function(t){e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(t.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;default:return null}})).listen(".workspace-folder-notification",(function(t){switch(t.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(t);break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(t),"/workspace/files"===e.props.match.url&&e.props.location.pathname.includes(t.folder.id)&&e.props.location.pathname.includes(t.topic_id)){var n=e.props.location.pathname.split("/folder/")[0];e.props.history.push(n)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(t);break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(t);break;default:return null}})).listen(".workspace-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){e.props.incomingTimeline(t)})).listen(".upload-bulk-private-workspace-files",(function(t){e.props.incomingFiles(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".favourite-notification",(function(t){switch(t.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(t);break;default:return null}})).listen(".unread-post",(function(t){e.props.incomingReadUnreadReducer(t),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1})})).listen(".post-notification",(function(t){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),t.SOCKET_TYPE){case"CLOSED_POST":e.props.incomingClosePost(t);break;case"FOLLOW_POST":console.log(t,"follow post");break;case"UNFOLLOW_POST":console.log(t,"unfollow post");break;case"POST_APPROVED":e.props.incomingPostApproval(t);break;case"POST_REQUIRED":e.props.incomingPostRequired(t);break;case"POST_COMMENT_APPROVED":e.props.incomingCommentApproval(Object(S.a)(Object(S.a)({},t),{},{users_approval:t.users_approval.map((function(e){return e.id===t.user_approved.id?Object(S.a)(Object(S.a)({},e),t.user_approved):e}))}));break;case"READ_SELECTED_UNREAD_POST":e.props.incomingReadSelectedPosts(t);break;case"ARCHIVED_SELECTED_POST":e.props.incomingArchivedSelectedPosts(t);break;case"ADD_RECIPIENTS":e.props.fetchPost({post_id:t.post_id},(function(t,n){if(!t){var a=Object(S.a)(Object(S.a)({},n.data),{},{clap_user_ids:[]});e.props.incomingPost(a)}}));break;case"POST_CREATE":var n=Object(S.a)(Object(S.a)({},t),{},{clap_user_ids:[]}),a=n.users_approval.some((function(t){return t.id===e.props.user.id}));e.props.user.id!==n.author.id&&At.isSafari&&e.props.notificationsOn&&ds("".concat(n.author.first_name," shared a post"),n.title,n.author.profile_image_link,null),null!==n.show_at&&(e.props.user.id,n.author.id),e.props.incomingPost(Object(S.a)(Object(S.a)({},n),{},{post_approval_label:a?"NEED_ACTION":null})),n.channel_messages&&n.channel_messages.forEach((function(n){var a=Object(S.a)(Object(S.a)({},n.system_message),{},{files:[],editable:!1,unfurls:[],reactions:[],is_deleted:!1,todo_reminder:null,is_read:!1,is_completed:!1,user:null,new_post:!0,topic:n.topic,shared_with_client:t.shared_with_client});e.props.incomingPostNotificationMessage(a)}));break;case"POST_UPDATE":if(e.props.incomingUpdatedPost(t),t.channel_messages&&t.post_participant_data)if(t.post_participant_data.from_company||t.post_participant_data.all_participant_ids.some((function(t){return t===e.props.user.id}))){if(!t.post_participant_data.from_company&&t.post_participant_data.all_participant_ids.some((function(t){return t===e.props.user.id})))t.clap_user_ids=[],e.props.incomingPost(t),t.channel_messages&&t.channel_messages.forEach((function(n){n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!0,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.new_post=!1,n.system_message.topic=n.topic,n.system_message.shared_with_client=t.shared_with_client,e.props.incomingPostNotificationMessage(n.system_message)}));else if(t.post_participant_data.from_company){var r=Object.values(e.props.channels).filter((function(e){return"COMPANY"===e.type}));if(r.length){var i=r[0].id,c=Object(_t.a)(t.channel.messages);c=c.filter((function(e){return e.channel.id!==i})),e.props.deletePostNotification(c)}}}else e.props.deletePostNotification(t.channel_messages),e.props.incomingDeletedPost(t);break;case"POST_DELETE":e.props.incomingDeletedPost(t);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(t);break;case"POST_CLAP_TOGGLE":e.props.user.id!==t.author.id&&(e.props.incomingPostClap(t),e.props.user.id===t.post_user_id&&1===t.clap_count&&Object(qo.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourPost),{position:qo.c.POSITION.BOTTOM_LEFT}));break;case"MARKED_DONE":e.props.incomingPostMarkDone(t);break;case"COMMENT_IMPORTANT":e.props.incomingImportantComment(t);break;default:return null}})).listen(".post-comment-notification",(function(t){switch(t.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(e.props.incomingComment(Object(S.a)(Object(S.a)({},t),{},{clap_user_ids:[]})),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),t.workspaces&&t.workspaces.length>=1&&t.author.id!==e.props.user.id){e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"});var n=t.workspaces.map((function(e){return e.topic_id}));Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.some((function(t){return t===e.id}))}))&&e.props.getFavoriteWorkspaceCounters()}if(t.author.id!==e.props.user.id){if(At.isSafari&&e.props.notificationsOn){var a="";(a=t.workspaces.length?t.workspaces[0].workspace_id?"/workspace/posts/".concat(t.workspaces[0].workspace_id,"/").concat(Object(Bt.h)(t.workspaces[0].workspace_name),"/").concat(t.workspaces[0].topic_id,"/").concat(Object(Bt.h)(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Object(Bt.h)(t.post_title)):"/workspace/posts/".concat(t.workspaces[0].topic_id,"/").concat(Object(Bt.h)(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Object(Bt.h)(t.post_title)):"/posts/".concat(t.post_id,"/").concat(Object(Bt.h)(t.post_title)))===e.props.location.pathname&&!e.props.isIdle&&e.props.isBrowserActive&&document.hasFocus()||ds("".concat(t.author.first_name," replied in a post"),Object(Bt.j)(t.body),t.author.profile_image_link,(function(){return e.props.history.push(a,{focusOnMessage:t.id})}))}t.workspaces.forEach((function(t){e.props.getUnreadWorkspacePostEntries({topic_id:t.topic_id},(function(n,a){n||e.props.updateWorkspacePostCount({topic_id:t.topic_id,count:a.data.result})}))}))}break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(t);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(Object(S.a)(Object(S.a)({},t),{},{clap_user_ids:[]}));break;case"POST_COMMENT_CLAP_TOGGLE":e.props.user.id!==t.author.id&&(e.props.incomingCommentClap(t),e.props.user.id===t.comment_user_id&&1===t.clap_count&&Object(qo.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourComment),{position:qo.c.POSITION.BOTTOM_LEFT}));break;default:return null}})).listen(".chat-notification",(function(t){var n=e.props,a=n.user,r=n.selectedChannel,i=n.isIdle,c=n.isBrowserActive;switch(t.SOCKET_TYPE){case"CHAT_CREATE":t.is_huddle&&e.publishChannelId.current!==t.channel_id&&(e.props.toaster.success("".concat(e.props.dictionary.huddlePublished," - ").concat(t.channel_name),{toastId:t.channel_id}),e.props.clearUnpublishedAnswer(t),setTimeout((function(){e.publishChannelId.current=null}),5e3));var o=Object(S.a)({},t);if((null===o.user||o.user.id!==a.id&&!o.is_muted)&&e.props.soundPlay(),null!==o.user&&e.props.user.id===o.user.id||(delete o.reference_id,o.g_date=e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),!i&&c&&document.hasFocus()&&e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===o.channel_id&&(o.is_read=!0)),e.props.incomingChatMessage(Object(S.a)(Object(S.a)({},o),{},{translated_body:null})),delete t.SOCKET_TYPE,delete t.socket,t.user.id!==a.id&&!t.is_muted&&e.props.notificationsOn&&At.isSafari&&(!e.props.location.pathname.includes("/chat/")||r.code!==t.channel_code||i||!c||!document.hasFocus())){ds("".concat(t.reference_title),t.reference_title.includes("in a direct message")?"".concat(Object(Bt.j)(t.body)):"".concat(t.user.first_name,": ").concat(Object(Bt.j)(t.body)),t.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(t.channel_code,"/").concat(t.code))}))}if(void 0===t.workspace_id||null===t.workspace_id||0===t.workspace_id){var s={};"CHAT_REMINDER_MESSAGE"===t.entity_type?s={count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:o.user.id!==a.id&&(s={count:1,entity_type:"CHAT_MESSAGE"}),e.props.setGeneralChat(s)}else o.user.id!==a.id&&(e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"}),Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace_id===e.id}))&&e.props.getFavoriteWorkspaceCounters());"undefined"===typeof e.props.channels[t.channel_id]&&e.props.getChannel({code:t.channel_code});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(Object(S.a)(Object(S.a)({},t),{},{translated_body:null}));break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(t);break;case"TOGGLE_IMPORTANT":e.props.incomingImportantChat(t);break;case"STAR_CHAT":e.props.incomingChatStar(t);break;default:return null}})).listen(".post-list-notification",(function(t){e.props.getPostList({},(function(n,a){if(!n){var r={link_id:t.link_id,post_id:t.post_id};switch(t.SOCKET_TYPE){case"POST_LIST_CONNECTED":e.props.incomingPostListConnect(r);break;case"POST_LIST_DISCONNECTED":e.props.incomingPostListDisconnect(r);break;default:return null}}}))})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.Broadcast")).listen(".remove-file-notification",(function(t){switch(t.SOCKET_TYPE){case"REMOVE_FILE":e.props.incomingRemoveFileAutomatically(t);break;case"REMOVE_FILE_ON_DOWNLOAD":e.props.incomingRemoveFileAfterDownload(t.files);break;default:return null}})).listen(".workspace-team-channel",(function(t){e.props.incomingTeamChannel(t)})).listen(".announcement-notification",(function(t){switch(t.SOCKET_TYPE){case"ANNOUNCEMENT_UPDATED":e.props.incomingUpdatedAnnouncement(t);break;case"ANNOUNCEMENT_CREATED":e.props.incomingCreatedAnnouncement(t);break;case"ANNOUNCEMENT_DELETED":e.props.incomingDeletedAnnouncement(t);break;default:return null}})).listen(".users-online-broadcast",(function(t){e.props.incomingOnlineUsers(t)})).listen(".user-updated",(function(t){switch(t.SOCKET_TYPE){case"ARCHIVED_ACCOUNT":var n={channel_ids:[].concat(Object(_t.a)(t.connected_data.user_removed_channel_ids),Object(_t.a)(t.connected_data.archived_channel_ids)),topic_ids:[].concat(Object(_t.a)(t.connected_data.user_removed_topic_ids),Object(_t.a)(t.connected_data.archived_topic_ids)),user:t.user};e.props.incomingArchivedUser(n),t.user.id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Ba.sessionService.deleteSession().then((function(){return Ba.sessionService.deleteUser()})));break;case"RESTORED_ACCOUNT":e.props.incomingUnarchivedUser(t);break;case"DEACTIVATE_ACCOUNT":e.props.incomingDeactivatedUser(t),t.user_id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Ba.sessionService.deleteSession().then((function(){return Ba.sessionService.deleteUser()})));break;case"ACTIVATE_ACCOUNT":e.props.incomingActivatedUser(t);break;default:return null}})).listen(".updated-version",(function(t){var n=t.version,a=t.requirement,r=parseFloat(n.substr(2)),i=parseFloat(ps.a.version.substr(2));if(!Object(P.f)(window.location.hostname)&&"localhost"!==window.location.hostname&&r>i){e.props.addToModals({id:n,type:"update_found",requirement:a,handleReminder:function(){}}),localStorage.setItem("site_ver",n)}})).listen(".user-role-notification",(function(t){e.props.incomingUserRole(t),t.user_id===e.props.user.id&&e.props.getUser({id:e.props.user.id},(function(e,t){e||Ba.sessionService.saveUser(Object(S.a)({},t.data))}))})).listen(".company-announcement",(function(t){e.props.updateCompanyPostAnnouncement(t)})).listen(".company-request-form-notification",(function(t){switch(t.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(t);break;default:return null}})).listen(".company-notification",(function(t){switch(t.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(t);break;default:return null}})).listen(".company-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(t);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(t);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(t);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(t);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(t);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(t);break;default:return null}})).listen(".company-folder-notification",(function(t){switch(t.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(t);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(t);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(t);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(t);break;default:return null}})).listen(".delete-workspace",(function(t){e.props.incomingDeletedWorkspaceFolder(t)})).listen(".workspace-role-notification",(function(t){e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(t.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(t);break;default:return null}})).listen(".external-user-notification",(function(t){e.props.incomingExternalUser(t)})).listen(".user-notification",(function(t){switch(t.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(t),t.id!==e.props.user.id&&t.user_id!==e.props.user.id||e.props.getUser({id:e.props.user.id},(function(e,t){e||Ba.sessionService.saveUser(Object(S.a)({},t.data))}));break;default:return null}})).listen(".post-notification",(function(t){switch(t.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){e.props.incomingTimeline(t)})).listen(".upload-bulk-workspace-files",(function(t){e.props.incomingFiles(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".workspace-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".new-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,a){n||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var a=Object(S.a)(Object(S.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(S.a)(Object(S.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-workspace",(function(t){if(e.props.incomingUpdatedWorkspaceFolder(Object(S.a)(Object(S.a)({},t),{},{is_shared:t.is_shared})),"WORKSPACE"===t.type){if(t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(n,a){n||e.props.getWorkspace({topic_id:t.id})})));if(t.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&"external"===e.props.user.type&&1!==t.private&&t.remove_member_ids.some((function(t){return t===e.props.user.id}))){var n=Object.values(e.props.workspaces).filter((function(e){return e.id!==t.id&&e.is_favourite&&e.channel&&e.channel.code}));if(n.length){var a=n[0];e.props.setActiveTopic(a),a.folder_id?e.props.history.push("/workspace/chat/".concat(a.folder_id,"/").concat(Object(Bt.h)(a.folder_name),"/").concat(a.id,"/").concat(Object(Bt.h)(a.name))):e.props.history.push("/workspace/chat/".concat(a.id,"/").concat(Object(Bt.h)(a.name))),e.props.selectedChannel&&t.system_message&&e.props.selectedChannel.id===t.system_message.channel_id&&e.props.selectedChannel.code===t.channel.code&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)&&e.props.channels[a.channel.id]&&(e.props.setSelectedChannel(e.props.channels[a.channel.id]),e.props.history.push("/chat/".concat(a.channel.code)))}}}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var r=e.props.location.pathname;r=r.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.id,"/").concat(Object(Bt.h)(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.workspace_id,"/").concat(Object(Bt.h)(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Object(Bt.h)(t.name)))}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.User.").concat(this.props.user.id)).listen(".favourite-workspace-notification",(function(t){e.props.incomingFavouriteWorkspace(t)})).listen(".post-read-require",(function(t){e.props.incomingMarkAsRead(t)})).listen(".new-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,a){n||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var a=Object(S.a)(Object(S.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(S.a)(Object(S.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".new-lock-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,a){n||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var a=Object(S.a)(Object(S.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(S.a)(Object(S.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-lock-workspace",(function(t){if(e.props.incomingUpdatedWorkspaceFolder(t),"WORKSPACE"===t.type){if(t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(n,a){n||e.props.getWorkspace({topic_id:t.id})})));if(t.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&t.remove_member_ids.some((function(t){return t===e.props.user.id}))){var n=Object.values(e.props.workspaces).filter((function(e){return e.id!==t.id&&e.is_favourite&&e.channel&&e.channel.code}));if(n.length){var a=n[0];e.props.setActiveTopic(a),a.folder_id?e.props.history.push("/workspace/chat/".concat(a.folder_id,"/").concat(Object(Bt.h)(a.folder_name),"/").concat(a.id,"/").concat(Object(Bt.h)(a.name))):e.props.history.push("/workspace/chat/".concat(a.id,"/").concat(Object(Bt.h)(a.name))),e.props.selectedChannel&&t.system_message&&e.props.selectedChannel.id===t.system_message.channel_id&&e.props.selectedChannel.code===t.channel.code&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)&&e.props.channels[a.channel.id]&&(e.props.setSelectedChannel(e.props.channels[a.channel.id]),e.props.history.push("/chat/".concat(a.channel.code)))}}}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var r=e.props.location.pathname;r=r.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.id,"/").concat(Object(Bt.h)(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.workspace_id,"/").concat(Object(Bt.h)(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Object(Bt.h)(t.name)))}})).listen(".users-online",(function(t){e.props.currentOnlineUsers(t.current_users_online.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(t){var n={post_id:t.post_id,viewer:t.user};e.props.incomingPostViewer(n)})).listen(".updated-post-visitors",(function(e){})).listen(".move-private-topic-workspace",(function(t){e.props.incomingMovedTopic(t)})).listen(".update-channel-name",(function(t){var n=Object(S.a)(Object(S.a)({},t),{},{message:Object(S.a)(Object(S.a)({},t.message),{},{g_date:e.props.localizeDate(t.message.created_at.timestamp,"YYYY-MM-DD"),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(n)})).listen(".member-update-timestamp",(function(t){e.props.setMemberTimestamp(t)})).listen(".new-added-member-chat",(function(t){if(t.id){var n=JSON.parse(t.body.replace("CHANNEL_UPDATE::","")),a=Object(S.a)(Object(S.a)({},t),{},{is_deleted:!1,reactions:[],last_reply:null,body:t.body,created_at:t.created_at,updated_at:t.created_at,files:[],id:t.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:t.channel_id,g_date:e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),code:t.code}),r={users:Object.values(e.props.users).filter((function(e){return n.added_members.some((function(t){return t===e.id}))})).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:t.channel_id,data:t,message:a};e.props.channels.hasOwnProperty(t.channel_id)||n.author.id===e.props.user.id?e.props.joinWorkspaceReducer(r):(e.props.getChannel({code:t.channel_code},(function(t,n){if(!t){var a=Object(S.a)(Object(S.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===n.data.is_archived,isFetching:!1});e.props.addToChannels(a)}})),t.workspace_data&&(t.workspace_data.workspace&&!e.props.folders.hasOwnProperty(t.workspace_data.workspace.id)?e.props.getWorkspaceFolder({folder_id:t.workspace_data.workspace.id},(function(n,a){n||e.props.getWorkspace({topic_id:t.workspace_data.topic.id})})):e.props.getWorkspace({topic_id:t.workspace_data.topic.id})))}})).listen(".archived-chat-channel",(function(t){if(t.channel_data.topic_detail)if(t.channel_data.timeline&&e.props.incomingTimeline({timeline_data:t.channel_data.timeline,workspace_data:{topic_id:t.channel_data.topic_detail.id}}),"UNARCHIVED"===t.channel_data.status)e.props.incomingUnArchivedWorkspaceChannel(t.channel_data);else{if(e.props.activeTopic&&e.props.activeTopic.id===t.channel_data.topic_detail.id){var n=null;if(null!==t.channel_data.topic_detail.workspace_id||0!==t.channel_data.topic_detail.workspace_id)if(e.props.folders.hasOwnProperty(t.channel_data.topic_detail.workspace_id)&&e.props.folders[t.channel_data.topic_detail.workspace_id].workspace_ids.length>1){var a=Object.values(e.props.workspaces).filter((function(n){return e.props.folders[t.channel_data.topic_detail.workspace_id].workspace_ids.some((function(e){return e===n.id}))})).sort((function(e,t){return e.name.localeCompare(t.name)}));n=a[0].id===e.props.activeTopic.id?a[1]:a[0]}else{var r=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));r.length&&(n=r[0])}else{var i=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));i.length&&(n=i[0])}n&&(e.props.workspaceActions.selectWorkspace(n),e.props.workspaceActions.redirectTo(n))}e.props.incomingArchivedWorkspaceChannel(t.channel_data)}else e.props.incomingArchivedChannel(t.channel_data)})).listen(".new-chat-channel",(function(t){t.channel_data.creator_by.id!==e.props.user.id&&e.props.getChannel({code:t.channel_data.code},(function(n,a){if(!n){var r=Object(S.a)(Object(S.a)({},a.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1,creator:t.channel_data.creator_by});e.props.addToChannels(r)}}))})).listen(".chat-message-react",(function(t){e.props.incomingChatMessageReaction(Object(S.a)(Object(S.a)({},t),{},{user_name:t.name}))})).listen(".updated-notification-counter",(function(t){"CHAT"===t.entity_group_type&&(Object.values(e.props.workspaces).find((function(e){return e.is_favourite&&(e.channel.id===parseInt(t.entity_id)||e.team_channel&&e.team_channel.id===parseInt(t.entity_id))}))&&e.props.getFavoriteWorkspaceCounters());e.props.setUnreadNotificationCounterEntries(t)}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.useDriff.updateFaviconState(0!==Object.keys(this.props.unreadCounter).filter((function(e){return"chat_reminder_message"!==e})).reduce((function(e,t){return e+=n.props.unreadCounter[t]}),0)||0!==this.props.todos.count.overdue)}},{key:"render",value:function(){return null}}]),n}(i.Component);var bs=Object(u.connect)((function(e){var t=e.session.user,n=e.settings.userSettings,a=e.chat,r=a.channels,i=a.selectedChannel,c=a.isLastChatVisible,o=a.lastReceivedMessage,s=e.workspaces,l=s.workspaces,d=s.workspacePosts,u=s.folders,m=s.activeTopic,p=s.workspacesLoaded,f=s.postComments,b=e.global,h=b.unreadCounter,_=b.todos,O=b.recipients,E=b.isIdle,g=b.isBrowserActive,A=e.users,v=A.mentions;return{user:t,users:A.users,settings:n,channels:r,selectedChannel:i,workspacePosts:d,folders:u,mentions:v,activeTopic:m,workspacesLoaded:p,workspaces:l,isLastChatVisible:c,lastReceivedMessage:o,unreadCounter:h,todos:_,recipients:O,postComments:f,isIdle:E,isBrowserActive:g}}),(function(e){return{addToChannels:Object(cs.bindActionCreators)(Ke.h,e),addUserToReducers:Object(cs.bindActionCreators)(Qe.b,e),getChannel:Object(cs.bindActionCreators)(Ke.u,e),setBrowserTabStatus:Object(cs.bindActionCreators)(Qe.S,e),getOnlineUsers:Object(cs.bindActionCreators)(zt.i,e),getConnectedSlugs:Object(cs.bindActionCreators)(Qe.o,e),getUser:Object(cs.bindActionCreators)(zt.k,e),setMemberTimestamp:Object(cs.bindActionCreators)(Ke.Mb,e),setAllMessagesAsRead:Object(cs.bindActionCreators)(Ke.Cb,e),incomingChatMessage:Object(cs.bindActionCreators)(Ke.N,e),incomingChatMessageFromOthers:Object(cs.bindActionCreators)(Ke.O,e),addFilesToChannelAction:Object(cs.bindActionCreators)(Se.c,e),deleteFilesFromChannelAction:Object(cs.bindActionCreators)(Se.k,e),generateUnfurl:Object(cs.bindActionCreators)(Qe.l,e),generateUnfurlReducer:Object(cs.bindActionCreators)(Qe.m,e),setChannel:Object(cs.bindActionCreators)(Ke.Db,e),incomingArchivedChannel:Object(cs.bindActionCreators)(Ke.M,e),incomingChatMessageReaction:Object(cs.bindActionCreators)(Ke.P,e),incomingUpdatedChatMessage:Object(cs.bindActionCreators)(Ke.Z,e),incomingDeletedChatMessage:Object(cs.bindActionCreators)(Ke.R,e),incomingUpdatedChannelDetail:Object(cs.bindActionCreators)(Ke.Y,e),getChannelMembers:Object(cs.bindActionCreators)(Ke.y,e),updateChannelMembersTitle:Object(cs.bindActionCreators)(Ke.Sb,e),incomingWorkspaceFolder:Object(cs.bindActionCreators)(Wt.I,e),incomingWorkspace:Object(cs.bindActionCreators)(Wt.H,e),incomingUpdatedWorkspaceFolder:Object(cs.bindActionCreators)(Wt.G,e),incomingMovedTopic:Object(cs.bindActionCreators)(Wt.C,e),setGeneralChat:Object(cs.bindActionCreators)(Qe.T,e),setUnreadNotificationCounterEntries:Object(cs.bindActionCreators)(Qe.X,e),incomingPost:Object(cs.bindActionCreators)(gt.T,e),incomingPostClap:Object(cs.bindActionCreators)(gt.V,e),incomingDeletedPost:Object(cs.bindActionCreators)(gt.Q,e),incomingComment:Object(cs.bindActionCreators)(gt.M,e),incomingCommentClap:Object(cs.bindActionCreators)(gt.O,e),incomingFolder:Object(cs.bindActionCreators)(Se.ob,e),incomingDeletedFolder:Object(cs.bindActionCreators)(Se.gb,e),incomingFile:Object(cs.bindActionCreators)(Se.kb,e),incomingFiles:Object(cs.bindActionCreators)(Se.nb,e),incomingDeletedFile:Object(cs.bindActionCreators)(Se.eb,e),incomingMovedFile:Object(cs.bindActionCreators)(Se.sb,e),incomingRestoreFile:Object(cs.bindActionCreators)(Se.zb,e),incomingRestoreFolder:Object(cs.bindActionCreators)(Se.Ab,e),incomingEmptyTrash:Object(cs.bindActionCreators)(Se.jb,e),incomingCompanyFolder:Object(cs.bindActionCreators)(Se.X,e),incomingCompanyUpdatedFolder:Object(cs.bindActionCreators)(Se.db,e),incomingCompanyDeletedFolder:Object(cs.bindActionCreators)(Se.T,e),incomingCompanyFile:Object(cs.bindActionCreators)(Se.V,e),incomingCompanyFiles:Object(cs.bindActionCreators)(Se.W,e),incomingCompanyDeletedFile:Object(cs.bindActionCreators)(Se.R,e),incomingCompanyMovedFile:Object(cs.bindActionCreators)(Se.Z,e),incomingCompanyEmptyTrash:Object(cs.bindActionCreators)(Se.U,e),incomingCompanyRemovedFile:Object(cs.bindActionCreators)(Se.vb,e),incomingCompanyMoveFile:Object(cs.bindActionCreators)(Se.Y,e),incomingCompanyRestoreFile:Object(cs.bindActionCreators)(Se.ab,e),incomingCompanyRestoreFolder:Object(cs.bindActionCreators)(Se.bb,e),incomingCompanyRemovedFolder:Object(cs.bindActionCreators)(Se.wb,e),incomingCompanyDeletedFiles:Object(cs.bindActionCreators)(Se.S,e),incomingCompanyUpdatedFile:Object(cs.bindActionCreators)(Se.cb,e),incomingPostViewer:Object(cs.bindActionCreators)(gt.bb,e),incomingUpdatedPost:Object(cs.bindActionCreators)(gt.eb,e),incomingTimeline:Object(cs.bindActionCreators)(Wt.E,e),incomingDeletedPostFile:Object(cs.bindActionCreators)(Se.ib,e),incomingDeletedComment:Object(cs.bindActionCreators)(gt.P,e),incomingUpdatedUser:Object(cs.bindActionCreators)(zt.v,e),unreadChannelReducer:Object(cs.bindActionCreators)(Ke.Rb,e),incomingRemovedFile:Object(cs.bindActionCreators)(Se.xb,e),incomingRemovedFolder:Object(cs.bindActionCreators)(Se.yb,e),getWorkspace:Object(cs.bindActionCreators)(Wt.s,e),setSelectedChannel:Object(cs.bindActionCreators)(Ke.Ob,e),incomingArchivedWorkspaceChannel:Object(cs.bindActionCreators)(Wt.z,e),incomingUnArchivedWorkspaceChannel:Object(cs.bindActionCreators)(Wt.F,e),updateWorkspaceCounter:Object(cs.bindActionCreators)(Wt.U,e),fetchPost:Object(cs.bindActionCreators)(gt.t,e),incomingDeletedFiles:Object(cs.bindActionCreators)(Se.fb,e),incomingGoogleFile:Object(cs.bindActionCreators)(Se.qb,e),incomingGoogleFolder:Object(cs.bindActionCreators)(Se.rb,e),joinWorkspaceReducer:Object(cs.bindActionCreators)(Wt.L,e),incomingDeletedGoogleFile:Object(cs.bindActionCreators)(Se.hb,e),incomingWorkspaceRole:Object(cs.bindActionCreators)(Wt.J,e),incomingDeletedWorkspaceFolder:Object(cs.bindActionCreators)(Wt.A,e),incomingExternalUser:Object(cs.bindActionCreators)(zt.r,e),getWorkspaceFolder:Object(cs.bindActionCreators)(Wt.u,e),incomingUpdateCompanyName:Object(cs.bindActionCreators)(us.d,e),incomingInternalUser:Object(cs.bindActionCreators)(zt.s,e),incomingToDo:Object(cs.bindActionCreators)(Qe.G,e),incomingUpdateToDo:Object(cs.bindActionCreators)(Qe.H,e),incomingDoneToDo:Object(cs.bindActionCreators)(Qe.D,e),incomingRemoveToDo:Object(cs.bindActionCreators)(Qe.F,e),incomingPostMarkDone:Object(cs.bindActionCreators)(gt.Y,e),incomingFavouriteItem:Object(cs.bindActionCreators)(Qe.E,e),incomingReadUnreadReducer:Object(cs.bindActionCreators)(gt.db,e),updateCompanyPostAnnouncement:Object(cs.bindActionCreators)(us.i,e),incomingUserRole:Object(cs.bindActionCreators)(zt.w,e),deletePostNotification:Object(cs.bindActionCreators)(Ke.t,e),incomingPostNotificationMessage:Object(cs.bindActionCreators)(Ke.X,e),incomingMarkAsRead:Object(cs.bindActionCreators)(gt.S,e),addToModals:Object(cs.bindActionCreators)(Qe.a,e),refetchMessages:Object(cs.bindActionCreators)(Qe.N,e),refetchOtherMessages:Object(cs.bindActionCreators)(Qe.O,e),getChannelDetail:Object(cs.bindActionCreators)(Ke.v,e),incomingReminderNotification:Object(cs.bindActionCreators)(ms.d,e),getLatestReply:Object(cs.bindActionCreators)(Qe.r,e),incomingPostRecipients:Object(cs.bindActionCreators)(gt.Z,e),refetchPosts:Object(cs.bindActionCreators)(gt.Db,e),refetchPostComments:Object(cs.bindActionCreators)(gt.Cb,e),getUnreadNotificationCounterEntries:Object(cs.bindActionCreators)(Qe.A,e),incomingImportantComment:Object(cs.bindActionCreators)(gt.R,e),incomingImportantChat:Object(cs.bindActionCreators)(Ke.W,e),incomingReadSelectedPosts:Object(cs.bindActionCreators)(gt.cb,e),incomingArchivedSelectedPosts:Object(cs.bindActionCreators)(gt.K,e),getUnreadWorkspacePostEntries:Object(cs.bindActionCreators)(Wt.r,e),updateWorkspacePostCount:Object(cs.bindActionCreators)(Wt.V,e),incomingPostApproval:Object(cs.bindActionCreators)(gt.U,e),incomingChatStar:Object(cs.bindActionCreators)(Ke.Q,e),incomingCommentApproval:Object(cs.bindActionCreators)(gt.N,e),incomingArchivedUser:Object(cs.bindActionCreators)(zt.o,e),incomingUnarchivedUser:Object(cs.bindActionCreators)(zt.u,e),incomingDeactivatedUser:Object(cs.bindActionCreators)(zt.p,e),incomingActivatedUser:Object(cs.bindActionCreators)(zt.n,e),incomingHuddleBot:Object(cs.bindActionCreators)(Ke.U,e),incomingUpdatedHuddleBot:Object(cs.bindActionCreators)(Ke.ab,e),incomingDeletedHuddleBot:Object(cs.bindActionCreators)(Ke.S,e),incomingHuddleAnswers:Object(cs.bindActionCreators)(Ke.T,e),clearUnpublishedAnswer:Object(cs.bindActionCreators)(Ke.p,e),incomingClosePost:Object(cs.bindActionCreators)(gt.L,e),incomingHuddleSkip:Object(cs.bindActionCreators)(Ke.V,e),incomingOnlineUsers:Object(cs.bindActionCreators)(zt.t,e),incomingUpdatedAnnouncement:Object(cs.bindActionCreators)(Qe.I,e),incomingCreatedAnnouncement:Object(cs.bindActionCreators)(Qe.B,e),incomingDeletedAnnouncement:Object(cs.bindActionCreators)(Qe.C,e),getPostList:Object(cs.bindActionCreators)(gt.B,e),incomingPostListConnect:Object(cs.bindActionCreators)(gt.W,e),incomingPostListDisconnect:Object(cs.bindActionCreators)(gt.X,e),getUnarchivePost:Object(cs.bindActionCreators)(gt.G,e),incomingPostRequired:Object(cs.bindActionCreators)(gt.ab,e),incomingTeamChannel:Object(cs.bindActionCreators)(Wt.D,e),incomingRemoveFileAfterDownload:Object(cs.bindActionCreators)(Se.tb,e),incomingRemoveFileAutomatically:Object(cs.bindActionCreators)(Se.ub,e),incomingFavouriteWorkspace:Object(cs.bindActionCreators)(Wt.B,e),getFavoriteWorkspaceCounters:Object(cs.bindActionCreators)(Wt.n,e),getToDoDetail:Object(cs.bindActionCreators)(Qe.x,e),setActiveTopic:Object(cs.bindActionCreators)(Wt.P,e),incomingDeletedUser:Object(cs.bindActionCreators)(zt.q,e)}}))(Object(_.k)(fs)),hs="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function _s(){return(_s=Object(ht.a)(bt.a.mark((function e(){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(){return navigator.serviceWorker.register("/sw.js")}function Es(){return(Es=Object(ht.a)(bt.a.mark((function e(){var t;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hs});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gs="serviceWorker"in navigator&&"PushManager"in window;function As(){var e=Object(i.useState)("undefined"!==typeof Notification&&Notification.permission),t=Object(A.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(null),c=Object(A.a)(r,2),o=c[0],s=c[1],l=Object(i.useState)(null),d=Object(A.a)(l,2),m=d[0],p=d[1],f=Object(i.useState)(null),b=Object(A.a)(f,2),h=b[0],_=b[1],O=Object(i.useState)(!0),E=Object(A.a)(O,2),g=E[0],v=E[1],j=Object(i.useState)(null),C=Object(A.a)(j,2),T=C[0],y=C[1],S=Object(i.useState)(null),w=Object(A.a)(S,2),k=w[0],N=w[1],R=Object(i.useState)(localStorage.getItem("remindNotification")),x=Object(A.a)(R,2),I=x[0],P=x[1],D=Object(i.useState)(!1),L=Object(A.a)(D,2),F=L[0],M=L[1],U=Object(u.useDispatch)(),G=Object(u.useSelector)((function(e){return e.notifications.hasSubscribed})),H=function(){v(!0),_(!1),y(!0),function(){return Es.apply(this,arguments)}().then((function(e){s(e),U(Object(Qe.ab)(e,(function(e,t){if(e)return y(!1),v(!1),void _(e);y(!1),p(t.data.id)}))),v(!1)})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),_(e),v(!1)}))};Object(i.useEffect)((function(){gs&&(v(!0),_(!1),Os().then((function(){v(!1)}))),M(!0)}),[]),Object(i.useEffect)((function(){v(!0),_(!1),N(!0),function(){var e=Object(ht.a)(bt.a.mark((function e(){var t;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:t=e.sent,U(t?Object(ms.k)(!0):Object(ms.k)(!1)),s(t),N(!1),v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(i.useEffect)((function(){null===o&&null===T&&!1===k&&H()}),[o,T,k,U]),Object(i.useEffect)((function(){gs&&null===G&&Os().then((function(){"granted"===n&&(U(Object(ms.k)(!0)),H())}))}),[G,n]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),P(e)},onClickAskUserPermission:function(){v(!0),_(!1),function(){return _s.apply(this,arguments)}().then((function(e){a(e),"granted"!==e?(_({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),s(!1)):H(),v(!1)}))},onClickSubscribeToPushNotification:H,onClickSendSubscriptionToPushServer:function(){v(!0),_(!1),U(Object(Qe.ab)(o,(function(e,t){if(e)return v(!1),void _(e);p(t.data.id)})))},pushServerSubscriptionId:m,onClickSendNotification:function(){v(!0),_(!1),U(Object(Qe.t)({sub_id:m},(function(e,t){v(!1),e&&_(e)})))},userConsent:n,pushNotificationSupported:gs,userSubscription:o,error:h,loading:g,showNotificationBar:"default"===n&&null===o&&(null===I||I<Math.floor(Date.now()/1e3)),mounted:F}}function vs(){var e=Object(h.a)(["\n    text-decoration: underline;\n    cursor: pointer;\n"]);return vs=function(){return e},e}function js(){var e=Object(h.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  .feather {\n      cursor: pointer;\n  }\n"]);return js=function(){return e},e}var Cs,Ts,ys=E.a.div(js()),Ss=E.a.span(vs()),ws=function(e){var t=e.onClickAskUserPermission,n=e.onClickRemindLater;return c.a.createElement(ys,null,c.a.createElement("p",null,"Please enable notification to get real-time updates. ",c.a.createElement(Ss,{onClick:t},"Enable notification")),c.a.createElement(v.s,{icon:"x",onClick:n}))},ks=n(203),Ns=E.a.div(Cs||(Cs=Object(h.a)([""]))),Rs=E.a.audio(Ts||(Ts=Object(h.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"]))),xs=c.a.memo((function(e){Object(g.t)(e),Object(g.hb)(),Object(g.T)(),Object(g.A)();var t=As(),a=t.mounted,r=t.showNotificationBar,o=t.onClickAskUserPermission,s=t.onClickRemindLater,l=Object(_.j)().path,d=Object(g.eb)().displayWelcomeBanner,m=Object(g.o)(),p=Object(g.cb)()._t,f={huddlePublished:p("HUDDLE.HUDDLE_PUBLISHED","Huddle published"),likedYourPost:p("TOAST.LIKED_YOUR_POST","liked your post"),likedYourComment:p("TOAST.LIKED_YOUR_COMMENT","liked your comment")},b=Object(u.useSelector)((function(e){return e.session.user})),h=Object(g.X)(),O=Object(g.W)().localizeDate,E=Object(g.kb)(),A={audio:Object(i.useRef)(null)},v=Object(u.useDispatch)(),j=Object(g.S)(),C=j.driffSettings.isCompSettingsLoaded,T=j.chatSettings.sound_enabled,y=j.generalSettings,S=y.notifications_on,w=y.notification_sound,k=Object(_.g)(),N="external"===b.type;Object(i.useEffect)((function(){if("/logout"===l){var e="".concat(Object(ye.c)(),"/logged-out");window.location.href="".concat(Object(ye.a)({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[l,v,k]),Object(i.useEffect)((function(){b.id&&C&&d()}),[b,C]),Object(i.useEffect)((function(){A.audio.current&&(A.audio.current.pause(),A.audio.current.load())}),[w]);return Object(ks.a)({timeout:6e4,onIdle:function(){v(Object(Qe.U)(!0))},onActive:function(){v(Object(Qe.U)(!1))},debounce:250}),c.a.createElement(c.a.Fragment,null,c.a.createElement(Rs,{ref:A.audio,controls:!0},c.a.createElement(c.a.Fragment,null,c.a.createElement("source",{src:n(692),type:"audio/ogg"}),c.a.createElement("source",{src:n(693),type:"audio/mpeg"}),c.a.createElement("source",{src:n(694),type:"audio/m4r"})),"Your browser does not support the audio element."),r&&a&&c.a.createElement(ws,{onClickAskUserPermission:o,onClickRemindLater:s}),a&&c.a.createElement(wc,{isExternal:N}),a&&c.a.createElement(Ns,{id:"main"},c.a.createElement(_.b,{render:function(e){return c.a.createElement(Rc,Object.assign({isExternal:N},e,{showNotificationBar:r}))},path:["/:page"]}),c.a.createElement(_.d,null,c.a.createElement(_.b,{render:function(e){return c.a.createElement(Qr,Object.assign({isExternal:N},e))},path:["/workspace"]}),c.a.createElement(_.b,{render:function(e){return c.a.createElement(hr,Object.assign({},e,{isExternal:N}))},path:["/:page"]})),c.a.createElement(Xo,null)),c.a.createElement(ts,null),void 0!==b.id&&void 0!==window.Echo&&c.a.createElement(bs,{dictionary:f,useDriff:m,localizeDate:O,toaster:h,soundPlay:function(){if(T&&A.audio.current){var e=A.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){}))}},workspaceActions:E,notificationsOn:S}))})),Is=function(e){var t=e.children,n=Object(nn.a)(e,["children"]),a=Object(g.S)(),r=a.init,o=a.fetch,s=a.fetchUserSettings,l=a.userSettings,d=a.driffSettings;r();var m=Object(u.useDispatch)(),p=Object(_.g)(),f=Object(u.useSelector)((function(e){return e.session})),b=Object(u.useSelector)((function(e){return e.global.i18nLoaded}));return Object(i.useEffect)((function(){f.checked&&f.authenticated&&(o(),s())}),[f.checked,f.authenticated,s,d.isSettingsLoaded]),Object(i.useEffect)((function(){f.user.id&&m(Object(Qe.b)({id:f.user.id,name:f.user.name,partial_name:f.user.partial_name,profile_image_link:f.user.profile_image_thumbnail_link?f.user.profile_image_thumbnail_link:f.user.profile_image_link,type:f.user.type}))}),[f.user]),f.checked&&b?f.authenticated&&!l.isLoaded?null:f.authenticated?c.a.createElement(c.a.Fragment,null,c.a.createElement(_.d,null,c.a.createElement(_.b,Object.assign({},n,{component:$a,path:["/logged-out","/force-logout"],exact:!0})),c.a.createElement(_.b,Object.assign({},n,{component:Ha,path:["/test/files/workspace/:workspaceId"]}),t),c.a.createElement(_.b,Object.assign({},n,{component:Pa,path:["/test/chat"]}),t),c.a.createElement(_.b,Object.assign({},n,{component:xs,path:["/notifications","/profile","/dashboard","/posts","/chat","/files","/people","/search","/settings","/system/people","/todos","/bot","/releases"]}),t),c.a.createElement(_.b,Object.assign({},n,{component:xs,path:["/workspace/chat","/workspace/:page","/magic-link/:token"]}),t),c.a.createElement(_.a,{path:"*",to:{pathname:f.user.type&&"external"===f.user.type?"/workspace/chat":"/chat",state:{from:p.location}}}))):c.a.createElement(_.d,null,c.a.createElement(_.b,Object.assign({},n,{component:$a,path:["/driff-register","/register","/magic-link","/resetpassword/:token/:email","/reset-password","/login","/authenticate/:token/:returnUrl?","/request-form","/magic-link/:token","/authenticate-ios/:tokens"],exact:!0}),t),c.a.createElement(_.a,{from:"*",to:{pathname:"/login",state:{from:p.location}}})):null};function Ps(){var e=Object(h.a)(["\n  body & {\n    &.form-wrapper {\n      margin: 50px auto;\n      max-width: 860px;\n      width: 98%;\n      background-color: transparent;\n      box-shadow: none;\n      @media (max-width: 576px) {\n        width: auto;\n        margin: 0 20px;\n        padding: 32px;\n      }\n      h2 {\n        margin: 0 0 20px 0;\n        font-size: 26px;\n        text-align: left;\n        min-height: 80px;\n        color: #000000;\n        font-weight: 700;\n        line-height: 1.4;\n        @media (max-width: 576px) {\n          font-size: 26px;\n          min-height: auto;\n        }\n      }\n      p {\n        text-align: left;\n        font-size: 1rem;\n      }\n\n      .col-sm-6 {\n        padding: 60px 40px;\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n        background: #ffffff;\n        @media (max-width: 576px) {\n          padding: 30px 20px;\n          border-radius: 0;\n          border-bottom-left-radius: 4px;\n          border-bottom-right-radius: 4px;\n        }\n        .btn {\n          width: 100%;\n          text-align: center;\n          justify-content: center;\n          margin-bottom: 0 !important;\n          font-size: 18px;\n          height: 44px;\n          font-weight: bold;\n          color: #4d075a;\n          &:hover {\n            background-color: #7a1b8b;\n            border-color: #7a1b8b;\n            color: #ffffff;\n          }\n        }\n        border: 1px solid #ddd;\n        border-left: 0;\n\n        @media (max-width: 576px) {\n          border: 1px solid #ddd;\n          border-top: 0;\n        }\n        &.col-set-up {\n          background-color: #4d075a;\n          border: 0;\n          border-radius: 0;\n          border-top-left-radius: 4px;\n          border-bottom-left-radius: 4px;\n          h2 {\n            color: #fff;\n          }\n          p {\n            color: #fff;\n          }\n          @media (max-width: 576px) {\n            border-radius: 0;\n            border-top-left-radius: 4px;\n            border-top-right-radius: 4px;\n          }\n          .btn.btn-outline-light {\n            background-color: #fff;\n            &:hover {\n              background-color: rgba(255, 255, 255, 0.2) !important;\n              border-color: rgba(255, 255, 255, 0.2) !important;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .input-group {\n    input {\n      margin-bottom: 0 !important;\n    }\n    &.driff-name {\n      .input-group-text {\n        border-radius: 0 6px 6px 0;\n      }\n      .invalid-feedback {\n        text-align: left;\n      }\n    }\n  }\n"]);return Ps=function(){return e},e}var Ds,Ls=E.a.div(Ps()),Fs=Object(_.k)((function(e){var t=e.className,n=void 0===t?"":t,a=Object(g.bb)()._t,r={setupDriffHeader:a("DRIFF.SETUP_DRIFF_HEADER","Setup a new Driff"),setupDriffBody:a("DRIFF.SETUP_DRIFF_BODY","Start with a fresh installation for you and your team."),setupDriffButton:a("DRIFF.SETUP_DRIFF_BUTTON","+ Create a Driff"),signInDriffHeader:a("DRIFF.SIGIN_DRIFF_HEADER","Is your team already using Driff?"),signInDriffBody:a("DRIFF.SIGIN_DRIFF_BODY","Find and sign in to your team's Driff and start collaborating."),signInDriffButton:a("DRIFF.SIGIN_DRIFF_BUTTON","Sign in to Driff")};return Object(i.useEffect)((function(){document.body.classList.add("form-membership")}),[]),c.a.createElement(Ls,{className:"driff-register-panel fadeIn form-wrapper ".concat(n)},c.a.createElement("div",{id:"logo"},c.a.createElement(v.r,{icon:"driff-logo",width:"110",height:"80"})),c.a.createElement(w.a,{className:"row"},c.a.createElement("div",{className:"col-12 col-sm-6 col-set-up"},c.a.createElement("h2",null,r.setupDriffHeader),c.a.createElement("p",null,r.setupDriffBody),c.a.createElement(p.b,{className:"btn btn-outline-light mt-4 mb-4",to:"/driff-register"},r.setupDriffButton)),c.a.createElement("div",{className:"col-12 col-sm-6"},c.a.createElement("h2",null,r.signInDriffHeader),c.a.createElement("p",null,r.signInDriffBody),c.a.createElement(p.b,{className:"btn btn-outline-light mt-4 mb-4",to:"/driff"},r.signInDriffButton))))})),Ms=n(147),Us=(n(695),E.a.div(Ds||(Ds=Object(h.a)(["\n  min-height: 100%;\n  .Toastify__toast {\n    border-radius: 8px;\n  }\n  /* slide enter */\n  .mobile-slide-enter,\n  .mobile-slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(200px);\n    z-index: 1;\n  }\n  .mobile-slide-enter.mobile-slide-enter-active,\n  .mobile-slide-appear.mobile-slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .mobile-slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .mobile-slide-exit.mobile-slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(5px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .mobile-slide-exit-done {\n    opacity: 0;\n  }\n"]))));var Gs=c.a.memo((function(){var e=Object(g.S)().driffSettings,t=Object(g.o)(),n=t.actions,a=t.redirected,r=t.registeredDriff,o=t.setRegisteredDriff,s=Object(_.h)(),l=Object(u.useDispatch)(),d=Object(_.g)(),m=Object(u.useSelector)((function(e){return e.users})).profileSlider;return Object(g.bb)(),Object(i.useEffect)((function(){"/force-logout"===s.pathname&&Ba.sessionService.deleteSession().then((function(){Ba.sessionService.deleteUser(),d.push("/login")})),Object(P.f)(window.location.hostname)||"localhost"===window.location.hostname||n.checkUpdateVersion();var e=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),e.settings.maintenance_mode?c.a.createElement(Us,{className:"App"},c.a.createElement($a,{setRegisteredDriff:o})):c.a.createElement(Us,{className:"App"},Object(ye.e)(),c.a.createElement(qo.b,{enableMultiContainer:!0,containerId:"toastA",transition:qo.a,position:"top-center",autoClose:2e3,pauseOnHover:!1,draggable:!1,pauseOnFocusLoss:!1}),c.a.createElement(Te,null),"/driff"===s.pathname?c.a.createElement(F,{setRegisteredDriff:o}):"/driff-register"===s.pathname?c.a.createElement(_.b,{render:function(){return c.a.createElement($a,{setRegisteredDriff:o})},path:"/driff-register",exact:!0}):c.a.createElement(c.a.Fragment,null,!0===a?c.a.createElement(T,{redirectTo:n.getBaseUrl}):null===r?c.a.createElement(Fs,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(_.d,null,c.a.createElement(O.a,null,c.a.createElement(Is,{path:"*"}))))),m&&c.a.createElement(xc.a,{appear:!0,in:null!==m||void 0!==m,timeout:300,classNames:"mobile-slide"},c.a.createElement(Ms.a,{profile:m,onShowPopup:function(){l(Object(Qe.W)({id:null}))},classNames:"mobile"})),c.a.createElement(Na,null))})),Hs=(n(696),n(697),n(107)),Bs=n(368);"1"===localStorage.getItem("sentry")&&l.a({dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",integrations:[new m.a.BrowserTracing],tracesSampleRate:1}),"1"===localStorage.getItem("log_rocket")&&(b.a.init("z1ni7v/driff",{dom:{textSanitizer:!0,inputSanitizer:!0}}),b.a.getSessionURL((function(e){d.b((function(t){t.setExtra("sessionURL",e)}))})));var Ws=Object(Hs.a)(),Ys=Ws.store,zs=Ws.persistor,Vs=Ws.persistenceOn;s.a.render(c.a.createElement(u.Provider,{store:Ys},Vs?c.a.createElement(Bs.a,{loading:null,persistor:zs},c.a.createElement(p.a,null,c.a.createElement(Gs,null))):c.a.createElement(p.a,null,c.a.createElement(Gs,null))),document.getElementById("root"))}],[[380,1,2]]]);