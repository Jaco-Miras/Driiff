(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[6],{738:function(e,n,t){"use strict";t.d(n,"a",(function(){return O})),t.d(n,"b",(function(){return S}));var a,r,i,o,c,s,l=t(1),d=t(7),m=t(10),p=t(0),u=t.n(p),f=t(9),h=t(14),b=t(743),E=t(163),g=f.a.div(a||(a=Object(m.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),v=Object(f.a)(h.s)(r||(r=Object(m.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),O=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.actions,o=e.isMember,c=e.forceDelete,s=void 0!==c&&c,m=e.disableOptions,f=i.getFileSizeUnit(r.hasOwnProperty("size")&&"number"===typeof r.size?r.size:0),O=Object(p.useState)(r.is_favorite),_=Object(d.a)(O,2),w=_[0],k=_[1],y=function(){i.viewFiles(r)};return u.a.createElement(g,{className:"file-list-item ".concat(t)},u.a.createElement("div",{className:"card  app-file-list"},u.a.createElement("div",{className:"string"===typeof r.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:y},!0===w&&u.a.createElement(v,{icon:"star"}),i.getFileIcon(r.mime_type),"number"===typeof r.id&&u.a.createElement(b.g,{file:r,folders:a,actions:Object(l.a)(Object(l.a)({},i),{},{favorite:function(){k((function(e){return!e})),i.favorite(r)}}),isMember:o,forceDelete:s,disableOptions:m}),"string"===typeof r.id&&u.a.createElement(E.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),u.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:y},u.a.createElement(h.t,{content:r.name?r.name:r.search},u.a.createElement("div",{className:"file-name"},r.hasOwnProperty("payload_id")&&u.a.createElement(h.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),r.name?r.name:r.search)),u.a.createElement("div",{className:"text-muted"},f.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],f.unit))))})),_=t(45),w=t(16),k=t(252),y=t(11),N=t(251),x=t.n(N),T=f.a.div(i||(i=Object(m.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"])),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),j=Object(f.a)(h.s)(o||(o=Object(m.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]))),A=f.a.img(c||(c=Object(m.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"])),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),C=f.a.div(s||(s=Object(m.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]))),S=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.actions,i=e.isMember,o=e.history,c=e.params,s=e.handleAddEditFolder,m=e.disableOptions,f=Object(_.j)(),E=f.path,g=f.url,v=Object(p.useRef)(null),O=Object(p.useState)(!1),N=Object(d.a)(O,2),S=N[0],R=N[1],I=Object(p.useState)(a.bg_color?a.bg_color:""),P=Object(d.a)(I,2),L=P[0],D=P[1],M=function(e){if(e.preventDefault(),e.stopPropagation(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===E||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===E){var n=g.split("/folder/")[0];o.push(n+"/folder/".concat(a.id,"/").concat(Object(w.h)(a.search)))}else o.push(o.location.pathname+"/folder/".concat(a.id,"/").concat(Object(w.h)(a.search)))};return Object(p.useEffect)((function(){if(""!==L&&L!==a.bg_color&&!S){var e={id:a.id,name:a.search,bg_color:L,topic_id:c.workspaceId};a.parent_folder&&(e=Object(l.a)(Object(l.a)({},e),{},{folder_id:a.parent_folder.id})),r.updateFolder(e)}}),[S,L]),Object(p.useEffect)((function(){D(a.bg_color)}),[a.bg_color]),Object(y.G)(v,(function(){return R(!S)}),S),u.a.createElement(T,{className:"file-list-item ".concat(t),color:L},u.a.createElement("div",{className:"card  app-file-list"},u.a.createElement("div",{className:"app-file-icon cursor-pointer",onClick:M},u.a.createElement("div",{onClick:M},a.hasOwnProperty("payload")&&u.a.createElement(j,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),u.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!m&&u.a.createElement(b.m,{folder:a,actions:r,isMember:i,history:o,params:c,handleAddEditFolder:s}),u.a.createElement(A,{className:"color-picker",src:x.a,alt:"color picker",disableOptions:m,onClick:function(e){e.stopPropagation(),e.preventDefault(),R(!S)}})),S&&u.a.createElement(C,{ref:v},u.a.createElement(k.a,{color:L,onChange:function(e,n){n.stopPropagation(),D(e.hex)}}))),u.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:M},u.a.createElement(h.t,{content:a.search},u.a.createElement("div",{className:"file-name"},a.search)))))}))},739:function(e,n,t){"use strict";t.d(n,"e",(function(){return T})),t.d(n,"a",(function(){return ee})),t.d(n,"f",(function(){return te})),t.d(n,"b",(function(){return ie})),t.d(n,"d",(function(){return se})),t.d(n,"c",(function(){return me})),t.d(n,"g",(function(){return U}));var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_=t(10),w=t(0),k=t.n(w),y=t(9),N=t(11),x=y.a.li(a||(a=Object(_.a)(["\n  cursor: pointer;\n\n  .done {\n    text-decoration: line-through;\n    color: #00c851;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .user-name {\n    cursor: pointer;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n  }\n  .recent-post-timestamp {\n    @media only screen and (max-width: 480px) {\n      display: none !important;\n    }\n  }\n"]))),T=k.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.post,r=e.onOpenPost,i=Object(N.ab)().localizeChatDate,o=function(e){r(a)};return k.a.createElement(x,{className:"recent-post-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(t),onClick:o},k.a.createElement("div",{className:"flex-grow-1 min-width-0",onClick:o},k.a.createElement("div",{className:"mb-1 d-flex align-items-center justify-content-between"},k.a.createElement("div",{className:"app-list-title text-truncate"},a.title),k.a.createElement("div",{className:"pl-3 d-flex recent-post-timestamp align-items-center"},i(a.created_at.timestamp)))))})),j=t(1),A=t(7),C=t(45),S=t(14),R=t(163),I=t(741),P=t(103),L=t(775),D=t(4),M=t(23),F=t(724),U=function(e){var n=e.users,t=Object(w.useState)(!1),a=Object(A.a)(t,2),r=a[0],i=a[1],o=Object(w.useState)(null),c=Object(A.a)(o,2),s=c[0],l=c[1];return k.a.createElement(k.a.Fragment,null,k.a.createElement("span",{className:"hover read-users-container"},n.map((function(e){return k.a.createElement("span",{key:e.id},k.a.createElement(S.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id,onClick:function(n){return function(e,n){e.preventDefault(),e.stopPropagation(),i(!0),l(n)}(n,e)}})," ",k.a.createElement("span",{className:"name"},e.name))}))),r&&k.a.createElement(F.a,{appear:!0,in:r,timeout:300,classNames:"slide"},k.a.createElement(S.o,{id:s?s.id:null,onShowPopup:function(){return i((function(e){return!e}))},showPopup:r,orientation:{vertical:"bottom",horizontal:"left"}})))},H=y.a.div(r||(r=Object(_.a)(["\n  .profile-slider {\n    left: 0 !important;\n    right: unset !important;\n    bottom: 30px !important;\n    top: unset !important;\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]))),W=Object(y.a)(S.s)(i||(i=Object(_.a)(["\n  width: 16px;\n"]))),z=y.a.span(o||(o=Object(_.a)(["\n  cursor: pointer;\n"]))),B=function(e){var n=e.comment,t=e.dictionary,a=e.disableOptions,r=e.likers,i=e.post,o=e.handleReaction,c=e.handleShowInput,s=function(){return i.post_reads?i.post_reads.filter((function(e){return(n.shared_with_client||"internal"===e.type)&&e.last_read_timestamp>=n.updated_at.timestamp})):[]};return k.a.createElement(H,{className:"d-flex align-items-center justify-content-start"},k.a.createElement("div",{className:"clap-count-wrapper"},k.a.createElement(W,{className:n.user_clap_count?"mr-2 comment-reaction clap-true":"mr-2 comment-reaction clap-false",icon:"thumbs-up",onClick:o}),n.clap_count,0!==r.length&&k.a.createElement("span",{className:"hover read-users-container"},r.map((function(e){return k.a.createElement("span",{key:e.id},k.a.createElement(S.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",k.a.createElement("span",{className:"name"},e.name))})))),!i.is_read_only&&!a&&!i.is_close&&k.a.createElement(z,{className:"ml-3",onClick:c},t.comment),k.a.createElement("div",{className:"user-reads-container"},k.a.createElement("span",{className:"no-readers"},k.a.createElement(W,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),s().length),k.a.createElement(U,{users:s()})))},G=t(58),V=Object(w.lazy)((function(){return Promise.all([t.e(1),t.e(0)]).then(t.bind(null,818))})),Y=y.a.li(c||(c=Object(_.a)(['\n  margin-bottom: 1rem;\n  overflow: initial;\n\n  &.important {\n    background: #6a5acd !important;\n    color: #fff;\n    .text-muted {\n      color: #fffafa !important;\n    }\n  }\n\n  .mention {\n    font-weight: bold;\n    color: #7a1b8b;\n    &[data-value="All"],\n    &[data-id="','"] {\n      font-weight: normal;\n      box-shadow: none;\n      padding: 0 4px;\n      border-radius: 8px;\n      text-decoration: underline;\n      display: inline-block;\n      width: auto;\n      height: auto;\n    }\n  }\n\n  .quote {\n    margin: 0 auto 0.5rem;\n    width: 95%;\n    position: relative;\n    padding: 0 1rem;\n    color: #868686;\n    border-left: 4px solid #972c86;\n\n    // &:before {\n    //   border: 10px solid #0000;\n    //   border-right-color: #36393d;\n    // }\n\n    // &.border-side {\n    //   border-left: 5px solid #822492;\n    //   border-radius: 0 !important;\n    // }\n\n    > * {\n      margin-bottom: 0;\n    }\n  }\n\n  .quote-author {\n    margin-top: 1rem;\n    margin-left: 2.5%;\n    margin-bottom: 0.5rem;\n  }\n\n  .files {\n    margin-bottom: 1rem;\n\n    li {\n      display: inline-block;\n\n      &:not(:last-child) {\n        margin-right: 1rem;\n      }\n\n      .feather-paperclip {\n        margin-right: 0.5rem;\n      }\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n\n    &:hover {\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .read-users-container {\n      position: absolute;\n      left: 0;\n      z-index: 1;\n      bottom: 20px;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      background: #fff;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n'])),(function(e){return e.userId})),K=y.a.li(s||(s=Object(_.a)(["\n  overflow: initial;\n  z-index: 10;\n"]))),q=y.a.div(l||(l=Object(_.a)(["\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .comment-reaction {\n    cursor: pointer;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n"]))),Z=y.a.div(d||(d=Object(_.a)(["\n  .more-options {\n    margin-left: auto;\n    width: 28px;\n    height: 28px;\n    padding: 6px 0 0 5px;\n    svg {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]))),J=y.a.div(m||(m=Object(_.a)(["\n  img {\n    max-width: 50%;\n    @media (max-width: 991.99px) {\n      max-width: 100%;\n    }\n  }\n  ul {\n    padding-left: 40px;\n    li {\n      list-style: initial;\n    }\n  }\n"]))),Q=y.a.div(p||(p=Object(_.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),X=Object(y.a)(I.g)(u||(u=Object(_.a)([""]))),$=Object(y.a)(L.d)(f||(f=Object(_.a)([""]))),ee=k.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comment,r=e.post,i=e.type,o=void 0===i?"main":i,c=e.user,s=e.commentActions,l=e.parentId,d=e.onShowFileDialog,m=e.dropAction,p=e.parentShowInput,u=void 0===p?null:p,f=e.workspace,h=e.isMember,b=e.dictionary,E=e.disableOptions,g=e.isCompanyPost,v=void 0!==g&&g,O=e.postActions,_=Object(D.c)(),y={input:Object(w.useRef)(null),body:Object(w.useRef)(null),main:Object(w.useRef)(null),content:Object(w.useRef)(null)},x=Object(w.useRef)(),T=Object(N.t)(),L=T.fileBlobs,F=T.actions.setFileSrc,U=Object(C.g)(),H=Object(N.y)(),W=Object(D.d)((function(e){return e.users.users})),z=Object(D.d)((function(e){return e.posts.clearApprovingState})),ee=Object(w.useState)(null),ne=Object(A.a)(ee,2),ae=ne[0],re=ne[1],ie=Object(w.useState)(null),oe=Object(A.a)(ie,2),ce=oe[0],le=oe[1],de=Object(w.useState)(null),me=Object(A.a)(de,2),pe=(me[0],me[1]),ue=Object(w.useState)({approve:!1,change:!1}),fe=Object(A.a)(ue,2),he=fe[0],be=fe[1],Ee=Object.values(W).filter((function(e){return a.clap_user_ids.some((function(n){return n===e.id}))})),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u?u(e):re("number"!==typeof e?a.id:e),Oe()},ve=function(){le(null)},Oe=function(){null!==ae&&null!==y.input.current&&(y.input.current.querySelector(".ql-editor").scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),y.input.current.querySelector(".ql-editor").focus())},_e=Object(N.ab)().fromNow,we=function(e){var n=null;e.target.dataset.id&&(n=e.target.dataset.id),n&&_(Object(M.cc)({file_id:parseInt(n),files:a.files}))};Object(w.useEffect)((function(){y.content.current&&(y.content.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){H.init(e)})),y.content.current.querySelectorAll("img").forEach((function(e){var n=e.getAttribute("src");if(e.classList.contains("has-listener")){var t=a.files.find((function(e){return n.includes(e.code)}));t&&L[t.id]&&(e.setAttribute("src",L[t.id]),e.setAttribute("data-id",t.id))}else{e.addEventListener("click",we,!1),e.classList.add("has-listener");var r=a.files.find((function(e){return n.includes(e.code)}));r&&L[r.id]&&(e.setAttribute("src",L[r.id]),e.setAttribute("data-id",r.id))}})));var e=a.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!L[e.id]&&a.body.includes(e.code)&&G.sessionService.loadSession().then((function(n){var t=n.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:t,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var t=URL.createObjectURL(n);F({id:e.id,src:t}),s.updateCommentImages({post_id:r.id,id:a.id,parent_id:"main"===o?null:l,file:Object(j.a)(Object(j.a)({},e),{},{blobUrl:t})})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[a.body,y.content,a.files]),Object(w.useEffect)((function(){Oe()}),[Oe]),Object(w.useEffect)((function(){"object"===typeof U.location.state&&U.location.state&&U.location.state.focusOnMessage===a.id&&y.body.current&&(y.body.current.scrollIntoView(),y.main.current.classList.add("bounceIn"),U.push(U.location.pathname,null))}),[U.location.state]),Object(w.useEffect)((function(){return null!==a.body.match(/\.(gif)/g)&&pe(!0),a.clap_count>0&&a.clap_user_ids.length!==a.clap_count&&s.fetchPostReplyHover(a.id),function(){U.push(U.location.pathname,null)}}),[]);var ke=function(){re(null),be(Object(j.a)(Object(j.a)({},he),{},{change:!1}))};Object(w.useEffect)((function(){z&&z===a.id&&(be(Object(j.a)(Object(j.a)({},he),{},{change:!1})),s.clearApprovingStatus(null))}),[z]);var ye=a.files.filter((function(e){return!a.body.includes(e.code)}));return k.a.createElement(k.a.Fragment,null,k.a.createElement(Y,{ref:y.main,isImportant:a.is_important,className:"comment card border fadeBottom ".concat(t," animated ").concat(a.is_important&&"important"),userId:c.id},null!==a.todo_reminder&&k.a.createElement(S.p,{todoReminder:a.todo_reminder,type:"POST_COMMENT"}),a.quote&&k.a.createElement(se,{quote:a.quote,dictionary:b}),k.a.createElement(q,{ref:y.body,className:"card-body",type:o},k.a.createElement(Z,{className:"d-flex"},k.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},k.a.createElement(S.a,{className:"mr-2",id:a.author.id,name:a.author.name,imageLink:a.author.profile_image_thumbnail_link?a.author.profile_image_thumbnail_link:a.author.profile_image_link,showSlider:!0}),k.a.createElement("span",null,a.author.first_name),k.a.createElement("span",{className:"text-muted ml-1"},_e(a.created_at.timestamp))),!r.is_read_only&&!E&&k.a.createElement(R.c,{scrollRef:y.body.current,moreButton:"more-horizontal"},null===a.todo_reminder&&k.a.createElement("div",{onClick:function(){return s.remind(a,r)}},b.remindMeAboutThis),c.id===a.author.id&&k.a.createElement("div",{onClick:function(){return s.setToEdit(a)}},b.editReply),k.a.createElement("div",{onClick:function(){u?u(a.id):(re(a.id),Oe()),s.addQuote(a)}},b.quote),c.id!==a.author.id&&k.a.createElement("div",{onClick:function(){le('<p class="mention-data"><span class="mention" data-index="0" data-denotation-char="@" data-id="'.concat(a.author.id,'" data-value="').concat(a.author.name,'">\n        <span contenteditable="false"><span class="ql-mention-denotation-char">@</span>').concat(a.author.name,"</span></span></p> ")),re(!0)}},b.mentionUser),c.id===a.author.id&&k.a.createElement("div",{onClick:function(){return s.remove(a)}},b.removeReply),c.id===a.author.id&&k.a.createElement("div",{onClick:function(){return s.important(a)}},a.is_important?b.unMarkImportant:b.markImportant))),!a.shared_with_client&&r.shared_with_client&&k.a.createElement("span",null,k.a.createElement("i",null,b.internalComment)),a.files.length>0&&k.a.createElement(I.q,{files:a.files}),k.a.createElement(J,{ref:y.content,className:"mt-2 mb-3",dangerouslySetInnerHTML:{__html:a.body.startsWith("COMMENT_APPROVAL::")?"<span></span>":P.a.parseEmoji(a.body)}}),a.users_approval.length>0&&!he.change&&k.a.createElement(w.Suspense,{fallback:k.a.createElement(k.a.Fragment,null)},k.a.createElement(V,{ref:x,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},k.a.createElement(I.d,{approving:he,fromNow:_e,usersApproval:a.users_approval,user:c,handleApprove:function(){O.showModal("confirmation",r,a,x)},handleRequestChange:function(){a.users_approval.length>1?(be(Object(j.a)(Object(j.a)({},he),{},{change:!0})),he.approve||s.approve({post_id:r.id,approved:0,comment_id:a.id},(function(e,n){if(be(Object(j.a)(Object(j.a)({},he),{},{change:!1})),!e){var t=1===a.users_approval.filter((function(e){return null===e.ip_address})).length,i=a.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===a.users_approval.length-1;t&&i&&O.generateSystemMessage(r,[],a.users_approval.map((function(e){return e.id})))}}))):(ge(a.id),be(Object(j.a)(Object(j.a)({},he),{},{change:!0})),s.setRequestForChangeComment(a))},post:r,isMultipleApprovers:a.users_approval.length>1,isBotMessage:a.body.startsWith("COMMENT_APPROVAL::")}))),ye.length>=1&&k.a.createElement(k.a.Fragment,null,k.a.createElement("hr",null),k.a.createElement("h6",null,b.files),k.a.createElement(S.h,{attachedFiles:ye,type:"comment",comment:a})),a.files_trashed&&a.files_trashed.length>=1&&k.a.createElement(k.a.Fragment,null,k.a.createElement(Q,null,k.a.createElement("h6",{className:"font-size-11 text-uppercase"},b.files),k.a.createElement("span",{className:"text-muted"},b.filesAutomaticallyRemoved),k.a.createElement(S.h,{attachedFiles:a.files_trashed,type:"comment",comment:a}))),k.a.createElement(B,{comment:a,dictionary:b,disableOptions:E,likers:Ee,post:r,handleReaction:function(){if(!E){var e={id:a.id,reaction:"clap",counter:0===a.user_clap_count?1:0,post_id:r.id,parent_id:"main"===o?null:l};s.clap(e,(function(n,t){n&&(1===e.counter?s.unlike(e):s.like(e))})),0===a.user_clap_count?s.like(e):s.unlike(e)}},handleShowInput:ge}))),"main"===o&&Object.values(a.replies).length>0&&k.a.createElement(te,{parentShowInput:ge,comments:a.replies,post:r,user:c,commentActions:s,parentId:"main"===o?a.id:null,onShowFileDialog:d,dropAction:m,workspace:f,isMember:h,dictionary:b,disableOptions:E,isCompanyPost:v,postActions:O}),null!==ae&&k.a.createElement(K,{className:"card"},v?k.a.createElement($,{innerRef:y.input,user:c,commentId:ae,post:r,parentId:"main"===o?a.id:l,commentActions:s,userMention:ce,handleClearUserMention:ve,onShowFileDialog:d,dropAction:m,workspace:f,isMember:h,disableOptions:E,handleCancelChange:ke,mainInput:!1}):k.a.createElement(X,{innerRef:y.input,user:c,commentId:ae,post:r,parentId:"main"===o?a.id:l,commentActions:s,userMention:ce,handleClearUserMention:ve,onShowFileDialog:d,dropAction:m,workspace:f,isMember:h,disableOptions:E,handleCancelChange:ke,mainInput:!1})))})),ne=y.a.ul(h||(h=Object(_.a)(["\n  width: 95%;\n"]))),te=k.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comments,r=e.post,i=e.commentActions,o=e.parentId,c=e.user,s=e.onShowFileDialog,l=e.dropAction,d=e.parentShowInput,m=e.workspace,p=e.isMember,u=e.dictionary,f=e.disableOptions,h=e.postActions;return a&&k.a.createElement(ne,{className:"sub-comments ".concat(t)},Object.values(a).map((function(e){return k.a.createElement(ee,{key:e.id,comment:e,type:"sub",post:r,user:c,parentShowInput:function(){d(e.id)},commentActions:i,parentId:o,onShowFileDialog:s,dropAction:l,workspace:m,isMember:p,dictionary:u,disableOptions:f,postActions:h})})))})),ae=y.a.div(b||(b=Object(_.a)(["\n  padding: 0 10px 10px;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  border-left: 2px solid #972c86;\n  margin-left: 30px;\n  margin-bottom: 10px;\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: -35px;\n    top: calc(50% - 10px);\n    background-color: #fff;\n    cursor: pointer;\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]))),re=Object(y.a)(S.s)(E||(E=Object(_.a)([""]))),ie=function(e){var n=e.commentActions,t=e.commentId,a=e.editPostComment,r=e.mainInput,i=Object(N.g)(t),o=Object(A.a)(i,2),c=o[0],s=o[1],l=function(){n.clearQuote(t)};return c?a&&r?k.a.createElement(ae,null,k.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:c.user?c.user.name:""}}),k.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:c.body?s.split("</p>")[0]:""}}),k.a.createElement("span",{className:"quote-clear-container",onClick:l},k.a.createElement(re,{icon:"x"}))):a&&!r?null:k.a.createElement(ae,null,k.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:c.user?c.user.name:""}}),k.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:c.body?s.split("</p>")[0]:""}}),k.a.createElement("span",{className:"quote-clear-container",onClick:l},k.a.createElement(re,{icon:"x"}))):null},oe=t(373),ce=y.a.div(g||(g=Object(_.a)(["\n  text-align: center;\n"]))),se=function(e){var n=e.quote,t=e.dictionary,a=Object(w.useRef)(null),r=Object(w.useState)(!1),i=Object(A.a)(r,2),o=i[0],c=i[1],s=Object(w.useState)(!1),l=Object(A.a)(s,2),d=l[0],m=l[1],p=Object(w.useState)(200),u=Object(A.a)(p,2),f=u[0],h=u[1],b={transition:"max-height ".concat(300,"ms ease-in-out"),maxHeight:"200px",overflow:"hidden"},E={entering:{maxHeight:"".concat(f,"px")},entered:{maxHeight:"".concat(f,"px")},exiting:{maxHeight:"200px"},exited:{maxHeight:"200px"}},g=function(){c(!o)};return Object(w.useEffect)((function(){a.current&&(h(a.current.scrollHeight),a.current.scrollHeight>200&&m(!0))}),[]),k.a.createElement(oe.a,{in:o,timeout:300},(function(e){return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{style:Object(j.a)(Object(j.a)({},b),E[e]),ref:a},n.user&&k.a.createElement("div",{className:"quote-author"},t.quotedCommentFrom," ",n.user.name),k.a.createElement("div",{className:"quote border-side",dangerouslySetInnerHTML:{__html:n.body}})),d&&k.a.createElement(ce,{onClick:g,className:"btn-toggle-show cursor-pointer mt-2"},o?t.showLess:t.showMore))}))},le=y.a.div(v||(v=Object(_.a)(["\n  width: 100%;\n  padding: 0.5rem 1.5rem;\n  flex-wrap: wrap;\n  .seen-indicator,\n  .post-reaction {\n    cursor: pointer;\n  }\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n  .readers-container {\n    @media (max-width: 575.99px) {\n      flex: 0 1 100%;\n      .clap-count-wrapper {\n        display: inline-block;\n        margin-right: 0.5rem;\n      }\n      .user-reads-container {\n        .not-read-users-container,\n        .read-users-container {\n          right: -75px;\n        }\n        &.read-by {\n          width: 100%;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          .not-read-users-container,\n          .read-users-container {\n            right: -20px;\n          }\n        }\n      }\n    }\n  }\n  .read-users-container {\n    span {\n      align-items: center;\n    }\n    .avatar.avatar-md {\n      min-height: 2.7rem;\n      min-width: 2.7rem;\n    }\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]))),de=Object(y.a)(S.s)(O||(O=Object(_.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),me=function(e){var n=e.dictionary,t=e.likers,a=e.post,r=e.viewerIds,i=e.viewers,o=e.handleReaction,c=Object(D.d)((function(e){return e.session.user})),s=Object(D.d)((function(e){return e.users.users})),l=Object(N.gb)()._t,d=a&&a.is_must_read&&a.must_read_users.length>0?a.must_read_users.filter((function(e){return e.must_read})):[],m=d.some((function(e){return e.id===c.id}));return k.a.createElement(le,{className:"d-flex align-items-center"},k.a.createElement("div",{className:"clap-count-wrapper d-none d-sm-flex"},k.a.createElement(de,{className:a.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:o}),a.clap_count,0!==t.length&&k.a.createElement("span",{className:"hover read-users-container"},t.map((function(e){return k.a.createElement("span",{key:e.id},k.a.createElement(S.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",k.a.createElement("span",{className:"name"},e.name))})))),k.a.createElement("div",{className:"readers-container ml-auto text-muted"},a.is_must_read&&d.length>0&&Object.values(s).length>1&&k.a.createElement("div",{className:"user-reads-container read-by"},m&&k.a.createElement("span",{className:"mr-2"},k.a.createElement(de,{className:"mr-2",icon:"check"})," ",n.alreadyReadThis),k.a.createElement("span",{className:"no-readers"},l("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:d.length})),k.a.createElement("span",{className:"hover read-users-container"},d.map((function(e){return k.a.createElement("span",{key:e.id},k.a.createElement(S.a,{className:"mr-2",key:e.id,name:e.name,imageLink:s[e.id]?s[e.id].profile_image_thumbnail_link:null,id:e.id})," ",k.a.createElement("span",{className:"name"},e.name))})))),k.a.createElement("div",{className:"clap-count-wrapper d-sm-none"},k.a.createElement(de,{className:a.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:o}),a.clap_count,0!==t.length&&k.a.createElement("span",{className:"hover read-users-container"},t.map((function(e){return k.a.createElement("span",{key:e.id},k.a.createElement(S.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",k.a.createElement("span",{className:"name"},e.name))})))),k.a.createElement(de,{className:"mr-2",icon:"message-square"}),a.reply_count,k.a.createElement("div",{className:"user-reads-container"},k.a.createElement("span",{className:"no-readers"},k.a.createElement(de,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),r.length),k.a.createElement(U,{users:i}))))}},740:function(e,n,t){"use strict";t.d(n,"a",(function(){return O})),t.d(n,"c",(function(){return C})),t.d(n,"b",(function(){return D}));var a,r,i,o,c,s,l,d=t(10),m=t(0),p=t.n(m),u=t(9),f=t(14),h=t(163),b=t(20),E=t(11),g=u.a.div(a||(a=Object(d.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .card-body {\n    padding: 1rem !important;\n    min-height: 90px;\n    width: 100%;\n    display: flex;\n  }\n"])),(function(e){return e.userNameMaxWidth})),v=Object(u.a)(f.b)(r||(r=Object(d.a)(["\n  .badge {\n    background: ",";\n  }\n"])),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),O=p.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.loggedUser,r=e.onNameClick,i=void 0===r?null:r,o=e.onChatClick,c=void 0===o?null:o,s=e.user,l=e.dictionary,d=e.showOptions,u=void 0!==d&&d,O=e.onUpdateRole,_=void 0===O?null:O,w=e.roles,k=e.onArchiveUser,y=void 0===k?null:k,N=e.onActivateUser,x=void 0===N?null:N,T=e.onChangeUserType,j=void 0===T?null:T,A=e.onDeleteUser,C=void 0===A?null:A,S=e.onResendInvite,R=void 0===S?null:S,I=e.onDeleteInvitedInternalUser,P=void 0===I?null:I,L=e.showInactive,D=void 0!==L&&L,M=e.showWorkspaceRole,F=void 0!==M&&M,U=e.usersWithoutActivity,H=void 0===U?[]:U,W=e.onAddUserToTeam,z=void 0===W?null:W,B=e.onDeleteTeamMember,G=void 0===B?null:B,V=Object(E.bb)(),Y={cardBody:Object(m.useRef)(null),content:Object(m.useRef)(null)},K=function(e){var n={user_id:s.id,role_id:w[e]};_(n)},q=function(){y(s)},Z=function(){x(s)};return p.a.createElement(g,{className:"workspace-user-item-list col-lg-4 col-md-6 ".concat(t)},p.a.createElement("div",{className:"col-12"},p.a.createElement("div",{className:"card border",key:s.id},p.a.createElement("div",{className:"card-body",ref:Y.cardBody},p.a.createElement("div",{ref:Y.content,className:"d-flex align-items-center justify-content-between w-100"},p.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},p.a.createElement(f.a,{id:s.id,name:s.name?s.name:s.email,hasAccepted:s.has_accepted,imageLink:s.profile_image_thumbnail_link?s.profile_image_thumbnail_link:s.profile_image_link?s.profile_image_link:"",showSlider:!0}),p.a.createElement("div",{className:"user-info-wrapper ml-3"},""!==s.email&&s.hasOwnProperty("has_accepted")&&!s.has_accepted&&"external"===s.type?p.a.createElement("h6",{className:"user-name mb-0"},p.a.createElement(f.t,{content:s.email},p.a.createElement("div",{className:"mr-2 people-text-truncate"},""!==s.name?s.name:s.email)),p.a.createElement(f.b,{label:l.peopleInvited,badgeClassName:"badge badge-info text-white"}),p.a.createElement(f.b,{label:l.peopleExternal,badgeClassName:"badge badge-info text-white"})):p.a.createElement("h6",{className:"user-name mb-0",onClick:function(){i&&i(s)}},p.a.createElement("div",{className:"mr-2 d-flex"},p.a.createElement(f.t,{content:s.email},p.a.createElement("span",{className:"mr-2"},s.name)),s.hasOwnProperty("has_accepted")&&!s.has_accepted&&s.active?p.a.createElement(f.b,{label:l.peopleInvited,badgeClassName:"badge badge-info text-white"}):null,s.role&&("owner"===s.role.name||"admin"===s.role.name)&&p.a.createElement(f.t,{content:"This is an administrator account"},p.a.createElement(f.s,{icon:"settings",className:"ml-1",width:10,height:10}))),p.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===s.type&&"external"!==a.type&&p.a.createElement(f.b,{label:l.peopleExternal,badgeClassName:"badge badge-info text-white"}),0===s.active&&p.a.createElement(f.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}),F&&s.workspace_role&&""!==s.workspace_role&&p.a.createElement(v,{role:s.workspace_role,badgeClassName:"WATCHER"===s.workspace_role||"TEAM_LEAD"===s.workspace_role?"text-dark":"text-white",label:function(){switch(s.workspace_role){case"ADVISOR":return l.roleAdvisor;case"APPROVER":return l.roleApprover;case"CLIENT":return l.roleClient;case"COMMUNICATION_LEAD":return l.roleCommunicationLead;case"DEVELOPER":return l.roleDeveloper;case"DESIGNER":return l.roleDesigner;case"FREELANCER":return l.roleFreelancer;case"SUPERVISOR":return l.roleSupervisor;case"TEAM_LEAD":return l.roleTeamLead;case"TECHNICAL_ADVISOR":return l.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return l.roleTechnicalLead;case"WATCHER":return l.roleWatcher;default:return""}}()}))),s.role&&"internal"===s.type&&p.a.createElement("span",{className:"small text-muted"},s.role.display_name),s.external_company_name&&"external"===s.type&&p.a.createElement("span",{className:"small text-muted"},s.external_company_name))),null!==c&&"external"!==a.type&&p.a.createElement("div",{className:"button-wrapper"},s.contact&&""!==s.contact&&a.id!==s.id&&p.a.createElement("a",{href:"tel:".concat(s.contact.replace(/ /g,"").replace(/-/g,""))},p.a.createElement(f.s,{className:"mr-2",icon:"phone"})),a.id!==s.id&&1===s.active&&p.a.createElement(f.s,{onClick:function(){c&&c(s)},icon:"message-circle"}),u&&a.id!==s.id&&p.a.createElement(h.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:Y.cardBody.current},!D&&"internal"===s.type&&s.role&&"employee"===s.role.name&&s.hasOwnProperty("has_accepted")&&s.has_accepted&&p.a.createElement("div",{onClick:function(){return K("admin")}},l.assignAsAdmin),!D&&"internal"===s.type&&s.role&&"admin"===s.role.name&&s.hasOwnProperty("has_accepted")&&s.has_accepted&&p.a.createElement("div",{onClick:function(){return K("employee")}},l.assignAsEmployee),!D&&"external"===s.type&&p.a.createElement("div",{onClick:function(){j&&j(s,"internal")}},l.moveToInternal),!D&&"internal"===s.type&&p.a.createElement("div",{onClick:function(){j&&j(s,"external")}},l.moveToExternal),D&&0===s.active&&!s.deactivate?p.a.createElement("div",{onClick:q},l.unarchiveUser):null,s.active&&s.hasOwnProperty("has_accepted")&&s.has_accepted?p.a.createElement("div",{onClick:q},l.archiveUser):null,!s.deactivate&&s.active&&s.hasOwnProperty("has_accepted")&&s.has_accepted?p.a.createElement("div",{onClick:Z},l.deactivateUser):null,D&&s.deactivate&&0===s.active&&s.hasOwnProperty("has_accepted")&&s.has_accepted?p.a.createElement("div",{onClick:Z},l.activateUser):null,!D&&s.active&&s.hasOwnProperty("has_accepted")&&s.has_accepted&&H.some((function(e){return e.user_id===s.id}))&&C&&p.a.createElement("div",{onClick:function(){C&&C(s)}},l.deleteUser),!D&&s.hasOwnProperty("has_accepted")&&!s.has_accepted&&p.a.createElement("div",{onClick:function(){R&&R(s)}},l.resendInvitation),!D&&s.hasOwnProperty("has_accepted")&&!s.has_accepted&&"internal"===s.type&&p.a.createElement("div",{onClick:function(){P&&P(s)}},l.removeInvitedInternal),!D&&s.hasOwnProperty("has_accepted")&&!s.has_accepted&&"internal"===s.type&&p.a.createElement("div",{onClick:function(){Object(b.b)(V,s.invite_link)}},l.sendInviteManually),!D&&"internal"===s.type&&p.a.createElement("div",{onClick:function(){z&&z(s)}},l.addUserToTeam),G&&p.a.createElement("div",{onClick:function(){G&&G(s)}},l.removeTeamMember))))))))})),_=t(45),w=t(4),k=t(16),y=t(13),N=t(26),x=t(739),T=u.a.li(i||(i=Object(d.a)(["\n  padding: 16px 0 !important;\n  .card-title {\n    position: relative;\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .more-options {\n    display: none;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .profile-name {\n    cursor: pointer;\n    margin-bottom: 4px;\n  }\n  > .more-options svg {\n    width: auto;\n  }\n  .more-options-tooltip {\n    display: none;\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &:hover {\n    .more-options-tooltip {\n      display: block;\n    }\n  }\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      top: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n      z-index: 2;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      .avatar {\n        min-width: 2.7rem;\n        min-height: 2.7rem;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    .no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n      z-index: 2;\n    }\n  }\n"]))),j=u.a.div(o||(o=Object(d.a)(["\n  text-align: center;\n  position: absolute;\n  bottom: -10px;\n  z-index: 2;\n  width: 100%;\n  > span {\n    background: #fff;\n    padding: 10px;\n    .dark & {\n      background: #191c20;\n    }\n  }\n"]))),A=Object(u.a)(f.b)(c||(c=Object(d.a)(["\n  .badge {\n    background: ",";\n  }\n"])),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),C=p.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.member,r=e.hideOptions,i=e.actions,o=e.workspace_id,c=e.dictionary,s=e.showMoreButton,l=e.showLessButton,d=e.toggleShow,m=e.loggedUser,u=e.onLeaveWorkspace,g=void 0===u?null:u,v=e.workspace,O=void 0===v?null:v,C=e.scrollRef,S=e.onAddRole,R=void 0===S?null:S,I=Object(_.g)(),P=Object(w.c)(),L=Object(E.bb)(),D=Object(E.gb)()._t,M=function(){var e={topic_id:o,user_id:a.id};i.deleteRole(e)},F=function(){var e={topic_id:o,emails:[a.email]};P(Object(N.Q)(e,(function(e,n){e||L.success(c.invitationSent)})))},U="internal"===a.type||"external"===a.type;return p.a.createElement(T,{className:"team-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(t)},p.a.createElement("div",{className:"d-flex align-items-center "},p.a.createElement("div",{className:"pr-3"},p.a.createElement(f.a,{id:a.id,name:a.name,imageLink:U?a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link:a.icon_link,partialName:a.partial_name,noDefaultClick:!a.has_accepted,hasAccepted:a.has_accepted,showSlider:!0,scrollRef:C,type:U?"USER":"TEAM"})),p.a.createElement("div",null,U&&p.a.createElement("h6",{className:"profile-name",onClick:function(){a.has_accepted&&I.push("/profile/".concat(a.id,"/").concat(Object(k.h)(a.name)))}},a.has_accepted||""!==a.name?a.name:a.email),!U&&p.a.createElement("div",{className:"user-reads-container"},p.a.createElement("h6",{className:"no-readers profile-name"},c.team," ",a.name," ",!U&&D("PEOPLE.TEAM_MEMBERS_NUMBER","(::number:: members)",{number:a.members.length})),p.a.createElement(x.g,{users:a.members})),"internal"===a.type&&a.designation&&p.a.createElement("small",{className:"text-muted"},a.designation),"external"===a.type&&a.external_company_name&&p.a.createElement("small",{className:"text-muted"},a.external_company_name))),p.a.createElement("div",{className:"ml-auto"},a.workspace_role&&""!==a.workspace_role&&p.a.createElement(A,{role:a.workspace_role,badgeClassName:"WATCHER"===a.workspace_role||"TEAM_LEAD"===a.workspace_role?"text-dark":"text-white",label:function(){switch(a.workspace_role){case"ADVISOR":return c.roleAdvisor;case"APPROVER":return c.roleApprover;case"CLIENT":return c.roleClient;case"COMMUNICATION_LEAD":return c.roleCommunicationLead;case"DEVELOPER":return c.roleDeveloper;case"DESIGNER":return c.roleDesigner;case"FREELANCER":return c.roleFreelancer;case"SUPERVISOR":return c.roleSupervisor;case"TEAM_LEAD":return c.roleTeamLead;case"TECHNICAL_ADVISOR":return c.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return c.roleTechnicalLead;case"WATCHER":return c.roleWatcher;default:return""}}()}),"external"===a.type&&"external"!==m.type&&a.has_accepted&&p.a.createElement(f.b,{badgeClassName:"badge-info text-white",label:c.peopleExternal}),"external"===a.type&&!a.has_accepted&&p.a.createElement(f.b,{badgeClassName:"badge-info text-white",label:c.peopleInvited}),"external"===a.type&&"external"!==m.type&&!a.has_accepted&&p.a.createElement(p.a.Fragment,null,p.a.createElement(f.b,{badgeClassName:"badge-info text-white",label:c.peopleExternal}))),s&&p.a.createElement(j,{className:"btn-toggle-show"},p.a.createElement("span",{className:"cursor-pointer",onClick:d},c.showMore)),l&&p.a.createElement(j,{className:"btn-toggle-show"},p.a.createElement("span",{className:"cursor-pointer",onClick:d},c.showLess)),!r&&U&&p.a.createElement(h.c,{moreButton:"more-horizontal",width:250},"APPROVER"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"approver")}},c.assignAsApprover),"APPROVER"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsApprover),"CLIENT"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"client")}},c.assignAsClient),"CLIENT"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsClient),"COMMUNICATION_LEAD"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"communication_lead")}},c.assignAsCommunicationLead),"COMMUNICATION_LEAD"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsCommunicationLead),"DESIGNER"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"designer")}},c.assignAsDesigner),"DESIGNER"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsDesigner),"DEVELOPER"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"developer")}},c.assignAsDeveloper),"DEVELOPER"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsDeveloper),"FREELANCER"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"freelancer")}},c.assignAsFreelancer),"FREELANCER"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsFreelancer),"SUPERVISOR"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"supervisor")}},c.assignAsSupervisor),"SUPERVISOR"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsSupervisor),"TEAM_LEAD"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"team_lead")}},c.assignAsTeamLead),"TEAM_LEAD"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsTeamLead),"TECHNICAL_ADVISOR"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"technical_advisor")}},c.assignAsTechnicalAdvisor),"TECHNICAL_ADVISOR"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsTechnicalAdvisor),"TECHNICAL_LEAD"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"technical_lead")}},c.assignAsTechnicalLead),"TECHNICAL_LEAD"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsTechnicalLead),"WATCHER"!==a.workspace_role&&p.a.createElement("div",{onClick:function(){return R(a,"watcher")}},c.assignAsWatcher),"WATCHER"===a.workspace_role&&p.a.createElement("div",{onClick:M},c.revokeAsWatcher),a.id===m.id&&p.a.createElement("div",{onClick:function(){return g(O,a)}},c.leave),a.id!==m.id&&"internal"===m.type&&p.a.createElement("div",{onClick:function(){return g(O,a)}},c.remove),!a.has_accepted&&"external"===a.type&&p.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:c.resendInvite,submitText:c.resend,cancelText:c.cancel,bodyText:"".concat(c.resendInviteConfirmation," ").concat(a.email,"?"),actions:{onSubmit:F}};P(Object(y.a)(e))}},c.resendInvite),!a.has_accepted&&"external"===a.type&&a.invite_link&&p.a.createElement("div",{onClick:function(){Object(b.b)(L,a.invite_link)}},c.sendInviteManually)),!r&&!U&&p.a.createElement(h.c,{moreButton:"more-horizontal",width:250},p.a.createElement("div",{onClick:function(){return g(O,a)}},c.remove)))})),S=t(1),R=t(7),I=t(31),P=u.a.div(s||(s=Object(d.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .team-title {\n    display: flex;\n    flex-flow: row wrap;\n  }\n  .button-wrapper {\n    margin-left: auto;\n  }\n"])),(function(e){return e.userNameMaxWidth})),L=Object(u.a)(f.j)(l||(l=Object(d.a)(["\n  width: 1rem;\n  height: 1rem;\n"]))),D=p.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.loggedUser,r=e.team,i=e.dictionary,o=e._t,c=Object(w.c)(),s=Object(E.bb)(),l={cardBody:Object(m.useRef)(null),content:Object(m.useRef)(null)},d=Object(m.useState)(!1),u=Object(R.a)(d,2),b=u[0],g=u[1],v=Object(_.g)(),O=Object(E.Z)(),k=o("PEOPLE.TEAM_MEMBERS_NUMBER","(::number:: members)",{number:r.members.length}),N="admin"===a.role.name||"owner"===a.role.name;return p.a.createElement(P,{className:"workspace-user-item-list col-12 col-md-6 ".concat(t)},p.a.createElement("div",{className:"col-12"},p.a.createElement("div",{className:"card border",key:r.id},p.a.createElement("div",{className:"card-body",ref:l.cardBody},p.a.createElement("div",{ref:l.content,className:"d-flex align-items-center"},p.a.createElement("div",{className:"d-flex align-items-center"},p.a.createElement(f.a,{id:r.id,name:r.name,noDefaultClick:!0,imageLink:r.icon_link,showSlider:!1,type:"TEAM"})),p.a.createElement("div",{className:"user-info-wrapper ml-3"},p.a.createElement(f.t,{content:r.name},p.a.createElement("div",{className:"mr-2 team-title",onClick:function(){v.push("/system/people/teams/".concat(r.id,"/").concat(r.name))}},p.a.createElement("span",null,i.team," ",r.name),p.a.createElement("span",null,r.members.length>0&&k)))),"external"!==a.type&&p.a.createElement("div",{className:"button-wrapper"},b&&p.a.createElement(L,null),!b&&p.a.createElement(f.s,{onClick:function(){g(!0);var e={type:"team",recipient_id:r.id};O.createChannel(e,(function(e,n){g(!1),e||n&&(O.addAndSelectChannel(Object(S.a)(Object(S.a)({},n.data.channel),{},{hasMore:!0,selected:!0,entity_id:r.id})),v.push("/chat/".concat(n.data.channel.code)))}))},icon:"message-circle"}),N&&p.a.createElement(h.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:l.cardBody.current},p.a.createElement("div",{onClick:function(){var e={mode:"edit",type:"team",team:r};c(Object(y.a)(e))}},i.editTeam),p.a.createElement("div",{onClick:function(){var e=function(e,n){e||s.success(o("TOASTER.TEAM_DELETE_SUCCESS","Successfully removed ::name:: team",{name:r.name}))},n={type:"confirmation",headerText:i.removeTeamHeader,submitText:i.removeTeamBtn,cancelText:i.cancel,bodyText:i.removeTeamConfirmation,actions:{onSubmit:function(){c(Object(I.i)({id:r.id},e))}}};c(Object(y.a)(n))}},i.removeTeam))))))))}))},741:function(e,n,t){"use strict";t.d(n,"i",(function(){return Ee})),t.d(n,"k",(function(){return Se})),t.d(n,"o",(function(){return Le})),t.d(n,"h",(function(){return Ue})),t.d(n,"j",(function(){return ze})),t.d(n,"a",(function(){return Be})),t.d(n,"n",(function(){return Ke})),t.d(n,"f",(function(){return on})),t.d(n,"g",(function(){return Nn})),t.d(n,"b",(function(){return Ln})),t.d(n,"e",(function(){return Mn})),t.d(n,"q",(function(){return Hn})),t.d(n,"d",(function(){return Gn})),t.d(n,"l",(function(){return Kn})),t.d(n,"m",(function(){return Jn})),t.d(n,"r",(function(){return at})),t.d(n,"t",(function(){return it})),t.d(n,"p",(function(){return ct})),t.d(n,"s",(function(){return ut})),t.d(n,"c",(function(){return Et}));var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k,y,N,x,T,j,A,C,S,R,I,P,L,D,M,F,U,H,W,z,B,G,V,Y,K,q,Z,J,Q,X,$,ee,ne,te,ae,re,ie,oe,ce,se,le,de,me=t(10),pe=t(0),ue=t.n(pe),fe=t(9),he=t(14),be=fe.a.div(a||(a=Object(me.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 0;\n      margin-top: 1rem;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]))),Ee=ue.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.search,r=e.dictionary;return ue.a.createElement(be,{className:"post-filter-search-panel app-action ".concat(t)},ue.a.createElement("div",{className:"action-left"},ue.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},ue.a.createElement(he.s,{icon:"menu"}))),ue.a.createElement("div",{className:"action-right"},ue.a.createElement(Ke,{search:a,placeholder:r.searchPost})))})),ge=t(7),ve=t(4),Oe=t(163),_e=t(11),we=t(19),ke=t(16),ye=fe.a.li(r||(r=Object(me.a)(["\n  flex-flow: column;\n  @media (max-width: 414px) {\n    padding-bottom: 30px !important;\n    .post-badge {\n      position: absolute;\n      bottom: 5px;\n      flex-flow: row wrap;\n      display: flex;\n    }\n  }\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    overflow: inherit;\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n    box-shadow: 0 1px 10px 0 rgb(0 0 0 / 10%), 0 2px 15px 0 rgb(0 0 0 / 5%);\n    z-index: 2;\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n    }\n    @media (max-width: 991.99px) {\n      img {\n        width: 2rem;\n        height: 2rem;\n      }\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"]))),Ne=Object(fe.a)(he.s)(i||(i=Object(me.a)(["\n  width: 16px;\n"]))),xe=fe.a.div(o||(o=Object(me.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]))),Te=fe.a.div(c||(c=Object(me.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]))),je=Object(fe.a)(we.m)(s||(s=Object(me.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  margin-left: -5px;\n  :hover {\n    background: #f1f2f7;\n    cursor: ",";\n    .dark & {\n      background: #25282c;\n    }\n  }\n"])),(function(e){return e.disabled?"not-allowed":"pointer"})),Ae=fe.a.div(l||(l=Object(me.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),Ce=fe.a.div(d||(d=Object(me.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),Se=ue.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternalUser,r=e.post,i=e.dictionary,o=e.disableOptions,c=e.toggleCheckbox,s=e.checked,l=e.workspace,d=e.postActions,m=d.starPost,p=d.openPost,u=d.archivePost,f=d.markAsRead,h=d.markAsUnread,b=d.sharePost,E=d.followPost,g=d.remind,v=d.showModal,O=d.close,_=d.disconnectPostList,w=d.updatePostListConnect,k=Object(ve.d)((function(e){return e.session.user})),y=Object(ve.d)((function(e){return e.workspaces.flipper})),N=Object(_e.ab)().fromNow,x=Object(pe.useState)(0),T=Object(ge.a)(x,2),j=T[0],A=T[1],C=Object(pe.useState)(!1),S=Object(ge.a)(C,2),R=S[0],I=S[1],P=Object(pe.useRef)(!0);Object(pe.useEffect)((function(){return function(){P.current=!1}}),[]);var L=function(){var e=r.users_approval.length>0&&r.users_approval.some((function(e){return null===e.ip_address&&e.id===k.id}));if(r.is_must_read&&r.author.id!==k.id){if(r.must_read_users&&r.must_read_users.some((function(e){return e.id===k.id&&!e.must_read})))return!0}else{if(!r.is_must_reply||r.author.id===k.id)return!!e;if(r.must_reply_users&&r.must_reply_users.some((function(e){return e.id===k.id&&!e.must_reply})))return!0}},D=1===r.is_unread;return ue.a.createElement(ye,{"data-toggle":y?"1":"0",appListWidthDiff:j+50,className:"list-group-item post-item-panel ".concat(D?"has-unread":""," ").concat(t," pl-3"),onClick:function(){return p(r)}},ue.a.createElement(Jn,{post:r,user:k,dictionary:i,isExternalUser:a,classNames:"text-truncate"}),ue.a.createElement(Ae,null,ue.a.createElement(je,{name:"test",checked:s,onClick:function(){return c(r.id)},disabled:L()}),ue.a.createElement(Te,{className:"d-flex ml-2 mr-2"},ue.a.createElement(he.a,{title:"FROM: ".concat(r.author.name),className:"author-avatar mr-2",id:r.author.id,name:r.author.name,imageLink:r.author.profile_image_thumbnail_link?r.author.profile_image_thumbnail_link:r.author.profile_image_link})),ue.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},ue.a.createElement("div",{className:"app-list-title text-truncate ".concat(D?"has-unread":"")},ue.a.createElement("div",{className:"text-truncate d-flex"},ue.a.createElement("span",{className:"text-truncate"},r.author.id!==k.id&&!r.is_followed&&ue.a.createElement(Ne,{icon:"eye-off"}),ue.a.createElement("a",{href:l?l.folder_id?"/workspace/posts/".concat(l.folder_id,"/").concat(Object(ke.h)(l.folder_name),"/").concat(l.id,"/").concat(Object(ke.h)(l.name),"/post/").concat(r.id,"/").concat(Object(ke.h)(r.title)):"/workspace/posts/".concat(l.id,"/").concat(Object(ke.h)(l.name),"/post/").concat(r.id,"/").concat(Object(ke.h)(r.title)):r.redirect_link,target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault()}},r.title)),ue.a.createElement(Ce,{className:"hover-btns ml-1"},"draft_post"!==r.type&&!o&&r.author.id===k.id&&ue.a.createElement(Ne,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),v("edit",r)}}),!o&&!L()&&ue.a.createElement(Ne,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),R||(I(!0),u(r,(function(){P.current&&I(!1)})))}}))),ue.a.createElement(xe,null,0!==r.unread_count&&ue.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},r.unread_count," new"),ue.a.createElement("div",{className:"text-muted"},0===r.reply_count?i.noComment:1===r.reply_count?i.oneComment:i.comments.replace("::comment_count::",r.reply_count)),ue.a.createElement("span",{className:"time-stamp text-muted"},ue.a.createElement("span",null,N(r.updated_at.timestamp)))))),ue.a.createElement(Be,{post:r,dictionary:i,user:k,cbGetWidth:A}),ue.a.createElement("div",{className:"d-flex"},"draft_post"!==r.type&&!o&&ue.a.createElement(Oe.c,{className:"d-flex ml-2",item:r,width:220,moreButton:"more-horizontal"},null===r.todo_reminder&&ue.a.createElement("div",{onClick:function(){return g(r)}},i.remindMeAboutThis),r.author&&r.author.id===k.id&&ue.a.createElement("div",{onClick:function(){return v("edit",r)}},i.editPost),0===r.is_unread?ue.a.createElement("div",{onClick:function(){return h(r,!0)}},i.markAsUnread):L()?null:ue.a.createElement("div",{onClick:function(){return f(r,!0)}},i.markAsRead),ue.a.createElement("div",{onClick:function(){return b(r)}},i.share),r.author&&r.author.id!==k.id&&ue.a.createElement("div",{onClick:function(){return E(r)}},r.is_followed?i.unFollow:i.follow),ue.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o||m(r)}},r.is_favourite?i.unStar:i.star),ue.a.createElement("div",{onClick:function(){return O(r)}},r.is_close?i.openThisPost:i.closeThisPost),r.post_list_connect&&ue.a.createElement("div",{onClick:function(){return function(){if(1!==r.post_list_connect.length)v("add_to_list",r);else{var e={link_id:r.post_list_connect[0].id,post_id:r.id};_(e,(function(e,n){e||(n.data.topic_id=l&&l.id?l.id:null,w(n.data))}))}}()}},1===r.post_list_connect.length?i.removeToList:i.addToList)))))})),Re=fe.a.div(m||(m=Object(me.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]))),Ie=Object(fe.a)(he.s)(p||(p=Object(me.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),Pe=fe.a.div(u||(u=Object(me.a)([""]))),Le=ue.a.memo((function(e){var n=e.workspace,t=e.isMember,a=e.filter,r=e.filters,i=e.tag,o=e.count,c=e.postLists,s=e.counters,l=e.postActions,d=e.onGoBack,m=e.dictionary,p=e.disableOptions,u=e.postListTag;return ue.a.createElement(Re,{className:"col-md-3 app-sidebar bottom-modal-mobile"},ue.a.createElement(Pe,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),ue.a.createElement("div",{className:"bottom-modal-mobile_inner"},ue.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},t&&ue.a.createElement("div",{className:"card-body create-new-post-wrapper"},ue.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){l.showModal("create")},disabled:p},m.createNewPost)),ue.a.createElement(Ue,{workspace:n,filter:a,filters:r,tag:i,onGoBack:d,counters:s,dictionary:m}),ue.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},ue.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},m.category,ue.a.createElement("span",{className:"ml-auto",onClick:function(){l.showModal("create_edit_post_list")},disabled:p},ue.a.createElement(Ie,{className:"mr-0",icon:"plus"})))),ue.a.createElement(ze,{count:o,workspace:n,tag:i,onGoBack:d,dictionary:m}),ue.a.createElement(Kn,{workspace:n,postLists:c,tag:i,postListTag:u,onGoBack:d,dictionary:m,postActions:l}))))})),De=t(26),Me=t(17),Fe=fe.a.div(f||(f=Object(me.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']))),Ue=ue.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.filter,i=void 0===r?"inbox":r,o=e.filters,c=e.onGoBack,s=e.counters,l=e.dictionary,d=Object(ve.c)(),m=Object(_e.I)(),p=Object(pe.useState)(!1),u=Object(ge.a)(p,2),f=u[0],h=u[1],b=function(e){if(o){if("archive"!==e.target.dataset.value||!a||o.hasOwnProperty("archived")||f||function(){h(!0);m.getPosts({filters:["post","archived"],topic_id:a.id},(function(e,n){if(h(!1),!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),d(Object(Me.g)({topic_id:a.id,posts:n.data.posts,filter:n.data.posts,files:t,filters:{archived:{active:!1,skip:n.data.next_skip,hasMore:n.data.total_take===n.data.posts.length}}}))}}))}(),e.target.dataset.value===i)c();else{var n={topic_id:a.id,filter:e.target.dataset.value,tag:null};d(Object(De.ab)(n)),c()}document.body.classList.remove("mobile-modal-open")}};return ue.a.createElement(Fe,{className:"post-filter-item list-group list-group-flush ".concat(t)},ue.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"inbox"===i?"active":""),"data-value":"inbox",onClick:b},ue.a.createElement(he.s,{className:"mr-2",icon:"inbox"}),l.inbox,ue.a.createElement("span",{className:"small ml-auto"},a&&a.unread_posts>0&&a.unread_posts)),ue.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"in_progress"===i?"active":""),"data-value":"in_progress",onClick:b},ue.a.createElement(he.s,{className:"mr-2",icon:"clock"}),l.inProgress),ue.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"my_posts"===i?"active":""),"data-value":"my_posts",onClick:b},ue.a.createElement(he.s,{className:"mr-2",icon:"send-post"}),l.myPosts),ue.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"star"===i?"active":""),"data-value":"star",onClick:b},ue.a.createElement(he.s,{className:"mr-2",icon:"star"}),l.starred),ue.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"archive"===i?"active":""),"data-value":"archive",onClick:b},ue.a.createElement(he.s,{className:"mr-2",icon:"archive"}),l.archived),ue.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"draft"===i?"active":""),"data-value":"draft",onClick:b},ue.a.createElement(he.s,{className:"mr-2",icon:"edit-3"}),l.drafts,ue.a.createElement("span",{className:"small ml-auto"},s.drafts>0&&s.drafts)))})),He=t(1),We=fe.a.div(h||(h=Object(me.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),ze=ue.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.tag,i=e.count,o=e.onGoBack,c=e.dictionary,s=Object(ve.c)(),l=function(e){var n={topic_id:a.id,tag:e.target.dataset.value,filter:null};r===e.target.dataset.value&&(n=Object(He.a)(Object(He.a)({},n),{},{tag:null,filter:"all"})),s(Object(De.ab)(n)),o(),document.body.classList.remove("mobile-modal-open")};return ue.a.createElement(We,{className:"list-group list-group-flush ".concat(t)},ue.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_must_reply"===r?"active":""),"data-value":"is_must_reply",onClick:l},ue.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),c.replyRequired,ue.a.createElement("span",{className:"small ml-auto"},i&&i.is_must_reply>0&&i.is_must_reply)),ue.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_must_read"===r?"active":""),"data-value":"is_must_read",onClick:l},ue.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),c.mustRead,ue.a.createElement("span",{className:"small ml-auto"},i&&i.is_must_read>0&&i.is_must_read)),ue.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_read_only"===r?"active":""),"data-value":"is_read_only",onClick:l},ue.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),c.noReplies,ue.a.createElement("span",{className:"small ml-auto"},i&&i.is_read_only>0&&i.is_read_only)),ue.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_close"===r?"active":""),"data-value":"is_close",onClick:l},ue.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),c.closed,ue.a.createElement("span",{className:"small ml-auto"},i&&i.is_close>0&&i.is_close)))})),Be=ue.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isBadgePill,r=void 0!==a&&a,i=e.post,o=e.dictionary,c=e.user,s=e.cbGetWidth,l=void 0===s?function(){}:s,d={container:Object(pe.useRef)(null)};Object(pe.useEffect)((function(){d.container.current&&l(d.container.current.clientWidth)}),[i]);var m=i.users_approval.some((function(e){return e.id===c.id}));return ue.a.createElement("div",{ref:d.container,className:"post-badge"},(i.is_must_read||i.is_must_reply||i.is_read_only||"draft_post"===i.type||0!==i.is_archived||!0===i.is_personal)&&ue.a.createElement(ue.a.Fragment,null,!i.recipients.every((function(e){return"USER"===e.type}))&&i.recipients.some((function(e){return"USER"===e.type}))&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline")},ue.a.createElement("div",{className:"badge badge-light text-white ".concat(r?"badge-pill":"")},o.private)),1===i.is_archived&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline")},ue.a.createElement("div",{className:"badge badge-light text-white ".concat(r?"badge-pill":"")},o.archived)),"draft_post"===i.type&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline")},ue.a.createElement("div",{className:"badge badge-light text-white ".concat(r?"badge-pill":"")},o.draft)),(i.author.id===c.id&&i.is_must_read||i.must_read_users&&i.must_read_users.some((function(e){return e.id===c.id&&!e.must_read})))&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline ").concat(i.author.id===c.id?"opacity-2":"")},ue.a.createElement("div",{className:"badge badge-danger ".concat(r?"badge-pill":"")},o.mustRead)),(i.author.id===c.id&&i.is_must_reply||i.must_reply_users&&i.must_reply_users.some((function(e){return e.id===c.id&&!e.must_reply})))&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline ").concat(i.author.id===c.id?"opacity-2":"")},ue.a.createElement("div",{className:"badge badge-warning ".concat(r?"badge-pill":"")},o.replyRequired)),i.is_read_only&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline")},ue.a.createElement("div",{className:"badge badge-info ".concat(r?"badge-pill":"")},o.noReplies))),i.post_approval_label&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline")},ue.a.createElement("div",{className:"badge ".concat("ACCEPTED"===i.post_approval_label?"badge-success":"badge-primary"," ").concat(r?"badge-pill":"")},function(e){switch(e){case"ACCEPTED":return o.accepted;case"NEED_ACTION":return m?o.actionNeeded:null;case"REQUEST_UPDATE":return i.author.id===c.id?o.changeRequested:null;case"SPLIT":return"Split";case"REQUEST_APPROVAL":return i.author.id===c.id?o.requestForApproval:null;default:return null}}(i.post_approval_label))),i.is_close&&ue.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline")},ue.a.createElement("div",{className:"badge badge-closed ".concat(r?"badge-pill":"")},o.repliesClosed)))})),Ge=t(45),Ve=t(79),Ye=fe.a.div(b||(b=Object(me.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),Ke=ue.a.memo((function(e){var n=e.search,t=e.placeholder,a=Object(ve.c)(),r=Object(Ge.i)(),i=Object(pe.useState)(null===n?"":n),o=Object(ge.a)(i,2),c=o[0],s=o[1],l=parseInt(r.workspaceId),d=Object(Ve.debounce)((function(e){a(Object(De.a)({topic_id:l,search:e,search_result:[]})),""!==e&&a(Object(Me.v)({topic_id:l,search:e},(function(n,t){n||a(Object(De.a)({topic_id:l,search:e,search_result:t.data.posts}))})))}),500);return ue.a.createElement(Ye,{className:"input-group"},ue.a.createElement("input",{type:"text",className:"form-control",placeholder:t,value:c,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&d()},onChange:function(e){s(e.target.value),d(e.target.value.trim())}}),ue.a.createElement("div",{className:"input-group-append"},""!==c.trim()&&ue.a.createElement("button",{onClick:function(){s(""),a(Object(De.a)({topic_id:l,search:"",search_result:[]}))},className:"btn-cross",type:"button"},ue.a.createElement(he.s,{icon:"x"})),ue.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:d},ue.a.createElement("i",{className:"ti-search"}))))})),qe=t(6),Ze=t(13),Je=t(99),Qe=t(739),Xe=fe.a.div(E||(E=Object(me.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]))),$e=fe.a.div(g||(g=Object(me.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        // align-items: start;\n\n        // .avatar {\n        //   min-width: 1.5rem;\n        //   max-width: 1.5rem;\n        //   width: 1.5rem;\n        //   height: 1.5rem;\n        // }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]))),en=Object(fe.a)(Oe.c)(v||(v=Object(me.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]))),nn=Object(fe.a)(he.h)(O||(O=Object(me.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]))),tn=Object(fe.a)(he.s)(_||(_=Object(me.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),an=fe.a.div(w||(w=Object(me.a)(["\n  cursor: pointer;\n"]))),rn=fe.a.div(k||(k=Object(me.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),on=ue.a.memo((function(e){var n=e.post,a=e.posts,r=e.filter,i=e.postActions,o=e.user,c=e.onGoBack,s=e.workspace,l=e.dictionary,d=e.disableOptions,m=e.isMember,p=i.markAsRead,u=i.markAsUnread,f=i.sharePost,h=i.followPost,b=i.remind,E=i.close,g=i.readPostNotification,v=Object(ve.c)(),O=Object(_e.e)(),_=Object(ve.d)((function(e){return e.users.users})),w=Object(pe.useState)(!1),k=Object(ge.a)(w,2),y=k[0],N=k[1],x=Object(_e.h)(n).comments,T=Object(qe.a)(new Set(n.view_user_ids)),j=Object.values(_).filter((function(e){return T.some((function(n){return n===e.id}))})),A=Object.values(_).filter((function(e){return n.clap_user_ids.some((function(n){return n===e.id}))})),C={dropZoneRef:Object(pe.useRef)(null)},S=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(Object(Me.Tb)(e)),i.setCommentType(n),C.dropZoneRef.current&&C.dropZoneRef.current.open()},R=function(){N(!1)},I=function(e){var a=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var r=t(78).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?a.push(Object(He.a)(Object(He.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):"video/mp4"===e.type?a.push(Object(He.a)(Object(He.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):a.push(Object(He.a)(Object(He.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:n,name:e.name?e.name:e.path}))})),R();var r={type:"file_upload",droppedFiles:a,mode:"post",post:n,members:s?s.members:[]};v(Object(Ze.a)(r))},P=function(){var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id}));return!!(n.is_must_read&&n.author.id!==o.id&&n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read})))||(!!(n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply})))||!!e)};Object(pe.useEffect)((function(){return g({post_id:n.id}),n.view_user_ids.some((function(e){return e===o.id}))||P()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(P()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadWsPostsCount({topic_id:s.id}),function(){return i.getUnreadWsPostsCount({topic_id:s.id})}}),[]),Object(pe.useEffect)((function(){return n.view_user_ids.some((function(e){return e===o.id}))||P()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(P()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadWsPostsCount({topic_id:s.id}),function(){return i.getUnreadWsPostsCount({topic_id:s.id})}}),[n.id]);var L=n.recipients.filter((function(e){return"TOPIC"===e.type&&1===e.private}));return ue.a.createElement(ue.a.Fragment,null,null!==n.todo_reminder&&ue.a.createElement(he.p,{todoReminder:n.todo_reminder,type:"POST"}),ue.a.createElement(Xe,{className:"card-header d-flex justify-content-between"},ue.a.createElement("div",{className:"d-flex flex-column align-items-start"},ue.a.createElement("div",{className:"d-flex"},ue.a.createElement("div",{className:"align-self-start"},ue.a.createElement(tn,{className:"close mr-2",icon:"arrow-left",onClick:function(){c()}})),ue.a.createElement("div",null,ue.a.createElement("h5",{ref:C.title,className:"post-title mb-0"},ue.a.createElement("span",null,n.author.id!==o.id&&!n.is_followed&&ue.a.createElement(tn,{icon:"eye-off"}),n.title,L.length===n.recipients.length&&ue.a.createElement(tn,{className:"ml-1",icon:"lock",strokeWidth:"2",width:14,height:14})))))),ue.a.createElement("div",null,n.author.id===o.id&&!d&&ue.a.createElement("ul",null,ue.a.createElement("li",null,ue.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},ue.a.createElement("a",{onClick:function(){return i.showModal("edit",n)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},ue.a.createElement(tn,{icon:"edit-3"})))),ue.a.createElement("li",null,ue.a.createElement("a",{onClick:function(){return i.trash(n)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},ue.a.createElement(tn,{icon:"trash"}))),ue.a.createElement("li",null,ue.a.createElement(en,{className:"ml-2",item:n,width:220,moreButton:"more-horizontal"},ue.a.createElement("div",{onClick:function(){return b(n)}},l.remindMeAboutThis),0===n.is_unread?ue.a.createElement("div",{onClick:function(){return u(n,!0)}},l.markAsUnread):ue.a.createElement("div",{onClick:function(){return p(n,!0)}},l.markAsRead),ue.a.createElement("div",{onClick:function(){return f(n)}},l.share),n.author.id!==o.id&&ue.a.createElement("div",{onClick:function(){return h(n)}},n.is_followed?l.unFollow:l.follow),ue.a.createElement("div",{onClick:function(){return E(n)}},n.is_close?l.openThisPost:l.closeThisPost)))),n.author.id!==o.id&&ue.a.createElement("div",null,ue.a.createElement(en,{className:"ml-2",item:n,width:170,moreButton:"more-horizontal"},null===n.todo_reminder&&ue.a.createElement("div",{onClick:function(){return b(n)}},l.remindMeAboutThis),!P()&&ue.a.createElement("div",{onClick:function(){return p(n,!0)}},l.markAsRead),ue.a.createElement("div",{onClick:function(){return u(n,!0)}},l.markAsUnread),ue.a.createElement("div",{onClick:function(){return f(n)}},l.share),n.author.id!==o.id&&ue.a.createElement("div",{onClick:function(){return h(n)}},n.is_followed?l.unFollow:l.follow),ue.a.createElement("div",{onClick:function(){return E(n)}},n.is_close?l.openThisPost:l.closeThisPost))))),ue.a.createElement($e,{onDragOver:function(){N(!0)}},ue.a.createElement(Je.a,{hide:!y,ref:C.dropZoneRef,onDragLeave:R,onDrop:function(e){var n=e.acceptedFiles;I(n)},onCancel:R}),ue.a.createElement(Ln,{post:n,user:o,postActions:i,isAuthor:n.author&&n.author.id===o.id,dictionary:l,disableOptions:d,workspaceId:s.id,disableMarkAsRead:P}),n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read}))&&ue.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},ue.a.createElement(an,{className:"d-sm-inline"},ue.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){i.markReadRequirement(n);var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id})),t=!0;n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&(t=!1),t&&!e&&i.markAsRead(n)},disabled:d},l.markAsRead))),n.user_unfollow.length>0&&ue.a.createElement(ct,{user_unfollow:n.user_unfollow}),ue.a.createElement("hr",{className:"m-0"}),ue.a.createElement(Qe.c,{dictionary:l,likers:A,post:n,viewerIds:T,viewers:j,handleReaction:function(){var e={post_id:n.id,id:null,clap:0===n.user_clap_count?1:0,personalized_for_id:null};i.clap(e,(function(n,t){n&&(1===e.clap?i.unlike(e):i.like(e))})),0===n.user_clap_count?i.like(e):i.unlike(e)}}),n.files.length>0&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement("div",{className:"card-body"},ue.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},l.files),ue.a.createElement(nn,{attachedFiles:n.files,type:"post",post:n})),ue.a.createElement("hr",{className:"m-0"})),n.files_trashed&&n.files_trashed.length>0&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(rn,{className:"card-body"},ue.a.createElement("h6",{className:"font-size-11 text-uppercase"},l.files),ue.a.createElement("span",{className:"text-muted"},l.filesAutomaticallyRemoved),ue.a.createElement(nn,{attachedFiles:n.files_trashed,type:"post",post:n})),ue.a.createElement("hr",{className:"m-0"})),x&&Object.keys(x).length>0&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(Mn,{comments:x,post:n,user:o,commentActions:O,onShowFileDialog:S,dropAction:I,workspace:s,isMember:m,dictionary:l,disableOptions:d,postActions:i}),ue.a.createElement("hr",{className:"m-0"})),ue.a.createElement(Nn,{post:n,posts:a,filter:r,commentActions:O,postActions:i,onShowFileDialog:S,dropAction:I,workspace:s,isMember:m,disableOptions:d,mainInput:!0})))})),cn=t(89),sn=t.n(cn),ln=t(250),dn=t(15),mn=t(755),pn=Object(pe.lazy)((function(){return Promise.all([t.e(1),t.e(0)]).then(t.bind(null,818))})),un=fe.a.div(y||(y=Object(me.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),fn=fe.a.div(N||(N=Object(me.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),hn=Object(fe.a)(he.s)(x||(x=Object(me.a)([""]))),bn=fe.a.div(T||(T=Object(me.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),En=fe.a.div(j||(j=Object(me.a)(["\n  width: 100%;\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),gn=fe.a.div(A||(A=Object(me.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),vn=Object(fe.a)(he.f)(C||(C=Object(me.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),On=fe.a.div(S||(S=Object(me.a)(["\n  padding: 5px 45px;\n"]))),_n=fe.a.div(R||(R=Object(me.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),wn=Object(fe.a)(he.s)(I||(I=Object(me.a)(["\n  margin-right: 6px;\n  width: 20px;\n"]))),kn=fe.a.div(P||(P=Object(me.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),yn=fe.a.span(L||(L=Object(me.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 30px;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),Nn=ue.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.onShowFileDialog,i=e.dropAction,o=e.post,c=e.posts,s=e.filter,l=e.parentId,d=void 0===l?null:l,m=e.commentActions,p=e.userMention,u=void 0===p?null:p,f=e.handleClearUserMention,h=void 0===f?null:f,b=e.commentId,E=void 0===b?null:b,g=e.innerRef,v=void 0===g?null:g,O=e.workspace,_=e.isMember,w=e.disableOptions,k=e.mainInput,y=o.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),N=Object(Ge.g)(),x=Object(_e.I)(),T=Object(ve.c)(),j={picker:Object(pe.useRef)(),postInput:Object(pe.useRef)(null)},A=Object(ve.d)((function(e){return e.session.user})),C=Object(ve.d)((function(e){return e.posts.editPostComment})),S=Object(ve.d)((function(e){return e.posts.changeRequestedComment})),R=Object(ve.d)((function(e){return e.users.users})),I=Object(pe.useRef)(),P=Object(pe.useState)(!1),L=Object(ge.a)(P,2),D=L[0],M=L[1],F=Object(pe.useState)(null),U=Object(ge.a)(F,2),H=U[0],W=U[1],z=Object(pe.useState)(null),B=Object(ge.a)(z,2),G=B[0],V=B[1],Y=Object(pe.useState)(!1),K=Object(ge.a)(Y,2),q=K[0],Z=K[1],J=Object(pe.useState)(!1),Q=Object(ge.a)(J,2),X=(Q[0],Q[1]),$=Object(pe.useState)("default"),ee=Object(ge.a)($,2),ne=ee[0],te=ee[1],ae=Object(pe.useState)(null),re=Object(ge.a)(ae,2),ie=re[0],oe=re[1],ce=Object(pe.useState)("#cacaca"),se=Object(ge.a)(ce,2),le=se[0],de=se[1],me=Object(pe.useState)(!1),fe=Object(ge.a)(me,2),be=fe[0],Ee=fe[1],Oe=Object(pe.useState)([]),ye=Object(ge.a)(Oe,2),Ne=ye[0],xe=ye[1],Te=Object(pe.useState)({approve:!1,change:!1}),je=Object(ge.a)(Te,2),Ae=je[0],Ce=je[1],Se=Object(pe.useState)(!(!y||!o.shared_with_client||"internal"!==A.type)),Re=Object(ge.a)(Se,2),Ie=Re[0],Pe=Re[1],Le=Object(pe.useState)(o.shared_with_client?null:"internal"),Me=Object(ge.a)(Le,2),Fe=Me[0],Ue=Me[1],We=Object(pe.useState)(null),ze=Object(ge.a)(We,2),Be=ze[0],Ve=ze[1],Ye=function(){Ie||M(!D)},Ke=Object(_e.bb)(),Je=Object(_e.gb)()._t,Xe={unarchiveThisWorkspace:Je("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:Je("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:Je("BUTTON.CANCEL","Cancel"),unarchiveBodyText:Je("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),workspaceIsUnarchived:Je("TOASTER.WORKSPACE_IS_UNARCHIVED","workpace is un-archived"),thisIsAnArchivedWorkspace:Je("FOOTER.THIS_IS_AN_ARCHIVED_WORKSPACE","This is an archived workpace"),noReplyAllowed:Je("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:Je("TOOLTIP.ATTACH_FILES","Attach files"),youAreViewing:Je("FOOTER.YOU_ARE_VIEWING","You are viewing"),joinWorkspace:Je("BUTTON.JOIN_WORKSPACE","Join workspace"),lockedLabel:Je("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:Je("POST.REQUEST_CHANGE","Request for change"),accept:Je("POST.ACCEPT","Accept"),requestApprovalFrom:Je("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:Je("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:Je("POST.ADDRESSED_TO","Addressed to"),selectApprover:Je("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:Je("TOOLTIP.EMOJI","Emoji"),images:Je("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:Je("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:Je("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:Je("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:Je("POST.REOPEN","Reopen"),agree:Je("POST.AGREE","Agree"),disagree:Je("POST.DISAGREE","Disagree"),overview:Je("POST.OVERVIEW","Overview"),archivePostOpenNext:Je("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next"),send:Je("TOOLTIP.SEND","Send"),closeEdit:Je("TOOLTIP.CLOSE_EDIT","Close edit"),userClosedPost:Je("POST.USER_CLOSED_POST","::username:: has closed this message",{username:o&&"object"===typeof o.post_close&&o.post_close.initiator?o.post_close.initiator.name:""})},$e=function(){var e={id:O.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};T(Object(dn.pb)(e)),Ke.success(ue.a.createElement("span",null,ue.a.createElement("b",null,O.name," ",Xe.workspaceIsUnarchived,".")))},en=o.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),nn=[].concat(Object(qe.a)(Object.values(R).filter((function(e){return en.some((function(n){return n===e.id}))&&e.id!==A.id})).map((function(e){return Object(He.a)(Object(He.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:t(78).generate(),value:"all",label:"All users",icon:"users",all_ids:en.filter((function(e){return R[e]&&R[e].active&&e!==A.id}))}]);Ne.length&&Ne.find((function(e){return"all"===e.value}))&&(nn=nn.filter((function(e){return"all"===e.value})));Object(pe.useEffect)((function(){if(C){var e=C.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;C.users_approval.length>0&&(Ee(!0),xe(C.users_approval.map((function(n){return Object(He.a)(Object(He.a)({},n),{},{icon:"user-avatar",value:n.id,label:n.name,type:"USER",ip_address:e?null:n.ip_address,is_approved:!e&&n.is_approved})})))),Pe(!1),C.shared_with_client?Ue("external"):Ue("internal")}}),[C]);var tn=function(){var e={topic_id:O.id,filter:"inbox",tag:null},n=O.folder_name&&O.folder_id?"/workspace/posts/".concat(O.folder_id,"/").concat(Object(ke.h)(O.folder_name),"/").concat(O.id,"/").concat(Object(ke.h)(O.name)):"/workspace/posts/".concat(O.id,"/").concat(Object(ke.h)(O.name));T(Object(De.ab)(e)),N.push(n),console.log("go back to inbox")},an=o.users_approval.length>0&&o.users_approval.filter((function(e){return null===e.ip_address})).length===o.users_approval.length,rn=o.users_approval.some((function(e){return e.id===A.id})),on=o.users_approval.map((function(e){return e.name})),cn=o.users_approval.length>1,Nn=o.users_approval.some((function(e){return e.id===A.id&&null!==e.ip_address}));Object(pe.useEffect)((function(){S&&E&&E===S.id?(Ee(!0),xe([Object(He.a)(Object(He.a)({},S.author),{},{icon:"user-avatar",value:S.author.id,label:S.author.name,type:"USER",ip_address:null,is_approved:null})])):(Ee(!1),xe([]))}),[S]);var xn=o.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),Tn=o.recipients.find((function(e){return"USER"===e.type})),jn=o.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return ue.a.createElement(un,{className:"post-detail-footer card-body ".concat(a)},w&&ue.a.createElement(_n,null,ue.a.createElement(wn,{icon:"archive"}),ue.a.createElement("h4",null,Xe.thisIsAnArchivedWorkspace),ue.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:Xe.cancel,headerText:Xe.unarchiveWorkspace,submitText:Xe.unarchiveWorkspace,bodyText:Xe.unarchiveBodyText,actions:{onSubmit:$e}};T(Object(Ze.a)(e))}},Xe.unarchiveWorkspace)),ue.a.createElement(bn,{className:"d-flex pr-2 pl-2"},ue.a.createElement(Qe.b,{commentActions:m,commentId:C&&o&&C.post_id===o.id&&C.quote?C.quote.id:E,editPostComment:C,mainInput:k})),ue.a.createElement(bn,{className:"d-flex alig-items-center"},xn&&Tn&&ue.a.createElement("div",{className:"locked-label mb-2"},Xe.sharedWithAdditionalPeople),xn&&jn&&ue.a.createElement("div",{className:"locked-label mb-2"},Xe.sharedWithPublicWs),be&&ue.a.createElement(kn,null,Ae.change&&rn&&ue.a.createElement("label",null,Xe.requestChangeTo),!rn&&ue.a.createElement("label",null,Xe.addressedTo),ue.a.createElement(we.e,{options:nn,value:Ne,onChange:function(n){null!==n&&n.length||(S&&m.clearApprovingStatus(S.id),e.handleCancelChange&&e.handleCancelChange(),Ae.change&&(Ce(Object(He.a)(Object(He.a)({},Ae),{},{change:!1})),Ee(!1))),null===n?xe([]):n.find((function(e){return"all"===e.value}))?xe(n.filter((function(e){return"all"===e.value}))):xe(n)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),an&&!rn&&ue.a.createElement(En,{className:"d-flex align-items-center mb-2"},ue.a.createElement("div",{className:"alert alert-primary",style:{color:"#7a1b8b"}},Xe.requestApprovalFrom," ",on.join(", "))),o.is_close&&k&&ue.a.createElement(gn,{className:"d-flex align-items-center"},ue.a.createElement("div",{className:"alert alert-warning"},ue.a.createElement("span",null,Xe.userClosedPost),ue.a.createElement("span",{onClick:function(){x.close(o)}},Xe.reopen))),o.is_read_only&&k&&ue.a.createElement(bn,{className:"d-flex align-items-end"},ue.a.createElement(En,{className:"d-flex align-items-center"},ue.a.createElement("div",{className:"alert alert-warning"},Xe.noReplyAllowed))),(_&&!w||Ae.change||Nn)&&!o.is_close&&!o.is_read_only&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(bn,{className:"d-flex align-items-end",backgroundSend:ie,cursor:ne,fillSend:le},ue.a.createElement(fn,{ref:v,className:"flex-grow-1 chat-input-footer",disableButtons:Ie},ue.a.createElement(ln.a,{handleClearSent:function(){Z(!1)},sent:q,commentId:E,userMention:u,handleClearUserMention:h,commentActions:m,parentId:d,post:o,selectedGif:G,onClearGif:function(){V(null)},selectedEmoji:H,onClearEmoji:function(){W(null)},dropAction:i,members:O?O.members:[],workspace:O||null,onActive:function(e){var n;X(e),oe((n=e&&!Be?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),te(n[1]),de(n[2])},onClosePicker:function(){M(!1)},ref:j.postInput,prioMentionIds:en,approvers:be?Ne:[],onClearApprovers:function(){Ee(!1),xe([])},onSubmitCallback:function(e,n){if(!e){if(o.must_reply_users&&o.must_reply_users.some((function(e){return e.id===A.id&&!e.must_reply}))){x.markReplyRequirement(o);var t=!0;o.is_must_read&&o.author.id!==A.id&&o.must_read_users&&o.must_read_users.some((function(e){return e.id===A.id&&!e.must_read}))&&(t=!1);var a=o.users_approval.length>0&&o.users_approval.some((function(e){return null===e.ip_address&&e.id===A.id}));t&&!a&&x.markAsRead(o)}1===o.users_approval.length&&an&&rn&&be&&x.approve({post_id:o.id,approved:0},(function(e,n){Ce(Object(He.a)(Object(He.a)({},Ae),{},{change:!1}))})),S&&m.approve({post_id:o.id,approved:0,comment_id:S.id,transfer_comment_id:n.data.id})}},isApprover:Ae.change&&an||S&&E&&E===S.id,mainInput:k,readOnly:!1,onToggleCommentType:function(e){Pe(!e),Ue(e)},commentType:Fe,imageLoading:Be,setImageLoading:Ve}),ue.a.createElement(mn.a,{parentId:d,handleQuillImage:function(){if(j.postInput&&!Ie){var e=j.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:Ye,onShowFileDialog:r,showApprover:be,toggleApprover:function(){Ie||Ee((function(e){return!e}))},editPostComment:C,mainInput:k,disableButtons:!1,commentType:Fe,dictionary:Xe})),ue.a.createElement(sn.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:Xe.send},ue.a.createElement(hn,{onClick:function(){Ie||Z(!0)},icon:"send"})),!0===D&&ue.a.createElement(vn,{handleShowEmojiPicker:Ye,onSelectEmoji:function(e){W(e)},onSelectGif:function(e){V(e),Ye()},orientation:"top",ref:j.picker})),C&&C.files.length>0&&ue.a.createElement(On,null,C.files.map((function(e){return e.name})).join(", "))),(an&&rn&&!Ae.change||cn&&rn&&!Nn)&&ue.a.createElement(bn,null,ue.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},ue.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===o.users_approval.length?(Ce(Object(He.a)(Object(He.a)({},Ae),{},{change:!0})),Ee(!0),xe([Object(He.a)(Object(He.a)({},o.author),{},{icon:"user-avatar",value:o.author.id,label:o.author.name,type:"USER",ip_address:null,is_approved:null})])):(Ce(Object(He.a)(Object(He.a)({},Ae),{},{change:!0})),x.approve({post_id:o.id,approved:0},(function(e,n){if(Ce(Object(He.a)(Object(He.a)({},Ae),{},{change:!1})),!e){var t=1===o.users_approval.filter((function(e){return null===e.ip_address})).length,a=o.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===o.users_approval.length-1;t&&a&&x.generateSystemMessage(o,[],o.users_approval.map((function(e){return e.id})))}})))}},Xe.disagree," ",Ae.change&&ue.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),ue.a.createElement(pe.Suspense,{fallback:ue.a.createElement(ue.a.Fragment,null)},ue.a.createElement(pn,{ref:I,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},ue.a.createElement("button",{className:"btn btn-primary",onClick:function(){x.showModal("confirmation",o,null,I)}},Xe.agree," ",Ae.approve&&ue.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})))))),!1===_&&null!==O&&!w&&ue.a.createElement(bn,{className:"channel-viewing"},ue.a.createElement("div",{className:"channel-name"},Xe.youAreViewing," #",O.name),ue.a.createElement("div",{className:"channel-action"},ue.a.createElement("button",{onClick:function(){T(Object(De.N)({channel_id:O.channel.id,recipient_ids:[A.id]},(function(e,n){})))}},Xe.joinWorkspace))),s&&"inbox"===s&&o&&0===o.is_archived&&ue.a.createElement(bn,null,ue.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},ue.a.createElement(yn,{onClick:tn},ue.a.createElement(he.s,{className:"mr-2",icon:"corner-up-left"})," ",Xe.overview),ue.a.createElement(yn,{onClick:function(){x.archivePost(o,(function(){var e=c.find((function(e){return 1!==e.is_archived&&1===e.is_unread}));if(e){var n=O.folder_name&&O.folder_id?"/workspace/posts/".concat(O.folder_id,"/").concat(Object(ke.h)(O.folder_name),"/").concat(O.id,"/").concat(Object(ke.h)(O.name)):"/workspace/posts/".concat(O.id,"/").concat(Object(ke.h)(O.name));x.openPost(e,n)}else tn()}))}},Xe.archivePostOpenNext," ",ue.a.createElement(he.s,{className:"ml-2",icon:"corner-up-right"})))))})),xn=t(103),Tn=t(23),jn=t(42),An=t(58),Cn=fe.a.div(D||(D=Object(me.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .author-avatar {\n    width: 40px;\n    height: 40px;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]))),Sn=Object(fe.a)(he.s)(M||(M=Object(me.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]))),Rn=fe.a.div(F||(F=Object(me.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n"]))),In=fe.a.div(U||(U=Object(me.a)(["\n  //min-width: 150px;\n  margin-left: auto;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-end;\n  @media (max-width: 414px) {\n    .post-badge {\n      display: flex;\n      flex-flow: row wrap;\n      justify-content: flex-end;\n      .mr-3 {\n        margin-left: 1rem;\n        margin-right: 0 !important;\n      }\n    }\n  }\n"]))),Pn=fe.a.span(H||(H=Object(me.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]))),Ln=ue.a.memo((function(e){var n=e.post,t=e.user,a=e.postActions,r=e.dictionary,i=e.disableOptions,o=e.workspaceId,c=e.disableMarkAsRead,s="external"===t.type,l=Object(ve.c)(),d={container:Object(pe.useRef)(null),body:Object(pe.useRef)(null)},m=Object(_e.t)(),p=m.fileBlobs,u=m.actions.setFileSrc,f=Object(_e.O)(),h=Object(ve.d)((function(e){return e.workspaces.workspaces})),b=Object(pe.useState)({approve:!1,change:!1}),E=Object(ge.a)(b,2),g=E[0],v=(E[1],Object(_e.ab)().fromNow),O=Object(_e.y)(),_=Object(_e.mb)(),w=Object(Ge.g)(),k=function(e){var t=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(t=e.target.dataset.id);else{var a=n.files.find((function(n){return n.thumbnail_link===e.srcElement.currentSrc}));a&&(t=a.id)}t&&l(Object(Tn.cc)({file_id:parseInt(t),files:n.files}))};Object(pe.useEffect)((function(){d.body.current&&(d.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){O.init(e)})),d.body.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&p[a.id]&&(e.setAttribute("src",p[a.id]),e.setAttribute("data-id",a.id))}else{e.addEventListener("click",k,!1),e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&p[r.id]&&(e.setAttribute("src",p[r.id]),e.setAttribute("data-id",r.id))}})));var e=n.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!p[e.id]&&n.body.includes(e.code)&&An.sessionService.loadSession().then((function(t){var r=t.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:r,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var r=URL.createObjectURL(t);u({id:e.id,src:r}),a.updatePostImages({post_id:n.id,topic_id:o,file:Object(He.a)(Object(He.a)({},e),{},{blobUrl:r})})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[n.body,d.body,n.files,o]);var y=function(e){var n=e.target.dataset,t=n.id;switch(n.type){case"DEPARTMENT":w.push("/chat");break;case"TOPIC":var a=h[t];a&&f.toWorkspace(a);break;case"USER":w.push("/profile/".concat(t,"/").concat(Object(ke.h)(e.target.innerHTML)));break;case"TEAM":w.push("/system/people/teams/".concat(t,"/").concat(Object(ke.h)(e.target.innerHTML)))}};Object(pe.useEffect)((function(){d.container.current&&d.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",y)}))}));var N=n.users_approval.length>0&&n.users_approval.filter((function(e){return null===e.ip_address})).length===n.users_approval.length,x=n.users_approval.length>1,T=n.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return ue.a.createElement(Cn,{ref:d.container,className:"card-body"},T&&!s&&ue.a.createElement(Pn,{className:n.shared_with_client?"client-shared":"client-not-shared"},n.shared_with_client&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(Sn,{icon:"eye"}),r.sharedClientBadge),!n.shared_with_client&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(Sn,{icon:"eye-off"}),r.notSharedClientBadge)),ue.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},ue.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},ue.a.createElement("div",{className:"d-inline-flex align-items-start"},ue.a.createElement(he.a,{className:"author-avatar mr-2 post-author",id:n.author.id,name:n.author.name,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link}),ue.a.createElement("div",null,ue.a.createElement("span",{className:"author-name"},n.author.first_name),ue.a.createElement(Rn,null,ue.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=n.recipients.some((function(e){return e.type_id===t.id})),a=_.width>576?e?4:5:e?0:1,i="",o=n.recipients.filter((function(e){return!("USER"===e.type&&e.type_id===t.id)}));o.length&&(i+=o.filter((function(e,n){return n<a})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(jn.renderToString)(ue.a.createElement(Sn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(jn.renderToString)(ue.a.createElement(Sn,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1" data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'">').concat(e.type&&"TEAM"===e.type?"".concat(r.teamLabel," ").concat(e.name):e.name,"</span>")})).join(", ")),e&&(o.length,i+='<span class="receiver mb-1">'.concat(r.me,"</span>"));var c="";return o.length+(e?1:0)>a&&(c+=o.filter((function(e,n){return n>=a})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(jn.renderToString)(ue.a.createElement(Sn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(jn.renderToString)(ue.a.createElement(Sn,{icon:"eye"})):"","</span>"):'<span class="receiver" data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'">').concat(e.type&&"TEAM"===e.type?"".concat(r.teamLabel," ").concat(e.name):e.name,"</span>")})).join(""),c='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(c,"</span></span>")),"".concat(i," ").concat(c)}()}})))),ue.a.createElement(In,null,ue.a.createElement(Be,{post:n,isBadgePill:!0,dictionary:r,user:t}),ue.a.createElement(Et,{dictionary:r,post:n,disableMarkAsRead:c,disableOptions:i})))),n.files.length>0&&ue.a.createElement(Hn,{files:n.files}),ue.a.createElement("div",{className:"d-flex align-items-center"},ue.a.createElement("div",{className:"w-100 post-body-content",ref:d.body,dangerouslySetInnerHTML:{__html:xn.a.parseEmoji(n.body)}})),(N||x)&&ue.a.createElement(Gn,{postBody:!0,approving:g,fromNow:v,usersApproval:n.users_approval,user:t,post:n,isMultipleApprovers:x}))})),Dn=fe.a.div(W||(W=Object(me.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]))),Mn=ue.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comments,r=e.post,i=e.user,o=e.commentActions,c=e.onShowFileDialog,s=e.dropAction,l=e.workspace,d=e.isMember,m=e.dictionary,p=e.disableOptions,u=e.postActions;return ue.a.createElement(Dn,{className:"post-comments card-body ".concat(t)},a&&ue.a.createElement("ul",null,Object.values(a).map((function(e){return ue.a.createElement(Qe.a,{key:e.id,comment:e,post:r,user:i,commentActions:o,onShowFileDialog:c,dropAction:s,workspace:l,isMember:d,dictionary:m,disableOptions:p,postActions:u})}))))})),Fn=t(756),Un=fe.a.div(z||(z=Object(me.a)(["\n    video {\n        max-width: 100%;\n        max-height: 250px;\n    }\n"]))),Hn=function(e){var n=e.files.filter((function(e){return e.type.toLowerCase().includes("video")})),t=function(e,n){e.stopPropagation()};return n.length?ue.a.createElement(Un,{className:"d-flex align-items-center"},n.map((function(e){return ue.a.createElement(Fn.a,{cbFilePreview:t,file:e,"data-file-type":e.type})}))):null},Wn=fe.a.div(B||(B=Object(me.a)([""]))),zn=fe.a.div(G||(G=Object(me.a)(["\n  .alert {\n    color: #fff !important;\n  }\n  span.approve-ip {\n    display: none;\n  }\n  :hover {\n    span.approve-ip {\n      display: block;\n    }\n  }\n"]))),Bn=fe.a.div(V||(V=Object(me.a)(["\n  text-align: right;\n  display: flex;\n  justify-content: center;\n  .read-users-container .name {\n    color: #212529;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]))),Gn=function(e){var n=e.fromNow,t=e.user,a=e.approving,r=e.usersApproval,i=e.handleApprove,o=void 0===i?function(){}:i,c=e.handleRequestChange,s=void 0===c?function(){}:c,l=e.postBody,d=void 0!==l&&l,m=e.post,p=e.isMultipleApprovers,u=e.isBotMessage,f=void 0!==u&&u,h=Object(ve.d)((function(e){return e.users.users})),b=Object(_e.gb)()._t,E={comment:b("NOTIFICATION.COMMENT_POPUP","Made a comment in ::title::",{title:""}),requestChange:b("POST.REQUEST_CHANGE","Request for change"),hasRequestedChange:b("POST.HAS_REQUESTED_CHANGE","has requested a change."),accept:b("POST.ACCEPT","Accept"),hasAcceptedProposal:b("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),askForChange:b("POST.ASK_FOR_CHANGE","asked ::author:: for a change",{author:m.author.name}),agreedToThis:b("POST.AGREED_TO_THIS","I've agreed to this"),disagreedToThis:b("POST.DISAGREED_TO_THIS","I've disagreed to this"),agreedBy:b("POST.AGREED_BY","Agreed by"),disagreedBy:b("POST.DISAGREED_BY","Disagreed by"),agree:b("POST.AGREE","Agree"),disagree:b("POST.DISAGREE","Disagree")},g=r.find((function(e){return null!==e.ip_address&&e.is_approved})),v=r.find((function(e){return null!==e.ip_address&&!e.is_approved})),O=r.some((function(e){return e.id===t.id})),_=r.filter((function(e){return null!==e.ip_address&&e.is_approved})),w=r.filter((function(e){return null!==e.ip_address&&!e.is_approved})),k=r.filter((function(e){return null===e.ip_address})),y=_.map((function(e){return e.id})),N=Object.values(h).filter((function(e){return y.some((function(n){return n===e.id}))})),x=w.map((function(e){return e.id})),T=Object.values(h).filter((function(e){return x.some((function(n){return n===e.id}))})),j=k.map((function(e){return e.id})),A=Object.values(h).filter((function(e){return j.some((function(n){return n===e.id}))})),C=r.some((function(e){return e.id===t.id&&null!==e.ip_address})),S=r.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===r.length;return ue.a.createElement(Wn,null,!d&&!C&&O&&ue.a.createElement("div",{className:"d-flex align-items-center mt-3"},ue.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:s},E.disagree," ",a.change&&ue.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),ue.a.createElement("button",{className:"btn btn-primary",onClick:o},E.agree," ",a.approve&&ue.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))),f&&ue.a.createElement(zn,null,ue.a.createElement("div",{className:"d-flex align-items-center ".concat(S?"justify-content-center":"")},ue.a.createElement("div",{className:"".concat(S?"alert alert-success":"")},ue.a.createElement("span",null,S?"Everyone agreed to this post":"Everyone disagreed to this post")))),k&&!p&&ue.a.createElement(Bn,{className:"readers-container"},A.length>0&&ue.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},ue.a.createElement("span",{className:"no-readers"},b("POST.PERSON_PENDING_SINGLE","Waiting for approval from: ::name::",{name:A[0].name})),ue.a.createElement("span",{className:"hover read-users-container"},A.map((function(e){return ue.a.createElement("span",{key:e.id},ue.a.createElement(he.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",ue.a.createElement("span",{className:"name"},e.name))}))))),g&&!p&&ue.a.createElement(zn,null,ue.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},ue.a.createElement("div",{className:"alert alert-success"},ue.a.createElement("span",null,g.name," ",E.hasAcceptedProposal," "),ue.a.createElement("span",{className:"approve-ip"},n(g.created_at.timestamp)," - ",g.ip_address)))),v&&!p&&ue.a.createElement(zn,null,v.name," ",O?E.askForChange:E.hasRequestedChange," ",ue.a.createElement("span",{className:"text-muted approve-ip"},n(v.created_at.timestamp)," - ",v.ip_address)),p&&ue.a.createElement(Bn,{className:"readers-container"},T.length>0&&ue.a.createElement("div",{className:"user-reads-container read-by badge badge-danger"},ue.a.createElement("span",{className:"no-readers"},b("POST.PERSON_DISAGREED","::count:: person disagreed",{count:w.length})),ue.a.createElement("span",{className:"hover read-users-container"},T.map((function(e){return ue.a.createElement("span",{key:e.id},ue.a.createElement(he.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",ue.a.createElement("span",{className:"name"},e.name))})))),A.length>0&&ue.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},ue.a.createElement("span",{className:"no-readers"},b("POST.PERSON_PENDING","::count:: person pending",{count:A.length})),ue.a.createElement("span",{className:"hover read-users-container"},A.map((function(e){return ue.a.createElement("span",{key:e.id},ue.a.createElement(he.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",ue.a.createElement("span",{className:"name"},e.name))})))),N.length>0&&ue.a.createElement("div",{className:"user-reads-container read-by badge badge-success"},ue.a.createElement("span",{className:"no-readers"},b("POST.PERSON_APPROVED","::count:: person approved",{count:_.length})),ue.a.createElement("span",{className:"hover read-users-container"},N.map((function(e){return ue.a.createElement("span",{key:e.id},ue.a.createElement(he.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",ue.a.createElement("span",{className:"name"},e.name))}))))))},Vn=fe.a.div(Y||(Y=Object(me.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),Yn=Object(fe.a)(he.s)(K||(K=Object(me.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),Kn=ue.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.postLists,i=e.onGoBack,o=e.postListTag,c=e.postActions,s=Object(pe.useState)(null),l=Object(ge.a)(s,2),d=l[0],m=l[1],p=c.showModal,u=Object(ve.c)();return ue.a.createElement(Vn,{className:"post-filter-item list-group list-group-flush ".concat(t)},r&&r.map((function(e){return ue.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(o&&parseInt(o)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){e.persist();var n={topic_id:a.id,tag:null,postListTag:e.target.dataset.id,filter:null};u(Object(De.ab)(n)),i(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(n){m(e.id)},onMouseLeave:function(e){return m(null)}},ue.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,d&&d===e.id&&ue.a.createElement("span",{className:"small ml-auto",onClick:function(n){return function(e,n){e.stopPropagation(),p("edit_post_list",n)}(n,e)}},ue.a.createElement(Yn,{className:"mr-0 small",icon:"edit-3"}))||ue.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))})),qn=fe.a.div(q||(q=Object(me.a)(["\n  .client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .receiver {\n    display: inline-block;\n    align-items: center;\n  }\n  .feather-eye {\n    vertical-align: text-top;\n  }\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n"]))),Zn=Object(fe.a)(he.s)(Z||(Z=Object(me.a)(["\n  width: 12px;\n  margin: 0;\n"]))),Jn=function(e){var n=e.classNames,t=void 0===n?"":n,a=e.dictionary,r=e.post,i=e.user,o=e.isExternalUser,c=r.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),s=Object(_e.mb)();return ue.a.createElement(qn,{className:"post-recipients ".concat(t," ").concat(c&&!o&&"has-external")},ue.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=r.recipients.some((function(e){return e.type_id===i.id})),n=s.width>576?e?4:5:e?0:1,t="",l=r.recipients.filter((function(e){return!("USER"===e.type&&e.type_id===i.id)}));r.shared_with_client&&c&&!o?t+='<span class="receiver client-shared">'.concat(Object(jn.renderToString)(ue.a.createElement(Zn,{icon:"eye"}))," ").concat(a.sharedClientBadge,"</span>"):r.shared_with_client||!c||o||(t+='<span class="receiver client-not-shared">'.concat(Object(jn.renderToString)(ue.a.createElement(Zn,{icon:"eye-off"}))," ").concat(a.notSharedClientBadge,"</span>")),l.length&&(t+=l.filter((function(e,t){return t<n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(jn.renderToString)(ue.a.createElement(Zn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(jn.renderToString)(ue.a.createElement(Zn,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.type&&"TEAM"===e.type?"".concat(a.teamLabel," ").concat(e.name):e.name,"</span>")})).join(", ")),e&&(l.length,t+='<span class="receiver">'.concat(a.me,"</span>"));var d="";return l.length+(e?1:0)>n&&(d+=l.filter((function(e,t){return t>=n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(jn.renderToString)(ue.a.createElement(Zn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(jn.renderToString)(ue.a.createElement(Zn,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.type&&"TEAM"===e.type?"".concat(a.teamLabel," ").concat(e.name):e.name,"</span>")})).join(""),d='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(d,"</span></span>")),"".concat(t," ").concat(d)}()}}))},Qn=fe.a.div(J||(J=Object(me.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),Xn=fe.a.div(Q||(Q=Object(me.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]))),$n=fe.a.div(X||(X=Object(me.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),et=fe.a.li($||($=Object(me.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),nt=fe.a.li(ee||(ee=Object(me.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),tt=fe.a.div(ne||(ne=Object(me.a)(["\n  margin: 0;\n  width: 100%;\n  text-align: center;\n  margin: auto;\n  text-align: center;\n  padding: 2rem;\n  border: 1px solid #ebebeb;\n  border-top: none;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),at=function(e){var n=e.actions,t=e.dictionary,a=e.filter,r=e.isExternalUser,i=e.loading,o=e.posts,c=e.search,s=e.workspace,l=e.user,d=Object(pe.useRef)(!0),m=Object(_e.gb)()._t,p=[m("POSTS.NO_ITEMS_FOUND_HEADER_1","WOO!"),m("POSTS.NO_ITEMS_FOUND_HEADER_2","Queue\u2019s empty, time to dance!")],u=[m("POSTS.NO_ITEMS_FOUND_TEXT_1","Nothing here but me\u2026 \ud83d\udc7b"),m("POSTS.NO_ITEMS_FOUND_TEXT_2","Job well done!\ud83d\udc83\ud83d\udd7a")],f=Object(pe.useState)(Math.floor(Math.random()*p.length)),h=Object(ge.a)(f,2),b=h[0],E=h[1],g=o.filter((function(e){return 0===e.is_unread})),v=o.filter((function(e){return 1!==e.is_archived&&1===e.is_unread})),O=Object(pe.useState)({showUnread:v.length>0,showRead:0===v.length}),_=Object(ge.a)(O,2),w=_[0],k=_[1],y=Object(pe.useState)([]),N=Object(ge.a)(y,2),x=N[0],T=N[1],j=Object(pe.useState)(!1),A=Object(ge.a)(j,2),C=A[0],S=A[1],R=function(e){var n=!x.some((function(n){return n===e}))?[].concat(Object(qe.a)(x),[e]):x.filter((function(n){return n!==e}));T(n)};Object(pe.useEffect)((function(){return function(){d.current=null}}),[]),Object(pe.useEffect)((function(){d.current&&T([])}),[a]);return Object(pe.useEffect)((function(){E(Math.floor(Math.random()*p.length))}),[w]),ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(ut,{checked:C,showButtons:x.length>0,onToggleCheckbox:function(){if(C)S(!1),T([]);else{var e=Object.values(o).filter((function(e){var n=e.users_approval.length>0&&e.users_approval.some((function(e){return null===e.ip_address&&e.id===l.id}));return!(e.is_must_read&&e.must_read_users&&e.must_read_users.some((function(e){return e.id===l.id&&!e.must_read})))&&(!(e.is_must_reply&&e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===l.id&&!e.must_reply})))&&!n)})).map((function(e){return e.id}));T(e),S(!0)}},onMarkAll:function(){n.readAll({selected_post_ids:x,topic_id:s.id}),T([]),n.getUnreadNotificationEntries({add_unread_comment:1})},onArchiveAll:function(){n.archiveAll({selected_post_ids:x,topic_id:s.id}),T([])}}),"draft"===a&&ue.a.createElement(Qn,null,ue.a.createElement("button",{className:"btn all-action-button",onClick:function(){T(o.map((function(e){return e.id})))}},t.selectAll),ue.a.createElement("button",{className:"btn all-action-button",onClick:function(){x.length&&x.forEach((function(e){var t=o.find((function(n){return n.id===e}));t&&n.archivePost(t)}))}},t.remove)),ue.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},ue.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":i},""!==c&&ue.a.createElement(ue.a.Fragment,null,0===o.length?ue.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchNoResult," ",c):1===o.length?ue.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResult," ",c):ue.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResults," ",c)),"inbox"!==a&&ue.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},ue.a.createElement("div",null,o.map((function(e){return ue.a.createElement(Se,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:R,checked:x.some((function(n){return n===e.id})),isExternalUser:r,workspace:s})})))),"inbox"===a&&""===c&&ue.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},ue.a.createElement("div",null,ue.a.createElement(et,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){k((function(e){return Object(He.a)(Object(He.a)({},e),{},{showRead:!w.showRead,showUnread:!w.showUnread})}))},showPosts:w.showUnread},ue.a.createElement("span",{className:"badge badge-light"},ue.a.createElement(he.s,{icon:w.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.unread))),v.length>0&&ue.a.createElement(Xn,{className:"unread-posts-container collapse ".concat(w.showUnread?"show":""),id:"unread-posts-container",showPosts:w.showUnread},v.map((function(e,a){return ue.a.createElement(Se,{key:e.id,firstPost:0===a,post:e,postActions:n,dictionary:t,toggleCheckbox:R,checked:x.some((function(n){return n===e.id})),isExternalUser:r,workspace:s})}))),w.showUnread&&0===v.length&&ue.a.createElement(tt,null,ue.a.createElement("h3",null,p[b]),ue.a.createElement("h5",null,u[b]," ")),ue.a.createElement("div",null,ue.a.createElement(nt,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){k((function(e){return Object(He.a)(Object(He.a)({},e),{},{showRead:!w.showRead,showUnread:!w.showUnread})}))},showPosts:w.showRead},ue.a.createElement("span",{className:"badge badge-light"},ue.a.createElement(he.s,{icon:w.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.allOthers))),g.length>0&&ue.a.createElement($n,{className:"read-posts-container collapse ".concat(w.showRead?"show":""),showPosts:w.showRead},g.map((function(e,a){return ue.a.createElement(Se,{key:e.id,firstPost:0===a,post:e,postActions:n,dictionary:t,toggleCheckbox:R,checked:x.some((function(n){return n===e.id})),isExternalUser:r,workspace:s})})))))))},rt=fe.a.div(te||(te=Object(me.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),it=function(e){var n=e.actions,t=e.dictionary,a=e.disableOptions,r=e.isMember;return ue.a.createElement("div",{className:"card card-body app-content-body mb-4"},ue.a.createElement(rt,null,ue.a.createElement(he.q,{icon:3,height:252}),r&&ue.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){n.showModal("create")},disabled:a},t.createNewPost)))},ot=fe.a.div(ae||(ae=Object(me.a)(["\n    display: flex;\n    align-items-center;\n    justify-content: flex-end;\n    padding: 0.5rem 1.5rem;\n"]))),ct=function(e){var n=e.user_unfollow,t={usersUnfollowed:(0,Object(_e.gb)()._t)("POST.USERS_UNFOLLOWED","Unfollowed by ::user_count:: user/s",{user_count:n.length})};return ue.a.createElement(ot,{className:"text-muted"},ue.a.createElement("div",{className:"user-reads-container read-by"},ue.a.createElement("span",{className:"no-readers"},t.usersUnfollowed),ue.a.createElement("span",{className:"hover read-users-container"},n.map((function(e){return ue.a.createElement("span",{key:e.id},ue.a.createElement(he.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",ue.a.createElement("span",{className:"name"},e.name))})))))},st=fe.a.div(re||(re=Object(me.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 0 15px;\n  .custom-checkbox {\n    padding: 0;\n    label {\n      margin: 0;\n    }\n  }\n  .feather {\n    margin-left: 15px;\n    cursor: pointer;\n  }\n  .feather-chevron-down {\n    margin-left: 0;\n  }\n  z-index: 3;\n"]))),lt=Object(fe.a)(we.m)(ie||(ie=Object(me.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n  width: 1.6rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  :hover {\n    background: rgb(175, 184, 189, 0.2);\n    cursor: pointer;\n    .dark & {\n      background: #25282c;\n    }\n  }\n"]))),dt=fe.a.div(oe||(oe=Object(me.a)(["\n  display: flex;\n  align-items: center;\n  background: ",";\n  border-radius: 4px;\n  position: relative;\n"])),(function(e){return e.checked?"rgb(175, 184, 189, 0.2)":"inherit"})),mt=fe.a.div(ce||(ce=Object(me.a)(["\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n  :hover {\n    background: rgb(175, 184, 189, 0.2);\n    cursor: pointer;\n    .dark & {\n      background: #25282c;\n    }\n  }\n"]))),pt=fe.a.div(se||(se=Object(me.a)(["\n  display: ",";\n  position: absolute;\n  top: 100%;\n  background: #fff;\n  border-radius: 6px;\n  ul {\n    margin: 0;\n    list-style: none;\n    box-shadow: 0 0 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n    z-index: 5;\n    overflow: auto;\n    padding: 8px 8px;\n    cursor: pointer;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    max-height: 260px;\n    border-radius: inherit;\n  }\n\n  li {\n    white-space: nowrap;\n    margin-bottom: 10px;\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n    cursor: pointer;\n    padding-bottom: 5px;\n\n    span {\n      font-weight: 400;\n    }\n\n    &:hover {\n      span {\n        color: #972c86;\n      }\n    }\n    &:last-child {\n      border: none;\n      padding: 0;\n      margin: 0;\n    }\n  }\n"])),(function(e){return e.show?"block":"none"})),ut=function(e){var n=e.onToggleCheckbox,t=e.onArchiveAll,a=e.onMarkAll,r=e.checked,i=e.showButtons,o=Object(pe.useRef)(null),c=Object(pe.useState)(!1),s=Object(ge.a)(c,2),l=s[0],d=s[1],m=function(){d(!l)};return Object(_e.G)(o,m,l),ue.a.createElement(st,null,ue.a.createElement(dt,{checked:r},ue.a.createElement(lt,{name:"test",checked:r,onClick:function(){n()}}),ue.a.createElement(mt,null,ue.a.createElement(he.s,{icon:"chevron-down",width:"14",height:"14",onClick:m})),ue.a.createElement(pt,{show:l,ref:o},ue.a.createElement("ul",null,ue.a.createElement("li",null,ue.a.createElement("span",null,"sample option 1")),ue.a.createElement("li",null,ue.a.createElement("span",null,"sample option 2")),ue.a.createElement("li",null,ue.a.createElement("span",null,"sample option 3"))))),i&&ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(he.s,{icon:"archive",width:"20",height:"20",onClick:function(){t()}}),ue.a.createElement(he.s,{icon:"mail",width:"20",height:"20",onClick:function(){a()}}),ue.a.createElement(he.s,{icon:"check-circle",width:"20",height:"20"})))},ft=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},ht=Object(fe.a)(sn.a)(le||(le=Object(me.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),bt=Object(fe.a)(he.s)(de||(de=Object(me.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),Et=function(e){var n=e.dictionary,t=e.post,a=e.disableMarkAsRead,r=e.disableOptions,i=Object(pe.useRef)(!0),o=Object(_e.ab)(),c=o.fromNow,s=o.localizeDate,l=Object(_e.I)(),d=Object(pe.useState)(t.is_favourite),m=Object(ge.a)(d,2),p=m[0],u=m[1],f=Object(pe.useState)(!1),h=Object(ge.a)(f,2),b=h[0],E=h[1],g=Object(pe.useState)(!1),v=Object(ge.a)(g,2),O=v[0],_=v[1];Object(pe.useEffect)((function(){return function(){i.current=!1}}),[]);return ue.a.createElement("div",{className:"d-inline-flex"},t.files.length>0&&ue.a.createElement(bt,{className:"mr-2",icon:"paperclip"}),ue.a.createElement(ht,{arrowSize:5,onToggle:ft,content:t.is_close?n.openThisPost:n.closeThisPost},ue.a.createElement(bt,{className:"mr-2",icon:"x-circle",onClick:function(){l.close(t)}})),ue.a.createElement(ht,{arrowSize:5,onToggle:ft,content:n.starredFavorite},ue.a.createElement(bt,{className:"mr-2",onClick:function(){r||O||(_(!0),l.starPost(t,(function(){i.current&&_(!1)})),i.current&&u(!p))},icon:"star",fill:p?"#ffc107":"none",stroke:p?"#ffc107":"currentcolor"})),!r&&!a()&&ue.a.createElement(ht,{arrowSize:5,onToggle:ft,content:n.archive},ue.a.createElement(bt,{className:"mr-2",onClick:function(){b||(E(!0),l.archivePost(t,(function(){i.current&&E(!1)})))},icon:"archive"})),ue.a.createElement("div",{className:"time-stamp"},ue.a.createElement(ht,{arrowSize:5,distance:10,onToggle:ft,content:"".concat(s(t.created_at.timestamp))},ue.a.createElement("span",{className:"text-muted"},c(t.created_at.timestamp)))))}},742:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a,r,i=t(10),o=t(0),c=t.n(o),s=t(9),l=t(14),d=t(11),m=s.a.div(a||(a=Object(i.a)(["\n  .people-list {\n    right: 0;\n  }\n  // .TEAM > div:first-child {\n  //   background-color: #7a1b8b;\n  //   .feather {\n  //     color: #fff;\n  //   }\n  // }\n"]))),p=Object(s.a)(l.a)(r||(r=Object(i.a)(["\n  height: 2.7rem !important;\n  width: 2.7rem !important;\n  margin-left: ",";\n"])),(function(e){return e.firstUser?"0":"-0.5rem"})),u=function(e){var n=e.members,t=e.classNames,a=void 0===t?"":t,r=5;Object(d.mb)().width<=575&&(r=5);var i=n?n.slice(0,r):[],o=n?n.slice(r):[];return c.a.createElement(m,{className:"d-flex ".concat(a)},i.map((function(e,n){return c.a.createElement(p,{id:e.id,firstUser:0===n,key:e.id,name:e.name?e.name:e.email,imageLink:e.hasOwnProperty("members")?e.icon_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,hasAccepted:e.has_accepted,type:e.hasOwnProperty("members")?"TEAM":"USER",showSlider:!e.hasOwnProperty("members"),icon:e.icon?e.icon:null,className:e.icon?"chat-members company":"chat-members"})})),o.length>0&&c.a.createElement(l.m,{recipients:o}))}},743:function(e,n,t){"use strict";t.d(n,"k",(function(){return W})),t.d(n,"h",(function(){return J})),t.d(n,"j",(function(){return ee})),t.d(n,"o",(function(){return te})),t.d(n,"p",(function(){return re})),t.d(n,"r",(function(){return oe})),t.d(n,"s",(function(){return le})),t.d(n,"g",(function(){return me})),t.d(n,"m",(function(){return ue})),t.d(n,"l",(function(){return Ee})),t.d(n,"n",(function(){return _e})),t.d(n,"i",(function(){return ye})),t.d(n,"t",(function(){return xe})),t.d(n,"a",(function(){return je})),t.d(n,"q",(function(){return Ce})),t.d(n,"b",(function(){return Re})),t.d(n,"f",(function(){return Ie})),t.d(n,"c",(function(){return De})),t.d(n,"e",(function(){return He})),t.d(n,"d",(function(){return ze}));var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k,y,N,x,T,j,A=t(10),C=t(0),S=t.n(C),R=t(9),I=t(14),P=t(163),L=t(11),D=t(4),M=R.a.div(a||(a=Object(A.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),F=R.a.div(r||(r=Object(A.a)([""]))),U=R.a.span(i||(i=Object(A.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),H=Object(R.a)(I.s)(o||(o=Object(A.a)(["\n  width: 15px;\n"]))),W=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.actions,i=e.filterFile,o=e.filter,c=void 0===o?"all":o,s=e.dropZoneRef,l=e.storageLimit,d=void 0===l?25:l,m=e.wsFiles,p=e.folders,u=e.activeFolder,f=e.clearFilter,h=e.params,b=e.disableOptions,E=e.workspace,g="external"===Object(D.d)((function(e){return e.session.user})).type,v=Object(L.gb)()._t,O=r.getFileSizeUnit(m.storage),_=0===m.storage?0:m.storage<1e8?1e8:m.storage,w={uploadFiles:v("FILE.UPLOAD_FILES","Upload files"),allFiles:v("FILES.ALL_FILES","All files"),recentlyEdited:v("FILES.RECENTLY_EDITED","Recently edited"),favorite:v("FILE.FAVORITE","Favorite"),removed:v("FILES.REMOVED","Removed"),storageStatus:v("FILES.STORAGE_STATUS","Storage Status"),usedOf:v("FILE.USED_OF","used of"),gigabyte:v("FILE.GIGABYTE","GB"),teamChat:v("FILES_SIDEBAR.TEAM_CHAT","Team chat"),clientChat:v("FILES_SIDEBAR.CLIENT_CHAT","Client chat"),privatePost:v("FILES_SIDEBAR.PRIVATE_POST","Private post"),postWithClient:v("FILES_SIDEBAR.POST_WITH_CLIENT","Post with client")};return S.a.createElement(M,{className:"file-sidebar bottom-modal-mobile ".concat(t)},S.a.createElement(F,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),S.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===a&&S.a.createElement("div",{className:"card-body"},S.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:b},w.uploadFiles),S.a.createElement("form",{className:"d-none",id:"file-upload"},S.a.createElement("input",{type:"file",multiple:""}))),S.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},S.a.createElement("div",{className:"list-group list-group-flush"},S.a.createElement(U,{onClick:i,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"folder"}),w.allFiles,S.a.createElement("span",{className:"small ml-auto"},m&&m.count>0?m.count:null)),p&&Object.values(p).filter((function(e){return!e.is_archived})).length>0&&!0===a&&S.a.createElement(U,{className:"d-flex align-items-center folder-list"},S.a.createElement("ul",null,Object.values(p).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return S.a.createElement(Ee,{key:e.id,clearFilter:f,folders:p,params:h,folder:e,activeFolder:u})})))),S.a.createElement(_e,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){r.uploadWorkspaceGoogleDriveFile(h.workspaceId,e)}))},disableOptions:b}),!g&&E&&E.team_channel&&E.team_channel.code&&S.a.createElement(S.a.Fragment,null,S.a.createElement(U,{onClick:i,"data-filter":"team",active:"team"===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"eye-off"}),w.teamChat),S.a.createElement(U,{onClick:i,"data-filter":"client",active:"client"===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"eye"}),w.clientChat),S.a.createElement(U,{onClick:i,"data-filter":"privatePost",active:"privatePost"===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"eye-off"}),w.privatePost),S.a.createElement(U,{onClick:i,"data-filter":"clientPost",active:"clientPost"===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"eye"}),w.postWithClient)),S.a.createElement(U,{onClick:i,"data-filter":"recent",active:"recent"===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"monitor"}),w.recentlyEdited),S.a.createElement(U,{onClick:i,"data-filter":"important",active:"important"===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"star"}),w.favorite,S.a.createElement("span",{className:"small ml-auto"},m&&m.stars>0?m.stars:null)),S.a.createElement(U,{onClick:i,"data-filter":"removed",active:"removed"===c,className:"list-group-item d-flex align-items-center"},S.a.createElement(H,{className:"mr-2",icon:"trash"}),w.removed,S.a.createElement("span",{className:"small ml-auto"},m&&m.trash>0?m.trash:null))),"undefined"!==typeof m&&null!==m&&S.a.createElement("div",{className:"card-body"},S.a.createElement("h6",{className:"mb-4"},w.storageStatus),S.a.createElement("div",{className:"d-flex align-items-center"},S.a.createElement("div",{className:"mr-3"},S.a.createElement(I.s,{icon:"database"})),S.a.createElement("div",{className:"flex-grow-1"},S.a.createElement(P.d,{amount:_,limit:1e9*d}),S.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},O.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],O.unit," ",w.usedOf," ",d,w.gigabyte)))))))})),z=t(1),B=t(7),G=t(99),V=t(738),Y=R.a.div(c||(c=Object(A.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),K=Object(R.a)(P.c)(s||(s=Object(A.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]))),q=R.a.div(l||(l=Object(A.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),Z=R.a.div(d||(d=Object(A.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]))),J=S.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.dropZoneRef,i=e.filter,o=e.search,c=e.wsFiles,s=e.isMember,l=e.handleAddEditFolder,d=e.actions,m=e.params,p=e.folders,u=e.folder,f=e.fileIds,h=e.history,b=e.subFolders,E=e.dictionary,g=e.disableOptions,v=Object(L.bb)(),O=document.querySelector(".app-content-body"),_=Object(D.d)((function(e){return e.session.user})),w=Object(C.useState)(!1),k=Object(B.a)(w,2),y=k[0],N=k[1],x=function(){r.current&&r.current.open()},T=function(){N(!1)};return Object(C.useEffect)((function(){y&&N(!1)}),[c]),Object(C.useEffect)((function(){y&&!s&&v.warning("You are not a member of this workspace.")}),[y]),S.a.createElement(Y,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(i)||y||N(!0)}},!g&&S.a.createElement(G.a,{ref:r,hide:!(y&&!0===s),onDragLeave:T,onDrop:function(e){!function(e){N(!1);var n=Math.floor(Date.now()/1e3),a={files:e.map((function(e){return{created_at:{timestamp:n},download_link:null,folder_id:u?u.id:null,id:t(78).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:n},user_id:_.id,view_link:null,uploading:!0}})),folder_id:u?u.id:null,topic_id:parseInt(m.workspaceId),workspace_id:m.hasOwnProperty("folderId")?parseInt(m.fileFolderId):null};d.uploadingFiles(a);var r=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].ref_id=t(78).generate(),r.append("files["+i+"]",e[i]));var o={is_primary:0,topic_id:m.workspaceId,files:r};m.fileFolderId&&(o=Object(z.a)(Object(z.a)({},o),{},{folder_id:m.fileFolderId})),d.uploadFiles(o)}(e.acceptedFiles)},onCancel:T,params:m}),S.a.createElement("div",{className:"card-body app-lists"},u&&s&&"removed"!==i&&!g&&S.a.createElement(K,{moreButton:"settings"},S.a.createElement("div",{onClick:function(){l(u,"update")}},E.editFolder),S.a.createElement("div",{onClick:function(){if(u){d.removeFolder(u,m.workspaceId,(function(e,n){if(!e&&n){var t=h.location.pathname.split("/folder/")[0];h.push(t)}}))}}},E.removeFolder)),"removed"===i&&c&&c.hasOwnProperty("trash_files")&&(Object.keys(c.trash_files).length>0||Object.values(p).filter((function(e){return e.is_archived})).length>0)&&S.a.createElement(I.s,{icon:"trash",onClick:d.removeTrashFiles}),""===i&&S.a.createElement(S.a.Fragment,null,"undefined"===typeof m.fileFolderId&&S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},E.allFiles),u&&u.search&&S.a.createElement(ye,{folder:u,history:h,dictionary:E,folders:p,workspaceID:m.workspaceId}),S.a.createElement("div",{className:"row"},m.hasOwnProperty("fileFolderId")?b.filter((function(e){return!e.is_archived})).map((function(e){return S.a.createElement(V.b,{key:e.id,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:g,folder:e,history:h,isMember:s,params:m,handleAddEditFolder:l})})):Object.values(p).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return S.a.createElement(V.b,{key:e.id,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:g,folder:e,history:h,isMember:s,params:m,handleAddEditFolder:l})}))),"undefined"!==typeof m.fileFolderId?S.a.createElement(S.a.Fragment,null,u?S.a.createElement(S.a.Fragment,null,S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},u.search),S.a.createElement("div",{className:"row"},c&&f.map((function(e){return c.files.hasOwnProperty(e)?S.a.createElement(V.a,{key:e,isMember:s,scrollRef:O,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],folders:p,disableOptions:g}):null}))),c&&0===f.length&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}),s&&S.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:x,disabled:g},E.uploadFiles))):S.a.createElement(S.a.Fragment,null)):S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"row"},S.a.createElement(Ie,{disableOptions:g,params:m}),f.map((function(e){return c.files.hasOwnProperty(e)?S.a.createElement(V.a,{key:e,isMember:s,scrollRef:O,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],folders:p,disableOptions:g}):null}))),c.popular_files.length>0&&S.a.createElement(re,{search:o,scrollRef:O,wsFiles:c,actions:d,folders:p,disableOptions:g}),c.recently_edited.length>0&&S.a.createElement(oe,{search:o,scrollRef:O,wsFiles:c,actions:d,folders:p,disableOptions:g})),0===f.length&&0===c.popular_files.length&&0===c.recently_edited.length&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}),s&&S.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:x,disabled:g},E.uploadFiles))),"team"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(xe,{search:o,scrollRef:O,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.team_chat.length>0)&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}))),"client"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(je,{search:o,scrollRef:O,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.client_chat.length>0)&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}))),"privatePost"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(Ce,{search:o,scrollRef:O,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.private_post.length>0)&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}))),"clientPost"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(Re,{search:o,scrollRef:O,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.client_post.length>0)&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}))),"recent"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(oe,{search:o,scrollRef:O,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.recently_edited.length>0)&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}))),"important"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(te,{search:o,scrollRef:O,wsFiles:c,folders:p,actions:d}),!(c&&c.hasOwnProperty("favorite_files")&&c.favorite_files.length>0)&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282}),S.a.createElement(Z,null,S.a.createElement("p",null,"No favorite files."),S.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(le,{scrollRef:O,search:o,wsFiles:c,actions:d,isMember:s,params:m,folders:p,subFolders:b,handleAddEditFolder:l,folder:u,disableOptions:g}),!(c&&c.hasOwnProperty("trash_files")&&Object.keys(c.trash_files).length>0)&&!(Object.values(p).some((function(e){return e.is_archived}))||b.some((function(e){return e.is_archived})))&&S.a.createElement(q,null,S.a.createElement(I.q,{icon:4,height:282})))))})),Q=t(16),X=t(13),$=R.a.div(m||(m=Object(A.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),ee=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.dropZoneRef,i=e.onSearchChange,o=e.onSearch,c=e.onEnter,s=e.wsFiles,l=e.handleAddEditFolder,d=e.folders,m=e.history,p=e.params,u=e.clearFilter,f=e.dictionary,h=e.disableOptions,b=e.onClickEmpty,E=e.value,g=Object(D.c)(),v=Object(D.d)((function(e){return e.workspaces.selectedWorkspaceId})),O=function(e){if(u(),s.folders.hasOwnProperty(e.target.dataset.value)){var n=s.folders[e.target.dataset.value];n.hasOwnProperty("payload")?window.open(n.payload.url,"_blank"):p.hasOwnProperty("fileFolderId")?m.push(m.location.pathname.split("/folder/")[0]+"/folder/".concat(n.id,"/").concat(Object(Q.h)(n.search))):m.push(m.location.pathname+"/folder/".concat(n.id,"/").concat(Object(Q.h)(n.search)))}},_={label:S.a.createElement(S.a.Fragment,null,S.a.createElement(I.s,{className:"mr-1",icon:"plus"})," ",f.add),items:[{value:"folder",label:f.folder,onClick:function(){return l(null,"create")}},{value:"file",label:f.file,onClick:function(){r.current&&r.current.open()}}]},w={label:f.folders,items:s&&Object.values(d).length?Object.values(d).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:O}})):[]};return S.a.createElement($,{className:"files-header app-action ".concat(t)},S.a.createElement("div",{className:"action-left"},S.a.createElement("ul",{className:"list-inline"},!0===a&&!h&&S.a.createElement("li",{className:"list-inline-item mb-0"},S.a.createElement(I.e,{dropdown:_})),!0===a&&Object.values(d).filter((function(e){return!e.is_archived})).length>=1&&S.a.createElement("li",{className:"list-inline-item mb-0"},S.a.createElement(I.e,{dropdown:w})),!0===a&&S.a.createElement("li",{className:"list-inline-item mb-0"},S.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){var e={type:"external_file_folder",mode:"create",topic_id:v};g(Object(X.a)(e))}},f.driveLink))),S.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},S.a.createElement(I.s,{icon:"menu"}))),S.a.createElement("div",{className:"action-right"},S.a.createElement("div",{className:"input-group"},S.a.createElement("input",{type:"text",onChange:i,onKeyDown:c,value:E,className:"form-control",placeholder:f.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==E.trim()&&S.a.createElement("button",{onClick:b,className:"btn-cross",type:"button"},S.a.createElement(I.s,{icon:"x"})),S.a.createElement("div",{className:"input-group-append"},S.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:o},S.a.createElement(I.s,{icon:"search"}))))))})),ne=R.a.div(p||(p=Object(A.a)([""]))),te=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions;return S.a.createElement(ne,{className:"important-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),S.a.createElement("div",{className:"row"},r&&r.favorite_files.length>0&&r.favorite_files.map((function(e){return S.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:a,file:r.files[e],actions:i})}))))})),ae=R.a.div(u||(u=Object(A.a)([""]))),re=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return S.a.createElement(ae,{className:"popular-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),S.a.createElement("div",{className:"row"},r&&r.popular_files.length>0&&r.popular_files.map((function(e){return S.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o})}))))})),ie=R.a.div(f||(f=Object(A.a)([""]))),oe=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return S.a.createElement(ie,{className:"recent-edited-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),S.a.createElement("div",{className:"row"},r&&r.recently_edited.length>0&&r.recently_edited.map((function(e){return r.files.hasOwnProperty(e)?S.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))})),ce=t(45),se=R.a.div(h||(h=Object(A.a)([""]))),le=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.wsFiles,i=e.isMember,o=e.folders,c=e.subFolders,s=e.folder,l=e.params,d=e.handleAddEditFolder,m=e.disableOptions,p=Object(ce.g)();return S.a.createElement(se,{className:"remove-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),s&&S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},s.search),S.a.createElement("div",{className:"row"},l.hasOwnProperty("fileFolderId")?c.filter((function(e){return e.is_archived})).map((function(e){return S.a.createElement(V.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:i,params:l,handleAddEditFolder:d,disableOptions:m})})):Object.values(o).filter((function(e){return e.is_archived})).map((function(e){return S.a.createElement(V.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:i,params:l,handleAddEditFolder:d,disableOptions:m})}))),S.a.createElement("div",{className:"row"},l.hasOwnProperty("fileFolderId")?r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})).map((function(e){return S.a.createElement(V.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:o,disableOptions:m})})):r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).map((function(e){return"undefined"!==typeof e?S.a.createElement(V.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:o,disableOptions:m}):null}))))})),de=Object(R.a)(P.c)(b||(b=Object(A.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),me=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.scrollRef,o=void 0===i?null:i,c=e.actions,s=e.isMember,l=e.forceDelete,d=e.disableOptions,m=Object(L.bb)(),p=Object(L.gb)()._t,u={rename:p("FILES.RENAME","Rename"),restore:p("FILES.RESTORE","Restore"),remove:p("FILES.REMOVE","Remove"),viewDetails:p("FILES.VIEW_DETAILS","View details"),share:p("FILES.SHARE","Share"),download:p("FILES.DOWNLOAD","Download"),moveTo:p("FILES.MOVE_TO","Move to"),favorite:p("FILES.FAVORITE","Favorite"),unfavorite:p("FILES.UNFAVORITE","Unfavorite"),notMemberOfWs:p("TOASTER.NOT_MEMBER_OF_WS","You are not a member of this workspace.")};return S.a.createElement(de,{className:"file-options ".concat(t),moreButton:"more-horizontal",file:r,scrollRef:o},S.a.createElement("div",{onClick:function(){c.viewFiles(r)}},u.viewDetails),S.a.createElement("div",{onClick:function(){c.favorite(r)}},r.is_favorite?u.unfavorite:u.favorite),S.a.createElement("div",{onClick:function(){c.copyLink(r.view_link)}},u.share),S.a.createElement("div",{onClick:function(){c.download(r)}},u.download),S.a.createElement("div",{onClick:function(){s?c.moveFile(r):m.warning(S.a.createElement(S.a.Fragment,null,"You are ",S.a.createElement("b",null,"not")," a member of this workspace."))}},u.moveTo),S.a.createElement("div",{onClick:function(){s?c.renameFile(r):m.warning("".concat(u.notMemberOfWs))}},u.rename),l&&S.a.createElement("div",{onClick:function(){c.restoreWorkspaceFile(r,(function(e,n){n&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?m.success(S.a.createElement(S.a.Fragment,null,"Item ",S.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):m.success(S.a.createElement(S.a.Fragment,null,"Item ",S.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},u.restore),!d&&S.a.createElement("div",{onClick:function(){s?r.hasOwnProperty("payload_id")?c.unlinkGoogleAttachment(r):c.removeFile(r,l):m.warning("".concat(u.notMemberOfWs))}},u.remove))})),pe=Object(R.a)(P.c)(E||(E=Object(A.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),ue=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,o=e.actions,c=e.isMember,s=e.history,l=e.params,d=e.handleAddEditFolder,m=Object(L.bb)(),p=Object(L.gb)()._t,u={rename:p("FILES.RENAME","Rename"),restore:p("FILES.RESTORE","Restore"),remove:p("FILES.REMOVE","Remove")};return S.a.createElement(pe,{className:"file-options ".concat(t),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&S.a.createElement("div",{onClick:function(){c?d(a,"edit"):m.warning("You are not a member of this workspace.")}},u.rename),a.is_archived&&S.a.createElement("div",{onClick:function(){o.restoreWorkspaceFolder(a,(function(e,n){n&&(a.parent_folder?m.success(S.a.createElement(S.a.Fragment,null,"Folder ",S.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):m.success(S.a.createElement(S.a.Fragment,null,"Folder ",S.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},u.restore),S.a.createElement("div",{onClick:function(){if(c)if(a.hasOwnProperty("payload"))o.unlinkGoogleFolder(a);else{o.removeFolder(a,l.workspaceId,(function(e,n){if(!e&&n){var t=s.location.pathname.split("/folder/")[0];s.push(t)}}))}else m.warning("You are not a member of this workspace.")}},u.remove))})),fe=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,c=e.params;return S.a.createElement(Ee,{className:t,clearFilter:o,folders:r,params:c,folder:a,activeFolder:i})},he=R.a.li(g||(g=Object(A.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"])),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),be=R.a.ul(v||(v=Object(A.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"])),(function(e){return e.maxHeight})),Ee=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,c=Object(ce.g)(),s=Object(ce.j)(),l=s.params,d=s.path,m=s.url,p={container:Object(C.useRef)(null),arrow:Object(C.useRef)(null),nav:Object(C.useRef)(null)},u=Object(C.useState)(!1),f=Object(B.a)(u,2),h=f[0],b=f[1],E=Object(C.useState)(null),g=Object(B.a)(E,2),v=g[0],O=g[1];return Object(C.useEffect)((function(){null!==p.nav.current&&O(p.nav.current.scrollHeight)}),[p.nav.current,v]),Object(C.useEffect)((function(){i&&i.parent_folder&&i.parent_folder.id===a.id&&b(!0)}),[l,i]),S.a.createElement(he,{ref:p.container,className:"folder-list fadeIn ".concat(t),selected:!!i&&i.id==a.id},S.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(o(),"/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===d||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===d){var e=m.split("/folder/")[0];c.push(e+"/folder/".concat(a.id,"/").concat(Object(Q.h)(a.search)))}else c.push(c.location.pathname+"/folder/".concat(a.id,"/").concat(Object(Q.h)(a.search)));b((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&S.a.createElement(I.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&S.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(h?"ti-minus rotate-in":"ti-plus")})),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&S.a.createElement(be,{ref:p.nav,maxHeight:v,className:h?"enter-active":"leave-active"},h&&Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return S.a.createElement(fe,{key:e.id,clearFilter:o,params:l,folderHeight:v,activeFolder:i,folders:r,folder:e})}))))},ge=t(799),ve=t.n(ge),Oe=R.a.div(O||(O=Object(A.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"])),(function(e){return e.disabled?".5":"1"})),_e=function(e){var n=e.className,t=void 0===n?"":n,a=e.onChange,r=e.disableOptions,i=Object(L.gb)()._t,o=Object(C.useState)(!1),c=Object(B.a)(o,2),s=c[0],l=c[1],d=function(e){null===localStorage.getItem("gdrivePicker")&&localStorage.setItem("gdrivePicker",e)},m={linkGoogleDrive:i("FILE.LINK_GOOGLE_DRIVE","Link your Google Drive first"),gDriveAttachFile:i("FILE.ATTACH_GOOGLE_DRIVE_FILE","Attach a file"),gDriveAttachFolder:i("FILE.ATTACH_GOOGLE_DRIVE_FOLDER","Attach a folder")};return S.a.createElement(Oe,{className:"google-drive dropdown ".concat(t),onClick:function(){r||l(!s)},disabled:r},S.a.createElement(I.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"})," Google Drive",S.a.createElement("div",{className:"dropdown-menu ".concat(s?"show":"")},null===localStorage.getItem("gdrivePicker")?S.a.createElement(ve.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return d(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,viewId:"DOCS"},S.a.createElement("div",{className:"link-div"},m.linkGoogleDrive)):S.a.createElement(S.a.Fragment,null,S.a.createElement(ve.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return d(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"DOCS"},S.a.createElement("div",{className:"dropdown-item"},m.gDriveAttachFile)),S.a.createElement(ve.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onAuthenticate:function(e){return d(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"FOLDERS",createPicker:function(e,n){var t=e.picker.ViewId.FOLDERS,r=new e.picker.DocsView(t).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0);(new window.google.picker.PickerBuilder).addView(r).setOAuthToken(n).setDeveloperKey("AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ").setCallback((function(e){a(e)})).build().setVisible(!0)}},S.a.createElement("div",{className:"dropdown-item"},m.gDriveAttachFolder)))))},we=t(255),ke=R.a.div(_||(_=Object(A.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]))),ye=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.history,i=e.dictionary,o=e.folders,c=e.workspaceID,s=Object(ce.j)().url,l=Object(C.useState)(!1),d=Object(B.a)(l,2),m=d[0],p=d[1];return Object(C.useEffect)((function(){a.parent_folder&&Object.values(o).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?p(!0):p(!1))})),a.parent_folder||p(!1)}),[a]),S.a.createElement(ke,{className:"files-breadcrumb d-flex ".concat(t)},S.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},S.a.createElement("li",{onClick:function(){var e=r.location.pathname.split("/folder/")[0];r.push(e)}},i.allFiles),S.a.createElement(I.s,{width:12,icon:"chevron-right"}),m&&S.a.createElement(S.a.Fragment,null,S.a.createElement("li",null,S.a.createElement(we.a,{parentFolder:a.parent_folder,workspaceID:c,history:r})),S.a.createElement(I.s,{width:12,icon:"chevron-right"})),a.parent_folder&&S.a.createElement(S.a.Fragment,null,S.a.createElement("li",{onClick:function(){return function(e){var n=s.split("/folder/")[0];r.push(n+"/folder/".concat(e.id,"/").concat(Object(Q.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),S.a.createElement(I.s,{width:12,icon:"chevron-right"})),S.a.createElement("div",null,a.search)))})),Ne=R.a.div(w||(w=Object(A.a)([""]))),xe=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return S.a.createElement(Ne,{className:"recent-edited-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Team chat"),S.a.createElement("div",{className:"row"},r&&r.team_chat.length>0&&r.team_chat.map((function(e){return r.files.hasOwnProperty(e)?S.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))})),Te=R.a.div(k||(k=Object(A.a)([""]))),je=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return S.a.createElement(Te,{className:"recent-edited-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Client chat"),S.a.createElement("div",{className:"row"},r&&r.client_chat.length>0&&r.client_chat.map((function(e){return r.files.hasOwnProperty(e)?S.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))})),Ae=R.a.div(y||(y=Object(A.a)([""]))),Ce=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return S.a.createElement(Ae,{className:"recent-edited-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Private post"),S.a.createElement("div",{className:"row"},r&&r.private_post.length>0&&r.private_post.map((function(e){return r.files.hasOwnProperty(e)?S.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))})),Se=R.a.div(N||(N=Object(A.a)([""]))),Re=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return S.a.createElement(Se,{className:"recent-edited-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Post with client"),S.a.createElement("div",{className:"row"},r&&r.client_post.length>0&&r.client_post.map((function(e){return r.files.hasOwnProperty(e)?S.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))})),Ie=function(e){var n=e.disableOptions,t=e.params,a=void 0===t?null:t,r=Object(D.d)((function(e){return a&&a.workspaceId&&e.files.workspaceFiles[a.workspaceId]?e.files.workspaceFiles[a.workspaceId].driveLinks:e.files.companyFiles.driveLinks}));return r?Object.values(r).map((function(e){return S.a.createElement(De,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",link:e,disableOptions:n})})):null},Pe=R.a.div(x||(x=Object(A.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n    .small {\n      min-height: 49px;\n    }\n    .feather-link {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]))),Le=Object(R.a)(I.s)(T||(T=Object(A.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),De=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.link,r=e.isFavorite,i=function(){window.open(a.link,"_blank")};return S.a.createElement(Pe,{className:"file-list-item ".concat(t)},S.a.createElement("div",{className:"card  app-file-list"},S.a.createElement("div",{className:"app-file-icon uploaded cursor-pointer",onClick:i},!0===r&&S.a.createElement(Le,{icon:"star"}),S.a.createElement(He,{link:a}),S.a.createElement(ze,{type:a.type})),S.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:i},S.a.createElement(I.t,{content:a.name},S.a.createElement("div",{className:"file-name"},S.a.createElement(I.s,{className:"mr-2",icon:"link"}),a.name)))))})),Me=t(20),Fe=t(23),Ue=Object(R.a)(P.c)(j||(j=Object(A.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),He=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.link,r=e.scrollRef,i=void 0===r?null:r,o=Object(D.c)(),c=Object(ce.i)(),s=Object(L.bb)(),l=Object(L.gb)()._t,d={rename:l("FILES.RENAME","Rename"),remove:l("FILES.REMOVE","Remove"),viewDetails:l("FILES.VIEW_DETAILS","View details"),share:l("FILES.SHARE","Share"),favorite:l("FILES.FAVORITE","Favorite"),unfavorite:l("FILES.UNFAVORITE","Unfavorite"),modalHeader:l("MODAL.DRIVE_LINK_REMOVE","Remove link"),cancel:l("BUTTON.CANCEL","Cancel"),removeLink:l("BUTTON.REMOVE_LINK","Remove link"),modalBody:l("MODAL.BODY_REMOVE_LINK","Are you sure you want to remove this drive link?"),removedLink:l("TOASTER.REMOVED_DRIVE_LINK","::linkName:: removed from drive",{linkName:a.name})};return S.a.createElement(Ue,{className:"file-options ".concat(t),moreButton:"more-horizontal",scrollRef:i},S.a.createElement("div",{onClick:function(){window.open(a.link,"_blank")}},d.viewDetails),S.a.createElement("div",{onClick:function(){Object(Me.b)(s,a)}},d.share),S.a.createElement("div",{onClick:function(){var e={type:"external_file_folder",mode:"update",topic_id:c.workspaceId?Number(c.workspaceId):null,params:c,link:a};o(Object(X.a)(e))}},d.rename),S.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:d.modalHeader,submitText:d.removeLink,cancelText:d.cancel,bodyText:d.modalBody,actions:{onSubmit:function(){o(Object(Fe.j)({id:a.id},(function(e,n){e||s.info(d.removedLink)})))}}};o(Object(X.a)(e))}},d.remove))})),We=t(84),ze=function(e){var n=e.type;return n.includes("document")?S.a.createElement(We.c,{icon:"gdoc",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("form")?S.a.createElement(We.c,{icon:"gforms",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("google_folder")?S.a.createElement(We.c,{icon:"google-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("spreadsheet")?S.a.createElement(We.c,{icon:"gsheet",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("word")?S.a.createElement(We.c,{icon:"office-word",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("excel")?S.a.createElement(We.c,{icon:"office-excel",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("ppt")?S.a.createElement(We.c,{icon:"office-ppt",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("office_folder")?S.a.createElement(We.c,{icon:"office-one-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("dropbox")?S.a.createElement(We.c,{icon:"dropbox",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):(n.includes("file"),S.a.createElement("i",{className:"fa fa-file-o text-info"}))}},744:function(e,n,t){e.exports=t.p+"static/media/text.bf6e5a52.svg"},746:function(e,n,t){"use strict";var a,r=t(10),i=t(0),o=t.n(i),c=t(9),s=t(14),l=t(45),d=c.a.span(a||(a=Object(r.a)(["\n  cursor: pointer;\n"])));n.a=function(e){var n=Object(l.g)();return o.a.createElement(d,null,o.a.createElement(s.s,{icon:"chevron-left",onClick:function(){n.goBack()}}))}},751:function(e,n,t){"use strict";t.d(n,"b",(function(){return Q})),t.d(n,"c",(function(){return pe})),t.d(n,"d",(function(){return be})),t.d(n,"f",(function(){return Ae})),t.d(n,"e",(function(){return Fe})),t.d(n,"a",(function(){return ze}));var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k,y,N,x,T,j,A,C,S=t(6),R=t(10),I=t(0),P=t.n(I),L=t(4),D=t(45),M=t(9),F=t(13),U=t(14),H=t(11),W=Object(I.lazy)((function(){return Promise.resolve().then(t.bind(null,759))})),z=Object(I.lazy)((function(){return Promise.resolve().then(t.bind(null,776))})),B=Object(I.lazy)((function(){return Promise.resolve().then(t.bind(null,760))})),G=Object(I.lazy)((function(){return Promise.resolve().then(t.bind(null,761))})),V=Object(I.lazy)((function(){return Promise.resolve().then(t.bind(null,762))})),Y=Object(I.lazy)((function(){return Promise.resolve().then(t.bind(null,764))})),K=Object(I.lazy)((function(){return Promise.resolve().then(t.bind(null,763))})),q=Object(I.lazy)((function(){return t.e(24).then(t.bind(null,821))})),Z=M.a.div(a||(a=Object(R.a)(["\n  position: relative;\n  //padding-bottom: 0 !important;\n  // overflow: hidden;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n"]))),J=M.a.div(r||(r=Object(R.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),Q=P.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=Object(H.gb)()._t,i={createWorkspace:r("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:r("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},o=Object(L.c)();Object(H.U)();var c=Object(H.kb)().loggedUser,s=Object(H.ob)(),l=Object(L.d)((function(e){return e.workspaces})),d=l.workspaces,m=l.workspacesLoaded,p=l.favoriteWorkspacesLoaded,u=l.activeTopic,f=l.workspaceTimeline,h=null;Object.keys(f).length&&u&&f[u.id]&&(h=f[u.id]);var b=u?u.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],E=Object(H.C)(u&&u.member_ids.length?Object(S.a)(new Set(b)):[]);return P.a.createElement(Z,{className:"main-content ".concat(t)},m||p?P.a.createElement(P.a.Fragment,null,Object.keys(d).length>=1?P.a.createElement(P.a.Fragment,null,P.a.createElement(I.Suspense,{fallback:P.a.createElement("div",null)},P.a.createElement(D.d,null,P.a.createElement(D.b,{render:function(e){return P.a.createElement(q,Object.assign({isExternal:a},e))},path:["/workspace/search"]}),P.a.createElement(D.b,{render:function(){return P.a.createElement(z,Object.assign({},e,{workspace:u,isMember:E,actions:s,workspaceTimeline:h}))},path:["/workspace/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/dashboard/:workspaceId/:workspaceName","/workspace/dashboard"]}),P.a.createElement(D.b,{exact:!0,render:function(){return P.a.createElement(V,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/posts/:workspaceId/:workspaceName","/workspace/posts"]}),P.a.createElement(D.b,{exact:!0,render:function(){return P.a.createElement(W,Object.assign({},e,{workspace:u}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/chat"]}),!a&&P.a.createElement(D.b,{exact:!0,render:function(){return P.a.createElement(W,Object.assign({},e,{workspace:u}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/team-chat/:workspaceId/:workspaceName","/workspace/chat"]}),P.a.createElement(D.b,Object.assign({exact:!0},e,{render:function(e){return P.a.createElement(B,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/files/:workspaceId/:workspaceName","/workspace/files"]})),P.a.createElement(D.b,{render:function(){return P.a.createElement(G,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/people/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/people/:workspaceId/:workspaceName","/workspace/people"]}),P.a.createElement(D.b,{render:function(){return P.a.createElement(Y,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/reminders/:workspaceId/:workspaceName","/workspace/reminders"]}),P.a.createElement(D.b,Object.assign({},e,{component:K,path:["/workspace/settings/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/settings/:workspaceId/:workspaceName","/workspace/settings"]})),P.a.createElement(D.a,{from:"*",to:{pathname:"/workspace/chat",state:{from:e.location}}})))):P.a.createElement(J,null,P.a.createElement("div",null,P.a.createElement(U.q,{height:275,icon:1}),"external"!==c.type&&P.a.createElement(P.a.Fragment,null,P.a.createElement("h5",null,i.sidebarTextCreateWorkspace),P.a.createElement("button",{className:"btn btn-primary",onClick:function(){o(Object(F.a)({type:"workspace_create_edit",mode:"add"}))}},i.createWorkspace))))):P.a.createElement("div",{className:"spinner-container"},P.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))})),X=(t(759),t(776),t(760),t(163)),$=t(778),ee=t(26),ne=t(742),te=t(746),ae=M.a.div(i||(i=Object(R.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .nav-item {\n    display: flex;\n    .mobile-private {\n      display: none;\n    }\n    @media all and (max-width: 440px) {\n      .badge.badge-danger {\n        display: none !important;\n      }\n      .mobile-private {\n        display: block;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 991.99px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n          overflow: auto;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 165px;\n    top: 0;\n  }\n  .profile-slider svg {\n    margin: 0;\n    color: inherit;\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]))),re=M.a.ul(o||(o=Object(R.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      max-width: 80px;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    .badge {\n      display: flex;\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-eye {\n      color: inherit;\n      margin-left: 0;\n      margin-right: 0.4rem;\n      width: 11px !important;\n      height: 11px !important;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n    svg.feather-compass {\n      color: rgb(80, 80, 80);\n\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]))),ie=M.a.h2(c||(c=Object(R.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),oe=M.a.h2(s||(s=Object(R.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),ce=M.a.span(l||(l=Object(R.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),se=M.a.h3(d||(d=Object(R.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .avatar {\n    height: 2rem;\n    width: 2rem;\n    margin-right: 0.25rem;\n  }\n  svg {\n    color: #64625c;\n  }\n  .feather-lock {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),le=M.a.h3(m||(m=Object(R.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),de=Object(M.a)(U.s)(p||(p=Object(R.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n"]))),me=Object(M.a)(U.s)(u||(u=Object(R.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),pe=function(e){var n=e.isExternal,t=Object(H.bb)(),a=Object(L.c)(),r=Object(D.j)(),i=Object(L.d)((function(e){return e.workspaces.folders})),o=Object(L.d)((function(e){return e.workspaces.activeTopic})),c=Object(L.d)((function(e){return e.workspaces.workspacesLoaded})),s=Object(L.d)((function(e){return e.settings})),l=s.driff,d=s.user.GENERAL_SETTINGS.dark_mode,m=Object(L.d)((function(e){return e.session.user})),p=Object(H.gb)()._t,u={allWorkspaces:p("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),pageTitleWorkspaceReminders:p("PAGE_TITLE.WORKSPACE_REMINDERS","Reminders"),pageTitleWorkspaceDashboard:p("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:p("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:p("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:p("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:p("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:p("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:p("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:p("PAGE_TITLE.WORKSPACE_SEARCH","Search workspace"),pageTitleSettings:p("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:p("PAGE_TITLE.TODOS","Reminders"),generalSearch:p("GENERAL.SEARCH","Search"),generalNotifications:p("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:p("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===d?p("SETTINGS.DARK_MODE","dark mode"):p("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:p("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:p("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:p("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:p("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:p("WORKSPACE.STATUS_ARCHIVED","Archived"),statusNoWorkspaceExternal:p("WORKSPACE.EXTERNAL_NO_WORKSPACES","You currently don't have any workspaces."),toasterJoinWorkspace:p("TOASTER.JOIN_WORKSPACE","You have joined ::topic_name::",{topic_name:o?"<b>#{activeTopic.name}</b>":""}),withClient:p("PAGE.WITH_CLIENT","With client"),somethingWentWrong:p("TOASTER.SOMETHING_WENT_WRONG","Something went wrong!"),workspaces:p("WORKSPACES","Workspces"),buttonLeave:p("BUTTON.LEAVE","Leave"),leaveWorkspace:p("TOASTER.LEAVE_WORKSPACE","You have left #"),leaveWorkspaceHeader:p("CONFIRMATION.LEAVE_WORKSPACE_HEADER","Leave workspace"),leaveWorkspaceBody:p("CONFIRMATION.LEAVE_WORKSPACE_BODY","Are you sure that you want to leave this workspace?"),cancel:p("BUTTON.CANCEL","Cancel")},f=Object(H.ob)(),h=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};Object(I.useEffect)((function(){document.body;var e="";switch(r.params.page){case"posts":e=u.pageTitleWorkspacePosts;break;case"chat":e=u.pageTitleWorkspaceChat;break;case"files":e=u.pageTitleWorkspaceFiles;break;case"people":e=u.pageTitleWorkspacePeople;break;case"settings":e=u.pageTitleSettings;break;case"reminders":e=u.pageTitleWorkspaceReminders;break;default:e=u.pageTitleWorkspaceDashboard}o&&(o.unread_chats>=1||o.unread_posts>0?document.title="".concat(e," \u2039 * ").concat(o.name," \u2014 ").concat(l.company_name," @ Driff"):document.title="".concat(e," \u2039 ").concat(o.name," \u2014 ").concat(l.company_name," @ Driff"))}),[r.params.page,a,o,l.company_name]);var b=function(){var e={id:o.id,workspace_id:o.folder_id?o.folder_id:0,is_pinned:o.is_favourite?0:1};a(Object(ee.g)(e,(function(n,a){n?t.error(u.somethingWentWrong):e.is_pinned?t.success(p("TOASTER.ADDED_TO_FAVORITES","::title:: added to favorites",{title:o.name})):t.success(p("TOASTER.REMOVED_FROM_FAVORITES","::title:: removed from favorites",{title:o.name}))})))},E=o?o.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],g=Object(H.C)(o&&o.member_ids.length?Object(S.a)(new Set(E)):[]);return P.a.createElement(P.a.Fragment,null,P.a.createElement(ae,{className:"navbar-left"},P.a.createElement(re,{className:"navbar-nav"},"search"===r.params.page?P.a.createElement(P.a.Fragment,null,P.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},P.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:h},P.a.createElement(U.s,{icon:"menu"}))),P.a.createElement(te.a,null),P.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},P.a.createElement(U.s,{className:"mr-2",icon:"compass"}),P.a.createElement(oe,null,u.allWorkspaces))):o?P.a.createElement(P.a.Fragment,null,P.a.createElement("div",{className:"navbar-wrap"},P.a.createElement("div",{className:"navbar-top"},P.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},P.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:h},P.a.createElement(U.s,{icon:"menu"}))),P.a.createElement(te.a,null),null===o.folder_id?P.a.createElement(P.a.Fragment,null,!n&&P.a.createElement(P.a.Fragment,null,P.a.createElement("li",{className:"nav-item nav-item-folder"},P.a.createElement(ie,null,u.workspaces)),P.a.createElement("li",{className:"nav-item-chevron"},P.a.createElement(U.s,{icon:"chevron-right"}))),P.a.createElement("li",{className:"nav-item"},P.a.createElement(se,{className:"current-title"},P.a.createElement(U.a,{forceThumbnail:!1,type:o.type,imageLink:o.team_channel.icon_link,id:"ws_".concat(o.id),name:o.name,noDefaultClick:!1}),P.a.createElement(ce,null,o.name))),1===o.is_lock&&P.a.createElement("li",{className:"nav-item"},P.a.createElement(de,{icon:"lock",className:"mobile-private ml-1"}),P.a.createElement("div",{className:"badge badge-danger text-white ml-1"},u.statusWorkspacePrivate)),0===o.active&&P.a.createElement("li",{className:"nav-item"},P.a.createElement("div",{className:"badge badge-light text-white ml-1"},u.statusWorkspaceArchived)),o.is_shared&&!n&&P.a.createElement("li",{className:"nav-item"},P.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},P.a.createElement(de,{icon:"eye"})," ",u.withClient)),P.a.createElement("li",{className:"nav-item"},P.a.createElement(me,{icon:"star",isFav:o.is_favourite,onClick:b})),P.a.createElement("li",{className:"nav-item"},!n&&P.a.createElement($.b,null))):P.a.createElement(P.a.Fragment,null,!n&&P.a.createElement(P.a.Fragment,null,P.a.createElement("li",{className:"nav-item nav-item-folder"},P.a.createElement(U.s,{icon:"folder",className:"mr-1"}),P.a.createElement(ie,null,P.a.createElement(ce,null,o.folder_name,i.hasOwnProperty(o.folder_id)&&1===i[o.folder_id].is_lock&&P.a.createElement(de,{icon:"lock",strokeWidth:"2"})," "))),P.a.createElement("li",{className:"nav-item-chevron"},P.a.createElement(U.s,{icon:"chevron-right"}))),P.a.createElement("li",{className:"nav-item"},P.a.createElement(se,{className:"current-title"},P.a.createElement(U.a,{forceThumbnail:!1,type:o.type,imageLink:o.team_channel.icon_link,id:"ws_".concat(o.id),name:o.name,noDefaultClick:!1}),P.a.createElement(ce,null,o.name))),1===o.is_lock&&P.a.createElement("li",{className:"nav-item"},P.a.createElement(de,{icon:"lock",className:"mobile-private ml-1"}),P.a.createElement("div",{className:"badge badge-danger text-white ml-1"},u.statusWorkspacePrivate)),0===o.active&&P.a.createElement("li",{className:"nav-item"},P.a.createElement("div",{className:"badge badge-light text-white ml-1"},u.statusWorkspaceArchived)),o.is_shared&&!n&&P.a.createElement("li",{className:"nav-item"},P.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},P.a.createElement(de,{icon:"eye"})," ",u.withClient)),P.a.createElement("li",{className:"nav-item"},P.a.createElement(me,{icon:"star",isFav:o.is_favourite,onClick:b})),P.a.createElement("li",{className:"nav-item"},!n&&P.a.createElement($.b,null)))),P.a.createElement("div",{className:"navbar-bottom"},P.a.createElement(D.b,Object.assign({},e,{exact:!0,render:function(e){return P.a.createElement(be,Object.assign({},e,{user:m,workspace:o}))},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page"]})))),P.a.createElement("li",{className:"nav-item-last"},P.a.createElement("div",{className:"nav-item-avatars-wrap"},P.a.createElement(ne.a,{members:o.members})),g&&!n?P.a.createElement(P.a.Fragment,null,P.a.createElement("button",{onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:o};a(Object(F.a)(e))},className:"btn btn-primary",disabled:0===o.active},P.a.createElement(U.s,{icon:"user-plus"}),u.actionWorkspaceInvite),P.a.createElement("button",{onClick:function(){var e={type:"confirmation",headerText:u.leaveWorkspaceHeader,submitText:u.buttonLeave,cancelText:u.cancel,bodyText:u.leaveWorkspaceBody,actions:{onSubmit:function(){f.leave(o,m,(function(e,n){e||t.success(P.a.createElement(P.a.Fragment,null,u.leaveWorkspace,P.a.createElement("b",null,o.name)))}))}}};a(Object(F.a)(e))},className:"btn btn-danger",disabled:0===o.active},u.buttonLeave)):n?null:P.a.createElement("button",{onClick:function(){a(Object(ee.N)({channel_id:o.channel.id,recipient_ids:[m.id]},(function(e,n){e||t.success(P.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.toasterJoinWorkspace}}))})))},className:"btn btn-primary",disabled:0===o.active},P.a.createElement(U.s,{icon:"user-plus"}),u.actionWorkspaceJoin))):P.a.createElement(P.a.Fragment,null,P.a.createElement("li",{className:"nav-item"},c&&P.a.createElement(P.a.Fragment,null,"external"===m.type?P.a.createElement(P.a.Fragment,null,u.statusNoWorkspaceExternal):P.a.createElement(le,{onClick:function(){a(Object(F.a)({type:"workspace_create_edit",mode:"create"}))}},u.actionWorkspaceNewWorkspace," ",P.a.createElement(U.s,{className:"ml-2",icon:"circle-plus"}))))))),P.a.createElement("div",null,P.a.createElement(X.b,{dictionary:u})))},ue=M.a.div(f||(f=Object(R.a)([""]))),fe=M.a.ul(h||(h=Object(R.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),he=Object(M.a)(U.k)(b||(b=Object(R.a)(['\n  color: #828282;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),be=P.a.memo((function(e){var n=Object(D.g)(),t=e.className,a=void 0===t?"":t,r=e.workspace,i=e.user,o=Object(L.d)((function(e){return e.workspaces.workspaceReminders})),c=Object(D.i)(),s="undefined"!==typeof o[c.workspaceId],l=e.match.url;if("/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path)l=l.split("/post/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path)l=l.split("/folder/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:workspaceId/:workspaceName"===e.match.path&&"undefined"===typeof e.match.params.page){var d=l.split("/");d.splice(2,0,"chat"),n.push(d.join("/"))}else l=l.replace("/workspace/".concat(e.match.params.page),"");var m=Object(H.gb)()._t,p={pageTitleDashboard:m("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:m("PAGE_TITLE.POSTS","Posts"),pageTitleChat:m("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:m("PAGE_TITLE.FILES","Files"),pageTitlePeople:m("PAGE_TITLE.PEOPLE","People"),pageTitleClientChat:m("PAGE_TITLE.CLIENT_CHAT","Client chat"),pageTitleTeamChat:m("PAGE_TITLE.TEAM_CHAT","Team chat"),pageTitleReminders:m("PAGE_TITLE.REMINDERS","Reminders")};return P.a.createElement(P.a.Fragment,null,P.a.createElement(ue,{className:"".concat(a)},P.a.createElement(fe,{className:"navbar-nav"},P.a.createElement("li",{className:"nav-item"},P.a.createElement(he,{isSub:!0,to:"/workspace/dashboard".concat(l)},p.pageTitleDashboard)),(r&&"internal"===i.type&&r.is_shared||r&&"internal"===i.type&&r.team_channel.code&&r.is_shared)&&P.a.createElement("li",{className:"nav-item"},P.a.createElement(he,{isSub:!0,to:"/workspace/team-chat".concat(l)},p.pageTitleTeamChat,null!==r&&(null===r||void 0===r?void 0:r.team_unread_chats)>0&&P.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.team_unread_chats))),P.a.createElement("li",{className:"nav-item"},P.a.createElement(he,{isSub:!0,to:"/workspace/chat".concat(l)},r&&r.is_shared&&"internal"===i.type?p.pageTitleClientChat:p.pageTitleChat,null!==r&&r.unread_chats>0&&P.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_chats))),P.a.createElement("li",{className:"nav-item"},P.a.createElement(he,{isSub:!0,to:"/workspace/posts".concat(l)},p.pageTitlePosts,null!==r&&r.unread_posts>0&&P.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_posts))),P.a.createElement("li",{className:"nav-item"},P.a.createElement(he,{isSub:!0,to:"/workspace/reminders".concat(l)},p.pageTitleReminders,s&&o[c.workspaceId].count.todo_with_date>0&&P.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},o[c.workspaceId].count.todo_with_date))),P.a.createElement("li",{className:"nav-item"},P.a.createElement(he,{isSub:!0,to:"/workspace/files".concat(l)},p.pageTitleFiles)),P.a.createElement("li",{className:"nav-item"},P.a.createElement(he,{isSub:!0,to:"/workspace/people".concat(l)},p.pageTitlePeople)))))})),Ee=(t(761),t(762),t(763),t(1)),ge=t(748),ve=t.n(ge),Oe=M.a.div(E||(E=Object(R.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"]))),_e=(P.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(H.O)(),r=Object(H.rb)(),i=Object(L.d)((function(e){return e.workspaces.search})),o=Object(L.d)((function(e){return e.session.user})),c=i.count,s=i.maxPage,l=i.page,d=i.results,m=i.searching,p=i.filter_by,u=i.value;Object(I.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===u&&(r.search({search:"",skip:0,limit:25,filter_by:p},(function(e,n){e?r.updateSearch(Object(Ee.a)(Object(Ee.a)({},i),{},{searching:!1})):r.updateSearch(Object(Ee.a)(Object(Ee.a)({},i),{},{filter_by:p,searching:!1,count:n.data.total_count,results:n.data.workspaces,maxPage:Math.ceil(n.data.total_count/25)}))})),r.updateSearch(Object(Ee.a)(Object(Ee.a)({},i),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var f=Object(H.gb)()._t,h={labelResultsFor:f("LABEL.RESULTS_FOR","results found for: "),labelSearching:f("LABEL.SEARCHING","Searching "),sidebarWorkspaces:f("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:f("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:f("BUTTON.PREV_PAGE","Previous")};return P.a.createElement(Oe,{className:"user-search-panel container-fluid h-100 ".concat(t)},P.a.createElement("div",{className:"row"},P.a.createElement("div",{className:"col-md-12"},P.a.createElement("div",{className:"card"},P.a.createElement("div",{className:"card-body"},P.a.createElement(Fe,{actions:r,search:i}),""!==u?P.a.createElement("h4",{className:"mb-5"},P.a.createElement(U.s,{icon:"search"}),m&&P.a.createElement("span",null,h.labelSearching,P.a.createElement("span",{className:"text-primary"},"\u201c",u,"\u201d")),!m&&P.a.createElement("span",null,c," ",h.labelResultsFor,P.a.createElement("span",{className:"text-primary"},"\u201c",u,"\u201d"))):P.a.createElement("h4",{className:"mb-5"},d.length>0&&P.a.createElement("span",null,c," ",h.sidebarWorkspaces)),d.length>0&&P.a.createElement(Ae,{user:o,actions:r,page:l,results:d,redirect:a}),c>25&&P.a.createElement("nav",{className:"mt-3"},P.a.createElement(ve.a,{previousLabel:h.buttonPrevPage,nextLabel:h.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:s,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1;d.length===c?r.updateSearch(Object(Ee.a)(Object(Ee.a)({},i),{},{filter_by:p,page:n})):(d.length<25*n&&r.search({search:u,skip:d.length,limit:25*n-d.length,filter_by:p},(function(e,t){e?r.updateSearch(Object(Ee.a)(Object(Ee.a)({},i),{},{searching:!1,filter_by:p})):r.updateSearch(Object(Ee.a)(Object(Ee.a)({},i),{},{searching:!1,filter_by:p,count:t.data.total_count,results:[].concat(Object(S.a)(t.data.workspaces),Object(S.a)(d)),maxPage:Math.ceil(t.data.total_count/25),page:n}))})),r.updateSearch(Object(Ee.a)(Object(Ee.a)({},i),{},{filter_by:p,value:u,searching:!0,page:n})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))})),t(16)),we=M.a.li(g||(g=Object(R.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  :hover {\n    button {\n      display: inline-flex;\n    }\n  }\n"]))),ke=M.a.button(v||(v=Object(R.a)(["\n  margin-left: auto;\n  display: none;\n"]))),ye=Object(M.a)(U.s)(O||(O=Object(R.a)(["\n  width: 1rem;\n  height: 1rem;\n  stroke-width: 2px;\n"]))),Ne=Object(M.a)(U.s)(_||(_=Object(R.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  stroke-width: 3px;\n  margin-right: 3px;\n  margin-bottom: 0.1rem;\n"]))),xe=Object(M.a)(U.s)(w||(w=Object(R.a)(["\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n"]))),Te=function(e){var n=e.dictionary,t=e.onJoinWorkspace,a=e.onLeaveWorkspace,r=e.item,i=e.redirect,o=e.workspaces,c=r.topic,s=r.workspace,l=r.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat(),d=Object(H.C)(Object(S.a)(new Set(l)));return P.a.createElement(we,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:c.id,name:c.name,folder_id:s?s.id:null,folder_name:s?s.name:null};o.hasOwnProperty(c.id)?i.toWorkspace(e):i.fetchWorkspaceAndRedirect(e)}},P.a.createElement("div",{className:"workspace-search-detail"},P.a.createElement("div",{className:"workspace-title-status"},P.a.createElement("h5",null,c.name),c.is_locked&&P.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelPrivate),c.is_archive&&P.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelArchived),!c.is_archive&&!c.is_locked&&P.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelOpen),c.is_shared&&P.a.createElement("span",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},P.a.createElement(xe,{icon:"eye"})," ",n.externalAccess)),P.a.createElement("ul",{className:"workspace-detail-lists"},d&&P.a.createElement("li",{className:"text-success"},P.a.createElement(ye,{icon:"check"}),n.labelJoined),P.a.createElement("li",null,r.members.length," ",1===r.members.length?n.member:n.members),P.a.createElement("li",null,P.a.createElement(Ne,{icon:"folder"}),s?s.name:"Workspaces"),P.a.createElement("li",null,Object(_e.j)(c.description)))),d?P.a.createElement(ke,{onClick:function(e){e.stopPropagation(),a(r)},className:"btn btn-primary join-button"},n.buttonLeave):P.a.createElement(ke,{onClick:function(e){e.stopPropagation(),t(r)},className:"btn btn-primary join-button"},P.a.createElement(U.s,{icon:"user-plus"}),n.buttonJoin))},je=t(15),Ae=function(e){var n=e.actions,t=e.page,a=e.results,r=e.redirect,i=e.user,o=Object(L.c)(),c=Object(L.d)((function(e){return e.workspaces.workspaces})),s=Object(H.bb)(),l=Object(H.gb)()._t,d={labelArchived:l("LABEL.ARCHIVED","Archived"),labelPrivate:l("LABEL.PRIVATE","Private"),labelOpen:l("LABEL.OPEN","Open"),labelJoined:l("LABEL.JOINED","Joined"),sidebarWorkspaces:l("SIDEBAR.WORKSPACES","Workspaces"),member:l("LABEL.MEMBER","member"),members:l("LABEL.MEMBERS","members"),buttonJoin:l("BUTTON.JOIN","Join"),buttonLeave:l("BUTTON.LEAVE","Leave"),leaveWorkspace:l("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:l("TOASTER.JOIN_WORKSPACE","You have joined #"),externalAccess:l("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access")},m=function(e){var t={channel_id:e.channel.id,recipient_ids:[i.id]};n.join(t,(function(n,t){n||(!function(e){var n={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};c.hasOwnProperty(e.topic.id)?r.toWorkspace(n):r.fetchWorkspaceAndRedirect(n)}(e),s.success(P.a.createElement(P.a.Fragment,null,d.joinWorkspace,P.a.createElement("b",null,e.topic.name))))}))},p=function(e){if(1===e.members.length&&e.topic.is_locked){var n={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};o(Object(je.pb)(n))}else{var t={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[i.id]};t.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:i.id,name:i.name,first_name:i.first_name,partial_name:i.partial_name,profile_image_link:i.profile_image_thumbnail_link?i.profile_image_thumbnail_link:i.profile_image_link},title:"",added_members:[],removed_members:[i.id]}));o(Object(ee.P)({workspace_id:e.topic.id,channel_id:e.channel.id},(function(n,t){n||s.success(P.a.createElement(P.a.Fragment,null,d.leaveWorkspace,P.a.createElement("b",null,e.topic.name)))}))),o(Object(ee.X)(t))}};return P.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},P.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},P.a.createElement("ul",{className:"list-group list-group-flush"},a.sort((function(e,n){return e.topic.name.localeCompare(n.topic.name)})).slice(t>1?25*t-25:0,25*t).map((function(e){return P.a.createElement(Te,{key:e.topic.id,dictionary:d,onJoinWorkspace:m,onLeaveWorkspace:p,item:e,redirect:r,workspaces:c})})))))},Ce=t(7),Se=t(19),Re=M.a.div(k||(k=Object(R.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"])),""),Ie=Object(M.a)(U.s)(y||(y=Object(R.a)(["\n  stroke-width: 2px;\n"]))),Pe=M.a.div(N||(N=Object(R.a)([""]))),Le=M.a.div(x||(x=Object(R.a)(["\n  margin-bottom: 5px;\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n"]))),De=M.a.ul(T||(T=Object(R.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  label {\n    margin: 0;\n  }\n  .custom-control {\n    min-height: 1rem;\n  }\n"]))),Me=M.a.div(j||(j=Object(R.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"])),(function(e){return e.maxHeight})),Fe=function(e){var n=e.actions,t=e.search,a=t.value,r=t.searching,i=t.filterBy,o=t.filters,c=Object(I.useState)(a),s=Object(Ce.a)(c,2),l=s[0],d=s[1],m=Object(I.useState)(i),p=Object(Ce.a)(m,2),u=p[0],f=p[1],h=Object(I.useState)(o),b=Object(Ce.a)(h,2),E=b[0],g=b[1],v=function(){n.search({search:l,skip:0,limit:25,filter_by:u},(function(e,a){e?n.updateSearch(Object(Ee.a)(Object(Ee.a)({},t),{},{searching:!1})):n.updateSearch(Object(Ee.a)(Object(Ee.a)({},t),{},{value:l,filter_by:u,searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25),page:1}))})),n.updateSearch({results:[],value:l,filter_by:u,searching:!0})},O=function(){n.updateSearch({results:[],searching:!0,value:"",filter_by:"",page:1,maxPage:1,count:0}),n.search({search:"",skip:0,limit:25,filter_by:""},(function(e,a){e?n.updateSearch(Object(Ee.a)(Object(Ee.a)({},t),{},{searching:!1,value:"",filter_by:""})):n.updateSearch(Object(Ee.a)(Object(Ee.a)({},t),{},{value:"",filter_by:"",searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25)}))})),d("")},_=function(e){var n=e.target.dataset.name;g((function(e){return function(e,n){f((function(t){return e[n].checked?"":n})),e[n].checked=!e[n].checked;var t=Object.values(e).reduce((function(e,t){return n!==t.key&&(t.checked=!1,e[t.key]=Object(Ee.a)({},t)),e}),{});return Object(Ee.a)(Object(Ee.a)({},e),t)}(e,n)}))};Object(I.useEffect)((function(){Object.values(E).map((function(e){return e.checked})).includes(!0)&&!r||a?n.updateSearch({results:[],value:l,filter_by:u,searching:!0},(function(){v()})):O()}),[u]),Object(I.useEffect)((function(){d(a)}),[a]);var w=Object(H.gb)()._t,k={searchWorkspaceSearchPlaceholder:w("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:w("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:w("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:w("WORKSPACE.PRIVATE","Private"),archived:w("WORKSPACE.ARCHIVED","Archived"),nonMember:w("WORKSPACE.NON_MEMBER","Non Member"),new:w("WORKSPACE.NEW","New"),external:w("WORKSPACE.EXTERNAL","External")};return P.a.createElement(Re,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},P.a.createElement("div",{className:"container"},P.a.createElement("div",{className:"row d-flex justify-content-center"},P.a.createElement("h2",{className:"mb-4 text-center"},k.searchWorkspaceSearchTitle),P.a.createElement("div",{className:"input-group"},P.a.createElement(Pe,{className:"input-wrap"},P.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==a?O():d(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||r||v()},type:"text",className:"form-control",placeholder:k.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:l}),""!==l.trim()&&P.a.createElement("button",{className:"btn-cross",type:"button",onClick:O},P.a.createElement(Ie,{icon:"x"}))),P.a.createElement("div",{className:"input-group-append"},P.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:v},P.a.createElement(U.s,{icon:"search"})))),P.a.createElement(Me,{className:"enter-active"},P.a.createElement("div",{className:"row d-flex justify-content-center my-3"},P.a.createElement(Le,{className:"px-3"},P.a.createElement(U.s,{icon:"sliders"})),P.a.createElement(De,{className:"d-flex"},Object.values(E).map((function(e){return P.a.createElement("li",{className:"d-flex align-items-center mr-2",key:e.key},P.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success"},P.a.createElement(Se.a,{name:e.key,checked:e.checked,type:"danger",onClick:_})),P.a.createElement("span",null,k[e.key]))}))))))))},Ue=(t(764),M.a.li(A||(A=Object(R.a)(["\n  cursor: pointer;\n  &.list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n"])))),He=P.a.memo((function(e){var n=e.folder,t=e.filterByFolder,a=Object(L.c)();return P.a.createElement(Ue,{className:"list-group-item d-flex align-items-center ".concat(t&&t.id===n.id&&"active"),onClick:function(){a(Object(ee.cb)({filterByFolder:n,filterBy:""}))}},P.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),n.name,P.a.createElement("span",{className:"small ml-auto"},n.workspaces.length>0&&n.workspaces.length))})),We=M.a.div(C||(C=Object(R.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),ze=P.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(L.d)((function(e){return e.workspaces.allFolders})),r=Object(L.d)((function(e){return e.workspaces.search.filterByFolder}));return P.a.createElement(We,{className:"list-group list-group-flush ".concat(t)},Object.values(a).sort((function(e,n){return e.workspaces.length===n.workspaces.length?e.name.localeCompare(n.name):n.workspaces.length-e.workspaces.length})).map((function(e){return P.a.createElement(He,{folder:e,filterByFolder:r,key:e.id})})))}))},752:function(e,n,t){"use strict";t.r(n);var a,r=t(10),i=t(0),o=t.n(i),c=t(9),s=t(773),l=c.a.div(a||(a=Object(r.a)(["\n  .chat-sidebar-panel {\n    //max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    flex: 1 1 auto;\n    // @media (min-width: 1920px) {\n    //   max-width: calc(100% - 540px);\n    // }\n  }\n  @media (max-width: 1550px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n  .row {\n    flex-wrap: unset;\n  }\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n;return null!==localStorage.getItem("chat_translate_change")&&(localStorage.removeItem("chat_translate_change"),window.location.reload()),o.a.createElement(l,{className:"company-chat ".concat(t)},o.a.createElement("div",{className:"row no-gutters chat-block"},o.a.createElement(s.h,{className:"col-lg-4 chat-sidebar-panel"}),o.a.createElement(s.a,{className:"col-lg-8 chat-content-panel"})))}},754:function(e,n,t){"use strict";t.r(n);var a,r=t(10),i=t(0),o=t.n(i),c=t(9),s=t(11),l=t(780),d=t(163),m=c.a.div(a||(a=Object(r.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.match,r=e.actions,i=a.params,c=Object(s.gb)()._t,p=Object(s.i)(),u=p.timelineInit,f=p.timelineItems,h=p.recentPostsInit,b=Object(s.k)().posts,E=window.innerWidth,g={aboutThisWorkspace:c("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:c("TEAM","Team"),timeline:c("TIMELINE","Timeline"),noRecentPosts:c("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:c("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:c("FILE_ATTACHMENTS","File attachments"),attachedFile:c("ATTACHED_A_FILE","attached a file"),sharedThePost:c("SHARED_THE_POST","shared the post"),hasJoined:c("TIMELINE.HAS_JOINED","has joined"),hasLeft:c("TIMELINE.HAS_LEFT","has left"),youJoined:c("TIMELINE.YOU_JOINED","You joined"),youLeft:c("TIMELINE.YOU_LEFT","You left"),isAdded:c("TIMELINE.IS_ADDED","is added"),isRemoved:c("TIMELINE.IS_REMOVED","is removed"),createdThePost:c("TIMELINE.CREATED_POST","created the post"),isAddedToCompany:c("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company"),updatedWorkspaceTo:c("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:c("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:c("TEAM.REVOKE_APPROVER","Assign as approver"),remove:c("TEAM.REMOVE","Remove"),showMore:c("SHOW_MORE","Show more"),showLess:c("SHOW_LESS","Show less")};return o.a.createElement(m,{className:"container-fluid h-100 fadeIn ".concat(t)},o.a.createElement("div",{className:"row"},E>620?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-6"},o.a.createElement(d.a,{init:u,timeline:f,actions:r,params:i,dictionary:g})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(l.a,{dictionary:g}),o.a.createElement(l.b,{posts:b,dictionary:g}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-12"},o.a.createElement(l.a,{dictionary:g}),o.a.createElement(l.b,{init:h,posts:b,dictionary:g}),o.a.createElement(d.a,{init:u,timeline:f,actions:r,params:i,dictionary:g})))))}))},755:function(e,n,t){"use strict";var a,r,i,o=t(7),c=t(10),s=t(0),l=t.n(s),d=t(9),m=t(89),p=t.n(m),u=t(4),f=t(14),h=t(17),b=t(19),E=d.a.div(a||(a=Object(c.a)(["\n  width: 40px;\n  height: 46px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  .feather {\n    cursor: pointer;\n  }\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n  &.btn-approver {\n    padding-top: 16px;\n  }\n"]))),g=d.a.div(r||(r=Object(c.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    .btn-approver {\n      padding-top: 13px;\n    }\n    min-width: ",";\n    .btn-approver,\n    .btn-image,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"])),(function(e){return e.editMode?"200px":"160px"}),(function(e){return e.showButtons&&e.editMode?"180px":e.showButtons?"150px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),v=Object(d.a)(b.a)(i||(i=Object(c.a)(["\n  display: inline-block;\n"])));n.a=function(e){var n=e.parentId,t=e.showEmojiPicker,a=e.handleShowEmojiPicker,r=e.onShowFileDialog,i=e.editPostComment,c=e.handleQuillImage,d=e.showApprover,m=e.toggleApprover,b=e.mainInput,O=e.disableButtons,_=e.commentType,w=e.dictionary,k=Object(u.c)(),y=Object(s.useState)(!1),N=Object(o.a)(y,2),x=N[0],T=N[1],j=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return l.a.createElement(g,{editMode:null!==i,showButtons:x},i&&b&&l.a.createElement(E,null,l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:j,content:w.closeEdit},l.a.createElement(f.s,{className:"close-button",icon:"x",onClick:function(){null!==i&&k(Object(h.Sb)(null))}}))),l.a.createElement(E,{className:"btn-approver"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:j,content:w.selectApprover},l.a.createElement(v,{name:"approve",checked:d,onClick:m,disabled:O}))),l.a.createElement(E,{className:"btn-smile"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:j,content:"Emoji"},l.a.createElement(f.s,{className:"".concat(t?"active":""),onClick:a,icon:"smile"}))),l.a.createElement(E,{className:"btn-image"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:j,content:w.images},l.a.createElement(f.s,{icon:"image",onClick:c}))),l.a.createElement(E,{className:"btn-paperclip"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:j,content:w.attachFiles},l.a.createElement(f.s,{onClick:function(){O||r(n,_)},icon:"paperclip"}))),l.a.createElement(E,{className:"chat-buttons"},l.a.createElement(f.s,{onClick:function(){T((function(e){return!e}))},icon:x?"x":"more-vertical"})))}},756:function(e,n,t){"use strict";var a,r,i,o,c,s,l=t(25),d=t(10),m=t(0),p=t.n(m),u=t(9),f=t(37),h=t(4),b=t(23),E=t(58),g=["className","file","cbFilePreview","dictionary"],v=u.a.div(a||(a=Object(d.a)(["\n  position: relative;\n  border: 1px solid #ddd;\n  background-color: transparent;\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n  border-radius: 8px;\n"]))),O=u.a.div(r||(r=Object(d.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),_=u.a.img(i||(i=Object(d.a)(["\n  &.img-error {\n    background-image: none;\n    padding: 2.8rem 3rem;\n  }\n"]))),w=u.a.video(o||(o=Object(d.a)(["\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n"]))),k=u.a.div(c||(c=Object(d.a)(["\n  border-radius: 8px;\n  cursor: pointer;\n\n  > img {\n    border: 1px solid #ddd;\n    border-radius: inherit;\n    object-fit: cover;\n    max-height: 150px;\n    min-height: 150px;\n    max-width: 200px;\n    min-width: 200px;\n    @media (max-width: 380px) {\n      min-width: auto;\n      min-height: auto;\n    }\n  }\n"]))),y=u.a.div(s||(s=Object(d.a)(["\n  .card {\n    margin-bottom: 0;\n    min-width: 180px;\n    @media (max-width: 380px) {\n      min-width: auto;\n    }\n  }\n  > img {\n    width: 30px;\n  }\n"])));n.a=p.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.file,i=e.cbFilePreview,o=e.dictionary,c=Object(l.a)(e,g);"undefined"===typeof r.type&&(r.type=r.mime_type);var s=Object(h.c)(),d=Object(m.useRef)(),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"trashed"===e?p.a.createElement("i",{class:"fa fa-exclamation-triangle text-danger"}):e.includes("image")?p.a.createElement("i",{className:"fa fa-file-image-o text-instagram"}):e.includes("audio")?p.a.createElement("i",{className:"fa fa-file-audio-o text-dark"}):e.includes("video")?p.a.createElement("i",{className:"fa fa-file-video-o text-google"}):e.includes("pdf")?p.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"}):e.includes("zip")||e.includes("archive")||e.includes("x-rar")?p.a.createElement("i",{className:"fa fa-file-zip-o text-primary"}):e.includes("word")||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e?p.a.createElement("i",{className:"fa fa-file-word-o text-info"}):e.includes("excel")||e.includes("spreadsheet")||e.includes("csv")||e.includes("numbers")||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?p.a.createElement("i",{className:"fa fa-file-excel-o text-success"}):e.includes("powerpoint")||e.includes("presentation")?p.a.createElement("i",{className:"fa fa-file-powerpoint-o text-secondary"}):e.includes("script")?p.a.createElement("i",{className:"fa fa-file-code-o"}):p.a.createElement("i",{className:"fa fa-file-text-o text-warning"}):p.a.createElement("i",{className:"fa fa-file-text-o text-warning"})},N=Object(h.d)((function(e){return e.files.fileThumbnailBlobs}));Object(m.useEffect)((function(){!N[r.id]&&r.type.toLowerCase().includes("image")&&E.sessionService.loadSession().then((function(e){var n=e.token;fetch(r.thumbnail_link,{method:"GET",keepalive:!0,headers:{Authorization:n,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(e){var n=URL.createObjectURL(e);!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};s(Object(b.qb)(e,n))}({id:r.id,src:n})})).catch((function(e){console.log(e,"error fetching image")}))}))}),[]);var x="trashed"===r.file_type;return p.a.createElement(k,Object.assign({onClick:function(e){"trashed"!==r.type&&i(e,r)},className:"file-pill ".concat(a)},c),x?p.a.createElement(y,null,p.a.createElement("div",{className:"card app-file-list"},p.a.createElement("div",{className:"app-file-icon"},u("trashed")),p.a.createElement("div",{className:"p-2 small"},p.a.createElement("div",null,o&&o.fileAutomaticallyRemoved)))):"image"===r.type.toLowerCase()?p.a.createElement(p.a.Fragment,null,p.a.createElement(v,{className:N[r.id]?"d-none":""},p.a.createElement(O,{className:"img-loader"})),p.a.createElement(_,{ref:d,"data-attempt":0,className:N[r.id]?"":"d-none",onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(f.a)({isDNS:!0}),"/file-view-attempt/").concat(r.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=t(744))},height:150,src:N[r.id]?N[r.id]:r.view_link?r.view_link:"",alt:r.filename?r.filename:r.search,title:r.filename?r.filename:r.search})):r.type.toLowerCase().includes("video")?p.a.createElement(p.a.Fragment,null,p.a.createElement(w,{"data-attempt":0,width:"320",height:"240",controls:!0,playsInline:!0,onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(f.a)({isDNS:!0}),"/file-view-attempt/").concat(r.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp&&(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime()))}},p.a.createElement("source",{src:r.view_link,type:r.type}),"Your browser does not support the video tag.")):p.a.createElement(y,null,p.a.createElement("div",{className:"card app-file-list"},p.a.createElement("div",{className:"app-file-icon"},u(r.type)),p.a.createElement("div",{className:"p-2 small"},p.a.createElement("div",null,r.filename?r.filename:r.search)))))}))},757:function(e,n,t){"use strict";t.r(n);var a,r,i=t(7),o=t(10),c=t(0),s=t.n(c),l=t(45),d=t(9),m=t(164),p=t(11),u=t(740),f=t(16),h=t(826),b=t(779),E=d.a.div(a||(a=Object(o.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n    overflow: unset;\n  }\n  .card-body {\n    overflow: auto;\n  }\n"]))),g=Object(d.a)(m.a)(r||(r=Object(o.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"])));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(p.jb)(),r=a.users,o=a.loggedUser,d=a.selectUserChannel,m=Object(l.g)(),v=Object(c.useState)(""),O=Object(i.a)(v,2),_=O[0],w=O[1],k=Object(c.useState)(!0),y=Object(i.a)(k,2),N=y[0],x=y[1],T=Object(c.useState)(!1),j=Object(i.a)(T,2),A=j[0],C=j[1],S={search:Object(c.useRef)()},R=function(e){m.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},I=function(e){return d(e)};Object(c.useEffect)((function(){S.search.current.focus()}),[]);var P=Object.values(r).sort((function(e,n){return e.name.toString().localeCompare(n.name)})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot","huddle_bot"].includes(e.email)&&("internal"===e.type&&(1===e.active&&!(""!==_&&!A&&-1===e.name.toLowerCase().search(_.toLowerCase())&&-1===e.email.toLowerCase().search(_.toLowerCase()))))})),L=Object(p.gb)()._t,D={searchPeoplePlaceholder:L("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:L("PEOPLE.EXTERNAL","External"),peopleInvited:L("PEOPLE.INVITED","Invited"),structureView:L("PEOPLE.STRUCTURE_VIEW_TOGGLE","Structure view"),peopleView:L("PEOPLE.PEOPLE_VIEW_TOGGLE","People view")};return s.a.createElement(E,{className:"workspace-people container-fluid h-100 ".concat(t)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"people-header"},s.a.createElement("div",{className:"d-flex align-items-center people-search"},s.a.createElement(g,{ref:S.search,value:_,closeButton:"true",onClickEmpty:function(){w("")},placeholder:D.searchPeoplePlaceholder,onChange:function(e){w(e.target.value)},autoFocus:!0}),s.a.createElement(h.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:N,id:"people_view",name:"people_view",type:"switch",onChange:function(){x(!N),C(!A)},"data-success-message":"".concat(N?"Inactive users are shown":"Inactive users are no longer visible"),label:s.a.createElement("span",null,D.peopleView)}),s.a.createElement(h.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:A,id:"structure_view",name:"structure_view",type:"switch",onChange:function(){C(!A),x(!N)},label:s.a.createElement("span",null,D.structureView)}))),A&&s.a.createElement(b.c,{users:P}),N&&s.a.createElement("div",{className:"row"},P.map((function(e){return s.a.createElement(u.a,{loggedUser:o,key:e.id,user:e,onNameClick:R,onChatClick:I,dictionary:D})}))))))}))},758:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l=t(7),d=t(10),m=t(0),p=t.n(m),u=t(45),f=t(9),h=t(14),b=t(11),E=t(775),g=t(79),v=f.a.div(a||(a=Object(d.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),O=f.a.span(r||(r=Object(d.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),_=f.a.div(i||(i=Object(d.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),w=f.a.div(o||(o=Object(d.a)(["\n  //text-align: right;\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),k=Object(f.a)(h.s)(c||(c=Object(d.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),y=f.a.div(s||(s=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n,a=Object(u.i)(),r=Object(u.g)(),i=Object(b.bb)(),o=Object(b.k)(),c=o.actions,s=o.fetchMore,d=o.posts,f=o.filter,N=o.tag,x=o.postListTag,T=o.sort,j=o.post,A=o.user,C=o.search,S=o.count,R=o.postLists,I=o.counters,P=Object(m.useState)(!1),L=Object(l.a)(P,2),D=L[0],M=L[1],F=Object(m.useState)(!1),U=Object(l.a)(F,2),H=U[0],W=U[1],z=Object(m.useState)({}),B=Object(l.a)(z,2),G=B[0],V=B[1],Y="external"===A.type,K=Object(m.useRef)(!0),q=function(){a.hasOwnProperty("postId")&&r.push("/posts")},Z=Object(b.gb)()._t,J={createNewPost:Z("POST.CREATE_NEW_POST","Create new post"),all:Z("POST.ALL","All"),inbox:Z("POST.INBOX","Inbox"),newReply:Z("POST.NEW_REPLY","New reply"),myPosts:Z("POST.MY_POSTS","My sent posts"),starred:Z("POST.STARRED","Starred"),archived:Z("POST.ARCHIVED","Archived"),draft:Z("POST.DRAFT","Draft"),drafts:Z("POST.DRAFTS","Drafts"),category:Z("POST.CATEGORY","Category"),replyRequired:Z("POST.REPLY_REQUIRED","Reply required"),mustRead:Z("POST.MUST_READ","Must read"),noReplies:Z("POST.NO_REPLIES","No replies"),sortBy:Z("POST.SORT_BY","Sort by"),starredFavorite:Z("POST.STARRED_FAVORITE","Starred / Favorite"),recent:Z("POST.RECENT","Recent"),unread:Z("POST.UNREAD","Unread"),searchPost:Z("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:Z("POST.MARK_AS_READ","Mark as read"),markAsUnread:Z("POST.MARK_AS_UNREAD","Mark as unread"),share:Z("POST.SHARE","Share"),snooze:Z("POST.SNOOZE","Snooze"),follow:Z("POST.FOLLOW","Follow"),unFollow:Z("POST.UNFOLLOW","Unfollow"),files:Z("POST.FILES","Files"),comment:Z("POST.COMMENT","Comment"),editPost:Z("POST.EDIT_POST","Edit post"),editReply:Z("POST.EDIT_REPLY","Edit reply"),removeReply:Z("POST.REMOVE_REPLY","Remove reply"),quote:Z("POST.QUOTE","Quote"),mentionUser:Z("POST.MENTION_USER","Mention user"),remindMeAboutThis:Z("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:Z("POST.SEARCH_RESULT","Search Result:"),searchResults:Z("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:Z("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:Z("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:Z("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:Z("POST.PRIVATE","Private"),by:Z("POST.BY","by"),star:Z("POST.STAR","Mark with star"),unStar:Z("POST.UNSTAR","Unmark star"),alreadyReadThis:Z("POST.ALREADY_READ_THIS","I've read this"),me:Z("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:Z("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:Z("SHOW_MORE","Show more"),showLess:Z("SHOW_LESS","Show less"),markAll:Z("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:Z("POST.ARCHIVE_ALL","Archive all"),noComment:Z("POST.NO_COMMENT","no comment"),oneComment:Z("POST.ONE_COMMENT","1 comment"),comments:Z("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:Z("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:Z("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Z("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:Z("POST.ARCHIVE","Archive"),requestChange:Z("POST.REQUEST_CHANGE","Request for change"),accept:Z("POST.ACCEPT","Accept"),hasAcceptedProposal:Z("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:Z("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:Z("POST.ACTION_NEEDED","Action needed"),changeRequested:Z("POST.CHANGE_REQUESTED","Change requested"),accepted:Z("POST.ACCEPTED","Accepted"),requestForApproval:Z("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:Z("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:Z("POST.REPLIES_CLOSED","Replies closed"),openThisPost:Z("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:Z("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:Z("POST.REOPEN","Reopen"),closed:Z("POST.CLOSED","Closed"),createNewList:Z("POST.CREATE_NEW_LIST","New List"),addToList:Z("POST.ADD_TO_LIST","Add to list"),removeToList:Z("POST.REMOVE_TO_LIST","Remove to list"),allOthers:Z("POST.ALL_OTHERS","All others"),sharedClientBadge:Z("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:Z("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:Z("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:Z("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:Z("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:Z("BUTTON.SELECT_ALL","Select all"),remove:Z("BUTTON.REMOVE","Remove"),errorLoadingPost:Z("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:Z("POST.IN_PROGRESS","In progress"),teamLabel:Z("TEAM","Team")},Q=Object(m.useMemo)((function(){var e=Object(g.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&W(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(m.useEffect)((function(){H&&(""!==C||j||(M(!0),s((function(e,n){K.current&&(M(!1),W(!1))}))))}),[H]),Object(m.useEffect)((function(){return c.getUnreadNotificationEntries({add_unread_comment:1}),function(){c.getUnreadNotificationEntries({add_unread_comment:1}),K.current=null}}),[]),Object(m.useEffect)((function(){a.postId&&!j&&c.fetchPostDetail({post_id:parseInt(a.postId)},(function(e,n){if(K.current&&e){c.setCompanyFilterPosts({filter:"inbox",tag:null}),r.push("/posts"),i.error(J.errorLoadingPost)}}))}),[a.postId,j]),Object(m.useEffect)((function(){if(x){var e=Object(g.find)(R,(function(e){return parseInt(e.id)===parseInt(x)}));if(R.map((function(n){e&&parseInt(x)===n.id&&V(n)})),!e){V(R[0]);var n={tag:null,postListTag:R[0].id,filter:null};c.setCompanyFilterPosts(n)}}}),[x,R]);return null===d?p.a.createElement(p.a.Fragment,null):p.a.createElement(v,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:Q},p.a.createElement("div",{className:"row app-block"},p.a.createElement(E.k,{filter:f,tag:N,postListTag:x,postActions:c,count:S,postLists:R,counters:I,onGoBack:q,dictionary:J}),p.a.createElement("div",{className:"col-md-9 app-content"},p.a.createElement("div",{className:"app-content-overlay"}),!j&&p.a.createElement(E.f,{activeSort:T,search:C,dictionary:J,className:"mb-3"}),!!x&&p.a.createElement(w,null,p.a.createElement("span",null,"Filter:"),p.a.createElement(O,{className:"ml-2 recipients"},p.a.createElement("span",{className:"receiver"},p.a.createElement("span",{onClick:function(){c.setCompanyFilterPosts({tag:null,filter:"all"})}},p.a.createElement(k,{icon:"x",className:"mr-1"})),G.name))),0!==d.length||""!==C||a.hasOwnProperty("postId")?p.a.createElement(p.a.Fragment,null,j&&a.hasOwnProperty("postId")?p.a.createElement("div",{className:"card card-body app-content-body"},p.a.createElement(_,{className:"fadeBottom"},p.a.createElement(E.c,{post:j,posts:d,filter:f,postActions:c,user:A,history:r,onGoBack:q,dictionary:J,isExternalUser:Y}))):!j&&a.hasOwnProperty("postId")?p.a.createElement(y,{className:"card initial-load"},p.a.createElement(h.j,null)):p.a.createElement(E.l,{actions:c,dictionary:J,filter:f,isExternalUser:Y,loading:D,posts:d,search:C,user:A})):p.a.createElement(E.m,{actions:c,dictionary:J}),p.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},759:function(e,n,t){"use strict";t.r(n);var a,r,i,o=t(7),c=t(10),s=t(0),l=t.n(s),d=t(9),m=t(4),p=t(773),u=t(45),f=t(14),h=t(26),b=t(11),E=d.a.div(a||(a=Object(c.a)([""]))),g=d.a.div(r||(r=Object(c.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]))),v=d.a.div(i||(i=Object(c.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=Object(u.j)(),i=Object(m.c)(),c=Object(m.d)((function(e){return e.chat.selectedChannel})),d=Object(m.d)((function(e){return e.session.user})),O=Object(s.useState)(!1),_=Object(o.a)(O,2),w=_[0],k=_[1];Object(b.r)();return l.a.createElement(E,{className:"workspace-chat container-fluid ".concat(t)},l.a.createElement(g,{className:"row no-gutters chat-block"},a&&!a.team_channel.code&&r.path.startsWith("/workspace/team-chat/")&&"internal"===d.type&&l.a.createElement(v,null,l.a.createElement(f.q,{icon:3,height:252}),l.a.createElement("button",{className:"btn btn-outline-primary btn-block",disable:w,onClick:function(){w||(k(!0),i(Object(h.d)({id:a.id},(function(e,n){k(!1)}))))}},w?"Activating...":"Activate chat")),(r.path.startsWith("/workspace/chat")&&c&&a.is_shared&&c.id===a.channel.id||r.path.startsWith("/workspace/chat")&&c&&!a.is_shared&&c.id===a.team_channel.id||r.path.startsWith("/workspace/team-chat")&&a&&a.team_channel.code&&"internal"===d.type&&c&&c.id===a.team_channel.id)&&l.a.createElement(p.a,{className:"col-lg-12",isWorkspace:!0,selectedChannel:c})))}},760:function(e,n,t){"use strict";t.r(n);var a,r=t(7),i=t(10),o=t(0),c=t.n(o),s=t(4),l=t(45),d=t(9),m=t(13),p=t(11),u=t(743),f=d.a.div(a||(a=Object(i.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"])));n.default=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,i=e.workspace,d=Object(s.c)(),h=Object(l.g)(),b=Object(p.gb)()._t,E=Object(p.t)(!0),g=E.params,v=E.wsFiles,O=E.actions,_=E.topic,w=E.fileIds,k=E.folders,y=E.folder,N=E.subFolders;Object(p.r)();var x=Object(o.useState)(""),T=Object(r.a)(x,2),j=T[0],A=T[1],C=Object(o.useState)(""),S=Object(r.a)(C,2),R=S[0],I=S[1],P={dropZone:Object(o.useRef)(null)},L=!1;i&&0===i.active&&(L=!0);var D=function(){O.search(R)},M=function(){I(""),O.clearSearch()},F={createFolder:b("CREATE_FOLDER","Create folder"),create:b("CREATE","Create"),updateFolder:b("UPDATE_FOLDER","Update folder"),update:b("UPDATE","Update"),editFolder:b("EDIT_FOLDER","Edit folder"),removeFolder:b("REMOVE_FOLDER","Remove folder"),renameFolder:b("RENAME.FOLDER","Rename folder"),folderInfo:b("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:b("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:b("ADD","Add"),favorite:b("FAVORITE","Favorite"),file:b("FILE","File"),folder:b("FOLDER","Folder"),folderName:b("FOLDER_NAME","Folder name"),folders:b("FOLDERS","Folders"),allFiles:b("FILES.ALL_FILES","All files"),recentlyEdited:b("FILES.RECENTLY_EDITED","Recently edited"),removed:b("FILES.REMOVED","Removed"),searchInputPlaceholder:b("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:b("UPLOAD_FILES","Upload files"),driveLink:b("BUTTON.DRIVE_LINK","Drive link")},U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",t={type:"files_folder",folder:"create"===n?null:e,params:g,mode:n,topic_id:_.id,parentFolder:y||null};d(Object(m.a)(t))},H=function(){A("")};return Object(o.useEffect)((function(){y&&y.is_archived&&"removed"!==j&&A("removed")}),[y,j,A]),c.a.createElement(f,{className:"container-fluid h-100 fadeIn ".concat(t)},c.a.createElement("div",{className:"row app-block"},"undefined"===typeof v||null===v?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(u.k,{actions:O,isMember:a,clearFilter:H,params:g,dropZoneRef:P.dropZone,className:"col-lg-3",filterFile:function(e){if(g.hasOwnProperty("fileFolderId")){var n=h.location.pathname.split("/folder/")[0];h.push(n)}A(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:j,wsFiles:v,folders:k,activeFolder:y,dictionary:F,disableOptions:L,workspace:i}),c.a.createElement("div",{className:"col-md-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(u.j,{isMember:a,clearFilter:H,dropZoneRef:P.dropZone,history:h,params:g,onSearch:D,onSearchChange:function(e){""===e.target.value&&M(),I(e.target.value)},onEnter:function(e){"Enter"===e.key&&D()},wsFiles:v,handleAddEditFolder:U,folders:k,dictionary:F,disableOptions:L,onClickEmpty:M,value:R}),c.a.createElement(u.h,{dropZoneRef:P.dropZone,filter:j,search:R,folders:k,folder:y,fileIds:w,isMember:a,subFolders:N,history:h,actions:O,params:g,wsFiles:v,handleAddEditFolder:U,dictionary:F,disableOptions:L})))))}))},761:function(e,n,t){"use strict";t.r(n);var a,r,i=t(7),o=t(10),c=t(0),s=t.n(c),l=t(45),d=t(9),m=t(164),p=t(11),u=t(740),f=t(16),h=t(14),b=t(13),E=t(4),g=d.a.div(a||(a=Object(o.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: flex-start;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n"]))),v=Object(d.a)(m.a)(r||(r=Object(o.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 1rem;\n  }\n"])));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=e.isMember,o=e.workspace,d=Object(E.c)(),m=Object(p.jb)(),O=m.selectUserChannel,_=m.loggedUser,w=Object(E.d)((function(e){return e.workspaces})).activeTopic,k=Object(l.g)();Object(p.r)();var y=Object(c.useState)(""),N=Object(i.a)(y,2),x=N[0],T=N[1],j={search:Object(c.useRef)()},A=function(e){k.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},C=function(e){return O(e)};Object(c.useEffect)((function(){j.search.current.focus()}),[]);var S=[];o&&(S=o.members);var R=S.filter((function(e){return""===x||-1!==e.name.toLowerCase().search(x.toLowerCase())||-1!==e.email.toLowerCase().search(x.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)})),I=Object(p.gb)()._t,P={searchPeoplePlaceholder:I("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:I("PEOPLE.EXTERNAL","External"),peopleInvited:I("PEOPLE.INVITED","Invited"),peopleManage:I("PEOPLE.MANAGE","Manage People"),roleAdvisor:I("ROLE.ADVISOR","Advisor"),roleApprover:I("ROLE.APPROVER","Approver"),roleClient:I("ROLE.CLIENT","Client"),roleCommunicationLead:I("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:I("ROLE.DESIGNER","Designer"),roleDeveloper:I("ROLE.DEVELOPER","Developer"),roleFreelancer:I("ROLE.FREELANCER","Freelancer"),roleSupervisor:I("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:I("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:I("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:I("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:I("ROLE.WATCHER","Watcher")};return Object(p.x)(j.search.current),s.a.createElement(g,{className:"workspace-people fadeIn container-fluid ".concat(t)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"people-header"},s.a.createElement(v,{ref:j.search,value:x,closeButton:"true",onClickEmpty:function(){T("")},placeholder:P.searchPeoplePlaceholder,onChange:function(e){T(e.target.value)},autoFocus:!0}),!a&&r&&s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:w};d(Object(b.a)(e))}},s.a.createElement(h.s,{className:"mr-2",icon:"user-plus"})," ",P.peopleManage))),s.a.createElement("div",{className:"row"},R.map((function(e){return s.a.createElement(u.a,{key:e.id,loggedUser:_,user:e,onNameClick:A,onChatClick:C,dictionary:P,showWorkspaceRole:!0})}))))))}))},762:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l=t(1),d=t(7),m=t(10),p=t(0),u=t.n(p),f=t(45),h=t(9),b=t(14),E=t(11),g=t(741),v=t(79),O=t(17),_=t(26),w=t(4),k=t(16),y=h.a.div(a||(a=Object(m.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),N=h.a.div(r||(r=Object(m.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),x=h.a.div(i||(i=Object(m.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),T=h.a.span(o||(o=Object(m.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),j=Object(h.a)(b.s)(c||(c=Object(m.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),A=h.a.div(s||(s=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.isMember,i=Object(f.i)(),o=Object(f.g)(),c=Object(E.bb)(),s=Object(w.c)();Object(E.r)();var m=Object(E.K)(),h=m.actions,C=m.posts,S=m.filter,R=m.tag,I=m.sort,P=m.post,L=m.user,D=m.search,M=m.count,F=m.postLists,U=m.counters,H=m.filters,W=m.postListTag,z=Object(p.useState)(!1),B=Object(d.a)(z,2),G=B[0],V=B[1],Y=Object(p.useState)(!1),K=Object(d.a)(Y,2),q=K[0],Z=K[1],J=Object(p.useState)({}),Q=Object(d.a)(J,2),X=Q[0],$=Q[1],ee=Object(p.useRef)(!0),ne="external"===L.type,te=function(){if(i.hasOwnProperty("postId")){var e=o.location.pathname.split("/post/")[0];o.push(e)}};Object(p.useEffect)((function(){return i.hasOwnProperty("workspaceId")&&h.getUnreadWsPostsCount({topic_id:i.workspaceId}),function(){ee.current=null}}),[]),Object(p.useEffect)((function(){i.hasOwnProperty("workspaceId")&&h.getRecentPosts(i.workspaceId)}),[i.workspaceId]);var ae=Object(E.gb)()._t,re={createNewPost:ae("POST.CREATE_NEW_POST","Create new post"),all:ae("POST.ALL","All"),inbox:ae("POST.INBOX","Inbox"),newReply:ae("POST.NEW_REPLY","New reply"),myPosts:ae("POST.MY_POSTS","My sent posts"),starred:ae("POST.STARRED","Starred"),archived:ae("POST.ARCHIVED","Archived"),draft:ae("POST.DRAFT","Draft"),drafts:ae("POST.DRAFTS","Drafts"),category:ae("POST.CATEGORY","Category"),replyRequired:ae("POST.REPLY_REQUIRED","Reply required"),mustRead:ae("POST.MUST_READ","Must read"),noReplies:ae("POST.NO_REPLIES","No replies"),sortBy:ae("POST.SORT_BY","Sort by"),starredFavorite:ae("POST.STARRED_FAVORITE","Starred / Favorite"),recent:ae("POST.RECENT","Recent"),unread:ae("POST.UNREAD","Unread"),searchPost:ae("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:ae("POST.MARK_AS_READ","Mark as read"),markAsUnread:ae("POST.MARK_AS_UNREAD","Mark as unread"),share:ae("POST.SHARE","Share"),snooze:ae("POST.SNOOZE","Snooze"),follow:ae("POST.FOLLOW","Follow"),unFollow:ae("POST.UNFOLLOW","Unfollow"),files:ae("POST.FILES","Files"),comment:ae("POST.COMMENT","Comment"),editPost:ae("POST.EDIT_POST","Edit post"),editReply:ae("POST.EDIT_REPLY","Edit reply"),removeReply:ae("POST.REMOVE_REPLY","Remove reply"),quote:ae("POST.QUOTE","Quote"),mentionUser:ae("POST.MENTION_USER","Mention user"),remindMeAboutThis:ae("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:ae("POST.SEARCH_RESULT","Search Result:"),searchResults:ae("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:ae("POST.NO_SEARCH_RESULT","No result found:"),private:ae("POST.PRIVATE","Private"),by:ae("POST.BY","by"),star:ae("POST.STAR","Mark with star"),unStar:ae("POST.UNSTAR","Unmark star"),alreadyReadThis:ae("POST.ALREADY_READ_THIS","I've read this"),me:ae("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:ae("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:ae("SHOW_MORE","Show more"),showLess:ae("SHOW_LESS","Show less"),markAll:ae("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:ae("POST.ARCHIVE_ALL","Archive all"),noComment:ae("POST.NO_COMMENT","no comment"),oneComment:ae("POST.ONE_COMMENT","1 comment"),comments:ae("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:ae("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:ae("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:ae("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:ae("POST.ARCHIVE","Archive"),requestChange:ae("POST.REQUEST_CHANGE","Request for change"),accept:ae("POST.ACCEPT","Accept"),hasAcceptedProposal:ae("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:ae("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:ae("POST.ACTION_NEEDED","Action needed"),changeRequested:ae("POST.CHANGE_REQUESTED","Change requested"),accepted:ae("POST.ACCEPTED","Accepted"),requestForApproval:ae("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:ae("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:ae("POST.REPLIES_CLOSED","Replies closed"),openThisPost:ae("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:ae("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:ae("POST.REOPEN","Reopen"),closed:ae("POST.CLOSED","Closed"),createNewList:ae("POST.CREATE_NEW_LIST","New List"),addToList:ae("POST.ADD_TO_LIST","Add to list"),removeToList:ae("POST.REMOVE_TO_LIST","Remove to list"),allOthers:ae("POST.ALL_OTHERS","All others"),sharedClientBadge:ae("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:ae("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:ae("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:ae("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:ae("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:ae("BUTTON.SELECT_ALL","Select all"),remove:ae("BUTTON.REMOVE","Remove"),errorLoadingPost:ae("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:ae("POST.IN_PROGRESS","In progress"),teamLabel:ae("TEAM","Team")};Object(p.useEffect)((function(){i.postId&&!P&&h.fetchPostDetail({post_id:parseInt(i.postId)},(function(e,n){if(ee.current&&e){var t={topic_id:a.id,filter:"inbox",tag:null};s(Object(_.ab)(t)),i.folderId?o.push("/workspace/posts/".concat(i.folderId,"/").concat(Object(k.h)(i.folderName),"/").concat(i.workspaceId,"/").concat(Object(k.h)(i.workspaceName))):o.push("/workspace/posts/".concat(i.workspaceId,"/").concat(Object(k.h)(i.workspaceName))),c.error(re.errorLoadingPost)}}))}),[i.postId,P]),Object(p.useEffect)((function(){if("in_progress"===S){h.getPosts({filters:["in_progress"],topic_id:parseInt(i.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(O.g)({topic_id:parseInt(i.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{inProgress:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}else if("star"===S){h.getPosts({filters:["post","favourites"],topic_id:parseInt(i.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(O.g)({topic_id:parseInt(i.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{favourites:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}else if("my_posts"===S){h.getPosts({filters:["post","created_by_me"],topic_id:parseInt(i.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(O.g)({topic_id:parseInt(i.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{myPosts:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}}),[S]);var ie=function(){if(""===D&&!P){V(!0),function(){if(H&&H.unreadPosts&&H.unreadPosts.hasMore){var e={filters:["green_dot"],topic_id:a.id,skip:H.unreadPosts.skip};h.getPosts(e,(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(O.g)({topic_id:a.id,posts:n.data.posts,files:t,filters:{unreadPosts:{skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}}();var e={filters:"in_progress"===S?["in_progress"]:"archive"===S?["post","archived"]:"star"===S?["post","favourites"]:"my_posts"===S?["post","created_by_me"]:[],topic_id:a.id,skip:"in_progress"===S?null===H||void 0===H?void 0:H.inProgress.skip:"archive"===S?null===H||void 0===H?void 0:H.archived.skip:"star"===S?null===H||void 0===H?void 0:H.favourites.skip:"my_posts"===S?null===H||void 0===H?void 0:H.myPosts.skip:H.all.skip};if("inbox"===S){if(H.all&&!H.all.hasMore)return}else if("in_progress"===S){if(H.inProgress&&!H.inProgress.hasMore)return}else if("archive"===S){if(H.archived&&!H.archived.hasMore)return}else if("star"===S){if(H.favourites&&!H.favourites.hasMore)return}else if("my_posts"===S&&H.myPosts&&!H.myPosts.hasMore)return;h.getPosts(e,(function(e,n){if(ee.current&&(V(!1),Z(!1)),!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(O.g)({topic_id:a.id,posts:n.data.posts,files:t,filters:Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"inbox"===S&&{all:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"in_progress"===S&&{inProgress:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"archive"===S&&{archived:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"star"===S&&{favourites:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"myPosts"===S&&{myPosts:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}})}))}}))}},oe=Object(p.useMemo)((function(){var e=Object(v.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&Z(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(p.useEffect)((function(){q&&ie()}),[q]),Object(p.useEffect)((function(){if(W){var e=Object(v.find)(F,(function(e){return parseInt(e.id)===parseInt(W)}));if(F.map((function(n){e&&parseInt(W)===n.id&&$(n)})),!e){$(F[0]);var n={topic_id:a.id,tag:null,postListTag:F[0].id,filter:null};s(Object(_.ab)(n))}}}),[W,F]);var ce=!1;return a&&0===a.active&&(ce=!0),null===C?u.a.createElement(u.a.Fragment,null):u.a.createElement(y,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:oe},u.a.createElement("div",{className:"row app-block"},u.a.createElement(g.o,{disableOptions:ce,isMember:r,workspace:a,filter:S,filters:H,tag:R,postListTag:W,postActions:h,count:M,postLists:F,counters:U,onGoBack:te,dictionary:re}),u.a.createElement("div",{className:"col-md-9 app-content"},u.a.createElement("div",{className:"app-content-overlay"}),!P&&u.a.createElement(g.i,{activeSort:I,workspace:a,search:D,dictionary:re,className:"mb-3"}),!!W&&u.a.createElement(x,null,u.a.createElement("span",null,"Filter:"),u.a.createElement(T,{className:"ml-2 recipients"},u.a.createElement("span",{className:"receiver"},u.a.createElement("span",{onClick:function(){var e={topic_id:a.id,tag:null,postListTag:null,filter:"inbox"};s(Object(_.ab)(e))}},u.a.createElement(j,{icon:"x",className:"mr-1"})),X.name))),0!==C.length||""!==D||i.hasOwnProperty("postId")?u.a.createElement(u.a.Fragment,null,null!==P?u.a.createElement("div",{className:"card card-body app-content-body mb-4"},u.a.createElement(N,{className:"fadeBottom"},u.a.createElement(g.f,{post:P,posts:C,filter:S,postActions:h,user:L,history:o,onGoBack:te,dictionary:re,workspace:a,isMember:r,disableOptions:ce,isExternalUser:ne}))):!P&&i.hasOwnProperty("postId")?u.a.createElement(A,{className:"card initial-load"},u.a.createElement(b.j,null)):u.a.createElement(g.r,{actions:h,dictionary:re,filter:S,isExternalUser:ne,loading:G,posts:C,search:D,workspace:a,user:L})):u.a.createElement(g.t,{actions:h,dictionary:re,disableOptions:ce,isMember:r}),u.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},763:function(e,n,t){"use strict";t.r(n);var a,r=t(10),i=t(0),o=t.n(i),c=t(9).a.div(a||(a=Object(r.a)([""])));n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return o.a.createElement(c,{className:"container-fluid h-100 ".concat(t)},o.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}))},764:function(e,n,t){"use strict";t.r(n);var a,r=t(6),i=t(7),o=t(10),c=t(0),s=t.n(c),l=t(9),d=t(11),m=t(777),p=t(79),u=l.a.div(a||(a=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(d.qb)(),o=a.getWorkspaceReminders,l=a.action,f=a.isLoaded,h=a.count,b=a.workspaceName,E=Object(d.gb)()._t,g=Object(c.useState)(""),v=Object(i.a)(g,2),O=v[0],_=v[1],w=Object(c.useState)(""),k=Object(i.a)(w,2),y=k[0],N=k[1],x=Object(c.useState)(!1),T=Object(i.a)(x,2),j=T[0],A=T[1],C=[E("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],S=[E("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),E("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),E("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==y&&(C=[E("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],S=[E("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===y&&"OVERDUE"===O&&(C=[].concat(Object(r.a)(C),[E("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),S=[].concat(Object(r.a)(S),[E("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var R=Object(c.useState)(Math.floor(Math.random()*C.length)),I=Object(i.a)(R,2),P=I[0],L=I[1],D={searchInputPlaceholder:E("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:E("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:E("REMINDER.TYPE_POST","Post"),typeChat:E("REMINDER.TYPE_CHAT","Chat"),typePostComment:E("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:E("REMINDER.STATUS_TODAY","Today"),statusAll:E("REMINDER.STATUS_ALL","ALL"),statusExpired:E("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:E("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:E("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:E("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:E("REMINDER.STATUS_DONE","Done"),emptyText:E("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:E("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:C[P],noItemsFoundText:S[P],actionReschedule:E("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:E("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:E("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:E("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:E("REMINDER.ACTION_REMOVE","Remove"),actionFilter:E("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:E("REMINDER.AUTHOR","Author"),reminderAssignedTo:E("REMINDER.ASSIGNED_TO","Assigned to"),todo:E("REMINDER.TO_DO","To do"),done:E("REMINDER.DONE","Done"),addDate:E("REMINDER.ADD_DATE","Add date"),addedByMe:E("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:E("REMINDER.ADDED_BY_OTHERS","Added by others")},M=Object(c.useMemo)((function(){var e=Object(p.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&A(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(c.useEffect)((function(){j&&l.loadMore()}),[j]),Object(c.useEffect)((function(){L(Math.floor(Math.random()*C.length))}),[O]);var F=o({filter:{status:O,search:y}});return s.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(t),hasReminders:F.length>0,onScroll:M},s.a.createElement("div",{className:"row app-block"},s.a.createElement(m.d,{className:"col-lg-3",dictionary:D,todoActions:l,setFilter:function(e){_(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:O,count:h}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(m.b,{dictionary:D,onSearchChange:function(e){N(e.target.value),""===e.target.value.trim()?L(Math.floor(Math.random()*C.length)):L(0)},clearSearch:function(){N("")},searchValue:y}),s.a.createElement(m.a,{complete:!1,isLoaded:f,todoItems:F.filter((function(e){return"DONE"!==e.status})),dictionary:D,todoActions:l,filter:O,doneTodoItems:F.filter((function(e){return"DONE"===e.status})),workspaceName:b}))))}))},765:function(e,n,t){"use strict";t.r(n);var a,r=t(6),i=t(7),o=t(10),c=t(0),s=t.n(c),l=t(9),d=t(11),m=t(777),p=t(79),u=l.a.div(a||(a=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(d.db)(),o=a.getReminders,l=a.action,f=a.isLoaded,h=a.count,b=Object(d.gb)()._t,E=Object(c.useState)(""),g=Object(i.a)(E,2),v=g[0],O=g[1],_=Object(c.useState)(""),w=Object(i.a)(_,2),k=w[0],y=w[1],N=Object(c.useState)(!1),x=Object(i.a)(N,2),T=x[0],j=x[1],A=[b("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),b("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),b("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],C=[b("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),b("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),b("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==k&&(A=[b("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],C=[b("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===k&&"OVERDUE"===v&&(A=[].concat(Object(r.a)(A),[b("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),C=[].concat(Object(r.a)(C),[b("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var S=Object(c.useState)(Math.floor(Math.random()*A.length)),R=Object(i.a)(S,2),I=R[0],P=R[1],L={searchInputPlaceholder:b("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:b("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:b("REMINDER.TYPE_POST","Post"),typeChat:b("REMINDER.TYPE_CHAT","Chat"),typePostComment:b("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:b("REMINDER.STATUS_TODAY","Today"),statusAll:b("REMINDER.STATUS_ALL","ALL"),statusExpired:b("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:b("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:b("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:b("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:b("REMINDER.STATUS_DONE","Done"),emptyText:b("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:b("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:A[I],noItemsFoundText:C[I],actionReschedule:b("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:b("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:b("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:b("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:b("REMINDER.ACTION_REMOVE","Remove"),actionFilter:b("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:b("REMINDER.AUTHOR","Author"),reminderAssignedTo:b("REMINDER.ASSIGNED_TO","Assigned to"),todo:b("REMINDER.TO_DO","To do"),done:b("REMINDER.DONE","Done"),addDate:b("REMINDER.ADD_DATE","Add date"),addedByMe:b("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:b("REMINDER.ADDED_BY_OTHERS","Added by others")},D=Object(c.useMemo)((function(){var e=Object(p.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&j(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(c.useEffect)((function(){T&&l.loadMore()}),[T]),Object(c.useEffect)((function(){P(Math.floor(Math.random()*A.length))}),[v]);var M=o({filter:{status:v,search:k}});return s.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:D},s.a.createElement("div",{className:"row app-block"},s.a.createElement(m.d,{className:"col-lg-3",dictionary:L,todoActions:l,setFilter:function(e){O(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:v,count:h}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(m.b,{dictionary:L,onSearchChange:function(e){y(e.target.value),""===e.target.value.trim()?P(Math.floor(Math.random()*A.length)):P(0)},clearSearch:function(){y("")},searchValue:k}),s.a.createElement(m.a,{complete:!1,isLoaded:f,todoItems:M.filter((function(e){return"DONE"!==e.status})),dictionary:L,todoActions:l,filter:v,doneTodoItems:M.filter((function(e){return"DONE"===e.status}))}))))}))},773:function(e,n,t){"use strict";t.d(n,"a",(function(){return De})),t.d(n,"b",(function(){return ln})),t.d(n,"d",(function(){return Nn})),t.d(n,"g",(function(){return pt})),t.d(n,"h",(function(){return Et})),t.d(n,"f",(function(){return Tt})),t.d(n,"e",(function(){return Rt})),t.d(n,"i",(function(){return Pt})),t.d(n,"c",(function(){return Dt}));var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k,y,N,x,T,j,A,C,S,R,I,P,L,D,M,F,U,H,W,z,B,G,V,Y,K,q,Z,J,Q,X,$,ee,ne,te,ae,re,ie,oe,ce,se,le,de,me,pe,ue,fe,he,be,Ee,ge,ve,Oe=t(1),_e=t(7),we=t(10),ke=t(0),ye=t.n(ke),Ne=t(4),xe=t(9),Te=t(13),je=t(99),Ae=t(11),Ce=t(245),Se=t(753),Re=Object(ke.lazy)((function(){return Promise.all([t.e(2),t.e(17)]).then(t.bind(null,825))})),Ie=Object(ke.lazy)((function(){return Promise.all([t.e(12),t.e(2),t.e(18)]).then(t.bind(null,822))})),Pe=xe.a.div(a||(a=Object(we.a)(["\n  width: 100%;\n  z-index: 2;\n  position: relative;\n  @media (max-width: 992px) {\n    z-index: 1;\n  } ;\n"]))),Le=xe.a.div(r||(r=Object(we.a)(["\n  flex: 1;\n"]))),De=function(e){var n=e.className,a=void 0===n?"":n,r=e.isWorkspace,i=void 0!==r&&r,o=Object(Se.a)({timeout:6e4}).isIdle,c=Object(Ne.c)(),s=Object(Ce.a)(),l=Object(Ae.ab)(),d=Object(Ne.d)((function(e){return e.session.user})),m=Object(Ne.d)((function(e){return e.settings.user.CHAT_SETTINGS})),p=m.virtualization,u=m.translate,f=Object(Ne.d)((function(e){return e.settings.user.GENERAL_SETTINGS})),h=f.chat_language,b=f.translated_channels,E=f.language,g=Object(Ne.d)((function(e){return e.chat.selectedChannel})),v=Object(Ne.d)((function(e){return e.workspaces.isOnClientChat})),O=Object(ke.useState)(!1),_=Object(_e.a)(O,2),w=_[0],k=_[1],y=Object(Ae.l)(),N={dropZoneRef:Object(ke.useRef)()},x=Object(ke.useState)(!1),T=Object(_e.a)(x,2),j=T[0],A=T[1],C=Object(ke.useState)(g?g.id:0),S=Object(_e.a)(C,2),R=S[0],I=S[1],P=ye.a.createRef(),L=function(){k(!1)},D=function(e){var n=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var r=t(78).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?n.push(Object(Oe.a)(Object(Oe.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):"video/mp4"===e.type?n.push(Object(Oe.a)(Object(Oe.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):n.push(Object(Oe.a)(Object(Oe.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:a,name:e.name?e.name:e.path}))})),L();var a={type:"file_upload",droppedFiles:n,mode:"chat",members:g?g.members:[],team_channel:g.team&&"TOPIC"===g.type?g.id:null};c(Object(Te.a)(a))},M=Object(Ae.gb)()._t,F={remindMeAboutThis:M("TODO.REMIND_ABOUT_THIS","Remind about this"),quote:M("CHAT.QUOTE","Quote"),copyMessageLink:M("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:M("CHAT.FORWARD","Forward"),edit:M("CHAT.EDIT","Edit"),remove:M("CHAT.REMOVE","Remove"),removeChat:M("MODAL.REMOVE_CHAT","Remove chat"),cancel:M("MODAL.CANCEL","Cancel"),removeThisChat:M("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:M("SYSTEM.UPDATE","Update"),accountActivated:M("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:M("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:M("SYSTEM.REMOVED","removed"),andRemoved:M("SYSTEM.AND_REMOVED","and removed"),you:M("SYSTEM.YOU","You"),youAnd:M("SYSTEM.YOU_AND","You and"),joined:M("SYSTEM.JOINED","joined"),andJoined:M("SYSTEM.AND_JOINED","and joined"),left:M("SYSTEM.LEFT","left"),andLeft:M("SYSTEM.AND_LEFT","and left"),createdThePost:M("SYSTEM.CREATED_THE_POST","created the post"),openPost:M("SYSTEM.OPEN_POST","Open post"),someone:M("SYSTEM.SOMEONE","Someone"),added:M("SYSTEM.ADDED","added"),andAdded:M("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:M("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:M("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:M("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:M("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:M("CHAT.WORKSPACE","Workspace"),hasLeftChat:M("SYSTEM.HAS_LEFT_CHAT","has left the chat"),hasLeftWorkspace:M("SYSTEM.HAS_LEFT_WORKSPACE","has left the workspace"),andHasLeftChat:M("SYSTEM.AND_HAS_LEFT_CHAT","and has left the chat"),andHasLeftWorkspace:M("SYSTEM.AND_HAS_LEFT_WORKSPACE","and has left the workspace"),youLeftChat:M("SYSTEM.YOU_LEFT_CHAT","You left the chat"),youLeftWorkspace:M("SYSTEM.YOU_LEFT_WORKSPACE","You left the workspace"),leftTheWorkspace:M("SYSTEM.LEFT_THE_WORKSPACE","left the workspace"),leftTheChat:M("SYSTEM.LEFT_THE_CHAT","left the chat"),markImportant:M("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:M("CHAT.UNMARK_IMPORTANT","Unmark as important"),teamFeedback:M("HUDDLE.HUDDLE_TEAM_FEEDBACK","Huddle team feedback"),replyInPrivate:M("CHAT.REPLY_IN_PRIVATE","Reply in private"),removeOnDownload:M("CHAT.REMOVE_ON_DOWNLOAD","Remove on download"),withClient:M("PAGE.WITH_CLIENT","With client"),teamChat:M("PAGE.TEAM_CHAT","Team Chat"),clientChat:M("PAGE.CLIENT_CHAT","Client Chat"),mute:M("CHAT.MUTE","Mute"),unmute:M("CHAT.UNMUTE","Unmute"),hide:M("CHAT.HIDE","Hide"),unhide:M("CHAT.UNHIDE","Unhide"),favorite:M("FAVORITE","Favorite"),unfavorite:M("UNFAVORITE","Unfavorite"),markAsUnread:M("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:M("POST.MARK_AS_READ","Mark as read"),unarchive:M("CHAT.UNARCHIVE","Un-archive"),archive:M("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:M("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:M("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),headerArchive:M("HEADER.ARCHIVE","Chat archive"),headerUnarchive:M("HEADER.UNARCHIVE","Un-archive channel"),clickHereToJoin:M("CHAT.CLICK_HERE_TO_JOIN","Click here to join"),fileAutomaticallyRemoved:M("FILE.AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),connectPreview:M("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:M("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account"),editHuddle:M("CHAT.EDIT_HUDDLE","Edit huddle"),discussOnTeamChat:M("CHAT.DISCUSS_ON_TEAM_CHAT","Discuss on team chat"),team:M("TEAM","Team")},U=function(){A(!j)},H=Object(ke.useState)(!1),W=Object(_e.a)(H,2),z=W[0],B=W[1];return Object(ke.useEffect)((function(){null!==g&&I(g.id),null!==g&&R!==g.id&&R>0&&(B(!z),A(!1))}),[R,g]),ye.a.createElement(Pe,{className:"chat-content ".concat(a),onDragOver:function(e){if(e.dataTransfer.types)for(var n=0;n<e.dataTransfer.types.length;n++)if("Files"===e.dataTransfer.types[n])return void k(!0)}},ye.a.createElement(je.a,{hide:!w,ref:N.dropZoneRef,onDragLeave:L,onDrop:function(e){var n=e.acceptedFiles;D(n)},onCancel:L}),!i&&ye.a.createElement(Nn,{dictionary:F,channel:g,handleSearchChatPanel:U}),null!==g?p&&["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(d.email)?ye.a.createElement(ke.Suspense,{fallback:ye.a.createElement(Le,null)},ye.a.createElement(Ie,{dictionary:F})):ye.a.createElement(ke.Suspense,{fallback:ye.a.createElement(Le,null)},ye.a.createElement(Re,{chatMessageActions:s,timeFormat:l,dictionary:F,unreadCount:y,teamChannelId:v,isIdle:o,translate:u,language:E,translated_channels:b,chat_language:h,scrollComponent:P})):ye.a.createElement(Le,null),ye.a.createElement(ln,{onShowFileDialog:function(){N.dropZoneRef.current&&N.dropZoneRef.current.open()},dropAction:D}),null!==g&&ye.a.createElement(Tt,{newSeachToogle:z,chatMessageActions:s,showSearchPanel:j,setShowSearchPanel:A,handleSearchChatPanel:U,selectedChannel:g,pP:R}))},Me=t(45),Fe=t(89),Ue=t.n(Fe),He=t(15),We=t(26),ze=t(14),Be=t(253),Ge=xe.a.div(i||(i=Object(we.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]))),Ve=Object(xe.a)(ze.s)(o||(o=Object(we.a)([""]))),Ye=function(e){var n=Object(Ae.S)(),t=Object(_e.a)(n,2),a=t[0],r=t[1],i=Object(Ne.c)();return a?ye.a.createElement(Ge,null,ye.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:a.user?a.user.name:""}}),ye.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:a.body?r:""}}),ye.a.createElement("span",{className:"quote-clear-container",onClick:function(){i(Object(He.o)(a))}},ye.a.createElement(Ve,{icon:"x"}))):null},Ke=xe.a.div(c||(c=Object(we.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar-typing {\n    height: 26px !important;\n    width: 26px !important;\n  }\n"])),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),qe=xe.a.div(s||(s=Object(we.a)(["\n  margin-left: 10px !important;\n"]))),Ze=xe.a.div(l||(l=Object(we.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: #972c86;\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]))),Je=ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(Ae.hb)(),r=Object(_e.a)(a,1)[0];return ye.a.createElement(Ke,{users:r.length,className:"component-chat-indicator ".concat(t)},r.length>2?ye.a.createElement(Ze,null,"".concat(r.length-2,"+")):null,r.map((function(e,n){return n<=1?ye.a.createElement(ze.a,{key:n,className:"xs avatar-typing",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),ye.a.createElement(qe,{className:"typing-indicator"},ye.a.createElement("span",null),ye.a.createElement("span",null),ye.a.createElement("span",null)))})),Qe=xe.a.div(d||(d=Object(we.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]))),Xe=Object(xe.a)(ze.s)(m||(m=Object(we.a)(["\n  width: 14px;\n  height: 14px;\n  margin-left: 5px;\n"]))),$e=function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=Object(Ae.gb)()._t,i=Object(Ne.d)((function(e){return e.workspaces.workspaces})),o=Object(Ne.d)((function(e){return e.session.user})),c={lockedLabel:r("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),teamChat:r("CHAT.INFO_TEAM_CHAT","You are in the team chat"),clientChat:r("CHAT.INFO_CLIENT_CHAT","Client can read this chat")};return ye.a.createElement(ye.a.Fragment,null,a&&!a.is_archived&&i.hasOwnProperty(a.entity_id)&&1===i[a.entity_id].active&&ye.a.createElement(ye.a.Fragment,null,i[a.entity_id].is_shared&&i[a.entity_id].channel.id===a.id&&"internal"===o.type&&ye.a.createElement(Qe,{className:"locked-label ".concat(t)},ye.a.createElement("span",null,c.clientChat,ye.a.createElement(Xe,{icon:"eye"}))),i[a.entity_id].is_shared&&i[a.entity_id].team_channel.id===a.id&&"internal"===o.type&&ye.a.createElement(Qe,{className:"locked-label ".concat(t)},ye.a.createElement("span",null,c.teamChat," ",ye.a.createElement(Xe,{icon:"eye-off"})))))},en=t(16),nn=Object(ke.lazy)((function(){return Promise.resolve().then(t.bind(null,345))})),tn=xe.a.div(p||(p=Object(we.a)(["\n  position: relative;\n  z-index: 3;\n  padding-top: 0 !important;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),an=xe.a.div(u||(u=Object(we.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),rn=xe.a.div(f||(f=Object(we.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  flex-flow: column;\n  .feather-paperclip,\n  .feather-meet,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-meet {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n"]))),on=Object(xe.a)(ze.s)(h||(h=Object(we.a)(["\n  width: 20px;\n"]))),cn=xe.a.div(b||(b=Object(we.a)(["\n  .feather-send {\n    ","\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"])),(function(e){return e.activeSend&&"background: #7a1b8b !important;"}),(function(e){return e.activeSend?"#fff":"#cacaca"}),(function(e){return e.activeSend?"cursor":"default"})),sn=Object(xe.a)(nn)(E||(E=Object(we.a)(["\n  right: 100px;\n  bottom: 80px;\n\n  @media (max-width: 414px) {\n    right: -10px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),ln=ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.onShowFileDialog,r=e.dropAction,i=(Object(Me.g)(),Object(Ae.ab)()),o=i.localizeChatDate,c=(i.localizeDate,Object(Ne.c)()),s=Object(Ae.bb)(),l={picker:Object(ke.useRef)()},d=Object(ke.useState)(!1),m=Object(_e.a)(d,2),p=m[0],u=m[1],f=Object(ke.useState)(!1),h=Object(_e.a)(f,2),b=h[0],E=h[1],g=Object(ke.useState)(null),v=Object(_e.a)(g,2),O=v[0],_=v[1],w=Object(ke.useState)(null),k=Object(_e.a)(w,2),y=k[0],N=k[1],x=Object(Ne.d)((function(e){return e.chat.selectedChannel})),T=Object(Ne.d)((function(e){return e.chat.editChatMessage})),j=Object(Ne.d)((function(e){return e.session.user})),A=Object(Ae.S)(),C=Object(_e.a)(A,1)[0],S=function(){c(Object(He.db)(!0))},R=function(){E(!b)},I=Object(ke.useCallback)((function(){_(null)}),[]),P=Object(ke.useCallback)((function(e){u(e)}),[]),L=Object(ke.useCallback)((function(){N(null)}),[]),D=Object(Ae.gb)()._t,M={unarchiveThisWorkspace:D("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:D("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:D("BUTTON.CANCEL","Cancel"),unarchiveBodyText:D("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),chatUnarchiveConfirmation:D("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),headerUnarchive:D("HEADER.UNARCHIVE","Un-archive channel"),youAreViewing:D("CHAT.LABEL","You are viewing"),joinWorkspaceChat:D("CHAT.JOIN_WORKSPACE_CHAT","Join workspace chat"),googleMeet:D("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:D("YES","Yes"),no:D("NO","No"),googleMeetConfirmation:D("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?"),send:D("TOOLTIP.SEND","Send"),attachFiles:D("TOOLTIP.ATTACH_FILES","Attach files"),closeEdit:D("TOOLTIP.CLOSE_EDIT","Close edit")},F=function(){var e={id:x.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};c(Object(He.pb)(e)),s.success(ye.a.createElement("span",null,ye.a.createElement("b",null,"TOPIC"===x.type?"".concat(x.title," workspace is un-archived."):"".concat(x.title," channel is un-archived."))))},U=Object(ke.useCallback)((function(){E(!1)}),[]),H=Object(Ae.C)(x&&x.members&&x.members.length?x.members.map((function(e){return e.id})):[]);return ye.a.createElement(tn,{className:"chat-footer ".concat(t)},x&&ye.a.createElement(Je,null),ye.a.createElement($e,{channel:x}),H&&ye.a.createElement(cn,{className:"d-flex align-items-end chat-input-cointainer-footer",activeSend:p},x&&x.is_archived?ye.a.createElement(an,null,ye.a.createElement(on,{icon:"archive"}),ye.a.createElement("h4",null,"TOPIC"===x.type?"This is an archived workspace":"This is an archived channel"),ye.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:M.cancel,headerText:"TOPIC"===x.type?M.unarchiveWorkspace:M.headerUnarchive,submitText:"TOPIC"===x.type?M.unarchiveWorkspace:M.headerUnarchive,bodyText:"TOPIC"===x.type?M.unarchiveBodyText:M.chatUnarchiveConfirmation,actions:{onSubmit:F}};c(Object(Te.a)(e))}},"TOPIC"===x.type?"Un-archive workspace":"Un-archive channel")):ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(rn,{className:"flex-grow-1 chat-input-footer"},x&&!x.is_archived&&C&&ye.a.createElement(cn,{className:"d-flex pr-2 pl-2"},ye.a.createElement(Ye,null)),ye.a.createElement(cn,{className:"d-flex flex-grow-1"},ye.a.createElement(Be.a,{onActive:P,selectedGif:y,onSendCallback:U,onClearGif:L,selectedEmoji:O,onClearEmoji:I,dropAction:r}),ye.a.createElement(Rt,{channel:x,showEmojiPicker:b,handleShowEmojiPicker:R,handleGoogleMeet:function(){localStorage.setItem("zoomConfig",JSON.stringify({meetingNumber:"",role:1,password:"",host:!0,hasJoin:!1})),window.open("https://demo24.drevv.com/zoom/meeting/".concat(x.id),"_blank")},onShowFileDialog:a,editChatMessage:T,quote:C,dictionary:M}))),ye.a.createElement(Ue.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:M.send},ye.a.createElement(ze.s,{onClick:S,icon:"send"}))),!0===b&&ye.a.createElement(ke.Suspense,{fallback:ye.a.createElement(ye.a.Fragment,null)},ye.a.createElement(sn,{handleSend:S,handleShowEmojiPicker:R,onSelectEmoji:function(e){_(e)},onSelectGif:function(e){N(e),R()},orientation:"top",ref:l.picker}))),H&&T&&ye.a.createElement(cn,{className:"d-flex align-items-end"},ye.a.createElement("div",{className:"p-5"},T.files.map((function(e){return e.filename})).join(", "))),!1===H&&null!==x&&"internal"===j.type&&ye.a.createElement(cn,{className:"channel-viewing"},ye.a.createElement("div",{className:"channel-name"},M.youAreViewing," #",x.title),ye.a.createElement("div",{className:"channel-create"},"Created by ",x.creator&&x.creator.name," on ",o(x.created_at&&x.created_at.timestamp)),ye.a.createElement("div",{className:"channel-action"},ye.a.createElement("button",{onClick:function(){c(Object(We.N)({channel_id:x.id,recipient_ids:[j.id]},(function(e,n){e||s.success(ye.a.createElement(ye.a.Fragment,null,"You have joined ",ye.a.createElement("b",null,"#",x.title)))})))}},M.joinWorkspaceChat))))})),dn=t(8),mn=t(110),pn=t(247),un=t(163),fn=xe.a.div(g||(g=Object(we.a)(["\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding-bottom: 1em;\n\n  .chat-header-left {\n    display: flex;\n  }\n\n  .chat-header-title {\n    height: 17px;\n    color: #000000;\n    font-family: Inter;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 17px;\n    text-align: center;\n    display: flex;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n\n    a {\n      color: #000 !important;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      .dark & {\n        color: #ffffff !important;\n      }\n    }\n    .dark & {\n      color: #ffffff !important;\n    }\n  }\n  .chat-header-right {\n    @media (max-width: 414px) {\n      .nav {\n        display: flex;\n      }\n    }\n    margin-left: auto;\n    ul {\n      flex-flow: row;\n    }\n    li .more-options-tooltip {\n      top: 115%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n  .dictionary-label {\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 255px !important;\n  }\n  .channel-title-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .chat-header-folder {\n    flex: 1 1 100%;\n    height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 12px;\n  }\n  @media (max-width: 414px) {\n    .chat-header-folder {\n      display: none;\n    }\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n  .feather-pencil {\n    width: 1rem;\n    height: 1rem;\n    margin-left: 5px;\n    cursor: pointer;\n  }\n"]))),hn=Object(xe.a)(ze.s)(v||(v=Object(we.a)([""]))),bn=Object(xe.a)(ze.s)(O||(O=Object(we.a)(["\n  width: 12px;\n  height: 11px;\n"]))),En=Object(xe.a)(ze.s)(_||(_=Object(we.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),gn=xe.a.div(w||(w=Object(we.a)(["\n  @media (min-width: 992px) {\n    display: none;\n  }\n  color: #7a1b8b;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  margin-right: 12px;\n  margin-top: 8px;\n  display: flex;\n  span {\n    line-height: 1.7;\n  }\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),vn=Object(xe.a)(ze.s)(k||(k=Object(we.a)(["\n  color: #7a1b8b;\n  height: 24px;\n  width: 24px;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),On=Object(xe.a)(un.c)(y||(y=Object(we.a)(["\n  border: 1px solid #fff;\n  border-radius: 4px;\n\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c !important;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    font-size: 10px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: -25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  // @media (max-width: 480px) {\n  //   margin: 0 0 0.75rem !important;\n  // }\n"]))),_n=xe.a.div(N||(N=Object(we.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  margin-left:5px;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),wn=xe.a.div(x||(x=Object(we.a)(["\n  display: flex;\n  align-items: center;\n"]))),kn=Object(xe.a)(ze.s)(T||(T=Object(we.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),yn=Object(xe.a)(ze.s)(j||(j=Object(we.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n"]))),Nn=function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=e.dictionary,i=e.handleSearchChatPanel,o=Object(Ne.c)(),c=Object(Me.g)(),s=Object(mn.a)(),l=Object(Ne.d)((function(e){return e.chat.selectedChannel})),d=Object(Ne.d)((function(e){return e.workspaces.workspaces})),m=Object(Ne.d)((function(e){return e.global.unreadCounter})),p=Object(Ne.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).translated_channels,u=Object(Ce.a)(),f=function(){s.archive(a)},h=function(){o(Object(Te.a)({type:"chat_create_edit",mode:"edit"}))},b=Object(Ae.ob)(),E=Object(Ae.T)(),g=E.generalSettings.workspace_open_folder,v=E.setGeneralSetting,O=function(e){e.preventDefault(),l.workspace_folder&&v({workspace_open_folder:Object(Oe.a)(Object(Oe.a)({},g),{},Object(dn.a)({},l.workspace_folder.id,l.workspace_folder.id))}),document.body.classList.remove("navigation-show"),d[l.entity_id]&&(b.selectWorkspace(d[l.entity_id]),b.redirectTo(d[l.entity_id]))},_=function(e){e.preventDefault(),c.push("/system/people/teams/".concat(l.entity_id,"/").concat(l.title))};return null===a?null:(p.length>0&&p.includes(l.id)&&!l.is_translate&&u.saveChannelTranslateState(Object(Oe.a)(Object(Oe.a)({},l),{},{is_translate:!0})),ye.a.createElement(fn,{className:"chat-header border-bottom ".concat(t)},ye.a.createElement("div",{className:"chat-header-left"},ye.a.createElement(gn,{className:"chat-back-button",onClick:function(){document.body.classList.remove("m-chat-channel-closed")}},ye.a.createElement(vn,{icon:"chevron-left"}),m.chat_message>0&&ye.a.createElement("span",null,m.chat_message.toString())),ye.a.createElement(pn.a,{className:"chat-header-icon",channel:a,width:"33px"})),ye.a.createElement("div",{className:"channel-title-wrapper"},ye.a.createElement("div",{className:"chat-header-title"},function(){switch(l.type){case"TOPIC":return l.workspace_folder?ye.a.createElement(ye.a.Fragment,null,ye.a.createElement("a",{onClick:O,"data-href":s.getChannelLink(l),href:s.getChannelLink(l)},l.title)):ye.a.createElement(ye.a.Fragment,null,ye.a.createElement("span",{className:"dictionary-label"}),ye.a.createElement("a",{onClick:O,"data-href":s.getChannelLink(l),href:s.getChannelLink(l)},l.title));case"DIRECT":return ye.a.createElement(ye.a.Fragment,null,ye.a.createElement("a",{onClick:function(e){return function(e,n){e.preventDefault(),c.push("/profile/".concat(n.id,"/").concat(Object(en.h)(n.name)))}(e,l.profile)},"data-href":"/profile/".concat(l.profile.id,"/").concat(l.profile.name),href:"/profile/".concat(l.profile.id,"/").concat(l.profile.name)},l.profile?l.profile.name:l.title));case"DIRECT_TEAM":case"TEAM":return ye.a.createElement(ye.a.Fragment,null,ye.a.createElement("a",{onClick:_,"data-href":"/system/people/teams/".concat(l.entity_id,"/").concat(l.title),href:"/system/people/teams/".concat(l.entity_id,"/").concat(l.title)},r.team," ",l.title));default:return l.title}}()),ye.a.createElement(wn,{className:"chat-header-badge"},"TOPIC"===a.type&&!a.is_archived&&d.hasOwnProperty(a.entity_id)&&1===d[a.entity_id].is_lock&&1===d[a.entity_id].active&&ye.a.createElement(hn,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===a.type&&!a.is_archived&&d.hasOwnProperty(a.entity_id)&&d[a.entity_id].is_shared&&1===d[a.entity_id].active&&ye.a.createElement(_n,{className:"badge badge-external mr-1",isTeam:!!a.team},ye.a.createElement(En,{icon:a.team?"eye-off":"eye",className:"mr-1"}),a.team?r.teamChat:r.clientChat)),ye.a.createElement(kn,{icon:"star",isFav:a.is_pinned,onClick:function(){a.is_pinned?s.unPin(a):s.pin(a)}}),ye.a.createElement("div",null,ye.a.createElement("ul",{className:"nav align-items-center justify-content-end"},ye.a.createElement("li",{className:"ml-2",style:{height:"21px"}},ye.a.createElement(On,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"17",width:"17"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(a.type)&&ye.a.createElement("div",{onClick:function(){if(a.is_archived)s.unArchive(a);else{var e={type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:f}};o(Object(Te.a)(e))}}},a.is_archived?r.unarchive:r.archive),"GROUP"===a.type&&!a.is_archived&&ye.a.createElement("div",{onClick:h},r.edit),ye.a.createElement("div",{onClick:function(){a.is_pinned?s.unPin(a):s.pin(a)}},a.is_pinned?r.unfavorite:r.favorite),ye.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===a.total_unread&&a.is_read?s.markAsUnRead(a):s.markAsRead(a)}(e)}},0===a.total_unread&&!0===a.is_read?r.markAsUnread:r.markAsRead),ye.a.createElement("div",{onClick:function(){a.is_muted?s.unMute(a):s.mute(a)}},a.is_muted?r.unmute:r.mute),"PERSONAL_BOT"!==a.type&&ye.a.createElement("div",{onClick:function(){a.is_hidden?s.unHide(a):s.hide(a),a.total_unread>0&&s.markAsRead(a)}},a.is_hidden?r.unhide:r.hide),ye.a.createElement(Pt,{selectedChannel:l,translated_channels:p,chatMessageActions:u}))))),"GROUP"===a.type&&!a.is_archived&&ye.a.createElement(ze.s,{icon:"pencil",onClick:h}),ye.a.createElement(yn,{icon:"search",onClick:i}),ye.a.createElement("div",{className:"chat-header-folder"},function(){switch(l.type){case"TOPIC":return l.workspace_folder?ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(bn,{icon:"folder"})," ",l.workspace_folder.name," "):ye.a.createElement(ye.a.Fragment,null,ye.a.createElement("span",{className:"dictionary-label"},r.workspace));default:return""}}())),ye.a.createElement(Dt,{channel:a})))},xn=xe.a.div(A||(A=Object(we.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]))),Tn=xe.a.div(C||(C=Object(we.a)(["\n  ","\n"])),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),jn=xe.a.div(S||(S=Object(we.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]))),An=ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.reply;return ye.a.createElement(xn,{className:"message-item ".concat(t," ").concat(!0===a.author?"me":"them")},ye.a.createElement(Tn,{className:"message-item-content",isAuthor:a.author},!1===a.author&&ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(jn,{className:"avatar avatar-sm"},ye.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),a.message),ye.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))})),Cn=xe.a.div(R||(R=Object(we.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]))),Sn=(ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return ye.a.createElement(Cn,{className:"messages ".concat(t),tabIndex:"2"},ye.a.createElement(An,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),ye.a.createElement(An,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),ye.a.createElement(An,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),ye.a.createElement("div",{className:"message-item me"},ye.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),ye.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),ye.a.createElement("div",{className:"message-item"},ye.a.createElement("div",{className:"message-item-content d-flex"},ye.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),ye.a.createElement("div",null,ye.a.createElement("div",null,"important_documents.pdf ",ye.a.createElement("i",{className:"text-muted small"},"(50KB)")),ye.a.createElement("ul",{className:"list-inline small"},ye.a.createElement("li",{className:"list-inline-item"},ye.a.createElement("a",{href:"/"},"Download")),ye.a.createElement("li",{className:"list-inline-item"},ye.a.createElement("a",{href:"/"},"View"))))),ye.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),ye.a.createElement("div",{className:"message-item me"},ye.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),ye.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),ye.a.createElement("div",{className:"message-item"},ye.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),ye.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),ye.a.createElement("div",{className:"message-item me message-media"},ye.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),ye.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),ye.a.createElement("div",{className:"message-item message-item-divider"},ye.a.createElement("span",null,"Today")),ye.a.createElement("div",{className:"message-item"},ye.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),ye.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))})),xe.a.div(I||(I=Object(we.a)(["\n  max-width: 100%;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n  .title-data-chat-folder {\n    display: inline-block;\n    height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 12px;\n    font-weight: normal;\n    margin-left: 5px;\n  }\n"])))),Rn=Object(xe.a)(ze.s)(P||(P=Object(we.a)(["\n  width: 12px;\n  height: 10px;\n"]))),In=xe.a.h6(L||(L=Object(we.a)(["\n  color: #363636;\n  ",";\n  flex-grow: 1;\n  ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: calc(100% - 100px);\n\n  &.is-unread {\n    span {\n      font-weight: bold;\n    }\n  }\n\n  span {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: block;\n  }\n\n  .badge-wrapper {\n    margin-right: 0.5rem !important;\n  }\n"])),(function(e){return e.channel.total_unread&&"color: #7a1b8b"}),(function(e){return null!==e.selectedChannel&&e.channel.id===e.selectedChannel.id&&"font-weight: bold;"})),Pn=ye.a.memo((function(e){var n=Object(Ae.ab)().channelPreviewDate,t=e.className,a=void 0===t?"":t,r=e.search,i=void 0===r?"":r,o=e.selectedChannel,c=e.channel,s=e.dictionary,l=ye.a.createElement(ye.a.Fragment,null,!!c.is_archived&&ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(ze.b,{badgeClassName:"bg-warning-bright",label:"Archived"})),function(e){var n=e;if("DIRECT"===c.type&&c.profile&&(n=c.profile.name),"DIRECT_TEAM"!==c.type&&"TEAM"!==c.type||(n="".concat(s.team," ").concat(c.title)),""===i)return n;var t=n.split(new RegExp("(".concat(i,")"),"gi"));return ye.a.createElement("span",null,t.map((function(e){return e.toLowerCase()===i.toLowerCase()?ye.a.createElement("b",null,e):e})))}(c.title));return ye.a.createElement(Sn,{className:"d-flex justify-content-between align-items-center"},ye.a.createElement(In,{className:"mb-1 ".concat(c.is_read?"":"is-unread"," ").concat(a),selectedChannel:o,channel:c},ye.a.createElement(ze.t,{direction:"up-start",arrow:!1,content:c.title},ye.a.createElement("span",null,l,ye.a.createElement("span",{className:"title-data-chat-folder"},function(){switch(c.type){case"TOPIC":return c.workspace_folder?ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(Rn,{icon:"folder"})," ",c.workspace_folder.name," "):ye.a.createElement(ye.a.Fragment,null,ye.a.createElement("span",{className:"dictionary-label"},s.workspace));default:return null}}())))),ye.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:c.last_reply?n(c.last_reply.created_at.timestamp):""}}))})),Ln=t(42),Dn=(t(103),Object(xe.a)(un.c)(D||(D=Object(we.a)(["\n  position: relative;\n  height: 18px;\n  width: 25px;\n  > svg {\n    position: absolute;\n    top: -1px;\n    height: 20px;\n    width: 20px;\n    left: 1.5px;\n  }\n"])))),Mn=function(e){var n=e.selectedChannel,t=e.channel,a=e.moreButton,r=void 0===a?"more-horizontal":a,i=e.onSelectOptions,o=void 0===i?null:i,c=Object(Ne.c)(),s=Object(mn.a)(),l=document.getElementById("pills-home"),d=Object(Ae.gb)()._t,m={mute:d("CHAT.MUTE","Mute"),unmute:d("CHAT.UNMUTE","Unmute"),hide:d("CHAT.HIDE","Hide"),unhide:d("CHAT.UNHIDE","Unhide"),favorite:d("FAVORITE","Favorite"),unfavorite:d("UNFAVORITE","Unfavorite"),markAsUnread:d("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:d("POST.MARK_AS_READ","Mark as read"),unarchive:d("CHAT.UNARCHIVE","Un-archive"),archive:d("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:d("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:d("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),cancel:d("BUTTON.CANCEL","Cancel"),headerArchive:d("HEADER.ARCHIVE","Chat archive"),headerUnarchive:d("HEADER.UNARCHIVE","Un-archive channel")},p=function(){t.is_archived?s.unArchive(t):s.archive(t)};return ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(Dn,{channel:t,scrollRef:l,moreButton:r,onClick:o},ye.a.createElement("div",{onClick:function(){t.is_pinned?s.unPin(t):s.pin(t)}},t.is_pinned?m.unfavorite:m.favorite),ye.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===t.total_unread&&t.is_read?s.markAsUnRead(t):s.markAsRead(t)}(e)}},0===t.total_unread&&!0===t.is_read?m.markAsUnread:m.markAsRead),ye.a.createElement("div",{onClick:function(){t.is_muted?s.unMute(t):s.mute(t)}},t.is_muted?m.unmute:m.mute),"PERSONAL_BOT"!==t.type&&ye.a.createElement("div",{onClick:function(){t.is_hidden?s.unHide(t):s.hide(t),t.total_unread>0&&s.markAsRead(t),n&&(n.id,t.id)}},t.is_hidden?m.unhide:m.hide),!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(t.type)&&ye.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:m.headerArchive,submitText:m.archive,cancelText:m.cancel,bodyText:m.chatArchiveConfirmation,actions:{onSubmit:p}};t.is_archived&&(e=Object(Oe.a)(Object(Oe.a)({},e),{},{headerText:m.headerUnarchive,submitText:m.unarchive,bodyText:m.chatUnarchiveConfirmation})),c(Object(Te.a)(e))}},t.is_archived?m.unarchive:m.archive)))},Fn=xe.a.span(M||(M=Object(we.a)(["\n  //display: flex;\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n  font-weight: ",";\n"])),(function(e){return e.hasUnRead?"bold":"normal"})),Un=xe.a.span(F||(F=Object(we.a)(["\n  display: flex;\n"]))),Hn=xe.a.span(U||(U=Object(we.a)([""]))),Wn=xe.a.span(H||(H=Object(we.a)([""]))),zn=xe.a.div(W||(W=Object(we.a)(["\n  min-width: 200px;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 2;\n  width: calc(100% - ","px);\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n"])),(function(e){return e.iconWidth})),Bn=Object(xe.a)(ze.r)(z||(z=Object(we.a)(["\n  max-width: 12px;\n"]))),Gn=Object(xe.a)(ze.s)(B||(B=Object(we.a)(["\n  position: relative;\n  top: -2px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]))),Vn=xe.a.span(G||(G=Object(we.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]))),Yn=xe.a.div(V||(V=Object(we.a)(["\n  display: inline-block;\n  align-items: center;\n"]))),Kn=Object(xe.a)(ze.s)(Y||(Y=Object(we.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),qn=xe.a.div(K||(K=Object(we.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  height:18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Zn=ye.a.memo((function(e){var n=e.channel,t=e.drafts,a=e.dictionary,r=e.selectedChannel,i=Object(Ne.d)((function(e){return e.settings.user.CHAT_SETTINGS})),o=Object(Ne.d)((function(e){return e.session.user})),c=Object(Ne.d)((function(e){return e.workspaces.workspaces})),s=Object(ke.useState)(0),l=Object(_e.a)(s,2),d=l[0],m=l[1],p={icons:Object(ke.useRef)(null)},u=!1,f="",h="",b=Object(Ln.renderToString)(ye.a.createElement(Yn,{className:"chat-header-badge"},"TOPIC"===n.type&&!n.is_archived&&c.hasOwnProperty(n.entity_id)&&1===c[n.entity_id].is_lock&&1===c[n.entity_id].active&&ye.a.createElement(Gn,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===n.type&&!n.is_archived&&c.hasOwnProperty(n.entity_id)&&c[n.entity_id].is_shared&&1===c[n.entity_id].active&&ye.a.createElement(qn,{className:"badge badge-external mr-1",isTeam:!!n.team},ye.a.createElement(Kn,{icon:n.team?"eye-off":"eye",className:"mr-1"}),n.team?a.withTeam:a.withClient)));if(n.last_reply&&i.preview_message){if(n.last_reply.is_deleted)h='<span class="is-deleted">'+a.messageRemoved+"</span>";else{var E=n.is_translate&&n.last_reply.translated_body?n.last_reply.translated_body:n.last_reply.body,g=document.createElement("div");g.innerHTML=E;for(var v=g.getElementsByClassName("OriginalHtml");v[0];)v[0].parentNode.removeChild(v[0]);h=g.innerHTML,h=Object(en.k)(n.last_reply.body),h=Object(Ln.renderToString)(ye.a.createElement(Un,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:h}}));try{h=h.replace(/<?(data-value)="[^"]*"/g," ").replace(/(<([^>]+)>)/gi," ")}catch(y){h=Object(en.j)(h)}}(""===n.last_reply.body||n.last_reply.files&&n.last_reply.files.length||n.replies.length&&n.replies[n.replies.length-1].files.length||n.last_reply.body.match(/<img/))&&(u=!0);var O=(f+=h).replace(/\s/g,"");if(u&&(f=Object(Ln.renderToString)(ye.a.createElement(Bn,{icon:"image-video"}))+f),n.last_reply.user){if(n.last_reply.body.includes("POST_CREATE::"))if(""!==n.last_reply.body.replace("POST_CREATE::","").trim()){var _=JSON.parse(n.last_reply.body.replace("POST_CREATE::",""));f="".concat(_.author.first_name," has created the post ").concat(_.post.title)}n.last_reply.body.includes("ZOOM_MESSAGE::")&&(f="I started a ZOOM meeting: Click here to join"),n.last_reply.body.includes("ZAP_SUBMIT::")&&(f="System message update...");n.last_reply.user&&n.last_reply.user.id===o.id?(!O&&u&&(f+="Photo"),f=b+Object(Ln.renderToString)(ye.a.createElement(Wn,{className:"last-reply-name"},a.you,":"))+" "+f):f=b+Object(Ln.renderToString)(ye.a.createElement(Wn,{className:"last-reply-name"},n.last_reply.user.first_name,":"))+" "+f,f=(f=f.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")}else{if(f="System message update...",n.last_reply.body.includes("POST_CREATE::"))if(""!==n.last_reply.body.replace("POST_CREATE::","").trim()){var w=JSON.parse(n.last_reply.body.replace("POST_CREATE::",""));f="".concat(w.author.first_name," has created the post ").concat(w.post.title)}}"undefined"!==typeof t[n.id]&&(t[n.id].text&&"<div><br></div>"!==t[n.id].text?f="DRAFT:&nbsp;".concat(Object(Ln.renderToString)(ye.a.createElement(Hn,{dangerouslySetInnerHTML:{__html:t[n.id].text.replace(/(<([^>]+)>)/gi," ")}}))):t[n.id].reply_quote&&(f="QUOTE:&nbsp;".concat(t[n.id].reply_quote.body,"&nbsp;~").concat(t[n.id].reply_quote.user.name)))}else f=b;Object(ke.useEffect)((function(){p.icons.current&&m(p.icons.current.clientWidth)}),[p.icons,n]);var k=!1===n.add_user&&(!n.is_read||n.total_unread>0);return ye.a.createElement(Fn,{hasUnRead:n.total_unread>0,className:"d-flex justify-content-between align-items-center small text-muted "},ye.a.createElement(zn,{iconWidth:d,isUnread:n.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:f}}),ye.a.createElement("div",{ref:p.icons,className:"chat-timestamp d-inline-flex justify-content-center align-items-end flex-row-reverse"},ye.a.createElement(Mn,{className:"ml-1",moreButton:"chevron-down",selectedChannel:r,channel:n}),0===n.total_unread&&!1===n.is_read?ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(Vn,{className:"badge badge-primary badge-pill ml-1"},"\xa0")):ye.a.createElement(ye.a.Fragment,null,k&&ye.a.createElement(Vn,{className:"badge badge-primary badge-pill ml-1 ".concat(n.is_read||0!==n.total_unread?"":"unread")},n.total_unread>0?n.total_unread:n.is_read?null:"0")),n.is_muted&&ye.a.createElement(Gn,{icon:"volume-x",className:"".concat(n.is_pinned&&"mr-1")})))})),Jn=t(745),Qn=xe.a.li(q||(q=Object(we.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n  &:focus,\n  &:hover {\n    background: #f0f0f050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n    .more-options {\n      display: inline-flex;\n      opacity: 1;\n      z-index: 1;\n      &.active {\n        color: #4d4d4d !important;\n      }\n    }\n    h6 {\n      color: #7a1b8b;\n    }\n  }\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: #7a1b8b;\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n"])),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.selected&&"color: #7A1B8B;"}),(function(e){return e.selected&&"content: '';"})),Xn=ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=e.selectedChannel,i=e.channelDrafts,o=e.dictionary,c=e.addLoadRef,s=e.onLoadMore,l=e.onSelectChannel,d={container:Object(ke.useRef)(null)},m=Object(Jn.b)({threshold:1}),p=Object(_e.a)(m,2),u=p[0],f=p[1];Object(ke.useEffect)((function(){c&&f&&s()}),[c,f]);return ye.a.createElement(Qn,{ref:d.container,className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(t),selected:null!==r&&a.id===r.id,onClick:function(){l(a)}},ye.a.createElement(pn.a,{channel:a}),ye.a.createElement("div",{className:"channel-info",ref:c?u:null},ye.a.createElement("div",{className:"channel-title-preview"},ye.a.createElement(Pn,{className:"chat-date-icons",selectedChannel:r,channel:a,dictionary:o})),ye.a.createElement(Zn,{channel:a,drafts:i,dictionary:o,selectedChannel:r}),ye.a.createElement("div",{className:"d-flex"},a.is_hidden&&ye.a.createElement(ye.a.Fragment,null,ye.a.createElement(ze.b,{label:"Hidden"})))))})),$n=t(826),et=xe.a.div(Z||(Z=Object(we.a)(["\n  padding: 0 24px;\n  ul {\n    margin: 0;\n    padding-left: 0;\n    overflow: auto;\n    // overflow-y: hidden;\n    // overflow-x: scroll;\n    display: flex;\n    flex-grow: 1;\n    .dark & {\n      border-bottom-color: rgba(155, 155, 155, 0.2) !important;\n    }\n    .fav-channel {\n      padding-right: 0 !important;\n      cursor: pointer;\n    }\n  }\n  // .more-options-tooltip {\n  //   position: fixed;\n  //   top: 240px;\n  //   left: ",";\n  //   &.orientation-left {\n  //     left: ",";\n  //   }\n  // }\n  .feather-star,\n  .feather-volume-x {\n    position: absolute;\n    background-color: unset;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    z-index: 1;\n  }\n  .feather-star {\n    bottom: 0;\n    left: 0;\n    fill: rgb(255, 193, 7);\n    color: rgb(255, 193, 7);\n  }\n  .feather-volume-x {\n    bottom: 0;\n    right: 0;\n    background-color: #fff;\n    border: 2px solid #fff;\n    color: #7a1b8b;\n    .dark & {\n      background-color: #191c20;\n      color: #fff;\n      border: 2px solid #191c20;\n    }\n  }\n  .feather-eye,\n  .feather-eye-off {\n    top: -2px;\n    right: 0px;\n  }\n  .more-options {\n    display: none;\n  }\n  :hover {\n    .more-options {\n      display: block;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"])),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left,"px"):"30px"}),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left-170,"px"):"30px"})),nt=xe.a.div(J||(J=Object(we.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-right: 0.5rem;\n  .more-options {\n    margin-top: 0.5rem;\n    position: static;\n    opacity: 0;\n    svg {\n      position: relative;\n    }\n  }\n  .feather-more-horizontal {\n    width: 20px;\n    height: 18px;\n    vertical-align: initial;\n  }\n  :hover {\n    .more-options {\n      opacity: 1;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]))),tt=xe.a.div(Q||(Q=Object(we.a)(["\n  background: #7a1b8b;\n  color: #fff !important;\n  min-height: 18px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  position: absolute;\n  right: 0px;\n  bottom: 0;\n  width: 18px;\n  height: 18px;\n  font-size: 11px;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]))),at=xe.a.div(X||(X=Object(we.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 12px;\n"]))),rt=xe.a.div($||($=Object(we.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n  margin-left: auto;\n  svg {\n    cursor: pointer;\n  }\n"]))),it=function(e){var n=e.channels,t=e.onSelectChannel,a=Object(Ae.gb)()._t,r=Object(Ae.w)(),i=r.filterChannel,o=r.chatSettings,c={showUnreadChats:a("TOOLTIP.SHOW_UNREAD_CHATS","Filter on unread chat channels only "),hideUnreadChats:a("TOOLTIP.HIDE_UNREAD_CHATS","Hide unread chats")},s=function(e){t(e)};return ye.a.createElement(et,{className:"mb-2"},ye.a.createElement(at,null,n.length>0&&ye.a.createElement("ul",null,n.map((function(e){return ye.a.createElement(nt,{key:e.id},ye.a.createElement(pn.a,{channel:e,className:"fav-channel",onSelectChannel:function(){return s(e)},showSlider:!1},ye.a.createElement(ze.s,{icon:"star"}),e.is_muted&&ye.a.createElement(ze.s,{icon:"volume-x"}),!e.is_muted&&ye.a.createElement(tt,{className:"badge badge-pill ml-1 ".concat(e.is_read||0!==e.total_unread?"":"unread")},e.total_unread>9?"".concat(e.total_unread,"+"):e.total_unread>0?e.total_unread:e.is_read?null:"0")))}))),ye.a.createElement(rt,null,ye.a.createElement(Ue.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:c.showUnreadChats},ye.a.createElement(ze.s,{icon:o.filter_channel?"filter-active":"filter",onClick:function(){i()}})))))},ot=xe.a.div(ee||(ee=Object(we.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  height: inherit;\n"]))),ct=xe.a.ul(ne||(ne=Object(we.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  height: inherit;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]))),st=xe.a.div(te||(te=Object(we.a)(["\n  border-bottom: 1px solid #ebebeb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n"]))),lt=xe.a.h4(ae||(ae=Object(we.a)(["\n  font-weight: 300;\n  margin: 24px 0 6px 0;\n"]))),dt=ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.search,r=e.workspace,i=e.dictionary,o=Object(Ne.d)((function(e){return e.chat.channels})),c=Object(Ne.d)((function(e){return e.chat.selectedChannel})),s=Object(ke.useState)(!1),l=Object(_e.a)(s,2),d=l[0],m=l[1],p=Object(Ae.b)(),u=Object(Ae.X)(Object.values(o),a,{},r),f=u.favoriteChannels,h=u.sortedChannels,b=u.searchArchivedChannels,E=u.filterUnreadChannels,g=Object(Ne.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),v=Object(Me.g)(),O=Object(Ne.d)((function(e){return e.chat.channelDrafts})),_=Object(Ne.d)((function(e){return e.chat.fetch})),w=_.skip,k=_.fetching,y=_.hasMore,N=function(){k||!y||d||(m(!0),p.loadMore({skip:w},(function(){return m(!1)})))},x=function(){p.searchArchivedChannels(!b)},T=function(e){if(document.body.classList.add("m-chat-channel-closed"),null!==c&&!g){var n=document.getElementById("component-chat-thread");n&&p.saveHistoricalPosition(c.id,n)}p.select(Object(Oe.a)(Object(Oe.a)({},e),{},{selected:!0})),e.hasOwnProperty("add_user")&&!0===e.add_user||v.push("/chat/".concat(e.code))};return ye.a.createElement(ot,{className:"chat-lists ".concat(t)},ye.a.createElement(it,{channels:f,onSelectChannel:T}),ye.a.createElement(ct,{className:"list-group list-group-flush"},h.map((function(e,n,t){var r="",o=!1;if(0!==n){var s=t[n-1],l=e;"PERSONAL_BOT"===s.type&&"PERSONAL_BOT"!==l.type?r=(l.is_relevant,i.chats):s.is_relevant&&!l.is_relevant?s.add_user||s.add_open_topic||!l.add_user&&!l.add_open_topic||(r=i.contacts):s.is_relevant||l.is_relevant||s.add_user||s.add_open_topic||!l.add_user&&!l.add_open_topic||(r=i.contacts)}else"PERSONAL_BOT"===e.type?r=i.personalBot:e.is_relevant&&e.add_user?r=i.chats:e.add_user||e.add_open_topic?r=i.contacts:(r=i.chats,o=!0);return ye.a.createElement(ye.a.Fragment,{key:e.id},""!==a&&""!==r&&ye.a.createElement(st,null,ye.a.createElement(lt,null,r," "),o&&ye.a.createElement($n.a,{className:"cursor-pointer text-muted",checked:b,type:"switch",id:"show_archive",name:"show archive",onChange:x,label:ye.a.createElement("span",null,i.showArchived)})),ye.a.createElement(Xn,{channel:e,selectedChannel:c,channelDrafts:O,dictionary:i,search:a,addLoadRef:""===a&&n>h.length-5,onLoadMore:N,onSelectChannel:T}))})),!0===r&&0===h.length||E&&0===h.length?ye.a.createElement("li",null,ye.a.createElement("h4",null,i.nothingToSeeHere)):0===h.length&&""!==a&&ye.a.createElement("li",null,ye.a.createElement("h4",null,i.noMatchingChats))))})),mt=xe.a.div(re||(re=Object(we.a)(["\n  // overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 991.99px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n  // .tab-panel {\n  //   overflow-x: hidden;\n  // }\n  .tab-content,\n  .tab-panel {\n    display: flex;\n    height: 100%;\n  }\n  .tab-content {\n    flex-flow: column;\n  }\n  .badge-filter {\n    width: 130px;\n  }\n"]))),pt=ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.pill,r=void 0===a?"pills-home":a,i=e.search,o=e.dictionary,c=e.resetFilter;return ye.a.createElement(mt,{className:"chat-sidebar-content ".concat(t),tabIndex:"1"},ye.a.createElement("div",{className:"tab-content pt-2",id:"pills-tabContent"},"pills-workspace"===r&&ye.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:c},ye.a.createElement(ze.s,{className:"mr-1",icon:"x",width:11,height:11,onClick:c})," Workspace chats"),"pills-home"===r&&ye.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===r&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},ye.a.createElement(dt,{search:i,workspace:null,dictionary:o})),"pills-workspace"===r&&ye.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===r&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},ye.a.createElement(dt,{search:i,workspace:!0,dictionary:o}))))})),ut=t(164),ft=xe.a.div(ie||(ie=Object(we.a)(['\n  z-index: 2;\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: #7a1b8b;\n            color: #ffffff;\n            border-color: #7a1b8b;\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    background: rgb(222, 226, 230);\n    .dark & {\n      background: #333539;\n    }\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .chat-sidebar-options-container {\n    height: 38px;\n  }\n']))),ht=Object(xe.a)(ut.a)(oe||(oe=Object(we.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]))),bt=Object(xe.a)(un.c)(ce||(ce=Object(we.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n"]))),Et=ye.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(Me.i)(),r=Object(Ne.c)(),i=Object(Ne.d)((function(e){return e.chat.searchArchivedChannels})),o=Object(Ae.T)(),c=o.chatSettings,s=o.setChatSetting,l=Object(Ae.b)(),d=Object(Ne.d)((function(e){return e.chat.chatSidebarSearch}));Object(Ae.D)();var m=Object(Ne.d)((function(e){return e.chat.searchingChannels})),p=Object(ke.useState)(""),u=Object(_e.a)(p,2),f=u[0],h=u[1],b=Object(ke.useState)(""),E=Object(_e.a)(b,2),g=E[0],v=E[1],O=Object(ke.useState)(c.chat_filter),_=Object(_e.a)(O,2),w=_[0],k=_[1],y={container:Object(ke.useRef)(null),navTab:Object(ke.useRef)(null)};Object(ke.useEffect)((function(){var e=setTimeout((function(){if(l.setSidebarSearch({value:g,searching:""!==g.trim()}),""!==g.trim()){var e={search:g,skip:0,limit:25};i&&(e=Object(Oe.a)(Object(Oe.a)({},e),{},{filter:"archived"})),l.search(e)}}),300);return function(){return clearTimeout(e)}}),[g,i]);var N=function(){h(""),v("")},x=function(){k("pills-home")},T=function(e){w===e.target.getAttribute("aria-controls")?x():k(e.target.getAttribute("aria-controls"))},j=Object(Ae.gb)()._t,A={chats:j("CHAT.CHATS","Chats"),contacts:j("CHAT.CONTACTS","Contacts"),workspaceChats:j("CHAT.WORKSPACE_CHATS","Workspace chats"),recentChats:j("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:j("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:j("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:j("CHAT.RECENT","Recent"),favorite:j("CHAT.FAVORITE","Favorite"),hidden:j("CHAT.HIDDEN","Hidden"),pinned:j("CHAT.PINNED","Pinned"),startNew:j("CHAT.START_NEW","Start new"),viewOpenWorkspace:j("CHAT.VIEW_OPEN_WORKSPACE","View open workspace"),archived:j("CHAT.ARCHIVED","Archived"),nothingToSeeHere:j("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:j("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:j("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:j("CHAT.PERSONAL_BOT","Personal bot"),you:j("CHAT.PREVIEW_AUTHOR_YOU","You"),showArchived:j("CHAT.SHOW_ARCHIVED","Show archived"),withTeam:j("CHANNEL.WITH_TEAM","Team Chat"),withClient:j("CHANNEL.WITH_CLIENT","Client Chat"),team:j("TEAM","Team")};return Object(ke.useEffect)((function(){c.chat_filter!==w&&s({chat_filter:w})}),[c.chat_filter,w]),Object(ke.useEffect)((function(){""===d?N():h(d)}),[d]),Object(ke.useEffect)((function(){a.messageId&&document.body.classList.add("m-chat-channel-closed")}),[]),ye.a.createElement(ft,{ref:y.container,className:"chat-sidebar ".concat(t)},ye.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start align-items-center"},ye.a.createElement(ht,{onChange:function(e){v(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&N()},value:g,onClickEmpty:N,closeButton:"true",searching:m,className:"chat-search",placeholder:A.searchChatPlaceholder}),ye.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2 chat-sidebar-options-container"},ye.a.createElement(bt,{role:"tabList"},ye.a.createElement("div",{className:"option-filter ".concat("pills-home"===w?"active":""),onClick:T,"aria-controls":"pills-home","aria-selected":"false"},A.chats),ye.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===w?"active":""),onClick:T,"aria-controls":"pills-workspace","aria-selected":"false"},A.workspaceChats),ye.a.createElement("div",{className:"d-flex",onClick:function(){r(Object(Te.a)({type:"chat_create_edit",mode:"new"}))}},ye.a.createElement(ze.s,{className:"mr-2",width:14,height:14,icon:"plus"})," ",A.newGroupChat)))),ye.a.createElement(pt,{pill:w,search:f,dictionary:A,resetFilter:x}))})),gt=t(6),vt=t(30),Ot=xe.a.div(se||(se=Object(we.a)(["\nposition: absolute;\ntop: 0;\nbottom: 0;\nright: 0;\nwidth: 100%;\nheight: 100%;\ntransform: translateX(100%);\ntransition: 0.1s ease-out;\npadding: 0 1em;\nmargin-right: -10px;\nz-index: 3;\nbackground:#FFF;\ncolor:#8b8b8b;\n","\n.dark & {\n  background:#191c20;\n  color:#c7c7c7;\n}"])),(function(e){return e.isActive&&"transform: translateX(0%);margin:0px;"})),_t=Object(xe.a)(ze.s)(le||(le=Object(we.a)(["cursor: pointer; "]))),wt=xe.a.ul(de||(de=Object(we.a)(["list-style: none;\nbackground: transparent;\nmargin: 0;\npadding: 0;\nli:last-child {\n    border-bottom: none;\n}\n"]))),kt=xe.a.li(me||(me=Object(we.a)(["cursor: pointer;\nbackground: transparent;\nfont-size: 0.835re;\npadding: 5px 20px;\nmargin-top: 0;\nborder-radius: 0;\nborder-left: none;\nborder-right: none;\nborder-top: none;\nborder-bottom: 1px solid #ebebeb;\n.dark & {\n    border-color: rgba(155, 155, 155, 0.1);\n    color:#c7c7c7;\n}\ncolor: #495057;\np.chat-search-date {\n    font-size: smaller;\n    margin: 0;\n}\ndiv.chat-search-body {\n    font-size: 0.835re;\n}\ndiv.chat-search-body span {\n    font-weight: 600; \n    color: #7a1b8b;\n    .dark & {\n      color:#fff;\n  }\n}\n"]))),yt=xe.a.div(pe||(pe=Object(we.a)(["overflow: auto;height: calc(100% - 43px);"]))),Nt=xe.a.div(ue||(ue=Object(we.a)(["\ndisplay: flex;\nflex-flow: column;\njustify-content: center;\nalign-items: center;\nflex-grow: 1;\npadding: 5rem;\ncolor: #8b8b8b;\n.dark & {\n  color:#c7c7c7;\n}\nsvg {\n    display: block;\n    margin: 0 auto;\n}\nh3 {\n    font-size: 16px;\n}\nh5 {\n    margin-bottom: 0;\n    font-size: 14px;\n}\nbutton {\n    width: auto !important;\n    margin: 2rem auto;\n}\n"]))),xt=xe.a.form(fe||(fe=Object(we.a)(["flex-grow:1;margin:0 .5rem 0 0.5em!important;.form-control{border-radius:8px!important;padding-left:40px;transition:padding-left 0.4s cubic-bezier(.275,.42,0,1);&:focus{padding-left:12px}}.not-empty .form-control{padding-left:12px}.not-empty .input-group-append{display:none}.btn-cross{right:0!important}.input-group-append{position:absolute;top:2px;left:0;button{border:0!important;padding:10px 14px!important;color:#aaa;pointer-events:none}}@media (max-width:480px){margin:0 0 0.75rem!important}&::placeholder{color:#aaa}.btn-cross{position:absolute;right:45px;opacity:0;border:0;background:transparent;padding:0;height:100%;width:36px;border-radius:4px;svg{width:16px;color:#495057}}.not-empty .btn-cross{z-index:9;opacity:1}.loading{height:1rem;width:1rem}"]))),Tt=function(e){e.className;var n=e.showSearchPanel,t=e.handleSearchChatPanel,a=e.selectedChannel,r=e.newSeachToogle,i=Object(ke.useState)(0),o=Object(_e.a)(i,2),c=o[0],s=o[1],l=Object(ke.useRef)(),d=Object(Ae.ab)().todoFormat,m=Object(Ae.gb)()._t,p=Object(ke.useState)(""),u=Object(_e.a)(p,2),f=u[0],h=u[1],b=Object(ke.useState)(!1),E=Object(_e.a)(b,2),g=E[0],v=E[1],O=Object(ke.useState)([]),_=Object(_e.a)(O,2),w=_[0],k=_[1],y={noItemsFoundHeader:m("CHATSEARCH.NO_ITEMS_FOUND_HEADER","WOO!"),noItemsFoundText:m("CHATSEARCH.NO_ITEMS_FOUND_TEXT","Nothing here but me\u2026 \ud83d\udc7b")},N=function(){k([]),h(""),v(!1)},x=Object(Ae.O)(),T=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(vt.n)({channel_id:a.id,is_translate:a.is_translate,search:e,skip:n,limit:20}).then((function(e){return e})).then((function(e){t?(k([e.data.results]),s(0)):k([].concat(Object(gt.a)(w),[e.data.results]))}))};return Object(ke.useEffect)((function(){null!==a&&c>0&&(v(!0),T(f,c))}),[c]),Object(ke.useEffect)((function(){setTimeout((function(){g&&v(!g)}),200)}),[w]),Object(ke.useEffect)((function(){N()}),[r]),Object(ke.useEffect)((function(){if(f.length>2){l.current.classList.add("not-empty"),v(!0);var e=setTimeout((function(){T(f,0,!0)}),1e3);return function(){return clearTimeout(e)}}k([]),l.current.classList.remove("not-empty")}),[f]),ye.a.createElement(Ot,{isActive:n},ye.a.createElement("div",{className:"d-flex justify-content-between align-items-flex-start align-items-center mb-2"},ye.a.createElement(_t,{icon:"chevron-left",onClick:t}),ye.a.createElement(xt,{className:"chat-search-chat"},ye.a.createElement("div",{className:"input-group",ref:l},ye.a.createElement("input",{onChange:function(e){return h(e.target.value)},value:f,type:"text",className:"form-control",placeholder:"Search",onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&N()}}),ye.a.createElement("button",{onClick:N,className:"btn-cross",type:"button"},g?ye.a.createElement(ze.j,null):ye.a.createElement(ze.s,{icon:"x"})),ye.a.createElement("div",{className:"input-group-append"},ye.a.createElement("button",{className:"btn btn-outline-light",type:"button"},ye.a.createElement("i",{className:"ti-search"})))))),ye.a.createElement(yt,{className:"justify-content-between align-items-center",onScroll:function(e){e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight&&s(c+20)}},ye.a.createElement(wt,null," ",n&&function(e){var n=e.map((function(e){return e.map((function(e){return ye.a.createElement(kt,{onClick:function(n){return r=e,t(),void x.toChat(a,r);var r},key:e.id},ye.a.createElement("p",{className:"chat-search-date"}," ",d(e.created_at.timestamp))," ",ye.a.createElement("div",{className:"chat-search-body mb-2",dangerouslySetInnerHTML:{__html:e.body}})," ")}))}));return n[0]&&n[0].length?n:ye.a.createElement(Nt,null," ",ye.a.createElement("h3",null,y.noItemsFoundHeader),ye.a.createElement("h5",null,y.noItemsFoundText," ")," ")}(w)," ")))},jt=t(798),At=t.n(jt),Ct=xe.a.div(he||(he=Object(we.a)(["\n  width: 40px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n"]))),St=xe.a.div(be||(be=Object(we.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  .btn-meet {\n    img {\n      width: 24px;\n      height: 24px;\n      vertical-align: top;\n      margin-bottom: -5px;\n    }\n  }\n  @media (max-width: 414px) {\n    min-width: ",";\n    .btn-meet,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"])),(function(e){return e.editMode&&!e.clientChat?"160px":e.editMode&&e.clientChat?"120px":!e.editMode&&e.clientChat?"80px":"120px"}),(function(e){return e.clientChat&&e.showButtons&&e.editMode?"120px":e.clientChat&&e.showButtons&&!e.editMode?"90px":e.showButtons&&e.editMode?"150px":e.showButtons?"120px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),Rt=ye.a.memo((function(e){var n=e.channel,t=e.showEmojiPicker,a=e.handleShowEmojiPicker,r=e.handleGoogleMeet,i=e.onShowFileDialog,o=e.editChatMessage,c=e.quote,s=e.dictionary,l=Object(Ne.c)(),d=Object(Ne.d)((function(e){return e.workspaces.workspaces})),m=Object(ke.useState)(!1),p=Object(_e.a)(m,2),u=p[0],f=p[1],h=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},b=n&&d[n.entity_id]&&d[n.entity_id].is_shared&&d[n.entity_id].channel.id===n.id;return ye.a.createElement(St,{editMode:null!==o,showButtons:u,clientChat:b},o&&ye.a.createElement(Ct,null,ye.a.createElement(Ue.a,{arrowSize:5,distance:10,onToggle:h,content:s.closeEdit},ye.a.createElement(ze.s,{className:"close-button",icon:"x",onClick:function(){c&&l(Object(He.o)(c)),null!==o&&l(Object(He.Lb)(null))}}))),ye.a.createElement(Ct,{className:"btn-smile"},ye.a.createElement(Ue.a,{arrowSize:5,distance:10,onToggle:h,content:"Emoji"},ye.a.createElement(ze.s,{className:"".concat(t?"active":""),onClick:a,icon:"smile"}))),ye.a.createElement(Ct,{className:"btn-meet"},ye.a.createElement(Ue.a,{arrowSize:5,distance:10,onToggle:h,content:"Zoom"},ye.a.createElement("img",{src:At.a,onClick:r}))),ye.a.createElement(Ct,{className:"btn-paperclip"},ye.a.createElement(Ue.a,{arrowSize:5,distance:10,onToggle:h,content:s.attachFiles},ye.a.createElement(ze.s,{onClick:i,icon:"paperclip"}))),ye.a.createElement(Ct,{className:"chat-buttons"},ye.a.createElement(ze.s,{onClick:function(){f((function(e){return!e}))},icon:u?"x":"more-vertical"})))})),It=(xe.a.div(Ee||(Ee=Object(we.a)(["\n  font-size: 13px;\n  font-weight: 600;\n  .card {\n    overflow: visible;\n  }\n  .custom-switch {\n    input {\n      cursor: pointer;\n    }\n  }\n"]))),xe.a.span(ge||(ge=Object(we.a)(["\n  font-weight: 600;\n  cursor: pointer;\n"]))),xe.a.div(ve||(ve=Object(we.a)([""])))),Pt=function(e){e.className;var n=e.selectedChannel,t=e.chatMessageActions,a=e.translated_channels,r=(Object(Me.g)(),Object(Ne.c)()),i=Object(Ae.bb)(),o=Object(Ae.T)().setGeneralSetting,c=Object(Ae.gb)()._t,s={chatTranslateOn:c("SETTINGS.CHAT_TRANSLATE_TITLE_ON","Turn ON chat translate."),chatTranslateOff:c("SETTINGS.CHAT_TRANSLATE_TITLE_OFF","Turn OFF chat translate."),chatTranslateIsOn:c("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned ON chat translate."),chatTranslateIsOff:c("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned OFF chat translate")},l=!!(a.length>0&&a.includes(n.id)),d=Object(ke.useCallback)((function(e){e.persist();var r=!l||!n.is_translate;t.saveChannelTranslateState(Object(Oe.a)(Object(Oe.a)({},n),{},{is_translate:r})),m(Object(Oe.a)(Object(Oe.a)({},n),{},{is_translate:r}));var c=n.id;o(r?{translated_channels:[].concat(Object(gt.a)(a),[c])}:{translated_channels:a.filter((function(e){return e!==c}))}),i.success(ye.a.createElement("span",null,r?s.chatTranslateIsOn:s.chatTranslateIsOff))})),m=Object(ke.useCallback)((function(e){r(Object(We.T)(e,(function(){var n=Object(Oe.a)({},e);r(Object(We.W)(n))})))}));return ye.a.createElement(It,{onClick:d},l?s.chatTranslateOff:s.chatTranslateOn)},Lt=t(742),Dt=function(e){var n=e.channel,t=Object(Ne.d)((function(e){return e.users.teams})),a=n.members;if("TEAM"===n.type||"DIRECT_TEAM"===n.type){var r=Array.from(Object.values(t)).find((function(e){return e.id===n.entity_id}));if(r)a=[{id:r.id,name:r.name,members:r.members,icon_link:r.icon_link}].concat(Object(gt.a)(a))}else if("TOPIC"===n.type&&n.team_ids&&n.team_ids.length){var i=Array.from(Object.values(t)).filter((function(e){return n.team_ids.some((function(n){return n===e.id}))})).map((function(e){return{id:e.id,name:e.name,members:e.members,icon_link:e.icon_link}}));a=[].concat(Object(gt.a)(i),Object(gt.a)(a))}return ye.a.createElement("div",{className:"chat-header-right"},ye.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(n.type)&&ye.a.createElement("li",null,ye.a.createElement(Lt.a,{members:a}))))}},774:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k,y,N,x,T,j=t(7),A=t(10),C=t(0),S=t.n(C),R=t(4),I=t(45),P=t(9),L=t(13),D=t(11),M=t(163),F=Object(P.a)(M.c)(a||(a=Object(A.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),U=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.files,o=e.scrollRef,c=void 0===o?null:o,s=e.actions,l=e.forceDelete,d=e.disableOptions,m=Object(D.bb)(),p=Object(D.gb)()._t,u={rename:p("FILES.RENAME","Rename"),restore:p("FILES.RESTORE","Restore"),remove:p("FILES.REMOVE","Remove"),viewDetails:p("FILES.VIEW_DETAILS","View details"),share:p("FILES.SHARE","Share"),download:p("FILES.DOWNLOAD","Download"),moveTo:p("FILES.MOVE_TO","Move to"),favorite:p("FILES.FAVORITE","Favorite"),unfavorite:p("FILES.UNFAVORITE","Unfavorite")};return S.a.createElement(F,{className:"file-options ".concat(t),moreButton:"more-horizontal",file:r,scrollRef:c},S.a.createElement("div",{onClick:function(){s.viewCompanyFiles(r,i)}},u.viewDetails),S.a.createElement("div",{onClick:function(){s.download(r)}},u.download),l?S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{onClick:function(){s.restoreCompanyFile(r,(function(e,n){n&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?m.success(S.a.createElement(S.a.Fragment,null,"Item ",S.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):m.success(S.a.createElement(S.a.Fragment,null,"Item ",S.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},u.restore)):S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{onClick:function(){s.copyLink(r.view_link)}},u.share),S.a.createElement("div",{onClick:function(){s.favorite(r)}},r.is_favorite?u.unfavorite:u.favorite),S.a.createElement("div",{onClick:function(){s.moveCompanyFile(r)}},u.moveTo),S.a.createElement("div",{onClick:function(){s.renameCompanyFile(r)}},u.rename)),!d&&S.a.createElement("div",{onClick:function(){r.hasOwnProperty("payload_id")?s.unlinkGoogleAttachment(r):s.removeCompanyFile(r,(function(){}),l)}},u.remove))})),H=t(1),W=t(14),z=t(99),B=P.a.div(r||(r=Object(A.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),G=Object(P.a)(W.s)(i||(i=Object(A.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),V=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.files,o=e.actions,c=e.forceDelete,s=void 0!==c&&c,l=e.disableOptions,d=o.getFileSizeUnit(r.hasOwnProperty("size")&&"number"===typeof r.size?r.size:0),m=Object(C.useState)(r.is_favorite),p=Object(j.a)(m,2),u=p[0],f=p[1],h=Object(C.useState)("undefined"===typeof r.name?r.search:r.name),b=Object(j.a)(h,2),E=b[0],g=b[1],v=function(){o.viewCompanyFiles(r,i)};return Object(C.useEffect)((function(){g("undefined"===typeof r.name?r.search:r.name)}),[r.name,r.search]),S.a.createElement(B,{className:"file-list-item ".concat(t)},S.a.createElement("div",{className:"card  app-file-list"},S.a.createElement("div",{className:"string"===typeof r.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:v},!0===u&&S.a.createElement(G,{icon:"star"}),o.getFileIcon(r.mime_type),"number"===typeof r.id&&S.a.createElement(U,{file:r,files:i,folders:a,actions:Object(H.a)(Object(H.a)({},o),{},{favorite:function(){f((function(e){return!e})),o.favorite(r)}}),forceDelete:s,disableOptions:l}),"string"===typeof r.id&&S.a.createElement(M.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),S.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:v},S.a.createElement(W.t,{content:E},S.a.createElement("div",{className:"file-name"},r.hasOwnProperty("payload_id")&&S.a.createElement(W.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),E)),S.a.createElement("div",{className:"text-muted"},d.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],d.unit))))})),Y=t(16),K=t(252),q=t(251),Z=t.n(q),J=P.a.div(o||(o=Object(A.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"])),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),Q=Object(P.a)(W.s)(c||(c=Object(A.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]))),X=P.a.img(s||(s=Object(A.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"])),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),$=P.a.div(l||(l=Object(A.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]))),ee=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.actions,i=e.history,o=e.params,c=e.handleAddEditFolder,s=e.disableOptions,l=Object(I.j)(),d=l.path,m=l.url,p=Object(C.useRef)(null),u=Object(C.useState)(!1),f=Object(j.a)(u,2),h=f[0],b=f[1],E=Object(C.useState)(a.bg_color?a.bg_color:""),g=Object(j.a)(E,2),v=g[0],O=g[1],_=function(e){if(e.preventDefault(),e.stopPropagation(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===d){var n=m.split("/folder/")[0];i.push(n+"/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)))}else i.push(i.location.pathname+"/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)))};return Object(C.useEffect)((function(){if(""!==v&&v!==a.bg_color&&!h){var e={id:a.id,name:a.search,bg_color:v};a.parent_folder&&(e=Object(H.a)(Object(H.a)({},e),{},{folder_id:a.parent_folder.id})),r.updateCompanyFolders(e)}}),[h,v]),Object(C.useEffect)((function(){O(a.bg_color)}),[a.bg_color]),Object(D.G)(p,(function(){return b(!h)}),h),S.a.createElement(J,{className:"file-list-item ".concat(t),color:v},S.a.createElement("div",{className:"card  app-file-list"},S.a.createElement("div",{className:"app-file-icon cursor-pointer"},S.a.createElement("div",{onClick:_},a.hasOwnProperty("payload")&&S.a.createElement(Q,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),S.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!s&&S.a.createElement(_e,{folder:a,actions:r,history:i,params:o,handleAddEditFolder:c}),S.a.createElement(X,{className:"color-picker",src:Z.a,alt:"color picker",disableOptions:s,onClick:function(e){e.stopPropagation(),e.preventDefault(),b(!h)}})),h&&S.a.createElement($,{ref:p},S.a.createElement(K.a,{color:v,onChange:function(e,n){n.stopPropagation(),O(e.hex)}}))),S.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:_},S.a.createElement(W.t,{content:a.search},S.a.createElement("div",{className:"file-name"},a.search)))))})),ne=t(743),te=P.a.div(d||(d=Object(A.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),ae=Object(P.a)(M.c)(m||(m=Object(A.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]))),re=P.a.div(p||(p=Object(A.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),ie=P.a.div(u||(u=Object(A.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]))),oe=S.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.dropZoneRef,i=e.filter,o=e.search,c=e.files,s=e.handleAddEditFolder,l=e.actions,d=e.params,m=e.folders,p=e.folder,u=e.fileIds,f=e.history,h=e.subFolders,b=e.dictionary,E=e.disableOptions,g=e.loadMore,v=e.isLoaded,O=document.querySelector(".app-content-body"),_=Object(R.d)((function(e){return e.session.user})),w={files:Object(C.useRef)(null),btnLoadMore:Object(C.useRef)(null)},k=Object(C.useState)(!1),y=Object(j.a)(k,2),N=y[0],x=y[1],T=function(){r.current&&r.current.open()},A=function(){x(!1)},I=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&w.btnLoadMore.current&&w.btnLoadMore.current.click()};return Object(C.useEffect)((function(){if(w.files.current){var e=w.files.current;return e&&"0"===e.dataset.loaded?(g.files(),e.dataset.loaded="1",w.files.current.addEventListener("scroll",I,!1),function(){return w.files.current.removeEventListener("scroll",I,!1)}):void 0}}),[w.files.current]),S.a.createElement(te,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(i)||N||x(!0)}},S.a.createElement("span",{className:"d-none",ref:w.btnLoadMore,onClick:g.files},"Load more"),!E&&S.a.createElement(z.a,{ref:r,hide:!N,onDragLeave:A,onDrop:function(e){!function(e){x(!1);var n=Math.floor(Date.now()/1e3),a=new FormData;for(var r in e)e.hasOwnProperty(r)&&(e[r].reference_id=t(78).generate(),a.append("files["+r+"]",e[r]));var i={files:e.map((function(e){return{created_at:{timestamp:n},download_link:null,folder_id:p?p.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:n},user_id:_.id,view_link:null,uploading:!0}})),folder_id:p?p.id:null};l.uploadingCompanyFiles(i);var o={is_primary:0,files:a};d.folderId&&(o=Object(H.a)(Object(H.a)({},o),{},{folder_id:d.folderId})),l.uploadCompanyBulkFiles(o)}(e.acceptedFiles)},onCancel:A,params:d}),S.a.createElement("div",{ref:w.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof c&&S.a.createElement(S.a.Fragment,null,p&&"removed"!==i&&!E&&S.a.createElement(ae,{moreButton:"settings"},S.a.createElement("div",{onClick:function(){s(p,"update")}},b.editFolder),S.a.createElement("div",{onClick:function(){if(p){l.removeFolder(p,(function(e,n){if(!e&&n){var t=f.location.pathname.split("/folder/")[0];f.push(t)}}))}}},b.removeFolder)),"removed"===i&&c&&c.hasOwnProperty("trash_files")&&(Object.keys(c.trash_files).length>0||Object.values(m).filter((function(e){return e.is_archived})).length>0)&&S.a.createElement(W.s,{icon:"trash",onClick:l.removeAllCompanyTrashFiles}),""===i&&S.a.createElement(S.a.Fragment,null,"undefined"===typeof d.folderId&&S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},b.allFiles),p&&S.a.createElement(le,{folder:p,history:f,dictionary:b,folders:m}),S.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?h.filter((function(e){return!e.is_archived})).map((function(e){return S.a.createElement(ee,{key:e.id,actions:l,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:E,folder:e,history:f,params:d,handleAddEditFolder:s})})):Object.values(m).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return S.a.createElement(ee,{key:e.id,actions:l,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:E,folder:e,history:f,params:d,handleAddEditFolder:s})}))),"undefined"!==typeof d.folderId?S.a.createElement(S.a.Fragment,null,p?S.a.createElement(S.a.Fragment,null,S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},p.search),S.a.createElement("div",{className:"row"},c&&u.map((function(e){return c.files.hasOwnProperty(e)?S.a.createElement(V,{key:e,scrollRef:O,actions:l,folders:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],files:c.files,disableOptions:E}):null}))),c&&0===u.length&&S.a.createElement(re,null,S.a.createElement(W.q,{icon:4,height:282}),S.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:T,disabled:E},b.uploadFiles))):S.a.createElement(S.a.Fragment,null)):S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"row"},S.a.createElement(ne.f,{disableOptions:E}),c&&u.map((function(e){return c.files.hasOwnProperty(e)?S.a.createElement(V,{key:e,scrollRef:O,actions:l,folders:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],files:c.files,disableOptions:E}):null}))),c&&c.popular_files.length>0&&S.a.createElement(xe,{search:o,scrollRef:O,files:Object.values(c.files).filter((function(e){return c.popular_files.includes(e.id)})),actions:l,disableOptions:E}),c&&c.recently_edited.length>0&&S.a.createElement(je,{search:o,scrollRef:O,files:Object.values(c.files).filter((function(e){return c.recently_edited.includes(e.id)})),actions:l,disableOptions:E}),v&&0===c.popular_files.length&&0===c.recently_edited.length&&0===u.length&&0===Object.values(m).filter((function(e){return!0!==e.is_archived})).length&&0===h.length&&S.a.createElement(re,null,S.a.createElement(W.q,{icon:4,height:282}),S.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:T,disabled:E},b.uploadFiles)),!v&&S.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(je,{search:o,scrollRef:O,files:Object.values(c.files).filter((function(e){return c.recently_edited.includes(e.id)})),actions:l,disableOptions:E}),!(c&&c.recently_edited.length>0)&&S.a.createElement(re,null,S.a.createElement(W.q,{icon:4,height:282}))),"important"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(ye,{search:o,scrollRef:O,files:Object.values(c.files).filter((function(e){return c.favorite_files.includes(e.id)})),actions:l,dictionary:b}),!(c&&c.hasOwnProperty("favorite_files")&&c.favorite_files.length>0)&&S.a.createElement(re,null,S.a.createElement(W.q,{icon:4,height:282}),S.a.createElement(ie,null,S.a.createElement("p",null,"No favorite files."),S.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===i&&S.a.createElement(S.a.Fragment,null,S.a.createElement(Ce,{scrollRef:O,search:o,files:c.trash_files,actions:l,params:d,folders:m,subFolders:h,handleAddEditFolder:s,folder:p,disableOptions:E}),!(c&&c.hasOwnProperty("trash_files")&&Object.keys(c.trash_files).length>0)&&!(Object.values(m).some((function(e){return e.is_archived}))||h.some((function(e){return e.is_archived})))&&S.a.createElement(re,null,S.a.createElement(W.q,{icon:4,height:282}))))))})),ce=t(255),se=P.a.div(f||(f=Object(A.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]))),le=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.history,i=e.dictionary,o=e.folders,c=e.workspaceID,s=Object(I.j)().url,l=Object(C.useState)(!1),d=Object(j.a)(l,2),m=d[0],p=d[1];return Object(C.useEffect)((function(){a.parent_folder&&Object.values(o).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?p(!0):p(!1))})),a.parent_folder||p(!1)}),[a]),S.a.createElement(se,{className:"files-breadcrumb d-flex ".concat(t)},S.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},S.a.createElement("li",{onClick:function(){var e=r.location.pathname.split("/folder/")[0];r.push(e)}},i.allFiles),S.a.createElement(W.s,{width:12,icon:"chevron-right"}),m&&S.a.createElement(S.a.Fragment,null,S.a.createElement("li",null,S.a.createElement(ce.a,{parentFolder:a.parent_folder,workspaceID:c,history:r})),S.a.createElement(W.s,{width:12,icon:"chevron-right"})),a.parent_folder&&S.a.createElement(S.a.Fragment,null,S.a.createElement("li",{onClick:function(){return function(e){var n=s.split("/folder/")[0];r.push(n+"/folder/".concat(e.id,"/").concat(Object(Y.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),S.a.createElement(W.s,{width:12,icon:"chevron-right"})),S.a.createElement("div",null,a.search)))})),de=P.a.div(h||(h=Object(A.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),me=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dropZoneRef,r=e.onSearchChange,i=e.onSearch,o=e.onEnter,c=e.handleAddEditFolder,s=e.folders,l=e.history,d=e.params,m=e.clearFilter,p=e.dictionary,u=e.onClickEmpty,f=e.value,h=Object(R.c)(),b=function(e){if(m(),s.hasOwnProperty(e.target.dataset.value)){var n=s[e.target.dataset.value];n.hasOwnProperty("payload")?window.open(n.payload.url,"_blank"):d.hasOwnProperty("folderId")?l.push(l.location.pathname.split("/folder/")[0]+"/folder/".concat(n.id,"/").concat(Object(Y.h)(n.search))):l.push("/files/folder/".concat(n.id,"/").concat(Object(Y.h)(n.search)))}},E={label:S.a.createElement(S.a.Fragment,null,S.a.createElement(W.s,{className:"mr-1",icon:"plus"})," ",p.add),items:[{value:"folder",label:p.folder,onClick:function(){return c(null,"create")}},{value:"file",label:p.file,onClick:function(){a.current&&a.current.open()}}]},g={label:p.folders,items:Object.values(s).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:b}}))};return S.a.createElement(de,{className:"files-header app-action ".concat(t)},S.a.createElement("div",{className:"action-left"},S.a.createElement("ul",{className:"list-inline"},S.a.createElement("li",{className:"list-inline-item mb-0"},S.a.createElement(W.e,{dropdown:E})),Object.values(s).filter((function(e){return!e.is_archived})).length>=1&&S.a.createElement("li",{className:"list-inline-item mb-0"},S.a.createElement(W.e,{dropdown:g})),S.a.createElement("li",{className:"list-inline-item mb-0"},S.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){h(Object(L.a)({type:"external_file_folder",mode:"create",topic_id:null}))}},p.driveLink))),S.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},S.a.createElement(W.s,{icon:"menu"}))),S.a.createElement("div",{className:"action-right"},S.a.createElement("div",{className:"input-group"},S.a.createElement("input",{type:"text",onChange:r,value:f,onKeyDown:o,className:"form-control",placeholder:p.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==f.trim()&&S.a.createElement("button",{onClick:u,className:"btn-cross",type:"button"},S.a.createElement(W.s,{icon:"x"})),S.a.createElement("div",{className:"input-group-append"},S.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:i},S.a.createElement(W.s,{icon:"search"}))))))})),pe=P.a.div(b||(b=Object(A.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),ue=P.a.div(E||(E=Object(A.a)([""]))),fe=P.a.span(g||(g=Object(A.a)(["\n  cursor: pointer;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),he=Object(P.a)(W.s)(v||(v=Object(A.a)(["\n  width: 15px;\n"]))),be=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.filterFile,i=e.filter,o=void 0===i?"all":i,c=e.dropZoneRef,s=e.storageLimit,l=void 0===s?25:s,d=e.fileCount,m=e.folders,p=e.activeFolder,u=e.clearFilter,f=e.params,h=e.disableOptions,b=Object(D.gb)()._t,E=a.getFileSizeUnit(d.storage),g=0===d.storage?0:d.storage<1e8?1e8:d.storage,v={uploadFiles:b("FILE.UPLOAD_FILES","Upload files"),allFiles:b("FILES.ALL_FILES","All files"),recentlyEdited:b("FILES.RECENTLY_EDITED","Recently edited"),favorite:b("FILE.FAVORITE","Favorite"),removed:b("FILES.REMOVED","Removed"),storageStatus:b("FILES.STORAGE_STATUS","Storage Status"),usedOf:b("FILE.USED_OF","used of"),gigabyte:b("FILE.GIGABYTE","GB")};return S.a.createElement(pe,{className:"file-sidebar bottom-modal-mobile ".concat(t)},S.a.createElement(ue,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),S.a.createElement("div",{className:"card bottom-modal-mobile_inner"},S.a.createElement("div",{className:"card-body"},S.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){c.current&&c.current.open()},disabled:h},v.uploadFiles),S.a.createElement("form",{className:"d-none",id:"file-upload"},S.a.createElement("input",{type:"file",multiple:""}))),S.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},S.a.createElement("div",{className:"list-group list-group-flush"},S.a.createElement(fe,{onClick:r,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},S.a.createElement(he,{className:"mr-2",icon:"folder"}),v.allFiles,S.a.createElement("span",{className:"small ml-auto"},d.all>0?d.all:null)),m&&Object.values(m).filter((function(e){return!e.is_archived})).length>0&&S.a.createElement(fe,{className:"d-flex align-items-center folder-list"},S.a.createElement("ul",null,Object.values(m).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return S.a.createElement(ve,{key:e.id,clearFilter:u,folders:m,params:f,folder:e,activeFolder:p})})))),S.a.createElement(ne.n,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){a.uploadCompanyGoogleDriveFile(e)}))},disableOptions:h}),S.a.createElement(fe,{onClick:r,"data-filter":"recent",active:"recent"===o,className:"list-group-item d-flex align-items-center"},S.a.createElement(he,{className:"mr-2",icon:"monitor"}),v.recentlyEdited),S.a.createElement(fe,{onClick:r,"data-filter":"important",active:"important"===o,className:"list-group-item d-flex align-items-center"},S.a.createElement(he,{className:"mr-2",icon:"star"}),v.favorite,S.a.createElement("span",{className:"small ml-auto"},d.stars>0?d.stars:null)),S.a.createElement(fe,{onClick:r,"data-filter":"removed",active:"removed"===o,className:"list-group-item d-flex align-items-center"},S.a.createElement(he,{className:"mr-2",icon:"trash"}),v.removed,S.a.createElement("span",{className:"small ml-auto"},d.trash>0?d.trash:null))),S.a.createElement("div",{className:"card-body"},S.a.createElement("h6",{className:"mb-4"},v.storageStatus),S.a.createElement("div",{className:"d-flex align-items-center"},S.a.createElement("div",{className:"mr-3"},S.a.createElement(W.s,{icon:"database"})),S.a.createElement("div",{className:"flex-grow-1"},S.a.createElement(M.d,{amount:g,limit:1e9*l}),S.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},E.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],E.unit," ",v.usedOf," ",l,v.gigabyte)))))))})),Ee=P.a.li(O||(O=Object(A.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"])),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),ge=P.a.ul(_||(_=Object(A.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"])),(function(e){return e.maxHeight})),ve=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,c=Object(I.g)(),s=Object(I.j)(),l=s.params,d=s.path,m=s.url,p={container:Object(C.useRef)(null),arrow:Object(C.useRef)(null),nav:Object(C.useRef)(null)},u=Object(C.useState)(null),f=Object(j.a)(u,2),h=f[0],b=f[1],E=Object(C.useState)(null),g=Object(j.a)(E,2),v=g[0],O=g[1];return Object(C.useEffect)((function(){null!==p.nav.current&&O(p.nav.current.scrollHeight)}),[p.nav.current,v]),Object(C.useEffect)((function(){i&&i.parent_folder&&i.parent_folder.id===a.id&&b(!0)}),[l,i]),S.a.createElement(Ee,{ref:p.container,className:"folder-list fadeIn ".concat(t),selected:!!i&&i.id===a.id},S.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(o(),"/files/folder/:folderId/:folderName"===d){var e=m.split("/folder/")[0];c.push(e+"/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)))}else c.push("/files/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)));b((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&S.a.createElement(W.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&S.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(h?"ti-minus rotate-in":"ti-plus")})),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&S.a.createElement(ge,{ref:p.nav,maxHeight:v,className:h?"enter-active":"leave-active"},h&&Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return S.a.createElement(Se,{key:e.id,clearFilter:o,params:l,folderHeight:v,activeFolder:i,folders:r,folder:e})}))))},Oe=Object(P.a)(M.c)(w||(w=Object(A.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),_e=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,o=e.actions,c=e.history,s=e.handleAddEditFolder,l=Object(D.bb)(),d=Object(D.gb)()._t,m={rename:d("FILES.RENAME","Rename"),restore:d("FILES.RESTORE","Restore"),remove:d("FILES.REMOVE","Remove")};return S.a.createElement(Oe,{className:"file-options ".concat(t),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&!a.is_archived&&S.a.createElement("div",{onClick:function(){s(a,"edit")}},m.rename),a.is_archived&&S.a.createElement("div",{onClick:function(){o.restoreCompanyFolder(a,(function(e,n){n&&(a.parent_folder?l.success(S.a.createElement(S.a.Fragment,null,"Folder ",S.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):l.success(S.a.createElement(S.a.Fragment,null,"Folder ",S.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},m.restore),S.a.createElement("div",{onClick:function(){if(a.hasOwnProperty("payload"))o.unlinkGoogleFolder(a);else{o.removeCompanyFolder(a,(function(e,n){if(!e&&n){var t=c.location.pathname.split("/folder/")[0];c.push(t),l.info(S.a.createElement(S.a.Fragment,null,"You have removed ",S.a.createElement("b",null,a.search),"."))}}))}}},m.remove))})),we=t(738),ke=P.a.div(k||(k=Object(A.a)([""]))),ye=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,i=e.actions,o=e.dictionary;return S.a.createElement(ke,{className:"important-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},o.favoriteTitle),S.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return S.a.createElement(we.a,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:a,actions:i})}))))})),Ne=P.a.div(y||(y=Object(A.a)([""]))),xe=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,i=e.actions,o=e.disableOptions;return S.a.createElement(Ne,{className:"popular-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),S.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return S.a.createElement(V,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:i,folders:a,files:r,disableOptions:o})}))))})),Te=P.a.div(N||(N=Object(A.a)([""]))),je=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,i=e.actions,o=e.disableOptions;return S.a.createElement(Te,{className:"recent-edited-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),S.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return S.a.createElement(V,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:r,folders:a,actions:i,disableOptions:o})}))))})),Ae=P.a.div(x||(x=Object(A.a)([""]))),Ce=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.files,i=e.folders,o=e.subFolders,c=e.folder,s=e.params,l=e.handleAddEditFolder,d=e.disableOptions,m=Object(I.g)();return S.a.createElement(Ae,{className:"remove-files ".concat(t)},S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),c&&S.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},c.search),S.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?o.filter((function(e){return e.is_archived})).map((function(e){return S.a.createElement(ee,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:m,params:s,handleAddEditFolder:l,disableOptions:d})})):Object.values(i).filter((function(e){return e.is_archived})).map((function(e){return S.a.createElement(ee,{key:e.id,actions:a,folders:i,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:m,params:s,handleAddEditFolder:l,disableOptions:d})}))),S.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?r&&Object.values(r).length>0&&Object.values(r).filter((function(e){return c?c.id===e.folder_id:null===e.folder_id})).map((function(e){return S.a.createElement(V,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r).filter((function(e){return c?c.id===e.folder_id:null===e.folder_id})),actions:a,folders:i,disableOptions:d})})):r&&Object.values(r).length>0&&Object.values(r).map((function(e){return"undefined"!==typeof e?S.a.createElement(V,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r),folders:i,actions:a,disableOptions:d}):null}))))})),Se=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,c=e.params;return S.a.createElement(ve,{className:t,clearFilter:o,folders:r,params:c,folder:a,activeFolder:i})},Re=P.a.div(T||(T=Object(A.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"])));n.default=S.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.workspace,i=Object(R.c)(),o=Object(I.g)(),c=Object(D.gb)()._t,s=Object(D.j)(),l=s.params,d=s.isLoaded,m=s.files,p=s.fileCount,u=s.actions,f=s.fileIds,h=s.folders,b=s.folder,E=s.subFolders,g=s.loadMore,v=Object(C.useState)(""),O=Object(j.a)(v,2),_=O[0],w=O[1],k=Object(C.useState)(""),y=Object(j.a)(k,2),N=y[0],x=y[1],T={dropZone:Object(C.useRef)(null)},A=!1;r&&0===r.active&&(A=!0);var P=function(){u.searchCompany(N)},M=function(){x(""),u.clearSearch()},F={createFolder:c("FILE.CREATE_FOLDER","Create folder"),create:c("FILE.CREATE","Create"),updateFolder:c("FILE.UPDATE_FOLDER","Update folder"),update:c("FILE.UPDATE","Update"),editFolder:c("FILE.EDIT_FOLDER","Edit folder"),removeFolder:c("FILE.REMOVE_FOLDER","Remove folder"),add:c("FILE.ADD","Add"),favorite:c("FILE.FAVORITE","Favorite"),favoriteTitle:c("FILE.FAVORITE_TITLE","Favorite"),file:c("FILE.FILE","File"),folder:c("FILE.FOLDER","Folder"),folders:c("FILE.FOLDERS","Folders"),allFiles:c("FILES.ALL_FILES","All files"),recentlyEdited:c("FILES.RECENTLY_EDITED","Recently edited"),removed:c("FILES.REMOVED","Removed"),searchInputPlaceholder:c("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:c("FILE.UPLOAD_FILES","Upload files"),driveLink:c("BUTTON.DRIVE_LINK","Drive link")},U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",t={type:"files_folder",folder:"create"===n?null:e,params:l,mode:n,parentFolder:b||null};i(Object(L.a)(t))},H=function(){w("")};return Object(C.useEffect)((function(){b&&b.is_archived&&"removed"!==_&&w("removed")}),[b,_,w]),S.a.createElement(Re,{className:"container-fluid h-100 fadeIn ".concat(t)},S.a.createElement("div",{className:"row app-block"},S.a.createElement(be,{init:d,actions:u,isMember:a,clearFilter:H,params:l,dropZoneRef:T.dropZone,className:"col-lg-3",filterFile:function(e){if(l.hasOwnProperty("folderId")){var n=o.location.pathname.split("/folder/")[0];o.push(n)}w(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:_,fileCount:p,folders:h,activeFolder:b,dictionary:F,disableOptions:A}),S.a.createElement("div",{className:"col-lg-9 app-content mb-4"},S.a.createElement("div",{className:"app-content-overlay"}),S.a.createElement(me,{isMember:a,clearFilter:H,dropZoneRef:T.dropZone,history:o,params:l,onSearch:P,onSearchChange:function(e){""===e.target.value&&M(),x(e.target.value)},onEnter:function(e){"Enter"===e.key&&P()},files:m,handleAddEditFolder:U,folders:h,dictionary:F,disableOptions:A,onClickEmpty:M,value:N}),S.a.createElement(oe,{dropZoneRef:T.dropZone,isLoaded:d,loadMore:g,filter:_,search:N,folders:h,folder:b,fileIds:f,subFolders:E,history:o,actions:u,params:l,files:m,handleAddEditFolder:U,dictionary:F,disableOptions:A}))))}))},775:function(e,n,t){"use strict";t.d(n,"a",(function(){return be})),t.d(n,"b",(function(){return ve})),t.d(n,"c",(function(){return Re})),t.d(n,"d",(function(){return qe})),t.d(n,"e",(function(){return Je})),t.d(n,"f",(function(){return Xe})),t.d(n,"g",(function(){return en})),t.d(n,"h",(function(){return ln})),t.d(n,"j",(function(){return pn})),t.d(n,"k",(function(){return bn})),t.d(n,"i",(function(){return vn})),t.d(n,"m",(function(){return _n})),t.d(n,"l",(function(){return jn}));var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k,y,N,x,T,j,A,C,S,R,I,P,L,D,M,F,U,H,W,z,B,G,V,Y,K,q,Z=t(1),J=t(7),Q=t(10),X=t(0),$=t.n(X),ee=t(9),ne=t(14),te=t(11),ae=t(103),re=t(4),ie=t(45),oe=t(23),ce=t(741),se=t(16),le=t(42),de=t(58),me=ee.a.div(a||(a=Object(Q.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]))),pe=Object(ee.a)(ne.s)(r||(r=Object(Q.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]))),ue=ee.a.div(i||(i=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n"]))),fe=ee.a.div(o||(o=Object(Q.a)(["\n  //min-width: 150px;\n  margin-left: auto;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-end;\n  @media (max-width: 414px) {\n    .post-badge {\n      display: flex;\n      flex-flow: row wrap;\n      justify-content: flex-end;\n      .mr-3 {\n        margin-left: 1rem;\n        margin-right: 0 !important;\n      }\n    }\n  }\n"]))),he=ee.a.span(c||(c=Object(Q.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]))),be=$.a.memo((function(e){var n=e.post,t=e.user,a=e.postActions,r=e.dictionary,i=e.disableOptions,o=e.disableMarkAsRead,c="external"===t.type,s=Object(re.c)(),l={container:Object(X.useRef)(null),body:Object(X.useRef)(null)},d=Object(te.t)(),m=d.fileBlobs,p=d.actions.setFileSrc,u=Object(te.O)(),f=Object(re.d)((function(e){return e.workspaces.workspaces})),h=Object(X.useState)({approve:!1,change:!1}),b=Object(J.a)(h,2),E=b[0],g=(b[1],Object(te.ab)().fromNow),v=Object(te.y)(),O=Object(te.mb)(),_=Object(ie.g)(),w=function(e){var t=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(t=e.target.dataset.id);else{var a=n.files.find((function(n){return n.thumbnail_link===e.srcElement.currentSrc}));a&&(t=a.id)}t&&s(Object(oe.cc)({file_id:parseInt(t),files:n.files}))};Object(X.useEffect)((function(){l.body.current&&(l.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){v.init(e)})),l.body.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&m[a.id]&&(e.setAttribute("src",m[a.id]),e.setAttribute("data-id",a.id))}else{e.addEventListener("click",w,!1),e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&m[r.id]&&(e.setAttribute("src",m[r.id]),e.setAttribute("data-id",r.id))}})));var e=n.files.filter((function(e){return e.type.includes("image")}));e.length&&e.forEach((function(e){m[e.id]||de.sessionService.loadSession().then((function(t){var r=t.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:r,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var r=URL.createObjectURL(t);p({id:e.id,src:r}),a.updatePostImages({post_id:n.id,topic_id:null,file:Object(Z.a)(Object(Z.a)({},e),{},{blobUrl:r})})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[n.body,l.body,n.files]);var k=function(e){var n=e.target.dataset,t=n.id;switch(n.type){case"DEPARTMENT":_.push("/chat");break;case"TOPIC":var a=f[t];a&&u.toWorkspace(a);break;case"USER":_.push("/profile/".concat(t,"/").concat(Object(se.h)(e.target.innerHTML)));break;case"TEAM":_.push("/system/people/teams/".concat(t,"/").concat(Object(se.h)(e.target.innerHTML)))}};Object(X.useEffect)((function(){l.container.current&&l.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",k)}))}));var y=n.users_approval.length>0&&n.users_approval.filter((function(e){return null===e.ip_address})).length===n.users_approval.length,N=n.users_approval.length>1,x=n.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return $.a.createElement(me,{ref:l.container,className:"card-body"},x&&!c&&$.a.createElement(he,{className:n.shared_with_client?"client-shared":"client-not-shared"},n.shared_with_client&&$.a.createElement($.a.Fragment,null,$.a.createElement(pe,{icon:"eye"}),r.sharedClientBadge),!n.shared_with_client&&$.a.createElement($.a.Fragment,null,$.a.createElement(pe,{icon:"eye-off"}),r.notSharedClientBadge)),$.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},$.a.createElement("div",{className:"d-flex align-items-center text-muted w-100"},$.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},$.a.createElement(ne.a,{className:"mr-2 post-author",id:n.author.id,name:n.author.name,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link}),$.a.createElement("div",null,$.a.createElement("span",{className:"author-name"},n.author.first_name),$.a.createElement(ue,null,$.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=n.recipients.some((function(e){return e.type_id===t.id})),a=O.width>576?e?4:5:e?0:1,i="",o=n.recipients.filter((function(e){return!("USER"===e.type&&e.type_id===t.id)}));o.length&&(i+=o.filter((function(e,n){return n<a})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(le.renderToString)($.a.createElement(pe,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(le.renderToString)($.a.createElement(pe,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1" data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'">').concat(e.type&&"TEAM"===e.type?"".concat(r.teamLabel," ").concat(e.name):e.name,"</span>")})).join(", ")),e&&(o.length,i+='<span class="receiver mb-1">'.concat(r.me,"</span>"));var c="";return o.length+(e?1:0)>a&&(c+=o.filter((function(e,n){return n>=a})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(le.renderToString)($.a.createElement(pe,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(le.renderToString)($.a.createElement(pe,{icon:"eye"})):"","</span>"):'<span class="receiver" data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'">').concat(e.type&&"TEAM"===e.type?"".concat(r.teamLabel," ").concat(e.name):e.name,"</span>")})).join(""),c='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(c,"</span></span>")),"".concat(i," ").concat(c)}()}})))),$.a.createElement(fe,null,$.a.createElement(ce.a,{post:n,isBadgePill:!0,dictionary:r,user:t}),$.a.createElement(ce.c,{dictionary:r,post:n,disableMarkAsRead:o,disableOptions:i})))),n.files.length>0&&$.a.createElement(ce.q,{files:n.files}),$.a.createElement("div",{className:"d-flex align-items-center"},$.a.createElement("div",{className:"w-100 post-body-content",ref:l.body,dangerouslySetInnerHTML:{__html:ae.a.parseEmoji(n.body)}})),(y||N)&&$.a.createElement(ce.d,{postBody:!0,approving:E,fromNow:g,usersApproval:n.users_approval,user:t,post:n,isMultipleApprovers:N}))})),Ee=t(739),ge=ee.a.div(s||(s=Object(Q.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]))),ve=$.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comments,r=e.post,i=e.user,o=e.commentActions,c=e.onShowFileDialog,s=e.dropAction,l=e.workspace,d=e.isMember,m=void 0===d||d,p=e.dictionary,u=e.disableOptions,f=void 0!==u&&u,h=e.postActions;return $.a.createElement(ge,{className:"post-comments card-body ".concat(t)},a&&$.a.createElement("ul",null,Object.values(a).map((function(e){return $.a.createElement(Ee.a,{key:e.id,comment:e,post:r,user:i,commentActions:o,onShowFileDialog:c,dropAction:s,workspace:l,isMember:m,dictionary:p,disableOptions:f,isCompanyPost:!0,postActions:h})}))))})),Oe=t(6),_e=t(13),we=t(17),ke=t(99),ye=t(163),Ne=ee.a.div(l||(l=Object(Q.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]))),xe=ee.a.div(d||(d=Object(Q.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        // align-items: start;\n\n        // .avatar {\n        //   min-width: 1.5rem;\n        //   max-width: 1.5rem;\n        //   width: 1.5rem;\n        //   height: 1.5rem;\n        // }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]))),Te=Object(ee.a)(ye.c)(m||(m=Object(Q.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 28px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]))),je=Object(ee.a)(ne.h)(p||(p=Object(Q.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]))),Ae=Object(ee.a)(ne.s)(u||(u=Object(Q.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),Ce=ee.a.div(f||(f=Object(Q.a)(["\n  cursor: pointer;\n"]))),Se=ee.a.div(h||(h=Object(Q.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),Re=function(e){var n=e.post,a=e.posts,r=e.filter,i=e.postActions,o=e.user,c=e.onGoBack,s=e.dictionary,l=i.markAsRead,d=i.markAsUnread,m=i.sharePost,p=i.followPost,u=i.remind,f=i.close,h=i.readPostNotification,b=Object(re.c)(),E=Object(te.e)(),g=Object(re.d)((function(e){return e.users.users})),v=Object(X.useState)(!1),O=Object(J.a)(v,2),_=O[0],w=O[1],k=Object(te.h)(n).comments,y=Object(Oe.a)(new Set(n.view_user_ids)),N=Object.values(g).filter((function(e){return y.some((function(n){return n===e.id}))})),x=Object.values(g).filter((function(e){return n.clap_user_ids.some((function(n){return n===e.id}))})),T={dropZoneRef:Object(X.useRef)(null)},j=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;b(Object(we.Tb)(e)),i.setCommentType(n),T.dropZoneRef.current&&T.dropZoneRef.current.open()},A=function(){w(!1)},C=function(e){var a=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var r=t(78).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?a.push(Object(Z.a)(Object(Z.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):"video/mp4"===e.type?a.push(Object(Z.a)(Object(Z.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):a.push(Object(Z.a)(Object(Z.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:n,name:e.name?e.name:e.path}))})),A();var r={type:"file_upload",droppedFiles:a,mode:"post",post:n};b(Object(_e.a)(r))},S=n.users_responsible.some((function(e){return e.id===o.id})),R=function(){var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id}));return!!(n.is_must_read&&n.author.id!==o.id&&n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read})))||(!!(n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply})))||!!e)};return Object(X.useEffect)((function(){return h({post_id:n.id}),n.view_user_ids.some((function(e){return e===o.id}))||R()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(R()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadNotificationEntries({add_unread_comment:1}),function(){return i.getUnreadNotificationEntries({add_unread_comment:1})}}),[]),Object(X.useEffect)((function(){return n.view_user_ids.some((function(e){return e===o.id}))||R()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(R()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadNotificationEntries({add_unread_comment:1}),function(){return i.getUnreadNotificationEntries({add_unread_comment:1})}}),[n.id]),$.a.createElement($.a.Fragment,null,null!==n.todo_reminder&&$.a.createElement(ne.p,{todoReminder:n.todo_reminder,type:"POST"}),$.a.createElement(Ne,{className:"card-header d-flex justify-content-between"},$.a.createElement("div",{className:"d-flex flex-column align-items-start"},$.a.createElement("div",{className:"d-flex"},$.a.createElement("div",{className:"align-self-start"},$.a.createElement(Ae,{className:"close mr-2",icon:"arrow-left",onClick:function(){c()}})),$.a.createElement("div",null,$.a.createElement("h5",{ref:T.title,className:"post-title mb-0"},$.a.createElement("span",null,n.author.id!==o.id&&!n.is_followed&&$.a.createElement(Ae,{icon:"eye-off"}),n.title))))),$.a.createElement("div",null,n.author.id===o.id&&$.a.createElement("ul",null,$.a.createElement("li",null,$.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},$.a.createElement("a",{onClick:function(){return i.showModal("edit_company",n)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},$.a.createElement(Ae,{icon:"edit-3"})))),$.a.createElement("li",null,$.a.createElement("a",{onClick:function(){return i.trash(n)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},$.a.createElement(Ae,{icon:"trash"})))),$.a.createElement("div",null,$.a.createElement(Te,{className:"ml-2",item:n,width:220,moreButton:"more-horizontal"},null===n.todo_reminder&&$.a.createElement("div",{onClick:function(){return u(n)}},s.remindMeAboutThis),0===n.is_unread?$.a.createElement("div",{onClick:function(){return d(n,!0)}},s.markAsUnread):R()?null:$.a.createElement("div",{onClick:function(){return l(n,!0)}},s.markAsRead),$.a.createElement("div",{onClick:function(){return m(n)}},s.share),n.author.id!==o.id&&$.a.createElement("div",{onClick:function(){return p(n)}},n.is_followed?s.unFollow:s.follow),$.a.createElement("div",{onClick:function(){return f(n)}},n.is_close?s.openThisPost:s.closeThisPost))))),$.a.createElement(xe,{onDragOver:function(){w(!0)}},$.a.createElement(ke.a,{hide:!_,ref:T.dropZoneRef,onDragLeave:A,onDrop:function(e){var n=e.acceptedFiles;C(n)},onCancel:A}),$.a.createElement(be,{post:n,user:o,postActions:i,isAuthor:n.author.id===o.id,dictionary:s,disableMarkAsRead:R}),n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read}))&&$.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},$.a.createElement(Ce,{className:"d-sm-inline"},$.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){i.markReadRequirement(n);var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id})),t=!0;n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&(t=!1),t&&!e&&i.markAsRead(n)}},s.markAsRead))),n.user_unfollow.length>0&&$.a.createElement(ce.p,{user_unfollow:n.user_unfollow}),$.a.createElement("hr",{className:"m-0"}),$.a.createElement(Ee.c,{dictionary:s,likers:x,post:n,viewerIds:y,viewers:N,handleReaction:function(){var e={post_id:n.id,id:null,clap:0===n.user_clap_count?1:0,personalized_for_id:null};i.clap(e,(function(n,t){n&&(1===e.clap?i.unlike(e):i.like(e))})),0===n.user_clap_count?i.like(e):i.unlike(e)}}),n.files.length>0&&$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"card-body"},$.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},s.files),$.a.createElement(je,{attachedFiles:n.files,type:"post",post:n})),$.a.createElement("hr",{className:"m-0"})),n.files_trashed&&n.files_trashed.length>0&&$.a.createElement($.a.Fragment,null,$.a.createElement(Se,{className:"card-body"},$.a.createElement("h6",{className:"font-size-11 text-uppercase"},s.files),$.a.createElement("span",{className:"text-muted"},s.filesAutomaticallyRemoved),$.a.createElement(je,{attachedFiles:n.files_trashed,type:"post",post:n})),$.a.createElement("hr",{className:"m-0"})),k&&Object.keys(k).length>0&&$.a.createElement($.a.Fragment,null,$.a.createElement(ve,{comments:k,post:n,user:o,commentActions:E,onShowFileDialog:j,dropAction:C,dictionary:s,postActions:i}),$.a.createElement("hr",{className:"m-0"})),$.a.createElement(qe,{isMember:S,post:n,posts:a,filter:r,commentActions:E,postActions:i,onShowFileDialog:j,dropAction:C,mainInput:!0})))},Ie=t(89),Pe=t.n(Ie),Le=t(19),De=t(755),Me=Object(X.lazy)((function(){return Promise.all([t.e(1),t.e(0)]).then(t.bind(null,818))})),Fe=ee.a.div(b||(b=Object(Q.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),Ue=ee.a.div(E||(E=Object(Q.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),He=Object(ee.a)(ne.s)(g||(g=Object(Q.a)([""]))),We=ee.a.div(v||(v=Object(Q.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),ze=ee.a.div(O||(O=Object(Q.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),Be=ee.a.div(_||(_=Object(Q.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),Ge=Object(ee.a)(ne.f)(w||(w=Object(Q.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Ve=ee.a.div(k||(k=Object(Q.a)(["\n  padding: 5px 45px;\n"]))),Ye=ee.a.div(y||(y=Object(Q.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),Ke=ee.a.span(N||(N=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 30px;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),qe=$.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.onShowFileDialog,i=e.dropAction,o=e.post,c=e.posts,s=e.filter,l=e.parentId,d=void 0===l?null:l,m=e.commentActions,p=e.userMention,u=void 0===p?null:p,f=e.handleClearUserMention,h=void 0===f?null:f,b=e.commentId,E=void 0===b?null:b,g=e.innerRef,v=void 0===g?null:g,O=e.mainInput,_=o.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),w=Object(te.I)(),k=Object(ie.g)(),y={picker:Object(X.useRef)(),postInput:Object(X.useRef)(null)},N=Object(re.d)((function(e){return e.session.user})),x=Object(re.d)((function(e){return e.users.users})),T=Object(re.d)((function(e){return e.posts.editPostComment})),j=Object(re.d)((function(e){return e.posts.changeRequestedComment})),A=Object(X.useRef)(),C=Object(X.useState)(!1),S=Object(J.a)(C,2),R=S[0],I=S[1],P=Object(X.useState)(null),L=Object(J.a)(P,2),D=L[0],M=L[1],F=Object(X.useState)(null),U=Object(J.a)(F,2),H=U[0],W=U[1],z=Object(X.useState)(!1),B=Object(J.a)(z,2),G=B[0],V=B[1],Y=Object(X.useState)(!1),K=Object(J.a)(Y,2),q=(K[0],K[1]),Q=Object(X.useState)("default"),ee=Object(J.a)(Q,2),ae=ee[0],oe=ee[1],ce=Object(X.useState)(null),se=Object(J.a)(ce,2),le=se[0],de=se[1],me=Object(X.useState)("#cacaca"),pe=Object(J.a)(me,2),ue=pe[0],fe=pe[1],he=Object(X.useState)(!1),be=Object(J.a)(he,2),ge=be[0],ve=be[1],_e=Object(X.useState)([]),we=Object(J.a)(_e,2),ke=we[0],ye=we[1],Ne=Object(X.useState)({approve:!1,change:!1}),xe=Object(J.a)(Ne,2),Te=xe[0],je=xe[1],Ae=Object(X.useState)(!(!_||!o.shared_with_client||"internal"!==N.type)),Ce=Object(J.a)(Ae,2),Se=Ce[0],Re=Ce[1],Ie=Object(X.useState)(o.shared_with_client?null:"internal"),qe=Object(J.a)(Ie,2),Ze=qe[0],Je=qe[1],Qe=Object(X.useState)(null),Xe=Object(J.a)(Qe,2),$e=Xe[0],en=Xe[1],nn=function(){Se||I(!R)},tn=Object(te.gb)()._t,an={noReplyAllowed:tn("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:tn("TOOLTIP.ATTACH_FILES","Attach files"),lockedLabel:tn("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:tn("POST.REQUEST_CHANGE","Request for change"),accept:tn("POST.ACCEPT","Accept"),requestApprovalFrom:tn("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:tn("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:tn("POST.ADDRESSED_TO","Addressed to"),selectApprover:tn("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:tn("TOOLTIP.EMOJI","Emoji"),images:tn("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:tn("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:tn("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:tn("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:tn("POST.REOPEN","Reopen"),agree:tn("POST.AGREE","Agree"),disagree:tn("POST.DISAGREE","Disagree"),overview:tn("POST.OVERVIEW","Overview"),archivePostOpenNext:tn("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next"),send:tn("TOOLTIP.SEND","Send"),closeEdit:tn("TOOLTIP.CLOSE_EDIT","Close edit"),userClosedPost:tn("POST.USER_CLOSED_POST","::username:: has closed this message",{username:o&&"object"===typeof o.post_close&&o.post_close.initiator?o.post_close.initiator.name:""})},rn=o.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),on=[].concat(Object(Oe.a)(Object.values(x).filter((function(e){return rn.some((function(n){return n===e.id}))&&e.id!==N.id})).map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:t(78).generate(),value:"all",label:"All users",icon:"users",all_ids:rn.filter((function(e){return x[e]&&x[e].active&&e!==N.id}))}]);ke.length&&ke.find((function(e){return"all"===e.value}))&&(on=on.filter((function(e){return"all"===e.value})));Object(X.useEffect)((function(){if(T){var e=T.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;T.users_approval.length>0&&(ve(!0),ye(T.users_approval.map((function(n){return Object(Z.a)(Object(Z.a)({},n),{},{icon:"user-avatar",value:n.id,label:n.name,type:"USER",ip_address:e?null:n.ip_address,is_approved:!e&&n.is_approved})})))),Re(!1),T.shared_with_client?Je("external"):Je("internal")}}),[T]);var cn=function(){w.setCompanyFilterPosts({filter:"inbox",tag:null}),k.push("/posts")},sn=o.users_approval.length>0&&o.users_approval.filter((function(e){return null===e.ip_address})).length===o.users_approval.length,ln=o.users_approval.some((function(e){return e.id===N.id})),dn=o.users_approval.map((function(e){return e.name})),mn=o.users_approval.length>1,pn=o.users_approval.some((function(e){return e.id===N.id&&null!==e.ip_address}));Object(X.useEffect)((function(){j&&E&&E===j.id?(ve(!0),ye([Object(Z.a)(Object(Z.a)({},j.author),{},{icon:"user-avatar",value:j.author.id,label:j.author.name,type:"USER",ip_address:null,is_approved:null})])):(ve(!1),ye([]))}),[j]);var un=o.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),fn=o.recipients.find((function(e){return"USER"===e.type})),hn=o.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return $.a.createElement(Fe,{className:"company-post-detail-footer card-body ".concat(a)},$.a.createElement(We,{className:"d-flex pr-2 pl-2"},$.a.createElement(Ee.b,{commentActions:m,commentId:T&&o&&T.post_id===o.id&&T.quote?T.quote.id:E,editPostComment:T,mainInput:O})),$.a.createElement(We,{className:"d-flex alig-items-center"},un&&fn&&$.a.createElement("div",{className:"locked-label mb-2"},an.sharedWithAdditionalPeople),un&&hn&&$.a.createElement("div",{className:"locked-label mb-2"},an.sharedWithPublicWs),ge&&$.a.createElement(Ye,null,Te.change&&ln&&$.a.createElement("label",null,an.requestChangeTo),!ln&&$.a.createElement("label",null,an.addressedTo),$.a.createElement(Le.e,{options:on,value:ke,onChange:function(n){null!==n&&n.length||(j&&m.clearApprovingStatus(j.id),e.handleCancelChange&&e.handleCancelChange(),Te.change&&(je(Object(Z.a)(Object(Z.a)({},Te),{},{change:!1})),ve(!1))),null===n?ye([]):n.find((function(e){return"all"===e.value}))?ye(n.filter((function(e){return"all"===e.value}))):ye(n)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),sn&&!ln&&$.a.createElement(ze,{className:"d-flex align-items-center mb-2"},$.a.createElement("div",{className:"alert alert-primary request-approval"},an.requestApprovalFrom," ",dn.join(", "))),o.is_close&&O&&$.a.createElement(Be,{className:"d-flex align-items-center"},$.a.createElement("div",{className:"alert alert-warning"},$.a.createElement("span",null,an.userClosedPost),$.a.createElement("span",{onClick:function(){w.close(o)}},an.reopen))),o.is_read_only&&O&&$.a.createElement(We,{className:"d-flex align-items-end"},$.a.createElement(ze,{className:"d-flex align-items-center"},$.a.createElement("div",{className:"alert alert-warning"},an.noReplyAllowed))),!o.is_close&&!o.is_read_only&&$.a.createElement(We,{className:"d-flex align-items-end",backgroundSend:le,cursor:ae,fillSend:ue},$.a.createElement(Ue,{ref:v,className:"flex-grow-1 chat-input-footer",disableButtons:Se},$.a.createElement(Le.b,{handleClearSent:function(){V(!1)},sent:G,commentId:E,userMention:u,handleClearUserMention:h,commentActions:m,parentId:d,post:o,selectedGif:H,onClearGif:function(){W(null)},selectedEmoji:D,onClearEmoji:function(){M(null)},dropAction:i,members:o.users_responsible,onActive:function(e){var n;q(e),de((n=e&&!$e?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),oe(n[1]),fe(n[2])},onClosePicker:function(){I(!1)},ref:y.postInput,prioMentionIds:rn,approvers:ge?ke:[],onClearApprovers:function(){ve(!1),ye([])},onSubmitCallback:function(e,n){if(!e){if(o.must_reply_users&&o.must_reply_users.some((function(e){return e.id===N.id&&!e.must_reply}))){w.markReplyRequirement(o);var t=!0;o.is_must_read&&o.author.id!==N.id&&o.must_read_users&&o.must_read_users.some((function(e){return e.id===N.id&&!e.must_read}))&&(t=!1);var a=o.users_approval.length>0&&o.users_approval.some((function(e){return null===e.ip_address&&e.id===N.id}));t&&!a&&w.markAsRead(o)}1===o.users_approval.length&&sn&&ln&&ge&&w.approve({post_id:o.id,approved:0},(function(e,n){je(Object(Z.a)(Object(Z.a)({},Te),{},{change:!1}))})),j&&m.approve({post_id:o.id,approved:0,comment_id:j.id,transfer_comment_id:n.data.id})}},isApprover:Te.change&&sn||j&&E&&E===j.id,mainInput:O,readOnly:!1,onToggleCommentType:function(e){Re(!e),Je(e)},commentType:Ze,imageLoading:$e,setImageLoading:en}),$.a.createElement(De.a,{parentId:d,handleQuillImage:function(){if(y.postInput&&!Se){var e=y.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:nn,onShowFileDialog:r,showApprover:ge,toggleApprover:function(){Se||ve((function(e){return!e}))},editPostComment:T,mainInput:O,disableButtons:!1,commentType:Ze,dictionary:an})),$.a.createElement(Pe.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:an.send},$.a.createElement(He,{onClick:function(){Se||V(!0)},icon:"send"})),!0===R&&$.a.createElement(Ge,{handleShowEmojiPicker:nn,onSelectEmoji:function(e){M(e)},onSelectGif:function(e){W(e),nn()},orientation:"top",ref:y.picker})),T&&T.files.length>0&&$.a.createElement(Ve,null,T.files.map((function(e){return e.name})).join(", ")),(sn&&ln&&!Te.change||mn&&ln&&!pn)&&$.a.createElement(We,null,$.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},$.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===o.users_approval.length?(je(Object(Z.a)(Object(Z.a)({},Te),{},{change:!0})),ve(!0),ye([Object(Z.a)(Object(Z.a)({},o.author),{},{icon:"user-avatar",value:o.author.id,label:o.author.name,type:"USER",ip_address:null,is_approved:null})])):(je(Object(Z.a)(Object(Z.a)({},Te),{},{change:!0})),w.approve({post_id:o.id,approved:0},(function(e,n){if(je(Object(Z.a)(Object(Z.a)({},Te),{},{change:!1})),!e){var t=1===o.users_approval.filter((function(e){return null===e.ip_address})).length,a=o.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===o.users_approval.length-1;t&&a&&w.generateSystemMessage(o,[],o.users_approval.map((function(e){return e.id})))}})))}},an.disagree," ",Te.change&&$.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),$.a.createElement(X.Suspense,{fallback:$.a.createElement($.a.Fragment,null)},$.a.createElement(Me,{ref:A,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},$.a.createElement("button",{className:"btn btn-primary",onClick:function(){w.showModal("confirmation",o,null,A)}},an.agree," ",Te.approve&&$.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})))))),s&&"inbox"===s&&o&&0===o.is_archived&&$.a.createElement(We,null,$.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},$.a.createElement(Ke,{onClick:cn},$.a.createElement(ne.s,{className:"mr-2",icon:"corner-up-left"})," ",an.overview),$.a.createElement(Ke,{onClick:function(){w.archivePost(o,(function(){var e=c.find((function(e){return 1!==e.is_archived&&1===e.is_unread}));e?w.openPost(e,"/posts"):cn()}))}},an.archivePostOpenNext," ",$.a.createElement(ne.s,{className:"ml-2",icon:"corner-up-right"})))))})),Ze=ee.a.div(x||(x=Object(Q.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']))),Je=$.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.filter,r=void 0===a?"inbox":a,i=e.onGoBack,o=e.counters,c=e.dictionary,s=Object(te.I)(),l=s.setCompanyFilterPosts,d=s.fetchCompanyPosts,m=Object(re.d)((function(e){return e.global.unreadCounter})),p=Object(re.d)((function(e){return e.posts.archived})),u=Object(X.useState)(!1),f=Object(J.a)(u,2),h=f[0],b=f[1],E=function(e){if(e.persist(),"archive"!==e.target.dataset.value||0!==p.skip||h||(b(!0),d({skip:0,limit:25,filters:["post","archived"]},(function(){return b(!1)}))),e.target.dataset.value===r)i();else{var n={filter:e.target.dataset.value,tag:null};l(n),i()}document.body.classList.remove("mobile-modal-open")};return $.a.createElement(Ze,{className:"post-filter-item list-group list-group-flush ".concat(t)},$.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"inbox"===r?"active":""),"data-value":"inbox",onClick:E},$.a.createElement(ne.s,{className:"mr-2",icon:"inbox"}),c.inbox,m.general_post>0&&$.a.createElement("span",{className:"small ml-auto"},m.general_post)),$.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"in_progress"===r?"active":""),"data-value":"in_progress",onClick:E},$.a.createElement(ne.s,{className:"mr-2",icon:"clock"}),c.inProgress),$.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"my_posts"===r?"active":""),"data-value":"my_posts",onClick:E},$.a.createElement(ne.s,{className:"mr-2",icon:"send-post"}),c.myPosts),$.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"star"===r?"active":""),"data-value":"star",onClick:E},$.a.createElement(ne.s,{className:"mr-2",icon:"star"}),c.starred),$.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"archive"===r?"active":""),"data-value":"archive",onClick:E},$.a.createElement(ne.s,{className:"mr-2",icon:"archive"}),c.archived),$.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"draft"===r?"active":""),"data-value":"draft",onClick:E},$.a.createElement(ne.s,{className:"mr-2",icon:"edit-3"}),c.drafts,$.a.createElement("span",{className:"small ml-auto"},o.drafts>0&&o.drafts)))})),Qe=ee.a.div(T||(T=Object(Q.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 0;\n      margin-top: 1rem;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]))),Xe=$.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.search,r=e.dictionary;return $.a.createElement(Qe,{className:"post-filter-search-panel app-action ".concat(t)},$.a.createElement("div",{className:"action-left"},$.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},$.a.createElement(ne.s,{icon:"menu"}))),$.a.createElement("div",{className:"action-right"},$.a.createElement(pn,{search:a,placeholder:r.searchPost})))})),$e=ee.a.div(j||(j=Object(Q.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),en=$.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.tag,r=e.count,i=e.onGoBack,o=e.dictionary,c=Object(te.I)().setCompanyFilterPosts,s=function(e){e.persist();var n={tag:e.target.dataset.value,filter:null};a===e.target.dataset.value&&(n=Object(Z.a)(Object(Z.a)({},n),{},{tag:null,filter:"all"})),c(n),i(),document.body.classList.remove("mobile-modal-open")};return $.a.createElement($e,{className:"list-group list-group-flush ".concat(t)},$.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_must_reply"===a?"active":""),"data-value":"is_must_reply",onClick:s},$.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),o.replyRequired,$.a.createElement("span",{className:"small ml-auto"},r&&r.is_must_reply>0&&r.is_must_reply)),$.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_must_read"===a?"active":""),"data-value":"is_must_read",onClick:s},$.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),o.mustRead,$.a.createElement("span",{className:"small ml-auto"},r&&r.is_must_read>0&&r.is_must_read)),$.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_read_only"===a?"active":""),"data-value":"is_read_only",onClick:s},$.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),o.noReplies,$.a.createElement("span",{className:"small ml-auto"},r&&r.is_read_only>0&&r.is_read_only)),$.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_close"===a?"active":""),"data-value":"is_close",onClick:s},$.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),o.closed,$.a.createElement("span",{className:"small ml-auto"},r&&r.is_close>0&&r.is_close)))})),nn=ee.a.li(A||(A=Object(Q.a)(["\n  flex-flow: column;\n  @media (max-width: 414px) {\n    padding-bottom: 30px !important;\n    .post-badge {\n      position: absolute;\n      bottom: 5px;\n      flex-flow: row wrap;\n      display: flex;\n    }\n  }\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    //padding-left: 2.5rem;\n    overflow: inherit;\n    //width: calc(100% - ","px);\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n    box-shadow: 0 1px 10px 0 rgb(0 0 0 / 10%), 0 2px 15px 0 rgb(0 0 0 / 5%);\n    z-index: 2;\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 100%;\n      height: 100%;\n    }\n    @media (max-width: 991.99px) {\n    img {\n      width: 2rem;\n      height: 2rem;\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"])),(function(e){return e.appListWidthDiff})),tn=Object(ee.a)(ne.s)(C||(C=Object(Q.a)(["\n  width: 16px;\n"]))),an=ee.a.div(S||(S=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]))),rn=ee.a.div(R||(R=Object(Q.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]))),on=Object(ee.a)(Le.m)(I||(I=Object(Q.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  margin-left: -5px;\n  :hover {\n    background: #f1f2f7;\n    cursor: ",";\n    .dark & {\n      background: #25282c;\n    }\n  }\n"])),(function(e){return e.disabled?"not-allowed":"pointer"})),cn=ee.a.div(P||(P=Object(Q.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),sn=ee.a.div(L||(L=Object(Q.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),ln=$.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternalUser,r=e.post,i=e.dictionary,o=e.disableOptions,c=e.toggleCheckbox,s=e.checked,l=e.postActions,d=l.starPost,m=l.openPost,p=l.archivePost,u=l.markAsRead,f=l.markAsUnread,h=l.sharePost,b=l.followPost,E=l.remind,g=l.showModal,v=l.close,O=l.disconnectPostList,_=Object(re.d)((function(e){return e.session.user})),w=Object(re.d)((function(e){return e.workspaces.flipper})),k=Object(te.ab)().fromNow,y=Object(X.useState)(0),N=Object(J.a)(y,2),x=N[0],T=N[1],j=Object(X.useState)(!1),A=Object(J.a)(j,2),C=A[0],S=A[1],R=Object(X.useRef)(!0);Object(X.useEffect)((function(){return function(){R.current=!1}}),[]);var I=function(){var e=r.users_approval.length>0&&r.users_approval.some((function(e){return null===e.ip_address&&e.id===_.id}));if(r.is_must_read&&r.author.id!==_.id){if(r.must_read_users&&r.must_read_users.some((function(e){return e.id===_.id&&!e.must_read})))return!0}else{if(!r.is_must_reply||r.author.id===_.id)return!!e;if(r.must_reply_users&&r.must_reply_users.some((function(e){return e.id===_.id&&!e.must_reply})))return!0}},P=1===r.is_unread;return $.a.createElement(nn,{"data-toggle":w?"1":"0",appListWidthDiff:x+50,className:"list-group-item post-item-panel ".concat(P?"has-unread":""," ").concat(t," pl-3"),onClick:function(){return m(r,"/posts")}},$.a.createElement(ce.m,{post:r,user:_,dictionary:i,isExternalUser:a,classNames:"text-truncate"}),$.a.createElement(cn,null,$.a.createElement(on,{name:"test",checked:s,onClick:function(){return c(r.id)},disabled:I()}),$.a.createElement(rn,{className:"d-flex ml-2 mr-2"},$.a.createElement(ne.a,{title:"FROM: ".concat(r.author.name),className:"author-avatar mr-2",id:r.author.id,name:r.author.name,imageLink:r.author.profile_image_thumbnail_link?r.author.profile_image_thumbnail_link:r.author.profile_image_link})),$.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},$.a.createElement("div",{className:"app-list-title text-truncate ".concat(P?"has-unread":"")},$.a.createElement("div",{className:"text-truncate d-flex"},$.a.createElement("span",{className:"text-truncate"},r.author.id!==_.id&&!r.is_followed&&$.a.createElement(tn,{icon:"eye-off"}),$.a.createElement("a",{href:r.redirect_link,target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault()}},r.title)),$.a.createElement(sn,{className:"hover-btns ml-1"},"draft_post"!==r.type&&!o&&r.author.id===_.id&&$.a.createElement(tn,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),g("edit",r)}}),!o&&!I()&&$.a.createElement(tn,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),C||(S(!0),p(r,(function(){R.current&&S(!1)})))}}))),$.a.createElement(an,null,0!==r.unread_count&&$.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},r.unread_count," new"),$.a.createElement("div",{className:"text-muted"},0===r.reply_count?i.noComment:1===r.reply_count?i.oneComment:i.comments.replace("::comment_count::",r.reply_count)),$.a.createElement("span",{className:"time-stamp text-muted"},$.a.createElement("span",null,k(r.updated_at.timestamp)))))),$.a.createElement(ce.a,{post:r,dictionary:i,user:_,cbGetWidth:T}),$.a.createElement("div",{className:"d-flex"},"draft_post"!==r.type&&!o&&$.a.createElement(ye.c,{className:"d-flex ml-2",item:r,width:220,moreButton:"more-horizontal"},null===r.todo_reminder&&$.a.createElement("div",{onClick:function(){return E(r)}},i.remindMeAboutThis),r.author&&r.author.id===_.id&&$.a.createElement("div",{onClick:function(){return g("edit_company",r)}},i.editPost),0===r.is_unread?$.a.createElement("div",{onClick:function(){return f(r,!0)}},i.markAsUnread):I()?null:$.a.createElement("div",{onClick:function(){return u(r,!0)}},i.markAsRead),$.a.createElement("div",{onClick:function(){return h(r)}},i.share),r.author&&r.author.id!==_.id&&$.a.createElement("div",{onClick:function(){return b(r)}},r.is_followed?i.unFollow:i.follow),$.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o||d(r)}},r.is_favourite?i.unStar:i.star),$.a.createElement("div",{onClick:function(){return v(r)}},r.is_close?i.openThisPost:i.closeThisPost),r.post_list_connect&&$.a.createElement("div",{onClick:function(){return function(){if(1!==r.post_list_connect.length)g("add_to_list",r);else{var e={link_id:r.post_list_connect[0].id,post_id:r.id};O(e)}}()}},1===r.post_list_connect.length?i.removeToList:i.addToList)))))})),dn=t(79),mn=ee.a.div(D||(D=Object(Q.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),pn=$.a.memo((function(e){var n=e.search,t=e.placeholder,a=Object(re.c)(),r=Object(X.useState)(n),i=Object(J.a)(r,2),o=i[0],c=i[1],s=Object(dn.debounce)((function(e){a(Object(we.d)({search:e,search_result:[]})),""!==e&&a(Object(we.Qb)({search:e},(function(n,t){n||a(Object(we.d)({search:e,search_result:t.data.posts}))})))}),500);return $.a.createElement(mn,{className:"input-group"},$.a.createElement("input",{type:"text",className:"form-control",placeholder:t,value:o,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&s(o)},onChange:function(e){c(e.target.value),s(e.target.value.trim())}}),""!==n.trim()&&$.a.createElement("button",{onClick:function(){c(""),a(Object(we.d)({search:"",search_result:[]}))},className:"btn-cross",type:"button"},$.a.createElement(ne.s,{icon:"x"})),$.a.createElement("div",{className:"input-group-append"},$.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:s},$.a.createElement("i",{className:"ti-search"}))))})),un=ee.a.div(M||(M=Object(Q.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]))),fn=Object(ee.a)(ne.s)(F||(F=Object(Q.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),hn=ee.a.div(U||(U=Object(Q.a)([""]))),bn=$.a.memo((function(e){var n=e.workspace,t=e.filter,a=e.tag,r=e.postListTag,i=e.count,o=e.postLists,c=e.counters,s=e.postActions,l=e.onGoBack,d=e.dictionary,m=e.disableOptions;return $.a.createElement(un,{className:"col-md-3 app-sidebar bottom-modal-mobile"},$.a.createElement(hn,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),$.a.createElement("div",{className:"bottom-modal-mobile_inner"},$.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},$.a.createElement("div",{className:"card-body create-new-post-wrapper"},$.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){s.showModal("create_company")},disabled:m},d.createNewPost)),$.a.createElement(Je,{filter:t,tag:a,onGoBack:l,counters:c,dictionary:d}),$.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},$.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},d.category,$.a.createElement("span",{className:"ml-auto",onClick:function(){s.showModal("create_edit_post_list")},disabled:m},$.a.createElement(fn,{className:"mr-0",icon:"plus"})))),$.a.createElement(en,{count:i,workspace:n,tag:a,onGoBack:l,dictionary:d}),$.a.createElement(vn,{postLists:o,tag:a,postListTag:r,onGoBack:l,dictionary:d,postActions:s}))))})),En=ee.a.div(H||(H=Object(Q.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),gn=Object(ee.a)(ne.s)(W||(W=Object(Q.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),vn=$.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.postLists,r=e.tag,i=e.postListTag,o=e.onGoBack,c=Object(X.useState)(null),s=Object(J.a)(c,2),l=s[0],d=s[1],m=Object(te.I)(),p=m.setCompanyFilterPosts,u=m.showModal;return $.a.createElement(En,{className:"post-filter-item list-group list-group-flush ".concat(t)},a&&a.map((function(e){return $.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&parseInt(i)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){var n={tag:null,postListTag:e.target.dataset.id,filter:null};r===e.target.dataset.id&&(n=Object(Z.a)(Object(Z.a)({},n),{},{tag:null,filter:"all"})),p(n),o(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(n){d(e.id)},onMouseLeave:function(e){return d(null)}},$.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,l&&l===e.id&&$.a.createElement("span",{className:"small ml-auto",onClick:function(n){return function(e,n){e.stopPropagation(),u("edit_post_list",n)}(n,e)}},$.a.createElement(gn,{className:"mr-0 small",icon:"edit-3"}))||$.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))})),On=ee.a.div(z||(z=Object(Q.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),_n=function(e){var n=e.actions,t=e.dictionary;return $.a.createElement("div",{className:"card card-body app-content-body"},$.a.createElement(On,null,$.a.createElement(ne.q,{icon:3,height:252}),$.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){n.showModal("create_company")}},t.createNewPost)))},wn=ee.a.div(B||(B=Object(Q.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),kn=ee.a.div(G||(G=Object(Q.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]))),yn=ee.a.div(V||(V=Object(Q.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),Nn=ee.a.li(Y||(Y=Object(Q.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),xn=ee.a.li(K||(K=Object(Q.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),Tn=ee.a.div(q||(q=Object(Q.a)(["\n  margin: 0;\n  width: 100%;\n  text-align: center;\n  margin: auto;\n  text-align: center;\n  padding: 2rem;\n  border: 1px solid #ebebeb;\n  border-top: none;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),jn=function(e){var n=e.actions,t=e.dictionary,a=e.filter,r=e.isExternalUser,i=e.loading,o=e.posts,c=e.search,s=e.user,l=Object(te.gb)()._t,d=[l("POSTS.NO_ITEMS_FOUND_HEADER_1","WOO!"),l("POSTS.NO_ITEMS_FOUND_HEADER_2","Queue\u2019s empty, time to dance!")],m=[l("POSTS.NO_ITEMS_FOUND_TEXT_1","Nothing here but me\u2026 \ud83d\udc7b"),l("POSTS.NO_ITEMS_FOUND_TEXT_2","Job well done!\ud83d\udc83\ud83d\udd7a")],p=Object(X.useState)(Math.floor(Math.random()*d.length)),u=Object(J.a)(p,2),f=u[0],h=u[1],b=o.filter((function(e){return 0===e.is_unread})),E=o.filter((function(e){return 1!==e.is_archived&&1===e.is_unread})),g=Object(X.useState)({showUnread:E.length>0,showRead:0===E.length}),v=Object(J.a)(g,2),O=v[0],_=v[1],w=Object(X.useState)([]),k=Object(J.a)(w,2),y=k[0],N=k[1],x=Object(X.useState)(!1),T=Object(J.a)(x,2),j=T[0],A=T[1],C=function(e){var n=!y.some((function(n){return n===e}))?[].concat(Object(Oe.a)(y),[e]):y.filter((function(n){return n!==e}));N(n)};Object(X.useEffect)((function(){N([])}),[a]);return Object(X.useEffect)((function(){h(Math.floor(Math.random()*d.length))}),[O]),$.a.createElement($.a.Fragment,null,$.a.createElement(ce.s,{checked:j,showButtons:y.length>0,onToggleCheckbox:function(){if(j)A(!1),N([]);else{var e=Object.values(o).filter((function(e){var n=e.users_approval.length>0&&e.users_approval.some((function(e){return null===e.ip_address&&e.id===s.id}));return!(e.is_must_read&&e.must_read_users&&e.must_read_users.some((function(e){return e.id===s.id&&!e.must_read})))&&(!(e.is_must_reply&&e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===s.id&&!e.must_reply})))&&!n)})).map((function(e){return e.id}));N(e),A(!0)}},onMarkAll:function(){n.readAll({selected_post_ids:y}),N([]),n.getUnreadNotificationEntries({add_unread_comment:1})},onArchiveAll:function(){n.archiveAll({selected_post_ids:y}),N([])}}),"draft"===a&&$.a.createElement(wn,null,$.a.createElement("button",{className:"btn all-action-button",onClick:function(){N(o.map((function(e){return e.id})))}},t.selectAll),$.a.createElement("button",{className:"btn all-action-button",onClick:function(){y.length&&y.forEach((function(e){var t=o.find((function(n){return n.id===e}));t&&n.archivePost(t)}))}},t.remove)),$.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},$.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":i},""!==c&&$.a.createElement($.a.Fragment,null,0===o.length?$.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchNoResult," ",c):1===o.length?$.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResult," ",c):$.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResults," ",c)),"inbox"!==a&&$.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},$.a.createElement("div",null,o.map((function(e){return $.a.createElement(ln,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:C,checked:y.some((function(n){return n===e.id})),isExternalUser:r})})))),"inbox"===a&&""===c&&$.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},$.a.createElement("div",null,$.a.createElement(Nn,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){_((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{showRead:!O.showRead,showUnread:!O.showUnread})}))},showPosts:O.showUnread},$.a.createElement("span",{className:"badge badge-light"},$.a.createElement(ne.s,{icon:O.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.unread))),E.length>0&&$.a.createElement(kn,{className:"unread-posts-container collapse ".concat(O.showUnread?"show":""," fadeIn"),id:"unread-posts-container",showPosts:O.showUnread},E.map((function(e){return $.a.createElement(ln,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:C,checked:y.some((function(n){return n===e.id})),isExternalUser:r})}))),O.showUnread&&0===E.length&&$.a.createElement(Tn,null,$.a.createElement("h3",null,d[f]),$.a.createElement("h5",null,m[f]," ")),$.a.createElement("div",null,$.a.createElement(xn,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){_((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{showRead:!O.showRead,showUnread:!O.showUnread})}))},showPosts:O.showRead},$.a.createElement("span",{className:"badge badge-light"},$.a.createElement(ne.s,{icon:O.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.allOthers))),b.length>0&&$.a.createElement(yn,{className:"read-posts-container collapse ".concat(O.showRead?"show":""," fadeIn"),showPosts:O.showRead},b.map((function(e){return $.a.createElement(ln,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:C,checked:y.some((function(n){return n===e.id})),isExternalUser:r})})))))))}},776:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l,d,m,p=t(10),u=t(0),f=t.n(u),h=t(9),b=t(11),E=t(7),g=t(1),v=t(4),O=t(45),_=t(23),w=t(14),k=h.a.div(a||(a=Object(p.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n"]))),y=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,i=e.scrollRef,o=Object(O.j)().params,c=Object(v.c)(),s=Object(b.ab)().fromNow;return f.a.createElement(k,{className:"attach-file-timeline timeline-item ".concat(t)},f.a.createElement("div",null,f.a.createElement(w.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),f.a.createElement("div",null,f.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},f.a.createElement("span",null,f.a.createElement("span",{className:"font-weight-normal"},a.user.name)," ",f.a.createElement("span",{onClick:function(){c(Object(_.cc)({workspace_id:o.workspaceId,file_id:a.id,files:[Object(g.a)(Object(g.a)({},a),{},{filename:a.name,file_id:a.id})]}))},className:"file-summary"},r.attachedFile)),f.a.createElement("span",{className:"text-muted font-weight-normal"},s(a.created_at.timestamp)))))})),N=h.a.div(r||(r=Object(p.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]))),x=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,i=e.scrollRef,o=Object(O.g)(),c=Object(O.j)().params,s=Object(b.ab)().fromNow,l=function(e){e.preventDefault(),o.push("/workspace/posts/".concat(c.workspaceId,"/").concat(c.workspaceName,"/post/").concat(a.id,"/").concat(a.title))};return f.a.createElement(N,{className:"post-timeline timeline-item ".concat(t)},f.a.createElement("div",null,f.a.createElement(w.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),f.a.createElement("div",null,f.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},f.a.createElement("span",{className:"title"},a.user.name," ",f.a.createElement("span",{className:"post-title",onClick:l,title:a.title},r.sharedThePost,' "',a.title,'"')),f.a.createElement("span",{className:"text-muted font-weight-normal"},s(a.created_at.timestamp))),a.body.replace(/<\/?[^>]+(>|$)/g,"")&&f.a.createElement("span",{onClick:l},f.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},f.a.createElement(w.s,{icon:"arrow-right"}),f.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}))),a.files&&a.files.length>=1&&f.a.createElement(f.a.Fragment,null,r.fileAttachments,":",f.a.createElement(w.h,{attachedFiles:a.files,type:"timeline"}))))})),T=h.a.div(i||(i=Object(p.a)([""]))),j=(f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=Object(b.ab)().fromNow;return f.a.createElement(T,{className:"timeline-item ".concat(t)},f.a.createElement("div",null,f.a.createElement(w.a,{name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link})),f.a.createElement("div",null,f.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},f.a.createElement("span",null,a.user.name," ",f.a.createElement("a",{href:"#"},"shared a post")),f.a.createElement("span",{className:"text-muted font-weight-normal"},r(a.created_at.timestamp))),f.a.createElement("a",{href:"#"},f.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},a.body))))})),t(6)),A=t(89),C=t.n(A),S=h.a.div(o||(o=Object(p.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]))),R=Object(h.a)(C.a)(c||(c=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),I=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,i=e.scrollRef,o=Object(b.ab)(),c=o.fromNow,s=o.localizeDate,l=Object(v.d)((function(e){return e.users.users})),d=Object(v.d)((function(e){return e.users.archivedUsers})),m=Object(v.d)((function(e){return e.users.teams})),p=[].concat(Object(j.a)(Object.values(l)),Object(j.a)(d)),u=null,h=null;a.body.includes("CHANNEL_UPDATE")&&(u=JSON.parse(a.body.replace("CHANNEL_UPDATE::",""))),u&&u.author&&(h=u.author.name?u.author:p.find((function(e){return e.id===u.author})));var E=function(){if(""!==u.title)return"".concat(r.updatedWorkspaceTo," ").concat(u.title)};return null===u?null:f.a.createElement(S,{className:"member-timeline timeline-item ".concat(t)},f.a.createElement("div",null,null!==u?f.a.createElement(f.a.Fragment,null,h?f.a.createElement(w.a,{className:"mr-3",name:h.name,imageLink:h.profile_image_thumbnail_link?h.profile_image_thumbnail_link:h.profile_image_link,id:h.id,showSlider:!0,scrollRef:i}):f.a.createElement(w.a,{className:"mr-3",imageLink:null,isBot:!0})):f.a.createElement(w.a,{className:"mr-3",imageLink:null,isBot:!0})),f.a.createElement("div",null,null!==u?f.a.createElement(f.a.Fragment,null,f.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},f.a.createElement("span",{className:"title"},h&&h.name," ",E()),f.a.createElement("span",{className:"text-muted font-weight-normal"},c(a.created_at.timestamp))),u.added_members.length||u.removed_members.length||u.added_teams&&u.added_teams.length||u.removed_teams&&u.removed_teams.length?f.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},f.a.createElement("p",{className:"action-text"},u.added_members.length>0&&function(){if(null===u.author){if(!u.accepted_members)return"";var e=p.filter((function(e){return u.accepted_members.some((function(n){return n===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else if(u.accepted_members){var n=p.filter((function(e){return u.accepted_members.some((function(n){return n===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else{var t=p.filter((function(e){return u.added_members.some((function(n){return n===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}}()),f.a.createElement("p",{className:"action-text"},u.removed_members.length>0&&function(){if(null===u.author)return"";var e=p.filter((function(e){return u.removed_members.some((function(n){return n===e.id}))}));return e.length?e.map((function(e){return e.name})).join(", ")+" ".concat(r.isRemoved,"."):void 0}()),f.a.createElement("p",{className:"action-text"},u.added_teams&&u.added_teams.length>0&&function(){if(null===u.author){if(!u.added_teams)return"";var e=Object.values(m).filter((function(e){return u.added_teams.some((function(n){return n===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else if(u.added_teams){var n=Object.values(m).filter((function(e){return u.added_teams.some((function(n){return n===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}}()),f.a.createElement("p",{className:"action-text"},u.removed_teams&&u.removed_teams.length>0&&function(){if(null===u.author)return"";if(u.removed_teams){var e=Object.values(m).filter((function(e){return u.removed_teams.some((function(n){return n===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isRemoved,".")}}())):null):f.a.createElement("div",null,f.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},f.a.createElement("span",{className:"title"},E()),f.a.createElement(R,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(s(a.created_at.timestamp))},f.a.createElement("span",{className:"text-muted font-weight-normal"},c(a.created_at.timestamp)))))))})),P=h.a.div(s||(s=Object(p.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]))),L=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.scrollRef,i=Object(b.ab)().fromNow,o=Object(b.gb)()._t;return f.a.createElement(P,{className:"topic-timeline timeline-item ".concat(t)},f.a.createElement("div",null,a.user&&f.a.createElement(w.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:r})),f.a.createElement("div",null,f.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},f.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",f.a.createElement("strong",null,o("DASHBOARD.WORKSPACE_CREATED","created ::workspaceName:: workspace",{workspaceName:a.name}))),f.a.createElement("span",{className:"text-muted font-weight-normal"},i(a.created_at.timestamp)))))})),D=h.a.div(l||(l=Object(p.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]))),M=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.tag,i=e.dictionary,o=e.workspace,c=e.scrollRef,s=Object(b.ab)().fromNow;return f.a.createElement(D,{className:"topic-timeline timeline-item ".concat(t)},f.a.createElement("div",null,a.user&&f.a.createElement(w.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:c})),f.a.createElement("div",null,f.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},f.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",f.a.createElement("strong",null,"ARCHIVED_WORKSPACE"===r?i.archived:i.unarchived," ",o.name," ",i.workspace)),f.a.createElement("span",{className:"text-muted font-weight-normal"},s(a.created_at.timestamp)))))})),F=t(748),U=t.n(F),H=function(e){var n=e.actions,t=e.workspace,a=e.workspaceTimeline,r=a.page,i=a.maxPage,o=a.timeline,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;n.getTimeline({topic_id:t.id,skip:e,limit:a})};return f.a.createElement("nav",{className:"mt-3"},f.a.createElement(U.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var i=e.selected+1;i!==r&&(n.updateTimelinePage({id:t.id,page:i}),a.total_items!==Object.keys(o).length&&Object.keys(o).length<=10*i&&(10*i-Object.keys(o).length>0?c(Object.keys(o).length,10*i):c(Object.keys(o).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},W=h.a.div(d||(d=Object(p.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]))),z=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspaceTimeline,r=e.actions,i=e.workspace,o=e.dictionary,c=Object(u.useRef)(null),s=Object(u.useState)(!1),l=Object(E.a)(s,2),d=l[0],m=l[1];return Object(u.useEffect)((function(){a||!i||d||(m(!0),r.getTimeline({topic_id:i.id,skip:0,limit:10},(function(){m(!1)})))}),[a,i,d]),f.a.createElement(W,{className:"timeline-panel card ".concat(t),ref:c},f.a.createElement("div",{className:"card-body"},f.a.createElement("h5",{className:"card-title"},o.timeline),f.a.createElement("div",{className:"timeline"},a&&Object.values(a.timeline).sort((function(e,n){return n.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(a.page>1?10*a.page-10:0,10*a.page).map((function(e){switch(e.tag){case"CHAT_BOT":return f.a.createElement(I,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"POST":return f.a.createElement(x,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"ICON":case"DOCUMENT":return f.a.createElement(y,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"TOPIC":return f.a.createElement(L,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"UNARCHIVED_WORKSPACE":case"ARCHIVED_WORKSPACE":return f.a.createElement(M,{key:e.id,data:e.item,tag:e.tag,dictionary:o,workspace:i,scrollRef:c.current});default:return null}})))),a&&a.total_items>10&&f.a.createElement(H,{workspaceTimeline:a,actions:r,workspace:i}))})),B=t(780),G=h.a.div(m||(m=Object(p.a)(["\n  overflow: auto !important;\n  min-height: calc(100vh - 100px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));n.default=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=e.isMember,i=e.match,o=e.actions,c=e.workspaceTimeline,s=e.workspace,l=i.params,d=Object(b.gb)()._t,m=Object(b.K)().recentPosts,p=window.innerWidth,u=function(){o.showModal(s,"edit","workspace")};Object(b.r)();var h={aboutThisWorkspace:d("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:d("TEAM","Team"),timeline:d("TIMELINE","Timeline"),noRecentPosts:d("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:d("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:d("FILE_ATTACHMENTS","File attachments"),peopleExternal:d("PEOPLE.EXTERNAL","External"),peopleInvited:d("PEOPLE.INVITED","Invited"),emptyTeam:d("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:d("DASHBOARD.SHOW_MORE","Show more"),showLess:d("DASHBOARD.SHOW_LESS","Show less"),attachedFile:d("ATTACHED_A_FILE","attached a file"),sharedThePost:d("SHARED_THE_POST","shared the post"),hasJoined:d("TIMELINE.HAS_JOINED","has joined"),hasLeft:d("TIMELINE.HAS_LEFT","has left"),youJoined:d("TIMELINE.YOU_JOINED","You joined"),youLeft:d("TIMELINE.YOU_LEFT","You left"),isAdded:d("TIMELINE.IS_ADDED","is added"),isRemoved:d("TIMELINE.IS_REMOVED","is removed"),createdThePost:d("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:d("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),remove:d("TEAM.REMOVE","Remove"),leave:d("TEAM.LEAVE","Leave"),leaveWorkspace:d("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:d("TIMELINE.ARCHIVED","archived"),unarchived:d("TIMELINE.UNARCHIVED","unarchived"),workspace:d("TIMELINE.WORKSPACE","workspace"),created:d("TIMELINE.CREATED","created"),resend:d("TEAM.RESEND","Resend"),cancel:d("MODAL.CANCEL","Cancel"),resendInvite:d("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:d("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:d("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:d("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:d("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:d("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:d("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:d("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:d("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:d("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:d("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:d("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:d("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:d("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:d("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:d("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:d("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:d("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:d("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:d("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:d("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:d("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:d("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:d("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:d("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:d("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:d("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:d("ROLE.ADVISOR","Advisor"),roleApprover:d("ROLE.APPROVER","Approver"),roleClient:d("ROLE.CLIENT","Client"),roleCommunicationLead:d("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:d("ROLE.DESIGNER","Designer"),roleDeveloper:d("ROLE.DEVELOPER","Developer"),roleFreelancer:d("ROLE.FREELANCER","Freelancer"),roleSupervisor:d("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:d("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:d("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:d("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:d("ROLE.WATCHER","Watcher"),sendInviteManually:d("TEAM.SEND_INVITE_MANUALLY","Send invite manually")},E=!1;return s&&0===s.active&&(E=!0),f.a.createElement(G,{className:"container-fluid fadeIn ".concat(t)},f.a.createElement("div",{className:"row"},null===s?f.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):f.a.createElement(f.a.Fragment,null,p>620?f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"col-md-6"},f.a.createElement(B.c,{isMember:r,workspace:s,onEditClick:u,isExternal:a,dictionary:h}),f.a.createElement(z,{workspaceTimeline:c,actions:o,workspace:s,dictionary:h})),f.a.createElement("div",{className:"col-md-6"},f.a.createElement(B.d,{workspace:s,actions:o,onEditClick:u,isMember:r,isExternal:a,dictionary:h}),f.a.createElement(B.e,{posts:m,dictionary:h,disableOptions:E}))):f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"col-md-12"},f.a.createElement(B.c,{isMember:r,workspace:s,onEditClick:u,isExternal:a,dictionary:h}),f.a.createElement(B.d,{workspace:s,onEditClick:u,isMember:r,isExternal:a,dictionary:h}),f.a.createElement(B.e,{posts:m,dictionary:h,disableOptions:E}),f.a.createElement(z,{workspaceTimeline:c,actions:o,params:l,dictionary:h}))))))}))},777:function(e,n,t){"use strict";t.d(n,"d",(function(){return A})),t.d(n,"b",(function(){return R})),t.d(n,"c",(function(){return Y})),t.d(n,"a",(function(){return ie}));t(765);var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k=t(10),y=t(0),N=t.n(y),x=t(9),T=x.a.div(a||(a=Object(k.a)([""]))),j=x.a.span(r||(r=Object(k.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),A=N.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,r=e.todoActions,i=e.setFilter,o=e.filter,c=e.count;return N.a.createElement(T,{className:"todo-sidebar bottom-modal-mobile ".concat(t)},N.a.createElement("div",{className:"card"},N.a.createElement("div",{className:"card-body"},N.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return r.createFromModal()}},a.createNewTodoItem)),N.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},N.a.createElement("div",{className:"list-group list-group-flush"},N.a.createElement(j,{onClick:i,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},N.a.createElement("span",{className:"text-secondary fa fa-circle mr-2"}),a.statusAll,c&&c.all>0&&N.a.createElement("span",{className:"small ml-auto"},c.all)),N.a.createElement(j,{onClick:i,"data-filter":"OVERDUE",active:"OVERDUE"===o,className:"list-group-item d-flex align-items-center"},N.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),a.statusExpired,c&&c.overdue>0&&N.a.createElement("span",{className:"small ml-auto"},c.overdue)),N.a.createElement(j,{onClick:i,"data-filter":"TODAY",active:"TODAY"===o,className:"list-group-item d-flex align-items-center"},N.a.createElement("span",{"data-filter":"TODAY"},N.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),a.statusToday),c&&c.today>0&&N.a.createElement("span",{className:"small ml-auto"},c.today)),N.a.createElement(j,{onClick:i,"data-filter":"NEW",active:"NEW"===o,className:"list-group-item d-flex align-items-center"},N.a.createElement("span",{"data-filter":"NEW"},N.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),a.statusUpcoming),c&&c.new>0&&N.a.createElement("span",{className:"small ml-auto"},c.new)),N.a.createElement(j,{onClick:i,"data-filter":"ASSIGNED_TO_OTHERS",active:"ASSIGNED_TO_OTHERS"===o,className:"list-group-item d-flex align-items-center"},N.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},N.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByMe),c&&c.assigned_to_others>0&&N.a.createElement("span",{className:"small ml-auto"},c.assigned_to_others)),N.a.createElement(j,{onClick:i,"data-filter":"ADDED_BY_OTHERS",active:"ADDED_BY_OTHERS"===o,className:"list-group-item d-flex align-items-center"},N.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},N.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByOthers),c&&c.added_by_others>0&&N.a.createElement("span",{className:"small ml-auto"},c.added_by_others))))))})),C=t(14),S=x.a.div(i||(i=Object(k.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),R=N.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.clearSearch,r=e.onEnter,i=e.dictionary,o=e.onSearchChange,c=e.searchValue;return N.a.createElement(S,{className:"todos-header app-action ".concat(t)},N.a.createElement("div",{className:"action-left"},N.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},N.a.createElement(C.s,{icon:"menu"}))),N.a.createElement("div",{className:"action-right"},N.a.createElement("div",{className:"input-group"},N.a.createElement("input",{type:"text",onKeyDown:r,onChange:o,value:c,className:"form-control",placeholder:i.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==c.trim()&&N.a.createElement("button",{onClick:a,className:"btn-cross",type:"button"},N.a.createElement(C.s,{icon:"x"})),N.a.createElement("div",{className:"input-group-append"},N.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},N.a.createElement(C.s,{icon:"search"}))))))})),I=t(1),P=t(7),L=t(19),D=t(23),M=t(4),F=t(58),U=Object(x.a)(C.s)(o||(o=Object(k.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),H=x.a.div(c||(c=Object(k.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),W=x.a.li(s||(s=Object(k.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .todo-title {\n    text-decoration: ",";\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n    .avatars-container {\n      min-width: 40px;\n    }\n  }\n"])),(function(e){return e.isDone?"line-through":"none"})),z=x.a.div(l||(l=Object(k.a)(["\n  max-height: 50px;\n  > * {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),B=x.a.div(d||(d=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]))),G=x.a.div(m||(m=Object(k.a)(["\n  min-width: 142px;\n  text-align: right;\n  @media all and (max-width: 480px) {\n    min-width: 70px;\n  }\n"]))),V=x.a.div(p||(p=Object(k.a)(["\n  @media all and (max-width: 480px) {\n    flex-flow: row wrap;\n  }\n"]))),Y=function(e){var n=e.todo,t=e.todoActions,a=e.handleLinkClick,r=e.dictionary,i=e.todoFormat,o=e.todoFormatShortCode,c=e.getFileIcon,s=e.showWsBadge,l=e.handleRedirectToWorkspace,d=Object(M.c)(),m=Object(y.useState)("DONE"===n.status),p=Object(P.a)(m,2),u=p[0],f=p[1],h=Object(M.d)((function(e){return e.files.fileBlobs})),b=Object(y.useRef)(null);Object(y.useEffect)((function(){b.current&&b.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&h[a.id]&&(e.setAttribute("src",h[a.id]),e.setAttribute("data-id",a.id))}else{e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&h[r.id]&&(e.setAttribute("src",h[r.id]),e.setAttribute("data-id",r.id))}}));var e=n.files.filter((function(e){return e.type&&e.type.includes("image")}));e.length&&e.forEach((function(e){h[e.id]||F.sessionService.loadSession().then((function(n){var t=n.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:t,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var t=URL.createObjectURL(n);!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};d(Object(D.pb)(e,n))}({id:e.id,src:t})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[n.files,n.description,b]),Object(y.useEffect)((function(){"DONE"!==n.status||u?"DONE"!==n.status&&u&&t.markDone(n):t.markUnDone(n)}),[u]);var E=function(e){e.stopPropagation(),e.preventDefault(),t.updateFromModal(n)},g=function(e){e.preventDefault(),n.link_type?a(e,n):t.updateFromModal(n)},v=n.assigned_to&&n.assigned_to.id!==n.user||null!==n.workspace&&null===n.assigned_to||null===n.workspace&&null!==n.assigned_to&&n.assigned_to.id!==n.user||n.assigned_to&&n.author&&n.assigned_to.id!==n.author.id;return N.a.createElement(N.a.Fragment,null,N.a.createElement(W,{className:"reminder-list",isDone:u},n.workspace&&s&&N.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return l(e,n)}},N.a.createElement("span",{className:"badge ml-4 badge-light border-0"},n.workspace.name)),N.a.createElement("div",{className:"d-flex align-items-center reminder-content"},N.a.createElement("span",{className:"custom-control custom-checkbox mr-2"},N.a.createElement(C.t,{content:"DONE"===n.status?r.actionMarkAsUndone:r.actionMarkAsDone},N.a.createElement(L.m,{checked:u,onClick:function(e){f(!u)}}))),N.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3 ".concat(u&&"text-muted"),onClick:g},N.a.createElement("span",{className:"todo-title"},n.title),n.description&&!u&&N.a.createElement(z,{ref:b,className:"text-truncate",dangerouslySetInnerHTML:{__html:n.description}}),!u&&n.files.map((function(e){return N.a.createElement("span",{key:"".concat(n.id).concat(e.file_id),onClick:function(t){return function(e,n,t){e.preventDefault(),e.stopPropagation();var a={files:n.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{filename:e.name})})),file_id:t.file_id};d(Object(D.cc)(a))}(t,n.files,e)}},c(e.mime_type))}))),N.a.createElement(H,{className:"hover-btns ml-1"},N.a.createElement(U,{icon:"pencil",onClick:E}),N.a.createElement(U,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault(),t.removeConfirmation(n)}})),N.a.createElement(V,{className:"d-flex align-items-center ml-auto"},N.a.createElement(B,{className:"".concat(u&&"text-muted")},N.a.createElement(U,{icon:"calendar"}),N.a.createElement(C.t,{content:n.remind_at?i(n.remind_at.timestamp):r.addDate},N.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"Yesterday"===o(e.remind_at.timestamp)?"text-warning":"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(n)),onClick:E},n.remind_at?o(n.remind_at.timestamp,"MM/DD/YYYY"):r.addDate))),N.a.createElement(G,null,null!==n.link_type&&N.a.createElement("span",{className:"badge mr-3 badge-light todo-type-badge ".concat(u&&"text-muted"),onClick:g},function(e){switch(e.link_type){case"POST":return r.typePost;case"CHAT":return r.typeChat;case"POST_COMMENT":return r.typePostComment;default:return null}}(n))),N.a.createElement("div",{className:"avatars-container"},null!==n.author&&N.a.createElement(C.a,{name:n.author.name,tooltipName:r.reminderAuthor,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link,id:n.author.id}),v&&N.a.createElement(N.a.Fragment,null,N.a.createElement(U,{icon:"chevron-right"}),N.a.createElement(C.a,{name:n.assigned_to?n.assigned_to.name:n.workspace.name,tooltipName:r.reminderAssignedTo,imageLink:n.assigned_to?n.assigned_to.profile_image_link:n.workspace&&n.workspace.channel?n.workspace.channel.icon_link:null,id:n.assigned_to?n.assigned_to.id:n.workspace.id,type:n.assigned_to?"USER":"TOPIC",noDefaultClick:!n.assigned_to})))))))},K=t(45),q=t(11),Z=x.a.div(u||(u=Object(k.a)(["\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),J=x.a.span(f||(f=Object(k.a)(["\n  font-weight: 700;\n  cursor: pointer;\n"]))),Q=function(e){var n=e.className,t=void 0===n?"":n,a=e.id,r=void 0===a?"":a,i=e.handleClick,o=e.active,c=e.headerText,s=void 0===c?"":c;return N.a.createElement(Z,{className:t},N.a.createElement(J,{className:"badge badge-light",onClick:i,id:r},N.a.createElement(C.s,{icon:o?"arrow-down":"arrow-up",width:16,height:16,className:"mr-1"}),s),e.children)},X=x.a.div(h||(h=Object(k.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),$=function(e){var n=e.dictionary;return N.a.createElement(X,null,N.a.createElement("h3",null,n.noItemsFoundHeader),N.a.createElement("h5",null,n.noItemsFoundText," "))},ee=x.a.div(b||(b=Object(k.a)(["\n  .badge.badge-light {\n    background: rgba(175, 184, 189, 0.2);\n    border: 1px solid #f8f9fa;\n    color: #212529;\n    .dark & {\n      color: #fff;\n      background: rgb(175, 184, 189, 0.2) !important;\n      border: 1px solid rgb(175, 184, 189, 0.2);\n    }\n  }\n"]))),ne=x.a.ul(E||(E=Object(k.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  .list-group-item:last-child {\n    border-bottom: none;\n  }\n  li:last-child {\n    border-bottom: none;\n  }\n"]))),te=function(e){var n=e.className,t=void 0===n?"":n,a=e.active,r=e.handleHeaderClick,i=e.headerText,o=e.headerChild,c=e.dictionary,s=e.items,l=e.ItemList,d=e.showEmptyState,m=void 0===d||d,p=e.listGroupClassname,u=void 0===p?"":p;return N.a.createElement(ee,{className:t},N.a.createElement(Q,{active:a,headerText:i,handleClick:r},o),0===s.length&&m&&a&&N.a.createElement($,{dictionary:c}),s.length>0&&a&&N.a.createElement(ne,{className:u},s.map((function(e){return l(e)}))),e.children)},ae=x.a.div(g||(g=Object(k.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n'])),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),re=Object(x.a)(te)(v||(v=Object(k.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]))),ie=N.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,r=e.isLoaded,i=e.todoActions,o=e.todoItems,c=e.doneTodoItems,s=e.workspaceName,l=void 0===s?null:s,d=Object(q.ab)(),m=d.todoFormat,p=d.todoFormatShortCode,u=Object(q.s)().getFileIcon,f=Object(q.O)(),h=Object(K.i)(),b=function(e,n){if(e.preventDefault(),"CHAT"===n.link_type)f.toChat(n.data.channel,n.data.chat_message);else{var t={id:"POST_COMMENT"===n.link_type&&n.data?n.data.post.id:n.link_id,title:n.title},a=Object(I.a)(Object(I.a)({},n.workspace),{},{folder_id:n.folder?n.folder.id:null,folder_name:n.folder?n.folder.name:null});f.toPost({workspace:a,post:t})}},E=Object(y.useState)({todo:!0,done:!1}),g=Object(P.a)(E,2),v=g[0],O=g[1],_=function(e,n){e.preventDefault(),e.stopPropagation(),f.toWorkspace(n.workspace,"reminders")};return N.a.createElement(ae,{className:"todos-body card app-content-body mb-4 ".concat(t),active:!o.length},!r&&N.a.createElement("div",{className:"card-body"},N.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),r&&N.a.createElement("div",{className:"card-body"},N.a.createElement(re,{active:v.todo,dictionary:a,handleHeaderClick:function(){O({todo:!v.todo,done:v.done})},headerText:a.todo,items:o,headerChild:h.hasOwnProperty("workspaceId")?N.a.createElement("span",{className:"badge badge-light"},l):null,ItemList:function(e){return N.a.createElement(Y,{key:e.id,todo:e,todoActions:i,dictionary:a,handleLinkClick:b,todoFormat:m,todoFormatShortCode:p,getFileIcon:u,showWsBadge:!h.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:_})}}),N.a.createElement(re,{active:v.done,dictionary:a,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){O({todo:v.todo,done:!v.done})},headerText:a.done,items:c,ItemList:function(e){return N.a.createElement(Y,{key:e.id,todo:e,todoActions:i,dictionary:a,handleLinkClick:b,todoFormat:m,todoFormatShortCode:p,getFileIcon:u,showWsBadge:!h.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:_})}})))}));x.a.div(O||(O=Object(k.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    stroke: #191c20;\n  }\n  div:first-child {\n    padding-left: 20px;\n    padding-right: 0;\n  }\n"]))),x.a.span(_||(_=Object(k.a)(["\n  font-weight: 700;\n  cursor: pointer;\n  background: #f8f9fa !important;\n  border: 1px solid #f8f9fa;\n"]))),x.a.div(w||(w=Object(k.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"])))},778:function(e,n,t){"use strict";t.d(n,"b",(function(){return M})),t.d(n,"a",(function(){return B})),t.d(n,"c",(function(){return Y}));t(8);var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O=t(1),_=t(7),w=t(10),k=t(0),y=t.n(k),N=t(4),x=t(816),T=t(9),j=t(13),A=t(14),C=t(11),S=(t(45),t(16),t(15)),R=(T.a.li(a||(a=Object(w.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"])),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Object(T.a)(A.s)(r||(r=Object(w.a)(["\n  width: 12px !important;\n"]))),T.a.li(i||(i=Object(w.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"])),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),Object(T.a)(A.s)(o||(o=Object(w.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]))),T.a.ul(c||(c=Object(w.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"])),(function(e){return e.maxHeight})),Object(T.a)(A.s)(s||(s=Object(w.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]))),t(6)),I=t(89),P=t.n(I),L=T.a.div(l||(l=Object(w.a)(["\n  position: relative;\n  display: flex;\n  margin-left: 6px;\n  align-items: center;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n  .feather.feather-pencil {\n    width: 14px;\n    height: 14px;\n  }\n"]))),D=Object(T.a)(P.a)(d||(d=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),M=y.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(C.bb)(),r=Object(C.gb)()._t,i={archiveThisWorkspace:r("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:r("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),archiveWorkspace:r("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:r("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:r("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:r("BUTTON.CANCEL","Cancel"),archiveBodyText:r("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:r("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?")},o=Object(k.useRef)(),c=Object(N.c)(),s=Object(N.d)((function(e){return e.workspaces.activeTopic})),l=Object(N.d)((function(e){return e.workspaces.folders})),d=Object(k.useState)(!1),m=Object(_.a)(d,2),p=m[0],u=m[1],f=function(){u(!p)},h=function(e){b(e.target.dataset.name)},b=function(e){var n={mode:"edit",item:s};n="folder"===e?Object(O.a)(Object(O.a)({},n),{},{type:"workspace_folder",item:l[s.folder_id]}):Object(O.a)(Object(O.a)({},n),{},{type:"workspace_create_edit"}),c(Object(j.a)(n))},E=function(){var e={id:s.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:s.is_external,push_unarchived:1};c(Object(S.pb)(e)),a.success(y.a.createElement("span",null,y.a.createElement("b",null,s.name," workspace is un-archived.")))};Object(C.G)(o,f,p);var g=s?s.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[];return Object(C.C)(s&&s.member_ids.length?Object(R.a)(new Set(g)):[])?y.a.createElement(L,{className:"nav-item ".concat(t),ref:o},y.a.createElement("div",null,y.a.createElement("span",{className:"dropdown-toggle ".concat(p?"show":""),"data-toggle":"dropdown",onClick:function(){s&&null!==s.folder_id||s&&0===s.active?f():b("workspace")}},y.a.createElement(D,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Workspace settings"},y.a.createElement(A.s,{icon:"pencil"}))),y.a.createElement("div",{className:"dropdown-menu ".concat(p?"show":"")},1===s.active?y.a.createElement(y.a.Fragment,null,y.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:h},"Folder settings"),y.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:h},"Workspace settings")):y.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){var e={type:"confirmation",cancelText:i.cancel,headerText:i.unarchiveWorkspace,submitText:i.unarchiveWorkspace,bodyText:i.unarchiveBodyText,actions:{onSubmit:E}};c(Object(j.a)(e))}},"Un-archive workspace")))):null})),F=(T.a.li(m||(m=Object(w.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"])),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),Object(T.a)(A.s)(p||(p=Object(w.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]))),T.a.div(u||(u=Object(w.a)(["\n  display: flex;\n  padding-top: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n  .feather-star {\n    top: -2px;\n    right: -2px;\n  }\n  .feather-folder {\n    margin-right: 5px;\n    width: 0.7rem;\n    height: 0.7rem;\n  }\n  .workspace-folder-name {\n    font-size: 0.7rem;\n  }\n"])))),U=T.a.div(f||(f=Object(w.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  align-self: center;\n"]))),H=Object(T.a)(A.s)(h||(h=Object(w.a)(["\n  min-width: 0.8rem;\n  min-height: 0.8rem;\n  width: 0.8rem;\n  height: 0.8rem;\n"]))),W=T.a.div(b||(b=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  color: #cbd4db;\n  .feather {\n    margin-left: 5px;\n  }\n"]))),z=T.a.div(E||(E=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  color: #8b8b8b;\n"]))),B=function(e){var n=e.isExternal,t=e.onSelectWorkspace,a=e.workspace,r=e.isCompanyWs,i=e.companyName;return y.a.createElement(F,{onClick:function(){t(a)}},y.a.createElement(Y,{avatarClassName:"avatar-sm",workspace:a,isCompanyWs:r,companyName:i}),y.a.createElement(U,null,y.a.createElement(W,null,y.a.createElement("span",{className:"text-truncate"},r&&i?i:a.name),1===a.is_lock&&y.a.createElement(H,{icon:"lock"}),a.is_shared&&!n&&y.a.createElement(H,{icon:"eye"})),a.folder_name&&y.a.createElement(z,{className:"workspace-folder-name"},y.a.createElement(H,{icon:"folder"}),y.a.createElement("span",{className:"text-truncate"},a.folder_name))))},G=T.a.div(g||(g=Object(w.a)(["\n  position: relative;\n"]))),V=Object(T.a)(x.a)(v||(v=Object(w.a)(["\n  position: absolute;\n  right: -7px;\n  top: -4px;\n  z-index: 1;\n  padding: 4px 8px;\n  font-size: 10px;\n  &.badge.badge-primary {\n    background: #3f034a;\n  }\n"]))),Y=function(e){var n=e.avatarClassName,t=void 0===n?"":n,a=e.onSelectWorkspace,r=void 0===a?null:a,i=e.workspace,o=e.isCompanyWs,c=e.companyName;return y.a.createElement(G,{className:"workspace-icon mr-3"},i.hasOwnProperty("workspace_counter_entries")&&i.workspace_counter_entries>0&&y.a.createElement(V,{className:"badge badge-primary badge-pill ml-1"},i.workspace_counter_entries>99?"99+":i.workspace_counter_entries),y.a.createElement(A.a,{className:t,forceThumbnail:!1,type:"TOPIC",imageLink:i.team_channel?i.team_channel.icon_link:null,id:i.id,name:o&&c?c:i.name,onClick:r,noDefaultClick:!r,showSlider:!1}))}},779:function(e,n,t){"use strict";t.d(n,"a",(function(){return M})),t.d(n,"b",(function(){return W})),t.d(n,"c",(function(){return K}));t(752),t(754),t(774);var a,r,i,o,c,s,l,d,m,p,u,f,h=t(7),b=t(10),E=t(0),g=t.n(E),v=t(4),O=t(45),_=t(9),w=t(14),k=t(163),y=t(11),N=t(26),x=_.a.div(a||(a=Object(b.a)([""]))),T=_.a.ul(r||(r=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),j=Object(_.a)(w.k)(i||(i=Object(b.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),A=g.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(O.h)(),r=Object(y.gb)()._t,i={people:r("ALL_PEOPLE_PAGE_HEADER_LINKS.PEOPLE","People"),teams:r("ALL_PEOPLE_PAGE_HEADER_LINKS.TEAMS","Teams"),organization:r("ALL_PEOPLE_PAGE_HEADER_LINKS.ORGANIZATION","Organization chart")};return g.a.createElement(g.a.Fragment,null,g.a.createElement(x,{className:"".concat(t)},g.a.createElement(T,{className:"navbar-nav"},g.a.createElement("li",{className:"nav-item"},g.a.createElement(j,{to:"/system/people",active:"/system/people"===a.pathname},i.people)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(j,{to:"/system/people/teams",active:a.pathname.startsWith("/system/people/teams")},i.teams)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(j,{to:"/system/people/organization",active:"/system/people/organization"===a.pathname},i.organization)))))})),C=t(13),S=_.a.li(o||(o=Object(b.a)(["\n  @media (max-width: 414px) {\n    display: none;\n  }\n  @media (max-width: 700px) {\n    position: absolute;\n    right: 100px;\n    top: 10px;\n  }\n"]))),R=function(e){var n=e.dictionary,t=Object(v.d)((function(e){return e.session.user})),a=Object(v.d)((function(e){return e.users.users})),r=Object(y.ib)(),i=Object(y.bb)(),o=Object(v.c)(),c="admin"===t.role.name||"owner"===t.role.name;return g.a.createElement(S,{className:"nav-item-last ml-auto"},c&&g.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){o(Object(C.a)({mode:"create",type:"team",team:null}))}},g.a.createElement(w.s,{className:"mr-2",icon:"user-plus"})," ",n.btnTeam),g.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"driff_invite_users",hasLastName:!0,invitations:[],fromRegister:!1,onPrimaryAction:function(e,n,t){0===e.length&&t.closeModal();var o=0;e.forEach((function(c,s){Object.values(a).some((function(e){return e.email===c.email}))?(i.error(g.a.createElement(g.a.Fragment,null,"Email ",g.a.createElement("b",null,c.email)," is already taken!")),s===e.length-1&&(o===e.length&&t.closeModal(),n())):r.inviteAsInternalUsers({email:c.email,first_name:c.first_name,last_name:c.last_name,team_ids:c.teams?c.teams.map((function(e){return e.id})):[]},(function(a,r){a&&(i.error("Something went wrong with ".concat(c.first_name," ").concat(c.last_name)),t.deleteItemByIndex(t.invitationItems.findIndex((function(e){return e.email===c.email})))),r&&(o+=1,t.deleteItemByIndex(t.invitationItems.findIndex((function(e){return e.email===c.email}))),i.success("You have invited ".concat(c.first_name," ").concat(c.last_name))),s===e.length-1&&(o===e.length&&t.closeModal(),n())}))}))}};o(Object(C.a)(e))}},g.a.createElement(w.s,{className:"mr-2",icon:"user-plus"})," ",n.btnInviteUsers))},I=t(746),P=_.a.div(c||(c=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n\n  &.page-notifications,\n  &.page-profile,\n  &.page-settings,\n  &.page-system {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 4px;\n          display: flex;\n          align-items: center;\n          height: 40px;\n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n            overflow: auto;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  svg.feather-home {\n    color: rgb(80, 80, 80);\n\n    .dark & {\n      color: #fff;\n    }\n  }\n  .dash {\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n  .nav-item-last {\n    list-style: none;\n  }\n"]))),L=_.a.h2(s||(s=Object(b.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),D=Object(_.a)(w.s)(l||(l=Object(b.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFavorite&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),M=g.a.memo((function(){var e=Object(O.j)(),n=Object(v.d)((function(e){return e.settings})),t=n.driff,a=n.user.GENERAL_SETTINGS.dark_mode,r=Object(v.d)((function(e){return e.global.unreadCounter})),i=Object(v.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),o=Object(v.d)((function(e){return Object.values(e.workspaces.workspaces).find((function(e){return i&&i.id===e.id}))})),c=Object(y.gb)()._t,s={pageTitleDashboard:c("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:c("PAGE_TITLE.POSTS","Posts"),pageTitleChat:c("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:c("PAGE_TITLE.FILES","Files"),pageTitleNotifications:c("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:c("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:c("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:c("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:c("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:c("PAGE_TITLE.TODOS","Reminders"),pageTitleSystemPeople:c("PAGE_TITLE.SYSTEM_PEOPLE","All people"),generalSearch:c("GENERAL.SEARCH","Search"),generalNotifications:c("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:c("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===a?c("SETTINGS.DARK_MODE","dark mode"):c("SETTINGS.LIGHT_MODE","light mode")}),bots:c("SIDEBAR.BOTS","Bots"),adminSettings:c("PAGE_TITLE.ADMIN_SETTINGS","Driff settings"),btnTeam:c("BUTTON.TEAM","Team"),btnInviteUsers:c("BUTTON.INVITE_USERS","Invite users")},l=Object(v.c)(),d=Object(E.useState)(s.pageTitleDashboard),m=Object(h.a)(d,2),p=m[0],u=m[1],f=function(){if(o){var e={id:o.id,workspace_id:0,is_pinned:o.is_favourite?0:1};l(Object(N.g)(e))}};return Object(E.useEffect)((function(){switch(e.params.page){case"posts":u(s.pageTitlePosts);break;case"chat":u(s.pageTitleChat);break;case"files":u(s.pageTitleFiles);break;case"notifications":u(s.pageTitleNotifications);break;case"people":u(s.pageTitlePeople);break;case"profile":u(s.pageTitleProfile);break;case"search":u(s.pageTitleSearch);break;case"settings":u(s.pageTitleSettings);break;case"todos":u(s.pageTitleTodos);break;default:u(s.pageTitleDashboard)}r.chat_message>=1||r.unread_channel>0?document.title="".concat(p," \u2039 * ").concat(t.company_name," @ Driff"):document.title="".concat(p," \u2039 ").concat(t.company_name," @ Driff")}),[e.params.page,l,p,t.company_name]),g.a.createElement(P,{className:"page-".concat(e.params.page)},g.a.createElement("div",{className:"navbar-left"},g.a.createElement("div",{className:"navbar-nav"},g.a.createElement("div",{className:"navbar-wrap"},g.a.createElement("div",{className:"navbar-top"},g.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},g.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},g.a.createElement(w.s,{icon:"menu"}))),g.a.createElement(I.a,null),g.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},function(){switch(e.params.page){case"notifications":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"bell"}),g.a.createElement(L,null,s.pageTitleNotifications));case"profile":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"user"}),g.a.createElement(L,null,s.pageTitleProfile));case"settings":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"settings"}),g.a.createElement(L,null,s.pageTitleSettings));case"system":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"user"}),g.a.createElement(L,null,s.pageTitleSystemPeople));default:return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"home"})," ",g.a.createElement(L,null,t.company_name),i&&g.a.createElement(D,{className:"mr-2",icon:"star",onClick:f,isFavorite:o&&o.is_favourite}))}}())),!["system","notifications","profile","settings"].includes(e.params.page)&&g.a.createElement("div",{className:"navbar-bottom"},g.a.createElement("div",{className:"navbar-main"},g.a.createElement(W,{dictionary:s}))),["system"].includes(e.params.page)&&g.a.createElement("div",{className:"navbar-bottom"},g.a.createElement("div",{className:"navbar-main"},g.a.createElement(A,{dictionary:s,match:e}))))),["system"].includes(e.params.page)&&g.a.createElement(R,{dictionary:s})),g.a.createElement("div",null,g.a.createElement(k.b,{dictionary:s})))})),F=(t(757),t(758),t(784),_.a.div(d||(d=Object(b.a)([""])))),U=_.a.ul(m||(m=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),H=Object(_.a)(w.k)(p||(p=Object(b.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),W=g.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,r=Object(v.d)((function(e){return e.global.unreadCounter})),i=Object(v.d)((function(e){return e.chat.lastVisitedChannel})),o=Object(v.d)((function(e){return e.session.user})),c=Object(v.d)((function(e){return e.global.todos.count}));return g.a.createElement(g.a.Fragment,null,g.a.createElement(F,{className:"".concat(t)},g.a.createElement(U,{className:"navbar-nav"},g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/dashboard"},a.pageTitleDashboard)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:null!==i&&i.hasOwnProperty("code")?"/chat/".concat(i.code):"/chat"},a.pageTitleChat," ",g.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.chat_message>0?r.chat_message:null))),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/posts"},a.pageTitlePosts," ",g.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.general_post>0?r.general_post:null))),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/todos"},a.pageTitleTodos," ",g.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},c.todo_with_date>0?c.todo_with_date:null))),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/files"},a.pageTitleFiles)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/people"},a.pageTitlePeople)),o.role&&["owner","admin"].includes(o.role.name)&&g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/admin-settings"},a.adminSettings)))))})),z=t(747),B=t(742),G=t(782),V=_.a.div(u||(u=Object(b.a)(["\n  padding: 2rem;\n"]))),Y=_.a.div(f||(f=Object(b.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n"]))),K=function(e){var n=e.users,t=Object(v.d)((function(e){return e.users.teams})),a=Object(v.d)((function(e){return e.settings.driff.company_name}));return g.a.createElement(V,null,g.a.createElement(z.a,{lineWidth:"2px",lineColor:"#8c3b9b",lineBorderRadius:"10px",label:g.a.createElement(Y,null,g.a.createElement("div",{className:"team-name mb-2"},g.a.createElement(w.s,{className:"mr-2",icon:"home"}),a),g.a.createElement("div",{className:"mb-1"},n.length," accounts"),g.a.createElement(B.a,{members:n}))},Object.values(t).filter((function(e){return 0===e.parent_team})).map((function(e){return g.a.createElement(G.a,{key:e.id,team:e,allTeams:Object.values(t)})}))))}},780:function(e,n,t){"use strict";t.d(n,"c",(function(){return v})),t.d(n,"d",(function(){return y})),t.d(n,"e",(function(){return j})),t.d(n,"a",(function(){return C})),t.d(n,"b",(function(){return R}));var a,r,i,o,c,s,l,d=t(7),m=t(10),p=t(0),u=t.n(p),f=t(9),h=t(14),b=f.a.div(a||(a=Object(m.a)(["\n  border-left: 5px solid #822492;\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n\n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),E=f.a.div(r||(r=Object(m.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]))),g=f.a.div(i||(i=Object(m.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"])),(function(e){return e.height})),v=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.onEditClick,r=e.workspace,i=e.isMember,o=e.isExternal,c=e.dictionary,s=Object(p.useState)(""),l=Object(d.a)(s,2),m=l[0],f=l[1],v=Object(p.useState)(null),O=Object(d.a)(v,2),_=O[0],w=O[1],k=Object(p.useState)(140),y=Object(d.a)(k,2),N=y[0],x=y[1],T={description:Object(p.useRef)(null)};return Object(p.useEffect)((function(){T.description.current&&(!0===_?setTimeout((function(){T.description.current.style.overflow=""}),[300]):!1===_&&(T.description.current.style.overflow="hidden"))}),[_,T.description.current]),Object(p.useEffect)((function(){r&&m!==r.description&&(f(r.description),w(null),T.description.current=null)}),[r]),u.a.createElement(b,{className:"dashboard-about-workspace card ".concat(t)},u.a.createElement("div",{className:"bg-overlay ".concat(null===_?"":!0===_?"show":"hide")}),u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},c.aboutThisWorkspace," ",!0===i&&!o&&1===r.active&&u.a.createElement(h.s,{icon:"edit",onClick:a})),r&&u.a.createElement(u.a.Fragment,null,u.a.createElement(E,{className:null===_?"":!0===_?"show":"hide"},u.a.createElement(g,{ref:function(e){null===T.description.current&&e&&(T.description.current=e,e.clientHeight>140?(x(e.clientHeight),w(!1)):w(null))},height:N,className:"dashboard-description ".concat(null===_?"":!0===_?"show":"hide"),dangerouslySetInnerHTML:{__html:r.description}}),null!==_&&u.a.createElement("div",{onClick:function(e){e.preventDefault(),w((function(e){return!e}))},className:"btn-toggle-show cursor-pointer mt-2"},_?c.showLess:c.showMore)))))})),O=t(740),_=t(4),w=t(11),k=f.a.div(o||(o=Object(m.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),y=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.onEditClick,i=e.isExternal,o=e.isMember,c=e.dictionary,s=e.actions,l=Object(p.useRef)(null),m=Object(p.useState)(!1),f=Object(d.a)(m,2),b=f[0],E=f[1],g=Object(w.bb)(),v=Object(_.d)((function(e){return e.session.user})),y=!o||0===a.active,N=a.members,x=function(){E((function(e){return!e}))},T=function(e,n){s.leave(e,n,(function(n,t){n||g.success(u.a.createElement(u.a.Fragment,null,c.leaveWorkspace,u.a.createElement("b",null,e.name)))}))},j=function(e,n){var t={topic_id:a.id,user_id:e.id,role:n};s.addRole(t)};return u.a.createElement(k,{className:"dashboard-team card ".concat(t),ref:l},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},c.team," ",!0===o&&!i&&1===a.active&&u.a.createElement(h.s,{onClick:r,icon:"plus"})),0===N.length?u.a.createElement(u.a.Fragment,null,c.emptyTeam):u.a.createElement("ul",{className:"list-group list-group-flush"},(b?N:N.slice(0,5)).map((function(e,n){return u.a.createElement(O.c,{key:e.id,member:e,onEditClick:r,onLeaveWorkspace:T,onAddRole:j,hideOptions:y,actions:s,workspace_id:a.id,dictionary:c,showMoreButton:4===n&&N.length>5&&!b,showLessButton:n===N.length-1&&N.length>5&&b,toggleShow:x,loggedUser:v,workspace:a})})))))})),N=t(45),x=t(739),T=f.a.div(c||(c=Object(m.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    cursor: hand;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),j=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.posts,r=e.dictionary,i=e.disableOptions,o=Object(w.I)(),c=Object(N.j)(),s=function(e){o.openPost(e,c.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(p.useEffect)((function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}),[c.params.workspaceId]),u.a.createElement(T,{className:"recent-posts card ".concat(t)},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},r.recentPosts," ",u.a.createElement(h.s,{icon:"refresh-ccw",onClick:function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}})),a&&Object.keys(a).length?u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,n){return n.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return u.a.createElement(x.e,{key:e.id,post:e,postActions:o,onOpenPost:s,disableOptions:i})}))):u.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))})),A=f.a.div(s||(s=Object(m.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),C=function(e){var n=e.className,t=void 0===n?"":n,a=e.onEditClick,r=e.dictionary,i=e.actions,o=Object(p.useRef)(null),c=Object(_.d)((function(e){return e.users.users})),s=Object(_.d)((function(e){return e.session.user})),l=Object(p.useState)(!1),m=Object(d.a)(l,2),f=m[0],h=m[1],b=function(){h((function(e){return!e}))},E=Object.values(c).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,n){return e.name.localeCompare(n.name)}));return u.a.createElement(A,{className:"dashboard-team card ".concat(t),ref:o},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},r.team),u.a.createElement("ul",{className:"list-group list-group-flush"},(f?E:E.slice(0,5)).map((function(e,n){return u.a.createElement(O.c,{key:e.id,member:e,hideOptions:!0,onEditClick:a,actions:i,dictionary:r,showMoreButton:4===n&&E.length>5&&!f,showLessButton:n===E.length-1&&E.length>5&&f,showMore:f,toggleShow:b,loggedUser:s})})))))},S=f.a.div(l||(l=Object(m.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),R=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.posts,r=e.dictionary,i=e.disableOptions,o=Object(w.I)(),c=Object(N.j)(),s=function(e){o.openPost(e,c.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(p.useEffect)((function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}),[c.params.workspaceId]),u.a.createElement(S,{className:"recent-posts card ".concat(t)},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},r.recentPosts," ",u.a.createElement(h.s,{icon:"refresh-ccw",onClick:function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}})),a&&Object.keys(a).length?u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,n){return n.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return u.a.createElement(x.e,{key:e.id,post:e,postActions:o,onOpenPost:s,disableOptions:i})}))):u.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))}))},781:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l=t(10),d=t(0),m=t.n(d),p=t(45),u=t(9),f=t(11),h=t(13),b=t(4),E=t(16),g=t(31),v=t(6),O=t(1),_=t(747),w=t(742),k=t(14),y=t(782),N=u.a.div(a||(a=Object(l.a)(["\n  padding: 1rem;\n  width: 100%;\n  // overflow: auto;\n"]))),x=u.a.div(r||(r=Object(l.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]))),T=function(e){var n=e.dictionary,t=Object(b.d)((function(e){return e.users.users})),a=Object.values(t).filter((function(e){return"internal"===e.type})),r=Object.values(t).filter((function(e){return"external"===e.type})),i=Object(b.d)((function(e){return e.users.teams})),o=Object(b.d)((function(e){return e.users.teamsLoaded})),c=Object(b.d)((function(e){return e.users.usersLoaded})),s=Object(b.d)((function(e){return e.settings.driff.company_name})),l=[{id:"internal",name:n.internalAccounts,members:a,member_ids:a.map((function(e){return e.id})),parent_team:0},{id:"external",name:n.guestAccounts,members:r.map((function(e){return e.name&&""===e.name.trim()?Object(O.a)(Object(O.a)({},e),{},{name:e.email}):e})),member_ids:r.map((function(e){return e.id})),parent_team:0}],d=[].concat(l,Object(v.a)(Object.values(i))),u=Object(p.g)(),f=function(e){u.push("/system/people/teams/".concat(e.id,"/").concat(e.name))},h=[{id:null,name:s,members:Object.values(t),icon_link:null,icon:"home"}].concat(Object(v.a)(Object.values(t)));return m.a.createElement(N,null,c&&o&&m.a.createElement(_.a,{lineWidth:"2px",lineColor:"#8c3b9b",lineBorderRadius:"10px",label:m.a.createElement(x,null,m.a.createElement("div",{className:"team-name mb-1"},m.a.createElement(k.s,{className:"mr-2",icon:"home"}),s),m.a.createElement("div",{className:"mb-2"},Object.values(t).length," accounts"),m.a.createElement(w.a,{members:h}))},d.filter((function(e){return 0===e.parent_team})).map((function(e){return m.a.createElement(y.a,{key:e.id,team:e,allTeams:d,onSelectTeam:f})}))))},j=t(740),A=function(e){var n=e.loggedUser,t=e.onNameClick,a=e.onChatClick,r=e.dictionary,i=e.onUpdateRole,o=e.showOptions,c=e.onArchiveUser,s=e.onActivateUser,l=e.onChangeUserType,d=e.onDeleteUser,u=e.onResendInvite,E=e.onDeleteInvitedInternalUser,g=e.onAddUserToTeam,v=Object(p.i)(),O=Object(b.d)((function(e){return e.users.teams})),_=Object(b.d)((function(e){return e.users.users})),w=Object(b.d)((function(e){return e.users.roles})),k=Object(b.d)((function(e){return e.users.usersWithoutActivity})),y=Object(b.c)(),N=Object(f.gb)()._t,x=Object(f.bb)(),T=Object(f.Z)(),A=function(e){var n={type:"confirmation",headerText:N("REMOVE_TEAM_MEMBER_HEADER","Remove team member"),submitText:N("REMOVE_TEAM_MEMBER_BUTTON","Remove"),cancelText:N("BUTTON.CANCEL","CANCEL"),bodyText:N("REMOVE_TEAM_MEMBER_BODY","Are you sure you want to remove ::name::?",{name:e.name}),actions:{onSubmit:function(){var n={team_id:v.teamId,remove_member_ids:[e.id]};T.removeMember(n,(function(e,n){e||x.success(N("TOASTER.SUCCESS_REMOVE_TEAM_MEMBER","Successfully removed team member"))}))}}};y(Object(h.a)(n))};return Object.values(_).length&&O[v.teamId]?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-lg-12"},m.a.createElement("h4",null,O[v.teamId].name," ",O[v.teamId].members.length," members")),m.a.createElement("div",{className:"row"},Object.values(_).filter((function(e){return O[v.teamId].members.some((function(n){return n.id===e.id}))})).map((function(e){return m.a.createElement(j.a,{loggedUser:n,key:e.id,user:e,onNameClick:t,onChatClick:a,dictionary:r,onUpdateRole:i,showOptions:o,roles:w,onArchiveUser:c,onActivateUser:s,onChangeUserType:l,onDeleteUser:d,onResendInvite:u,onDeleteInvitedInternalUser:E,usersWithoutActivity:k,onAddUserToTeam:g,onDeleteTeamMember:A})})))):null},C=t(7),S=t(826),R=t(164),I=Object(u.a)(R.a)(i||(i=Object(l.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]))),P=function(e){var n=e.loggedUser,t=e.onNameClick,a=e.onChatClick,r=e.dictionary,i=e.onUpdateRole,o=e.showOptions,c=e.onArchiveUser,s=e.onActivateUser,l=e.onChangeUserType,p=e.onDeleteUser,u=e.onResendInvite,h=e.onDeleteInvitedInternalUser,E=e.onAddUserToTeam,g=Object(f.bb)(),O=Object(d.useState)(!1),_=Object(C.a)(O,2),w=_[0],k=_[1],y=Object(d.useState)(!1),N=Object(C.a)(y,2),x=N[0],T=N[1],A=Object(d.useState)(""),R=Object(C.a)(A,2),P=R[0],L=R[1],D=Object(b.d)((function(e){return e.users.users})),M=Object(b.d)((function(e){return e.users.roles})),F=Object(b.d)((function(e){return e.users.archivedUsers})),U=Object(b.d)((function(e){return e.users.usersWithoutActivity})),H=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot","huddle_bot"],W=[].concat(Object(v.a)(Object.values(D)),Object(v.a)(F)).filter((function(e){return!e.email||!H.includes(e.email)})).filter((function(e){if(["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email))return!1;if(w){if(1===e.active)return!1;if(""===e.name.trim())return!1}else{if(x)return!e.has_accepted&&e.active;if(1!==e.active)return!1}return""===P||!!(-1!==e.name.toLowerCase().search(P.toLowerCase())||-1!==e.email.toLowerCase().search(P.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(P.toLowerCase()))})).sort((function(e,n){return e.name.localeCompare(n.name)}));return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"people-header"},m.a.createElement("div",{className:"d-flex align-items-center people-search"},m.a.createElement(I,{value:P,closeButton:"true",onClickEmpty:function(){L("")},placeholder:r.searchPeoplePlaceholder,onChange:function(e){L(e.target.value)},autoFocus:!0}),m.a.createElement(S.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:w,id:"show_inactive",name:"show_inactive",type:"switch",onChange:function(){k((function(e){var n=!e;return n?g.success("Showing inactive members"):g.success("Showing active members only"),n})),x&&!w&&T(!1)},"data-success-message":"".concat(w?"Inactive users are shown":"Inactive users are no longer visible"),label:m.a.createElement("span",null,r.showInactiveMembers)}),m.a.createElement(S.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:x,id:"show_invited",name:"show_invited",type:"switch",onChange:function(){T((function(e){return!e})),w&&!x&&k(!1)},label:m.a.createElement("span",null,r.showInvited)}))),m.a.createElement("div",{className:"row"},W.map((function(e){return m.a.createElement(j.a,{loggedUser:n,key:e.id,user:e,onNameClick:t,onChatClick:a,dictionary:r,onUpdateRole:i,showOptions:o,roles:M,onArchiveUser:c,onActivateUser:s,onChangeUserType:l,onDeleteUser:p,onResendInvite:u,onDeleteInvitedInternalUser:h,showInactive:w,usersWithoutActivity:U,onAddUserToTeam:E})}))))},L=u.a.div(o||(o=Object(l.a)(["\n  padding: 2rem;\n  width: 100%;\n"]))),D=Object(u.a)(R.a)(c||(c=Object(l.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]))),M=function(e){var n=e.loggedUser,t=e.dictionary,a=e._t,r=e.showOptions,i=Object(b.d)((function(e){return e.users.teams})),o=Object(d.useState)(""),c=Object(C.a)(o,2),s=c[0],l=c[1];return m.a.createElement(L,null,m.a.createElement("div",{className:"people-header"},m.a.createElement("div",{className:"d-flex align-items-center people-search"},m.a.createElement(D,{value:s,closeButton:"true",onClickEmpty:function(){l("")},placeholder:t.searchTeamsPlaceholder,onChange:function(e){l(e.target.value)},autoFocus:!0}))),Object.values(i).length>0&&m.a.createElement("div",{className:"row mt-2"},Object.values(i).filter((function(e){return""===s||-1!==e.name.toLowerCase().search(s.toLowerCase())})).map((function(e){return m.a.createElement(j.b,{key:e.id,team:e,loggedUser:n,dictionary:t,_t:a,showOptions:r})}))))},F=u.a.div(s||(s=Object(l.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n\n  .people-search {\n    flex: 0 0 100%;\n    justify-content: flex-start;\n    padding-left: 0;\n    flex-flow: row wrap;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n  }\n  .card-body.structure {\n    overflow: auto;\n    margin: 1.5rem;\n    padding: 0;\n  }\n"])));n.default=m.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(f.jb)(),r=a.userActions,i=a.loggedUser,o=a.selectUserChannel,c=Object(b.d)((function(e){return e.users.roles})),s=Object(b.d)((function(e){return e.users.archivedUsers})),l=Object(b.d)((function(e){return e.users.usersWithoutActivityLoaded})),u=Object(p.g)(),v=Object(b.c)(),O=function(e){u.push("/profile/".concat(e.id,"/").concat(Object(E.h)(e.name)))},_=function(e){return o(e)},w=Object(f.gb)()._t,k={searchTeamsPlaceholder:w("PLACEHOLDER.SEARCH_TEAMS","Search teams"),searchPeoplePlaceholder:w("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:w("PEOPLE.EXTERNAL","External"),peopleInvited:w("PEOPLE.INVITED","Invited"),assignAsAdmin:w("PEOPLE.ASSIGN_AS_ADMIN","Assign as administrator"),assignAsEmployee:w("PEOPLE.ASSIGN_AS_EMPLOYEE","Assign as employee"),archiveUser:w("PEOPLE.ARCHIVE_USER","Archive user"),unarchiveUser:w("PEOPLE.UNARCHIVE_USER","Unarchive user"),showInactiveMembers:w("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),archive:w("PEOPLE.ARCHIVE","Archive"),unarchive:w("PEOPLE.UNARCHIVE","Un-archive"),archiveConfirmationText:w("PEOPLE.ARCHIVE_CONFIRMATION_TEXT","Are you sure you want to archive this user? This means this user can't log in anymore and will be removed from all its workspaces and group chats. If you want to remove him also from all chats and workspaces please use archive this user."),unarchiveConfirmationText:w("PEOPLE.UNARCHIVE_CONFIRMATION_TEXT","Are you sure you want to un-archive this user? The user will be re-added to its connected workspaces and group chats."),cancel:w("BUTTON.CANCEL","Cancel"),activateUser:w("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:w("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:w("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:w("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),activate:w("PEOPLE.ACTIVATE","Activate"),deactivate:w("PEOPLE.DEACTIVATE","Deactivate"),moveToInternal:w("PEOPLE.MOVE_TO_INTERNAL","Move to internal"),moveToExternal:w("PEOPLE.MOVE_TO_EXTERNAL","Move to external"),deleteUser:w("PEOPLE.DELETE_USER","Delete user"),deleteConfirmationText:w("PEOPLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this user? This means this user can't log in anymore."),btnInviteUsers:w("BUTTON.INVITE_USERS","Invite users"),resendInvitation:w("PEOPLE.RESEND_INVITATION","Resend invitation"),showInvited:w("PEOPLE.SHOW_INVITED","Show invited"),removeInvitedInternal:w("PEOPLE.REMOVE_INVITED_INTERNAL","Remove invited internal user"),sendInviteManually:w("PEOPLE.SEND_INVITE_MANUALLY","Send invite manually"),deleteInvitedUser:w("PEOPLE.DELETE_INVITED_USER","Delete invited user"),deleteInvitedConfirmationText:w("PEOPLE.DELETE_INVITED_CONFIRMATION_TEXT","Are you sure you want to remove this invited user?"),toasterRemoveInvited:w("TOASTER.REMOVE_INVITED_USER","Removed invited user"),btnTeam:w("BUTTON.TEAM","Team"),showTeams:w("PEOPLE.SHOW_TEAMS","Show teams"),editTeam:w("TEAM_OPTIONS.EDIT_TEAM","Edit team"),removeTeam:w("TEAM_OPTIONS.REMOVE_TEAM","Remove team"),removeTeamHeader:w("TEAM_MODAL.REMOVE_TEAM_HEADER","Remove team"),removeTeamBtn:w("BUTTON.REMOVE_TEAM","Remove team"),removeTeamConfirmation:w("TEAM_MODAL.REMOVE_TEAM_BODY","Are you sure you want to remove this team?"),addUserToTeam:w("PEOPLE.ADD_USER_TEAM","Add user to team"),removeTeamMember:w("PEOPLE.REMOVE_TEAM_MEMBER","Remove team member"),team:w("TEAM","Team"),internalAccounts:w("CHART.INTERNAL_ACCOUNTS","Accounts"),guestAccounts:w("CHART.GUEST_ACCOUNTS","Guest accounts")},y=Object(f.bb)();Object(d.useEffect)((function(){"admin"!==i.role.name&&"owner"!==i.role.name||v(Object(g.r)()),0===Object.keys(c).length&&r.fetchRoles(),0===s.length&&r.fetchArchivedUsers()}),[]);var N=function(e){var n={type:"confirmation",headerText:e.active?k.archive:k.unarchive,submitText:e.active?k.archive:k.unarchive,cancelText:k.cancel,bodyText:e.active?k.archiveConfirmationText:k.unarchiveConfirmationText,actions:{onSubmit:function(){e.active?r.archive({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," archived."))})):r.unarchive({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," unarchived."))}))}}};v(Object(h.a)(n))},x=function(e){var n={type:"confirmation",headerText:e.active?k.deactivate:k.activate,submitText:e.active?k.deactivate:k.activate,cancelText:k.cancel,bodyText:e.active?k.deactivateConfirmationText:k.activateConfirmationText,actions:{onSubmit:function(){e.active&&!e.deactivate?r.deactivate({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," deactivated."))})):0===e.active&&e.deactivate&&r.activate({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," activated."))}))}}};v(Object(h.a)(n))},j=function(e){var n={type:"confirmation",headerText:k.deleteUser,submitText:k.deleteUser,cancelText:k.cancel,bodyText:k.deleteConfirmationText,actions:{onSubmit:function(){r.deleteUserAccount({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," deleted."))}))}}};v(Object(h.a)(n))},C=function(e){var n={user_id:e.id,email:e.email};r.resendInvitationEmail(n,(function(n,t){n?y.error(w("TOASTER.RESEND_INVITATION_FAILED","Invitation failed")):y.success(w("TOASTER.RESEND_INVITATION_SUCCESS","Invitation sent to ::email::",{email:e.email}))}))},S=function(e){var n={type:"confirmation",headerText:k.deleteInvitedUser,submitText:k.deleteInvitedUser,cancelText:k.cancel,bodyText:k.deleteInvitedConfirmationText,actions:{onSubmit:function(){r.deleteInvitedInternalUser({user_id:e.id},(function(e,n){e||y.success("".concat(k.toasterRemoveInvited))}))}}};v(Object(h.a)(n))},R=function(e){var n={type:"add-to-team",user:e};v(Object(h.a)(n))},I="admin"===i.role.name||"owner"===i.role.name;return m.a.createElement(F,{className:"workspace-people container-fluid h-100 ".concat(t)},m.a.createElement("div",{className:"card"},m.a.createElement(p.d,null,m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body"},m.a.createElement(A,{loggedUser:i,onNameClick:O,onChatClick:_,dictionary:k,onUpdateRole:r.updateUserRole,showOptions:I&&l,onArchiveUser:N,onActivateUser:x,onChangeUserType:r.updateType,onDeleteUser:j,onResendInvite:C,onDeleteInvitedInternalUser:S,onAddUserToTeam:R}))},path:["/system/people/teams/:teamId/:teamName"]}),m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body structure"},m.a.createElement(T,{loggedUser:i,dictionary:k}))},path:["/system/people/organization"]}),m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body"},m.a.createElement(M,{loggedUser:i,dictionary:k,_t:w,showOptions:I}))},path:["/system/people/teams"]}),m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body"},m.a.createElement(P,{loggedUser:i,onNameClick:O,onChatClick:_,dictionary:k,onUpdateRole:r.updateUserRole,showOptions:I&&l,onArchiveUser:N,onActivateUser:x,onChangeUserType:r.updateType,onDeleteUser:j,onResendInvite:C,onDeleteInvitedInternalUser:S,onAddUserToTeam:R}))},path:["/system/people"]}))))}))},782:function(e,n,t){"use strict";t.d(n,"a",(function(){return f})),t.d(n,"b",(function(){return b}));t(781);var a,r,i=t(6),o=t(10),c=t(0),s=t.n(c),l=t(9),d=t(747),m=t(742),p=t(11),u=l.a.div(a||(a=Object(o.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]))),f=function(e){var n=e.team,t=e.allTeams,a=e.onSelectTeam,r={accounts:(0,Object(p.gb)()._t)("CHART.ACCOUNTS","accounts")},o=[{id:n.id,name:n.name,members:n.members,icon_link:n.icon_link}].concat(Object(i.a)(n.members));return s.a.createElement(d.b,{key:n.id,label:s.a.createElement(u,{onClick:function(){a(n)}},s.a.createElement("div",{className:"team-name mb-1"},n.name),s.a.createElement("div",{className:"mb-2"},n.members.length," ",r.accounts),s.a.createElement(m.a,{members:o}))},t.filter((function(e){return e.parent_team===n.id})).length>0?t.filter((function(e){return e.parent_team===n.id})).map((function(e){return s.a.createElement(b,{key:e.id,team:e,allTeams:t,onSelectTeam:a})})):null)},h=l.a.div(r||(r=Object(o.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]))),b=function(e){var n=e.team,t=e.allTeams,a=e.onSelectTeam,r={accounts:(0,Object(p.gb)()._t)("CHART.ACCOUNTS","accounts")},o=[{id:n.id,name:n.name,members:n.members,icon_link:n.icon_link}].concat(Object(i.a)(n.members));return s.a.createElement(d.b,{key:n.id,label:s.a.createElement(h,{onClick:function(){a(n)}},s.a.createElement("div",{className:"team-name mb-1"},n.name),s.a.createElement("div",{className:"mb-2"},n.members.length," ",r.accounts),s.a.createElement(m.a,{members:o}))},t.filter((function(e){return e.parent_team===n.id})).length>0?t.filter((function(e){return e.parent_team===n.id})).map((function(e){return s.a.createElement(f,{key:e.id,team:e,allTeams:t,onSelectTeam:a})})):null)}},784:function(e,n,t){"use strict";t.r(n);var a,r,i,o=t(10),c=t(0),s=t.n(c),l=t(9),d=(t(1),t(8)),m=t(7),p=t(34),u=t.n(p),f=t(4),h=t(45),b=t(80),E=t(826),g=t(14),v=t(232),O=t(11),_=t(95),w=t(51),k=t(13),y=t(154),N=t(113),x=t(59),T=(t(64),t(81),l.a.div(a||(a=Object(o.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n  .version-number {\n    display: flex;\n    place-content: center;\n    font-size: 13px;\n  }\n'])))),j=l.a.span(r||(r=Object(o.a)(["\n  font-weight: 500;\n  cursor: pointer;\n"]))),A=s.a.memo((function(e){var n,t=e.className,a=void 0===t?"":t,r=!!localStorage.getItem("persistence"),i=Object(N.a)().persistor,o=Object(c.useState)(r),l=Object(m.a)(o,2),p=l[0],A=l[1],C=Object(h.g)(),S=Object(O.ab)().localizeDate,R=Object(f.c)(),I=Object(O.bb)(),P=Object(f.d)((function(e){return e.session})).user,L=Object(O.T)(),D=L.generalSettings,M=D.language,F=D.timezone,U=D.date_format,H=D.time_format,W=D.dark_mode,z=D.notifications_on,B=D.log_rocket,G=D.sentry,V=D.logs,Y=(D.notification_sound,D.order_channel),K=D.chat_language,q=D.daily_digest,Z=L.chatSettings,J=Z.order_channel,Q=Z.sound_enabled,X=Z.preview_message,$=Z.virtualization,ee=(Z.translate,L.userSettings.isLoaded),ne=L.setChatSetting,te=L.setWorkspaceSetting,ae=L.setGeneralSetting,re=L.setPushSubscription,ie=(L.driffSettings,Object(f.d)((function(e){return e.admin.login})),Object(f.d)((function(e){return e.settings.driff.domains})),Object(c.useState)(!1)),oe=Object(m.a)(ie,2),ce=(oe[0],oe[1]),se=Object(O.gb)()._t,le=localStorage.getItem("i18new")?JSON.parse(localStorage.getItem("i18new")):{},de=(n={chatSettingsTitle:se("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:se("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:se("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:se("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:se("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:se("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:se("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),notificationSound:se("SETTINGS.NOTIFICATION_SOUND","Notification sound"),notificationSoundDefault:se("SETTINGS.NOTIFICATION_SOUND_DEFAULT","Default"),notificationSoundJingleBells:se("SETTINGS.NOTIFICATION_SOUND_JINGLE_BELLS","Jingle bells"),localizationSettingsTitle:se("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:se("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:se("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:se("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format"),workspaceSettingsTitle:se("SETTINGS.WORKSPACE_TITLE","Workspace Settings"),sortWorkspaceLabel:se("SETTINGS.SORT_WORKSPACE_LABEL","Sort workspace by"),viewRelease:se("SETTINGS.VIEW_RELEASE","View Release List"),liveTranslation:se("SETTINGS.LIVE_TRANSLATION","Talk in your own language (live translation)"),dailyDigest:se("SETTINGS.DAILY_DIGEST","Daily digest"),chatTranslateTitle:se("SETTINGS.CHAT_TRANSLATE","Choose a target language to be translated !BETA!")},Object(d.a)(n,"dailyDigest",se("SETTINGS.DAILY_DIGEST","Daily digest")),Object(d.a)(n,"notifications",se("NOTIFICATIONS","Notifications")),Object(d.a)(n,"extraSettings",se("SETTINGS.EXTRA_SETTINGS","Extra settings")),Object(d.a)(n,"darkMode",se("SETTINGS.DARK_MODE","Dark mode")),Object(d.a)(n,"customTranslation",se("SETTINGS.CUSTOM_TRANSLATION","Use custom translation")),n),me=[{value:"channel_date_updated",label:de.sortChannelRecentActivityValue},{value:"channel_name",label:de.sortChannelNameValue}],pe=[{value:"en",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"en",className:"mr-2",width:"18"}),se("LANGUAGE.ENGLISH","English"))},{value:"nl",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),se("LANGUAGE.DUTCH","Dutch"))},{value:"de",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"de",className:"mr-2",width:"18"}),se("LANGUAGE.GERMAN","German"))}],ue=[{value:"en",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"en",className:"mr-2",width:"18"}),se("LANGUAGE.ENGLISH","English"))},{value:"bg",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"bg",className:"mr-2",width:"18"}),se("LANGUAGE.BULGARIAN","Bulgarian"))},{value:"cs",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"cs",className:"mr-2",width:"18"}),se("LANGUAGE.CZECH","Czech"))},{value:"da",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"da",className:"mr-2",width:"18"}),se("LANGUAGE.DANISH","Danish"))},{value:"de",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"de",className:"mr-2",width:"18"}),se("LANGUAGE.GERMAN","German"))},{value:"el",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"el",className:"mr-2",width:"18"}),se("LANGUAGE.GREEK","Greek"))},{value:"es",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"es",className:"mr-2",width:"18"}),se("LANGUAGE.SPANISH","Spanish"))},{value:"et",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"et",className:"mr-2",width:"18"}),se("LANGUAGE.ESTONIAN","Estonian"))},{value:"fi",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),se("LANGUAGE.FINNISH","Finnish"))},{value:"fr",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),se("LANGUAGE.FRENCH","French"))},{value:"hu",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),se("LANGUAGE.HUNGARAIN","Hungarian"))},{value:"it",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"it",className:"mr-2",width:"18"}),se("LANGUAGE.ITALIAN","Italian"))},{value:"ja",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"ja",className:"mr-2",width:"18"}),se("LANGUAGE.JAPANESE","Japanese"))},{value:"lt",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"lt",className:"mr-2",width:"18"}),se("LANGUAGE.LITHUANIAN","Lithuanian"))},{value:"lv",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"lv",className:"mr-2",width:"18"}),se("LANGUAGE.LATVIAN","Latvian"))},{value:"nl",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),se("LANGUAGE.DUTCH","Dutch"))},{value:"pl",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"pl",className:"mr-2",width:"18"}),se("LANGUAGE.POLISH","Polish"))},{value:"pt",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"pt",className:"mr-2",width:"18"}),se("LANGUAGE.PORTUGUESE","Portuguese"))},{value:"ro",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"ro",className:"mr-2",width:"18"}),se("LANGUAGE.ROMANIAN","Romanian"))},{value:"ru",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"ru",className:"mr-2",width:"18"}),se("LANGUAGE.RUSSIAN","Russian"))},{value:"sk",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"sk",className:"mr-2",width:"18"}),se("LANGUAGE.SLOVAK","Slovak"))},{value:"sl",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"sl",className:"mr-2",width:"18"}),se("LANGUAGE.SLOVENIAN","Slovenian"))},{value:"sv",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"sv",className:"mr-2",width:"18"}),se("LANGUAGE.SWEDISH","Swedish"))},{value:"zh",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{countryAbbr:"zh",className:"mr-2",width:"18"}),se("LANGUAGE.CHINESE","Chinese"))}],fe=u.a.tz.names().map((function(e){return{value:e,label:e}})),he=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],be=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],Ee=Object(c.useCallback)((function(e){ae({chat_language:e.value,translated_channels:[]}),setTimeout((function(){localStorage.setItem("chat_translate_change","1")}),1e3),I.success(s.a.createElement("span",null,"You have successfully updated chat target language"))}),[ae]),ge=Object(c.useCallback)((function(e){e.persist();var n=e.target,t=n.name,a=n.checked,r=n.dataset;ne(Object(d.a)({},t,a)),I.success(s.a.createElement("span",null,r.successMessage))}),[ne]),ve=function(e){e.persist();var n=e.target,t=n.name,a=n.checked,r=n.dataset;ae(Object(d.a)({},t,"daily_digest"===t?a:a?"1":"0"),(function(){["log_rocket","sentry"].includes(t)?(localStorage.setItem(t,a?"1":"0"),window.location.reload()):"logs"===t&&(a?localStorage.setItem("logger","all"):localStorage.removeItem("logger"))})),I.success(s.a.createElement("span",null,r.successMessage))},Oe=Object(c.useCallback)((function(e){e.persist();var n=e.target,t=n.name,a=n.dataset;if(z){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),re(!1),R(Object(k.i)({user_id:P.id}))}else re(null);ae(Object(d.a)({},t,!z)),I.success(s.a.createElement("span",null,a.successMessage))}),[ae]),_e=Object(c.useCallback)((function(e){ae({timezone:e.value}),I.success(s.a.createElement("span",null,"You have successfully updated Timezone"))}),[]),we=Object(c.useCallback)((function(e){ae({date_format:e.value}),I.success(s.a.createElement("span",null,"You have successfully updated Date format"))}),[]),ke=Object(c.useCallback)((function(e){ae({time_format:e.value}),I.success(s.a.createElement("span",null,"You have successfully updated Time format"))}),[]);return s.a.createElement(T,{className:"profile-settings ".concat(a)},ee?s.a.createElement(s.a.Fragment,null,"owner"===P.role.name&&s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center mb-0"},"System Settings ",s.a.createElement(g.s,{className:"cursor-pointer",icon:"settings",onClick:function(){var e=document.createElement("a");e.href="https://".concat(Object(_.b)(),".driff.io/admin"),e.target="_blank",e.click()}})))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.chatSettingsTitle),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-12"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:Q,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:ge,"data-success-message":"".concat(Q?"Chats are now muted!":"Chat sound is enabled!"),label:s.a.createElement("span",null,de.soundLabel)}))),s.a.createElement("div",{className:"row mb-3"},s.a.createElement("div",{className:"col-12"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:X,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:ge,"data-success-message":"You have turn ".concat(X?"OFF":"ON"," preview in chat messages!"),label:s.a.createElement("span",null,de.previewMessageLabel)}))),["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(P.email)&&s.a.createElement("div",{className:"row mb-3"},s.a.createElement("div",{className:"col-12"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:$,type:"switch",id:"chat_virtualization",name:"virtualization",onChange:ge,"data-success-message":"You have turn ".concat($?"OFF":"ON"," virtualization in chat messages!"),label:s.a.createElement("span",null,"Virtualized chat")}))),s.a.createElement("div",{className:"row mb-3"},s.a.createElement("div",{className:"col-12"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:p,type:"switch",id:"redux_persist",name:"persistence",onChange:function(e){e.persist();var n=e.target,t=n.checked,a=n.dataset;A(t),t?localStorage.setItem("persistence",!0):(r&&(i.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("persistence")),I.success(s.a.createElement("span",null,a.successMessage))},"data-success-message":"You have turn ".concat(p?"OFF":"ON"," data persistence in chat!"),label:s.a.createElement("span",null,"Persisted data")}))),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-5 text-muted"},de.chatTranslateTitle),s.a.createElement("div",{className:"col-7"},s.a.createElement(b.a,{styles:"0"===W?w.b:w.a,value:ue.find((function(e){return e.value===K})),onChange:Ee,options:ue}))),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-5 text-muted"},de.sortChannelLabel),s.a.createElement("div",{className:"col-7"},s.a.createElement(b.a,{styles:"0"===W?w.b:w.a,value:me.find((function(e){return e.value===J.order_by})),onChange:function(e){ne({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),I.success(s.a.createElement("span",null,"You have successfully sort channel"))},options:me}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.workspaceSettingsTitle),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-5 text-muted"},de.sortWorkspaceLabel),s.a.createElement("div",{className:"col-7"},s.a.createElement(b.a,{styles:"0"===W?w.b:w.a,value:me.find((function(e){return e.value===Y.order_by})),onChange:function(e){te({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),I.success(s.a.createElement("span",null,"You have successfully sort channel"))},options:me}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.localizationSettingsTitle),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-5 text-muted"},de.languageLabel),s.a.createElement("div",{className:"col-7"},s.a.createElement(b.a,{styles:"0"===W?w.b:w.a,value:pe.find((function(e){return e.value===M})),onChange:function(e){ae({language:e.value},(function(){setTimeout((function(){ce((function(e){return!e}))}),300)})),I.success(s.a.createElement("span",null,"You have successfully updated Language"))},options:pe}))),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-5 text-muted"},de.timezoneLabel),s.a.createElement("div",{className:"col-7"},s.a.createElement(b.a,{styles:"0"===W?w.b:w.a,value:fe.find((function(e){return e.value===F})),onChange:_e,options:fe}))),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-5 text-muted"},de.dateTimeFormatLabel),s.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},s.a.createElement("div",{className:"row"},s.a.createElement(b.a,{styles:"0"===W?w.b:w.a,className:"col-6",value:he.find((function(e){return e.value===U})),onChange:we,options:he}),s.a.createElement(b.a,{styles:"0"===W?w.b:w.a,className:"col-6",value:be.find((function(e){return e.value===H})),onChange:ke,options:be})))),["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(P.email)&&s.a.createElement("div",{className:"row mb-2 mt-4"},s.a.createElement("div",{className:"col-12 text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=[],t="You are about to add the following words to the dictionary files, continue?";t+="<table>",Object.keys(le).forEach((function(e){t+="<tr>",t+="<td>".concat(e,"</td>"),t+="<td>".concat(le[e],"</td>"),t+="</tr>",n.push(Object(d.a)({},e,le[e]))}));var a=function(){R(Object(k.K)(n,e))},r={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:t+="</table>",size:"lg",actions:{onSubmit:a}};R(Object(k.a)(r))}((function(){localStorage.removeItem("i18new");var e=document.createElement("a");e.href="https://".concat(Object(_.b)(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.notifications),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-12 text-muted"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:z,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(z?"Notifications disabled":"Notifications enabled"),onChange:Oe,label:s.a.createElement("span",null,de.allowNotifications)}))),s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-12 text-muted"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:q,type:"switch",id:"daily_digest",name:"daily_digest","data-success-message":"".concat(q?"Daily digest disabled":"Daily digest enabled"),onChange:ve,label:s.a.createElement("span",null,de.dailyDigest)}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.extraSettings),s.a.createElement("div",{className:"row mb-3"},s.a.createElement("div",{className:"col-12 text-muted"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:"1"===W,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(W?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:ve,label:s.a.createElement("span",null,de.darkMode)})),s.a.createElement("div",{className:"col-12 text-muted"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:"1"===B,type:"switch",id:"log_rocket",name:"log_rocket","data-success-message":"".concat(B?"LogRocket is now enabled":"LogRocket is now disabled"),onChange:ve,label:s.a.createElement("span",null,"LogRocket")})),s.a.createElement("div",{className:"col-12 text-muted"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:"1"===G,type:"switch",id:"sentry",name:"sentry","data-success-message":"".concat(G?"Sentry is now enabled":"Sentry is now disabled"),onChange:ve,label:s.a.createElement("span",null,"Sentry")})),s.a.createElement("div",{className:"col-12 text-muted"},s.a.createElement(E.a,{className:"cursor-pointer text-muted",checked:"1"===V,type:"switch",id:"logs",name:"logs","data-success-message":"".concat(G?"Logs are now enabled":"Logs are now disabled"),onChange:ve,label:s.a.createElement("span",null,"Logs")})))))):s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),s.a.createElement("span",{className:"version-number mb-3"},"Driff version: ",y.a.version," ",S(y.a.timestamp)," \xa0",s.a.createElement(j,{onClick:function(){C.push("/releases")}},de.viewRelease)),P&&"nilo@makedevelopment.com"===P.email&&s.a.createElement("span",null,x.isMobileSafari&&"mobile safari",", ",x.browserName,", ",x.deviceType))})),C=l.a.div(i||(i=Object(o.a)(["\n  overflow: auto;\n  .row-settings {\n    justify-content: center;\n  }\n"])));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return s.a.createElement(C,{className:"container-fluid h-100 ".concat(t)},s.a.createElement("div",{className:"row row-settings"},s.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},s.a.createElement(A,null))))}))},798:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAEKklEQVRoge2ZX2hbdRTHv+fmJm3TpGK2Ul06sq7TFnySjvm0hw2pmCdFtOJ88GESs3RD38Qh1CHucTiTbkHYU8GuE6agEwYWfC0rvokLW8y2rLJ0DdjcxeXPvceHVezun9z7y72JhfXzlvM75/f7Hs4v9/cP2GabJxvypJcF9sXKlQOShkMMmpCAcQaeBRDa8FAYWAFwncDLDF4slAaWMEOa26FdJTCaqe5m0lIAv8tAVHDkIms0J6tS5saJYLFdDW0lsO9sZVCV8TmA9wAE2h18gzoBF2Qff5pLDNwXDRZOYO+s8g6DvwIQEY21YY0J04VkeF4kyHECE1n2l1VlFsBRYWkCECP7tBw6vpyghiN/J067shzsVSvfMuhVd/KcwcxX6nL4zZUEVe18JTuHiSz7uykeAIgo3qMq37+wwLb/L9sEyqoy203xm3j57/vKl3ZOLafQ3nPKEWae806TOMx4u5AKX7Rqt0wgml7fEZDodwA7O6LMOWW/j8esPrGWUygg0Rf4/8UDQKSh0WdWjaYV2He2OqzK6k24X6S8ok4++bl8ou+2vsG0ApqsTWPriAeAgNZUk2YNxgrMsDQypNwCY1jflE+GDO5OufeAcTnXwJmlOhoWW7hIH+HUwR5MX31oJvRufmcohrdI3Ww3VCD2TOUlM/FuGeonfPBiAB8dMC9sfFTG1akg4qOyaTsD0ZG19Qm93ZCApOGQW7GteGPM/9jvSB8hPdmL9GQvIn2tNwYEOqy3GdIlpv3szSnBlMHgf53HR2WcOthjK/xfGGSogCEBjfB8B/U/RnqyVzRkTG8wTCF6dJLamrBRm9lntP1PTecJ6w22m7mtjlkCStdVOKeiNxgSYODP7mhpAzJqM64DjFx31ADv//QQpSqLhFzXG4wVIL5mFX3vgdBgtvxcaOKV+Sq++c3R8RfMRm0mU4gXrTq4nHM2kAh/1Rgnf6k5qobEPoM2QwKF0sASgDtmHZxZquP8r3XPKwE8qkZ8oYorN5tWLrfzq8FlvdF00d2TUU4T8cdeCnQLg04XjoU+0dtN1wFZlTIA6h1X5Zxak6SMWYNpAjdOBIsEXOisJgEYXxeTwbtmTZYrcT2gnQQgfFfZAdb8MlueiS0TKB59qsyE453RJESy1aVvy71QIRmeJ0bWe02OyfxxLHyplYPtZi4/GEoR8J13mpxCP8ZKoQ9tvZx0tSvLwUCzcomI4u6FOYF+qPn6pzy53AWAlQRVd8jh1wg4716cLZlYqf91J+KBNh449mQqU0RIw/tbu1UAKbs5r0f4QFNIhS/WNR4HYRZATTTehBoY6UZAGxcVD7h85Bs+V43KmjZNxEcA7BYMv8OguSZJGatFygneXEDMsDQytL6fQIc3rj7GwIhi0zMrgCIIOWa+JrFvMb8aXPbimXWbbZ50/gGa81rRdJBblwAAAABJRU5ErkJggg=="},802:function(e,n,t){e.exports=t.p+"static/media/appointed.4a7182ca.ogg"},803:function(e,n,t){e.exports=t.p+"static/media/appointed.d46d7db1.mp3"},804:function(e,n,t){e.exports=t.p+"static/media/appointed.b1ef26b6.m4r"},819:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l,d,m,p,u,f,h,b,E,g,v,O,_,w,k,y,N,x,T,j,A,C,S,R,I,P,L,D,M,F,U,H,W,z,B,G,V,Y,K,q,Z=t(10),J=t(0),Q=t.n(J),X=t(4),$=t(45),ee=t(9),ne=t(11),te=t(16),ae=ee.a.div(a||(a=Object(Z.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n    text-align: center;\n    justify-content: center;\n  }\n"]))),re=Q.a.memo((function(e){var n={redirecting:(0,Object(ne.gb)()._t)("REDIRECT.REDIRECTING","Redirecting...")},t=Object(ne.ib)(),a=Object(ne.b)(),r=Object($.g)(),i=Object($.j)("/magic-link/:token");return Object(J.useEffect)((function(){null!==i&&t.checkMagicLink(i.params.token,(function(e,n){if(n)if(n.data.additional_data){if("POST"===n.data.additional_data.type){if(n.data.additional_data.data.workspace){var t=n.data.additional_data.data.workspace[0],i=n.data.additional_data.data.id,o=n.data.additional_data.data.code;if(t.workspace_id){var c="/workspace/posts/".concat(t.workspace_id,"/").concat(Object(te.h)(t.workspace_name),"/").concat(t.topic_id,"/").concat(Object(te.h)(t.topic_name),"/post/").concat(i,"/").concat(Object(te.h)(o));r.push(c)}else{var s="/workspace/posts/".concat(t.topic_id,"/").concat(Object(te.h)(t.topic_name),"/post/").concat(i,"/").concat(Object(te.h)(o));r.push(s)}}}else if("CHANNEL"===n.data.additional_data.type)if(n.data.additional_data.topic){var l=n.data.additional_data.topic,d=n.data.additional_data.workspace;if(d){var m="/workspace/chat/".concat(d.id,"/").concat(Object(te.h)(d.name),"/").concat(l.id,"/").concat(Object(te.h)(l.name));r.push(m)}else{var p="/workspace/chat/".concat(l.id,"/").concat(Object(te.h)(l.name));r.push(p)}}else if(n.data.additional_data.data){var u="/chat/".concat(n.data.additional_data.data.code);a.fetchSelectChannel(n.data.additional_data.data.code,(function(){document.body.classList.add("m-chat-channel-closed")})),r.push(u)}else r.push("/workspace/chat")}else r.push("/workspace/chat")}))}),[]),Q.a.createElement(ae,{className:"workspace-people container-fluid h-100"},Q.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},Q.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6 h-50"},Q.a.createElement("div",{className:"card"},Q.a.createElement("h3",null,n.redirecting)))))})),ie=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,752))})),oe=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,754))})),ce=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,774))})),se=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,757))})),le=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,758))})),de=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,784))})),me=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,765))})),pe=Object(J.lazy)((function(){return Promise.resolve().then(t.bind(null,781))})),ue=Object(J.lazy)((function(){return t.e(21).then(t.bind(null,823))})),fe=Object(J.lazy)((function(){return t.e(11).then(t.bind(null,824))})),he=Object(J.lazy)((function(){return t.e(22).then(t.bind(null,749))})),be=Object(J.lazy)((function(){return t.e(23).then(t.bind(null,750))})),Ee=Object(J.lazy)((function(){return Promise.all([t.e(10),t.e(20)]).then(t.bind(null,820))})),ge=ee.a.div(r||(r=Object(Z.a)(["\n  padding-bottom: ",";\n"])),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),ve=Q.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=Object(X.d)((function(e){return e.session.user})),i=r.role&&"owner"===r.role.name,o=r.role&&"admin"===r.role.name;return Q.a.createElement(ge,{className:"main-content ".concat(t),isOnWorkspace:"workspace"===e.match.params.page},Q.a.createElement(J.Suspense,{fallback:Q.a.createElement("div",null)},Q.a.createElement($.d,null,Q.a.createElement($.b,Object.assign({},e,{component:he,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile","/profile/:id"],exact:!0})),Q.a.createElement($.b,Object.assign({},e,{component:fe,path:["/notifications"]})),Q.a.createElement($.b,Object.assign({},e,{component:be,path:["/search"]})),!a&&Q.a.createElement($.b,Object.assign({},e,{component:oe,path:["/dashboard"]})),!a&&Q.a.createElement($.b,Object.assign({},e,{component:le,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!a&&Q.a.createElement($.b,Object.assign({},e,{component:ie,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),Q.a.createElement($.b,Object.assign({},e,{render:function(e){return Q.a.createElement(ce,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!a&&Q.a.createElement($.b,Object.assign({},e,{component:se,path:["/people"]})),!a&&Q.a.createElement($.b,Object.assign({},e,{component:pe,path:["/system/people","/system/people/teams","/system/people/organization","/system/people/teams/:teamId/:teamName"]})),Q.a.createElement($.b,Object.assign({},e,{component:de,path:["/settings"]})),Q.a.createElement($.b,Object.assign({},e,{component:me,path:["/todos"]})),Q.a.createElement($.b,Object.assign({},e,{component:re,path:["/magic-link/:token"]})),Q.a.createElement($.b,Object.assign({},e,{component:ue,path:["/releases"]})),(i||o)&&Q.a.createElement($.b,Object.assign({},e,{component:Ee,path:["/admin-settings","/admin-settings/:page","/admin-settings/:page/:subpage"]})),Q.a.createElement($.a,{from:"*",to:{pathname:a?"/workspace/chat":"/chat",state:{from:e.location}}}))))})),Oe=ee.a.footer(i||(i=Object(Z.a)(["\n  z-index: 1 !important;\n"]))),_e=(Q.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return Q.a.createElement(Oe,{className:"".concat(t)},Q.a.createElement("div",{className:"container-fluid"},Q.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),Q.a.createElement("div",null,Q.a.createElement("nav",{className:"nav"},Q.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),Q.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),Q.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))})),t(779)),we=t(751),ke=ee.a.div(o||(o=Object(Z.a)([""]))),ye=Q.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal;return Object(J.useEffect)((function(){document.body.classList.add("stretch-layout")}),[]),Q.a.createElement(ke,{className:"header ".concat(t)},Q.a.createElement($.d,null,Q.a.createElement($.b,{render:function(){return Q.a.createElement(we.c,Object.assign({isExternal:a},e))},path:["/workspace/:page"]}),Q.a.createElement($.b,{render:function(){return Q.a.createElement(_e.a,Object.assign({isExternal:a},e))},path:["/:page"]})))})),Ne=ee.a.div(c||(c=Object(Z.a)([""]))),xe=Q.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.showNotificationBar;return Q.a.createElement(Ne,{className:"navigation ".concat(t," ").concat(a&&"notification-bar")},Q.a.createElement($.b,{exact:!0,render:function(){return Q.a.createElement(Me,e)},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile/:id","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people/teams/:teamId/:teamName","/system/people/organization","/system/people/teams","/system/people","/magic-link/:token","/admin-settings/:page/:subpage","/admin-settings/:page","/:page"]}))})),Te=t(7),je=t(14),Ae=t(724),Ce=t(13),Se=ee.a.div(s||(s=Object(Z.a)(["\n  padding: 15px 30px 0 30px;\n  color: #cbd4db;\n  > div {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      :hover {\n        cursor: pointer;\n        color: #fff;\n      }\n    }\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n    margin-right: 15px;\n  }\n"]))),Re=Object(ee.a)(je.s)(l||(l=Object(Z.a)([""]))),Ie=function(e){var n=e.dictionary,t=e.isExternal,a=e.onShowModalButtons,r=e.showButtons,i={btn1Ref:Object(J.useRef)(null),btn2Ref:Object(J.useRef)(null),btn3Ref:Object(J.useRef)(null),btn4Ref:Object(J.useRef)(null)},o=Object(X.c)(),c=Object(ne.bb)();return Object(ne.G)(i.btn1Ref,a,r),Object(ne.G)(i.btn2Ref,a,r),Object(ne.G)(i.btn3Ref,a,r),Object(ne.G)(i.btn4Ref,a,r),Q.a.createElement(Ae.a,{appear:!0,in:r,timeout:300,unmountOnExit:!0,classNames:"bslide"},Q.a.createElement(Se,null,!t&&Q.a.createElement("div",null,Q.a.createElement("span",{onClick:function(){a(),o(Object(Ce.a)({type:"chat_create_edit",mode:"new"}))},ref:i.btn1Ref},Q.a.createElement(Re,{icon:"message-circle"}),n.chat)),Q.a.createElement("div",null,Q.a.createElement("span",{onClick:function(){a(),o(Object(Ce.a)({type:"post_modal",mode:"create",item:{post:null}}))},ref:i.btn2Ref},Q.a.createElement(Re,{icon:"file-text"}),n.post)),Q.a.createElement("div",null,Q.a.createElement("span",{onClick:function(){var e={type:"todo_reminder",actions:{onSubmit:function(e){o(Object(Ce.L)(e,(function(e,t){e&&c.error(n.toasterGeneraError),t&&c.success(Q.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.toasterCreateTodo}}))})))}}};a(),o(Object(Ce.a)(e))},ref:i.btn3Ref},Q.a.createElement(Re,{icon:"calendar"}),n.reminder)),!t&&Q.a.createElement("div",null,Q.a.createElement("span",{onClick:function(){a(),o(Object(Ce.a)({type:"workspace_create_edit",mode:"create"}))},ref:i.btn4Ref},Q.a.createElement(Re,{icon:"compass"}),n.workspace))))},Pe=ee.a.div(d||(d=Object(Z.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //padding: 30px;\n    margin-bottom: 1rem;\n    min-height: 74px;\n    max-height: 74px;\n    background-color: #3f034a;\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 20px 0;\n    }\n    .dark & {\n      background-color: inherit;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]))),Le=Object(ee.a)(je.s)(m||(m=Object(Z.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]))),De=ee.a.button(p||(p=Object(Z.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 15px 30px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  color: #ffffff !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]))),Me=function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=Object(X.d)((function(e){return e.global.todos.count})),i=Object(ne.T)(),o=i.updateCompanyName,c=i.driffSettings,s=i.generalSettings,l=Object(X.d)((function(e){return e.session.user})),d=Object(ne.gb)()._t,m=Object($.i)(),p=Object(ne.ob)(),u=Object(X.d)((function(e){return e.workspaces.workspaces})),f=Object(X.d)((function(e){return e.workspaces.activeTopic})),h=Object(X.d)((function(e){return e.chat.selectedChannel})),b=Object(X.d)((function(e){return Object.values(e.chat.channels).map((function(e){return{id:e.id,code:e.code}}))}));Object(J.useEffect)((function(){if(m.workspaceId&&f&&parseInt(m.workspaceId)!==f.id&&u[m.workspaceId]&&p.selectWorkspace(u[m.workspaceId]),m.code&&h&&h.code!==m.code){var e=b.find((function(e){return e.code===m.code}));e&&p.selectChannel({id:e.id})}}),[m,u,f,h]);var E=Object(J.useState)(!1),g=Object(Te.a)(E,2),v=g[0],O=g[1],_={allWorkspaces:d("SIDEBAR.ALL_WORKSPACES","Browse workspaces"),people:d("SIDEBAR.PEOPLE","All people"),workspace:d("SIDEBAR.WORKSPACE","Workspace"),workspaces:d("SIDEBAR.WORKSPACES","Workspaces"),chats:d("SIDEBAR.CHATS","Chats"),yourWorkspaces:d("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:d("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:d("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:d("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:d("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:d("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:d("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:d("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:d("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:d("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:d("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:d("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:d("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:d("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace"),bots:d("SIDEBAR.BOTS","Bots"),favoriteWorkspaces:d("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),browseAll:d("SIDEBAR.BROWSE_ALL","Browse all..."),toasterCreateTodo:d("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterGeneraError:d("TOASTER.GENERAL_ERROR","An error has occurred try again!"),chat:d("SIDEBAR.CHAT","Chat"),post:d("SIDEBAR.POST","Post"),reminder:d("SIDEBAR.REMINDER","Reminder"),addNew:d("SIDEBAR.ADD_NEW","Add new"),startBrowsing:d("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:d("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:l.first_name}),newFolder:d("TOOLTIP.NEW_FOLDER","New folder")},w=function(){O((function(e){return!e}))};return Q.a.createElement(Pe,{className:"navigation-menu-tab ".concat(t)},Q.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},Q.a.createElement(Sn,null)),Q.a.createElement(dn,{count:r,dictionary:_,isExternal:a,driffSettings:c,user:l,updateCompanyName:o}),Q.a.createElement(Je,{dictionary:_,generalSettings:s,isExternal:a,user:l}),Q.a.createElement(Ie,{dictionary:_,isExternal:a,onShowModalButtons:w,showButtons:v}),Q.a.createElement("div",null,Q.a.createElement(De,{onClick:w,className:"btn btn-outline-light",type:"button"},Q.a.createElement("div",null,Q.a.createElement(Le,{icon:"circle-plus"}),_.addNew))))},Fe=t(89),Ue=t.n(Fe),He=t(778),We=t(15),ze=ee.a.div(u||(u=Object(Z.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  min-height: 0;\n"]))),Be=Object(ee.a)(Ue.a)(f||(f=Object(Z.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Ge=Object(ee.a)(je.s)(h||(h=Object(Z.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n  margin-left: 5px;\n"]))),Ve=ee.a.div(b||(b=Object(Z.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),Ye=ee.a.div(E||(E=Object(Z.a)(["\n  margin: 0 15px;\n  display: flex;\n  align-items: center;\n  color: rgba(255, 255, 255, 0.6);\n  border-top: 2px solid;\n  padding: 15px 0;\n  > span {\n    margin-left: 15px;\n  }\n"]))),Ke=ee.a.span(g||(g=Object(Z.a)(["\n  color: rgba(255, 255, 255, 0.6);\n  text-decoration: underline;\n  :hover {\n    cursor: pointer;\n  }\n"]))),qe=ee.a.div(v||(v=Object(Z.a)(["\n  padding: 0 30px;\n  overflow: auto;\n"]))),Ze=ee.a.div(O||(O=Object(Z.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  color: #cbd4db;\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]))),Je=function(e){var n=e.dictionary,t=e.isExternal,a=e.user,r=Object(X.c)(),i=Object(ne.nb)(),o=i.actions,c=i.folders,s=i.history,l=i.orderChannel,d=i.workspaces,m=i.favoriteWorkspacesLoaded,p=Object(X.d)((function(e){return e.chat.selectedChannelId})),u=Object(X.d)((function(e){return Object.keys(e.chat.channels)})),f=Object(X.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),h=Object(X.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),b=Object.values(d).find((function(e){return h&&h.id===e.id})),E=Object(X.d)((function(e){return e.chat.companyChannel})),g=Object(X.d)((function(e){return e.settings.driff.company_name})),v=function(){r(Object(Ce.a)({type:"workspace_create_edit",mode:"create"}))},O=Object.values(d).sort((function(e,n){return"channel_date_updated"===l.order_by?-1:e.name.localeCompare(n.name)})).filter((function(e){return e.is_favourite})),_=function(e){if(b&&e.id===b.id&&E)s.push("/chat/".concat(E.code)),o.selectChannel({id:E.id});else{if(document.body.classList.remove("navigation-show"),p&&!f){var n=document.getElementById("component-chat-thread");n&&r(Object(We.Jb)({channel_id:p,scrollPosition:n.scrollHeight-n.scrollTop}))}p&&p!==e.channel.id&&u.some((function(n){return parseInt(n)===e.channel.id}))&&o.selectChannel({id:e.channel.id}),o.selectWorkspace(e),o.redirectTo(e)}},w=function(){s.push("/workspace/search")},k=function(){return Q.a.createElement(Ve,null,Q.a.createElement("div",null,Q.a.createElement(je.q,{height:200,icon:2}),"external"!==a.type&&Q.a.createElement(Q.a.Fragment,null,Q.a.createElement("h5",null,n.sidebarTextCreateWorkspace),Q.a.createElement("button",{className:"btn btn-primary mt-2",onClick:v},n.createWorkspace))))};return Q.a.createElement(ze,null,Q.a.createElement(Ye,null,Q.a.createElement("span",null,n.favoriteWorkspaces),!t&&Q.a.createElement(Be,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:n.newFolder},Q.a.createElement(Ge,{onClick:function(){r(Object(Ce.a)({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),Q.a.createElement(qe,null,Q.a.createElement("div",{id:"elements",className:"open"},m&&Object.values(d).length>0&&0===O.length&&Q.a.createElement(Ze,null,Q.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),Q.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.addYourFavWs}}),Q.a.createElement(Ke,{onClick:w},n.startBrowsing)),m&&0===Object.values(c).length&&0===Object.values(d).length&&Q.a.createElement(k,null),m&&Object.values(d).length>0&&O.length>0&&Q.a.createElement(Q.a.Fragment,null,Q.a.createElement("ul",null,O.map((function(e){return Q.a.createElement(He.a,{key:e.id,isExternal:t,onSelectWorkspace:_,workspace:e,isCompanyWs:b&&b.id===e.id,companyName:g})}))),Q.a.createElement(Ke,{onClick:w},n.browseAll)))))},Qe=t(1),Xe=ee.a.li(_||(_=Object(Z.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s ease;\n  > a {\n    position: relative;\n    font-weight: ",";\n    display: flex;\n    color: #fff;\n    height: 40px;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n  .quick-links {\n    .feather-pencil {\n      display: none;\n    }\n    &:hover {\n      .sub-menu-arrow {\n        margin-left: ",";\n      }\n      .feather-pencil {\n        display: ",";\n      }\n    }\n  }\n"])),(function(e){return e.selected?"600":"400"}),(function(e){return e.showEditIcon?"10px":"auto"}),(function(e){return e.showEditIcon?"block":"none"})),$e=ee.a.ul(w||(w=Object(Z.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  &.enter-active {\n    max-height: 250px;\n    overflow: scroll;\n  }\n  // &.enter-active {\n  //   max-height: ","px !important;\n  // }\n  &.leave-active {\n    max-height: 0;\n  }\n  li.personal-link {\n    min-height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      min-height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      &.shorcut-title {\n        padding-left: 0.5rem;\n        font-weight: 500;\n      }\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n  li.shorcut-title-link {\n    padding: 0;\n\n    .shorcut-title {\n      background: #ffffff10;\n    }\n  }\n"])),(function(e){return e.maxHeight})),en=Object(ee.a)(je.s)(k||(k=Object(Z.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n  width: 1rem !important;\n  height: 1rem !important;\n"]))),nn=Object(ee.a)(je.s)(y||(y=Object(Z.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]))),tn=function(e){var n=e.className,t=void 0===n?"":n,a=e.user,r=e.dictionary,i=Object(ne.T)(),o=i.generalSettings,c=i.showModal,s=Object(X.d)((function(e){return e.global.links.filter((function(e){return e.id&&""!==e.menu_name.trim()&&""!==e.link.trim()}))})),l=new RegExp("^(http|https)://"),d={container:Object(J.useRef)(),arrow:Object(J.useRef)(),nav:Object(J.useRef)()},m=Object(J.useState)(!1),p=Object(Te.a)(m,2),u=p[0],f=p[1],h=function(e){var n=e.currentTarget.dataset.index;c("personal_link_edit",Object(Qe.a)(Object(Qe.a)({},o.personal_links[n]),{},{index:n}))};return Q.a.createElement(Xe,{ref:d.container,className:"fadeIn ".concat(t," ").concat(u&&"folder-open"),selected:u,showEditIcon:a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)},Q.a.createElement("a",{className:"quick-links",href:"/",onClick:function(e){e.preventDefault(),f((function(e){return!e}))}},Q.a.createElement(en,{icon:"link"}),Q.a.createElement("div",null,r.shortcuts),a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)&&Q.a.createElement(nn,{icon:"pencil",onClick:function(){window.open("".concat("https://").concat(localStorage.getItem("slug"),".driff.io/admin/quick-links"),"_blank")}}),Q.a.createElement("i",{ref:d.arrow,className:"sub-menu-arrow ti-angle-up ".concat(u?"ti-minus rotate-in":"ti-plus")})),Q.a.createElement($e,{ref:d.nav,className:u?"enter-active":"leave-active"},Q.a.createElement("li",{className:"personal-link shorcut-title-link"},Q.a.createElement("div",{className:"shorcut-title"},r.personalLinks)),o.personal_links.map((function(e,n){return Q.a.createElement("li",{key:n,className:"personal-link"},Q.a.createElement("div",null,Q.a.createElement("div",null,Q.a.createElement("a",{href:l.test(e.web_address)?e.web_address:"https://".concat(e.web_address),target:"_blank",rel:"noopener noreferrer"},e.name)),Q.a.createElement("div",{className:"action"},Q.a.createElement(je.s,{className:"cursor-pointer","data-index":n,icon:"pencil",onClick:h}))))})),o.personal_links.length<5&&Q.a.createElement("li",{className:"personal-link nav-action cursor-pointer",onClick:function(){c("personal_link_create")}},Q.a.createElement("div",{className:"justify-content-start"},Q.a.createElement(je.s,{icon:"circle-plus",width:24,height:24})," ",r.addPersonalShortcut)),"external"!==a.type&&s.map((function(e,n){return Q.a.createElement(Q.a.Fragment,{key:e.id},0===n&&Q.a.createElement("li",{className:"personal-link shorcut-title-link pt-2"},Q.a.createElement("div",{className:"shorcut-title"},r.companyLinks)),Q.a.createElement(rn,{link:e,className:"quick-links"}))}))))},an=ee.a.li(N||(N=Object(Z.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  div {\n    position: relative;\n    height: 40px;\n    display: inline-flex;\n    align-items: center;\n    svg {\n      margin-left: 6px;\n    }\n    a {\n      display: block;\n      background-color: transparent;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"])),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),rn=function(e){var n=e.className,t=void 0===n?"":n,a=e.link;return Q.a.createElement(an,{className:"topic-list ".concat(t)},Q.a.createElement("div",null,Q.a.createElement("a",{href:a.link,target:"_blank"},a.menu_name)))},on=(ee.a.li(x||(x=Object(Z.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n"])),(function(e){return e.selected?"600":"400"})),ee.a.ul(T||(T=Object(Z.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  li {\n    height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"])),(function(e){return e.maxHeight})),Object(ee.a)(je.s)(j||(j=Object(Z.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]))),ee.a.li(A||(A=Object(Z.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n"])),(function(e){return e.selected?"600":"400"})),Object(ee.a)(je.s)(C||(C=Object(Z.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]))),ee.a.div(S||(S=Object(Z.a)(["\n  .badge {\n    padding: 4px 8px;\n    font-size: 9px;\n  }\n"])))),cn=ee.a.div(R||(R=Object(Z.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]))),sn=Object(ee.a)(je.s)(I||(I=Object(Z.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]))),ln=Object(ee.a)(je.k)(P||(P=Object(Z.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px;\n  border-radius: 8px;\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]))),dn=function(e){var n=e.dictionary,t=e.isExternal,a=e.driffSettings,r=e.user,i=e.updateCompanyName,o=Object($.i)(),c=Object($.h)(),s=Object(X.d)((function(e){return e.chat.lastVisitedChannel})),l=Object(J.useState)(a.company_name),d=Object(Te.a)(l,2),m=d[0],p=d[1],u=Object(J.useState)(!1),f=Object(Te.a)(u,2),h=f[0],b=f[1],E=Object(J.useRef)(null);Object(J.useEffect)((function(){E.current&&E.current.select()}),[h]);var g=function(){document.body.classList.remove("navigation-show")},v=function(){b((function(e){var n=!e;return n||a.company_name===m||i({company_name:m}),n}))};return Q.a.createElement(on,{className:"flex navigation-menu-tab-header-options"},Q.a.createElement("ul",null,!t&&Q.a.createElement("li",{onClick:g,className:"driff-company-name ".concat(h?"active":"")},h?Q.a.createElement(cn,{className:"active"},Q.a.createElement(sn,{icon:"home"}),Q.a.createElement("input",{ref:E,defaultValue:a.company_name,onChange:function(e){p(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:v();break;default:return}},name:"company-name",autoFocus:!0})):Q.a.createElement(ln,{active:["dashboard","posts","chat","files","people"].includes(o.page),to:null!==s&&s.hasOwnProperty("code")?"/chat/".concat(s.code):"/chat"},Q.a.createElement(sn,{icon:"home"}),a.company_name),r.role&&["owner","admin"].includes(r.role.name)&&Q.a.createElement(Q.a.Fragment,null,h?Q.a.createElement(je.s,{className:"action",onClick:v,icon:"save"}):Q.a.createElement(je.s,{className:"action",onClick:v,icon:"pencil"}))),Q.a.createElement("li",{onClick:g},Q.a.createElement(ln,{to:"/workspace/search",active:["/workspace/search"].includes(c.pathname)},Q.a.createElement(sn,{icon:"compass"}),Q.a.createElement("div",null,n.allWorkspaces))),"internal"===r.type&&Q.a.createElement("li",{onClick:g},Q.a.createElement(ln,{to:"/system/people",active:["/system/people"].includes(c.pathname)},Q.a.createElement(sn,{icon:"user"}),Q.a.createElement("div",null,n.people))),Q.a.createElement(tn,{user:r,dictionary:n})))},mn=t(75),pn=t(40),un=t(6),fn=t(180),hn=Object(ee.a)(je.s)(L||(L=Object(Z.a)(["\n  min-width: 1rem;\n  min-height: 1rem;\n  width: 1rem;\n  height: 1rem;\n  margin-left: 5px;\n  :hover {\n    color: #505050;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]))),bn=ee.a.div(D||(D=Object(Z.a)(["\n  cursor: pointer;\n  display: flex;\n  font-family: Inter;\n  letter-spacing: 0;\n  font-size: 12px;\n  color: ",";\n  .avatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  p {\n    margin: 0;\n  }\n  .chat-header-icon {\n    padding: 0px !important;\n  }\n  .badge-grey-ghost {\n    background-color: white !important ;\n    color: grey !important;\n    border: 1px solid grey !important;\n  }\n"])),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),En=ee.a.div(M||(M=Object(Z.a)(["\n  display: inline-block;\n  width: 180px;\n  white-space: nowrap;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  .feather-x,\n  .snooze-me {\n    :hover {\n      color: #505050;\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n"]))),gn=ee.a.p(F||(F=Object(Z.a)(["\n  display: inline-block;\n  width: 180px;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  font-size: 14px;\n  white-space: nowrap;\n"]))),vn=ee.a.div(U||(U=Object(Z.a)(["\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 1.1;\n  .badge {\n    margin-top: 3px;\n  }\n  .post-mention-body {\n    width: 200px;\n    padding-top: 5px;\n    p {\n      width: auto;\n    }\n  }\n  .badge-light {\n    color: #fff;\n    border: 1px solid grey;\n  }\n"]))),On=ee.a.div(H||(H=Object(Z.a)(["\n  display: flex;\n  align-items: center;\n  .snooze-x {\n    position: absolute;\n    right: 5px;\n    top: 5px;\n  }\n  // ::before {\n  //   content: '';\n  //   display: inline-block;\n  //   height: 100%;\n  //   vertical-align: middle;\n  //   margin-right: -0.25em; /* Adjusts for spacing */\n  // }\n"]))),_n=ee.a.div(W||(W=Object(Z.a)(["\n  span {\n    line-height: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin: auto;\n    font-size: 22px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n"]))),wn=function(e){var n=e.type,t=e.item,a=e.user,r=e.dictionary,i=e.users,o=e.handleRedirect,c=e.darkMode,s=e.snoozeData,l=e.actions,d=Object(ne.V)(),m=function(e){e.stopPropagation(),l.snooze(s),"notification"===n?d.snoozeNotif({notification_id:t.id,is_snooze:!0,type:"POST_SNOOZE"}):"todo"===n?d.snoozeNotif({notification_id:t.id,is_snooze:!0,type:"REMINDER_SNOOZE"}):"huddle"===n&&d.snoozeNotif({notification_id:t.id,is_snooze:!0,type:"HUDDLE_SNOOZE"}),mn.c.success(Q.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"}),mn.c.dismiss(n+"__"+t.id)},p=function(e){if(e.stopPropagation(),"notification"===n)l.snooze(s),l.remove({id:t.id});else if("todo"===n){l.removeReminderNotif({id:t.id});var a=localStorage.getItem("reminderNotif"),i=new Date;if(a){var o=JSON.parse(a).reminders;localStorage.setItem("reminderNotif",JSON.stringify({reminders:[].concat(Object(un.a)(o),[t.id]),day:i.getDay()}))}else localStorage.setItem("reminderNotif",JSON.stringify({reminders:[t.id],day:i.getDay()}))}else if("huddle"===n){l.removeHuddleNotif({id:t.id});var c=localStorage.getItem("huddleNotif"),d=new Date;if(c){var m=JSON.parse(c).channels;localStorage.setItem("huddleNotif",JSON.stringify({channels:[].concat(Object(un.a)(m),[t.channel.id]),day:d.getDay()}))}else localStorage.setItem("huddleNotif",JSON.stringify({channels:[t.channel.id],day:d.getDay()}))}mn.c.success(Q.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.closeNotification}}),{containerId:"toastA",toastId:"closeNotif"}),mn.c.dismiss(n+"__"+t.id)};return Q.a.createElement(bn,{className:"timeline-item timeline-item-no-line d-flex",darkMode:c,onClick:function(e){return o(n,t,e)}},Q.a.createElement("div",{className:"d-flex"},"notification"===n?t.author?Q.a.createElement(je.a,{id:t.author.id,name:t.author.name,showSlider:!1,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,noDefaultClick:!0}):Q.a.createElement(je.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,showSlider:!1,noDefaultClick:!0}):"todo"===n?Q.a.createElement(_n,{className:"robotAvatar"},Q.a.createElement("div",null,Q.a.createElement("span",null,"\ud83e\udd16"))):Q.a.createElement(je.a,{id:t.channel.id,name:t.channel.name,showSlider:!1,imageLink:null,noDefaultClick:!0})),Q.a.createElement(On,null,Q.a.createElement(vn,null,function(e,n){var c="",s="";if("notification"===e){var l=n.author&&i[n.author.id]?i[n.author.id].first_name:"";"POST_MENTION"===n.type?(c="".concat(l," ").concat(r.notificationMention," ").concat(n.data.title),s=Q.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},Q.a.createElement(gn,{className:"snooze-body"},n.data.comment_body&&Object(te.j)(n.data.comment_body)),Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}}))):"WORKSPACE_ADD_MEMBER"===n.type?(c="".concat(l," ").concat(r.addedYouInWorkspace," ").concat(n.data.title),s=Q.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},n.data.title,Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}}))):"POST_CREATE"===n.type?(c="".concat(l," ").concat(r.notificationNewPost),s=Q.a.createElement("span",{className:"d-flex align-items-center"},Q.a.createElement(fn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}}))):"POST_REQST_APPROVAL"===n.type?(c="".concat(l," ").concat(r.sentProposal),s=Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(fn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}}))):"POST_REJECT_APPROVAL"===n.type?(c="".concat(l," ").concat(r.hasRequestedChange),s=Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(fn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}}))):"PST_CMT_REJCT_APPRVL"===n.type?(c="".concat(l," ").concat(r.changeRequested),s=Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(fn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}}))):"POST_COMMENT"===n.type&&(c="".concat(l," ").concat(r.actionNeeded),s=Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(fn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}})))}else"todo"===e?(c=r.todoReminder,s=Q.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},Q.a.createElement(gn,{className:"snooze-body"},Object(te.j)(n.title)),Q.a.createElement(hn,{icon:"external-link",onClick:function(n){o(e,t,n)}}))):"huddle"===e&&(c="".concat(r.timeTOHuddle," ").concat(a.first_name),s=Q.a.createElement(Q.a.Fragment,null,Q.a.createElement("span",{className:"badge badge-light mr-2",onClick:function(n){o(e,t,n)}},r.open),Q.a.createElement("span",{className:"badge badge-info badge-grey-ghost",onClick:function(t){!function(e,n,t){t.stopPropagation();var a=localStorage.getItem("huddle"),i=new Date;if(a){var o=JSON.parse(a).channels;localStorage.setItem("huddle",JSON.stringify({channels:[].concat(Object(un.a)(o),[n.channel.id]),day:i.getDay()}))}else localStorage.setItem("huddle",JSON.stringify({channels:[n.channel.id],day:i.getDay()}));mn.c.dismiss(e+"__"+n.id),mn.c.success(Q.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.huddleSkip}}),{containerId:"toastA",toastId:"btnSnoozeMe"})}(e,n,t)}},r.skip)));return Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(En,null,c,Q.a.createElement("span",{className:"snooze-x"},Q.a.createElement("span",{className:"snooze-me mr-1",onClick:m},r.snooze),Q.a.createElement(je.s,{icon:"x",width:"18",height:"18",strokeWidth:"2",onClick:p})))," ",s)}(n,t))))},kn=ee.a.div(z||(z=Object(Z.a)(["\n  .snooze-container {\n    margin-bottom: 8px !important;\n    color: ",";\n    background: ",";\n    .feather-x {\n      margin-top: -1px;\n    }\n  }\n  .snooze-container p.snooze-body {\n    color: ",";\n  }\n  .snooze-container .snooze-me {\n    font-size: 11px;\n    //margin: 0 5px;\n    text-decoration: underline;\n    // position: absolute;\n    // right: 0;\n    // margin-right: 1em;\n  }\n  .snooze-all-container {\n    background: 0 0;\n    box-shadow: none;\n    margin: 0;\n    padding: 0;\n    height: auto;\n    min-height: 25px;\n    color: ",";\n    background: transparent;\n    font-size: 12px;\n  }\n  .snooze-all-container .snooze-all-body {\n    height: auto;\n    font-size: 12px;\n    margin: 0 5px;\n    text-decoration: underline;\n  }\n  .robotAvatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  .robotAvatar div {\n    background: #f1f2f7;\n    border-radius: 40px;\n    font-size: 27px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n  }\n"])),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#aaa !important"}),(function(e){return"1"===e.darkMode?"#191c20 !important":"#fff !important"}),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#505050 !important"}),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),yn=function(e){var n=Object(ne.F)().notifications,t=Object(ne.db)(!0).getReminders,a=Object(X.d)((function(e){return e.global.todos})),r=Object(X.d)((function(e){return e.session.user})),i=Object(ne.gb)()._t,o=Object(ne.V)(),c=Object(ne.E)(),s=Object(ne.cb)(),l=Object(ne.T)().generalSettings.dark_mode,d=Object(ne.O)(),m=Object(ne.A)(),p=Object($.g)(),u=new Date,f=u.getTime(),h=Object(X.c)(),b=Object(X.d)((function(e){return e.users.users})),E=Object(X.d)((function(e){return e.chat.huddleBots.filter((function(e){return e.show_notification&&!0===e.show_notification}))})),g=Object(X.d)((function(e){return e.chat.channels})),v=Object(X.d)((function(e){return e.chat.huddleBotsLoaded})),O=0===u.getDay()||6===u.getDay(),_=localStorage.getItem("huddle"),w=_?JSON.parse(_).channels:[],k=Object(J.useState)(!1),y=Object(Te.a)(k,2),N=y[0],x=y[1],T={notificationMention:i("SNOOZE.MENTION","mentioned you in ::title::",{title:""}),todoReminder:i("SNOOZE.REMINDER","A friendly automated reminder"),sentProposal:i("SNOOZE.SENT_PROPOSAL","sent a proposal."),notificationNewPost:i("SNOOZE.NEW_POST","shared a post"),mustRead:i("SNOOZE.MUST_READ","Must read"),needsReply:i("SNOOZE.NEEDS_REPLY","Needs reply"),timeTOHuddle:i("SNOOZE.TIME_TO_HUDDLE","Time to huddle, "),hasRequestedChange:i("SNOOZE.HAS_REQUESTED_CHANGE","has requested a change."),snoozeMe:i("SNOOZE.SNOOZE_ME","Snoozed for ".concat(180," min(s)")),actionNeeded:i("SNOOZE.ACTION_NEEDED","Action needed"),changeRequested:i("SNOOZE.CHANGE_REQUESTED","Change requested"),huddleSkip:i("SNOOZE.HUDDLE_SKIP","Huddle is Skipped"),replyRequired:i("POST.REPLY_REQUIRED","Reply required"),snoozeAllNotifications:i("SNOOZE.SNOOZE_ALL_NOTIFICATIONS","Snooze all notifications"),skip:i("SNOOZE.SKIP","Skip"),open:i("SNOOZE.OPEN","Open"),snooze:i("SNOOZE.SNOOZE","Snooze"),closeNotification:i("NOTIFICATION.CLOSE","Notification will not be shown again."),addedYouInWorkspace:i("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace")},j=function(){return Object.values(n).filter((function(e){return"POST_MENTION"===e.type||"WORKSPACE_ADD_MEMBER"===e.type||"POST_REQST_APPROVAL"===e.type||"POST_REJECT_APPROVAL"===e.type||"PST_CMT_REJCT_APPRVL"===e.type||"POST_COMMENT"===e.type||"POST_CREATE"===e.type&&(e.data.must_read||e.data.must_reply)})).sort((function(e,n){return n.created_at.timestamp-e.created_at.timestamp}))},A=function(){var e=Object(pn.d)(179);return t({filter:{status:"",search:""}}).filter((function(n){return n.remind_at&&n.remind_at.timestamp<=e&&"OVERDUE"!==n.status&&n.show_notification}))},C=function(e,n,t){var a="notification"===e?c:"todo"===n.type?s:m;if(t.preventDefault(),0===n.is_read&&c.read({id:n.id}),"huddle"===e)return p.push("/chat/".concat(n.channel.code)),void h(Object(We.Tb)({id:n.channel.id}));if("todo"===e)d.toTodos();else{var r={id:n.data.post_id,title:n.data.title},i=null,o=null;n.data.workspaces&&n.data.workspaces.length&&(i={id:(i=n.data.workspaces[0]).topic_id,name:i.topic_name,folder_id:i.workspace_id?i.workspace_id:null,folder_name:i.workspace_name?i.workspace_name:null}),"POST_MENTION"===n.type&&n.data.comment_id&&(o={focusOnMessage:n.data.comment_id}),"WORKSPACE_ADD_MEMBER"===n.type?n.data.workspace_folder_id?p.push("/workspace/chat/".concat(n.data.workspace_folder_id,"/").concat(Object(te.h)(n.data.workspace_folder_name),"/").concat(n.data.id,"/").concat(Object(te.h)(n.data.title))):p.push("/workspace/chat/".concat(n.data.id,"/").concat(Object(te.h)(n.data.title))):d.toPost({workspace:i,post:r},o)}a.snooze({id:n.id,is_snooze:!1})},S=function(e){return Object.values(n).filter((function(n){return n.id!==e.id})).some((function(n){return"PST_CMT_REJCT_APPRVL"===n.type&&n.data.post_id===e.data.post_id&&n.id>e.id}))},R=function(e,t){t.preventDefault();var r=[],i=[],l=[];r=I("todo",A()),i=I("notification",j()),l=I("huddle",E),[].concat(r,i,l).map((function(e){var t=e.type+"__"+e.id,r="notification"===e.type?c:"todo"===e.type?s:m,i="notification"===e.type?n[e.id]:"todo"===e.type?a.items[e.id]:Object.values(E).find((function(n){return n.id==e.id}));if(i){var o={id:i.id,is_snooze:!0,snooze_time:Object(pn.d)(180)};i.is_snooze||(mn.c.isActive(t)&&mn.c.dismiss(t),r.snooze(o))}})),i.length&&o.snoozeAllNotif({is_snooze:!0,notification_ids:i.map((function(e){return e.id})),type:"POST_SNOOZE"}),r.length&&o.snoozeAllNotif({is_snooze:!0,notification_ids:r.map((function(e){return e.id})),type:"REMINDER_SNOOZE"}),l.length&&o.snoozeAllNotif({is_snooze:!0,notification_ids:l.map((function(e){return e.id})),type:"HUDDLE_SNOOZE"}),(i.length||r.length||l.length)&&mn.c.success(Q.a.createElement("span",{dangerouslySetInnerHTML:{__html:T.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"})},I=function(e,n){var t=[];return n.map((function(n){var a=e+"__"+n.id,i={type:e,id:n.id,created_at:"huddle"===e?n.start_at.timestamp:n.created_at.timestamp};"notification"===e?"POST_MENTION"===n.type||"WORKSPACE_ADD_MEMBER"===n.type?n.is_read||n.is_snooze?(n.is_read||n.is_snooze)&&mn.c.isActive(a)&&mn.c.dismiss(a):t.push(i):"POST_CREATE"===n.type?!function(e){return e.data.must_read&&e.data.must_read_users&&e.data.must_read_users.some((function(e){return e.id===r.id&&!e.must_read}))}(n)&&!function(e){return e.data.must_reply&&e.data.must_reply_users&&e.data.must_reply_users.some((function(e){return e.id===r.id&&!e.must_reply}))}(n)||n.is_snooze?mn.c.isActive(a)&&mn.c.dismiss(a):t.push(Object(Qe.a)(Object(Qe.a)({},i),{},{update:!0})):"POST_REQST_APPROVAL"===n.type?!function(e){return e.data.users_approval&&e.data.users_approval.find((function(e){return null===e.ip_address&&r.id===e.id}))}(n)||n.is_snooze?mn.c.isActive(a)&&mn.c.dismiss(a):t.push(i):"POST_REJECT_APPROVAL"===n.type||"PST_CMT_REJCT_APPRVL"===n.type?S(n)||!n.data.post_approval_label||"REQUEST_UPDATE"!==n.data.post_approval_label||n.is_snooze?mn.c.isActive(a)&&mn.c.dismiss(a):t.push(i):n.type:"todo"===e?"DONE"===n.status||n.is_snooze?mn.c.isActive(a)&&mn.c.dismiss(a):t.push(i):"huddle"===e&&(O||w.includes(n.channel.id)||!function(e){if(e.questions.filter((function(e){return null===e.answer})).length>0){var n=parseInt(e.start_at.time.substr(0,2)),t=parseInt(e.start_at.time.substr(3,2)),a=parseInt(e.publish_at.time.substr(0,2)),r=parseInt(e.publish_at.time.substr(3,2)),i=new Date;i.setUTCHours(n,t,0),i.setDate(u.getDate());var o=new Date;return o.setUTCHours(a,r,0),o.setDate(u.getDate()),f>i.getTime()&&o.getTime()>f}return!1}(n)||n.is_snooze?mn.c.isActive(a)&&mn.c.dismiss(a):t.push(i))})),t},P=function(e,n){var t=Math.round(+new Date/1e3),a="notification"===e?c:"todo"===e?s:m,r=0;return n.map((function(n){var i=n.snooze_time+10800;"notification"===e?n.is_snooze&&n.snooze_time&&t>i&&(r++,o.snoozeNotif({notification_id:n.id,is_snooze:!1,type:"POST_SNOOZE"}),a.snooze({id:n.id,is_snooze:!1,snooze_time:null,type:"POST_SNOOZE"})):"todo"===e?"DONE"!==n.status&&n.is_snooze&&n.snooze_time&&t>i&&(r++,o.snoozeNotif({notification_id:n.id,is_snooze:!1,type:"REMINDER_SNOOZE"}),a.snooze({id:n.id,is_snooze:!1,snooze_time:null,type:"REMINDER_SNOOZE"})):"huddle"===e&&n.is_snooze&&n.snooze_time&&t>i&&(r++,o.snoozeNotif({notification_id:n.id,is_snooze:!1,type:"HUDDLE_SNOOZE"}),a.snooze({id:n.id,is_snooze:!1,snooze_time:null,type:"HUDDLE_SNOOZE"}))})),r},L=function(){var e,t,i;e=I("todo",A()),t=I("notification",j()),i=I("huddle",E);var o=[].concat(e,t,i);o.length?function(e){if(e.length>0){mn.c.isActive("btnSnoozeAll")?mn.c.update("btnSnoozeAll",{render:function(){return Q.a.createElement("span",{className:"snooze-all",onClick:function(e){return R(0,e)}},T.snoozeAllNotifications)},containerId:"toastS"}):Object(mn.c)(Q.a.createElement("span",{className:"snooze-all",onClick:function(e){return R(0,e)}},T.snoozeAllNotifications),{className:"snooze-all-container",bodyClassName:"snooze-all-body",containerId:"toastS",toastId:"btnSnoozeAll",closeButton:!1});var t=e.slice(0,4),i=[];t.map((function(e){var t="notification"===e.type?c:"todo"===e.type?s:m,o=e.type+"__"+e.id,d="notification"===e.type?n[e.id]:"todo"===e.type?a.items[e.id]:Object.values(E).find((function(n){return n.id==e.id}));mn.c.isActive(o)?e.update&&mn.c.update(o,{render:function(){return Q.a.createElement(wn,{type:e.type,dictionary:T,id:d.id,item:d,user:r,users:b,actions:t,handleRedirect:C,darkMode:l,snoozeData:{id:d.id,is_snooze:!0,snooze_time:Object(pn.d)(180)}})},containerId:"toastS"}):Object(mn.c)(Q.a.createElement(wn,{type:e.type,dictionary:T,id:d.id,item:d,user:r,users:b,actions:t,handleRedirect:C,darkMode:l,snoozeData:{id:d.id,is_snooze:!0,snooze_time:Object(pn.d)(180)}}),{className:"snooze-container",bodyClassName:"snooze-body",containerId:"toastS",toastId:o}),i.push(o)}))}else mn.c.dismiss("btnSnoozeAll")}(o):mn.c.dismiss("btnSnoozeAll")};Object(J.useEffect)((function(){var e=setInterval((function(){x(!0)}),6e4);return function(){clearInterval(e)}}),[]),Object(J.useEffect)((function(){if(N){x(!1);var e=P("todo",A()),n=P("notification",j()),t=P("huddle",E);0===e&&0===n&&0===t&&L()}}),[N,n,a,E]),Object(J.useEffect)((function(){Object.keys(g).length>0&&v&&L()}),[n,a,E,v]);var D=u.getDay(),M=Object(J.useRef)(0);return Object(J.useEffect)((function(){M.current++,M.current>1&&(localStorage.removeItem("huddle"),localStorage.removeItem("huddleNotif"),localStorage.removeItem("reminderNotif"),h(Object(We.n)()))}),[D]),Object(J.useEffect)((function(){var e=(new Date).getDay(),n=localStorage.getItem("huddle");n&&(JSON.parse(n).day===e&&0!==e&&6!==e||(localStorage.removeItem("huddle"),h(Object(We.n)())));x(!0)}),[]),Q.a.createElement(kn,{darkMode:l},Q.a.createElement(mn.b,{enableMultiContainer:!0,containerId:"toastS",position:"bottom-left",autoClose:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,limit:5,closeButton:!1,style:{zIndex:999}}))},Nn=(t(746),ee.a.div(B||(B=Object(Z.a)(["\n  position: relative;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n  .card-body {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n  }\n  svg {\n    height: 50%;\n    width: 50%;\n  }\n"])))),xn=function(e){var n=Object($.g)(),t=Object(X.d)((function(e){return e.session.user}));return Q.a.createElement(Nn,{className:"main-content"},Q.a.createElement("div",{className:"trial-end"},Q.a.createElement("div",{className:"card h-100"},Q.a.createElement("div",{className:"card-body"},Q.a.createElement(je.q,{icon:2}),Q.a.createElement("h3",null,"Your trial subscription has ended"),t&&t.role&&("owner"===t.role.name||"admin"===t.role.name)&&Q.a.createElement("button",{className:"btn btn-primary",onClick:function(){n.push("/admin-settings/subscription/subscribe")}},"Go to subscription page")))))},Tn=ee.a.div(G||(G=Object(Z.a)(["\n  position: relative;\n  ","\n\n  :hover {\n    .feather-pencil {\n      display: block;\n      top: 0;\n      right: -15px;\n      cursor: pointer;\n    }\n  }\n"])),(function(e){return e.hasCompanyLogo&&"height: 100%;\n    width: 70%;"})),jn=ee.a.div(V||(V=Object(Z.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  justify-content: center;\n  cursor: pointer;\n  .feather-heart {\n    color: #fff;\n    height: 0.7rem;\n    width: 0.7rem;\n    min-height: 0.7rem;\n    min-width: 0.7rem;\n    margin: 0 5px;\n  }\n  .company-logo {\n    height: 70%;\n    max-height: 40px;\n    max-width: 100px;\n  }\n"]))),An=Object(ee.a)(je.r)(Y||(Y=Object(Z.a)(["\n  width: 84px;\n  height: 56px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]))),Cn=Object(ee.a)(je.r)(K||(K=Object(Z.a)(["\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]))),Sn=function(e){var n=Object(X.c)(),t=Object($.g)(),a=Object(X.d)((function(e){return e.settings.driff.logo})),r=function(e){e.preventDefault(),e.target.dataset.link?n(Object(Ce.X)({mode:3})):n(Object(Ce.X)({mode:2})),t.push("/chat")};return Q.a.createElement(Tn,{hasCompanyLogo:""!==a.trim()},""!==a.trim()&&Q.a.createElement(jn,{"data-link":"/",onClick:r},Q.a.createElement("img",{className:"company-logo",src:a,alt:"company logo"}),Q.a.createElement(je.s,{icon:"heart"}),Q.a.createElement(Cn,{icon:"driff-logo2"})),""===a.trim()&&Q.a.createElement(An,{icon:"driff-logo2","data-link":"/chat",onClick:r}))},Rn=ee.a.div(q||(q=Object(Z.a)([""]))),In=Q.a.memo((function(){return Q.a.createElement(Rn,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),Pn=t(134),Ln=t(135),Dn=t(257),Mn=t(254),Fn=t(59),Un=t(96),Hn=t(58),Wn=t(801),zn=t.n(Wn),Bn=t(78),Gn=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(i=Bn.generate()),zn.a.create(e,{body:n,icon:null!==t?t:"./assets/icons/favicon.png",timeout:r,tag:e,onClick:function(){window.focus(),a&&a(),this.close()}})},Vn=t(23),Yn=t(17),Kn=t(31),qn=t(26),Zn=t(81),Jn=t(20),Qn=t(60),Xn=t(154),$n=t(64),et=function(e){Object(Dn.a)(t,e);var n=Object(Mn.a)(t);function t(e){var a;return Object(Pn.a)(this,t),(a=n.call(this,e)).refetchPosts=function(){a.props.refetchPosts({skip:0,limit:10})},a.refetchPostComments=function(){Object.keys(a.props.postComments).forEach((function(e){a.props.refetchPostComments({post_id:e})}))},a.refetch=function(){a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&a.props.refetchMessages({message_id:a.props.lastReceivedMessage.id})},a.refetchOtherMessages=function(){if(a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&Object.values(a.props.channels).length){var e=Object.values(a.props.channels);a.props.refetchOtherMessages({message_id:a.props.lastReceivedMessage.id,channel_ids:e.filter((function(e){return"number"===typeof e.id&&e.id!==a.props.lastReceivedMessage.channel_id})).map((function(e){return e.id}))},(function(e,n){e||n.data.filter((function(e){return e.count_message>0})).forEach((function(e){a.props.getChannelDetail({id:e.channel_id})}))}))}},a.state={reconnected:null,disconnectedTimestamp:null,reconnectedTimestamp:null},a.onlineUsers=Q.a.createRef(null),a.publishChannelId=Q.a.createRef(null),a}return Object(Ln.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getOnlineUsers(),this.props.getLatestReply({},(function(e,n){})),window.Echo.connector.socket.on("connect",(function(){})),window.Echo.connector.socket.on("disconnect",(function(){e.setState({disconnectedTimestamp:Math.floor(Date.now()/1e3)})})),window.Echo.connector.socket.on("reconnect",(function(){e.setState({reconnected:!0,reconnectedTimestamp:Math.floor(Date.now()/1e3)}),e.refetch(),e.refetchOtherMessages(),e.refetchPosts(),e.refetchPostComments(),e.props.getFavoriteWorkspaceCounters()})),window.Echo.connector.socket.on("reconnecting",(function(){})),window.Echo.private("".concat(localStorage.getItem("slug"),".App.User.Inactive")).listen(".user-inactive",(function(n){e.props.incomingDeletedUser(n)})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".Driff.User.").concat(this.props.user.id)).listen(".notification-read",(function(n){e.props.incomingReadNotifications(n)})).listen(".delete-notification",(function(n){var t="notification__".concat(n.notification_id);mn.c.isActive(t)&&mn.c.dismiss(t),e.props.removeNotificationReducer({id:n.notification_id})})).listen(".snooze-notification",(function(n){e.props.incomingSnoozedNotification(n)})).listen(".snooze-all-notification",(function(n){e.props.incomingSnoozedAllNotification(n)})).listen(".post-follow",(function(n){e.props.incomingFollowPost(n)})).listen(".post-unfollow",(function(n){e.props.incomingUnfollowPost(n)})).listen(".unarchive-post-notification",(function(n){n.posts.forEach((function(n){e.props.fetchPost({post_id:n.id},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{clap_user_ids:[],is_unread:1});e.props.incomingPost(a)}}))}))})).listen(".huddle-notification",(function(n){switch(n.SOCKET_TYPE){case"HUDDLE_CREATED":e.props.incomingHuddleBot(Object(Qe.a)(Object(Qe.a)({},n),{},{start_at:n.set_start_at,publish_at:n.set_publish_at,questions:n.questions.map((function(e,t){return Object(Qe.a)(Object(Qe.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===t,isLastQuestion:n.questions.length===t+1})}))}));break;case"HUDDLE_UPDATED":e.props.incomingUpdatedHuddleBot(Object(Qe.a)(Object(Qe.a)({},n),{},{start_at:n.set_start_at,publish_at:n.set_publish_at,questions:n.questions.map((function(e,t){return Object(Qe.a)(Object(Qe.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===t,isLastQuestion:n.questions.length===t+1})}))}));break;case"HUDDLE_DELETED":e.props.incomingDeletedHuddleBot({id:parseInt(n.id)});break;case"HUDDLE_ANSWER_UPDATE":e.props.incomingHuddleAnswers(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.huddle.channel_id}}));break;case"USER_ANSWERED":e.props.incomingHuddleAnswers(n),e.props.incomingChatMessage(Object(Qe.a)(Object(Qe.a)({},n.message),{},{huddle_log:n.huddle_log}));break;case"HUDDLE_SKIP":e.props.incomingHuddleSkip(n);break;default:return null}})).listen(".workspace-todo-notification",(function(n){switch(n.workspace&&Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.workspace.id===e.id}))&&e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),n.SOCKET_TYPE){case"CREATE_WORKSPACE_TODO":e.props.incomingToDo(Object(Qe.a)(Object(Qe.a)({},n),{},{user:n.user_id}));break;case"UPDATE_WORKSPACE_TODO":e.props.incomingUpdateToDo(n);break;case"DONE_TODO":e.props.incomingDoneToDo(n);break;case"DELETE_WORKSPACE_TODO":e.props.incomingRemoveToDo(n);break;case"REMIND_WORKSPCE_TODO":e.props.incomingUpdateToDo(n);break;case"ADVANCE_REMIND_TODO":if(Fn.isSafari&&e.props.notificationsOn){Gn("You asked to be reminded about ".concat(n.title),n.title,e.props.user.profile_image_link,(function(){if(n.link_type){var t="";"POST_COMMENT"===n.link_type||"POST"===n.link_type?t=n.data.workspaces.length?n.data.workspaces[0].workspace?"/workspace/posts/".concat(n.data.workspaces[0].workspace.id,"/").concat(Object(te.h)(n.data.workspaces[0].workspace.name),"/").concat(n.data.workspaces[0].topic.id,"/").concat(Object(te.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(te.h)(n.data.post.title)):"/workspace/posts/".concat(n.data.workspaces[0].topic.id,"/").concat(Object(te.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(te.h)(n.data.post.title)):"/posts/".concat(n.data.post.id,"/").concat(Object(te.h)(n.data.post.title)):"CHAT"===n.link_type&&(t="/chat/".concat(n.data.channel.code,"/").concat(n.data.chat_message.code)),""!==t&&e.props.history.push(t)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(n);break;default:return null}})).listen(".todo-notification",(function(n){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),n.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(Object(Qe.a)(Object(Qe.a)({},n),{},{user:n.user_id}));break;case"UPDATE_TODO":e.props.incomingUpdateToDo(n);break;case"DONE_TODO":e.props.incomingDoneToDo(n);break;case"DELETE_TODO":e.props.incomingRemoveToDo(n);break;case"REMIND_TODO":e.props.incomingUpdateToDo(n);break;case"ADVANCE_REMIND_TODO":if(Fn.isSafari&&e.props.notificationsOn){Gn("You asked to be reminded about ".concat(n.title),n.title,e.props.user.profile_image_link,(function(){if(n.link_type){var t="";"POST_COMMENT"===n.link_type||"POST"===n.link_type?t=n.data.workspaces.length?n.data.workspaces[0].workspace?"/workspace/posts/".concat(n.data.workspaces[0].workspace.id,"/").concat(Object(te.h)(n.data.workspaces[0].workspace.name),"/").concat(n.data.workspaces[0].topic.id,"/").concat(Object(te.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(te.h)(n.data.post.title)):"/workspace/posts/".concat(n.data.workspaces[0].topic.id,"/").concat(Object(te.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(te.h)(n.data.post.title)):"/posts/".concat(n.data.post.id,"/").concat(Object(te.h)(n.data.post.title)):"CHAT"===n.link_type&&(t="/chat/".concat(n.data.channel.code,"/").concat(n.data.chat_message.code)),""!==t&&e.props.history.push(t)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(n);break;default:return null}})).listen(".workspace-role-notification",(function(n){e.props.incomingWorkspaceRole(n)})).listen(".google-attachment-notification",(function(n){switch(n.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===n.attachment_type?e.props.incomingGoogleFile(n):"GOOGLE_DRIVE_FOLDER"===n.attachment_type&&e.props.incomingGoogleFolder(n);break;default:return null}})).listen(".workspace-folder-notification",(function(n){switch(n.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(n);break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(n),"/workspace/files"===e.props.match.url&&e.props.location.pathname.includes(n.folder.id)&&e.props.location.pathname.includes(n.topic_id)){var t=e.props.location.pathname.split("/folder/")[0];e.props.history.push(t)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(n);break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(n);break;default:return null}})).listen(".workspace-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(n);break;case"FILE_UPDATE":e.props.incomingFile(n);break;case"FILE_MOVE":e.props.incomingMovedFile(n);break;case"FILE_TRASH":e.props.incomingDeletedFile(n);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(n);break;case"FILE_DELETE":e.props.incomingRemovedFile(n);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(n);break;default:return null}})).listen(".workspace-timeline-notification",(function(n){e.props.incomingTimeline(n)})).listen(".upload-bulk-private-workspace-files",(function(n){e.props.incomingFiles(n),n.channel_messages&&n.channel_messages.forEach((function(n){n.system_message.channel_id=n.channel.id,n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!1,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.topic=n.topic,n.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(n.system_message)}))})).listen(".favourite-notification",(function(n){switch(n.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(n);break;default:return null}})).listen(".unread-post",(function(n){e.props.incomingReadUnreadReducer(n),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1})})).listen(".post-notification",(function(n){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),n.SOCKET_TYPE){case"CLOSED_POST":e.props.incomingClosePost(n);break;case"POST_APPROVED":e.props.incomingPostApproval(n);break;case"POST_REQUIRED":e.props.incomingPostRequired(n);break;case"POST_COMMENT_APPROVED":e.props.getNotifications({skip:0,limit:5}),e.props.incomingCommentApproval(Object(Qe.a)(Object(Qe.a)({},n),{},{users_approval:n.users_approval.map((function(e){return e.id===n.user_approved.id?Object(Qe.a)(Object(Qe.a)({},e),n.user_approved):e}))}));break;case"READ_SELECTED_UNREAD_POST":e.props.incomingReadSelectedPosts(n);break;case"ARCHIVED_SELECTED_POST":e.props.incomingArchivedSelectedPosts(n);break;case"ADD_RECIPIENTS":e.props.fetchPost({post_id:n.post_id},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{clap_user_ids:[]});e.props.incomingPost(a)}}));break;case"POST_CREATE":var t=Object(Qe.a)(Object(Qe.a)({},n),{},{clap_user_ids:[]}),a=t.users_approval.some((function(n){return n.id===e.props.user.id}));e.props.user.id!==t.author.id&&Fn.isSafari&&e.props.notificationsOn&&Gn("".concat(t.author.first_name," shared a post"),t.title,t.author.profile_image_link,null),null!==t.show_at&&(e.props.user.id,t.author.id),e.props.incomingPost(Object(Qe.a)(Object(Qe.a)({},t),{},{post_approval_label:a?"NEED_ACTION":null})),t.channel_messages&&t.channel_messages.forEach((function(t){var a=Object(Qe.a)(Object(Qe.a)({},t.system_message),{},{files:[],editable:!1,unfurls:[],reactions:[],is_deleted:!1,todo_reminder:null,is_read:!1,is_completed:!1,user:null,new_post:!0,topic:t.topic,shared_with_client:n.shared_with_client});e.props.incomingPostNotificationMessage(a)}));break;case"POST_UPDATE":if(e.props.incomingUpdatedPost(n),n.channel_messages&&n.post_participant_data)if(n.post_participant_data.from_company||n.post_participant_data.all_participant_ids.some((function(n){return n===e.props.user.id}))){if(!n.post_participant_data.from_company&&n.post_participant_data.all_participant_ids.some((function(n){return n===e.props.user.id})))n.clap_user_ids=[],e.props.incomingPost(n),n.channel_messages&&n.channel_messages.forEach((function(t){t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!0,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.new_post=!1,t.system_message.topic=t.topic,t.system_message.shared_with_client=n.shared_with_client,e.props.incomingPostNotificationMessage(t.system_message)}));else if(n.post_participant_data.from_company){var r=Object.values(e.props.channels).filter((function(e){return"COMPANY"===e.type}));if(r.length){var i=r[0].id,o=Object(un.a)(n.channel_messages);o=o.filter((function(e){return e.channel.id!==i})),e.props.deletePostNotification(o)}}}else e.props.deletePostNotification(n.channel_messages),e.props.incomingDeletedPost(n);break;case"POST_DELETE":if(e.props.incomingDeletedPost(n),n.notification_ids)Array.from(n.notification_ids).forEach((function(e){var n="notification__"+e;mn.c.isActive(n)&&mn.c.dismiss(n)}));break;case"POST_COMMENT_UPDATE":e.props.incomingComment(n);break;case"POST_CLAP_TOGGLE":e.props.user.id!==n.author.id&&(e.props.incomingPostClap(n),e.props.user.id===n.post_user_id&&1===n.clap_count&&Object(mn.c)("".concat(n.author.name," ").concat(e.props.dictionary.likedYourPost),{position:mn.c.POSITION.BOTTOM_LEFT}));break;case"MARKED_DONE":e.props.incomingPostMarkDone(n);break;case"COMMENT_IMPORTANT":e.props.incomingImportantComment(n);break;default:return null}})).listen(".post-comment-notification",(function(n){switch(n.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(e.props.incomingComment(Object(Qe.a)(Object(Qe.a)({},n),{},{clap_user_ids:[]})),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),n.workspaces&&n.workspaces.length>=1&&n.author.id!==e.props.user.id){e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"});var t=n.workspaces.map((function(e){return e.topic_id}));Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.some((function(n){return n===e.id}))}))&&e.props.getFavoriteWorkspaceCounters()}if(n.author.id!==e.props.user.id){if(e.props.posts[n.post_id]||e.props.fetchPost({post_id:n.post_id},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{clap_user_ids:[],is_unread:1});e.props.incomingPost(a)}})),Fn.isSafari&&e.props.notificationsOn){var a="";(a=n.workspaces.length?n.workspaces[0].workspace_id?"/workspace/posts/".concat(n.workspaces[0].workspace_id,"/").concat(Object(te.h)(n.workspaces[0].workspace_name),"/").concat(n.workspaces[0].topic_id,"/").concat(Object(te.h)(n.workspaces[0].topic_name),"/post/").concat(n.post_id,"/").concat(Object(te.h)(n.post_title)):"/workspace/posts/".concat(n.workspaces[0].topic_id,"/").concat(Object(te.h)(n.workspaces[0].topic_name),"/post/").concat(n.post_id,"/").concat(Object(te.h)(n.post_title)):"/posts/".concat(n.post_id,"/").concat(Object(te.h)(n.post_title)))===e.props.location.pathname&&!e.props.isIdle&&e.props.isBrowserActive&&document.hasFocus()||Gn("".concat(n.author.first_name," replied in a post"),Object(te.j)(n.body),n.author.profile_image_link,(function(){return e.props.history.push(a,{focusOnMessage:n.id})}))}n.workspaces.forEach((function(n){e.props.getUnreadWorkspacePostEntries({topic_id:n.topic_id},(function(t,a){t||e.props.updateWorkspacePostCount({topic_id:n.topic_id,count:a.data.result})}))}))}break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(n);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(Object(Qe.a)(Object(Qe.a)({},n),{},{clap_user_ids:[]}));break;case"POST_COMMENT_CLAP_TOGGLE":e.props.user.id!==n.author.id&&(e.props.incomingCommentClap(n),e.props.user.id===n.comment_user_id&&1===n.clap_count&&Object(mn.c)("".concat(n.author.name," ").concat(e.props.dictionary.likedYourComment),{position:mn.c.POSITION.BOTTOM_LEFT}));break;default:return null}})).listen(".chat-notification",(function(n){var t=e.props,a=t.user,r=t.selectedChannel,i=t.isIdle,o=t.isBrowserActive;switch(n.SOCKET_TYPE){case"CHAT_CREATE":n.is_huddle&&e.publishChannelId.current!==n.channel_id&&(e.props.toaster.success("".concat(e.props.dictionary.huddlePublished," - ").concat(n.channel_name),{toastId:n.channel_id}),e.props.clearUnpublishedAnswer(n),setTimeout((function(){e.publishChannelId.current=null}),5e3));var c=Object(Qe.a)({},n);if((null===c.user||c.user.id!==a.id&&!c.is_muted)&&e.props.soundPlay(),null!==c.user&&e.props.user.id===c.user.id||(delete c.reference_id,c.g_date=e.props.localizeDate(n.created_at.timestamp,"YYYY-MM-DD"),!i&&o&&document.hasFocus()&&e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===c.channel_id&&(c.is_read=!0)),e.props.incomingChatMessage(Object(Qe.a)(Object(Qe.a)({},c),{},{translated_body:null})),delete n.SOCKET_TYPE,delete n.socket,n.user.id!==a.id&&!n.is_muted&&e.props.notificationsOn&&Fn.isSafari&&(!e.props.location.pathname.includes("/chat/")||r.code!==n.channel_code||i||!o||!document.hasFocus())){Gn("".concat(n.reference_title),n.reference_title.includes("in a direct message")?"".concat(Object(te.j)(n.body)):"".concat(n.user.first_name,": ").concat(Object(te.j)(n.body)),n.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(n.channel_code,"/").concat(n.code))}))}if(void 0===n.workspace_id||null===n.workspace_id||0===n.workspace_id){var s={};"CHAT_REMINDER_MESSAGE"===n.entity_type?s={count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:c.user.id!==a.id&&(s={count:1,entity_type:"CHAT_MESSAGE"}),e.props.setGeneralChat(s)}else c.user.id!==a.id&&(e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"}),Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.workspace_id===e.id}))&&e.props.getFavoriteWorkspaceCounters());"undefined"===typeof e.props.channels[n.channel_id]&&e.props.getChannel({code:n.channel_code});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(Object(Qe.a)(Object(Qe.a)({},n),{},{translated_body:null}));break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(n);break;case"TOGGLE_IMPORTANT":e.props.incomingImportantChat(n);break;case"STAR_CHAT":e.props.incomingChatStar(n);break;default:return null}})).listen(".post-list-notification",(function(n){e.props.getPostList({},(function(t,a){if(!t){var r={link_id:n.link_id,post_id:n.post_id};switch(n.SOCKET_TYPE){case"POST_LIST_CONNECTED":e.props.incomingPostListConnect(r);break;case"POST_LIST_DISCONNECTED":e.props.incomingPostListDisconnect(r);break;default:return null}}}))})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.Broadcast")).listen(".create-team",(function(n){e.props.incomingTeam(n)})).listen(".update-team",(function(n){e.props.incomingUpdatedTeam(n)})).listen(".remove-team",(function(n){Array.from(Object.values(e.props.workspaces)).map((function(t){if(t.members.some((function(t){return t.members&&t.id===n.id&&t.members.some((function(n){return n.id===e.props.user.id}))}))){if(!t.members.some((function(n){return("internal"===n.type||"external"===n.type)&&e.props.user.id===n.id})))if(!t.members.filter((function(e){return e.members&&e.id!==n.id})).map((function(e){return e.member_ids})).flat().some((function(n){return n===e.props.user.id})))if(t.is_lock){var a=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];a.some((function(n){return e.props.selectedChannel&&n===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:a})}else{var r=t.members.filter((function(e){return e.members&&e.id===n.id})).map((function(e){return e.member_ids})).flat(),i=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:i,remove_member_ids:r})}return t}return t})),e.props.incomingDeletedTeam(n)})).listen(".add-team-member",(function(n){e.props.incomingTeamMember(n)})).listen(".remove-team-member",(function(n){Array.from(Object.values(e.props.workspaces)).map((function(t){if(t.members.some((function(t){return t.members&&t.id===n.id&&t.members.some((function(n){return n.id===e.props.user.id}))}))){if(t.members.some((function(n){return("internal"===n.type||"external"===n.type)&&e.props.user.id===n.id}))||1!==t.is_lock){if(!t.members.some((function(n){return("internal"===n.type||"external"===n.type)&&e.props.user.id===n.id}))){var a=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:a,remove_member_ids:n.remove_member_ids})}}else{var r=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];r.some((function(n){return e.props.selectedChannel&&n===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:r})}return t}return t})),e.props.incomingRemovedTeamMember(n)})).listen(".create-drive-link",(function(n){e.props.incomingDriveLink(n)})).listen(".remove-drive-link",(function(n){e.props.incomingDeletedDriveLink(n)})).listen(".update-drive-link",(function(n){e.props.incomingUpdatedDriveLink(n)})).listen(".upload-company-logo",(function(n){e.props.incomingUpdatedCompanyLogo(n)})).listen(".reset-company-logo",(function(n){e.props.incomingUpdatedCompanyLogo({files:{view_link:""}})})).listen(".team-checkout-complete",(function(n){e.props.incomingUpdatedSubscription(n)})).listen(".team-subscription-cancelled",(function(n){console.log(n,"cancelled subs"),e.props.incomingUpdatedSubscription(n)})).listen(".team-subscription-will-end",(function(e){console.log(e,"trial will end")})).listen(".reset-password-notification",(function(n){e.props.incomingAcceptedInternal(n)})).listen(".remove-file-notification",(function(n){switch(n.SOCKET_TYPE){case"REMOVE_FILE":e.props.incomingRemoveFileAutomatically(n);break;case"REMOVE_FILE_ON_DOWNLOAD":e.props.incomingRemoveFileAfterDownload(n.files);break;default:return null}})).listen(".workspace-team-channel",(function(n){e.props.incomingTeamChannel(n)})).listen(".announcement-notification",(function(n){switch(n.SOCKET_TYPE){case"ANNOUNCEMENT_UPDATED":e.props.incomingUpdatedAnnouncement(n);break;case"ANNOUNCEMENT_CREATED":e.props.incomingCreatedAnnouncement(n);break;case"ANNOUNCEMENT_DELETED":e.props.incomingDeletedAnnouncement(n);break;default:return null}})).listen(".users-online-broadcast",(function(n){e.props.incomingOnlineUsers(n)})).listen(".user-updated",(function(n){switch(n.SOCKET_TYPE){case"ARCHIVED_ACCOUNT":var t={channel_ids:[].concat(Object(un.a)(n.connected_data.user_removed_channel_ids),Object(un.a)(n.connected_data.archived_channel_ids)),topic_ids:[].concat(Object(un.a)(n.connected_data.user_removed_topic_ids),Object(un.a)(n.connected_data.archived_topic_ids)),user:n.user};e.props.incomingArchivedUser(t),n.user.id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Hn.sessionService.deleteSession().then((function(){return Hn.sessionService.deleteUser()})));break;case"RESTORED_ACCOUNT":e.props.incomingUnarchivedUser(n);break;case"DEACTIVATE_ACCOUNT":e.props.incomingDeactivatedUser(n),n.user_id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Hn.sessionService.deleteSession().then((function(){return Hn.sessionService.deleteUser()})));break;case"ACTIVATE_ACCOUNT":e.props.incomingActivatedUser(n);break;default:return null}})).listen(".updated-version",(function(n){var t=n.version,a=n.requirement,r=parseFloat(t.substr(2)),i=parseFloat(Xn.a.version.substr(2));!Object(Jn.f)(window.location.hostname)&&"localhost"!==window.location.hostname&&r>i&&(e.props.setNewDriffData({requirement:a,showNewDriffBar:!0}),localStorage.setItem("site_ver",t))})).listen(".user-role-notification",(function(n){e.props.incomingUserRole(n),n.user_id===e.props.user.id&&e.props.getUser({id:e.props.user.id},(function(e,n){e||Hn.sessionService.saveUser(Object(Qe.a)({},n.data))}))})).listen(".company-announcement",(function(n){e.props.updateCompanyPostAnnouncement(n)})).listen(".company-request-form-notification",(function(n){switch(n.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(n);break;default:return null}})).listen(".company-notification",(function(n){switch(n.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(n);break;default:return null}})).listen(".company-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(n);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(n);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(n);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(n);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(n);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(n);break;case"FILE_DELETE":e.props.incomingCompanyRemovedFile(n);break;default:return null}})).listen(".company-folder-notification",(function(n){switch(n.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(n);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(n);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(n);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(n);break;default:return null}})).listen(".delete-workspace",(function(n){e.props.incomingDeletedWorkspaceFolder(n)})).listen(".workspace-role-notification",(function(n){e.props.incomingWorkspaceRole(n)})).listen(".google-attachment-notification",(function(n){switch(n.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===n.attachment_type?e.props.incomingGoogleFile(n):"GOOGLE_DRIVE_FOLDER"===n.attachment_type&&e.props.incomingGoogleFolder(n);break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(n);break;default:return null}})).listen(".external-user-notification",(function(n){e.props.incomingExternalUser(n)})).listen(".user-notification",(function(n){switch(n.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(n),n.id!==e.props.user.id&&n.user_id!==e.props.user.id||e.props.getUser({id:e.props.user.id},(function(e,n){e||Hn.sessionService.saveUser(Object(Qe.a)({},n.data))}));break;default:return null}})).listen(".post-notification",(function(n){switch(n.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(n);break;default:return null}})).listen(".workspace-timeline-notification",(function(n){e.props.incomingTimeline(n)})).listen(".upload-bulk-workspace-files",(function(n){e.props.incomingFiles(n),n.channel_messages&&n.channel_messages.forEach((function(n){n.system_message.channel_id=n.channel.id,n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!1,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.topic=n.topic,n.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(n.system_message)}))})).listen(".workspace-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(n);break;case"FILE_UPDATE":e.props.incomingFile(n);break;case"FILE_MOVE":e.props.incomingMovedFile(n);break;case"FILE_TRASH":e.props.incomingDeletedFile(n);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(n);break;case"FILE_DELETE":e.props.incomingRemovedFile(n);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(n);break;default:return null}})).listen(".new-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}}))})):e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})),n.channel.code?e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):n.team_channel.code&&e.props.getChannel({code:n.team_channel.code},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(Qe.a)(Object(Qe.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".update-workspace",(function(n){if("WORKSPACE"===n.type&&e.props.workspaces[n.id]&&!1===e.props.workspaces[n.id].is_shared&&n.is_shared&&e.props.transferChannelMessages({channel:n.channel,team_channel:n.team_channel,topic_id:n.id}),e.props.incomingUpdatedWorkspaceFolder(Object(Qe.a)(Object(Qe.a)({},n),{},{is_shared:n.is_shared,channel:n.channel?Object(Qe.a)({},n.channel):{id:0,code:null,icon_link:null}})),"WORKSPACE"===n.type){if(e.props.getAllWorkspaceFolders(),n.new_member_ids.length>0)n.new_member_ids.some((function(n){return n===e.props.user.id}))&&(0===n.workspace_id||e.props.folders.hasOwnProperty(n.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}):e.props.getWorkspaceFolder({folder_id:n.workspace_id},(function(t,a){t||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}))})));n.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&"external"===e.props.user.type&&1!==n.private&&n.remove_member_ids.some((function(n){return n===e.props.user.id}))&&e.props.history.push("/workspace/search")}if(e.props.activeTopic&&e.props.activeTopic.id===n.id&&"WORKSPACE"===n.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var t=e.props.location.pathname;t=t.split("/")[2],0===n.workspace_id?0!==n.original_workspace_id&&e.props.history.push("/workspace/".concat(t,"/").concat(n.id,"/").concat(Object(te.h)(n.name))):n.original_workspace_id!==n.workspace_id&&e.props.history.push("/workspace/".concat(t,"/").concat(n.workspace_id,"/").concat(Object(te.h)(n.current_workspace_folder_name),"/").concat(n.id,"/").concat(Object(te.h)(n.name)))}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.User.").concat(this.props.user.id)).listen(".create-meeting-notification",(function(n){console.log(n,"zoom meeting notif"),e.props.user.id!==n.host.id&&(e.props.addToModals(Object(Qe.a)(Object(Qe.a)({},n),{},{type:"zoom_invite"})),e.props.incomingZoomData(Object(Qe.a)({},n.zoom_data.data)))})).listen(".create-drive-link",(function(n){e.props.incomingDriveLink(n)})).listen(".remove-drive-link",(function(n){e.props.incomingDeletedDriveLink(n)})).listen(".update-drive-link",(function(n){e.props.incomingUpdatedDriveLink(n)})).listen(".favourite-workspace-notification",(function(n){e.props.incomingFavouriteWorkspace(n)})).listen(".post-read-require",(function(n){e.props.incomingMarkAsRead(n)})).listen(".new-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}}))})):e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})),n.channel.code?e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):n.team_channel.code&&e.props.getChannel({code:n.team_channel.code},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(Qe.a)(Object(Qe.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".new-lock-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}}))})):e.props.incomingWorkspace(Object(Qe.a)(Object(Qe.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})),n.channel.code?e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):n.team_channel.code&&e.props.getChannel({code:n.team_channel.code},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(Qe.a)(Object(Qe.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".update-lock-workspace",(function(n){var t=[];if("WORKSPACE"===n.type&&e.props.workspaces[n.id]&&!1===e.props.workspaces[n.id].is_shared&&n.is_shared&&e.props.transferChannelMessages({channel:n.channel,team_channel:n.team_channel,topic_id:n.id}),"WORKSPACE"===n.type&&(t=n.members.map((function(e){return e.member_ids?e.members:e})).flat()),e.props.incomingUpdatedWorkspaceFolder(Object(Qe.a)(Object(Qe.a)({},n),{},{is_shared:n.is_shared,channel:n.channel?Object(Qe.a)({},n.channel):{id:0,code:null,icon_link:null}})),"WORKSPACE"===n.type){if(e.props.getAllWorkspaceFolders(),n.new_member_ids.length>0)n.new_member_ids.some((function(n){return n===e.props.user.id}))&&(0===n.workspace_id||e.props.folders.hasOwnProperty(n.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}):e.props.getWorkspaceFolder({folder_id:n.workspace_id},(function(t,a){t||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}))})));n.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&n.remove_member_ids.some((function(n){return n===e.props.user.id}))&&!t.some((function(n){return n.id===e.props.user.id}))&&e.props.history.push("/workspace/search")}if(e.props.activeTopic&&e.props.activeTopic.id===n.id&&"WORKSPACE"===n.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var a=e.props.location.pathname;a=a.split("/")[2],0===n.workspace_id?0!==n.original_workspace_id&&e.props.history.push("/workspace/".concat(a,"/").concat(n.id,"/").concat(Object(te.h)(n.name))):n.original_workspace_id!==n.workspace_id&&(n.current_workspace_folder_name?e.props.history.push("/workspace/".concat(a,"/").concat(n.workspace_id,"/").concat(Object(te.h)(n.current_workspace_folder_name),"/").concat(n.id,"/").concat(Object(te.h)(n.name))):e.props.history.push("/workspace/".concat(a,"/").concat(n.id,"/").concat(Object(te.h)(n.name))))}})).listen(".users-online",(function(n){e.props.currentOnlineUsers(n.current_users_online.map((function(e){return Object(Qe.a)(Object(Qe.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(n){var t={post_id:n.post_id,viewer:n.user};e.props.incomingPostViewer(t)})).listen(".updated-post-visitors",(function(e){})).listen(".move-private-topic-workspace",(function(n){e.props.incomingMovedTopic(n)})).listen(".update-channel-name",(function(n){var t=Object(Qe.a)(Object(Qe.a)({},n),{},{message:Object(Qe.a)(Object(Qe.a)({},n.message),{},{g_date:e.props.localizeDate(n.message.created_at.timestamp,"YYYY-MM-DD"),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(t)})).listen(".member-update-timestamp",(function(n){e.props.setMemberTimestamp(n)})).listen(".new-added-member-chat",(function(n){if(n.id){var t=JSON.parse(n.body.replace("CHANNEL_UPDATE::","")),a=Object(Qe.a)(Object(Qe.a)({},n),{},{is_deleted:!1,reactions:[],last_reply:null,body:n.body,created_at:n.created_at,updated_at:n.created_at,files:[],id:n.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:n.channel_id,g_date:e.props.localizeDate(n.created_at.timestamp,"YYYY-MM-DD"),code:n.code}),r={users:Object.values(e.props.users).filter((function(e){return t.added_members.some((function(n){return n===e.id}))})).map((function(e){return Object(Qe.a)(Object(Qe.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:n.channel_id,data:n,message:a};e.props.channels.hasOwnProperty(n.channel_id)||t.author.id===e.props.user.id?e.props.joinWorkspaceReducer(r):(e.props.getChannel({code:n.channel_code},(function(n,t){if(!n){var a=Object(Qe.a)(Object(Qe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===t.data.is_archived,isFetching:!1});e.props.addToChannels(a)}})),n.workspace_data&&(n.workspace_data.workspace&&!e.props.folders.hasOwnProperty(n.workspace_data.workspace.id)?e.props.getWorkspaceFolder({folder_id:n.workspace_data.workspace.id},(function(t,a){t||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.workspace_data.topic.id}):e.props.getWorkspace({topic_id:n.workspace_data.topic.id}))})):"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.workspace_data.topic.id}):e.props.getWorkspace({topic_id:n.workspace_data.topic.id})))}})).listen(".archived-chat-channel",(function(n){if(n.channel_data.topic_detail)if(n.channel_data.timeline&&e.props.incomingTimeline({timeline_data:n.channel_data.timeline,workspace_data:{topic_id:n.channel_data.topic_detail.id}}),"UNARCHIVED"===n.channel_data.status)e.props.incomingUnArchivedWorkspaceChannel(n.channel_data);else{if(e.props.activeTopic&&e.props.activeTopic.id===n.channel_data.topic_detail.id){var t=null;if(null!==n.channel_data.topic_detail.workspace_id||0!==n.channel_data.topic_detail.workspace_id)if(e.props.folders.hasOwnProperty(n.channel_data.topic_detail.workspace_id)&&e.props.folders[n.channel_data.topic_detail.workspace_id].workspace_ids.length>1){var a=Object.values(e.props.workspaces).filter((function(t){return e.props.folders[n.channel_data.topic_detail.workspace_id].workspace_ids.some((function(e){return e===t.id}))})).sort((function(e,n){return e.name.localeCompare(n.name)}));t=a[0].id===e.props.activeTopic.id?a[1]:a[0]}else{var r=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,n){return e.name.localeCompare(n.name)}));r.length&&(t=r[0])}else{var i=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,n){return e.name.localeCompare(n.name)}));i.length&&(t=i[0])}t&&(e.props.workspaceActions.selectWorkspace(t),e.props.workspaceActions.redirectTo(t))}e.props.incomingArchivedWorkspaceChannel(n.channel_data)}else e.props.incomingArchivedChannel(n.channel_data)})).listen(".new-chat-channel",(function(n){n.channel_data.creator_by.id!==e.props.user.id&&e.props.getChannel({code:n.channel_data.code},(function(t,a){if(!t){var r=Object(Qe.a)(Object(Qe.a)({},a.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1,creator:n.channel_data.creator_by});e.props.addToChannels(r)}}))})).listen(".chat-message-react",(function(n){e.props.incomingChatMessageReaction(Object(Qe.a)(Object(Qe.a)({},n),{},{user_name:n.name}))})).listen(".updated-notification-counter",(function(n){"CHAT"===n.entity_group_type&&(Object.values(e.props.workspaces).find((function(e){return e.is_favourite&&(e.channel.id===parseInt(n.entity_id)||e.team_channel&&e.team_channel.id===parseInt(n.entity_id))}))&&e.props.getFavoriteWorkspaceCounters());e.props.setUnreadNotificationCounterEntries(n)}))}},{key:"componentDidUpdate",value:function(e,n){var t=this;this.props.useDriff.updateFaviconState(0!==Object.keys(this.props.unreadCounter).filter((function(e){return"chat_reminder_message"!==e})).reduce((function(e,n){return e+=t.props.unreadCounter[n]}),0)||0!==this.props.todos.count.overdue)}},{key:"render",value:function(){return null}}]),t}(J.Component);var nt=Object(X.b)((function(e){var n=e.session.user,t=e.settings.userSettings,a=e.chat,r=a.channels,i=a.selectedChannel,o=a.isLastChatVisible,c=a.lastReceivedMessage,s=e.workspaces,l=s.workspaces,d=s.workspacePosts,m=s.folders,p=s.activeTopic,u=s.workspacesLoaded,f=s.postComments,h=e.global,b=h.unreadCounter,E=h.todos,g=h.recipients,v=h.isIdle,O=h.isBrowserActive,_=e.users,w=_.mentions;return{user:n,users:_.users,settings:t,channels:r,selectedChannel:i,workspacePosts:d,folders:m,mentions:w,activeTopic:p,workspacesLoaded:u,workspaces:l,isLastChatVisible:o,lastReceivedMessage:c,unreadCounter:b,todos:E,recipients:g,postComments:f,isIdle:v,isBrowserActive:O,posts:e.posts.companyPosts.posts}}),(function(e){return{addToChannels:Object(Un.bindActionCreators)(We.i,e),addUserToReducers:Object(Un.bindActionCreators)(Ce.b,e),getChannel:Object(Un.bindActionCreators)(We.v,e),setBrowserTabStatus:Object(Un.bindActionCreators)(Ce.U,e),getOnlineUsers:Object(Un.bindActionCreators)(Kn.m,e),getConnectedSlugs:Object(Un.bindActionCreators)(Ce.o,e),getUser:Object(Un.bindActionCreators)(Kn.p,e),setMemberTimestamp:Object(Un.bindActionCreators)(We.Rb,e),setAllMessagesAsRead:Object(Un.bindActionCreators)(We.Hb,e),incomingChatMessage:Object(Un.bindActionCreators)(We.P,e),incomingChatMessageFromOthers:Object(Un.bindActionCreators)(We.Q,e),addFilesToChannelAction:Object(Un.bindActionCreators)(Vn.c,e),deleteFilesFromChannelAction:Object(Un.bindActionCreators)(Vn.l,e),generateUnfurl:Object(Un.bindActionCreators)(Ce.l,e),generateUnfurlReducer:Object(Un.bindActionCreators)(Ce.m,e),setChannel:Object(Un.bindActionCreators)(We.Ib,e),incomingArchivedChannel:Object(Un.bindActionCreators)(We.O,e),incomingChatMessageReaction:Object(Un.bindActionCreators)(We.R,e),incomingUpdatedChatMessage:Object(Un.bindActionCreators)(We.bb,e),incomingDeletedChatMessage:Object(Un.bindActionCreators)(We.T,e),incomingUpdatedChannelDetail:Object(Un.bindActionCreators)(We.ab,e),getChannelMembers:Object(Un.bindActionCreators)(We.z,e),updateChannelMembersTitle:Object(Un.bindActionCreators)(We.bc,e),incomingWorkspaceFolder:Object(Un.bindActionCreators)(qn.L,e),incomingWorkspace:Object(Un.bindActionCreators)(qn.K,e),incomingUpdatedWorkspaceFolder:Object(Un.bindActionCreators)(qn.J,e),incomingMovedTopic:Object(Un.bindActionCreators)(qn.F,e),setGeneralChat:Object(Un.bindActionCreators)(Ce.V,e),setUnreadNotificationCounterEntries:Object(Un.bindActionCreators)(Ce.ab,e),incomingPost:Object(Un.bindActionCreators)(Yn.W,e),incomingPostClap:Object(Un.bindActionCreators)(Yn.Y,e),incomingDeletedPost:Object(Un.bindActionCreators)(Yn.S,e),incomingComment:Object(Un.bindActionCreators)(Yn.O,e),incomingCommentClap:Object(Un.bindActionCreators)(Yn.Q,e),incomingFolder:Object(Un.bindActionCreators)(Vn.sb,e),incomingDeletedFolder:Object(Un.bindActionCreators)(Vn.jb,e),incomingFile:Object(Un.bindActionCreators)(Vn.ob,e),incomingFiles:Object(Un.bindActionCreators)(Vn.rb,e),incomingDeletedFile:Object(Un.bindActionCreators)(Vn.hb,e),incomingMovedFile:Object(Un.bindActionCreators)(Vn.wb,e),incomingRestoreFile:Object(Un.bindActionCreators)(Vn.Db,e),incomingRestoreFolder:Object(Un.bindActionCreators)(Vn.Eb,e),incomingEmptyTrash:Object(Un.bindActionCreators)(Vn.nb,e),incomingCompanyFolder:Object(Un.bindActionCreators)(Vn.Z,e),incomingCompanyUpdatedFolder:Object(Un.bindActionCreators)(Vn.fb,e),incomingCompanyDeletedFolder:Object(Un.bindActionCreators)(Vn.V,e),incomingCompanyFile:Object(Un.bindActionCreators)(Vn.X,e),incomingCompanyFiles:Object(Un.bindActionCreators)(Vn.Y,e),incomingCompanyDeletedFile:Object(Un.bindActionCreators)(Vn.T,e),incomingCompanyMovedFile:Object(Un.bindActionCreators)(Vn.bb,e),incomingCompanyEmptyTrash:Object(Un.bindActionCreators)(Vn.W,e),incomingCompanyRemovedFile:Object(Un.bindActionCreators)(Vn.zb,e),incomingCompanyMoveFile:Object(Un.bindActionCreators)(Vn.ab,e),incomingCompanyRestoreFile:Object(Un.bindActionCreators)(Vn.cb,e),incomingCompanyRestoreFolder:Object(Un.bindActionCreators)(Vn.db,e),incomingCompanyRemovedFolder:Object(Un.bindActionCreators)(Vn.Ab,e),incomingCompanyDeletedFiles:Object(Un.bindActionCreators)(Vn.U,e),incomingCompanyUpdatedFile:Object(Un.bindActionCreators)(Vn.eb,e),incomingPostViewer:Object(Un.bindActionCreators)(Yn.eb,e),incomingUpdatedPost:Object(Un.bindActionCreators)(Yn.ib,e),incomingTimeline:Object(Un.bindActionCreators)(qn.H,e),incomingDeletedPostFile:Object(Un.bindActionCreators)(Vn.lb,e),incomingDeletedComment:Object(Un.bindActionCreators)(Yn.R,e),incomingUpdatedUser:Object(Un.bindActionCreators)(Kn.G,e),unreadChannelReducer:Object(Un.bindActionCreators)(We.ac,e),incomingRemovedFile:Object(Un.bindActionCreators)(Vn.Bb,e),incomingRemovedFolder:Object(Un.bindActionCreators)(Vn.Cb,e),getWorkspace:Object(Un.bindActionCreators)(qn.u,e),setSelectedChannel:Object(Un.bindActionCreators)(We.Tb,e),incomingArchivedWorkspaceChannel:Object(Un.bindActionCreators)(qn.C,e),incomingUnArchivedWorkspaceChannel:Object(Un.bindActionCreators)(qn.I,e),updateWorkspaceCounter:Object(Un.bindActionCreators)(qn.Y,e),fetchPost:Object(Un.bindActionCreators)(Yn.u,e),incomingDeletedFiles:Object(Un.bindActionCreators)(Vn.ib,e),incomingGoogleFile:Object(Un.bindActionCreators)(Vn.ub,e),incomingGoogleFolder:Object(Un.bindActionCreators)(Vn.vb,e),joinWorkspaceReducer:Object(Un.bindActionCreators)(qn.O,e),incomingDeletedGoogleFile:Object(Un.bindActionCreators)(Vn.kb,e),incomingWorkspaceRole:Object(Un.bindActionCreators)(qn.M,e),incomingDeletedWorkspaceFolder:Object(Un.bindActionCreators)(qn.D,e),incomingExternalUser:Object(Un.bindActionCreators)(Kn.y,e),getWorkspaceFolder:Object(Un.bindActionCreators)(qn.x,e),incomingUpdateCompanyName:Object(Un.bindActionCreators)(Zn.d,e),incomingInternalUser:Object(Un.bindActionCreators)(Kn.z,e),incomingToDo:Object(Un.bindActionCreators)(Ce.G,e),incomingUpdateToDo:Object(Un.bindActionCreators)(Ce.H,e),incomingDoneToDo:Object(Un.bindActionCreators)(Ce.D,e),incomingRemoveToDo:Object(Un.bindActionCreators)(Ce.F,e),incomingPostMarkDone:Object(Un.bindActionCreators)(Yn.bb,e),incomingFavouriteItem:Object(Un.bindActionCreators)(Ce.E,e),incomingReadUnreadReducer:Object(Un.bindActionCreators)(Yn.gb,e),updateCompanyPostAnnouncement:Object(Un.bindActionCreators)(Zn.i,e),incomingUserRole:Object(Un.bindActionCreators)(Kn.H,e),deletePostNotification:Object(Un.bindActionCreators)(We.u,e),incomingPostNotificationMessage:Object(Un.bindActionCreators)(We.Z,e),incomingMarkAsRead:Object(Un.bindActionCreators)(Yn.V,e),addToModals:Object(Un.bindActionCreators)(Ce.a,e),refetchMessages:Object(Un.bindActionCreators)(Ce.O,e),refetchOtherMessages:Object(Un.bindActionCreators)(Ce.P,e),getChannelDetail:Object(Un.bindActionCreators)(We.w,e),incomingReminderNotification:Object(Un.bindActionCreators)(Qn.f,e),getLatestReply:Object(Un.bindActionCreators)(Ce.r,e),incomingPostRecipients:Object(Un.bindActionCreators)(Yn.cb,e),refetchPosts:Object(Un.bindActionCreators)(Yn.Ib,e),refetchPostComments:Object(Un.bindActionCreators)(Yn.Hb,e),getUnreadNotificationCounterEntries:Object(Un.bindActionCreators)(Ce.A,e),incomingImportantComment:Object(Un.bindActionCreators)(Yn.U,e),incomingImportantChat:Object(Un.bindActionCreators)(We.Y,e),incomingReadSelectedPosts:Object(Un.bindActionCreators)(Yn.fb,e),incomingArchivedSelectedPosts:Object(Un.bindActionCreators)(Yn.M,e),getUnreadWorkspacePostEntries:Object(Un.bindActionCreators)(qn.t,e),updateWorkspacePostCount:Object(Un.bindActionCreators)(qn.Z,e),incomingPostApproval:Object(Un.bindActionCreators)(Yn.X,e),incomingChatStar:Object(Un.bindActionCreators)(We.S,e),incomingCommentApproval:Object(Un.bindActionCreators)(Yn.P,e),incomingArchivedUser:Object(Un.bindActionCreators)(Kn.u,e),incomingUnarchivedUser:Object(Un.bindActionCreators)(Kn.E,e),incomingDeactivatedUser:Object(Un.bindActionCreators)(Kn.v,e),incomingActivatedUser:Object(Un.bindActionCreators)(Kn.t,e),incomingHuddleBot:Object(Un.bindActionCreators)(We.W,e),incomingUpdatedHuddleBot:Object(Un.bindActionCreators)(We.cb,e),incomingDeletedHuddleBot:Object(Un.bindActionCreators)(We.U,e),incomingHuddleAnswers:Object(Un.bindActionCreators)(We.V,e),clearUnpublishedAnswer:Object(Un.bindActionCreators)(We.q,e),incomingClosePost:Object(Un.bindActionCreators)(Yn.N,e),incomingHuddleSkip:Object(Un.bindActionCreators)(We.X,e),incomingOnlineUsers:Object(Un.bindActionCreators)(Kn.A,e),incomingUpdatedAnnouncement:Object(Un.bindActionCreators)(Ce.I,e),incomingCreatedAnnouncement:Object(Un.bindActionCreators)(Ce.B,e),incomingDeletedAnnouncement:Object(Un.bindActionCreators)(Ce.C,e),getPostList:Object(Un.bindActionCreators)(Yn.D,e),incomingPostListConnect:Object(Un.bindActionCreators)(Yn.Z,e),incomingPostListDisconnect:Object(Un.bindActionCreators)(Yn.ab,e),getUnarchivePost:Object(Un.bindActionCreators)(Yn.I,e),incomingPostRequired:Object(Un.bindActionCreators)(Yn.db,e),incomingTeamChannel:Object(Un.bindActionCreators)(qn.G,e),incomingRemoveFileAfterDownload:Object(Un.bindActionCreators)(Vn.xb,e),incomingRemoveFileAutomatically:Object(Un.bindActionCreators)(Vn.yb,e),incomingFavouriteWorkspace:Object(Un.bindActionCreators)(qn.E,e),getFavoriteWorkspaceCounters:Object(Un.bindActionCreators)(qn.p,e),getToDoDetail:Object(Un.bindActionCreators)(Ce.x,e),setActiveTopic:Object(Un.bindActionCreators)(qn.S,e),incomingDeletedUser:Object(Un.bindActionCreators)(Kn.x,e),incomingFollowPost:Object(Un.bindActionCreators)(Yn.T,e),incomingUnfollowPost:Object(Un.bindActionCreators)(Yn.hb,e),incomingAcceptedInternal:Object(Un.bindActionCreators)(Kn.s,e),incomingZoomData:Object(Un.bindActionCreators)(Ce.J,e),transferChannelMessages:Object(Un.bindActionCreators)(We.Zb,e),getNotifications:Object(Un.bindActionCreators)(Qn.d,e),incomingSnoozedNotification:Object(Un.bindActionCreators)(Qn.h,e),incomingSnoozedAllNotification:Object(Un.bindActionCreators)(Qn.g,e),removeNotificationReducer:Object(Un.bindActionCreators)(Qn.n,e),setNewDriffData:Object(Un.bindActionCreators)(Ce.Y,e),incomingReadNotifications:Object(Un.bindActionCreators)(Qn.e,e),incomingUpdatedSubscription:Object(Un.bindActionCreators)($n.l,e),incomingUpdatedCompanyLogo:Object(Un.bindActionCreators)($n.k,e),getWorkspaceAndSetToFavorites:Object(Un.bindActionCreators)(qn.v,e),incomingDriveLink:Object(Un.bindActionCreators)(Vn.mb,e),incomingDeletedDriveLink:Object(Un.bindActionCreators)(Vn.gb,e),incomingUpdatedDriveLink:Object(Un.bindActionCreators)(Vn.Fb,e),incomingTeam:Object(Un.bindActionCreators)(Kn.C,e),incomingUpdatedTeam:Object(Un.bindActionCreators)(Kn.F,e),incomingDeletedTeam:Object(Un.bindActionCreators)(Kn.w,e),incomingTeamMember:Object(Un.bindActionCreators)(Kn.D,e),incomingRemovedTeamMember:Object(Un.bindActionCreators)(Kn.B,e),getAllWorkspaceFolders:Object(Un.bindActionCreators)(qn.m,e),removeWorkspaceChannel:Object(Un.bindActionCreators)(We.Bb,e),removeWorkspaceChannelMembers:Object(Un.bindActionCreators)(We.Cb,e)}}))(Object($.k)(et)),tt=t(37),at=t(54),rt=t.n(at),it=t(76),ot="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function ct(){return(ct=Object(it.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(){return navigator.serviceWorker.register("/sw.js")}function lt(){return(lt=Object(it.a)(rt.a.mark((function e(){var n;return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return n=e.sent,e.next=5,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ot});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt,mt,pt="serviceWorker"in navigator&&"PushManager"in window;function ut(){var e=Object(J.useState)("undefined"!==typeof Notification&&Notification.permission),n=Object(Te.a)(e,2),t=n[0],a=n[1],r=Object(J.useState)(null),i=Object(Te.a)(r,2),o=i[0],c=i[1],s=Object(J.useState)(null),l=Object(Te.a)(s,2),d=l[0],m=l[1],p=Object(J.useState)(null),u=Object(Te.a)(p,2),f=u[0],h=u[1],b=Object(J.useState)(!0),E=Object(Te.a)(b,2),g=E[0],v=E[1],O=Object(J.useState)(null),_=Object(Te.a)(O,2),w=_[0],k=_[1],y=Object(J.useState)(null),N=Object(Te.a)(y,2),x=N[0],T=N[1],j=Object(J.useState)(localStorage.getItem("remindNotification")),A=Object(Te.a)(j,2),C=A[0],S=A[1],R=Object(J.useState)(!1),I=Object(Te.a)(R,2),P=I[0],L=I[1],D=Object(X.c)(),M=Object(X.d)((function(e){return e.notifications.hasSubscribed})),F=function(){v(!0),h(!1),k(!0),function(){return lt.apply(this,arguments)}().then((function(e){c(e),D(Object(Ce.db)(e,(function(e,n){if(e)return k(!1),v(!1),void h(e);k(!1),m(n.data.id)}))),v(!1)})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),h(e),v(!1)}))};Object(J.useEffect)((function(){pt&&(v(!0),h(!1),st().then((function(){v(!1)}))),L(!0)}),[]),Object(J.useEffect)((function(){v(!0),h(!1),T(!0),function(){var e=Object(it.a)(rt.a.mark((function e(){var n;return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:n=e.sent,D(n?Object(Ce.t)({endpoint:"".concat(n.endpoint)},(function(e,t){T(!1),v(!1),e&&h(e),t.data.data?(c(n),D(Object(Qn.o)(!0))):D(Object(Qn.o)(!1))})):Object(Qn.o)(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(J.useEffect)((function(){null===o&&null===w&&!1===x&&F()}),[o,w,x,D]),Object(J.useEffect)((function(){pt&&null===M&&st().then((function(){"granted"===t&&(D(Object(Qn.o)(!0)),F())}))}),[M,t]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),S(e)},onClickAskUserPermission:function(){v(!0),h(!1),function(){return ct.apply(this,arguments)}().then((function(e){a(e),"granted"!==e?(h({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),c(!1)):F(),v(!1)}))},onClickSubscribeToPushNotification:F,onClickSendSubscriptionToPushServer:function(){v(!0),h(!1),D(Object(Ce.db)(o,(function(e,n){if(e)return v(!1),void h(e);m(n.data.id)})))},pushServerSubscriptionId:d,onClickSendNotification:function(){v(!0),h(!1),D(Object(Ce.t)({sub_id:d},(function(e,n){v(!1),e&&h(e)})))},userConsent:t,pushNotificationSupported:pt,userSubscription:o,error:f,loading:g,showNotificationBar:"default"===t&&null===o&&(null===C||C<Math.floor(Date.now()/1e3)),mounted:P}}var ft,ht,bt=ee.a.div(dt||(dt=Object(Z.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  .feather {\n      cursor: pointer;\n  }\n"]))),Et=ee.a.span(mt||(mt=Object(Z.a)(["\n    text-decoration: underline;\n    cursor: pointer;\n"]))),gt=function(e){var n=e.onClickAskUserPermission,t=e.onClickRemindLater;return Q.a.createElement(bt,null,Q.a.createElement("p",null,"Please enable notification to get real-time updates. ",Q.a.createElement(Et,{onClick:n},"Enable notification")),Q.a.createElement(je.s,{icon:"x",onClick:t}))},vt=t(753),Ot=ee.a.div(ft||(ft=Object(Z.a)([""]))),_t=ee.a.audio(ht||(ht=Object(Z.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"])));n.default=Q.a.memo((function(e){Object(ne.u)(e),Object(ne.lb)(),Object(ne.W)(),Object(ne.B)();var n=ut(),a=n.mounted,r=n.showNotificationBar,i=n.onClickAskUserPermission,o=n.onClickRemindLater,c=Object($.j)().path,s=Object(ne.ib)().displayWelcomeBanner,l=Object(ne.o)(),d=Object(ne.gb)()._t,m={huddlePublished:d("HUDDLE.HUDDLE_PUBLISHED","Huddle published"),likedYourPost:d("TOAST.LIKED_YOUR_POST","liked your post"),likedYourComment:d("TOAST.LIKED_YOUR_COMMENT","liked your comment")},p=Object(X.d)((function(e){return e.admin.subscriptions})),u=Object(X.d)((function(e){return e.session.user})),f=Object(ne.bb)(),h=Object(ne.ab)().localizeDate,b=Object(ne.ob)(),E={audio:Object(J.useRef)(null)},g=Object(X.c)(),v=Object(ne.T)(),O=v.driffSettings.isCompSettingsLoaded,_=v.chatSettings.sound_enabled,w=v.generalSettings,k=w.notifications_on,y=w.notification_sound,N=Object($.g)(),x="external"===u.type;Object(J.useEffect)((function(){if("/logout"===c){var e="".concat(Object(tt.c)(),"/logged-out");window.location.href="".concat(Object(tt.a)({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[c,g,N]),Object(J.useEffect)((function(){u.id&&O&&s()}),[u,O]),Object(J.useEffect)((function(){E.audio.current&&(E.audio.current.pause(),E.audio.current.load())}),[y]);return Object(vt.a)({timeout:6e4,onIdle:function(){g(Object(Ce.W)(!0))},onActive:function(){g(Object(Ce.W)(!1))},debounce:250}),Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(_t,{ref:E.audio,controls:!0},Q.a.createElement(Q.a.Fragment,null,Q.a.createElement("source",{src:t(802),type:"audio/ogg"}),Q.a.createElement("source",{src:t(803),type:"audio/mpeg"}),Q.a.createElement("source",{src:t(804),type:"audio/m4r"})),"Your browser does not support the audio element."),r&&a&&Q.a.createElement(gt,{onClickAskUserPermission:i,onClickRemindLater:o}),a&&Q.a.createElement(ye,{isExternal:x}),a&&Q.a.createElement(Ot,{id:"main"},Q.a.createElement($.b,{render:function(e){return Q.a.createElement(xe,Object.assign({isExternal:x},e,{showNotificationBar:r}))},path:["/:page"]}),("/admin-settings"===c||p&&"canceled"!==p.status)&&Q.a.createElement($.d,null,Q.a.createElement($.b,{render:function(e){return Q.a.createElement(we.b,Object.assign({isExternal:x},e))},path:["/workspace"]}),Q.a.createElement($.b,{render:function(e){return Q.a.createElement(ve,Object.assign({},e,{isExternal:x}))},path:["/:page"]})),p&&"canceled"===p.status&&"/admin-settings"!==c&&Q.a.createElement(xn,null),p&&"active"===p.status&&Q.a.createElement(yn,null)),Q.a.createElement(In,null),void 0!==u.id&&void 0!==window.Echo&&Q.a.createElement(nt,{dictionary:m,useDriff:l,localizeDate:h,toaster:f,soundPlay:function(){if(_&&E.audio.current){var e=E.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){}))}},workspaceActions:b,notificationsOn:k}))}))}}]);