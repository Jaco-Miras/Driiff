(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[14],{972:function(e,t,n){e.exports=n.p+"static/media/arrows.8d4363aa.svg"},973:function(e,t,n){e.exports=n.p+"static/media/google_drive_icon.91097f68.svg"},998:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),c=n.n(r),i=n(5),l=n(49),o=n(4),s=n(10);function u(){var e=Object(a.a)(["\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n  li {\n    cursor: pointer;\n  }\n  &.list-group .list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n"]);return u=function(){return e},e}var m=i.b.ul(u()),d=function(e){var t=Object(s.mb)()._t,n={automation:t("ADMIN.FILTER_AUTOMATION","Automation"),quickLinks:t("ADMIN.FILTER_QUICKLINKS","Quick links"),settings:t("ADMIN.FILTER_SETTINGS","Login"),huddleBots:t("ADMIN.FILTER_HUDDLE","Huddle bots"),subscription:t("ADMIN.FILTER_SUBSCRIPTION","Subscription"),contact:t("ADMIN.FILTER_CONTACT","Contact"),support:t("ADMIN.FILTER_SUPPORT","Support desk"),company:t("ADMIN.FILTER_COMPANYSETTINGS","Company"),securitySettings:t("ADMIN.SECURITY_SETTINGS","Security"),allWorkspaces:t("ADMIN.ALL_WORKSPACES","All workspaces"),impersonation:t("ADMIN.IMPERSONATION","Impersonation"),driff:t("ADMIN.DRIFF","Driff")},a=Object(s.a)().setAdminFilter,r=Object(l.g)(),i=Object(o.d)((function(e){return e.admin.filters})),u=function(e){e.persist(),a({filter:"quick-links"===e.target.dataset.value?"quick_links":e.target.dataset.value}),r.push("/admin-settings/".concat(e.target.dataset.value)),document.body.classList.remove("mobile-modal-open")};return c.a.createElement(m,{className:"list-group list-group-flush"},c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.workspaces?"active":""),"data-value":"workspaces",onClick:u},n.allWorkspaces),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.automation?"active":""),"data-value":"automation",onClick:u},n.automation),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.company?"active":""),"data-value":"company",onClick:u},n.company),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.driff?"active":""),"data-value":"driff",onClick:u},n.driff),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.bots?"active":""),"data-value":"bots",onClick:u},n.huddleBots),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.settings?"active":""),"data-value":"settings",onClick:u},n.settings),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.quick_links?"active":""),"data-value":"quick-links",onClick:u},n.quickLinks),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.security?"active":""),"data-value":"security",onClick:u},n.securitySettings),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.subscription?"active":""),"data-value":"subscription",onClick:u},n.subscription),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.impersonation?"active":""),"data-value":"impersonation",onClick:u},n.impersonation),c.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i.support?"active":""),"data-value":"support",onClick:function(e){e.preventDefault(),window.open("https://support.getdriff.com","_blank")}},n.support))};function b(){var e=Object(a.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return b=function(){return e},e}var p=i.b.div(b()),f=function(e){return c.a.createElement(p,{className:"col-md-3 app-sidebar bottom-modal-mobile"},c.a.createElement("div",{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),c.a.createElement("div",{className:"bottom-modal-mobile_inner"},c.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},c.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},c.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},c.a.createElement("h4",null,"Admin menu"))),c.a.createElement(d,null))))},E=n(11),g=n(8),O=n(1),h=n(7),N=n(67),v=n(46),T=n(12),_=n(19),j=n(62),C=n.n(j);function I(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  label {\n    margin: 0 !important;\n  }\n  margin-bottom: 0.5rem;\n"]);return I=function(){return e},e}function y(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50vh;\n"]);return y=function(){return e},e}function S(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .feather-info {\n    margin-left: 5px;\n    height: 1rem;\n    width: 1rem;\n  }\n"]);return S=function(){return e},e}var L=n(968),A=i.b.div(S()),k=i.b.div(y()),D=i.b.div(I()),w=function(){var e=Object(s.mb)()._t,t=Object(s.hb)(),n=Object(i.c)(),a={loginSettings:e("ADMIN.LOGIN_SETTINGS","Login settings"),googleLogin:e("ADMIN.GOOGLE_LOGIN","Google login"),magicLink:e("ADMIN.MAGIC_LINK","Magic link"),signUp:e("ADMIN.SIGN_UP","Sign up"),passwordLogin:e("ADMIN.PASSWORD_LOGIN","Password login"),saveLogin:e("ADMIN.SAVE_LOGIN","Save login"),enable:e("LABEL.ENABLE","Enable"),disable:e("LABEL.DISABLE","Disable"),loginSettingsUpdated:e("TOAST.LOGIN_SETTINGS_SUCCESS","Login settings updated"),allowedDomains:e("ADMIN.ALLOWED_DOMAINS","Allowed domains"),passwordLoginInfo:e("ADMIN.PASSWORD_LOGIN_INFO","If disabled only external users can login using the login form"),googleLoginInfo:e("ADMIN.GOOGLE_LOGIN_INFO","Show/Hide google login button"),magicLinkInfo:e("ADMIN.MAGIC_LINK_INFO","Show/Hide magic link button"),signupInfo:e("ADMIN.SIGN_UP_INFO","Show/Hide register button"),allowedDomainsInfo:e("ADMIN.ALLOWED_DOMAINS_INFO","Domain list allowed when signing up in driff"),loginSettingsDescription:e("ADMIN.LOGIN_SETTINGS_DESCRIPTION","Edit login/signup settings for Driff. More info can be found here (External link icon)"),companyLogo:e("ADMIN.COMPANY_LOGO","Company logo"),companyLogoDescription:e("ADMIN.COMPANY_LOGO_DESCRIPTION","Upload your company logo."),uploadLogoBtn:e("BUTTON.UPLOAD.LOGO_BTN","Upload logo"),companyLogoRequirement:e("ADMIN.COMPANY_LOGO_REQUIREMENT","Your logo must be a image file."),companyLogoDimensions:e("ADMIN.COMPANY_LOGO_DIMENSIONS","Maximun dimensions are 80px by 60px"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),resetButton:e("BUTTON.REMOVE_LOGO","Remove logo"),resetLogoSuccess:e("TOAST.RESET_COMPANY_LOGO_SUCCESS","Reset company logo success!"),customTranslation:e("SETTINGS.CUSTOM_TRANSLATION","Use custom translation"),customTranslationInfo:e("SETTINGS.CUSTOM_TRANSLATION_INFO","Use custom translation"),toasterUpdateLoginError:e("TOASTER.UPDATE_LOGIN_SETTINGS_ERROR","Error updating login settings"),loginMode:e("ADMIN.LOGIN_MODE","Login mode"),loginModeInfo:e("ADMIN.LOGIN_MODE_INFO","Default login mode email or mobile")},l=Object(r.useRef)(!0),u=Object(o.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).dark_mode,m=Object(o.d)((function(e){return e.admin.login})),d=Object(o.d)((function(e){return e.admin.loginFetched})),b=Object(o.d)((function(e){return e.admin.filters})),p=Object(o.d)((function(e){return e.settings.driff.domains})),f=Object(o.d)((function(e){return e.settings.driff.settings.custom_translation})),j=Object(o.d)((function(e){return e.settings.driff.theme})),I=Object(s.a)(),y=I.fetchLoginSettings,S=I.updateLoginSettings,w=I.setAdminFilter,x=I.updateDomains,R=Object(r.useState)(Object(O.a)(Object(O.a)({},m),{},{custom_translation:f})),P=Object(h.a)(R,2),U=P[0],B=P[1],M=Object(r.useState)(!1),G=Object(h.a)(M,2),F=G[0],W=G[1],H=Object(r.useState)(""),q=Object(h.a)(H,2),Y=q[0],V=q[1],z=Object(r.useState)(p.map((function(e){return{value:e,label:e}}))),K=Object(h.a)(z,2),Q=K[0],J=K[1];Object(r.useEffect)((function(){return w({filters:Object(O.a)(Object(O.a)({},b),{},{settings:!0})}),d||y({}),function(){l.current=!1}}),[]),Object(r.useEffect)((function(){B(m)}),[m]);var X=[{value:!1,label:a.disable},{value:!0,label:a.enable}],Z=X.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"google_login"})})),$=X.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"magic_link"})})),ee=X.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"sign_up"})})),te=X.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"password_login"})})),ne=X.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"custom_translation"})})),ae=[{value:"mobile",label:"Mobile"},{value:"email",label:"Email"}],re=function(e){var t;if("password_login"===e.name&&!1===e.value&&!1===U.google_login)B(Object(O.a)(Object(O.a)({},U),{},(t={},Object(E.a)(t,e.name,e.value),Object(E.a)(t,"google_login",!0),t)));else if("google_login"===e.name&&!1===e.value&&!1===U.password_login){var n;B(Object(O.a)(Object(O.a)({},U),{},(n={},Object(E.a)(n,e.name,e.value),Object(E.a)(n,"password_login",!0),n)))}else B(Object(O.a)(Object(O.a)({},U),{},Object(E.a)({},e.name,e.value)))},ce=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return c.a.createElement(A,null,c.a.createElement("h4",null,a.loginSettings),c.a.createElement("h6",{className:"mb-3"},a.loginSettingsDescription),!d&&c.a.createElement(k,{className:"initial-load"},c.a.createElement(T.k,null)),d&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(D,null,c.a.createElement("label",null,a.passwordLogin)," ",c.a.createElement(C.a,{onToggle:ce,content:a.passwordLoginInfo},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:te.find((function(e){return e.value===U.password_login})),onChange:re,options:te})),c.a.createElement("div",null,c.a.createElement(D,null,c.a.createElement("label",null,a.googleLogin),c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:ce,content:a.googleLoginInfo},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:Z.find((function(e){return e.value===U.google_login})),onChange:re,options:Z,menuColor:n.colors.primary})),c.a.createElement("div",null,c.a.createElement(D,null,c.a.createElement("label",null,a.magicLink),c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:ce,content:a.magicLinkInfo},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:$.find((function(e){return e.value===U.magic_link})),onChange:re,options:$,menuColor:n.colors.primary})),c.a.createElement("div",null,c.a.createElement(D,null,c.a.createElement("label",null,a.signUp),c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:ce,content:a.signupInfo},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:ee.find((function(e){return e.value===U.sign_up})),onChange:re,options:ee,menuColor:n.colors.primary})),U.sign_up&&c.a.createElement("div",null,c.a.createElement(D,null,c.a.createElement("label",{className:"mt-1"},a.allowedDomains)," ",c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:ce,content:a.allowedDomainsInfo},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(_.e,{styles:"0"===u?v.b:v.a,value:Q,onChange:function(e){J(null===e?[]:e)},options:[],inputValue:Y,isValidNewOption:function(e,t,n){var a=n.some((function(t){return t.value===e})),r=t.some((function(t){return t.value===e}));return!a&&!r&&""!==e&&L(e,{subdomain:!1})},onCreateOption:function(e){J([].concat(Object(g.a)(Q),[{value:e,label:e}]))},onInputChange:function(e){V(e)},formatCreateLabel:function(e){return"Allow ".concat(e)},isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Domain...",menuColor:n.colors.primary})),c.a.createElement("div",null,c.a.createElement(D,null,c.a.createElement("label",null,a.customTranslation),c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:ce,content:a.customTranslationInfo},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:ne.find((function(e){return e.value===U.custom_translation})),onChange:re,options:ne,menuColor:n.colors.primary})),c.a.createElement("div",null,c.a.createElement(D,null,c.a.createElement("label",null,"Login mode"),c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:ce,content:a.customTranslationInfo},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:ae.find((function(e){return e.value===U.login_mode})),onChange:function(e){B(Object(O.a)(Object(O.a)({},U),{},{login_mode:e.value}))},options:ae,menuColor:n.colors.primary})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){W(!0);var e=Object(O.a)(Object(O.a)({},U),{},{domains:Q.map((function(e){return e.value})).toString(),themes:JSON.stringify(j.colors)});S(e,(function(e,n){l.current&&W(!1),e?t.error(a.toasterUpdateLoginError):(x(Q.map((function(e){return e.value}))),t.success(a.loginSettingsUpdated))}))},disabled:F||!d},a.saveLogin))),c.a.createElement("div",null))},x=n(858),R=n(160),P=n(13);function U(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  table {\n    width: 100%;\n    border-spacing: 1rem;\n    th,\n    td {\n      padding: 5px 15px;\n    }\n  }\n  col.col1 {\n    width: 20%;\n  }\n  col.col2 {\n    width: 50%;\n  }\n"]);return U=function(){return e},e}var B=i.b.div(U()),M=function(){var e=Object(s.mb)()._t,t=Object(s.hb)(),n=Object(o.c)(),a={quickLinks:e("ADMIN.QUICK_LINKS_SETTINGS","Quick links settings"),saveQuickLinks:e("ADMIN.SAVE_QUICK_LINKS","Save quick links"),quickLinksUpdated:e("ADMIN.QUICK_LINKS_UPDATED","Quick links updated"),menuName:e("ADMIN.MENU_NAME","Menu name"),link:e("ADMIN.LINK","Link")},i=Object(r.useRef)(!0),l=Object(o.d)((function(e){return e.global.links})),u=Object(o.d)((function(e){return e.global.linksFetched})),m=Object(o.d)((function(e){return e.admin.filters})),d=Object(s.a)(),b=d.setAdminFilter,p=d.updateQuickLinks,f=d.createQuickLinks,E=Object(r.useState)(u&&l.length?Array.from(l):Array.from(Array(10),(function(){return{id:null,menu_name:"",link:""}}))),N=Object(h.a)(E,2),v=N[0],T=N[1],_=Object(r.useState)(!1),j=Object(h.a)(_,2),C=j[0],I=j[1];Object(r.useEffect)((function(){return u||n(Object(P.s)()),b({filters:Object(O.a)(Object(O.a)({},m),{},{quick_links:!0})}),function(){i.current=!1}}),[]),Object(r.useEffect)((function(){T([].concat(Object(g.a)(l),Object(g.a)(v)).slice(0,10))}),[l]);return c.a.createElement(B,null,c.a.createElement("h4",{className:"mb-3"},a.quickLinks),c.a.createElement("div",null,c.a.createElement("table",null,c.a.createElement("colgroup",null,c.a.createElement("col",{className:"col1"}),c.a.createElement("col",{className:"col2"})),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,a.menuName),c.a.createElement("th",null,a.link))),c.a.createElement("tbody",null,v.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,c.a.createElement(x.a,{className:"w-100",value:e.menu_name,onChange:function(e){return function(e,t){var n=Object(g.a)(v);n[t].menu_name=e.target.value,T(n)}(e,t)},disabled:C||!u,type:"url"})),c.a.createElement("td",null,c.a.createElement(x.a,{className:"w-100",value:e.link,onChange:function(e){return function(e,t){var n=Object(g.a)(v);n[t].link=e.target.value,T(n)}(e,t)},disabled:C||!u,type:"url"})))}))))),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){I(!0);var e={quick_links:v.filter((function(e){return null!==e.id})).map((function(e){return""!==e.menu_name.trim()&&""!==e.link.trim()?e:Object(O.a)(Object(O.a)({},e),{},{menu_name:"",link:""})}))};if(p(e,(function(e,n){i.current&&I(!1),e||t.success(a.quickLinksUpdated)})),v.filter((function(e){return null===e.id})).length){var n={quick_links:v.filter((function(e){return null===e.id})).map((function(e){return{menu_name:e.menu_name,link:e.link}}))};f(n)}},disabled:!!C||!u||!!v.filter((function(e){return""!==e.link.trim()})).some((function(e){return!1===Object(R.a)(e.link)}))||!!v.some((function(e){return""===e.menu_name.trim()&&""!==e.link.trim()}))||!!v.some((function(e){return""!==e.menu_name.trim()&&""===e.link.trim()}))},a.saveQuickLinks)))},G=n(351),F=n.n(G),W=n(56);function H(){var e=Object(a.a)(["\n  .dark & {\n    input,\n    select {\n      color: #fff;\n    }\n    option {\n      color: #000;\n    }\n  }\n  .react-time-picker__inputGroup__minute {\n    width: 18px !important;\n  }\n"]);return H=function(){return e},e}function q(){var e=Object(a.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n  }\n"]);return q=function(){return e},e}var Y=i.b.div(q()),V=Object(i.b)(F.a)(H()),z=function(e){return(e<10?"0":"")+e},K=function(e){var t=Object(s.mb)()._t,n={huddleBot:t("HUDDLE.Question","Question"),huddleBotCreated:t("HUDDLE.HUDDLE_CREATED","Huddle bot created."),huddleBotUpdated:t("HUDDLE.HUDDLE_UPDATED","Huddle bot updated."),huddleBotFailed:t("HUDDLE.HUDDLE_FAILED","Huddle bot failed."),channels:t("HUDDLE.CHANNELS","Channels"),questions:t("HUDDLE.QUESTIONS","Questions"),startAt:t("HUDDLE.START_AT","Start at"),publishAt:t("HUDDLE.PUBLISH_AT","Publish at"),delete:t("HUDDLE.DELETE","Delete"),update:t("HUDDLE.UPDATE","Update"),create:t("HUDDLE.CREATE","Create"),cancel:t("HUDDLE.CANCEL","Cancel"),confirmationText:t("HUDDLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this huddle bot?"),deleteHuddle:t("HUDDLE.DELETE_HUDDLE","Delete huddle"),huddleLabel:t("ADMIN.HUDDLE_LABEL","Huddle bot")},a=Object(s.C)(),i=Object(s.hb)(),l=Object(o.c)(),u=Object(o.d)((function(e){return e.chat.bots})),m=Object(o.d)((function(e){return e.chat.huddleBot})),d=u.channels,b=u.loaded,p=Object(o.d)((function(e){return e.admin.filters})),f=[{question:""},{question:""},{question:""},{question:""},{question:""}],g=new Date,N=z(g.getHours())+":"+z(g.getMinutes()),v=g.getTimezoneOffset()/60,T=Object(r.useState)([]),j=Object(h.a)(T,2),C=j[0],I=j[1],y=Object(r.useState)({set_start_at:N,set_publish_at:N,channel_id:null,user_bot_id:m?m.id:null,questions:f,introduction_message:"",closing_message:""}),S=Object(h.a)(y,2),L=S[0],A=S[1],k=d.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{value:e.id,label:e.name,icon:"compass"})}));Object(r.useEffect)((function(){if(l(Object(W.M)({filters:Object(O.a)(Object(O.a)({},p),{},{bots:!0})})),!b){a.fetchUserBots({},(function(e,t){e||t.data.user_bots&&0===t.data.user_bots.length&&t.data.channels.length>0&&a.createUserBot({bot_name:"Huddle"})}))}}),[]);var D=function(e){A(Object(O.a)(Object(O.a)({},L),{},{questions:L.questions.map((function(t,n){return n===parseInt(e.target.dataset.name)?Object(O.a)(Object(O.a)({},t),{},{question:e.target.value}):t}))}))},w=function(e){A(Object(O.a)(Object(O.a)({},L),{},Object(E.a)({},e.target.dataset.name,e.target.value)))},x=function(){A({set_start_at:N,set_publish_at:N,channel_id:null,user_bot_id:m.id,questions:f})},R=L.questions.filter((function(e){return""===e.question.trim()})).length===L.questions.length||null===L.channel_id;return c.a.createElement(Y,null,m&&c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"mb-3"},n.huddleLabel),c.a.createElement("div",{className:"mb-2"},c.a.createElement("label",null,n.channels),c.a.createElement(_.g,{options:k,value:C,onChange:function(e){if(null===e)I([]),A(Object(O.a)(Object(O.a)({},L),{},{set_start_at:N,set_publish_at:N,channel_id:null,user_bot_id:m.id,questions:f}));else if(I(e),e.huddle){var t=parseInt(e.huddle.publish_at.time.substr(0,2))-v,n=parseInt(e.huddle.start_at.time.substr(0,2))-v;A(Object(O.a)(Object(O.a)({},L),{},{introduction_message:e.huddle.introduction_message,closing_message:e.huddle.closing_message,channel_id:e.value,questions:e.huddle.questions,user_bot_id:m.id,set_publish_at:z(t>23?24-t:t)+":"+e.huddle.publish_at.time.substr(3,2),set_start_at:z(n>23?24-n:n)+":"+e.huddle.start_at.time.substr(3,2)}))}else A(Object(O.a)(Object(O.a)({},L),{},{channel_id:e.value,questions:f}))},isMulti:!1,isClearable:!0})),c.a.createElement("div",{className:"mb-2"},c.a.createElement("label",null,n.startAt),c.a.createElement("br",null),c.a.createElement(V,{className:"react-datetime-picker start_at",onChange:function(e){A(Object(O.a)(Object(O.a)({},L),{},{set_start_at:e}))},value:L.set_start_at,disableClock:!0})),c.a.createElement("div",{className:"mb-2"},c.a.createElement("label",null,n.publishAt),c.a.createElement("br",null),c.a.createElement(V,{className:"react-datetime-picker publish_at",onChange:function(e){A(Object(O.a)(Object(O.a)({},L),{},{set_publish_at:e}))},value:L.set_publish_at,disableClock:!0})),c.a.createElement("div",{className:"mb-2"},c.a.createElement("label",null,"Welcome message"),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:w,"data-name":"introduction_message",type:"text",className:"form-control",placeholder:"Welcome message","aria-describedby":"button-addon1",autoFocus:!0,value:L.introduction_message})))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("label",null,"Thank you message"),c.a.createElement("div",{className:"mb-2"},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:w,"data-name":"closing_message",type:"text",className:"form-control",placeholder:"Thank you message","aria-describedby":"button-addon1",autoFocus:!0,value:L.closing_message})))),c.a.createElement("div",{className:"mb-2"},c.a.createElement("label",null,n.questions),L.questions.map((function(e,t){return c.a.createElement("div",{className:"mb-2",key:t},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:D,"data-name":t,type:"text",className:"form-control",placeholder:"Question","aria-describedby":"button-addon1",autoFocus:!0,value:e.question})))})),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=parseInt(L.set_publish_at.substr(0,2))+v,t=parseInt(L.set_start_at.substr(0,2))+v,r=L.set_publish_at.substr(3,2),c=L.set_start_at.substr(3,2),l=Object(O.a)(Object(O.a)({},L),{},{questions:L.questions.filter((function(e){return""!==e.question.trim()})),user_bot_id:m.id,set_publish_at:z(e>=0?e:24+e)+":"+r,set_start_at:z(t>=0?t:24+t)+":"+c}),o=function(e,t){e?i.error(n.huddleBotFailed):(C.huddle?i.success(n.huddleBotUpdated):i.success(n.huddleBotCreated),x(),I([]))};C.huddle?(l=Object(O.a)(Object(O.a)({},l),{},{huddle_id:C.huddle.id,update_questions:l.questions,new_questions:[],remove_question_ids:[]}),a.update(l,o)):a.create(l,o)},disabled:R},C.huddle?n.update:n.create),C.huddle&&c.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){var e=function(e,t){e||(x(),I([]))},t={type:"confirmation",headerText:n.deleteHuddle,submitText:n.delete,cancelText:n.cancel,bodyText:n.confirmationText,actions:{onSubmit:function(){return a.remove({huddle_id:C.huddle.id},e)}}};l(Object(P.a)(t))},disabled:R},n.delete))))},Q=n(21),J=n(66);function X(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  h5 {\n    margin: 0;\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n"]);return Z=function(){return e},e}var $=i.b.div(Z()),ee=i.b.div(X()),te=function(e){var t=e.bot,n=e.dictionary,a=Object(r.useRef)(null),i=Object(o.c)(),l=Object(s.hb)(),u=Object(s.mb)()._t,m=Object(r.useState)(!1),d=Object(h.a)(m,2),b=d[0],p=d[1],f=Object(s.a)(),E=f.removeUserBot,g=f.uploadUserBotIcon,O=function(e,a){g({id:t.id,imageFile:e},(function(e,t){e||l.success(n.uploadSuccess)}))},N=function(){p(!1)},v=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return c.a.createElement("div",{className:"col-12 col-md-6",key:t.id},c.a.createElement("div",{className:"card border"},c.a.createElement("div",{className:"card-body admin-bot-card"},c.a.createElement(J.a,{acceptType:"imageOnly",hide:!b,ref:a,onDragLeave:N,onDrop:function(e){!function(e){0===e.length?l.error(n.fileTypeError):e.length>1&&l.warning(n.multipleFileError);var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:O};i(Object(P.a)(t,(function(){N()})))}(e.acceptedFiles)},onCancel:N}),c.a.createElement($,{className:"mb-2"},c.a.createElement("div",{className:"mr-1"},c.a.createElement(T.a,{isBot:!0,imageLink:t.image_path,name:t.name,noDefaultClick:!0,showSlider:!1,forceThumbnail:!1})),c.a.createElement(ee,null,c.a.createElement("h5",null,t.name),c.a.createElement("span",null,t.channel_connected.length," ",n.channelsConnected))),c.a.createElement("div",{className:"d-flex"},c.a.createElement(C.a,{onToggle:v,content:n.deleteBotTooltip},c.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){var e={type:"confirmation",headerText:u("MODAL.DELETE_BOT_HEADER","Delete ::name::",{name:t.name}),submitText:n.buttonRemove,cancelText:n.buttonCancel,bodyText:n.deleteBotBody,actions:{onSubmit:function(){E({id:t.id})}}};i(Object(P.a)(e))}},c.a.createElement(T.u,{icon:"x"}))),c.a.createElement(C.a,{onToggle:v,content:n.editBotTooltip},c.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){var e={type:"update_bot",item:t,mode:"admin"};i(Object(P.a)(e))}},c.a.createElement(T.u,{icon:"edit"}))),c.a.createElement(C.a,{onToggle:v,content:n.changeBotImage},c.a.createElement("button",{className:"btn btn-info mr-2",onClick:function(){a.current&&a.current.open()}},c.a.createElement(T.u,{icon:"upload"}))),c.a.createElement(C.a,{onToggle:v,content:n.copyWebhookUrl},c.a.createElement("button",{className:"btn btn-light mr-2",onClick:function(){Object(Q.b)(l,t.url_webhook)}},c.a.createElement(T.u,{icon:"link"})))))))};function ne(){var e=Object(a.a)(["\n  .admin-bot-card {\n    padding: 1rem;\n  }\n  button {\n    padding: 8px;\n  }\n  .create-btn {\n    padding: 15px;\n  }\n"]);return ne=function(){return e},e}var ae=i.b.div(ne()),re=function(){var e=Object(s.mb)()._t,t=Object(o.c)(),n=Object(s.a)(),a=n.setAdminFilter,i=n.fetchUserBot,l=Object(r.useRef)(!0),u={adminBotLabel:e("ADMIN.AUTOMATION_LABEL_ADMIN_BOT","Admin bot"),deleteBotBody:e("MODAL.DELETE_BOT_CONFIRMATION","Are you sure you want to delete this bot?"),buttonCancel:e("BUTTON.CANCEL","Cancel"),buttonRemove:e("BUTTON.REMOVE","Remove"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),channelsConnected:e("LABEL.CHANNELS_CONNECTED","Channels connected"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),createBot:e("ADMIN.CREATE_BOT_BTN","Create new bot"),editBotTooltip:e("TOOLTIP.EDIT_ADMIN_BOT","Edit admin bot"),changeBotImage:e("TOOLTIP.CHANGE_ADMIN_BOT_IMAGE","Change admin bot image"),deleteBotTooltip:e("TOOLTIP.DELETE_BOT","Delete admin bot"),copyWebhookUrl:e("TOOLTIP.COPY_WEBHOOK_URL","Copy webhook link")},m=Object(o.d)((function(e){return e.admin.filters})),d=Object(o.d)((function(e){return e.admin.automation})).bots;Object(r.useEffect)((function(){return i(),a({filters:Object(O.a)(Object(O.a)({},m),{},{automation:!0})}),function(){l.current=!1}}),[]);return c.a.createElement(ae,null,c.a.createElement("h5",{className:"mb-3"},u.adminBotLabel),c.a.createElement("div",{className:"mb-3"},c.a.createElement("button",{className:"btn btn-primary create-btn",onClick:function(){t(Object(P.a)({type:"create_bot"}))}},u.createBot)),c.a.createElement("div",{className:"row"},d.length>0&&d.map((function(e){return c.a.createElement(te,{key:e.id,bot:e,dictionary:u})}))))},ce=n(30);function ie(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  label {\n    margin: 0 !important;\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(a.a)([""]);return le=function(){return e},e}var oe=i.b.div(le()),se=i.b.div(ie()),ue=function(e){var t=Object(o.c)(),n=Object(s.hb)(),a=Object(s.mb)()._t,i={grippToken:a("GRIPP.TOKEN","Gripp token"),additionalAttributes:a("GRIPP.ADDITIONAL_ATTRIBUTES","Additional attributes"),checkAll:a("GRIPP.CHECK_ALL","Check all"),functionDesignation:a("GRIPP.DESIGNATION","Function (Designation)"),contact:a("GRIPP.CONTACT"," Phone / Mobile number (Contact)"),address:a("GRIPP.ADDRESS","Street (Address)"),streetNumber:a("GRIPP.STREET_NUMBER","Street number (House number)"),zipCode:a("GRIPP.ZIP_CODE","Zip code (Zip code)"),city:a("GRIPP.CITY","Place (City)"),country:a("GRIPP.COUNTRY","Country (Country)"),birthDate:a("GRIPP.BIRTH_DATE","Date of birth (Birth date)"),profileImage:a("GRIPP.PROFILE_IMAGE","User Photo (Profile image)"),startSyncUsers:a("GRIPP.START_SYNC_USERS","Start sync users"),successSyc:a("GRIPP.SYNC_SUCCESS","Successfully sync gripp users!"),defaultImport:a("GRIPP.DEFAULT_IMPORT","The default attribute to import"),email:a("EMAIL","Email"),firstName:a("FIRST_NAME","First name"),lastName:a("LAST_NAME","Last name"),grippTokenPlaceholder:a("PLACEHOLDER.GRIPP_TOKEN","Paste gripp token here"),grippTokenInfo:a("GRIPP.TOKEN_INFO","Token from gripp")},l=Object(s.a)(),u=l.syncGrippUsers,m=l.fetchGrippBot,d=Object(r.useState)(!1),b=Object(h.a)(d,2),p=b[0],f=b[1],g=Object(r.useState)(""),N=Object(h.a)(g,2),v=N[0],j=N[1],C=Object(r.useState)(!1),I=Object(h.a)(C,2),y=I[0],S=I[1],L=Object(r.useState)({designation:!1,contact:!1,address:!1,house_number:!1,zip_code:!1,city:!1,country:!1,birth_date:!1,profile_image:!1}),A=Object(h.a)(L,2),k=A[0],D=A[1],w=function(e){var t=e.target.dataset.name;D((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(E.a)({},t,!e[t]))}))};return c.a.createElement(oe,null,c.a.createElement("div",{className:"mb-3"},c.a.createElement(se,null,c.a.createElement("label",null,i.grippToken)," ",c.a.createElement(T.w,{content:i.grippTokenInfo})),c.a.createElement(x.a,{value:v,onChange:function(e){j(e.target.value)},placeholder:i.grippTokenPlaceholder})),c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",null,i.defaultImport," ",c.a.createElement("strong",null,i.email),", ",c.a.createElement("strong",null,i.firstName),", ",c.a.createElement("strong",null,i.lastName))),c.a.createElement("div",{className:"mb-3"},c.a.createElement("h3",null,i.additionalAttributes)),c.a.createElement("div",{className:"mb-3"},c.a.createElement(_.b,{name:"check_all",checked:y,onClick:function(){y||D(Object.keys(k).reduce((function(e,t){return e[t]=!0,e}),{})),S((function(e){return!e}))}},i.checkAll)),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement(_.b,{name:"designation",checked:k.designation,onClick:w},i.functionDesignation),c.a.createElement(_.b,{name:"contact",checked:k.contact,onClick:w},i.contact),c.a.createElement(_.b,{name:"address",checked:k.address,onClick:w},i.address),c.a.createElement(_.b,{name:"house_number",checked:k.house_number,onClick:w},i.streetNumber),c.a.createElement(_.b,{name:"zip_code",checked:k.zip_code,onClick:w},i.zipCode)),c.a.createElement("div",{className:"col-12 col-md-6"},c.a.createElement(_.b,{name:"city",checked:k.city,onClick:w},i.city),c.a.createElement(_.b,{name:"country",checked:k.country,onClick:w},i.country),c.a.createElement(_.b,{name:"birth_date",checked:k.birth_date,onClick:w},i.birthDate),c.a.createElement(_.b,{name:"profile_image",checked:k.profile_image,onClick:w},i.profileImage))),c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=Object(O.a)(Object(O.a)({},k),{},{sync_should_run:"everyday",gripp_token:v});f(!0),u(e,(function(e,a){f(!1),e||(n.success(i.successSyc),t(Object(ce.w)()),m({}))}))},disabled:""===v.trim()||p},i.startSyncUsers)))};function me(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  h5 {\n    margin: 0;\n  }\n"]);return me=function(){return e},e}function de(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n"]);return de=function(){return e},e}var be=i.b.div(de()),pe=i.b.div(me()),fe=function(e){var t=e.bot,n=e.dictionary,a=Object(r.useRef)(null),i=Object(o.c)(),l=Object(s.hb)(),u=Object(r.useState)(!1),m=Object(h.a)(u,2),d=m[0],b=m[1],p=Object(s.a)().uploadUserBotIcon,f=function(e,a){p({id:t.id,imageFile:e},(function(e,t){e||l.success(n.uploadSuccess)}))},E=function(){b(!1)},g=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return c.a.createElement("div",{className:"col-12 col-md-6",key:t.id},c.a.createElement("div",{className:"card border"},c.a.createElement("div",{className:"card-body admin-bot-card"},c.a.createElement(J.a,{acceptType:"imageOnly",hide:!d,ref:a,onDragLeave:E,onDrop:function(e){!function(e){0===e.length?l.error(n.fileTypeError):e.length>1&&l.warning(n.multipleFileError);var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:f};i(Object(P.a)(t,(function(){E()})))}(e.acceptedFiles)},onCancel:E}),c.a.createElement(be,{className:"mb-2"},c.a.createElement("div",{className:"mr-1"},c.a.createElement(T.a,{isBot:!0,imageLink:t.image_path,name:t.name,noDefaultClick:!0,showSlider:!1,forceThumbnail:!1})),c.a.createElement(pe,null,c.a.createElement("h5",null,t.name),c.a.createElement("span",null,t.channel_connected.length," ",n.channelsConnected))),c.a.createElement("div",{className:"d-flex"},c.a.createElement(C.a,{onToggle:g,content:n.editBotTooltip},c.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){var e={type:"update_bot",item:t,mode:"gripp"};i(Object(P.a)(e))}},c.a.createElement(T.u,{icon:"edit"}))),c.a.createElement(C.a,{onToggle:g,content:n.changeBotImage},c.a.createElement("button",{className:"btn btn-info mr-2",onClick:function(){a.current&&a.current.open()}},c.a.createElement(T.u,{icon:"upload"})))))))},Ee=function(e){var t=e.bots,n=Object(s.mb)()._t,a={adminBotLabel:n("ADMIN.AUTOMATION_LABEL_ADMIN_BOT","Admin bot"),deleteBotBody:n("MODAL.DELETE_BOT_CONFIRMATION","Are you sure you want to delete this bot?"),buttonCancel:n("BUTTON.CANCEL","Cancel"),buttonRemove:n("BUTTON.REMOVE","Remove"),uploadSuccess:n("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),channelsConnected:n("LABEL.CHANNELS_CONNECTED","Channels connected"),fileTypeError:n("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:n("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),createBot:n("ADMIN.CREATE_BOT_BTN","Create new bot"),editBotTooltip:n("TOOLTIP.EDIT_GRIPP_BOT","Edit gripp bot"),changeBotImage:n("TOOLTIP.CHANGE_GRIPP_BOT_IMAGE","Change gripp bot image")};return c.a.createElement("div",{className:"row"},t.length>0&&t.map((function(e){return c.a.createElement(fe,{key:e.id,bot:e,dictionary:a})})))},ge=n(77);function Oe(){var e=Object(a.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  &.gripp-user .card-body {\n    height: auto;\n  }\n"]);return Oe=function(){return e},e}var he=i.b.div(Oe(),(function(e){return e.theme.colors.primary})),Ne=function(e){var t=e.className,n=void 0===t?"":t,a=e.onNameClick,i=void 0===a?null:a,l=e.user,o=e.dictionary,s=e.onActivateDeactivateUser,u={cardBody:Object(r.useRef)(null),content:Object(r.useRef)(null)};return c.a.createElement(he,{className:"gripp-user col-12 col-md-6 ".concat(n)},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card border",key:l.id},c.a.createElement("div",{className:"card-body",ref:u.cardBody},c.a.createElement("div",{ref:u.content,className:"d-flex align-items-center justify-content-between"},c.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},c.a.createElement(T.a,{id:l.id,name:l.name?l.name:l.email,hasAccepted:l.has_accepted,imageLink:l.profile_image_link,showSlider:!0}),c.a.createElement("div",{className:"user-info-wrapper ml-3"},c.a.createElement("h6",{className:"user-name mb-0",onClick:function(){i&&i(l)}},c.a.createElement("div",{className:"mr-2 d-flex"},c.a.createElement(T.v,{content:l.email},c.a.createElement("span",{className:"mr-2"},""===l.name.trim()?l.email:l.name)),l.role&&l.role.id<=2&&c.a.createElement(T.v,{content:"This is an administrator account"},c.a.createElement(T.u,{icon:"settings",className:"ml-1",width:10,height:10}))),c.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},0===l.active&&c.a.createElement(T.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}))),l.designation&&c.a.createElement("span",{className:"small text-muted"},l.designation))),c.a.createElement("div",{className:"button-wrapper"},c.a.createElement(ge.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:u.cardBody.current},1===l.active&&c.a.createElement("div",{onClick:function(){s(l)}},o.deactivateUser),0===l.active&&c.a.createElement("div",{onClick:function(){s(l)}},o.activateUser))))))))},ve=n(1006);function Te(){var e=Object(a.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]);return Te=function(){return e},e}var _e=Object(i.b)(_.o)(Te()),je=function(e){var t=Object(s.hb)(),n=Object(s.mb)()._t,a=Object(o.c)(),i={showInactiveMembers:n("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),activateUser:n("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:n("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:n("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:n("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),cancel:n("BUTTON.CANCEL","Cancel")},l=Object(o.d)((function(e){return e.users.users})),u=Object(o.d)((function(e){return e.users.archivedUsers})),m=Object(r.useRef)(null),d=Object(r.useState)(""),b=Object(h.a)(d,2),p=b[0],f=b[1],E=Object(r.useState)(!1),g=Object(h.a)(E,2),O=g[0],N=g[1];Object(r.useEffect)((function(){0===u.length&&a(Object(ce.n)())}),[]);var v=Object.values(l).filter((function(e){return"gripp"===e.import_from&&1===e.active&&(""===p||!!(-1!==e.name.toLowerCase().search(p.toLowerCase())||-1!==e.email.toLowerCase().search(p.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(p.toLowerCase())))})).sort((function(e,t){return e.name.localeCompare(t.name)})),T=u.filter((function(e){return"gripp"===e.import_from&&0===e.active&&(""===p||!!(-1!==e.name.toLowerCase().search(p.toLowerCase())||-1!==e.email.toLowerCase().search(p.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(p.toLowerCase())))})).sort((function(e,t){return e.name.localeCompare(t.name)})),_=function(e){var n={type:"confirmation",headerText:e.active?i.deactivateUser:i.activateUser,submitText:e.active?i.deactivateUser:i.activateUser,cancelText:i.cancel,bodyText:e.active?i.deactivateConfirmationText:i.activateConfirmationText,actions:{onSubmit:function(){e.active?a(Object(ce.j)({user_id:e.id},(function(n,a){n||t.success("".concat(e.name," deactivated."))}))):0===e.active&&a(Object(ce.b)({user_id:e.id},(function(n,a){n||t.success("".concat(e.name," activated."))})))}}};a(Object(P.a)(n))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"people-header"},c.a.createElement("div",{className:"d-flex align-items-center people-search"},c.a.createElement(_e,{ref:m,value:p,closeButton:"true",onClickEmpty:function(){f("")},placeholder:i.searchPeoplePlaceholder,onChange:function(e){f(e.target.value)},autoFocus:!0}),c.a.createElement(ve.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:O,id:"show_inactive",name:"show_inactive",type:"switch",onChange:function(){N(!O)},"data-success-message":"".concat(O?"Inactive users are shown":"Inactive users are no longer visible"),label:c.a.createElement("span",null,i.showInactiveMembers)}))),c.a.createElement("div",{className:"row"},v.length>0&&!1===O&&v.map((function(e){return c.a.createElement(Ne,{user:e,key:e.id,dictionary:i,onActivateDeactivateUser:_})})),T.length>0&&!0===O&&T.map((function(e){return c.a.createElement(Ne,{user:e,key:e.id,dictionary:i,onActivateDeactivateUser:_})}))))};function Ce(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  h5 {\n    margin: 0;\n  }\n  .back-button {\n    cursor: pointer;\n  }\n"]);return Ce=function(){return e},e}function Ie(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n  h3,\n  h5 {\n    margin: 0;\n  }\n  .feather {\n    width: 2rem;\n    height: 2rem;\n    stroke-width: 3;\n  }\n  .feather-info {\n    width: 1rem;\n    height: 1rem;\n  }\n  > div {\n    display: flex;\n    flex-flow: column;\n    align-items: flex-end;\n    text-align: right;\n    height: 100%;\n    justify-content: flex-end;\n  }\n  &.reset-card-header {\n    justify-content: flex-start;\n    div {\n      display: flex;\n      margin-left: 5px;\n    }\n  }\n"]);return Ie=function(){return e},e}function ye(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  h3,\n  h5 {\n    margin: 0;\n  }\n"]);return ye=function(){return e},e}function Se(){var e=Object(a.a)(["\n  .gripp-card-body {\n    padding: 0.8rem;\n    height: 120px;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    cursor: pointer;\n    background-color: #fafafa;\n    .dark & {\n      background-color: #25282c;\n    }\n  }\n"]);return Se=function(){return e},e}var Le=i.b.div(Se()),Ae=i.b.div(ye()),ke=i.b.div(Ie()),De=i.b.div(Ce()),we=function(){var e=Object(s.mb)()._t,t=Object(o.c)(),n=Object(s.a)(),a=n.setAdminFilter,i=n.fetchGrippBot,l=n.resetGrippProfileImages,u=n.fetchGrippDetails,m=n.fetchGrippUsers,d=Object(r.useRef)(!0),b={grippLabel:e("ADMIN.GRIPP_LABEL","Gripp"),resetProfileImages:e("LABEL.RESET_PROFILE_IMAGES","Reset profile images"),cancel:e("CANCEL","Cancel"),reset:e("RESET","Reset"),confirmationText:e("GRIPP_MODAL_CONFIRMATION","Are you sure you want to reset all gripp users profile image?"),adminBotLabel:e("ADMIN.AUTOMATION_LABEL_ADMIN_BOT","Admin bot"),deleteBotBody:e("MODAL.DELETE_BOT_CONFIRMATION","Are you sure you want to delete this bot?"),buttonCancel:e("BUTTON.CANCEL","Cancel"),buttonRemove:e("BUTTON.REMOVE","Remove"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),channelsConnected:e("LABEL.CHANNELS_CONNECTED","Channels connected"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),detail:e("DETAIL","Detail"),back:e("BACK","Back"),syncGrippUsers:e("LABEL.SYNC_GRIPP_USERS","Sync gripp users"),grippBots:e("LABEL.GRIPP_BOTS","Gripp bots"),resetImageInfo:e("TOOLTIP.GRIPP_RESET_IMAGE","Reset users profile image")},p=Object(r.useState)("main"),f=Object(h.a)(p,2),E=f[0],g=f[1],N=Object(o.d)((function(e){return e.admin.filters})),v=Object(o.d)((function(e){return e.admin.automation})),_=v.grippBots,j=v.grippUsers,I=v.grippDetails;Object(r.useEffect)((function(){return a({filters:Object(O.a)(Object(O.a)({},N),{},{automation:!0})}),u({},(function(e,t){e||t.data.grippBotCount>0&&i({})})),m(),function(){d.current=!1}}),[]);return c.a.createElement(Le,null,c.a.createElement(De,{className:"mb-3"},c.a.createElement("h5",{className:"mr-3"},b.grippLabel),"main"!==E&&c.a.createElement("span",{className:"back-button",onClick:function(){return g("main")}},c.a.createElement(T.u,{icon:"arrow-left"})," ",b.back)),I&&I.has_gripp_token&&"main"===E&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card border"},c.a.createElement("div",{className:"gripp-card-body",onClick:function(){return g("sync-lists")}},c.a.createElement(ke,null,c.a.createElement(T.u,{icon:"refresh-ccw"}),c.a.createElement("div",null,c.a.createElement("h3",null,j.length),c.a.createElement("h5",null,b.syncGrippUsers))),c.a.createElement(Ae,null,c.a.createElement("h5",null,b.detail),c.a.createElement(T.u,{icon:"arrow-right-circle"}))))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card border"},c.a.createElement("div",{className:"gripp-card-body",onClick:function(){return g("gripp-bots")}},c.a.createElement(ke,null,c.a.createElement(T.u,{icon:"admin-bot",viewBox:"0 0 54 54"}),c.a.createElement("div",null,c.a.createElement("h3",null,_.length),c.a.createElement("h5",null,b.grippBots))),c.a.createElement(Ae,null,c.a.createElement("h5",null,b.detail),c.a.createElement(T.u,{icon:"arrow-right-circle"}))))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card border"},c.a.createElement("div",{className:"gripp-card-body"},c.a.createElement(ke,{className:"reset-card-header"},c.a.createElement("h5",null,b.resetProfileImages," "),c.a.createElement(C.a,{onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:b.resetImageInfo},c.a.createElement(T.u,{icon:"info",height:"16",width:"16"}))),c.a.createElement(Ae,null,c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",headerText:b.resetProfileImages,submitText:b.reset,cancelText:b.cancel,bodyText:b.confirmationText,actions:{onSubmit:function(){return l()}}};t(Object(P.a)(e))}},b.reset)))))),I&&!I.has_gripp_token&&c.a.createElement(ue,null),I&&I.has_gripp_token&&"gripp-bots"===E&&c.a.createElement(Ee,{bots:_}),I&&I.has_gripp_token&&"sync-lists"===E&&c.a.createElement(je,null))};function xe(){var e=Object(a.a)(["\n  width: 80%;\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  background-color: ",";\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 10px;\n\n  .label.hint {\n    font-size: 12px;\n    background-color: #fff;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border-width: 2px !important;\n    border-color: "," !important;    \n  }\n\n  .label.success {\n    font-size: 14px;\n    color: green;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border-width: 2px !important;\n    border-color: #8da7b0 !important;    \n  }\n  .label.warnning {\n    font-size: 14px;\n    color: #ec455d;    \n    border-width: 2px !important;\n    border-color: "," !important;  \n    margin-left: 20px;  \n  }  \n"]);return xe=function(){return e},e}function Re(){var e=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n"]);return Re=function(){return e},e}function Pe(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  justify-content: center;\n  cursor: pointer;\n  \n  .icon-body {\n    width: 100px;  //change to this size will effect the icon size\n    height: 100px;\n    margin-right: 10px;\n    margin-left: 10px;  \n    .content {\n      width: 100%;\n      height: 100%;\n      padding: 10px\n    }\n    .border {\n      border-width: 3px !important;\n      border-color: #839aaa !important;\n      border-radius: 5px;\n    }\n  }\n  \n"]);return Pe=function(){return e},e}function Ue(){var e=Object(a.a)(["\n  button {\n    padding: 8px;\n    border-width: 2px !important;\n    border-color: #839aaa;\n    border-radius: 5px;    \n  }\n  .connect-label {\n    padding: 15px;\n  }\n  .connect-btn {\n    justify-content: center;\n    white-space: nowrap;\n  }\n"]);return Ue=function(){return e},e}var Be=i.b.div(Ue()),Me=i.b.div(Pe()),Ge=i.b.div(Re()),Fe=i.b.div(xe(),(function(e){return e.theme.colors.third}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.third})),We=function(){var e=Object(s.mb)()._t,t=Object(o.c)(),a={adminConnectGoogleLabel:e("ADMIN.AUTOMATION_LABEL_CONNECT_GOOGLE","Connect Google Drive"),buttonConnect:e("BUTTON.CONNECT_ACTIVE","Connection active"),buttonCancel:e("BUTTON.CANCEL","Cancel"),buttonDisconnect:e("BUTTON.DISCONNECT","Disconnect"),buttonAddGoogleDrive:e("BUTTON.ADD-GDRIVE","Add Google Drive"),connectSuccess:e("TOAST.CONNECT_GDRIVE_SUCCESS","Connect success!"),connectNewGDAccount:e("LABEL.GDRIVE_CONNECT_NEW","Connect a new Google Drive account"),liveSyncConnection:e("LAVEL.GDRIVE_SYNC_CONNECTION","This Driff has a live sync connection with Google"),addGoogleDriveDescription:e("LAVEL.GDRIVE_DESCRIPTION","When you click on Add Google Drive button, you will be forwarded to Google authorization page"),connectGoogleDriveDescription:e("LAVEL.GDRIVE_COONECT_DESCRIPTION","Driff is successfully connected to Google Drive.\n\n All files shared on Driff are now stored direct in the Google Drive you selected."),disconnectGoogleDriveDescription:e("LAVEL.GDRIVE_DISCOONECT_DESCRIPTION","Disconnecting stops the sync of Driff to Google. And prevents the function to generate Google docs inside the Driff workspace.")},i=Object(r.useState)(""),l=Object(h.a)(i,2),u=l[0],m=l[1],d=Object(r.useState)(!1),b=Object(h.a)(d,2),p=b[0],f=b[1],E=Object(r.useState)(null),g=Object(h.a)(E,2),O=g[0],N=g[1],v=n(972),T=n(291),_=n(973),j=Object(s.hb)();Object(r.useEffect)((function(){C()}),[u]),Object(r.useEffect)((function(){p&&j.success(a.connectSuccess)}),[p]);var C=function(){var e={redirect_url:"https://demo24.drevv.com/admin-settings/automation/google"};t(Object(W.e)(e,(function(e,t){if(!e){m(t.data.auth_url);var n=1==t.data.google_drive_enable;f(n)}})))},I=function(){t(Object(W.x)((function(e,t){e||t.data.success&&f(!1)})))},y=function(e){N(e)};return c.a.createElement(Be,null,c.a.createElement("h5",{className:"mb-3"},a.adminConnectGoogleLabel),c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",{className:"btn btn-primary connect-label"},a.buttonConnect)),c.a.createElement("div",null,c.a.createElement(Ge,null,c.a.createElement(Me,null,c.a.createElement("div",{className:"icon-body"},c.a.createElement("img",{className:"content border",src:T})),c.a.createElement("div",{className:"icon-body"},c.a.createElement("img",{className:"content",src:v})),c.a.createElement("div",{className:"icon-body"},c.a.createElement("img",{className:"content border",src:_})))),c.a.createElement(Fe,null,c.a.createElement("h4",{style:{background:"#caf0fe"}},p?a.liveSyncConnection:a.connectNewGDAccount),c.a.createElement("label",{className:"label hint"},a.addGoogleDriveDescription),p&&c.a.createElement("label",{className:"label success"},a.connectGoogleDriveDescription),c.a.createElement("div",{style:{display:"flex",flexFlow:"row",alignItems:"center",height:40}},c.a.createElement("button",{className:"btn btn-warning connect-btn",onMouseEnter:function(){return p?y(!0):null},onMouseLeave:function(){return y(!1)},onClick:function(e){p?I():""!=u&&(window.location.href=u)}},p?a.buttonDisconnect:a.buttonAddGoogleDrive),O&&c.a.createElement("label",{className:"label warnning"},a.disconnectGoogleDriveDescription)))))};function He(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .card-body {\n    height: 125px;\n    cursor: pointer;\n    .icon-gripp-logo,\n    .icon-google-label,\n    .bitrix-icon {\n      width: 100%;\n      height: 100%;      \n    }\n    .feather-admin-bot {\n      width: 48px;\n      height: 48px;\n      margin-right: 5px;\n    }    \n  }\n  .card-body.admin-bot {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    h4 {\n      margin: 0;\n    }\n  }\n"]);return He=function(){return e},e}var qe=i.b.div(He()),Ye=function(){var e=Object(s.mb)()._t,t=Object(l.g)(),n=Object(s.a)().setAdminFilter,a=Object(r.useRef)(!0),i={automationLabel:e("ADMIN.AUTOMATION_LABEL","Automation"),adminBotLabel:e("ADMIN.ADMIN_BOT_LABEL","Admin bot")},u=Object(o.d)((function(e){return e.admin.filters}));Object(r.useEffect)((function(){return n({filters:Object(O.a)(Object(O.a)({},u),{},{automation:!0})}),function(){a.current=!1}}),[]);var m=function(e){t.push("/admin-settings/automation/".concat(e))};return c.a.createElement(qe,null,c.a.createElement("h4",{className:"mb-3"},i.automationLabel),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card border",onClick:function(){return m("gripp")}},c.a.createElement("div",{className:"card-body"},c.a.createElement(T.t,{icon:"gripp-logo"})))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card border",onClick:function(){return m("admin-bot")}},c.a.createElement("div",{className:"card-body admin-bot"},c.a.createElement(T.u,{icon:"admin-bot",viewBox:"0 0 54 54"}),c.a.createElement("h4",null,i.adminBotLabel)))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card border",onClick:function(){return m("google")}},c.a.createElement("div",{className:"card-body"},c.a.createElement(T.t,{icon:"google-label"}))))),c.a.createElement(l.d,null,c.a.createElement(l.b,{component:re,path:["/admin-settings/automation/admin-bot"]}),c.a.createElement(l.b,{component:we,path:["/admin-settings/automation/gripp"]}),c.a.createElement(l.b,{component:We,path:["/admin-settings/automation/google"]})))};function Ve(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]);return Ve=function(){return e},e}var ze=i.b.div(Ve()),Ke=function(){var e=Object(s.mb)()._t,t=Object(s.a)().setAdminFilter,n=Object(r.useRef)(!0),a={supportLabel:e("ADMIN.SUPPORT_LABEL","Support desk")},i=Object(o.d)((function(e){return e.admin.filters}));return Object(r.useEffect)((function(){return t({filters:Object(O.a)(Object(O.a)({},i),{},{support:!0})}),function(){n.current=!1}}),[]),c.a.createElement(ze,null,c.a.createElement("h4",{className:"mb-3"},a.supportLabel))},Qe=n(40);function Je(){var e=Object(a.a)(["\n  padding: 0 1rem 1rem 1rem;\n  border: 1px solid #e6e6e6;\n  border-radius: 0 0 8px 8px;\n  border-top: 0;\n  min-height: 115px;\n  display: flex;\n  align-items: end;\n  justify-content: end;\n  flex-flow: column;\n  button.btn-primary {\n    margin-top: 10px;\n  }\n  button.btn-primary,\n  button.btn-secondary {\n    width: 100%;\n    text-align: center;\n    justify-content: center;\n    border-radius: 20px;\n  }\n"]);return Je=function(){return e},e}function Xe(){var e=Object(a.a)(["\n  padding: 1rem;\n  border: 1px solid #e6e6e6;\n  border-top: none;\n  border-bottom: none;\n  min-height: 575px;\n  label {\n    text-align: center;\n    font-style: italic;\n    width: 100%;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n  li {\n    padding: 0.7rem 0;\n    border-top: 1px solid #e6e6e6;\n  }\n  .feather-check {\n    color: #00c851;\n    margin-right: 12px;\n    height: 18px;\n    width: 18px;\n  }\n  &.basic-feat li,\n  &.pro-feat li:nth-child(-n + 2),\n  &.enterprise-feat li:nth-child(1) {\n    font-weight: bold;\n  }\n  &.pro-feat label {\n    min-height: 42px;\n  }\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(a.a)(["\n  padding: 1rem;\n  background: #f1f2f7;\n  color: #3f034a;\n  text-align: center;\n  border: 1px solid #e6e6e6;\n  border-radius: 0;\n  min-height: 130px;\n  &.enterprise-pricing {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    h1 {\n      font-weight: 700;\n    }\n  }\n  .euro {\n    font-size: 2rem;\n    font-weight: 700;\n    vertical-align: top;\n    line-height: 2.3;\n  }\n  .price {\n    font-size: 4rem;\n    font-weight: 700;\n  }\n  .per-month {\n    display: inline-block;\n    vertical-align: super;\n    line-height: 1;\n    span:first-child {\n      font-size: 2rem;\n      font-weight: 700;\n      line-height: 1;\n    }\n    span {\n      display: block;\n    }\n  }\n"]);return Ze=function(){return e},e}function $e(){var e=Object(a.a)(["\n  padding: 1rem;\n  text-align: center;\n  background: #3f034a;\n  color: #fff;\n  border: 1px solid #3f034a;\n  border-radius: 8px 8px 0 0;\n  min-height: 120px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n"]);return $e=function(){return e},e}function et(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .trial-label {\n    font-style: italic;\n    font-size: 1rem;\n  }\n"]);return et=function(){return e},e}var tt=i.b.div(et()),nt=i.b.div($e()),at=i.b.div(Ze()),rt=i.b.div(Xe()),ct=i.b.div(Je()),it=function(){var e=Object(s.mb)()._t,t=Object(s.gb)(),n=Object(s.a)(),a=n.setAdminFilter,i=n.stripeCheckout,l=n.cancelSubscription,u=Object(o.d)((function(e){return e.admin.subscriptions})),m=Object(r.useRef)(!0),d=Object(o.d)((function(e){return e.admin.stripe})),b={subscriptionLabel:e("ADMIN.SUBSCRIPTION_LABEL","Subscription"),select:e("BUTTON.SELECT","Select"),contactUs:e("BUTTON.CONTACT_US","Contact us"),workspaces:e("PRICING.FEATURE_WORKSPACES","Workspaces"),realTimeChat:e("PRICING.FEATURE_REAL_TIME_CHAT","Real time chat"),messageBoard:e("PRICING.FEATURE_MESSAGE_BOARD","Message board"),todoLists:e("PRICING.FEATURE_TODO_LISTS","To-do lists"),fileStorage:e("PRICING.FEATURE_FILE_STORAGE","File storage"),emailNotifications:e("PRICING.FEATURE_EMAIL_NOTIFICATIONS","Email notifications"),unlimitedProjects:e("PRICING.FEATURE_UNLIMITED_PROJECTS","Unlimited projects"),unlimitedUsers:e("PRICING.FEATURE_UNLIMITED_USERS","Unlimited users"),zoomVideoMeetings:e("PRICING.FEATURES_ZOOM_VIDEO_MEETINGS","ZOOM video meetings"),automaticTranslations:e("PRICING.FEATURES_AUTOMATIC_TRANSLATIONS","Automatic translations"),customSoftwareIntegration:e("PRICING.FEATURES_CUSTOM_SOFTWARE_INTEGRATION","Custom software integration"),standardFeatureDescription:e("PRICING.FEATURES_STANDARD_DESCRIPTION","Collaborate effectively with anyone inside or outside your team or company"),proFeatureDescription:e("PRICING.FEATURES_PRO_DESCRIPTION","Gain access to additional useful features"),enterpriseFeatureDescription:e("PRICING.FEATURES_ENTERPRISE_DESCRIPTION","Spice up your Driff by integrating your favorite software tools."),trialSubscriptionLabel:e("PRICING.TRIAL_SUBSCRIPTION_LABEL","Trial subscription will end:"),trialSubscriptionEndedLabel:e("PRICING.TRIAL_SUBSCRIPTION_ENDED_LABEL","Your trial subscription has ended"),activeSubscriptionLabel:e("PRICING.ACTIVE_SUBSCRIPTION_LABEL","You are currently subscribed to:"),currentPlanBtn:e("PRICING.BUTTON_CURRENT_PLAN","Current plan"),cancelSubscriptionButton:e("BUTTON.CANCEL_SUBSCRIPTION","Cancel subscription")},p=Object(o.d)((function(e){return e.admin.filters}));Object(r.useEffect)((function(){return a({filters:Object(O.a)(Object(O.a)({},p),{},{subscription:!0})}),function(){m.current=!1}}),[]);var f=Object(r.useState)(!1),E=Object(h.a)(f,2),g=E[0],N=E[1],v=function(e){if(!g){var t={success_url:"".concat(Object(Qe.b)(),"/admin-settings/subscription/success"),cancel_url:"".concat(Object(Qe.b)(),"/admin-settings/subscription/subscribe"),payment_method_types:["card"],mode:"subscription",line_items:[{price:"standard"===e?"price_1JDRQXLoW9ieUi2mdBJP8Wkp":"pro"===e?"price_1JDRbTLoW9ieUi2mlAwBYt66":null,quantity:3}]};N(!0),i(t,(function(e,t){N(!1),e||(window.location=t.data.url)}))}},_=function(){l()},j=d.pricing.find((function(e){return u&&u.plan===e.id})),C=j?d.products.find((function(e){return e.id===j.product})):null;return c.a.createElement(tt,null,c.a.createElement("h4",{className:"mb-3"},b.subscriptionLabel),u&&"trialing"===u.status&&c.a.createElement("label",{className:"trial-label"},b.trialSubscriptionLabel," ",c.a.createElement("strong",null,t.fromNow(u.trial_ends_at.timestamp))),u&&"canceled"===u.status&&c.a.createElement("label",{className:"trial-label"},b.trialSubscriptionEndedLabel),u&&"active"===u.status&&C&&c.a.createElement("label",{className:"trial-label"},b.activeSubscriptionLabel,C&&c.a.createElement("strong",null,C.name)," plan"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-wrapper"},c.a.createElement(nt,null,c.a.createElement("h3",null,"Standard"),c.a.createElement("span",null,"For professionals with basic needs")),c.a.createElement(at,null,c.a.createElement("span",{className:"euro"},"\u20ac"),c.a.createElement("span",{className:"price"},"49"),c.a.createElement("span",{className:"per-month"},c.a.createElement("span",null,",00"),c.a.createElement("span",null,"/MO"))),c.a.createElement(rt,{className:"basic-feat"},c.a.createElement("label",null,b.standardFeatureDescription),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.workspaces),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.realTimeChat),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.messageBoard),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.todoLists),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.fileStorage),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.emailNotifications),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.unlimitedProjects),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.unlimitedUsers))),c.a.createElement(ct,null,u&&"active"===u.status&&j&&"price_1JDRQXLoW9ieUi2mdBJP8Wkp"===j.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-secondary"},b.currentPlanBtn),c.a.createElement("button",{className:"btn btn-primary",onClick:_},b.cancelSubscriptionButton)):d.pricingFetched&&d.productsFetched?c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return v("standard")}},b.select):c.a.createElement("button",{className:"btn btn-primary"},"Loading..."))))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-wrapper"},c.a.createElement(nt,null,c.a.createElement("h3",null,"Professional"),c.a.createElement("span",null,"All the features of Standard, plus:")),c.a.createElement(at,null,c.a.createElement("span",{className:"euro"},"\u20ac"),c.a.createElement("span",{className:"price"},"99"),c.a.createElement("span",{className:"per-month"},c.a.createElement("span",null,",00"),c.a.createElement("span",null,"/MO"))),c.a.createElement(rt,{className:"pro-feat"},c.a.createElement("label",null,b.proFeatureDescription),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.zoomVideoMeetings),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.automaticTranslations),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.workspaces),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.realTimeChat),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.messageBoard),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.todoLists),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.fileStorage),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.emailNotifications),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.unlimitedProjects),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.unlimitedUsers))),c.a.createElement(ct,null,u&&"active"===u.status&&j&&"price_1JDRbTLoW9ieUi2mlAwBYt66"===j.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-secondary"},b.currentPlanBtn),c.a.createElement("button",{className:"btn btn-primary",onClick:_},b.cancelSubscriptionButton)):d.pricingFetched&&d.productsFetched?c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return v("pro")}},b.select):c.a.createElement("button",{className:"btn btn-primary"},"Loading..."))))),c.a.createElement("div",{className:"col-12 col-md-4"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-wrapper"},c.a.createElement(nt,null,c.a.createElement("h3",null,"Enterprise"),c.a.createElement("span",null,"For your next-level business")),c.a.createElement(at,{className:"enterprise-pricing"},c.a.createElement("h1",null,b.contactUs)),c.a.createElement(rt,{className:"enterprise-feat"},c.a.createElement("label",null,b.enterpriseFeatureDescription),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.customSoftwareIntegration),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.zoomVideoMeetings),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.automaticTranslations),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.workspaces),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.realTimeChat),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.messageBoard),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.todoLists),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.fileStorage),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.emailNotifications),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.unlimitedProjects),c.a.createElement("li",null,c.a.createElement(T.u,{icon:"check",strokeWidth:"3"}),b.unlimitedUsers))),c.a.createElement(ct,null,c.a.createElement("button",{className:"btn btn-primary"},b.contactUs)))))))};function lt(){var e=Object(a.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n  height: 100%;\n  svg {\n    max-width: 50%;\n    max-height: 40%;\n  }\n"]);return lt=function(){return e},e}function ot(){var e=Object(a.a)(["\n  padding: 1rem;\n  height: 100%;\n  > div {\n    margin-bottom: 1rem;\n  }\n  p {\n    font-size: 1.2rem;\n    margin-top: 1.5rem;\n  }\n"]);return ot=function(){return e},e}var st=i.b.div(ot()),ut=i.b.div(lt()),mt=function(){var e=Object(s.mb)()._t,t=Object(s.a)().setAdminFilter,n=Object(o.d)((function(e){return e.admin.subscriptions})),a=Object(r.useRef)(!0),i=Object(o.d)((function(e){return e.admin.stripe})),l=i.pricing.find((function(e){return n&&n.plan===e.id})),u=l?i.products.find((function(e){return e.id===l.product})):null,m={successSubscriptionLabel:e("PRICING.SUCCESS_SUBSCRIPTION_LABEL","Congrats! You have successfully subscribed to")},d=Object(o.d)((function(e){return e.admin.filters}));return Object(r.useEffect)((function(){return t({filters:Object(O.a)(Object(O.a)({},d),{},{subscription:!0})}),function(){a.current=!1}}),[]),c.a.createElement(st,null,c.a.createElement(ut,null,c.a.createElement(T.s,{icon:1}),n&&"active"===n.status&&i.pricingFetched&&i.productsFetched&&u&&c.a.createElement("p",null,m.successSubscriptionLabel," ",u&&u.name)))};function dt(){var e=Object(a.a)(["\n  padding: 1rem;\n  height: 100%;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]);return dt=function(){return e},e}var bt=i.b.div(dt()),pt=function(){var e=Object(s.a)(),t=e.setAdminFilter,n=e.fetchStripePricing,a=e.fetchStripeProducts,i=Object(r.useRef)(!0),u=Object(o.d)((function(e){return e.admin.filters}));return Object(r.useEffect)((function(){return n(),a(),t({filters:Object(O.a)(Object(O.a)({},u),{},{subscription:!0})}),function(){i.current=!1}}),[]),c.a.createElement(bt,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{component:it,path:["/admin-settings/subscription/subscribe"]}),c.a.createElement(l.b,{component:mt,path:["/admin-settings/subscription/success"]}),c.a.createElement(l.a,{from:"*",to:{pathname:"/admin-settings/subscription/subscribe"}})))},ft=n(81),Et=n(185),gt=n(232),Ot=n.n(gt);function ht(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50vh;\n"]);return ht=function(){return e},e}function Nt(){var e=Object(a.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n"]);return Nt=function(){return e},e}function vt(){var e=Object(a.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -50px;\n  top: 30px;\n"]);return vt=function(){return e},e}function Tt(){var e=Object(a.a)([""]);return Tt=function(){return e},e}function _t(){var e=Object(a.a)(["\n  background-color: ",";\n  color: white;\n  position: relative;\n"]);return _t=function(){return e},e}function jt(){var e=Object(a.a)(["\n  text-align: center;\n"]);return jt=function(){return e},e}function Ct(){var e=Object(a.a)(["\n  margin-bottom: 16px;\n  width: 200px;\n"]);return Ct=function(){return e},e}function It(){var e=Object(a.a)(['\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  // > div {\n  //   margin-bottom: 1rem;\n  // }\n  .feather-info {\n    margin-left: 5px;\n    height: 1rem;\n    width: 1rem;\n  }\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: auto;\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        margin-right: 2rem;\n      }\n    }\n  }\n']);return It=function(){return e},e}var yt=i.b.div(It()),St=i.b.input(Ct()),Lt=i.b.button(jt()),At=i.b.span(_t(),(function(e){return e.color})),kt=i.b.div(Tt()),Dt=i.b.div(vt()),wt=i.b.img(Nt()),xt=i.b.div(ht());var Rt=function(){var e=Object(s.mb)()._t,t=Object(o.c)(),n=Object(r.useRef)(null),a=Object(r.useRef)(null),i=Object(r.useRef)(null),l=Object(r.useRef)(null),u=Object(r.useRef)(null),m=Object(r.useRef)(null),d={companyLogo:e("ADMIN.COMPANY_LOGO","Company logo"),companyLogoDescription:e("ADMIN.COMPANY_LOGO_DESCRIPTION","Upload your company logo."),uploadLogoBtn:e("BUTTON.UPLOAD.LOGO_BTN","Upload logo"),companyLogoRequirement:e("ADMIN.COMPANY_LOGO_REQUIREMENT","Your logo must be a image file."),companyLogoDimensions:e("ADMIN.COMPANY_LOGO_DIMENSIONS","Maximun dimensions are 80px by 60px"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),resetButton:e("BUTTON.REMOVE_LOGO","Remove logo"),resetLogoSuccess:e("TOAST.RESET_COMPANY_LOGO_SUCCESS","Reset company logo success!"),customTranslation:e("SETTINGS.CUSTOM_TRANSLATION","Use custom translation"),customTranslationInfo:e("SETTINGS.CUSTOM_TRANSLATION_INFO","Use custom translation"),toasterUpdateLoginError:e("TOASTER.UPDATE_LOGIN_SETTINGS_ERROR","Error updating login settings"),toasterStylingSuccess:e("TOASTER.UPDATE_STYLING_SUCCESS","Successfully updated styling"),primaryLabel:e("LABEL.PRIMARY_COLOR","Primary color"),secondaryLabel:e("LABEL.SECONDARY_COLOR","Secondary color"),thirdLabel:e("LABEL.TERTIARY_COLOR","Tertiary color"),fourthLabel:e("LABEL.CTA_COLOR","CTA color"),fifthLabel:e("LABEL.FIFTH_COLOR","Sidebar logo background color"),sidebarTextColorLabel:e("LABEL.SIDEBAR_TEXT_COLOR","Sidebar text color"),submitBtn:e("BTN.SUBMIT","Submit"),resetPreviewBtn:e("BTN.RESET_DEFAULT_COLORS","Reset default colors"),email:e("EMAIL","Email"),webPush:e("WEBPUSH","Web push"),apn:e("APN_IOS","Apple push notification"),saveNotification:e("BUTTON.SAVE_NOTIFICATION","Save notification"),notifications:e("NOTIFICATIONS","Notifications"),styling:e("STYLING","Styling"),dashboardBg:e("LABEL.DASHBOARD_BACKGROUND","Dashboard background"),uploadBg:e("BUTTON.UPLOAD_BACKGROUND","Upload background"),faviconImg:e("LABEL.FAVICON","Favicon"),uploadFavicon:e("BUTTON.UPLOAD_FAVICON","Upload favicon"),languageLabel:e("SETTINGS.LANGUAGE_LABEL","Language"),companyLanguage:e("SETTINGS.COMPANY_LANGUAGE_LABEL","Company language"),updateLanguage:e("BUTTON.UPDATE_LANGUAGE","Update language"),toasterSettingsUpdated:e("TOASTER.COMPANY_SETTINGS_UPDATED","Successfully updated company settings")},b=Object(r.useRef)(null),p=Object(r.useRef)(null),f=Object(r.useState)(!1),g=Object(h.a)(f,2),N=g[0],v=g[1],_=Object(r.useRef)(null),j=Object(r.useState)(!1),C=Object(h.a)(j,2),I=C[0],y=C[1],S=Object(s.hb)(),L=Object(s.a)(),A=L.uploadLogo,k=L.resetLogo,D=L.uploadDashboardBackground,w=L.fetchLoginSettings,x=L.uploadFaviconImage,R=Object(o.d)((function(e){return e.settings.driff.logo})),P=Object(o.d)((function(e){return e.settings.driff.theme})),U=Object(o.d)((function(e){return e.settings.origTheme})),B=Object(o.d)((function(e){return e.admin.loginFetched})),M=Object(o.d)((function(e){return e.admin.login})),G=Object(o.d)((function(e){return e.settings.driff.settings.custom_translation})),F=Object(r.useState)(Object(O.a)(Object(O.a)({},M),{},{custom_translation:G})),H=Object(h.a)(F,2),q=H[0],Y=H[1],V=Object(r.useState)(Object(O.a)({},P.colors)),z=Object(h.a)(V,2),K=z[0],Q=z[1],X=Object(r.useState)({primary:!1,secondary:!1,third:!1,fourth:!1,fifth:!1}),Z=Object(h.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.d)((function(e){return e.admin.notifications})),ne=Object(o.d)((function(e){return e.admin.notificationsLoaded})),ae=Object(r.useState)(te),re=Object(h.a)(ae,2),ce=re[0],ie=re[1],le=Object(r.useState)(!1),oe=Object(h.a)(le,2),se=oe[0],ue=oe[1],me=Object(r.useState)(!1),de=Object(h.a)(me,2),be=de[0],pe=de[1];Object(r.useEffect)((function(){ne||t(Object(W.j)({},(function(e,t){e||ie(t.data)}))),B||w({})}),[]),Object(r.useEffect)((function(){Y(M)}),[M]);var fe=function(e){var t;0===e.length?S.error(d.fileTypeError):e.length>1&&S.warning(d.multipleFileError),t=e[0],A({file:t,code:"code"},(function(e,t){e||S.success(d.uploadSuccess)}))},Ee=function(){v(!1)},ge=function(e){var t;0===e.length?S.error(d.fileTypeError):e.length>1&&S.warning(d.multipleFileError),t=e[0],D({file:t,code:"code"},(function(e,t){e||S.success(d.uploadSuccess)}))},Oe=function(e){0===e.length?S.error(d.fileTypeError):e.length>1&&S.warning(d.multipleFileError),function(e){pe(!0);x({file:e,code:"code"},(function(e,t){(pe(!1),e)||(S.success(d.uploadSuccess),document.getElementById("favicon").href=t.data.path.image_link)}))}(e[0])},he=function(){y(!1)},Ne=function(e,n){Q(Object(O.a)(Object(O.a)({},K),{},Object(E.a)({},n,e.hex))),t(Object(ft.n)({colors:Object(E.a)({},n,e.hex)}))},Te=function(e,t){e.stopPropagation(),e.preventDefault(),ee(Object(O.a)(Object(O.a)({},$),{},Object(E.a)({},t,!$[t])))},_e=["#29323F","#4E5D72","#192536","#FFC856","#7a1b8b","#8c3b9b","#3f034a","#4d075a","#d9e3f0","#f47373","#37d67a","#2ccce4","#dce775","#ff8a65"];return Object(s.J)(n,(function(){return ee(Object(O.a)(Object(O.a)({},$),{},{primary:!$.primary}))}),$.primary),Object(s.J)(a,(function(){return ee(Object(O.a)(Object(O.a)({},$),{},{secondary:!$.secondary}))}),$.secondary),Object(s.J)(i,(function(){return ee(Object(O.a)(Object(O.a)({},$),{},{third:!$.third}))}),$.third),Object(s.J)(l,(function(){return ee(Object(O.a)(Object(O.a)({},$),{},{fourth:!$.fourth}))}),$.fourth),Object(s.J)(u,(function(){return ee(Object(O.a)(Object(O.a)({},$),{},{fifth:!$.fifth}))}),$.fifth),Object(s.J)(m,(function(){return ee(Object(O.a)(Object(O.a)({},$),{},{sidebarTextColor:!$.sidebarTextColor}))}),$.sidebarTextColor),c.a.createElement(yt,{theme:P},!B&&c.a.createElement(xt,{className:"initial-load"},c.a.createElement(T.k,null)),B&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"mt-2"},d.companyLogo),c.a.createElement("h6",null,d.companyLogoDescription),c.a.createElement("div",null,c.a.createElement("label",{className:"mb-0"},d.companyLogoRequirement),c.a.createElement("br",null),c.a.createElement("label",{className:"mb-0"},d.companyLogoDimensions)),c.a.createElement("div",null,c.a.createElement(J.a,{acceptType:"imageOnly",hide:!N,ref:b,onDragLeave:Ee,onDrop:function(e){var t=e.acceptedFiles;fe(t)},onCancel:Ee}),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){b.current&&b.current.open()}},d.uploadLogoBtn),""!==R&&c.a.createElement("button",{className:"ml-2 btn btn-secondary",onClick:function(){k({},(function(e,t){e||S.success(d.resetLogoSuccess)}))}},d.resetButton)),c.a.createElement("h4",{className:"mt-3"},d.dashboardBg),c.a.createElement("div",null,c.a.createElement(J.a,{acceptType:"imageOnly",hide:!I,ref:_,onDragLeave:he,onDrop:function(e){var t=e.acceptedFiles;ge(t)},onCancel:he}),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){_.current&&_.current.open()}},d.uploadBg)),c.a.createElement("h4",{className:"mt-3"},d.faviconImg),c.a.createElement("div",null,c.a.createElement(J.a,{acceptType:"imageOnly",hide:!0,ref:p,onDrop:function(e){var t=e.acceptedFiles;Oe(t)}}),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return p.current.open()},disabled:be},d.uploadFavicon," ",be&&c.a.createElement("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}))),c.a.createElement("h4",{className:"mt-3"},d.styling),c.a.createElement(kt,null,c.a.createElement("span",null,d.primaryLabel," (current:"," ",c.a.createElement(At,{color:P.colors.primary},P.colors.primary,$.primary&&c.a.createElement(Dt,{ref:n},c.a.createElement(Et.a,{colors:_e,color:K.primary,onChange:function(e){Ne(e,"primary")}}))),")",c.a.createElement(wt,{className:"color-picker ml-2",src:Ot.a,alt:"color picker",onClick:function(e){return Te(e,"primary")}})),c.a.createElement(St,{className:"w-100 form-control mt-2",id:"primarycolor",onChange:function(e){Q(Object(O.a)(Object(O.a)({},K),{},{primary:e.target.value})),t(Object(ft.n)({colors:{primary:e.target.value}}))},value:K.primary})),c.a.createElement(kt,null,c.a.createElement("span",null,d.secondaryLabel," (current:"," ",c.a.createElement(At,{color:P.colors.secondary},P.colors.secondary,$.secondary&&c.a.createElement(Dt,{ref:a},c.a.createElement(Et.a,{colors:_e,color:K.secondary,onChange:function(e){Ne(e,"secondary")}}))),")",c.a.createElement(wt,{className:"color-picker ml-2",src:Ot.a,alt:"color picker",onClick:function(e){return Te(e,"secondary")}})),c.a.createElement(St,{className:"w-100 form-control mt-2",id:"secondarycolor",onChange:function(e){Q(Object(O.a)(Object(O.a)({},K),{},{secondary:e.target.value})),t(Object(ft.n)({colors:{secondary:e.target.value}}))},value:K.secondary})),c.a.createElement(kt,null,c.a.createElement("span",null,d.thirdLabel," (current:"," ",c.a.createElement(At,{color:P.colors.third},P.colors.third,$.third&&c.a.createElement(Dt,{ref:i},c.a.createElement(Et.a,{colors:_e,color:K.third,onChange:function(e){Ne(e,"third")}}))),")",c.a.createElement(wt,{className:"color-picker ml-2",src:Ot.a,alt:"color picker",onClick:function(e){return Te(e,"third")}})),c.a.createElement(St,{className:"w-100 form-control mt-2",id:"thirdcolor",onChange:function(e){Q(Object(O.a)(Object(O.a)({},K),{},{third:e.target.value})),t(Object(ft.n)({colors:{third:e.target.value}}))},value:K.third})),c.a.createElement(kt,null,c.a.createElement("span",null,d.fourthLabel," (current:"," ",c.a.createElement(At,{color:P.colors.fourth},P.colors.fourth,$.fourth&&c.a.createElement(Dt,{ref:l},c.a.createElement(Et.a,{colors:_e,color:K.fourth,onChange:function(e){Ne(e,"fourth")}}))),")",c.a.createElement(wt,{className:"color-picker ml-2",src:Ot.a,alt:"color picker",onClick:function(e){return Te(e,"fourth")}})),c.a.createElement(St,{className:"w-100 form-control mt-2",id:"fourthcolor",onChange:function(e){Q(Object(O.a)(Object(O.a)({},K),{},{fourth:e.target.value})),t(Object(ft.n)({colors:{fourth:e.target.value}}))},value:K.fourth})),c.a.createElement(kt,null,c.a.createElement("span",null,d.fifthLabel," (current:"," ",c.a.createElement(At,{color:P.colors.fifth},P.colors.fifth,$.fifth&&c.a.createElement(Dt,{ref:u},c.a.createElement(Et.a,{colors:_e,color:K.fifth,onChange:function(e){Ne(e,"fifth")}}))),")",c.a.createElement(wt,{className:"color-picker ml-2",src:Ot.a,alt:"color picker",onClick:function(e){return Te(e,"fifth")}})),c.a.createElement(St,{className:"w-100 form-control mt-2",id:"fifthcolor",onChange:function(e){Q(Object(O.a)(Object(O.a)({},K),{},{fifth:e.target.value})),t(Object(ft.n)({colors:{fifth:e.target.value}}))},value:K.fifth})),c.a.createElement(kt,null,c.a.createElement("span",null,d.sidebarTextColorLabel," (current:"," ",c.a.createElement(At,{color:P.colors.sidebarTextColor},P.colors.sidebarTextColor,$.sidebarTextColor&&c.a.createElement(Dt,{ref:m},c.a.createElement(Et.a,{colors:["#cbd4db","#000"].concat(_e),color:K.sidebarTextColor,onChange:function(e){Ne(e,"sidebarTextColor")}}))),")",c.a.createElement(wt,{className:"color-picker ml-2",src:Ot.a,alt:"color picker",onClick:function(e){return Te(e,"sidebarTextColor")}})),c.a.createElement(St,{className:"w-100 form-control mt-2",id:"sidebarTextColorcolor",onChange:function(e){Q(Object(O.a)(Object(O.a)({},K),{},{sidebarTextColor:e.target.value})),t(Object(ft.n)({colors:{sidebarTextColor:e.target.value}}))},value:K.sidebarTextColor})),c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement(Lt,{className:"btn btn-primary mr-2",id:"SubmitColors",onClick:function(){var e=Object(O.a)(Object(O.a)({},q),{},{themes:JSON.stringify(P.colors)});e.domains&&delete e.domains,t(Object(W.D)(e,(function(e,t){e||S.success(d.toasterSettingsUpdated)}))),t(Object(ft.n)({colors:K}))}},d.submitBtn),c.a.createElement(Lt,{className:"btn btn-primary",onClick:function(){t(Object(ft.n)({colors:U.colors})),Q(Object(O.a)({},U.colors))}},d.resetPreviewBtn)),c.a.createElement("h4",{className:"mt-3"},d.notifications),c.a.createElement(ve.a,{className:"cursor-pointer text-muted",checked:ce.email,type:"switch",id:"email",name:"email","data-success-message":"".concat(ce.email?"Email notifications are now enabled":"Email notifications are now disabled"),onChange:function(){ie(Object(O.a)(Object(O.a)({},ce),{},{email:!ce.email}))},label:c.a.createElement("span",null,d.email),disabled:!1===ne}),c.a.createElement(ve.a,{className:"cursor-pointer text-muted",checked:ce.webpush,type:"switch",id:"webpush",name:"webpush",onChange:function(){ie(Object(O.a)(Object(O.a)({},ce),{},{webpush:!ce.webpush}))},label:c.a.createElement("span",null,d.webPush),disabled:!1===ne}),c.a.createElement(ve.a,{className:"cursor-pointer text-muted",checked:ce.apn,type:"switch",id:"apn",name:"apn",onChange:function(){ie(Object(O.a)(Object(O.a)({},ce),{},{apn:!ce.apn}))},label:c.a.createElement("span",null,d.apn),disabled:!1===ne}),c.a.createElement("div",{className:"d-flex align-items-center mt-2"},c.a.createElement(Lt,{className:"btn btn-primary mr-2",id:"SubmitColors",onClick:function(){ue(!0),t(Object(W.F)(ce,(function(e,t){ue(!1),e||t&&S.success("Notification settings updated")})))},disabled:se||!ne},d.saveNotification))))};function Pt(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  label {\n    margin: 0 !important;\n  }\n  margin-bottom: 0.5rem;\n"]);return Pt=function(){return e},e}function Ut(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50vh;\n"]);return Ut=function(){return e},e}function Bt(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .feather-info {\n    margin-left: 5px;\n    height: 1rem;\n    width: 1rem;\n  }\n"]);return Bt=function(){return e},e}var Mt=i.b.div(Bt()),Gt=i.b.div(Ut()),Ft=i.b.div(Pt()),Wt=function(){var e=Object(s.mb)()._t,t=Object(s.hb)(),n=Object(i.c)(),a=Object(o.c)(),l={securitySettings:e("ADMIN.SECURITY_SETTINGS","Security settings"),securitySettingsDescription:e("ADMIN.SECURITY_SETTINGS_DESCRIPTION","Security settings description"),passwordRefreshPolicy:e("ADMIN.PASSWORD_POLICY","Password refresh policy"),passwordRefreshPolicyTooltip:e("TOOLTIP.PASSWORD_POLICY","Password refresh policy"),whoCanInviteUsers:e("ADMIN.WHO_CAN_INVITE_USERS","Who can invite users?"),whoCanInviteUsersTooltip:e("TOOLTIP.WHO_CAN_INVITE_USERS","Who can invite users?"),whoCanInviteGuests:e("ADMIN.WHO_CAN_INVITE_GUESTS","Who can invite guests?"),whoCanInviteGuestsTooltip:e("TOOLTIP.WHO_CAN_INVITE_GUESTS","Who can invite guests?"),saveLogin:e("ADMIN.SAVE_LOGIN","Save login"),closeButton:e("BUTTON.CLOSE","Close"),cancel:e("BUTTON.CANCEL","Cancel"),sendRequest:e("BUTTON.SEND_REQUEST_MANUALLY","Send request now"),sendRequestHeaderText:e("MODAL.HEADER_PASSWORD_REQUEST_MANUALLY","Send password reset"),sendRequestBodyText:e("MODAL.BODY_PASSWORD_REQUEST_MANUALLY","Are you sure you want to send password reset manually?"),sendRequestSuccess:e("TOASTER.PASSWORD_REQUEST_SUCCESS","Successfully sent password reset request."),never:e("OPTIONS.NEVER","Never"),thirtyDays:e("OPTIONS.THIRTY_DAYS","30 days"),sixtyDays:e("OPTIONS.SIXTY_DAYS","60 days"),ninetyDays:e("OPTIONS.NINETYY_DAYS","90 days"),adminOnly:e("OPTIONS.ADMIN_ONLY","Admin only"),managerHigher:e("OPTIONS.MANAGER_HIGHER","Manager + higher"),employeesHigher:e("OPTIONS.EMPLOYEES_HIGHER","Employees higher"),securitySettingsUpdated:e("TOASTER.SECURITY_SETTINGS_UPDATED","Security settings updated"),whoCanCreateWorkspace:e("ADMIN.WHO_CAN_CREATE_WORKSPACE","Who can create workspace?")},u=Object(o.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).dark_mode,m=Object(o.d)((function(e){return e.admin.securityLoaded})),d=Object(o.d)((function(e){return e.admin.security})),b=Object(r.useState)({password_policy:null,invite_internal:null,invite_guest:null,add_workspace:null}),p=Object(h.a)(b,2),f=p[0],E=p[1];Object(r.useEffect)((function(){m&&E(d)}),[m,d]);var g=Object(r.useState)(!1),_=Object(h.a)(g,2),j=_[0],I=_[1],y=[{value:0,label:l.never},{value:30,label:l.thirtyDays},{value:60,label:l.sixtyDays},{value:90,label:l.ninetyDays}],S=[{value:1,label:l.adminOnly},{value:2,label:l.managerHigher},{value:3,label:l.employeesHigher}],L=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return c.a.createElement(Mt,null,c.a.createElement("h4",null,l.securitySettings),c.a.createElement("h6",{className:"mb-3"},l.securitySettingsDescription),!m&&c.a.createElement(Gt,{className:"initial-load"},c.a.createElement(T.k,null)),m&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(Ft,null,c.a.createElement("label",null,l.passwordRefreshPolicy)," ",c.a.createElement(C.a,{onToggle:L,content:l.passwordRefreshPolicyTooltip},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:y.find((function(e){return e.value===f.password_policy})),onChange:function(e){E(Object(O.a)(Object(O.a)({},f),{},{password_policy:e.value}))},options:y,menuColor:n.colors.primary}),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",headerText:l.sendRequestHeaderText,submitText:l.sendRequest,cancelText:l.closeButton,bodyText:l.sendRequestBodyText,actions:{onSubmit:function(){a(Object(W.L)({},(function(e,n){e||t.success(l.sendRequestSuccess)})))}}};a(Object(P.a)(e))}},l.sendRequest))),c.a.createElement("div",null,c.a.createElement(Ft,null,c.a.createElement("label",null,l.whoCanInviteUsers),c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:L,content:l.whoCanInviteUsersTooltip},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:S.find((function(e){return e.value===f.invite_internal})),onChange:function(e){E(Object(O.a)(Object(O.a)({},f),{},{invite_internal:e.value}))},options:S,menuColor:n.colors.primary})),c.a.createElement("div",null,c.a.createElement(Ft,null,c.a.createElement("label",null,l.whoCanInviteGuests),c.a.createElement(C.a,{arrowSize:5,distance:10,onToggle:L,content:l.whoCanInviteGuestsTooltip},c.a.createElement(T.u,{icon:"info"}))),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:S.find((function(e){return e.value===f.invite_guest})),onChange:function(e){E(Object(O.a)(Object(O.a)({},f),{},{invite_guest:e.value}))},options:S,menuColor:n.colors.primary})),c.a.createElement("div",null,c.a.createElement(Ft,null,c.a.createElement("label",null,l.whoCanCreateWorkspace)),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===u?v.b:v.a,value:S.find((function(e){return e.value===f.add_workspace})),onChange:function(e){E(Object(O.a)(Object(O.a)({},f),{},{add_workspace:e.value}))},options:S,menuColor:n.colors.primary})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){I(!0),a(Object(W.H)(f,(function(){t.success(l.securitySettingsUpdated),I(!1)})))},disabled:j||!m},l.saveLogin))))},Ht=n(883),qt=n.n(Ht),Yt=function(e){var t=Object(o.c)(),n=Object(o.d)((function(e){return e.admin.allWorkspaces})),a=Object(o.d)((function(e){return e.admin.allWorkspacesLastPage}));return Object(r.useEffect)((function(){return function(){t(Object(W.N)({page:1}))}}),[]),c.a.createElement("div",{className:"mt-3"},c.a.createElement(qt.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:a,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var a=e.selected+1;if(t(Object(W.N)({page:a})),!n.hasOwnProperty(a)){var r={page:a,limit:25};t(Object(W.d)(r))}},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},Vt=n(146);function zt(){var e=Object(a.a)(["\n  width: 1rem;\n  height: 1rem;\n  margin-right: 3px;\n"]);return zt=function(){return e},e}function Kt(){var e=Object(a.a)(["\n  .workspace-title {\n    cursor: pointer;\n  }\n  .labels span {\n    display: flex;\n    align-items: center;\n  }\n  .mobile-icon {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    .badge {\n      display: none;\n    }\n    .mobile-icon {\n      display: block;\n    }\n  }\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      z-index: 2;\n      position: absolute;\n      right: 0;\n      top: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n      max-width: 200px;\n      text-align: left;\n\n      &:hover {\n        opacity: 1;\n        max-height: 175px;\n        max-width: 200px;\n        text-align: left;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 175px;\n      max-width: 200px;\n      text-align: left;\n    }\n  }\n  .avatar {\n    min-width: 2.7rem;\n    min-height: 2.7rem;\n  }\n"]);return Kt=function(){return e},e}var Qt=i.b.div(Kt()),Jt=Object(i.b)(T.u)(zt()),Xt=function(e){var t=e.dictionary,n=e.item,a=Object(s.Hb)(),i=Object(r.useState)(!1),l=Object(h.a)(i,2),o=l[0],u=l[1];return c.a.createElement(Qt,{className:"workspace-details"},c.a.createElement("div",{className:"title-labels"},c.a.createElement("span",{className:"workspace-title",onClick:function(){var e={id:n.id,name:n.name,folder_id:n.workspace?n.workspace.id:null,folder_name:n.workspace?n.workspace.name:null};a.toWorkspace(e)}},n.name),1===n.private&&c.a.createElement(Jt,{icon:"lock"}),n.workspace&&c.a.createElement("span",{className:"ml-1 d-flex align-items-center"},c.a.createElement(Jt,{icon:"folder"}),n.workspace.name),c.a.createElement("span",{role:"button",className:"ml-1 d-flex align-items-center user-reads-container",onClick:function(){u((function(e){return!e}))}},c.a.createElement("span",{className:"no-readers"},c.a.createElement(Jt,{icon:"user"}),Object.values(n.members).length),c.a.createElement(Vt.a,{users:n.members,close:function(){return u(!1)},show:o})),n.is_shared&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"badge badge-external ml-1 align-items-center"},c.a.createElement(Jt,{icon:"eye"})," ",t.withClient),c.a.createElement(Jt,{icon:"eye",className:"mobile-icon"}))))};function Zt(){var e=Object(a.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  border-right: none;\n  border-left: none;\n  border-top: none;\n\n  .workspace-icon {\n    position: relative;\n  }\n  .workspace-list-buttons {\n    display: none;\n  }\n  .workspace-title {\n    font-size: 1rem;\n  }\n  .title-labels,\n  .labels {\n    display: flex;\n  }\n  .title-labels {\n    align-items: center;\n    .feather-lock {\n      margin: 0 5px;\n    }\n    .feather-eye {\n      width: 0.8rem;\n      height: 0.8rem;\n    }\n  }\n"]);return Zt=function(){return e},e}var $t=i.b.li(Zt()),en=function(e){var t=e.item,n=e.dictionary;return c.a.createElement($t,{className:"list-group-item"},c.a.createElement(Xt,{item:t,dictionary:n}))};function tn(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n"]);return tn=function(){return e},e}function nn(){var e=Object(a.a)(["\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  flex-grow: 1;\n  li {\n    padding: 15px;\n  }\n  li:nth-child(2) {\n    border-top: none;\n  }\n  &.active-workspaces {\n    border-radius 6px 6px 0 0;\n  }\n  &.archived-workspaces {\n    .dark & {\n      border: 1px solid;\n      border-top: 0;\n      border-color: hsla(0,0%,60.8%,.1);\n      border-radius: 0 0 6px 6px;\n      background: #252a2d;\n    }\n  }\n  &.archived-workspaces li {\n    background-color: #fafafa;\n    opacity: .7;\n    .dark & {\n      background-color: #252a2d;\n    }\n  }\n  &.archived-workspaces li:last-child {\n    border-radius 0 0 6px 6px;\n    border-bottom: none;\n  }\n"]);return nn=function(){return e},e}function an(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]);return an=function(){return e},e}var rn=i.b.div(an()),cn=i.b.ul(nn()),ln=i.b.div(tn()),on=function(){var e=Object(s.mb)()._t,t=Object(o.c)(),n={withClient:e("ALL_WORKSPACE.WITH_CLIENT","With client")},a=Object(o.d)((function(e){return e.admin.allWorkspacesLoaded})),i=Object(o.d)((function(e){return e.admin.allWorkspaces})),l=Object(o.d)((function(e){return e.admin.allWorkspacesPage}));return Object(r.useEffect)((function(){if(!a){t(Object(W.d)({page:1,limit:25}))}}),[]),c.a.createElement(rn,null,c.a.createElement("h4",null,"All workspaces"),!a&&c.a.createElement(ln,{className:"initial-load"},c.a.createElement(T.k,null)),a&&c.a.createElement(cn,{className:"active-workspaces"},i[l]&&Object.values(i[l]).map((function(e){return c.a.createElement(en,{key:e.id,dictionary:n,item:e})}))),c.a.createElement(Yt,null))},sn=n(259);function un(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50vh;\n"]);return un=function(){return e},e}function mn(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  label {\n    margin: 0 !important;\n  }\n  margin-bottom: 0.5rem;\n"]);return mn=function(){return e},e}function dn(){var e=Object(a.a)(["\n  text-align: center;\n"]);return dn=function(){return e},e}function bn(){var e=Object(a.a)(['\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  .feather-info {\n    margin-left: 5px;\n    height: 1rem;\n    width: 1rem;\n  }\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: auto;\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        margin-right: 2rem;\n      }\n    }\n  }\n']);return bn=function(){return e},e}var pn=i.b.div(bn()),fn=i.b.button(dn()),En=i.b.div(mn()),gn=i.b.div(un());var On=function(){var e=Object(s.mb)()._t,t=Object(o.c)(),n={companyLanguage:e("SETTINGS.COMPANY_LANGUAGE_LABEL","Company language"),settingsUpdated:e("TOASTER.SETTINGS_UPDATED","Successfully updated settings"),updateSettings:e("BUTTON.UPDATE_SETTINGS","Update settings"),videoMeeting:e("LABEL.VIDEO_MEETING","Video meeting"),updateLanguage:e("BUTTON.UPDATE_LANGUAGE","Update language"),connectGoogleDrive:e("LAVEL.CONNECT_GOOGLEDRIVE","Connect Google Drive")},a=[{value:"en",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(sn.a,{countryAbbr:"en",className:"mr-2",width:"18"}),e("LANGUAGE.ENGLISH","English"))},{value:"nl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(sn.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),e("LANGUAGE.DUTCH","Dutch"))}],l=[{value:"disable",label:"Disable"},{value:"jitsi",label:"Driff Talk"},{value:"google",label:"Google Meet"},{value:"zoom",label:"Zoom"}],u=Object(s.hb)(),m=Object(s.a)().fetchLoginSettings,d=Object(o.d)((function(e){return e.settings.driff.theme})),b=Object(o.d)((function(e){return e.admin.loginFetched})),p=Object(o.d)((function(e){return e.admin.login})),f=Object(o.d)((function(e){return e.settings.driff.meet})),E=Object(o.d)((function(e){return e.settings.driff.isCompSettingsLoaded})),g=Object(r.useState)(Object(O.a)(Object(O.a)({},p),{},{meeting:f})),_=Object(h.a)(g,2),j=_[0],C=_[1],I=Object(r.useState)(f),y=Object(h.a)(I,2),S=y[0],L=y[1],A=Object(o.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).dark_mode,k=Object(i.c)();return Object(r.useEffect)((function(){b||m({})}),[]),Object(r.useEffect)((function(){C(p)}),[p]),Object(r.useEffect)((function(){L(f)}),[E]),c.a.createElement(pn,{theme:d},!b&&c.a.createElement(gn,{className:"initial-load"},c.a.createElement(T.k,null)),b&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"mt-3"},"Driff"),c.a.createElement("div",null,c.a.createElement(En,null,c.a.createElement("label",null,n.companyLanguage)),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===A?v.b:v.a,value:a.find((function(e){return j.language===e.value})),onChange:function(e){C(Object(O.a)(Object(O.a)({},j),{},{language:e.value}))},options:a,menuColor:k.colors.primary})),c.a.createElement("div",{className:"d-flex align-items-center mt-2"},c.a.createElement(fn,{className:"btn btn-primary mr-2",id:"SubmitColors",onClick:function(){var e=Object(O.a)(Object(O.a)({},j),{},{themes:JSON.stringify(d.colors)});e.domains&&delete e.domains,t(Object(W.D)(e,(function(e,t){e||u.success(n.settingsUpdated)})))}},n.updateLanguage)),c.a.createElement(En,{className:"mt-2"},c.a.createElement("label",null,n.videoMeeting)),c.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===A?v.b:v.a,value:l.find((function(e){return S===e.value})),onChange:function(e){L(e.value)},options:l,menuColor:k.colors.primary}),c.a.createElement("div",{className:"d-flex align-items-center mt-2"},c.a.createElement(fn,{className:"btn btn-primary mr-2",id:"SubmitColors",onClick:function(){t(Object(W.E)({meet:S},(function(e,t){e||u.success(n.settingsUpdated)})))}},n.updateSettings)),c.a.createElement(En,{className:"mt-2",style:{marginTop:"40px"}},c.a.createElement("label",null,n.connectGoogleDrive))))},hn=n(14);function Nn(){var e=Object(a.a)(["\n  &:hover {\n    color: ",";\n    cursor: pointer;\n  }\n"]);return Nn=function(){return e},e}function vn(){var e=Object(a.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.1);\n"]);return vn=function(){return e},e}var Tn=i.b.div(vn()),_n=i.b.span(Nn(),(function(e){return e.theme.colors.primary})),jn=function(e){var t=e.itemsPerPage,n=Object(o.c)(),a=Object(s.mb)()._t,i=Object(o.d)((function(e){return e.users.impersonation})),u=i.loading,m=i.logs,d=Object(r.useState)(1),b=Object(h.a)(d,2),p=b[0],f=b[1],E=Object(s.gb)(),g=E.localizeDate,O=(E.localizeTime,E.timeDiff),N=(Object(l.g)(),{tableColumnDate:a("ADMIN.TABLE_COLUMN_DATE","Date"),tableColumnIP:a("ADMIN.TABLE_COLUMN_IP","IP"),tableColumnImpersonatedAs:a("ADMIN.TABLE_COLUMN_IMPERSONATED_AS","Impersonated As"),tableColumnImpersonator:a("ADMIN.TABLE_COLUMN_IMPERSONATOR_AS","Impersonated By"),tableColumnDuration:a("ADMIN.TABLE_COLUMN_DURATION","Duration"),tablePaginationNextLabel:a("ADMIN.TABLE_PAGINATION_NEXT_LABEL","Next"),tablePaginationPrevLabel:a("ADMIN.TABLE_PAGINATION_PREV_LABEL","Previous")});Object(r.useEffect)((function(){n(Object(ce.y)({page:p,limit:t}))}),[p,t]);var v=function(e){var t="".concat(window.location.origin,"/profile/").concat(e.id,"/").concat(Object(hn.i)(e.name));window.open(t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{class:"table-responsive px-3"},c.a.createElement("table",{class:"table table-bordered position-relative",style:{minHeight:100}},u&&c.a.createElement(Tn,null,c.a.createElement("div",{class:"spinner-border text-primary",role:"status"},c.a.createElement("span",{class:"sr-only"},"Loading..."))),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,N.tableColumnDate),c.a.createElement("th",null,N.tableColumnIP),c.a.createElement("th",null,N.tableColumnImpersonator),c.a.createElement("th",null,N.tableColumnImpersonatedAs),c.a.createElement("th",null,N.tableColumnDuration))),c.a.createElement("tbody",null,m.data.map((function(e){return c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"},g(e.login_at?e.login_at.timestamp:0)),c.a.createElement("td",null,e.ip_address),c.a.createElement("td",null,c.a.createElement(_n,{role:"button",onClick:function(){return v(e.user)}},e.user.name)),c.a.createElement("td",null,c.a.createElement(_n,{role:"button",onClick:function(){return v(e.userAs)}},e.userAs.name)),c.a.createElement("td",null,function(e){return e.logout_at&&e.logout_at.timestamp?O(e.logout_at.timestamp,e.login_at.timestamp):0}(e)))}))))),c.a.createElement(qt.a,{breakLabel:"...",nextLabel:N.tablePaginationNextLabel,previousLabel:N.tablePaginationPrevLabel,onPageChange:function(e){f(e.selected+1)},pageRangeDisplayed:5,pageCount:m.lastPage,marginPagesDisplayed:2,renderOnZeroPageCount:null,breakClassName:"break-me page-item",breakLinkClassName:"page-link",containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},Cn=n(45);function In(){var e=Object(a.a)(["\n  .icon {\n    cursor: pointer;\n    padding: 8px;\n    border-radius: 50%;\n    &:hover {\n      background: rgba(67, 67, 67, 0.125);\n      svg {\n        stroke: ",";\n      }\n    }\n    svg {\n      width: 0;\n      height: 0;\n      transition: 0.3s;\n    }\n  }\n  &:hover {\n    cursor: default;\n    .icon {\n      svg {\n        width: 24px;\n        height: 24px;\n      }\n    }\n  }\n"]);return In=function(){return e},e}var yn=i.b.a(In(),(function(e){return e.theme.colors.primary})),Sn=function(e){var t=Object(s.mb)()._t,n=Object(o.c)(),a=Object(s.ab)().setGeneralSetting,r=Object(s.pb)(),i=Object(s.K)(),l=i.show,u=i.hide,m=Object(s.hb)(),d={guestBadge:t("IMPERSONATION_BADGE.GUEST","Guest")},b="external"===e.user.type;return c.a.createElement(c.a.Fragment,null,c.a.createElement(yn,{href:"#",className:"list-group-item list-group-item-action py-3 d-flex justify-content-between align-items-center"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement(T.a,{name:e.user.name,imageLink:e.user.profile_image_link,onClick:function(){}}),c.a.createElement("div",{className:"ml-3"},c.a.createElement("div",null,c.a.createElement("span",null,e.user.name)),c.a.createElement("div",null,e.user.email," ",b&&c.a.createElement("span",{className:"badge badge-warning"},d.guestBadge)))),c.a.createElement("div",{className:"icon",onClick:function(t){t.preventDefault();var c={type:"impersonation_login",actions:{user:e.user,onSubmit:function(e,t){l(),n(Object(ce.z)(e,(function(e,c){if(e)return m.error("Something went wrong Server Error"),t(),void u();r.storeLoginToken(c.data);var i=c.data;Cn.sessionService.saveSession({token:"".concat(i.token_type," ").concat(i.access_token),xsrf_token:"XSRF-TOKEN=".concat(i.access_token),access_broadcast_token:"".concat(i.access_broadcast_token),download_token:"".concat(i.download_token)}).then((function(){n(Object(ce.o)()),Cn.sessionService.saveUser(Object(O.a)({},i.user_auth)).then((function(){t(),a({impersonationMode:!0},(function(){r.processBackendLogin(c.data,"/dashboard"),u()}))}))})).catch((function(e){m.error("Something went wrong Server Error"),t(),u()}))})))}}};n(Object(P.a)(c))}},c.a.createElement(T.u,{icon:"log-in"}))))};function Ln(){var e=Object(a.a)(["\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"]);return Ln=function(){return e},e}var An=Object(i.b)(_.o)(Ln()),kn=function(){var e=Object(o.d)((function(e){return e.users})),t=e.users,n=e.usersLoaded,a=Object(r.useState)(""),i=Object(h.a)(a,2),l=i[0],u=i[1],m={search:Object(r.useRef)()},d={searchPlaceholder:(0,Object(s.mb)()._t)("IMPERSONATION.SEARCH_PLACEHOLDER","Search Users")};Object(r.useEffect)((function(){m.search.current.focus()}),[]);var b=Object.values(t).sort((function(e,t){return e.name.toString().localeCompare(t.name)})).filter((function(e){return!["driffsupport@getdriff.com","gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_channel_bot","driff_webhook_bot","huddle_bot"].includes(e.email)&&(1===e.active&&(""===l||-1!==e.name.toLowerCase().search(l.toLowerCase())||-1!==e.email.toLowerCase().search(l.toLowerCase())))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"px-3 mb-4"},c.a.createElement(An,{ref:m.search,value:l,closeButton:!0,onClickEmpty:function(){u("")},placeholder:d.searchPlaceholder,onChange:function(e){u(e.target.value)},autoFocus:!0,disabled:!n})),c.a.createElement("div",{className:"list-group list-group-flush"},b.map((function(e){return c.a.createElement(Sn,{key:e.id,user:e})}))))};function Dn(){var e=Object(a.a)(["\n  /* & h4 {\n    padding: 1rem;\n  } */\n"]);return Dn=function(){return e},e}var wn=i.b.div(Dn()),xn=function(){var e=Object(s.mb)()._t,t=Object(o.d)((function(e){return e.users})).usersLoaded,n=Object(r.useState)(!1),a=Object(h.a)(n,2),i=a[0],l=a[1],u={title:e("ADMIN.IMPERSONATION_SETTINGS","Impersonation Settings"),logButtonText:e("ADMIN.IMPERSONATION_LOG_BUTTON_TEXT","Logs"),impersonateButtonText:e("ADMIN.IMPERSONATION_IMPERSONATE_BUTTON_TEXT","Impersonate")};return c.a.createElement(wn,null,c.a.createElement("div",{className:"d-flex justify-content-between p-3"},c.a.createElement("h4",null,u.title),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return l(!i)}},i?u.impersonateButtonText:u.logButtonText)),i?c.a.createElement(jn,{itemsPerPage:10}):c.a.createElement("div",null,c.a.createElement(kn,null),!t&&c.a.createElement("div",{class:"d-flex justify-content-center"},c.a.createElement("div",{class:"spinner-border text-primary",role:"status"},c.a.createElement("span",{class:"sr-only"},"Loading...")))))};function Rn(){var e=Object(a.a)(["\n  overflow: visible !important;\n  height: 100%;\n"]);return Rn=function(){return e},e}var Pn=i.b.div(Rn()),Un=function(e){return c.a.createElement(Pn,{className:"card"},c.a.createElement(l.d,null,c.a.createElement(l.b,Object.assign({},e,{component:on,path:["/admin-settings/workspaces"]})),c.a.createElement(l.b,Object.assign({},e,{component:Ye,path:["/admin-settings/automation","/admin-settings/automation/:subpage"]})),c.a.createElement(l.b,Object.assign({},e,{component:w,path:["/admin-settings/settings"]})),c.a.createElement(l.b,Object.assign({},e,{component:M,path:["/admin-settings/quick-links"]})),c.a.createElement(l.b,Object.assign({},e,{component:K,path:["/admin-settings/bots"]})),c.a.createElement(l.b,Object.assign({},e,{component:pt,path:["/admin-settings/subscription"]})),c.a.createElement(l.b,Object.assign({},e,{component:Ke,path:["/admin-settings/support"]})),c.a.createElement(l.b,Object.assign({},e,{component:Rt,path:["/admin-settings/company"]})),c.a.createElement(l.b,Object.assign({},e,{component:xn,path:["/admin-settings/impersonation"]})),c.a.createElement(l.b,Object.assign({},e,{component:Wt,path:["/admin-settings/security"]})),c.a.createElement(l.b,Object.assign({},e,{component:On,path:["/admin-settings/driff"]})),c.a.createElement(l.a,{from:"*",to:{pathname:"/admin-settings/settings"}})))};function Bn(){var e=Object(a.a)(["\n  overflow: hidden auto;\n  .app-block {\n    overflow: inherit;\n    .app-content {\n      height: auto;\n    }\n  }\n"]);return Bn=function(){return e},e}var Mn=i.b.div(Bn());t.default=function(e){return c.a.createElement(Mn,{className:"container-fluid h-100 fadeIn"},c.a.createElement("div",{className:"row app-block"},c.a.createElement(f,null),c.a.createElement("div",{className:"col-lg-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(Un,null))))}}}]);