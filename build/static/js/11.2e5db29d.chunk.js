(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[11,22,23],{785:function(e,a,t){"use strict";t.r(a);var n=t(10),l=t(1),c=t(7),r=t(5),i=t(0),o=t.n(i),s=t(6),m=t(43),d=t(770),u=t(761),p=t(763),b=t(760),f=t(762),E=t(241),v=t(4),O=t(15),g=t(13),N=t(12),h=t(75),k=t(248),j=t(11),y=t(19);function C(){var e=Object(r.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .row-user-profile-panel {\n    justify-content: center;\n\n    .avatar {\n      width: 68px;\n      height: 68px;\n    }\n\n    input.designation {\n      &::-webkit-input-placeholder {\n        font-size: 12px;\n      }\n      &:-ms-input-placeholder {\n        font-size: 12px;\n      }\n      &::placeholder {\n        font-size: 12px;\n      }\n    }\n\n    .col-label {\n      max-width: 130px;\n\n      @media only screen and (min-width: 1200px) {\n        max-width: 180px;\n      }\n    }\n  }\n\n  .close {\n    border-radius: 100%;\n    padding: 2px;\n  }\n\n  label {\n    padding: 5px 10px;\n    border-radius: 6px;\n    width: 100%;\n  }\n\n  .btn-toggle {\n    &:hover {\n      .input-group-text {\n        border: 1px solid #e1e1e1;\n        background: #fff;\n        color: ",";\n      }\n    }\n    .input-group-text {\n      border: 1px solid #",";\n      background: ",";\n      color: #fff;\n    }\n    svg {\n      cursor: pointer;\n    }\n  }\n\n  .avatar-container {\n    cursor: pointer;\n    position: relative;\n    width: 68px;\n    height: 68px;\n    margin: 0 auto;\n\n    .edit-avatar {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      background-color: #fff;\n      border-radius: 50px 50px 50px 50px;\n      height: 25px;\n      width: 25px;\n      padding: 5px;\n      border-color: rgba(0, 0, 0, 0.2);\n      color: #a5aeb3;\n      border-width: 1px;\n      color: #212529;\n      svg {\n        width: 1rem;\n        height: 1rem;\n      }\n    }\n    :hover {\n      svg {\n        color: ",";\n      }\n    }\n    .dark & {\n      svg {\n        color: #fff;\n      }\n    }\n  }\n\n  .form-group {\n    &.designation {\n      margin: 0 auto;\n      width: 66.66%;\n    }\n  }\n"]);return C=function(){return e},e}var w=v.b.div(C(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}));a.default=o.a.memo((function(e){var a=e.className,t=void 0===a?"":a,r=Object(m.g)(),v=Object(s.c)(),C=Object(j.bb)(),_=Object(j.kb)(),T=_.users,x=_.loggedUser,S=Object(j.ib)(),I=S.checkEmail,P=S.fetchById,A=S.getReadOnlyFields,R=S.getRequiredFields,F=S.update,L=S.updateProfileImage,M=Object(j.jb)().selectUserChannel,D=T[e.match.params.id],H=D&&x.id===D.id,U=A(D?D.import_from:""),B=R(D?D.import_from:""),V=Object(i.useState)(!1),W=Object(c.a)(V,2),K=W[0],z=W[1],G=Object(i.useState)(!1),Y=Object(c.a)(G,2),q=Y[0],Z=Y[1],J=Object(i.useState)(!1),Q=Object(c.a)(J,2),X=Q[0],$=Q[1],ee=Object(i.useState)(!1),ae=Object(c.a)(ee,2),te=ae[0],ne=ae[1],le=Object(i.useState)(D&&D.loaded?D:{}),ce=Object(c.a)(le,2),re=ce[0],ie=ce[1],oe=Object(i.useState)({valid:{},feedbackState:{},feedbackText:{}}),se=Object(c.a)(oe,2),me=se[0],de=se[1],ue={dropZoneRef:Object(i.useRef)(null),first_name:Object(i.useRef)(null),password:Object(i.useRef)(null)},pe=Object(j.gb)()._t,be={companyName:pe("PROFILE.COMPANY_NAME","Company name"),information:pe("PROFILE.INFORMATION","Information"),firstName:pe("PROFILE.FIRST_NAME","First name:"),middleName:pe("PROFILE.MIDDLE_NAME","Middle name:"),lastName:pe("PROFILE.LAST_NAME","Last name:"),password:pe("PROFILE.PASSWORD","Password:"),position:pe("PROFILE.POSITION","Position:"),city:pe("PROFILE.CITY","City:"),address:pe("PROFILE.ADDRESS","Address:"),zip_code:pe("PROFILE.ZIP_POST_CODE","ZIP/POST code:"),phone:pe("PROFILE.PHONE","Phone:"),email:pe("PROFILE.EMAIL","Email:"),edit:pe("BUTTON.EDIT","Edit"),saveChanges:pe("BUTTON.SAVE_CHANGES","Save changes"),cancel:pe("BUTTON.CANCEL","Cancel"),clickToChangePassword:pe("PROFILE.CLICK_TO_CHANGE_PASSWORD","Click to change your password"),external:pe("PROFILE.EXTERNAL","External")},fe=x&&"internal"===x.type&&D&&"external"===D.type&&1===D.active||x&&x.role&&("admin"===x.role.name||"owner"===x.role.name),Ee=function(e){if("boolean"===typeof e)return e?"is-valid":"is-invalid"},ve=function(){z((function(e){return!e})),ie(Object(l.a)({},D)),de({valid:{},feedbackState:{},feedbackText:{}}),$(!1)},Oe=function(e){if(null!==e.target){var a=e.target,t=a.name,c=a.value;ie((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(n.a)({},t,c.trim()))}))}},ge=function(e){if(null!==e.target){var a=e.target,t=a.name,c=a.value;if(D[t]===re[t])return void de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},Object(n.a)({},t,void 0)),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},Object(n.a)({},t,void 0)),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},Object(n.a)({},t,void 0))}}));"email"===t?B.includes(t)&&""===c.trim()?de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},Object(n.a)({},t,!1)),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},Object(n.a)({},t,!1)),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},Object(n.a)({},t,"Email is required"))}})):""===c.trim()||O.a.test(c.trim())?I(re.email,(function(e,a){a&&(a.data.status?de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},Object(n.a)({},t,!1)),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},Object(n.a)({},t,!1)),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},Object(n.a)({},t,"Email is already taken"))}})):de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},Object(n.a)({},t,!0)),feedbackState:Object(l.a)({},e.feedbackState),feedbackText:Object(l.a)({},e.feedbackText)}})))})):de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},Object(n.a)({},t,!1)),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},Object(n.a)({},t,!1)),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},Object(n.a)({},t,"Invalid email format"))}})):B.includes(t)?de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},Object(n.a)({},t,""!==c.trim())),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},Object(n.a)({},t,""!==c.trim())),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},Object(n.a)({},t,""===c.trim()?"Field is required.":""))}})):de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},Object(n.a)({},t,!0)),feedbackState:e.feedbackState,feedbackText:e.feedbackText}}))}},Ne=function(){ne(!1)},he=function(e,a){ie((function(e){return Object(l.a)(Object(l.a)({},e),{},{profile_image_link:a})})),de((function(a){return{valid:Object(l.a)(Object(l.a)({},a.valid),{},{profile_image_link:!0}),feedbackState:Object(l.a)({},a.feedbackState),feedbackText:Object(l.a)(Object(l.a)({},a.feedbackText),{},{profile_image_link:e})}})),z(!0),C.info(o.a.createElement(o.a.Fragment,null,"Click the ",o.a.createElement("b",null,"Save Changes")," button to update your profile image."))};return Object(i.useEffect)((function(){(!e.match.params.hasOwnProperty("id")||e.match.params.hasOwnProperty("id")&&!e.match.params.hasOwnProperty("name")&&parseInt(e.match.params.id)===x.id)&&r.push("/profile/".concat(x.id,"/").concat(Object(O.h)(x.name)))}),[]),Object(i.useEffect)((function(){var a=T[e.match.params.id]?T[e.match.params.id]:{};a.hasOwnProperty("loaded")?re.id!==a.id&&ie(a):P(e.match.params.id)}),[e.match.params.id,T,ie]),Object(i.useEffect)((function(){"edit"===e.match.params.mode&&re.id&&x.id===re.id&&(r.push("/profile/".concat(re.id,"/").concat(Object(O.h)(re.name))),z(!0)),"view"===e.match.params.mode&&re.id&&x.id===re.id&&(r.push("/profile/".concat(re.id,"/").concat(Object(O.h)(re.name))),z(!1))}),[re,e.match.params.mode]),Object(i.useEffect)((function(){X&&ue.password.current&&ue.password.current.focus()}),[X,ue.password]),Object(i.useEffect)((function(){K&&ue.first_name.current&&ue.first_name.current.focus()}),[K,ue.first_name]),T[e.match.params.id]?o.a.createElement(w,{className:"user-profile-panel container-fluid h-100 ".concat(t)},o.a.createElement("div",{className:"row row-user-profile-panel"},o.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body text-center",onDragOver:function(){te||ne(!0)}},(H||fe)&&o.a.createElement(h.a,{acceptType:"imageOnly",hide:!te,ref:ue.dropZoneRef,onDragLeave:Ne,onDrop:function(e){!function(e){0===e.length?C.error("File type not allowed. Please use an image file."):e.length>1&&C.warning("Multiple files detected. First selected image will be used.");var a={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:he};v(Object(g.a)(a,(function(){Ne()})))}(e.acceptedFiles)},onCancel:Ne}),o.a.createElement("div",{className:"avatar-container"},o.a.createElement(N.a,{imageLink:re.profile_image_link,name:re.name?re.name:re.email,noDefaultClick:!0,forceThumbnail:!1}),(H||fe)&&o.a.createElement("span",{className:"btn edit-avatar",onClick:function(){K||z(!0),ue.dropZoneRef.current.open()}},o.a.createElement(N.s,{icon:"pencil"}))),K?o.a.createElement("h5",{className:"mb-1 mt-2"},re.first_name," ",re.middle_name," ",re.last_name):o.a.createElement("h5",{className:"mb-1 mt-2"},D.first_name," ",D.middle_name," ",D.last_name),K&&!U.includes("designation")?o.a.createElement("div",{className:"text-muted small d-flex align-items-center mt-2"},o.a.createElement(y.f,{placeholder:"Job Title eg. Manager, Team Leader, Designer",className:"designation",name:"designation",onChange:Oe,onBlur:ge,defaultValue:D.designation,isValid:me.feedbackState.designation,valid:me.feedbackText.designation})):o.a.createElement("p",{className:"text-muted small"},D.designation),x.id!==D.id&&o.a.createElement("div",{className:"d-flex justify-content-center"},""!==D.contact&&"internal"===x.type&&o.a.createElement("button",{className:"btn btn-outline-light mr-1"},o.a.createElement("a",{href:"tel:".concat(D.contact.replace(/ /g,"").replace(/-/g,""))},o.a.createElement(N.s,{className:"",icon:"phone"}))),"external"!==D.type&&"internal"===x.type&&o.a.createElement("button",{className:"ml-1 btn btn-outline-light"},o.a.createElement(N.s,{onClick:function(){!function(e){M(e)}(D)},icon:"message-circle"}))))),o.a.createElement("div",{className:"card"},K?o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},be.information),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.firstName),o.a.createElement("div",{className:"col col-form"},U.includes("first_name")?o.a.createElement(d.a,null,D.first_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:Ee(me.valid.first_name),innerRef:ue.first_name,name:"first_name",onChange:Oe,onBlur:ge,defaultValue:D.first_name}),o.a.createElement(k.a,{valid:me.feedbackState.first_name},me.feedbackText.first_name)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.middleName),o.a.createElement("div",{className:"col col-form"},U.includes("middle_name")?o.a.createElement(d.a,null,D.middle_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:Ee(me.valid.middle_name),name:"middle_name",onChange:Oe,onBlur:ge,defaultValue:D.middle_name}),o.a.createElement(k.a,{valid:me.feedbackState.middle_name},me.feedbackText.middle_name)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.lastName),o.a.createElement("div",{className:"col col-form"},U.includes("last_name")?o.a.createElement(d.a,null,D.last_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:Ee(me.valid.last_name),name:"last_name",onChange:Oe,onBlur:ge,defaultValue:D.last_name}),o.a.createElement(k.a,{valid:me.feedbackState.last_name},me.feedbackText.last_name)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.password),o.a.createElement("div",{className:"col col-form"},U.includes("password")||fe?o.a.createElement(d.a,null,"*****"):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{onClick:function(){$((function(e){return!e}))},className:"cursor-pointer mb-0 ".concat(X?"d-none":"")},be.clickToChangePassword),o.a.createElement(p.a,{className:"form-group-password mb-0 ".concat(X?"":"d-none")},o.a.createElement(b.a,null,o.a.createElement(u.a,{className:Ee(me.valid.password),innerRef:ue.password,name:"password",onChange:Oe,onBlur:ge,defaultValue:"",type:q?"text":"password"}),o.a.createElement(f.a,{className:"btn-toggle",addonType:"append"},o.a.createElement(E.a,{className:"btn",onClick:function(){Z((function(e){return!e}))}},o.a.createElement(N.s,{icon:q?"eye-off":"eye"})))),o.a.createElement(k.a,{valid:me.feedbackState.password},me.feedbackText.password))))),"external"===D.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.companyName),o.a.createElement("div",{className:"col col-form"},U.includes("company_name")?o.a.createElement(d.a,null,D.external_company_name&&D.external_company_name):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:Ee(!0),name:"company_name",disabled:fe||!H,onChange:Oe,onBlur:ge,defaultValue:D.external_company_name?D.external_company_name:""})))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.city),o.a.createElement("div",{className:"col col-form"},U.includes("place")?o.a.createElement(d.a,null,D.place):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:Ee(me.valid.place),name:"place",onChange:Oe,onBlur:ge,defaultValue:D.place}),o.a.createElement(k.a,{valid:me.feedbackState.place},me.feedbackText.place)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.address),o.a.createElement("div",{className:"col col-form"},U.includes("address")?o.a.createElement(d.a,null,D.address):o.a.createElement(o.a.Fragment,null,o.a.createElement(y.f,{name:"address",onChange:Oe,onBlur:ge,defaultValue:D.address,isValid:me.feedbackState.address,feedback:me.feedbackText.address})))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.phone),o.a.createElement("div",{className:"col col-form"},U.includes("contact")?o.a.createElement(d.a,null,D.contact):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:Ee(me.valid.contact),name:"contact",onChange:Oe,onBlur:ge,defaultValue:D.contact}),o.a.createElement(k.a,{valid:me.feedbackState.contact},me.feedbackText.contact)))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.email),o.a.createElement("div",{className:"col col-form"},U.includes("email")?o.a.createElement(d.a,null,D.email):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{type:"email",className:Ee(me.valid.email),name:"email",onChange:Oe,onBlur:ge,defaultValue:D.email}),o.a.createElement(k.a,{valid:me.feedbackState.email},me.feedbackText.email)))),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-between align-items-center mt-0"},o.a.createElement("div",null,"\xa0"),o.a.createElement("div",null,o.a.createElement("span",{onClick:ve,className:"btn btn-outline-light mr-2"},be.cancel),o.a.createElement("span",{onClick:function(){!1===Object.values(me.valid).find((function(e){return!1===e}))?C.error("Some fields require your attention."):!0===Object.values(me.valid).find((function(e){return!0===e}))?re.profile_image_link!==D.profile_image_link?L(re,me.feedbackText.profile_image_link,(function(e,a){a&&z(!1)})):fe?D.email!==re.email?F(Object(l.a)(Object(l.a)({},re),{},{change_email:1}),(function(e,a){a&&z(!1)})):F(Object(l.a)({},re),(function(e,a){a&&z(!1)})):F(re,(function(e,a){a&&z(!1)})):(D&&re.email&&D.email!==re.email?B.includes("email")&&""===re.email.trim()?de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},{email:!1}),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},{email:"Email is required"})}})):""===re.email.trim()||O.a.test(re.email.trim())?I(re.email,(function(e,a){a&&(a.data.status?de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},{email:!1}),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},{email:"Email is already taken"})}})):fe?D.email!==re.email?F(Object(l.a)(Object(l.a)({},re),{},{change_email:1}),(function(e,a){a&&z(!1)})):F(Object(l.a)({},re),(function(e,a){a&&z(!1)})):F(re,(function(e,a){a&&z(!1)})))})):de((function(e){return{valid:Object(l.a)(Object(l.a)({},e.valid),{},{email:!1}),feedbackState:Object(l.a)(Object(l.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(l.a)(Object(l.a)({},e.feedbackText),{},{email:"Invalid email format"})}})):C.info("Nothing was updated."),z(!1))},className:"btn btn-primary"},be.saveChanges)))):o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},be.information,H||fe?o.a.createElement("span",{onClick:ve,className:"btn btn-outline-light btn-sm"},o.a.createElement(N.s,{className:"mr-2",icon:"edit-2"})," ",be.edit):null),D.first_name&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.firstName),o.a.createElement("div",{className:"col col-form"},D.first_name)),D.middle_name&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.middleName),o.a.createElement("div",{className:"col col-form"},D.middle_name)),D.last_name&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.lastName),o.a.createElement("div",{className:"col col-form"},D.last_name)),D.id===x.id&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.password),o.a.createElement("div",{className:"col col-form"},"*****")),"external"===D.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.companyName),o.a.createElement("div",{className:"col col-form"},D.external_company_name&&D.external_company_name)),D.role&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.position),o.a.createElement("div",{className:"col col-form"},"external"===D.type?be.external:D.role.name)),D.place&&"internal"===x.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.city),o.a.createElement("div",{className:"col col-form"},D.place)),D.address&&"internal"===x.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.address),o.a.createElement("div",{className:"col col-form"},D.address)),D.contact&&"internal"===x.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.phone),o.a.createElement("div",{className:"col col-form"},D.contact)),D.email&&"internal"===x.type&&o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col col-label text-muted"},be.email),o.a.createElement("div",{className:"col col-form cursor-pointer",onClick:function(){window.location.href="mailto:".concat(D.email)}},D.email))))))):o.a.createElement(o.a.Fragment,null)}))},786:function(e,a,t){"use strict";t.r(a);var n=t(7),l=t(5),c=t(0),r=t.n(c),i=t(4),o=t(12),s=t(11);function m(){var e=Object(l.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return m=function(){return e},e}var d=i.b.div(m()),u=function(e){var a=e.actions,t=e.clearTab,l=e.value,i=Object(c.useState)(l),m=Object(n.a)(i,2),u=m[0],p=m[1],b=function(){""!==u.trim()&&(t(),a.search({search:u,skip:0,limit:10}),a.saveSearchValue({value:u}))};Object(c.useEffect)((function(){p(l)}),[l]),Object(c.useEffect)((function(){return function(){a.saveSearchValue({value:""})}}),[]);var f=Object(s.gb)()._t,E={searchGlobalPlaceholder:f("PLACEHOLDER.SEARCH_GLOBAL","Search for anything in this Driff"),whatDoYouWantToFind:f("SEARCH.WHAT_DO_YOU_WANT_TO_FIND","What do you want to find?")};return r.a.createElement(d,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("div",null,r.a.createElement("h2",{className:"mb-4 text-center"},E.whatDoYouWantToFind),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==l&&(t(),a.saveSearchValue({value:""})),p(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&b()},type:"text",className:"form-control",placeholder:E.searchGlobalPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:u}),""!==u.trim()&&r.a.createElement("button",{onClick:function(){p(""),t(),a.search({search:"",skip:0,limit:10}),a.saveSearchValue({value:""})},className:"btn-cross",type:"button"},r.a.createElement(o.s,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:b},r.a.createElement(o.s,{icon:"search"}))))))))};function p(){var e=Object(l.a)(["\n  &.nav-pills .nav-link.active {\n    background-color: ",";\n  }\n"]);return p=function(){return e},e}var b=i.b.ul(p(),(function(e){return e.theme.colors.primary})),f=function(e){var a=e.activeTab,t=e.onSelectTab,n=e.tabs,l=e.dictionary;return r.a.createElement(b,{className:"nav nav-pills mb-4",role:"tablist"},n.hasOwnProperty("CHANNEL")&&Object.keys(n.CHANNEL).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("channel"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"channel",role:"tab","aria-controls":"clasic","aria-selected":"true"},l.chatChannel)),n.hasOwnProperty("CHAT")&&Object.keys(n.CHAT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("chat"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"chat",role:"tab","aria-controls":"clasic","aria-selected":"true"},l.message)),n.hasOwnProperty("COMMENT")&&Object.keys(n.COMMENT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("comment"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"comment",role:"tab","aria-controls":"clasic","aria-selected":"true"},l.comment)),n.hasOwnProperty("DOCUMENT")&&Object.keys(n.DOCUMENT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("document"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"document",role:"tab","aria-controls":"articles","aria-selected":"false"},l.files)),n.hasOwnProperty("PEOPLE")&&Object.keys(n.PEOPLE).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("people"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"people",role:"tab","aria-controls":"users","aria-selected":"false"},l.people)),n.hasOwnProperty("POST")&&Object.keys(n.POST).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("post"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"post",role:"tab","aria-controls":"photos","aria-selected":"false"},l.posts)),n.hasOwnProperty("WORKSPACE")&&Object.keys(n.WORKSPACE).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("workspace"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"workspace",role:"tab","aria-controls":"photos","aria-selected":"false"},l.workspace)))},E=function(e){var a=e.activeTab,t=e.tabs,n=e.redirect;return r.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},r.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"channel"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("CHANNEL")&&r.a.createElement(v,{channels:t.CHANNEL.items,page:t.CHANNEL.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"chat"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("CHAT")&&r.a.createElement(g,{chats:t.CHAT.items,page:t.CHAT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"comment"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("COMMENT")&&r.a.createElement(j,{comments:t.COMMENT.items,page:t.COMMENT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"document"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("DOCUMENT")&&r.a.createElement(I,{files:t.DOCUMENT.items,page:t.DOCUMENT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"people"===a)&&"active show"),id:"users",role:"tabpanel"},t.hasOwnProperty("PEOPLE")&&r.a.createElement(S,{people:t.PEOPLE.items,page:t.PEOPLE.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"post"===a)&&"active show"),id:"photos",role:"tabpanel"},t.hasOwnProperty("POST")&&r.a.createElement(A,{posts:t.POST.items,page:t.POST.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"workspace"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("WORKSPACE")&&r.a.createElement(U,{workspaces:t.WORKSPACE.items,page:t.WORKSPACE.page,redirect:n})))},v=function(e){var a=e.channels,t=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return e.data?r.a.createElement(O,{key:e.id,data:e.data,redirect:n}):null})))},O=function(e){var a=e.data,t=e.redirect,n=a.channel;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("h5",{onClick:function(){t.toChannel(n)}},n.title))},g=function(e){var a=e.chats,t=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).filter((function(e){return e.data&&null!==e.data.message})).map((function(e){return r.a.createElement(k,{key:e.id,data:e.data,redirect:n})})))};function N(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]);return N=function(){return e},e}var h=i.b.li(N()),k=function(e){var a=e.data,t=e.redirect,n=a.channel,l=a.message;return r.a.createElement(h,{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("div",null,r.a.createElement(o.a,{id:l.user.id,name:l.user.name,imageLink:l.user.profile_image_thumbnail_link?l.user.profile_image_thumbnail_link:l.user.profile_image_link,showSlider:!0})),r.a.createElement("div",{className:"ml-2",onClick:function(){t.toChat(n,l)}},r.a.createElement("p",null,l.user.name," - ",n.title),r.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:l.body}})))},j=function(e){var a=e.comments,t=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(T,{key:e.id,comment:e,redirect:n})})))};function y(){var e=Object(l.a)(["\n  img {\n    max-height: 200px;\n    padding: 20px;\n    margin-top: 20px;\n    float: right;\n  }\n  p {\n    display: none;\n    &:nth-child(1),\n    &:nth-child(2),\n    &:nth-child(3),\n    &:nth-child(4),\n    &:nth-child(5) {\n      display: block;\n    }\n  }\n"]);return y=function(){return e},e}function C(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]);return C=function(){return e},e}var w=i.b.li(C()),_=i.b.div(y()),T=function(e){var a=e.comment,t=e.redirect,n=a.data;return r.a.createElement(w,{className:"list-group-item p-l-0 p-r-0",onClick:function(){if(null!==n)if(n.workspaces.length){var e={id:n.workspaces[0].topic.id,name:n.workspaces[0].topic.name,folder_id:n.workspaces[0].workspace?n.workspaces[0].workspace.id:null,folder_name:n.workspaces[0].workspace?n.workspaces[0].workspace.name:null};t.toPost({workspace:e,post:n.post},{focusOnMessage:n.comment.id})}else t.toPost({workspace:null,post:n.post},{focusOnMessage:n.comment.id})}},null!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(o.a,{id:n.comment.author.id,name:n.comment.author.name,imageLink:(n.comment.author.profile_image_link,n.comment.author.profile_image_thumbnail_link),showSlider:!0})),r.a.createElement("div",{className:"ml-2"},r.a.createElement("p",null,n.comment.author.name),r.a.createElement(_,{className:"text-muted",dangerouslySetInnerHTML:{__html:n.comment.body}}))),null===n&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:a.search_body}})))},x=function(e){var a=e.user,t=e.redirect;return r.a.createElement("li",{className:"list-group-item p-l-r-0"},r.a.createElement("div",{className:"media",onClick:function(){t.toPeople(a)}},r.a.createElement(o.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,className:"mr-2"}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",{className:"m-0"},a.name))))},S=function(e){var a=e.page,t=e.people,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.keys(t).length>0&&Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return r.a.createElement(x,{key:e.id,user:e.data,redirect:n})})))},I=function(e){var a=e.files,t=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(P,{key:e.data.id,file:e.data,redirect:n})})))},P=function(e){var a=e.file,t=e.redirect;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("label",{onClick:function(){t.toFiles(a)}},a.name))},A=function(e){var a=e.page,t=e.posts,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return r.a.createElement(R,{key:e.id,data:e.data,redirect:n})})))},R=function(e){var a=e.data,t=e.redirect,n=a.post,l=a.workspaces,c=Object(s.ab)().localizeChatDate;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("div",{onClick:function(){var e=null;l.length&&(e={id:l[0].topic.id,name:l[0].topic.name,folder_id:l[0].workspace?l[0].workspace.id:null,folder_name:l[0].workspace?l[0].workspace.name:null}),t.toPost({post:n,workspace:e})}},r.a.createElement("h5",null,n.title),r.a.createElement("div",{className:"text-muted font-size-13"},r.a.createElement("div",null,c(n.created_at.timestamp)))))},F=t(1),L=t(784),M=t.n(L),D=function(e){var a=e.actions,t=e.activeTab,l=e.tabs,i=e.value,o=Object(c.useState)(!1),s=Object(n.a)(o,2),m=s[0],d=s[1],u=function(e,n){var l=t;"workspace"===t?l="topic":"people"===t&&(l="user"),d(!0),a.search({search:i,skip:e,limit:n,tag:l},(function(e,a){d(!1)}))};if(Object(c.useEffect)((function(){if(t&&!m){var e=l[t.toUpperCase()].page,a=l[t.toUpperCase()].count;(1===e&&a<10&&l[t.toUpperCase()].total_count>10||1===e&&0===a)&&u(a,10)}}),[l,t,m]),t&&l[t.toUpperCase()].maxPage<=1||null===t)return null;var p=l[t.toUpperCase()].page,b=l[t.toUpperCase()].maxPage;return r.a.createElement("nav",{className:"mt-3"},r.a.createElement(M.a,{forcePage:p-1,previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:b,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1,c=l[t.toUpperCase()].items.slice(n>1?10*n-10:0,10*n),r=l[t.toUpperCase()].count;10!==c.length&&u(r,10*n);var i=Object(F.a)(Object(F.a)({},l[t.toUpperCase()]),{},{page:n,key:t.toUpperCase()});a.updateTabPage(i)},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},H=t(6),U=function(e){var a=e.page,t=e.workspaces,n=e.redirect,l=Object(H.d)((function(e){return e.workspaces.workspaces}));return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return r.a.createElement(B,{key:e.id,data:e.data,redirect:n,workspaces:l})})))},B=function(e){var a=e.data,t=e.redirect,n=e.workspaces,l=a.topic,c=a.workspace;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("h5",{onClick:function(){var e={id:l.id,name:l.name,folder_id:c?c.id:null,folder_name:c?c.name:null};n.hasOwnProperty(l.id)?t.toWorkspace(e):t.fetchWorkspaceAndRedirect(e)}},l.name))};function V(){var e=Object(l.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: ",";\n    }\n  }\n  .text-primary {\n    color: ","!important;\n  }\n"]);return V=function(){return e},e}var W=i.b.div(V(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}));a.default=r.a.memo((function(e){var a=e.className,t=void 0===a?"":a,l=Object(s.O)(),i=Object(s.R)(),m=Object(s.Q)(),d=m.count,p=m.results,b=m.searching,v=m.tabs,O=m.value,g=Object(s.gb)()._t,N={searching:g("SEARCH.SEARCHING","Searching"),chatChannel:g("SEARCH.TAB_CHAT_CHANNEL","Chat channel"),message:g("SEARCH.TAB_MESSAGE","Message"),comment:g("SEARCH.TAB_COMMENT","Comment"),files:g("SEARCH.TAB_FILES","Files"),people:g("SEARCH.TAB_PEOPLE","People"),posts:g("SEARCH.TAB_POSTS","Posts"),workspace:g("SEARCH.TAB_WORKSPACE","Workspace")},h=Object(c.useState)(null),k=Object(n.a)(h,2),j=k[0],y=k[1];Object(c.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),function(){return document.getElementById("main").removeAttribute("style")}}),[]),Object(c.useEffect)((function(){if(Object.keys(v).length&&null===j){var e=Object.keys(v)[0];y(e.toLowerCase())}else 0===Object.keys(v).length&&null!==j&&y(null)}),[v,j]);return r.a.createElement(W,{className:"user-search-panel container-fluid h-100 ".concat(t)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(u,{actions:i,value:O,clearTab:function(){return y(null)}}),""!==O&&r.a.createElement("h4",{className:"mb-5"},r.a.createElement(o.s,{icon:"search"}),b&&r.a.createElement("span",null,N.searching," ",r.a.createElement("span",{className:"text-primary"},"\u201c",O,"\u201d")),!b&&r.a.createElement("span",null,g("SEARCH.RESULTS_FOUND","::count:: results found for:",{count:d})," ",r.a.createElement("span",{className:"text-primary"},"\u201c",O,"\u201d"))),r.a.createElement(f,{activeTab:j,onSelectTab:function(e){e.currentTarget.dataset.value!==j&&y(e.currentTarget.dataset.value)},tabs:v,dictionary:N}),r.a.createElement(E,{activeTab:j,results:p,tabs:v,redirect:l}),d>0&&r.a.createElement(D,{activeTab:j,tabs:v,actions:i,value:O}))))))}))},874:function(e,a,t){"use strict";t.r(a);var n=t(5),l=t(0),c=t.n(l),r=t(43),i=t(6),o=t(4),s=t(11),m=t(348),d=t(12);t(785),t(786);function u(){var e=Object(n.a)(["\n  font-family: Inter;\n  letter-spacing: 0;\n  text-align: center;\n  font-size: 12px;\n  p {\n    padding: 0 !important;\n    margin: 0 !important;\n    color: #8b8b8b;\n    text-align: center;\n    line-height: 15px;\n  }\n  span {\n    text-align: center;\n    cursor: pointer;\n  }\n\n  .app-sidebar-menu {\n    padding: 2em 1em;\n    text-align: center;\n  }\n  .app-sidebar-menu p {\n    padding: 0 !important;\n    margin: 0 !important;\n    color: #8b8b8b;\n    line-height: 15px;\n  }\n  .app-sidebar-menu p:last-child {\n    padding-bottom: 1em !important;\n  }\n  .app-sidebar-menu span {\n    text-decoration: underline !important;\n    margin-top: 1em;\n    display: block;\n    cursor: pointer;\n  }\n  .app-sidebar-menu p:nth-of-type(2) {\n    font-weight: bold;\n    color: ",";\n  }\n"]);return u=function(){return e},e}var p=o.b.div(u(),(function(e){return"1"===e.darkMode?"#afb8bd":"#000000"})),b=c.a.memo((function(e){var a=e.className,t=void 0===a?"":a,n=e.dictionary,l=e.user,i=e.unreadNotifications,o=e.darkMode,m=Object(r.g)(),d=Object(s.E)();return c.a.createElement(p,{className:"bottom-modal-mobile ".concat(t),darkMode:o},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},c.a.createElement("p",null,"\ud83d\udcec"),c.a.createElement("p",null,n.howdy," ",l.first_name),c.a.createElement("p",null,n.notificationCount1," ",i," ",n.notificationCount2),c.a.createElement("span",{onClick:function(e){e.preventDefault(),d.readAll({})}},n.markAllAsRead),c.a.createElement("span",{onClick:function(){return d.removeAll()}},"Clear notifications"))),c.a.createElement("p",null,n.improve),c.a.createElement("span",{className:"text-primary",onClick:function(){m.push("/settings")}},n.viewSettings))}));function f(){var e=Object(n.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: ",";\n    }\n  }\n  overflow: auto;\n"]);return f=function(){return e},e}var E=o.b.div(f(),(function(e){return e.theme.colors.primary}));a.default=c.a.memo((function(e){var a=e.className,t=void 0===a?"":a,n=Object(i.d)((function(e){return e.session.user})),l=Object(r.g)(),o=Object(s.E)(),u=Object(s.F)(),p=u.notifications,f=u.unreadNotifications,v=Object(s.gb)()._t,O=Object(s.O)(),g=Object(s.T)().generalSettings.dark_mode,N={new:v("NOTIFICATION.NEW","New"),markAllAsRead:v("NOTIFICATION.MARK_ALL_AS_READ","Mark all as read"),oldNotifications:v("NOTIFICATION.OLD_NOTIFICATIONS","Old notifications"),noNotificationsToShow:v("NOTIFICATION.NO_NOTIFICATIONS_TO_SHOW","There are no notifications to show."),howdy:v("NOTIFICATION.HOWDY","Here you go, "),notificationCount1:v("NOTIFICATION.NOTIFICATIONCOUNT1","You have"),notificationCount2:v("NOTIFICATION.NOTIFICATIONCOUNT2","new notifications."),viewSettings:v("NOTIFICATION.VIEW_SETTINGS","View Settings"),improve:v("NOTIFICATION.IMPROVE_NOTIFICATIONS","Improve your notifications"),mustRead:v("NOTIFICATION.MUST_READ","Must read"),needsReply:v("NOTIFICATION.NEEDS_REPLY","Needs reply")},h=Object.values(p).sort((function(e,a){return a.created_at.timestamp-e.created_at.timestamp}));return c.a.createElement(E,{className:"user-profile-panel container-fluid h-100 ".concat(t)},c.a.createElement("div",{className:"row row-user-profile-panel"},c.a.createElement(b,{className:"col-md-3",dictionary:N,user:n,unreadNotifications:f,darkMode:g}),c.a.createElement("div",{className:"col-md-6"},h.length>0&&c.a.createElement("div",{className:"card app-content-body mb-4 "},c.a.createElement("div",{className:"card-body ",style:{padding:"0px"}},c.a.createElement("div",{className:"timeline"},h.map((function(e){return c.a.createElement(m.c,{key:e.id,notification:e,actions:o,history:l,redirect:O,user:n,_t:v,darkMode:g})}))))),!h.length&&c.a.createElement("div",{className:"card empty-notification"},c.a.createElement("h4",{className:"text-primary"},N.noNotificationsToShow),c.a.createElement("div",{className:"card-body d-flex justify-content-center align-items-center"},c.a.createElement(d.q,{icon:1,height:330}))))))}))}}]);