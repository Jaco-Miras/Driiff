(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[6],{780:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var a,i,r,o,c,s,l=n(1),d=n(7),m=n(5),p=n(0),u=n.n(p),f=n(4),h=n(12),b=n(783),E=n(72),g=f.a.div(a||(a=Object(m.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),O=Object(f.a)(h.s)(i||(i=Object(m.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),v=u.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.file,r=e.actions,o=e.isMember,c=e.forceDelete,s=void 0!==c&&c,m=e.disableOptions,f=r.getFileSizeUnit(i.hasOwnProperty("size")&&"number"===typeof i.size?i.size:0),v=Object(p.useState)(i.is_favorite),_=Object(d.a)(v,2),w=_[0],T=_[1],N=function(){r.viewFiles(i)};return u.a.createElement(g,{className:"file-list-item ".concat(n)},u.a.createElement("div",{className:"card  app-file-list"},u.a.createElement("div",{className:"string"===typeof i.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:N},!0===w&&u.a.createElement(O,{icon:"star"}),r.getFileIcon(i.mime_type),"number"===typeof i.id&&u.a.createElement(b.g,{file:i,folders:a,actions:Object(l.a)(Object(l.a)({},r),{},{favorite:function(){T((function(e){return!e})),r.favorite(i)}}),isMember:o,forceDelete:s,disableOptions:m}),"string"===typeof i.id&&u.a.createElement(E.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),u.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:N},u.a.createElement(h.t,{content:i.name?i.name:i.search},u.a.createElement("div",{className:"file-name"},i.hasOwnProperty("payload_id")&&u.a.createElement(h.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),i.name?i.name:i.search)),u.a.createElement("div",{className:"text-muted"},f.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],f.unit))))})),_=n(45),w=n(15),T=n(262),N=n(11),k=n(260),y=n.n(k),A=f.a.div(r||(r=Object(m.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"])),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),j=Object(f.a)(h.s)(o||(o=Object(m.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]))),C=f.a.img(c||(c=Object(m.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"])),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),S=f.a.div(s||(s=Object(m.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]))),x=u.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.actions,r=e.isMember,o=e.history,c=e.params,s=e.handleAddEditFolder,m=e.disableOptions,f=Object(_.j)(),E=f.path,g=f.url,O=Object(p.useRef)(null),v=Object(p.useState)(!1),k=Object(d.a)(v,2),x=k[0],I=k[1],R=Object(p.useState)(a.bg_color?a.bg_color:""),P=Object(d.a)(R,2),D=P[0],L=P[1],F=function(e){if(e.preventDefault(),e.stopPropagation(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===E||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===E){var t=g.split("/folder/")[0];o.push(t+"/folder/".concat(a.id,"/").concat(Object(w.h)(a.search)))}else o.push(o.location.pathname+"/folder/".concat(a.id,"/").concat(Object(w.h)(a.search)))};return Object(p.useEffect)((function(){if(""!==D&&D!==a.bg_color&&!x){var e={id:a.id,name:a.search,bg_color:D,topic_id:c.workspaceId};a.parent_folder&&(e=Object(l.a)(Object(l.a)({},e),{},{folder_id:a.parent_folder.id})),i.updateFolder(e)}}),[x,D]),Object(p.useEffect)((function(){L(a.bg_color)}),[a.bg_color]),Object(N.G)(O,(function(){return I(!x)}),x),u.a.createElement(A,{className:"file-list-item ".concat(n),color:D},u.a.createElement("div",{className:"card  app-file-list"},u.a.createElement("div",{className:"app-file-icon cursor-pointer",onClick:F},u.a.createElement("div",{onClick:F},a.hasOwnProperty("payload")&&u.a.createElement(j,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),u.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!m&&u.a.createElement(b.m,{folder:a,actions:i,isMember:r,history:o,params:c,handleAddEditFolder:s}),u.a.createElement(C,{className:"color-picker",src:y.a,alt:"color picker",disableOptions:m,onClick:function(e){e.stopPropagation(),e.preventDefault(),I(!x)}})),x&&u.a.createElement(S,{ref:O},u.a.createElement(T.a,{color:D,onChange:function(e,t){t.stopPropagation(),L(e.hex)}}))),u.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:F},u.a.createElement(h.t,{content:a.search},u.a.createElement("div",{className:"file-name"},a.search)))))}))},781:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return g.a})),n.d(t,"b",(function(){return A}));var a,i,r,o,c=n(5),s=n(0),l=n.n(s),d=n(4),m=n(12),p=n(72),u=n(20),f=n(11),h=d.a.div(a||(a=Object(c.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .card-body {\n    padding: 1rem !important;\n    min-height: 90px;\n    width: 100%;\n    display: flex;\n  }\n"])),(function(e){return e.userNameMaxWidth})),b=Object(d.a)(m.b)(i||(i=Object(c.a)(["\n  .badge {\n    background: ",";\n  }\n"])),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),E=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.loggedUser,i=e.onNameClick,r=void 0===i?null:i,o=e.onChatClick,c=void 0===o?null:o,d=e.user,E=e.dictionary,g=e.showOptions,O=void 0!==g&&g,v=e.onUpdateRole,_=void 0===v?null:v,w=e.roles,T=e.onArchiveUser,N=void 0===T?null:T,k=e.onActivateUser,y=void 0===k?null:k,A=e.onChangeUserType,j=void 0===A?null:A,C=e.onDeleteUser,S=void 0===C?null:C,x=e.onResendInvite,I=void 0===x?null:x,R=e.onDeleteInvitedInternalUser,P=void 0===R?null:R,D=e.showInactive,L=void 0!==D&&D,F=e.showWorkspaceRole,M=void 0!==F&&F,U=e.usersWithoutActivity,H=void 0===U?[]:U,W=e.onAddUserToTeam,z=void 0===W?null:W,B=e.onDeleteTeamMember,G=void 0===B?null:B,V=Object(f.bb)(),Y={cardBody:Object(s.useRef)(null),content:Object(s.useRef)(null)},K=function(e){var t={user_id:d.id,role_id:w[e]};_(t)},q=function(){N(d)},Z=function(){y(d)};return l.a.createElement(h,{className:"workspace-user-item-list col-lg-4 col-md-6 ".concat(n)},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card border",key:d.id},l.a.createElement("div",{className:"card-body",ref:Y.cardBody},l.a.createElement("div",{ref:Y.content,className:"d-flex align-items-center justify-content-between w-100"},l.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},l.a.createElement(m.a,{id:d.id,name:d.name?d.name:d.email,hasAccepted:d.has_accepted,imageLink:d.profile_image_link,showSlider:!0}),l.a.createElement("div",{className:"user-info-wrapper ml-3"},""!==d.email&&d.hasOwnProperty("has_accepted")&&!d.has_accepted&&"external"===d.type?l.a.createElement("h6",{className:"user-name mb-0"},l.a.createElement(m.t,{content:d.email},l.a.createElement("div",{className:"mr-2 people-text-truncate"},""!==d.name?d.name:d.email)),l.a.createElement(m.b,{label:E.peopleInvited,badgeClassName:"badge badge-info text-white"}),l.a.createElement(m.b,{label:E.peopleExternal,badgeClassName:"badge badge-info text-white"})):l.a.createElement("h6",{className:"user-name mb-0",onClick:function(){r&&r(d)}},l.a.createElement("div",{className:"mr-2 d-flex"},l.a.createElement(m.t,{content:d.email},l.a.createElement("span",{className:"mr-2"},d.name)),d.hasOwnProperty("has_accepted")&&!d.has_accepted&&d.active?l.a.createElement(m.b,{label:E.peopleInvited,badgeClassName:"badge badge-info text-white"}):null,d.role&&("owner"===d.role.name||"admin"===d.role.name)&&l.a.createElement(m.t,{content:"This is an administrator account"},l.a.createElement(m.s,{icon:"settings",className:"ml-1",width:10,height:10}))),l.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===d.type&&"external"!==a.type&&l.a.createElement(m.b,{label:E.peopleExternal,badgeClassName:"badge badge-info text-white"}),0===d.active&&l.a.createElement(m.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}),M&&d.workspace_role&&""!==d.workspace_role&&l.a.createElement(b,{role:d.workspace_role,badgeClassName:"WATCHER"===d.workspace_role||"TEAM_LEAD"===d.workspace_role?"text-dark":"text-white",label:function(){switch(d.workspace_role){case"ADVISOR":return E.roleAdvisor;case"APPROVER":return E.roleApprover;case"CLIENT":return E.roleClient;case"COMMUNICATION_LEAD":return E.roleCommunicationLead;case"DEVELOPER":return E.roleDeveloper;case"DESIGNER":return E.roleDesigner;case"FREELANCER":return E.roleFreelancer;case"SUPERVISOR":return E.roleSupervisor;case"TEAM_LEAD":return E.roleTeamLead;case"TECHNICAL_ADVISOR":return E.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return E.roleTechnicalLead;case"WATCHER":return E.roleWatcher;default:return""}}()}))),d.role&&"internal"===d.type&&l.a.createElement("span",{className:"small text-muted"},d.role.display_name),d.external_company_name&&"external"===d.type&&l.a.createElement("span",{className:"small text-muted"},d.external_company_name))),null!==c&&"external"!==a.type&&l.a.createElement("div",{className:"button-wrapper"},d.contact&&""!==d.contact&&a.id!==d.id&&l.a.createElement("a",{href:"tel:".concat(d.contact.replace(/ /g,"").replace(/-/g,""))},l.a.createElement(m.s,{className:"mr-2",icon:"phone"})),a.id!==d.id&&1===d.active&&l.a.createElement(m.s,{onClick:function(){c&&c(d)},icon:"message-circle"}),O&&a.id!==d.id&&l.a.createElement(p.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:Y.cardBody.current},!L&&"internal"===d.type&&d.role&&"employee"===d.role.name&&d.hasOwnProperty("has_accepted")&&d.has_accepted&&l.a.createElement("div",{onClick:function(){return K("admin")}},E.assignAsAdmin),!L&&"internal"===d.type&&d.role&&"admin"===d.role.name&&d.hasOwnProperty("has_accepted")&&d.has_accepted&&l.a.createElement("div",{onClick:function(){return K("employee")}},E.assignAsEmployee),!L&&"external"===d.type&&l.a.createElement("div",{onClick:function(){j&&j(d,"internal")}},E.moveToInternal),!L&&"internal"===d.type&&l.a.createElement("div",{onClick:function(){j&&j(d,"external")}},E.moveToExternal),L&&0===d.active&&!d.deactivate?l.a.createElement("div",{onClick:q},E.unarchiveUser):null,d.active&&d.hasOwnProperty("has_accepted")&&d.has_accepted?l.a.createElement("div",{onClick:q},E.archiveUser):null,!d.deactivate&&d.active&&d.hasOwnProperty("has_accepted")&&d.has_accepted?l.a.createElement("div",{onClick:Z},E.deactivateUser):null,L&&d.deactivate&&0===d.active&&d.hasOwnProperty("has_accepted")&&d.has_accepted?l.a.createElement("div",{onClick:Z},E.activateUser):null,!L&&d.active&&d.hasOwnProperty("has_accepted")&&d.has_accepted&&H.some((function(e){return e.user_id===d.id}))&&S||d.hasOwnProperty("has_accepted")&&!d.has_accepted&&"external"===d.type?l.a.createElement("div",{onClick:function(){S&&S(d)}},E.deleteUser):null,!L&&d.hasOwnProperty("has_accepted")&&!d.has_accepted&&l.a.createElement("div",{onClick:function(){I&&I(d)}},E.resendInvitation),!L&&d.hasOwnProperty("has_accepted")&&!d.has_accepted&&"internal"===d.type&&l.a.createElement("div",{onClick:function(){P&&P(d)}},E.removeInvitedInternal),!L&&d.hasOwnProperty("has_accepted")&&!d.has_accepted&&"internal"===d.type&&l.a.createElement("div",{onClick:function(){Object(u.b)(V,d.invite_link)}},E.sendInviteManually),!L&&"internal"===d.type&&l.a.createElement("div",{onClick:function(){z&&z(d)}},E.addUserToTeam),G&&l.a.createElement("div",{onClick:function(){G&&G(d)}},E.removeTeamMember))))))))})),g=n(261),O=n(1),v=n(7),_=n(45),w=n(6),T=n(13),N=n(33),k=d.a.div(r||(r=Object(c.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .team-title {\n    display: flex;\n    flex-flow: row wrap;\n  }\n  .button-wrapper {\n    margin-left: auto;\n  }\n"])),(function(e){return e.userNameMaxWidth})),y=Object(d.a)(m.j)(o||(o=Object(c.a)(["\n  width: 1rem;\n  height: 1rem;\n"]))),A=l.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.loggedUser,i=e.team,r=e.dictionary,o=e._t,c=Object(w.c)(),d=Object(f.bb)(),u={cardBody:Object(s.useRef)(null),content:Object(s.useRef)(null)},h=Object(s.useState)(!1),b=Object(v.a)(h,2),E=b[0],g=b[1],A=Object(_.g)(),j=Object(f.Z)(),C=o("PEOPLE.TEAM_MEMBERS_NUMBER","(::number:: members)",{number:i.members.length}),S="admin"===a.role.name||"owner"===a.role.name;return l.a.createElement(k,{className:"workspace-user-item-list col-12 col-md-6 ".concat(n)},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card border",key:i.id},l.a.createElement("div",{className:"card-body",ref:u.cardBody},l.a.createElement("div",{ref:u.content,className:"d-flex align-items-center"},l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement(m.a,{id:i.id,name:i.name,noDefaultClick:!0,imageLink:i.icon_link,showSlider:!1,type:"TEAM"})),l.a.createElement("div",{className:"user-info-wrapper ml-3"},l.a.createElement(m.t,{content:i.name},l.a.createElement("div",{className:"mr-2 team-title",onClick:function(){A.push("/system/people/teams/".concat(i.id,"/").concat(i.name))}},l.a.createElement("span",null,r.team," ",i.name),l.a.createElement("span",null,i.members.length>0&&C)))),"external"!==a.type&&l.a.createElement("div",{className:"button-wrapper"},E&&l.a.createElement(y,null),!E&&l.a.createElement(m.s,{onClick:function(){g(!0);var e={type:"team",recipient_id:i.id};j.createChannel(e,(function(e,t){g(!1),e||t&&(j.addAndSelectChannel(Object(O.a)(Object(O.a)({},t.data.channel),{},{hasMore:!0,selected:!0,entity_id:i.id})),A.push("/chat/".concat(t.data.channel.code)))}))},icon:"message-circle"}),S&&l.a.createElement(p.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:u.cardBody.current},l.a.createElement("div",{onClick:function(){var e={mode:"edit",type:"team",team:i};c(Object(T.a)(e))}},r.editTeam),l.a.createElement("div",{onClick:function(){var e=function(e,t){e||d.success(o("TOASTER.TEAM_DELETE_SUCCESS","Successfully removed ::name:: team",{name:i.name}))},t={type:"confirmation",headerText:r.removeTeamHeader,submitText:r.removeTeamBtn,cancelText:r.cancel,bodyText:r.removeTeamConfirmation,actions:{onSubmit:function(){c(Object(N.i)({id:i.id},e))}}};c(Object(T.a)(t))}},r.removeTeam))))))))}))},782:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,i,r=n(5),o=n(0),c=n.n(o),s=n(4),l=n(12),d=n(11),m=s.a.div(a||(a=Object(r.a)(["\n  .people-list {\n    right: 0;\n  }\n  // .TEAM > div:first-child {\n  //   background-color: #7a1b8b;\n  //   .feather {\n  //     color: #fff;\n  //   }\n  // }\n"]))),p=Object(s.a)(l.a)(i||(i=Object(r.a)(["\n  height: 2.7rem !important;\n  width: 2.7rem !important;\n  margin-left: ",";\n"])),(function(e){return e.firstUser?"0":"-0.5rem"})),u=function(e){var t=e.members,n=e.classNames,a=void 0===n?"":n,i=5;Object(d.sb)().width<=575&&(i=5);var r=t?t.slice(0,i):[],o=t?t.slice(i):[];return c.a.createElement(m,{className:"d-flex ".concat(a)},r.map((function(e,t){return c.a.createElement(p,{id:e.id,firstUser:0===t,key:e.id,name:e.name?e.name:e.email,imageLink:e.hasOwnProperty("members")?e.icon_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,hasAccepted:e.has_accepted,type:e.hasOwnProperty("members")?"TEAM":"USER",showSlider:!e.hasOwnProperty("members"),icon:e.icon?e.icon:null,className:e.icon?"chat-members company":"chat-members"})})),o.length>0&&c.a.createElement(l.m,{recipients:o}))}},783:function(e,t,n){"use strict";n.d(t,"k",(function(){return W})),n.d(t,"h",(function(){return J})),n.d(t,"j",(function(){return ee})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return ie})),n.d(t,"r",(function(){return oe})),n.d(t,"s",(function(){return le})),n.d(t,"g",(function(){return me})),n.d(t,"m",(function(){return ue})),n.d(t,"l",(function(){return Ee})),n.d(t,"n",(function(){return _e})),n.d(t,"i",(function(){return Ne})),n.d(t,"t",(function(){return ye})),n.d(t,"a",(function(){return je})),n.d(t,"q",(function(){return Se})),n.d(t,"b",(function(){return Ie})),n.d(t,"f",(function(){return Re})),n.d(t,"c",(function(){return Le})),n.d(t,"e",(function(){return He})),n.d(t,"d",(function(){return ze}));var a,i,r,o,c,s,l,d,m,p,u,f,h,b,E,g,O,v,_,w,T,N,k,y,A,j,C=n(5),S=n(0),x=n.n(S),I=n(4),R=n(12),P=n(72),D=n(11),L=n(6),F=I.a.div(a||(a=Object(C.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),M=I.a.div(i||(i=Object(C.a)([""]))),U=I.a.span(r||(r=Object(C.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),H=Object(I.a)(R.s)(o||(o=Object(C.a)(["\n  width: 15px;\n"]))),W=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,i=e.actions,r=e.filterFile,o=e.filter,c=void 0===o?"all":o,s=e.dropZoneRef,l=e.storageLimit,d=void 0===l?25:l,m=e.wsFiles,p=e.folders,u=e.activeFolder,f=e.clearFilter,h=e.params,b=e.disableOptions,E=e.workspace,g="external"===Object(L.d)((function(e){return e.session.user})).type,O=Object(D.gb)()._t,v=i.getFileSizeUnit(m.storage),_=0===m.storage?0:m.storage<1e8?1e8:m.storage,w={uploadFiles:O("FILE.UPLOAD_FILES","Upload files"),allFiles:O("FILES.ALL_FILES","All files"),recentlyEdited:O("FILES.RECENTLY_EDITED","Recently edited"),favorite:O("FILE.FAVORITE","Favorite"),removed:O("FILES.REMOVED","Removed"),storageStatus:O("FILES.STORAGE_STATUS","Storage Status"),usedOf:O("FILE.USED_OF","used of"),gigabyte:O("FILE.GIGABYTE","GB"),teamChat:O("FILES_SIDEBAR.TEAM_CHAT","Team chat"),clientChat:O("FILES_SIDEBAR.CLIENT_CHAT","Client chat"),privatePost:O("FILES_SIDEBAR.PRIVATE_POST","Private post"),postWithClient:O("FILES_SIDEBAR.POST_WITH_CLIENT","Post with client")};return x.a.createElement(F,{className:"file-sidebar bottom-modal-mobile ".concat(n)},x.a.createElement(M,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),x.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===a&&x.a.createElement("div",{className:"card-body"},x.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:b},w.uploadFiles),x.a.createElement("form",{className:"d-none",id:"file-upload"},x.a.createElement("input",{type:"file",multiple:""}))),x.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},x.a.createElement("div",{className:"list-group list-group-flush"},x.a.createElement(U,{onClick:r,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"folder"}),w.allFiles,x.a.createElement("span",{className:"small ml-auto"},m&&m.count>0?m.count:null)),p&&Object.values(p).filter((function(e){return!e.is_archived})).length>0&&!0===a&&x.a.createElement(U,{className:"d-flex align-items-center folder-list"},x.a.createElement("ul",null,Object.values(p).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return x.a.createElement(Ee,{key:e.id,clearFilter:f,folders:p,params:h,folder:e,activeFolder:u})})))),x.a.createElement(_e,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){i.uploadWorkspaceGoogleDriveFile(h.workspaceId,e)}))},disableOptions:b}),!g&&E&&E.team_channel&&E.team_channel.code&&x.a.createElement(x.a.Fragment,null,x.a.createElement(U,{onClick:r,"data-filter":"team",active:"team"===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"eye-off"}),w.teamChat),x.a.createElement(U,{onClick:r,"data-filter":"client",active:"client"===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"eye"}),w.clientChat),x.a.createElement(U,{onClick:r,"data-filter":"privatePost",active:"privatePost"===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"eye-off"}),w.privatePost),x.a.createElement(U,{onClick:r,"data-filter":"clientPost",active:"clientPost"===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"eye"}),w.postWithClient)),x.a.createElement(U,{onClick:r,"data-filter":"recent",active:"recent"===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"monitor"}),w.recentlyEdited),x.a.createElement(U,{onClick:r,"data-filter":"important",active:"important"===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"star"}),w.favorite,x.a.createElement("span",{className:"small ml-auto"},m&&m.stars>0?m.stars:null)),x.a.createElement(U,{onClick:r,"data-filter":"removed",active:"removed"===c,className:"list-group-item d-flex align-items-center"},x.a.createElement(H,{className:"mr-2",icon:"trash"}),w.removed,x.a.createElement("span",{className:"small ml-auto"},m&&m.trash>0?m.trash:null))),"undefined"!==typeof m&&null!==m&&x.a.createElement("div",{className:"card-body"},x.a.createElement("h6",{className:"mb-4"},w.storageStatus),x.a.createElement("div",{className:"d-flex align-items-center"},x.a.createElement("div",{className:"mr-3"},x.a.createElement(R.s,{icon:"database"})),x.a.createElement("div",{className:"flex-grow-1"},x.a.createElement(P.d,{amount:_,limit:1e9*d}),x.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},v.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],v.unit," ",w.usedOf," ",d,w.gigabyte)))))))})),z=n(1),B=n(7),G=n(77),V=n(780),Y=I.a.div(c||(c=Object(C.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),K=Object(I.a)(P.c)(s||(s=Object(C.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]))),q=I.a.div(l||(l=Object(C.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),Z=I.a.div(d||(d=Object(C.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]))),J=x.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.dropZoneRef,r=e.filter,o=e.search,c=e.wsFiles,s=e.isMember,l=e.handleAddEditFolder,d=e.actions,m=e.params,p=e.folders,u=e.folder,f=e.fileIds,h=e.history,b=e.subFolders,E=e.dictionary,g=e.disableOptions,O=Object(D.bb)(),v=document.querySelector(".app-content-body"),_=Object(L.d)((function(e){return e.session.user})),w=Object(S.useState)(!1),T=Object(B.a)(w,2),N=T[0],k=T[1],y=function(){i.current&&i.current.open()},A=function(){k(!1)};return Object(S.useEffect)((function(){N&&k(!1)}),[c]),Object(S.useEffect)((function(){N&&!s&&O.warning("You are not a member of this workspace.")}),[N]),x.a.createElement(Y,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(r)||N||k(!0)}},!g&&x.a.createElement(G.a,{ref:i,hide:!(N&&!0===s),onDragLeave:A,onDrop:function(e){!function(e){k(!1);var t=Math.floor(Date.now()/1e3),a={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:u?u.id:null,id:n(63).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:_.id,view_link:null,uploading:!0}})),folder_id:u?u.id:null,topic_id:parseInt(m.workspaceId),workspace_id:m.hasOwnProperty("folderId")?parseInt(m.fileFolderId):null};d.uploadingFiles(a);var i=new FormData;for(var r in e)e.hasOwnProperty(r)&&(e[r].ref_id=n(63).generate(),i.append("files["+r+"]",e[r]));var o={is_primary:0,topic_id:m.workspaceId,files:i};m.fileFolderId&&(o=Object(z.a)(Object(z.a)({},o),{},{folder_id:m.fileFolderId})),d.uploadFiles(o)}(e.acceptedFiles)},onCancel:A,params:m}),x.a.createElement("div",{className:"card-body app-lists"},u&&s&&"removed"!==r&&!g&&x.a.createElement(K,{moreButton:"settings"},x.a.createElement("div",{onClick:function(){l(u,"update")}},E.editFolder),x.a.createElement("div",{onClick:function(){if(u){d.removeFolder(u,m.workspaceId,(function(e,t){if(!e&&t){var n=h.location.pathname.split("/folder/")[0];h.push(n)}}))}}},E.removeFolder)),"removed"===r&&c&&c.hasOwnProperty("trash_files")&&(Object.keys(c.trash_files).length>0||Object.values(p).filter((function(e){return e.is_archived})).length>0)&&x.a.createElement(R.s,{icon:"trash",onClick:d.removeTrashFiles}),""===r&&x.a.createElement(x.a.Fragment,null,"undefined"===typeof m.fileFolderId&&x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},E.allFiles),u&&u.search&&x.a.createElement(Ne,{folder:u,history:h,dictionary:E,folders:p,workspaceID:m.workspaceId}),x.a.createElement("div",{className:"row"},m.hasOwnProperty("fileFolderId")?b.filter((function(e){return!e.is_archived})).map((function(e){return x.a.createElement(V.b,{key:e.id,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:g,folder:e,history:h,isMember:s,params:m,handleAddEditFolder:l})})):Object.values(p).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return x.a.createElement(V.b,{key:e.id,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:g,folder:e,history:h,isMember:s,params:m,handleAddEditFolder:l})}))),"undefined"!==typeof m.fileFolderId?x.a.createElement(x.a.Fragment,null,u?x.a.createElement(x.a.Fragment,null,x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},u.search),x.a.createElement("div",{className:"row"},c&&f.map((function(e){return c.files.hasOwnProperty(e)?x.a.createElement(V.a,{key:e,isMember:s,scrollRef:v,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],folders:p,disableOptions:g}):null}))),c&&0===f.length&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}),s&&x.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:y,disabled:g},E.uploadFiles))):x.a.createElement(x.a.Fragment,null)):x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:"row"},x.a.createElement(Re,{disableOptions:g,params:m}),f.map((function(e){return c.files.hasOwnProperty(e)?x.a.createElement(V.a,{key:e,isMember:s,scrollRef:v,actions:d,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],folders:p,disableOptions:g}):null}))),c.popular_files.length>0&&x.a.createElement(ie,{search:o,scrollRef:v,wsFiles:c,actions:d,folders:p,disableOptions:g}),c.recently_edited.length>0&&x.a.createElement(oe,{search:o,scrollRef:v,wsFiles:c,actions:d,folders:p,disableOptions:g})),0===f.length&&0===c.popular_files.length&&0===c.recently_edited.length&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}),s&&x.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:y,disabled:g},E.uploadFiles))),"team"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(ye,{search:o,scrollRef:v,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.team_chat.length>0)&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}))),"client"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(je,{search:o,scrollRef:v,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.client_chat.length>0)&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}))),"privatePost"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(Se,{search:o,scrollRef:v,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.private_post.length>0)&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}))),"clientPost"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(Ie,{search:o,scrollRef:v,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.client_post.length>0)&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}))),"recent"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(oe,{search:o,scrollRef:v,wsFiles:c,actions:d,folders:p,disableOptions:g}),!(c&&c.recently_edited.length>0)&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}))),"important"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(ne,{search:o,scrollRef:v,wsFiles:c,folders:p,actions:d}),!(c&&c.hasOwnProperty("favorite_files")&&c.favorite_files.length>0)&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282}),x.a.createElement(Z,null,x.a.createElement("p",null,"No favorite files."),x.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(le,{scrollRef:v,search:o,wsFiles:c,actions:d,isMember:s,params:m,folders:p,subFolders:b,handleAddEditFolder:l,folder:u,disableOptions:g}),!(c&&c.hasOwnProperty("trash_files")&&Object.keys(c.trash_files).length>0)&&!(Object.values(p).some((function(e){return e.is_archived}))||b.some((function(e){return e.is_archived})))&&x.a.createElement(q,null,x.a.createElement(R.q,{icon:4,height:282})))))})),X=n(15),Q=n(13),$=I.a.div(m||(m=Object(C.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),ee=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,i=e.dropZoneRef,r=e.onSearchChange,o=e.onSearch,c=e.onEnter,s=e.wsFiles,l=e.handleAddEditFolder,d=e.folders,m=e.history,p=e.params,u=e.clearFilter,f=e.dictionary,h=e.disableOptions,b=e.onClickEmpty,E=e.value,g=Object(L.c)(),O=Object(L.d)((function(e){return e.workspaces.selectedWorkspaceId})),v=function(e){if(u(),s.folders.hasOwnProperty(e.target.dataset.value)){var t=s.folders[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):p.hasOwnProperty("fileFolderId")?m.push(m.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Object(X.h)(t.search))):m.push(m.location.pathname+"/folder/".concat(t.id,"/").concat(Object(X.h)(t.search)))}},_={label:x.a.createElement(x.a.Fragment,null,x.a.createElement(R.s,{className:"mr-1",icon:"plus"})," ",f.add),items:[{value:"folder",label:f.folder,onClick:function(){return l(null,"create")}},{value:"file",label:f.file,onClick:function(){i.current&&i.current.open()}}]},w={label:f.folders,items:s&&Object.values(d).length?Object.values(d).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:v}})):[]};return x.a.createElement($,{className:"files-header app-action ".concat(n)},x.a.createElement("div",{className:"action-left"},x.a.createElement("ul",{className:"list-inline"},!0===a&&!h&&x.a.createElement("li",{className:"list-inline-item mb-0"},x.a.createElement(R.e,{dropdown:_})),!0===a&&Object.values(d).filter((function(e){return!e.is_archived})).length>=1&&x.a.createElement("li",{className:"list-inline-item mb-0"},x.a.createElement(R.e,{dropdown:w})),!0===a&&x.a.createElement("li",{className:"list-inline-item mb-0"},x.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){var e={type:"external_file_folder",mode:"create",topic_id:O};g(Object(Q.a)(e))}},f.driveLink))),x.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},x.a.createElement(R.s,{icon:"menu"}))),x.a.createElement("div",{className:"action-right"},x.a.createElement("div",{className:"input-group"},x.a.createElement("input",{type:"text",onChange:r,onKeyDown:c,value:E,className:"form-control",placeholder:f.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==E.trim()&&x.a.createElement("button",{onClick:b,className:"btn-cross",type:"button"},x.a.createElement(R.s,{icon:"x"})),x.a.createElement("div",{className:"input-group-append"},x.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:o},x.a.createElement(R.s,{icon:"search"}))))))})),te=I.a.div(p||(p=Object(C.a)([""]))),ne=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.wsFiles,r=e.actions;return x.a.createElement(te,{className:"important-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),x.a.createElement("div",{className:"row"},i&&i.favorite_files.length>0&&i.favorite_files.map((function(e){return x.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:a,file:i.files[e],actions:r})}))))})),ae=I.a.div(u||(u=Object(C.a)([""]))),ie=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.wsFiles,r=e.actions,o=e.disableOptions;return x.a.createElement(ae,{className:"popular-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),x.a.createElement("div",{className:"row"},i&&i.popular_files.length>0&&i.popular_files.map((function(e){return x.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:r,folders:a,disableOptions:o})}))))})),re=I.a.div(f||(f=Object(C.a)([""]))),oe=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.wsFiles,r=e.actions,o=e.disableOptions;return x.a.createElement(re,{className:"recent-edited-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),x.a.createElement("div",{className:"row"},i&&i.recently_edited.length>0&&i.recently_edited.map((function(e){return i.files.hasOwnProperty(e)?x.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:r,folders:a,disableOptions:o}):null}))))})),ce=n(45),se=I.a.div(h||(h=Object(C.a)([""]))),le=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,i=e.wsFiles,r=e.isMember,o=e.folders,c=e.subFolders,s=e.folder,l=e.params,d=e.handleAddEditFolder,m=e.disableOptions,p=Object(ce.g)();return x.a.createElement(se,{className:"remove-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),s&&x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},s.search),x.a.createElement("div",{className:"row"},l.hasOwnProperty("fileFolderId")?c.filter((function(e){return e.is_archived})).map((function(e){return x.a.createElement(V.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:r,params:l,handleAddEditFolder:d,disableOptions:m})})):Object.values(o).filter((function(e){return e.is_archived})).map((function(e){return x.a.createElement(V.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:r,params:l,handleAddEditFolder:d,disableOptions:m})}))),x.a.createElement("div",{className:"row"},l.hasOwnProperty("fileFolderId")?i&&Object.values(i.trash_files).length>0&&Object.values(i.trash_files).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})).map((function(e){return x.a.createElement(V.a,{key:e.id,isMember:r,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:o,disableOptions:m})})):i&&Object.values(i.trash_files).length>0&&Object.values(i.trash_files).map((function(e){return"undefined"!==typeof e?x.a.createElement(V.a,{key:e.id,isMember:r,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:o,disableOptions:m}):null}))))})),de=Object(I.a)(P.c)(b||(b=Object(C.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),me=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.file,r=e.scrollRef,o=void 0===r?null:r,c=e.actions,s=e.isMember,l=e.forceDelete,d=e.disableOptions,m=Object(D.bb)(),p=Object(D.gb)()._t,u={rename:p("FILES.RENAME","Rename"),restore:p("FILES.RESTORE","Restore"),remove:p("FILES.REMOVE","Remove"),viewDetails:p("FILES.VIEW_DETAILS","View details"),share:p("FILES.SHARE","Share"),download:p("FILES.DOWNLOAD","Download"),moveTo:p("FILES.MOVE_TO","Move to"),favorite:p("FILES.FAVORITE","Favorite"),unfavorite:p("FILES.UNFAVORITE","Unfavorite"),notMemberOfWs:p("TOASTER.NOT_MEMBER_OF_WS","You are not a member of this workspace.")};return x.a.createElement(de,{className:"file-options ".concat(n),moreButton:"more-horizontal",file:i,scrollRef:o},x.a.createElement("div",{onClick:function(){c.viewFiles(i)}},u.viewDetails),x.a.createElement("div",{onClick:function(){c.favorite(i)}},i.is_favorite?u.unfavorite:u.favorite),x.a.createElement("div",{onClick:function(){c.copyLink(i.view_link)}},u.share),x.a.createElement("div",{onClick:function(){c.download(i)}},u.download),x.a.createElement("div",{onClick:function(){s?c.moveFile(i):m.warning(x.a.createElement(x.a.Fragment,null,"You are ",x.a.createElement("b",null,"not")," a member of this workspace."))}},u.moveTo),x.a.createElement("div",{onClick:function(){s?c.renameFile(i):m.warning("".concat(u.notMemberOfWs))}},u.rename),l&&x.a.createElement("div",{onClick:function(){c.restoreWorkspaceFile(i,(function(e,t){t&&(i.folder_id&&"undefined"!==typeof a[i.folder_id]?m.success(x.a.createElement(x.a.Fragment,null,"Item ",x.a.createElement("b",null,i.search)," is restored to #",a[i.folder_id].search," folder.")):m.success(x.a.createElement(x.a.Fragment,null,"Item ",x.a.createElement("span",{className:"font-weight-bold"},i.search)," is restored to #All Files folder.")))}),{message:!1})}},u.restore),!d&&x.a.createElement("div",{onClick:function(){s?i.hasOwnProperty("payload_id")?c.unlinkGoogleAttachment(i):c.removeFile(i,l):m.warning("".concat(u.notMemberOfWs))}},u.remove))})),pe=Object(I.a)(P.c)(E||(E=Object(C.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),ue=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.scrollRef,r=void 0===i?null:i,o=e.actions,c=e.isMember,s=e.history,l=e.params,d=e.handleAddEditFolder,m=Object(D.bb)(),p=Object(D.gb)()._t,u={rename:p("FILES.RENAME","Rename"),restore:p("FILES.RESTORE","Restore"),remove:p("FILES.REMOVE","Remove")};return x.a.createElement(pe,{className:"file-options ".concat(n),moreButton:"more-horizontal",folder:a,scrollRef:r},!a.hasOwnProperty("payload")&&x.a.createElement("div",{onClick:function(){c?d(a,"edit"):m.warning("You are not a member of this workspace.")}},u.rename),a.is_archived&&x.a.createElement("div",{onClick:function(){o.restoreWorkspaceFolder(a,(function(e,t){t&&(a.parent_folder?m.success(x.a.createElement(x.a.Fragment,null,"Folder ",x.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):m.success(x.a.createElement(x.a.Fragment,null,"Folder ",x.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},u.restore),x.a.createElement("div",{onClick:function(){if(c)if(a.hasOwnProperty("payload"))o.unlinkGoogleFolder(a);else{o.removeFolder(a,l.workspaceId,(function(e,t){if(!e&&t){var n=s.location.pathname.split("/folder/")[0];s.push(n)}}))}else m.warning("You are not a member of this workspace.")}},u.remove))})),fe=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.folders,r=e.activeFolder,o=e.clearFilter,c=e.params;return x.a.createElement(Ee,{className:n,clearFilter:o,folders:i,params:c,folder:a,activeFolder:r})},he=I.a.li(g||(g=Object(C.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"])),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),be=I.a.ul(O||(O=Object(C.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"])),(function(e){return e.maxHeight})),Ee=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.folders,r=e.activeFolder,o=e.clearFilter,c=Object(ce.g)(),s=Object(ce.j)(),l=s.params,d=s.path,m=s.url,p={container:Object(S.useRef)(null),arrow:Object(S.useRef)(null),nav:Object(S.useRef)(null)},u=Object(S.useState)(!1),f=Object(B.a)(u,2),h=f[0],b=f[1],E=Object(S.useState)(null),g=Object(B.a)(E,2),O=g[0],v=g[1];return Object(S.useEffect)((function(){null!==p.nav.current&&v(p.nav.current.scrollHeight)}),[p.nav.current,O]),Object(S.useEffect)((function(){r&&r.parent_folder&&r.parent_folder.id===a.id&&b(!0)}),[l,r]),x.a.createElement(he,{ref:p.container,className:"folder-list fadeIn ".concat(n),selected:!!r&&r.id==a.id},x.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(o(),"/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===d||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===d){var e=m.split("/folder/")[0];c.push(e+"/folder/".concat(a.id,"/").concat(Object(X.h)(a.search)))}else c.push(c.location.pathname+"/folder/".concat(a.id,"/").concat(Object(X.h)(a.search)));b((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&x.a.createElement(R.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&x.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(h?"ti-minus rotate-in":"ti-plus")})),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&x.a.createElement(be,{ref:p.nav,maxHeight:O,className:h?"enter-active":"leave-active"},h&&Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return x.a.createElement(fe,{key:e.id,clearFilter:o,params:l,folderHeight:O,activeFolder:r,folders:i,folder:e})}))))},ge=n(841),Oe=n.n(ge),ve=I.a.div(v||(v=Object(C.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"])),(function(e){return e.disabled?".5":"1"})),_e=function(e){var t=e.className,n=void 0===t?"":t,a=e.onChange,i=e.disableOptions,r=Object(D.gb)()._t,o=Object(S.useState)(!1),c=Object(B.a)(o,2),s=c[0],l=c[1],d=function(e){null===localStorage.getItem("gdrivePicker")&&localStorage.setItem("gdrivePicker",e)},m={linkGoogleDrive:r("FILE.LINK_GOOGLE_DRIVE","Link your Google Drive first"),gDriveAttachFile:r("FILE.ATTACH_GOOGLE_DRIVE_FILE","Attach a file"),gDriveAttachFolder:r("FILE.ATTACH_GOOGLE_DRIVE_FOLDER","Attach a folder")};return x.a.createElement(ve,{className:"google-drive dropdown ".concat(n),onClick:function(){i||l(!s)},disabled:i},x.a.createElement(R.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"})," Google Drive",x.a.createElement("div",{className:"dropdown-menu ".concat(s?"show":"")},null===localStorage.getItem("gdrivePicker")?x.a.createElement(Oe.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return d(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,viewId:"DOCS"},x.a.createElement("div",{className:"link-div"},m.linkGoogleDrive)):x.a.createElement(x.a.Fragment,null,x.a.createElement(Oe.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return d(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"DOCS"},x.a.createElement("div",{className:"dropdown-item"},m.gDriveAttachFile)),x.a.createElement(Oe.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onAuthenticate:function(e){return d(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"FOLDERS",createPicker:function(e,t){var n=e.picker.ViewId.FOLDERS,i=new e.picker.DocsView(n).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0);(new window.google.picker.PickerBuilder).addView(i).setOAuthToken(t).setDeveloperKey("AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ").setCallback((function(e){a(e)})).build().setVisible(!0)}},x.a.createElement("div",{className:"dropdown-item"},m.gDriveAttachFolder)))))},we=n(264),Te=I.a.div(_||(_=Object(C.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]))),Ne=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.history,r=e.dictionary,o=e.folders,c=e.workspaceID,s=Object(ce.j)().url,l=Object(S.useState)(!1),d=Object(B.a)(l,2),m=d[0],p=d[1];return Object(S.useEffect)((function(){a.parent_folder&&Object.values(o).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?p(!0):p(!1))})),a.parent_folder||p(!1)}),[a]),x.a.createElement(Te,{className:"files-breadcrumb d-flex ".concat(n)},x.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},x.a.createElement("li",{onClick:function(){var e=i.location.pathname.split("/folder/")[0];i.push(e)}},r.allFiles),x.a.createElement(R.s,{width:12,icon:"chevron-right"}),m&&x.a.createElement(x.a.Fragment,null,x.a.createElement("li",null,x.a.createElement(we.a,{parentFolder:a.parent_folder,workspaceID:c,history:i})),x.a.createElement(R.s,{width:12,icon:"chevron-right"})),a.parent_folder&&x.a.createElement(x.a.Fragment,null,x.a.createElement("li",{onClick:function(){return function(e){var t=s.split("/folder/")[0];i.push(t+"/folder/".concat(e.id,"/").concat(Object(X.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),x.a.createElement(R.s,{width:12,icon:"chevron-right"})),x.a.createElement("div",null,a.search)))})),ke=I.a.div(w||(w=Object(C.a)([""]))),ye=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.wsFiles,r=e.actions,o=e.disableOptions;return x.a.createElement(ke,{className:"recent-edited-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Team chat"),x.a.createElement("div",{className:"row"},i&&i.team_chat.length>0&&i.team_chat.map((function(e){return i.files.hasOwnProperty(e)?x.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:r,folders:a,disableOptions:o}):null}))))})),Ae=I.a.div(T||(T=Object(C.a)([""]))),je=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.wsFiles,r=e.actions,o=e.disableOptions;return x.a.createElement(Ae,{className:"recent-edited-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Client chat"),x.a.createElement("div",{className:"row"},i&&i.client_chat.length>0&&i.client_chat.map((function(e){return i.files.hasOwnProperty(e)?x.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:r,folders:a,disableOptions:o}):null}))))})),Ce=I.a.div(N||(N=Object(C.a)([""]))),Se=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.wsFiles,r=e.actions,o=e.disableOptions;return x.a.createElement(Ce,{className:"recent-edited-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Private post"),x.a.createElement("div",{className:"row"},i&&i.private_post.length>0&&i.private_post.map((function(e){return i.files.hasOwnProperty(e)?x.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:r,folders:a,disableOptions:o}):null}))))})),xe=I.a.div(k||(k=Object(C.a)([""]))),Ie=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.wsFiles,r=e.actions,o=e.disableOptions;return x.a.createElement(xe,{className:"recent-edited-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Post with client"),x.a.createElement("div",{className:"row"},i&&i.client_post.length>0&&i.client_post.map((function(e){return i.files.hasOwnProperty(e)?x.a.createElement(V.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:r,folders:a,disableOptions:o}):null}))))})),Re=function(e){var t=e.disableOptions,n=e.params,a=void 0===n?null:n,i=Object(L.d)((function(e){return a&&a.workspaceId&&e.files.workspaceFiles[a.workspaceId]?e.files.workspaceFiles[a.workspaceId].driveLinks:e.files.companyFiles.driveLinks}));return i?Object.values(i).map((function(e){return x.a.createElement(Le,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",link:e,disableOptions:t})})):null},Pe=I.a.div(y||(y=Object(C.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n    .small {\n      min-height: 49px;\n    }\n    .feather-link {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]))),De=Object(I.a)(R.s)(A||(A=Object(C.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),Le=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.link,i=e.isFavorite,r=function(){window.open(a.link,"_blank")};return x.a.createElement(Pe,{className:"file-list-item ".concat(n)},x.a.createElement("div",{className:"card  app-file-list"},x.a.createElement("div",{className:"app-file-icon uploaded cursor-pointer",onClick:r},!0===i&&x.a.createElement(De,{icon:"star"}),x.a.createElement(He,{link:a}),x.a.createElement(ze,{type:a.type})),x.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:r},x.a.createElement(R.t,{content:a.name},x.a.createElement("div",{className:"file-name"},x.a.createElement(R.s,{className:"mr-2",icon:"link"}),a.name)))))})),Fe=n(20),Me=n(22),Ue=Object(I.a)(P.c)(j||(j=Object(C.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),He=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.link,i=e.scrollRef,r=void 0===i?null:i,o=Object(L.c)(),c=Object(ce.i)(),s=Object(D.bb)(),l=Object(D.gb)()._t,d={rename:l("FILES.RENAME","Rename"),remove:l("FILES.REMOVE","Remove"),viewDetails:l("FILES.VIEW_DETAILS","View details"),share:l("FILES.SHARE","Share"),favorite:l("FILES.FAVORITE","Favorite"),unfavorite:l("FILES.UNFAVORITE","Unfavorite"),modalHeader:l("MODAL.DRIVE_LINK_REMOVE","Remove link"),cancel:l("BUTTON.CANCEL","Cancel"),removeLink:l("BUTTON.REMOVE_LINK","Remove link"),modalBody:l("MODAL.BODY_REMOVE_LINK","Are you sure you want to remove this drive link?"),removedLink:l("TOASTER.REMOVED_DRIVE_LINK","::linkName:: removed from drive",{linkName:a.name})};return x.a.createElement(Ue,{className:"file-options ".concat(n),moreButton:"more-horizontal",scrollRef:r},x.a.createElement("div",{onClick:function(){window.open(a.link,"_blank")}},d.viewDetails),x.a.createElement("div",{onClick:function(){Object(Fe.b)(s,a)}},d.share),x.a.createElement("div",{onClick:function(){var e={type:"external_file_folder",mode:"update",topic_id:c.workspaceId?Number(c.workspaceId):null,params:c,link:a};o(Object(Q.a)(e))}},d.rename),x.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:d.modalHeader,submitText:d.removeLink,cancelText:d.cancel,bodyText:d.modalBody,actions:{onSubmit:function(){o(Object(Me.j)({id:a.id},(function(e,t){e||s.info(d.removedLink)})))}}};o(Object(Q.a)(e))}},d.remove))})),We=n(93),ze=function(e){var t=e.type;return t.includes("document")?x.a.createElement(We.c,{icon:"gdoc",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("form")?x.a.createElement(We.c,{icon:"gforms",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("google_folder")?x.a.createElement(We.c,{icon:"google-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("spreadsheet")?x.a.createElement(We.c,{icon:"gsheet",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("word")?x.a.createElement(We.c,{icon:"office-word",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("excel")?x.a.createElement(We.c,{icon:"office-excel",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("ppt")?x.a.createElement(We.c,{icon:"office-ppt",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("office_folder")?x.a.createElement(We.c,{icon:"office-one-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("dropbox")?x.a.createElement(We.c,{icon:"dropbox",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):(t.includes("file"),x.a.createElement("i",{className:"fa fa-file-o text-info"}))}},785:function(e,t,n){"use strict";var a,i=n(5),r=n(0),o=n.n(r),c=n(4),s=n(12),l=n(45),d=c.a.span(a||(a=Object(i.a)(["\n  cursor: pointer;\n  svg {\n    color: #8b8b8b;\n    width: 20px;\n    height: 20px;\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n"])));t.a=function(e){var t=Object(l.g)();return o.a.createElement(d,{className:"mr-1"},o.a.createElement(s.s,{icon:"chevron-left",onClick:function(){t.goBack()}}))}},790:function(e,t,n){"use strict";n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return Oe})),n.d(t,"d",(function(){return Te})),n.d(t,"f",(function(){return Le})),n.d(t,"e",(function(){return Ge})),n.d(t,"a",(function(){return qe}));var a,i,r,o,c,s,l,d,m,p,u,f,h,b,E,g,O,v,_,w,T,N,k,y,A,j,C,S,x,I=n(9),R=n(5),P=n(0),D=n.n(P),L=n(6),F=n(45),M=n(4),U=n(13),H=n(12),W=n(11),z=Object(P.lazy)((function(){return Promise.resolve().then(n.bind(null,799))})),B=Object(P.lazy)((function(){return Promise.resolve().then(n.bind(null,815))})),G=Object(P.lazy)((function(){return Promise.resolve().then(n.bind(null,800))})),V=Object(P.lazy)((function(){return Promise.resolve().then(n.bind(null,801))})),Y=Object(P.lazy)((function(){return Promise.resolve().then(n.bind(null,802))})),K=Object(P.lazy)((function(){return Promise.resolve().then(n.bind(null,804))})),q=Object(P.lazy)((function(){return Promise.resolve().then(n.bind(null,803))})),Z=Object(P.lazy)((function(){return n.e(25).then(n.bind(null,865))})),J=Object(P.lazy)((function(){return n.e(24).then(n.bind(null,867))})),X=M.a.div(a||(a=Object(R.a)(["\n  position: relative;\n  //padding-bottom: 0 !important;\n  // overflow: hidden;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n"]))),Q=M.a.div(i||(i=Object(R.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),$=D.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,i=Object(W.gb)()._t,r={createWorkspace:i("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:i("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},o=Object(L.c)();Object(W.U)();var c=Object(W.kb)().loggedUser,s=Object(W.ub)(),l=Object(L.d)((function(e){return e.workspaces})),d=l.workspaces,m=l.workspacesLoaded,p=l.favoriteWorkspacesLoaded,u=l.activeTopic,f=l.workspaceTimeline,h=null;Object.keys(f).length&&u&&f[u.id]&&(h=f[u.id]);var b=u?u.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],E=Object(W.C)(u&&u.member_ids.length?Object(I.a)(new Set(b)):[]);return D.a.createElement(X,{className:"main-content ".concat(n)},m||p?D.a.createElement(D.a.Fragment,null,Object.keys(d).length>=1?D.a.createElement(D.a.Fragment,null,D.a.createElement(P.Suspense,{fallback:D.a.createElement("div",null)},D.a.createElement(F.d,null,D.a.createElement(F.b,{render:function(e){return D.a.createElement(J,Object.assign({isExternal:a},e))},path:["/workspace/search"]}),D.a.createElement(F.b,{render:function(){return D.a.createElement(B,Object.assign({},e,{workspace:u,isMember:E,actions:s,workspaceTimeline:h}))},path:["/workspace/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/dashboard/:workspaceId/:workspaceName","/workspace/dashboard"]}),D.a.createElement(F.b,{exact:!0,render:function(){return D.a.createElement(Y,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/posts/:workspaceId/:workspaceName","/workspace/posts"]}),D.a.createElement(F.b,{exact:!0,render:function(){return D.a.createElement(z,Object.assign({},e,{workspace:u}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/chat"]}),!a&&D.a.createElement(F.b,{exact:!0,render:function(){return D.a.createElement(z,Object.assign({},e,{workspace:u}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/team-chat/:workspaceId/:workspaceName","/workspace/chat"]}),D.a.createElement(F.b,Object.assign({exact:!0},e,{render:function(e){return D.a.createElement(G,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/files/:workspaceId/:workspaceName","/workspace/files"]})),D.a.createElement(F.b,{render:function(){return D.a.createElement(V,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/people/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/people/:workspaceId/:workspaceName","/workspace/people"]}),D.a.createElement(F.b,{render:function(){return D.a.createElement(K,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/reminders/:workspaceId/:workspaceName","/workspace/reminders"]}),D.a.createElement(F.b,{exact:!0,render:function(){return D.a.createElement(Z,Object.assign({},e,{workspace:u,isMember:E}))},path:["/workspace/wip/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/wip/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/wip/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/wip/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/wip/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/wip/:workspaceId/:workspaceName","/workspace/wip"]}),D.a.createElement(F.b,Object.assign({},e,{component:q,path:["/workspace/settings/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/settings/:workspaceId/:workspaceName","/workspace/settings"]})),D.a.createElement(F.a,{from:"*",to:{pathname:"/workspace/chat",state:{from:e.location}}})))):D.a.createElement(Q,null,D.a.createElement("div",null,D.a.createElement(H.q,{height:275,icon:1}),"external"!==c.type&&D.a.createElement(D.a.Fragment,null,D.a.createElement("h5",null,r.sidebarTextCreateWorkspace),D.a.createElement("button",{className:"btn btn-primary",onClick:function(){o(Object(U.a)({type:"workspace_create_edit",mode:"add"}))}},r.createWorkspace))))):D.a.createElement("div",{className:"spinner-container"},D.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))})),ee=(n(799),n(815),n(800),n(7)),te=n(72),ne=n(817),ae=n(23),ie=n(782),re=n(785),oe=n(54),ce=n.n(oe),se=M.a.div(r||(r=Object(R.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .nav-item {\n    display: flex;\n    .mobile-private {\n      display: none;\n    }\n    @media all and (max-width: 440px) {\n      .badge.badge-danger {\n        display: none !important;\n      }\n      .mobile-private {\n        display: block;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 991.99px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n          overflow: auto;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 165px;\n    top: 0;\n  }\n  .profile-slider svg {\n    margin: 0;\n    color: inherit;\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]))),le=M.a.ul(o||(o=Object(R.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      max-width: 80px;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    .badge {\n      display: flex;\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-eye {\n      color: inherit;\n      margin-left: 0;\n      margin-right: 0.4rem;\n      width: 11px !important;\n      height: 11px !important;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n    svg.feather-compass {\n      color: rgb(80, 80, 80);\n\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]))),de=M.a.h2(c||(c=Object(R.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),me=M.a.h2(s||(s=Object(R.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),pe=M.a.span(l||(l=Object(R.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),ue=M.a.h3(d||(d=Object(R.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .avatar {\n    height: 2rem;\n    width: 2rem;\n    margin-right: 0.25rem;\n  }\n  svg {\n    color: #64625c;\n  }\n  .feather-lock {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),fe=M.a.h3(m||(m=Object(R.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),he=Object(M.a)(H.s)(p||(p=Object(R.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  &.feather-bell,\n  &.feather-bell-off {\n    color: #64625c;\n  }\n"]))),be=Object(M.a)(H.s)(u||(u=Object(R.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  color: #64625c;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),Ee=Object(M.a)(ce.a)(f||(f=Object(R.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ge=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},Oe=function(e){var t=e.isExternal,n=Object(W.bb)(),a=Object(L.c)(),i=Object(F.j)(),r=Object(L.d)((function(e){return e.workspaces.folders})),o=Object(L.d)((function(e){return e.workspaces.activeTopic})),c=Object(L.d)((function(e){return e.workspaces.workspacesLoaded})),s=Object(L.d)((function(e){return e.settings})),l=s.driff,d=s.user.GENERAL_SETTINGS.dark_mode,m=Object(L.d)((function(e){return e.session.user})),p=Object(P.useState)(!1),u=Object(ee.a)(p,2),f=u[0],h=u[1],b=Object(W.gb)()._t,E={allWorkspaces:b("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),pageTitleWorkspaceReminders:b("PAGE_TITLE.WORKSPACE_REMINDERS","Reminders"),pageTitleWorkspaceDashboard:b("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:b("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:b("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:b("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:b("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:b("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:b("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:b("PAGE_TITLE.WORKSPACE_SEARCH","Search workspace"),pageTitleSettings:b("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:b("PAGE_TITLE.TODOS","Reminders"),pageTitleWIP:b("PAGE_TITLE.WORKSPACE_WIP","W.I.P."),generalSearch:b("GENERAL.SEARCH","Search"),generalNotifications:b("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:b("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===d?b("SETTINGS.DARK_MODE","dark mode"):b("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:b("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:b("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:b("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:b("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:b("WORKSPACE.STATUS_ARCHIVED","Archived"),statusNoWorkspaceExternal:b("WORKSPACE.EXTERNAL_NO_WORKSPACES","You currently don't have any workspaces."),joinWorkspace:b("TOASTER.JOIN_WORKSPACE_SUCCESS","You have joined #"),withClient:b("PAGE.WITH_CLIENT","With client"),somethingWentWrong:b("TOASTER.SOMETHING_WENT_WRONG","Something went wrong!"),workspaces:b("WORKSPACES","Workspces"),buttonLeave:b("BUTTON.LEAVE","Leave"),leaveWorkspace:b("TOASTER.LEAVE_WORKSPACE","You have left #"),leaveWorkspaceHeader:b("CONFIRMATION.LEAVE_WORKSPACE_HEADER","Leave workspace"),leaveWorkspaceBody:b("CONFIRMATION.LEAVE_WORKSPACE_BODY","Are you sure that you want to leave this workspace?"),cancel:b("BUTTON.CANCEL","Cancel"),toasterBellNotificationOff:b("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:b("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON"),notificationsOn:b("TOOLTIP.NOTIFICATIONS_ON","Notifications on"),notificationsOff:b("TOOLTIP.NOTIFICATIONS_OFF","Notifications off"),favoriteWorkspace:b("TOOLTIP.FAVORITE_WORKSPACE","Favorite workspace")},g=Object(W.ub)(),O=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};Object(P.useEffect)((function(){var e="";switch(i.params.page){case"posts":e=E.pageTitleWorkspacePosts;break;case"chat":e=E.pageTitleWorkspaceChat;break;case"files":e=E.pageTitleWorkspaceFiles;break;case"people":e=E.pageTitleWorkspacePeople;break;case"settings":e=E.pageTitleSettings;break;case"reminders":e=E.pageTitleWorkspaceReminders;break;case"wip":e=E.pageTitleWIP;break;default:e=E.pageTitleWorkspaceDashboard}o&&(o.unread_chats>=1||o.unread_posts>0?document.title="".concat(e," \u2039 * ").concat(o.name," \u2014 ").concat(l.company_name," @ Driff"):document.title="".concat(e," \u2039 ").concat(o.name," \u2014 ").concat(l.company_name," @ Driff"))}),[i.params.page,a,o,l.company_name]);var v=function(){var e={id:o.id,workspace_id:o.folder_id?o.folder_id:0,is_pinned:o.is_favourite?0:1};a(Object(ae.g)(e,(function(t,a){t?n.error(E.somethingWentWrong):e.is_pinned?n.success(b("TOASTER.ADDED_TO_FAVORITES","::title:: added to favorites",{title:o.name})):n.success(b("TOASTER.REMOVED_FROM_FAVORITES","::title:: removed from favorites",{title:o.name}))})))},_=o?o.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],w=Object(W.C)(o&&o.member_ids.length?Object(I.a)(new Set(_)):[]),T=function(){if(!f){var e={id:o.id,is_active:!o.is_active};h(!0),g.toggleWorkspaceNotification(e,(function(t,a){h(!1),t||(e.is_active?n.success(E.toasterBellNotificationOn):n.success(E.toasterBellNotificationOff))}))}};return D.a.createElement(D.a.Fragment,null,D.a.createElement(se,{className:"navbar-left"},D.a.createElement(le,{className:"navbar-nav"},"search"===i.params.page?D.a.createElement(D.a.Fragment,null,D.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},D.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:O},D.a.createElement(H.s,{icon:"menu"}))),D.a.createElement(re.a,null),D.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},D.a.createElement(H.s,{className:"mr-2",icon:"compass"}),D.a.createElement(me,null,E.allWorkspaces))):o?D.a.createElement(D.a.Fragment,null,D.a.createElement("div",{className:"navbar-wrap"},D.a.createElement("div",{className:"navbar-top"},D.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},D.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:O},D.a.createElement(H.s,{icon:"menu"}))),D.a.createElement(re.a,null),null===o.folder_id?D.a.createElement(D.a.Fragment,null,!t&&D.a.createElement(D.a.Fragment,null,D.a.createElement("li",{className:"nav-item nav-item-folder"},D.a.createElement(de,null,E.workspaces)),D.a.createElement("li",{className:"nav-item-chevron"},D.a.createElement(H.s,{icon:"chevron-right"}))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(ue,{className:"current-title"},D.a.createElement(H.a,{forceThumbnail:!1,type:o.type,imageLink:o.team_channel.icon_link,id:"ws_".concat(o.id),name:o.name,noDefaultClick:!1}),D.a.createElement(pe,null,o.name))),1===o.is_lock&&D.a.createElement("li",{className:"nav-item"},D.a.createElement(he,{icon:"lock",className:"mobile-private ml-1"}),D.a.createElement("div",{className:"badge badge-danger text-white ml-1"},E.statusWorkspacePrivate)),0===o.active&&D.a.createElement("li",{className:"nav-item"},D.a.createElement("div",{className:"badge badge-light text-white ml-1"},E.statusWorkspaceArchived)),o.is_shared&&!t&&D.a.createElement("li",{className:"nav-item"},D.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},D.a.createElement(he,{icon:"eye"})," ",E.withClient)),D.a.createElement("li",{className:"nav-item"},D.a.createElement(Ee,{arrowSize:5,distance:10,onToggle:ge,content:o.is_active?E.notificationsOn:E.notificationsOff},D.a.createElement(he,{icon:o.is_active?"bell":"bell-off",onClick:T}))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(Ee,{arrowSize:5,distance:10,onToggle:ge,content:E.favoriteWorkspace},D.a.createElement(be,{icon:"star",isFav:o.is_favourite,onClick:v}))),D.a.createElement("li",{className:"nav-item"},!t&&D.a.createElement(ne.b,null))):D.a.createElement(D.a.Fragment,null,!t&&D.a.createElement(D.a.Fragment,null,D.a.createElement("li",{className:"nav-item nav-item-folder"},D.a.createElement(H.s,{icon:"folder",className:"mr-1"}),D.a.createElement(de,null,D.a.createElement(pe,null,o.folder_name,r.hasOwnProperty(o.folder_id)&&1===r[o.folder_id].is_lock&&D.a.createElement(he,{icon:"lock",strokeWidth:"2"})," "))),D.a.createElement("li",{className:"nav-item-chevron"},D.a.createElement(H.s,{icon:"chevron-right"}))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(ue,{className:"current-title"},D.a.createElement(H.a,{forceThumbnail:!1,type:o.type,imageLink:o.team_channel.icon_link,id:"ws_".concat(o.id),name:o.name,noDefaultClick:!1}),D.a.createElement(pe,null,o.name))),1===o.is_lock&&D.a.createElement("li",{className:"nav-item"},D.a.createElement(he,{icon:"lock",className:"mobile-private ml-1"}),D.a.createElement("div",{className:"badge badge-danger text-white ml-1"},E.statusWorkspacePrivate)),0===o.active&&D.a.createElement("li",{className:"nav-item"},D.a.createElement("div",{className:"badge badge-light text-white ml-1"},E.statusWorkspaceArchived)),o.is_shared&&!t&&D.a.createElement("li",{className:"nav-item"},D.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},D.a.createElement(he,{icon:"eye"})," ",E.withClient)),D.a.createElement("li",{className:"nav-item"},D.a.createElement(Ee,{arrowSize:5,distance:10,onToggle:ge,content:o.is_active?E.notificationsOn:E.notificationsOff},D.a.createElement(he,{icon:o.is_active?"bell":"bell-off",onClick:T}))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(Ee,{arrowSize:5,distance:10,onToggle:ge,content:E.favoriteWorkspace},D.a.createElement(be,{icon:"star",isFav:o.is_favourite,onClick:v}))),D.a.createElement("li",{className:"nav-item"},!t&&D.a.createElement(ne.b,null)))),D.a.createElement("div",{className:"navbar-bottom"},D.a.createElement(F.b,Object.assign({},e,{exact:!0,render:function(e){return D.a.createElement(Te,Object.assign({},e,{user:m,workspace:o}))},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page"]})))),D.a.createElement("li",{className:"nav-item-last"},D.a.createElement("div",{className:"nav-item-avatars-wrap"},D.a.createElement(ie.a,{members:o.members})),w&&!t?D.a.createElement(D.a.Fragment,null,D.a.createElement("button",{onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:o};a(Object(U.a)(e))},className:"btn btn-primary",disabled:0===o.active},D.a.createElement(H.s,{icon:"user-plus"}),E.actionWorkspaceInvite),D.a.createElement("button",{onClick:function(){var e={type:"confirmation",headerText:E.leaveWorkspaceHeader,submitText:E.buttonLeave,cancelText:E.cancel,bodyText:E.leaveWorkspaceBody,actions:{onSubmit:function(){g.leave(o,m,(function(e,t){e||n.success(D.a.createElement(D.a.Fragment,null,E.leaveWorkspace,D.a.createElement("b",null,o.name)))}))}}};a(Object(U.a)(e))},className:"btn btn-danger",disabled:0===o.active},E.buttonLeave)):t?null:D.a.createElement("button",{onClick:function(){a(Object(ae.O)({channel_id:o.team_channel&&0!==o.team_channel.id?o.team_channel.id:o.channel&&0!==o.channel.id?o.channel.id:0,recipient_ids:[m.id]},(function(e,t){e||n.success("".concat(E.joinWorkspace," ").concat(o.name))})))},className:"btn btn-primary",disabled:0===o.active},D.a.createElement(H.s,{icon:"user-plus"}),E.actionWorkspaceJoin))):D.a.createElement(D.a.Fragment,null,D.a.createElement("li",{className:"nav-item"},c&&D.a.createElement(D.a.Fragment,null,"external"===m.type?D.a.createElement(D.a.Fragment,null,E.statusNoWorkspaceExternal):D.a.createElement(fe,{onClick:function(){a(Object(U.a)({type:"workspace_create_edit",mode:"create"}))}},E.actionWorkspaceNewWorkspace," ",D.a.createElement(H.s,{className:"ml-2",icon:"circle-plus"}))))))),D.a.createElement("div",null,D.a.createElement(te.b,{dictionary:E})))},ve=M.a.div(h||(h=Object(R.a)([""]))),_e=M.a.ul(b||(b=Object(R.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),we=Object(M.a)(H.k)(E||(E=Object(R.a)(['\n  color: #828282;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),Te=D.a.memo((function(e){var t=Object(F.g)(),n=e.className,a=void 0===n?"":n,i=e.workspace,r=e.user,o=Object(L.d)((function(e){return e.workspaces.workspaceReminders})),c=Object(F.i)(),s="undefined"!==typeof o[c.workspaceId],l=e.match.url;if("/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path)l=l.split("/post/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle"===e.match.path||"/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion"===e.match.path)l="/".concat(l.split("/wip/")[1]);else if("/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path)l=l.split("/folder/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:workspaceId/:workspaceName"===e.match.path&&"undefined"===typeof e.match.params.page){var d=l.split("/");d.splice(2,0,"chat"),t.push(d.join("/"))}else l=l.replace("/workspace/".concat(e.match.params.page),"");var m=Object(W.gb)()._t,p={pageTitleDashboard:m("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:m("PAGE_TITLE.POSTS","Posts"),pageTitleChat:m("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:m("PAGE_TITLE.FILES","Files"),pageTitlePeople:m("PAGE_TITLE.PEOPLE","People"),pageTitleClientChat:m("PAGE_TITLE.CLIENT_CHAT","Client chat"),pageTitleTeamChat:m("PAGE_TITLE.TEAM_CHAT","Team chat"),pageTitleReminders:m("PAGE_TITLE.REMINDERS","Reminders")};return D.a.createElement(D.a.Fragment,null,D.a.createElement(ve,{className:"".concat(a)},D.a.createElement(_e,{className:"navbar-nav"},D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/dashboard".concat(l)},p.pageTitleDashboard)),(i&&"internal"===r.type&&i.is_shared||i&&"internal"===r.type&&i.team_channel.code&&i.is_shared)&&D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/team-chat".concat(l)},p.pageTitleTeamChat,null!==i&&(null===i||void 0===i?void 0:i.team_unread_chats)>0&&D.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},i.team_unread_chats))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/chat".concat(l)},i&&i.is_shared&&"internal"===r.type?p.pageTitleClientChat:p.pageTitleChat,null!==i&&i.unread_chats>0&&D.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},i.unread_chats))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/posts".concat(l)},p.pageTitlePosts,null!==i&&i.unread_posts>0&&D.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},i.unread_posts))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/reminders".concat(l)},p.pageTitleReminders,s&&o[c.workspaceId].count.todo_with_date>0&&D.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},o[c.workspaceId].count.todo_with_date))),D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/files".concat(l)},p.pageTitleFiles)),D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/people".concat(l)},p.pageTitlePeople)),D.a.createElement("li",{className:"nav-item"},D.a.createElement(we,{isSub:!0,to:"/workspace/wip".concat(l)},"W.I.P.")))))})),Ne=(n(801),n(802),n(803),n(1)),ke=n(787),ye=n.n(ke),Ae=M.a.div(g||(g=Object(R.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"]))),je=(D.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(W.O)(),i=Object(W.xb)(),r=Object(L.d)((function(e){return e.workspaces.search})),o=Object(L.d)((function(e){return e.session.user})),c=r.count,s=r.maxPage,l=r.page,d=r.results,m=r.searching,p=r.filter_by,u=r.value;Object(P.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===u&&(i.search({search:"",skip:0,limit:25,filter_by:p},(function(e,t){e?i.updateSearch(Object(Ne.a)(Object(Ne.a)({},r),{},{searching:!1})):i.updateSearch(Object(Ne.a)(Object(Ne.a)({},r),{},{filter_by:p,searching:!1,count:t.data.total_count,results:t.data.workspaces,maxPage:Math.ceil(t.data.total_count/25)}))})),i.updateSearch(Object(Ne.a)(Object(Ne.a)({},r),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var f=Object(W.gb)()._t,h={labelResultsFor:f("LABEL.RESULTS_FOR","results found for: "),labelSearching:f("LABEL.SEARCHING","Searching "),sidebarWorkspaces:f("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:f("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:f("BUTTON.PREV_PAGE","Previous")};return D.a.createElement(Ae,{className:"user-search-panel container-fluid h-100 ".concat(n)},D.a.createElement("div",{className:"row"},D.a.createElement("div",{className:"col-md-12"},D.a.createElement("div",{className:"card"},D.a.createElement("div",{className:"card-body"},D.a.createElement(Ge,{actions:i,search:r}),""!==u?D.a.createElement("h4",{className:"mb-5"},D.a.createElement(H.s,{icon:"search"}),m&&D.a.createElement("span",null,h.labelSearching,D.a.createElement("span",{className:"text-primary"},"\u201c",u,"\u201d")),!m&&D.a.createElement("span",null,c," ",h.labelResultsFor,D.a.createElement("span",{className:"text-primary"},"\u201c",u,"\u201d"))):D.a.createElement("h4",{className:"mb-5"},d.length>0&&D.a.createElement("span",null,c," ",h.sidebarWorkspaces)),d.length>0&&D.a.createElement(Le,{user:o,actions:i,page:l,results:d,redirect:a}),c>25&&D.a.createElement("nav",{className:"mt-3"},D.a.createElement(ye.a,{previousLabel:h.buttonPrevPage,nextLabel:h.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:s,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t=e.selected+1;d.length===c?i.updateSearch(Object(Ne.a)(Object(Ne.a)({},r),{},{filter_by:p,page:t})):(d.length<25*t&&i.search({search:u,skip:d.length,limit:25*t-d.length,filter_by:p},(function(e,n){e?i.updateSearch(Object(Ne.a)(Object(Ne.a)({},r),{},{searching:!1,filter_by:p})):i.updateSearch(Object(Ne.a)(Object(Ne.a)({},r),{},{searching:!1,filter_by:p,count:n.data.total_count,results:[].concat(Object(I.a)(n.data.workspaces),Object(I.a)(d)),maxPage:Math.ceil(n.data.total_count/25),page:t}))})),i.updateSearch(Object(Ne.a)(Object(Ne.a)({},r),{},{filter_by:p,value:u,searching:!0,page:t})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))})),n(15)),Ce=M.a.li(O||(O=Object(R.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  :hover {\n    button {\n      display: inline-flex;\n    }\n  }\n"]))),Se=M.a.button(v||(v=Object(R.a)(["\n  margin-left: auto;\n  display: none;\n"]))),xe=Object(M.a)(H.s)(_||(_=Object(R.a)(["\n  width: 1rem;\n  height: 1rem;\n  stroke-width: 2px;\n"]))),Ie=Object(M.a)(H.s)(w||(w=Object(R.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  stroke-width: 3px;\n  margin-right: 3px;\n  margin-bottom: 0.1rem;\n"]))),Re=Object(M.a)(H.s)(T||(T=Object(R.a)(["\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n"]))),Pe=function(e){var t=e.dictionary,n=e.onJoinWorkspace,a=e.onLeaveWorkspace,i=e.item,r=e.redirect,o=e.workspaces,c=i.topic,s=i.workspace,l=i.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat(),d=Object(W.C)(Object(I.a)(new Set(l)));return D.a.createElement(Ce,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:c.id,name:c.name,folder_id:s?s.id:null,folder_name:s?s.name:null};o.hasOwnProperty(c.id)?r.toWorkspace(e):r.fetchWorkspaceAndRedirect(e)}},D.a.createElement("div",{className:"workspace-search-detail"},D.a.createElement("div",{className:"workspace-title-status"},D.a.createElement("h5",null,c.name),c.is_locked&&D.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelPrivate),c.is_archive&&D.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelArchived),!c.is_archive&&!c.is_locked&&D.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelOpen),c.is_shared&&D.a.createElement("span",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},D.a.createElement(Re,{icon:"eye"})," ",t.externalAccess)),D.a.createElement("ul",{className:"workspace-detail-lists"},d&&D.a.createElement("li",{className:"text-success"},D.a.createElement(xe,{icon:"check"}),t.labelJoined),D.a.createElement("li",null,i.members.length," ",1===i.members.length?t.member:t.members),D.a.createElement("li",null,D.a.createElement(Ie,{icon:"folder"}),s?s.name:"Workspaces"),D.a.createElement("li",null,Object(je.j)(c.description)))),d?D.a.createElement(Se,{onClick:function(e){e.stopPropagation(),a(i)},className:"btn btn-primary join-button"},t.buttonLeave):D.a.createElement(Se,{onClick:function(e){e.stopPropagation(),n(i)},className:"btn btn-primary join-button"},D.a.createElement(H.s,{icon:"user-plus"}),t.buttonJoin))},De=n(16),Le=function(e){var t=e.actions,n=e.page,a=e.results,i=e.redirect,r=e.user,o=Object(L.c)(),c=Object(L.d)((function(e){return e.workspaces.workspaces})),s=Object(W.bb)(),l=Object(W.gb)()._t,d={labelArchived:l("LABEL.ARCHIVED","Archived"),labelPrivate:l("LABEL.PRIVATE","Private"),labelOpen:l("LABEL.OPEN","Open"),labelJoined:l("LABEL.JOINED","Joined"),sidebarWorkspaces:l("SIDEBAR.WORKSPACES","Workspaces"),member:l("LABEL.MEMBER","member"),members:l("LABEL.MEMBERS","members"),buttonJoin:l("BUTTON.JOIN","Join"),buttonLeave:l("BUTTON.LEAVE","Leave"),leaveWorkspace:l("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:l("TOASTER.JOIN_WORKSPACE","You have joined #"),externalAccess:l("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access")},m=function(e){var n={channel_id:e.channel.id,recipient_ids:[r.id]};t.join(n,(function(t,n){t||(!function(e){var t={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};c.hasOwnProperty(e.topic.id)?i.toWorkspace(t):i.fetchWorkspaceAndRedirect(t)}(e),s.success(D.a.createElement(D.a.Fragment,null,d.joinWorkspace,D.a.createElement("b",null,e.topic.name))))}))},p=function(e){if(1===e.members.length&&e.topic.is_locked){var t={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};o(Object(De.rb)(t))}else{var n={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[r.id]};n.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:r.id,name:r.name,first_name:r.first_name,partial_name:r.partial_name,profile_image_link:r.profile_image_thumbnail_link?r.profile_image_thumbnail_link:r.profile_image_link},title:"",added_members:[],removed_members:[r.id]}));o(Object(ae.Q)({workspace_id:e.topic.id,channel_id:e.channel.id},(function(t,n){t||s.success(D.a.createElement(D.a.Fragment,null,d.leaveWorkspace,D.a.createElement("b",null,e.topic.name)))}))),o(Object(ae.ab)(n))}};return D.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},D.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},D.a.createElement("ul",{className:"list-group list-group-flush"},a.sort((function(e,t){return e.topic.name.localeCompare(t.topic.name)})).slice(n>1?25*n-25:0,25*n).map((function(e){return D.a.createElement(Pe,{key:e.topic.id,dictionary:d,onJoinWorkspace:m,onLeaveWorkspace:p,item:e,redirect:i,workspaces:c})})))))},Fe=n(19),Me=M.a.div(N||(N=Object(R.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"])),""),Ue=Object(M.a)(H.s)(k||(k=Object(R.a)(["\n  stroke-width: 2px;\n"]))),He=M.a.div(y||(y=Object(R.a)([""]))),We=M.a.div(A||(A=Object(R.a)(["\n  margin-bottom: 5px;\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n"]))),ze=M.a.ul(j||(j=Object(R.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  label {\n    margin: 0;\n  }\n  .custom-control {\n    min-height: 1rem;\n  }\n"]))),Be=M.a.div(C||(C=Object(R.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"])),(function(e){return e.maxHeight})),Ge=function(e){var t=e.actions,n=e.search,a=n.value,i=n.searching,r=n.filterBy,o=n.filters,c=Object(P.useState)(a),s=Object(ee.a)(c,2),l=s[0],d=s[1],m=Object(P.useState)(r),p=Object(ee.a)(m,2),u=p[0],f=p[1],h=Object(P.useState)(o),b=Object(ee.a)(h,2),E=b[0],g=b[1],O=function(){t.search({search:l,skip:0,limit:25,filter_by:u},(function(e,a){e?t.updateSearch(Object(Ne.a)(Object(Ne.a)({},n),{},{searching:!1})):t.updateSearch(Object(Ne.a)(Object(Ne.a)({},n),{},{value:l,filter_by:u,searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25),page:1}))})),t.updateSearch({results:[],value:l,filter_by:u,searching:!0})},v=function(){t.updateSearch({results:[],searching:!0,value:"",filter_by:"",page:1,maxPage:1,count:0}),t.search({search:"",skip:0,limit:25,filter_by:""},(function(e,a){e?t.updateSearch(Object(Ne.a)(Object(Ne.a)({},n),{},{searching:!1,value:"",filter_by:""})):t.updateSearch(Object(Ne.a)(Object(Ne.a)({},n),{},{value:"",filter_by:"",searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25)}))})),d("")},_=function(e){var t=e.target.dataset.name;g((function(e){return function(e,t){f((function(n){return e[t].checked?"":t})),e[t].checked=!e[t].checked;var n=Object.values(e).reduce((function(e,n){return t!==n.key&&(n.checked=!1,e[n.key]=Object(Ne.a)({},n)),e}),{});return Object(Ne.a)(Object(Ne.a)({},e),n)}(e,t)}))};Object(P.useEffect)((function(){Object.values(E).map((function(e){return e.checked})).includes(!0)&&!i||a?t.updateSearch({results:[],value:l,filter_by:u,searching:!0},(function(){O()})):v()}),[u]),Object(P.useEffect)((function(){d(a)}),[a]);var w=Object(W.gb)()._t,T={searchWorkspaceSearchPlaceholder:w("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:w("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:w("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:w("WORKSPACE.PRIVATE","Private"),archived:w("WORKSPACE.ARCHIVED","Archived"),nonMember:w("WORKSPACE.NON_MEMBER","Non Member"),new:w("WORKSPACE.NEW","New"),external:w("WORKSPACE.EXTERNAL","External")};return D.a.createElement(Me,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},D.a.createElement("div",{className:"container"},D.a.createElement("div",{className:"row d-flex justify-content-center"},D.a.createElement("h2",{className:"mb-4 text-center"},T.searchWorkspaceSearchTitle),D.a.createElement("div",{className:"input-group"},D.a.createElement(He,{className:"input-wrap"},D.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==a?v():d(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||i||O()},type:"text",className:"form-control",placeholder:T.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:l}),""!==l.trim()&&D.a.createElement("button",{className:"btn-cross",type:"button",onClick:v},D.a.createElement(Ue,{icon:"x"}))),D.a.createElement("div",{className:"input-group-append"},D.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:O},D.a.createElement(H.s,{icon:"search"})))),D.a.createElement(Be,{className:"enter-active"},D.a.createElement("div",{className:"row d-flex justify-content-center my-3"},D.a.createElement(We,{className:"px-3"},D.a.createElement(H.s,{icon:"sliders"})),D.a.createElement(ze,{className:"d-flex"},Object.values(E).map((function(e){return D.a.createElement("li",{className:"d-flex align-items-center mr-2",key:e.key},D.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success"},D.a.createElement(Fe.a,{name:e.key,checked:e.checked,type:"danger",onClick:_})),D.a.createElement("span",null,T[e.key]))}))))))))},Ve=(n(804),M.a.li(S||(S=Object(R.a)(["\n  cursor: pointer;\n  &.list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n"])))),Ye=D.a.memo((function(e){var t=e.folder,n=e.filterByFolder,a=Object(L.c)();return D.a.createElement(Ve,{className:"list-group-item d-flex align-items-center ".concat(n&&n.id===t.id&&"active"),onClick:function(){a(Object(ae.fb)({filterByFolder:t,filterBy:""}))}},D.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),t.name,D.a.createElement("span",{className:"small ml-auto"},t.workspaces.length>0&&t.workspaces.length))})),Ke=M.a.div(x||(x=Object(R.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),qe=D.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(L.d)((function(e){return e.workspaces.allFolders})),i=Object(L.d)((function(e){return e.workspaces.search.filterByFolder}));return D.a.createElement(Ke,{className:"list-group list-group-flush ".concat(n)},Object.values(a).sort((function(e,t){return e.workspaces.length===t.workspaces.length?e.name.localeCompare(t.name):t.workspaces.length-e.workspaces.length})).map((function(e){return D.a.createElement(Ye,{folder:e,filterByFolder:i,key:e.id})})))}))},791:function(e,t,n){"use strict";n.r(t);var a,i=n(7),r=n(5),o=n(0),c=n.n(o),s=n(4),l=n(813),d=n(838),m=n.n(d),p=s.a.div(a||(a=Object(r.a)(["\n  .chat-sidebar-panel {\n    //max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    flex: 1 1 auto;\n    // @media (min-width: 1920px) {\n    //   max-width: calc(100% - 540px);\n    // }\n  }\n  @media (max-width: 1550px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n  .row {\n    flex-wrap: unset;\n  }\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t;null!==localStorage.getItem("chat_translate_change")&&(localStorage.removeItem("chat_translate_change"),window.location.reload());var a=Object(o.useState)(!0),r=Object(i.a)(a,2),s=r[0],d=r[1];return Object(o.useEffect)((function(){setTimeout((function(){d(!1)}),7e3)})),c.a.createElement(p,{className:"company-chat ".concat(n)},c.a.createElement("div",{className:"row no-gutters chat-block"},c.a.createElement(l.h,{className:"col-lg-4 chat-sidebar-panel"}),c.a.createElement(l.a,{className:"col-lg-8 chat-content-panel"}),s?c.a.createElement(m.a,null):""))}},796:function(e,t,n){"use strict";n.r(t);var a,i=n(5),r=n(0),o=n.n(r),c=n(4),s=n(11),l=n(819),d=n(72),m=c.a.div(a||(a=Object(i.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));t.default=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.match,i=e.actions,r=a.params,c=Object(s.gb)()._t,p=Object(s.i)(),u=p.timelineInit,f=p.timelineItems,h=p.recentPostsInit,b=Object(s.k)().posts,E=window.innerWidth,g={aboutThisWorkspace:c("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:c("TEAM","Team"),timeline:c("TIMELINE","Timeline"),noRecentPosts:c("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:c("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:c("FILE_ATTACHMENTS","File attachments"),attachedFile:c("ATTACHED_A_FILE","attached a file"),sharedThePost:c("SHARED_THE_POST","shared the post"),hasJoined:c("TIMELINE.HAS_JOINED","has joined"),hasLeft:c("TIMELINE.HAS_LEFT","has left"),youJoined:c("TIMELINE.YOU_JOINED","You joined"),youLeft:c("TIMELINE.YOU_LEFT","You left"),isAdded:c("TIMELINE.IS_ADDED","is added"),isRemoved:c("TIMELINE.IS_REMOVED","is removed"),createdThePost:c("TIMELINE.CREATED_POST","created the post"),isAddedToCompany:c("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company"),updatedWorkspaceTo:c("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:c("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:c("TEAM.REVOKE_APPROVER","Assign as approver"),remove:c("TEAM.REMOVE","Remove"),showMore:c("SHOW_MORE","Show more"),showLess:c("SHOW_LESS","Show less"),openPost:c("SYSTEM.OPEN_POST","Open post")};return o.a.createElement(m,{className:"container-fluid h-100 fadeIn ".concat(n)},o.a.createElement("div",{className:"row"},E>620?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-6"},o.a.createElement(d.a,{init:u,timeline:f,actions:i,params:r,dictionary:g})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(l.a,{dictionary:g}),o.a.createElement(l.b,{posts:b,dictionary:g}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-12"},o.a.createElement(l.a,{dictionary:g}),o.a.createElement(l.b,{init:h,posts:b,dictionary:g}),o.a.createElement(d.a,{init:u,timeline:f,actions:i,params:r,dictionary:g})))))}))},797:function(e,t,n){"use strict";n.r(t);var a,i,r=n(7),o=n(5),c=n(0),s=n.n(c),l=n(45),d=n(4),m=n(171),p=n(11),u=n(781),f=n(15),h=n(872),b=n(818),E=d.a.div(a||(a=Object(o.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n    overflow: unset;\n  }\n  .card-body {\n    overflow: auto;\n  }\n"]))),g=Object(d.a)(m.a)(i||(i=Object(o.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"])));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(p.jb)(),i=a.users,o=a.loggedUser,d=a.selectUserChannel,m=Object(l.g)(),O=Object(c.useState)(""),v=Object(r.a)(O,2),_=v[0],w=v[1],T=Object(c.useState)(!0),N=Object(r.a)(T,2),k=N[0],y=N[1],A=Object(c.useState)(!1),j=Object(r.a)(A,2),C=j[0],S=j[1],x={search:Object(c.useRef)()},I=function(e){m.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},R=function(e){return d(e)};Object(c.useEffect)((function(){x.search.current.focus()}),[]);var P=Object.values(i).sort((function(e,t){return e.name.toString().localeCompare(t.name)})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot","huddle_bot"].includes(e.email)&&("internal"===e.type&&(1===e.active&&!(""!==_&&!C&&-1===e.name.toLowerCase().search(_.toLowerCase())&&-1===e.email.toLowerCase().search(_.toLowerCase()))))})),D=Object(p.gb)()._t,L={searchPeoplePlaceholder:D("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:D("PEOPLE.EXTERNAL","External"),peopleInvited:D("PEOPLE.INVITED","Invited"),structureView:D("PEOPLE.STRUCTURE_VIEW_TOGGLE","Structure view"),peopleView:D("PEOPLE.PEOPLE_VIEW_TOGGLE","People view")};return s.a.createElement(E,{className:"workspace-people container-fluid h-100 ".concat(n)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"people-header"},s.a.createElement("div",{className:"d-flex align-items-center people-search"},s.a.createElement(g,{ref:x.search,value:_,closeButton:"true",onClickEmpty:function(){w("")},placeholder:L.searchPeoplePlaceholder,onChange:function(e){w(e.target.value)},autoFocus:!0}),s.a.createElement(h.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:k,id:"people_view",name:"people_view",type:"switch",onChange:function(){y(!k),S(!C)},"data-success-message":"".concat(k?"Inactive users are shown":"Inactive users are no longer visible"),label:s.a.createElement("span",null,L.peopleView)}),s.a.createElement(h.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:C,id:"structure_view",name:"structure_view",type:"switch",onChange:function(){S(!C),y(!k)},label:s.a.createElement("span",null,L.structureView)}))),C&&s.a.createElement(b.c,{users:P}),k&&s.a.createElement("div",{className:"row"},P.map((function(e){return s.a.createElement(u.a,{loggedUser:o,key:e.id,user:e,onNameClick:I,onChatClick:R,dictionary:L})}))))))}))},798:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l=n(7),d=n(5),m=n(0),p=n.n(m),u=n(45),f=n(4),h=n(12),b=n(11),E=n(356),g=n(73),O=f.a.div(a||(a=Object(d.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),v=f.a.span(i||(i=Object(d.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),_=f.a.div(r||(r=Object(d.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),w=f.a.div(o||(o=Object(d.a)(["\n  //text-align: right;\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),T=Object(f.a)(h.s)(c||(c=Object(d.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),N=f.a.div(s||(s=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t,a=Object(u.i)(),i=Object(u.g)(),r=Object(b.bb)(),o=Object(b.k)(),c=o.actions,s=o.fetchMore,d=o.posts,f=o.filter,k=o.tag,y=o.postListTag,A=o.sort,j=o.post,C=o.user,S=o.search,x=o.count,I=o.postLists,R=o.counters,P=Object(m.useState)(!1),D=Object(l.a)(P,2),L=D[0],F=D[1],M=Object(m.useState)(!1),U=Object(l.a)(M,2),H=U[0],W=U[1],z=Object(m.useState)({}),B=Object(l.a)(z,2),G=B[0],V=B[1],Y="external"===C.type,K=Object(m.useRef)(!0),q=function(){a.hasOwnProperty("postId")&&i.push("/posts")},Z=Object(b.gb)()._t,J={createNewPost:Z("POST.CREATE_NEW_POST","Create new post"),all:Z("POST.ALL","All"),inbox:Z("POST.INBOX","Inbox"),newReply:Z("POST.NEW_REPLY","New reply"),myPosts:Z("POST.MY_POSTS","My sent posts"),starred:Z("POST.STARRED","Starred"),archived:Z("POST.ARCHIVED","Archived"),draft:Z("POST.DRAFT","Draft"),drafts:Z("POST.DRAFTS","Drafts"),category:Z("POST.CATEGORY","Category"),replyRequired:Z("POST.REPLY_REQUIRED","Reply required"),mustRead:Z("POST.MUST_READ","Must read"),noReplies:Z("POST.NO_REPLIES","No replies"),sortBy:Z("POST.SORT_BY","Sort by"),starredFavorite:Z("POST.STARRED_FAVORITE","Starred / Favorite"),recent:Z("POST.RECENT","Recent"),unread:Z("POST.UNREAD","Unread"),searchPost:Z("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:Z("POST.MARK_AS_READ","Mark as read"),markAsUnread:Z("POST.MARK_AS_UNREAD","Mark as unread"),share:Z("POST.SHARE","Share"),snooze:Z("POST.SNOOZE","Snooze"),follow:Z("POST.FOLLOW","Follow"),unFollow:Z("POST.UNFOLLOW","Unfollow"),files:Z("POST.FILES","Files"),comment:Z("POST.COMMENT","Comment"),editPost:Z("POST.EDIT_POST","Edit post"),editReply:Z("POST.EDIT_REPLY","Edit reply"),removeReply:Z("POST.REMOVE_REPLY","Remove reply"),quote:Z("POST.QUOTE","Quote"),mentionUser:Z("POST.MENTION_USER","Mention user"),remindMeAboutThis:Z("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:Z("POST.SEARCH_RESULT","Search Result:"),searchResults:Z("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:Z("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:Z("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:Z("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:Z("POST.PRIVATE","Private"),by:Z("POST.BY","by"),star:Z("POST.STAR","Mark with star"),unStar:Z("POST.UNSTAR","Unmark star"),alreadyReadThis:Z("POST.ALREADY_READ_THIS","I've read this"),me:Z("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:Z("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:Z("SHOW_MORE","Show more"),showLess:Z("SHOW_LESS","Show less"),markAll:Z("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:Z("POST.ARCHIVE_ALL","Archive all"),noComment:Z("POST.NO_COMMENT","no comment"),oneComment:Z("POST.ONE_COMMENT","1 comment"),comments:Z("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:Z("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:Z("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Z("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:Z("POST.ARCHIVE","Archive"),requestChange:Z("POST.REQUEST_CHANGE","Request for change"),accept:Z("POST.ACCEPT","Accept"),hasAcceptedProposal:Z("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:Z("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:Z("POST.ACTION_NEEDED","Action needed"),changeRequested:Z("POST.CHANGE_REQUESTED","Change requested"),accepted:Z("POST.ACCEPTED","Accepted"),requestForApproval:Z("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:Z("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:Z("POST.REPLIES_CLOSED","Replies closed"),openThisPost:Z("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:Z("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:Z("POST.REOPEN","Reopen"),closed:Z("POST.CLOSED","Closed"),createNewList:Z("POST.CREATE_NEW_LIST","New List"),addToList:Z("POST.ADD_TO_LIST","Add to list"),removeToList:Z("POST.REMOVE_TO_LIST","Remove to list"),allOthers:Z("POST.ALL_OTHERS","All others"),sharedClientBadge:Z("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:Z("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:Z("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:Z("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:Z("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:Z("BUTTON.SELECT_ALL","Select all"),remove:Z("BUTTON.REMOVE","Remove"),errorLoadingPost:Z("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:Z("POST.IN_PROGRESS","In progress"),teamLabel:Z("TEAM","Team"),new:Z("POST.NEW","New")},X=Object(m.useMemo)((function(){var e=Object(g.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&W(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(m.useEffect)((function(){H&&(""!==S||j||(F(!0),s((function(e,t){K.current&&(F(!1),W(!1))}))))}),[H]),Object(m.useEffect)((function(){return c.getUnreadNotificationEntries({add_unread_comment:1}),function(){c.getUnreadNotificationEntries({add_unread_comment:1}),K.current=null}}),[]),Object(m.useEffect)((function(){a.postId&&!j&&c.fetchPostDetail({post_id:parseInt(a.postId)},(function(e,t){if(K.current&&e){c.setCompanyFilterPosts({filter:"inbox",tag:null}),i.push("/posts"),r.error(J.errorLoadingPost)}}))}),[a.postId,j]),Object(m.useEffect)((function(){if(y){var e=Object(g.find)(I,(function(e){return parseInt(e.id)===parseInt(y)}));if(I.map((function(t){e&&parseInt(y)===t.id&&V(t)})),!e){V(I[0]);var t={tag:null,postListTag:I[0].id,filter:null};c.setCompanyFilterPosts(t)}}}),[y,I]);return null===d?p.a.createElement(p.a.Fragment,null):p.a.createElement(O,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:X},p.a.createElement("div",{className:"row app-block"},p.a.createElement(E.k,{filter:f,tag:k,postListTag:y,postActions:c,count:x,postLists:I,counters:R,onGoBack:q,dictionary:J}),p.a.createElement("div",{className:"col-md-9 app-content"},p.a.createElement("div",{className:"app-content-overlay"}),!j&&p.a.createElement(E.f,{activeSort:A,search:S,dictionary:J,className:"mb-3"}),!!y&&p.a.createElement(w,null,p.a.createElement("span",null,"Filter:"),p.a.createElement(v,{className:"ml-2 recipients"},p.a.createElement("span",{className:"receiver"},p.a.createElement("span",{onClick:function(){c.setCompanyFilterPosts({tag:null,filter:"all"})}},p.a.createElement(T,{icon:"x",className:"mr-1"})),G.name))),0!==d.length||""!==S||a.hasOwnProperty("postId")?p.a.createElement(p.a.Fragment,null,j&&a.hasOwnProperty("postId")?p.a.createElement("div",{className:"card card-body app-content-body"},p.a.createElement(_,{className:"fadeBottom"},p.a.createElement(E.c,{post:j,posts:d,filter:f,postActions:c,user:C,history:i,onGoBack:q,dictionary:J,isExternalUser:Y}))):!j&&a.hasOwnProperty("postId")?p.a.createElement(N,{className:"card initial-load"},p.a.createElement(h.j,null)):p.a.createElement(E.l,{actions:c,dictionary:J,filter:f,isExternalUser:Y,loading:L,posts:d,search:S,user:C})):p.a.createElement(E.m,{actions:c,dictionary:J}),p.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},799:function(e,t,n){"use strict";n.r(t);var a,i,r,o=n(7),c=n(5),s=n(0),l=n.n(s),d=n(4),m=n(6),p=n(813),u=n(45),f=n(12),h=n(23),b=n(11),E=n(17),g=n(58),O=d.a.div(a||(a=Object(c.a)([""]))),v=d.a.div(i||(i=Object(c.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]))),_=d.a.div(r||(r=Object(c.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,i=Object(u.j)(),r=Object(u.i)(),c=Object(m.c)(),d=Object(m.d)((function(e){return e.chat.selectedChannel})),w=Object(m.d)((function(e){return e.session.user})),T=Object(s.useState)(!1),N=Object(o.a)(T,2),k=N[0],y=N[1];Object(b.r)();return Object(s.useEffect)((function(){var e=document.getElementById("toastS");return e&&g.isMobile&&e.classList.add("d-none"),function(){e&&g.isMobile&&e.classList.remove("d-none")}}),[]),Object(s.useEffect)((function(){r.hasOwnProperty("workspaceId")&&c(Object(E.w)({topic_id:r.workspaceId}))}),[r.workspaceId]),l.a.createElement(O,{className:"workspace-chat container-fluid ".concat(n)},l.a.createElement(v,{className:"row no-gutters chat-block"},a&&!a.team_channel.code&&i.path.startsWith("/workspace/team-chat/")&&"internal"===w.type&&l.a.createElement(_,null,l.a.createElement(f.q,{icon:3,height:252}),l.a.createElement("button",{className:"btn btn-outline-primary btn-block",disable:k,onClick:function(){k||(y(!0),c(Object(h.d)({id:a.id},(function(e,t){y(!1)}))))}},k?"Activating...":"Activate chat")),(i.path.startsWith("/workspace/chat")&&d&&a.is_shared&&d.id===a.channel.id||i.path.startsWith("/workspace/chat")&&d&&!a.is_shared&&d.id===a.team_channel.id||i.path.startsWith("/workspace/team-chat")&&a&&a.team_channel.code&&"internal"===w.type&&d&&d.id===a.team_channel.id)&&l.a.createElement(p.a,{className:"col-lg-12",isWorkspace:!0,selectedChannel:d})))}},800:function(e,t,n){"use strict";n.r(t);var a,i=n(7),r=n(5),o=n(0),c=n.n(o),s=n(6),l=n(45),d=n(4),m=n(13),p=n(11),u=n(783),f=d.a.div(a||(a=Object(r.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"])));t.default=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,r=e.workspace,d=Object(s.c)(),h=Object(l.g)(),b=Object(p.gb)()._t,E=Object(p.t)(!0),g=E.params,O=E.wsFiles,v=E.actions,_=E.topic,w=E.fileIds,T=E.folders,N=E.folder,k=E.subFolders;Object(p.r)();var y=Object(o.useState)(""),A=Object(i.a)(y,2),j=A[0],C=A[1],S=Object(o.useState)(""),x=Object(i.a)(S,2),I=x[0],R=x[1],P={dropZone:Object(o.useRef)(null)},D=!1;r&&0===r.active&&(D=!0);var L=function(){v.search(I)},F=function(){R(""),v.clearSearch()},M={createFolder:b("CREATE_FOLDER","Create folder"),create:b("CREATE","Create"),updateFolder:b("UPDATE_FOLDER","Update folder"),update:b("UPDATE","Update"),editFolder:b("EDIT_FOLDER","Edit folder"),removeFolder:b("REMOVE_FOLDER","Remove folder"),renameFolder:b("RENAME.FOLDER","Rename folder"),folderInfo:b("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:b("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:b("ADD","Add"),favorite:b("FAVORITE","Favorite"),file:b("FILE","File"),folder:b("FOLDER","Folder"),folderName:b("FOLDER_NAME","Folder name"),folders:b("FOLDERS","Folders"),allFiles:b("FILES.ALL_FILES","All files"),recentlyEdited:b("FILES.RECENTLY_EDITED","Recently edited"),removed:b("FILES.REMOVED","Removed"),searchInputPlaceholder:b("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:b("UPLOAD_FILES","Upload files"),driveLink:b("BUTTON.DRIVE_LINK","Drive link")},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",n={type:"files_folder",folder:"create"===t?null:e,params:g,mode:t,topic_id:_.id,parentFolder:N||null};d(Object(m.a)(n))},H=function(){C("")};return Object(o.useEffect)((function(){N&&N.is_archived&&"removed"!==j&&C("removed")}),[N,j,C]),c.a.createElement(f,{className:"container-fluid h-100 fadeIn ".concat(n)},c.a.createElement("div",{className:"row app-block"},"undefined"===typeof O||null===O?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(u.k,{actions:v,isMember:a,clearFilter:H,params:g,dropZoneRef:P.dropZone,className:"col-lg-3",filterFile:function(e){if(g.hasOwnProperty("fileFolderId")){var t=h.location.pathname.split("/folder/")[0];h.push(t)}C(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:j,wsFiles:O,folders:T,activeFolder:N,dictionary:M,disableOptions:D,workspace:r}),c.a.createElement("div",{className:"col-md-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(u.j,{isMember:a,clearFilter:H,dropZoneRef:P.dropZone,history:h,params:g,onSearch:L,onSearchChange:function(e){""===e.target.value&&F(),R(e.target.value)},onEnter:function(e){"Enter"===e.key&&L()},wsFiles:O,handleAddEditFolder:U,folders:T,dictionary:M,disableOptions:D,onClickEmpty:F,value:I}),c.a.createElement(u.h,{dropZoneRef:P.dropZone,filter:j,search:I,folders:T,folder:N,fileIds:w,isMember:a,subFolders:k,history:h,actions:v,params:g,wsFiles:O,handleAddEditFolder:U,dictionary:M,disableOptions:D})))))}))},801:function(e,t,n){"use strict";n.r(t);var a,i,r=n(7),o=n(5),c=n(0),s=n.n(c),l=n(45),d=n(4),m=n(171),p=n(11),u=n(781),f=n(15),h=n(12),b=n(13),E=n(6),g=d.a.div(a||(a=Object(o.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: flex-start;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n"]))),O=Object(d.a)(m.a)(i||(i=Object(o.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 1rem;\n  }\n"])));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,i=e.isMember,o=e.workspace,d=Object(E.c)(),m=Object(p.jb)(),v=m.selectUserChannel,_=m.loggedUser,w=Object(E.d)((function(e){return e.workspaces})).activeTopic,T=Object(l.g)();Object(p.r)();var N=Object(c.useState)(""),k=Object(r.a)(N,2),y=k[0],A=k[1],j={search:Object(c.useRef)()},C=function(e){T.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},S=function(e){return v(e)};Object(c.useEffect)((function(){j.search.current.focus()}),[]);var x=[];o&&(x=o.members);var I=x.filter((function(e){return""===y||-1!==e.name.toLowerCase().search(y.toLowerCase())||-1!==e.email.toLowerCase().search(y.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)})),R=Object(p.gb)()._t,P={searchPeoplePlaceholder:R("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:R("PEOPLE.EXTERNAL","External"),peopleInvited:R("PEOPLE.INVITED","Invited"),peopleManage:R("PEOPLE.MANAGE","Manage People"),roleAdvisor:R("ROLE.ADVISOR","Advisor"),roleApprover:R("ROLE.APPROVER","Approver"),roleClient:R("ROLE.CLIENT","Client"),roleCommunicationLead:R("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:R("ROLE.DESIGNER","Designer"),roleDeveloper:R("ROLE.DEVELOPER","Developer"),roleFreelancer:R("ROLE.FREELANCER","Freelancer"),roleSupervisor:R("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:R("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:R("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:R("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:R("ROLE.WATCHER","Watcher")};return Object(p.x)(j.search.current),s.a.createElement(g,{className:"workspace-people fadeIn container-fluid ".concat(n)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"people-header"},s.a.createElement(O,{ref:j.search,value:y,closeButton:"true",onClickEmpty:function(){A("")},placeholder:P.searchPeoplePlaceholder,onChange:function(e){A(e.target.value)},autoFocus:!0}),!a&&i&&s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:w};d(Object(b.a)(e))}},s.a.createElement(h.s,{className:"mr-2",icon:"user-plus"})," ",P.peopleManage))),s.a.createElement("div",{className:"row"},I.map((function(e){return s.a.createElement(u.a,{key:e.id,loggedUser:_,user:e,onNameClick:C,onChatClick:S,dictionary:P,showWorkspaceRole:!0})}))))))}))},802:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l=n(1),d=n(7),m=n(5),p=n(0),u=n.n(p),f=n(45),h=n(4),b=n(12),E=n(11),g=n(76),O=n(73),v=n(17),_=n(23),w=n(6),T=n(15),N=h.a.div(a||(a=Object(m.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),k=h.a.div(i||(i=Object(m.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),y=h.a.div(r||(r=Object(m.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),A=h.a.span(o||(o=Object(m.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),j=Object(h.a)(b.s)(c||(c=Object(m.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),C=h.a.div(s||(s=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));t.default=function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,i=e.isMember,r=Object(f.i)(),o=Object(f.g)(),c=Object(E.bb)(),s=Object(w.c)();Object(E.r)();var m=Object(E.K)(),h=m.actions,S=m.posts,x=m.filter,I=m.tag,R=m.sort,P=m.post,D=m.user,L=m.search,F=m.count,M=m.postLists,U=m.counters,H=m.filters,W=m.postListTag,z=Object(p.useState)(!1),B=Object(d.a)(z,2),G=B[0],V=B[1],Y=Object(p.useState)(!1),K=Object(d.a)(Y,2),q=K[0],Z=K[1],J=Object(p.useState)({}),X=Object(d.a)(J,2),Q=X[0],$=X[1],ee=Object(p.useRef)(!0),te="external"===D.type,ne=function(){if(r.hasOwnProperty("postId")){var e=o.location.pathname.split("/post/")[0];o.push(e)}};Object(p.useEffect)((function(){return r.hasOwnProperty("workspaceId")&&h.getUnreadWsPostsCount({topic_id:r.workspaceId}),function(){ee.current=null}}),[]),Object(p.useEffect)((function(){r.hasOwnProperty("workspaceId")&&h.getRecentPosts(r.workspaceId)}),[r.workspaceId]);var ae=Object(E.gb)()._t,ie={createNewPost:ae("POST.CREATE_NEW_POST","Create new post"),all:ae("POST.ALL","All"),inbox:ae("POST.INBOX","Inbox"),newReply:ae("POST.NEW_REPLY","New reply"),myPosts:ae("POST.MY_POSTS","My sent posts"),starred:ae("POST.STARRED","Starred"),archived:ae("POST.ARCHIVED","Archived"),draft:ae("POST.DRAFT","Draft"),drafts:ae("POST.DRAFTS","Drafts"),category:ae("POST.CATEGORY","Category"),replyRequired:ae("POST.REPLY_REQUIRED","Reply required"),mustRead:ae("POST.MUST_READ","Must read"),noReplies:ae("POST.NO_REPLIES","No replies"),sortBy:ae("POST.SORT_BY","Sort by"),starredFavorite:ae("POST.STARRED_FAVORITE","Starred / Favorite"),recent:ae("POST.RECENT","Recent"),unread:ae("POST.UNREAD","Unread"),searchPost:ae("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:ae("POST.MARK_AS_READ","Mark as read"),markAsUnread:ae("POST.MARK_AS_UNREAD","Mark as unread"),share:ae("POST.SHARE","Share"),snooze:ae("POST.SNOOZE","Snooze"),follow:ae("POST.FOLLOW","Follow"),unFollow:ae("POST.UNFOLLOW","Unfollow"),files:ae("POST.FILES","Files"),comment:ae("POST.COMMENT","Comment"),editPost:ae("POST.EDIT_POST","Edit post"),editReply:ae("POST.EDIT_REPLY","Edit reply"),removeReply:ae("POST.REMOVE_REPLY","Remove reply"),quote:ae("POST.QUOTE","Quote"),mentionUser:ae("POST.MENTION_USER","Mention user"),remindMeAboutThis:ae("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:ae("POST.SEARCH_RESULT","Search Result:"),searchResults:ae("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:ae("POST.NO_SEARCH_RESULT","No result found:"),private:ae("POST.PRIVATE","Private"),by:ae("POST.BY","by"),star:ae("POST.STAR","Mark with star"),unStar:ae("POST.UNSTAR","Unmark star"),alreadyReadThis:ae("POST.ALREADY_READ_THIS","I've read this"),me:ae("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:ae("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:ae("SHOW_MORE","Show more"),showLess:ae("SHOW_LESS","Show less"),markAll:ae("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:ae("POST.ARCHIVE_ALL","Archive all"),noComment:ae("POST.NO_COMMENT","no comment"),oneComment:ae("POST.ONE_COMMENT","1 comment"),comments:ae("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:ae("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:ae("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:ae("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:ae("POST.ARCHIVE","Archive"),requestChange:ae("POST.REQUEST_CHANGE","Request for change"),accept:ae("POST.ACCEPT","Accept"),hasAcceptedProposal:ae("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:ae("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:ae("POST.ACTION_NEEDED","Action needed"),changeRequested:ae("POST.CHANGE_REQUESTED","Change requested"),accepted:ae("POST.ACCEPTED","Accepted"),requestForApproval:ae("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:ae("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:ae("POST.REPLIES_CLOSED","Replies closed"),openThisPost:ae("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:ae("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:ae("POST.REOPEN","Reopen"),closed:ae("POST.CLOSED","Closed"),createNewList:ae("POST.CREATE_NEW_LIST","New List"),addToList:ae("POST.ADD_TO_LIST","Add to list"),removeToList:ae("POST.REMOVE_TO_LIST","Remove to list"),allOthers:ae("POST.ALL_OTHERS","All others"),sharedClientBadge:ae("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:ae("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:ae("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:ae("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:ae("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:ae("BUTTON.SELECT_ALL","Select all"),remove:ae("BUTTON.REMOVE","Remove"),errorLoadingPost:ae("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:ae("POST.IN_PROGRESS","In progress"),teamLabel:ae("TEAM","Team"),new:ae("POST.NEW","New")};Object(p.useEffect)((function(){r.postId&&!P&&h.fetchPostDetail({post_id:parseInt(r.postId)},(function(e,t){if(ee.current&&e){var n={topic_id:a.id,filter:"inbox",tag:null};s(Object(_.db)(n)),r.folderId?o.push("/workspace/posts/".concat(r.folderId,"/").concat(Object(T.h)(r.folderName),"/").concat(r.workspaceId,"/").concat(Object(T.h)(r.workspaceName))):o.push("/workspace/posts/".concat(r.workspaceId,"/").concat(Object(T.h)(r.workspaceName))),c.error(ie.errorLoadingPost)}}))}),[r.postId,P]),Object(p.useEffect)((function(){if("in_progress"===x){h.getPosts({filters:["in_progress"],topic_id:parseInt(r.workspaceId)},(function(e,t){if(!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(v.g)({topic_id:parseInt(r.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{inProgress:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}else if("star"===x){h.getPosts({filters:["post","favourites"],topic_id:parseInt(r.workspaceId)},(function(e,t){if(!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(v.g)({topic_id:parseInt(r.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{favourites:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}else if("my_posts"===x){h.getPosts({filters:["post","created_by_me"],topic_id:parseInt(r.workspaceId)},(function(e,t){if(!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(v.g)({topic_id:parseInt(r.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{myPosts:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}}),[x]);var re=function(){if(""===L&&!P){V(!0),function(){if(H&&H.unreadPosts&&H.unreadPosts.hasMore){var e={filters:["green_dot"],topic_id:a.id,skip:H.unreadPosts.skip};h.getPosts(e,(function(e,t){if(!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(v.g)({topic_id:a.id,posts:t.data.posts,files:n,filters:{unreadPosts:{skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}}();var e={filters:"in_progress"===x?["in_progress"]:"archive"===x?["post","archived"]:"star"===x?["post","favourites"]:"my_posts"===x?["post","created_by_me"]:[],topic_id:a.id,skip:"in_progress"===x?null===H||void 0===H?void 0:H.inProgress.skip:"archive"===x?null===H||void 0===H?void 0:H.archived.skip:"star"===x?null===H||void 0===H?void 0:H.favourites.skip:"my_posts"===x?null===H||void 0===H?void 0:H.myPosts.skip:H.all.skip};if("inbox"===x){if(H.all&&!H.all.hasMore)return}else if("in_progress"===x){if(H.inProgress&&!H.inProgress.hasMore)return}else if("archive"===x){if(H.archived&&!H.archived.hasMore)return}else if("star"===x){if(H.favourites&&!H.favourites.hasMore)return}else if("my_posts"===x&&H.myPosts&&!H.myPosts.hasMore)return;h.getPosts(e,(function(e,t){if(ee.current&&(V(!1),Z(!1)),!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),s(Object(v.g)({topic_id:a.id,posts:t.data.posts,files:n,filters:Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"inbox"===x&&{all:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"in_progress"===x&&{inProgress:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"archive"===x&&{archived:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"star"===x&&{favourites:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"myPosts"===x&&{myPosts:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}})}))}}))}},oe=Object(p.useMemo)((function(){var e=Object(O.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&Z(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(p.useEffect)((function(){q&&re()}),[q]),Object(p.useEffect)((function(){if(W){var e=Object(O.find)(M,(function(e){return parseInt(e.id)===parseInt(W)}));if(M.map((function(t){e&&parseInt(W)===t.id&&$(t)})),!e){$(M[0]);var t={topic_id:a.id,tag:null,postListTag:M[0].id,filter:null};s(Object(_.db)(t))}}}),[W,M]);var ce=!1;return a&&0===a.active&&(ce=!0),null===S?u.a.createElement(u.a.Fragment,null):u.a.createElement(N,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:oe},u.a.createElement("div",{className:"row app-block"},u.a.createElement(g.o,{disableOptions:ce,isMember:i,workspace:a,filter:x,filters:H,tag:I,postListTag:W,postActions:h,count:F,postLists:M,counters:U,onGoBack:ne,dictionary:ie}),u.a.createElement("div",{className:"col-md-9 app-content"},u.a.createElement("div",{className:"app-content-overlay"}),!P&&u.a.createElement(g.i,{activeSort:R,workspace:a,search:L,dictionary:ie,className:"mb-3"}),!!W&&u.a.createElement(y,null,u.a.createElement("span",null,"Filter:"),u.a.createElement(A,{className:"ml-2 recipients"},u.a.createElement("span",{className:"receiver"},u.a.createElement("span",{onClick:function(){var e={topic_id:a.id,tag:null,postListTag:null,filter:"inbox"};s(Object(_.db)(e))}},u.a.createElement(j,{icon:"x",className:"mr-1"})),Q.name))),0!==S.length||""!==L||r.hasOwnProperty("postId")?u.a.createElement(u.a.Fragment,null,null!==P?u.a.createElement("div",{className:"card card-body app-content-body mb-4"},u.a.createElement(k,{className:"fadeBottom"},u.a.createElement(g.f,{post:P,posts:S,filter:x,postActions:h,user:D,history:o,onGoBack:ne,dictionary:ie,workspace:a,isMember:i,disableOptions:ce,isExternalUser:te}))):!P&&r.hasOwnProperty("postId")?u.a.createElement(C,{className:"card initial-load"},u.a.createElement(b.j,null)):u.a.createElement(g.r,{actions:h,dictionary:ie,filter:x,isExternalUser:te,loading:G,posts:S,search:L,workspace:a,user:D})):u.a.createElement(g.t,{actions:h,dictionary:ie,disableOptions:ce,isMember:i}),u.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},803:function(e,t,n){"use strict";n.r(t);var a,i=n(5),r=n(0),o=n.n(r),c=n(4).a.div(a||(a=Object(i.a)([""])));t.default=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return o.a.createElement(c,{className:"container-fluid h-100 ".concat(n)},o.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}))},804:function(e,t,n){"use strict";n.r(t);var a,i=n(9),r=n(7),o=n(5),c=n(0),s=n.n(c),l=n(4),d=n(11),m=n(816),p=n(73),u=l.a.div(a||(a=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(d.wb)(),o=a.getWorkspaceReminders,l=a.action,f=a.isLoaded,h=a.count,b=a.workspaceName,E=Object(d.gb)()._t,g=Object(c.useState)(""),O=Object(r.a)(g,2),v=O[0],_=O[1],w=Object(c.useState)(""),T=Object(r.a)(w,2),N=T[0],k=T[1],y=Object(c.useState)(!1),A=Object(r.a)(y,2),j=A[0],C=A[1],S=[E("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],x=[E("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),E("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),E("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==N&&(S=[E("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],x=[E("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===N&&"OVERDUE"===v&&(S=[].concat(Object(i.a)(S),[E("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),x=[].concat(Object(i.a)(x),[E("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var I=Object(c.useState)(Math.floor(Math.random()*S.length)),R=Object(r.a)(I,2),P=R[0],D=R[1],L={searchInputPlaceholder:E("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:E("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:E("REMINDER.TYPE_POST","Post"),typeChat:E("REMINDER.TYPE_CHAT","Chat"),typePostComment:E("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:E("REMINDER.STATUS_TODAY","Today"),statusAll:E("REMINDER.STATUS_ALL","ALL"),statusExpired:E("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:E("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:E("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:E("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:E("REMINDER.STATUS_DONE","Done"),emptyText:E("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:E("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:S[P],noItemsFoundText:x[P],actionReschedule:E("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:E("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:E("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:E("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:E("REMINDER.ACTION_REMOVE","Remove"),actionFilter:E("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:E("REMINDER.AUTHOR","Author"),reminderAssignedTo:E("REMINDER.ASSIGNED_TO","Assigned to"),todo:E("REMINDER.TO_DO","To do"),done:E("REMINDER.DONE","Done"),addDate:E("REMINDER.ADD_DATE","Add date"),addedByMe:E("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:E("REMINDER.ADDED_BY_OTHERS","Added by others"),sortAlpha:E("TODO_SORT_OPTIONS.ALPHA","Sort by alphabetical order"),sortDate:E("TODO_SORT_OPTIONS.DATE","Sort by due date")},F=Object(c.useMemo)((function(){var e=Object(p.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&C(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(c.useEffect)((function(){j&&l.loadMore()}),[j]),Object(c.useEffect)((function(){D(Math.floor(Math.random()*S.length))}),[v]);var M=o({filter:{status:v,search:N}});return s.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(n),hasReminders:M.length>0,onScroll:F},s.a.createElement("div",{className:"row app-block"},s.a.createElement(m.d,{className:"col-lg-3",dictionary:L,todoActions:l,setFilter:function(e){_(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:v,count:h}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(m.b,{dictionary:L,onSearchChange:function(e){k(e.target.value),""===e.target.value.trim()?D(Math.floor(Math.random()*S.length)):D(0)},clearSearch:function(){k("")},searchValue:N}),s.a.createElement(m.a,{complete:!1,isLoaded:f,todoItems:M.filter((function(e){return"DONE"!==e.status})),dictionary:L,todoActions:l,filter:v,doneTodoItems:M.filter((function(e){return"DONE"===e.status})),workspaceName:b}))))}))},805:function(e,t,n){"use strict";n.r(t);var a,i=n(9),r=n(7),o=n(5),c=n(0),s=n.n(c),l=n(4),d=n(11),m=n(816),p=n(73),u=l.a.div(a||(a=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));t.default=s.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(d.db)(),o=a.getReminders,l=a.action,f=a.isLoaded,h=a.count,b=Object(d.gb)()._t,E=Object(c.useState)(""),g=Object(r.a)(E,2),O=g[0],v=g[1],_=Object(c.useState)(""),w=Object(r.a)(_,2),T=w[0],N=w[1],k=Object(c.useState)(!1),y=Object(r.a)(k,2),A=y[0],j=y[1],C=[b("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),b("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),b("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],S=[b("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),b("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),b("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==T&&(C=[b("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],S=[b("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===T&&"OVERDUE"===O&&(C=[].concat(Object(i.a)(C),[b("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),S=[].concat(Object(i.a)(S),[b("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var x=Object(c.useState)(Math.floor(Math.random()*C.length)),I=Object(r.a)(x,2),R=I[0],P=I[1],D={searchInputPlaceholder:b("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:b("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:b("REMINDER.TYPE_POST","Post"),typeChat:b("REMINDER.TYPE_CHAT","Chat"),typePostComment:b("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:b("REMINDER.STATUS_TODAY","Today"),statusAll:b("REMINDER.STATUS_ALL","ALL"),statusExpired:b("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:b("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:b("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:b("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:b("REMINDER.STATUS_DONE","Done"),emptyText:b("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:b("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:C[R],noItemsFoundText:S[R],actionReschedule:b("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:b("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:b("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:b("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:b("REMINDER.ACTION_REMOVE","Remove"),actionFilter:b("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:b("REMINDER.AUTHOR","Author"),reminderAssignedTo:b("REMINDER.ASSIGNED_TO","Assigned to"),todo:b("REMINDER.TO_DO","To do"),done:b("REMINDER.DONE","Done"),addDate:b("REMINDER.ADD_DATE","Add date"),addedByMe:b("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:b("REMINDER.ADDED_BY_OTHERS","Added by others"),sortAlpha:b("TODO_SORT_OPTIONS.ALPHA","Sort by alphabetical order"),sortDate:b("TODO_SORT_OPTIONS.DATE","Sort by due date")},L=Object(c.useMemo)((function(){var e=Object(p.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&j(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(c.useEffect)((function(){A&&l.loadMore()}),[A]),Object(c.useEffect)((function(){P(Math.floor(Math.random()*C.length))}),[O]);var F=o({filter:{status:O,search:T}});return s.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:L},s.a.createElement("div",{className:"row app-block"},s.a.createElement(m.d,{className:"col-lg-3",dictionary:D,todoActions:l,setFilter:function(e){v(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:O,count:h}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(m.b,{dictionary:D,onSearchChange:function(e){N(e.target.value),""===e.target.value.trim()?P(Math.floor(Math.random()*C.length)):P(0)},clearSearch:function(){N("")},searchValue:T}),s.a.createElement(m.a,{complete:!1,isLoaded:f,todoItems:F.filter((function(e){return"DONE"!==e.status})),dictionary:D,todoActions:l,filter:O,doneTodoItems:F.filter((function(e){return"DONE"===e.status}))}))))}))},813:function(e,t,n){"use strict";n.d(t,"a",(function(){return Le})),n.d(t,"b",(function(){return ct})),n.d(t,"d",(function(){return yt})),n.d(t,"g",(function(){return un})),n.d(t,"h",(function(){return gn})),n.d(t,"f",(function(){return jn})),n.d(t,"e",(function(){return In})),n.d(t,"i",(function(){return Pn})),n.d(t,"c",(function(){return Ln}));var a,i,r,o,c,s,l,d,m,p,u,f,h,b,E,g,O,v,_,w,T,N,k,y,A,j,C,S,x,I,R,P,D,L,F,M,U,H,W,z,B,G,V,Y,K,q,Z,J,X,Q,$,ee,te,ne,ae,ie,re,oe,ce,se,le,de,me,pe,ue,fe,he,be,Ee,ge,Oe,ve=n(1),_e=n(7),we=n(5),Te=n(0),Ne=n.n(Te),ke=n(6),ye=n(4),Ae=n(13),je=n(77),Ce=n(11),Se=n(255),xe=n(792),Ie=Object(Te.lazy)((function(){return Promise.all([n.e(2),n.e(17)]).then(n.bind(null,868))})),Re=Object(Te.lazy)((function(){return Promise.all([n.e(12),n.e(2),n.e(18)]).then(n.bind(null,869))})),Pe=ye.a.div(a||(a=Object(we.a)(["\n  width: 100%;\n  z-index: 2;\n  position: relative;\n  @media (max-width: 992px) {\n    z-index: 1;\n  } ;\n"]))),De=ye.a.div(i||(i=Object(we.a)(["\n  flex: 1;\n"]))),Le=function(e){var t=e.className,a=void 0===t?"":t,i=e.isWorkspace,r=void 0!==i&&i,o=Object(xe.a)({timeout:6e4}).isIdle,c=Object(ke.c)(),s=Object(Se.a)(),l=Object(Ce.ab)(),d=Object(ke.d)((function(e){return e.session.user})),m=Object(ke.d)((function(e){return e.settings.user.CHAT_SETTINGS})),p=m.virtualization,u=m.translate,f=Object(ke.d)((function(e){return e.settings.user.GENERAL_SETTINGS})),h=f.chat_language,b=f.translated_channels,E=f.language,g=Object(ke.d)((function(e){return e.chat.selectedChannel})),O=Object(ke.d)((function(e){return e.workspaces.isOnClientChat})),v=Object(Te.useState)(!1),_=Object(_e.a)(v,2),w=_[0],T=_[1],N=Object(Ce.l)(),k={dropZoneRef:Object(Te.useRef)()},y=Object(Te.useState)(!1),A=Object(_e.a)(y,2),j=A[0],C=A[1],S=Object(Te.useState)(g?g.id:0),x=Object(_e.a)(S,2),I=x[0],R=x[1],P=function(){T(!1)},D=function(e){var t=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var i=n(63).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push(Object(ve.a)(Object(ve.a)({},e),{},{type:"IMAGE",id:i,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):"video/mp4"===e.type?t.push(Object(ve.a)(Object(ve.a)({},e),{},{type:"VIDEO",id:i,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):t.push(Object(ve.a)(Object(ve.a)({},e),{},{type:"DOC",id:i,status:!1,src:"#",bodyFormData:a,name:e.name?e.name:e.path}))})),P();var a={type:"file_upload",droppedFiles:t,mode:"chat",members:g?g.members:[],team_channel:g.team&&"TOPIC"===g.type?g.id:null};c(Object(Ae.a)(a))},L=Object(Ce.gb)()._t,F={remindMeAboutThis:L("TODO.REMIND_ABOUT_THIS","Remind about this"),quote:L("CHAT.QUOTE","Quote"),copyMessageLink:L("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:L("CHAT.FORWARD","Forward"),edit:L("CHAT.EDIT","Edit"),remove:L("CHAT.REMOVE","Remove"),removeChat:L("MODAL.REMOVE_CHAT","Remove chat"),cancel:L("MODAL.CANCEL","Cancel"),removeThisChat:L("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:L("SYSTEM.UPDATE","Update"),accountActivated:L("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:L("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:L("SYSTEM.REMOVED","removed"),andRemoved:L("SYSTEM.AND_REMOVED","and removed"),you:L("SYSTEM.YOU","You"),youAnd:L("SYSTEM.YOU_AND","You and"),joined:L("SYSTEM.JOINED","joined"),andJoined:L("SYSTEM.AND_JOINED","and joined"),left:L("SYSTEM.LEFT","left"),andLeft:L("SYSTEM.AND_LEFT","and left"),createdThePost:L("SYSTEM.CREATED_THE_POST","created the post"),openPost:L("SYSTEM.OPEN_POST","Open post"),someone:L("SYSTEM.SOMEONE","Someone"),added:L("SYSTEM.ADDED","added"),andAdded:L("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:L("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:L("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:L("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:L("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:L("CHAT.WORKSPACE","Workspace"),hasLeftChat:L("SYSTEM.HAS_LEFT_CHAT","has left the chat"),hasLeftWorkspace:L("SYSTEM.HAS_LEFT_WORKSPACE","has left the workspace"),andHasLeftChat:L("SYSTEM.AND_HAS_LEFT_CHAT","and has left the chat"),andHasLeftWorkspace:L("SYSTEM.AND_HAS_LEFT_WORKSPACE","and has left the workspace"),youLeftChat:L("SYSTEM.YOU_LEFT_CHAT","You left the chat"),youLeftWorkspace:L("SYSTEM.YOU_LEFT_WORKSPACE","You left the workspace"),leftTheWorkspace:L("SYSTEM.LEFT_THE_WORKSPACE","left the workspace"),leftTheChat:L("SYSTEM.LEFT_THE_CHAT","left the chat"),markImportant:L("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:L("CHAT.UNMARK_IMPORTANT","Unmark as important"),teamFeedback:L("HUDDLE.HUDDLE_TEAM_FEEDBACK","Huddle team feedback"),replyInPrivate:L("CHAT.REPLY_IN_PRIVATE","Reply in private"),removeOnDownload:L("CHAT.REMOVE_ON_DOWNLOAD","Remove on download"),withClient:L("PAGE.WITH_CLIENT","With client"),teamChat:L("PAGE.TEAM_CHAT","Team Chat"),clientChat:L("PAGE.CLIENT_CHAT","Client Chat"),mute:L("CHAT.MUTE","Mute"),unmute:L("CHAT.UNMUTE","Unmute"),hide:L("CHAT.HIDE","Hide"),unhide:L("CHAT.UNHIDE","Unhide"),favorite:L("FAVORITE","Favorite"),unfavorite:L("UNFAVORITE","Unfavorite"),markAsUnread:L("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:L("POST.MARK_AS_READ","Mark as read"),unarchive:L("CHAT.UNARCHIVE","Un-archive"),archive:L("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:L("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:L("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),headerArchive:L("HEADER.ARCHIVE","Chat archive"),headerUnarchive:L("HEADER.UNARCHIVE","Un-archive channel"),clickHereToJoin:L("CHAT.CLICK_HERE_TO_JOIN","Click here to join"),fileAutomaticallyRemoved:L("FILE.AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),connectPreview:L("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:L("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account"),editHuddle:L("CHAT.EDIT_HUDDLE","Edit huddle"),discussOnTeamChat:L("CHAT.DISCUSS_ON_TEAM_CHAT","Discuss on team chat"),team:L("TEAM","Team"),errorSendingChat:L("CHAT.ERROR_SENDING","Error sending chat"),resend:L("CHAT.FAIL_OPTIONS_RESEND","Resend"),delete:L("CHAT.FAIL_OPTIONS_DELETE","Delete"),messageFailed:L("CHAT.FAILED","Message failed"),downloadAll:L("CHAT.DOWNLOAD_ALL","Download all"),notificationsOn:L("TOOLTIP.NOTIFICATIONS_ON","Notifications on"),notificationsOff:L("TOOLTIP.NOTIFICATIONS_OFF","Notifications off"),toasterBellNotificationOff:L("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:L("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON")},M=function(){C(!j)},U=Object(Te.useState)(!1),H=Object(_e.a)(U,2),W=H[0],z=H[1];Object(Te.useEffect)((function(){null!==g&&R(g.id),null!==g&&I!==g.id&&I>0&&(z(!W),C(!1))}),[I,g]);var B=["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com"].includes(d.email);return Ne.a.createElement(Pe,{className:"chat-content ".concat(a),onDragOver:function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return void T(!0)}},Ne.a.createElement(je.a,{hide:!w,ref:k.dropZoneRef,onDragLeave:P,onDrop:function(e){var t=e.acceptedFiles;D(t)},onCancel:P}),!r&&Ne.a.createElement(yt,{dictionary:F,channel:g,handleSearchChatPanel:M,isAuthorizedUser:B}),null!==g?p&&["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(d.email)?Ne.a.createElement(Te.Suspense,{fallback:Ne.a.createElement(De,null)},Ne.a.createElement(Re,{dictionary:F})):Ne.a.createElement(Te.Suspense,{fallback:Ne.a.createElement(De,null)},Ne.a.createElement(Ie,{chatMessageActions:s,timeFormat:l,dictionary:F,unreadCount:N,teamChannelId:O,isIdle:o,translate:u,language:E,translated_channels:b,chat_language:h})):Ne.a.createElement(De,null),Ne.a.createElement(ct,{onShowFileDialog:function(){k.dropZoneRef.current&&k.dropZoneRef.current.open()},dropAction:D}),null!==g&&j&&B&&Ne.a.createElement(jn,{newSeachToogle:W,chatMessageActions:s,showSearchPanel:j,setShowSearchPanel:C,handleSearchChatPanel:M,selectedChannel:g,user:d}))},Fe=n(54),Me=n.n(Fe),Ue=n(16),He=n(23),We=n(12),ze=n(263),Be=ye.a.div(r||(r=Object(we.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]))),Ge=Object(ye.a)(We.s)(o||(o=Object(we.a)([""]))),Ve=function(e){var t=Object(Ce.S)(),n=Object(_e.a)(t,2),a=n[0],i=n[1],r=Object(ke.c)();return a?Ne.a.createElement(Be,null,Ne.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:a.user?a.user.name:""}}),Ne.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:a.body?i:""}}),Ne.a.createElement("span",{className:"quote-clear-container",onClick:function(){r(Object(Ue.o)(a))}},Ne.a.createElement(Ge,{icon:"x"}))):null},Ye=ye.a.div(c||(c=Object(we.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar-typing {\n    height: 26px !important;\n    width: 26px !important;\n  }\n"])),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),Ke=ye.a.div(s||(s=Object(we.a)(["\n  margin-left: 10px !important;\n"]))),qe=ye.a.div(l||(l=Object(we.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: #972c86;\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]))),Ze=Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(Ce.hb)(),i=Object(_e.a)(a,1)[0];return Ne.a.createElement(Ye,{users:i.length,className:"component-chat-indicator ".concat(n)},i.length>2?Ne.a.createElement(qe,null,"".concat(i.length-2,"+")):null,i.map((function(e,t){return t<=1?Ne.a.createElement(We.a,{key:t,className:"xs avatar-typing",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),Ne.a.createElement(Ke,{className:"typing-indicator"},Ne.a.createElement("span",null),Ne.a.createElement("span",null),Ne.a.createElement("span",null)))})),Je=ye.a.div(d||(d=Object(we.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]))),Xe=Object(ye.a)(We.s)(m||(m=Object(we.a)(["\n  width: 14px;\n  height: 14px;\n  margin-left: 5px;\n"]))),Qe=function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,i=Object(Ce.gb)()._t,r=Object(ke.d)((function(e){return e.workspaces.workspaces})),o=Object(ke.d)((function(e){return e.session.user})),c={lockedLabel:i("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),teamChat:i("CHAT.INFO_TEAM_CHAT","You are in the team chat"),clientChat:i("CHAT.INFO_CLIENT_CHAT","Client can read this chat")};return Ne.a.createElement(Ne.a.Fragment,null,a&&!a.is_archived&&r.hasOwnProperty(a.entity_id)&&1===r[a.entity_id].active&&Ne.a.createElement(Ne.a.Fragment,null,r[a.entity_id].is_shared&&r[a.entity_id].channel.id===a.id&&"internal"===o.type&&Ne.a.createElement(Je,{className:"locked-label ".concat(n)},Ne.a.createElement("span",null,c.clientChat,Ne.a.createElement(Xe,{icon:"eye"}))),r[a.entity_id].is_shared&&r[a.entity_id].team_channel.id===a.id&&"internal"===o.type&&Ne.a.createElement(Je,{className:"locked-label ".concat(n)},Ne.a.createElement("span",null,c.teamChat," ",Ne.a.createElement(Xe,{icon:"eye-off"})))))},$e=n(15),et=Object(Te.lazy)((function(){return Promise.resolve().then(n.bind(null,360))})),tt=ye.a.div(p||(p=Object(we.a)(["\n  position: relative;\n  z-index: 3;\n  padding-top: 0 !important;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),nt=ye.a.div(u||(u=Object(we.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),at=ye.a.div(f||(f=Object(we.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  flex-flow: column;\n  .feather-paperclip,\n  .feather-meet,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    //color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-meet {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    //color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n"]))),it=Object(ye.a)(We.s)(h||(h=Object(we.a)(["\n  width: 20px;\n"]))),rt=ye.a.div(b||(b=Object(we.a)(["\n  .feather-send {\n    ","\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"])),(function(e){return e.activeSend&&"background: #7a1b8b !important;"}),(function(e){return e.activeSend?"#fff":"#cacaca"}),(function(e){return e.activeSend?"cursor":"default"})),ot=Object(ye.a)(et)(E||(E=Object(we.a)(["\n  right: 100px;\n  bottom: 80px;\n\n  @media (max-width: 414px) {\n    right: -10px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),ct=Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.onShowFileDialog,i=e.dropAction,r=Object(Ce.yb)(),o=Object(Ce.ab)(),c=o.localizeChatDate,s=(o.localizeDate,Object(ke.c)()),l=Object(Ce.bb)(),d={picker:Object(Te.useRef)()},m=Object(Te.useState)(!1),p=Object(_e.a)(m,2),u=p[0],f=p[1],h=Object(Te.useState)(!1),b=Object(_e.a)(h,2),E=b[0],g=b[1],O=Object(Te.useState)(null),v=Object(_e.a)(O,2),_=v[0],w=v[1],T=Object(Te.useState)(null),N=Object(_e.a)(T,2),k=N[0],y=N[1],A=Object(Te.useState)(!1),j=Object(_e.a)(A,2),C=j[0],S=(j[1],Object(ke.d)((function(e){return e.chat.selectedChannel}))),x=Object(ke.d)((function(e){return e.chat.editChatMessage})),I=Object(ke.d)((function(e){return e.users.onlineUsers})),R=Object(ke.d)((function(e){return e.session.user})),P=Object(Ce.S)(),D=Object(_e.a)(P,1)[0],L=function(){s(Object(Ue.fb)(!0))},F=function(){g(!E)},M=Object(Te.useCallback)((function(){w(null)}),[]),U=Object(Te.useCallback)((function(e){f(e)}),[]),H=Object(Te.useCallback)((function(){y(null)}),[]),W=Object(Ce.gb)()._t,z={unarchiveThisWorkspace:W("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:W("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:W("BUTTON.CANCEL","Cancel"),unarchiveBodyText:W("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),chatUnarchiveConfirmation:W("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),headerUnarchive:W("HEADER.UNARCHIVE","Un-archive channel"),youAreViewing:W("CHAT.LABEL","You are viewing"),joinWorkspaceChat:W("CHAT.JOIN_WORKSPACE_CHAT","Join workspace chat"),googleMeet:W("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:W("YES","Yes"),no:W("NO","No"),googleMeetConfirmation:W("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?"),send:W("TOOLTIP.SEND","Send"),attachFiles:W("TOOLTIP.ATTACH_FILES","Attach files"),closeEdit:W("TOOLTIP.CLOSE_EDIT","Close edit"),errorSendingChat:W("CHAT.ERROR_SENDING","Error sending chat"),zoomMeeting:W("CONFIRMATION.ZOOM_MEETING","Zoom meeting"),zoomMeetingConfirmation:W("CONFIRMATION.ZOOM_MEETING_BODY","This channel contains ::number:: members and ::online:: are online. Do you want to start this meeting?",{number:S?S.members.length:"",online:S?S.members.filter((function(e){return R.id!==e.id&&I.some((function(t){return t.user_id===e.id}))})).length+1:1})},B=function(){var e={id:S.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};s(Object(Ue.rb)(e)),l.success(Ne.a.createElement("span",null,Ne.a.createElement("b",null,"TOPIC"===S.type?"".concat(S.title," workspace is un-archived."):"".concat(S.title," channel is un-archived."))))},G=Object(Te.useCallback)((function(){g(!1)}),[]),V=Object(Ce.C)(S&&S.members&&S.members.length?S.members.map((function(e){return e.id})):[]),Y=function(){var e={channel_id:S.id};s(Object(Ue.r)(e,(function(e,t){if(!e&&t.data){var n={meetingNumber:t.data.zoom_data.data.id,role:1},a={password:t.data.zoom_data.data.password,meetingNumber:t.data.zoom_data.data.id,role:1};s(Object(Ue.w)(n,(function(e,t){e||t&&(r.createMessage(S.id,a),r.startMeeting(t.data.signature,a))})))}})))};return Ne.a.createElement(tt,{className:"chat-footer ".concat(n)},S&&Ne.a.createElement(Ze,null),Ne.a.createElement(Qe,{channel:S}),V&&Ne.a.createElement(rt,{className:"d-flex align-items-end chat-input-cointainer-footer",activeSend:u},S&&S.is_archived?Ne.a.createElement(nt,null,Ne.a.createElement(it,{icon:"archive"}),Ne.a.createElement("h4",null,"TOPIC"===S.type?"This is an archived workspace":"This is an archived channel"),Ne.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:z.cancel,headerText:"TOPIC"===S.type?z.unarchiveWorkspace:z.headerUnarchive,submitText:"TOPIC"===S.type?z.unarchiveWorkspace:z.headerUnarchive,bodyText:"TOPIC"===S.type?z.unarchiveBodyText:z.chatUnarchiveConfirmation,actions:{onSubmit:B}};s(Object(Ae.a)(e))}},"TOPIC"===S.type?"Un-archive workspace":"Un-archive channel")):Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement(at,{className:"flex-grow-1 chat-input-footer"},S&&!S.is_archived&&D&&Ne.a.createElement(rt,{className:"d-flex pr-2 pl-2"},Ne.a.createElement(Ve,null)),Ne.a.createElement(rt,{className:"d-flex flex-grow-1"},Ne.a.createElement(ze.a,{onActive:U,selectedGif:k,onSendCallback:G,onClearGif:H,selectedEmoji:_,onClearEmoji:M,dropAction:i,dictionary:z}),Ne.a.createElement(In,{channel:S,showEmojiPicker:E,handleShowEmojiPicker:F,handleZoomMeet:function(){var e={type:"confirmation",cancelText:z.no,headerText:z.zoomMeeting,submitText:z.yes,bodyText:z.zoomMeetingConfirmation,actions:{onSubmit:Y}};s(Object(Ae.a)(e))},onShowFileDialog:a,editChatMessage:x,quote:D,dictionary:z,startingZoom:C}))),Ne.a.createElement(Me.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:z.send},Ne.a.createElement(We.s,{onClick:L,icon:"send"}))),!0===E&&Ne.a.createElement(Te.Suspense,{fallback:Ne.a.createElement(Ne.a.Fragment,null)},Ne.a.createElement(ot,{handleSend:L,handleShowEmojiPicker:F,onSelectEmoji:function(e){w(e)},onSelectGif:function(e){y(e),F()},orientation:"top",ref:d.picker}))),V&&x&&Ne.a.createElement(rt,{className:"d-flex align-items-end"},Ne.a.createElement("div",{className:"p-5"},x.files.map((function(e){return e.filename})).join(", "))),!1===V&&null!==S&&"internal"===R.type&&Ne.a.createElement(rt,{className:"channel-viewing"},Ne.a.createElement("div",{className:"channel-name"},z.youAreViewing," #",S.title),Ne.a.createElement("div",{className:"channel-create"},"Created by ",S.creator&&S.creator.name," on ",c(S.created_at&&S.created_at.timestamp)),Ne.a.createElement("div",{className:"channel-action"},Ne.a.createElement("button",{onClick:function(){s(Object(He.O)({channel_id:S.id,recipient_ids:[R.id]},(function(e,t){e||l.success(Ne.a.createElement(Ne.a.Fragment,null,"You have joined ",Ne.a.createElement("b",null,"#",S.title)))})))}},z.joinWorkspaceChat))))})),st=n(10),lt=n(45),dt=n(114),mt=n(257),pt=n(72),ut=n(58),ft=ye.a.div(g||(g=Object(we.a)(["\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding-bottom: 1em;\n\n  .chat-header-left {\n    display: flex;\n  }\n\n  .chat-header-title {\n    height: 17px;\n    color: #000000;\n    font-family: Inter;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 17px;\n    text-align: center;\n    display: flex;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n\n    a {\n      color: #000 !important;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      .dark & {\n        color: #ffffff !important;\n      }\n    }\n    .dark & {\n      color: #ffffff !important;\n    }\n  }\n  .chat-header-right {\n    @media (max-width: 414px) {\n      .nav {\n        display: flex;\n      }\n    }\n    margin-left: auto;\n    ul {\n      flex-flow: row;\n    }\n    li .more-options-tooltip {\n      top: 115%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n  .dictionary-label {\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 255px !important;\n  }\n  .channel-title-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .chat-header-folder {\n    flex: 1 1 100%;\n    // height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    // letter-spacing: 0;\n    // line-height: 12px;\n    display: flex;\n    align-items: center;\n  }\n  @media (max-width: 414px) {\n    .chat-header-folder {\n      display: none;\n    }\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n  .feather-pencil {\n    width: 1rem;\n    height: 1rem;\n    margin-left: 5px;\n    cursor: pointer;\n  }\n"]))),ht=Object(ye.a)(We.s)(O||(O=Object(we.a)([""]))),bt=Object(ye.a)(We.s)(v||(v=Object(we.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),Et=ye.a.div(_||(_=Object(we.a)(["\n  @media (min-width: 992px) {\n    display: none;\n  }\n  color: #7a1b8b;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  margin-right: 12px;\n  margin-top: 8px;\n  display: flex;\n  span {\n    line-height: 1.7;\n  }\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),gt=Object(ye.a)(We.s)(w||(w=Object(we.a)(["\n  color: #7a1b8b;\n  height: 24px;\n  width: 24px;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),Ot=Object(ye.a)(pt.c)(T||(T=Object(we.a)(["\n  border: 1px solid #fff;\n  border-radius: 4px;\n\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    cursor: pointer;\n    border: 1px solid #972c86 !important;\n  }\n  .dark & {\n    border: 1px solid #25282c !important;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    font-size: 10px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: -25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  // @media (max-width: 480px) {\n  //   margin: 0 0 0.75rem !important;\n  // }\n"]))),vt=ye.a.div(N||(N=Object(we.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  margin-left:5px;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),_t=ye.a.div(k||(k=Object(we.a)(["\n  display: flex;\n  align-items: center;\n"]))),wt=Object(ye.a)(We.s)(y||(y=Object(we.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),Tt=Object(ye.a)(We.s)(A||(A=Object(we.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n"]))),Nt=Object(ye.a)(Me.a)(j||(j=Object(we.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),kt=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},yt=function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,i=e.dictionary,r=e.handleSearchChatPanel,o=e.isAuthorizedUser,c=Object(ke.c)(),s=Object(lt.g)(),l=Object(dt.a)(),d=Object(ke.d)((function(e){return e.chat.selectedChannel})),m=Object(ke.d)((function(e){return e.workspaces.workspaces})),p=Object(ke.d)((function(e){return e.global.unreadCounter})),u=Object(ke.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).translated_channels,f=Object(Se.a)(),h=Object(Ce.bb)(),b=Object(Te.useState)(!1),E=Object(_e.a)(b,2),g=E[0],O=E[1],v=function(){l.archive(a)},_=function(){c(Object(Ae.a)({type:"chat_create_edit",mode:"edit"}))},w=Object(Ce.ub)(),T=Object(Ce.T)(),N=T.generalSettings.workspace_open_folder,k=T.setGeneralSetting,y=function(e){e.preventDefault(),d.workspace_folder&&k({workspace_open_folder:Object(ve.a)(Object(ve.a)({},N),{},Object(st.a)({},d.workspace_folder.id,d.workspace_folder.id))}),document.body.classList.remove("navigation-show"),m[d.entity_id]&&(w.selectWorkspace(m[d.entity_id]),w.redirectTo(m[d.entity_id]))},A=function(e){e.preventDefault(),s.push("/system/people/teams/".concat(d.entity_id,"/").concat(d.title))};return null===a?null:(u.length>0&&u.includes(d.id)&&!d.is_translate&&f.saveChannelTranslateState(Object(ve.a)(Object(ve.a)({},d),{},{is_translate:!0})),Ne.a.createElement(ft,{className:"chat-header border-bottom ".concat(n)},Ne.a.createElement("div",{className:"chat-header-left"},Ne.a.createElement(Et,{className:"chat-back-button",onClick:function(){document.body.classList.remove("m-chat-channel-closed");var e=document.getElementById("toastS");e&&ut.isMobile&&e.classList.remove("d-none")}},Ne.a.createElement(gt,{icon:"chevron-left"}),p.chat_message>0&&Ne.a.createElement("span",null,p.chat_message.toString())),Ne.a.createElement(mt.a,{className:"chat-header-icon",channel:a,width:"33px"})),Ne.a.createElement("div",{className:"channel-title-wrapper"},Ne.a.createElement("div",{className:"chat-header-title"},function(){switch(d.type){case"TOPIC":return d.workspace_folder?Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("a",{onClick:y,"data-href":l.getChannelLink(d),href:l.getChannelLink(d)},d.title)):Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("span",{className:"dictionary-label"}),Ne.a.createElement("a",{onClick:y,"data-href":l.getChannelLink(d),href:l.getChannelLink(d)},d.title));case"DIRECT":return Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("a",{onClick:function(e){return function(e,t){e.preventDefault(),s.push("/profile/".concat(t.id,"/").concat(Object($e.h)(t.name)))}(e,d.profile)},"data-href":"/profile/".concat(d.profile.id,"/").concat(d.profile.name),href:"/profile/".concat(d.profile.id,"/").concat(d.profile.name)},d.profile?d.profile.name:d.title));case"DIRECT_TEAM":case"TEAM":return Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("a",{onClick:A,"data-href":"/system/people/teams/".concat(d.entity_id,"/").concat(d.title),href:"/system/people/teams/".concat(d.entity_id,"/").concat(d.title)},i.team," ",d.title));default:return d.title}}()),Ne.a.createElement(_t,{className:"chat-header-badge"},"TOPIC"===a.type&&!a.is_archived&&m.hasOwnProperty(a.entity_id)&&1===m[a.entity_id].is_lock&&1===m[a.entity_id].active&&Ne.a.createElement(ht,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===a.type&&!a.is_archived&&m.hasOwnProperty(a.entity_id)&&m[a.entity_id].is_shared&&1===m[a.entity_id].active&&Ne.a.createElement(vt,{className:"badge badge-external mr-1",isTeam:!!a.team},Ne.a.createElement(bt,{icon:a.team?"eye-off":"eye",className:"mr-1"}),a.team?i.teamChat:i.clientChat)),"TOPIC"===a.type&&a.hasOwnProperty("is_active")&&Ne.a.createElement(Nt,{arrowSize:5,distance:10,onToggle:kt,content:a.is_active?i.notificationsOn:i.notificationsOff},Ne.a.createElement(ht,{className:"ml-1",width:"16",height:"16",icon:a.is_active?"bell":"bell-off",onClick:function(){if(!g){var e={id:a.entity_id,is_active:!a.is_active};c(Object(He.T)(e,(function(t,n){O(!1),t||(e.is_active?h.success(i.toasterBellNotificationOn):h.success(i.toasterBellNotificationOff))})))}}})),Ne.a.createElement(Nt,{arrowSize:5,distance:10,onToggle:kt,content:i.favorite},Ne.a.createElement(wt,{icon:"star",isFav:a.is_pinned,onClick:function(){a.is_pinned?l.unPin(a):l.pin(a)}})),Ne.a.createElement("div",null,Ne.a.createElement("ul",{className:"nav align-items-center justify-content-end"},Ne.a.createElement("li",{className:"ml-2",style:{height:"21px"}},Ne.a.createElement(Ot,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"17",width:"17"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(a.type)&&Ne.a.createElement("div",{onClick:function(){if(a.is_archived)l.unArchive(a);else{var e={type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:v}};c(Object(Ae.a)(e))}}},a.is_archived?i.unarchive:i.archive),"GROUP"===a.type&&!a.is_archived&&Ne.a.createElement("div",{onClick:_},i.edit),Ne.a.createElement("div",{onClick:function(){a.is_pinned?l.unPin(a):l.pin(a)}},a.is_pinned?i.unfavorite:i.favorite),Ne.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===a.total_unread&&a.is_read?l.markAsUnRead(a):l.markAsRead(a)}(e)}},0===a.total_unread&&!0===a.is_read?i.markAsUnread:i.markAsRead),Ne.a.createElement("div",{onClick:function(){a.is_muted?l.unMute(a):l.mute(a)}},a.is_muted?i.unmute:i.mute),"PERSONAL_BOT"!==a.type&&Ne.a.createElement("div",{onClick:function(){a.is_hidden?l.unHide(a):l.hide(a),a.total_unread>0&&l.markAsRead(a)}},a.is_hidden?i.unhide:i.hide),Ne.a.createElement(Pn,{selectedChannel:d,translated_channels:u,chatMessageActions:f}))))),"GROUP"===a.type&&!a.is_archived&&Ne.a.createElement(We.s,{icon:"pencil",onClick:_}),o&&Ne.a.createElement(Tt,{icon:"search",onClick:r}),Ne.a.createElement("div",{className:"chat-header-folder"},function(){switch(d.type){case"TOPIC":return d.workspace_folder?Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("i",{className:"fa fa-folder-o mr-1"})," ",d.workspace_folder.name):Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("span",{className:"dictionary-label"},i.workspace));default:return""}}())),Ne.a.createElement(Ln,{channel:a})))},At=ye.a.div(C||(C=Object(we.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]))),jt=ye.a.div(S||(S=Object(we.a)(["\n  ","\n"])),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),Ct=ye.a.div(x||(x=Object(we.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]))),St=Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.reply;return Ne.a.createElement(At,{className:"message-item ".concat(n," ").concat(!0===a.author?"me":"them")},Ne.a.createElement(jt,{className:"message-item-content",isAuthor:a.author},!1===a.author&&Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement(Ct,{className:"avatar avatar-sm"},Ne.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),a.message),Ne.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))})),xt=ye.a.div(I||(I=Object(we.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]))),It=(Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return Ne.a.createElement(xt,{className:"messages ".concat(n),tabIndex:"2"},Ne.a.createElement(St,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),Ne.a.createElement(St,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),Ne.a.createElement(St,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),Ne.a.createElement("div",{className:"message-item me"},Ne.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),Ne.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),Ne.a.createElement("div",{className:"message-item"},Ne.a.createElement("div",{className:"message-item-content d-flex"},Ne.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),Ne.a.createElement("div",null,Ne.a.createElement("div",null,"important_documents.pdf ",Ne.a.createElement("i",{className:"text-muted small"},"(50KB)")),Ne.a.createElement("ul",{className:"list-inline small"},Ne.a.createElement("li",{className:"list-inline-item"},Ne.a.createElement("a",{href:"/"},"Download")),Ne.a.createElement("li",{className:"list-inline-item"},Ne.a.createElement("a",{href:"/"},"View"))))),Ne.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),Ne.a.createElement("div",{className:"message-item me"},Ne.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),Ne.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),Ne.a.createElement("div",{className:"message-item"},Ne.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),Ne.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),Ne.a.createElement("div",{className:"message-item me message-media"},Ne.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),Ne.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),Ne.a.createElement("div",{className:"message-item message-item-divider"},Ne.a.createElement("span",null,"Today")),Ne.a.createElement("div",{className:"message-item"},Ne.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),Ne.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))})),ye.a.div(R||(R=Object(we.a)(["\n  max-width: 100%;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n  .title-data-chat-folder {\n    display: inline-block;\n    //height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    // letter-spacing: 0;\n    // line-height: 12px;\n    font-weight: normal;\n    margin-left: 5px;\n    vertical-align: bottom;\n  }\n"])))),Rt=ye.a.h6(P||(P=Object(we.a)(["\n  color: #363636;\n  ",";\n  flex-grow: 1;\n  ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  //max-width: calc(100% - 100px);\n\n  &.is-unread {\n    span {\n      font-weight: bold;\n    }\n  }\n\n  span {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: block;\n  }\n\n  .badge-wrapper {\n    margin-right: 0.5rem !important;\n  }\n"])),(function(e){return e.channel.total_unread&&"color: #7a1b8b"}),(function(e){return null!==e.selectedChannel&&e.channel.id===e.selectedChannel.id&&"font-weight: bold;"})),Pt=Ne.a.memo((function(e){var t=Object(Ce.ab)().channelPreviewDate,n=e.className,a=void 0===n?"":n,i=e.search,r=void 0===i?"":i,o=e.selectedChannel,c=e.channel,s=e.dictionary,l=Ne.a.createElement(Ne.a.Fragment,null,!!c.is_archived&&Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement(We.b,{badgeClassName:"bg-warning-bright",label:"Archived"})),function(e){var t=e;if("DIRECT"===c.type&&c.profile&&(t=c.profile.name),"DIRECT_TEAM"!==c.type&&"TEAM"!==c.type||(t="".concat(s.team," ").concat(c.title)),""===r)return t;var n=t.split(new RegExp("(".concat(r,")"),"gi"));return Ne.a.createElement("span",null,n.map((function(e){return e.toLowerCase()===r.toLowerCase()?Ne.a.createElement("b",null,e):e})))}(c.title));return Ne.a.createElement(It,{className:"d-flex justify-content-between align-items-center"},Ne.a.createElement(Rt,{className:"mb-1 ".concat(c.is_read?"":"is-unread"," ").concat(a),selectedChannel:o,channel:c},Ne.a.createElement(We.t,{direction:"up-start",arrow:!1,content:c.title},Ne.a.createElement("span",null,l,Ne.a.createElement("span",{className:"title-data-chat-folder"},function(){switch(c.type){case"TOPIC":return c.workspace_folder?Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("i",{className:"fa fa-folder-o"})," ",c.workspace_folder.name):Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement("span",{className:"dictionary-label"},s.workspace));default:return null}}())))),Ne.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:c.last_reply?t(c.last_reply.created_at.timestamp):""}}))})),Dt=n(30),Lt=Object(ye.a)(pt.c)(D||(D=Object(we.a)(["\n  position: relative;\n  height: 18px;\n  width: 25px;\n  > svg {\n    position: absolute;\n    top: -1px;\n    height: 20px;\n    width: 20px;\n    left: 1.5px;\n  }\n"]))),Ft=function(e){var t=e.selectedChannel,n=e.channel,a=e.moreButton,i=void 0===a?"more-horizontal":a,r=e.onSelectOptions,o=void 0===r?null:r,c=Object(ke.c)(),s=Object(dt.a)(),l=document.getElementById("pills-home"),d=Object(Ce.gb)()._t,m=Object(Ce.bb)(),p=Object(Te.useState)(!1),u=Object(_e.a)(p,2),f=u[0],h=u[1],b={mute:d("CHAT.MUTE","Mute this channel"),unmute:d("CHAT.UNMUTE","Unmute this channel"),hide:d("CHAT.HIDE","Hide"),unhide:d("CHAT.UNHIDE","Unhide"),favorite:d("FAVORITE","Favorite"),unfavorite:d("UNFAVORITE","Unfavorite"),markAsUnread:d("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:d("POST.MARK_AS_READ","Mark as read"),unarchive:d("CHAT.UNARCHIVE","Un-archive"),archive:d("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:d("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:d("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),cancel:d("BUTTON.CANCEL","Cancel"),headerArchive:d("HEADER.ARCHIVE","Chat archive"),headerUnarchive:d("HEADER.UNARCHIVE","Un-archive channel"),muteWS:d("CHAT.MUTE_WS","Mute this workspace"),unmuteWS:d("CHAT.UNMUTE_WS","Unmute this workspace"),toasterBellNotificationOff:d("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:d("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON")},E=function(){n.is_archived?s.unArchive(n):s.archive(n)};return Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement(Lt,{channel:n,scrollRef:l,moreButton:i,onClick:o},Ne.a.createElement("div",{onClick:function(){n.is_pinned?s.unPin(n):s.pin(n)}},n.is_pinned?b.unfavorite:b.favorite),Ne.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===n.total_unread&&n.is_read?s.markAsUnRead(n):s.markAsRead(n)}(e)}},0===n.total_unread&&!0===n.is_read?b.markAsUnread:b.markAsRead),"TOPIC"===n.type&&Ne.a.createElement("div",{onClick:function(){if(!f){var e={id:n.entity_id,is_active:!n.is_active};h(!0),c(Object(He.T)(e,(function(t,n){h(!1),t||(e.is_active?m.success(b.toasterBellNotificationOn):m.success(b.toasterBellNotificationOff))})))}}},n.is_active?b.muteWS:b.unmuteWS),"TOPIC"!==n.type&&Ne.a.createElement("div",{onClick:function(){n.is_muted?s.unMute(n):s.mute(n)}},n.is_muted?b.unmute:b.mute),"PERSONAL_BOT"!==n.type&&Ne.a.createElement("div",{onClick:function(){n.is_hidden?s.unHide(n):s.hide(n),n.total_unread>0&&s.markAsRead(n),t&&(t.id,n.id)}},n.is_hidden?b.unhide:b.hide),!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(n.type)&&Ne.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:b.headerArchive,submitText:b.archive,cancelText:b.cancel,bodyText:b.chatArchiveConfirmation,actions:{onSubmit:E}};n.is_archived&&(e=Object(ve.a)(Object(ve.a)({},e),{},{headerText:b.headerUnarchive,submitText:b.unarchive,bodyText:b.chatUnarchiveConfirmation})),c(Object(Ae.a)(e))}},n.is_archived?b.unarchive:b.archive)))},Mt=ye.a.span(L||(L=Object(we.a)(["\n  //display: flex;\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n  font-weight: ",";\n"])),(function(e){return e.hasUnRead?"500":"normal"})),Ut=ye.a.span(F||(F=Object(we.a)(["\n  display: flex;\n"]))),Ht=ye.a.span(M||(M=Object(we.a)([""]))),Wt=ye.a.span(U||(U=Object(we.a)([""]))),zt=ye.a.div(H||(H=Object(we.a)(["\n  color: #363636;\n  font-size: 12px;\n  min-width: 200px;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 2;\n  width: calc(100% - ","px);\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n  .dark & {\n    color: #c7c7c7;\n  }\n"])),(function(e){return e.iconWidth})),Bt=Object(ye.a)(We.r)(W||(W=Object(we.a)(["\n  max-width: 12px;\n"]))),Gt=Object(ye.a)(We.s)(z||(z=Object(we.a)(["\n  position: relative;\n  top: -2px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]))),Vt=ye.a.span(B||(B=Object(we.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]))),Yt=ye.a.div(G||(G=Object(we.a)(["\n  display: inline-block;\n  align-items: center;\n"]))),Kt=Object(ye.a)(We.s)(V||(V=Object(we.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),qt=ye.a.div(Y||(Y=Object(we.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  height:18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Zt=Ne.a.memo((function(e){var t=e.channel,n=e.drafts,a=e.dictionary,i=e.selectedChannel,r=Object(ke.d)((function(e){return e.settings.user.CHAT_SETTINGS})),o=Object(ke.d)((function(e){return e.session.user})),c=Object(ke.d)((function(e){return e.workspaces.workspaces})),s=Object(Te.useState)(0),l=Object(_e.a)(s,2),d=l[0],m=l[1],p={icons:Object(Te.useRef)(null)},u=!1,f="",h="",b=Object(Dt.renderToString)(Ne.a.createElement(Yt,{className:"chat-header-badge"},"TOPIC"===t.type&&!t.is_archived&&c.hasOwnProperty(t.entity_id)&&1===c[t.entity_id].is_lock&&1===c[t.entity_id].active&&Ne.a.createElement(Gt,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===t.type&&!t.is_archived&&c.hasOwnProperty(t.entity_id)&&c[t.entity_id].is_shared&&1===c[t.entity_id].active&&Ne.a.createElement(qt,{className:"badge badge-external mr-1",isTeam:!!t.team},Ne.a.createElement(Kt,{icon:t.team?"eye-off":"eye",className:"mr-1"}),t.team?a.withTeam:a.withClient)));if(t.last_reply&&r.preview_message){if(t.last_reply.is_deleted)h='<span class="is-deleted">'+a.messageRemoved+"</span>";else{var E=t.is_translate&&t.last_reply.translated_body?t.last_reply.translated_body:t.last_reply.body,g=document.createElement("div");g.innerHTML=E;for(var O=g.getElementsByClassName("OriginalHtml");O[0];)O[0].parentNode.removeChild(O[0]);h=g.innerHTML,h=Object($e.k)(t.last_reply.body),h=Object(Dt.renderToString)(Ne.a.createElement(Ut,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:h}}));try{h=h.replace(/<?(data-value)="[^"]*"/g," ").replace(/(<([^>]+)>)/gi," ")}catch(N){h=Object($e.j)(h)}}(""===t.last_reply.body||t.last_reply.files&&t.last_reply.files.length||t.replies.length&&t.replies[t.replies.length-1].files.length||t.last_reply.body.match(/<img/))&&(u=!0);var v=(f+=h).replace(/\s/g,"");if(u&&(f=Object(Dt.renderToString)(Ne.a.createElement(Bt,{icon:"image-video"}))+f),t.last_reply.user){if(t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var _=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));f="".concat(_.author.first_name," has created the post ").concat(_.post.title)}t.last_reply.body.includes("ZOOM_MESSAGE::")&&(f="I started a ZOOM meeting: Click here to join"),t.last_reply.body.includes("ZAP_SUBMIT::")&&(f="System message update...");t.last_reply.user&&t.last_reply.user.id===o.id?(!v&&u&&(f+="Photo"),f=b+Object(Dt.renderToString)(Ne.a.createElement(Wt,{className:"last-reply-name"},a.you,":"))+" "+f):f=b+Object(Dt.renderToString)(Ne.a.createElement(Wt,{className:"last-reply-name"},t.last_reply.user.first_name,":"))+" "+f,f=(f=f.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")}else{if(f="System message update...",t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var w=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));f="".concat(w.author.first_name," has created the post ").concat(w.post.title)}}"undefined"!==typeof n[t.id]&&(n[t.id].text&&"<div><br></div>"!==n[t.id].text?f="DRAFT:&nbsp;".concat(Object(Dt.renderToString)(Ne.a.createElement(Ht,{dangerouslySetInnerHTML:{__html:n[t.id].text.replace(/(<([^>]+)>)/gi," ")}}))):n[t.id].reply_quote&&(f="QUOTE:&nbsp;".concat(n[t.id].reply_quote.body,"&nbsp;~").concat(n[t.id].reply_quote.user.name)))}else f=b;Object(Te.useEffect)((function(){p.icons.current&&m(p.icons.current.clientWidth)}),[p.icons,t]);var T=!1===t.add_user&&(!t.is_read||t.total_unread>0);return Ne.a.createElement(Mt,{hasUnRead:t.total_unread>0,className:"d-flex justify-content-between align-items-center small text-muted "},Ne.a.createElement(zt,{iconWidth:d,isUnread:t.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:f}}),Ne.a.createElement("div",{ref:p.icons,className:"chat-timestamp d-inline-flex justify-content-center align-items-end flex-row-reverse"},Ne.a.createElement(Ft,{className:"ml-1",moreButton:"chevron-down",selectedChannel:i,channel:t}),0===t.total_unread&&!1===t.is_read?Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement(Vt,{className:"badge badge-primary badge-pill ml-1"},"\xa0")):Ne.a.createElement(Ne.a.Fragment,null,T&&Ne.a.createElement(Vt,{className:"badge badge-primary badge-pill ml-1 ".concat(t.is_read||0!==t.total_unread?"":"unread")},t.total_unread>0?t.total_unread:t.is_read?null:"0")),t.is_muted&&Ne.a.createElement(Gt,{icon:"volume-x",className:"".concat(t.is_pinned&&"mr-1")}),!1===t.is_active&&"TOPIC"===t.type&&Ne.a.createElement(Gt,{icon:"bell-off",className:"".concat(t.is_pinned&&"mr-1")})))})),Jt=n(784),Xt=ye.a.li(K||(K=Object(we.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n  &:focus,\n  &:hover {\n    background: #f0f0f050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n    .more-options {\n      display: inline-flex;\n      opacity: 1;\n      z-index: 1;\n      &.active {\n        color: #4d4d4d !important;\n      }\n    }\n    h6 {\n      color: #7a1b8b;\n    }\n  }\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: #7a1b8b;\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n  &:focus {\n    background: #f1f2f7;\n  }\n  .dark & {\n    :focus {\n      background: #25282c;\n    }\n  }\n"])),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.selected&&"color: #7A1B8B;"}),(function(e){return e.selected&&"content: '';"})),Qt=Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,i=e.selectedChannel,r=e.channelDrafts,o=e.dictionary,c=e.addLoadRef,s=e.onLoadMore,l=e.onSelectChannel,d=e.onClearSearch,m=e.firstRef,p=void 0===m?null:m,u=e.tabIndex,f=(e.index,Object(ke.d)((function(e){return e.chat.chatSidebarSearch}))),h=Object(Jt.b)({threshold:1}),b=Object(_e.a)(h,2),E=b[0],g=b[1];Object(Te.useEffect)((function(){c&&g&&s()}),[c,g]);return Ne.a.createElement(Xt,{ref:p,className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(n),selected:null!==i&&a.id===i.id,onClick:function(){l(a)},tabIndex:u,onKeyDown:function(e){return function(e,t){if(""!==f){if(e.preventDefault(),e.stopPropagation(),"Enter"===e.key&&(l(a),d()),"ArrowDown"===e.key){var n=document.querySelector('.channel-list[tabindex="'.concat(u+1,'"]'));n&&n.focus()}if("ArrowUp"===e.key&&e.currentTarget.previousSibling&&u>1){var i=document.querySelector('.channel-list[tabindex="'.concat(u-1,'"]'));i&&i.focus()}}}(e)}},Ne.a.createElement(mt.a,{channel:a}),Ne.a.createElement("div",{className:"channel-info",ref:c?E:null},Ne.a.createElement("div",{className:"channel-title-preview"},Ne.a.createElement(Pt,{className:"chat-date-icons",selectedChannel:i,channel:a,dictionary:o})),Ne.a.createElement(Zt,{channel:a,drafts:r,dictionary:o,selectedChannel:i}),Ne.a.createElement("div",{className:"d-flex"},a.is_hidden&&Ne.a.createElement(Ne.a.Fragment,null,Ne.a.createElement(We.b,{label:"Hidden"})))))})),$t=n(872),en=ye.a.div(q||(q=Object(we.a)(["\n  padding: 0 24px;\n  ul {\n    margin: 0;\n    padding-left: 0;\n    //overflow: auto;\n    overflow-y: hidden;\n    overflow-x: auto;\n    display: flex;\n    flex-grow: 1;\n    .dark & {\n      border-bottom-color: rgba(155, 155, 155, 0.2) !important;\n    }\n    .fav-channel {\n      padding-right: 0 !important;\n      cursor: pointer;\n    }\n  }\n  // .more-options-tooltip {\n  //   position: fixed;\n  //   top: 240px;\n  //   left: ",";\n  //   &.orientation-left {\n  //     left: ",";\n  //   }\n  // }\n  .feather-star,\n  .feather-volume-x {\n    position: absolute;\n    background-color: unset;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    z-index: 1;\n  }\n  .feather-star {\n    bottom: 0;\n    left: 0;\n    fill: rgb(255, 193, 7);\n    // color: rgb(255, 193, 7);\n    width: 20px;\n    height: 20px;\n    color: #fff;\n    .dark & {\n      color: #191c20;\n    }\n  }\n  .feather-volume-x {\n    bottom: 0;\n    right: 0;\n    background-color: #fff;\n    border: 2px solid #fff;\n    color: #7a1b8b;\n    .dark & {\n      background-color: #191c20;\n      color: #fff;\n      border: 2px solid #191c20;\n    }\n  }\n  .feather-eye,\n  .feather-eye-off {\n    top: -2px;\n    right: 0px;\n  }\n  .more-options {\n    display: none;\n  }\n  :hover {\n    .more-options {\n      display: block;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"])),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left,"px"):"30px"}),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left-170,"px"):"30px"})),tn=ye.a.div(Z||(Z=Object(we.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-right: 0.5rem;\n  .more-options {\n    margin-top: 0.5rem;\n    position: static;\n    opacity: 0;\n    svg {\n      position: relative;\n    }\n  }\n  .feather-more-horizontal {\n    width: 20px;\n    height: 18px;\n    vertical-align: initial;\n  }\n  :hover {\n    .more-options {\n      opacity: 1;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]))),nn=ye.a.div(J||(J=Object(we.a)(["\n  background: #7a1b8b;\n  color: #fff !important;\n  min-height: 18px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  position: absolute;\n  right: 0px;\n  bottom: 1px;\n  width: 18px;\n  height: 18px;\n  font-size: 11px;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]))),an=ye.a.div(X||(X=Object(we.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 12px;\n"]))),rn=ye.a.div(Q||(Q=Object(we.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n  margin-left: auto;\n  svg {\n    cursor: pointer;\n  }\n"]))),on=function(e){var t=e.channels,n=e.onSelectChannel,a=Object(Ce.gb)()._t,i=Object(Ce.w)(),r=i.filterChannel,o=i.chatSettings,c={showUnreadChats:a("TOOLTIP.SHOW_UNREAD_CHATS","Filter on unread chat channels only "),hideUnreadChats:a("TOOLTIP.HIDE_UNREAD_CHATS","Hide unread chats")},s=function(e){n(e)};return Ne.a.createElement(en,{className:"mb-2"},Ne.a.createElement(an,null,t.length>0&&Ne.a.createElement("ul",null,t.map((function(e){return Ne.a.createElement(tn,{key:e.id},Ne.a.createElement(mt.a,{channel:e,className:"fav-channel",onSelectChannel:function(){return s(e)},showSlider:!1},Ne.a.createElement(We.s,{icon:"star"}),e.is_muted&&Ne.a.createElement(We.s,{icon:"volume-x"}),!e.is_muted&&Ne.a.createElement(nn,{className:"badge badge-pill ml-1 ".concat(e.is_read||0!==e.total_unread?"":"unread")},e.total_unread>9?"".concat(e.total_unread,"+"):e.total_unread>0?e.total_unread:e.is_read?null:"0")))}))),Ne.a.createElement(rn,null,Ne.a.createElement(Me.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:c.showUnreadChats},Ne.a.createElement(We.s,{icon:o.filter_channel?"filter-active":"filter",onClick:function(){r()}})))))},cn=ye.a.div($||($=Object(we.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  height: inherit;\n"]))),sn=ye.a.ul(ee||(ee=Object(we.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  height: inherit;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]))),ln=ye.a.div(te||(te=Object(we.a)(["\n  border-bottom: 1px solid #ebebeb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n"]))),dn=ye.a.h4(ne||(ne=Object(we.a)(["\n  font-weight: 300;\n  margin: 24px 0 6px 0;\n"]))),mn=Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.search,i=e.workspace,r=e.dictionary,o=Object(Te.useRef)(null),c=Object(ke.d)((function(e){return e.chat.channels})),s=Object(ke.d)((function(e){return e.chat.selectedChannel})),l=Object(Te.useState)(!1),d=Object(_e.a)(l,2),m=d[0],p=d[1],u=Object(Ce.b)(),f=Object(Ce.X)(Object.values(c),a,{},i),h=f.favoriteChannels,b=f.sortedChannels,E=f.searchArchivedChannels,g=f.filterUnreadChannels,O=Object(ke.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),v=Object(lt.g)(),_=Object(ke.d)((function(e){return e.chat.channelDrafts})),w=Object(ke.d)((function(e){return e.chat.fetch})),T=w.skip,N=w.fetching,k=w.hasMore,y=function(){N||!k||m||(p(!0),u.loadMore({skip:T},(function(){return p(!1)})))},A=function(){u.searchArchivedChannels(!E)},j=function(e){document.body.classList.add("m-chat-channel-closed");var t=document.getElementById("toastS");if(t&&ut.isMobile&&t.classList.add("d-none"),null!==s&&!O){var n=document.getElementById("component-chat-thread");n&&u.saveHistoricalPosition(s.id,n)}u.select(Object(ve.a)(Object(ve.a)({},e),{},{selected:!0})),e.hasOwnProperty("add_user")&&!0===e.add_user||v.push("/chat/".concat(e.code))},C=function(){u.setSidebarSearch({value:"",searching:!1})};return Ne.a.createElement(cn,{className:"chat-lists ".concat(n)},Ne.a.createElement(on,{channels:h,onSelectChannel:j}),Ne.a.createElement(sn,{className:"list-group list-group-flush channels"},b.map((function(e,t,n){var i="",c=!1;if(0!==t){var l=n[t-1],d=e;"PERSONAL_BOT"===l.type&&"PERSONAL_BOT"!==d.type?i=(d.is_relevant,r.chats):l.is_relevant&&!d.is_relevant?l.add_user||l.add_open_topic||!d.add_user&&!d.add_open_topic||(i=r.contacts):l.is_relevant||d.is_relevant||l.add_user||l.add_open_topic||!d.add_user&&!d.add_open_topic||(i=r.contacts)}else"PERSONAL_BOT"===e.type?i=r.personalBot:e.is_relevant&&e.add_user?i=r.chats:e.add_user||e.add_open_topic?i=r.contacts:(i=r.chats,c=!0);return Ne.a.createElement(Ne.a.Fragment,{key:e.id},""!==a&&""!==i&&Ne.a.createElement(ln,null,Ne.a.createElement(dn,null,i," "),c&&Ne.a.createElement($t.a,{className:"cursor-pointer text-muted",checked:E,type:"switch",id:"show_archive",name:"show archive",onChange:A,label:Ne.a.createElement("span",null,r.showArchived)})),Ne.a.createElement(Qt,{index:t,className:0===t?"first-channel channel-list":"channel-list",firstRef:0===t?o:null,tabIndex:t+1,channel:e,selectedChannel:s,channelDrafts:_,dictionary:r,search:a,addLoadRef:""===a&&t>b.length-5,onLoadMore:y,onSelectChannel:j,onClearSearch:C}))})),!0===i&&0===b.length||g&&0===b.length?Ne.a.createElement("li",null,Ne.a.createElement("h4",null,r.nothingToSeeHere)):0===b.length&&""!==a&&Ne.a.createElement("li",null,Ne.a.createElement("h4",null,r.noMatchingChats))))})),pn=ye.a.div(ae||(ae=Object(we.a)(["\n  // overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 991.99px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n  // .tab-panel {\n  //   overflow-x: hidden;\n  // }\n  .tab-content,\n  .tab-panel {\n    display: flex;\n    height: 100%;\n  }\n  .tab-content {\n    flex-flow: column;\n  }\n  .badge-filter {\n    width: 130px;\n  }\n"]))),un=Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.pill,i=void 0===a?"pills-home":a,r=e.search,o=e.dictionary,c=e.resetFilter;return Ne.a.createElement(pn,{className:"chat-sidebar-content ".concat(n),tabIndex:"1"},Ne.a.createElement("div",{className:"tab-content pt-2",id:"pills-tabContent"},"pills-workspace"===i&&Ne.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:c},Ne.a.createElement(We.s,{className:"mr-1",icon:"x",width:11,height:11,onClick:c})," Workspace chats"),"pills-home"===i&&Ne.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===i&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},Ne.a.createElement(mn,{search:r,workspace:null,dictionary:o})),"pills-workspace"===i&&Ne.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===i&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},Ne.a.createElement(mn,{search:r,workspace:!0,dictionary:o}))))})),fn=n(171),hn=ye.a.div(ie||(ie=Object(we.a)(['\n  z-index: 2;\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: #7a1b8b;\n            color: #ffffff;\n            border-color: #7a1b8b;\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    background: rgb(222, 226, 230);\n    .dark & {\n      background: #333539;\n    }\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .chat-sidebar-options-container {\n    height: 38px;\n  }\n']))),bn=Object(ye.a)(fn.a)(re||(re=Object(we.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]))),En=Object(ye.a)(pt.c)(oe||(oe=Object(we.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    cursor: pointer;\n    color: #972c86;\n    border: 1px solid #972c86 !important;\n  }\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n"]))),gn=Ne.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(lt.i)(),i=Object(ke.c)(),r=Object(ke.d)((function(e){return e.chat.searchArchivedChannels})),o=Object(Ce.T)(),c=o.chatSettings,s=o.setChatSetting,l=Object(Ce.b)(),d=Object(ke.d)((function(e){return e.chat.chatSidebarSearch}));Object(Ce.D)();var m=Object(ke.d)((function(e){return e.chat.searchingChannels})),p=Object(Te.useState)(""),u=Object(_e.a)(p,2),f=u[0],h=u[1],b=Object(Te.useState)(""),E=Object(_e.a)(b,2),g=E[0],O=E[1],v=Object(Te.useState)(c.chat_filter),_=Object(_e.a)(v,2),w=_[0],T=_[1],N={container:Object(Te.useRef)(null),navTab:Object(Te.useRef)(null)},k=Object(Te.useRef)(null);Object(Te.useEffect)((function(){var e=setTimeout((function(){if(l.setSidebarSearch({value:g,searching:""!==g.trim()}),""!==g.trim()){var e={search:g,skip:0,limit:25};r&&(e=Object(ve.a)(Object(ve.a)({},e),{},{filter:"archived"})),l.search(e,(function(e,t){if(k.current&&k.current.blur(),!e){var n=document.querySelector(".first-channel");n&&n.focus()}}))}}),300);return function(){return clearTimeout(e)}}),[g,r]);var y=function(){h(""),O("")},A=function(){T("pills-home")},j=function(e){w===e.target.getAttribute("aria-controls")?A():T(e.target.getAttribute("aria-controls"))},C=Object(Ce.gb)()._t,S={chats:C("CHAT.CHATS","Chats"),contacts:C("CHAT.CONTACTS","Contacts"),workspaceChats:C("CHAT.WORKSPACE_CHATS","Workspace chats"),recentChats:C("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:C("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:C("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:C("CHAT.RECENT","Recent"),favorite:C("CHAT.FAVORITE","Favorite"),hidden:C("CHAT.HIDDEN","Hidden"),pinned:C("CHAT.PINNED","Pinned"),startNew:C("CHAT.START_NEW","Start new"),viewOpenWorkspace:C("CHAT.VIEW_OPEN_WORKSPACE","View open workspace"),archived:C("CHAT.ARCHIVED","Archived"),nothingToSeeHere:C("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:C("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:C("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:C("CHAT.PERSONAL_BOT","Personal bot"),you:C("CHAT.PREVIEW_AUTHOR_YOU","You"),showArchived:C("CHAT.SHOW_ARCHIVED","Show archived"),withTeam:C("CHANNEL.WITH_TEAM","Team Chat"),withClient:C("CHANNEL.WITH_CLIENT","Client Chat"),team:C("TEAM","Team")};return Object(Te.useEffect)((function(){c.chat_filter!==w&&s({chat_filter:w})}),[c.chat_filter,w]),Object(Te.useEffect)((function(){""===d?y():h(d)}),[d]),Object(Te.useEffect)((function(){if(a.messageId){document.body.classList.add("m-chat-channel-closed");var e=document.getElementById("toastS");return e&&ut.isMobile&&e.classList.add("d-none"),function(){e&&ut.isMobile&&e.classList.remove("d-none")}}}),[]),Ne.a.createElement(hn,{ref:N.container,className:"chat-sidebar ".concat(n)},Ne.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start align-items-center"},Ne.a.createElement(bn,{onChange:function(e){O(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&y()},value:g,onClickEmpty:y,closeButton:"true",searching:m,className:"chat-search",placeholder:S.searchChatPlaceholder,ref:k}),Ne.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2 chat-sidebar-options-container"},Ne.a.createElement(En,{role:"tabList"},Ne.a.createElement("div",{className:"option-filter ".concat("pills-home"===w?"active":""),onClick:j,"aria-controls":"pills-home","aria-selected":"false"},S.chats),Ne.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===w?"active":""),onClick:j,"aria-controls":"pills-workspace","aria-selected":"false"},S.workspaceChats),Ne.a.createElement("div",{className:"d-flex",onClick:function(){i(Object(Ae.a)({type:"chat_create_edit",mode:"new"}))}},Ne.a.createElement(We.s,{className:"mr-2",width:14,height:14,icon:"plus"})," ",S.newGroupChat)))),Ne.a.createElement(un,{pill:w,search:f,dictionary:S,resetFilter:A}))})),On=n(9),vn=n(32),_n=ye.a.div(ce||(ce=Object(we.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  transform: translateX(100%);\n  transition: 0.1s ease-out;\n  padding: 0 1em;\n  margin-right: -10px;\n  z-index: 3;\n  background: #fff;\n  color: #8b8b8b;\n  ","\n  .dark & {\n    background: #191c20;\n    color: #c7c7c7;\n  }\n"])),(function(e){return e.isActive&&"transform: translateX(0%);margin:0px;"})),wn=Object(ye.a)(We.s)(se||(se=Object(we.a)(["\n  cursor: pointer;\n"]))),Tn=ye.a.ul(le||(le=Object(we.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  li:last-child {\n    border-bottom: none;\n  }\n"]))),Nn=ye.a.li(de||(de=Object(we.a)(["\n  cursor: pointer;\n  background: transparent;\n  font-size: 0.835re;\n  padding: 5px 20px;\n  margin-top: 0;\n  border-radius: 0;\n  border-left: none;\n  border-right: none;\n  border-top: none;\n  border-bottom: 1px solid #ebebeb;\n  .dark & {\n    border-color: rgba(155, 155, 155, 0.1);\n    color: #c7c7c7;\n  }\n  color: #495057;\n  .chat-search-header span {\n    font-size: smaller;\n    margin: 0;\n  }\n  div.chat-search-body {\n    font-size: 0.835re;\n  }\n  div.chat-search-body span {\n    font-weight: 600;\n    color: #7a1b8b;\n    .dark & {\n      color: #fff;\n    }\n  }\n  :focus {\n    background-color: #f0f0f050;\n  }\n"]))),kn=ye.a.div(me||(me=Object(we.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  height: calc(100% - 43px);\n"]))),yn=ye.a.div(pe||(pe=Object(we.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n  color: #8b8b8b;\n  .dark & {\n    color: #c7c7c7;\n  }\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),An=ye.a.form(ue||(ue=Object(we.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0.5em !important;\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaa;\n      pointer-events: none;\n    }\n  }\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaa;\n  }\n  .btn-cross {\n    position: absolute;\n    right: 45px;\n    opacity: 0;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n  .not-empty .btn-cross {\n    z-index: 9;\n    opacity: 1;\n  }\n  .loading {\n    height: 1rem;\n    width: 1rem;\n  }\n"]))),jn=function(e){var t=e.showSearchPanel,n=e.handleSearchChatPanel,a=e.selectedChannel,i=e.newSeachToogle,r=e.user,o=Object(Te.useState)(0),c=Object(_e.a)(o,2),s=c[0],l=c[1],d=Object(Te.useRef)(),m=Object(Te.useRef)(null),p=Object(Te.useRef)(),u=Object(Ce.ab)().localizeChatDate,f=Object(Ce.gb)()._t,h=Object(Te.useState)(""),b=Object(_e.a)(h,2),E=b[0],g=b[1],O=Object(Te.useState)(!1),v=Object(_e.a)(O,2),_=v[0],w=v[1],T=Object(Te.useState)([]),N=Object(_e.a)(T,2),k=N[0],y=N[1],A={noItemsFoundHeader:f("CHATSEARCH.NO_ITEMS_FOUND_HEADER","WOO!"),noItemsFoundText:f("CHATSEARCH.NO_ITEMS_FOUND_TEXT","Nothing here but me\u2026 \ud83d\udc7b"),you:f("CHATSEARCH.YOU","You")},j=function(){y([]),g(""),w(!1)},C=Object(Ce.O)(),S=function(e){n(),C.toChat(a,e)},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(vn.n)({channel_id:a.id,is_translate:a.is_translate,search:e,skip:t,limit:20}).then((function(e){return e})).then((function(e){n?(setTimeout((function(){m.current&&m.current.focus()}),500),y([e.data.results]),l(0)):y([].concat(Object(On.a)(k),[e.data.results]))}))};return Object(Te.useEffect)((function(){null!==a&&s>0&&(w(!0),x(E,s))}),[s]),Object(Te.useEffect)((function(){setTimeout((function(){_&&w(!_)}),200)}),[k]),Object(Te.useEffect)((function(){j()}),[i]),Object(Te.useEffect)((function(){if(E.length>2){d.current.classList.add("not-empty"),w(!0);var e=setTimeout((function(){x(E,0,!0),p.current&&p.current.blur()}),1e3);return function(){return clearTimeout(e)}}y([]),d.current.classList.remove("not-empty")}),[E]),Ne.a.createElement(_n,{isActive:t},Ne.a.createElement("div",{className:"d-flex justify-content-between align-items-flex-start align-items-center mb-2"},Ne.a.createElement(wn,{icon:"chevron-left",onClick:n}),Ne.a.createElement(An,{className:"chat-search-chat"},Ne.a.createElement("div",{className:"input-group",ref:d},Ne.a.createElement("input",{ref:p,onChange:function(e){return g(e.target.value)},value:E,type:"text",className:"form-control",placeholder:"Search",onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&j()}}),Ne.a.createElement("button",{onClick:j,className:"btn-cross",type:"button"},_?Ne.a.createElement(We.j,null):Ne.a.createElement(We.s,{icon:"x"})),Ne.a.createElement("div",{className:"input-group-append"},Ne.a.createElement("button",{className:"btn btn-outline-light",type:"button"},Ne.a.createElement("i",{className:"ti-search"})))))),Ne.a.createElement(kn,{className:"justify-content-between align-items-center",onScroll:function(e){e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight&&l(s+20)}},Ne.a.createElement(Tn,null," ",t&&function(e){var t=e.map((function(e){return e.map((function(e,t){var n=e.user&&e.user.id===r.id;return Ne.a.createElement(Nn,{onClick:function(t){return S(e)},key:e.id,ref:0===t?m:null,autoFocus:0===t,onKeyDown:function(n){return function(e,t,n){"Enter"===e.key&&S(n),"ArrowDown"===e.key&&e.currentTarget.nextSibling&&e.currentTarget.nextSibling.focus(),"ArrowUp"===e.key&&e.currentTarget.previousSibling&&t>0&&e.currentTarget.previousSibling.focus()}(n,t,e)},tabIndex:t+1},Ne.a.createElement("div",{className:"d-flex align-items-center chat-search-header"},Ne.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},Ne.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},Ne.a.createElement("div",null,Ne.a.createElement("span",null,n?A.you:e.user.name))),Ne.a.createElement("div",{className:"d-inline-flex"},Ne.a.createElement("div",null,Ne.a.createElement("span",null,u(e.created_at.timestamp,"ddd, MMM DD, YYYY")))))),Ne.a.createElement("div",{className:"chat-search-body mb-2",dangerouslySetInnerHTML:{__html:e.body}}))}))}));return t[0]&&t[0].length?t:Ne.a.createElement(yn,null," ",Ne.a.createElement("h3",null,A.noItemsFoundHeader),Ne.a.createElement("h5",null,A.noItemsFoundText," ")," ")}(k)," ")))},Cn=ye.a.div(fe||(fe=Object(we.a)(["\n  width: 40px;\n  display: flex;\n  align-items: center;\n  padding: 12px 10px;\n  align-self: flex-end;\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n  .loading {\n    width: 1rem;\n    height: 1rem;\n  }\n  &.btn-zoom {\n    padding: 10px;\n  }\n"]))),Sn=ye.a.div(he||(he=Object(we.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n    cursor: pointer;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  // .btn-meet {\n  //   img {\n  //     width: 24px;\n  //     height: 24px;\n  //     vertical-align: top;\n  //     margin-bottom: -5px;\n  //   }\n  // }\n  @media (max-width: 414px) {\n    min-width: ",";\n    .btn-zoom,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n    .btn-zoom {\n      padding: 10px 0;\n    }\n  }\n  .zoom-icon {\n    cursor: pointer;\n  }\n  .feather-google-meet {\n    height: 20px;\n    width: 21px;\n  }\n  .feather-zoom {\n    width: 24px;\n    height: 24px;\n  }\n"])),(function(e){return e.editMode&&!e.clientChat?"160px":e.editMode&&e.clientChat?"120px":!e.editMode&&e.clientChat?"80px":"120px"}),(function(e){return e.clientChat&&e.showButtons&&e.editMode?"120px":e.clientChat&&e.showButtons&&!e.editMode?"90px":e.showButtons&&e.editMode?"150px":e.showButtons?"120px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),xn=Object(ye.a)(We.s)(be||(be=Object(we.a)(["\n  circle {\n    fill: #cacaca;\n  }\n  :hover {\n    circle {\n      fill: #2196f3;\n    }\n  }\n"]))),In=Ne.a.memo((function(e){var t=e.channel,n=e.showEmojiPicker,a=e.handleShowEmojiPicker,i=e.handleZoomMeet,r=e.onShowFileDialog,o=e.editChatMessage,c=e.quote,s=e.dictionary,l=e.startingZoom,d=Object(ke.c)(),m=Object(ke.d)((function(e){return e.workspaces.workspaces})),p=Object(Te.useState)(!1),u=Object(_e.a)(p,2),f=u[0],h=u[1],b=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},E=t&&m[t.entity_id]&&m[t.entity_id].is_shared&&m[t.entity_id].channel.id===t.id;return Ne.a.createElement(Sn,{editMode:null!==o,showButtons:f,clientChat:E},o&&Ne.a.createElement(Cn,null,Ne.a.createElement(Me.a,{arrowSize:5,distance:10,onToggle:b,content:s.closeEdit},Ne.a.createElement(We.s,{className:"close-button",icon:"x",onClick:function(){c&&d(Object(Ue.o)(c)),null!==o&&d(Object(Ue.Pb)(null))}}))),Ne.a.createElement(Cn,{className:"btn-smile"},Ne.a.createElement(Me.a,{arrowSize:5,distance:10,onToggle:b,content:"Emoji"},Ne.a.createElement(We.s,{className:"".concat(n?"active":""),onClick:a,icon:"smile"}))),Ne.a.createElement(Cn,{className:"btn-zoom"},Ne.a.createElement(Me.a,{arrowSize:5,distance:10,onToggle:b,content:"Zoom"},l&&Ne.a.createElement(We.j,null),Ne.a.createElement(xn,{onClick:i,icon:"zoom",viewBox:"0 0 48 48"}))),Ne.a.createElement(Cn,{className:"btn-paperclip"},Ne.a.createElement(Me.a,{arrowSize:5,distance:10,onToggle:b,content:s.attachFiles},Ne.a.createElement(We.s,{onClick:r,icon:"paperclip"}))),Ne.a.createElement(Cn,{className:"chat-buttons"},Ne.a.createElement(We.s,{onClick:function(){h((function(e){return!e}))},icon:f?"x":"more-vertical"})))})),Rn=(ye.a.div(Ee||(Ee=Object(we.a)(["\n  font-size: 13px;\n  font-weight: 600;\n  .card {\n    overflow: visible;\n  }\n  .custom-switch {\n    input {\n      cursor: pointer;\n    }\n  }\n"]))),ye.a.span(ge||(ge=Object(we.a)(["\n  font-weight: 600;\n  cursor: pointer;\n"]))),ye.a.div(Oe||(Oe=Object(we.a)([""])))),Pn=function(e){e.className;var t=e.selectedChannel,n=e.chatMessageActions,a=e.translated_channels,i=(Object(lt.g)(),Object(ke.c)()),r=Object(Ce.bb)(),o=Object(Ce.T)().setGeneralSetting,c=Object(Ce.gb)()._t,s={chatTranslateOn:c("SETTINGS.CHAT_TRANSLATE_TITLE_ON","Turn ON chat translate."),chatTranslateOff:c("SETTINGS.CHAT_TRANSLATE_TITLE_OFF","Turn OFF chat translate."),chatTranslateIsOn:c("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned ON chat translate."),chatTranslateIsOff:c("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned OFF chat translate")},l=!!(a.length>0&&a.includes(t.id)),d=Object(Te.useCallback)((function(e){e.persist();var i=!l||!t.is_translate;n.saveChannelTranslateState(Object(ve.a)(Object(ve.a)({},t),{},{is_translate:i})),m(Object(ve.a)(Object(ve.a)({},t),{},{is_translate:i}));var c=t.id;o(i?{translated_channels:[].concat(Object(On.a)(a),[c])}:{translated_channels:a.filter((function(e){return e!==c}))}),r.success(Ne.a.createElement("span",null,i?s.chatTranslateIsOn:s.chatTranslateIsOff))})),m=Object(Te.useCallback)((function(e){i(Object(He.V)(e,(function(){var t=Object(ve.a)({},e);i(Object(He.Z)(t))})))}));return Ne.a.createElement(Rn,{onClick:d},l?s.chatTranslateOff:s.chatTranslateOn)},Dn=n(782),Ln=function(e){var t=e.channel,n=Object(ke.d)((function(e){return e.users.teams})),a=t.members;if("TEAM"===t.type||"DIRECT_TEAM"===t.type){var i=Array.from(Object.values(n)).find((function(e){return e.id===t.entity_id}));if(i)a=[{id:i.id,name:i.name,members:i.members,icon_link:i.icon_link}].concat(Object(On.a)(a))}else if("TOPIC"===t.type&&t.team_ids&&t.team_ids.length){var r=Array.from(Object.values(n)).filter((function(e){return t.team_ids.some((function(t){return t===e.id}))})).map((function(e){return{id:e.id,name:e.name,members:e.members,icon_link:e.icon_link}}));a=[].concat(Object(On.a)(r),Object(On.a)(a))}return Ne.a.createElement("div",{className:"chat-header-right"},Ne.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(t.type)&&Ne.a.createElement("li",null,Ne.a.createElement(Dn.a,{members:a}))))}},814:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,d,m,p,u,f,h,b,E,g,O,v,_,w,T,N,k,y,A,j=n(7),C=n(5),S=n(0),x=n.n(S),I=n(6),R=n(45),P=n(4),D=n(13),L=n(11),F=n(72),M=Object(P.a)(F.c)(a||(a=Object(C.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),U=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.file,r=e.files,o=e.scrollRef,c=void 0===o?null:o,s=e.actions,l=e.forceDelete,d=e.disableOptions,m=Object(L.bb)(),p=Object(L.gb)()._t,u={rename:p("FILES.RENAME","Rename"),restore:p("FILES.RESTORE","Restore"),remove:p("FILES.REMOVE","Remove"),viewDetails:p("FILES.VIEW_DETAILS","View details"),share:p("FILES.SHARE","Share"),download:p("FILES.DOWNLOAD","Download"),moveTo:p("FILES.MOVE_TO","Move to"),favorite:p("FILES.FAVORITE","Favorite"),unfavorite:p("FILES.UNFAVORITE","Unfavorite")};return x.a.createElement(M,{className:"file-options ".concat(n),moreButton:"more-horizontal",file:i,scrollRef:c},x.a.createElement("div",{onClick:function(){s.viewCompanyFiles(i,r)}},u.viewDetails),x.a.createElement("div",{onClick:function(){s.download(i)}},u.download),l?x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{onClick:function(){s.restoreCompanyFile(i,(function(e,t){t&&(i.folder_id&&"undefined"!==typeof a[i.folder_id]?m.success(x.a.createElement(x.a.Fragment,null,"Item ",x.a.createElement("b",null,i.search)," is restored to #",a[i.folder_id].search," folder.")):m.success(x.a.createElement(x.a.Fragment,null,"Item ",x.a.createElement("span",{className:"font-weight-bold"},i.search)," is restored to #All Files folder.")))}),{message:!1})}},u.restore)):x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{onClick:function(){s.copyLink(i.view_link)}},u.share),x.a.createElement("div",{onClick:function(){s.favorite(i)}},i.is_favorite?u.unfavorite:u.favorite),x.a.createElement("div",{onClick:function(){s.moveCompanyFile(i)}},u.moveTo),x.a.createElement("div",{onClick:function(){s.renameCompanyFile(i)}},u.rename)),!d&&x.a.createElement("div",{onClick:function(){i.hasOwnProperty("payload_id")?s.unlinkGoogleAttachment(i):s.removeCompanyFile(i,(function(){}),l)}},u.remove))})),H=n(1),W=n(12),z=n(77),B=P.a.div(i||(i=Object(C.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),G=Object(P.a)(W.s)(r||(r=Object(C.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),V=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.file,r=e.files,o=e.actions,c=e.forceDelete,s=void 0!==c&&c,l=e.disableOptions,d=o.getFileSizeUnit(i.hasOwnProperty("size")&&"number"===typeof i.size?i.size:0),m=Object(S.useState)(i.is_favorite),p=Object(j.a)(m,2),u=p[0],f=p[1],h=Object(S.useState)("undefined"===typeof i.name?i.search:i.name),b=Object(j.a)(h,2),E=b[0],g=b[1],O=function(){o.viewCompanyFiles(i,r)};return Object(S.useEffect)((function(){g("undefined"===typeof i.name?i.search:i.name)}),[i.name,i.search]),x.a.createElement(B,{className:"file-list-item ".concat(n)},x.a.createElement("div",{className:"card  app-file-list"},x.a.createElement("div",{className:"string"===typeof i.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:O},!0===u&&x.a.createElement(G,{icon:"star"}),o.getFileIcon(i.mime_type),"number"===typeof i.id&&x.a.createElement(U,{file:i,files:r,folders:a,actions:Object(H.a)(Object(H.a)({},o),{},{favorite:function(){f((function(e){return!e})),o.favorite(i)}}),forceDelete:s,disableOptions:l}),"string"===typeof i.id&&x.a.createElement(F.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),x.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:O},x.a.createElement(W.t,{content:E},x.a.createElement("div",{className:"file-name"},i.hasOwnProperty("payload_id")&&x.a.createElement(W.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),E)),x.a.createElement("div",{className:"text-muted"},d.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],d.unit))))})),Y=n(15),K=n(262),q=n(260),Z=n.n(q),J=P.a.div(o||(o=Object(C.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"])),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),X=Object(P.a)(W.s)(c||(c=Object(C.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]))),Q=P.a.img(s||(s=Object(C.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"])),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),$=P.a.div(l||(l=Object(C.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]))),ee=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.actions,r=e.history,o=e.params,c=e.handleAddEditFolder,s=e.disableOptions,l=Object(R.j)(),d=l.path,m=l.url,p=Object(S.useRef)(null),u=Object(S.useState)(!1),f=Object(j.a)(u,2),h=f[0],b=f[1],E=Object(S.useState)(a.bg_color?a.bg_color:""),g=Object(j.a)(E,2),O=g[0],v=g[1],_=function(e){if(e.preventDefault(),e.stopPropagation(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===d){var t=m.split("/folder/")[0];r.push(t+"/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)))}else r.push(r.location.pathname+"/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)))};return Object(S.useEffect)((function(){if(""!==O&&O!==a.bg_color&&!h){var e={id:a.id,name:a.search,bg_color:O};a.parent_folder&&(e=Object(H.a)(Object(H.a)({},e),{},{folder_id:a.parent_folder.id})),i.updateCompanyFolders(e)}}),[h,O]),Object(S.useEffect)((function(){v(a.bg_color)}),[a.bg_color]),Object(L.G)(p,(function(){return b(!h)}),h),x.a.createElement(J,{className:"file-list-item ".concat(n),color:O},x.a.createElement("div",{className:"card  app-file-list"},x.a.createElement("div",{className:"app-file-icon cursor-pointer"},x.a.createElement("div",{onClick:_},a.hasOwnProperty("payload")&&x.a.createElement(X,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),x.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!s&&x.a.createElement(_e,{folder:a,actions:i,history:r,params:o,handleAddEditFolder:c}),x.a.createElement(Q,{className:"color-picker",src:Z.a,alt:"color picker",disableOptions:s,onClick:function(e){e.stopPropagation(),e.preventDefault(),b(!h)}})),h&&x.a.createElement($,{ref:p},x.a.createElement(K.a,{color:O,onChange:function(e,t){t.stopPropagation(),v(e.hex)}}))),x.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:_},x.a.createElement(W.t,{content:a.search},x.a.createElement("div",{className:"file-name"},a.search)))))})),te=n(783),ne=P.a.div(d||(d=Object(C.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),ae=Object(P.a)(F.c)(m||(m=Object(C.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]))),ie=P.a.div(p||(p=Object(C.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),re=P.a.div(u||(u=Object(C.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]))),oe=x.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.dropZoneRef,r=e.filter,o=e.search,c=e.files,s=e.handleAddEditFolder,l=e.actions,d=e.params,m=e.folders,p=e.folder,u=e.fileIds,f=e.history,h=e.subFolders,b=e.dictionary,E=e.disableOptions,g=e.loadMore,O=e.isLoaded,v=document.querySelector(".app-content-body"),_=Object(I.d)((function(e){return e.session.user})),w={files:Object(S.useRef)(null),btnLoadMore:Object(S.useRef)(null)},T=Object(S.useState)(!1),N=Object(j.a)(T,2),k=N[0],y=N[1],A=function(){i.current&&i.current.open()},C=function(){y(!1)},R=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&w.btnLoadMore.current&&w.btnLoadMore.current.click()};return Object(S.useEffect)((function(){if(w.files.current){var e=w.files.current;return e&&"0"===e.dataset.loaded?(g.files(),e.dataset.loaded="1",w.files.current.addEventListener("scroll",R,!1),function(){return w.files.current.removeEventListener("scroll",R,!1)}):void 0}}),[w.files.current]),x.a.createElement(ne,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(r)||k||y(!0)}},x.a.createElement("span",{className:"d-none",ref:w.btnLoadMore,onClick:g.files},"Load more"),!E&&x.a.createElement(z.a,{ref:i,hide:!k,onDragLeave:C,onDrop:function(e){!function(e){y(!1);var t=Math.floor(Date.now()/1e3),a=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].reference_id=n(63).generate(),a.append("files["+i+"]",e[i]));var r={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:p?p.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:_.id,view_link:null,uploading:!0}})),folder_id:p?p.id:null};l.uploadingCompanyFiles(r);var o={is_primary:0,files:a};d.folderId&&(o=Object(H.a)(Object(H.a)({},o),{},{folder_id:d.folderId})),l.uploadCompanyBulkFiles(o)}(e.acceptedFiles)},onCancel:C,params:d}),x.a.createElement("div",{ref:w.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof c&&x.a.createElement(x.a.Fragment,null,p&&"removed"!==r&&!E&&x.a.createElement(ae,{moreButton:"settings"},x.a.createElement("div",{onClick:function(){s(p,"update")}},b.editFolder),x.a.createElement("div",{onClick:function(){if(p){l.removeFolder(p,(function(e,t){if(!e&&t){var n=f.location.pathname.split("/folder/")[0];f.push(n)}}))}}},b.removeFolder)),"removed"===r&&c&&c.hasOwnProperty("trash_files")&&(Object.keys(c.trash_files).length>0||Object.values(m).filter((function(e){return e.is_archived})).length>0)&&x.a.createElement(W.s,{icon:"trash",onClick:l.removeAllCompanyTrashFiles}),""===r&&x.a.createElement(x.a.Fragment,null,"undefined"===typeof d.folderId&&x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},b.allFiles),p&&x.a.createElement(le,{folder:p,history:f,dictionary:b,folders:m}),x.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?h.filter((function(e){return!e.is_archived})).map((function(e){return x.a.createElement(ee,{key:e.id,actions:l,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:E,folder:e,history:f,params:d,handleAddEditFolder:s})})):Object.values(m).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return x.a.createElement(ee,{key:e.id,actions:l,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:E,folder:e,history:f,params:d,handleAddEditFolder:s})}))),"undefined"!==typeof d.folderId?x.a.createElement(x.a.Fragment,null,p?x.a.createElement(x.a.Fragment,null,x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},p.search),x.a.createElement("div",{className:"row"},c&&u.map((function(e){return c.files.hasOwnProperty(e)?x.a.createElement(V,{key:e,scrollRef:v,actions:l,folders:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],files:c.files,disableOptions:E}):null}))),c&&0===u.length&&x.a.createElement(ie,null,x.a.createElement(W.q,{icon:4,height:282}),x.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:A,disabled:E},b.uploadFiles))):x.a.createElement(x.a.Fragment,null)):x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:"row"},x.a.createElement(te.f,{disableOptions:E}),c&&u.map((function(e){return c.files.hasOwnProperty(e)?x.a.createElement(V,{key:e,scrollRef:v,actions:l,folders:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],files:c.files,disableOptions:E}):null}))),c&&c.popular_files.length>0&&x.a.createElement(ye,{search:o,scrollRef:v,files:Object.values(c.files).filter((function(e){return c.popular_files.includes(e.id)})),actions:l,disableOptions:E}),c&&c.recently_edited.length>0&&x.a.createElement(je,{search:o,scrollRef:v,files:Object.values(c.files).filter((function(e){return c.recently_edited.includes(e.id)})),actions:l,disableOptions:E}),O&&0===c.popular_files.length&&0===c.recently_edited.length&&0===u.length&&0===Object.values(m).filter((function(e){return!0!==e.is_archived})).length&&0===h.length&&x.a.createElement(ie,null,x.a.createElement(W.q,{icon:4,height:282}),x.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:A,disabled:E},b.uploadFiles)),!O&&x.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(je,{search:o,scrollRef:v,files:Object.values(c.files).filter((function(e){return c.recently_edited.includes(e.id)})),actions:l,disableOptions:E}),!(c&&c.recently_edited.length>0)&&x.a.createElement(ie,null,x.a.createElement(W.q,{icon:4,height:282}))),"important"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(Ne,{search:o,scrollRef:v,files:Object.values(c.files).filter((function(e){return c.favorite_files.includes(e.id)})),actions:l,dictionary:b}),!(c&&c.hasOwnProperty("favorite_files")&&c.favorite_files.length>0)&&x.a.createElement(ie,null,x.a.createElement(W.q,{icon:4,height:282}),x.a.createElement(re,null,x.a.createElement("p",null,"No favorite files."),x.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===r&&x.a.createElement(x.a.Fragment,null,x.a.createElement(Se,{scrollRef:v,search:o,files:c.trash_files,actions:l,params:d,folders:m,subFolders:h,handleAddEditFolder:s,folder:p,disableOptions:E}),!(c&&c.hasOwnProperty("trash_files")&&Object.keys(c.trash_files).length>0)&&!(Object.values(m).some((function(e){return e.is_archived}))||h.some((function(e){return e.is_archived})))&&x.a.createElement(ie,null,x.a.createElement(W.q,{icon:4,height:282}))))))})),ce=n(264),se=P.a.div(f||(f=Object(C.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]))),le=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.history,r=e.dictionary,o=e.folders,c=e.workspaceID,s=Object(R.j)().url,l=Object(S.useState)(!1),d=Object(j.a)(l,2),m=d[0],p=d[1];return Object(S.useEffect)((function(){a.parent_folder&&Object.values(o).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?p(!0):p(!1))})),a.parent_folder||p(!1)}),[a]),x.a.createElement(se,{className:"files-breadcrumb d-flex ".concat(n)},x.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},x.a.createElement("li",{onClick:function(){var e=i.location.pathname.split("/folder/")[0];i.push(e)}},r.allFiles),x.a.createElement(W.s,{width:12,icon:"chevron-right"}),m&&x.a.createElement(x.a.Fragment,null,x.a.createElement("li",null,x.a.createElement(ce.a,{parentFolder:a.parent_folder,workspaceID:c,history:i})),x.a.createElement(W.s,{width:12,icon:"chevron-right"})),a.parent_folder&&x.a.createElement(x.a.Fragment,null,x.a.createElement("li",{onClick:function(){return function(e){var t=s.split("/folder/")[0];i.push(t+"/folder/".concat(e.id,"/").concat(Object(Y.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),x.a.createElement(W.s,{width:12,icon:"chevron-right"})),x.a.createElement("div",null,a.search)))})),de=P.a.div(h||(h=Object(C.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),me=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dropZoneRef,i=e.onSearchChange,r=e.onSearch,o=e.onEnter,c=e.handleAddEditFolder,s=e.folders,l=e.history,d=e.params,m=e.clearFilter,p=e.dictionary,u=e.onClickEmpty,f=e.value,h=Object(I.c)(),b=function(e){if(m(),s.hasOwnProperty(e.target.dataset.value)){var t=s[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):d.hasOwnProperty("folderId")?l.push(l.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Object(Y.h)(t.search))):l.push("/files/folder/".concat(t.id,"/").concat(Object(Y.h)(t.search)))}},E={label:x.a.createElement(x.a.Fragment,null,x.a.createElement(W.s,{className:"mr-1",icon:"plus"})," ",p.add),items:[{value:"folder",label:p.folder,onClick:function(){return c(null,"create")}},{value:"file",label:p.file,onClick:function(){a.current&&a.current.open()}}]},g={label:p.folders,items:Object.values(s).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:b}}))};return x.a.createElement(de,{className:"files-header app-action ".concat(n)},x.a.createElement("div",{className:"action-left"},x.a.createElement("ul",{className:"list-inline"},x.a.createElement("li",{className:"list-inline-item mb-0"},x.a.createElement(W.e,{dropdown:E})),Object.values(s).filter((function(e){return!e.is_archived})).length>=1&&x.a.createElement("li",{className:"list-inline-item mb-0"},x.a.createElement(W.e,{dropdown:g})),x.a.createElement("li",{className:"list-inline-item mb-0"},x.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){h(Object(D.a)({type:"external_file_folder",mode:"create",topic_id:null}))}},p.driveLink))),x.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},x.a.createElement(W.s,{icon:"menu"}))),x.a.createElement("div",{className:"action-right"},x.a.createElement("div",{className:"input-group"},x.a.createElement("input",{type:"text",onChange:i,value:f,onKeyDown:o,className:"form-control",placeholder:p.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==f.trim()&&x.a.createElement("button",{onClick:u,className:"btn-cross",type:"button"},x.a.createElement(W.s,{icon:"x"})),x.a.createElement("div",{className:"input-group-append"},x.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:r},x.a.createElement(W.s,{icon:"search"}))))))})),pe=P.a.div(b||(b=Object(C.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),ue=P.a.div(E||(E=Object(C.a)([""]))),fe=P.a.span(g||(g=Object(C.a)(["\n  cursor: pointer;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),he=Object(P.a)(W.s)(O||(O=Object(C.a)(["\n  width: 15px;\n"]))),be=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,i=e.filterFile,r=e.filter,o=void 0===r?"all":r,c=e.dropZoneRef,s=e.storageLimit,l=void 0===s?25:s,d=e.fileCount,m=e.folders,p=e.activeFolder,u=e.clearFilter,f=e.params,h=e.disableOptions,b=Object(L.gb)()._t,E=a.getFileSizeUnit(d.storage),g=0===d.storage?0:d.storage<1e8?1e8:d.storage,O={uploadFiles:b("FILE.UPLOAD_FILES","Upload files"),allFiles:b("FILES.ALL_FILES","All files"),recentlyEdited:b("FILES.RECENTLY_EDITED","Recently edited"),favorite:b("FILE.FAVORITE","Favorite"),removed:b("FILES.REMOVED","Removed"),storageStatus:b("FILES.STORAGE_STATUS","Storage Status"),usedOf:b("FILE.USED_OF","used of"),gigabyte:b("FILE.GIGABYTE","GB")};return x.a.createElement(pe,{className:"file-sidebar bottom-modal-mobile ".concat(n)},x.a.createElement(ue,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),x.a.createElement("div",{className:"card bottom-modal-mobile_inner"},x.a.createElement("div",{className:"card-body"},x.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){c.current&&c.current.open()},disabled:h},O.uploadFiles),x.a.createElement("form",{className:"d-none",id:"file-upload"},x.a.createElement("input",{type:"file",multiple:""}))),x.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},x.a.createElement("div",{className:"list-group list-group-flush"},x.a.createElement(fe,{onClick:i,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},x.a.createElement(he,{className:"mr-2",icon:"folder"}),O.allFiles,x.a.createElement("span",{className:"small ml-auto"},d.all>0?d.all:null)),m&&Object.values(m).filter((function(e){return!e.is_archived})).length>0&&x.a.createElement(fe,{className:"d-flex align-items-center folder-list"},x.a.createElement("ul",null,Object.values(m).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return x.a.createElement(Oe,{key:e.id,clearFilter:u,folders:m,params:f,folder:e,activeFolder:p})})))),x.a.createElement(te.n,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){a.uploadCompanyGoogleDriveFile(e)}))},disableOptions:h}),x.a.createElement(fe,{onClick:i,"data-filter":"recent",active:"recent"===o,className:"list-group-item d-flex align-items-center"},x.a.createElement(he,{className:"mr-2",icon:"monitor"}),O.recentlyEdited),x.a.createElement(fe,{onClick:i,"data-filter":"important",active:"important"===o,className:"list-group-item d-flex align-items-center"},x.a.createElement(he,{className:"mr-2",icon:"star"}),O.favorite,x.a.createElement("span",{className:"small ml-auto"},d.stars>0?d.stars:null)),x.a.createElement(fe,{onClick:i,"data-filter":"removed",active:"removed"===o,className:"list-group-item d-flex align-items-center"},x.a.createElement(he,{className:"mr-2",icon:"trash"}),O.removed,x.a.createElement("span",{className:"small ml-auto"},d.trash>0?d.trash:null))),x.a.createElement("div",{className:"card-body"},x.a.createElement("h6",{className:"mb-4"},O.storageStatus),x.a.createElement("div",{className:"d-flex align-items-center"},x.a.createElement("div",{className:"mr-3"},x.a.createElement(W.s,{icon:"database"})),x.a.createElement("div",{className:"flex-grow-1"},x.a.createElement(F.d,{amount:g,limit:1e9*l}),x.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},E.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],E.unit," ",O.usedOf," ",l,O.gigabyte)))))))})),Ee=P.a.li(v||(v=Object(C.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"])),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),ge=P.a.ul(_||(_=Object(C.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"])),(function(e){return e.maxHeight})),Oe=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.folders,r=e.activeFolder,o=e.clearFilter,c=Object(R.g)(),s=Object(R.j)(),l=s.params,d=s.path,m=s.url,p={container:Object(S.useRef)(null),arrow:Object(S.useRef)(null),nav:Object(S.useRef)(null)},u=Object(S.useState)(null),f=Object(j.a)(u,2),h=f[0],b=f[1],E=Object(S.useState)(null),g=Object(j.a)(E,2),O=g[0],v=g[1];return Object(S.useEffect)((function(){null!==p.nav.current&&v(p.nav.current.scrollHeight)}),[p.nav.current,O]),Object(S.useEffect)((function(){r&&r.parent_folder&&r.parent_folder.id===a.id&&b(!0)}),[l,r]),x.a.createElement(Ee,{ref:p.container,className:"folder-list fadeIn ".concat(n),selected:!!r&&r.id===a.id},x.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(o(),"/files/folder/:folderId/:folderName"===d){var e=m.split("/folder/")[0];c.push(e+"/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)))}else c.push("/files/folder/".concat(a.id,"/").concat(Object(Y.h)(a.search)));b((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&x.a.createElement(W.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&x.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(h?"ti-minus rotate-in":"ti-plus")})),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&x.a.createElement(ge,{ref:p.nav,maxHeight:O,className:h?"enter-active":"leave-active"},h&&Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return x.a.createElement(xe,{key:e.id,clearFilter:o,params:l,folderHeight:O,activeFolder:r,folders:i,folder:e})}))))},ve=Object(P.a)(F.c)(w||(w=Object(C.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),_e=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.scrollRef,r=void 0===i?null:i,o=e.actions,c=e.history,s=e.handleAddEditFolder,l=Object(L.bb)(),d=Object(L.gb)()._t,m={rename:d("FILES.RENAME","Rename"),restore:d("FILES.RESTORE","Restore"),remove:d("FILES.REMOVE","Remove")};return x.a.createElement(ve,{className:"file-options ".concat(n),moreButton:"more-horizontal",folder:a,scrollRef:r},!a.hasOwnProperty("payload")&&!a.is_archived&&x.a.createElement("div",{onClick:function(){s(a,"edit")}},m.rename),a.is_archived&&x.a.createElement("div",{onClick:function(){o.restoreCompanyFolder(a,(function(e,t){t&&(a.parent_folder?l.success(x.a.createElement(x.a.Fragment,null,"Folder ",x.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):l.success(x.a.createElement(x.a.Fragment,null,"Folder ",x.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},m.restore),x.a.createElement("div",{onClick:function(){if(a.hasOwnProperty("payload"))o.unlinkGoogleFolder(a);else{o.removeCompanyFolder(a,(function(e,t){if(!e&&t){var n=c.location.pathname.split("/folder/")[0];c.push(n),l.info(x.a.createElement(x.a.Fragment,null,"You have removed ",x.a.createElement("b",null,a.search),"."))}}))}}},m.remove))})),we=n(780),Te=P.a.div(T||(T=Object(C.a)([""]))),Ne=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.files,r=e.actions,o=e.dictionary;return x.a.createElement(Te,{className:"important-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},o.favoriteTitle),x.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return x.a.createElement(we.a,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:a,actions:r})}))))})),ke=P.a.div(N||(N=Object(C.a)([""]))),ye=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.files,r=e.actions,o=e.disableOptions;return x.a.createElement(ke,{className:"popular-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),x.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return x.a.createElement(V,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:r,folders:a,files:i,disableOptions:o})}))))})),Ae=P.a.div(k||(k=Object(C.a)([""]))),je=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,i=e.files,r=e.actions,o=e.disableOptions;return x.a.createElement(Ae,{className:"recent-edited-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),x.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return x.a.createElement(V,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:i,folders:a,actions:r,disableOptions:o})}))))})),Ce=P.a.div(y||(y=Object(C.a)([""]))),Se=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,i=e.files,r=e.folders,o=e.subFolders,c=e.folder,s=e.params,l=e.handleAddEditFolder,d=e.disableOptions,m=Object(R.g)();return x.a.createElement(Ce,{className:"remove-files ".concat(n)},x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),c&&x.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},c.search),x.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?o.filter((function(e){return e.is_archived})).map((function(e){return x.a.createElement(ee,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:m,params:s,handleAddEditFolder:l,disableOptions:d})})):Object.values(r).filter((function(e){return e.is_archived})).map((function(e){return x.a.createElement(ee,{key:e.id,actions:a,folders:r,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:m,params:s,handleAddEditFolder:l,disableOptions:d})}))),x.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?i&&Object.values(i).length>0&&Object.values(i).filter((function(e){return c?c.id===e.folder_id:null===e.folder_id})).map((function(e){return x.a.createElement(V,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(i).filter((function(e){return c?c.id===e.folder_id:null===e.folder_id})),actions:a,folders:r,disableOptions:d})})):i&&Object.values(i).length>0&&Object.values(i).map((function(e){return"undefined"!==typeof e?x.a.createElement(V,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(i),folders:r,actions:a,disableOptions:d}):null}))))})),xe=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,i=e.folders,r=e.activeFolder,o=e.clearFilter,c=e.params;return x.a.createElement(Oe,{className:n,clearFilter:o,folders:i,params:c,folder:a,activeFolder:r})},Ie=P.a.div(A||(A=Object(C.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"])));t.default=x.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,i=e.workspace,r=Object(I.c)(),o=Object(R.g)(),c=Object(L.gb)()._t,s=Object(L.j)(),l=s.params,d=s.isLoaded,m=s.files,p=s.fileCount,u=s.actions,f=s.fileIds,h=s.folders,b=s.folder,E=s.subFolders,g=s.loadMore,O=Object(S.useState)(""),v=Object(j.a)(O,2),_=v[0],w=v[1],T=Object(S.useState)(""),N=Object(j.a)(T,2),k=N[0],y=N[1],A={dropZone:Object(S.useRef)(null)},C=!1;i&&0===i.active&&(C=!0);var P=function(){u.searchCompany(k)},F=function(){y(""),u.clearSearch()},M={createFolder:c("FILE.CREATE_FOLDER","Create folder"),create:c("FILE.CREATE","Create"),updateFolder:c("FILE.UPDATE_FOLDER","Update folder"),update:c("FILE.UPDATE","Update"),editFolder:c("FILE.EDIT_FOLDER","Edit folder"),removeFolder:c("FILE.REMOVE_FOLDER","Remove folder"),add:c("FILE.ADD","Add"),favorite:c("FILE.FAVORITE","Favorite"),favoriteTitle:c("FILE.FAVORITE_TITLE","Favorite"),file:c("FILE.FILE","File"),folder:c("FILE.FOLDER","Folder"),folders:c("FILE.FOLDERS","Folders"),allFiles:c("FILES.ALL_FILES","All files"),recentlyEdited:c("FILES.RECENTLY_EDITED","Recently edited"),removed:c("FILES.REMOVED","Removed"),searchInputPlaceholder:c("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:c("FILE.UPLOAD_FILES","Upload files"),driveLink:c("BUTTON.DRIVE_LINK","Drive link")},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",n={type:"files_folder",folder:"create"===t?null:e,params:l,mode:t,parentFolder:b||null};r(Object(D.a)(n))},H=function(){w("")};return Object(S.useEffect)((function(){b&&b.is_archived&&"removed"!==_&&w("removed")}),[b,_,w]),x.a.createElement(Ie,{className:"container-fluid h-100 fadeIn ".concat(n)},x.a.createElement("div",{className:"row app-block"},x.a.createElement(be,{init:d,actions:u,isMember:a,clearFilter:H,params:l,dropZoneRef:A.dropZone,className:"col-lg-3",filterFile:function(e){if(l.hasOwnProperty("folderId")){var t=o.location.pathname.split("/folder/")[0];o.push(t)}w(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:_,fileCount:p,folders:h,activeFolder:b,dictionary:M,disableOptions:C}),x.a.createElement("div",{className:"col-lg-9 app-content mb-4"},x.a.createElement("div",{className:"app-content-overlay"}),x.a.createElement(me,{isMember:a,clearFilter:H,dropZoneRef:A.dropZone,history:o,params:l,onSearch:P,onSearchChange:function(e){""===e.target.value&&F(),y(e.target.value)},onEnter:function(e){"Enter"===e.key&&P()},files:m,handleAddEditFolder:U,folders:h,dictionary:M,disableOptions:C,onClickEmpty:F,value:k}),x.a.createElement(oe,{dropZoneRef:A.dropZone,isLoaded:d,loadMore:g,filter:_,search:k,folders:h,folder:b,fileIds:f,subFolders:E,history:o,actions:u,params:l,files:m,handleAddEditFolder:U,dictionary:M,disableOptions:C}))))}))},815:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,d,m,p,u=n(5),f=n(0),h=n.n(f),b=n(4),E=n(11),g=n(7),O=n(1),v=n(6),_=n(45),w=n(22),T=n(12),N=n(186),k=n(188),y=b.a.div(a||(a=Object(u.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .file-pill-container {\n    background-color: #f1f2f7a3;\n    .dark & {\n      background-color: #f1f2f712;\n    }\n  }\n"]))),A=h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,i=e.dictionary,r=e.scrollRef,o=Object(_.j)().params,c=Object(v.c)(),s=Object(N.a)(),l=Object(E.ab)().fromNow,d=function(){c(Object(w.cc)({workspace_id:o.workspaceId,file_id:a.id,files:[Object(O.a)(Object(O.a)({},a),{},{filename:a.name,file_id:a.id})]}))};return h.a.createElement(y,{className:"attach-file-timeline timeline-item ".concat(n)},h.a.createElement("div",null,h.a.createElement(T.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:r})),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-0"},h.a.createElement("span",{className:"font-weight-normal"},a.user.name)," ",h.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp)))),h.a.createElement("div",{className:"mb-3"},h.a.createElement("span",{onClick:d,className:"file-summary"},i.attachedFile)),h.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 file-pill-container"},h.a.createElement(k.a,{className:"mb-2",file:a,dictionary:i,cbFilePreview:d}),h.a.createElement("span",{onClick:d,className:"timeline-file-icon"},s.getFileIcon(a.mime_type)," ",h.a.createElement("span",null,a.name)))))})),j=n(54),C=n.n(j),S=n(15),x=b.a.div(i||(i=Object(u.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 300px;\n    overflow: hidden;\n    position: relative;\n    background-color: #f1f2f7a3;\n    > div:first-child {\n      overflow: hidden;\n      max-height: 210px;\n    }\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n    .dark & {\n      background-color: #f1f2f712;\n    }\n  }\n"]))),I=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},R=Object(b.a)(C.a)(r||(r=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),P=h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,i=e.dictionary,r=e.scrollRef,o=Object(_.g)(),c=Object(_.j)().params,s=Object(E.ab)(),l=s.fromNow,d=s.localizeDate,m=function(e){e.preventDefault(),o.push("/workspace/posts/".concat(c.workspaceId,"/").concat(Object(S.h)(c.workspaceName),"/post/").concat(a.id,"/").concat(Object(S.h)(a.title)))};return h.a.createElement(x,{className:"post-timeline timeline-item ".concat(n)},h.a.createElement("div",null,h.a.createElement(T.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:r})),h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("h6",{className:"d-flex justify-content-between mb-0"},h.a.createElement("span",{className:"title"},a.user.name),h.a.createElement(R,{arrowSize:5,distance:10,onToggle:I,content:"".concat(d(a.created_at.timestamp))},h.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp))))),h.a.createElement("div",{className:"mb-3"},h.a.createElement("span",{className:"post-title",onClick:m,title:a.title},i.sharedThePost,' "',a.title,'"')),a.body.replace(/<\/?[^>]+(>|$)/g,"")&&h.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body",onClick:m},h.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}),h.a.createElement("button",{className:"btn btn-primary",onClick:m},i.openPost)),a.files&&a.files.length>=1&&h.a.createElement(h.a.Fragment,null,i.fileAttachments,":",h.a.createElement(T.h,{attachedFiles:a.files,type:"timeline"}))))})),D=b.a.div(o||(o=Object(u.a)([""]))),L=(h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,i=Object(E.ab)().fromNow;return h.a.createElement(D,{className:"timeline-item ".concat(n)},h.a.createElement("div",null,h.a.createElement(T.a,{name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link})),h.a.createElement("div",null,h.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},h.a.createElement("span",null,a.user.name," ",h.a.createElement("a",{href:"#"},"shared a post")),h.a.createElement("span",{className:"text-muted font-weight-normal"},i(a.created_at.timestamp))),h.a.createElement("a",{href:"#"},h.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},a.body))))})),n(9)),F=b.a.div(c||(c=Object(u.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]))),M=Object(b.a)(C.a)(s||(s=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),U=h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,i=e.dictionary,r=e.scrollRef,o=Object(E.ab)(),c=o.fromNow,s=o.localizeDate,l=Object(v.d)((function(e){return e.users.users})),d=Object(v.d)((function(e){return e.users.archivedUsers})),m=Object(v.d)((function(e){return e.users.teams})),p=[].concat(Object(L.a)(Object.values(l)),Object(L.a)(d)),u=null,f=null;a.body.includes("CHANNEL_UPDATE")&&(u=JSON.parse(a.body.replace("CHANNEL_UPDATE::",""))),u&&u.author&&(f=u.author.name?u.author:p.find((function(e){return e.id===u.author})));var b=function(){if(""!==u.title)return"".concat(i.updatedWorkspaceTo," ").concat(u.title)};return null===u?null:h.a.createElement(F,{className:"member-timeline timeline-item ".concat(n)},h.a.createElement("div",null,null!==u?h.a.createElement(h.a.Fragment,null,f?h.a.createElement(T.a,{className:"mr-3",name:f.name,imageLink:f.profile_image_thumbnail_link?f.profile_image_thumbnail_link:f.profile_image_link,id:f.id,showSlider:!0,scrollRef:r}):h.a.createElement(T.a,{className:"mr-3",imageLink:null,isBot:!0})):h.a.createElement(T.a,{className:"mr-3",imageLink:null,isBot:!0})),h.a.createElement("div",null,null!==u?h.a.createElement(h.a.Fragment,null,h.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},h.a.createElement("span",{className:"title"},f&&f.name," ",b()),h.a.createElement("span",{className:"text-muted font-weight-normal"},c(a.created_at.timestamp))),u.added_members.length||u.removed_members.length||u.added_teams&&u.added_teams.length||u.removed_teams&&u.removed_teams.length?h.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},h.a.createElement("p",{className:"action-text"},u.added_members.length>0&&function(){if(null===u.author){if(!u.accepted_members)return"";var e=p.filter((function(e){return u.accepted_members.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else if(u.accepted_members){var t=p.filter((function(e){return u.accepted_members.some((function(t){return t===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else{var n=p.filter((function(e){return u.added_members.some((function(t){return t===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}}()),h.a.createElement("p",{className:"action-text"},u.removed_members.length>0&&function(){if(null===u.author)return"";var e=p.filter((function(e){return u.removed_members.some((function(t){return t===e.id}))}));return e.length?e.map((function(e){return e.name})).join(", ")+" ".concat(i.isRemoved,"."):void 0}()),h.a.createElement("p",{className:"action-text"},u.added_teams&&u.added_teams.length>0&&function(){if(null===u.author){if(!u.added_teams)return"";var e=Object.values(m).filter((function(e){return u.added_teams.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else if(u.added_teams){var t=Object.values(m).filter((function(e){return u.added_teams.some((function(t){return t===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}}()),h.a.createElement("p",{className:"action-text"},u.removed_teams&&u.removed_teams.length>0&&function(){if(null===u.author)return"";if(u.removed_teams){var e=Object.values(m).filter((function(e){return u.removed_teams.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(i.isRemoved,".")}}())):null):h.a.createElement("div",null,h.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},h.a.createElement("span",{className:"title"},b()),h.a.createElement(M,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(s(a.created_at.timestamp))},h.a.createElement("span",{className:"text-muted font-weight-normal"},c(a.created_at.timestamp)))))))})),H=b.a.div(l||(l=Object(u.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]))),W=h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,i=e.scrollRef,r=Object(E.ab)().fromNow,o=Object(E.gb)()._t;return h.a.createElement(H,{className:"topic-timeline timeline-item ".concat(n)},h.a.createElement("div",null,a.user&&h.a.createElement(T.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),h.a.createElement("div",null,h.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},h.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",h.a.createElement("strong",null,o("DASHBOARD.WORKSPACE_CREATED","created ::workspaceName:: workspace",{workspaceName:a.name}))),h.a.createElement("span",{className:"text-muted font-weight-normal"},r(a.created_at.timestamp)))))})),z=b.a.div(d||(d=Object(u.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]))),B=h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,i=e.tag,r=e.dictionary,o=e.workspace,c=e.scrollRef,s=Object(E.ab)().fromNow;return h.a.createElement(z,{className:"topic-timeline timeline-item ".concat(n)},h.a.createElement("div",null,a.user&&h.a.createElement(T.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:c})),h.a.createElement("div",null,h.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},h.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",h.a.createElement("strong",null,"ARCHIVED_WORKSPACE"===i?r.archived:r.unarchived," ",o.name," ",r.workspace)),h.a.createElement("span",{className:"text-muted font-weight-normal"},s(a.created_at.timestamp)))))})),G=n(787),V=n.n(G),Y=function(e){var t=e.actions,n=e.workspace,a=e.workspaceTimeline,i=a.page,r=a.maxPage,o=a.timeline,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;t.getTimeline({topic_id:n.id,skip:e,limit:a})};return h.a.createElement("nav",{className:"mt-3"},h.a.createElement(V.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:r,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var r=e.selected+1;r!==i&&(t.updateTimelinePage({id:n.id,page:r}),a.total_items!==Object.keys(o).length&&Object.keys(o).length<=10*r&&(10*r-Object.keys(o).length>0?c(Object.keys(o).length,10*r):c(Object.keys(o).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},K=b.a.div(m||(m=Object(u.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]))),q=h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspaceTimeline,i=e.actions,r=e.workspace,o=e.dictionary,c=Object(f.useRef)(null),s=Object(f.useState)(!1),l=Object(g.a)(s,2),d=l[0],m=l[1];return Object(f.useEffect)((function(){a||!r||d||(m(!0),i.getTimeline({topic_id:r.id,skip:0,limit:10},(function(){m(!1)})))}),[a,r,d]),h.a.createElement(K,{className:"timeline-panel card ".concat(n),ref:c},h.a.createElement("div",{className:"card-body"},h.a.createElement("h5",{className:"card-title"},o.timeline),h.a.createElement("div",{className:"timeline"},a&&Object.values(a.timeline).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(a.page>1?10*a.page-10:0,10*a.page).map((function(e){switch(e.tag){case"CHAT_BOT":return h.a.createElement(U,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"POST":return h.a.createElement(P,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"ICON":case"DOCUMENT":return h.a.createElement(A,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"TOPIC":return h.a.createElement(W,{key:e.id,data:e.item,dictionary:o,scrollRef:c.current});case"UNARCHIVED_WORKSPACE":case"ARCHIVED_WORKSPACE":return h.a.createElement(B,{key:e.id,data:e.item,tag:e.tag,dictionary:o,workspace:r,scrollRef:c.current});default:return null}})))),a&&a.total_items>10&&h.a.createElement(Y,{workspaceTimeline:a,actions:i,workspace:r}))})),Z=n(819),J=b.a.div(p||(p=Object(u.a)(["\n  overflow: auto !important;\n  min-height: calc(100vh - 100px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));t.default=h.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,i=e.isMember,r=e.match,o=e.actions,c=e.workspaceTimeline,s=e.workspace,l=r.params,d=Object(E.gb)()._t,m=Object(E.K)().recentPosts,p=window.innerWidth,u=function(){o.showModal(s,"edit","workspace")};Object(E.r)();var f={aboutThisWorkspace:d("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:d("TEAM","Team"),timeline:d("TIMELINE","Timeline"),noRecentPosts:d("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:d("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:d("FILE_ATTACHMENTS","File attachments"),peopleExternal:d("PEOPLE.EXTERNAL","External"),peopleInvited:d("PEOPLE.INVITED","Invited"),emptyTeam:d("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:d("DASHBOARD.SHOW_MORE","Show more"),showLess:d("DASHBOARD.SHOW_LESS","Show less"),attachedFile:d("ATTACHED_A_FILE","attached a file"),sharedThePost:d("SHARED_THE_POST","shared the post"),hasJoined:d("TIMELINE.HAS_JOINED","has joined"),hasLeft:d("TIMELINE.HAS_LEFT","has left"),youJoined:d("TIMELINE.YOU_JOINED","You joined"),youLeft:d("TIMELINE.YOU_LEFT","You left"),isAdded:d("TIMELINE.IS_ADDED","is added"),isRemoved:d("TIMELINE.IS_REMOVED","is removed"),createdThePost:d("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:d("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),remove:d("TEAM.REMOVE","Remove"),leave:d("TEAM.LEAVE","Leave"),leaveWorkspace:d("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:d("TIMELINE.ARCHIVED","archived"),unarchived:d("TIMELINE.UNARCHIVED","unarchived"),workspace:d("TIMELINE.WORKSPACE","workspace"),created:d("TIMELINE.CREATED","created"),resend:d("TEAM.RESEND","Resend"),cancel:d("MODAL.CANCEL","Cancel"),resendInvite:d("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:d("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:d("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:d("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:d("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:d("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:d("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:d("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:d("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:d("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:d("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:d("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:d("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:d("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:d("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:d("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:d("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:d("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:d("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:d("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:d("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:d("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:d("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:d("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:d("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:d("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:d("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:d("ROLE.ADVISOR","Advisor"),roleApprover:d("ROLE.APPROVER","Approver"),roleClient:d("ROLE.CLIENT","Client"),roleCommunicationLead:d("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:d("ROLE.DESIGNER","Designer"),roleDeveloper:d("ROLE.DEVELOPER","Developer"),roleFreelancer:d("ROLE.FREELANCER","Freelancer"),roleSupervisor:d("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:d("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:d("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:d("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:d("ROLE.WATCHER","Watcher"),sendInviteManually:d("TEAM.SEND_INVITE_MANUALLY","Send invite manually"),openPost:d("SYSTEM.OPEN_POST","Open post")},b=!1;return s&&0===s.active&&(b=!0),h.a.createElement(J,{className:"container-fluid fadeIn ".concat(n)},h.a.createElement("div",{className:"row"},null===s?h.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):h.a.createElement(h.a.Fragment,null,p>620?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-md-6"},h.a.createElement(Z.c,{isMember:i,workspace:s,onEditClick:u,isExternal:a,dictionary:f}),h.a.createElement(q,{workspaceTimeline:c,actions:o,workspace:s,dictionary:f})),h.a.createElement("div",{className:"col-md-6"},h.a.createElement(Z.d,{workspace:s,actions:o,onEditClick:u,isMember:i,isExternal:a,dictionary:f}),h.a.createElement(Z.e,{posts:m,dictionary:f,disableOptions:b}))):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"col-md-12"},h.a.createElement(Z.c,{isMember:i,workspace:s,onEditClick:u,isExternal:a,dictionary:f}),h.a.createElement(Z.d,{workspace:s,onEditClick:u,isMember:i,isExternal:a,dictionary:f}),h.a.createElement(Z.e,{posts:m,dictionary:f,disableOptions:b}),h.a.createElement(q,{workspaceTimeline:c,actions:o,params:l,dictionary:f}))))))}))},816:function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return Y})),n.d(t,"a",(function(){return re}));n(805);var a,i,r,o,c,s,l,d,m,p,u,f,h,b,E,g,O,v,_,w,T=n(5),N=n(0),k=n.n(N),y=n(4),A=y.a.div(a||(a=Object(T.a)([""]))),j=y.a.span(i||(i=Object(T.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),C=k.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,i=e.todoActions,r=e.setFilter,o=e.filter,c=e.count;return k.a.createElement(A,{className:"todo-sidebar bottom-modal-mobile ".concat(n)},k.a.createElement("div",{className:"card"},k.a.createElement("div",{className:"card-body"},k.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return i.createFromModal()}},a.createNewTodoItem)),k.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},k.a.createElement("div",{className:"list-group list-group-flush"},k.a.createElement(j,{onClick:r,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},k.a.createElement("span",{className:"text-secondary fa fa-circle mr-2"}),a.statusAll,c&&c.all>0&&k.a.createElement("span",{className:"small ml-auto"},c.all)),k.a.createElement(j,{onClick:r,"data-filter":"OVERDUE",active:"OVERDUE"===o,className:"list-group-item d-flex align-items-center"},k.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),a.statusExpired,c&&c.overdue>0&&k.a.createElement("span",{className:"small ml-auto"},c.overdue)),k.a.createElement(j,{onClick:r,"data-filter":"TODAY",active:"TODAY"===o,className:"list-group-item d-flex align-items-center"},k.a.createElement("span",{"data-filter":"TODAY"},k.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),a.statusToday),c&&c.today>0&&k.a.createElement("span",{className:"small ml-auto"},c.today)),k.a.createElement(j,{onClick:r,"data-filter":"NEW",active:"NEW"===o,className:"list-group-item d-flex align-items-center"},k.a.createElement("span",{"data-filter":"NEW"},k.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),a.statusUpcoming),c&&c.new>0&&k.a.createElement("span",{className:"small ml-auto"},c.new)),k.a.createElement(j,{onClick:r,"data-filter":"ASSIGNED_TO_OTHERS",active:"ASSIGNED_TO_OTHERS"===o,className:"list-group-item d-flex align-items-center"},k.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},k.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByMe),c&&c.assigned_to_others>0&&k.a.createElement("span",{className:"small ml-auto"},c.assigned_to_others)),k.a.createElement(j,{onClick:r,"data-filter":"ADDED_BY_OTHERS",active:"ADDED_BY_OTHERS"===o,className:"list-group-item d-flex align-items-center"},k.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},k.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByOthers),c&&c.added_by_others>0&&k.a.createElement("span",{className:"small ml-auto"},c.added_by_others))))))})),S=n(12),x=y.a.div(r||(r=Object(T.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),I=k.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.clearSearch,i=e.onEnter,r=e.dictionary,o=e.onSearchChange,c=e.searchValue;return k.a.createElement(x,{className:"todos-header app-action ".concat(n)},k.a.createElement("div",{className:"action-left"},k.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},k.a.createElement(S.s,{icon:"menu"}))),k.a.createElement("div",{className:"action-right"},k.a.createElement("div",{className:"input-group"},k.a.createElement("input",{type:"text",onKeyDown:i,onChange:o,value:c,className:"form-control",placeholder:r.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==c.trim()&&k.a.createElement("button",{onClick:a,className:"btn-cross",type:"button"},k.a.createElement(S.s,{icon:"x"})),k.a.createElement("div",{className:"input-group-append"},k.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},k.a.createElement(S.s,{icon:"search"}))))))})),R=n(1),P=n(7),D=n(19),L=n(22),F=n(6),M=n(46),U=Object(y.a)(S.s)(o||(o=Object(T.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),H=y.a.div(c||(c=Object(T.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),W=y.a.li(s||(s=Object(T.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .todo-title {\n    text-decoration: ",";\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n    .avatars-container {\n      min-width: 40px;\n    }\n  }\n"])),(function(e){return e.isDone?"line-through":"none"})),z=y.a.div(l||(l=Object(T.a)(["\n  max-height: 50px;\n  > * {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),B=y.a.div(d||(d=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]))),G=y.a.div(m||(m=Object(T.a)(["\n  min-width: 142px;\n  text-align: right;\n  @media all and (max-width: 480px) {\n    min-width: 70px;\n  }\n"]))),V=y.a.div(p||(p=Object(T.a)(["\n  @media all and (max-width: 480px) {\n    flex-flow: row wrap;\n  }\n"]))),Y=function(e){var t=e.todo,n=e.todoActions,a=e.handleLinkClick,i=e.dictionary,r=e.todoFormat,o=e.todoFormatShortCode,c=e.getFileIcon,s=e.showWsBadge,l=e.handleRedirectToWorkspace,d=Object(F.c)(),m=Object(N.useState)("DONE"===t.status),p=Object(P.a)(m,2),u=p[0],f=p[1],h=Object(F.d)((function(e){return e.files.fileBlobs})),b=Object(N.useRef)(null);Object(N.useEffect)((function(){b.current&&b.current.querySelectorAll("img").forEach((function(e){var n=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=t.files.find((function(e){return n.includes(e.code)}));a&&h[a.id]&&(e.setAttribute("src",h[a.id]),e.setAttribute("data-id",a.id))}else{e.classList.add("has-listener");var i=t.files.find((function(e){return n.includes(e.code)}));i&&h[i.id]&&(e.setAttribute("src",h[i.id]),e.setAttribute("data-id",i.id))}}));var e=t.files.filter((function(e){return e.type&&e.type.includes("image")}));e.length&&e.forEach((function(e){h[e.id]||M.sessionService.loadSession().then((function(t){var n=t.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:n,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var n=URL.createObjectURL(t);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};d(Object(L.pb)(e,t))}({id:e.id,src:n})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[t.files,t.description,b]),Object(N.useEffect)((function(){"DONE"!==t.status||u?"DONE"!==t.status&&u&&n.markDone(t):n.markUnDone(t)}),[u]);var E=function(e){e.stopPropagation(),e.preventDefault(),n.updateFromModal(t)},g=function(e){e.preventDefault(),t.link_type?a(e,t):n.updateFromModal(t)},O=t.assigned_to&&t.assigned_to.id!==t.user||null!==t.workspace&&null===t.assigned_to||null===t.workspace&&null!==t.assigned_to&&t.assigned_to.id!==t.user||t.assigned_to&&t.author&&t.assigned_to.id!==t.author.id;return k.a.createElement(k.a.Fragment,null,k.a.createElement(W,{className:"reminder-list",isDone:u},t.workspace&&s&&k.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return l(e,t)}},k.a.createElement("span",{className:"badge ml-4 badge-light border-0"},t.workspace.name)),k.a.createElement("div",{className:"d-flex align-items-center reminder-content"},k.a.createElement("span",{className:"custom-control custom-checkbox mr-2"},k.a.createElement(S.t,{content:"DONE"===t.status?i.actionMarkAsUndone:i.actionMarkAsDone},k.a.createElement(D.m,{checked:u,onClick:function(e){f(!u)}}))),k.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3 ".concat(u&&"text-muted"),onClick:g},k.a.createElement("span",{className:"todo-title"},t.title),t.description&&!u&&k.a.createElement(z,{ref:b,className:"text-truncate",dangerouslySetInnerHTML:{__html:t.description}}),!u&&t.files.map((function(e){return k.a.createElement("span",{key:"".concat(t.id).concat(e.file_id),onClick:function(n){return function(e,t,n){e.preventDefault(),e.stopPropagation();var a={files:t.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{filename:e.name})})),file_id:n.file_id};d(Object(L.cc)(a))}(n,t.files,e)}},c(e.mime_type))}))),k.a.createElement(H,{className:"hover-btns ml-1"},k.a.createElement(U,{icon:"pencil",onClick:E}),k.a.createElement(U,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault(),n.removeConfirmation(t)}})),k.a.createElement(V,{className:"d-flex align-items-center ml-auto"},k.a.createElement(B,{className:"".concat(u&&"text-muted")},k.a.createElement(U,{icon:"calendar"}),k.a.createElement(S.t,{content:t.remind_at?r(t.remind_at.timestamp):i.addDate},k.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"Yesterday"===o(e.remind_at.timestamp)?"text-warning":"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(t)),onClick:E},t.remind_at?o(t.remind_at.timestamp,"MM/DD/YYYY"):i.addDate))),k.a.createElement(G,null,null!==t.link_type&&k.a.createElement("span",{className:"badge mr-3 badge-light todo-type-badge ".concat(u&&"text-muted"),onClick:g},function(e){switch(e.link_type){case"POST":return i.typePost;case"CHAT":return i.typeChat;case"POST_COMMENT":return i.typePostComment;default:return null}}(t))),k.a.createElement("div",{className:"avatars-container"},null!==t.author&&k.a.createElement(S.a,{name:t.author.name,tooltipName:i.reminderAuthor,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,id:t.author.id}),O&&k.a.createElement(k.a.Fragment,null,k.a.createElement(U,{icon:"chevron-right"}),k.a.createElement(S.a,{name:t.assigned_to?t.assigned_to.name:t.workspace.name,tooltipName:i.reminderAssignedTo,imageLink:t.assigned_to?t.assigned_to.profile_image_link:t.workspace&&t.workspace.team_channel?t.workspace.team_channel.icon_link:null,id:t.assigned_to?t.assigned_to.id:t.workspace.id,type:t.assigned_to?"USER":"TOPIC",noDefaultClick:!t.assigned_to})))))))},K=n(45),q=n(11),Z=y.a.div(u||(u=Object(T.a)(["\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .ws-name {\n    line-height: 1.45;\n  }\n"]))),J=y.a.span(f||(f=Object(T.a)(["\n  font-weight: 700;\n  cursor: pointer;\n"]))),X=function(e){var t=e.className,n=void 0===t?"":t,a=e.id,i=void 0===a?"":a,r=e.handleClick,o=e.active,c=e.headerText,s=void 0===c?"":c,l=e.params,d=e.workspaceName,m=e.handleSort,p=e.sortByDate,u=e.dictionary;return k.a.createElement(Z,{className:n},k.a.createElement(J,{className:"badge badge-light",onClick:r,id:i},k.a.createElement(S.s,{icon:o?"arrow-down":"arrow-up",width:16,height:16,className:"mr-1"}),s),l.hasOwnProperty("workspaceId")?k.a.createElement("div",{className:"d-flex"},k.a.createElement("span",{className:"badge badge-light mr-1 ws-name"},d),k.a.createElement(S.t,{content:p?u.sortDate:u.sortAlpha},k.a.createElement("span",{className:"badge badge-light",onClick:m},k.a.createElement(S.s,{icon:p?"arrow-down":"arrow-up",width:16,height:16})))):k.a.createElement(S.t,{content:p?u.sortDate:u.sortAlpha},k.a.createElement("span",{className:"badge badge-light",onClick:m},k.a.createElement(S.s,{icon:p?"arrow-down":"arrow-up",width:16,height:16}))))},Q=y.a.div(h||(h=Object(T.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),$=function(e){var t=e.dictionary;return k.a.createElement(Q,null,k.a.createElement("h3",null,t.noItemsFoundHeader),k.a.createElement("h5",null,t.noItemsFoundText," "))},ee=y.a.div(b||(b=Object(T.a)(["\n  .badge.badge-light {\n    background: rgba(175, 184, 189, 0.2);\n    border: 1px solid #f8f9fa;\n    color: #212529;\n    .dark & {\n      color: #fff;\n      background: rgb(175, 184, 189, 0.2) !important;\n      border: 1px solid rgb(175, 184, 189, 0.2);\n    }\n  }\n"]))),te=y.a.ul(E||(E=Object(T.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  .list-group-item:last-child {\n    border-bottom: none;\n  }\n  li:last-child {\n    border-bottom: none;\n  }\n"]))),ne=function(e){var t=e.className,n=void 0===t?"":t,a=e.active,i=e.handleHeaderClick,r=e.headerText,o=e.dictionary,c=e.items,s=e.ItemList,l=e.showEmptyState,d=void 0===l||l,m=e.listGroupClassname,p=void 0===m?"":m,u=e.params,f=e.workspaceName,h=e.handleSort,b=e.sortByDate;return k.a.createElement(ee,{className:n},k.a.createElement(X,{active:a,headerText:r,handleClick:i,params:u,workspaceName:f,handleSort:h,sortByDate:b,dictionary:o}),0===c.length&&d&&a&&k.a.createElement($,{dictionary:o}),c.length>0&&a&&k.a.createElement(te,{className:p},c.map((function(e){return s(e)}))),e.children)},ae=y.a.div(g||(g=Object(T.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n'])),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),ie=Object(y.a)(ne)(O||(O=Object(T.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]))),re=k.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,i=e.isLoaded,r=e.todoActions,o=e.todoItems,c=e.doneTodoItems,s=e.workspaceName,l=void 0===s?null:s,d=Object(q.ab)(),m=d.todoFormat,p=d.todoFormatShortCode,u=Object(q.s)().getFileIcon,f=Object(q.O)(),h=Object(K.i)(),b=function(e,t){if(e.preventDefault(),"CHAT"===t.link_type)f.toChat(t.data.channel,t.data.chat_message);else{var n={id:"POST_COMMENT"===t.link_type&&t.data?t.data.post.id:t.link_id,title:t.title},a=null;t.workspace&&(a=Object(R.a)(Object(R.a)({},t.workspace),{},{folder_id:t.folder?t.folder.id:null,folder_name:t.folder?t.folder.name:null})),f.toPost({workspace:a,post:n})}},E=Object(N.useState)({todo:!0,done:!1}),g=Object(P.a)(E,2),O=g[0],v=g[1],_=Object(N.useState)(!0),w=Object(P.a)(_,2),T=w[0],y=w[1],A=function(e,t){e.preventDefault(),e.stopPropagation(),f.toWorkspace(t.workspace,"reminders")},j=function(){y(!T)},C=function(e){return Object.values(e).sort((function(e,t){return T?e.remind_at&&t.remind_at?e.remind_at.timestamp-t.remind_at.timestamp:e.remind_at&&null===t.remind_at?-1:null===e.remind_at&&t.remind_at?1:null===e.remind_at&&null===t.remind_at?e.title.localeCompare(t.title):void 0:e.title.localeCompare(t.title)}))};return k.a.createElement(ae,{className:"todos-body card app-content-body mb-4 ".concat(n),active:!o.length},!i&&k.a.createElement("div",{className:"card-body"},k.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),i&&k.a.createElement("div",{className:"card-body"},k.a.createElement(ie,{active:O.todo,dictionary:a,handleHeaderClick:function(){v({todo:!O.todo,done:O.done})},headerText:a.todo,items:C(o),params:h,workspaceName:l,sortByDate:T,handleSort:j,ItemList:function(e){return k.a.createElement(Y,{key:e.id,todo:e,todoActions:r,dictionary:a,handleLinkClick:b,todoFormat:m,todoFormatShortCode:p,getFileIcon:u,showWsBadge:!h.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:A})}}),k.a.createElement(ie,{active:O.done,dictionary:a,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){v({todo:O.todo,done:!O.done})},headerText:a.done,items:C(c),params:h,workspaceName:null,sortByDate:T,handleSort:j,ItemList:function(e){return k.a.createElement(Y,{key:e.id,todo:e,todoActions:r,dictionary:a,handleLinkClick:b,todoFormat:m,todoFormatShortCode:p,getFileIcon:u,showWsBadge:!h.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:A})}})))}));y.a.div(v||(v=Object(T.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    stroke: #191c20;\n  }\n  div:first-child {\n    padding-left: 20px;\n    padding-right: 0;\n  }\n"]))),y.a.span(_||(_=Object(T.a)(["\n  font-weight: 700;\n  cursor: pointer;\n  background: #f8f9fa !important;\n  border: 1px solid #f8f9fa;\n"]))),y.a.div(w||(w=Object(T.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"])))},817:function(e,t,n){"use strict";n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"c",(function(){return Y}));n(10);var a,i,r,o,c,s,l,d,m,p,u,f,h,b,E,g,O,v=n(1),_=n(7),w=n(5),T=n(0),N=n.n(T),k=n(6),y=n(862),A=n(4),j=n(13),C=n(12),S=n(11),x=(n(45),n(15),n(16)),I=(A.a.li(a||(a=Object(w.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"])),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Object(A.a)(C.s)(i||(i=Object(w.a)(["\n  width: 12px !important;\n"]))),A.a.li(r||(r=Object(w.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"])),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),Object(A.a)(C.s)(o||(o=Object(w.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]))),A.a.ul(c||(c=Object(w.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"])),(function(e){return e.maxHeight})),Object(A.a)(C.s)(s||(s=Object(w.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]))),n(9)),R=n(54),P=n.n(R),D=A.a.div(l||(l=Object(w.a)(["\n  position: relative;\n  display: flex;\n  margin-left: 6px;\n  align-items: center;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n  .feather.feather-pencil {\n    width: 14px;\n    height: 14px;\n  }\n"]))),L=Object(A.a)(P.a)(d||(d=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),F=N.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(S.bb)(),i=Object(S.gb)()._t,r={archiveThisWorkspace:i("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:i("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),archiveWorkspace:i("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:i("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:i("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:i("BUTTON.CANCEL","Cancel"),archiveBodyText:i("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:i("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),worskpaceSettings:i("TOOLTIP.WORKSPACE_SETTINGS","Workspace settings")},o=Object(T.useRef)(),c=Object(k.c)(),s=Object(k.d)((function(e){return e.workspaces.activeTopic})),l=Object(k.d)((function(e){return e.workspaces.folders})),d=Object(T.useState)(!1),m=Object(_.a)(d,2),p=m[0],u=m[1],f=function(){u(!p)},h=function(e){b(e.target.dataset.name)},b=function(e){var t={mode:"edit",item:s};t="folder"===e?Object(v.a)(Object(v.a)({},t),{},{type:"workspace_folder",item:l[s.folder_id]}):Object(v.a)(Object(v.a)({},t),{},{type:"workspace_create_edit"}),c(Object(j.a)(t))},E=function(){var e={id:s.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:s.is_external,push_unarchived:1};c(Object(x.rb)(e)),a.success(N.a.createElement("span",null,N.a.createElement("b",null,s.name," workspace is un-archived.")))};Object(S.G)(o,f,p);var g=s?s.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[];return Object(S.C)(s&&s.member_ids.length?Object(I.a)(new Set(g)):[])?N.a.createElement(D,{className:"nav-item ".concat(n),ref:o},N.a.createElement("div",null,N.a.createElement("span",{className:"dropdown-toggle ".concat(p?"show":""),"data-toggle":"dropdown",onClick:function(){s&&null!==s.folder_id||s&&0===s.active?f():b("workspace")}},N.a.createElement(L,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:r.worskpaceSettings},N.a.createElement(C.s,{icon:"pencil"}))),N.a.createElement("div",{className:"dropdown-menu ".concat(p?"show":"")},1===s.active?N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:h},"Folder settings"),N.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:h},"Workspace settings")):N.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){var e={type:"confirmation",cancelText:r.cancel,headerText:r.unarchiveWorkspace,submitText:r.unarchiveWorkspace,bodyText:r.unarchiveBodyText,actions:{onSubmit:E}};c(Object(j.a)(e))}},"Un-archive workspace")))):null})),M=(A.a.li(m||(m=Object(w.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"])),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),Object(A.a)(C.s)(p||(p=Object(w.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]))),A.a.div(u||(u=Object(w.a)(["\n  display: flex;\n  padding-top: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n  .feather-star {\n    top: -2px;\n    right: -2px;\n  }\n  .feather-folder {\n    margin-right: 5px;\n    width: 0.7rem;\n    height: 0.7rem;\n  }\n  .workspace-folder-name {\n    font-size: 0.7rem;\n  }\n"])))),U=A.a.div(f||(f=Object(w.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  align-self: center;\n"]))),H=Object(A.a)(C.s)(h||(h=Object(w.a)(["\n  min-width: 0.8rem;\n  min-height: 0.8rem;\n  width: 0.8rem;\n  height: 0.8rem;\n"]))),W=A.a.div(b||(b=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  color: #cbd4db;\n  .feather {\n    margin-left: 5px;\n  }\n"]))),z=A.a.div(E||(E=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  color: #8b8b8b;\n"]))),B=function(e){var t=e.isExternal,n=e.onSelectWorkspace,a=e.workspace,i=e.isCompanyWs,r=e.companyName;return N.a.createElement(M,{onClick:function(){n(a)}},N.a.createElement(Y,{avatarClassName:"avatar-sm",workspace:a,isCompanyWs:i,companyName:r}),N.a.createElement(U,null,N.a.createElement(W,null,N.a.createElement("span",{className:"text-truncate"},i&&r?r:a.name),1===a.is_lock&&N.a.createElement(H,{icon:"lock"}),a.is_shared&&!t&&N.a.createElement(H,{icon:"eye"})),a.folder_name&&N.a.createElement(z,{className:"workspace-folder-name"},N.a.createElement(H,{icon:"folder"}),N.a.createElement("span",{className:"text-truncate"},a.folder_name))))},G=A.a.div(g||(g=Object(w.a)(["\n  position: relative;\n"]))),V=Object(A.a)(y.a)(O||(O=Object(w.a)(["\n  position: absolute;\n  right: -7px;\n  top: -4px;\n  z-index: 1;\n  padding: 4px 8px;\n  font-size: 10px;\n  &.badge.badge-primary {\n    background: #3f034a;\n  }\n"]))),Y=function(e){var t=e.avatarClassName,n=void 0===t?"":t,a=e.onSelectWorkspace,i=void 0===a?null:a,r=e.workspace,o=e.isCompanyWs,c=e.companyName;return N.a.createElement(G,{className:"workspace-icon mr-3"},r.hasOwnProperty("workspace_counter_entries")&&r.workspace_counter_entries>0&&N.a.createElement(V,{className:"badge badge-primary badge-pill ml-1"},r.workspace_counter_entries>99?"99+":r.workspace_counter_entries),N.a.createElement(C.a,{className:n,forceThumbnail:!1,type:"TOPIC",imageLink:r.team_channel?r.team_channel.icon_link:null,id:r.id,name:o&&c?c:r.name,onClick:i,noDefaultClick:!i,showSlider:!1}))}},818:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return K}));n(791),n(796),n(814);var a,i,r,o,c,s,l,d,m,p,u,f,h=n(7),b=n(5),E=n(0),g=n.n(E),O=n(6),v=n(45),_=n(4),w=n(12),T=n(72),N=n(11),k=n(23),y=_.a.div(a||(a=Object(b.a)([""]))),A=_.a.ul(i||(i=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),j=Object(_.a)(w.k)(r||(r=Object(b.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),C=g.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(v.h)(),i=Object(N.gb)()._t,r={people:i("ALL_PEOPLE_PAGE_HEADER_LINKS.PEOPLE","People"),teams:i("ALL_PEOPLE_PAGE_HEADER_LINKS.TEAMS","Teams"),organization:i("ALL_PEOPLE_PAGE_HEADER_LINKS.ORGANIZATION","Organization chart")};return g.a.createElement(g.a.Fragment,null,g.a.createElement(y,{className:"".concat(n)},g.a.createElement(A,{className:"navbar-nav"},g.a.createElement("li",{className:"nav-item"},g.a.createElement(j,{to:"/system/people",active:"/system/people"===a.pathname},r.people)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(j,{to:"/system/people/teams",active:a.pathname.startsWith("/system/people/teams")},r.teams)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(j,{to:"/system/people/organization",active:"/system/people/organization"===a.pathname},r.organization)))))})),S=n(13),x=_.a.li(o||(o=Object(b.a)(["\n  @media (max-width: 414px) {\n    display: none;\n  }\n  @media (max-width: 700px) {\n    position: absolute;\n    right: 100px;\n    top: 10px;\n  }\n"]))),I=function(e){var t=e.dictionary,n=Object(v.g)(),a=Object(O.d)((function(e){return e.session.user})),i=Object(O.d)((function(e){return e.users.users})),r=Object(O.d)((function(e){return e.users.teams})),o=Object(N.ib)(),c=Object(N.bb)(),s=Object(O.c)(),l="admin"===a.role.name||"owner"===a.role.name;return g.a.createElement(x,{className:"nav-item-last ml-auto"},l&&g.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){s(Object(S.a)({mode:"create",type:"team",team:null}))}},g.a.createElement(w.s,{className:"mr-2",icon:"user-plus"})," ",t.btnTeam),n.location.pathname.startsWith("/system/people/teams/")&&g.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=n.location.pathname.split("/system/people/teams/")[1].split("/")[0],t=r[e],a={mode:"edit",type:"team",team:t};t&&s(Object(S.a)(a))}},g.a.createElement(w.s,{className:"mr-2",icon:"user-plus"})," ",t.updateTeam),"/system/people"===n.location.pathname&&g.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"driff_invite_users",hasLastName:!0,invitations:[],fromRegister:!1,onPrimaryAction:function(e,t,n){0===e.length&&n.closeModal();var a=0;e.forEach((function(r,s){Object.values(i).some((function(e){return e.email===r.email}))?(c.error(g.a.createElement(g.a.Fragment,null,"Email ",g.a.createElement("b",null,r.email)," is already taken!")),s===e.length-1&&(a===e.length&&n.closeModal(),t())):o.inviteAsInternalUsers({email:r.email,first_name:r.first_name,last_name:r.last_name,team_ids:r.teams?r.teams.map((function(e){return e.id})):[]},(function(i,o){i&&(c.error("Something went wrong with ".concat(r.first_name," ").concat(r.last_name)),n.deleteItemByIndex(n.invitationItems.findIndex((function(e){return e.email===r.email})))),o&&(a+=1,n.deleteItemByIndex(n.invitationItems.findIndex((function(e){return e.email===r.email}))),c.success("You have invited ".concat(r.first_name," ").concat(r.last_name))),s===e.length-1&&(a===e.length&&n.closeModal(),t())}))}))}};s(Object(S.a)(e))}},g.a.createElement(w.s,{className:"mr-2",icon:"user-plus"})," ",t.btnInviteUsers))},R=n(785),P=_.a.div(c||(c=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n\n  &.page-notifications,\n  &.page-profile,\n  &.page-settings,\n  &.page-system {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 4px;\n          display: flex;\n          align-items: center;\n          height: 40px;\n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n            overflow: auto;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  svg.feather-home {\n    //color: rgb(80, 80, 80);\n    color: #8b8b8b;\n    width: 20px;\n    height: 20px;\n    .dark & {\n      color: #fff;\n    }\n  }\n  .dash {\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n  .nav-item-last {\n    list-style: none;\n  }\n"]))),D=_.a.h2(s||(s=Object(b.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),L=Object(_.a)(w.s)(l||(l=Object(b.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFavorite&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),F=g.a.memo((function(){var e=Object(v.j)(),t=Object(O.d)((function(e){return e.settings})),n=t.driff,a=t.user.GENERAL_SETTINGS.dark_mode,i=Object(O.d)((function(e){return e.global.unreadCounter})),r=Object(O.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),o=Object(O.d)((function(e){return Object.values(e.workspaces.workspaces).find((function(e){return r&&r.id===e.id}))})),c=Object(N.gb)()._t,s={pageTitleDashboard:c("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:c("PAGE_TITLE.POSTS","Posts"),pageTitleChat:c("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:c("PAGE_TITLE.FILES","Files"),pageTitleNotifications:c("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:c("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:c("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:c("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:c("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:c("PAGE_TITLE.TODOS","Reminders"),pageTitleSystemPeople:c("PAGE_TITLE.SYSTEM_PEOPLE","All people"),generalSearch:c("GENERAL.SEARCH","Search"),generalNotifications:c("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:c("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===a?c("SETTINGS.DARK_MODE","dark mode"):c("SETTINGS.LIGHT_MODE","light mode")}),bots:c("SIDEBAR.BOTS","Bots"),adminSettings:c("PAGE_TITLE.ADMIN_SETTINGS","Driff settings"),btnTeam:c("BUTTON.TEAM","Team"),btnInviteUsers:c("BUTTON.INVITE_USERS","Invite users"),updateTeam:c("TEAM_MODAL.UPDATE_TEAM_BTN","Update team")},l=Object(O.c)(),d=Object(E.useState)(s.pageTitleDashboard),m=Object(h.a)(d,2),p=m[0],u=m[1],f=function(){if(o){var e={id:o.id,workspace_id:0,is_pinned:o.is_favourite?0:1};l(Object(k.g)(e))}};return Object(E.useEffect)((function(){switch(e.params.page){case"posts":u(s.pageTitlePosts);break;case"chat":u(s.pageTitleChat);break;case"files":u(s.pageTitleFiles);break;case"notifications":u(s.pageTitleNotifications);break;case"people":u(s.pageTitlePeople);break;case"profile":u(s.pageTitleProfile);break;case"search":u(s.pageTitleSearch);break;case"settings":u(s.pageTitleSettings);break;case"todos":u(s.pageTitleTodos);break;default:u(s.pageTitleDashboard)}i.chat_message>=1||i.unread_channel>0?document.title="".concat(p," \u2039 * ").concat(n.company_name," @ Driff"):document.title="".concat(p," \u2039 ").concat(n.company_name," @ Driff")}),[e.params.page,l,p,n.company_name]),g.a.createElement(P,{className:"page-".concat(e.params.page)},g.a.createElement("div",{className:"navbar-left"},g.a.createElement("div",{className:"navbar-nav"},g.a.createElement("div",{className:"navbar-wrap"},g.a.createElement("div",{className:"navbar-top"},g.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},g.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},g.a.createElement(w.s,{icon:"menu"}))),g.a.createElement(R.a,null),g.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},function(){switch(e.params.page){case"notifications":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"bell"}),g.a.createElement(D,null,s.pageTitleNotifications));case"profile":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"user"}),g.a.createElement(D,null,s.pageTitleProfile));case"settings":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"settings"}),g.a.createElement(D,null,s.pageTitleSettings));case"system":return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"user"}),g.a.createElement(D,null,s.pageTitleSystemPeople));default:return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.s,{className:"mr-2",icon:"home"})," ",g.a.createElement(D,null,n.company_name),r&&g.a.createElement(L,{className:"mr-2",icon:"star",onClick:f,isFavorite:o&&o.is_favourite}))}}())),!["system","notifications","profile","settings"].includes(e.params.page)&&g.a.createElement("div",{className:"navbar-bottom"},g.a.createElement("div",{className:"navbar-main"},g.a.createElement(W,{dictionary:s}))),["system"].includes(e.params.page)&&g.a.createElement("div",{className:"navbar-bottom"},g.a.createElement("div",{className:"navbar-main"},g.a.createElement(C,{dictionary:s,match:e}))))),["system"].includes(e.params.page)&&g.a.createElement(I,{dictionary:s})),g.a.createElement("div",null,g.a.createElement(T.b,{dictionary:s})))})),M=(n(797),n(798),n(823),_.a.div(d||(d=Object(b.a)([""])))),U=_.a.ul(m||(m=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),H=Object(_.a)(w.k)(p||(p=Object(b.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),W=g.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,i=Object(O.d)((function(e){return e.global.unreadCounter})),r=Object(O.d)((function(e){return e.chat.lastVisitedChannel})),o=Object(O.d)((function(e){return e.session.user})),c=Object(O.d)((function(e){return e.global.todos.count}));return g.a.createElement(g.a.Fragment,null,g.a.createElement(M,{className:"".concat(n)},g.a.createElement(U,{className:"navbar-nav"},g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/dashboard"},a.pageTitleDashboard)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:null!==r&&r.hasOwnProperty("code")?"/chat/".concat(r.code):"/chat"},a.pageTitleChat," ",g.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},i.chat_message>0?i.chat_message:null))),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/posts"},a.pageTitlePosts," ",g.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},i.general_post>0?i.general_post:null))),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/todos"},a.pageTitleTodos," ",g.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},c.todo_with_date>0?c.todo_with_date:null))),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/files"},a.pageTitleFiles)),g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/people"},a.pageTitlePeople)),o.role&&["owner","admin"].includes(o.role.name)&&g.a.createElement("li",{className:"nav-item"},g.a.createElement(H,{to:"/admin-settings"},a.adminSettings)))))})),z=n(786),B=n(782),G=n(821),V=_.a.div(u||(u=Object(b.a)(["\n  padding: 2rem;\n"]))),Y=_.a.div(f||(f=Object(b.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n"]))),K=function(e){var t=e.users,n=Object(O.d)((function(e){return e.users.teams})),a=Object(O.d)((function(e){return e.settings.driff.company_name}));return g.a.createElement(V,null,g.a.createElement(z.a,{lineWidth:"2px",lineColor:"#8c3b9b",lineBorderRadius:"10px",label:g.a.createElement(Y,null,g.a.createElement("div",{className:"team-name mb-2"},g.a.createElement(w.s,{className:"mr-2",icon:"home"}),a),g.a.createElement("div",{className:"mb-1"},t.length," accounts"),g.a.createElement(B.a,{members:t}))},Object.values(n).filter((function(e){return 0===e.parent_team})).map((function(e){return g.a.createElement(G.a,{key:e.id,team:e,allTeams:Object.values(n)})}))))}},819:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I}));var a,i,r,o,c,s,l,d=n(7),m=n(5),p=n(0),u=n.n(p),f=n(4),h=n(12),b=f.a.div(a||(a=Object(m.a)(["\n  border-left: 5px solid #822492;\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .feather-edit {\n    color: #8b8b8b;\n  }\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n\n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),E=f.a.div(i||(i=Object(m.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]))),g=f.a.div(r||(r=Object(m.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"])),(function(e){return e.height})),O=u.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.onEditClick,i=e.workspace,r=e.isMember,o=e.isExternal,c=e.dictionary,s=Object(p.useState)(""),l=Object(d.a)(s,2),m=l[0],f=l[1],O=Object(p.useState)(null),v=Object(d.a)(O,2),_=v[0],w=v[1],T=Object(p.useState)(140),N=Object(d.a)(T,2),k=N[0],y=N[1],A={description:Object(p.useRef)(null)};return Object(p.useEffect)((function(){A.description.current&&(!0===_?setTimeout((function(){A.description.current.style.overflow=""}),[300]):!1===_&&(A.description.current.style.overflow="hidden"))}),[_,A.description.current]),Object(p.useEffect)((function(){i&&m!==i.description&&(f(i.description),w(null),A.description.current=null)}),[i]),u.a.createElement(b,{className:"dashboard-about-workspace card ".concat(n)},u.a.createElement("div",{className:"bg-overlay ".concat(null===_?"":!0===_?"show":"hide")}),u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},c.aboutThisWorkspace," ",!0===r&&!o&&1===i.active&&u.a.createElement(h.s,{icon:"edit",onClick:a})),i&&u.a.createElement(u.a.Fragment,null,u.a.createElement(E,{className:null===_?"":!0===_?"show":"hide"},u.a.createElement(g,{ref:function(e){null===A.description.current&&e&&(A.description.current=e,e.clientHeight>140?(y(e.clientHeight),w(!1)):w(null))},height:k,className:"dashboard-description ".concat(null===_?"":!0===_?"show":"hide"),dangerouslySetInnerHTML:{__html:i.description}}),null!==_&&u.a.createElement("div",{onClick:function(e){e.preventDefault(),w((function(e){return!e}))},className:"btn-toggle-show cursor-pointer mt-2"},_?c.showLess:c.showMore)))))})),v=n(781),_=n(6),w=n(11),T=f.a.div(o||(o=Object(m.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  .feather-plus {\n    color: #8b8b8b;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),N=u.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,i=e.onEditClick,r=e.isExternal,o=e.isMember,c=e.dictionary,s=e.actions,l=Object(p.useRef)(null),m=Object(p.useState)(!1),f=Object(d.a)(m,2),b=f[0],E=f[1],g=Object(w.bb)(),O=Object(_.d)((function(e){return e.session.user})),N=!o||0===a.active,k=a.members,y=function(){E((function(e){return!e}))},A=function(e,t){s.leave(e,t,(function(t,n){t||g.success(u.a.createElement(u.a.Fragment,null,c.leaveWorkspace,u.a.createElement("b",null,e.name)))}))},j=function(e,t){var n={topic_id:a.id,user_id:e.id,role:t};s.addRole(n)};return u.a.createElement(T,{className:"dashboard-team card ".concat(n),ref:l},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},c.team," ",!0===o&&!r&&1===a.active&&u.a.createElement(h.s,{onClick:i,icon:"plus"})),0===k.length?u.a.createElement(u.a.Fragment,null,c.emptyTeam):u.a.createElement("ul",{className:"list-group list-group-flush"},(b?k:k.slice(0,5)).map((function(e,t){return u.a.createElement(v.c,{key:e.id,member:e,onLeaveWorkspace:A,onAddRole:j,hideOptions:N,actions:s,workspace_id:a.id,dictionary:c,showMoreButton:4===t&&k.length>5&&!b,showLessButton:t===k.length-1&&k.length>5&&b,toggleShow:y,loggedUser:O,workspace:a})})))))})),k=n(45),y=n(91),A=f.a.div(c||(c=Object(m.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    color: #8b8b8b;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),j=u.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.posts,i=e.dictionary,r=e.disableOptions,o=Object(w.I)(),c=Object(k.j)(),s=function(e){o.openPost(e,c.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(p.useEffect)((function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}),[c.params.workspaceId]),u.a.createElement(A,{className:"recent-posts card ".concat(n)},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},i.recentPosts," ",u.a.createElement(h.s,{icon:"refresh-ccw",onClick:function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}})),a&&Object.keys(a).length?u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return u.a.createElement(y.e,{key:e.id,post:e,postActions:o,onOpenPost:s,disableOptions:r})}))):u.a.createElement("span",{className:"medium text-muted"},i.noRecentPosts)))})),C=f.a.div(s||(s=Object(m.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),S=function(e){var t=e.className,n=void 0===t?"":t,a=e.onEditClick,i=e.dictionary,r=e.actions,o=Object(p.useRef)(null),c=Object(_.d)((function(e){return e.users.users})),s=Object(_.d)((function(e){return e.session.user})),l=Object(p.useState)(!1),m=Object(d.a)(l,2),f=m[0],h=m[1],b=function(){h((function(e){return!e}))},E=Object.values(c).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,t){return e.name.localeCompare(t.name)}));return u.a.createElement(C,{className:"dashboard-team card ".concat(n),ref:o},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},i.team),u.a.createElement("ul",{className:"list-group list-group-flush"},(f?E:E.slice(0,5)).map((function(e,t){return u.a.createElement(v.c,{key:e.id,member:e,hideOptions:!0,onEditClick:a,actions:r,dictionary:i,showMoreButton:4===t&&E.length>5&&!f,showLessButton:t===E.length-1&&E.length>5&&f,showMore:f,toggleShow:b,loggedUser:s})})))))},x=f.a.div(l||(l=Object(m.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    color: #8b8b8b;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),I=u.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.posts,i=e.dictionary,r=e.disableOptions,o=Object(w.I)(),c=Object(k.j)(),s=function(e){o.openPost(e,c.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(p.useEffect)((function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}),[c.params.workspaceId]),u.a.createElement(x,{className:"recent-posts card ".concat(n)},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},i.recentPosts," ",u.a.createElement(h.s,{icon:"refresh-ccw",onClick:function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}})),a&&Object.keys(a).length?u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return u.a.createElement(y.e,{key:e.id,post:e,postActions:o,onOpenPost:s,disableOptions:r})}))):u.a.createElement("span",{className:"medium text-muted"},i.noRecentPosts)))}))},820:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l=n(5),d=n(0),m=n.n(d),p=n(45),u=n(4),f=n(11),h=n(13),b=n(6),E=n(15),g=n(33),O=n(9),v=n(1),_=n(786),w=n(782),T=n(12),N=n(821),k=u.a.div(a||(a=Object(l.a)(["\n  padding: 1rem;\n  width: 100%;\n  // overflow: auto;\n"]))),y=u.a.div(i||(i=Object(l.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]))),A=function(e){var t=e.dictionary,n=Object(b.d)((function(e){return e.users.users})),a=Object.values(n).filter((function(e){return"internal"===e.type})),i=Object.values(n).filter((function(e){return"external"===e.type})),r=Object(b.d)((function(e){return e.users.teams})),o=Object(b.d)((function(e){return e.users.teamsLoaded})),c=Object(b.d)((function(e){return e.users.usersLoaded})),s=Object(b.d)((function(e){return e.settings.driff.company_name})),l=[{id:"internal",name:t.internalAccounts,members:a,member_ids:a.map((function(e){return e.id})),parent_team:0},{id:"external",name:t.guestAccounts,members:i.map((function(e){return e.name&&""===e.name.trim()?Object(v.a)(Object(v.a)({},e),{},{name:e.email}):e})),member_ids:i.map((function(e){return e.id})),parent_team:0}],d=[].concat(l,Object(O.a)(Object.values(r))),u=Object(p.g)(),f=function(e){u.push("/system/people/teams/".concat(e.id,"/").concat(e.name))},h=[{id:null,name:s,members:Object.values(n),icon_link:null,icon:"home"}].concat(Object(O.a)(Object.values(n)));return m.a.createElement(k,null,c&&o&&m.a.createElement(_.a,{lineWidth:"2px",lineColor:"#8c3b9b",lineBorderRadius:"10px",label:m.a.createElement(y,null,m.a.createElement("div",{className:"team-name mb-1"},m.a.createElement(T.s,{className:"mr-2",icon:"home"}),s),m.a.createElement("div",{className:"mb-2"},Object.values(n).length," accounts"),m.a.createElement(w.a,{members:h}))},d.filter((function(e){return 0===e.parent_team})).map((function(e){return m.a.createElement(N.a,{key:e.id,team:e,allTeams:d,onSelectTeam:f})}))))},j=n(781),C=function(e){var t=e.loggedUser,n=e.onNameClick,a=e.onChatClick,i=e.dictionary,r=e.onUpdateRole,o=e.showOptions,c=e.onArchiveUser,s=e.onActivateUser,l=e.onChangeUserType,d=e.onDeleteUser,u=e.onResendInvite,E=e.onDeleteInvitedInternalUser,g=e.onAddUserToTeam,O=Object(p.i)(),v=Object(b.d)((function(e){return e.users.teams})),_=Object(b.d)((function(e){return e.users.users})),w=Object(b.d)((function(e){return e.users.roles})),T=Object(b.d)((function(e){return e.users.usersWithoutActivity})),N=Object(b.c)(),k=Object(f.gb)()._t,y=Object(f.bb)(),A=Object(f.Z)(),C=function(e){var t={type:"confirmation",headerText:k("REMOVE_TEAM_MEMBER_HEADER","Remove team member"),submitText:k("REMOVE_TEAM_MEMBER_BUTTON","Remove"),cancelText:k("BUTTON.CANCEL","CANCEL"),bodyText:k("REMOVE_TEAM_MEMBER_BODY","Are you sure you want to remove ::name::?",{name:e.name}),actions:{onSubmit:function(){var t={team_id:O.teamId,remove_member_ids:[e.id]};A.removeMember(t,(function(e,t){e||y.success(k("TOASTER.SUCCESS_REMOVE_TEAM_MEMBER","Successfully removed team member"))}))}}};N(Object(h.a)(t))};return Object.values(_).length&&v[O.teamId]?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-lg-12"},m.a.createElement("h4",null,v[O.teamId].name," ",v[O.teamId].members.length," members")),m.a.createElement("div",{className:"row"},Object.values(_).filter((function(e){return v[O.teamId].members.some((function(t){return t.id===e.id}))})).map((function(e){return m.a.createElement(j.a,{loggedUser:t,key:e.id,user:e,onNameClick:n,onChatClick:a,dictionary:i,onUpdateRole:r,showOptions:o,roles:w,onArchiveUser:c,onActivateUser:s,onChangeUserType:l,onDeleteUser:d,onResendInvite:u,onDeleteInvitedInternalUser:E,usersWithoutActivity:T,onAddUserToTeam:g,onDeleteTeamMember:C})})))):null},S=n(7),x=n(872),I=n(171),R=Object(u.a)(I.a)(r||(r=Object(l.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]))),P=function(e){var t=e.loggedUser,n=e.onNameClick,a=e.onChatClick,i=e.dictionary,r=e.onUpdateRole,o=e.showOptions,c=e.onArchiveUser,s=e.onActivateUser,l=e.onChangeUserType,p=e.onDeleteUser,u=e.onResendInvite,h=e.onDeleteInvitedInternalUser,E=e.onAddUserToTeam,g=Object(f.bb)(),v=Object(d.useState)(!1),_=Object(S.a)(v,2),w=_[0],T=_[1],N=Object(d.useState)(!1),k=Object(S.a)(N,2),y=k[0],A=k[1],C=Object(d.useState)(""),I=Object(S.a)(C,2),P=I[0],D=I[1],L=Object(b.d)((function(e){return e.users.users})),F=Object(b.d)((function(e){return e.users.roles})),M=Object(b.d)((function(e){return e.users.archivedUsers})),U=Object(b.d)((function(e){return e.users.usersWithoutActivity})),H=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot","huddle_bot"],W=[].concat(Object(O.a)(Object.values(L)),Object(O.a)(M)).filter((function(e){return!e.email||!H.includes(e.email)})).filter((function(e){if(["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email))return!1;if(w){if(1===e.active)return!1;if(""===e.name.trim())return!1}else{if(y)return!e.has_accepted&&e.active;if(1!==e.active)return!1}return""===P||!!(-1!==e.name.toLowerCase().search(P.toLowerCase())||-1!==e.email.toLowerCase().search(P.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(P.toLowerCase()))})).sort((function(e,t){return e.name.localeCompare(t.name)}));return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"people-header"},m.a.createElement("div",{className:"d-flex align-items-center people-search"},m.a.createElement(R,{value:P,closeButton:"true",onClickEmpty:function(){D("")},placeholder:i.searchPeoplePlaceholder,onChange:function(e){D(e.target.value)},autoFocus:!0}),m.a.createElement(x.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:w,id:"show_inactive",name:"show_inactive",type:"switch",onChange:function(){T((function(e){var t=!e;return t?g.success("Showing inactive members"):g.success("Showing active members only"),t})),y&&!w&&A(!1)},"data-success-message":"".concat(w?"Inactive users are shown":"Inactive users are no longer visible"),label:m.a.createElement("span",null,i.showInactiveMembers)}),m.a.createElement(x.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:y,id:"show_invited",name:"show_invited",type:"switch",onChange:function(){A((function(e){return!e})),w&&!y&&T(!1)},label:m.a.createElement("span",null,i.showInvited)}))),m.a.createElement("div",{className:"row"},W.map((function(e){return m.a.createElement(j.a,{loggedUser:t,key:e.id,user:e,onNameClick:n,onChatClick:a,dictionary:i,onUpdateRole:r,showOptions:o,roles:F,onArchiveUser:c,onActivateUser:s,onChangeUserType:l,onDeleteUser:p,onResendInvite:u,onDeleteInvitedInternalUser:h,showInactive:w,usersWithoutActivity:U,onAddUserToTeam:E})}))))},D=u.a.div(o||(o=Object(l.a)(["\n  padding: 2rem;\n  width: 100%;\n"]))),L=Object(u.a)(I.a)(c||(c=Object(l.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]))),F=function(e){var t=e.loggedUser,n=e.dictionary,a=e._t,i=e.showOptions,r=Object(b.d)((function(e){return e.users.teams})),o=Object(d.useState)(""),c=Object(S.a)(o,2),s=c[0],l=c[1];return m.a.createElement(D,null,m.a.createElement("div",{className:"people-header"},m.a.createElement("div",{className:"d-flex align-items-center people-search"},m.a.createElement(L,{value:s,closeButton:"true",onClickEmpty:function(){l("")},placeholder:n.searchTeamsPlaceholder,onChange:function(e){l(e.target.value)},autoFocus:!0}))),Object.values(r).length>0&&m.a.createElement("div",{className:"row mt-2"},Object.values(r).filter((function(e){return""===s||-1!==e.name.toLowerCase().search(s.toLowerCase())})).map((function(e){return m.a.createElement(j.b,{key:e.id,team:e,loggedUser:t,dictionary:n,_t:a,showOptions:i})}))))},M=u.a.div(s||(s=Object(l.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n\n  .people-search {\n    flex: 0 0 100%;\n    justify-content: flex-start;\n    padding-left: 0;\n    flex-flow: row wrap;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n  }\n  .card-body.structure {\n    overflow: auto;\n    margin: 1.5rem;\n    padding: 0;\n  }\n"])));t.default=m.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(f.jb)(),i=a.userActions,r=a.loggedUser,o=a.selectUserChannel,c=Object(b.d)((function(e){return e.users.roles})),s=Object(b.d)((function(e){return e.users.archivedUsers})),l=Object(b.d)((function(e){return e.users.usersWithoutActivityLoaded})),u=Object(p.g)(),O=Object(b.c)(),v=function(e){u.push("/profile/".concat(e.id,"/").concat(Object(E.h)(e.name)))},_=function(e){return o(e)},w=Object(f.gb)()._t,T={searchTeamsPlaceholder:w("PLACEHOLDER.SEARCH_TEAMS","Search teams"),searchPeoplePlaceholder:w("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:w("PEOPLE.EXTERNAL","External"),peopleInvited:w("PEOPLE.INVITED","Invited"),assignAsAdmin:w("PEOPLE.ASSIGN_AS_ADMIN","Assign as administrator"),assignAsEmployee:w("PEOPLE.ASSIGN_AS_EMPLOYEE","Assign as employee"),archiveUser:w("PEOPLE.ARCHIVE_USER","Archive user"),unarchiveUser:w("PEOPLE.UNARCHIVE_USER","Unarchive user"),showInactiveMembers:w("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),archive:w("PEOPLE.ARCHIVE","Archive"),unarchive:w("PEOPLE.UNARCHIVE","Un-archive"),archiveConfirmationText:w("PEOPLE.ARCHIVE_CONFIRMATION_TEXT","Are you sure you want to archive this user? This means this user can't log in anymore and will be removed from all its workspaces and group chats. If you want to remove him also from all chats and workspaces please use archive this user."),unarchiveConfirmationText:w("PEOPLE.UNARCHIVE_CONFIRMATION_TEXT","Are you sure you want to un-archive this user? The user will be re-added to its connected workspaces and group chats."),cancel:w("BUTTON.CANCEL","Cancel"),activateUser:w("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:w("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:w("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:w("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),activate:w("PEOPLE.ACTIVATE","Activate"),deactivate:w("PEOPLE.DEACTIVATE","Deactivate"),moveToInternal:w("PEOPLE.MOVE_TO_INTERNAL","Move to internal"),moveToExternal:w("PEOPLE.MOVE_TO_EXTERNAL","Move to external"),deleteUser:w("PEOPLE.DELETE_USER","Delete user"),deleteConfirmationText:w("PEOPLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this user? This means this user can't log in anymore."),btnInviteUsers:w("BUTTON.INVITE_USERS","Invite users"),resendInvitation:w("PEOPLE.RESEND_INVITATION","Resend invitation"),showInvited:w("PEOPLE.SHOW_INVITED","Show invited"),removeInvitedInternal:w("PEOPLE.REMOVE_INVITED_INTERNAL","Remove invited internal user"),sendInviteManually:w("PEOPLE.SEND_INVITE_MANUALLY","Send invite manually"),deleteInvitedUser:w("PEOPLE.DELETE_INVITED_USER","Delete invited user"),deleteInvitedConfirmationText:w("PEOPLE.DELETE_INVITED_CONFIRMATION_TEXT","Are you sure you want to remove this invited user?"),toasterRemoveInvited:w("TOASTER.REMOVE_INVITED_USER","Removed invited user"),btnTeam:w("BUTTON.TEAM","Team"),showTeams:w("PEOPLE.SHOW_TEAMS","Show teams"),editTeam:w("TEAM_OPTIONS.EDIT_TEAM","Edit team"),removeTeam:w("TEAM_OPTIONS.REMOVE_TEAM","Remove team"),removeTeamHeader:w("TEAM_MODAL.REMOVE_TEAM_HEADER","Remove team"),removeTeamBtn:w("BUTTON.REMOVE_TEAM","Remove team"),removeTeamConfirmation:w("TEAM_MODAL.REMOVE_TEAM_BODY","Are you sure you want to remove this team?"),addUserToTeam:w("PEOPLE.ADD_USER_TEAM","Add user to team"),removeTeamMember:w("PEOPLE.REMOVE_TEAM_MEMBER","Remove team member"),team:w("TEAM","Team"),internalAccounts:w("CHART.INTERNAL_ACCOUNTS","Accounts"),guestAccounts:w("CHART.GUEST_ACCOUNTS","Guest accounts")},N=Object(f.bb)();Object(d.useEffect)((function(){"admin"!==r.role.name&&"owner"!==r.role.name||O(Object(g.r)()),0===Object.keys(c).length&&i.fetchRoles(),0===s.length&&i.fetchArchivedUsers()}),[]);var k=function(e){var t={type:"confirmation",headerText:e.active?T.archive:T.unarchive,submitText:e.active?T.archive:T.unarchive,cancelText:T.cancel,bodyText:e.active?T.archiveConfirmationText:T.unarchiveConfirmationText,actions:{onSubmit:function(){e.active?i.archive({user_id:e.id},(function(t,n){t||N.success("".concat(e.name," archived."))})):i.unarchive({user_id:e.id},(function(t,n){t||N.success("".concat(e.name," unarchived."))}))}}};O(Object(h.a)(t))},y=function(e){var t={type:"confirmation",headerText:e.active?T.deactivate:T.activate,submitText:e.active?T.deactivate:T.activate,cancelText:T.cancel,bodyText:e.active?T.deactivateConfirmationText:T.activateConfirmationText,actions:{onSubmit:function(){e.active&&!e.deactivate?i.deactivate({user_id:e.id},(function(t,n){t||N.success("".concat(e.name," deactivated."))})):0===e.active&&e.deactivate&&i.activate({user_id:e.id},(function(t,n){t||N.success("".concat(e.name," activated."))}))}}};O(Object(h.a)(t))},j=function(e){var t={type:"confirmation",headerText:T.deleteUser,submitText:T.deleteUser,cancelText:T.cancel,bodyText:T.deleteConfirmationText,actions:{onSubmit:function(){i.deleteUserAccount({user_id:e.id},(function(t,n){t||N.success("".concat(e.name," deleted."))}))}}};O(Object(h.a)(t))},S=function(e){var t={user_id:e.id,email:e.email};i.resendInvitationEmail(t,(function(t,n){t?N.error(w("TOASTER.RESEND_INVITATION_FAILED","Invitation failed")):N.success(w("TOASTER.RESEND_INVITATION_SUCCESS","Invitation sent to ::email::",{email:e.email}))}))},x=function(e){var t={type:"confirmation",headerText:T.deleteInvitedUser,submitText:T.deleteInvitedUser,cancelText:T.cancel,bodyText:T.deleteInvitedConfirmationText,actions:{onSubmit:function(){i.deleteInvitedInternalUser({user_id:e.id},(function(e,t){e||N.success("".concat(T.toasterRemoveInvited))}))}}};O(Object(h.a)(t))},I=function(e){var t={type:"add-to-team",user:e};O(Object(h.a)(t))},R="admin"===r.role.name||"owner"===r.role.name;return m.a.createElement(M,{className:"workspace-people container-fluid h-100 ".concat(n)},m.a.createElement("div",{className:"card"},m.a.createElement(p.d,null,m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body"},m.a.createElement(C,{loggedUser:r,onNameClick:v,onChatClick:_,dictionary:T,onUpdateRole:i.updateUserRole,showOptions:R&&l,onArchiveUser:k,onActivateUser:y,onChangeUserType:i.updateType,onDeleteUser:j,onResendInvite:S,onDeleteInvitedInternalUser:x,onAddUserToTeam:I}))},path:["/system/people/teams/:teamId/:teamName"]}),m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body structure"},m.a.createElement(A,{loggedUser:r,dictionary:T}))},path:["/system/people/organization"]}),m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body"},m.a.createElement(F,{loggedUser:r,dictionary:T,_t:w,showOptions:R}))},path:["/system/people/teams"]}),m.a.createElement(p.b,{render:function(){return m.a.createElement("div",{className:"card-body"},m.a.createElement(P,{loggedUser:r,onNameClick:v,onChatClick:_,dictionary:T,onUpdateRole:i.updateUserRole,showOptions:R&&l,onArchiveUser:k,onActivateUser:y,onChangeUserType:i.updateType,onDeleteUser:j,onResendInvite:S,onDeleteInvitedInternalUser:x,onAddUserToTeam:I}))},path:["/system/people"]}))))}))},821:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));n(820);var a,i,r=n(9),o=n(5),c=n(0),s=n.n(c),l=n(4),d=n(786),m=n(782),p=n(11),u=l.a.div(a||(a=Object(o.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]))),f=function(e){var t=e.team,n=e.allTeams,a=e.onSelectTeam,i={accounts:(0,Object(p.gb)()._t)("CHART.ACCOUNTS","accounts")},o=[{id:t.id,name:t.name,members:t.members,icon_link:t.icon_link}].concat(Object(r.a)(t.members));return s.a.createElement(d.b,{key:t.id,label:s.a.createElement(u,{onClick:function(){a(t)}},s.a.createElement("div",{className:"team-name mb-1"},t.name),s.a.createElement("div",{className:"mb-2"},t.members.length," ",i.accounts),s.a.createElement(m.a,{members:o}))},n.filter((function(e){return e.parent_team===t.id})).length>0?n.filter((function(e){return e.parent_team===t.id})).map((function(e){return s.a.createElement(b,{key:e.id,team:e,allTeams:n,onSelectTeam:a})})):null)},h=l.a.div(i||(i=Object(o.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: #7a1b8b;\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]))),b=function(e){var t=e.team,n=e.allTeams,a=e.onSelectTeam,i={accounts:(0,Object(p.gb)()._t)("CHART.ACCOUNTS","accounts")},o=[{id:t.id,name:t.name,members:t.members,icon_link:t.icon_link}].concat(Object(r.a)(t.members));return s.a.createElement(d.b,{key:t.id,label:s.a.createElement(h,{onClick:function(){a(t)}},s.a.createElement("div",{className:"team-name mb-1"},t.name),s.a.createElement("div",{className:"mb-2"},t.members.length," ",i.accounts),s.a.createElement(m.a,{members:o}))},n.filter((function(e){return e.parent_team===t.id})).length>0?n.filter((function(e){return e.parent_team===t.id})).map((function(e){return s.a.createElement(f,{key:e.id,team:e,allTeams:n,onSelectTeam:a})})):null)}},823:function(e,t,n){"use strict";n.r(t);var a,i,r=n(5),o=n(0),c=n.n(o),s=n(4),l=n(10),d=n(7),m=n(37),p=n.n(m),u=n(6),f=n(78),h=n(872),b=(n(12),n(243)),E=n(11),g=n(102),O=n(53),v=n(13),_=n(161),w=n(118),T=n(58),N=(n(66),n(87),s.a.div(a||(a=Object(r.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n  .version-number {\n    display: flex;\n    place-content: center;\n    font-size: 13px;\n    cursor: pointer;\n    :hover {\n      text-decoration: underline;\n    }\n  }\n'])))),k=c.a.memo((function(e){var t,n=e.className,a=void 0===n?"":n,i=!!localStorage.getItem("persistence"),r=Object(w.a)().persistor,s=Object(o.useState)(i),m=Object(d.a)(s,2),k=m[0],y=m[1],A=Object(E.ab)().localizeDate,j=Object(u.c)(),C=Object(E.bb)(),S=Object(u.d)((function(e){return e.session})).user,x=Object(E.T)(),I=x.generalSettings,R=I.language,P=I.timezone,D=I.date_format,L=I.time_format,F=I.dark_mode,M=I.notifications_on,U=I.log_rocket,H=I.sentry,W=I.logs,z=I.notification_sound,B=I.order_channel,G=I.chat_language,V=I.daily_digest,Y=x.chatSettings,K=Y.order_channel,q=Y.sound_enabled,Z=Y.preview_message,J=Y.virtualization,X=(Y.translate,x.userSettings.isLoaded),Q=x.setChatSetting,$=x.setWorkspaceSetting,ee=x.setGeneralSetting,te=x.setPushSubscription,ne=(x.driffSettings,Object(u.d)((function(e){return e.admin.login})),Object(u.d)((function(e){return e.settings.driff.domains})),Object(o.useState)(!1)),ae=Object(d.a)(ne,2),ie=(ae[0],ae[1]),re=Object(E.gb)()._t,oe=localStorage.getItem("i18new")?JSON.parse(localStorage.getItem("i18new")):{},ce=(t={chatSettingsTitle:re("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:re("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:re("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:re("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:re("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:re("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:re("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),notificationSound:re("SETTINGS.NOTIFICATION_SOUND","Notification sound"),notificationSoundDefault:re("SETTINGS.NOTIFICATION_SOUND_DEFAULT","Default"),notificationSoundJingleBells:re("SETTINGS.NOTIFICATION_SOUND_JINGLE_BELLS","Jingle bells"),localizationSettingsTitle:re("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:re("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:re("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:re("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format"),workspaceSettingsTitle:re("SETTINGS.WORKSPACE_TITLE","Workspace Settings"),sortWorkspaceLabel:re("SETTINGS.SORT_WORKSPACE_LABEL","Sort workspace by"),viewRelease:re("SETTINGS.VIEW_RELEASE","View Release List"),liveTranslation:re("SETTINGS.LIVE_TRANSLATION","Talk in your own language (live translation)"),dailyDigest:re("SETTINGS.DAILY_DIGEST","Daily digest"),chatTranslateTitle:re("SETTINGS.CHAT_TRANSLATE","Choose a target language to be translated !BETA!")},Object(l.a)(t,"dailyDigest",re("SETTINGS.DAILY_DIGEST","Daily digest")),Object(l.a)(t,"notifications",re("NOTIFICATIONS","Notifications")),Object(l.a)(t,"extraSettings",re("SETTINGS.EXTRA_SETTINGS","Extra settings")),Object(l.a)(t,"darkMode",re("SETTINGS.DARK_MODE","Dark mode")),Object(l.a)(t,"customTranslation",re("SETTINGS.CUSTOM_TRANSLATION","Use custom translation")),t),se=[{value:"appointed",label:ce.notificationSoundDefault},{value:"jingle-bells",label:ce.notificationSoundJingleBells}],le=[{value:"channel_date_updated",label:ce.sortChannelRecentActivityValue},{value:"channel_name",label:ce.sortChannelNameValue}],de=[{value:"en",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"en",className:"mr-2",width:"18"}),re("LANGUAGE.ENGLISH","English"))},{value:"nl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),re("LANGUAGE.DUTCH","Dutch"))},{value:"de",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"de",className:"mr-2",width:"18"}),re("LANGUAGE.GERMAN","German"))}],me=[{value:"en",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"en",className:"mr-2",width:"18"}),re("LANGUAGE.ENGLISH","English"))},{value:"bg",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"bg",className:"mr-2",width:"18"}),re("LANGUAGE.BULGARIAN","Bulgarian"))},{value:"cs",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"cs",className:"mr-2",width:"18"}),re("LANGUAGE.CZECH","Czech"))},{value:"da",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"da",className:"mr-2",width:"18"}),re("LANGUAGE.DANISH","Danish"))},{value:"de",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"de",className:"mr-2",width:"18"}),re("LANGUAGE.GERMAN","German"))},{value:"el",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"el",className:"mr-2",width:"18"}),re("LANGUAGE.GREEK","Greek"))},{value:"es",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"es",className:"mr-2",width:"18"}),re("LANGUAGE.SPANISH","Spanish"))},{value:"et",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"et",className:"mr-2",width:"18"}),re("LANGUAGE.ESTONIAN","Estonian"))},{value:"fi",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),re("LANGUAGE.FINNISH","Finnish"))},{value:"fr",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),re("LANGUAGE.FRENCH","French"))},{value:"hu",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),re("LANGUAGE.HUNGARAIN","Hungarian"))},{value:"it",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"it",className:"mr-2",width:"18"}),re("LANGUAGE.ITALIAN","Italian"))},{value:"ja",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"ja",className:"mr-2",width:"18"}),re("LANGUAGE.JAPANESE","Japanese"))},{value:"lt",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"lt",className:"mr-2",width:"18"}),re("LANGUAGE.LITHUANIAN","Lithuanian"))},{value:"lv",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"lv",className:"mr-2",width:"18"}),re("LANGUAGE.LATVIAN","Latvian"))},{value:"nl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),re("LANGUAGE.DUTCH","Dutch"))},{value:"pl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"pl",className:"mr-2",width:"18"}),re("LANGUAGE.POLISH","Polish"))},{value:"pt",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"pt",className:"mr-2",width:"18"}),re("LANGUAGE.PORTUGUESE","Portuguese"))},{value:"ro",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"ro",className:"mr-2",width:"18"}),re("LANGUAGE.ROMANIAN","Romanian"))},{value:"ru",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"ru",className:"mr-2",width:"18"}),re("LANGUAGE.RUSSIAN","Russian"))},{value:"sk",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"sk",className:"mr-2",width:"18"}),re("LANGUAGE.SLOVAK","Slovak"))},{value:"sl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"sl",className:"mr-2",width:"18"}),re("LANGUAGE.SLOVENIAN","Slovenian"))},{value:"sv",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"sv",className:"mr-2",width:"18"}),re("LANGUAGE.SWEDISH","Swedish"))},{value:"zh",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"zh",className:"mr-2",width:"18"}),re("LANGUAGE.CHINESE","Chinese"))}],pe=p.a.tz.names().map((function(e){return{value:e,label:e}})),ue=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],fe=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],he=Object(o.useCallback)((function(e){ee({chat_language:e.value,translated_channels:[]}),setTimeout((function(){localStorage.setItem("chat_translate_change","1")}),1e3),C.success(c.a.createElement("span",null,"You have successfully updated chat target language"))}),[ee]),be=Object(o.useCallback)((function(e){e.persist();var t=e.target,n=t.name,a=t.checked,i=t.dataset;Q(Object(l.a)({},n,a)),C.success(c.a.createElement("span",null,i.successMessage))}),[Q]),Ee=function(e){e.persist();var t=e.target,n=t.name,a=t.checked,i=t.dataset;ee(Object(l.a)({},n,"daily_digest"===n?a:a?"1":"0"),(function(){["log_rocket","sentry"].includes(n)?(localStorage.setItem(n,a?"1":"0"),window.location.reload()):"logs"===n&&(a?localStorage.setItem("logger","all"):localStorage.removeItem("logger"))})),C.success(c.a.createElement("span",null,i.successMessage))},ge=Object(o.useCallback)((function(e){e.persist();var t=e.target,n=t.name,a=t.dataset;if(M){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),te(!1),j(Object(v.i)({user_id:S.id}))}else te(null);ee(Object(l.a)({},n,!M)),C.success(c.a.createElement("span",null,a.successMessage))}),[ee]),Oe=Object(o.useCallback)((function(e){ee({timezone:e.value}),C.success(c.a.createElement("span",null,"You have successfully updated Timezone"))}),[]),ve=Object(o.useCallback)((function(e){ee({date_format:e.value}),C.success(c.a.createElement("span",null,"You have successfully updated Date format"))}),[]),_e=Object(o.useCallback)((function(e){ee({time_format:e.value}),C.success(c.a.createElement("span",null,"You have successfully updated Time format"))}),[]);return c.a.createElement(N,{className:"profile-settings ".concat(a)},X?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.chatSettingsTitle),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-12"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:q,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:be,"data-success-message":"".concat(q?"Chats are now muted!":"Chat sound is enabled!"),label:c.a.createElement("span",null,ce.soundLabel)}))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:Z,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:be,"data-success-message":"You have turn ".concat(Z?"OFF":"ON"," preview in chat messages!"),label:c.a.createElement("span",null,ce.previewMessageLabel)}))),["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(S.email)&&c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:J,type:"switch",id:"chat_virtualization",name:"virtualization",onChange:be,"data-success-message":"You have turn ".concat(J?"OFF":"ON"," virtualization in chat messages!"),label:c.a.createElement("span",null,"Virtualized chat")}))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:k,type:"switch",id:"redux_persist",name:"persistence",onChange:function(e){e.persist();var t=e.target,n=t.checked,a=t.dataset;y(n),n?localStorage.setItem("persistence",!0):(i&&(r.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("persistence")),C.success(c.a.createElement("span",null,a.successMessage))},"data-success-message":"You have turn ".concat(k?"OFF":"ON"," data persistence in chat!"),label:c.a.createElement("span",null,"Persisted data")}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},ce.chatTranslateTitle),c.a.createElement("div",{className:"col-7"},c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,value:me.find((function(e){return e.value===G})),onChange:he,options:me}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},ce.sortChannelLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,value:le.find((function(e){return e.value===K.order_by})),onChange:function(e){Q({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),C.success(c.a.createElement("span",null,"You have successfully sort channel"))},options:le}))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.workspaceSettingsTitle),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},ce.sortWorkspaceLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,value:le.find((function(e){return e.value===B.order_by})),onChange:function(e){$({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),C.success(c.a.createElement("span",null,"You have successfully sort channel"))},options:le}))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.localizationSettingsTitle),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},ce.languageLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,value:de.find((function(e){return e.value===R})),onChange:function(e){ee({language:e.value},(function(){setTimeout((function(){ie((function(e){return!e}))}),300)})),C.success(c.a.createElement("span",null,"You have successfully updated Language"))},options:de}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},ce.timezoneLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,value:pe.find((function(e){return e.value===P})),onChange:Oe,options:pe}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},ce.dateTimeFormatLabel),c.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},c.a.createElement("div",{className:"row"},c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,className:"col-6",value:ue.find((function(e){return e.value===D})),onChange:ve,options:ue}),c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,className:"col-6",value:fe.find((function(e){return e.value===L})),onChange:_e,options:fe})))),["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(S.email)&&c.a.createElement("div",{className:"row mb-2 mt-4"},c.a.createElement("div",{className:"col-12 text-right"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=[],n="You are about to add the following words to the dictionary files, continue?";n+="<table>",Object.keys(oe).forEach((function(e){n+="<tr>",n+="<td>".concat(e,"</td>"),n+="<td>".concat(oe[e],"</td>"),n+="</tr>",t.push(Object(l.a)({},e,oe[e]))}));var a=function(){j(Object(v.K)(t,e))},i={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:n+="</table>",size:"lg",actions:{onSubmit:a}};j(Object(v.a)(i))}((function(){localStorage.removeItem("i18new");var e=document.createElement("a");e.href="https://".concat(Object(g.b)(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.notifications),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:M,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(M?"Notifications disabled":"Notifications enabled"),onChange:ge,label:c.a.createElement("span",null,ce.allowNotifications)}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:V,type:"switch",id:"daily_digest",name:"daily_digest","data-success-message":"".concat(V?"Daily digest disabled":"Daily digest enabled"),onChange:Ee,label:c.a.createElement("span",null,ce.dailyDigest)}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},ce.notificationSound),c.a.createElement("div",{className:"col-7"},c.a.createElement(f.a,{styles:"0"===F?O.b:O.a,value:se.find((function(e){return e.value===z})),onChange:function(e){ee({notification_sound:e.value}),C.success(c.a.createElement("span",null,"You have successfully updated notification sound"))},options:se}))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.extraSettings),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===F,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(F?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:Ee,label:c.a.createElement("span",null,ce.darkMode)})),c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===U,type:"switch",id:"log_rocket",name:"log_rocket","data-success-message":"".concat(U?"LogRocket is now enabled":"LogRocket is now disabled"),onChange:Ee,label:c.a.createElement("span",null,"LogRocket")})),c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===H,type:"switch",id:"sentry",name:"sentry","data-success-message":"".concat(H?"Sentry is now enabled":"Sentry is now disabled"),onChange:Ee,label:c.a.createElement("span",null,"Sentry")})),c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(h.a,{className:"cursor-pointer text-muted",checked:"1"===W,type:"switch",id:"logs",name:"logs","data-success-message":"".concat(H?"Logs are now enabled":"Logs are now disabled"),onChange:Ee,label:c.a.createElement("span",null,"Logs")})))))):c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),c.a.createElement("span",{className:"version-number mb-3",onClick:function(e){e.preventDefault(),window.open("https://support.getdriff.com/hc/en-us/sections/4409918501905-Software-updates","_blank")}},"Driff version: ",_.a.version," ",A(_.a.timestamp)," \xa0"),S&&"nilo@makedevelopment.com"===S.email&&c.a.createElement("span",null,T.isMobileSafari&&"mobile safari",", ",T.browserName,", ",T.deviceType))})),y=s.a.div(i||(i=Object(r.a)(["\n  overflow: auto;\n  .row-settings {\n    justify-content: center;\n  }\n"])));t.default=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return c.a.createElement(y,{className:"container-fluid h-100 ".concat(n)},c.a.createElement("div",{className:"row row-settings"},c.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},c.a.createElement(k,null))))}))},843:function(e,t,n){e.exports=n.p+"static/media/christmas.cdef5aab.png"},845:function(e,t,n){e.exports=n.p+"static/media/jingle-bells.757ea22c.ogg"},846:function(e,t,n){e.exports=n.p+"static/media/jingle-bells.9ae5bcaf.mp3"},847:function(e,t,n){e.exports=n.p+"static/media/jingle-bells.4aa1f0bf.m4r"},848:function(e,t,n){e.exports=n.p+"static/media/appointed.4a7182ca.ogg"},849:function(e,t,n){e.exports=n.p+"static/media/appointed.d46d7db1.mp3"},850:function(e,t,n){e.exports=n.p+"static/media/appointed.b1ef26b6.m4r"},864:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,d,m,p,u,f,h,b,E,g,O,v,_,w,T,N,k,y,A,j,C,S,x,I,R,P,D,L,F,M,U,H,W,z,B,G,V,Y,K,q,Z,J,X=n(5),Q=n(0),$=n.n(Q),ee=n(6),te=n(45),ne=n(4),ae=n(11),ie=n(15),re=ne.a.div(a||(a=Object(X.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n    text-align: center;\n    justify-content: center;\n  }\n"]))),oe=$.a.memo((function(e){var t={redirecting:(0,Object(ae.gb)()._t)("REDIRECT.REDIRECTING","Redirecting...")},n=Object(ae.ib)(),a=Object(ae.b)(),i=Object(te.g)(),r=Object(te.j)("/magic-link/:token");return Object(Q.useEffect)((function(){null!==r&&n.checkMagicLink(r.params.token,(function(e,t){if(t)if(t.data.additional_data){if("POST"===t.data.additional_data.type){if(t.data.additional_data.data.workspace){var n=t.data.additional_data.data.workspace[0],r=t.data.additional_data.data.id,o=t.data.additional_data.data.code;if(n.workspace_id){var c="/workspace/posts/".concat(n.workspace_id,"/").concat(Object(ie.h)(n.workspace_name),"/").concat(n.topic_id,"/").concat(Object(ie.h)(n.topic_name),"/post/").concat(r,"/").concat(Object(ie.h)(o));i.push(c)}else{var s="/workspace/posts/".concat(n.topic_id,"/").concat(Object(ie.h)(n.topic_name),"/post/").concat(r,"/").concat(Object(ie.h)(o));i.push(s)}}}else if("CHANNEL"===t.data.additional_data.type)if(t.data.additional_data.topic){var l=t.data.additional_data.topic,d=t.data.additional_data.workspace;if(d){var m="/workspace/chat/".concat(d.id,"/").concat(Object(ie.h)(d.name),"/").concat(l.id,"/").concat(Object(ie.h)(l.name));i.push(m)}else{var p="/workspace/chat/".concat(l.id,"/").concat(Object(ie.h)(l.name));i.push(p)}}else if(t.data.additional_data.data){var u="/chat/".concat(t.data.additional_data.data.code);a.fetchSelectChannel(t.data.additional_data.data.code,(function(){document.body.classList.add("m-chat-channel-closed")})),i.push(u)}else i.push("/workspace/chat")}else i.push("/workspace/chat")}))}),[]),$.a.createElement(re,{className:"workspace-people container-fluid h-100"},$.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},$.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6 h-50"},$.a.createElement("div",{className:"card"},$.a.createElement("h3",null,t.redirecting)))))})),ce=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,791))})),se=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,796))})),le=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,814))})),de=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,797))})),me=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,798))})),pe=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,823))})),ue=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,805))})),fe=Object(Q.lazy)((function(){return Promise.resolve().then(n.bind(null,820))})),he=Object(Q.lazy)((function(){return n.e(21).then(n.bind(null,870))})),be=Object(Q.lazy)((function(){return n.e(11).then(n.bind(null,871))})),Ee=Object(Q.lazy)((function(){return n.e(22).then(n.bind(null,788))})),ge=Object(Q.lazy)((function(){return n.e(23).then(n.bind(null,789))})),Oe=Object(Q.lazy)((function(){return Promise.all([n.e(9),n.e(20)]).then(n.bind(null,866))})),ve=ne.a.div(i||(i=Object(X.a)(["\n  padding-bottom: ",";\n"])),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),_e=$.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,i=Object(ee.d)((function(e){return e.session.user})),r=i.role&&"owner"===i.role.name,o=i.role&&"admin"===i.role.name;return $.a.createElement(ve,{className:"main-content ".concat(n),isOnWorkspace:"workspace"===e.match.params.page},$.a.createElement(Q.Suspense,{fallback:$.a.createElement("div",null)},$.a.createElement(te.d,null,$.a.createElement(te.b,Object.assign({},e,{component:Ee,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile","/profile/:id"],exact:!0})),$.a.createElement(te.b,Object.assign({},e,{component:be,path:["/notifications"]})),$.a.createElement(te.b,Object.assign({},e,{component:ge,path:["/search"]})),!a&&$.a.createElement(te.b,Object.assign({},e,{component:se,path:["/dashboard"]})),!a&&$.a.createElement(te.b,Object.assign({},e,{component:me,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!a&&$.a.createElement(te.b,Object.assign({},e,{component:ce,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),$.a.createElement(te.b,Object.assign({},e,{render:function(e){return $.a.createElement(le,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!a&&$.a.createElement(te.b,Object.assign({},e,{component:de,path:["/people"]})),!a&&$.a.createElement(te.b,Object.assign({},e,{component:fe,path:["/system/people","/system/people/teams","/system/people/organization","/system/people/teams/:teamId/:teamName"]})),$.a.createElement(te.b,Object.assign({},e,{component:pe,path:["/settings"]})),$.a.createElement(te.b,Object.assign({},e,{component:ue,path:["/todos"]})),$.a.createElement(te.b,Object.assign({},e,{component:oe,path:["/magic-link/:token"]})),$.a.createElement(te.b,Object.assign({},e,{component:he,path:["/releases"]})),(r||o)&&$.a.createElement(te.b,Object.assign({},e,{component:Oe,path:["/admin-settings","/admin-settings/:page","/admin-settings/:page/:subpage"]})),$.a.createElement(te.a,{from:"*",to:{pathname:a?"/workspace/chat":"/chat",state:{from:e.location}}}))))})),we=ne.a.footer(r||(r=Object(X.a)(["\n  z-index: 1 !important;\n"]))),Te=($.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return $.a.createElement(we,{className:"".concat(n)},$.a.createElement("div",{className:"container-fluid"},$.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),$.a.createElement("div",null,$.a.createElement("nav",{className:"nav"},$.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),$.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),$.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))})),n(818)),Ne=n(790),ke=ne.a.div(o||(o=Object(X.a)([""]))),ye=$.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal;return Object(Q.useEffect)((function(){document.body.classList.add("stretch-layout")}),[]),$.a.createElement(ke,{className:"header ".concat(n)},$.a.createElement(te.d,null,$.a.createElement(te.b,{render:function(){return $.a.createElement(Ne.c,Object.assign({isExternal:a},e))},path:["/workspace/:page"]}),$.a.createElement(te.b,{render:function(){return $.a.createElement(Te.a,Object.assign({isExternal:a},e))},path:["/:page"]})))})),Ae=ne.a.div(c||(c=Object(X.a)([""]))),je=$.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.showNotificationBar;return $.a.createElement(Ae,{className:"navigation ".concat(n," ").concat(a&&"notification-bar")},$.a.createElement(te.b,{exact:!0,render:function(){return $.a.createElement(He,e)},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile/:id","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people/teams/:teamId/:teamName","/system/people/organization","/system/people/teams","/system/people","/magic-link/:token","/admin-settings/:page/:subpage","/admin-settings/:page","/:page"]}))})),Ce=n(7),Se=n(12),xe=n(392),Ie=n(13),Re=ne.a.div(s||(s=Object(X.a)(["\n  padding: 15px 30px 0 30px;\n  color: #cbd4db;\n  > div {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      :hover {\n        cursor: pointer;\n        color: #fff;\n      }\n    }\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n    margin-right: 15px;\n  }\n"]))),Pe=Object(ne.a)(Se.s)(l||(l=Object(X.a)([""]))),De=function(e){var t=e.dictionary,n=e.isExternal,a=e.onShowModalButtons,i=e.showButtons,r={btn1Ref:Object(Q.useRef)(null),btn2Ref:Object(Q.useRef)(null),btn3Ref:Object(Q.useRef)(null),btn4Ref:Object(Q.useRef)(null)},o=Object(ee.c)(),c=Object(ae.bb)();return Object(ae.G)(r.btn1Ref,a,i),Object(ae.G)(r.btn2Ref,a,i),Object(ae.G)(r.btn3Ref,a,i),Object(ae.G)(r.btn4Ref,a,i),$.a.createElement(xe.a,{appear:!0,in:i,timeout:300,unmountOnExit:!0,classNames:"bslide"},$.a.createElement(Re,null,!n&&$.a.createElement("div",null,$.a.createElement("span",{onClick:function(){a(),o(Object(Ie.a)({type:"chat_create_edit",mode:"new"}))},ref:r.btn1Ref},$.a.createElement(Pe,{icon:"message-circle"}),t.chat)),$.a.createElement("div",null,$.a.createElement("span",{onClick:function(){a(),o(Object(Ie.a)({type:"post_modal",mode:"create",item:{post:null}}))},ref:r.btn2Ref},$.a.createElement(Pe,{icon:"file-text"}),t.post)),$.a.createElement("div",null,$.a.createElement("span",{onClick:function(){var e={type:"todo_reminder",actions:{onSubmit:function(e){o(Object(Ie.L)(e,(function(e,n){e&&c.error(t.toasterGeneraError),n&&c.success($.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.toasterCreateTodo}}))})))}}};a(),o(Object(Ie.a)(e))},ref:r.btn3Ref},$.a.createElement(Pe,{icon:"calendar"}),t.reminder)),!n&&$.a.createElement("div",null,$.a.createElement("span",{onClick:function(){a(),o(Object(Ie.a)({type:"workspace_create_edit",mode:"create"}))},ref:r.btn4Ref},$.a.createElement(Pe,{icon:"compass"}),t.workspace))))},Le=ne.a.div(d||(d=Object(X.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //padding: 30px;\n    margin-bottom: 1rem;\n    min-height: 74px;\n    max-height: 74px;\n    background-color: #3f034a;\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 20px 0;\n    }\n    .dark & {\n      background-color: inherit;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]))),Fe=Object(ne.a)(Se.s)(m||(m=Object(X.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]))),Me=ne.a.button(p||(p=Object(X.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 0;\n  width: 100%;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  color: #ffffff !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]))),Ue=ne.a.div(u||(u=Object(X.a)(["\n  margin: 15px 30px;\n"]))),He=function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,i=Object(ee.d)((function(e){return e.global.todos.count})),r=Object(ae.T)(),o=r.updateCompanyName,c=r.driffSettings,s=r.generalSettings,l=Object(ee.d)((function(e){return e.session.user})),d=Object(ae.gb)()._t,m=Object(te.i)(),p=Object(ae.ub)(),u=Object(ee.d)((function(e){return e.workspaces.workspaces})),f=Object(ee.d)((function(e){return e.workspaces.activeTopic})),h=Object(ee.d)((function(e){return e.chat.selectedChannel})),b=Object(ee.d)((function(e){return Object.values(e.chat.channels).map((function(e){return{id:e.id,code:e.code}}))}));Object(Q.useEffect)((function(){if(m.workspaceId&&f&&parseInt(m.workspaceId)!==f.id&&u[m.workspaceId]&&p.selectWorkspace(u[m.workspaceId]),m.code&&h&&h.code!==m.code){var e=b.find((function(e){return e.code===m.code}));e&&p.selectChannel({id:e.id})}}),[m,u,f,h]);var E=Object(Q.useState)(!1),g=Object(Ce.a)(E,2),O=g[0],v=g[1],_={allWorkspaces:d("SIDEBAR.ALL_WORKSPACES","Browse workspaces"),people:d("SIDEBAR.PEOPLE","All people"),workspace:d("SIDEBAR.WORKSPACE","Workspace"),workspaces:d("SIDEBAR.WORKSPACES","Workspaces"),chats:d("SIDEBAR.CHATS","Chats"),yourWorkspaces:d("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:d("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:d("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:d("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:d("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:d("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:d("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:d("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:d("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:d("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:d("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:d("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:d("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:d("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace"),bots:d("SIDEBAR.BOTS","Bots"),favoriteWorkspaces:d("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),browseAll:d("SIDEBAR.BROWSE_ALL","Browse all..."),toasterCreateTodo:d("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterGeneraError:d("TOASTER.GENERAL_ERROR","An error has occurred try again!"),chat:d("SIDEBAR.CHAT","Chat"),post:d("SIDEBAR.POST","Post"),reminder:d("SIDEBAR.REMINDER","Reminder"),addNew:d("SIDEBAR.ADD_NEW","Add new"),startBrowsing:d("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:d("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:l.first_name}),newFolder:d("TOOLTIP.NEW_FOLDER","New folder")},w=function(){v((function(e){return!e}))};return $.a.createElement(Le,{className:"navigation-menu-tab ".concat(n)},$.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},$.a.createElement(Lt,null)),$.a.createElement(ht,{count:i,dictionary:_,isExternal:a,driffSettings:c,user:l,updateCompanyName:o}),$.a.createElement($e,{dictionary:_,generalSettings:s,isExternal:a,user:l}),$.a.createElement(De,{dictionary:_,isExternal:a,onShowModalButtons:w,showButtons:O}),$.a.createElement(Ue,null,$.a.createElement(Me,{onClick:w,className:"btn btn-outline-light",type:"button"},$.a.createElement("div",null,$.a.createElement(Fe,{icon:"circle-plus"}),_.addNew))))},We=n(54),ze=n.n(We),Be=n(817),Ge=n(16),Ve=ne.a.div(f||(f=Object(X.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  min-height: 0;\n"]))),Ye=Object(ne.a)(ze.a)(h||(h=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Ke=Object(ne.a)(Se.s)(b||(b=Object(X.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n  margin-left: 5px;\n"]))),qe=ne.a.div(E||(E=Object(X.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),Ze=ne.a.div(g||(g=Object(X.a)(["\n  margin: 0 15px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: rgba(255, 255, 255, 0.6);\n  border-top: 2px solid;\n  padding: 15px 0;\n  > span {\n    margin-left: 15px;\n  }\n  svg {\n    margin-right: 8px;\n  }\n"]))),Je=ne.a.button(O||(O=Object(X.a)(["\n  //color: rgba(255, 255, 255, 0.6);\n  //text-decoration: underline;\n  color: #cbd4db;\n  border: 1px solid;\n  :hover {\n    cursor: pointer;\n    color: #cbd4db;\n  }\n"]))),Xe=ne.a.div(v||(v=Object(X.a)(["\n  padding: 0 30px;\n  overflow: auto;\n"]))),Qe=ne.a.div(_||(_=Object(X.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  color: #cbd4db;\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]))),$e=function(e){var t=e.dictionary,n=e.isExternal,a=e.user,i=Object(ee.c)(),r=Object(ae.tb)(),o=r.actions,c=r.folders,s=r.history,l=r.orderChannel,d=r.workspaces,m=r.favoriteWorkspacesLoaded,p=Object(ee.d)((function(e){return e.chat.selectedChannelId})),u=Object(ee.d)((function(e){return Object.keys(e.chat.channels)})),f=Object(ee.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),h=Object(ee.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),b=Object.values(d).find((function(e){return h&&h.id===e.id})),E=Object(ee.d)((function(e){return e.chat.companyChannel})),g=Object(ee.d)((function(e){return e.settings.driff.company_name})),O=function(){i(Object(Ie.a)({type:"workspace_create_edit",mode:"create"}))},v=Object.values(d).sort((function(e,t){return"channel_date_updated"===l.order_by?-1:e.name.localeCompare(t.name)})).filter((function(e){return e.is_favourite})),_=function(e){if(b&&e.id===b.id&&E)s.push("/chat/".concat(E.code)),o.selectChannel({id:E.id});else{if(document.body.classList.remove("navigation-show"),p&&!f){var t=document.getElementById("component-chat-thread");t&&i(Object(Ge.Mb)({channel_id:p,scrollPosition:t.scrollHeight-t.scrollTop}))}p&&p!==e.channel.id&&u.some((function(t){return parseInt(t)===e.channel.id}))&&o.selectChannel({id:e.channel.id}),o.selectWorkspace(e),o.redirectTo(e)}},w=function(){s.push("/workspace/search")},T=function(){return $.a.createElement(qe,null,$.a.createElement("div",null,$.a.createElement(Se.q,{height:200,icon:2}),"external"!==a.type&&$.a.createElement($.a.Fragment,null,$.a.createElement("h5",null,t.sidebarTextCreateWorkspace),$.a.createElement("button",{className:"btn btn-primary mt-2",onClick:O},t.createWorkspace))))};return $.a.createElement(Ve,null,$.a.createElement(Ze,null,$.a.createElement("span",null,t.favoriteWorkspaces),!n&&$.a.createElement(Ye,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:t.newFolder},$.a.createElement(Ke,{onClick:function(){i(Object(Ie.a)({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),$.a.createElement(Xe,null,$.a.createElement("div",{id:"elements",className:"open"},m&&Object.values(d).length>0&&0===v.length&&$.a.createElement(Qe,null,$.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),$.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.addYourFavWs}}),$.a.createElement(Je,{className:"btn",onClick:w},t.startBrowsing)),m&&0===Object.values(c).length&&0===Object.values(d).length&&$.a.createElement(T,null),m&&Object.values(d).length>0&&v.length>0&&$.a.createElement($.a.Fragment,null,$.a.createElement("ul",null,v.map((function(e){return $.a.createElement(Be.a,{key:e.id,isExternal:n,onSelectWorkspace:_,workspace:e,isCompanyWs:b&&b.id===e.id,companyName:g})}))),$.a.createElement(Je,{className:"btn",onClick:w},t.browseAll)))))},et=n(1),tt=ne.a.li(w||(w=Object(X.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s ease;\n  > a {\n    position: relative;\n    font-weight: ",";\n    display: flex;\n    color: #fff;\n    height: 40px;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n  .quick-links {\n    .feather-pencil {\n      display: none;\n    }\n    &:hover {\n      .sub-menu-arrow {\n        margin-left: ",";\n      }\n      .feather-pencil {\n        display: ",";\n      }\n    }\n  }\n"])),(function(e){return e.selected?"600":"400"}),(function(e){return e.showEditIcon?"10px":"auto"}),(function(e){return e.showEditIcon?"block":"none"})),nt=ne.a.ul(T||(T=Object(X.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  &.enter-active {\n    max-height: 250px;\n    overflow: scroll;\n  }\n  // &.enter-active {\n  //   max-height: ","px !important;\n  // }\n  &.leave-active {\n    max-height: 0;\n  }\n  li.personal-link {\n    min-height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      min-height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      &.shorcut-title {\n        padding-left: 0.5rem;\n        font-weight: 500;\n      }\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n  li.shorcut-title-link {\n    padding: 0;\n\n    .shorcut-title {\n      background: #ffffff10;\n    }\n  }\n"])),(function(e){return e.maxHeight})),at=Object(ne.a)(Se.s)(N||(N=Object(X.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n  width: 1rem !important;\n  height: 1rem !important;\n"]))),it=Object(ne.a)(Se.s)(k||(k=Object(X.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]))),rt=function(e){var t=e.className,n=void 0===t?"":t,a=e.user,i=e.dictionary,r=Object(ae.T)(),o=r.generalSettings,c=r.showModal,s=Object(ee.d)((function(e){return e.global.links.filter((function(e){return e.id&&""!==e.menu_name.trim()&&""!==e.link.trim()}))})),l=new RegExp("^(http|https)://"),d={container:Object(Q.useRef)(),arrow:Object(Q.useRef)(),nav:Object(Q.useRef)()},m=Object(Q.useState)(!1),p=Object(Ce.a)(m,2),u=p[0],f=p[1],h=function(e){var t=e.currentTarget.dataset.index;c("personal_link_edit",Object(et.a)(Object(et.a)({},o.personal_links[t]),{},{index:t}))};return $.a.createElement(tt,{ref:d.container,className:"fadeIn ".concat(n," ").concat(u&&"folder-open"),selected:u,showEditIcon:a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)},$.a.createElement("a",{className:"quick-links",href:"/",onClick:function(e){e.preventDefault(),f((function(e){return!e}))}},$.a.createElement(at,{icon:"link"}),$.a.createElement("div",null,i.shortcuts),a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)&&$.a.createElement(it,{icon:"pencil",onClick:function(){window.open("".concat("https://").concat(localStorage.getItem("slug"),".driff.io/admin/quick-links"),"_blank")}}),$.a.createElement("i",{ref:d.arrow,className:"sub-menu-arrow ti-angle-up ".concat(u?"ti-minus rotate-in":"ti-plus")})),$.a.createElement(nt,{ref:d.nav,className:u?"enter-active":"leave-active"},$.a.createElement("li",{className:"personal-link shorcut-title-link"},$.a.createElement("div",{className:"shorcut-title"},i.personalLinks)),o.personal_links.map((function(e,t){return $.a.createElement("li",{key:t,className:"personal-link"},$.a.createElement("div",null,$.a.createElement("div",null,$.a.createElement("a",{href:l.test(e.web_address)?e.web_address:"https://".concat(e.web_address),target:"_blank",rel:"noopener noreferrer"},e.name)),$.a.createElement("div",{className:"action"},$.a.createElement(Se.s,{className:"cursor-pointer","data-index":t,icon:"pencil",onClick:h}))))})),o.personal_links.length<5&&$.a.createElement("li",{className:"personal-link nav-action cursor-pointer",onClick:function(){c("personal_link_create")}},$.a.createElement("div",{className:"justify-content-start"},$.a.createElement(Se.s,{icon:"circle-plus",width:24,height:24})," ",i.addPersonalShortcut)),"external"!==a.type&&s.map((function(e,t){return $.a.createElement($.a.Fragment,{key:e.id},0===t&&$.a.createElement("li",{className:"personal-link shorcut-title-link pt-2"},$.a.createElement("div",{className:"shorcut-title"},i.companyLinks)),$.a.createElement(ct,{link:e,className:"quick-links"}))}))))},ot=ne.a.li(y||(y=Object(X.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  div {\n    position: relative;\n    height: 40px;\n    display: inline-flex;\n    align-items: center;\n    svg {\n      margin-left: 6px;\n    }\n    a {\n      display: block;\n      background-color: transparent;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"])),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),ct=function(e){var t=e.className,n=void 0===t?"":t,a=e.link;return $.a.createElement(ot,{className:"topic-list ".concat(n)},$.a.createElement("div",null,$.a.createElement("a",{href:a.link,target:"_blank"},a.menu_name)))},st=(ne.a.li(A||(A=Object(X.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n"])),(function(e){return e.selected?"600":"400"})),ne.a.ul(j||(j=Object(X.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  li {\n    height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"])),(function(e){return e.maxHeight})),Object(ne.a)(Se.s)(C||(C=Object(X.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]))),ne.a.li(S||(S=Object(X.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n"])),(function(e){return e.selected?"600":"400"})),Object(ne.a)(Se.s)(x||(x=Object(X.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]))),n(843)),lt=n.n(st),dt=ne.a.div(I||(I=Object(X.a)(["\n  .badge {\n    padding: 4px 8px;\n    font-size: 9px;\n  }\n"]))),mt=ne.a.div(R||(R=Object(X.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]))),pt=Object(ne.a)(Se.s)(P||(P=Object(X.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]))),ut=Object(ne.a)(Se.k)(D||(D=Object(X.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px;\n  border-radius: 8px;\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]))),ft=ne.a.div(L||(L=Object(X.a)(["\n  position: absolute !important;\n  z-index: 20;\n  transform: rotate(-41deg) scaleX(-1);\n  left: 1px;\n  top: -6px;\n  img {\n    width: 26px;\n  }\n"]))),ht=function(e){var t=e.dictionary,n=e.isExternal,a=e.driffSettings,i=e.user,r=e.updateCompanyName,o=Object(te.i)(),c=Object(te.h)(),s=Object(ee.d)((function(e){return e.chat.lastVisitedChannel})),l=Object(Q.useState)(a.company_name),d=Object(Ce.a)(l,2),m=d[0],p=d[1],u=Object(Q.useState)(!1),f=Object(Ce.a)(u,2),h=f[0],b=f[1],E=Object(Q.useRef)(null);Object(Q.useEffect)((function(){E.current&&E.current.select()}),[h]);var g=function(){document.body.classList.remove("navigation-show")},O=function(){b((function(e){var t=!e;return t||a.company_name===m||r({company_name:m}),t}))};return $.a.createElement(dt,{className:"flex navigation-menu-tab-header-options"},$.a.createElement("ul",null,!n&&$.a.createElement("li",{onClick:g,className:"driff-company-name ".concat(h?"active":"")},h?$.a.createElement(mt,{className:"active"},$.a.createElement(pt,{icon:"home"}),$.a.createElement("input",{ref:E,defaultValue:a.company_name,onChange:function(e){p(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:O();break;default:return}},name:"company-name",autoFocus:!0})):$.a.createElement(ut,{active:["dashboard","posts","chat","files","people"].includes(o.page),to:null!==s&&s.hasOwnProperty("code")?"/chat/".concat(s.code):"/chat"},$.a.createElement("div",{style:{postion:"relative"}},$.a.createElement(pt,{icon:"home"}),$.a.createElement(ft,null,$.a.createElement("img",{src:lt.a,alt:"christmas hat"}))),a.company_name),i.role&&["owner","admin"].includes(i.role.name)&&$.a.createElement($.a.Fragment,null,h?$.a.createElement(Se.s,{className:"action",onClick:O,icon:"save"}):$.a.createElement(Se.s,{className:"action",onClick:O,icon:"pencil"}))),$.a.createElement("li",{onClick:g},$.a.createElement(ut,{to:"/workspace/search",active:["/workspace/search"].includes(c.pathname)},$.a.createElement(pt,{icon:"compass"}),$.a.createElement("div",null,t.allWorkspaces))),"internal"===i.type&&$.a.createElement("li",{onClick:g},$.a.createElement(ut,{to:"/system/people",active:["/system/people"].includes(c.pathname)},$.a.createElement(pt,{icon:"user"}),$.a.createElement("div",null,t.people))),$.a.createElement(rt,{user:i,dictionary:t})))},bt=n(83),Et=n(39),gt=n(9),Ot=n(187),vt=Object(ne.a)(Se.s)(F||(F=Object(X.a)(["\n  min-width: 1rem;\n  min-height: 1rem;\n  width: 1rem;\n  height: 1rem;\n  margin-left: 5px;\n  :hover {\n    color: #505050;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]))),_t=ne.a.div(M||(M=Object(X.a)(["\n  cursor: pointer;\n  display: flex;\n  font-family: Inter;\n  letter-spacing: 0;\n  font-size: 12px;\n  color: ",";\n  .avatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  p {\n    margin: 0;\n  }\n  .chat-header-icon {\n    padding: 0px !important;\n  }\n  .badge-grey-ghost {\n    background-color: white !important ;\n    color: grey !important;\n    border: 1px solid grey !important;\n  }\n"])),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),wt=ne.a.div(U||(U=Object(X.a)(["\n  display: inline-block;\n  width: 180px;\n  white-space: nowrap;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  .feather-x,\n  .snooze-me {\n    :hover {\n      color: #505050;\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n"]))),Tt=ne.a.p(H||(H=Object(X.a)(["\n  display: inline-block;\n  width: 180px;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  font-size: 14px;\n  white-space: nowrap;\n"]))),Nt=ne.a.div(W||(W=Object(X.a)(["\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 1.1;\n  .badge {\n    margin-top: 3px;\n  }\n  .post-mention-body {\n    width: 200px;\n    padding-top: 5px;\n    p {\n      width: auto;\n    }\n  }\n  .badge-light {\n    color: #fff;\n    border: 1px solid grey;\n  }\n"]))),kt=ne.a.div(z||(z=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  .snooze-x {\n    position: absolute;\n    right: 5px;\n    top: 5px;\n  }\n  // ::before {\n  //   content: '';\n  //   display: inline-block;\n  //   height: 100%;\n  //   vertical-align: middle;\n  //   margin-right: -0.25em; /* Adjusts for spacing */\n  // }\n"]))),yt=ne.a.div(B||(B=Object(X.a)(["\n  span {\n    line-height: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin: auto;\n    font-size: 22px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n"]))),At=function(e){var t=e.type,n=e.item,a=e.user,i=e.dictionary,r=e.users,o=e.handleRedirect,c=e.darkMode,s=e.snoozeData,l=e.actions,d=Object(ae.V)(),m=function(e){e.stopPropagation(),l.snooze(s),"notification"===t?d.snoozeNotif({notification_id:n.id,is_snooze:!0,type:"POST_SNOOZE"}):"todo"===t?d.snoozeNotif({notification_id:n.id,is_snooze:!0,type:"REMINDER_SNOOZE"}):"huddle"===t&&d.snoozeNotif({notification_id:n.id,is_snooze:!0,type:"HUDDLE_SNOOZE"}),bt.c.success($.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"}),bt.c.dismiss(t+"__"+n.id)},p=function(e){if(e.stopPropagation(),"notification"===t)l.snooze(s),l.remove({id:n.id});else if("todo"===t){l.removeReminderNotif({id:n.id});var a=localStorage.getItem("reminderNotif"),r=new Date;if(a){var o=JSON.parse(a).reminders;localStorage.setItem("reminderNotif",JSON.stringify({reminders:[].concat(Object(gt.a)(o),[n.id]),day:r.getDay()}))}else localStorage.setItem("reminderNotif",JSON.stringify({reminders:[n.id],day:r.getDay()}))}else if("huddle"===t){l.removeHuddleNotif({id:n.id});var c=localStorage.getItem("huddleNotif"),d=new Date;if(c){var m=JSON.parse(c).channels;localStorage.setItem("huddleNotif",JSON.stringify({channels:[].concat(Object(gt.a)(m),[n.channel.id]),day:d.getDay()}))}else localStorage.setItem("huddleNotif",JSON.stringify({channels:[n.channel.id],day:d.getDay()}))}bt.c.success($.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.closeNotification}}),{containerId:"toastA",toastId:"closeNotif"}),bt.c.dismiss(t+"__"+n.id)};return $.a.createElement(_t,{className:"timeline-item timeline-item-no-line d-flex",darkMode:c,onClick:function(e){return o(t,n,e)}},$.a.createElement("div",{className:"d-flex"},"notification"===t?n.author?$.a.createElement(Se.a,{id:n.author.id,name:n.author.name,showSlider:!1,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link,noDefaultClick:!0}):$.a.createElement(Se.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,showSlider:!1,noDefaultClick:!0}):"todo"===t?$.a.createElement(yt,{className:"robotAvatar"},$.a.createElement("div",null,$.a.createElement("span",null,"\ud83e\udd16"))):$.a.createElement(Se.a,{id:n.channel.id,name:n.channel.name,showSlider:!1,imageLink:null,noDefaultClick:!0})),$.a.createElement(kt,null,$.a.createElement(Nt,null,function(e,t){var c="",s="";if("notification"===e){var l=t.author&&r[t.author.id]?r[t.author.id].first_name:"";"POST_MENTION"===t.type?(c="".concat(l," ").concat(i.notificationMention," ").concat(t.data.title),s=$.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},$.a.createElement(Tt,{className:"snooze-body"},t.data.comment_body&&Object(ie.j)(t.data.comment_body)),$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"WORKSPACE_ADD_MEMBER"===t.type?(c="".concat(l," ").concat(i.addedYouInWorkspace," ").concat(t.data.title),s=$.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},t.data.title,$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_CREATE"===t.type?(c="".concat(l," ").concat(i.notificationNewPost),s=$.a.createElement("span",{className:"d-flex align-items-center"},$.a.createElement(Ot.a,{notification:t,dictionary:i,user:a,fromSnooze:!0}),$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_REQST_APPROVAL"===t.type?(c="".concat(l," ").concat(i.sentProposal),s=$.a.createElement($.a.Fragment,null,$.a.createElement(Ot.a,{notification:t,dictionary:i,user:a,fromSnooze:!0}),$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_REJECT_APPROVAL"===t.type?(c="".concat(l," ").concat(i.hasRequestedChange),s=$.a.createElement($.a.Fragment,null,$.a.createElement(Ot.a,{notification:t,dictionary:i,user:a,fromSnooze:!0}),$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"PST_CMT_REJCT_APPRVL"===t.type?(c="".concat(l," ").concat(i.changeRequested),s=$.a.createElement($.a.Fragment,null,$.a.createElement(Ot.a,{notification:t,dictionary:i,user:a,fromSnooze:!0}),$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_COMMENT"===t.type&&(c="".concat(l," ").concat(i.actionNeeded),s=$.a.createElement($.a.Fragment,null,$.a.createElement(Ot.a,{notification:t,dictionary:i,user:a,fromSnooze:!0}),$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}})))}else"todo"===e?(c=i.todoReminder,s=$.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},$.a.createElement(Tt,{className:"snooze-body"},Object(ie.j)(t.title)),$.a.createElement(vt,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"huddle"===e&&(c="".concat(i.timeTOHuddle," ").concat(a.first_name),s=$.a.createElement($.a.Fragment,null,$.a.createElement("span",{className:"badge badge-light mr-2",onClick:function(t){o(e,n,t)}},i.open),$.a.createElement("span",{className:"badge badge-info badge-grey-ghost",onClick:function(n){!function(e,t,n){n.stopPropagation();var a=localStorage.getItem("huddle"),r=new Date;if(a){var o=JSON.parse(a).channels;localStorage.setItem("huddle",JSON.stringify({channels:[].concat(Object(gt.a)(o),[t.channel.id]),day:r.getDay()}))}else localStorage.setItem("huddle",JSON.stringify({channels:[t.channel.id],day:r.getDay()}));bt.c.dismiss(e+"__"+t.id),bt.c.success($.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.huddleSkip}}),{containerId:"toastA",toastId:"btnSnoozeMe"})}(e,t,n)}},i.skip)));return $.a.createElement($.a.Fragment,null,$.a.createElement(wt,null,c,$.a.createElement("span",{className:"snooze-x"},$.a.createElement("span",{className:"snooze-me mr-1",onClick:m},i.snooze),$.a.createElement(Se.s,{icon:"x",width:"18",height:"18",strokeWidth:"2",onClick:p})))," ",s)}(t,n))))},jt=ne.a.div(G||(G=Object(X.a)(["\n  .snooze-container {\n    margin-bottom: 8px !important;\n    color: ",";\n    background: ",";\n    .feather-x {\n      margin-top: -1px;\n    }\n  }\n  .snooze-container p.snooze-body {\n    color: ",";\n  }\n  .snooze-container .snooze-me {\n    font-size: 11px;\n    //margin: 0 5px;\n    text-decoration: underline;\n    // position: absolute;\n    // right: 0;\n    // margin-right: 1em;\n  }\n  .snooze-all-container {\n    background: 0 0;\n    box-shadow: none;\n    margin: 0;\n    padding: 0;\n    height: auto;\n    min-height: 25px;\n    color: ",";\n    background: transparent;\n    font-size: 12px;\n  }\n  .snooze-all-container .snooze-all-body {\n    height: auto;\n    font-size: 12px;\n    margin: 0 5px;\n    text-decoration: underline;\n  }\n  .robotAvatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  .robotAvatar div {\n    background: #f1f2f7;\n    border-radius: 40px;\n    font-size: 27px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n  }\n"])),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#aaa !important"}),(function(e){return"1"===e.darkMode?"#191c20 !important":"#fff !important"}),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#505050 !important"}),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),Ct=function(e){var t=Object(ae.F)().notifications,n=Object(ae.db)(!0).getReminders,a=Object(ee.d)((function(e){return e.global.todos})),i=Object(ee.d)((function(e){return e.session.user})),r=Object(ae.gb)()._t,o=Object(ae.V)(),c=Object(ae.E)(),s=Object(ae.cb)(),l=Object(ae.T)().generalSettings.dark_mode,d=Object(ae.O)(),m=Object(ae.A)(),p=Object(te.g)(),u=new Date,f=u.getTime(),h=Object(ee.c)(),b=Object(ee.d)((function(e){return e.users.users})),E=Object(ee.d)((function(e){return e.chat.huddleBots.filter((function(e){return e.show_notification&&!0===e.show_notification}))})),g=Object(ee.d)((function(e){return e.chat.channels})),O=Object(ee.d)((function(e){return e.chat.huddleBotsLoaded})),v=0===u.getDay()||6===u.getDay(),_=localStorage.getItem("huddle"),w=_?JSON.parse(_).channels:[],T=Object(Q.useState)(!1),N=Object(Ce.a)(T,2),k=N[0],y=N[1],A={notificationMention:r("SNOOZE.MENTION","mentioned you in ::title::",{title:""}),todoReminder:r("SNOOZE.REMINDER","A friendly automated reminder"),sentProposal:r("SNOOZE.SENT_PROPOSAL","sent a proposal."),notificationNewPost:r("SNOOZE.NEW_POST","shared a post"),mustRead:r("SNOOZE.MUST_READ","Must read"),needsReply:r("SNOOZE.NEEDS_REPLY","Needs reply"),timeTOHuddle:r("SNOOZE.TIME_TO_HUDDLE","Time to huddle, "),hasRequestedChange:r("SNOOZE.HAS_REQUESTED_CHANGE","has requested a change."),snoozeMe:r("SNOOZE.SNOOZE_ME","Snoozed for ".concat(180," min(s)")),actionNeeded:r("SNOOZE.ACTION_NEEDED","Action needed"),changeRequested:r("SNOOZE.CHANGE_REQUESTED","Change requested"),huddleSkip:r("SNOOZE.HUDDLE_SKIP","Huddle is Skipped"),replyRequired:r("POST.REPLY_REQUIRED","Reply required"),snoozeAllNotifications:r("SNOOZE.SNOOZE_ALL_NOTIFICATIONS","Snooze all notifications"),skip:r("SNOOZE.SKIP","Skip"),open:r("SNOOZE.OPEN","Open"),snooze:r("SNOOZE.SNOOZE","Snooze"),closeNotification:r("NOTIFICATION.CLOSE","Notification will not be shown again."),addedYouInWorkspace:r("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace")},j=function(){return Object.values(t).filter((function(e){return"POST_MENTION"===e.type||"WORKSPACE_ADD_MEMBER"===e.type||"POST_REQST_APPROVAL"===e.type||"POST_REJECT_APPROVAL"===e.type||"PST_CMT_REJCT_APPRVL"===e.type||"POST_COMMENT"===e.type||"POST_CREATE"===e.type&&(e.data.must_read||e.data.must_reply)})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))},C=function(){var e=Object(Et.d)(179);return n({filter:{status:"",search:""}}).filter((function(t){return t.remind_at&&t.remind_at.timestamp<=e&&"OVERDUE"!==t.status&&t.show_notification}))},S=function(e,t,n){var a="notification"===e?c:"todo"===t.type?s:m;if(n.preventDefault(),0===t.is_read&&c.read({id:t.id}),"huddle"===e)return p.push("/chat/".concat(t.channel.code)),void h(Object(Ge.Xb)({id:t.channel.id}));if("todo"===e)d.toTodos();else{var i={id:t.data.post_id,title:t.data.title},r=null,o=null;t.data.workspaces&&t.data.workspaces.length&&(r={id:(r=t.data.workspaces[0]).topic_id,name:r.topic_name,folder_id:r.workspace_id?r.workspace_id:null,folder_name:r.workspace_name?r.workspace_name:null}),"POST_MENTION"===t.type&&t.data.comment_id&&(o={focusOnMessage:t.data.comment_id}),"WORKSPACE_ADD_MEMBER"===t.type?t.data.workspace_folder_id?p.push("/workspace/chat/".concat(t.data.workspace_folder_id,"/").concat(Object(ie.h)(t.data.workspace_folder_name),"/").concat(t.data.id,"/").concat(Object(ie.h)(t.data.title))):p.push("/workspace/chat/".concat(t.data.id,"/").concat(Object(ie.h)(t.data.title))):d.toPost({workspace:r,post:i},o)}a.snooze({id:t.id,is_snooze:!1})},x=function(e){return Object.values(t).filter((function(t){return t.id!==e.id})).some((function(t){return"PST_CMT_REJCT_APPRVL"===t.type&&t.data.post_id===e.data.post_id&&t.id>e.id}))},I=function(e,n){n.preventDefault();var i=[],r=[],l=[];i=R("todo",C()),r=R("notification",j()),l=R("huddle",E),[].concat(i,r,l).map((function(e){var n=e.type+"__"+e.id,i="notification"===e.type?c:"todo"===e.type?s:m,r="notification"===e.type?t[e.id]:"todo"===e.type?a.items[e.id]:Object.values(E).find((function(t){return t.id==e.id}));if(r){var o={id:r.id,is_snooze:!0,snooze_time:Object(Et.d)(180)};r.is_snooze||(bt.c.isActive(n)&&bt.c.dismiss(n),i.snooze(o))}})),r.length&&o.snoozeAllNotif({is_snooze:!0,notification_ids:r.map((function(e){return e.id})),type:"POST_SNOOZE"}),i.length&&o.snoozeAllNotif({is_snooze:!0,notification_ids:i.map((function(e){return e.id})),type:"REMINDER_SNOOZE"}),l.length&&o.snoozeAllNotif({is_snooze:!0,notification_ids:l.map((function(e){return e.id})),type:"HUDDLE_SNOOZE"}),(r.length||i.length||l.length)&&bt.c.success($.a.createElement("span",{dangerouslySetInnerHTML:{__html:A.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"})},R=function(e,t){var n=[];return t.map((function(t){var a=e+"__"+t.id,r={type:e,id:t.id,created_at:"huddle"===e?t.start_at.timestamp:t.created_at.timestamp};"notification"===e?"POST_MENTION"===t.type?t.is_read||t.is_snooze||!t.data||0!==t.data.is_close?(t.is_read||t.is_snooze||t.data&&1===t.data.is_close)&&bt.c.isActive(a)&&bt.c.dismiss(a):n.push(r):"WORKSPACE_ADD_MEMBER"===t.type?t.is_read||t.is_snooze?(t.is_read||t.is_snooze||t.data&&1===t.data.is_close)&&bt.c.isActive(a)&&bt.c.dismiss(a):n.push(r):"POST_CREATE"===t.type?t.data&&1===t.data.is_close&&bt.c.isActive(a)?bt.c.dismiss(a):!function(e){return e.data.must_read&&e.data.must_read_users&&e.data.must_read_users.some((function(e){return e.id===i.id&&!e.must_read}))}(t)&&!function(e){return e.data.must_reply&&e.data.must_reply_users&&e.data.must_reply_users.some((function(e){return e.id===i.id&&!e.must_reply}))}(t)||t.is_snooze||!t.data||0!==t.data.is_close?bt.c.isActive(a)&&bt.c.dismiss(a):n.push(Object(et.a)(Object(et.a)({},r),{},{update:!0})):"POST_REQST_APPROVAL"===t.type?t.data&&1===t.data.is_close&&bt.c.isActive(a)?bt.c.dismiss(a):!function(e){return e.data.users_approval&&e.data.users_approval.find((function(e){return null===e.ip_address&&i.id===e.id}))}(t)||t.is_snooze||!t.data||0!==t.data.is_close?bt.c.isActive(a)&&bt.c.dismiss(a):n.push(r):"POST_REJECT_APPROVAL"===t.type||"PST_CMT_REJCT_APPRVL"===t.type?t.data&&1===t.data.is_close&&bt.c.isActive(a)?bt.c.dismiss(a):!x(t)&&t.data.post_approval_label&&"REQUEST_UPDATE"===t.data.post_approval_label&&!t.is_snooze&&t.data&&0===t.data.is_close?n.push(r):bt.c.isActive(a)&&bt.c.dismiss(a):t.type:"todo"===e?"DONE"===t.status||t.is_snooze?bt.c.isActive(a)&&bt.c.dismiss(a):n.push(r):"huddle"===e&&(v||w.includes(t.channel.id)||!function(e){if(e.questions.filter((function(e){return null===e.answer})).length>0){var t=parseInt(e.start_at.time.substr(0,2)),n=parseInt(e.start_at.time.substr(3,2)),a=parseInt(e.publish_at.time.substr(0,2)),i=parseInt(e.publish_at.time.substr(3,2)),r=new Date;r.setUTCHours(t,n,0),r.setDate(u.getDate());var o=new Date;return o.setUTCHours(a,i,0),o.setDate(u.getDate()),f>r.getTime()&&o.getTime()>f}return!1}(t)||t.is_snooze?bt.c.isActive(a)&&bt.c.dismiss(a):n.push(r))})),n},P=function(e,t){var n=Math.round(+new Date/1e3),a="notification"===e?c:"todo"===e?s:m,i=0;return t.map((function(t){var r=t.snooze_time+10800;"notification"===e?t.is_snooze&&t.snooze_time&&n>r&&(i++,o.snoozeNotif({notification_id:t.id,is_snooze:!1,type:"POST_SNOOZE"}),a.snooze({id:t.id,is_snooze:!1,snooze_time:null,type:"POST_SNOOZE"})):"todo"===e?"DONE"!==t.status&&t.is_snooze&&t.snooze_time&&n>r&&(i++,o.snoozeNotif({notification_id:t.id,is_snooze:!1,type:"REMINDER_SNOOZE"}),a.snooze({id:t.id,is_snooze:!1,snooze_time:null,type:"REMINDER_SNOOZE"})):"huddle"===e&&t.is_snooze&&t.snooze_time&&n>r&&(i++,o.snoozeNotif({notification_id:t.id,is_snooze:!1,type:"HUDDLE_SNOOZE"}),a.snooze({id:t.id,is_snooze:!1,snooze_time:null,type:"HUDDLE_SNOOZE"}))})),i},D=function(){var e,n,r;e=R("todo",C()),n=R("notification",j()),r=R("huddle",E);var o=[].concat(e,n,r);o.length?function(e){if(e.length>0){bt.c.isActive("btnSnoozeAll")?bt.c.update("btnSnoozeAll",{render:function(){return $.a.createElement("span",{className:"snooze-all",onClick:function(e){return I(0,e)}},A.snoozeAllNotifications)},containerId:"toastS"}):Object(bt.c)($.a.createElement("span",{className:"snooze-all",onClick:function(e){return I(0,e)}},A.snoozeAllNotifications),{className:"snooze-all-container",bodyClassName:"snooze-all-body",containerId:"toastS",toastId:"btnSnoozeAll",closeButton:!1});var n=e.slice(0,4),r=[];n.map((function(e){var n="notification"===e.type?c:"todo"===e.type?s:m,o=e.type+"__"+e.id,d="notification"===e.type?t[e.id]:"todo"===e.type?a.items[e.id]:Object.values(E).find((function(t){return t.id==e.id}));bt.c.isActive(o)?e.update&&bt.c.update(o,{render:function(){return $.a.createElement(At,{type:e.type,dictionary:A,id:d.id,item:d,user:i,users:b,actions:n,handleRedirect:S,darkMode:l,snoozeData:{id:d.id,is_snooze:!0,snooze_time:Object(Et.d)(180)}})},containerId:"toastS"}):Object(bt.c)($.a.createElement(At,{type:e.type,dictionary:A,id:d.id,item:d,user:i,users:b,actions:n,handleRedirect:S,darkMode:l,snoozeData:{id:d.id,is_snooze:!0,snooze_time:Object(Et.d)(180)}}),{className:"snooze-container",bodyClassName:"snooze-body",containerId:"toastS",toastId:o}),r.push(o)}))}else bt.c.dismiss("btnSnoozeAll")}(o):bt.c.dismiss("btnSnoozeAll")};Object(Q.useEffect)((function(){var e=setInterval((function(){y(!0)}),6e4);return function(){clearInterval(e)}}),[]),Object(Q.useEffect)((function(){if(k){y(!1);var e=P("todo",C()),t=P("notification",j()),n=P("huddle",E);0===e&&0===t&&0===n&&D()}}),[k,t,a,E]),Object(Q.useEffect)((function(){Object.keys(g).length>0&&O&&D()}),[t,a,E,O]);var L=u.getDay(),F=Object(Q.useRef)(0);return Object(Q.useEffect)((function(){F.current++,F.current>1&&(localStorage.removeItem("huddle"),localStorage.removeItem("huddleNotif"),localStorage.removeItem("reminderNotif"),h(Object(Ge.n)()))}),[L]),Object(Q.useEffect)((function(){var e=(new Date).getDay(),t=localStorage.getItem("huddle");t&&(JSON.parse(t).day===e&&0!==e&&6!==e||(localStorage.removeItem("huddle"),h(Object(Ge.n)())));y(!0)}),[]),$.a.createElement(jt,{darkMode:l},$.a.createElement(bt.b,{enableMultiContainer:!0,containerId:"toastS",position:"bottom-left",autoClose:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,limit:5,closeButton:!1,style:{zIndex:999}}))},St=(n(785),ne.a.div(V||(V=Object(X.a)(["\n  position: relative;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n  .card-body {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n  }\n  svg {\n    height: 50%;\n    width: 50%;\n  }\n"])))),xt=function(e){var t=Object(te.g)(),n=Object(ee.d)((function(e){return e.session.user}));return $.a.createElement(St,{className:"main-content"},$.a.createElement("div",{className:"trial-end"},$.a.createElement("div",{className:"card h-100"},$.a.createElement("div",{className:"card-body"},$.a.createElement(Se.q,{icon:2}),$.a.createElement("h3",null,"Your trial subscription has ended"),n&&n.role&&("owner"===n.role.name||"admin"===n.role.name)&&$.a.createElement("button",{className:"btn btn-primary",onClick:function(){t.push("/admin-settings/subscription/subscribe")}},"Go to subscription page")))))},It=ne.a.div(Y||(Y=Object(X.a)(["\n  position: relative;\n  ","\n\n  :hover {\n    .feather-pencil {\n      display: block;\n      top: 0;\n      right: -15px;\n      cursor: pointer;\n    }\n  }\n"])),(function(e){return e.hasCompanyLogo&&"height: 100%;\n    width: 70%;"})),Rt=ne.a.div(K||(K=Object(X.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  justify-content: center;\n  cursor: pointer;\n  .feather-heart {\n    color: #fff;\n    height: 0.7rem;\n    width: 0.7rem;\n    min-height: 0.7rem;\n    min-width: 0.7rem;\n    margin: 0 5px;\n  }\n  .company-logo {\n    height: 70%;\n    max-height: 40px;\n    max-width: 100px;\n  }\n"]))),Pt=Object(ne.a)(Se.r)(q||(q=Object(X.a)(["\n  width: 84px;\n  height: 56px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]))),Dt=Object(ne.a)(Se.r)(Z||(Z=Object(X.a)(["\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]))),Lt=function(e){var t=Object(ee.c)(),n=Object(te.g)(),a=Object(ee.d)((function(e){return e.settings.driff.logo})),i=function(e){e.preventDefault(),e.target.dataset.link?t(Object(Ie.Y)({mode:3})):t(Object(Ie.Y)({mode:2})),n.push("/chat")};return $.a.createElement(It,{hasCompanyLogo:""!==a.trim()},""!==a.trim()&&$.a.createElement(Rt,{"data-link":"/",onClick:i},$.a.createElement("img",{className:"company-logo",src:a,alt:"company logo"}),$.a.createElement(Se.s,{icon:"heart"}),$.a.createElement("div",{style:{position:"relative"}},$.a.createElement(Dt,{icon:"driff-logo2"}))),""===a.trim()&&$.a.createElement($.a.Fragment,null,$.a.createElement(Pt,{icon:"driff-logo2","data-link":"/chat",onClick:i})))},Ft=ne.a.div(J||(J=Object(X.a)([""]))),Mt=$.a.memo((function(){return $.a.createElement(Ft,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),Ut=n(115),Ht=n(143),Wt=n(196),zt=n(195),Bt=n(58),Gt=n(103),Vt=n(46),Yt=n(844),Kt=n.n(Yt),qt=n(63),Zt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===r&&(r=qt.generate()),Kt.a.create(e,{body:t,icon:null!==n?n:"./assets/icons/favicon.png",timeout:i,tag:e,onClick:function(){window.focus(),a&&a(),this.close()}})},Jt=n(22),Xt=n(17),Qt=n(33),$t=n(23),en=n(87),tn=n(20),nn=n(61),an=n(161),rn=n(66),on=n(71),cn=function(e){Object(Wt.a)(n,e);var t=Object(zt.a)(n);function n(e){var a;return Object(Ut.a)(this,n),(a=t.call(this,e)).refetchPosts=function(){a.props.refetchPosts({skip:0,limit:10})},a.refetchPostComments=function(){Object.keys(a.props.postComments).forEach((function(e){a.props.refetchPostComments({post_id:e})}))},a.refetch=function(){a.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&a.props.refetchMessages({message_id:a.props.lastReceivedMessage.id})},a.refetchOtherMessages=function(){if(a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&Object.values(a.props.channels).length){var e=Object.values(a.props.channels);a.props.refetchOtherMessages({message_id:a.props.lastReceivedMessage.id,channel_ids:e.filter((function(e){return"number"===typeof e.id&&e.id!==a.props.lastReceivedMessage.channel_id})).map((function(e){return e.id}))},(function(e,t){e||t.data.filter((function(e){return e.count_message>0})).forEach((function(e){a.props.getChannelDetail({id:e.channel_id})}))}))}},a.state={reconnected:null,disconnectedTimestamp:null,reconnectedTimestamp:null},a.onlineUsers=$.a.createRef(null),a.publishChannelId=$.a.createRef(null),a}return Object(Ht.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.getOnlineUsers(),this.props.getLatestReply({},(function(e,t){})),window.Echo.connector.socket.on("connect",(function(){})),window.Echo.connector.socket.on("disconnect",(function(){e.setState({disconnectedTimestamp:Math.floor(Date.now()/1e3)})})),window.Echo.connector.socket.on("reconnect",(function(){e.setState({reconnected:!0,reconnectedTimestamp:Math.floor(Date.now()/1e3)}),e.refetch(),e.refetchOtherMessages(),e.refetchPosts(),e.refetchPostComments(),e.props.getFavoriteWorkspaceCounters()})),window.Echo.connector.socket.on("reconnecting",(function(){})),window.Echo.private("".concat(localStorage.getItem("slug"),".App.User.Inactive")).listen(".user-inactive",(function(t){e.props.incomingDeletedUser(t)})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".Driff.User.").concat(this.props.user.id)).listen(".proposal-version-comment-notification",(function(t){e.props.incomingWIPFileComment(t)})).listen(".proposal-comment-notification",(function(t){e.props.incomingWIPComment(t)})).listen(".proposal-notification",(function(t){console.log(t),e.props.incomingWIP(Object(et.a)(Object(et.a)({},t),{},{clap_user_ids:[]}))})).listen(".proposal-subject-notification",(function(t){e.props.incomingWIPSubject(Object(et.a)(Object(et.a)({},t),{},{clap_user_ids:[]}))})).listen(".notification-read",(function(t){e.props.incomingReadNotifications(t)})).listen(".delete-notification",(function(t){var n="notification__".concat(t.notification_id);bt.c.isActive(n)&&bt.c.dismiss(n),e.props.removeNotificationReducer({id:t.notification_id})})).listen(".snooze-notification",(function(t){e.props.incomingSnoozedNotification(t)})).listen(".snooze-all-notification",(function(t){e.props.incomingSnoozedAllNotification(t)})).listen(".post-follow",(function(t){e.props.incomingFollowPost(t)})).listen(".post-unfollow",(function(t){e.props.incomingUnfollowPost(t)})).listen(".unarchive-post-notification",(function(t){t.posts.forEach((function(t){e.props.fetchPost({post_id:t.id},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{clap_user_ids:[],is_unread:1});e.props.incomingPost(a)}}))}))})).listen(".huddle-notification",(function(t){switch(t.SOCKET_TYPE){case"HUDDLE_CREATED":e.props.incomingHuddleBot(Object(et.a)(Object(et.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,n){return Object(et.a)(Object(et.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===n,isLastQuestion:t.questions.length===n+1})}))}));break;case"HUDDLE_UPDATED":e.props.incomingUpdatedHuddleBot(Object(et.a)(Object(et.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,n){return Object(et.a)(Object(et.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===n,isLastQuestion:t.questions.length===n+1})}))}));break;case"HUDDLE_DELETED":e.props.incomingDeletedHuddleBot({id:parseInt(t.id)});break;case"HUDDLE_ANSWER_UPDATE":e.props.incomingHuddleAnswers(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.huddle.channel_id}}));break;case"USER_ANSWERED":e.props.incomingHuddleAnswers(t),e.props.incomingChatMessage(Object(et.a)(Object(et.a)({},t.message),{},{huddle_log:t.huddle_log}));break;case"HUDDLE_SKIP":e.props.incomingHuddleSkip(t);break;default:return null}})).listen(".workspace-todo-notification",(function(t){switch(t.workspace&&Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace.id===e.id}))&&e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),t.SOCKET_TYPE){case"CREATE_WORKSPACE_TODO":e.props.incomingToDo(Object(et.a)(Object(et.a)({},t),{},{user:t.user_id}));break;case"UPDATE_WORKSPACE_TODO":e.props.incomingUpdateToDo(t);break;case"DONE_TODO":e.props.incomingDoneToDo(t);break;case"DELETE_WORKSPACE_TODO":e.props.incomingRemoveToDo(t);break;case"REMIND_WORKSPCE_TODO":e.props.incomingUpdateToDo(t);break;case"ADVANCE_REMIND_TODO":if(Bt.isSafari&&e.props.notificationsOn){Zt("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var n="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?n=t.data.workspaces.length?t.data.workspaces[0].workspace?"/workspace/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Object(ie.h)(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Object(ie.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(ie.h)(t.data.post.title)):"/workspace/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Object(ie.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(ie.h)(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Object(ie.h)(t.data.post.title)):"CHAT"===t.link_type&&(n="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==n&&e.props.history.push(n)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(t);break;default:return null}})).listen(".todo-notification",(function(t){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),t.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(Object(et.a)(Object(et.a)({},t),{},{user:t.user_id}));break;case"UPDATE_TODO":e.props.incomingUpdateToDo(t);break;case"DONE_TODO":e.props.incomingDoneToDo(t);break;case"DELETE_TODO":e.props.incomingRemoveToDo(t);break;case"REMIND_TODO":e.props.incomingUpdateToDo(t);break;case"ADVANCE_REMIND_TODO":if(Bt.isSafari&&e.props.notificationsOn){Zt("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var n="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?n=t.data.workspaces.length?t.data.workspaces[0].workspace?"/workspace/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Object(ie.h)(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Object(ie.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(ie.h)(t.data.post.title)):"/workspace/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Object(ie.h)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(ie.h)(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Object(ie.h)(t.data.post.title)):"CHAT"===t.link_type&&(n="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==n&&e.props.history.push(n)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(t);break;default:return null}})).listen(".workspace-role-notification",(function(t){e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(t.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;default:return null}})).listen(".workspace-folder-notification",(function(t){switch(t.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(t);break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(t),"/workspace/files"===e.props.match.url&&e.props.location.pathname.includes(t.folder.id)&&e.props.location.pathname.includes(t.topic_id)){var n=e.props.location.pathname.split("/folder/")[0];e.props.history.push(n)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(t);break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(t);break;default:return null}})).listen(".workspace-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){e.props.incomingTimeline(t)})).listen(".upload-bulk-private-workspace-files",(function(t){e.props.incomingFiles(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".favourite-notification",(function(t){switch(t.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(t);break;default:return null}})).listen(".unread-post",(function(t){e.props.incomingReadUnreadReducer(t),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1})})).listen(".post-notification",(function(t){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),t.SOCKET_TYPE){case"CLOSED_POST":e.props.incomingClosePost(t);break;case"POST_APPROVED":e.props.incomingPostApproval(t);break;case"POST_REQUIRED":e.props.incomingPostRequired(t);break;case"POST_COMMENT_APPROVED":e.props.getNotifications({skip:0,limit:5}),e.props.incomingCommentApproval(Object(et.a)(Object(et.a)({},t),{},{users_approval:t.users_approval.map((function(e){return e.id===t.user_approved.id?Object(et.a)(Object(et.a)({},e),t.user_approved):e}))}));break;case"READ_SELECTED_UNREAD_POST":e.props.incomingReadSelectedPosts(t);break;case"ARCHIVED_SELECTED_POST":e.props.incomingArchivedSelectedPosts(t);break;case"ADD_RECIPIENTS":e.props.fetchPost({post_id:t.post_id},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{clap_user_ids:[]});e.props.incomingPost(a)}}));break;case"POST_CREATE":var n=Object(et.a)(Object(et.a)({},t),{},{clap_user_ids:[],mention_ids:t.code_data&&t.code_data.mention_ids?t.code_data.mention_ids:[]}),a=n.users_approval.some((function(t){return t.id===e.props.user.id})),i=n.workspaces.length>0&&n.workspaces.some((function(t){return e.props.workspaces[t.topic_id]&&e.props.workspaces[t.topic_id].is_active})),r=n.mention_ids.some((function(t){return e.props.user.id===t})),o=n.must_read_users&&n.must_read_users.some((function(t){return e.props.user.id===t.id&&!t.must_read})),c=n.must_reply_users&&n.must_reply_users.some((function(t){return e.props.user.id===t.id&&!t.must_reply})),s=i||r||o||c||0===n.workspaces.length;n=Object(et.a)(Object(et.a)({},n),{},{show_post:s}),e.props.user.id!==n.author.id&&Bt.isSafari&&e.props.notificationsOn&&s&&Zt("".concat(n.author.first_name," shared a post"),n.title,n.author.profile_image_link,null),null!==n.show_at&&(e.props.user.id,n.author.id),e.props.incomingPost(Object(et.a)(Object(et.a)({},n),{},{post_approval_label:a?"NEED_ACTION":null})),n.channel_messages&&n.channel_messages.forEach((function(n){var a=Object(et.a)(Object(et.a)({},n.system_message),{},{files:[],editable:!1,unfurls:[],reactions:[],is_deleted:!1,todo_reminder:null,is_read:!1,is_completed:!1,user:null,new_post:!0,topic:n.topic,shared_with_client:t.shared_with_client});e.props.incomingPostNotificationMessage(a)}));break;case"POST_UPDATE":if(e.props.incomingUpdatedPost(t),t.channel_messages&&t.post_participant_data)if(t.post_participant_data.from_company||t.post_participant_data.all_participant_ids.some((function(t){return t===e.props.user.id}))){if(!t.post_participant_data.from_company&&t.post_participant_data.all_participant_ids.some((function(t){return t===e.props.user.id})))t.clap_user_ids=[],e.props.incomingPost(t),t.channel_messages&&t.channel_messages.forEach((function(n){n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!0,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.new_post=!1,n.system_message.topic=n.topic,n.system_message.shared_with_client=t.shared_with_client,e.props.incomingPostNotificationMessage(n.system_message)}));else if(t.post_participant_data.from_company){var l=Object.values(e.props.channels).filter((function(e){return"COMPANY"===e.type}));if(l.length){var d=l[0].id,m=Object(gt.a)(t.channel_messages);m=m.filter((function(e){return e.channel.id!==d})),e.props.deletePostNotification(m)}}}else e.props.deletePostNotification(t.channel_messages),e.props.incomingDeletedPost(t);break;case"POST_DELETE":if(e.props.incomingDeletedPost(t),t.notification_ids)Array.from(t.notification_ids).forEach((function(e){var t="notification__"+e;bt.c.isActive(t)&&bt.c.dismiss(t)}));break;case"POST_COMMENT_UPDATE":e.props.incomingComment(t);break;case"POST_CLAP_TOGGLE":e.props.user.id!==t.author.id&&(e.props.incomingPostClap(t),e.props.user.id===t.post_user_id&&1===t.clap_count&&Object(bt.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourPost),{position:bt.c.POSITION.BOTTOM_LEFT}));break;case"MARKED_DONE":e.props.incomingPostMarkDone(t);break;case"COMMENT_IMPORTANT":e.props.incomingImportantComment(t);break;default:return null}})).listen(".post-comment-notification",(function(t){switch(t.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(e.props.incomingComment(Object(et.a)(Object(et.a)({},t),{},{clap_user_ids:[]})),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),t.workspaces&&t.workspaces.length>=1&&t.author.id!==e.props.user.id){e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"});var n=t.workspaces.map((function(e){return e.topic_id}));Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.some((function(t){return t===e.id}))}))&&e.props.getFavoriteWorkspaceCounters()}if(t.author.id!==e.props.user.id){if(e.props.posts[t.post_id]||e.props.fetchPost({post_id:t.post_id},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{clap_user_ids:[],is_unread:1});e.props.incomingPost(a)}})),Bt.isSafari&&e.props.notificationsOn){var a="";(a=t.workspaces.length?t.workspaces[0].workspace_id?"/workspace/posts/".concat(t.workspaces[0].workspace_id,"/").concat(Object(ie.h)(t.workspaces[0].workspace_name),"/").concat(t.workspaces[0].topic_id,"/").concat(Object(ie.h)(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Object(ie.h)(t.post_title)):"/workspace/posts/".concat(t.workspaces[0].topic_id,"/").concat(Object(ie.h)(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Object(ie.h)(t.post_title)):"/posts/".concat(t.post_id,"/").concat(Object(ie.h)(t.post_title)))===e.props.location.pathname&&!e.props.isIdle&&e.props.isBrowserActive&&document.hasFocus()||Zt("".concat(t.author.first_name," replied in a post"),Object(ie.j)(t.body),t.author.profile_image_link,(function(){return e.props.history.push(a,{focusOnMessage:t.id})}))}t.workspaces.forEach((function(t){e.props.getUnreadWorkspacePostEntries({topic_id:t.topic_id},(function(n,a){n||e.props.updateWorkspacePostCount({topic_id:t.topic_id,count:a.data.result})}))}))}break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(t);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(Object(et.a)(Object(et.a)({},t),{},{clap_user_ids:[]}));break;case"POST_COMMENT_CLAP_TOGGLE":e.props.user.id!==t.author.id&&(e.props.incomingCommentClap(t),e.props.user.id===t.comment_user_id&&1===t.clap_count&&Object(bt.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourComment),{position:bt.c.POSITION.BOTTOM_LEFT}));break;default:return null}})).listen(".chat-notification",(function(t){var n=e.props,a=n.user,i=n.selectedChannel,r=n.isIdle,o=n.isBrowserActive;switch(t.SOCKET_TYPE){case"CHAT_CREATE":t.is_huddle&&e.publishChannelId.current!==t.channel_id&&(e.props.toaster.success("".concat(e.props.dictionary.huddlePublished," - ").concat(t.channel_name),{toastId:t.channel_id}),e.props.clearUnpublishedAnswer(t),setTimeout((function(){e.publishChannelId.current=null}),5e3));var c=Object(et.a)({},t);if(t.is_active?(null===c.user||c.user.id!==a.id&&!c.is_muted)&&e.props.soundPlay():!t.is_active&&t.code_data&&t.code_data.mention_ids&&t.code_data.mention_ids.some((function(t){return t===e.props.user.id}))&&e.props.soundPlay(),null!==c.user&&e.props.user.id===c.user.id||(delete c.reference_id,c.g_date=e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),!r&&o&&document.hasFocus()&&e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===c.channel_id&&(c.is_read=!0)),e.props.incomingChatMessage(Object(et.a)(Object(et.a)({},c),{},{translated_body:null})),delete t.SOCKET_TYPE,delete t.socket,t.user.id!==a.id&&!t.is_muted&&e.props.notificationsOn&&Bt.isSafari&&t.is_active&&(!e.props.location.pathname.includes("/chat/")||i.code!==t.channel_code||r||!o||!document.hasFocus())){Zt("".concat(t.reference_title),t.reference_title.includes("in a direct message")?"".concat(Object(ie.j)(t.body)):"".concat(t.user.first_name,": ").concat(Object(ie.j)(t.body)),t.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(t.channel_code,"/").concat(t.code))}))}if(void 0===t.workspace_id||null===t.workspace_id||0===t.workspace_id){var s={};"CHAT_REMINDER_MESSAGE"===t.entity_type?s={count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:c.user.id!==a.id&&!1===t.is_muted&&(s={count:1,entity_type:"CHAT_MESSAGE"}),e.props.setGeneralChat(s)}else c.user.id!==a.id&&(e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"}),Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace_id===e.id}))&&e.props.getFavoriteWorkspaceCounters());var l=e.props.channels[t.channel_id];("undefined"===typeof l&&t.is_active||"undefined"===typeof l&&!t.is_active&&t.code_data&&t.code_data.mention_ids&&t.code_data.mention_ids.some((function(t){return t===e.props.user.id})))&&e.props.getChannel({code:t.channel_code});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(Object(et.a)(Object(et.a)({},t),{},{translated_body:null}));break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(t);break;case"TOGGLE_IMPORTANT":e.props.incomingImportantChat(t);break;case"STAR_CHAT":e.props.incomingChatStar(t);break;default:return null}})).listen(".post-list-notification",(function(t){e.props.getPostList({},(function(n,a){if(!n){var i={link_id:t.link_id,post_id:t.post_id};switch(t.SOCKET_TYPE){case"POST_LIST_CONNECTED":e.props.incomingPostListConnect(i);break;case"POST_LIST_DISCONNECTED":e.props.incomingPostListDisconnect(i);break;default:return null}}}))})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.Broadcast")).listen(".create-team",(function(t){e.props.incomingTeam(t)})).listen(".update-team",(function(t){e.props.incomingUpdatedTeam(t)})).listen(".remove-team",(function(t){Array.from(Object.values(e.props.workspaces)).map((function(n){if(n.members.some((function(n){return n.members&&n.id===t.id&&n.members.some((function(t){return t.id===e.props.user.id}))}))){if(!n.members.some((function(t){return("internal"===t.type||"external"===t.type)&&e.props.user.id===t.id})))if(!n.members.filter((function(e){return e.members&&e.id!==t.id})).map((function(e){return e.member_ids})).flat().some((function(t){return t===e.props.user.id})))if(n.is_lock){var a=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];a.some((function(t){return e.props.selectedChannel&&t===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:a})}else{var i=n.members.filter((function(e){return e.members&&e.id===t.id})).map((function(e){return e.member_ids})).flat(),r=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:r,remove_member_ids:i})}return n}return n})),e.props.incomingDeletedTeam(t)})).listen(".add-team-member",(function(t){e.props.incomingTeamMember(t)})).listen(".remove-team-member",(function(t){Array.from(Object.values(e.props.workspaces)).map((function(n){if(n.members.some((function(n){return n.members&&n.id===t.id&&n.members.some((function(t){return t.id===e.props.user.id}))}))){if(n.members.some((function(t){return("internal"===t.type||"external"===t.type)&&e.props.user.id===t.id}))||1!==n.is_lock){if(!n.members.some((function(t){return("internal"===t.type||"external"===t.type)&&e.props.user.id===t.id}))){var a=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:a,remove_member_ids:t.remove_member_ids})}}else{var i=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];i.some((function(t){return e.props.selectedChannel&&t===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:i})}return n}return n})),e.props.incomingRemovedTeamMember(t)})).listen(".create-drive-link",(function(t){e.props.incomingDriveLink(t)})).listen(".remove-drive-link",(function(t){e.props.incomingDeletedDriveLink(t)})).listen(".update-drive-link",(function(t){e.props.incomingUpdatedDriveLink(t)})).listen(".upload-company-logo",(function(t){e.props.incomingUpdatedCompanyLogo(t)})).listen(".reset-company-logo",(function(t){e.props.incomingUpdatedCompanyLogo({files:{view_link:""}})})).listen(".team-checkout-complete",(function(t){e.props.incomingUpdatedSubscription(t)})).listen(".team-subscription-cancelled",(function(t){console.log(t,"cancelled subs"),e.props.incomingUpdatedSubscription(t)})).listen(".team-subscription-will-end",(function(e){console.log(e,"trial will end")})).listen(".reset-password-notification",(function(t){e.props.incomingAcceptedInternal(t)})).listen(".remove-file-notification",(function(t){switch(t.SOCKET_TYPE){case"REMOVE_FILE":e.props.incomingRemoveFileAutomatically(t);break;case"REMOVE_FILE_ON_DOWNLOAD":e.props.incomingRemoveFileAfterDownload(t.files);break;default:return null}})).listen(".workspace-team-channel",(function(t){e.props.incomingTeamChannel(t)})).listen(".announcement-notification",(function(t){switch(t.SOCKET_TYPE){case"ANNOUNCEMENT_UPDATED":e.props.incomingUpdatedAnnouncement(t);break;case"ANNOUNCEMENT_CREATED":e.props.incomingCreatedAnnouncement(t);break;case"ANNOUNCEMENT_DELETED":e.props.incomingDeletedAnnouncement(t);break;default:return null}})).listen(".users-online-broadcast",(function(t){e.props.incomingOnlineUsers(t)})).listen(".user-updated",(function(t){switch(t.SOCKET_TYPE){case"ARCHIVED_ACCOUNT":var n={channel_ids:[].concat(Object(gt.a)(t.connected_data.user_removed_channel_ids),Object(gt.a)(t.connected_data.archived_channel_ids)),topic_ids:[].concat(Object(gt.a)(t.connected_data.user_removed_topic_ids),Object(gt.a)(t.connected_data.archived_topic_ids)),user:t.user};e.props.incomingArchivedUser(n),t.user.id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Vt.sessionService.deleteSession().then((function(){return Vt.sessionService.deleteUser()})));break;case"RESTORED_ACCOUNT":e.props.incomingUnarchivedUser(t);break;case"DEACTIVATE_ACCOUNT":e.props.incomingDeactivatedUser(t),t.user_id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Vt.sessionService.deleteSession().then((function(){return Vt.sessionService.deleteUser()})));break;case"ACTIVATE_ACCOUNT":e.props.incomingActivatedUser(t);break;default:return null}})).listen(".updated-version",(function(t){var n=t.version,a=t.requirement,i=parseFloat(n.substr(2)),r=parseFloat(an.a.version.substr(2));!Object(tn.f)(window.location.hostname)&&"localhost"!==window.location.hostname&&i>r&&(e.props.setNewDriffData({requirement:a,showNewDriffBar:!0}),localStorage.setItem("site_ver",n))})).listen(".user-role-notification",(function(t){e.props.incomingUserRole(t),t.user_id===e.props.user.id&&e.props.getUser({id:e.props.user.id},(function(e,t){e||Vt.sessionService.saveUser(Object(et.a)({},t.data))}))})).listen(".company-announcement",(function(t){e.props.updateCompanyPostAnnouncement(t)})).listen(".company-request-form-notification",(function(t){switch(t.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(t);break;default:return null}})).listen(".company-notification",(function(t){switch(t.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(t);break;default:return null}})).listen(".company-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(t);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(t);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(t);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(t);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(t);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(t);break;case"FILE_DELETE":e.props.incomingCompanyRemovedFile(t);break;default:return null}})).listen(".company-folder-notification",(function(t){switch(t.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(t);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(t);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(t);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(t);break;default:return null}})).listen(".delete-workspace",(function(t){e.props.incomingDeletedWorkspaceFolder(t)})).listen(".workspace-role-notification",(function(t){e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(t.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(t);break;default:return null}})).listen(".external-user-notification",(function(t){e.props.incomingExternalUser(t)})).listen(".user-notification",(function(t){switch(t.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(t),t.id!==e.props.user.id&&t.user_id!==e.props.user.id||e.props.getUser({id:e.props.user.id},(function(e,t){e||Vt.sessionService.saveUser(Object(et.a)({},t.data))}));break;default:return null}})).listen(".post-notification",(function(t){switch(t.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){e.props.incomingTimeline(t)})).listen(".upload-bulk-workspace-files",(function(t){e.props.incomingFiles(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".workspace-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".new-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,a){n||e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}}))})):e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}})),t.channel.code?e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):t.team_channel.code&&e.props.getChannel({code:t.team_channel.code},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(et.a)(Object(et.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-workspace",(function(t){if("WORKSPACE"===t.type&&e.props.workspaces[t.id]&&!1===e.props.workspaces[t.id].is_shared&&t.is_shared&&e.props.transferChannelMessages({channel:t.channel,team_channel:t.team_channel,topic_id:t.id}),e.props.incomingUpdatedWorkspaceFolder(Object(et.a)(Object(et.a)({},t),{},{is_shared:t.is_shared,channel:t.channel?Object(et.a)({},t.channel):{id:0,code:null,icon_link:null}})),"WORKSPACE"===t.type){if(e.props.getAllWorkspaceFolders(),t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(n,a){n||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}))})));t.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&"external"===e.props.user.type&&1!==t.private&&t.remove_member_ids.some((function(t){return t===e.props.user.id}))&&e.props.history.push("/workspace/search")}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var n=e.props.location.pathname;n=n.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(n,"/").concat(t.id,"/").concat(Object(ie.h)(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/workspace/".concat(n,"/").concat(t.workspace_id,"/").concat(Object(ie.h)(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Object(ie.h)(t.name)))}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.User.").concat(this.props.user.id)).listen(".create-meeting-notification",(function(t){e.props.user.id!==t.host.id&&setTimeout((function(){e.props.addToModals(Object(et.a)(Object(et.a)({},t),{},{type:"zoom_invite"})),e.props.incomingZoomData(Object(et.a)({},t.zoom_data.data))}),2e3)})).listen(".workspace-active",(function(t){e.props.incomingWorkpaceNotificationStatus(t)})).listen(".create-drive-link",(function(t){e.props.incomingDriveLink(t)})).listen(".remove-drive-link",(function(t){e.props.incomingDeletedDriveLink(t)})).listen(".update-drive-link",(function(t){e.props.incomingUpdatedDriveLink(t)})).listen(".favourite-workspace-notification",(function(t){e.props.incomingFavouriteWorkspace(t)})).listen(".post-read-require",(function(t){e.props.incomingMarkAsRead(t)})).listen(".new-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,a){n||e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}}))})):e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}})),t.channel.code?e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):t.team_channel.code&&e.props.getChannel({code:t.team_channel.code},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(et.a)(Object(et.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".new-lock-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,a){n||e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}}))})):e.props.incomingWorkspace(Object(et.a)(Object(et.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null}})),t.channel.code?e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):t.team_channel.code&&e.props.getChannel({code:t.team_channel.code},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(et.a)(Object(et.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-lock-workspace",(function(t){var n=[];if("WORKSPACE"===t.type&&e.props.workspaces[t.id]&&!1===e.props.workspaces[t.id].is_shared&&t.is_shared&&e.props.transferChannelMessages({channel:t.channel,team_channel:t.team_channel,topic_id:t.id}),"WORKSPACE"===t.type&&(n=t.members.map((function(e){return e.member_ids?e.members:e})).flat()),e.props.incomingUpdatedWorkspaceFolder(Object(et.a)(Object(et.a)({},t),{},{is_shared:t.is_shared,channel:t.channel?Object(et.a)({},t.channel):{id:0,code:null,icon_link:null}})),"WORKSPACE"===t.type){if(e.props.getAllWorkspaceFolders(),t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(n,a){n||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}))})));t.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&t.remove_member_ids.some((function(t){return t===e.props.user.id}))&&!n.some((function(t){return t.id===e.props.user.id}))&&e.props.history.push("/workspace/search")}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var a=e.props.location.pathname;a=a.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(a,"/").concat(t.id,"/").concat(Object(ie.h)(t.name))):t.original_workspace_id!==t.workspace_id&&(t.current_workspace_folder_name?e.props.history.push("/workspace/".concat(a,"/").concat(t.workspace_id,"/").concat(Object(ie.h)(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Object(ie.h)(t.name))):e.props.history.push("/workspace/".concat(a,"/").concat(t.id,"/").concat(Object(ie.h)(t.name))))}})).listen(".users-online",(function(t){e.props.currentOnlineUsers(t.current_users_online.map((function(e){return Object(et.a)(Object(et.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(t){var n={post_id:t.post_id,viewer:t.user};e.props.incomingPostViewer(n)})).listen(".updated-post-visitors",(function(e){})).listen(".move-private-topic-workspace",(function(t){e.props.incomingMovedTopic(t)})).listen(".update-channel-name",(function(t){var n=Object(et.a)(Object(et.a)({},t),{},{message:Object(et.a)(Object(et.a)({},t.message),{},{g_date:e.props.localizeDate(t.message.created_at.timestamp,"YYYY-MM-DD"),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(n)})).listen(".member-update-timestamp",(function(t){e.props.setMemberTimestamp(t)})).listen(".new-added-member-chat",(function(t){if(t.id){var n=JSON.parse(t.body.replace("CHANNEL_UPDATE::","")),a=Object(et.a)(Object(et.a)({},t),{},{is_deleted:!1,reactions:[],last_reply:null,body:t.body,created_at:t.created_at,updated_at:t.created_at,files:[],id:t.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:t.channel_id,g_date:e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),code:t.code}),i={users:Object.values(e.props.users).filter((function(e){return n.added_members.some((function(t){return t===e.id}))})).map((function(e){return Object(et.a)(Object(et.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:t.channel_id,data:t,message:a};e.props.channels.hasOwnProperty(t.channel_id)||n.author.id===e.props.user.id?e.props.joinWorkspaceReducer(i):(e.props.getChannel({code:t.channel_code},(function(t,n){if(!t){var a=Object(et.a)(Object(et.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===n.data.is_archived,isFetching:!1});e.props.addToChannels(a)}})),t.workspace_data&&(t.workspace_data.workspace&&!e.props.folders.hasOwnProperty(t.workspace_data.workspace.id)?e.props.getWorkspaceFolder({folder_id:t.workspace_data.workspace.id},(function(n,a){n||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.workspace_data.topic.id}):e.props.getWorkspace({topic_id:t.workspace_data.topic.id}))})):"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.workspace_data.topic.id}):e.props.getWorkspace({topic_id:t.workspace_data.topic.id})))}})).listen(".archived-chat-channel",(function(t){t.channel_data.topic_detail?(t.channel_data.timeline&&e.props.incomingTimeline({timeline_data:t.channel_data.timeline,workspace_data:{topic_id:t.channel_data.topic_detail.id}}),"UNARCHIVED"===t.channel_data.status?e.props.incomingUnArchivedWorkspaceChannel(t.channel_data):e.props.incomingArchivedWorkspaceChannel(t.channel_data)):e.props.incomingArchivedChannel(t.channel_data)})).listen(".new-chat-channel",(function(t){t.channel_data.creator_by.id!==e.props.user.id&&e.props.getChannel({code:t.channel_data.code},(function(n,a){if(!n){var i=Object(et.a)(Object(et.a)({},a.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1,creator:t.channel_data.creator_by});e.props.addToChannels(i)}}))})).listen(".chat-message-react",(function(t){e.props.incomingChatMessageReaction(Object(et.a)(Object(et.a)({},t),{},{user_name:t.name}))})).listen(".updated-notification-counter",(function(t){"CHAT"===t.entity_group_type&&(Object.values(e.props.workspaces).find((function(e){return e.is_favourite&&(e.channel.id===parseInt(t.entity_id)||e.team_channel&&e.team_channel.id===parseInt(t.entity_id))}))&&e.props.getFavoriteWorkspaceCounters());e.props.setUnreadNotificationCounterEntries(t)}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.useDriff.updateFaviconState(0!==Object.keys(this.props.unreadCounter).filter((function(e){return"chat_reminder_message"!==e})).reduce((function(e,t){return e+=n.props.unreadCounter[t]}),0)||0!==this.props.todos.count.overdue)}},{key:"render",value:function(){return null}}]),n}(Q.Component);var sn=Object(ee.b)((function(e){var t=e.session.user,n=e.settings.userSettings,a=e.chat,i=a.channels,r=a.selectedChannel,o=a.isLastChatVisible,c=a.lastReceivedMessage,s=e.workspaces,l=s.workspaces,d=s.workspacePosts,m=s.folders,p=s.activeTopic,u=s.workspacesLoaded,f=s.postComments,h=e.global,b=h.unreadCounter,E=h.todos,g=h.recipients,O=h.isIdle,v=h.isBrowserActive,_=e.users,w=_.mentions;return{user:t,users:_.users,settings:n,channels:i,selectedChannel:r,workspacePosts:d,folders:m,mentions:w,activeTopic:p,workspacesLoaded:u,workspaces:l,isLastChatVisible:o,lastReceivedMessage:c,unreadCounter:b,todos:E,recipients:g,postComments:f,isIdle:O,isBrowserActive:v,posts:e.posts.companyPosts.posts}}),(function(e){return{addToChannels:Object(Gt.bindActionCreators)(Ge.i,e),addUserToReducers:Object(Gt.bindActionCreators)(Ie.b,e),getChannel:Object(Gt.bindActionCreators)(Ge.x,e),setBrowserTabStatus:Object(Gt.bindActionCreators)(Ie.U,e),getOnlineUsers:Object(Gt.bindActionCreators)(Qt.m,e),getConnectedSlugs:Object(Gt.bindActionCreators)(Ie.o,e),getUser:Object(Gt.bindActionCreators)(Qt.p,e),setMemberTimestamp:Object(Gt.bindActionCreators)(Ge.Vb,e),setAllMessagesAsRead:Object(Gt.bindActionCreators)(Ge.Kb,e),incomingChatMessage:Object(Gt.bindActionCreators)(Ge.R,e),incomingChatMessageFromOthers:Object(Gt.bindActionCreators)(Ge.S,e),addFilesToChannelAction:Object(Gt.bindActionCreators)(Jt.c,e),deleteFilesFromChannelAction:Object(Gt.bindActionCreators)(Jt.l,e),generateUnfurl:Object(Gt.bindActionCreators)(Ie.l,e),generateUnfurlReducer:Object(Gt.bindActionCreators)(Ie.m,e),setChannel:Object(Gt.bindActionCreators)(Ge.Lb,e),incomingArchivedChannel:Object(Gt.bindActionCreators)(Ge.Q,e),incomingChatMessageReaction:Object(Gt.bindActionCreators)(Ge.T,e),incomingUpdatedChatMessage:Object(Gt.bindActionCreators)(Ge.db,e),incomingDeletedChatMessage:Object(Gt.bindActionCreators)(Ge.V,e),incomingUpdatedChannelDetail:Object(Gt.bindActionCreators)(Ge.cb,e),getChannelMembers:Object(Gt.bindActionCreators)(Ge.B,e),updateChannelMembersTitle:Object(Gt.bindActionCreators)(Ge.fc,e),incomingWorkspaceFolder:Object(Gt.bindActionCreators)($t.M,e),incomingWorkspace:Object(Gt.bindActionCreators)($t.L,e),incomingUpdatedWorkspaceFolder:Object(Gt.bindActionCreators)($t.J,e),incomingMovedTopic:Object(Gt.bindActionCreators)($t.F,e),setGeneralChat:Object(Gt.bindActionCreators)(Ie.W,e),setUnreadNotificationCounterEntries:Object(Gt.bindActionCreators)(Ie.bb,e),incomingPost:Object(Gt.bindActionCreators)(Xt.X,e),incomingPostClap:Object(Gt.bindActionCreators)(Xt.Z,e),incomingDeletedPost:Object(Gt.bindActionCreators)(Xt.S,e),incomingComment:Object(Gt.bindActionCreators)(Xt.O,e),incomingCommentClap:Object(Gt.bindActionCreators)(Xt.Q,e),incomingFolder:Object(Gt.bindActionCreators)(Jt.sb,e),incomingDeletedFolder:Object(Gt.bindActionCreators)(Jt.jb,e),incomingFile:Object(Gt.bindActionCreators)(Jt.ob,e),incomingFiles:Object(Gt.bindActionCreators)(Jt.rb,e),incomingDeletedFile:Object(Gt.bindActionCreators)(Jt.hb,e),incomingMovedFile:Object(Gt.bindActionCreators)(Jt.wb,e),incomingRestoreFile:Object(Gt.bindActionCreators)(Jt.Db,e),incomingRestoreFolder:Object(Gt.bindActionCreators)(Jt.Eb,e),incomingEmptyTrash:Object(Gt.bindActionCreators)(Jt.nb,e),incomingCompanyFolder:Object(Gt.bindActionCreators)(Jt.Z,e),incomingCompanyUpdatedFolder:Object(Gt.bindActionCreators)(Jt.fb,e),incomingCompanyDeletedFolder:Object(Gt.bindActionCreators)(Jt.V,e),incomingCompanyFile:Object(Gt.bindActionCreators)(Jt.X,e),incomingCompanyFiles:Object(Gt.bindActionCreators)(Jt.Y,e),incomingCompanyDeletedFile:Object(Gt.bindActionCreators)(Jt.T,e),incomingCompanyMovedFile:Object(Gt.bindActionCreators)(Jt.bb,e),incomingCompanyEmptyTrash:Object(Gt.bindActionCreators)(Jt.W,e),incomingCompanyRemovedFile:Object(Gt.bindActionCreators)(Jt.zb,e),incomingCompanyMoveFile:Object(Gt.bindActionCreators)(Jt.ab,e),incomingCompanyRestoreFile:Object(Gt.bindActionCreators)(Jt.cb,e),incomingCompanyRestoreFolder:Object(Gt.bindActionCreators)(Jt.db,e),incomingCompanyRemovedFolder:Object(Gt.bindActionCreators)(Jt.Ab,e),incomingCompanyDeletedFiles:Object(Gt.bindActionCreators)(Jt.U,e),incomingCompanyUpdatedFile:Object(Gt.bindActionCreators)(Jt.eb,e),incomingPostViewer:Object(Gt.bindActionCreators)(Xt.fb,e),incomingUpdatedPost:Object(Gt.bindActionCreators)(Xt.jb,e),incomingTimeline:Object(Gt.bindActionCreators)($t.H,e),incomingDeletedPostFile:Object(Gt.bindActionCreators)(Jt.lb,e),incomingDeletedComment:Object(Gt.bindActionCreators)(Xt.R,e),incomingUpdatedUser:Object(Gt.bindActionCreators)(Qt.G,e),unreadChannelReducer:Object(Gt.bindActionCreators)(Ge.ec,e),incomingRemovedFile:Object(Gt.bindActionCreators)(Jt.Bb,e),incomingRemovedFolder:Object(Gt.bindActionCreators)(Jt.Cb,e),getWorkspace:Object(Gt.bindActionCreators)($t.u,e),setSelectedChannel:Object(Gt.bindActionCreators)(Ge.Xb,e),incomingArchivedWorkspaceChannel:Object(Gt.bindActionCreators)($t.C,e),incomingUnArchivedWorkspaceChannel:Object(Gt.bindActionCreators)($t.I,e),updateWorkspaceCounter:Object(Gt.bindActionCreators)($t.bb,e),fetchPost:Object(Gt.bindActionCreators)(Xt.u,e),incomingDeletedFiles:Object(Gt.bindActionCreators)(Jt.ib,e),incomingGoogleFile:Object(Gt.bindActionCreators)(Jt.ub,e),incomingGoogleFolder:Object(Gt.bindActionCreators)(Jt.vb,e),joinWorkspaceReducer:Object(Gt.bindActionCreators)($t.P,e),incomingDeletedGoogleFile:Object(Gt.bindActionCreators)(Jt.kb,e),incomingWorkspaceRole:Object(Gt.bindActionCreators)($t.N,e),incomingDeletedWorkspaceFolder:Object(Gt.bindActionCreators)($t.D,e),incomingExternalUser:Object(Gt.bindActionCreators)(Qt.y,e),getWorkspaceFolder:Object(Gt.bindActionCreators)($t.x,e),incomingUpdateCompanyName:Object(Gt.bindActionCreators)(en.d,e),incomingInternalUser:Object(Gt.bindActionCreators)(Qt.z,e),incomingToDo:Object(Gt.bindActionCreators)(Ie.G,e),incomingUpdateToDo:Object(Gt.bindActionCreators)(Ie.H,e),incomingDoneToDo:Object(Gt.bindActionCreators)(Ie.D,e),incomingRemoveToDo:Object(Gt.bindActionCreators)(Ie.F,e),incomingPostMarkDone:Object(Gt.bindActionCreators)(Xt.cb,e),incomingFavouriteItem:Object(Gt.bindActionCreators)(Ie.E,e),incomingReadUnreadReducer:Object(Gt.bindActionCreators)(Xt.hb,e),updateCompanyPostAnnouncement:Object(Gt.bindActionCreators)(en.i,e),incomingUserRole:Object(Gt.bindActionCreators)(Qt.H,e),deletePostNotification:Object(Gt.bindActionCreators)(Ge.v,e),incomingPostNotificationMessage:Object(Gt.bindActionCreators)(Ge.bb,e),incomingMarkAsRead:Object(Gt.bindActionCreators)(Xt.W,e),addToModals:Object(Gt.bindActionCreators)(Ie.a,e),refetchMessages:Object(Gt.bindActionCreators)(Ie.O,e),refetchOtherMessages:Object(Gt.bindActionCreators)(Ie.P,e),getChannelDetail:Object(Gt.bindActionCreators)(Ge.y,e),incomingReminderNotification:Object(Gt.bindActionCreators)(nn.f,e),getLatestReply:Object(Gt.bindActionCreators)(Ie.r,e),incomingPostRecipients:Object(Gt.bindActionCreators)(Xt.db,e),refetchPosts:Object(Gt.bindActionCreators)(Xt.Jb,e),refetchPostComments:Object(Gt.bindActionCreators)(Xt.Ib,e),getUnreadNotificationCounterEntries:Object(Gt.bindActionCreators)(Ie.A,e),incomingImportantComment:Object(Gt.bindActionCreators)(Xt.U,e),incomingImportantChat:Object(Gt.bindActionCreators)(Ge.ab,e),incomingReadSelectedPosts:Object(Gt.bindActionCreators)(Xt.gb,e),incomingArchivedSelectedPosts:Object(Gt.bindActionCreators)(Xt.M,e),getUnreadWorkspacePostEntries:Object(Gt.bindActionCreators)($t.t,e),updateWorkspacePostCount:Object(Gt.bindActionCreators)($t.cb,e),incomingPostApproval:Object(Gt.bindActionCreators)(Xt.Y,e),incomingChatStar:Object(Gt.bindActionCreators)(Ge.U,e),incomingCommentApproval:Object(Gt.bindActionCreators)(Xt.P,e),incomingArchivedUser:Object(Gt.bindActionCreators)(Qt.u,e),incomingUnarchivedUser:Object(Gt.bindActionCreators)(Qt.E,e),incomingDeactivatedUser:Object(Gt.bindActionCreators)(Qt.v,e),incomingActivatedUser:Object(Gt.bindActionCreators)(Qt.t,e),incomingHuddleBot:Object(Gt.bindActionCreators)(Ge.Y,e),incomingUpdatedHuddleBot:Object(Gt.bindActionCreators)(Ge.eb,e),incomingDeletedHuddleBot:Object(Gt.bindActionCreators)(Ge.W,e),incomingHuddleAnswers:Object(Gt.bindActionCreators)(Ge.X,e),clearUnpublishedAnswer:Object(Gt.bindActionCreators)(Ge.q,e),incomingClosePost:Object(Gt.bindActionCreators)(Xt.N,e),incomingHuddleSkip:Object(Gt.bindActionCreators)(Ge.Z,e),incomingOnlineUsers:Object(Gt.bindActionCreators)(Qt.A,e),incomingUpdatedAnnouncement:Object(Gt.bindActionCreators)(Ie.I,e),incomingCreatedAnnouncement:Object(Gt.bindActionCreators)(Ie.B,e),incomingDeletedAnnouncement:Object(Gt.bindActionCreators)(Ie.C,e),getPostList:Object(Gt.bindActionCreators)(Xt.D,e),incomingPostListConnect:Object(Gt.bindActionCreators)(Xt.ab,e),incomingPostListDisconnect:Object(Gt.bindActionCreators)(Xt.bb,e),getUnarchivePost:Object(Gt.bindActionCreators)(Xt.I,e),incomingPostRequired:Object(Gt.bindActionCreators)(Xt.eb,e),incomingTeamChannel:Object(Gt.bindActionCreators)($t.G,e),incomingRemoveFileAfterDownload:Object(Gt.bindActionCreators)(Jt.xb,e),incomingRemoveFileAutomatically:Object(Gt.bindActionCreators)(Jt.yb,e),incomingFavouriteWorkspace:Object(Gt.bindActionCreators)($t.E,e),getFavoriteWorkspaceCounters:Object(Gt.bindActionCreators)($t.p,e),getToDoDetail:Object(Gt.bindActionCreators)(Ie.x,e),setActiveTopic:Object(Gt.bindActionCreators)($t.U,e),incomingDeletedUser:Object(Gt.bindActionCreators)(Qt.x,e),incomingFollowPost:Object(Gt.bindActionCreators)(Xt.T,e),incomingUnfollowPost:Object(Gt.bindActionCreators)(Xt.ib,e),incomingAcceptedInternal:Object(Gt.bindActionCreators)(Qt.s,e),incomingZoomData:Object(Gt.bindActionCreators)(Ie.J,e),transferChannelMessages:Object(Gt.bindActionCreators)(Ge.dc,e),getNotifications:Object(Gt.bindActionCreators)(nn.d,e),incomingSnoozedNotification:Object(Gt.bindActionCreators)(nn.h,e),incomingSnoozedAllNotification:Object(Gt.bindActionCreators)(nn.g,e),removeNotificationReducer:Object(Gt.bindActionCreators)(nn.n,e),setNewDriffData:Object(Gt.bindActionCreators)(Ie.Z,e),incomingReadNotifications:Object(Gt.bindActionCreators)(nn.e,e),incomingUpdatedSubscription:Object(Gt.bindActionCreators)(rn.l,e),incomingUpdatedCompanyLogo:Object(Gt.bindActionCreators)(rn.k,e),getWorkspaceAndSetToFavorites:Object(Gt.bindActionCreators)($t.v,e),incomingDriveLink:Object(Gt.bindActionCreators)(Jt.mb,e),incomingDeletedDriveLink:Object(Gt.bindActionCreators)(Jt.gb,e),incomingUpdatedDriveLink:Object(Gt.bindActionCreators)(Jt.Fb,e),incomingTeam:Object(Gt.bindActionCreators)(Qt.C,e),incomingUpdatedTeam:Object(Gt.bindActionCreators)(Qt.F,e),incomingDeletedTeam:Object(Gt.bindActionCreators)(Qt.w,e),incomingTeamMember:Object(Gt.bindActionCreators)(Qt.D,e),incomingRemovedTeamMember:Object(Gt.bindActionCreators)(Qt.B,e),getAllWorkspaceFolders:Object(Gt.bindActionCreators)($t.m,e),removeWorkspaceChannel:Object(Gt.bindActionCreators)(Ge.Eb,e),removeWorkspaceChannelMembers:Object(Gt.bindActionCreators)(Ge.Fb,e),incomingWorkpaceNotificationStatus:Object(Gt.bindActionCreators)($t.K,e),incomingWIP:Object(Gt.bindActionCreators)(on.i,e),incomingWIPSubject:Object(Gt.bindActionCreators)(on.l,e),incomingWIPComment:Object(Gt.bindActionCreators)(on.j,e),incomingWIPFileComment:Object(Gt.bindActionCreators)(on.k,e)}}))(Object(te.k)(cn)),ln=n(34),dn=n(55),mn=n.n(dn),pn=n(85),un="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function fn(){return(fn=Object(pn.a)(mn.a.mark((function e(){return mn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(){return navigator.serviceWorker.register("/sw.js")}function bn(){return(bn=Object(pn.a)(mn.a.mark((function e(){var t;return mn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:un});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var En,gn,On="serviceWorker"in navigator&&"PushManager"in window;function vn(){var e=Object(Q.useState)("undefined"!==typeof Notification&&Notification.permission),t=Object(Ce.a)(e,2),n=t[0],a=t[1],i=Object(Q.useState)(null),r=Object(Ce.a)(i,2),o=r[0],c=r[1],s=Object(Q.useState)(null),l=Object(Ce.a)(s,2),d=l[0],m=l[1],p=Object(Q.useState)(null),u=Object(Ce.a)(p,2),f=u[0],h=u[1],b=Object(Q.useState)(null),E=Object(Ce.a)(b,2),g=E[0],O=E[1],v=Object(Q.useState)(null),_=Object(Ce.a)(v,2),w=_[0],T=_[1],N=Object(Q.useState)(localStorage.getItem("remindNotification")),k=Object(Ce.a)(N,2),y=k[0],A=k[1],j=Object(Q.useState)(!1),C=Object(Ce.a)(j,2),S=C[0],x=C[1],I=Object(ee.c)(),R=Object(ee.d)((function(e){return e.notifications.hasSubscribed})),P=function(){h(!1),O(!0),function(){return bn.apply(this,arguments)}().then((function(e){c(e),I(Object(Ie.eb)(e,(function(e,t){if(e)return I(Object(nn.o)(!1)),O(!1),void h(e);O(!1),m(t.data.id)})))})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),h(e),I(Object(nn.o)(!1))}))};Object(Q.useEffect)((function(){On&&(h(!1),hn().then((function(){})))}),[]),Object(Q.useEffect)((function(){x(!0),h(!1),T(!0),function(){var e=Object(pn.a)(mn.a.mark((function e(){var t;return mn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:(t=e.sent)?I(Object(Ie.t)({endpoint:"".concat(t.endpoint)},(function(e,n){T(!1),e&&h(e),n.data.data?(c(t),I(Object(nn.o)(!0))):I(Object(nn.o)(null))}))):(console.log("no subscription"),I(Object(nn.o)(null)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(Q.useEffect)((function(){null===o&&null===g&&!1===w&&P()}),[o,g,w,I]),Object(Q.useEffect)((function(){On&&null===R&&hn().then((function(){"granted"===n&&(console.log("subscribe"),I(Object(nn.o)(!0)),P())}))}),[R,n]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),A(e)},onClickAskUserPermission:function(){h(!1),function(){return fn.apply(this,arguments)}().then((function(e){a(e),"granted"!==e?(h({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),c(!1)):P()}))},onClickSubscribeToPushNotification:P,onClickSendSubscriptionToPushServer:function(){h(!1),I(Object(Ie.eb)(o,(function(e,t){e?h(e):m(t.data.id)})))},pushServerSubscriptionId:d,onClickSendNotification:function(){h(!1),I(Object(Ie.t)({sub_id:d},(function(e,t){e&&h(e)})))},userConsent:n,pushNotificationSupported:On,userSubscription:o,error:f,showNotificationBar:"default"===n&&null===o&&(null===y||y<Math.floor(Date.now()/1e3)),mounted:S}}var _n,wn,Tn=ne.a.div(En||(En=Object(X.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  .feather {\n      cursor: pointer;\n  }\n"]))),Nn=ne.a.span(gn||(gn=Object(X.a)(["\n    text-decoration: underline;\n    cursor: pointer;\n"]))),kn=function(e){var t=e.onClickAskUserPermission,n=e.onClickRemindLater;return $.a.createElement(Tn,null,$.a.createElement("p",null,"Please enable notification to get real-time updates. ",$.a.createElement(Nn,{onClick:t},"Enable notification")),$.a.createElement(Se.s,{icon:"x",onClick:n}))},yn=n(792),An=ne.a.div(_n||(_n=Object(X.a)([""]))),jn=ne.a.audio(wn||(wn=Object(X.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"])));t.default=$.a.memo((function(e){Object(ae.u)(e),Object(ae.lb)(),Object(ae.W)(),Object(ae.B)();var t=vn(),a=t.mounted,i=t.showNotificationBar,r=t.onClickAskUserPermission,o=t.onClickRemindLater,c=Object(te.j)().path,s=Object(ae.ib)().displayWelcomeBanner,l=Object(ae.o)(),d=Object(ae.gb)()._t,m={huddlePublished:d("HUDDLE.HUDDLE_PUBLISHED","Huddle published"),likedYourPost:d("TOAST.LIKED_YOUR_POST","liked your post"),likedYourComment:d("TOAST.LIKED_YOUR_COMMENT","liked your comment")},p=Object(ee.d)((function(e){return e.admin.subscriptions})),u=Object(ee.d)((function(e){return e.session.user})),f=Object(ae.bb)(),h=Object(ae.ab)().localizeDate,b=Object(ae.ub)(),E={audio:Object(Q.useRef)(null)},g=Object(ee.c)(),O=Object(ae.T)(),v=O.driffSettings.isCompSettingsLoaded,_=O.chatSettings.sound_enabled,w=O.generalSettings,T=w.notifications_on,N=w.notification_sound,k=Object(te.g)(),y="external"===u.type;Object(Q.useEffect)((function(){if("/logout"===c){var e="".concat(Object(ln.c)(),"/logged-out");window.location.href="".concat(Object(ln.a)({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[c,g,k]),Object(Q.useEffect)((function(){u.id&&v&&s()}),[u,v]),Object(Q.useEffect)((function(){E.audio.current&&(E.audio.current.pause(),E.audio.current.load())}),[N]);return Object(yn.a)({timeout:6e4,onIdle:function(){g(Object(Ie.X)(!0))},onActive:function(){g(Object(Ie.X)(!1))},debounce:250}),$.a.createElement($.a.Fragment,null,$.a.createElement(jn,{ref:E.audio,controls:!0},"jingle-bells"===N?$.a.createElement($.a.Fragment,null,$.a.createElement("source",{src:n(845),type:"audio/ogg"}),$.a.createElement("source",{src:n(846),type:"audio/mpeg"}),$.a.createElement("source",{src:n(847),type:"audio/m4r"})):$.a.createElement($.a.Fragment,null,$.a.createElement("source",{src:n(848),type:"audio/ogg"}),$.a.createElement("source",{src:n(849),type:"audio/mpeg"}),$.a.createElement("source",{src:n(850),type:"audio/m4r"})),"Your browser does not support the audio element."),i&&a&&$.a.createElement(kn,{onClickAskUserPermission:r,onClickRemindLater:o}),a&&$.a.createElement(ye,{isExternal:y}),a&&$.a.createElement(An,{id:"main"},$.a.createElement(te.b,{render:function(e){return $.a.createElement(je,Object.assign({isExternal:y},e,{showNotificationBar:i}))},path:["/:page"]}),("/admin-settings"===c||p&&"canceled"!==p.status)&&$.a.createElement(te.d,null,$.a.createElement(te.b,{render:function(e){return $.a.createElement(Ne.b,Object.assign({isExternal:y},e))},path:["/workspace"]}),$.a.createElement(te.b,{render:function(e){return $.a.createElement(_e,Object.assign({},e,{isExternal:y}))},path:["/:page"]})),p&&"canceled"===p.status&&"/admin-settings"!==c&&$.a.createElement(xt,null),p&&"active"===p.status&&$.a.createElement(Ct,null)),$.a.createElement(Mt,null),void 0!==u.id&&void 0!==window.Echo&&$.a.createElement(sn,{dictionary:m,useDriff:l,localizeDate:h,toaster:f,soundPlay:function(){if(_&&E.audio.current){var e=E.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){}))}},workspaceActions:b,notificationsOn:T}))}))}}]);