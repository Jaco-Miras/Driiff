(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[11],{617:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var a,r,i=t(9),o=t(1),c=t.n(o),s=t(680),l=t(10),d=t(19),m=t(12),p=(t(632),l.a.section(a||(a=Object(i.a)(["\n  visibility: ",";\n  .reply-document-dropdown {\n    opacity: ",";\n    transition: opacity 200ms ease;\n    background: rgba(255, 255, 255, 0.9);\n\n    .dark & {\n      background: rgba(25, 28, 32, 0.9);\n    }\n  }\n  .click-cancel-drop {\n    .dark & {\n      background: #fff;\n      color: #7a1b8b;\n    }\n  }\n"])),(function(e){return e.hide?"hidden":"visible"}),(function(e){return e.hide?"0":"1"}))),u=Object(l.a)(d.s)(r||(r=Object(i.a)([""]))),f=Object(o.forwardRef)((function(e,n){var t=e.onCancel,a=e.onDrop,r=e.noX,i=void 0!==r&&r,o=e.disableInput,l=void 0!==o&&o,d=e.openOnLoad,f=void 0!==d&&d,h=e.hide,A=e.acceptType,E=void 0===A?"":A,b=Object(m.V)(),g=Object(m.ab)()._t,v=e.placeholderText;v||(v=g("UPLOAD.DRAG_N_DROP_YOUR_FILES","Drag 'n' drop your files here."));var O=function(e){for(var n=e.acceptedFiles,t=e.rejectedFiles,r={timeOut:8e3,icon:"error"},i=0;i<n.length;i++){var o=n[i];0===o.size&&(b.error(c.a.createElement("span",null,"File ",c.a.createElement("b",null,o.name)," upload failed!",c.a.createElement("br",null),"Empty file detected."),r),delete n[i])}for(var s=0;s<t.length;s++){var l=t[s];b.error(c.a.createElement("span",null,"File ",c.a.createElement("b",null,l.name)," upload failed!",c.a.createElement("br",null),c.a.createElement("b",null,"Tip:")," Zip it and try again."),r)}a({acceptedFiles:n})},_=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg",".7z",".aac",".ai",".aif",".aifc",".aifc",".aiff",".aiff",".avi",".bmp",".bmp",".cab",".csv",".doc",".docx",".dot",".dotx",".eps",".epub",".flac",".flv",".gif",".ico",".jpg",".mj2",".mjp2",".mkv",".mng",".mov",".mp3",".mp4",".mpeg",".mpp",".mpt",".numbers",".odm",".odm",".odoc",".odp",".ods",".odt",".oga",".ogg",".otp",".ott",".pages",".pdf",".pea",".pez",".png",".pot",".pps",".ppt",".pptx",".pptz",".ps",".qt",".rar",".raw",".rtf",".spx",".stc",".svg",".tar",".tgz",".tif",".tiff",".tsv",".txt",".vcf",".wav",".webm",".webp",".wma",".wmv",".xla",".xlc",".xls",".xlsx",".xlt",".xlw",".xml",".zip"];return"imageOnly"===E&&(_=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg"]),c.a.createElement(s.a,{ref:n,onDrop:function(e,n){return O({acceptedFiles:e,rejectedFiles:n})},onCancel:function(){return t()},onDragLeave:function(){return t()},onFileDialogCancel:t,hide:h,openOnload:f,noClick:l,accept:_},(function(e){var n=e.getRootProps,a=e.getInputProps,r=e.isDragActive;return c.a.createElement(p,{hide:h},c.a.createElement("div",Object.assign({},n(),{className:"reply-document-dropdown ".concat(r?"show-border":"no-border")}),c.a.createElement("input",a()),c.a.createElement("div",{className:"reply-dropzone"},c.a.createElement(u,{icon:"upload-cloud"}),c.a.createElement("p",null,v))),!i&&c.a.createElement("button",{"aria-label":"close",className:"click-cancel-drop",onClick:t},c.a.createElement("span",{"aria-hidden":"true"},c.a.createElement(u,{icon:"x"}))))}))}))},618:function(e,n,t){"use strict";t.d(n,"a",(function(){return A})),t.d(n,"b",(function(){return w}));var a,r,i=t(0),o=t(11),c=t(9),s=t(1),l=t.n(s),d=t(10),m=t(19),p=t(630),u=t(138),f=d.a.div(a||(a=Object(c.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),h=Object(d.a)(m.s)(r||(r=Object(c.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),A=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,c=e.actions,d=e.isMember,A=e.forceDelete,E=void 0!==A&&A,b=e.disableOptions,g=c.getFileSizeUnit(r.hasOwnProperty("size")&&"number"===typeof r.size?r.size:0),v=Object(s.useState)(r.is_favorite),O=Object(o.a)(v,2),_=O[0],w=O[1];return l.a.createElement(f,{className:"file-list-item cursor-pointer ".concat(t),onClick:function(){c.viewFiles(r)}},l.a.createElement("div",{className:"card  app-file-list"},l.a.createElement("div",{className:"string"===typeof r.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===_&&l.a.createElement(h,{icon:"star"}),c.getFileIcon(r.mime_type),"number"===typeof r.id&&l.a.createElement(p.c,{file:r,folders:a,actions:Object(i.a)(Object(i.a)({},c),{},{favorite:function(){w((function(e){return!e})),c.favorite(r)}}),isMember:d,forceDelete:E,disableOptions:b}),"string"===typeof r.id&&l.a.createElement(u.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),l.a.createElement("div",{className:"p-2 small"},l.a.createElement(m.t,{content:r.name?r.name:r.search},l.a.createElement("div",{className:"file-name"},r.hasOwnProperty("payload_id")&&l.a.createElement(m.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),r.name?r.name:r.search)),l.a.createElement("div",{className:"text-muted"},g.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],g.unit))))})),E=t(37),b=t(17);function g(){var e=Object(c.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return g=function(){return e},e}function v(){var e=Object(c.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return v=function(){return e},e}var O=d.a.div(v()),_=Object(d.a)(m.s)(g()),w=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.actions,i=e.isMember,o=e.history,c=e.params,s=e.handleAddEditFolder,d=e.disableOptions,u=Object(E.j)(),f=u.path,h=u.url;return l.a.createElement(O,{className:"file-list-item cursor-pointer ".concat(t),onClick:function(e){if(e.preventDefault(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===f||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===f){var n=h.split("/folder/")[0];o.push(n+"/folder/".concat(a.id,"/").concat(Object(b.h)(a.search)))}else o.push(o.location.pathname+"/folder/".concat(a.id,"/").concat(Object(b.h)(a.search)))}},l.a.createElement("div",{className:"card  app-file-list"},l.a.createElement("div",{className:"app-file-icon"},a.hasOwnProperty("payload")&&l.a.createElement(_,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),l.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!d&&l.a.createElement(p.i,{folder:a,actions:r,isMember:i,history:o,params:c,handleAddEditFolder:s})),l.a.createElement("div",{className:"p-2 small"},l.a.createElement(m.t,{content:a.search},l.a.createElement("div",{className:"file-name"},a.search)))))}))},619:function(e,n,t){"use strict";t.d(n,"e",(function(){return O})),t.d(n,"a",(function(){return J})),t.d(n,"f",(function(){return Z})),t.d(n,"b",(function(){return te})),t.d(n,"d",(function(){return se})),t.d(n,"c",(function(){return me}));var a=t(9),r=t(1),i=t.n(r),o=t(10),c=t(12);function s(){var e=Object(a.a)(["\n  cursor: pointer;\n\n  .done {\n    text-decoration: line-through;\n    color: #00c851;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .user-name {\n    cursor: pointer;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n  }\n  .recent-post-timestamp {\n    @media only screen and (max-width: 480px) {\n      display: none !important;\n    }\n  }\n"]);return s=function(){return e},e}var l,d,m,p,u,f,h,A,E,b,g,v=o.a.li(s()),O=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.post,r=e.onOpenPost,o=Object(c.U)().localizeChatDate,s=function(e){r(a)};return i.a.createElement(v,{className:"recent-post-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(t),onClick:s},i.a.createElement("div",{className:"flex-grow-1 min-width-0",onClick:s},i.a.createElement("div",{className:"mb-1 d-flex align-items-center justify-content-between"},i.a.createElement("div",{className:"app-list-title text-truncate"},a.title),i.a.createElement("div",{className:"pl-3 d-flex recent-post-timestamp align-items-center"},o(a.created_at.timestamp)))))})),_=t(0),w=t(11),k=t(37),C=t(19),y=t(138),x=t(622),N=t(88),j=t(677),T=t(5),I=t(20),S=t(587),R=function(e){var n=e.users,t=Object(r.useState)(!1),a=Object(w.a)(t,2),o=a[0],c=a[1],s=Object(r.useState)(null),l=Object(w.a)(s,2),d=l[0],m=l[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"hover read-users-container"},n.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(C.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id,onClick:function(n){return function(e,n){e.preventDefault(),e.stopPropagation(),c(!0),m(n)}(n,e)}})," ",i.a.createElement("span",{className:"name"},e.name))}))),o&&i.a.createElement(S.a,{appear:!0,in:o,timeout:300,classNames:"slide"},i.a.createElement(C.o,{id:d?d.id:null,onShowPopup:function(){return c((function(e){return!e}))},showPopup:o,orientation:{vertical:"bottom",horizontal:"left"}})))},P=o.a.div(l||(l=Object(a.a)(["\n  .profile-slider {\n    left: 0 !important;\n    right: unset !important;\n    bottom: 30px !important;\n    top: unset !important;\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]))),D=Object(o.a)(C.s)(d||(d=Object(a.a)(["\n  width: 16px;\n"]))),L=o.a.span(m||(m=Object(a.a)(["\n  cursor: pointer;\n"]))),F=function(e){var n=e.comment,t=e.dictionary,a=e.disableOptions,r=e.likers,o=e.post,c=e.handleReaction,s=e.handleShowInput,l=function(){return o.post_reads?o.post_reads.filter((function(e){return(n.shared_with_client||"internal"===e.type)&&e.last_read_timestamp>=n.updated_at.timestamp})):[]};return i.a.createElement(P,{className:"d-flex align-items-center justify-content-start"},i.a.createElement("div",{className:"clap-count-wrapper"},i.a.createElement(D,{className:n.user_clap_count?"mr-2 comment-reaction clap-true":"mr-2 comment-reaction clap-false",icon:"thumbs-up",onClick:c}),n.clap_count,0!==r.length&&i.a.createElement("span",{className:"hover read-users-container"},r.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(C.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),!o.is_read_only&&!a&&!o.is_close&&i.a.createElement(L,{className:"ml-3",onClick:s},t.comment),i.a.createElement("div",{className:"user-reads-container"},i.a.createElement("span",{className:"no-readers"},i.a.createElement(D,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),l().length),i.a.createElement(R,{users:l()})))},M=t(48),B=Object(r.lazy)((function(){return Promise.all([t.e(6),t.e(5)]).then(t.bind(null,752))})),U=o.a.li(p||(p=Object(a.a)(['\n  margin-bottom: 1rem;\n  overflow: initial;\n\n  &.important {\n    background: #6a5acd !important;\n    color: #fff;\n    .text-muted {\n      color: #fffafa !important;\n    }\n  }\n\n  .mention {\n    font-weight: bold;\n    color: #7a1b8b;\n    &[data-value="All"],\n    &[data-id="','"] {\n      font-weight: normal;\n      box-shadow: none;\n      padding: 0 4px;\n      border-radius: 8px;\n      text-decoration: underline;\n      display: inline-block;\n      width: auto;\n      height: auto;\n    }\n  }\n\n  .quote {\n    margin: 0 auto 0.5rem;\n    width: 95%;\n    position: relative;\n    padding: 0 1rem;\n    color: #868686;\n    border-left: 4px solid #972c86;\n\n    // &:before {\n    //   border: 10px solid #0000;\n    //   border-right-color: #36393d;\n    // }\n\n    // &.border-side {\n    //   border-left: 5px solid #822492;\n    //   border-radius: 0 !important;\n    // }\n\n    > * {\n      margin-bottom: 0;\n    }\n  }\n\n  .quote-author {\n    margin-top: 1rem;\n    margin-left: 2.5%;\n    margin-bottom: 0.5rem;\n  }\n\n  .files {\n    margin-bottom: 1rem;\n\n    li {\n      display: inline-block;\n\n      &:not(:last-child) {\n        margin-right: 1rem;\n      }\n\n      .feather-paperclip {\n        margin-right: 0.5rem;\n      }\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n\n    &:hover {\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      background: #fff;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n'])),(function(e){return e.userId})),Q=o.a.li(u||(u=Object(a.a)(["\n  overflow: initial;\n  z-index: 10;\n"]))),H=o.a.div(f||(f=Object(a.a)(["\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .comment-reaction {\n    cursor: pointer;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n"]))),G=o.a.div(h||(h=Object(a.a)(["\n  .more-options {\n    margin-left: auto;\n    width: 28px;\n    height: 28px;\n    padding: 6px 0 0 5px;\n    svg {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]))),W=o.a.div(A||(A=Object(a.a)(["\n  img {\n    max-width: 50%;\n    @media (max-width: 991.99px) {\n      max-width: 100%;\n    }\n  }\n  ul {\n    padding-left: 40px;\n    li {\n      list-style: initial;\n    }\n  }\n"]))),z=o.a.div(E||(E=Object(a.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),Y=Object(o.a)(x.f)(b||(b=Object(a.a)([""]))),V=Object(o.a)(j.d)(g||(g=Object(a.a)([""]))),J=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comment,o=e.post,s=e.type,l=void 0===s?"main":s,d=e.user,m=e.commentActions,p=e.parentId,u=e.onShowFileDialog,f=e.dropAction,h=e.parentShowInput,A=void 0===h?null:h,E=e.workspace,b=e.isMember,g=e.dictionary,v=e.disableOptions,O=e.isCompanyPost,j=void 0!==O&&O,S=e.postActions,R=Object(T.c)(),P={input:Object(r.useRef)(null),body:Object(r.useRef)(null),main:Object(r.useRef)(null),content:Object(r.useRef)(null)},D=Object(r.useRef)(),L=Object(c.r)(),J=L.fileBlobs,K=L.actions.setFileSrc,q=Object(k.g)(),X=Object(c.v)(),$=Object(T.d)((function(e){return e.users.users})),ee=Object(T.d)((function(e){return e.posts.clearApprovingState})),ne=Object(r.useState)(null),te=Object(w.a)(ne,2),ae=te[0],re=te[1],ie=Object(r.useState)(null),oe=Object(w.a)(ie,2),ce=oe[0],le=oe[1],de=Object(r.useState)(null),me=Object(w.a)(de,2),pe=(me[0],me[1]),ue=Object(r.useState)({approve:!1,change:!1}),fe=Object(w.a)(ue,2),he=fe[0],Ae=fe[1],Ee=Object.values($).filter((function(e){return a.clap_user_ids.some((function(n){return n===e.id}))})),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;A?A(e):re("number"!==typeof e?a.id:e),ve()},ge=function(){le(null)},ve=function(){null!==ae&&null!==P.input.current&&(P.input.current.querySelector(".ql-editor").scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),P.input.current.querySelector(".ql-editor").focus())},Oe=Object(c.U)().fromNow,_e=function(e){var n=null;e.target.dataset.id&&(n=e.target.dataset.id),n&&R(Object(I.Ub)({file_id:parseInt(n),files:a.files}))};Object(r.useEffect)((function(){P.content.current&&(P.content.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){X.init(e)})),P.content.current.querySelectorAll("img").forEach((function(e){var n=e.getAttribute("src");if(e.classList.contains("has-listener")){var t=a.files.find((function(e){return n.includes(e.code)}));t&&J[t.id]&&(e.setAttribute("src",J[t.id]),e.setAttribute("data-id",t.id))}else{e.addEventListener("click",_e,!1),e.classList.add("has-listener");var r=a.files.find((function(e){return n.includes(e.code)}));r&&J[r.id]&&(e.setAttribute("src",J[r.id]),e.setAttribute("data-id",r.id))}})));var e=a.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!J[e.id]&&a.body.includes(e.code)&&M.sessionService.loadSession().then((function(n){var t=n.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:t,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var t=URL.createObjectURL(n);K({id:e.id,src:t}),m.updateCommentImages({post_id:o.id,id:a.id,parent_id:"main"===l?null:p,file:Object(_.a)(Object(_.a)({},e),{},{blobUrl:t})})}))}))}))}),[a.body,P.content,a.files]),Object(r.useEffect)((function(){ve()}),[ve]),Object(r.useEffect)((function(){"object"===typeof q.location.state&&q.location.state&&q.location.state.focusOnMessage===a.id&&P.body.current&&(P.body.current.scrollIntoView(),P.main.current.classList.add("bounceIn"),q.push(q.location.pathname,null))}),[q.location.state]),Object(r.useEffect)((function(){return null!==a.body.match(/\.(gif)/g)&&pe(!0),a.clap_count>0&&a.clap_user_ids.length!==a.clap_count&&m.fetchPostReplyHover(a.id),function(){q.push(q.location.pathname,null)}}),[]);var we=function(){re(null),Ae(Object(_.a)(Object(_.a)({},he),{},{change:!1}))};Object(r.useEffect)((function(){ee&&ee===a.id&&(Ae(Object(_.a)(Object(_.a)({},he),{},{change:!1})),m.clearApprovingStatus(null))}),[ee]);var ke=a.files.filter((function(e){return!a.body.includes(e.code)}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,{ref:P.main,isImportant:a.is_important,className:"comment card border fadeBottom ".concat(t," animated ").concat(a.is_important&&"important"),userId:d.id},null!==a.todo_reminder&&i.a.createElement(C.p,{todoReminder:a.todo_reminder,type:"POST_COMMENT"}),a.quote&&i.a.createElement(se,{quote:a.quote,dictionary:g}),i.a.createElement(H,{ref:P.body,className:"card-body",type:l},i.a.createElement(G,{className:"d-flex"},i.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},i.a.createElement(C.a,{className:"mr-2",id:a.author.id,name:a.author.name,imageLink:a.author.profile_image_thumbnail_link?a.author.profile_image_thumbnail_link:a.author.profile_image_link,showSlider:!0}),i.a.createElement("span",null,a.author.first_name),i.a.createElement("span",{className:"text-muted ml-1"},Oe(a.created_at.timestamp))),!o.is_read_only&&!v&&i.a.createElement(y.c,{scrollRef:P.body.current,moreButton:"more-horizontal"},null===a.todo_reminder&&i.a.createElement("div",{onClick:function(){return m.remind(a,o)}},g.remindMeAboutThis),d.id===a.author.id&&i.a.createElement("div",{onClick:function(){return m.setToEdit(a)}},g.editReply),i.a.createElement("div",{onClick:function(){A?A(a.id):(re(a.id),ve()),m.addQuote(a)}},g.quote),d.id!==a.author.id&&i.a.createElement("div",{onClick:function(){le('<p class="mention-data"><span class="mention" data-index="0" data-denotation-char="@" data-id="'.concat(a.author.id,'" data-value="').concat(a.author.name,'">\n        <span contenteditable="false"><span class="ql-mention-denotation-char">@</span>').concat(a.author.name,"</span></span></p> ")),re(!0)}},g.mentionUser),d.id===a.author.id&&i.a.createElement("div",{onClick:function(){return m.remove(a)}},g.removeReply),d.id===a.author.id&&i.a.createElement("div",{onClick:function(){return m.important(a)}},a.is_important?g.unMarkImportant:g.markImportant))),!a.shared_with_client&&o.shared_with_client&&i.a.createElement("span",null,i.a.createElement("i",null,g.internalComment)),a.files.length>0&&i.a.createElement(x.p,{files:a.files}),i.a.createElement(W,{ref:P.content,className:"mt-2 mb-3",dangerouslySetInnerHTML:{__html:a.body.startsWith("COMMENT_APPROVAL::")?"<span></span>":N.a.parseEmoji(a.body)}}),a.users_approval.length>0&&!he.change&&i.a.createElement(r.Suspense,{fallback:i.a.createElement(i.a.Fragment,null)},i.a.createElement(B,{ref:D,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},i.a.createElement(x.c,{approving:he,fromNow:Oe,usersApproval:a.users_approval,user:d,handleApprove:function(){S.showModal("confirmation",o,a,D)},handleRequestChange:function(){a.users_approval.length>1?(Ae(Object(_.a)(Object(_.a)({},he),{},{change:!0})),he.approve||m.approve({post_id:o.id,approved:0,comment_id:a.id},(function(e,n){if(Ae(Object(_.a)(Object(_.a)({},he),{},{change:!1})),!e){var t=1===a.users_approval.filter((function(e){return null===e.ip_address})).length,r=a.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===a.users_approval.length-1;t&&r&&S.generateSystemMessage(o,[],a.users_approval.map((function(e){return e.id})))}}))):(be(a.id),Ae(Object(_.a)(Object(_.a)({},he),{},{change:!0})),m.setRequestForChangeComment(a))},post:o,isMultipleApprovers:a.users_approval.length>1,isBotMessage:a.body.startsWith("COMMENT_APPROVAL::")}))),ke.length>=1&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),i.a.createElement("h6",null,g.files),i.a.createElement(C.h,{attachedFiles:ke,type:"comment",comment:a})),a.files_trashed&&a.files_trashed.length>=1&&i.a.createElement(i.a.Fragment,null,i.a.createElement(z,null,i.a.createElement("h6",{className:"font-size-11 text-uppercase"},g.files),i.a.createElement("span",{className:"text-muted"},g.filesAutomaticallyRemoved),i.a.createElement(C.h,{attachedFiles:a.files_trashed,type:"comment",comment:a}))),i.a.createElement(F,{comment:a,dictionary:g,disableOptions:v,likers:Ee,post:o,handleReaction:function(){if(!v){var e={id:a.id,reaction:"clap",counter:0===a.user_clap_count?1:0,post_id:o.id,parent_id:"main"===l?null:p};m.clap(e,(function(n,t){n&&(1===e.counter?m.unlike(e):m.like(e))})),0===a.user_clap_count?m.like(e):m.unlike(e)}},handleShowInput:be}))),"main"===l&&Object.values(a.replies).length>0&&i.a.createElement(Z,{parentShowInput:be,comments:a.replies,post:o,user:d,commentActions:m,parentId:"main"===l?a.id:null,onShowFileDialog:u,dropAction:f,workspace:E,isMember:b,dictionary:g,disableOptions:v,isCompanyPost:j,postActions:S}),null!==ae&&i.a.createElement(Q,{className:"card"},j?i.a.createElement(V,{innerRef:P.input,user:d,commentId:ae,post:o,parentId:"main"===l?a.id:p,commentActions:m,userMention:ce,handleClearUserMention:ge,onShowFileDialog:u,dropAction:f,workspace:E,isMember:b,disableOptions:v,handleCancelChange:we,mainInput:!1}):i.a.createElement(Y,{innerRef:P.input,user:d,commentId:ae,post:o,parentId:"main"===l?a.id:p,commentActions:m,userMention:ce,handleClearUserMention:ge,onShowFileDialog:u,dropAction:f,workspace:E,isMember:b,disableOptions:v,handleCancelChange:we,mainInput:!1})))}));function K(){var e=Object(a.a)(["\n  width: 95%;\n"]);return K=function(){return e},e}var q=o.a.ul(K()),Z=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comments,r=e.post,o=e.commentActions,c=e.parentId,s=e.user,l=e.onShowFileDialog,d=e.dropAction,m=e.parentShowInput,p=e.workspace,u=e.isMember,f=e.dictionary,h=e.disableOptions,A=e.postActions;return a&&i.a.createElement(q,{className:"sub-comments ".concat(t)},Object.values(a).map((function(e){return i.a.createElement(J,{key:e.id,comment:e,type:"sub",post:r,user:s,parentShowInput:function(){m(e.id)},commentActions:o,parentId:c,onShowFileDialog:l,dropAction:d,workspace:p,isMember:u,dictionary:f,disableOptions:h,postActions:A})})))}));function X(){var e=Object(a.a)([""]);return X=function(){return e},e}function $(){var e=Object(a.a)(["\n  padding: 0 10px 10px;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  border-left: 2px solid #972c86;\n  margin-left: 30px;\n  margin-bottom: 10px;\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: -35px;\n    top: calc(50% - 10px);\n    background-color: #fff;\n    cursor: pointer;\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return $=function(){return e},e}var ee=o.a.div($()),ne=Object(o.a)(C.s)(X()),te=function(e){var n=e.commentActions,t=e.commentId,a=e.editPostComment,r=e.mainInput,o=Object(c.f)(t),s=Object(w.a)(o,2),l=s[0],d=s[1],m=function(){n.clearQuote(t)};return l?a&&r?i.a.createElement(ee,null,i.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:l.user?l.user.name:""}}),i.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:l.body?d.split("</p>")[0]:""}}),i.a.createElement("span",{className:"quote-clear-container",onClick:m},i.a.createElement(ne,{icon:"x"}))):a&&!r?null:i.a.createElement(ee,null,i.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:l.user?l.user.name:""}}),i.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:l.body?d.split("</p>")[0]:""}}),i.a.createElement("span",{className:"quote-clear-container",onClick:m},i.a.createElement(ne,{icon:"x"}))):null},ae=t(288);function re(){var e=Object(a.a)(["\n  text-align: center;\n"]);return re=function(){return e},e}var ie,oe,ce=o.a.div(re()),se=function(e){var n=e.quote,t=e.dictionary,a=Object(r.useRef)(null),o=Object(r.useState)(!1),c=Object(w.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)(!1),m=Object(w.a)(d,2),p=m[0],u=m[1],f=Object(r.useState)(200),h=Object(w.a)(f,2),A=h[0],E=h[1],b={transition:"max-height ".concat(300,"ms ease-in-out"),maxHeight:"200px",overflow:"hidden"},g={entering:{maxHeight:"".concat(A,"px")},entered:{maxHeight:"".concat(A,"px")},exiting:{maxHeight:"200px"},exited:{maxHeight:"200px"}},v=function(){l(!s)};return Object(r.useEffect)((function(){a.current&&(E(a.current.scrollHeight),a.current.scrollHeight>200&&u(!0))}),[]),i.a.createElement(ae.a,{in:s,timeout:300},(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:Object(_.a)(Object(_.a)({},b),g[e]),ref:a},n.user&&i.a.createElement("div",{className:"quote-author"},t.quotedCommentFrom," ",n.user.name),i.a.createElement("div",{className:"quote border-side",dangerouslySetInnerHTML:{__html:n.body}})),p&&i.a.createElement(ce,{onClick:v,className:"btn-toggle-show cursor-pointer mt-2"},s?t.showLess:t.showMore))}))},le=o.a.div(ie||(ie=Object(a.a)(["\n  width: 100%;\n  padding: 0.5rem 1.5rem;\n  flex-wrap: wrap;\n  .seen-indicator,\n  .post-reaction {\n    cursor: pointer;\n  }\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n  .readers-container {\n    @media (max-width: 575.99px) {\n      flex: 0 1 100%;\n      .clap-count-wrapper {\n        display: inline-block;\n        margin-right: 0.5rem;\n      }\n      .user-reads-container {\n        .not-read-users-container,\n        .read-users-container {\n          right: -75px;\n        }\n        &.read-by {\n          width: 100%;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          .not-read-users-container,\n          .read-users-container {\n            right: -20px;\n          }\n        }\n      }\n    }\n  }\n  .read-users-container {\n    .avatar.avatar-md {\n      min-height: 2.7rem;\n      min-width: 2.7rem;\n    }\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]))),de=Object(o.a)(C.s)(oe||(oe=Object(a.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),me=function(e){var n=e.dictionary,t=e.likers,a=e.post,r=e.viewerIds,o=e.viewers,s=e.handleReaction,l=Object(T.d)((function(e){return e.session.user})),d=Object(T.d)((function(e){return e.users.users})),m=Object(c.ab)()._t,p=a&&a.is_must_read&&a.must_read_users.length>0?a.must_read_users.filter((function(e){return e.must_read})):[],u=p.some((function(e){return e.id===l.id}));return i.a.createElement(le,{className:"d-flex align-items-center"},i.a.createElement("div",{className:"clap-count-wrapper d-none d-sm-flex"},i.a.createElement(de,{className:a.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:s}),a.clap_count,0!==t.length&&i.a.createElement("span",{className:"hover read-users-container"},t.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(C.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),i.a.createElement("div",{className:"readers-container ml-auto text-muted"},a.is_must_read&&p.length>0&&Object.values(d).length>1&&i.a.createElement("div",{className:"user-reads-container read-by"},u&&i.a.createElement("span",{className:"mr-2"},i.a.createElement(de,{className:"mr-2",icon:"check"})," ",n.alreadyReadThis),i.a.createElement("span",{className:"no-readers"},m("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:p.length})),i.a.createElement("span",{className:"hover read-users-container"},p.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(C.a,{className:"mr-2",key:e.id,name:e.name,imageLink:d[e.id]?d[e.id].profile_image_thumbnail_link:null,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),i.a.createElement("div",{className:"clap-count-wrapper d-sm-none"},i.a.createElement(de,{className:a.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:s}),a.clap_count,0!==t.length&&i.a.createElement("span",{className:"hover read-users-container"},t.map((function(e){return i.a.createElement("span",{key:e.id},i.a.createElement(C.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",i.a.createElement("span",{className:"name"},e.name))})))),i.a.createElement(de,{className:"mr-2",icon:"message-square"}),a.reply_count,i.a.createElement("div",{className:"user-reads-container"},i.a.createElement("span",{className:"no-readers"},i.a.createElement(de,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),r.length),i.a.createElement(R,{users:o}))))}},621:function(e,n,t){"use strict";var a=t(9),r=t(1),i=t.n(r),o=t(10),c=t(19),s=t(5);t(633);function l(){var e=Object(a.a)(["\n  position: absolute;\n  top: -2px;\n  right: 15px;\n  background-color: unset;\n  width: 1rem;\n  height: 1rem;\n  padding: 0;\n  z-index: 1;\n"]);return l=function(){return e},e}function d(){var e=Object(a.a)(["\n  color: #ffffff !important;\n  height: 2.7rem;\n  width: 2.7rem;\n  &.feather-home {\n    background: #7a1b8b;\n    padding: 6px 0;\n  }\n  .chat-header-icon-left & {\n    height: 28px;\n    width: 28px;\n  }\n"]);return d=function(){return e},e}function m(){var e=Object(a.a)(["\n  position: relative;\n  line-height: 0;\n  > span {\n    font-size: 13px;\n    background-color: ",";\n    color: #fff;\n    display: inline-flex;\n    padding: 5px;\n    border-radius: 100%;\n    width: 2.7rem;\n    height: 2.7rem;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n  }\n  > svg {\n    padding: 6px;\n    background-color: ",";\n    border-radius: 50%;\n    &.dark {\n      background-color: ",";\n    }\n    &.feather-eye,\n    &.feather-eye-off {\n      padding: 0;\n      background-color: #fff;\n      border: 2px solid #fff;\n      color: #7a1b8b;\n      .dark & {\n        background-color: #191c20;\n        color: #fff;\n        border: 2px solid #191c20;\n      }\n    }\n  }\n  .chat-header-icon-left & {\n    span {\n      width: 28px;\n      height: 28px;\n    }\n  }\n"]);return m=function(){return e},e}var p=o.a.div(m(),(function(e){return e.iconColor?e.iconColor:"#fff"}),(function(e){return e.iconColor,e.iconColor}),(function(e){return e.iconColor,e.iconColor})),u=Object(o.a)(c.s)(d()),f=Object(o.a)(c.s)(l()),h=function(e){var n=e.replace(/\s/g,"");if("undefined"===typeof n)return"";for(var t=0,a=0;a<n.length;a++)t=n.charCodeAt(a)+((t<<5)-t);return"hsla(".concat(t%360,", ").concat(50,"%, ").concat(40,"%, 0.8)")};n.a=function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=e.children,o=void 0===r?null:r,l=e.onSelectChannel,d=void 0===l?null:l,m=e.showSlider,A=void 0===m||m,E=Object(s.d)((function(e){return e.workspaces.workspaces})),b=a.title?a.title.toLowerCase():"";return i.a.createElement(p,{className:"pr-3 ".concat(t),type:a.type,iconColor:h(b),onClick:d},a.profile&&a.members.length>=1&&"DIRECT"===a.type&&i.a.createElement(c.a,{imageLink:a.profile.profile_image_thumbnail_link?a.profile.profile_image_thumbnail_link:a.profile.profile_image_link,userId:a.profile.id,id:a.profile.id,name:a.profile.name,partialName:a.profile.partial_name,type:"USER",showSlider:A,onClick:d}),"GROUP"===a.type&&(a.icon_link?i.a.createElement(c.a,{forceThumbnail:!1,type:a.type,imageLink:a.icon_link,id:"ws_".concat(a.id),name:a.title,noDefaultClick:!1,showSlider:A,onClick:d}):i.a.createElement(u,{icon:"users",alt:a.title})),"COMPANY"===a.type&&i.a.createElement(u,{icon:"home",alt:a.title}),"POST"===a.type&&i.a.createElement(u,{icon:"users",alt:a.title}),"PERSONAL_BOT"===a.type&&i.a.createElement(u,{icon:"user",alt:a.title}),"TOPIC"===a.type&&i.a.createElement(c.a,{forceThumbnail:!1,type:a.type,imageLink:a.icon_link,id:"ws_".concat(a.id),name:a.title,noDefaultClick:!1,showSlider:A,onClick:d}),a.team&&"TOPIC"===a.type&&E.hasOwnProperty(a.entity_id)&&E[a.entity_id].is_shared&&i.a.createElement(f,{icon:"eye-off"}),!a.team&&"TOPIC"===a.type&&E.hasOwnProperty(a.entity_id)&&E[a.entity_id].is_shared&&i.a.createElement(f,{icon:"eye"}),o)}},622:function(e,n,t){"use strict";t.d(n,"h",(function(){return E})),t.d(n,"j",(function(){return I})),t.d(n,"n",(function(){return ue})),t.d(n,"g",(function(){return Ee})),t.d(n,"i",(function(){return ve})),t.d(n,"a",(function(){return Oe})),t.d(n,"m",(function(){return Ce})),t.d(n,"e",(function(){return Fe})),t.d(n,"f",(function(){return tn})),t.d(n,"b",(function(){return An})),t.d(n,"d",(function(){return gn})),t.d(n,"p",(function(){return Nn})),t.d(n,"c",(function(){return Sn})),t.d(n,"k",(function(){return Dn})),t.d(n,"l",(function(){return zn})),t.d(n,"q",(function(){return Zn})),t.d(n,"s",(function(){return ot})),t.d(n,"o",(function(){return st})),t.d(n,"r",(function(){return ft}));var a,r,i,o,c,s,l,d,m=t(9),p=t(1),u=t.n(p),f=t(10),h=t(19),A=f.a.div(a||(a=Object(m.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 0;\n      margin-top: 1rem;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]))),E=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.search,r=e.dictionary;return u.a.createElement(A,{className:"post-filter-search-panel app-action ".concat(t)},u.a.createElement("div",{className:"action-left"},u.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},u.a.createElement(h.s,{icon:"menu"}))),u.a.createElement("div",{className:"action-right"},u.a.createElement(Ce,{search:a,placeholder:r.searchPost})))})),b=t(11),g=t(5),v=t(138),O=t(12),_=t(31),w=t(17),k=f.a.li(r||(r=Object(m.a)(["\n  flex-flow: column;\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    overflow: inherit;\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n    box-shadow: 0 1px 10px 0 rgb(0 0 0 / 10%), 0 2px 15px 0 rgb(0 0 0 / 5%);\n    z-index: 2;\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n    }\n    @media (max-width: 991.99px) {\n      img {\n        width: 2rem;\n        height: 2rem;\n      }\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"]))),C=Object(f.a)(h.s)(i||(i=Object(m.a)(["\n  width: 16px;\n"]))),y=f.a.div(o||(o=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]))),x=f.a.div(c||(c=Object(m.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]))),N=Object(f.a)(_.k)(s||(s=Object(m.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  margin-left: -5px;\n  :hover {\n    background: #f1f2f7;\n    cursor: ",";\n    .dark & {\n      background: #25282c;\n    }\n  }\n"])),(function(e){return e.disabled?"not-allowed":"pointer"})),j=f.a.div(l||(l=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),T=f.a.div(d||(d=Object(m.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),I=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternalUser,r=e.post,i=e.dictionary,o=e.disableOptions,c=e.toggleCheckbox,s=e.checked,l=e.workspace,d=e.postActions,m=d.starPost,f=d.openPost,A=d.archivePost,E=d.markAsRead,_=d.markAsUnread,I=d.sharePost,S=d.followPost,R=d.remind,P=d.showModal,D=d.close,L=d.disconnectPostList,F=d.updatePostListConnect,M=Object(g.d)((function(e){return e.session.user})),B=Object(g.d)((function(e){return e.workspaces.flipper})),U=Object(O.U)().fromNow,Q=Object(p.useState)(0),H=Object(b.a)(Q,2),G=H[0],W=H[1],z=Object(p.useState)(!1),Y=Object(b.a)(z,2),V=Y[0],J=Y[1],K=Object(p.useRef)(!0);Object(p.useEffect)((function(){return function(){K.current=!1}}),[]);var q=function(){var e=r.users_approval.length>0&&r.users_approval.some((function(e){return null===e.ip_address&&e.id===M.id}));if(r.is_must_read&&r.author.id!==M.id){if(r.must_read_users&&r.must_read_users.some((function(e){return e.id===M.id&&!e.must_read})))return!0}else{if(!r.is_must_reply||r.author.id===M.id)return!!e;if(r.must_reply_users&&r.must_reply_users.some((function(e){return e.id===M.id&&!e.must_reply})))return!0}},Z=1===r.is_unread;return u.a.createElement(k,{"data-toggle":B?"1":"0",appListWidthDiff:G+50,className:"list-group-item post-item-panel ".concat(Z?"has-unread":""," ").concat(t," pl-3"),onClick:function(){return f(r)}},u.a.createElement(zn,{post:r,user:M,dictionary:i,isExternalUser:a,classNames:"text-truncate"}),u.a.createElement(j,null,u.a.createElement(N,{name:"test",checked:s,onClick:function(){return c(r.id)},disabled:q()}),u.a.createElement(x,{className:"d-flex ml-2 mr-2"},u.a.createElement(h.a,{title:"FROM: ".concat(r.author.name),className:"author-avatar mr-2",id:r.author.id,name:r.author.name,imageLink:r.author.profile_image_thumbnail_link?r.author.profile_image_thumbnail_link:r.author.profile_image_link})),u.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},u.a.createElement("div",{className:"app-list-title text-truncate ".concat(Z?"has-unread":"")},u.a.createElement("div",{className:"text-truncate d-flex"},u.a.createElement("span",{className:"text-truncate"},r.author.id!==M.id&&!r.is_followed&&u.a.createElement(C,{icon:"eye-off"}),u.a.createElement("a",{href:l?l.folder_id?"/workspace/posts/".concat(l.folder_id,"/").concat(Object(w.h)(l.folder_name),"/").concat(l.id,"/").concat(Object(w.h)(l.name),"/post/").concat(r.id,"/").concat(Object(w.h)(r.title)):"/workspace/posts/".concat(l.id,"/").concat(Object(w.h)(l.name),"/post/").concat(r.id,"/").concat(Object(w.h)(r.title)):r.redirect_link,target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault()}},r.title)),u.a.createElement(T,{className:"hover-btns ml-1"},"draft_post"!==r.type&&!o&&r.author.id===M.id&&u.a.createElement(C,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),P("edit",r)}}),!o&&!q()&&u.a.createElement(C,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),V||(J(!0),A(r,(function(){K.current&&J(!1)})))}}))),u.a.createElement(y,null,0!==r.unread_count&&u.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},r.unread_count," new"),u.a.createElement("div",{className:"text-muted"},0===r.reply_count?i.noComment:1===r.reply_count?i.oneComment:i.comments.replace("::comment_count::",r.reply_count)),u.a.createElement("span",{className:"time-stamp text-muted"},u.a.createElement("span",null,U(r.updated_at.timestamp)))))),u.a.createElement(Oe,{post:r,dictionary:i,user:M,cbGetWidth:W}),u.a.createElement("div",{className:"d-flex"},"draft_post"!==r.type&&!o&&u.a.createElement(v.c,{className:"d-flex ml-2",item:r,width:220,moreButton:"more-horizontal"},null===r.todo_reminder&&u.a.createElement("div",{onClick:function(){return R(r)}},i.remindMeAboutThis),r.author&&r.author.id===M.id&&u.a.createElement("div",{onClick:function(){return P("edit",r)}},i.editPost),0===r.is_unread?u.a.createElement("div",{onClick:function(){return _(r,!0)}},i.markAsUnread):q()?null:u.a.createElement("div",{onClick:function(){return E(r,!0)}},i.markAsRead),u.a.createElement("div",{onClick:function(){return I(r)}},i.share),r.author&&r.author.id!==M.id&&u.a.createElement("div",{onClick:function(){return S(r)}},r.is_followed?i.unFollow:i.follow),u.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o||m(r)}},r.is_favourite?i.unStar:i.star),(r.author&&r.author.id===M.id||"external"===r.author.type&&"internal"===M.type)&&u.a.createElement("div",{onClick:function(){return D(r)}},r.is_close?i.openThisPost:i.closeThisPost),r.post_list_connect&&u.a.createElement("div",{onClick:function(){return function(){if(1!==r.post_list_connect.length)P("add_to_list",r);else{var e={link_id:r.post_list_connect[0].id,post_id:r.id};L(e,(function(e,n){e||(n.data.topic_id=l&&l.id?l.id:null,F(n.data))}))}}()}},1===r.post_list_connect.length?i.removeToList:i.addToList)))))}));function S(){var e=Object(m.a)([""]);return S=function(){return e},e}function R(){var e=Object(m.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]);return R=function(){return e},e}function P(){var e=Object(m.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return P=function(){return e},e}var D,L,F,M,B,U,Q,H,G,W,z,Y,V,J,K,q,Z,X,$,ee,ne,te,ae,re,ie,oe,ce,se,le,de=f.a.div(P()),me=Object(f.a)(h.s)(R()),pe=f.a.div(S()),ue=u.a.memo((function(e){var n=e.workspace,t=e.isMember,a=e.filter,r=e.filters,i=e.tag,o=e.count,c=e.postLists,s=e.counters,l=e.postActions,d=e.onGoBack,m=e.dictionary,p=e.disableOptions,f=e.postListTag;return u.a.createElement(de,{className:"col-md-3 app-sidebar bottom-modal-mobile"},u.a.createElement(pe,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),u.a.createElement("div",{className:"bottom-modal-mobile_inner"},u.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},t&&u.a.createElement("div",{className:"card-body create-new-post-wrapper"},u.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){l.showModal("create")},disabled:p},m.createNewPost)),u.a.createElement(Ee,{workspace:n,filter:a,filters:r,tag:i,onGoBack:d,counters:s,dictionary:m}),u.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},u.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},m.category,u.a.createElement("span",{className:"ml-auto",onClick:function(){l.showModal("create_edit_post_list")},disabled:p},u.a.createElement(me,{className:"mr-0",icon:"plus"})))),u.a.createElement(ve,{count:o,workspace:n,tag:i,onGoBack:d,dictionary:m}),u.a.createElement(Dn,{workspace:n,postLists:c,tag:i,postListTag:f,onGoBack:d,dictionary:m,postActions:l}))))})),fe=t(23),he=t(16),Ae=f.a.div(D||(D=Object(m.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']))),Ee=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.filter,i=void 0===r?"inbox":r,o=e.filters,c=e.onGoBack,s=e.counters,l=e.dictionary,d=Object(g.c)(),m=Object(O.F)(),f=Object(p.useState)(!1),A=Object(b.a)(f,2),E=A[0],v=A[1],_=function(e){if(o){if("archive"!==e.target.dataset.value||!a||o.hasOwnProperty("archived")||E||function(){v(!0);m.getPosts({filters:["post","archived"],topic_id:a.id},(function(e,n){if(v(!1),!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),d(Object(he.g)({topic_id:a.id,posts:n.data.posts,filter:n.data.posts,files:t,filters:{archived:{active:!1,skip:n.data.next_skip,hasMore:n.data.total_take===n.data.posts.length}}}))}}))}(),e.target.dataset.value===i)c();else{var n={topic_id:a.id,filter:e.target.dataset.value,tag:null};d(Object(fe.W)(n)),c()}document.body.classList.remove("mobile-modal-open")}};return u.a.createElement(Ae,{className:"post-filter-item list-group list-group-flush ".concat(t)},u.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"inbox"===i?"active":""),"data-value":"inbox",onClick:_},u.a.createElement(h.s,{className:"mr-2",icon:"inbox"}),l.inbox,u.a.createElement("span",{className:"small ml-auto"},a&&a.unread_posts>0&&a.unread_posts)),u.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"in_progress"===i?"active":""),"data-value":"in_progress",onClick:_},u.a.createElement(h.s,{className:"mr-2",icon:"clock"}),l.inProgress),u.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"my_posts"===i?"active":""),"data-value":"my_posts",onClick:_},u.a.createElement(h.s,{className:"mr-2",icon:"send-post"}),l.myPosts),u.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"star"===i?"active":""),"data-value":"star",onClick:_},u.a.createElement(h.s,{className:"mr-2",icon:"star"}),l.starred),u.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"archive"===i?"active":""),"data-value":"archive",onClick:_},u.a.createElement(h.s,{className:"mr-2",icon:"archive"}),l.archived),u.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(i&&"draft"===i?"active":""),"data-value":"draft",onClick:_},u.a.createElement(h.s,{className:"mr-2",icon:"edit-3"}),l.drafts,u.a.createElement("span",{className:"small ml-auto"},s.drafts>0&&s.drafts)))})),be=t(0),ge=f.a.div(L||(L=Object(m.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),ve=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.tag,i=e.count,o=e.onGoBack,c=e.dictionary,s=Object(g.c)(),l=function(e){var n={topic_id:a.id,tag:e.target.dataset.value,filter:null};r===e.target.dataset.value&&(n=Object(be.a)(Object(be.a)({},n),{},{tag:null,filter:"all"})),s(Object(fe.W)(n)),o(),document.body.classList.remove("mobile-modal-open")};return u.a.createElement(ge,{className:"list-group list-group-flush ".concat(t)},u.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_must_reply"===r?"active":""),"data-value":"is_must_reply",onClick:l},u.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),c.replyRequired,u.a.createElement("span",{className:"small ml-auto"},i&&i.is_must_reply>0&&i.is_must_reply)),u.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_must_read"===r?"active":""),"data-value":"is_must_read",onClick:l},u.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),c.mustRead,u.a.createElement("span",{className:"small ml-auto"},i&&i.is_must_read>0&&i.is_must_read)),u.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_read_only"===r?"active":""),"data-value":"is_read_only",onClick:l},u.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),c.noReplies,u.a.createElement("span",{className:"small ml-auto"},i&&i.is_read_only>0&&i.is_read_only)),u.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(r&&"is_close"===r?"active":""),"data-value":"is_close",onClick:l},u.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),c.closed,u.a.createElement("span",{className:"small ml-auto"},i&&i.is_close>0&&i.is_close)))})),Oe=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isBadgePill,r=void 0!==a&&a,i=e.post,o=e.dictionary,c=e.user,s=e.cbGetWidth,l=void 0===s?function(){}:s,d={container:Object(p.useRef)(null)};Object(p.useEffect)((function(){d.container.current&&l(d.container.current.clientWidth)}),[i]);var m=i.users_approval.some((function(e){return e.id===c.id}));return u.a.createElement("div",{ref:d.container},(i.is_must_read||i.is_must_reply||i.is_read_only||"draft_post"===i.type||0!==i.is_archived||!0===i.is_personal)&&u.a.createElement(u.a.Fragment,null,!i.recipients.every((function(e){return"USER"===e.type}))&&i.recipients.some((function(e){return"USER"===e.type}))&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none")},u.a.createElement("div",{className:"badge badge-light text-white ".concat(r?"badge-pill":"")},o.private)),1===i.is_archived&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none")},u.a.createElement("div",{className:"badge badge-light text-white ".concat(r?"badge-pill":"")},o.archived)),"draft_post"===i.type&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none")},u.a.createElement("div",{className:"badge badge-light text-white ".concat(r?"badge-pill":"")},o.draft)),(i.author.id===c.id&&i.is_must_read||i.must_read_users&&i.must_read_users.some((function(e){return e.id===c.id&&!e.must_read})))&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none ").concat(i.author.id===c.id?"opacity-2":"")},u.a.createElement("div",{className:"badge badge-danger ".concat(r?"badge-pill":"")},o.mustRead)),(i.author.id===c.id&&i.is_must_reply||i.must_reply_users&&i.must_reply_users.some((function(e){return e.id===c.id&&!e.must_reply})))&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none ").concat(i.author.id===c.id?"opacity-2":"")},u.a.createElement("div",{className:"badge badge-warning ".concat(r?"badge-pill":"")},o.replyRequired)),i.is_read_only&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none")},u.a.createElement("div",{className:"badge badge-info ".concat(r?"badge-pill":"")},o.noReplies))),i.post_approval_label&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none")},u.a.createElement("div",{className:"badge ".concat("ACCEPTED"===i.post_approval_label?"badge-success":"badge-primary"," ").concat(r?"badge-pill":"")},function(e){switch(e){case"ACCEPTED":return o.accepted;case"NEED_ACTION":return m?o.actionNeeded:null;case"REQUEST_UPDATE":return i.author.id===c.id?o.changeRequested:null;case"SPLIT":return"Split";case"REQUEST_APPROVAL":return i.author.id===c.id?o.requestForApproval:null;default:return null}}(i.post_approval_label))),i.is_close&&u.a.createElement("div",{className:"".concat(t," mr-3 d-sm-inline d-none")},u.a.createElement("div",{className:"badge badge-closed ".concat(r?"badge-pill":"")},o.repliesClosed)))})),_e=t(37),we=t(89),ke=f.a.div(F||(F=Object(m.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),Ce=u.a.memo((function(e){var n=e.search,t=e.placeholder,a=Object(g.c)(),r=Object(_e.i)(),i=Object(p.useState)(null===n?"":n),o=Object(b.a)(i,2),c=o[0],s=o[1],l=parseInt(r.workspaceId),d=Object(we.debounce)((function(e){a(Object(fe.a)({topic_id:l,search:e,search_result:[]})),""!==e&&a(Object(he.u)({topic_id:l,search:e},(function(n,t){n||a(Object(fe.a)({topic_id:l,search:e,search_result:t.data.posts}))})))}),500);return u.a.createElement(ke,{className:"input-group"},u.a.createElement("input",{type:"text",className:"form-control",placeholder:t,value:c,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&d()},onChange:function(e){s(e.target.value),d(e.target.value.trim())}}),u.a.createElement("div",{className:"input-group-append"},""!==c.trim()&&u.a.createElement("button",{onClick:function(){s(""),a(Object(fe.a)({topic_id:l,search:"",search_result:[]}))},className:"btn-cross",type:"button"},u.a.createElement(h.s,{icon:"x"})),u.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:d},u.a.createElement("i",{className:"ti-search"}))))})),ye=t(7),xe=t(14),Ne=t(617),je=t(619),Te=f.a.div(M||(M=Object(m.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]))),Ie=f.a.div(B||(B=Object(m.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]))),Se=Object(f.a)(v.c)(U||(U=Object(m.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]))),Re=Object(f.a)(h.h)(Q||(Q=Object(m.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]))),Pe=Object(f.a)(h.s)(H||(H=Object(m.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),De=f.a.div(G||(G=Object(m.a)(["\n  cursor: pointer;\n"]))),Le=f.a.div(W||(W=Object(m.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),Fe=u.a.memo((function(e){var n=e.post,a=e.posts,r=e.filter,i=e.postActions,o=e.user,c=e.onGoBack,s=e.workspace,l=e.dictionary,d=e.disableOptions,m=e.isMember,f=i.markAsRead,A=i.markAsUnread,E=i.sharePost,v=i.followPost,_=i.remind,w=i.close,k=Object(g.c)(),C=Object(O.d)(),y=Object(g.d)((function(e){return e.users.users})),x=Object(p.useState)(!1),N=Object(b.a)(x,2),j=N[0],T=N[1],I=Object(O.g)(n).comments,S=Object(ye.a)(new Set(n.view_user_ids)),R=Object.values(y).filter((function(e){return S.some((function(n){return n===e.id}))})),P=Object.values(y).filter((function(e){return n.clap_user_ids.some((function(n){return n===e.id}))})),D={dropZoneRef:Object(p.useRef)(null)},L=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;k(Object(he.Qb)(e)),i.setCommentType(n),D.dropZoneRef.current&&D.dropZoneRef.current.open()},F=function(){T(!1)},M=function(e){var a=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var r=t(109).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?a.push(Object(be.a)(Object(be.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):"video/mp4"===e.type?a.push(Object(be.a)(Object(be.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):a.push(Object(be.a)(Object(be.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:n,name:e.name?e.name:e.path}))})),F();var r={type:"file_upload",droppedFiles:a,mode:"post",post:n,members:s?s.members:[]};k(Object(xe.a)(r))},B=function(){var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id}));return!!(n.is_must_read&&n.author.id!==o.id&&n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read})))||(!!(n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply})))||!!e)};Object(p.useEffect)((function(){return n.view_user_ids.some((function(e){return e===o.id}))||B()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(B()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadWsPostsCount({topic_id:s.id}),function(){return i.getUnreadWsPostsCount({topic_id:s.id})}}),[]),Object(p.useEffect)((function(){return n.view_user_ids.some((function(e){return e===o.id}))||B()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(B()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadWsPostsCount({topic_id:s.id}),function(){return i.getUnreadWsPostsCount({topic_id:s.id})}}),[n.id]);var U=n.recipients.filter((function(e){return"TOPIC"===e.type&&1===e.private}));return u.a.createElement(u.a.Fragment,null,null!==n.todo_reminder&&u.a.createElement(h.p,{todoReminder:n.todo_reminder,type:"POST"}),u.a.createElement(Te,{className:"card-header d-flex justify-content-between"},u.a.createElement("div",{className:"d-flex flex-column align-items-start"},u.a.createElement("div",{className:"d-flex"},u.a.createElement("div",{className:"align-self-start"},u.a.createElement(Pe,{className:"close mr-2",icon:"arrow-left",onClick:function(){c()}})),u.a.createElement("div",null,u.a.createElement("h5",{ref:D.title,className:"post-title mb-0"},u.a.createElement("span",null,n.author.id!==o.id&&!n.is_followed&&u.a.createElement(Pe,{icon:"eye-off"}),n.title,U.length===n.recipients.length&&u.a.createElement(Pe,{className:"ml-1",icon:"lock",strokeWidth:"2",width:14,height:14})))))),u.a.createElement("div",null,n.author.id===o.id&&!d&&u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},u.a.createElement("a",{onClick:function(){return i.showModal("edit",n)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},u.a.createElement(Pe,{icon:"edit-3"})))),u.a.createElement("li",null,u.a.createElement("a",{onClick:function(){return i.trash(n)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},u.a.createElement(Pe,{icon:"trash"}))),u.a.createElement("li",null,u.a.createElement(Se,{className:"ml-2",item:n,width:220,moreButton:"more-horizontal"},u.a.createElement("div",{onClick:function(){return _(n)}},l.remindMeAboutThis),0===n.is_unread?u.a.createElement("div",{onClick:function(){return A(n,!0)}},l.markAsUnread):u.a.createElement("div",{onClick:function(){return f(n,!0)}},l.markAsRead),u.a.createElement("div",{onClick:function(){return E(n)}},l.share),n.author.id!==o.id&&u.a.createElement("div",{onClick:function(){return v(n)}},n.is_followed?l.unFollow:l.follow),u.a.createElement("div",{onClick:function(){return w(n)}},n.is_close?l.openThisPost:l.closeThisPost)))),n.author.id!==o.id&&u.a.createElement("div",null,u.a.createElement(Se,{className:"ml-2",item:n,width:170,moreButton:"more-horizontal"},null===n.todo_reminder&&u.a.createElement("div",{onClick:function(){return _(n)}},l.remindMeAboutThis),!B()&&u.a.createElement("div",{onClick:function(){return f(n,!0)}},l.markAsRead),u.a.createElement("div",{onClick:function(){return A(n,!0)}},l.markAsUnread),u.a.createElement("div",{onClick:function(){return E(n)}},l.share),n.author.id!==o.id&&u.a.createElement("div",{onClick:function(){return v(n)}},n.is_followed?l.unFollow:l.follow),"external"===n.author.type&&"internal"===o.type&&u.a.createElement("div",{onClick:function(){return w(n)}},n.is_close?l.openThisPost:l.closeThisPost))))),u.a.createElement(Ie,{onDragOver:function(){T(!0)}},u.a.createElement(Ne.a,{hide:!j,ref:D.dropZoneRef,onDragLeave:F,onDrop:function(e){var n=e.acceptedFiles;M(n)},onCancel:F}),u.a.createElement(An,{post:n,user:o,postActions:i,isAuthor:n.author&&n.author.id===o.id,dictionary:l,disableOptions:d,workspaceId:s.id,disableMarkAsRead:B}),n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read}))&&u.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},u.a.createElement(De,{className:"d-sm-inline d-none"},u.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){i.markReadRequirement(n);var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id})),t=!0;n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&(t=!1),t&&!e&&i.markAsRead(n)},disabled:d},l.markAsRead))),n.user_unfollow.length>0&&u.a.createElement(st,{user_unfollow:n.user_unfollow}),u.a.createElement("hr",{className:"m-0"}),u.a.createElement(je.c,{dictionary:l,likers:P,post:n,viewerIds:S,viewers:R,handleReaction:function(){var e={post_id:n.id,id:null,clap:0===n.user_clap_count?1:0,personalized_for_id:null};i.clap(e,(function(n,t){n&&(1===e.clap?i.unlike(e):i.like(e))})),0===n.user_clap_count?i.like(e):i.unlike(e)}}),n.files.length>0&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"card-body"},u.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},l.files),u.a.createElement(Re,{attachedFiles:n.files,type:"post",post:n})),u.a.createElement("hr",{className:"m-0"})),n.files_trashed&&n.files_trashed.length>0&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Le,{className:"card-body"},u.a.createElement("h6",{className:"font-size-11 text-uppercase"},l.files),u.a.createElement("span",{className:"text-muted"},l.filesAutomaticallyRemoved),u.a.createElement(Re,{attachedFiles:n.files_trashed,type:"post",post:n})),u.a.createElement("hr",{className:"m-0"})),I&&Object.keys(I).length>0&&u.a.createElement(u.a.Fragment,null,u.a.createElement(gn,{comments:I,post:n,user:o,commentActions:C,onShowFileDialog:L,dropAction:M,workspace:s,isMember:m,dictionary:l,disableOptions:d,postActions:i}),u.a.createElement("hr",{className:"m-0"})),u.a.createElement(tn,{post:n,posts:a,filter:r,commentActions:C,postActions:i,onShowFileDialog:L,dropAction:M,workspace:s,isMember:m,disableOptions:d,mainInput:!0})))})),Me=t(76),Be=t.n(Me),Ue=t(202),Qe=t(13),He=t(654),Ge=Object(p.lazy)((function(){return Promise.all([t.e(6),t.e(5)]).then(t.bind(null,752))})),We=f.a.div(z||(z=Object(m.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),ze=f.a.div(Y||(Y=Object(m.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),Ye=Object(f.a)(h.s)(V||(V=Object(m.a)([""]))),Ve=f.a.div(J||(J=Object(m.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),Je=f.a.div(K||(K=Object(m.a)(["\n  width: 100%;\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),Ke=f.a.div(q||(q=Object(m.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),qe=Object(f.a)(h.f)(Z||(Z=Object(m.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Ze=f.a.div(X||(X=Object(m.a)(["\n  padding: 5px 45px;\n"]))),Xe=f.a.div($||($=Object(m.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),$e=Object(f.a)(h.s)(ee||(ee=Object(m.a)(["\n  margin-right: 6px;\n  width: 20px;\n"]))),en=f.a.div(ne||(ne=Object(m.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),nn=f.a.span(te||(te=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 30px;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),tn=u.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.onShowFileDialog,i=e.dropAction,o=e.post,c=e.posts,s=e.filter,l=e.parentId,d=void 0===l?null:l,m=e.commentActions,f=e.userMention,A=void 0===f?null:f,E=e.handleClearUserMention,v=void 0===E?null:E,k=e.commentId,C=void 0===k?null:k,y=e.innerRef,x=void 0===y?null:y,N=e.workspace,j=e.isMember,T=e.disableOptions,I=e.mainInput,S=o.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),R=Object(_e.g)(),P=Object(O.F)(),D=Object(g.c)(),L={picker:Object(p.useRef)(),postInput:Object(p.useRef)(null)},F=Object(g.d)((function(e){return e.session.user})),M=Object(g.d)((function(e){return e.posts.editPostComment})),B=Object(g.d)((function(e){return e.posts.changeRequestedComment})),U=Object(g.d)((function(e){return e.users.users})),Q=Object(p.useRef)(),H=Object(p.useState)(!1),G=Object(b.a)(H,2),W=G[0],z=G[1],Y=Object(p.useState)(null),V=Object(b.a)(Y,2),J=V[0],K=V[1],q=Object(p.useState)(null),Z=Object(b.a)(q,2),X=Z[0],$=Z[1],ee=Object(p.useState)(!1),ne=Object(b.a)(ee,2),te=ne[0],ae=ne[1],re=Object(p.useState)(!1),ie=Object(b.a)(re,2),oe=(ie[0],ie[1]),ce=Object(p.useState)("default"),se=Object(b.a)(ce,2),le=se[0],de=se[1],me=Object(p.useState)(null),pe=Object(b.a)(me,2),ue=pe[0],he=pe[1],Ae=Object(p.useState)("#cacaca"),Ee=Object(b.a)(Ae,2),ge=Ee[0],ve=Ee[1],Oe=Object(p.useState)(!1),we=Object(b.a)(Oe,2),ke=we[0],Ce=we[1],Ne=Object(p.useState)([]),Te=Object(b.a)(Ne,2),Ie=Te[0],Se=Te[1],Re=Object(p.useState)({approve:!1,change:!1}),Pe=Object(b.a)(Re,2),De=Pe[0],Le=Pe[1],Fe=Object(p.useState)(!(!S||!o.shared_with_client||"internal"!==F.type)),Me=Object(b.a)(Fe,2),tn=Me[0],an=Me[1],rn=Object(p.useState)(o.shared_with_client?null:"internal"),on=Object(b.a)(rn,2),cn=on[0],sn=on[1],ln=Object(p.useState)(null),dn=Object(b.a)(ln,2),mn=dn[0],pn=dn[1],un=function(){tn||z(!W)},fn=Object(O.V)(),hn=Object(O.ab)()._t,An={unarchiveThisWorkspace:hn("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:hn("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:hn("BUTTON.CANCEL","Cancel"),unarchiveBodyText:hn("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),workspaceIsUnarchived:hn("TOASTER.WORKSPACE_IS_UNARCHIVED","workpace is un-archived"),thisIsAnArchivedWorkspace:hn("FOOTER.THIS_IS_AN_ARCHIVED_WORKSPACE","This is an archived workpace"),noReplyAllowed:hn("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:hn("TOOLTIP.ATTACH_FILES","Attach files"),youAreViewing:hn("FOOTER.YOU_ARE_VIEWING","You are viewing"),joinWorkspace:hn("BUTTON.JOIN_WORKSPACE","Join workspace"),lockedLabel:hn("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:hn("POST.REQUEST_CHANGE","Request for change"),accept:hn("POST.ACCEPT","Accept"),requestApprovalFrom:hn("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:hn("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:hn("POST.ADDRESSED_TO","Addressed to"),selectApprover:hn("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:hn("TOOLTIP.EMOJI","Emoji"),images:hn("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:hn("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:hn("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:hn("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:hn("POST.REOPEN","Reopen"),agree:hn("POST.AGREE","Agree"),disagree:hn("POST.DISAGREE","Disagree"),overview:hn("POST.OVERVIEW","Overview"),archivePostOpenNext:hn("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next"),send:hn("TOOLTIP.SEND","Send"),closeEdit:hn("TOOLTIP.CLOSE_EDIT","Close edit")},En=function(){var e={id:N.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};D(Object(Qe.pb)(e)),fn.success(u.a.createElement("span",null,u.a.createElement("b",null,N.name," ",An.workspaceIsUnarchived,".")))},bn=o.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),gn=[].concat(Object(ye.a)(Object.values(U).filter((function(e){return bn.some((function(n){return n===e.id}))&&e.id!==F.id})).map((function(e){return Object(be.a)(Object(be.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:t(109).generate(),value:"all",label:"All users",icon:"users",all_ids:bn.filter((function(e){return U[e]&&U[e].active&&e!==F.id}))}]);Ie.length&&Ie.find((function(e){return"all"===e.value}))&&(gn=gn.filter((function(e){return"all"===e.value})));Object(p.useEffect)((function(){if(M){var e=M.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;M.users_approval.length>0&&(Ce(!0),Se(M.users_approval.map((function(n){return Object(be.a)(Object(be.a)({},n),{},{icon:"user-avatar",value:n.id,label:n.name,type:"USER",ip_address:e?null:n.ip_address,is_approved:!e&&n.is_approved})})))),an(!1),M.shared_with_client?sn("external"):sn("internal")}}),[M]);var vn=function(){var e={topic_id:N.id,filter:"inbox",tag:null},n=N.folder_name&&N.folder_id?"/workspace/posts/".concat(N.folder_id,"/").concat(Object(w.h)(N.folder_name),"/").concat(N.id,"/").concat(Object(w.h)(N.name)):"/workspace/posts/".concat(N.id,"/").concat(Object(w.h)(N.name));D(Object(fe.W)(e)),R.push(n),console.log("go back to inbox")},On=o.users_approval.length>0&&o.users_approval.filter((function(e){return null===e.ip_address})).length===o.users_approval.length,_n=o.users_approval.some((function(e){return e.id===F.id})),wn=o.users_approval.map((function(e){return e.name})),kn=o.users_approval.length>1,Cn=o.users_approval.some((function(e){return e.id===F.id&&null!==e.ip_address}));Object(p.useEffect)((function(){B&&C&&C===B.id?(Ce(!0),Se([Object(be.a)(Object(be.a)({},B.author),{},{icon:"user-avatar",value:B.author.id,label:B.author.name,type:"USER",ip_address:null,is_approved:null})])):(Ce(!1),Se([]))}),[B]);var yn=o.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),xn=o.recipients.find((function(e){return"USER"===e.type})),Nn=o.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return u.a.createElement(We,{className:"post-detail-footer card-body ".concat(a)},T&&u.a.createElement(Xe,null,u.a.createElement($e,{icon:"archive"}),u.a.createElement("h4",null,An.thisIsAnArchivedWorkspace),u.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:An.cancel,headerText:An.unarchiveWorkspace,submitText:An.unarchiveWorkspace,bodyText:An.unarchiveBodyText,actions:{onSubmit:En}};D(Object(xe.a)(e))}},An.unarchiveWorkspace)),u.a.createElement(Ve,{className:"d-flex pr-2 pl-2"},u.a.createElement(je.b,{commentActions:m,commentId:M&&o&&M.post_id===o.id&&M.quote?M.quote.id:C,editPostComment:M,mainInput:I})),u.a.createElement(Ve,{className:"d-flex alig-items-center"},yn&&xn&&u.a.createElement("div",{className:"locked-label mb-2"},An.sharedWithAdditionalPeople),yn&&Nn&&u.a.createElement("div",{className:"locked-label mb-2"},An.sharedWithPublicWs),ke&&u.a.createElement(en,null,De.change&&_n&&u.a.createElement("label",null,An.requestChangeTo),!_n&&u.a.createElement("label",null,An.addressedTo),u.a.createElement(_.d,{options:gn,value:Ie,onChange:function(n){null!==n&&n.length||(B&&m.clearApprovingStatus(B.id),e.handleCancelChange&&e.handleCancelChange(),De.change&&(Le(Object(be.a)(Object(be.a)({},De),{},{change:!1})),Ce(!1))),null===n?Se([]):n.find((function(e){return"all"===e.value}))?Se(n.filter((function(e){return"all"===e.value}))):Se(n)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),On&&!_n&&u.a.createElement(Je,{className:"d-flex align-items-center mb-2"},u.a.createElement("div",{className:"alert alert-primary",style:{color:"#7a1b8b"}},An.requestApprovalFrom," ",wn.join(", "))),o.is_close&&I&&u.a.createElement(Ke,{className:"d-flex align-items-center"},u.a.createElement("div",{className:"alert alert-warning"},u.a.createElement("span",null,An.creatorClosedPost),(o.author.id===F.id||"external"===o.author.type&&"internal"===F.type)&&u.a.createElement("span",{onClick:function(){P.close(o)}},An.reopen))),o.is_read_only&&I&&u.a.createElement(Ve,{className:"d-flex align-items-end"},u.a.createElement(Je,{className:"d-flex align-items-center"},u.a.createElement("div",{className:"alert alert-warning"},An.noReplyAllowed))),(j&&!T||De.change||Cn)&&!o.is_close&&!o.is_read_only&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ve,{className:"d-flex align-items-end",backgroundSend:ue,cursor:le,fillSend:ge},u.a.createElement(ze,{ref:x,className:"flex-grow-1 chat-input-footer",disableButtons:tn},u.a.createElement(Ue.a,{handleClearSent:function(){ae(!1)},sent:te,commentId:C,userMention:A,handleClearUserMention:v,commentActions:m,parentId:d,post:o,selectedGif:X,onClearGif:function(){$(null)},selectedEmoji:J,onClearEmoji:function(){K(null)},dropAction:i,members:N?N.members:[],workspace:N||null,onActive:function(e){var n;oe(e),he((n=e&&!mn?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),de(n[1]),ve(n[2])},onClosePicker:function(){z(!1)},ref:L.postInput,prioMentionIds:bn,approvers:ke?Ie:[],onClearApprovers:function(){Ce(!1),Se([])},onSubmitCallback:function(e,n){if(!e){if(o.must_reply_users&&o.must_reply_users.some((function(e){return e.id===F.id&&!e.must_reply}))){P.markReplyRequirement(o);var t=!0;o.is_must_read&&o.author.id!==F.id&&o.must_read_users&&o.must_read_users.some((function(e){return e.id===F.id&&!e.must_read}))&&(t=!1);var a=o.users_approval.length>0&&o.users_approval.some((function(e){return null===e.ip_address&&e.id===F.id}));t&&!a&&P.markAsRead(o)}1===o.users_approval.length&&On&&_n&&ke&&P.approve({post_id:o.id,approved:0},(function(e,n){Le(Object(be.a)(Object(be.a)({},De),{},{change:!1}))})),B&&m.approve({post_id:o.id,approved:0,comment_id:B.id,transfer_comment_id:n.data.id})}},isApprover:De.change&&On,mainInput:I,readOnly:tn,onToggleCommentType:function(e){an(!e),sn(e)},commentType:cn,imageLoading:mn,setImageLoading:pn}),u.a.createElement(He.a,{parentId:d,handleQuillImage:function(){if(L.postInput&&!tn){var e=L.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:un,onShowFileDialog:r,showApprover:ke,toggleApprover:function(){tn||Ce((function(e){return!e}))},editPostComment:M,mainInput:I,disableButtons:tn,commentType:cn,dictionary:An})),u.a.createElement(Be.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:An.send},u.a.createElement(Ye,{onClick:function(){tn||ae(!0)},icon:"send"})),!0===W&&u.a.createElement(qe,{handleShowEmojiPicker:un,onSelectEmoji:function(e){K(e)},onSelectGif:function(e){$(e)},orientation:"top",ref:L.picker})),M&&M.files.length>0&&u.a.createElement(Ze,null,M.files.map((function(e){return e.name})).join(", "))),(On&&_n&&!De.change||kn&&_n&&!Cn)&&u.a.createElement(Ve,null,u.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},u.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===o.users_approval.length?(Le(Object(be.a)(Object(be.a)({},De),{},{change:!0})),Ce(!0),Se([Object(be.a)(Object(be.a)({},o.author),{},{icon:"user-avatar",value:o.author.id,label:o.author.name,type:"USER",ip_address:null,is_approved:null})])):(Le(Object(be.a)(Object(be.a)({},De),{},{change:!0})),P.approve({post_id:o.id,approved:0},(function(e,n){if(Le(Object(be.a)(Object(be.a)({},De),{},{change:!1})),!e){var t=1===o.users_approval.filter((function(e){return null===e.ip_address})).length,a=o.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===o.users_approval.length-1;t&&a&&P.generateSystemMessage(o,[],o.users_approval.map((function(e){return e.id})))}})))}},An.disagree," ",De.change&&u.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),u.a.createElement(p.Suspense,{fallback:u.a.createElement(u.a.Fragment,null)},u.a.createElement(Ge,{ref:Q,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},u.a.createElement("button",{className:"btn btn-primary",onClick:function(){P.showModal("confirmation",o,null,Q)}},An.agree," ",De.approve&&u.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})))))),!1===j&&null!==N&&!T&&u.a.createElement(Ve,{className:"channel-viewing"},u.a.createElement("div",{className:"channel-name"},An.youAreViewing," #",N.name),u.a.createElement("div",{className:"channel-action"},u.a.createElement("button",{onClick:function(){D(Object(fe.K)({channel_id:N.channel.id,recipient_ids:[F.id]},(function(e,n){})))}},An.joinWorkspace))),s&&"inbox"===s&&o&&0===o.is_archived&&u.a.createElement(Ve,null,u.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},u.a.createElement(nn,{onClick:vn},u.a.createElement(h.s,{className:"mr-2",icon:"corner-up-left"})," ",An.overview),u.a.createElement(nn,{onClick:function(){P.archivePost(o,(function(){var e=c.find((function(e){return 1!==e.is_archived&&1===e.is_unread}));if(e){var n=N.folder_name&&N.folder_id?"/workspace/posts/".concat(N.folder_id,"/").concat(Object(w.h)(N.folder_name),"/").concat(N.id,"/").concat(Object(w.h)(N.name)):"/workspace/posts/".concat(N.id,"/").concat(Object(w.h)(N.name));P.openPost(e,n)}else vn()}))}},An.archivePostOpenNext," ",u.a.createElement(h.s,{className:"ml-2",icon:"corner-up-right"})))))})),an=t(88),rn=t(20),on=t(38),cn=t(48),sn=f.a.div(ae||(ae=Object(m.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .author-avatar {\n    width: 40px;\n    height: 40px;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]))),ln=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},dn=Object(f.a)(Be.a)(re||(re=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),mn=Object(f.a)(h.s)(ie||(ie=Object(m.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),pn=Object(f.a)(h.s)(oe||(oe=Object(m.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]))),un=f.a.div(ce||(ce=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n  // .receiver.client-shared {\n  //   background: #ffdb92;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n  // .receiver.client-not-shared {\n  //   background: #d6edff;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n"]))),fn=f.a.div(se||(se=Object(m.a)(["\n  min-width: 150px;\n"]))),hn=f.a.span(le||(le=Object(m.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]))),An=u.a.memo((function(e){var n=e.post,t=e.user,a=e.postActions,r=e.dictionary,i=e.disableOptions,o=e.workspaceId,c=e.disableMarkAsRead,s="external"===t.type,l=Object(g.c)(),d={container:Object(p.useRef)(null),body:Object(p.useRef)(null)},m=Object(p.useRef)(!0),f=Object(O.r)(),A=f.fileBlobs,E=f.actions.setFileSrc,v=Object(O.L)(),_=Object(g.d)((function(e){return e.workspaces.workspaces})),k=Object(g.d)((function(e){return e.global.recipients.filter((function(e){return n.recipient_ids.includes(e.id)})).sort((function(e,n){if(e.type!==n.type){if("TOPIC"===e.type)return-1;if("TOPIC"===n.type)return 1}return e.name.localeCompare(n.name)}))})),C=Object(p.useState)(n.is_favourite),y=Object(b.a)(C,2),x=y[0],N=y[1],j=Object(p.useState)({approve:!1,change:!1}),T=Object(b.a)(j,2),I=T[0],S=(T[1],Object(O.U)()),R=S.fromNow,P=S.localizeDate,D=Object(O.v)(),L=Object(O.gb)(),F=Object(_e.g)(),M=Object(p.useState)(!1),B=Object(b.a)(M,2),U=B[0],Q=B[1],H=Object(p.useState)(!1),G=Object(b.a)(H,2),W=G[0],z=G[1];Object(p.useEffect)((function(){return function(){m.current=!1}}),[]);var Y=function(e){var t=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(t=e.target.dataset.id);else{var a=n.files.find((function(n){return n.thumbnail_link===e.srcElement.currentSrc}));a&&(t=a.id)}t&&l(Object(rn.Ub)({file_id:parseInt(t),files:n.files}))};Object(p.useEffect)((function(){d.body.current&&(d.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){D.init(e)})),d.body.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&A[a.id]&&(e.setAttribute("src",A[a.id]),e.setAttribute("data-id",a.id))}else{e.addEventListener("click",Y,!1),e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&A[r.id]&&(e.setAttribute("src",A[r.id]),e.setAttribute("data-id",r.id))}})));var e=n.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!A[e.id]&&n.body.includes(e.code)&&cn.sessionService.loadSession().then((function(t){var r=t.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:r,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var r=URL.createObjectURL(t);E({id:e.id,src:r}),a.updatePostImages({post_id:n.id,topic_id:o,file:Object(be.a)(Object(be.a)({},e),{},{blobUrl:r})})}))}))}))}),[n.body,d.body,n.files,o]);var V=function(e){var n=e.target.dataset,t=n.id;switch(n.type){case"DEPARTMENT":F.push("/chat");break;case"TOPIC":var a=_[t];a&&v.toWorkspace(a);break;case"USER":F.push("/profile/".concat(t,"/").concat(Object(w.h)(e.target.innerHTML)))}};Object(p.useEffect)((function(){d.container.current&&d.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",V)}))}));var J=n.users_approval.length>0&&n.users_approval.filter((function(e){return null===e.ip_address})).length===n.users_approval.length,K=n.users_approval.length>1,q=k.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return u.a.createElement(sn,{ref:d.container,className:"card-body"},q&&!s&&u.a.createElement(hn,{className:n.shared_with_client?"client-shared":"client-not-shared"},n.shared_with_client&&u.a.createElement(u.a.Fragment,null,u.a.createElement(pn,{icon:"eye"}),r.sharedClientBadge),!n.shared_with_client&&u.a.createElement(u.a.Fragment,null,u.a.createElement(pn,{icon:"eye-off"}),r.notSharedClientBadge)),u.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},u.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},u.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},u.a.createElement(h.a,{className:"author-avatar mr-2 post-author",id:n.author.id,name:n.author.name,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link}),u.a.createElement("div",null,u.a.createElement("span",{className:"author-name"},n.author.first_name),u.a.createElement(un,null,k.length>=1&&u.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=k.some((function(e){return e.type_id===t.id})),n=L.width>576?e?4:5:e?0:1,a="",i=k.filter((function(e){return!("USER"===e.type&&e.type_id===t.id)}));i.length&&(a+=i.filter((function(e,t){return t<n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(on.renderToString)(u.a.createElement(pn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(on.renderToString)(u.a.createElement(pn,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1">'.concat(e.name,"</span>")})).join(", ")),e&&(i.length,a+='<span class="receiver mb-1">'.concat(r.me,"</span>"));var o="";return i.length+(e?1:0)>n&&(o+=i.filter((function(e,t){return t>=n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(on.renderToString)(u.a.createElement(pn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(on.renderToString)(u.a.createElement(pn,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),o='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(o,"</span></span>")),"".concat(a," ").concat(o)}()}})))),u.a.createElement(fn,{className:"d-inline-flex"},u.a.createElement(Oe,{post:n,isBadgePill:!0,dictionary:r,user:t}),n.files.length>0&&u.a.createElement(mn,{className:"mr-2",icon:"paperclip"}),u.a.createElement(mn,{className:"mr-2",onClick:function(){i||W||(z(!0),a.starPost(n,(function(){m.current&&z(!1)})),m.current&&N(!x))},icon:"star",fill:x?"#ffc107":"none",stroke:x?"#ffc107":"currentcolor"}),!i&&!c()&&u.a.createElement(mn,{className:"mr-2",onClick:function(){U||(Q(!0),a.archivePost(n,(function(){m.current&&Q(!1)})))},icon:"archive"}),u.a.createElement("div",{className:"time-stamp"},u.a.createElement(dn,{arrowSize:5,distance:10,onToggle:ln,content:"".concat(P(n.created_at.timestamp))},u.a.createElement("span",{className:"text-muted"},R(n.created_at.timestamp))))))),n.files.length>0&&u.a.createElement(Nn,{files:n.files}),u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"w-100 post-body-content",ref:d.body,dangerouslySetInnerHTML:{__html:an.a.parseEmoji(n.body)}})),(J||K)&&u.a.createElement(Sn,{postBody:!0,approving:I,fromNow:R,usersApproval:n.users_approval,user:t,post:n,isMultipleApprovers:K}))}));function En(){var e=Object(m.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return En=function(){return e},e}var bn=f.a.div(En()),gn=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comments,r=e.post,i=e.user,o=e.commentActions,c=e.onShowFileDialog,s=e.dropAction,l=e.workspace,d=e.isMember,m=e.dictionary,p=e.disableOptions,f=e.postActions;return u.a.createElement(bn,{className:"post-comments card-body ".concat(t)},a&&u.a.createElement("ul",null,Object.values(a).map((function(e){return u.a.createElement(je.a,{key:e.id,comment:e,post:r,user:i,commentActions:o,onShowFileDialog:c,dropAction:s,workspace:l,isMember:d,dictionary:m,disableOptions:p,postActions:f})}))))})),vn=t(655);function On(){var e=Object(m.a)(["\n    video {\n        max-width: 100%;\n        max-height: 250px;\n    }\n"]);return On=function(){return e},e}var _n,wn,kn,Cn,yn,xn=f.a.div(On()),Nn=function(e){var n=e.files.filter((function(e){return e.type.toLowerCase().includes("video")})),t=function(e,n){e.stopPropagation()};return n.length?u.a.createElement(xn,{className:"d-flex align-items-center"},n.map((function(e){return u.a.createElement(vn.a,{cbFilePreview:t,file:e,"data-file-type":e.type})}))):null},jn=f.a.div(_n||(_n=Object(m.a)([""]))),Tn=f.a.div(wn||(wn=Object(m.a)(["\n  .alert {\n    color: #fff !important;\n  }\n  span.approve-ip {\n    display: none;\n  }\n  :hover {\n    span.approve-ip {\n      display: block;\n    }\n  }\n"]))),In=f.a.div(kn||(kn=Object(m.a)(["\n  text-align: right;\n  display: flex;\n  justify-content: center;\n  .read-users-container .name {\n    color: #212529;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]))),Sn=function(e){var n=e.fromNow,t=e.user,a=e.approving,r=e.usersApproval,i=e.handleApprove,o=void 0===i?function(){}:i,c=e.handleRequestChange,s=void 0===c?function(){}:c,l=e.postBody,d=void 0!==l&&l,m=e.post,p=e.isMultipleApprovers,f=e.isBotMessage,A=void 0!==f&&f,E=Object(g.d)((function(e){return e.users.users})),b=Object(O.ab)()._t,v={comment:b("NOTIFICATION.COMMENT_POPUP","Made a comment in ::title::",{title:""}),requestChange:b("POST.REQUEST_CHANGE","Request for change"),hasRequestedChange:b("POST.HAS_REQUESTED_CHANGE","has requested a change."),accept:b("POST.ACCEPT","Accept"),hasAcceptedProposal:b("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),askForChange:b("POST.ASK_FOR_CHANGE","asked ::author:: for a change",{author:m.author.name}),agreedToThis:b("POST.AGREED_TO_THIS","I've agreed to this"),disagreedToThis:b("POST.DISAGREED_TO_THIS","I've disagreed to this"),agreedBy:b("POST.AGREED_BY","Agreed by"),disagreedBy:b("POST.DISAGREED_BY","Disagreed by"),agree:b("POST.AGREE","Agree"),disagree:b("POST.DISAGREE","Disagree")},_=r.find((function(e){return null!==e.ip_address&&e.is_approved})),w=r.find((function(e){return null!==e.ip_address&&!e.is_approved})),k=r.some((function(e){return e.id===t.id})),C=r.filter((function(e){return null!==e.ip_address&&e.is_approved})),y=r.filter((function(e){return null!==e.ip_address&&!e.is_approved})),x=r.filter((function(e){return null===e.ip_address})),N=C.map((function(e){return e.id})),j=Object.values(E).filter((function(e){return N.some((function(n){return n===e.id}))})),T=y.map((function(e){return e.id})),I=Object.values(E).filter((function(e){return T.some((function(n){return n===e.id}))})),S=x.map((function(e){return e.id})),R=Object.values(E).filter((function(e){return S.some((function(n){return n===e.id}))})),P=r.some((function(e){return e.id===t.id&&null!==e.ip_address})),D=r.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===r.length;return u.a.createElement(jn,null,!d&&!P&&k&&u.a.createElement("div",{className:"d-flex align-items-center mt-3"},u.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:s},v.disagree," ",a.change&&u.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),u.a.createElement("button",{className:"btn btn-primary",onClick:o},v.agree," ",a.approve&&u.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))),A&&u.a.createElement(Tn,null,u.a.createElement("div",{className:"d-flex align-items-center ".concat(D?"justify-content-center":"")},u.a.createElement("div",{className:"".concat(D?"alert alert-success":"")},u.a.createElement("span",null,D?"Everyone agreed to this post":"Everyone disagreed to this post")))),x&&!p&&u.a.createElement(In,{className:"readers-container"},R.length>0&&u.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},u.a.createElement("span",{className:"no-readers"},b("POST.PERSON_PENDING_SINGLE","Waiting for approval from: ::name::",{name:R[0].name})),u.a.createElement("span",{className:"hover read-users-container"},R.map((function(e){return u.a.createElement("span",{key:e.id},u.a.createElement(h.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",u.a.createElement("span",{className:"name"},e.name))}))))),_&&!p&&u.a.createElement(Tn,null,u.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},u.a.createElement("div",{className:"alert alert-success"},u.a.createElement("span",null,_.name," ",v.hasAcceptedProposal," "),u.a.createElement("span",{className:"approve-ip"},n(_.created_at.timestamp)," - ",_.ip_address)))),w&&!p&&u.a.createElement(Tn,null,w.name," ",k?v.askForChange:v.hasRequestedChange," ",u.a.createElement("span",{className:"text-muted approve-ip"},n(w.created_at.timestamp)," - ",w.ip_address)),p&&u.a.createElement(In,{className:"readers-container"},I.length>0&&u.a.createElement("div",{className:"user-reads-container read-by badge badge-danger"},u.a.createElement("span",{className:"no-readers"},b("POST.PERSON_DISAGREED","::count:: person disagreed",{count:y.length})),u.a.createElement("span",{className:"hover read-users-container"},I.map((function(e){return u.a.createElement("span",{key:e.id},u.a.createElement(h.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",u.a.createElement("span",{className:"name"},e.name))})))),R.length>0&&u.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},u.a.createElement("span",{className:"no-readers"},b("POST.PERSON_PENDING","::count:: person pending",{count:R.length})),u.a.createElement("span",{className:"hover read-users-container"},R.map((function(e){return u.a.createElement("span",{key:e.id},u.a.createElement(h.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",u.a.createElement("span",{className:"name"},e.name))})))),j.length>0&&u.a.createElement("div",{className:"user-reads-container read-by badge badge-success"},u.a.createElement("span",{className:"no-readers"},b("POST.PERSON_APPROVED","::count:: person approved",{count:C.length})),u.a.createElement("span",{className:"hover read-users-container"},j.map((function(e){return u.a.createElement("span",{key:e.id},u.a.createElement(h.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",u.a.createElement("span",{className:"name"},e.name))}))))))},Rn=f.a.div(Cn||(Cn=Object(m.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),Pn=Object(f.a)(h.s)(yn||(yn=Object(m.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),Dn=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.postLists,i=e.onGoBack,o=e.postListTag,c=e.postActions,s=Object(p.useState)(null),l=Object(b.a)(s,2),d=l[0],m=l[1],f=c.showModal,h=Object(g.c)();return u.a.createElement(Rn,{className:"post-filter-item list-group list-group-flush ".concat(t)},r&&r.map((function(e){return u.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(o&&parseInt(o)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){e.persist();var n={topic_id:a.id,tag:null,postListTag:e.target.dataset.id,filter:null};h(Object(fe.W)(n)),i(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(n){m(e.id)},onMouseLeave:function(e){return m(null)}},u.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,d&&d===e.id&&u.a.createElement("span",{className:"small ml-auto",onClick:function(n){return function(e,n){e.stopPropagation(),f("edit_post_list",n)}(n,e)}},u.a.createElement(Pn,{className:"mr-0 small",icon:"edit-3"}))||u.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))}));function Ln(){var e=Object(m.a)(["\n  width: 12px;\n  margin: 0;\n"]);return Ln=function(){return e},e}function Fn(){var e=Object(m.a)(["\n  .client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .receiver {\n    display: inline-block;\n    align-items: center;\n  }\n  .feather-eye {\n    vertical-align: text-top;\n  }\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n"]);return Fn=function(){return e},e}var Mn,Bn,Un,Qn,Hn,Gn=f.a.div(Fn()),Wn=Object(f.a)(h.s)(Ln()),zn=function(e){var n=e.classNames,t=void 0===n?"":n,a=e.dictionary,r=e.post,i=e.user,o=e.isExternalUser,c=r.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),s=Object(O.gb)();return u.a.createElement(Gn,{className:"post-recipients ".concat(t," ").concat(c&&!o&&"has-external")},u.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=r.recipients.some((function(e){return e.type_id===i.id})),n=s.width>576?e?4:5:e?0:1,t="",l=r.recipients.filter((function(e){return!("USER"===e.type&&e.type_id===i.id)}));r.shared_with_client&&c&&!o?t+='<span class="receiver client-shared">'.concat(Object(on.renderToString)(u.a.createElement(Wn,{icon:"eye"}))," ").concat(a.sharedClientBadge,"</span>"):r.shared_with_client||!c||o||(t+='<span class="receiver client-not-shared">'.concat(Object(on.renderToString)(u.a.createElement(Wn,{icon:"eye-off"}))," ").concat(a.notSharedClientBadge,"</span>")),l.length&&(t+=l.filter((function(e,t){return t<n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(on.renderToString)(u.a.createElement(Wn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(on.renderToString)(u.a.createElement(Wn,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(", ")),e&&(l.length,t+='<span class="receiver">'.concat(a.me,"</span>"));var d="";return l.length+(e?1:0)>n&&(d+=l.filter((function(e,t){return t>=n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(on.renderToString)(u.a.createElement(Wn,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(on.renderToString)(u.a.createElement(Wn,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),d='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(d,"</span></span>")),"".concat(t," ").concat(d)}()}}))},Yn=f.a.div(Mn||(Mn=Object(m.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),Vn=f.a.div(Bn||(Bn=Object(m.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]))),Jn=f.a.div(Un||(Un=Object(m.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),Kn=f.a.li(Qn||(Qn=Object(m.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),qn=f.a.li(Hn||(Hn=Object(m.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),Zn=function(e){var n=e.actions,t=e.dictionary,a=e.filter,r=e.isExternalUser,i=e.loading,o=e.posts,c=e.search,s=e.workspace,l=e.user,d=Object(p.useRef)(!0),m=o.filter((function(e){return 0===e.is_unread})),f=o.filter((function(e){return 1!==e.is_archived&&1===e.is_unread})),A=Object(p.useState)({showUnread:f.length>0,showRead:0===f.length}),E=Object(b.a)(A,2),g=E[0],v=E[1],O=Object(p.useState)([]),_=Object(b.a)(O,2),w=_[0],k=_[1],C=Object(p.useState)(!1),y=Object(b.a)(C,2),x=y[0],N=y[1],j=function(e){var n=!w.some((function(n){return n===e}))?[].concat(Object(ye.a)(w),[e]):w.filter((function(n){return n!==e}));k(n)};Object(p.useEffect)((function(){return function(){d.current=null}}),[]),Object(p.useEffect)((function(){d.current&&k([])}),[a]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(ft,{checked:x,showButtons:w.length>0,onToggleCheckbox:function(){if(x)N(!1),k([]);else{var e=Object.values(o).filter((function(e){var n=e.users_approval.length>0&&e.users_approval.some((function(e){return null===e.ip_address&&e.id===l.id}));return!(e.is_must_read&&e.must_read_users&&e.must_read_users.some((function(e){return e.id===l.id&&!e.must_read})))&&(!(e.is_must_reply&&e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===l.id&&!e.must_reply})))&&!n)})).map((function(e){return e.id}));k(e),N(!0)}},onMarkAll:function(){n.readAll({selected_post_ids:w,topic_id:s.id}),k([]),n.getUnreadNotificationEntries({add_unread_comment:1})},onArchiveAll:function(){n.archiveAll({selected_post_ids:w,topic_id:s.id}),k([])}}),"draft"===a&&u.a.createElement(Yn,null,u.a.createElement("button",{className:"btn all-action-button",onClick:function(){k(o.map((function(e){return e.id})))}},t.selectAll),u.a.createElement("button",{className:"btn all-action-button",onClick:function(){w.length&&w.forEach((function(e){var t=o.find((function(n){return n.id===e}));t&&n.archivePost(t)}))}},t.remove)),u.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},u.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":i},""!==c&&u.a.createElement(u.a.Fragment,null,0===o.length?u.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchNoResult," ",c):1===o.length?u.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResult," ",c):u.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResults," ",c)),"inbox"!==a&&u.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},u.a.createElement("div",null,o.map((function(e){return u.a.createElement(I,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:j,checked:w.some((function(n){return n===e.id})),isExternalUser:r,workspace:s})})))),"inbox"===a&&""===c&&u.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},u.a.createElement("div",null,u.a.createElement(Kn,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){v((function(e){return Object(be.a)(Object(be.a)({},e),{},{showRead:!g.showRead,showUnread:!g.showUnread})}))},showPosts:g.showUnread},u.a.createElement("span",{className:"badge badge-light"},u.a.createElement(h.s,{icon:g.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.unread))),f.length>0&&u.a.createElement(Vn,{className:"unread-posts-container collapse ".concat(g.showUnread?"show":""),id:"unread-posts-container",showPosts:g.showUnread},f.map((function(e,a){return u.a.createElement(I,{key:e.id,firstPost:0===a,post:e,postActions:n,dictionary:t,toggleCheckbox:j,checked:w.some((function(n){return n===e.id})),isExternalUser:r,workspace:s})}))),u.a.createElement("div",null,u.a.createElement(qn,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){v((function(e){return Object(be.a)(Object(be.a)({},e),{},{showRead:!g.showRead,showUnread:!g.showUnread})}))},showPosts:g.showRead},u.a.createElement("span",{className:"badge badge-light"},u.a.createElement(h.s,{icon:g.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.allOthers))),m.length>0&&u.a.createElement(Jn,{className:"read-posts-container collapse ".concat(g.showRead?"show":""),showPosts:g.showRead},m.map((function(e,a){return u.a.createElement(I,{key:e.id,firstPost:0===a,post:e,postActions:n,dictionary:t,toggleCheckbox:j,checked:w.some((function(n){return n===e.id})),isExternalUser:r,workspace:s})})))))))};function Xn(){var e=Object(m.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return Xn=function(){return e},e}var $n,et,nt,tt,at,rt,it=f.a.div(Xn()),ot=function(e){var n=e.actions,t=e.dictionary,a=e.disableOptions,r=e.isMember;return u.a.createElement("div",{className:"card card-body app-content-body mb-4"},u.a.createElement(it,null,u.a.createElement(h.q,{icon:3,height:252}),r&&u.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){n.showModal("create")},disabled:a},t.createNewPost)))},ct=f.a.div($n||($n=Object(m.a)(["\n    display: flex;\n    align-items-center;\n    justify-content: flex-end;\n    padding: 0.5rem 1.5rem;\n"]))),st=function(e){var n=e.user_unfollow,t={usersUnfollowed:(0,Object(O.ab)()._t)("POST.USERS_UNFOLLOWED","Unfollowed by ::user_count:: user/s",{user_count:n.length})};return u.a.createElement(ct,{className:"text-muted"},u.a.createElement("div",{className:"user-reads-container read-by"},u.a.createElement("span",{className:"no-readers"},t.usersUnfollowed),u.a.createElement("span",{className:"hover read-users-container"},n.map((function(e){return u.a.createElement("span",{key:e.id},u.a.createElement(h.a,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",u.a.createElement("span",{className:"name"},e.name))})))))},lt=f.a.div(et||(et=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 0 15px;\n  .custom-checkbox {\n    padding: 0;\n    label {\n      margin: 0;\n    }\n  }\n  .feather {\n    margin-left: 15px;\n    cursor: pointer;\n  }\n  .feather-chevron-down {\n    margin-left: 0;\n  }\n  z-index: 3;\n"]))),dt=Object(f.a)(_.k)(nt||(nt=Object(m.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n  width: 1.6rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  :hover {\n    background: rgb(175, 184, 189, 0.2);\n    cursor: pointer;\n    .dark & {\n      background: #25282c;\n    }\n  }\n"]))),mt=f.a.div(tt||(tt=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  background: ",";\n  border-radius: 4px;\n  position: relative;\n"])),(function(e){return e.checked?"rgb(175, 184, 189, 0.2)":"inherit"})),pt=f.a.div(at||(at=Object(m.a)(["\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n  :hover {\n    background: rgb(175, 184, 189, 0.2);\n    cursor: pointer;\n    .dark & {\n      background: #25282c;\n    }\n  }\n"]))),ut=f.a.div(rt||(rt=Object(m.a)(["\n  display: ",";\n  position: absolute;\n  top: 100%;\n  background: #fff;\n  border-radius: 6px;\n  ul {\n    margin: 0;\n    list-style: none;\n    box-shadow: 0 0 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n    z-index: 5;\n    overflow: auto;\n    padding: 8px 8px;\n    cursor: pointer;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    max-height: 260px;\n    border-radius: inherit;\n  }\n\n  li {\n    white-space: nowrap;\n    margin-bottom: 10px;\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n    cursor: pointer;\n    padding-bottom: 5px;\n\n    span {\n      font-weight: 400;\n    }\n\n    &:hover {\n      span {\n        color: #972c86;\n      }\n    }\n    &:last-child {\n      border: none;\n      padding: 0;\n      margin: 0;\n    }\n  }\n"])),(function(e){return e.show?"block":"none"})),ft=function(e){var n=e.onToggleCheckbox,t=e.onArchiveAll,a=e.onMarkAll,r=e.checked,i=e.showButtons,o=Object(p.useRef)(null),c=Object(p.useState)(!1),s=Object(b.a)(c,2),l=s[0],d=s[1],m=function(){d(!l)};return Object(O.D)(o,m,l),u.a.createElement(lt,null,u.a.createElement(mt,{checked:r},u.a.createElement(dt,{name:"test",checked:r,onClick:function(){n()}}),u.a.createElement(pt,null,u.a.createElement(h.s,{icon:"chevron-down",width:"14",height:"14",onClick:m})),u.a.createElement(ut,{show:l,ref:o},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("span",null,"sample option 1")),u.a.createElement("li",null,u.a.createElement("span",null,"sample option 2")),u.a.createElement("li",null,u.a.createElement("span",null,"sample option 3"))))),i&&u.a.createElement(u.a.Fragment,null,u.a.createElement(h.s,{icon:"archive",width:"20",height:"20",onClick:function(){t()}}),u.a.createElement(h.s,{icon:"mail",width:"20",height:"20",onClick:function(){a()}}),u.a.createElement(h.s,{icon:"check-circle",width:"20",height:"20"})))}},624:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABkaSURBVHic7d3Nr213Xcfx7zn2Fou09N4YBAYkmmBpG8Nj5G9wQIo4Nk5wokBCNKZ/gIOGYEwAdSCJMQwNSOPAqSMTCCqGQHlINDKQtmq5fZDaS+lxcHt7n87Z37X3Xg/ftb6v1x+w1i/3JvfzvufsvdbJP378j88e+ewnYo2+/6OX4yOf+VY88/y1pY/Cwr73p78ev/TWe2e/79MPfnj2e3LT269+bfZ7PvP8tXjo01+f/b7086FfuT++8gePxgP33TP6tV964i/j9MoXvxTf+cMvjH7xOfzqO+6Lv/ujX1vkH34AmMrU4//SE1+M04gIEQAANcwx/hFxPQAiRAAALG2u8Y+4JQAiRAAALGXO8Y+4IwAiRAAAzG3u8Y84JwAiRAAAzGWJ8Y+4IAAiRAAATG2p8Y/YEQARIgAAprLk+EckARAhAgBgbEuPf8SAAIgQAQAwlgrjHzEwACJEAAAcq8r4R+wRABEiAAAOVWn8I/YMgAgRAAD7qjb+EQcEQIQIAIChKo5/xIEBECECACBTdfwjjgiACBEAABepPP4RRwZAhAgAgDtVH/+IEQIgQgQAwA1rGP+IkQIgQgQAwFrGP2LEAIgQAQD0tabxjxg5ACJEAAD9rG38IyYIgAgRAEAfaxz/iIkCIEIEALB9ax3/iAkDIEIEALBdax7/iIkDIEIEALA9ax//iBkCIEIEALAdWxj/iJkCIEIEALB+Wxn/iBkDIEIEALBeWxr/iJkDIEIEALA+Wxv/iAUCIEIEALAeWxz/iIUCIEIEAFDfVsc/YsEAiBABANS15fGPWDgAIkQAAPVsffwjCgRAhAgAoI4O4x9RJAAiRAAAy+sy/hGFAiBCBACwnE7jH1EsACJEAADz6zb+EQUDIEIEADCfjuMfUTQAIkQAANPrOv4RhQMgQgQAMJ3O4x9RPAAiRAAA4+s+/hErCIAIEQDAeIz/dasIgAgRAMDxjP9NqwmACBEAwOGM/+1WFQARIgCA/Rn/u60uACJEAADDGf/zrTIAIkQAADnjf7HVBkCECADgYsZ/t1UHQIQIAOBuxj93+trD7176DEcTAQDcYPxzlz70aJze9+XPhQhYlggAGIfxz1360KNx5Sufi9PL77wSImB5IgDgOMY/d2P8Tx54y/XPAIiAGkQAwGGMf+7SB2+Of8QtHwIUATWIAID9GP/cpQ8+Glf+9ub4R9zxLQARUIMIABjG+OfOG/+Ic74GKAJqEAEAuxn/3EXjH3HBcwBEQA0iAOB8xj+3a/wjdjwISATUIAIAbmf8c9n4RyRPAhQBNYgAgOuMf27I+EcMeBSwCKhBBADdGf/c0PGPGPguABFQgwgAujL+uX3GP2KPlwGJgBpEANCN8c/tO/4Re74NUATUIAKALox/7pDxjzjgdcAioAYRAGyd8c8dOv4RBwRAhAioQgQAW2X8c8eMf8SBARAhAqoQAcDWGP/cseMfcUQARIiAKkQAsBXGPzfG+EccGQARIqAKEQCsnfHPjTX+ESMEQIQIqEIEAGtl/HNjjn/ESAEQIQKqEAHA2hj/3NjjHzFiAESIgCpEALAWxj83xfhHjBwAESKgChEAVGf8c1ONf0TE6RNP/nD0i4qAGkQAUJXxz005/hGvB4AI2E0EAIzH+OemHv+I138FIAJyIgDgeMY/N8f4R9zyGQARkBMBAIcz/rm5xj/ijg8BioCcCADYn/HPzTn+Eed8C0AE5EQAwHDGP3fpA4/MOv4RF3wNUATkRABAzvjnLn3gkbjy1c/POv4RO54DIAJyIgDgYsY/t9T4RyQPAhIBOREAcDfjn1ty/CMGPAlQBOREAMBNxj+39PhHDHwUsAjIiQAA4z9EhfGP2ONdACIgJwKAzox/rsr4R+z5MiARkBMBQEfGP1dp/CMOeBugCMiJAKAT45+rNv4RB74OWATkRADQgfHPVRz/iAMDIEIEDCECgC0z/rmq4x9xRABEiIAhRACwRcY/V3n8I44MgAgRMIQIALbE+Oeqj3/ECAEQIQKGEAHAFhj/3KUPPBKXZ36xzyFGCYAIETCECADWzPjnboz/6VvvX/ooqdECIEIEDCECgDUy/rk1jX/EyAEQIQKGEAHAmhj/3NrGP2KCAIgQAUOIAGANjH9ujeMfMVEARIiAIUQAUJnxz611/CMmDIAIETCECAAqMv65NY//tVfPpg2ACBEwhAgAKjH+ubWP/+/8+VPTB0CECBhCBAAVGP/cFsb/77/53DwBECEChhABwJKMf24r4x8x8WcA7iQCciIAWILxz21p/CNmDoAIETCECADmZPxzl97/8KbGP2KBAIgQAUOIAGAOxj936f0Px+Wvfn5T4x+xUABEiIAhRAAwJeOf2+r4RywYABEiYAgRAEzB+Oe2PP4RCwdAhAgYQgQAYzL+ua2Pf0SBAIgQAUOIAGAMxj/XYfwjigRAhAgYQgQAxzD+uS7jH1EoACJEwBAiADiE8c91Gv+IYgEQIQKGEAHAPox/rtv4RxQMgAgRMIQIAIYw/rmO4x9RNAAiRMAQIgDYxfjnuo5/ROEAiBABQ4gA4DzGP9d5/COKB0CECBhCBAC3Mv657uMfsYIAiBABQ4gAIML4D2H8r1tFAESIgCFEAPRm/HPG/6bVBECECBhCBEBPxj9n/G+3qgCIEAFDiADoxfjnjP/dVhcAESJgCBEAPRj/nPE/3yoDIEIEDCECYNuMf874X2y1ARAhAoYQAbBNxj9n/HdbdQBEiIAhRABsi/HPGf/c6gMgQgQMIQJgG4x/zvgPs4kAiBABQ4gAWDfjnzP+w20mACJEwBAiANbJ+OeM/342FQARImAIEQDrYvxzxn9/mwuACBEwhAiAdTD+uUvve4/xP8AmAyBCBAwhAqA245+79L73xOUnv2D8D7DZAIgQAUOIAKjJ+OeM/3E2HQARImCILUTAm+/9uaWPAqMx/jnjf7zNB0CECBhi7RFw/30CgG0w/jnjP44WARAhAoZYcwTAFhj/nPEfT5sAiBABQ4gAWIbxzxn/cbUKgAgRMIQIgHkZ/5zxH1+7AIgQAUOIAJiH8c9d/56/8R9bywCIEAFDiACYlvHPvTH+Dxr/sbUNgAgRMIQIgGkY/5zxn1brAIgQAUOIABiX8c8Z/+m1D4AIETCECIBxGP+c8Z+HAHidCMiJADiO8c8Z//kIgFuIgJwIgMMY/5zxn5cAuIMIyIkA2I/xzxn/+QmAc4iAnAiAYYx/zvgvQwBcQATkRADsZvxzxn85AmAHEZATAXA+458z/ssSAAkRkBMBcDvjnzP+yxMAA4iAnAiA64x/zvjXIAAGEgE5EUB3xj9n/OsQAHsQATkRQFfGP2f8axEAexIBORFAN8Y/Z/zrEQAHEAE5EUAXxj9n/GsSAAcSATkRwNYZ/9yl9z5k/IsSAEcQATkRwFYZ/9yl9z4Ul5/8M+NflAA4kgjIiQC2xvjnjH99AmAEIiAnAtiKt953j/FPGP91EAAjEQE5EcAW/Py9p8Z/B+O/HgJgRCIgJwLgbsZ/ed3GP0IAjE4E5EQA3GT8l9dx/CMEwCREQE4EgPGvoOv4RwiAyYiAnAigM+O/vM7jHyEAJiUCciKAjoz/8rqPf4QAmJwIyIkAOjH+yzP+1wmAGYiAnAigA+O/PON/kwCYiQjIiQC2zPgvz/jfTgDMSATkRABbZPyXZ/zvJgBmJgJyIoAtMf7LM/7nEwALEAE5EcAWGP/lGf+LCYCFiICcCGDNjP/yjP9uAmBBIiAnAlgj4788458TAAsTATkRwJoY/+UZ/2EEQAEiICcCWAPjvzzjP5wAKEIE5EQAlRn/5Rn//QiAQkRATgRQkfFfnvHfnwAoRgTkRACVGP/lGf/DCICCREBOBFCB8V+e8T+cAChKBOREAEsy/ssz/scRAIWJgJwIYAnGf3nG/3gn3/uPZ8+WPgS7ve2Be+PkZPzrvvKTV+KFH10d/8IL+MVfflucnE7wh5R4+sEPz35Pbnr71a/Nf9Ozs3jt2W2MzsmD98fJm+5d+hgHufbqWfz4f3+69DFW7eTq1asCAA4kAJa1SADARvgVAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaOjku/HQ2dKHAADm5ScAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDJ1evXj1b+hCwVk8/+OGlj9Da269+bekjwGr5CQAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGjonmeev7b0GVbt8i9cinvvOVn6GAc5e+VanF19celjjOL0bVciTtb598C6nL12Fv/9788ufYxRPPCOB+NNb37T6Nc9O4t49gXbUt09D33660ufYbV+431X4q9/7+Glj3GQ166+GD9+7Pfjp//6vaWPcrS3PP7xeMvjv7v0MWji5PQk/usv/iaufPFLSx/laP/z8Lvjvi9/Li6/88qo1z05ifirf3g6nnjyh6Nel3H5FcCBboz/Gv/3b/zhOI989hPx3Md/e+ljHO30qR/Ey7/1qfjxfz43+rUff+xd8fhj7xr9uoxHABzA+Ndg/FmSCMiJgNoEwJ6Mfw3GnwpEQE4E1CUA9mD8azD+VCICciKgJgEwkPGvwfhTkQjIiYB6BMAAxr8G409lIiAnAmoRAAnjX4PxZw1EQE4E1CEAdjD+NRh/1kQE5ERADQLgAsa/BuPPGomAnAhYngA4h/GvwfizZiIgJwKWJQDuYPxrMP5sgQjIiYDlCIBbGP8ajD9bIgJyImAZAuB1xr8G488WiYCcCJifAAjjX4XxZ8tEQE4EzKt9ABj/Gow/HYiAnAiYT+sAMP41GH86EQE5ETCPtgFg/Gsw/nQkAnIiYHotA8D412D86UwE5ETAtNoFgPGvwfiDCBhCBEynVQAY/xqMP9wkAnIiYBptAsD412D84W4iICcCxtciAIx/DVON/wsvvxr/d+210a8LcxIBOREwrs0HgPGvYcrx/9iffDuef/nV0a8NcxMBOREwnk0HgPGvYerx/8a/vTj6tWEpIiAnAsax2QAw/jUYf9ifCMiJgONtMgBWP/4f/YTx38H404EIyImA42wuADYx/t/87tJHOZrxh+OJgJwIONymAsD412D8YTwiICcCDrOZADD+NRh/GJ8IyImA/W0iAIx/DcYfpiMCciJgP6sPAONfg/GH6YmAnAgYbtUBYPxrMP4wHxGQEwHDrDYAjH8Nxh/mJwJyIiC3ygAw/jUYf1iOCMiJgN1WFwDGvwbjD8sTATkRcLFVBYDxr8H4Qx0iICcCzreaADD+NRh/qEcE5ETA3VYRAMa/BuMPdYmAnAi4XfkAMP41GH+oTwTkRMBNpQPA+Ndg/GE9REBOBFxXNgCMfw3GH9ZHBOREQNEAMP41GH9YLxGQ6x4B5QJg1eP/vPHPGH+YjwjIdY6AUgGw+vF/zPjvYvxhfiIg1zUCygSA8a/B+MP2iIBcxwgoEQDGvwbjD9slAnLdImDxADD+NRh/GObFl38W3//Ry0sf4yAiINcpAhYNAONfg/GH4X5y7Wfxkc98SwQsTAQcb7EAMP41GH/Y3zPPXxMBBYiA4ywSAMa/BuMPhxMBNYiAw80eAKsf/49+0vjvYPzpRATUIAIOM2sAbGL8/+WppY9yNOMP4xEBNYiA/c0WAMa/BuMP4xMBNYiA/cwSAMa/BuMP0xEBNYiA4SYPAONfg/GH6YmAGkTAMJMGgPGvwfjDfERADSIgN1kAGP8ajD/MTwTUIAJ2myQAjH8Nxh+WIwJqEAEXGz0AjH8Nxh+WJwJqEAHnGzUAjH8Nxh/qEAE1iIC7jRYAxr8G4w/1iIAaRMDtRgkA41+D8Ye6REANIuCmowPA+Ndg/KE+EVCDCLjuqAAw/jUYf1gPEVCDCDgiAIx/DcYf1kcE1NA9Ag4KAONfg/GH9RIBNXSOgL0DwPjXYPxh/URADV0jYK8AMP41GH/YDhFQQ8cIGBwAxr8G4w/bIwJq6BYBgwLA+Ndg/GG7REANnSIgDQDjX4Pxh+0TATV0iYCdAWD8azD+0IcIqKFDBFwYAMa/BuMP/YiAGrYeAecGgPGvwfhDXyKghi1HwF0BYPxrMP6ACKhhqxFwWwCsfvx/81PGfwfjD+sjAmrYYgS8EQCbGP9//s7SRzma8QfuJAJq2FoEnEYY/yqMP3AREVDDliLg1PjXYPyBjAioYSsRcGr8l2f8gaFEQA1biIBT478s4w/sSwTUsPYI2Pt1wEsz/jnjD9snAmpYcwSsKgCMf874Qx8ioIa1RsBqAsD454w/9CMCalhjBKwiAIx/zvhDXyKghrVFQPkAMP454w+IgBrWFAGlA+DshZeMf8L4AzeIgBrWEgFlA+DshZfiuY9+0vjvYPyBO4mAGtYQASUDwPjnjD9wERFQQ/UIKBcAxj9n/IGMCKihcgSUCgDjnzP+wFAioIaqEVAmAIx/zvgD+xIBNVSMgBIBYPxzxh84lAiooVoELB4Axj9n/IFjiYAaKkXAogFg/HPGHxiLCKihSgQsFgDGP2f8gbGJgBoqRMAiAWD8c8YfmIoIqGHpCJg9AIx/zvgDUxMBNSwZAbMGgPHPGX9gLiKghqUiYLYAOHvhpXjOi312Mv7A3ERADUtEwCwB8Mb4/9O357jdpIw/sDUioIa5I2DyADD+OeMPLE0E1DBnBEwaAMY/Z/yBKkRADXNFwGQBYPxzxh+oRgTUMEcETBIAxj9n/IGqREANU0fA6AFg/HPGH6hOBNQwZQSMGgDGP2f8gbUQATVMFQGjBYDxzxl/YG1EQA1TRMAoAWD8c8YfWCsRUMPYEXB0ABj/nPEH1k4E1DBmBBwVAMY/Z/yBrRABNYwVAQcHgPHPGX9ga0RADWNEwEEBYPxzxh/YKhFQw7ERsHcAGP+c8Qe2TgTUcEwE7BUAxj9n/IEuREANh0bA4AAw/jnjD3QjAmo4JAIGBYDxzxl/oCsRUMO+EZAGgPHPGX+gOxFQwz4RsDMAjH/O+ANcJwJqGBoBFwaA8c8Zf4DbiYAahkTAuQFg/HPGH+B8IqCGLALuCgDjnzP+ALuJgBp2RcBtAWD8c8YfYBgRUMNFEfBGABj/nPEH2I8IqOG8CDiNeH38P2b8dzH+AIcRATXcGQGnb4z/N4z/RYw/wHFEQA23RsCp8d/N+AOMQwTUcCMCTo3/xYw/wLhEQA2nT/1g/9cBV2P8AdZFBNSw6gAw/gDrJAKWt9oAMP4A6yYClrXKADD+ANsgApazugAw/gDbIgKWsaoAMP4A2yQC5reaADD+ANsmAua1igAw/gA9iID5lA8A4w/QiwiYR+kAMP4APYmA6ZUNAOMP0JsImFbJADD+AESIgCmVCwDjD8CtRMA0SgWA8QfgPCJgfGUCwPgDsIsIGFeJADD+AAwhAsazeAAYfwD2IQLGsWgAGH8ADiECjrdYABh/AI4hAo6zSAAYfwDGIAION3sAGH8AxiQCDjNrABh/AKYgAvY3WwAYfwCmJAL2M0sAGH8A5iAChps8AIw/AHMSAcNMGgDGH4AliIDcZAFg/AFYkgjYbZIAMP4AVCACLjZ6ABh/ACoRAecbNQCMPwAViYC7jRYAxh+AykTA7UYJAOMPwBqIgJuODgDjD8CaiIDrjgoA4w/AGomAIwLA+AOwZt0j4KAAMP4AbEHnCNg7AIw/AFvSNQL2CgDjD8AWdYyAwQFg/AHYsm4RMCgAjD8AHXSKgDQAjD8AnXSJgJ0BYPwB6KhDBFwYAMYfgM62HgHnBoDxB4BtR8BdAWD8AeCmrUbAbQFg/AHgbluMgDcCwPgDwMW2FgGnEcYfAIbYUgScGn8AGG4rEfD/e+n9oFIHAacAAAAASUVORK5CYII="},625:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAiESURBVHic7dkxEcJQAAXBhIkLBj/UkYAqagQgBAWIoIiD4OL/4nYVvPJm3vpabucCAKRcZg8AAMYTAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAjarvt99gYAYLD1OI5z9ggAYCwXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAEbY/nd/YGAGCw7f35zd4AAAzmAgCAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAoD+jxw59wgOPLQAAAABJRU5ErkJggg=="},626:function(e,n,t){"use strict";t.d(n,"a",(function(){return h})),t.d(n,"b",(function(){return x}));var a,r,i=t(9),o=t(1),c=t.n(o),s=t(10),l=t(19),d=t(138),m=t(15),p=t(12),u=s.a.div(a||(a=Object(i.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n"])),(function(e){return e.userNameMaxWidth})),f=Object(s.a)(l.b)(r||(r=Object(i.a)(["\n  .badge {\n    background: ",";\n  }\n"])),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),h=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.loggedUser,r=e.onNameClick,i=void 0===r?null:r,s=e.onChatClick,h=void 0===s?null:s,A=e.user,E=e.dictionary,b=e.showOptions,g=void 0!==b&&b,v=e.onUpdateRole,O=void 0===v?null:v,_=e.roles,w=e.onArchiveUser,k=void 0===w?null:w,C=e.onActivateUser,y=void 0===C?null:C,x=e.onChangeUserType,N=void 0===x?null:x,j=e.onDeleteUser,T=void 0===j?null:j,I=e.onResendInvite,S=void 0===I?null:I,R=e.onDeleteInvitedInternalUser,P=void 0===R?null:R,D=e.showInactive,L=void 0!==D&&D,F=e.showWorkspaceRole,M=void 0!==F&&F,B=e.usersWithoutActivity,U=void 0===B?[]:B,Q=Object(p.V)(),H={cardBody:Object(o.useRef)(null),content:Object(o.useRef)(null)},G=function(e){var n={user_id:A.id,role_id:_[e]};O(n)},W=function(){k(A)},z=function(){y(A)};return c.a.createElement(u,{className:"workspace-user-item-list col-12 col-md-6 ".concat(t)},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card border",key:A.id},c.a.createElement("div",{className:"card-body",ref:H.cardBody},c.a.createElement("div",{ref:H.content,className:"d-flex align-items-center justify-content-between"},c.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},c.a.createElement(l.a,{id:A.id,name:A.name?A.name:A.email,hasAccepted:A.has_accepted,imageLink:A.profile_image_thumbnail_link?A.profile_image_thumbnail_link:A.profile_image_link?A.profile_image_link:"",showSlider:!0}),c.a.createElement("div",{className:"user-info-wrapper ml-3"},""!==A.email&&A.hasOwnProperty("has_accepted")&&!A.has_accepted&&"external"===A.type?c.a.createElement("h6",{className:"user-name mb-0"},c.a.createElement(l.t,{content:A.email},c.a.createElement("div",{className:"mr-2 people-text-truncate"},""!==A.name?A.name:A.email)),c.a.createElement(l.b,{label:E.peopleInvited,badgeClassName:"badge badge-info text-white"}),c.a.createElement(l.b,{label:E.peopleExternal,badgeClassName:"badge badge-info text-white"})):c.a.createElement("h6",{className:"user-name mb-0",onClick:function(){i&&i(A)}},c.a.createElement("div",{className:"mr-2 d-flex"},c.a.createElement(l.t,{content:A.email},c.a.createElement("span",{className:"mr-2"},A.name)),A.hasOwnProperty("has_accepted")&&!A.has_accepted&&A.active?c.a.createElement(l.b,{label:E.peopleInvited,badgeClassName:"badge badge-info text-white"}):null,A.role&&("owner"===A.role.name||"admin"===A.role.name)&&c.a.createElement(l.t,{content:"This is an administrator account"},c.a.createElement(l.s,{icon:"settings",className:"ml-1",width:10,height:10}))),c.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===A.type&&"external"!==a.type&&c.a.createElement(l.b,{label:E.peopleExternal,badgeClassName:"badge badge-info text-white"}),0===A.active&&c.a.createElement(l.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}),M&&A.workspace_role&&""!==A.workspace_role&&c.a.createElement(f,{role:A.workspace_role,badgeClassName:"WATCHER"===A.workspace_role||"TEAM_LEAD"===A.workspace_role?"text-dark":"text-white",label:function(){switch(A.workspace_role){case"ADVISOR":return E.roleAdvisor;case"APPROVER":return E.roleApprover;case"CLIENT":return E.roleClient;case"COMMUNICATION_LEAD":return E.roleCommunicationLead;case"DEVELOPER":return E.roleDeveloper;case"DESIGNER":return E.roleDesigner;case"FREELANCER":return E.roleFreelancer;case"SUPERVISOR":return E.roleSupervisor;case"TEAM_LEAD":return E.roleTeamLead;case"TECHNICAL_ADVISOR":return E.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return E.roleTechnicalLead;case"WATCHER":return E.roleWatcher;default:return""}}()}))),A.role&&"internal"===A.type&&c.a.createElement("span",{className:"small text-muted"},A.role.display_name),A.external_company_name&&"external"===A.type&&c.a.createElement("span",{className:"small text-muted"},A.external_company_name))),null!==h&&"external"!==a.type&&c.a.createElement("div",{className:"button-wrapper"},A.contact&&""!==A.contact&&a.id!==A.id&&c.a.createElement("a",{href:"tel:".concat(A.contact.replace(/ /g,"").replace(/-/g,""))},c.a.createElement(l.s,{className:"mr-2",icon:"phone"})),a.id!==A.id&&1===A.active&&c.a.createElement(l.s,{onClick:function(){h&&h(A)},icon:"message-circle"}),g&&a.id!==A.id&&c.a.createElement(d.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:H.cardBody.current},!L&&"internal"===A.type&&A.role&&"employee"===A.role.name&&A.hasOwnProperty("has_accepted")&&A.has_accepted&&c.a.createElement("div",{onClick:function(){return G("admin")}},E.assignAsAdmin),!L&&"internal"===A.type&&A.role&&"admin"===A.role.name&&A.hasOwnProperty("has_accepted")&&A.has_accepted&&c.a.createElement("div",{onClick:function(){return G("employee")}},E.assignAsEmployee),!L&&"external"===A.type&&c.a.createElement("div",{onClick:function(){N&&N(A,"internal")}},E.moveToInternal),!L&&"internal"===A.type&&c.a.createElement("div",{onClick:function(){N&&N(A,"external")}},E.moveToExternal),L&&0===A.active&&!A.deactivate?c.a.createElement("div",{onClick:W},E.unarchiveUser):null,A.active&&A.hasOwnProperty("has_accepted")&&A.has_accepted?c.a.createElement("div",{onClick:W},E.archiveUser):null,!A.deactivate&&A.active&&A.hasOwnProperty("has_accepted")&&A.has_accepted?c.a.createElement("div",{onClick:z},E.deactivateUser):null,L&&A.deactivate&&0===A.active&&A.hasOwnProperty("has_accepted")&&A.has_accepted?c.a.createElement("div",{onClick:z},E.activateUser):null,!L&&A.active&&A.hasOwnProperty("has_accepted")&&A.has_accepted&&U.some((function(e){return e.user_id===A.id}))&&T&&c.a.createElement("div",{onClick:function(){T&&T(A)}},E.deleteUser),!L&&A.hasOwnProperty("has_accepted")&&!A.has_accepted&&c.a.createElement("div",{onClick:function(){S&&S(A)}},E.resendInvitation),!L&&A.hasOwnProperty("has_accepted")&&!A.has_accepted&&"internal"===A.type&&c.a.createElement("div",{onClick:function(){P&&P(A)}},E.removeInvitedInternal),!L&&A.hasOwnProperty("has_accepted")&&!A.has_accepted&&"internal"===A.type&&c.a.createElement("div",{onClick:function(){Object(m.b)(Q,A.invite_link)}},E.sendInviteManually))))))))})),A=t(37),E=t(5),b=t(17),g=t(14),v=t(23);function O(){var e=Object(i.a)(["\n  .badge {\n    background: ",";\n  }\n"]);return O=function(){return e},e}function _(){var e=Object(i.a)(["\n  text-align: center;\n  position: absolute;\n  bottom: -10px;\n  z-index: 2;\n  width: 100%;\n  > span {\n    background: #fff;\n    padding: 10px;\n    .dark & {\n      background: #191c20;\n    }\n  }\n"]);return _=function(){return e},e}function w(){var e=Object(i.a)(["\n  padding: 16px 0 !important;\n  .card-title {\n    position: relative;\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .more-options {\n    display: none;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .profile-name {\n    cursor: pointer;\n    margin-bottom: 4px;\n  }\n  > .more-options svg {\n    width: auto;\n  }\n  .more-options-tooltip {\n    display: none;\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &:hover {\n    .more-options-tooltip {\n      display: block;\n    }\n  }\n"]);return w=function(){return e},e}var k=s.a.li(w()),C=s.a.div(_()),y=Object(s.a)(l.b)(O(),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),x=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.member,r=e.hideOptions,i=e.actions,o=e.workspace_id,s=e.dictionary,u=e.showMoreButton,f=e.showLessButton,h=e.toggleShow,O=e.loggedUser,_=e.onLeaveWorkspace,w=void 0===_?null:_,x=e.workspace,N=void 0===x?null:x,j=e.scrollRef,T=e.onAddRole,I=void 0===T?null:T,S=Object(A.g)(),R=Object(E.c)(),P=Object(p.V)(),D=function(){var e={topic_id:o,user_id:a.id};i.deleteRole(e)},L=function(){var e={topic_id:o,emails:[a.email]};R(Object(v.N)(e,(function(e,n){e||P.success(s.invitationSent)})))};return c.a.createElement(k,{className:"team-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(t)},c.a.createElement("div",{className:"d-flex align-items-center "},c.a.createElement("div",{className:"pr-3"},c.a.createElement(l.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,partialName:a.partial_name,noDefaultClick:!a.has_accepted,hasAccepted:a.has_accepted,showSlider:!0,scrollRef:j})),c.a.createElement("div",null,c.a.createElement("h6",{className:"profile-name",onClick:function(){a.has_accepted&&S.push("/profile/".concat(a.id,"/").concat(Object(b.h)(a.name)))}},a.has_accepted||""!==a.name?a.name:a.email),"internal"===a.type&&a.designation&&c.a.createElement("small",{className:"text-muted"},a.designation),"external"===a.type&&a.external_company_name&&c.a.createElement("small",{className:"text-muted"},a.external_company_name))),c.a.createElement("div",{className:"ml-auto"},a.workspace_role&&""!==a.workspace_role&&c.a.createElement(y,{role:a.workspace_role,badgeClassName:"WATCHER"===a.workspace_role||"TEAM_LEAD"===a.workspace_role?"text-dark":"text-white",label:function(){switch(a.workspace_role){case"ADVISOR":return s.roleAdvisor;case"APPROVER":return s.roleApprover;case"CLIENT":return s.roleClient;case"COMMUNICATION_LEAD":return s.roleCommunicationLead;case"DEVELOPER":return s.roleDeveloper;case"DESIGNER":return s.roleDesigner;case"FREELANCER":return s.roleFreelancer;case"SUPERVISOR":return s.roleSupervisor;case"TEAM_LEAD":return s.roleTeamLead;case"TECHNICAL_ADVISOR":return s.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return s.roleTechnicalLead;case"WATCHER":return s.roleWatcher;default:return""}}()}),"external"===a.type&&"external"!==O.type&&a.has_accepted&&c.a.createElement(l.b,{badgeClassName:"badge-info text-white",label:s.peopleExternal}),"external"===a.type&&!a.has_accepted&&c.a.createElement(l.b,{badgeClassName:"badge-info text-white",label:s.peopleInvited}),"external"===a.type&&"external"!==O.type&&!a.has_accepted&&c.a.createElement(c.a.Fragment,null,c.a.createElement(l.b,{badgeClassName:"badge-info text-white",label:s.peopleExternal}))),u&&c.a.createElement(C,{className:"btn-toggle-show"},c.a.createElement("span",{className:"cursor-pointer",onClick:h},s.showMore)),f&&c.a.createElement(C,{className:"btn-toggle-show"},c.a.createElement("span",{className:"cursor-pointer",onClick:h},s.showLess)),!r&&c.a.createElement(d.c,{moreButton:"more-horizontal",width:250},"APPROVER"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"approver")}},s.assignAsApprover),"APPROVER"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsApprover),"CLIENT"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"client")}},s.assignAsClient),"CLIENT"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsClient),"COMMUNICATION_LEAD"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"communication_lead")}},s.assignAsCommunicationLead),"COMMUNICATION_LEAD"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsCommunicationLead),"DESIGNER"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"designer")}},s.assignAsDesigner),"DESIGNER"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsDesigner),"DEVELOPER"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"developer")}},s.assignAsDeveloper),"DEVELOPER"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsDeveloper),"FREELANCER"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"freelancer")}},s.assignAsFreelancer),"FREELANCER"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsFreelancer),"SUPERVISOR"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"supervisor")}},s.assignAsSupervisor),"SUPERVISOR"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsSupervisor),"TEAM_LEAD"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"team_lead")}},s.assignAsTeamLead),"TEAM_LEAD"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsTeamLead),"TECHNICAL_ADVISOR"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"technical_advisor")}},s.assignAsTechnicalAdvisor),"TECHNICAL_ADVISOR"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsTechnicalAdvisor),"TECHNICAL_LEAD"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"technical_lead")}},s.assignAsTechnicalLead),"TECHNICAL_LEAD"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsTechnicalLead),"WATCHER"!==a.workspace_role&&c.a.createElement("div",{onClick:function(){return I(a,"watcher")}},s.assignAsWatcher),"WATCHER"===a.workspace_role&&c.a.createElement("div",{onClick:D},s.revokeAsWatcher),a.id===O.id&&c.a.createElement("div",{onClick:function(){return w(N,a)}},s.leave),a.id!==O.id&&"internal"===O.type&&c.a.createElement("div",{onClick:function(){return w(N,a)}},s.remove),0===a.active&&"external"===a.type&&c.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:s.resendInvite,submitText:s.resend,cancelText:s.cancel,bodyText:"".concat(s.resendInviteConfirmation," ").concat(a.email,"?"),actions:{onSubmit:L}};R(Object(g.a)(e))}},s.resendInvite),!a.has_accepted&&0===a.active&&"external"===a.type&&a.invite_link&&c.a.createElement("div",{onClick:function(){Object(m.b)(P,a.invite_link)}},s.sendInviteManually)))}))},627:function(e,n,t){e.exports=t.p+"static/media/text.bf6e5a52.svg"},630:function(e,n,t){"use strict";t.d(n,"g",(function(){return g})),t.d(n,"d",(function(){return S})),t.d(n,"f",(function(){return L})),t.d(n,"k",(function(){return B})),t.d(n,"l",(function(){return H})),t.d(n,"n",(function(){return J})),t.d(n,"o",(function(){return Z})),t.d(n,"c",(function(){return $})),t.d(n,"i",(function(){return ne})),t.d(n,"h",(function(){return se})),t.d(n,"j",(function(){return pe})),t.d(n,"e",(function(){return Ae})),t.d(n,"p",(function(){return ge})),t.d(n,"a",(function(){return _e})),t.d(n,"m",(function(){return Ce})),t.d(n,"b",(function(){return Ne}));var a,r,i,o,c=t(9),s=t(1),l=t.n(s),d=t(10),m=t(19),p=t(138),u=t(12),f=t(5),h=d.a.div(a||(a=Object(c.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),A=d.a.div(r||(r=Object(c.a)([""]))),E=d.a.span(i||(i=Object(c.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),b=Object(d.a)(m.s)(o||(o=Object(c.a)(["\n  width: 15px;\n"]))),g=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.actions,i=e.filterFile,o=e.filter,c=void 0===o?"all":o,s=e.dropZoneRef,d=e.storageLimit,g=void 0===d?25:d,v=e.wsFiles,O=e.folders,_=e.activeFolder,w=e.clearFilter,k=e.params,C=e.disableOptions,y=e.workspace,x="external"===Object(f.d)((function(e){return e.session.user})).type,N=Object(u.ab)()._t,j=r.getFileSizeUnit(v.storage),T=0===v.storage?0:v.storage<1e8?1e8:v.storage,I={uploadFiles:N("FILE.UPLOAD_FILES","Upload files"),allFiles:N("FILES.ALL_FILES","All files"),recentlyEdited:N("FILES.RECENTLY_EDITED","Recently edited"),favorite:N("FILE.FAVORITE","Favorite"),removed:N("FILES.REMOVED","Removed"),storageStatus:N("FILES.STORAGE_STATUS","Storage Status"),usedOf:N("FILE.USED_OF","used of"),gigabyte:N("FILE.GIGABYTE","GB"),teamChat:N("FILES_SIDEBAR.TEAM_CHAT","Team chat"),clientChat:N("FILES_SIDEBAR.CLIENT_CHAT","Client chat"),privatePost:N("FILES_SIDEBAR.PRIVATE_POST","Private post"),postWithClient:N("FILES_SIDEBAR.POST_WITH_CLIENT","Post with client")};return l.a.createElement(h,{className:"file-sidebar bottom-modal-mobile ".concat(t)},l.a.createElement(A,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),l.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===a&&l.a.createElement("div",{className:"card-body"},l.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:C},I.uploadFiles),l.a.createElement("form",{className:"d-none",id:"file-upload"},l.a.createElement("input",{type:"file",multiple:""}))),l.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},l.a.createElement("div",{className:"list-group list-group-flush"},l.a.createElement(E,{onClick:i,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"folder"}),I.allFiles,l.a.createElement("span",{className:"small ml-auto"},v&&v.count>0?v.count:null)),O&&Object.values(O).filter((function(e){return!e.is_archived})).length>0&&!0===a&&l.a.createElement(E,{className:"d-flex align-items-center folder-list"},l.a.createElement("ul",null,Object.values(O).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return l.a.createElement(se,{key:e.id,clearFilter:w,folders:O,params:k,folder:e,activeFolder:_})})))),l.a.createElement(pe,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){r.uploadWorkspaceGoogleDriveFile(k.workspaceId,e)}))},disableOptions:C}),!x&&y&&y.team_channel&&y.team_channel.code&&l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{onClick:i,"data-filter":"team",active:"team"===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"eye-off"}),I.teamChat),l.a.createElement(E,{onClick:i,"data-filter":"client",active:"client"===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"eye"}),I.clientChat),l.a.createElement(E,{onClick:i,"data-filter":"privatePost",active:"privatePost"===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"eye-off"}),I.privatePost),l.a.createElement(E,{onClick:i,"data-filter":"clientPost",active:"clientPost"===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"eye"}),I.postWithClient)),l.a.createElement(E,{onClick:i,"data-filter":"recent",active:"recent"===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"monitor"}),I.recentlyEdited),l.a.createElement(E,{onClick:i,"data-filter":"important",active:"important"===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"star"}),I.favorite,l.a.createElement("span",{className:"small ml-auto"},v&&v.stars>0?v.stars:null)),l.a.createElement(E,{onClick:i,"data-filter":"removed",active:"removed"===c,className:"list-group-item d-flex align-items-center"},l.a.createElement(b,{className:"mr-2",icon:"trash"}),I.removed,l.a.createElement("span",{className:"small ml-auto"},v&&v.trash>0?v.trash:null))),"undefined"!==typeof v&&null!==v&&l.a.createElement("div",{className:"card-body"},l.a.createElement("h6",{className:"mb-4"},I.storageStatus),l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("div",{className:"mr-3"},l.a.createElement(m.s,{icon:"database"})),l.a.createElement("div",{className:"flex-grow-1"},l.a.createElement(p.d,{amount:T,limit:1e9*g}),l.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},j.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],j.unit," ",I.usedOf," ",g,I.gigabyte)))))))})),v=t(0),O=t(11),_=t(617),w=t(618);function k(){var e=Object(c.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return k=function(){return e},e}function C(){var e=Object(c.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return C=function(){return e},e}function y(){var e=Object(c.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]);return y=function(){return e},e}function x(){var e=Object(c.a)(["\n  .card-body {\n    position: relative;\n    overflow: visible !important;\n    padding-bottom: 12px;\n    min-height: 100px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return x=function(){return e},e}var N=d.a.div(x()),j=Object(d.a)(p.c)(y()),T=d.a.div(C()),I=d.a.div(k()),S=l.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.dropZoneRef,i=e.filter,o=e.search,c=e.wsFiles,d=e.isMember,p=e.handleAddEditFolder,h=e.actions,A=e.params,E=e.folders,b=e.folder,g=e.fileIds,k=e.history,C=e.subFolders,y=e.dictionary,x=e.disableOptions,S=Object(u.V)(),R=document.querySelector(".app-content-body"),P=Object(f.d)((function(e){return e.session.user})),D=Object(s.useState)(!1),L=Object(O.a)(D,2),F=L[0],M=L[1],U=function(){r.current&&r.current.open()},Q=function(){M(!1)};return Object(s.useEffect)((function(){F&&M(!1)}),[c]),Object(s.useEffect)((function(){F&&!d&&S.warning("You are not a member of this workspace.")}),[F]),l.a.createElement(N,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(i)||F||M(!0)}},!x&&l.a.createElement(_.a,{ref:r,hide:!(F&&!0===d),onDragLeave:Q,onDrop:function(e){!function(e){M(!1);var n=Math.floor(Date.now()/1e3),a={files:e.map((function(e){return{created_at:{timestamp:n},download_link:null,folder_id:b?b.id:null,id:t(109).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:n},user_id:P.id,view_link:null,uploading:!0}})),folder_id:b?b.id:null,topic_id:parseInt(A.workspaceId),workspace_id:A.hasOwnProperty("folderId")?parseInt(A.fileFolderId):null};h.uploadingFiles(a);var r=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].ref_id=t(109).generate(),r.append("files["+i+"]",e[i]));var o={is_primary:0,topic_id:A.workspaceId,files:r};A.fileFolderId&&(o=Object(v.a)(Object(v.a)({},o),{},{folder_id:A.fileFolderId})),h.uploadFiles(o)}(e.acceptedFiles)},onCancel:Q,params:A}),l.a.createElement("div",{className:"card-body"},b&&d&&"removed"!==i&&!x&&l.a.createElement(j,{moreButton:"settings"},l.a.createElement("div",{onClick:function(){p(b,"update")}},y.editFolder),l.a.createElement("div",{onClick:function(){if(b){h.removeFolder(b,A.workspaceId,(function(e,n){if(!e&&n){var t=k.location.pathname.split("/folder/")[0];k.push(t)}}))}}},y.removeFolder)),"removed"===i&&c&&c.hasOwnProperty("trash_files")&&(Object.keys(c.trash_files).length>0||Object.values(E).filter((function(e){return e.is_archived})).length>0)&&l.a.createElement(m.s,{icon:"trash",onClick:h.removeTrashFiles}),""===i&&l.a.createElement(l.a.Fragment,null,"undefined"===typeof A.fileFolderId&&l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},y.allFiles),b&&b.search&&l.a.createElement(Ae,{folder:b,history:k,dictionary:y,folders:E,workspaceID:A.workspaceId}),l.a.createElement("div",{className:"row"},A.hasOwnProperty("fileFolderId")?C.filter((function(e){return!e.is_archived})).map((function(e){return l.a.createElement(w.b,{key:e.id,actions:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:x,folder:e,history:k,isMember:d,params:A,handleAddEditFolder:p})})):Object.values(E).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return l.a.createElement(w.b,{key:e.id,actions:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:x,folder:e,history:k,isMember:d,params:A,handleAddEditFolder:p})}))),"undefined"!==typeof A.fileFolderId?l.a.createElement(l.a.Fragment,null,b?l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},b.search),l.a.createElement("div",{className:"row"},c&&g.map((function(e){return c.files.hasOwnProperty(e)?l.a.createElement(w.a,{key:e,isMember:d,scrollRef:R,actions:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],folders:E,disableOptions:x}):null}))),c&&0===g.length&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}),d&&l.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:U,disabled:x},y.uploadFiles))):l.a.createElement(l.a.Fragment,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},g.map((function(e){return c.files.hasOwnProperty(e)?l.a.createElement(w.a,{key:e,isMember:d,scrollRef:R,actions:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:c.files[e],folders:E,disableOptions:x}):null}))),c.popular_files.length>0&&l.a.createElement(H,{search:o,scrollRef:R,wsFiles:c,actions:h,folders:E,disableOptions:x}),c.recently_edited.length>0&&l.a.createElement(J,{search:o,scrollRef:R,wsFiles:c,actions:h,folders:E,disableOptions:x})),0===g.length&&0===c.popular_files.length&&0===c.recently_edited.length&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}),d&&l.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:U,disabled:x},y.uploadFiles))),"team"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,{search:o,scrollRef:R,wsFiles:c,actions:h,folders:E,disableOptions:x}),!(c&&c.team_chat.length>0)&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}))),"client"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_e,{search:o,scrollRef:R,wsFiles:c,actions:h,folders:E,disableOptions:x}),!(c&&c.client_chat.length>0)&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}))),"privatePost"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{search:o,scrollRef:R,wsFiles:c,actions:h,folders:E,disableOptions:x}),!(c&&c.private_post.length>0)&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}))),"clientPost"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ne,{search:o,scrollRef:R,wsFiles:c,actions:h,folders:E,disableOptions:x}),!(c&&c.client_post.length>0)&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}))),"recent"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(J,{search:o,scrollRef:R,wsFiles:c,actions:h,folders:E,disableOptions:x}),!(c&&c.recently_edited.length>0)&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}))),"important"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(B,{search:o,scrollRef:R,wsFiles:c,folders:E,actions:h}),!(c&&c.hasOwnProperty("favorite_files")&&c.favorite_files.length>0)&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282}),l.a.createElement(I,null,l.a.createElement("p",null,"No favorite files."),l.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Z,{scrollRef:R,search:o,wsFiles:c,actions:h,isMember:d,params:A,folders:E,subFolders:C,handleAddEditFolder:p,folder:b,disableOptions:x}),!(c&&c.hasOwnProperty("trash_files")&&Object.keys(c.trash_files).length>0)&&!(Object.values(E).some((function(e){return e.is_archived}))||C.some((function(e){return e.is_archived})))&&l.a.createElement(T,null,l.a.createElement(m.q,{icon:4,height:282})))))})),R=t(17);function P(){var e=Object(c.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return P=function(){return e},e}var D=d.a.div(P()),L=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.dropZoneRef,i=e.onSearchChange,o=e.onSearch,c=e.onEnter,s=e.wsFiles,d=e.handleAddEditFolder,p=e.folders,u=e.history,f=e.params,h=e.clearFilter,A=e.dictionary,E=e.disableOptions,b=e.onClickEmpty,g=e.value,v=function(e){if(h(),s.folders.hasOwnProperty(e.target.dataset.value)){var n=s.folders[e.target.dataset.value];n.hasOwnProperty("payload")?window.open(n.payload.url,"_blank"):f.hasOwnProperty("fileFolderId")?u.push(u.location.pathname.split("/folder/")[0]+"/folder/".concat(n.id,"/").concat(Object(R.h)(n.search))):u.push(u.location.pathname+"/folder/".concat(n.id,"/").concat(Object(R.h)(n.search)))}},O={label:l.a.createElement(l.a.Fragment,null,l.a.createElement(m.s,{className:"mr-1",icon:"plus"})," ",A.add),items:[{value:"folder",label:A.folder,onClick:function(){return d("add")}},{value:"file",label:A.file,onClick:function(){r.current&&r.current.open()}}]},_={label:A.folders,items:s&&Object.values(p).length?Object.values(p).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:v}})):[]};return l.a.createElement(D,{className:"files-header app-action ".concat(t)},l.a.createElement("div",{className:"action-left"},l.a.createElement("ul",{className:"list-inline"},!0===a&&!E&&l.a.createElement("li",{className:"list-inline-item mb-0"},l.a.createElement(m.e,{dropdown:O})),!0===a&&Object.values(p).filter((function(e){return!e.is_archived})).length>=1&&l.a.createElement("li",{className:"list-inline-item mb-0"},l.a.createElement(m.e,{dropdown:_}))),l.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},l.a.createElement(m.s,{icon:"menu"}))),l.a.createElement("div",{className:"action-right"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",onChange:i,onKeyDown:c,value:g,className:"form-control",placeholder:A.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==g.trim()&&l.a.createElement("button",{onClick:b,className:"btn-cross",type:"button"},l.a.createElement(m.s,{icon:"x"})),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:o},l.a.createElement(m.s,{icon:"search"}))))))}));function F(){var e=Object(c.a)([""]);return F=function(){return e},e}var M=d.a.div(F()),B=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions;return l.a.createElement(M,{className:"important-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),l.a.createElement("div",{className:"row"},r&&r.favorite_files.length>0&&r.favorite_files.map((function(e){return l.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:a,file:r.files[e],actions:i})}))))}));function U(){var e=Object(c.a)([""]);return U=function(){return e},e}var Q=d.a.div(U()),H=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return l.a.createElement(Q,{className:"popular-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),l.a.createElement("div",{className:"row"},r&&r.popular_files.length>0&&r.popular_files.map((function(e){return l.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o})}))))}));function G(){var e=Object(c.a)([""]);return G=function(){return e},e}var W,z,Y,V=d.a.div(G()),J=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return l.a.createElement(V,{className:"recent-edited-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),l.a.createElement("div",{className:"row"},r&&r.recently_edited.length>0&&r.recently_edited.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))})),K=t(37),q=d.a.div(W||(W=Object(c.a)([""]))),Z=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.wsFiles,i=e.isMember,o=e.folders,c=e.subFolders,s=e.folder,d=e.params,m=e.handleAddEditFolder,p=e.disableOptions,u=Object(K.g)();return l.a.createElement(q,{className:"remove-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),s&&l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},s.search),l.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?c.filter((function(e){return e.is_archived})).map((function(e){return l.a.createElement(w.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:u,isMember:i,params:d,handleAddEditFolder:m,disableOptions:p})})):Object.values(o).filter((function(e){return e.is_archived})).map((function(e){return l.a.createElement(w.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:u,isMember:i,params:d,handleAddEditFolder:m,disableOptions:p})}))),l.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})).map((function(e){return l.a.createElement(w.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:o,disableOptions:p})})):r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).map((function(e){return"undefined"!==typeof e?l.a.createElement(w.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:o,disableOptions:p}):null}))))})),X=Object(d.a)(p.c)(z||(z=Object(c.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),$=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.scrollRef,o=void 0===i?null:i,c=e.actions,s=e.isMember,d=e.forceDelete,m=e.disableOptions,p=Object(u.V)(),f=Object(u.ab)()._t,h={rename:f("FILES.RENAME","Rename"),restore:f("FILES.RESTORE","Restore"),remove:f("FILES.REMOVE","Remove"),viewDetails:f("FILES.VIEW_DETAILS","View details"),share:f("FILES.SHARE","Share"),download:f("FILES.DOWNLOAD","Download"),moveTo:f("FILES.MOVE_TO","Move to"),favorite:f("FILES.FAVORITE","Favorite"),unfavorite:f("FILES.UNFAVORITE","Unfavorite"),notMemberOfWs:f("TOASTER.NOT_MEMBER_OF_WS","You are not a member of this workspace.")};return l.a.createElement(X,{className:"file-options ".concat(t),moreButton:"more-horizontal",file:r,scrollRef:o},l.a.createElement("div",{onClick:function(){c.viewFiles(r)}},h.viewDetails),l.a.createElement("div",{onClick:function(){c.favorite(r)}},r.is_favorite?h.unfavorite:h.favorite),l.a.createElement("div",{onClick:function(){c.copyLink(r.view_link)}},h.share),l.a.createElement("div",{onClick:function(){c.download(r)}},h.download),l.a.createElement("div",{onClick:function(){s?c.moveFile(r):p.warning(l.a.createElement(l.a.Fragment,null,"You are ",l.a.createElement("b",null,"not")," a member of this workspace."))}},h.moveTo),l.a.createElement("div",{onClick:function(){s?c.renameFile(r):p.warning("".concat(h.notMemberOfWs))}},h.rename),d&&l.a.createElement("div",{onClick:function(){c.restoreWorkspaceFile(r,(function(e,n){n&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?p.success(l.a.createElement(l.a.Fragment,null,"Item ",l.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):p.success(l.a.createElement(l.a.Fragment,null,"Item ",l.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},h.restore),!m&&l.a.createElement("div",{onClick:function(){s?r.hasOwnProperty("payload_id")?c.unlinkGoogleAttachment(r):c.removeFile(r,d):p.warning("".concat(h.notMemberOfWs))}},h.remove))})),ee=Object(d.a)(p.c)(Y||(Y=Object(c.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),ne=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,o=e.actions,c=e.isMember,s=e.history,d=e.params,m=e.handleAddEditFolder,p=Object(u.V)(),f=Object(u.ab)()._t,h={rename:f("FILES.RENAME","Rename"),restore:f("FILES.RESTORE","Restore"),remove:f("FILES.REMOVE","Remove")};return l.a.createElement(ee,{className:"file-options ".concat(t),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&l.a.createElement("div",{onClick:function(){c?m(a,"edit"):p.warning("You are not a member of this workspace.")}},h.rename),a.is_archived&&l.a.createElement("div",{onClick:function(){o.restoreWorkspaceFolder(a,(function(e,n){n&&(a.parent_folder?p.success(l.a.createElement(l.a.Fragment,null,"Folder ",l.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):p.success(l.a.createElement(l.a.Fragment,null,"Folder ",l.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},h.restore),l.a.createElement("div",{onClick:function(){if(c)if(a.hasOwnProperty("payload"))o.unlinkGoogleFolder(a);else{o.removeFolder(a,d.workspaceId,(function(e,n){if(!e&&n){var t=s.location.pathname.split("/folder/")[0];s.push(t)}}))}else p.warning("You are not a member of this workspace.")}},h.remove))})),te=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,c=e.params;return l.a.createElement(se,{className:t,clearFilter:o,folders:r,params:c,folder:a,activeFolder:i})};function ae(){var e=Object(c.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(c.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return re=function(){return e},e}var ie,oe=d.a.li(re(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),ce=d.a.ul(ae(),(function(e){return e.maxHeight})),se=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,c=Object(K.g)(),d=Object(K.j)(),p=d.params,u=d.path,f=d.url,h={container:Object(s.useRef)(null),arrow:Object(s.useRef)(null),nav:Object(s.useRef)(null)},A=Object(s.useState)(null),E=Object(O.a)(A,2),b=E[0],g=E[1],v=Object(s.useState)(null),_=Object(O.a)(v,2),w=_[0],k=_[1];return Object(s.useEffect)((function(){null!==h.nav.current&&k(h.nav.current.scrollHeight)}),[h.nav.current,w]),Object(s.useEffect)((function(){i&&i.parent_folder&&i.parent_folder.id===a.id&&g(!0)}),[p,i]),l.a.createElement(oe,{ref:h.container,className:"folder-list fadeIn ".concat(t),selected:!!i&&i.id==a.id},l.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(o(),"/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===u||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===u){var e=f.split("/folder/")[0];c.push(e+"/folder/".concat(a.id,"/").concat(Object(R.h)(a.search)))}else c.push(c.location.pathname+"/folder/".concat(a.id,"/").concat(Object(R.h)(a.search)));g((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&l.a.createElement(m.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&l.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(b?"ti-minus rotate-in":"ti-plus")})),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&l.a.createElement(ce,{ref:h.nav,maxHeight:w,className:b?"enter-active":"leave-active"},b&&Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return l.a.createElement(te,{key:e.id,clearFilter:o,params:p,folderHeight:w,activeFolder:i,folders:r,folder:e})}))))},le=t(714),de=t.n(le),me=d.a.div(ie||(ie=Object(c.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"])),(function(e){return e.disabled?".5":"1"})),pe=function(e){var n=e.className,t=void 0===n?"":n,a=e.onChange,r=e.disableOptions,i=Object(u.ab)()._t,o=Object(s.useState)(!1),c=Object(O.a)(o,2),d=c[0],p=c[1],f=function(e){null===localStorage.getItem("gdrive")&&localStorage.setItem("gdrive",e)},h={linkGoogleDrive:i("FILE.LINK_GOOGLE_DRIVE","Link your Google Drive first"),gDriveAttachFile:i("FILE.ATTACH_GOOGLE_DRIVE_FILE","Attach a file"),gDriveAttachFolder:i("FILE.ATTACH_GOOGLE_DRIVE_FOLDER","Attach a folder")};return l.a.createElement(me,{className:"google-drive dropdown ".concat(t),onClick:function(){r||p(!d)},disabled:r},l.a.createElement(m.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"})," Google Drive",l.a.createElement("div",{className:"dropdown-menu ".concat(d?"show":"")},null===localStorage.getItem("gdrive")?l.a.createElement(de.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return f(e)},multiselect:!0,navHidden:!0,authImmediate:!1,viewId:"DOCS"},l.a.createElement("div",{className:"link-div"},h.linkGoogleDrive)):l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return f(e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"DOCS"},l.a.createElement("div",{className:"dropdown-item"},h.gDriveAttachFile)),l.a.createElement(de.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onAuthenticate:function(e){return f(e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"FOLDERS",createPicker:function(e,n){var t=e.picker.ViewId.FOLDERS,r=new e.picker.DocsView(t).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0);(new window.google.picker.PickerBuilder).addView(r).setOAuthToken(n).setDeveloperKey("AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA").setCallback((function(e){a(e)})).build().setVisible(!0)}},l.a.createElement("div",{className:"dropdown-item"},h.gDriveAttachFolder)))))},ue=t(204);function fe(){var e=Object(c.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return fe=function(){return e},e}var he=d.a.div(fe()),Ae=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.history,i=e.dictionary,o=e.folders,c=e.workspaceID,d=Object(K.j)().url,p=Object(s.useState)(!1),u=Object(O.a)(p,2),f=u[0],h=u[1];return Object(s.useEffect)((function(){a.parent_folder&&Object.values(o).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?h(!0):h(!1))})),a.parent_folder||h(!1)}),[a]),l.a.createElement(he,{className:"files-breadcrumb d-flex ".concat(t)},l.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},l.a.createElement("li",{onClick:function(){var e=r.location.pathname.split("/folder/")[0];r.push(e)}},i.allFiles),l.a.createElement(m.s,{width:12,icon:"chevron-right"}),f&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(ue.a,{parentFolder:a.parent_folder,workspaceID:c,history:r})),l.a.createElement(m.s,{width:12,icon:"chevron-right"})),a.parent_folder&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return function(e){var n=d.split("/folder/")[0];r.push(n+"/folder/".concat(e.id,"/").concat(Object(R.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),l.a.createElement(m.s,{width:12,icon:"chevron-right"})),l.a.createElement("div",null,a.search)))}));function Ee(){var e=Object(c.a)([""]);return Ee=function(){return e},e}var be=d.a.div(Ee()),ge=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return l.a.createElement(be,{className:"recent-edited-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Team chat"),l.a.createElement("div",{className:"row"},r&&r.team_chat.length>0&&r.team_chat.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))}));function ve(){var e=Object(c.a)([""]);return ve=function(){return e},e}var Oe=d.a.div(ve()),_e=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return l.a.createElement(Oe,{className:"recent-edited-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Client chat"),l.a.createElement("div",{className:"row"},r&&r.client_chat.length>0&&r.client_chat.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))}));function we(){var e=Object(c.a)([""]);return we=function(){return e},e}var ke=d.a.div(we()),Ce=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return l.a.createElement(ke,{className:"recent-edited-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Private post"),l.a.createElement("div",{className:"row"},r&&r.private_post.length>0&&r.private_post.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))}));function ye(){var e=Object(c.a)([""]);return ye=function(){return e},e}var xe=d.a.div(ye()),Ne=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,o=e.disableOptions;return l.a.createElement(xe,{className:"recent-edited-files ".concat(t)},l.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Post with client"),l.a.createElement("div",{className:"row"},r&&r.client_post.length>0&&r.client_post.map((function(e){return r.files.hasOwnProperty(e)?l.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:o}):null}))))}))},632:function(e,n,t){},633:function(e,n,t){e.exports=t.p+"static/media/company_chat.b868171a.svg"},636:function(e,n,t){"use strict";var a=t(21),r=t(9),i=t(1),o=t.n(i);function c(){var e=Object(r.a)([""]);return c=function(){return e},e}var s=t(10).a.img(c());n.a=o.a.memo((function(e){var n=e.className,r=void 0===n?"":n,i=e.countryAbbr,c=void 0===i?"nl":i,l=Object(a.a)(e,["className","countryAbbr"]),d=c;null===c&&(d="nl");var m="";switch(d.toLocaleLowerCase()){case"en":case"uk":m=t(624);break;case"nl":m=t(625);break;case"de":m=t(637);break;default:m=t(625)}return o.a.createElement(s,Object.assign({className:"flag ".concat(r),src:m,alt:"flag"},l))}))},637:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAh+SURBVHic7dmxDQIxAARBP3KE9BEZDdDLV0d5dPN0YQc7U8GFK90xxrgHAJDy2D0AAFhPAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBoXuPcvQEAWOz4jc+9ewQAsJYLAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACC5vv72r0BAFhsntdz9wYAYDEXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAE/QFDUgh36a0p6AAAAABJRU5ErkJggg=="},651:function(e,n,t){"use strict";t.r(n);var a,r=t(9),i=t(1),o=t.n(i),c=t(10),s=t(675),l=c.a.div(a||(a=Object(r.a)(["\n  .chat-sidebar-panel {\n    max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    flex: 1 1 auto;\n    @media (min-width: 1920px) {\n      max-width: calc(100% - 540px);\n    }\n  }\n  @media (max-width: 1550px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n  .row {\n    flex-wrap: unset;\n  }\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n;return null!==localStorage.getItem("chat_translate_change")&&(localStorage.removeItem("chat_translate_change"),window.location.reload()),o.a.createElement(l,{className:"company-chat ".concat(t)},o.a.createElement("div",{className:"row no-gutters chat-block"},o.a.createElement(s.g,{className:"col-lg-4 chat-sidebar-panel"}),o.a.createElement(s.a,{className:"col-lg-8 chat-content-panel"})))}},653:function(e,n,t){"use strict";t.r(n);var a,r=t(9),i=t(1),o=t.n(i),c=t(10),s=t(12),l=t(681),d=t(138),m=c.a.div(a||(a=Object(r.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.match,r=e.actions,i=a.params,c=Object(s.ab)()._t,p=Object(s.h)(),u=p.timelineInit,f=p.timelineItems,h=p.recentPostsInit,A=Object(s.j)().posts,E=window.innerWidth,b={aboutThisWorkspace:c("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:c("TEAM","Team"),timeline:c("TIMELINE","Timeline"),noRecentPosts:c("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:c("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:c("FILE_ATTACHMENTS","File attachments"),attachedFile:c("ATTACHED_A_FILE","attached a file"),sharedThePost:c("SHARED_THE_POST","shared the post"),hasJoined:c("TIMELINE.HAS_JOINED","has joined"),hasLeft:c("TIMELINE.HAS_LEFT","has left"),youJoined:c("TIMELINE.YOU_JOINED","You joined"),youLeft:c("TIMELINE.YOU_LEFT","You left"),isAdded:c("TIMELINE.IS_ADDED","is added"),isRemoved:c("TIMELINE.IS_REMOVED","is removed"),createdThePost:c("TIMELINE.CREATED_POST","created the post"),isAddedToCompany:c("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company"),updatedWorkspaceTo:c("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:c("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:c("TEAM.REVOKE_APPROVER","Assign as approver"),remove:c("TEAM.REMOVE","Remove"),showMore:c("SHOW_MORE","Show more"),showLess:c("SHOW_LESS","Show less")};return o.a.createElement(m,{className:"container-fluid h-100 fadeIn ".concat(t)},o.a.createElement("div",{className:"row"},E>620?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-6"},o.a.createElement(d.a,{init:u,timeline:f,actions:r,params:i,dictionary:b})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(l.a,{dictionary:b}),o.a.createElement(l.b,{posts:A,dictionary:b}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-12"},o.a.createElement(l.a,{dictionary:b}),o.a.createElement(l.b,{init:h,posts:A,dictionary:b}),o.a.createElement(d.a,{init:u,timeline:f,actions:r,params:i,dictionary:b})))))}))},654:function(e,n,t){"use strict";var a,r,i,o=t(11),c=t(9),s=t(1),l=t.n(s),d=t(10),m=t(76),p=t.n(m),u=t(5),f=t(19),h=t(16),A=t(31),E=d.a.div(a||(a=Object(c.a)(["\n  width: 40px;\n  height: 46px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  .feather {\n    cursor: pointer;\n  }\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n  &.btn-approver {\n    padding-top: 16px;\n  }\n"]))),b=d.a.div(r||(r=Object(c.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    .btn-approver {\n      padding-top: 13px;\n    }\n    min-width: ",";\n    .btn-approver,\n    .btn-image,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"])),(function(e){return e.editMode?"200px":"160px"}),(function(e){return e.showButtons&&e.editMode?"180px":e.showButtons?"150px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),g=Object(d.a)(A.a)(i||(i=Object(c.a)(["\n  display: inline-block;\n"])));n.a=function(e){var n=e.parentId,t=e.showEmojiPicker,a=e.handleShowEmojiPicker,r=e.onShowFileDialog,i=e.editPostComment,c=e.handleQuillImage,d=e.showApprover,m=e.toggleApprover,A=e.mainInput,v=e.disableButtons,O=e.commentType,_=e.dictionary,w=Object(u.c)(),k=Object(s.useState)(!1),C=Object(o.a)(k,2),y=C[0],x=C[1],N=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return l.a.createElement(b,{editMode:null!==i,showButtons:y},i&&A&&l.a.createElement(E,null,l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:N,content:_.closeEdit},l.a.createElement(f.s,{className:"close-button",icon:"x",onClick:function(){null!==i&&w(Object(h.Pb)(null))}}))),l.a.createElement(E,{className:"btn-approver"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:N,content:_.selectApprover},l.a.createElement(g,{name:"approve",checked:d,onClick:m,disabled:v}))),l.a.createElement(E,{className:"btn-smile"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:N,content:"Emoji"},l.a.createElement(f.s,{className:"".concat(t?"active":""),onClick:a,icon:"smile"}))),l.a.createElement(E,{className:"btn-image"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:N,content:_.images},l.a.createElement(f.s,{icon:"image",onClick:c}))),l.a.createElement(E,{className:"btn-paperclip"},l.a.createElement(p.a,{arrowSize:5,distance:10,onToggle:N,content:_.attachFiles},l.a.createElement(f.s,{onClick:function(){v||r(n,O)},icon:"paperclip"}))),l.a.createElement(E,{className:"chat-buttons"},l.a.createElement(f.s,{onClick:function(){x((function(e){return!e}))},icon:y?"x":"more-vertical"})))}},655:function(e,n,t){"use strict";var a,r,i,o,c,s,l=t(21),d=t(9),m=t(1),p=t.n(m),u=t(10),f=t(29),h=t(5),A=t(20),E=t(48),b=["className","file","cbFilePreview","dictionary"],g=u.a.div(a||(a=Object(d.a)(["\n  position: relative;\n  border: 1px solid #ddd;\n  background-color: transparent;\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n  border-radius: 8px;\n"]))),v=u.a.div(r||(r=Object(d.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),O=u.a.img(i||(i=Object(d.a)(["\n  &.img-error {\n    background-image: none;\n    padding: 2.8rem 3rem;\n  }\n"]))),_=u.a.video(o||(o=Object(d.a)(["\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n"]))),w=u.a.div(c||(c=Object(d.a)(["\n  border-radius: 8px;\n  cursor: pointer;\n\n  > img {\n    border: 1px solid #ddd;\n    border-radius: inherit;\n    object-fit: cover;\n    max-height: 150px;\n    min-height: 150px;\n    max-width: 200px;\n    min-width: 200px;\n    @media (max-width: 380px) {\n      min-width: auto;\n      min-height: auto;\n    }\n  }\n"]))),k=u.a.div(s||(s=Object(d.a)(["\n  .card {\n    margin-bottom: 0;\n    min-width: 180px;\n    @media (max-width: 380px) {\n      min-width: auto;\n    }\n  }\n  > img {\n    width: 30px;\n  }\n"])));n.a=p.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.file,i=e.cbFilePreview,o=e.dictionary,c=Object(l.a)(e,b);"undefined"===typeof r.type&&(r.type=r.mime_type);var s=Object(h.c)(),d=Object(m.useRef)(),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"trashed"===e?p.a.createElement("i",{class:"fa fa-exclamation-triangle text-danger"}):e.includes("image")?p.a.createElement("i",{className:"fa fa-file-image-o text-instagram"}):e.includes("audio")?p.a.createElement("i",{className:"fa fa-file-audio-o text-dark"}):e.includes("video")?p.a.createElement("i",{className:"fa fa-file-video-o text-google"}):e.includes("pdf")?p.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"}):e.includes("zip")||e.includes("archive")||e.includes("x-rar")?p.a.createElement("i",{className:"fa fa-file-zip-o text-primary"}):e.includes("word")||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e?p.a.createElement("i",{className:"fa fa-file-word-o text-info"}):e.includes("excel")||e.includes("spreadsheet")||e.includes("csv")||e.includes("numbers")||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?p.a.createElement("i",{className:"fa fa-file-excel-o text-success"}):e.includes("powerpoint")||e.includes("presentation")?p.a.createElement("i",{className:"fa fa-file-powerpoint-o text-secondary"}):e.includes("script")?p.a.createElement("i",{className:"fa fa-file-code-o"}):p.a.createElement("i",{className:"fa fa-file-text-o text-warning"}):p.a.createElement("i",{className:"fa fa-file-text-o text-warning"})},C=Object(h.d)((function(e){return e.files.fileThumbnailBlobs}));Object(m.useEffect)((function(){!C[r.id]&&r.type.toLowerCase().includes("image")&&E.sessionService.loadSession().then((function(e){var n=e.token;fetch(r.thumbnail_link,{method:"GET",keepalive:!0,headers:{Authorization:n,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(e){var n=URL.createObjectURL(e);!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};s(Object(A.lb)(e,n))}({id:r.id,src:n})}))}))}),[]);var y="trashed"===r.file_type;return p.a.createElement(w,Object.assign({onClick:function(e){"trashed"!==r.type&&i(e,r)},className:"file-pill ".concat(a)},c),y?p.a.createElement(k,null,p.a.createElement("div",{className:"card app-file-list"},p.a.createElement("div",{className:"app-file-icon"},u("trashed")),p.a.createElement("div",{className:"p-2 small"},p.a.createElement("div",null,o&&o.fileAutomaticallyRemoved)))):"image"===r.type.toLowerCase()?p.a.createElement(p.a.Fragment,null,p.a.createElement(g,{className:C[r.id]?"d-none":""},p.a.createElement(v,{className:"img-loader"})),p.a.createElement(O,{ref:d,"data-attempt":0,className:C[r.id]?"":"d-none",onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(f.a)({isDNS:!0}),"/file-view-attempt/").concat(r.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=t(627))},height:150,src:C[r.id]?C[r.id]:r.view_link?r.view_link:"",alt:r.filename?r.filename:r.search,title:r.filename?r.filename:r.search})):r.type.toLowerCase().includes("video")?p.a.createElement(p.a.Fragment,null,p.a.createElement(_,{"data-attempt":0,width:"320",height:"240",controls:!0,playsInline:!0,onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(Object(f.a)({isDNS:!0}),"/file-view-attempt/").concat(r.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp&&(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime()))}},p.a.createElement("source",{src:r.view_link,type:r.type}),"Your browser does not support the video tag.")):p.a.createElement(k,null,p.a.createElement("div",{className:"card app-file-list"},p.a.createElement("div",{className:"app-file-icon"},u(r.type)),p.a.createElement("div",{className:"p-2 small"},p.a.createElement("div",null,r.filename?r.filename:r.search)))))}))},656:function(e,n,t){"use strict";t.r(n);var a,r,i=t(11),o=t(9),c=t(1),s=t.n(c),l=t(37),d=t(10),m=t(197),p=t(12),u=t(626),f=t(17),h=d.a.div(a||(a=Object(o.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n"]))),A=Object(d.a)(m.a)(r||(r=Object(o.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"])));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(p.db)(),r=a.users,o=a.loggedUser,d=a.selectUserChannel,m=Object(l.g)(),E=Object(c.useState)(""),b=Object(i.a)(E,2),g=b[0],v=b[1],O={search:Object(c.useRef)()},_=function(e){m.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},w=function(e){return d(e)};Object(c.useEffect)((function(){O.search.current.focus()}),[]);var k=Object.values(r).sort((function(e,n){return e.name.toString().localeCompare(n.name)})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email)&&("internal"===e.type&&(1===e.active&&(""===g||-1!==e.name.toLowerCase().search(g.toLowerCase())||-1!==e.email.toLowerCase().search(g.toLowerCase()))))})),C=Object(p.ab)()._t,y={searchPeoplePlaceholder:C("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:C("PEOPLE.EXTERNAL","External"),peopleInvited:C("PEOPLE.INVITED","Invited")};return s.a.createElement(h,{className:"workspace-people container-fluid h-100 ".concat(t)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement(A,{ref:O.search,value:g,closeButton:"true",onClickEmpty:function(){v("")},placeholder:y.searchPeoplePlaceholder,onChange:function(e){v(e.target.value)},autoFocus:!0}),s.a.createElement("div",{className:"row"},k.map((function(e){return s.a.createElement(u.a,{loggedUser:o,key:e.id,user:e,onNameClick:_,onChatClick:w,dictionary:y})}))))))}))},657:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l=t(11),d=t(9),m=t(1),p=t.n(m),u=t(37),f=t(10),h=t(19),A=t(12),E=t(677),b=t(89),g=f.a.div(a||(a=Object(d.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),v=f.a.span(r||(r=Object(d.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),O=f.a.div(i||(i=Object(d.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),_=f.a.div(o||(o=Object(d.a)(["\n  //text-align: right;\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),w=Object(f.a)(h.s)(c||(c=Object(d.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),k=f.a.div(s||(s=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n,a=Object(u.i)(),r=Object(u.g)(),i=Object(A.V)(),o=Object(A.j)(),c=o.actions,s=o.fetchMore,d=o.posts,f=o.filter,C=o.tag,y=o.postListTag,x=o.sort,N=o.post,j=o.user,T=o.search,I=o.count,S=o.postLists,R=o.counters,P=Object(m.useState)(!1),D=Object(l.a)(P,2),L=D[0],F=D[1],M=Object(m.useState)(!1),B=Object(l.a)(M,2),U=B[0],Q=B[1],H=Object(m.useState)({}),G=Object(l.a)(H,2),W=G[0],z=G[1],Y="external"===j.type,V=Object(m.useRef)(!0),J=function(){a.hasOwnProperty("postId")&&r.push("/posts")},K=Object(A.ab)()._t,q={createNewPost:K("POST.CREATE_NEW_POST","Create new post"),all:K("POST.ALL","All"),inbox:K("POST.INBOX","Inbox"),newReply:K("POST.NEW_REPLY","New reply"),myPosts:K("POST.MY_POSTS","My sent posts"),starred:K("POST.STARRED","Starred"),archived:K("POST.ARCHIVED","Archived"),draft:K("POST.DRAFT","Draft"),drafts:K("POST.DRAFTS","Drafts"),category:K("POST.CATEGORY","Category"),replyRequired:K("POST.REPLY_REQUIRED","Reply required"),mustRead:K("POST.MUST_READ","Must read"),noReplies:K("POST.NO_REPLIES","No replies"),sortBy:K("POST.SORT_BY","Sort by"),starredFavorite:K("POST.STARRED_FAVORITE","Starred / Favorite"),recent:K("POST.RECENT","Recent"),unread:K("POST.UNREAD","Unread"),searchPost:K("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:K("POST.MARK_AS_READ","Mark as read"),markAsUnread:K("POST.MARK_AS_UNREAD","Mark as unread"),share:K("POST.SHARE","Share"),snooze:K("POST.SNOOZE","Snooze"),follow:K("POST.FOLLOW","Follow"),unFollow:K("POST.UNFOLLOW","Unfollow"),files:K("POST.FILES","Files"),comment:K("POST.COMMENT","Comment"),editPost:K("POST.EDIT_POST","Edit post"),editReply:K("POST.EDIT_REPLY","Edit reply"),removeReply:K("POST.REMOVE_REPLY","Remove reply"),quote:K("POST.QUOTE","Quote"),mentionUser:K("POST.MENTION_USER","Mention user"),remindMeAboutThis:K("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:K("POST.SEARCH_RESULT","Search Result:"),searchResults:K("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:K("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:K("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:K("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:K("POST.PRIVATE","Private"),by:K("POST.BY","by"),star:K("POST.STAR","Mark with star"),unStar:K("POST.UNSTAR","Unmark star"),alreadyReadThis:K("POST.ALREADY_READ_THIS","I've read this"),me:K("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:K("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:K("SHOW_MORE","Show more"),showLess:K("SHOW_LESS","Show less"),markAll:K("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:K("POST.ARCHIVE_ALL","Archive all"),noComment:K("POST.NO_COMMENT","no comment"),oneComment:K("POST.ONE_COMMENT","1 comment"),comments:K("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:K("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:K("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:K("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:K("POST.ARCHIVE","Archive"),requestChange:K("POST.REQUEST_CHANGE","Request for change"),accept:K("POST.ACCEPT","Accept"),hasAcceptedProposal:K("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:K("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:K("POST.ACTION_NEEDED","Action needed"),changeRequested:K("POST.CHANGE_REQUESTED","Change requested"),accepted:K("POST.ACCEPTED","Accepted"),requestForApproval:K("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:K("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:K("POST.REPLIES_CLOSED","Replies closed"),openThisPost:K("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:K("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:K("POST.REOPEN","Reopen"),closed:K("POST.CLOSED","Closed"),createNewList:K("POST.CREATE_NEW_LIST","New List"),addToList:K("POST.ADD_TO_LIST","Add to list"),removeToList:K("POST.REMOVE_TO_LIST","Remove to list"),allOthers:K("POST.ALL_OTHERS","All others"),sharedClientBadge:K("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:K("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:K("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:K("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:K("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:K("BUTTON.SELECT_ALL","Select all"),remove:K("BUTTON.REMOVE","Remove"),errorLoadingPost:K("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:K("POST.IN_PROGRESS","In progress")},Z=Object(m.useMemo)((function(){var e=Object(b.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&Q(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(m.useEffect)((function(){U&&(""!==T||N||(F(!0),s((function(e,n){V.current&&(F(!1),Q(!1))}))))}),[U]),Object(m.useEffect)((function(){return c.getUnreadNotificationEntries({add_unread_comment:1}),function(){c.getUnreadNotificationEntries({add_unread_comment:1}),V.current=null}}),[]),Object(m.useEffect)((function(){a.postId&&!N&&c.fetchPostDetail({post_id:parseInt(a.postId)},(function(e,n){if(V.current&&e){c.setCompanyFilterPosts({filter:"inbox",tag:null}),r.push("/posts"),i.error(q.errorLoadingPost)}}))}),[a.postId,N]),Object(m.useEffect)((function(){if(y){var e=Object(b.find)(S,(function(e){return parseInt(e.id)===parseInt(y)}));if(S.map((function(n){e&&parseInt(y)===n.id&&z(n)})),!e){z(S[0]);var n={tag:null,postListTag:S[0].id,filter:null};c.setCompanyFilterPosts(n)}}}),[y,S]);return null===d?p.a.createElement(p.a.Fragment,null):p.a.createElement(g,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:Z},p.a.createElement("div",{className:"row app-block"},p.a.createElement(E.k,{filter:f,tag:C,postListTag:y,postActions:c,count:I,postLists:S,counters:R,onGoBack:J,dictionary:q}),p.a.createElement("div",{className:"col-md-9 app-content"},p.a.createElement("div",{className:"app-content-overlay"}),!N&&p.a.createElement(E.f,{activeSort:x,search:T,dictionary:q,className:"mb-3"}),!!y&&p.a.createElement(_,null,p.a.createElement("span",null,"Filter:"),p.a.createElement(v,{className:"ml-2 recipients"},p.a.createElement("span",{className:"receiver"},p.a.createElement("span",{onClick:function(){c.setCompanyFilterPosts({tag:null,filter:"all"})}},p.a.createElement(w,{icon:"x",className:"mr-1"})),W.name))),0!==d.length||""!==T||a.hasOwnProperty("postId")?p.a.createElement(p.a.Fragment,null,N&&a.hasOwnProperty("postId")?p.a.createElement("div",{className:"card card-body app-content-body"},p.a.createElement(O,{className:"fadeBottom"},p.a.createElement(E.c,{post:N,posts:d,filter:f,postActions:c,user:j,history:r,onGoBack:J,dictionary:q,isExternalUser:Y}))):!N&&a.hasOwnProperty("postId")?p.a.createElement(k,{className:"card initial-load"},p.a.createElement(h.j,null)):p.a.createElement(E.l,{actions:c,dictionary:q,filter:f,isExternalUser:Y,loading:L,posts:d,search:T,user:j})):p.a.createElement(E.m,{actions:c,dictionary:q}),p.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},658:function(e,n,t){"use strict";t.r(n);var a,r,i,o=t(11),c=t(9),s=t(1),l=t.n(s),d=t(10),m=t(5),p=t(675),u=t(37),f=t(19),h=t(23),A=t(12),E=d.a.div(a||(a=Object(c.a)([""]))),b=d.a.div(r||(r=Object(c.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]))),g=d.a.div(i||(i=Object(c.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=Object(u.j)(),i=Object(m.c)(),c=Object(m.d)((function(e){return e.chat.selectedChannel})),d=Object(m.d)((function(e){return e.session.user})),v=Object(s.useState)(!1),O=Object(o.a)(v,2),_=O[0],w=O[1];Object(A.p)();return l.a.createElement(E,{className:"workspace-chat container-fluid ".concat(t)},l.a.createElement(b,{className:"row no-gutters chat-block"},a&&!a.team_channel.code&&r.path.startsWith("/workspace/team-chat/")&&"internal"===d.type&&l.a.createElement(g,null,l.a.createElement(f.q,{icon:3,height:252}),l.a.createElement("button",{className:"btn btn-outline-primary btn-block",disable:_,onClick:function(){_||(w(!0),i(Object(h.c)({id:a.id},(function(e,n){w(!1)}))))}},_?"Activating...":"Activate chat")),(r.path.startsWith("/workspace/chat")&&c&&c.id===a.channel.id||a&&a.team_channel.code&&"internal"===d.type&&c&&c.team)&&l.a.createElement(p.a,{className:"col-lg-12",isWorkspace:!0,selectedChannel:c})))}},659:function(e,n,t){"use strict";t.r(n);var a,r,i=t(0),o=t(11),c=t(9),s=t(1),l=t.n(s),d=t(5),m=t(37),p=t(10),u=t(17),f=t(14),h=t(12),A=t(630),E=p.a.div(a||(a=Object(c.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .row.app-block {\n    overflow: auto;\n  }\n"]))),b=p.a.div(r||(r=Object(c.a)(["\n  padding-top: 10px;\n"])));n.default=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.workspace,c=Object(d.c)(),p=Object(m.g)(),g=Object(h.ab)()._t,v=Object(h.r)(!0),O=v.params,_=v.wsFiles,w=v.actions,k=v.topic,C=v.fileIds,y=v.folders,x=v.folder,N=v.subFolders;Object(h.p)();var j=Object(s.useState)(""),T=Object(o.a)(j,2),I=T[0],S=T[1],R=Object(s.useState)(""),P=Object(o.a)(R,2),D=P[0],L=P[1],F={dropZone:Object(s.useRef)(null)},M=!1;r&&0===r.active&&(M=!0);var B=function(){w.search(D)},U=function(){L(""),w.clearSearch()},Q={createFolder:g("CREATE_FOLDER","Create folder"),create:g("CREATE","Create"),updateFolder:g("UPDATE_FOLDER","Update folder"),update:g("UPDATE","Update"),editFolder:g("EDIT_FOLDER","Edit folder"),removeFolder:g("REMOVE_FOLDER","Remove folder"),renameFolder:g("RENAME.FOLDER","Rename folder"),folderInfo:g("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:g("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:g("ADD","Add"),favorite:g("FAVORITE","Favorite"),file:g("FILE","File"),folder:g("FOLDER","Folder"),folderName:g("FOLDER_NAME","Folder name"),folders:g("FOLDERS","Folders"),allFiles:g("FILES.ALL_FILES","All files"),recentlyEdited:g("FILES.RECENTLY_EDITED","Recently edited"),removed:g("FILES.REMOVED","Removed"),searchInputPlaceholder:g("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:g("UPLOAD_FILES","Upload files")},H=Object(s.useRef)(""),G=function(){H.current=""},W=function(e){H.current=e.target.value.trim()},z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",t=function(){if(k){var e={topic_id:k.id,name:H.current};O.hasOwnProperty("fileFolderId")&&(e=Object(i.a)(Object(i.a)({},e),{},{folder_id:O.fileFolderId})),w.createFolder(e,(function(e,n){if(!e)if(O.hasOwnProperty("fileFolderId")){var t=p.location.pathname.split("/folder/")[0];p.push(t+"/folder/".concat(n.data.folder.id,"/").concat(Object(u.h)(n.data.folder.search)))}else p.push(p.location.pathname+"/folder/".concat(n.data.folder.id,"/").concat(Object(u.h)(n.data.folder.search)))}))}},a=function(){if(k){w.updateFolder({id:e.id,topic_id:k.id,name:H.current},(function(e,n){if(!e&&O.hasOwnProperty("fileFolderId")){var t=p.location.pathname.split("/folder/")[0];p.push(t+"/folder/".concat(n.data.folder.id,"/").concat(Object(u.h)(n.data.folder.search)))}}))}},r={type:"single_input",defaultValue:"",label:Q.folderName,postInputLabel:x?l.a.createElement(b,null,"The folder will be created inside ",l.a.createElement("b",null,"#",x.search)):"",onChange:W,onClose:G};"add"===n?r=Object(i.a)(Object(i.a)({},r),{},{title:Q.createFolder,preInputLabel:Q.folderInfo,labelPrimaryAction:Q.create,onPrimaryAction:t}):(H.current=e.search,r=Object(i.a)(Object(i.a)({},r),{},{defaultValue:e.search,title:Q.renameFolder,preInputLabel:Q.renameFolderInfo,labelPrimaryAction:Q.renameFolder,onPrimaryAction:a})),c(Object(f.a)(r))},Y=function(){S("")};return Object(s.useEffect)((function(){x&&x.is_archived&&"removed"!==I&&S("removed")}),[x,I,S]),l.a.createElement(E,{className:"container-fluid h-100 fadeIn ".concat(t)},l.a.createElement("div",{className:"row app-block"},"undefined"===typeof _||null===_?l.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(A.g,{actions:w,isMember:a,clearFilter:Y,params:O,dropZoneRef:F.dropZone,className:"col-lg-3",filterFile:function(e){if(O.hasOwnProperty("fileFolderId")){var n=p.location.pathname.split("/folder/")[0];p.push(n)}S(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:I,wsFiles:_,folders:y,activeFolder:x,dictionary:Q,disableOptions:M,workspace:r}),l.a.createElement("div",{className:"col-md-9 app-content mb-4"},l.a.createElement("div",{className:"app-content-overlay"}),l.a.createElement(A.f,{isMember:a,clearFilter:Y,dropZoneRef:F.dropZone,history:p,params:O,onSearch:B,onSearchChange:function(e){""===e.target.value&&U(),L(e.target.value)},onEnter:function(e){"Enter"===e.key&&B()},wsFiles:_,handleAddEditFolder:z,folders:y,dictionary:Q,disableOptions:M,onClickEmpty:U,value:D}),l.a.createElement(A.d,{dropZoneRef:F.dropZone,filter:I,search:D,folders:y,folder:x,fileIds:C,isMember:a,subFolders:N,history:p,actions:w,params:O,wsFiles:_,handleAddEditFolder:z,dictionary:Q,disableOptions:M})))))}))},660:function(e,n,t){"use strict";t.r(n);var a,r,i=t(11),o=t(9),c=t(1),s=t.n(c),l=t(37),d=t(10),m=t(197),p=t(12),u=t(626),f=t(17),h=t(19),A=t(14),E=t(5),b=d.a.div(a||(a=Object(o.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: flex-start;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n"]))),g=Object(d.a)(m.a)(r||(r=Object(o.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 1rem;\n  }\n"])));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=e.isMember,o=e.workspace,d=Object(E.c)(),m=Object(p.db)(),v=m.selectUserChannel,O=m.loggedUser,_=Object(E.d)((function(e){return e.workspaces})).activeTopic,w=Object(l.g)();Object(p.p)();var k=Object(c.useState)(""),C=Object(i.a)(k,2),y=C[0],x=C[1],N={search:Object(c.useRef)()},j=function(e){w.push("/profile/".concat(e.id,"/").concat(Object(f.h)(e.name)))},T=function(e){return v(e)};Object(c.useEffect)((function(){N.search.current.focus()}),[]);var I=[];o&&(I=o.members);var S=I.filter((function(e){return""===y||-1!==e.name.toLowerCase().search(y.toLowerCase())||-1!==e.email.toLowerCase().search(y.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)})),R=Object(p.ab)()._t,P={searchPeoplePlaceholder:R("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:R("PEOPLE.EXTERNAL","External"),peopleInvited:R("PEOPLE.INVITED","Invited"),peopleManage:R("PEOPLE.MANAGE","Manage People"),roleAdvisor:R("ROLE.ADVISOR","Advisor"),roleApprover:R("ROLE.APPROVER","Approver"),roleClient:R("ROLE.CLIENT","Client"),roleCommunicationLead:R("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:R("ROLE.DESIGNER","Designer"),roleDeveloper:R("ROLE.DEVELOPER","Developer"),roleFreelancer:R("ROLE.FREELANCER","Freelancer"),roleSupervisor:R("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:R("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:R("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:R("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:R("ROLE.WATCHER","Watcher")};return Object(p.u)(N.search.current),s.a.createElement(b,{className:"workspace-people fadeIn container-fluid ".concat(t)},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"people-header"},s.a.createElement(g,{ref:N.search,value:y,closeButton:"true",onClickEmpty:function(){x("")},placeholder:P.searchPeoplePlaceholder,onChange:function(e){x(e.target.value)},autoFocus:!0}),!a&&r&&s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:_};d(Object(A.a)(e))}},s.a.createElement(h.s,{className:"mr-2",icon:"user-plus"})," ",P.peopleManage))),s.a.createElement("div",{className:"row"},S.map((function(e){return s.a.createElement(u.a,{key:e.id,loggedUser:O,user:e,onNameClick:j,onChatClick:T,dictionary:P,showWorkspaceRole:!0})}))))))}))},661:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l=t(0),d=t(11),m=t(9),p=t(1),u=t.n(p),f=t(37),h=t(10),A=t(19),E=t(12),b=t(622),g=t(89),v=t(16),O=t(23),_=t(5),w=t(17),k=h.a.div(a||(a=Object(m.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),C=h.a.div(r||(r=Object(m.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),y=h.a.div(i||(i=Object(m.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),x=h.a.span(o||(o=Object(m.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),N=Object(h.a)(A.s)(c||(c=Object(m.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),j=h.a.div(s||(s=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));n.default=function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.isMember,i=Object(f.i)(),o=Object(f.g)(),c=Object(E.V)(),s=Object(_.c)();Object(E.p)();var m=Object(E.H)(),h=m.actions,T=m.posts,I=m.filter,S=m.tag,R=m.sort,P=m.post,D=m.user,L=m.search,F=m.count,M=m.postLists,B=m.counters,U=m.filters,Q=m.postListTag,H=Object(p.useState)(!1),G=Object(d.a)(H,2),W=G[0],z=G[1],Y=Object(p.useState)(!1),V=Object(d.a)(Y,2),J=V[0],K=V[1],q=Object(p.useState)({}),Z=Object(d.a)(q,2),X=Z[0],$=Z[1],ee=Object(p.useRef)(!0),ne="external"===D.type,te=function(){if(i.hasOwnProperty("postId")){var e=o.location.pathname.split("/post/")[0];o.push(e)}};Object(p.useEffect)((function(){return i.hasOwnProperty("workspaceId")&&h.getUnreadWsPostsCount({topic_id:i.workspaceId}),function(){ee.current=null}}),[]),Object(p.useEffect)((function(){i.hasOwnProperty("workspaceId")&&h.getRecentPosts(i.workspaceId)}),[i.workspaceId]);var ae=Object(E.ab)()._t,re={createNewPost:ae("POST.CREATE_NEW_POST","Create new post"),all:ae("POST.ALL","All"),inbox:ae("POST.INBOX","Inbox"),newReply:ae("POST.NEW_REPLY","New reply"),myPosts:ae("POST.MY_POSTS","My sent posts"),starred:ae("POST.STARRED","Starred"),archived:ae("POST.ARCHIVED","Archived"),draft:ae("POST.DRAFT","Draft"),drafts:ae("POST.DRAFTS","Drafts"),category:ae("POST.CATEGORY","Category"),replyRequired:ae("POST.REPLY_REQUIRED","Reply required"),mustRead:ae("POST.MUST_READ","Must read"),noReplies:ae("POST.NO_REPLIES","No replies"),sortBy:ae("POST.SORT_BY","Sort by"),starredFavorite:ae("POST.STARRED_FAVORITE","Starred / Favorite"),recent:ae("POST.RECENT","Recent"),unread:ae("POST.UNREAD","Unread"),searchPost:ae("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:ae("POST.MARK_AS_READ","Mark as read"),markAsUnread:ae("POST.MARK_AS_UNREAD","Mark as unread"),share:ae("POST.SHARE","Share"),snooze:ae("POST.SNOOZE","Snooze"),follow:ae("POST.FOLLOW","Follow"),unFollow:ae("POST.UNFOLLOW","Unfollow"),files:ae("POST.FILES","Files"),comment:ae("POST.COMMENT","Comment"),editPost:ae("POST.EDIT_POST","Edit post"),editReply:ae("POST.EDIT_REPLY","Edit reply"),removeReply:ae("POST.REMOVE_REPLY","Remove reply"),quote:ae("POST.QUOTE","Quote"),mentionUser:ae("POST.MENTION_USER","Mention user"),remindMeAboutThis:ae("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:ae("POST.SEARCH_RESULT","Search Result:"),searchResults:ae("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:ae("POST.NO_SEARCH_RESULT","No result found:"),private:ae("POST.PRIVATE","Private"),by:ae("POST.BY","by"),star:ae("POST.STAR","Mark with star"),unStar:ae("POST.UNSTAR","Unmark star"),alreadyReadThis:ae("POST.ALREADY_READ_THIS","I've read this"),me:ae("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:ae("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:ae("SHOW_MORE","Show more"),showLess:ae("SHOW_LESS","Show less"),markAll:ae("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:ae("POST.ARCHIVE_ALL","Archive all"),noComment:ae("POST.NO_COMMENT","no comment"),oneComment:ae("POST.ONE_COMMENT","1 comment"),comments:ae("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:ae("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:ae("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:ae("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:ae("POST.ARCHIVE","Archive"),requestChange:ae("POST.REQUEST_CHANGE","Request for change"),accept:ae("POST.ACCEPT","Accept"),hasAcceptedProposal:ae("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:ae("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:ae("POST.ACTION_NEEDED","Action needed"),changeRequested:ae("POST.CHANGE_REQUESTED","Change requested"),accepted:ae("POST.ACCEPTED","Accepted"),requestForApproval:ae("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:ae("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:ae("POST.REPLIES_CLOSED","Replies closed"),openThisPost:ae("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:ae("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:ae("POST.REOPEN","Reopen"),closed:ae("POST.CLOSED","Closed"),createNewList:ae("POST.CREATE_NEW_LIST","New List"),addToList:ae("POST.ADD_TO_LIST","Add to list"),removeToList:ae("POST.REMOVE_TO_LIST","Remove to list"),allOthers:ae("POST.ALL_OTHERS","All others"),sharedClientBadge:ae("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:ae("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:ae("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:ae("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:ae("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:ae("BUTTON.SELECT_ALL","Select all"),remove:ae("BUTTON.REMOVE","Remove"),errorLoadingPost:ae("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:ae("POST.IN_PROGRESS","In progress")};Object(p.useEffect)((function(){i.postId&&!P&&h.fetchPostDetail({post_id:parseInt(i.postId)},(function(e,n){if(ee.current&&e){var t={topic_id:a.id,filter:"inbox",tag:null};s(Object(O.W)(t)),o.push("/workspace/posts/".concat(i.folderId,"/").concat(Object(w.h)(i.folderName),"/").concat(i.workspaceId,"/").concat(Object(w.h)(i.workspaceName))),c.error(re.errorLoadingPost)}}))}),[i.postId,P]),Object(p.useEffect)((function(){if("in_progress"===I){h.getPosts({filters:["in_progress"],topic_id:parseInt(i.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(v.g)({topic_id:parseInt(i.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{inProgress:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}else if("star"===I){h.getPosts({filters:["post","favourites"],topic_id:parseInt(i.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(v.g)({topic_id:parseInt(i.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{favourites:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}else if("my_posts"===I){h.getPosts({filters:["post","created_by_me"],topic_id:parseInt(i.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(v.g)({topic_id:parseInt(i.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{myPosts:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}}),[I]);var ie=function(){if(""===L&&!P){z(!0),function(){if(U&&U.unreadPosts&&U.unreadPosts.hasMore){var e={filters:["green_dot"],topic_id:a.id,skip:U.unreadPosts.skip};h.getPosts(e,(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(v.g)({topic_id:a.id,posts:n.data.posts,files:t,filters:{unreadPosts:{skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}}();var e={filters:"in_progress"===I?["in_progress"]:"archive"===I?["post","archived"]:"star"===I?["post","favourites"]:"my_posts"===I?["post","created_by_me"]:[],topic_id:a.id,skip:"in_progress"===I?null===U||void 0===U?void 0:U.inProgress.skip:"archive"===I?null===U||void 0===U?void 0:U.archived.skip:"star"===I?null===U||void 0===U?void 0:U.favourites.skip:"my_posts"===I?null===U||void 0===U?void 0:U.myPosts.skip:U.all.skip};if("inbox"===I){if(U.all&&!U.all.hasMore)return}else if("in_progress"===I){if(U.inProgress&&!U.inProgress.hasMore)return}else if("archive"===I){if(U.archived&&!U.archived.hasMore)return}else if("star"===I){if(U.favourites&&!U.favourites.hasMore)return}else if("my_posts"===I&&U.myPosts&&!U.myPosts.hasMore)return;h.getPosts(e,(function(e,n){if(ee.current&&(z(!1),K(!1)),!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),s(Object(v.g)({topic_id:a.id,posts:n.data.posts,files:t,filters:Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},"inbox"===I&&{all:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"in_progress"===I&&{inProgress:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"archive"===I&&{archived:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"star"===I&&{favourites:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"myPosts"===I&&{myPosts:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}})}))}}))}},oe=Object(p.useMemo)((function(){var e=Object(g.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&K(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(p.useEffect)((function(){J&&ie()}),[J]),Object(p.useEffect)((function(){if(Q){var e=Object(g.find)(M,(function(e){return parseInt(e.id)===parseInt(Q)}));if(M.map((function(n){e&&parseInt(Q)===n.id&&$(n)})),!e){$(M[0]);var n={topic_id:a.id,tag:null,postListTag:M[0].id,filter:null};s(Object(O.W)(n))}}}),[Q,M]);var ce=!1;return a&&0===a.active&&(ce=!0),null===T?u.a.createElement(u.a.Fragment,null):u.a.createElement(k,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:oe},u.a.createElement("div",{className:"row app-block"},u.a.createElement(b.n,{disableOptions:ce,isMember:r,workspace:a,filter:I,filters:U,tag:S,postListTag:Q,postActions:h,count:F,postLists:M,counters:B,onGoBack:te,dictionary:re}),u.a.createElement("div",{className:"col-md-9 app-content"},u.a.createElement("div",{className:"app-content-overlay"}),!P&&u.a.createElement(b.h,{activeSort:R,workspace:a,search:L,dictionary:re,className:"mb-3"}),!!Q&&u.a.createElement(y,null,u.a.createElement("span",null,"Filter:"),u.a.createElement(x,{className:"ml-2 recipients"},u.a.createElement("span",{className:"receiver"},u.a.createElement("span",{onClick:function(){var e={topic_id:a.id,tag:null,postListTag:null,filter:"inbox"};s(Object(O.W)(e))}},u.a.createElement(N,{icon:"x",className:"mr-1"})),X.name))),0!==T.length||""!==L||i.hasOwnProperty("postId")?u.a.createElement(u.a.Fragment,null,null!==P?u.a.createElement("div",{className:"card card-body app-content-body mb-4"},u.a.createElement(C,{className:"fadeBottom"},u.a.createElement(b.e,{post:P,posts:T,filter:I,postActions:h,user:D,history:o,onGoBack:te,dictionary:re,workspace:a,isMember:r,disableOptions:ce,isExternalUser:ne}))):!P&&i.hasOwnProperty("postId")?u.a.createElement(j,{className:"card initial-load"},u.a.createElement(A.j,null)):u.a.createElement(b.q,{actions:h,dictionary:re,filter:I,isExternalUser:ne,loading:W,posts:T,search:L,workspace:a,user:D})):u.a.createElement(b.s,{actions:h,dictionary:re,disableOptions:ce,isMember:r}),u.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},662:function(e,n,t){"use strict";t.r(n);var a=t(9),r=t(1),i=t.n(r);function o(){var e=Object(a.a)([""]);return o=function(){return e},e}var c=t(10).a.div(o());n.default=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return i.a.createElement(c,{className:"container-fluid h-100 ".concat(t)},i.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}))},663:function(e,n,t){"use strict";t.r(n);var a,r=t(7),i=t(11),o=t(9),c=t(1),s=t.n(c),l=t(10),d=t(12),m=t(679),p=t(89),u=l.a.div(a||(a=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(d.kb)(),o=a.getWorkspaceReminders,l=a.action,f=a.isLoaded,h=a.count,A=a.workspaceName,E=Object(d.ab)()._t,b=Object(c.useState)(""),g=Object(i.a)(b,2),v=g[0],O=g[1],_=Object(c.useState)(""),w=Object(i.a)(_,2),k=w[0],C=w[1],y=Object(c.useState)(!1),x=Object(i.a)(y,2),N=x[0],j=x[1],T=[E("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],I=[E("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),E("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),E("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==k&&(T=[E("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],I=[E("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===k&&"OVERDUE"===v&&(T=[].concat(Object(r.a)(T),[E("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),I=[].concat(Object(r.a)(I),[E("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var S=Object(c.useState)(Math.floor(Math.random()*T.length)),R=Object(i.a)(S,2),P=R[0],D=R[1],L={searchInputPlaceholder:E("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:E("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:E("REMINDER.TYPE_POST","Post"),typeChat:E("REMINDER.TYPE_CHAT","Chat"),typePostComment:E("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:E("REMINDER.STATUS_TODAY","Today"),statusAll:E("REMINDER.STATUS_ALL","ALL"),statusExpired:E("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:E("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:E("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:E("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:E("REMINDER.STATUS_DONE","Done"),emptyText:E("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:E("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:T[P],noItemsFoundText:I[P],actionReschedule:E("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:E("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:E("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:E("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:E("REMINDER.ACTION_REMOVE","Remove"),actionFilter:E("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:E("REMINDER.AUTHOR","Author"),reminderAssignedTo:E("REMINDER.ASSIGNED_TO","Assigned to"),todo:E("REMINDER.TO_DO","To do"),done:E("REMINDER.DONE","Done"),addDate:E("REMINDER.ADD_DATE","Add date"),addedByMe:E("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:E("REMINDER.ADDED_BY_OTHERS","Added by others")},F=Object(c.useMemo)((function(){var e=Object(p.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&j(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(c.useEffect)((function(){N&&l.loadMore()}),[N]),Object(c.useEffect)((function(){D(Math.floor(Math.random()*T.length))}),[v]);var M=o({filter:{status:v,search:k}});return s.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(t),hasReminders:M.length>0,onScroll:F},s.a.createElement("div",{className:"row app-block"},s.a.createElement(m.d,{className:"col-lg-3",dictionary:L,todoActions:l,setFilter:function(e){O(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:v,count:h}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(m.b,{dictionary:L,onSearchChange:function(e){C(e.target.value),""===e.target.value.trim()?D(Math.floor(Math.random()*T.length)):D(0)},clearSearch:function(){C("")},searchValue:k}),s.a.createElement(m.a,{complete:!1,isLoaded:f,todoItems:M.filter((function(e){return"DONE"!==e.status})),dictionary:L,todoActions:l,filter:v,doneTodoItems:M.filter((function(e){return"DONE"===e.status})),workspaceName:A}))))}))},664:function(e,n,t){"use strict";t.r(n);var a,r=t(7),i=t(11),o=t(9),c=t(1),s=t.n(c),l=t(10),d=t(12),m=t(679),p=t(89),u=l.a.div(a||(a=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));n.default=s.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(d.X)(!0),o=a.getReminders,l=a.action,f=a.isLoaded,h=a.count,A=Object(d.ab)()._t,E=Object(c.useState)(""),b=Object(i.a)(E,2),g=b[0],v=b[1],O=Object(c.useState)(""),_=Object(i.a)(O,2),w=_[0],k=_[1],C=Object(c.useState)(!1),y=Object(i.a)(C,2),x=y[0],N=y[1],j=[A("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),A("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),A("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],T=[A("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),A("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),A("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==w&&(j=[A("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],T=[A("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===w&&"OVERDUE"===g&&(j=[].concat(Object(r.a)(j),[A("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),T=[].concat(Object(r.a)(T),[A("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var I=Object(c.useState)(Math.floor(Math.random()*j.length)),S=Object(i.a)(I,2),R=S[0],P=S[1],D={searchInputPlaceholder:A("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:A("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:A("REMINDER.TYPE_POST","Post"),typeChat:A("REMINDER.TYPE_CHAT","Chat"),typePostComment:A("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:A("REMINDER.STATUS_TODAY","Today"),statusAll:A("REMINDER.STATUS_ALL","ALL"),statusExpired:A("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:A("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:A("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:A("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:A("REMINDER.STATUS_DONE","Done"),emptyText:A("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:A("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:j[R],noItemsFoundText:T[R],actionReschedule:A("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:A("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:A("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:A("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:A("REMINDER.ACTION_REMOVE","Remove"),actionFilter:A("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:A("REMINDER.AUTHOR","Author"),reminderAssignedTo:A("REMINDER.ASSIGNED_TO","Assigned to"),todo:A("REMINDER.TO_DO","To do"),done:A("REMINDER.DONE","Done"),addDate:A("REMINDER.ADD_DATE","Add date"),addedByMe:A("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:A("REMINDER.ADDED_BY_OTHERS","Added by others")},L=Object(c.useMemo)((function(){var e=Object(p.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&N(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(c.useEffect)((function(){x&&l.loadMore()}),[x]),Object(c.useEffect)((function(){P(Math.floor(Math.random()*j.length))}),[g]);var F=o({filter:{status:g,search:w}});return s.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:L},s.a.createElement("div",{className:"row app-block"},s.a.createElement(m.d,{className:"col-lg-3",dictionary:D,todoActions:l,setFilter:function(e){v(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:g,count:h}),s.a.createElement("div",{className:"col-lg-9 app-content mb-4"},s.a.createElement("div",{className:"app-content-overlay"}),s.a.createElement(m.b,{dictionary:D,onSearchChange:function(e){k(e.target.value),""===e.target.value.trim()?P(Math.floor(Math.random()*j.length)):P(0)},clearSearch:function(){k("")},searchValue:w}),s.a.createElement(m.a,{complete:!1,isLoaded:f,todoItems:F.filter((function(e){return"DONE"!==e.status})),dictionary:D,todoActions:l,filter:g,doneTodoItems:F.filter((function(e){return"DONE"===e.status}))}))))}))},675:function(e,n,t){"use strict";t.d(n,"a",(function(){return O})),t.d(n,"b",(function(){return Ee})),t.d(n,"c",(function(){return Pe})),t.d(n,"f",(function(){return lt})),t.d(n,"g",(function(){return ft})),t.d(n,"e",(function(){return kt})),t.d(n,"d",(function(){return xt})),t.d(n,"h",(function(){return jt}));var a,r,i=t(0),o=t(11),c=t(9),s=t(1),l=t.n(s),d=t(5),m=t(10),p=t(14),u=t(617),f=t(12),h=t(198),A=t(652),E=Object(s.lazy)((function(){return Promise.all([t.e(7),t.e(23)]).then(t.bind(null,759))})),b=Object(s.lazy)((function(){return Promise.all([t.e(17),t.e(7),t.e(24)]).then(t.bind(null,755))})),g=m.a.div(a||(a=Object(c.a)(["\n  width: 100%;\n  z-index: 2;\n  position: relative;\n  @media (max-width: 992px) {\n    z-index: 1;\n  } ;\n"]))),v=m.a.div(r||(r=Object(c.a)(["\n  flex: 1;\n"]))),O=function(e){var n=e.className,a=void 0===n?"":n,r=e.isWorkspace,c=void 0!==r&&r,m=Object(A.a)({timeout:6e4}).isIdle,O=Object(d.c)(),_=Object(h.a)(),w=Object(f.U)(),k=Object(d.d)((function(e){return e.session.user})),C=Object(d.d)((function(e){return e.settings.user.CHAT_SETTINGS})),y=C.virtualization,x=C.translate,N=Object(d.d)((function(e){return e.settings.user.GENERAL_SETTINGS})),j=N.chat_language,T=N.translated_channels,I=N.language,S=Object(d.d)((function(e){return e.chat.selectedChannel})),R=Object(d.d)((function(e){return e.workspaces.isOnClientChat})),P=Object(s.useState)(!1),D=Object(o.a)(P,2),L=D[0],F=D[1],M=Object(f.k)(),B={dropZoneRef:Object(s.useRef)()},U=Object(s.useState)(!1),Q=Object(o.a)(U,2),H=Q[0],G=Q[1],W=Object(s.useState)(S?S.id:0),z=Object(o.a)(W,2),Y=z[0],V=z[1],J=l.a.createRef(),K=function(){F(!1)},q=function(e){var n=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var r=t(109).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?n.push(Object(i.a)(Object(i.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):"video/mp4"===e.type?n.push(Object(i.a)(Object(i.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:a,name:e.name?e.name:e.path})):n.push(Object(i.a)(Object(i.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:a,name:e.name?e.name:e.path}))})),K();var a={type:"file_upload",droppedFiles:n,mode:"chat",members:S?S.members:[],team_channel:S.team&&"TOPIC"===S.type?S.id:null};O(Object(p.a)(a))},Z=Object(f.ab)()._t,X={remindMeAboutThis:Z("TODO.REMIND_ABOUT_THIS","Remind about this"),quote:Z("CHAT.QUOTE","Quote"),copyMessageLink:Z("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:Z("CHAT.FORWARD","Forward"),edit:Z("CHAT.EDIT","Edit"),remove:Z("CHAT.REMOVE","Remove"),removeChat:Z("MODAL.REMOVE_CHAT","Remove chat"),cancel:Z("MODAL.CANCEL","Cancel"),removeThisChat:Z("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:Z("SYSTEM.UPDATE","Update"),accountActivated:Z("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:Z("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:Z("SYSTEM.REMOVED","removed"),andRemoved:Z("SYSTEM.AND_REMOVED","and removed"),you:Z("SYSTEM.YOU","You"),youAnd:Z("SYSTEM.YOU_AND","You and"),joined:Z("SYSTEM.JOINED","joined"),andJoined:Z("SYSTEM.AND_JOINED","and joined"),left:Z("SYSTEM.LEFT","left"),andLeft:Z("SYSTEM.AND_LEFT","and left"),createdThePost:Z("SYSTEM.CREATED_THE_POST","created the post"),openPost:Z("SYSTEM.OPEN_POST","Open post"),someone:Z("SYSTEM.SOMEONE","Someone"),added:Z("SYSTEM.ADDED","added"),andAdded:Z("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:Z("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:Z("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:Z("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:Z("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:Z("CHAT.WORKSPACE","Workspace"),hasLeftChat:Z("SYSTEM.HAS_LEFT_CHAT","has left the chat"),hasLeftWorkspace:Z("SYSTEM.HAS_LEFT_WORKSPACE","has left the workspace"),andHasLeftChat:Z("SYSTEM.AND_HAS_LEFT_CHAT","and has left the chat"),andHasLeftWorkspace:Z("SYSTEM.AND_HAS_LEFT_WORKSPACE","and has left the workspace"),youLeftChat:Z("SYSTEM.YOU_LEFT_CHAT","You left the chat"),youLeftWorkspace:Z("SYSTEM.YOU_LEFT_WORKSPACE","You left the workspace"),leftTheWorkspace:Z("SYSTEM.LEFT_THE_WORKSPACE","left the workspace"),leftTheChat:Z("SYSTEM.LEFT_THE_CHAT","left the chat"),markImportant:Z("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Z("CHAT.UNMARK_IMPORTANT","Unmark as important"),teamFeedback:Z("HUDDLE.HUDDLE_TEAM_FEEDBACK","Huddle team feedback"),replyInPrivate:Z("CHAT.REPLY_IN_PRIVATE","Reply in private"),removeOnDownload:Z("CHAT.REMOVE_ON_DOWNLOAD","Remove on download"),withClient:Z("PAGE.WITH_CLIENT","With client"),teamChat:Z("PAGE.TEAM_CHAT","Team Chat"),clientChat:Z("PAGE.CLIENT_CHAT","Client Chat"),mute:Z("CHAT.MUTE","Mute"),unmute:Z("CHAT.UNMUTE","Unmute"),hide:Z("CHAT.HIDE","Hide"),unhide:Z("CHAT.UNHIDE","Unhide"),favorite:Z("FAVORITE","Favorite"),unfavorite:Z("UNFAVORITE","Unfavorite"),markAsUnread:Z("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:Z("POST.MARK_AS_READ","Mark as read"),unarchive:Z("CHAT.UNARCHIVE","Un-archive"),archive:Z("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:Z("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:Z("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),headerArchive:Z("HEADER.ARCHIVE","Chat archive"),headerUnarchive:Z("HEADER.UNARCHIVE","Un-archive channel"),clickHereToJoin:Z("CHAT.CLICK_HERE_TO_JOIN","Click here to join"),fileAutomaticallyRemoved:Z("FILE.AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),connectPreview:Z("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:Z("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account"),editHuddle:Z("MESSAGE.EDIT_HUDDLE","Edit huddle"),discussOnTeamChat:Z("MESSAGE.DISCUSS_ON_TEAM_CHAT","Discuss on team chat")},$=function(){G(!H)},ee=Object(s.useState)(!1),ne=Object(o.a)(ee,2),te=ne[0],ae=ne[1];return Object(s.useEffect)((function(){null!==S&&V(S.id),null!==S&&Y!==S.id&&Y>0&&(ae(!te),G(!1))}),[Y,S]),l.a.createElement(g,{className:"chat-content ".concat(a),onDragOver:function(e){if(e.dataTransfer.types)for(var n=0;n<e.dataTransfer.types.length;n++)if("Files"===e.dataTransfer.types[n])return void F(!0)}},l.a.createElement(u.a,{hide:!L,ref:B.dropZoneRef,onDragLeave:K,onDrop:function(e){var n=e.acceptedFiles;q(n)},onCancel:K}),!c&&l.a.createElement(Pe,{dictionary:X,channel:S,handleSearchChatPanel:$}),null!==S?y&&["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(k.email)?l.a.createElement(s.Suspense,{fallback:l.a.createElement(v,null)},l.a.createElement(b,{dictionary:X})):l.a.createElement(s.Suspense,{fallback:l.a.createElement(v,null)},l.a.createElement(E,{chatMessageActions:_,timeFormat:w,dictionary:X,unreadCount:M,teamChannelId:R,isIdle:m,translate:x,language:I,translated_channels:T,chat_language:j,scrollComponent:J})):l.a.createElement(v,null),l.a.createElement(Ee,{onShowFileDialog:function(){B.dropZoneRef.current&&B.dropZoneRef.current.open()},dropAction:q}),null!==S&&l.a.createElement(kt,{newSeachToogle:te,chatMessageActions:_,showSearchPanel:H,setShowSearchPanel:G,handleSearchChatPanel:$,selectedChannel:S,pP:Y}))},_=t(37),w=t(76),k=t.n(w),C=t(13),y=t(23),x=t(19),N=t(205);function j(){var e=Object(c.a)([""]);return j=function(){return e},e}function T(){var e=Object(c.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return T=function(){return e},e}var I,S,R,P,D,L,F,M,B,U,Q,H,G,W,z,Y,V,J,K,q,Z,X,$=m.a.div(T()),ee=Object(m.a)(x.s)(j()),ne=function(e){var n=Object(f.P)(),t=Object(o.a)(n,2),a=t[0],r=t[1],i=Object(d.c)();return a?l.a.createElement($,null,l.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:a.user?a.user.name:""}}),l.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:a.body?r:""}}),l.a.createElement("span",{className:"quote-clear-container",onClick:function(){i(Object(C.n)(a))}},l.a.createElement(ee,{icon:"x"}))):null},te=m.a.div(I||(I=Object(c.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar-typing {\n    height: 26px !important;\n    width: 26px !important;\n  }\n"])),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),ae=m.a.div(S||(S=Object(c.a)(["\n  margin-left: 10px !important;\n"]))),re=m.a.div(R||(R=Object(c.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: #972c86;\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]))),ie=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(f.bb)(),r=Object(o.a)(a,1)[0];return l.a.createElement(te,{users:r.length,className:"component-chat-indicator ".concat(t)},r.length>2?l.a.createElement(re,null,"".concat(r.length-2,"+")):null,r.map((function(e,n){return n<=1?l.a.createElement(x.a,{key:n,className:"xs avatar-typing",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),l.a.createElement(ae,{className:"typing-indicator"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)))})),oe=m.a.div(P||(P=Object(c.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]))),ce=Object(m.a)(x.s)(D||(D=Object(c.a)(["\n  width: 14px;\n  height: 14px;\n  margin-left: 5px;\n"]))),se=function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=Object(f.ab)()._t,i=Object(d.d)((function(e){return e.workspaces.workspaces})),o=Object(d.d)((function(e){return e.session.user})),c={lockedLabel:r("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),teamChat:r("CHAT.INFO_TEAM_CHAT","You are in the team chat"),clientChat:r("CHAT.INFO_CLIENT_CHAT","Client can read this chat")};return l.a.createElement(l.a.Fragment,null,a&&!a.is_archived&&i.hasOwnProperty(a.entity_id)&&1===i[a.entity_id].active&&l.a.createElement(l.a.Fragment,null,i[a.entity_id].is_shared&&i[a.entity_id].channel.id===a.id&&"internal"===o.type&&l.a.createElement(oe,{className:"locked-label ".concat(t)},l.a.createElement("span",null,c.clientChat,l.a.createElement(ce,{icon:"eye"}))),i[a.entity_id].is_shared&&i[a.entity_id].team_channel.id===a.id&&"internal"===o.type&&l.a.createElement(oe,{className:"locked-label ".concat(t)},l.a.createElement("span",null,c.teamChat," ",l.a.createElement(ce,{icon:"eye-off"})))))},le=t(17),de=Object(s.lazy)((function(){return Promise.resolve().then(t.bind(null,264))})),me=m.a.div(L||(L=Object(c.a)(["\n  position: relative;\n  z-index: 3;\n  padding-top: 0 !important;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),pe=m.a.div(F||(F=Object(c.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),ue=m.a.div(M||(M=Object(c.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  flex-flow: column;\n  .feather-paperclip,\n  .feather-meet,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-meet {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n"]))),fe=Object(m.a)(x.s)(B||(B=Object(c.a)(["\n  width: 20px;\n"]))),he=m.a.div(U||(U=Object(c.a)(["\n  .feather-send {\n    ","\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"])),(function(e){return e.activeSend&&"background: #7a1b8b !important;"}),(function(e){return e.activeSend?"#fff":"#cacaca"}),(function(e){return e.activeSend?"cursor":"default"})),Ae=Object(m.a)(de)(Q||(Q=Object(c.a)(["\n  right: 100px;\n  bottom: 80px;\n\n  @media (max-width: 414px) {\n    right: -10px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Ee=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.onShowFileDialog,r=e.dropAction,i=Object(_.g)(),c=Object(f.U)(),m=c.localizeChatDate,u=(c.localizeDate,Object(d.c)()),h=Object(f.V)(),A={picker:Object(s.useRef)()},E=Object(s.useState)(!1),b=Object(o.a)(E,2),g=b[0],v=b[1],O=Object(s.useState)(!1),w=Object(o.a)(O,2),j=w[0],T=w[1],I=Object(s.useState)(null),S=Object(o.a)(I,2),R=S[0],P=S[1],D=Object(s.useState)(null),L=Object(o.a)(D,2),F=L[0],M=L[1],B=Object(d.d)((function(e){return e.chat.selectedChannel})),U=Object(d.d)((function(e){return e.chat.editChatMessage})),Q=Object(d.d)((function(e){return e.session.user})),H=Object(f.P)(),G=Object(o.a)(H,1)[0],W=function(){u(Object(C.db)(!0))},z=function(){T(!j)},Y=Object(s.useCallback)((function(){P(null)}),[]),V=Object(s.useCallback)((function(e){v(e)}),[]),J=Object(s.useCallback)((function(){M(null)}),[]),K=Object(f.ab)()._t,q={unarchiveThisWorkspace:K("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:K("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:K("BUTTON.CANCEL","Cancel"),unarchiveBodyText:K("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),chatUnarchiveConfirmation:K("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),headerUnarchive:K("HEADER.UNARCHIVE","Un-archive channel"),youAreViewing:K("CHAT.LABEL","You are viewing"),joinWorkspaceChat:K("CHAT.JOIN_WORKSPACE_CHAT","Join workspace chat"),googleMeet:K("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:K("YES","Yes"),no:K("NO","No"),googleMeetConfirmation:K("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?"),send:K("TOOLTIP.SEND","Send"),attachFiles:K("TOOLTIP.ATTACH_FILES","Attach files"),closeEdit:K("TOOLTIP.CLOSE_EDIT","Close edit")},Z=function(){var e={id:B.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};u(Object(C.pb)(e)),h.success(l.a.createElement("span",null,l.a.createElement("b",null,"TOPIC"===B.type?"".concat(B.title," workspace is un-archived."):"".concat(B.title," channel is un-archived."))))},X=Object(s.useCallback)((function(){T(!1)}),[]),$=Object(f.z)(B&&B.members&&B.members.length?B.members.map((function(e){return e.id})):[]);return l.a.createElement(me,{className:"chat-footer ".concat(t)},B&&l.a.createElement(ie,null),l.a.createElement(se,{channel:B}),$&&l.a.createElement(he,{className:"d-flex align-items-end chat-input-cointainer-footer",activeSend:g},B&&B.is_archived?l.a.createElement(pe,null,l.a.createElement(fe,{icon:"archive"}),l.a.createElement("h4",null,"TOPIC"===B.type?"This is an archived workspace":"This is an archived channel"),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:q.cancel,headerText:"TOPIC"===B.type?q.unarchiveWorkspace:q.headerUnarchive,submitText:"TOPIC"===B.type?q.unarchiveWorkspace:q.headerUnarchive,bodyText:"TOPIC"===B.type?q.unarchiveBodyText:q.chatUnarchiveConfirmation,actions:{onSubmit:Z}};u(Object(p.a)(e))}},"TOPIC"===B.type?"Un-archive workspace":"Un-archive channel")):l.a.createElement(l.a.Fragment,null,l.a.createElement(ue,{className:"flex-grow-1 chat-input-footer"},B&&!B.is_archived&&G&&l.a.createElement(he,{className:"d-flex pr-2 pl-2"},l.a.createElement(ne,null)),l.a.createElement(he,{className:"d-flex flex-grow-1"},l.a.createElement(N.a,{onActive:V,selectedGif:F,onSendCallback:X,onClearGif:J,selectedEmoji:R,onClearEmoji:Y,dropAction:r}),l.a.createElement(xt,{channel:B,showEmojiPicker:j,handleShowEmojiPicker:z,handleGoogleMeet:function(){i.push("/zoom/".concat(B.id,"?join=1"))},onShowFileDialog:a,editChatMessage:U,quote:G,dictionary:q}))),l.a.createElement(k.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:q.send},l.a.createElement(x.s,{onClick:W,icon:"send"}))),!0===j&&l.a.createElement(s.Suspense,{fallback:l.a.createElement(l.a.Fragment,null)},l.a.createElement(Ae,{handleSend:W,handleShowEmojiPicker:z,onSelectEmoji:function(e){P(e)},onSelectGif:function(e){M(e)},orientation:"top",ref:A.picker}))),$&&U&&l.a.createElement(he,{className:"d-flex align-items-end"},l.a.createElement("div",{className:"p-5"},U.files.map((function(e){return e.filename})).join(", "))),!1===$&&null!==B&&"internal"===Q.type&&l.a.createElement(he,{className:"channel-viewing"},l.a.createElement("div",{className:"channel-name"},q.youAreViewing," #",B.title),l.a.createElement("div",{className:"channel-create"},"Created by ",B.creator&&B.creator.name," on ",m(B.created_at&&B.created_at.timestamp)),l.a.createElement("div",{className:"channel-action"},l.a.createElement("button",{onClick:function(){u(Object(y.K)({channel_id:B.id,recipient_ids:[Q.id]},(function(e,n){e||h.success(l.a.createElement(l.a.Fragment,null,"You have joined ",l.a.createElement("b",null,"#",B.title)))})))}},q.joinWorkspaceChat))))})),be=t(4),ge=t(92),ve=t(683),Oe=t(621),_e=t(138),we=m.a.div(H||(H=Object(c.a)(["\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding-bottom: 1em;\n\n  .chat-header-left {\n    display: flex;\n  }\n\n  .chat-header-title {\n    height: 17px;\n    color: #000000;\n    font-family: Inter;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 17px;\n    text-align: center;\n    display: flex;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n\n    a {\n      color: #000 !important;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      .dark & {\n        color: #ffffff !important;\n      }\n    }\n    .dark & {\n      color: #ffffff !important;\n    }\n  }\n  .chat-header-right {\n    @media (max-width: 414px) {\n      .nav {\n        display: flex;\n      }\n    }\n    margin-left: auto;\n    ul {\n      flex-flow: row;\n    }\n    li .more-options-tooltip {\n      top: 115%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n  .dictionary-label {\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 255px !important;\n  }\n  .channel-title-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .chat-header-folder {\n    flex: 1 1 100%;\n    height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 12px;\n  }\n  @media (max-width: 414px) {\n    .chat-header-folder {\n      display: none;\n    }\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]))),ke=Object(m.a)(x.s)(G||(G=Object(c.a)([""]))),Ce=Object(m.a)(x.s)(W||(W=Object(c.a)(["\n  width: 12px;\n  height: 11px;\n"]))),ye=Object(m.a)(x.s)(z||(z=Object(c.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),xe=m.a.div(Y||(Y=Object(c.a)(["\n  @media (min-width: 992px) {\n    display: none;\n  }\n  color: #7a1b8b;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  margin-right: 12px;\n  margin-top: 8px;\n  display: flex;\n  span {\n    line-height: 1.7;\n  }\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),Ne=Object(m.a)(x.s)(V||(V=Object(c.a)(["\n  color: #7a1b8b;\n  height: 24px;\n  width: 24px;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]))),je=Object(m.a)(_e.c)(J||(J=Object(c.a)(["\n  border: 1px solid #fff;\n  border-radius: 4px;\n\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c !important;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    font-size: 10px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: -25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  // @media (max-width: 480px) {\n  //   margin: 0 0 0.75rem !important;\n  // }\n"]))),Te=m.a.div(K||(K=Object(c.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  margin-left:5px;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Ie=m.a.div(q||(q=Object(c.a)(["\n  display: flex;\n  align-items: center;\n"]))),Se=Object(m.a)(x.s)(Z||(Z=Object(c.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  min-width: 14px;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),Re=Object(m.a)(x.s)(X||(X=Object(c.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  min-width: 14px;\n  margin-left: 5px;\n  cursor: pointer;\n"]))),Pe=function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=e.dictionary,o=e.handleSearchChatPanel,c=Object(d.c)(),s=Object(_.g)(),m=Object(ge.a)(),u=Object(d.d)((function(e){return e.chat.selectedChannel})),A=Object(d.d)((function(e){return e.workspaces.workspaces})),E=Object(d.d)((function(e){return e.global.unreadCounter})),b=Object(d.d)((function(e){return e.settings.user.GENERAL_SETTINGS})),g=(b.chat_language,b.translated_channels),v=Object(h.a)(),O=function(){m.archive(a)},w=Object(f.ib)(),k=Object(f.Q)(),C=k.generalSettings.workspace_open_folder,y=k.setGeneralSetting,x=function(e){e.preventDefault(),u.workspace_folder&&y({workspace_open_folder:Object(i.a)(Object(i.a)({},C),{},Object(be.a)({},u.workspace_folder.id,u.workspace_folder.id))}),document.body.classList.remove("navigation-show"),w.selectWorkspace(A[u.entity_id]),w.redirectTo(A[u.entity_id])};return null===a?null:(g.length>0&&g.includes(u.id)&&!u.is_translate&&v.saveChannelTranslateState(Object(i.a)(Object(i.a)({},u),{},{is_translate:!0})),l.a.createElement(we,{className:"chat-header border-bottom ".concat(t)},l.a.createElement("div",{className:"chat-header-left"},l.a.createElement(xe,{className:"chat-back-button",onClick:function(){document.body.classList.remove("m-chat-channel-closed")}},l.a.createElement(Ne,{icon:"chevron-left"}),E.chat_message>0&&l.a.createElement("span",null,E.chat_message.toString())),l.a.createElement(Oe.a,{className:"chat-header-icon",channel:a,width:"33px"})),l.a.createElement("div",{className:"channel-title-wrapper"},l.a.createElement("div",{className:"chat-header-title"},function(){switch(u.type){case"TOPIC":return u.workspace_folder?l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{onClick:x,"data-href":m.getChannelLink(u),href:m.getChannelLink(u)},u.title)):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"dictionary-label"}),l.a.createElement("a",{onClick:x,"data-href":m.getChannelLink(u),href:m.getChannelLink(u)},u.title));case"DIRECT":return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{onClick:function(e){return function(e,n){e.preventDefault(),s.push("/profile/".concat(n.id,"/").concat(Object(le.h)(n.name)))}(e,u.profile)},"data-href":"/profile/".concat(u.profile.id,"/").concat(u.profile.name),href:"/profile/".concat(u.profile.id,"/").concat(u.profile.name)},u.profile?u.profile.name:u.title));default:return u.title}}()),l.a.createElement(Ie,{className:"chat-header-badge"},"TOPIC"===a.type&&!a.is_archived&&A.hasOwnProperty(a.entity_id)&&1===A[a.entity_id].is_lock&&1===A[a.entity_id].active&&l.a.createElement(ke,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===a.type&&!a.is_archived&&A.hasOwnProperty(a.entity_id)&&A[a.entity_id].is_shared&&1===A[a.entity_id].active&&l.a.createElement(Te,{className:"badge badge-external mr-1",isTeam:!!a.team},l.a.createElement(ye,{icon:a.team?"eye-off":"eye",className:"mr-1"}),a.team?r.teamChat:r.clientChat)),l.a.createElement(Se,{icon:"star",isFav:a.is_pinned,onClick:function(){a.is_pinned?m.unPin(a):m.pin(a)}}),l.a.createElement("div",null,l.a.createElement("ul",{className:"nav align-items-center justify-content-end"},l.a.createElement("li",{className:"ml-2",style:{height:"21px"}},l.a.createElement(je,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"17",width:"17"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(a.type)&&l.a.createElement("div",{onClick:function(){if(a.is_archived)m.unArchive(a);else{var e={type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:O}};c(Object(p.a)(e))}}},a.is_archived?r.unarchive:r.archive),"GROUP"===a.tyope&&!a.is_archived&&l.a.createElement("div",{onClick:function(){c(Object(p.a)({type:"chat_create_edit",mode:"edit"}))}},r.edit),l.a.createElement("div",{onClick:function(){a.is_pinned?m.unPin(a):m.pin(a)}},a.is_pinned?r.unfavorite:r.favorite),l.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===a.total_unread&&a.is_read?m.markAsUnRead(a):m.markAsRead(a)}(e)}},0===a.total_unread&&!0===a.is_read?r.markAsUnread:r.markAsRead),l.a.createElement("div",{onClick:function(){a.is_muted?m.unMute(a):m.mute(a)}},a.is_muted?r.unmute:r.mute),"PERSONAL_BOT"!==a.type&&l.a.createElement("div",{onClick:function(){a.is_hidden?m.unHide(a):m.hide(a),a.total_unread>0&&m.markAsRead(a)}},a.is_hidden?r.unhide:r.hide),l.a.createElement(jt,{selectedChannel:u,translated_channels:g,chatMessageActions:v}))))),l.a.createElement(Re,{icon:"search",onClick:o}),l.a.createElement("div",{className:"chat-header-folder"},function(){switch(u.type){case"TOPIC":return u.workspace_folder?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ce,{icon:"folder"})," ",u.workspace_folder.name," "):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"dictionary-label"},r.workspace));default:return""}}())),l.a.createElement("div",{className:"chat-header-right"},l.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(a.type)&&l.a.createElement("li",null,l.a.createElement(ve.a,{members:a.members}))))))};function De(){var e=Object(c.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]);return De=function(){return e},e}function Le(){var e=Object(c.a)(["\n  ","\n"]);return Le=function(){return e},e}function Fe(){var e=Object(c.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]);return Fe=function(){return e},e}var Me=m.a.div(Fe()),Be=m.a.div(Le(),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),Ue=m.a.div(De()),Qe=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.reply;return l.a.createElement(Me,{className:"message-item ".concat(t," ").concat(!0===a.author?"me":"them")},l.a.createElement(Be,{className:"message-item-content",isAuthor:a.author},!1===a.author&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ue,{className:"avatar avatar-sm"},l.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),a.message),l.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))}));function He(){var e=Object(c.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]);return He=function(){return e},e}var Ge,We,ze,Ye,Ve,Je,Ke,qe,Ze,Xe,$e,en,nn,tn,an,rn,on=m.a.div(He()),cn=(l.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return l.a.createElement(on,{className:"messages ".concat(t),tabIndex:"2"},l.a.createElement(Qe,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),l.a.createElement(Qe,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),l.a.createElement(Qe,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),l.a.createElement("div",{className:"message-item me"},l.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),l.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),l.a.createElement("div",{className:"message-item"},l.a.createElement("div",{className:"message-item-content d-flex"},l.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),l.a.createElement("div",null,l.a.createElement("div",null,"important_documents.pdf ",l.a.createElement("i",{className:"text-muted small"},"(50KB)")),l.a.createElement("ul",{className:"list-inline small"},l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"/"},"Download")),l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"/"},"View"))))),l.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),l.a.createElement("div",{className:"message-item me"},l.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),l.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),l.a.createElement("div",{className:"message-item"},l.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),l.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),l.a.createElement("div",{className:"message-item me message-media"},l.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),l.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),l.a.createElement("div",{className:"message-item message-item-divider"},l.a.createElement("span",null,"Today")),l.a.createElement("div",{className:"message-item"},l.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),l.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))})),m.a.div(Ge||(Ge=Object(c.a)(["\n  max-width: 100%;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n  .title-data-chat-folder {\n    display: inline-block;\n    height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 12px;\n    font-weight: normal;\n    margin-left: 5px;\n  }\n"])))),sn=Object(m.a)(x.s)(We||(We=Object(c.a)(["\n  width: 12px;\n  height: 10px;\n"]))),ln=m.a.h6(ze||(ze=Object(c.a)(["\n  color: #363636;\n  ",";\n  flex-grow: 1;\n  ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: calc(100% - 100px);\n\n  &.is-unread {\n    span {\n      font-weight: bold;\n    }\n  }\n\n  span {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: block;\n  }\n\n  .badge-wrapper {\n    margin-right: 0.5rem !important;\n  }\n"])),(function(e){return e.channel.total_unread&&"color: #7a1b8b"}),(function(e){return null!==e.selectedChannel&&e.channel.id===e.selectedChannel.id&&"font-weight: bold;"})),dn=l.a.memo((function(e){var n=Object(f.U)().channelPreviewDate,t=e.className,a=void 0===t?"":t,r=e.search,i=void 0===r?"":r,o=e.selectedChannel,c=e.channel,s=e.dictionary,d=l.a.createElement(l.a.Fragment,null,!!c.is_archived&&l.a.createElement(l.a.Fragment,null,l.a.createElement(x.b,{badgeClassName:"bg-warning-bright",label:"Archived"})),function(e){var n=e;if("DIRECT"===c.type&&c.profile&&(n=c.profile.name),""===i)return n;var t=n.split(new RegExp("(".concat(i,")"),"gi"));return l.a.createElement("span",null,t.map((function(e){return e.toLowerCase()===i.toLowerCase()?l.a.createElement("b",null,e):e})))}(c.title));return l.a.createElement(cn,{className:"d-flex justify-content-between align-items-center"},l.a.createElement(ln,{className:"mb-1 ".concat(c.is_read?"":"is-unread"," ").concat(a),selectedChannel:o,channel:c},l.a.createElement(x.t,{direction:"up-start",arrow:!1,content:c.title},l.a.createElement("span",null,d,l.a.createElement("span",{className:"title-data-chat-folder"},function(){switch(c.type){case"TOPIC":return c.workspace_folder?l.a.createElement(l.a.Fragment,null,l.a.createElement(sn,{icon:"folder"})," ",c.workspace_folder.name," "):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"dictionary-label"},s.workspace));default:return null}}())))),l.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:c.last_reply?n(c.last_reply.created_at.timestamp):""}}))})),mn=t(38),pn=(t(88),Object(m.a)(_e.c)(Ye||(Ye=Object(c.a)(["\n  position: relative;\n  height: 18px;\n  width: 25px;\n  > svg {\n    position: absolute;\n    top: -1px;\n    height: 20px;\n    width: 20px;\n    left: 1.5px;\n  }\n"])))),un=function(e){var n=e.selectedChannel,t=e.channel,a=e.moreButton,r=void 0===a?"more-horizontal":a,o=e.onSelectOptions,c=void 0===o?null:o,s=Object(d.c)(),m=Object(ge.a)(),u=document.getElementById("pills-home"),h=Object(f.ab)()._t,A={mute:h("CHAT.MUTE","Mute"),unmute:h("CHAT.UNMUTE","Unmute"),hide:h("CHAT.HIDE","Hide"),unhide:h("CHAT.UNHIDE","Unhide"),favorite:h("FAVORITE","Favorite"),unfavorite:h("UNFAVORITE","Unfavorite"),markAsUnread:h("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:h("POST.MARK_AS_READ","Mark as read"),unarchive:h("CHAT.UNARCHIVE","Un-archive"),archive:h("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:h("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:h("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),cancel:h("BUTTON.CANCEL","Cancel"),headerArchive:h("HEADER.ARCHIVE","Chat archive"),headerUnarchive:h("HEADER.UNARCHIVE","Un-archive channel")},E=function(){t.is_archived?m.unArchive(t):m.archive(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(pn,{channel:t,scrollRef:u,moreButton:r,onClick:c},l.a.createElement("div",{onClick:function(){t.is_pinned?m.unPin(t):m.pin(t)}},t.is_pinned?A.unfavorite:A.favorite),l.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===t.total_unread&&t.is_read?m.markAsUnRead(t):m.markAsRead(t)}(e)}},0===t.total_unread&&!0===t.is_read?A.markAsUnread:A.markAsRead),l.a.createElement("div",{onClick:function(){t.is_muted?m.unMute(t):m.mute(t)}},t.is_muted?A.unmute:A.mute),"PERSONAL_BOT"!==t.type&&l.a.createElement("div",{onClick:function(){t.is_hidden?m.unHide(t):m.hide(t),t.total_unread>0&&m.markAsRead(t),n&&(n.id,t.id)}},t.is_hidden?A.unhide:A.hide),!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(t.type)&&l.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:A.headerArchive,submitText:A.archive,cancelText:A.cancel,bodyText:A.chatArchiveConfirmation,actions:{onSubmit:E}};t.is_archived&&(e=Object(i.a)(Object(i.a)({},e),{},{headerText:A.headerUnarchive,submitText:A.unarchive,bodyText:A.chatUnarchiveConfirmation})),s(Object(p.a)(e))}},t.is_archived?A.unarchive:A.archive)))},fn=m.a.span(Ve||(Ve=Object(c.a)(["\n  //display: flex;\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n  font-weight: ",";\n"])),(function(e){return e.hasUnRead?"bold":"normal"})),hn=m.a.span(Je||(Je=Object(c.a)(["\n  display: flex;\n"]))),An=m.a.span(Ke||(Ke=Object(c.a)([""]))),En=m.a.span(qe||(qe=Object(c.a)([""]))),bn=m.a.div(Ze||(Ze=Object(c.a)(["\n  min-width: 200px;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 2;\n  width: calc(100% - ","px);\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n"])),(function(e){return e.iconWidth})),gn=Object(m.a)(x.r)(Xe||(Xe=Object(c.a)(["\n  max-width: 12px;\n"]))),vn=Object(m.a)(x.s)($e||($e=Object(c.a)(["\n  position: relative;\n  top: -2px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]))),On=m.a.span(en||(en=Object(c.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]))),_n=m.a.div(nn||(nn=Object(c.a)(["\n  display: inline-block;\n  align-items: center;\n"]))),wn=Object(m.a)(x.s)(tn||(tn=Object(c.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]))),kn=m.a.div(an||(an=Object(c.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  height:18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"])),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Cn=l.a.memo((function(e){var n=e.channel,t=e.drafts,a=e.dictionary,r=e.selectedChannel,i=Object(d.d)((function(e){return e.settings.user.CHAT_SETTINGS})),c=Object(d.d)((function(e){return e.session.user})),m=Object(d.d)((function(e){return e.workspaces.workspaces})),p=Object(s.useState)(0),u=Object(o.a)(p,2),f=u[0],h=u[1],A={icons:Object(s.useRef)(null)},E=!1,b="",g="",v=Object(mn.renderToString)(l.a.createElement(_n,{className:"chat-header-badge"},"TOPIC"===n.type&&!n.is_archived&&m.hasOwnProperty(n.entity_id)&&1===m[n.entity_id].is_lock&&1===m[n.entity_id].active&&l.a.createElement(vn,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===n.type&&!n.is_archived&&m.hasOwnProperty(n.entity_id)&&m[n.entity_id].is_shared&&1===m[n.entity_id].active&&l.a.createElement(kn,{className:"badge badge-external mr-1",isTeam:!!n.team},l.a.createElement(wn,{icon:n.team?"eye-off":"eye",className:"mr-1"}),n.team?a.withTeam:a.withClient)));if(n.last_reply&&i.preview_message){if(n.last_reply.is_deleted)g='<span class="is-deleted">'+a.messageRemoved+"</span>";else{var O=n.is_translate&&n.last_reply.translated_body?n.last_reply.translated_body:n.last_reply.body,_=document.createElement("div");_.innerHTML=O;for(var w=_.getElementsByClassName("OriginalHtml");w[0];)w[0].parentNode.removeChild(w[0]);g=_.innerHTML,g=Object(le.k)(n.last_reply.body),g=Object(mn.renderToString)(l.a.createElement(hn,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:g}}));try{g=g.replace(/<?(data-value)="[^"]*"/g," ").replace(/(<([^>]+)>)/gi," ")}catch(N){g=Object(le.j)(g)}}(""===n.last_reply.body||n.last_reply.files&&n.last_reply.files.length||n.replies.length&&n.replies[n.replies.length-1].files.length||n.last_reply.body.match(/<img/))&&(E=!0);var k=(b+=g).replace(/\s/g,"");if(E&&(b=Object(mn.renderToString)(l.a.createElement(gn,{icon:"image-video"}))+b),n.last_reply.user){if(n.last_reply.body.includes("POST_CREATE::"))if(""!==n.last_reply.body.replace("POST_CREATE::","").trim()){var C=JSON.parse(n.last_reply.body.replace("POST_CREATE::",""));b="".concat(C.author.first_name," has created the post ").concat(C.post.title)}n.last_reply.body.includes("ZAP_SUBMIT::")&&(b="System message update...");n.last_reply.user&&n.last_reply.user.id===c.id?(!k&&E&&(b+="Photo"),b=v+Object(mn.renderToString)(l.a.createElement(En,{className:"last-reply-name"},a.you,":"))+" "+b):b=v+Object(mn.renderToString)(l.a.createElement(En,{className:"last-reply-name"},n.last_reply.user.first_name,":"))+" "+b,b=(b=b.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")}else{if(b="System message update...",n.last_reply.body.includes("POST_CREATE::"))if(""!==n.last_reply.body.replace("POST_CREATE::","").trim()){var y=JSON.parse(n.last_reply.body.replace("POST_CREATE::",""));b="".concat(y.author.first_name," has created the post ").concat(y.post.title)}}"undefined"!==typeof t[n.id]&&(t[n.id].text&&"<div><br></div>"!==t[n.id].text?b="DRAFT:&nbsp;".concat(Object(mn.renderToString)(l.a.createElement(An,{dangerouslySetInnerHTML:{__html:t[n.id].text.replace(/(<([^>]+)>)/gi," ")}}))):t[n.id].reply_quote&&(b="QUOTE:&nbsp;".concat(t[n.id].reply_quote.body,"&nbsp;~").concat(t[n.id].reply_quote.user.name)))}else b=v;Object(s.useEffect)((function(){A.icons.current&&h(A.icons.current.clientWidth)}),[A.icons,n]);var x=!1===n.add_user&&(!n.is_read||n.total_unread>0);return l.a.createElement(fn,{hasUnRead:n.total_unread>0,className:"d-flex justify-content-between align-items-center small text-muted "},l.a.createElement(bn,{iconWidth:f,isUnread:n.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:b}}),l.a.createElement("div",{ref:A.icons,className:"chat-timestamp d-inline-flex justify-content-center align-items-end flex-row-reverse"},l.a.createElement(un,{className:"ml-1",moreButton:"chevron-down",selectedChannel:r,channel:n}),0===n.total_unread&&!1===n.is_read?l.a.createElement(l.a.Fragment,null,l.a.createElement(On,{className:"badge badge-primary badge-pill ml-1"},"\xa0")):l.a.createElement(l.a.Fragment,null,x&&l.a.createElement(On,{className:"badge badge-primary badge-pill ml-1 ".concat(n.is_read||0!==n.total_unread?"":"unread")},n.total_unread>0?n.total_unread:n.is_read?null:"0")),n.is_muted&&l.a.createElement(vn,{icon:"volume-x",className:"".concat(n.is_pinned&&"mr-1")})))})),yn=t(628),xn=m.a.li(rn||(rn=Object(c.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n  &:focus,\n  &:hover {\n    background: #f0f0f050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n    .more-options {\n      display: inline-flex;\n      opacity: 1;\n      z-index: 1;\n      &.active {\n        color: #4d4d4d !important;\n      }\n    }\n    h6 {\n      color: #7a1b8b;\n    }\n  }\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: #7a1b8b;\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n"])),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.selected&&"color: #7A1B8B;"}),(function(e){return e.selected&&"content: '';"})),Nn=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=e.selectedChannel,i=e.channelDrafts,c=e.dictionary,d=e.addLoadRef,m=e.onLoadMore,p=e.onSelectChannel,u={container:Object(s.useRef)(null)},f=Object(yn.b)({threshold:1}),h=Object(o.a)(f,2),A=h[0],E=h[1];Object(s.useEffect)((function(){d&&E&&m()}),[d,E]);return l.a.createElement(xn,{ref:u.container,className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(t),selected:null!==r&&a.id===r.id,onClick:function(){p(a)}},l.a.createElement(Oe.a,{channel:a}),l.a.createElement("div",{className:"channel-info",ref:d?A:null},l.a.createElement("div",{className:"channel-title-preview"},l.a.createElement(dn,{className:"chat-date-icons",selectedChannel:r,channel:a,dictionary:c})),l.a.createElement(Cn,{channel:a,drafts:i,dictionary:c,selectedChannel:r}),l.a.createElement("div",{className:"d-flex"},a.is_hidden&&l.a.createElement(l.a.Fragment,null,l.a.createElement(x.b,{label:"Hidden"})))))})),jn=t(760);function Tn(){var e=Object(c.a)(["\n  background: #7a1b8b;\n  color: #fff !important;\n  min-height: 18px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  position: absolute;\n  right: 0px;\n  bottom: 0;\n  width: 18px;\n  height: 18px;\n  font-size: 11px;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]);return Tn=function(){return e},e}function In(){var e=Object(c.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-right: 0.5rem;\n  .more-options {\n    margin-top: 0.5rem;\n    position: static;\n    opacity: 0;\n    svg {\n      position: relative;\n    }\n  }\n  .feather-more-horizontal {\n    width: 20px;\n    height: 18px;\n    vertical-align: initial;\n  }\n  :hover {\n    .more-options {\n      opacity: 1;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return In=function(){return e},e}function Sn(){var e=Object(c.a)(["\n  padding: 0 24px;\n  ul {\n    margin: 0;\n    padding-left: 0;\n    padding-bottom: 12px;\n    overflow: auto;\n    // overflow-y: hidden;\n    // overflow-x: scroll;\n    display: flex;\n    border-bottom: 1px solid #dee2e6;\n    .dark & {\n      border-bottom-color: rgba(155, 155, 155, 0.2) !important;\n    }\n    .fav-channel {\n      padding-right: 0 !important;\n      cursor: pointer;\n    }\n  }\n  // .more-options-tooltip {\n  //   position: fixed;\n  //   top: 240px;\n  //   left: ",";\n  //   &.orientation-left {\n  //     left: ",";\n  //   }\n  // }\n  .feather-star,\n  .feather-volume-x {\n    position: absolute;\n    background-color: unset;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    z-index: 1;\n  }\n  .feather-star {\n    bottom: 0;\n    left: 0;\n    fill: rgb(255, 193, 7);\n    color: rgb(255, 193, 7);\n  }\n  .feather-volume-x {\n    bottom: 0;\n    right: 0;\n    background-color: #fff;\n    border: 2px solid #fff;\n    color: #7a1b8b;\n    .dark & {\n      background-color: #191c20;\n      color: #fff;\n      border: 2px solid #191c20;\n    }\n  }\n  .feather-eye,\n  .feather-eye-off {\n    top: -2px;\n    right: 0px;\n  }\n  .more-options {\n    display: none;\n  }\n  :hover {\n    .more-options {\n      display: block;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return Sn=function(){return e},e}var Rn,Pn,Dn,Ln,Fn,Mn,Bn,Un,Qn,Hn,Gn,Wn,zn,Yn,Vn,Jn,Kn,qn,Zn,Xn,$n=m.a.div(Sn(),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left,"px"):"30px"}),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left-170,"px"):"30px"})),et=m.a.div(In()),nt=m.a.div(Tn()),tt=function(e){var n=e.channels,t=e.onSelectChannel,a=function(e){t(e)};return l.a.createElement($n,{className:"mb-2"},l.a.createElement("ul",null,n.map((function(e){return l.a.createElement(et,{key:e.id},l.a.createElement(Oe.a,{channel:e,className:"fav-channel",onSelectChannel:function(){return a(e)},showSlider:!1},l.a.createElement(x.s,{icon:"star"}),e.is_muted&&l.a.createElement(x.s,{icon:"volume-x"}),!e.is_muted&&l.a.createElement(nt,{className:"badge badge-pill ml-1 ".concat(e.is_read||0!==e.total_unread?"":"unread")},e.total_unread>9?"".concat(e.total_unread,"+"):e.total_unread>0?e.total_unread:e.is_read?null:"0")))}))))},at=m.a.div(Rn||(Rn=Object(c.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  height: inherit;\n"]))),rt=m.a.ul(Pn||(Pn=Object(c.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  height: inherit;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]))),it=m.a.div(Dn||(Dn=Object(c.a)(["\n  border-bottom: 1px solid #ebebeb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n"]))),ot=m.a.h4(Ln||(Ln=Object(c.a)(["\n  font-weight: 300;\n  margin: 24px 0 6px 0;\n"]))),ct=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.search,r=e.workspace,c=e.dictionary,m=Object(d.d)((function(e){return e.chat.channels})),p=Object(d.d)((function(e){return e.chat.selectedChannel})),u=Object(s.useState)(!1),h=Object(o.a)(u,2),A=h[0],E=h[1],b=Object(f.a)(),g=Object(f.S)(Object.values(m),a,{},r),v=g.favoriteChannels,O=g.sortedChannels,w=g.searchArchivedChannels,k=Object(d.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),C=Object(_.g)(),y=Object(d.d)((function(e){return e.chat.channelDrafts})),x=Object(d.d)((function(e){return e.chat.fetch})),N=x.skip,j=x.fetching,T=x.hasMore,I=function(){j||!T||A||(E(!0),b.loadMore({skip:N},(function(){return E(!1)})))},S=function(){b.searchArchivedChannels(!w)},R=function(e){if(document.body.classList.add("m-chat-channel-closed"),null!==p&&!k){var n=document.getElementById("component-chat-thread");n&&b.saveHistoricalPosition(p.id,n)}b.select(Object(i.a)(Object(i.a)({},e),{},{selected:!0})),e.hasOwnProperty("add_user")&&!0===e.add_user||C.push("/chat/".concat(e.code))};return l.a.createElement(at,{className:"chat-lists ".concat(t)},v.length>0&&l.a.createElement(tt,{channels:v,onSelectChannel:R}),l.a.createElement(rt,{className:"list-group list-group-flush"},O.map((function(e,n,t){var r="",i=!1;if(0!==n){var o=t[n-1],s=e;"PERSONAL_BOT"===o.type&&"PERSONAL_BOT"!==s.type?r=(s.is_relevant,c.chats):o.is_relevant&&!s.is_relevant?o.add_user||o.add_open_topic||!s.add_user&&!s.add_open_topic||(r=c.contacts):o.is_relevant||s.is_relevant||o.add_user||o.add_open_topic||!s.add_user&&!s.add_open_topic||(r=c.contacts)}else"PERSONAL_BOT"===e.type?r=c.personalBot:e.is_relevant&&e.add_user?r=c.chats:e.add_user||e.add_open_topic?r=c.contacts:(r=c.chats,i=!0);return l.a.createElement(l.a.Fragment,{key:e.id},""!==a&&""!==r&&l.a.createElement(it,null,l.a.createElement(ot,null,r," "),i&&l.a.createElement(jn.a,{className:"cursor-pointer text-muted",checked:w,type:"switch",id:"show_archive",name:"show archive",onChange:S,label:l.a.createElement("span",null,c.showArchived)})),l.a.createElement(Nn,{channel:e,selectedChannel:p,channelDrafts:y,dictionary:c,search:a,addLoadRef:""===a&&n>O.length-5,onLoadMore:I,onSelectChannel:R}))})),!0===r&&0===O.length?l.a.createElement("li",null,l.a.createElement("h4",null,c.nothingToSeeHere)):0===O.length&&""!==a&&l.a.createElement("li",null,l.a.createElement("h4",null,c.noMatchingChats))))})),st=m.a.div(Fn||(Fn=Object(c.a)(["\n  // overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 991.99px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n  // .tab-panel {\n  //   overflow-x: hidden;\n  // }\n  .tab-content,\n  .tab-panel {\n    display: flex;\n    height: 100%;\n  }\n  .tab-content {\n    flex-flow: column;\n  }\n  .badge-filter {\n    width: 130px;\n  }\n"]))),lt=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.pill,r=void 0===a?"pills-home":a,i=e.search,o=e.dictionary,c=e.resetFilter;return l.a.createElement(st,{className:"chat-sidebar-content ".concat(t),tabIndex:"1"},l.a.createElement("div",{className:"tab-content pt-2",id:"pills-tabContent"},"pills-workspace"===r&&l.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:c},l.a.createElement(x.s,{className:"mr-1",icon:"x",width:11,height:11,onClick:c})," Workspace chats"),"pills-home"===r&&l.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===r&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},l.a.createElement(ct,{search:i,workspace:null,dictionary:o})),"pills-workspace"===r&&l.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===r&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},l.a.createElement(ct,{search:i,workspace:!0,dictionary:o}))))})),dt=t(197),mt=m.a.div(Mn||(Mn=Object(c.a)(['\n  z-index: 2;\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: #7a1b8b;\n            color: #ffffff;\n            border-color: #7a1b8b;\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    background: rgb(222, 226, 230);\n    .dark & {\n      background: #333539;\n    }\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .chat-sidebar-options-container {\n    height: 38px;\n  }\n']))),pt=Object(m.a)(dt.a)(Bn||(Bn=Object(c.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]))),ut=Object(m.a)(_e.c)(Un||(Un=Object(c.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n"]))),ft=l.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(_.i)(),r=Object(d.c)(),c=Object(d.d)((function(e){return e.chat.searchArchivedChannels})),m=Object(f.Q)(),u=m.chatSettings,h=m.setChatSetting,A=Object(f.a)(),E=Object(d.d)((function(e){return e.chat.chatSidebarSearch}));Object(f.A)();var b=Object(d.d)((function(e){return e.chat.searchingChannels})),g=Object(s.useState)(""),v=Object(o.a)(g,2),O=v[0],w=v[1],k=Object(s.useState)(""),C=Object(o.a)(k,2),y=C[0],N=C[1],j=Object(s.useState)(u.chat_filter),T=Object(o.a)(j,2),I=T[0],S=T[1],R={container:Object(s.useRef)(null),navTab:Object(s.useRef)(null)};Object(s.useEffect)((function(){var e=setTimeout((function(){if(A.setSidebarSearch({value:y,searching:""!==y.trim()}),""!==y.trim()){var e={search:y,skip:0,limit:25};c&&(e=Object(i.a)(Object(i.a)({},e),{},{filter:"archived"})),A.search(e)}}),300);return function(){return clearTimeout(e)}}),[y,c]);var P=function(){w(""),N("")},D=function(){S("pills-home")},L=function(e){I===e.target.getAttribute("aria-controls")?D():S(e.target.getAttribute("aria-controls"))},F=Object(f.ab)()._t,M={chats:F("CHAT.CHATS","Chats"),contacts:F("CHAT.CONTACTS","Contacts"),workspaceChats:F("CHAT.WORKSPACE_CHATS","Workspace chats"),recentChats:F("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:F("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:F("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:F("CHAT.RECENT","Recent"),favorite:F("CHAT.FAVORITE","Favorite"),hidden:F("CHAT.HIDDEN","Hidden"),pinned:F("CHAT.PINNED","Pinned"),startNew:F("CHAT.START_NEW","Start new"),viewOpenWorkspace:F("CHAT.VIEW_OPEN_WORKSPACE","View open workspace"),archived:F("CHAT.ARCHIVED","Archived"),nothingToSeeHere:F("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:F("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:F("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:F("CHAT.PERSONAL_BOT","Personal bot"),you:F("CHAT.PREVIEW_AUTHOR_YOU","You"),showArchived:F("CHAT.SHOW_ARCHIVED","Show archived"),withTeam:F("CHANNEL.WITH_TEAM","Team Chat"),withClient:F("CHANNEL.WITH_CLIENT","Client Chat")};return Object(s.useEffect)((function(){u.chat_filter!==I&&h({chat_filter:I})}),[u.chat_filter,I]),Object(s.useEffect)((function(){""===E?P():w(E)}),[E]),Object(s.useEffect)((function(){a.messageId&&document.body.classList.add("m-chat-channel-closed")}),[]),l.a.createElement(mt,{ref:R.container,className:"chat-sidebar ".concat(t)},l.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start align-items-center"},l.a.createElement(pt,{onChange:function(e){N(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&P()},value:y,onClickEmpty:P,closeButton:"true",searching:b,className:"chat-search",placeholder:M.searchChatPlaceholder}),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2 chat-sidebar-options-container"},l.a.createElement(ut,{role:"tabList"},l.a.createElement("div",{className:"option-filter ".concat("pills-home"===I?"active":""),onClick:L,"aria-controls":"pills-home","aria-selected":"false"},M.chats),l.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===I?"active":""),onClick:L,"aria-controls":"pills-workspace","aria-selected":"false"},M.workspaceChats),l.a.createElement("div",{className:"d-flex",onClick:function(){r(Object(p.a)({type:"chat_create_edit",mode:"new"}))}},l.a.createElement(x.s,{className:"mr-2",width:14,height:14,icon:"plus"})," ",M.newGroupChat)))),l.a.createElement(lt,{pill:I,search:O,dictionary:M,resetFilter:D}))})),ht=t(7),At=t(25),Et=m.a.div(Qn||(Qn=Object(c.a)(["\nposition:absolute;top:0;bottom:0;right:0;width:100%;height:100%;transform:translateX(100%);transition:.1s ease-out;color:#eee;padding:0 1em;margin-right:-10px;background:#FFF;z-index:3;\n",""])),(function(e){return e.isActive&&"transform: translateX(0%);margin:0px;"})),bt=Object(m.a)(x.s)(Hn||(Hn=Object(c.a)(["cursor: pointer; "]))),gt=m.a.ul(Gn||(Gn=Object(c.a)(["list-style:none;background:transparent;margin:0;padding:0;li:last-child{border-bottom:none}"]))),vt=m.a.li(Wn||(Wn=Object(c.a)(["cursor:pointer;background:transparent;font-size:0.835re;padding:5px 20px;margin-top:0;border-radius:0;border-left:none;border-right:none;border-top:none;border-bottom:1px solid #ebebeb;.dark &{border-color:rgba(155,155,155,.1)}color:#495057;p.chat-search-date{font-size:smaller;margin:0}div.chat-search-body{font-size:0.835re}div.chat-search-body span{font-weight:600;color:#7A1B8B}"]))),Ot=m.a.div(zn||(zn=Object(c.a)(["overflow: auto;height: calc(100% - 43px);"]))),_t=m.a.div(Yn||(Yn=Object(c.a)(["display:flex;flex-flow:column;justify-content:center;align-items:center;flex-grow:1;padding:5rem;svg{display:block;margin:0 auto}h3{font-size:16px}h5{margin-bottom:0;font-size:14px}button{width:auto!important;margin:2rem auto}color:#363636;"]))),wt=m.a.form(Vn||(Vn=Object(c.a)(["flex-grow:1;margin:0 .5rem 0 0.5em!important;.form-control{border-radius:8px!important;padding-left:40px;transition:padding-left 0.4s cubic-bezier(.275,.42,0,1);&:focus{padding-left:12px}}.not-empty .form-control{padding-left:12px}.not-empty .input-group-append{display:none}.btn-cross{right:0!important}.input-group-append{position:absolute;top:2px;left:0;button{border:0!important;padding:10px 14px!important;color:#aaa;pointer-events:none}}@media (max-width:480px){margin:0 0 0.75rem!important}&::placeholder{color:#aaa}.btn-cross{position:absolute;right:45px;opacity:0;border:0;background:transparent;padding:0;height:100%;width:36px;border-radius:4px;svg{width:16px;color:#495057}}.not-empty .btn-cross{z-index:9;opacity:1}.loading{height:1rem;width:1rem}"]))),kt=function(e){e.className;var n=e.showSearchPanel,t=e.handleSearchChatPanel,a=e.selectedChannel,r=e.newSeachToogle,i=Object(s.useState)(0),c=Object(o.a)(i,2),d=c[0],m=c[1],p=Object(s.useRef)(),u=Object(f.U)().todoFormat,h=Object(f.ab)()._t,A=Object(s.useState)(""),E=Object(o.a)(A,2),b=E[0],g=E[1],v=Object(s.useState)(!1),O=Object(o.a)(v,2),_=O[0],w=O[1],k=Object(s.useState)([]),C=Object(o.a)(k,2),y=C[0],N=C[1],j={noItemsFoundHeader:h("CHATSEARCH.NO_ITEMS_FOUND_HEADER","WOO!"),noItemsFoundText:h("CHATSEARCH.NO_ITEMS_FOUND_TEXT","Nothing here but me\u2026 \ud83d\udc7b")},T=function(){N([]),g(""),w(!1)},I=Object(f.L)(),S=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(At.n)({channel_id:a.id,is_translate:a.is_translate,search:e,skip:n,limit:20}).then((function(e){return e})).then((function(e){t?(N([e.data.results]),m(0)):N([].concat(Object(ht.a)(y),[e.data.results]))}))};return Object(s.useEffect)((function(){null!==a&&d>0&&(w(!0),S(b,d))}),[d]),Object(s.useEffect)((function(){setTimeout((function(){_&&w(!_)}),200)}),[y]),Object(s.useEffect)((function(){T()}),[r]),Object(s.useEffect)((function(){if(b.length>2){p.current.classList.add("not-empty"),w(!0);var e=setTimeout((function(){S(b,0,!0)}),1e3);return function(){return clearTimeout(e)}}N([]),p.current.classList.remove("not-empty")}),[b]),l.a.createElement(Et,{isActive:n},l.a.createElement("div",{className:"d-flex justify-content-between align-items-flex-start align-items-center mb-2"},l.a.createElement(bt,{icon:"chevron-left",onClick:t}),l.a.createElement(wt,{className:"chat-search-chat"},l.a.createElement("div",{className:"input-group",ref:p},l.a.createElement("input",{onChange:function(e){return g(e.target.value)},value:b,type:"text",className:"form-control",placeholder:"Search",onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&T()}}),l.a.createElement("button",{onClick:T,className:"btn-cross",type:"button"},_?l.a.createElement(x.j,null):l.a.createElement(x.s,{icon:"x"})),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-light",type:"button"},l.a.createElement("i",{className:"ti-search"})))))),l.a.createElement(Ot,{className:"justify-content-between align-items-center",onScroll:function(e){e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight&&m(d+20)}},l.a.createElement(gt,null," ",n&&function(e){var n=e.map((function(e){return e.map((function(e){return l.a.createElement(vt,{onClick:function(n){return r=e,t(),void I.toChat(a,r);var r},key:e.id},l.a.createElement("p",{className:"chat-search-date"}," ",u(e.created_at.timestamp))," ",l.a.createElement("div",{className:"chat-search-body mb-2",dangerouslySetInnerHTML:{__html:e.body}})," ")}))}));return n[0]&&n[0].length?n:l.a.createElement(_t,null," ",l.a.createElement("h3",null,j.noItemsFoundHeader),l.a.createElement("h5",null,j.noItemsFoundText," ")," ")}(y)," ")))},Ct=m.a.div(Jn||(Jn=Object(c.a)(["\n  width: 40px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n"]))),yt=m.a.div(Kn||(Kn=Object(c.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    min-width: ",";\n    .btn-meet,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"])),(function(e){return e.editMode&&!e.clientChat?"160px":e.editMode&&e.clientChat?"120px":!e.editMode&&e.clientChat?"80px":"120px"}),(function(e){return e.clientChat&&e.showButtons&&e.editMode?"120px":e.clientChat&&e.showButtons&&!e.editMode?"90px":e.showButtons&&e.editMode?"150px":e.showButtons?"120px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),xt=l.a.memo((function(e){var n=e.channel,t=e.showEmojiPicker,a=e.handleShowEmojiPicker,r=e.handleGoogleMeet,i=e.onShowFileDialog,c=e.editChatMessage,m=e.quote,p=e.dictionary,u=Object(d.c)(),f=Object(d.d)((function(e){return e.workspaces.workspaces})),h=Object(s.useState)(!1),A=Object(o.a)(h,2),E=A[0],b=A[1],g=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},v=n&&f[n.entity_id]&&f[n.entity_id].is_shared&&f[n.entity_id].channel.id===n.id;return l.a.createElement(yt,{editMode:null!==c,showButtons:E,clientChat:v},c&&l.a.createElement(Ct,null,l.a.createElement(k.a,{arrowSize:5,distance:10,onToggle:g,content:p.closeEdit},l.a.createElement(x.s,{className:"close-button",icon:"x",onClick:function(){m&&u(Object(C.n)(m)),null!==c&&u(Object(C.Ib)(null))}}))),l.a.createElement(Ct,{className:"btn-smile"},l.a.createElement(k.a,{arrowSize:5,distance:10,onToggle:g,content:"Emoji"},l.a.createElement(x.s,{className:"".concat(t?"active":""),onClick:a,icon:"smile"}))),l.a.createElement(Ct,{className:"btn-meet"},l.a.createElement(k.a,{arrowSize:5,distance:10,onToggle:g,content:"Zoom"},l.a.createElement(x.s,{onClick:r,icon:"meet"}))),l.a.createElement(Ct,{className:"btn-paperclip"},l.a.createElement(k.a,{arrowSize:5,distance:10,onToggle:g,content:p.attachFiles},l.a.createElement(x.s,{onClick:i,icon:"paperclip"}))),l.a.createElement(Ct,{className:"chat-buttons"},l.a.createElement(x.s,{onClick:function(){b((function(e){return!e}))},icon:E?"x":"more-vertical"})))})),Nt=(m.a.div(qn||(qn=Object(c.a)(["\n  font-size: 13px;\n  font-weight: 600;\n  .card {\n    overflow: visible;\n  }\n  .custom-switch {\n    input {\n      cursor: pointer;\n    }\n  }\n"]))),m.a.span(Zn||(Zn=Object(c.a)(["\n  font-weight: 600;\n  cursor: pointer;\n"]))),m.a.div(Xn||(Xn=Object(c.a)([""])))),jt=function(e){e.className;var n=e.selectedChannel,t=e.chatMessageActions,a=e.translated_channels,r=(Object(_.g)(),Object(d.c)()),o=Object(f.V)(),c=Object(f.Q)().setGeneralSetting,m=Object(f.ab)()._t,p={chatTranslateOn:m("SETTINGS.CHAT_TRANSLATE_TITLE_ON","Turn ON chat translate."),chatTranslateOff:m("SETTINGS.CHAT_TRANSLATE_TITLE_OFF","Turn OFF chat translate."),chatTranslateIsOn:m("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned ON chat translate."),chatTranslateIsOff:m("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned OFF chat translate")},u=!!(a.length>0&&a.includes(n.id)),h=Object(s.useCallback)((function(e){e.persist();var r=!u||!n.is_translate;t.saveChannelTranslateState(Object(i.a)(Object(i.a)({},n),{},{is_translate:r})),A(Object(i.a)(Object(i.a)({},n),{},{is_translate:r}));var s=n.id;c(r?{translated_channels:[].concat(Object(ht.a)(a),[s])}:{translated_channels:a.filter((function(e){return e!==s}))}),o.success(l.a.createElement("span",null,r?p.chatTranslateIsOn:p.chatTranslateIsOff))})),A=Object(s.useCallback)((function(e){r(Object(y.Q)(e,(function(){var n=Object(i.a)({},e);r(Object(y.S)(n))})))}));return l.a.createElement(Nt,{onClick:h},u?p.chatTranslateOff:p.chatTranslateOn)}},676:function(e,n,t){"use strict";t.r(n);var a,r,i,o=t(0),c=t(11),s=t(9),l=t(1),d=t.n(l),m=t(5),p=t(37),u=t(10),f=t(17),h=t(14),A=t(12),E=t(138),b=Object(u.a)(E.c)(a||(a=Object(s.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),g=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.files,o=e.scrollRef,c=void 0===o?null:o,s=e.actions,l=e.forceDelete,m=e.disableOptions,p=Object(A.V)(),u=Object(A.ab)()._t,f={rename:u("FILES.RENAME","Rename"),restore:u("FILES.RESTORE","Restore"),remove:u("FILES.REMOVE","Remove"),viewDetails:u("FILES.VIEW_DETAILS","View details"),share:u("FILES.SHARE","Share"),download:u("FILES.DOWNLOAD","Download"),moveTo:u("FILES.MOVE_TO","Move to"),favorite:u("FILES.FAVORITE","Favorite"),unfavorite:u("FILES.UNFAVORITE","Unfavorite")};return d.a.createElement(b,{className:"file-options ".concat(t),moreButton:"more-horizontal",file:r,scrollRef:c},d.a.createElement("div",{onClick:function(){s.viewCompanyFiles(r,i)}},f.viewDetails),d.a.createElement("div",{onClick:function(){s.download(r)}},f.download),l?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{onClick:function(){s.restoreCompanyFile(r,(function(e,n){n&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?p.success(d.a.createElement(d.a.Fragment,null,"Item ",d.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):p.success(d.a.createElement(d.a.Fragment,null,"Item ",d.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},f.restore)):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{onClick:function(){s.copyLink(r.view_link)}},f.share),d.a.createElement("div",{onClick:function(){s.favorite(r)}},r.is_favorite?f.unfavorite:f.favorite),d.a.createElement("div",{onClick:function(){s.moveCompanyFile(r)}},f.moveTo),d.a.createElement("div",{onClick:function(){s.renameCompanyFile(r)}},f.rename)),!m&&d.a.createElement("div",{onClick:function(){r.hasOwnProperty("payload_id")?s.unlinkGoogleAttachment(r):s.removeCompanyFile(r,(function(){}),l)}},f.remove))})),v=t(19),O=t(617),_=u.a.div(r||(r=Object(s.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),w=Object(u.a)(v.s)(i||(i=Object(s.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),k=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.files,s=e.actions,m=e.forceDelete,p=void 0!==m&&m,u=e.disableOptions,f=s.getFileSizeUnit(r.hasOwnProperty("size")&&"number"===typeof r.size?r.size:0),h=Object(l.useState)(r.is_favorite),A=Object(c.a)(h,2),b=A[0],O=A[1],k=Object(l.useState)("undefined"===typeof r.name?r.search:r.name),C=Object(c.a)(k,2),y=C[0],x=C[1];return Object(l.useEffect)((function(){x("undefined"===typeof r.name?r.search:r.name)}),[r.name,r.search]),d.a.createElement(_,{className:"file-list-item cursor-pointer ".concat(t),onClick:function(){s.viewCompanyFiles(r,i)}},d.a.createElement("div",{className:"card  app-file-list"},d.a.createElement("div",{className:"string"===typeof r.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===b&&d.a.createElement(w,{icon:"star"}),s.getFileIcon(r.mime_type),"number"===typeof r.id&&d.a.createElement(g,{file:r,files:i,folders:a,actions:Object(o.a)(Object(o.a)({},s),{},{favorite:function(){O((function(e){return!e})),s.favorite(r)}}),forceDelete:p,disableOptions:u}),"string"===typeof r.id&&d.a.createElement(E.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),d.a.createElement("div",{className:"p-2 small"},d.a.createElement(v.t,{content:y},d.a.createElement("div",{className:"file-name"},r.hasOwnProperty("payload_id")&&d.a.createElement(v.s,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),y)),d.a.createElement("div",{className:"text-muted"},f.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],f.unit))))}));function C(){var e=Object(s.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return C=function(){return e},e}function y(){var e=Object(s.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return y=function(){return e},e}var x,N,j,T,I=u.a.div(y()),S=Object(u.a)(v.s)(C()),R=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.actions,i=e.history,o=e.params,c=e.handleAddEditFolder,s=e.disableOptions,l=Object(p.j)(),m=l.path,u=l.url;return d.a.createElement(I,{className:"file-list-item cursor-pointer ".concat(t),onClick:function(e){if(e.preventDefault(),a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===m){var n=u.split("/folder/")[0];i.push(n+"/folder/".concat(a.id,"/").concat(Object(f.h)(a.search)))}else i.push(i.location.pathname+"/folder/".concat(a.id,"/").concat(Object(f.h)(a.search)))}},d.a.createElement("div",{className:"card  app-file-list"},d.a.createElement("div",{className:"app-file-icon"},a.hasOwnProperty("payload")&&d.a.createElement(S,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),d.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!s&&d.a.createElement(le,{folder:a,actions:r,history:i,params:o,handleAddEditFolder:c})),d.a.createElement("div",{className:"p-2 small"},d.a.createElement(v.t,{content:a.search},d.a.createElement("div",{className:"file-name"},a.search)))))})),P=u.a.div(x||(x=Object(s.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),D=Object(u.a)(E.c)(N||(N=Object(s.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]))),L=u.a.div(j||(j=Object(s.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),F=u.a.div(T||(T=Object(s.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]))),M=d.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.dropZoneRef,i=e.filter,s=e.search,p=e.files,u=e.handleAddEditFolder,f=e.actions,h=e.params,A=e.folders,E=e.folder,b=e.fileIds,g=e.history,_=e.subFolders,w=e.dictionary,C=e.disableOptions,y=e.loadMore,x=e.isLoaded,N=document.querySelector(".app-content-body"),j=Object(m.d)((function(e){return e.session.user})),T={files:Object(l.useRef)(null),btnLoadMore:Object(l.useRef)(null)},I=Object(l.useState)(!1),S=Object(c.a)(I,2),M=S[0],B=S[1],U=function(){r.current&&r.current.open()},Q=function(){B(!1)},H=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&T.btnLoadMore.current&&T.btnLoadMore.current.click()};return Object(l.useEffect)((function(){if(T.files.current){var e=T.files.current;return e&&"0"===e.dataset.loaded?(y.files(),e.dataset.loaded="1",T.files.current.addEventListener("scroll",H,!1),function(){return T.files.current.removeEventListener("scroll",H,!1)}):void 0}}),[T.files.current]),d.a.createElement(P,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(i)||M||B(!0)}},d.a.createElement("span",{className:"d-none",ref:T.btnLoadMore,onClick:y.files},"Load more"),!C&&d.a.createElement(O.a,{ref:r,hide:!M,onDragLeave:Q,onDrop:function(e){!function(e){B(!1);var n=Math.floor(Date.now()/1e3),a=new FormData;for(var r in e)e.hasOwnProperty(r)&&(e[r].reference_id=t(109).generate(),a.append("files["+r+"]",e[r]));var i={files:e.map((function(e){return{created_at:{timestamp:n},download_link:null,folder_id:E?E.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:n},user_id:j.id,view_link:null,uploading:!0}})),folder_id:E?E.id:null};f.uploadingCompanyFiles(i);var c={is_primary:0,files:a};h.folderId&&(c=Object(o.a)(Object(o.a)({},c),{},{folder_id:h.folderId})),f.uploadCompanyBulkFiles(c)}(e.acceptedFiles)},onCancel:Q,params:h}),d.a.createElement("div",{ref:T.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof p&&d.a.createElement(d.a.Fragment,null,E&&"removed"!==i&&!C&&d.a.createElement(D,{moreButton:"settings"},d.a.createElement("div",{onClick:function(){u(E,"update")}},w.editFolder),d.a.createElement("div",{onClick:function(){if(E){f.removeFolder(E,(function(e,n){if(!e&&n){var t=g.location.pathname.split("/folder/")[0];g.push(t)}}))}}},w.removeFolder)),"removed"===i&&p&&p.hasOwnProperty("trash_files")&&(Object.keys(p.trash_files).length>0||Object.values(A).filter((function(e){return e.is_archived})).length>0)&&d.a.createElement(v.s,{icon:"trash",onClick:f.removeAllCompanyTrashFiles}),""===i&&d.a.createElement(d.a.Fragment,null,"undefined"===typeof h.folderId&&d.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},w.allFiles),E&&d.a.createElement(V,{folder:E,history:g,dictionary:w,folders:A}),d.a.createElement("div",{className:"row"},h.hasOwnProperty("folderId")?_.filter((function(e){return!e.is_archived})).map((function(e){return d.a.createElement(R,{key:e.id,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:C,folder:e,history:g,params:h,handleAddEditFolder:u})})):Object.values(A).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return d.a.createElement(R,{key:e.id,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:C,folder:e,history:g,params:h,handleAddEditFolder:u})}))),"undefined"!==typeof h.folderId?d.a.createElement(d.a.Fragment,null,E?d.a.createElement(d.a.Fragment,null,d.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},E.search),d.a.createElement("div",{className:"row"},p&&b.map((function(e){return p.files.hasOwnProperty(e)?d.a.createElement(k,{key:e,scrollRef:N,actions:f,folders:A,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:p.files[e],files:p.files,disableOptions:C}):null}))),p&&0===b.length&&d.a.createElement(L,null,d.a.createElement(v.q,{icon:4,height:282}),d.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:U,disabled:C},w.uploadFiles))):d.a.createElement(d.a.Fragment,null)):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row"},p&&b.map((function(e){return p.files.hasOwnProperty(e)?d.a.createElement(k,{key:e,scrollRef:N,actions:f,folders:A,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:p.files[e],files:p.files,disableOptions:C}):null}))),p&&p.popular_files.length>0&&d.a.createElement(Ae,{search:s,scrollRef:N,files:Object.values(p.files).filter((function(e){return p.popular_files.includes(e.id)})),actions:f,disableOptions:C}),p&&p.recently_edited.length>0&&d.a.createElement(ge,{search:s,scrollRef:N,files:Object.values(p.files).filter((function(e){return p.recently_edited.includes(e.id)})),actions:f,disableOptions:C}),x&&0===p.popular_files.length&&0===p.recently_edited.length&&0===b.length&&0===Object.values(A).filter((function(e){return!0!==e.is_archived})).length&&0===_.length&&d.a.createElement(L,null,d.a.createElement(v.q,{icon:4,height:282}),d.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:U,disabled:C},w.uploadFiles)),!x&&d.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===i&&d.a.createElement(d.a.Fragment,null,d.a.createElement(ge,{search:s,scrollRef:N,files:Object.values(p.files).filter((function(e){return p.recently_edited.includes(e.id)})),actions:f,disableOptions:C}),!(p&&p.recently_edited.length>0)&&d.a.createElement(L,null,d.a.createElement(v.q,{icon:4,height:282}))),"important"===i&&d.a.createElement(d.a.Fragment,null,d.a.createElement(ue,{search:s,scrollRef:N,files:Object.values(p.files).filter((function(e){return p.favorite_files.includes(e.id)})),actions:f,dictionary:w}),!(p&&p.hasOwnProperty("favorite_files")&&p.favorite_files.length>0)&&d.a.createElement(L,null,d.a.createElement(v.q,{icon:4,height:282}),d.a.createElement(F,null,d.a.createElement("p",null,"No favorite files."),d.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===i&&d.a.createElement(d.a.Fragment,null,d.a.createElement(ke,{scrollRef:N,search:s,files:p.trash_files,actions:f,params:h,folders:A,subFolders:_,handleAddEditFolder:u,folder:E,disableOptions:C}),!(p&&p.hasOwnProperty("trash_files")&&Object.keys(p.trash_files).length>0)&&!(Object.values(A).some((function(e){return e.is_archived}))||_.some((function(e){return e.is_archived})))&&d.a.createElement(L,null,d.a.createElement(v.q,{icon:4,height:282}))))))})),B=t(204);function U(){var e=Object(s.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return U=function(){return e},e}var Q,H,G,W,z,Y=u.a.div(U()),V=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.history,i=e.dictionary,o=e.folders,s=e.workspaceID,m=Object(p.j)().url,u=Object(l.useState)(!1),h=Object(c.a)(u,2),A=h[0],E=h[1];return Object(l.useEffect)((function(){a.parent_folder&&Object.values(o).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?E(!0):E(!1))})),a.parent_folder||E(!1)}),[a]),d.a.createElement(Y,{className:"files-breadcrumb d-flex ".concat(t)},d.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},d.a.createElement("li",{onClick:function(){var e=r.location.pathname.split("/folder/")[0];r.push(e)}},i.allFiles),d.a.createElement(v.s,{width:12,icon:"chevron-right"}),A&&d.a.createElement(d.a.Fragment,null,d.a.createElement("li",null,d.a.createElement(B.a,{parentFolder:a.parent_folder,workspaceID:s,history:r})),d.a.createElement(v.s,{width:12,icon:"chevron-right"})),a.parent_folder&&d.a.createElement(d.a.Fragment,null,d.a.createElement("li",{onClick:function(){return function(e){var n=m.split("/folder/")[0];r.push(n+"/folder/".concat(e.id,"/").concat(Object(f.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),d.a.createElement(v.s,{width:12,icon:"chevron-right"})),d.a.createElement("div",null,a.search)))})),J=u.a.div(Q||(Q=Object(s.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),K=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dropZoneRef,r=e.onSearchChange,i=e.onSearch,o=e.onEnter,c=e.handleAddEditFolder,s=e.folders,l=e.history,m=e.params,p=e.clearFilter,u=e.dictionary,h=e.onClickEmpty,A=e.value,E=function(e){if(p(),s.hasOwnProperty(e.target.dataset.value)){var n=s[e.target.dataset.value];n.hasOwnProperty("payload")?window.open(n.payload.url,"_blank"):m.hasOwnProperty("folderId")?l.push(l.location.pathname.split("/folder/")[0]+"/folder/".concat(n.id,"/").concat(Object(f.h)(n.search))):l.push("/files/folder/".concat(n.id,"/").concat(Object(f.h)(n.search)))}},b={label:d.a.createElement(d.a.Fragment,null,d.a.createElement(v.s,{className:"mr-1",icon:"plus"})," ",u.add),items:[{value:"folder",label:u.folder,onClick:function(){return c("add")}},{value:"file",label:u.file,onClick:function(){a.current&&a.current.open()}}]},g={label:u.folders,items:Object.values(s).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:E}}))};return d.a.createElement(J,{className:"files-header app-action ".concat(t)},d.a.createElement("div",{className:"action-left"},d.a.createElement("ul",{className:"list-inline"},d.a.createElement("li",{className:"list-inline-item mb-0"},d.a.createElement(v.e,{dropdown:b})),Object.values(s).filter((function(e){return!e.is_archived})).length>=1&&d.a.createElement("li",{className:"list-inline-item mb-0"},d.a.createElement(v.e,{dropdown:g}))),d.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},d.a.createElement(v.s,{icon:"menu"}))),d.a.createElement("div",{className:"action-right"},d.a.createElement("div",{className:"input-group"},d.a.createElement("input",{type:"text",onChange:r,value:A,onKeyDown:o,className:"form-control",placeholder:u.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==A.trim()&&d.a.createElement("button",{onClick:h,className:"btn-cross",type:"button"},d.a.createElement(v.s,{icon:"x"})),d.a.createElement("div",{className:"input-group-append"},d.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:i},d.a.createElement(v.s,{icon:"search"}))))))})),q=t(630),Z=u.a.div(H||(H=Object(s.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]))),X=u.a.div(G||(G=Object(s.a)([""]))),$=u.a.span(W||(W=Object(s.a)(["\n  cursor: pointer;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"])),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),ee=Object(u.a)(v.s)(z||(z=Object(s.a)(["\n  width: 15px;\n"]))),ne=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.filterFile,i=e.filter,o=void 0===i?"all":i,c=e.dropZoneRef,s=e.storageLimit,l=void 0===s?25:s,m=e.fileCount,p=e.folders,u=e.activeFolder,f=e.clearFilter,h=e.params,b=e.disableOptions,g=Object(A.ab)()._t,O=a.getFileSizeUnit(m.storage),_=0===m.storage?0:m.storage<1e8?1e8:m.storage,w={uploadFiles:g("FILE.UPLOAD_FILES","Upload files"),allFiles:g("FILES.ALL_FILES","All files"),recentlyEdited:g("FILES.RECENTLY_EDITED","Recently edited"),favorite:g("FILE.FAVORITE","Favorite"),removed:g("FILES.REMOVED","Removed"),storageStatus:g("FILES.STORAGE_STATUS","Storage Status"),usedOf:g("FILE.USED_OF","used of"),gigabyte:g("FILE.GIGABYTE","GB")};return d.a.createElement(Z,{className:"file-sidebar bottom-modal-mobile ".concat(t)},d.a.createElement(X,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),d.a.createElement("div",{className:"card bottom-modal-mobile_inner"},d.a.createElement("div",{className:"card-body"},d.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){c.current&&c.current.open()},disabled:b},w.uploadFiles),d.a.createElement("form",{className:"d-none",id:"file-upload"},d.a.createElement("input",{type:"file",multiple:""}))),d.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},d.a.createElement("div",{className:"list-group list-group-flush"},d.a.createElement($,{onClick:r,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},d.a.createElement(ee,{className:"mr-2",icon:"folder"}),w.allFiles,d.a.createElement("span",{className:"small ml-auto"},m.all>0?m.all:null)),p&&Object.values(p).filter((function(e){return!e.is_archived})).length>0&&d.a.createElement($,{className:"d-flex align-items-center folder-list"},d.a.createElement("ul",null,Object.values(p).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return d.a.createElement(ce,{key:e.id,clearFilter:f,folders:p,params:h,folder:e,activeFolder:u})})))),d.a.createElement(q.j,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){a.uploadCompanyGoogleDriveFile(e)}))},disableOptions:b}),d.a.createElement($,{onClick:r,"data-filter":"recent",active:"recent"===o,className:"list-group-item d-flex align-items-center"},d.a.createElement(ee,{className:"mr-2",icon:"monitor"}),w.recentlyEdited),d.a.createElement($,{onClick:r,"data-filter":"important",active:"important"===o,className:"list-group-item d-flex align-items-center"},d.a.createElement(ee,{className:"mr-2",icon:"star"}),w.favorite,d.a.createElement("span",{className:"small ml-auto"},m.stars>0?m.stars:null)),d.a.createElement($,{onClick:r,"data-filter":"removed",active:"removed"===o,className:"list-group-item d-flex align-items-center"},d.a.createElement(ee,{className:"mr-2",icon:"trash"}),w.removed,d.a.createElement("span",{className:"small ml-auto"},m.trash>0?m.trash:null))),d.a.createElement("div",{className:"card-body"},d.a.createElement("h6",{className:"mb-4"},w.storageStatus),d.a.createElement("div",{className:"d-flex align-items-center"},d.a.createElement("div",{className:"mr-3"},d.a.createElement(v.s,{icon:"database"})),d.a.createElement("div",{className:"flex-grow-1"},d.a.createElement(E.d,{amount:_,limit:1e9*l}),d.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},O.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],O.unit," ",w.usedOf," ",l,w.gigabyte)))))))}));function te(){var e=Object(s.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(s.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n    \n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return ae=function(){return e},e}var re,ie=u.a.li(ae(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),oe=u.a.ul(te(),(function(e){return e.maxHeight})),ce=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,s=Object(p.g)(),m=Object(p.j)(),u=m.params,h=m.path,A=m.url,E={container:Object(l.useRef)(null),arrow:Object(l.useRef)(null),nav:Object(l.useRef)(null)},b=Object(l.useState)(null),g=Object(c.a)(b,2),O=g[0],_=g[1],w=Object(l.useState)(null),k=Object(c.a)(w,2),C=k[0],y=k[1];return Object(l.useEffect)((function(){null!==E.nav.current&&y(E.nav.current.scrollHeight)}),[E.nav.current,C]),Object(l.useEffect)((function(){i&&i.parent_folder&&i.parent_folder.id===a.id&&_(!0)}),[u,i]),d.a.createElement(ie,{ref:E.container,className:"folder-list fadeIn ".concat(t),selected:!!i&&i.id===a.id},d.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(o(),"/files/folder/:folderId/:folderName"===h){var e=A.split("/folder/")[0];s.push(e+"/folder/".concat(a.id,"/").concat(Object(f.h)(a.search)))}else s.push("/files/folder/".concat(a.id,"/").concat(Object(f.h)(a.search)));_((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&d.a.createElement(v.s,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&d.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(O?"ti-minus rotate-in":"ti-plus")})),Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&d.a.createElement(oe,{ref:E.nav,maxHeight:C,className:O?"enter-active":"leave-active"},O&&Object.values(r).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return d.a.createElement(Ce,{key:e.id,clearFilter:o,params:u,folderHeight:C,activeFolder:i,folders:r,folder:e})}))))},se=Object(u.a)(E.c)(re||(re=Object(s.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]))),le=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,o=e.actions,c=e.history,s=e.handleAddEditFolder,l=Object(A.V)(),m=Object(A.ab)()._t,p={rename:m("FILES.RENAME","Rename"),restore:m("FILES.RESTORE","Restore"),remove:m("FILES.REMOVE","Remove")};return d.a.createElement(se,{className:"file-options ".concat(t),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&!a.is_archived&&d.a.createElement("div",{onClick:function(){s(a,"edit")}},p.rename),a.is_archived&&d.a.createElement("div",{onClick:function(){o.restoreCompanyFolder(a,(function(e,n){n&&(a.parent_folder?l.success(d.a.createElement(d.a.Fragment,null,"Folder ",d.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):l.success(d.a.createElement(d.a.Fragment,null,"Folder ",d.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},p.restore),d.a.createElement("div",{onClick:function(){if(a.hasOwnProperty("payload"))o.unlinkGoogleFolder(a);else{o.removeCompanyFolder(a,(function(e,n){if(!e&&n){var t=c.location.pathname.split("/folder/")[0];c.push(t),l.info(d.a.createElement(d.a.Fragment,null,"You have removed ",d.a.createElement("b",null,a.search),"."))}}))}}},p.remove))})),de=t(618);function me(){var e=Object(s.a)([""]);return me=function(){return e},e}var pe=u.a.div(me()),ue=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,i=e.actions,o=e.dictionary;return d.a.createElement(pe,{className:"important-files ".concat(t)},d.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},o.favoriteTitle),d.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return d.a.createElement(de.a,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:a,actions:i})}))))}));function fe(){var e=Object(s.a)([""]);return fe=function(){return e},e}var he=u.a.div(fe()),Ae=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,i=e.actions,o=e.disableOptions;return d.a.createElement(he,{className:"popular-files ".concat(t)},d.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),d.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return d.a.createElement(k,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:i,folders:a,files:r,disableOptions:o})}))))}));function Ee(){var e=Object(s.a)([""]);return Ee=function(){return e},e}var be=u.a.div(Ee()),ge=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,i=e.actions,o=e.disableOptions;return d.a.createElement(be,{className:"recent-edited-files ".concat(t)},d.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),d.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return d.a.createElement(k,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:r,folders:a,actions:i,disableOptions:o})}))))}));function ve(){var e=Object(s.a)([""]);return ve=function(){return e},e}var Oe,_e,we=u.a.div(ve()),ke=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.files,i=e.folders,o=e.subFolders,c=e.folder,s=e.params,l=e.handleAddEditFolder,m=e.disableOptions,u=Object(p.g)();return d.a.createElement(we,{className:"remove-files ".concat(t)},d.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),c&&d.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},c.search),d.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?o.filter((function(e){return e.is_archived})).map((function(e){return d.a.createElement(R,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:u,params:s,handleAddEditFolder:l,disableOptions:m})})):Object.values(i).filter((function(e){return e.is_archived})).map((function(e){return d.a.createElement(R,{key:e.id,actions:a,folders:i,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:u,params:s,handleAddEditFolder:l,disableOptions:m})}))),d.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?r&&Object.values(r).length>0&&Object.values(r).filter((function(e){return c?c.id===e.folder_id:null===e.folder_id})).map((function(e){return d.a.createElement(k,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r).filter((function(e){return c?c.id===e.folder_id:null===e.folder_id})),actions:a,folders:i,disableOptions:m})})):r&&Object.values(r).length>0&&Object.values(r).map((function(e){return"undefined"!==typeof e?d.a.createElement(k,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r),folders:i,actions:a,disableOptions:m}):null}))))})),Ce=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,o=e.clearFilter,c=e.params;return d.a.createElement(ce,{className:t,clearFilter:o,folders:r,params:c,folder:a,activeFolder:i})},ye=u.a.div(Oe||(Oe=Object(s.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]))),xe=u.a.div(_e||(_e=Object(s.a)(["\n  padding-top: 10px;\n"])));n.default=d.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.workspace,i=Object(m.c)(),s=Object(p.g)(),u=Object(A.ab)()._t,E=Object(A.i)(),b=E.params,g=E.isLoaded,v=E.files,O=E.fileCount,_=E.actions,w=E.fileIds,k=E.folders,C=E.folder,y=E.subFolders,x=E.loadMore,N=Object(l.useState)(""),j=Object(c.a)(N,2),T=j[0],I=j[1],S=Object(l.useState)(""),R=Object(c.a)(S,2),P=R[0],D=R[1],L={dropZone:Object(l.useRef)(null)},F=!1;r&&0===r.active&&(F=!0);var B=function(){_.searchCompany(P)},U=function(){D(""),_.clearSearch()},Q={createFolder:u("FILE.CREATE_FOLDER","Create folder"),create:u("FILE.CREATE","Create"),updateFolder:u("FILE.UPDATE_FOLDER","Update folder"),update:u("FILE.UPDATE","Update"),editFolder:u("FILE.EDIT_FOLDER","Edit folder"),removeFolder:u("FILE.REMOVE_FOLDER","Remove folder"),add:u("FILE.ADD","Add"),favorite:u("FILE.FAVORITE","Favorite"),favoriteTitle:u("FILE.FAVORITE_TITLE","Favorite"),file:u("FILE.FILE","File"),folder:u("FILE.FOLDER","Folder"),folders:u("FILE.FOLDERS","Folders"),allFiles:u("FILES.ALL_FILES","All files"),recentlyEdited:u("FILES.RECENTLY_EDITED","Recently edited"),removed:u("FILES.REMOVED","Removed"),searchInputPlaceholder:u("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:u("FILE.UPLOAD_FILES","Upload files")},H=Object(l.useRef)(""),G=function(){H.current=""},W=function(e){H.current=e.target.value.trim()},z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",t=function(){var e={name:H.current};b.hasOwnProperty("folderId")&&(e=Object(o.a)(Object(o.a)({},e),{},{folder_id:b.folderId})),_.createCompanyFolders(e,(function(e,n){if(!e)if(b.hasOwnProperty("folderId")){var t=s.location.pathname.split("/folder/")[0];s.push(t+"/folder/".concat(n.data.folder.id,"/").concat(Object(f.h)(n.data.folder.search)))}else s.push(s.location.pathname+"/folder/".concat(n.data.folder.id,"/").concat(Object(f.h)(n.data.folder.search)))}))},a=function(){_.updateCompanyFolders({id:e.id,name:H.current,is_archived:!0},(function(e,n){if(!e&&b.hasOwnProperty("folderId")){var t=s.location.pathname.split("/folder/")[0];s.push(t+"/folder/".concat(n.data.folder.id,"/").concat(Object(f.h)(n.data.folder.search)))}}))},r={type:"single_input",defaultValue:"",label:"Folder name",postInputLabel:null===C?"":d.a.createElement(xe,null,"The folder will be created inside ",d.a.createElement("b",null,"#",C.search)),onChange:W,onClose:G};"add"===n?r=Object(o.a)(Object(o.a)({},r),{},{title:Q.createFolder,preInputLabel:"Folders help to organize your files. A file can only be connected to one folder.",labelPrimaryAction:Q.create,onPrimaryAction:t}):(H.current=e.search,r=Object(o.a)(Object(o.a)({},r),{},{defaultValue:e.search,title:"Rename folder",preInputLabel:"Renaming the folder will update the folder name for everyone.",labelPrimaryAction:"Rename folder",onPrimaryAction:a})),i(Object(h.a)(r))},Y=function(){I("")};return Object(l.useEffect)((function(){C&&C.is_archived&&"removed"!==T&&I("removed")}),[C,T,I]),d.a.createElement(ye,{className:"container-fluid h-100 fadeIn ".concat(t)},d.a.createElement("div",{className:"row app-block"},d.a.createElement(ne,{init:g,actions:_,isMember:a,clearFilter:Y,params:b,dropZoneRef:L.dropZone,className:"col-lg-3",filterFile:function(e){if(b.hasOwnProperty("folderId")){var n=s.location.pathname.split("/folder/")[0];s.push(n)}I(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:T,fileCount:O,folders:k,activeFolder:C,dictionary:Q,disableOptions:F}),d.a.createElement("div",{className:"col-lg-9 app-content mb-4"},d.a.createElement("div",{className:"app-content-overlay"}),d.a.createElement(K,{isMember:a,clearFilter:Y,dropZoneRef:L.dropZone,history:s,params:b,onSearch:B,onSearchChange:function(e){""===e.target.value&&U(),D(e.target.value)},onEnter:function(e){"Enter"===e.key&&B()},files:v,handleAddEditFolder:z,folders:k,dictionary:Q,disableOptions:F,onClickEmpty:U,value:P}),d.a.createElement(M,{dropZoneRef:L.dropZone,isLoaded:g,loadMore:x,filter:T,search:P,folders:k,folder:C,fileIds:w,subFolders:y,history:s,actions:_,params:b,files:v,handleAddEditFolder:z,dictionary:Q,disableOptions:F}))))}))},677:function(e,n,t){"use strict";t.d(n,"a",(function(){return L})),t.d(n,"b",(function(){return fe})),t.d(n,"c",(function(){return xe})),t.d(n,"d",(function(){return Qe})),t.d(n,"e",(function(){return Ge})),t.d(n,"f",(function(){return ze})),t.d(n,"g",(function(){return Ve})),t.d(n,"h",(function(){return nn})),t.d(n,"j",(function(){return rn})),t.d(n,"k",(function(){return fn})),t.d(n,"i",(function(){return En})),t.d(n,"m",(function(){return Cn})),t.d(n,"l",(function(){return In}));var a,r,i,o,c,s,l,d=t(0),m=t(11),p=t(9),u=t(1),f=t.n(u),h=t(10),A=t(19),E=t(12),b=t(88),g=t(76),v=t.n(g),O=t(5),_=t(37),w=t(20),k=t(622),C=t(17),y=t(38),x=t(48),N=h.a.div(a||(a=Object(p.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]))),j=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},T=Object(h.a)(v.a)(r||(r=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),I=Object(h.a)(A.s)(i||(i=Object(p.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),S=Object(h.a)(A.s)(o||(o=Object(p.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]))),R=h.a.div(c||(c=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n  // .receiver.client-shared {\n  //   background: #ffdb92;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n  // .receiver.client-not-shared {\n  //   background: #d6edff;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n"]))),P=h.a.div(s||(s=Object(p.a)(["\n  min-width: 150px;\n"]))),D=h.a.span(l||(l=Object(p.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]))),L=f.a.memo((function(e){var n=e.post,t=e.user,a=e.postActions,r=e.dictionary,i=e.disableOptions,o=e.disableMarkAsRead,c="external"===t.type,s=Object(O.c)(),l={container:Object(u.useRef)(null),body:Object(u.useRef)(null)},p=Object(u.useRef)(!0),h=Object(E.r)(),g=h.fileBlobs,v=h.actions.setFileSrc,L=Object(E.L)(),F=Object(O.d)((function(e){return e.workspaces.workspaces})),M=Object(O.d)((function(e){return e.global.recipients.filter((function(e){return n.recipient_ids.includes(e.id)})).sort((function(e,n){if(e.type!==n.type){if("TOPIC"===e.type)return-1;if("TOPIC"===n.type)return 1}return e.name.localeCompare(n.name)}))})),B=Object(u.useState)(n.is_favourite),U=Object(m.a)(B,2),Q=U[0],H=U[1],G=Object(u.useState)({approve:!1,change:!1}),W=Object(m.a)(G,2),z=W[0],Y=(W[1],Object(E.U)()),V=Y.fromNow,J=Y.localizeDate,K=Object(E.v)(),q=Object(E.gb)(),Z=Object(_.g)(),X=Object(u.useState)(!1),$=Object(m.a)(X,2),ee=$[0],ne=$[1],te=Object(u.useState)(!1),ae=Object(m.a)(te,2),re=ae[0],ie=ae[1];Object(u.useEffect)((function(){return function(){p.current=!1}}),[]);var oe=function(e){var t=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(t=e.target.dataset.id);else{var a=n.files.find((function(n){return n.thumbnail_link===e.srcElement.currentSrc}));a&&(t=a.id)}t&&s(Object(w.Ub)({file_id:parseInt(t),files:n.files}))};Object(u.useEffect)((function(){l.body.current&&(l.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){K.init(e)})),l.body.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&g[a.id]&&(e.setAttribute("src",g[a.id]),e.setAttribute("data-id",a.id))}else{e.addEventListener("click",oe,!1),e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&g[r.id]&&(e.setAttribute("src",g[r.id]),e.setAttribute("data-id",r.id))}})));var e=n.files.filter((function(e){return e.type.includes("image")}));e.length&&e.forEach((function(e){g[e.id]||x.sessionService.loadSession().then((function(t){var r=t.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:r,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var r=URL.createObjectURL(t);v({id:e.id,src:r}),a.updatePostImages({post_id:n.id,topic_id:null,file:Object(d.a)(Object(d.a)({},e),{},{blobUrl:r})})}))}))}))}),[n.body,l.body,n.files]);var ce=function(e){var n=e.target.dataset,t=n.id;switch(n.type){case"DEPARTMENT":Z.push("/chat");break;case"TOPIC":var a=F[t];a&&L.toWorkspace(a);break;case"USER":Z.push("/profile/".concat(t,"/").concat(Object(C.h)(e.target.innerHTML)))}};Object(u.useEffect)((function(){l.container.current&&l.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",ce)}))}));var se=n.users_approval.length>0&&n.users_approval.filter((function(e){return null===e.ip_address})).length===n.users_approval.length,le=n.users_approval.length>1,de=M.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return f.a.createElement(N,{ref:l.container,className:"card-body"},de&&!c&&f.a.createElement(D,{className:n.shared_with_client?"client-shared":"client-not-shared"},n.shared_with_client&&f.a.createElement(f.a.Fragment,null,f.a.createElement(S,{icon:"eye"}),r.sharedClientBadge),!n.shared_with_client&&f.a.createElement(f.a.Fragment,null,f.a.createElement(S,{icon:"eye-off"}),r.notSharedClientBadge)),f.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},f.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},f.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},f.a.createElement(A.a,{className:"mr-2 post-author",id:n.author.id,name:n.author.name,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link}),f.a.createElement("div",null,f.a.createElement("span",{className:"author-name"},n.author.first_name),f.a.createElement(R,null,M.length>=1&&f.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=M.some((function(e){return e.type_id===t.id})),n=q.width>576?e?4:5:e?0:1,a="",i=M.filter((function(e){return!("USER"===e.type&&e.type_id===t.id)}));i.length&&(a+=i.filter((function(e,t){return t<n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(y.renderToString)(f.a.createElement(S,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(y.renderToString)(f.a.createElement(S,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1">'.concat(e.name,"</span>")})).join(", ")),e&&(i.length,a+='<span class="receiver mb-1">'.concat(r.me,"</span>"));var o="";return i.length+(e?1:0)>n&&(o+=i.filter((function(e,t){return t>=n})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(y.renderToString)(f.a.createElement(S,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(y.renderToString)(f.a.createElement(S,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),o='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(o,"</span></span>")),"".concat(a," ").concat(o)}()}})))),f.a.createElement(P,{className:"d-inline-flex"},f.a.createElement(k.a,{post:n,isBadgePill:!0,dictionary:r,user:t}),n.files.length>0&&f.a.createElement(I,{className:"mr-2",icon:"paperclip"}),f.a.createElement(I,{className:"mr-2",onClick:function(){i||re||(ie(!0),a.starPost(n,(function(){p.current&&ie(!1)})),p.current&&H(!Q))},icon:"star",fill:Q?"#ffc107":"none",stroke:Q?"#ffc107":"currentcolor"}),!i&&!o()&&f.a.createElement(I,{className:"mr-2",onClick:function(){ee||(ne(!0),a.archivePost(n,(function(){p.current&&ne(!1)})))},icon:"archive"}),f.a.createElement("div",{className:"time-stamp"},f.a.createElement(T,{arrowSize:5,distance:10,onToggle:j,content:"".concat(J(n.created_at.timestamp))},f.a.createElement("span",{className:"text-muted"},V(n.created_at.timestamp))))))),n.files.length>0&&f.a.createElement(k.p,{files:n.files}),f.a.createElement("div",{className:"d-flex align-items-center"},f.a.createElement("div",{className:"w-100 post-body-content",ref:l.body,dangerouslySetInnerHTML:{__html:b.a.parseEmoji(n.body)}})),(se||le)&&f.a.createElement(k.c,{postBody:!0,approving:z,fromNow:V,usersApproval:n.users_approval,user:t,post:n,isMultipleApprovers:le}))})),F=t(619);function M(){var e=Object(p.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return M=function(){return e},e}var B,U,Q,H,G,W,z,Y,V,J,K,q,Z,X,$,ee,ne,te,ae,re,ie,oe,ce,se,le,de,me,pe,ue=h.a.div(M()),fe=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.comments,r=e.post,i=e.user,o=e.commentActions,c=e.onShowFileDialog,s=e.dropAction,l=e.workspace,d=e.isMember,m=void 0===d||d,p=e.dictionary,u=e.disableOptions,h=void 0!==u&&u,A=e.postActions;return f.a.createElement(ue,{className:"post-comments card-body ".concat(t)},a&&f.a.createElement("ul",null,Object.values(a).map((function(e){return f.a.createElement(F.a,{key:e.id,comment:e,post:r,user:i,commentActions:o,onShowFileDialog:c,dropAction:s,workspace:l,isMember:m,dictionary:p,disableOptions:h,isCompanyPost:!0,postActions:A})}))))})),he=t(7),Ae=t(14),Ee=t(16),be=t(617),ge=t(138),ve=h.a.div(B||(B=Object(p.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]))),Oe=h.a.div(U||(U=Object(p.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]))),_e=Object(h.a)(ge.c)(Q||(Q=Object(p.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 28px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]))),we=Object(h.a)(A.h)(H||(H=Object(p.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]))),ke=Object(h.a)(A.s)(G||(G=Object(p.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]))),Ce=h.a.div(W||(W=Object(p.a)(["\n  cursor: pointer;\n"]))),ye=h.a.div(z||(z=Object(p.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),xe=function(e){var n=e.post,a=e.posts,r=e.filter,i=e.postActions,o=e.user,c=e.onGoBack,s=e.dictionary,l=i.markAsRead,p=i.markAsUnread,h=i.sharePost,b=i.followPost,g=i.remind,v=i.close,_=Object(O.c)(),w=Object(E.d)(),C=Object(O.d)((function(e){return e.users.users})),y=Object(u.useState)(!1),x=Object(m.a)(y,2),N=x[0],j=x[1],T=Object(E.g)(n).comments,I=Object(he.a)(new Set(n.view_user_ids)),S=Object.values(C).filter((function(e){return I.some((function(n){return n===e.id}))})),R=Object.values(C).filter((function(e){return n.clap_user_ids.some((function(n){return n===e.id}))})),P={dropZoneRef:Object(u.useRef)(null)},D=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_(Object(Ee.Qb)(e)),i.setCommentType(n),P.dropZoneRef.current&&P.dropZoneRef.current.open()},M=function(){j(!1)},B=function(e){var a=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var r=t(109).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?a.push(Object(d.a)(Object(d.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):"video/mp4"===e.type?a.push(Object(d.a)(Object(d.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):a.push(Object(d.a)(Object(d.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:n,name:e.name?e.name:e.path}))})),M();var r={type:"file_upload",droppedFiles:a,mode:"post",post:n};_(Object(Ae.a)(r))},U=n.users_responsible.some((function(e){return e.id===o.id})),Q=function(){var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id}));return!!(n.is_must_read&&n.author.id!==o.id&&n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read})))||(!!(n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply})))||!!e)};return Object(u.useEffect)((function(){return n.view_user_ids.some((function(e){return e===o.id}))||Q()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(Q()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadNotificationEntries({add_unread_comment:1}),function(){return i.getUnreadNotificationEntries({add_unread_comment:1})}}),[]),Object(u.useEffect)((function(){return n.view_user_ids.some((function(e){return e===o.id}))||Q()||i.visit({post_id:n.id,personalized_for_id:null}),(1===n.is_unread||n.unread_count>0)&&(Q()||i.markAsRead(n)),"undefined"===typeof n.fetchedReact&&i.fetchPostClapHover(n.id),i.getUnreadNotificationEntries({add_unread_comment:1}),function(){return i.getUnreadNotificationEntries({add_unread_comment:1})}}),[n.id]),f.a.createElement(f.a.Fragment,null,null!==n.todo_reminder&&f.a.createElement(A.p,{todoReminder:n.todo_reminder,type:"POST"}),f.a.createElement(ve,{className:"card-header d-flex justify-content-between"},f.a.createElement("div",{className:"d-flex flex-column align-items-start"},f.a.createElement("div",{className:"d-flex"},f.a.createElement("div",{className:"align-self-start"},f.a.createElement(ke,{className:"close mr-2",icon:"arrow-left",onClick:function(){c()}})),f.a.createElement("div",null,f.a.createElement("h5",{ref:P.title,className:"post-title mb-0"},f.a.createElement("span",null,n.author.id!==o.id&&!n.is_followed&&f.a.createElement(ke,{icon:"eye-off"}),n.title))))),f.a.createElement("div",null,n.author.id===o.id&&f.a.createElement("ul",null,f.a.createElement("li",null,f.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},f.a.createElement("a",{onClick:function(){return i.showModal("edit_company",n)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},f.a.createElement(ke,{icon:"edit-3"})))),f.a.createElement("li",null,f.a.createElement("a",{onClick:function(){return i.trash(n)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},f.a.createElement(ke,{icon:"trash"})))),f.a.createElement("div",null,f.a.createElement(_e,{className:"ml-2",item:n,width:220,moreButton:"more-horizontal"},null===n.todo_reminder&&f.a.createElement("div",{onClick:function(){return g(n)}},s.remindMeAboutThis),0===n.is_unread?f.a.createElement("div",{onClick:function(){return p(n,!0)}},s.markAsUnread):Q()?null:f.a.createElement("div",{onClick:function(){return l(n,!0)}},s.markAsRead),f.a.createElement("div",{onClick:function(){return h(n)}},s.share),n.author.id!==o.id&&f.a.createElement("div",{onClick:function(){return b(n)}},n.is_followed?s.unFollow:s.follow),(n.author&&n.author.id===o.id||"external"===n.author.type&&"internal"===o.type)&&f.a.createElement("div",{onClick:function(){return v(n)}},n.is_close?s.openThisPost:s.closeThisPost))))),f.a.createElement(Oe,{onDragOver:function(){j(!0)}},f.a.createElement(be.a,{hide:!N,ref:P.dropZoneRef,onDragLeave:M,onDrop:function(e){var n=e.acceptedFiles;B(n)},onCancel:M}),f.a.createElement(L,{post:n,user:o,postActions:i,isAuthor:n.author.id===o.id,dictionary:s,disableMarkAsRead:Q}),n.must_read_users&&n.must_read_users.some((function(e){return e.id===o.id&&!e.must_read}))&&f.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},f.a.createElement(Ce,{className:"d-sm-inline d-none"},f.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){i.markReadRequirement(n);var e=n.users_approval.length>0&&n.users_approval.some((function(e){return null===e.ip_address&&e.id===o.id})),t=!0;n.is_must_reply&&n.author.id!==o.id&&n.must_reply_users&&n.must_reply_users.some((function(e){return e.id===o.id&&!e.must_reply}))&&(t=!1),t&&!e&&i.markAsRead(n)}},s.markAsRead))),n.user_unfollow.length>0&&f.a.createElement(k.o,{user_unfollow:n.user_unfollow}),f.a.createElement("hr",{className:"m-0"}),f.a.createElement(F.c,{dictionary:s,likers:R,post:n,viewerIds:I,viewers:S,handleReaction:function(){var e={post_id:n.id,id:null,clap:0===n.user_clap_count?1:0,personalized_for_id:null};i.clap(e,(function(n,t){n&&(1===e.clap?i.unlike(e):i.like(e))})),0===n.user_clap_count?i.like(e):i.unlike(e)}}),n.files.length>0&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"card-body"},f.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},s.files),f.a.createElement(we,{attachedFiles:n.files,type:"post",post:n})),f.a.createElement("hr",{className:"m-0"})),n.files_trashed&&n.files_trashed.length>0&&f.a.createElement(f.a.Fragment,null,f.a.createElement(ye,{className:"card-body"},f.a.createElement("h6",{className:"font-size-11 text-uppercase"},s.files),f.a.createElement("span",{className:"text-muted"},s.filesAutomaticallyRemoved),f.a.createElement(we,{attachedFiles:n.files_trashed,type:"post",post:n})),f.a.createElement("hr",{className:"m-0"})),T&&Object.keys(T).length>0&&f.a.createElement(f.a.Fragment,null,f.a.createElement(fe,{comments:T,post:n,user:o,commentActions:w,onShowFileDialog:D,dropAction:B,dictionary:s,postActions:i}),f.a.createElement("hr",{className:"m-0"})),f.a.createElement(Qe,{isMember:U,post:n,posts:a,filter:r,commentActions:w,postActions:i,onShowFileDialog:D,dropAction:B,mainInput:!0})))},Ne=t(31),je=t(654),Te=Object(u.lazy)((function(){return Promise.all([t.e(6),t.e(5)]).then(t.bind(null,752))})),Ie=h.a.div(Y||(Y=Object(p.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),Se=h.a.div(V||(V=Object(p.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),Re=Object(h.a)(A.s)(J||(J=Object(p.a)([""]))),Pe=h.a.div(K||(K=Object(p.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),De=h.a.div(q||(q=Object(p.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),Le=h.a.div(Z||(Z=Object(p.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),Fe=Object(h.a)(A.f)(X||(X=Object(p.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Me=h.a.div($||($=Object(p.a)(["\n  padding: 5px 45px;\n"]))),Be=h.a.div(ee||(ee=Object(p.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),Ue=h.a.span(ne||(ne=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 30px;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),Qe=f.a.memo((function(e){var n=e.className,a=void 0===n?"":n,r=e.onShowFileDialog,i=e.dropAction,o=e.post,c=e.posts,s=e.filter,l=e.parentId,p=void 0===l?null:l,h=e.commentActions,b=e.userMention,g=void 0===b?null:b,w=e.handleClearUserMention,k=void 0===w?null:w,C=e.commentId,y=void 0===C?null:C,x=e.innerRef,N=void 0===x?null:x,j=e.mainInput,T=o.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),I=Object(E.F)(),S=Object(_.g)(),R={picker:Object(u.useRef)(),postInput:Object(u.useRef)(null)},P=Object(O.d)((function(e){return e.session.user})),D=Object(O.d)((function(e){return e.users.users})),L=Object(O.d)((function(e){return e.posts.editPostComment})),M=Object(O.d)((function(e){return e.posts.changeRequestedComment})),B=Object(u.useRef)(),U=Object(u.useState)(!1),Q=Object(m.a)(U,2),H=Q[0],G=Q[1],W=Object(u.useState)(null),z=Object(m.a)(W,2),Y=z[0],V=z[1],J=Object(u.useState)(null),K=Object(m.a)(J,2),q=K[0],Z=K[1],X=Object(u.useState)(!1),$=Object(m.a)(X,2),ee=$[0],ne=$[1],te=Object(u.useState)(!1),ae=Object(m.a)(te,2),re=(ae[0],ae[1]),ie=Object(u.useState)("default"),oe=Object(m.a)(ie,2),ce=oe[0],se=oe[1],le=Object(u.useState)(null),de=Object(m.a)(le,2),me=de[0],pe=de[1],ue=Object(u.useState)("#cacaca"),fe=Object(m.a)(ue,2),Ae=fe[0],Ee=fe[1],be=Object(u.useState)(!1),ge=Object(m.a)(be,2),ve=ge[0],Oe=ge[1],_e=Object(u.useState)([]),we=Object(m.a)(_e,2),ke=we[0],Ce=we[1],ye=Object(u.useState)({approve:!1,change:!1}),xe=Object(m.a)(ye,2),Qe=xe[0],He=xe[1],Ge=Object(u.useState)(!(!T||!o.shared_with_client||"internal"!==P.type)),We=Object(m.a)(Ge,2),ze=We[0],Ye=We[1],Ve=Object(u.useState)(o.shared_with_client?null:"internal"),Je=Object(m.a)(Ve,2),Ke=Je[0],qe=Je[1],Ze=Object(u.useState)(null),Xe=Object(m.a)(Ze,2),$e=Xe[0],en=Xe[1],nn=function(){ze||G(!H)},tn=Object(E.ab)()._t,an={noReplyAllowed:tn("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:tn("TOOLTIP.ATTACH_FILES","Attach files"),lockedLabel:tn("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:tn("POST.REQUEST_CHANGE","Request for change"),accept:tn("POST.ACCEPT","Accept"),requestApprovalFrom:tn("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:tn("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:tn("POST.ADDRESSED_TO","Addressed to"),selectApprover:tn("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:tn("TOOLTIP.EMOJI","Emoji"),images:tn("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:tn("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:tn("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:tn("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:tn("POST.REOPEN","Reopen"),agree:tn("POST.AGREE","Agree"),disagree:tn("POST.DISAGREE","Disagree"),overview:tn("POST.OVERVIEW","Overview"),archivePostOpenNext:tn("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next"),send:tn("TOOLTIP.SEND","Send"),closeEdit:tn("TOOLTIP.CLOSE_EDIT","Close edit")},rn=o.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),on=[].concat(Object(he.a)(Object.values(D).filter((function(e){return rn.some((function(n){return n===e.id}))&&e.id!==P.id})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:t(109).generate(),value:"all",label:"All users",icon:"users",all_ids:rn.filter((function(e){return D[e]&&D[e].active&&e!==P.id}))}]);ke.length&&ke.find((function(e){return"all"===e.value}))&&(on=on.filter((function(e){return"all"===e.value})));Object(u.useEffect)((function(){if(L){var e=L.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;L.users_approval.length>0&&(Oe(!0),Ce(L.users_approval.map((function(n){return Object(d.a)(Object(d.a)({},n),{},{icon:"user-avatar",value:n.id,label:n.name,type:"USER",ip_address:e?null:n.ip_address,is_approved:!e&&n.is_approved})})))),Ye(!1),L.shared_with_client?qe("external"):qe("internal")}}),[L]);var cn=function(){I.setCompanyFilterPosts({filter:"inbox",tag:null}),S.push("/posts")},sn=o.users_approval.length>0&&o.users_approval.filter((function(e){return null===e.ip_address})).length===o.users_approval.length,ln=o.users_approval.some((function(e){return e.id===P.id})),dn=o.users_approval.map((function(e){return e.name})),mn=o.users_approval.length>1,pn=o.users_approval.some((function(e){return e.id===P.id&&null!==e.ip_address}));Object(u.useEffect)((function(){M&&y&&y===M.id?(Oe(!0),Ce([Object(d.a)(Object(d.a)({},M.author),{},{icon:"user-avatar",value:M.author.id,label:M.author.name,type:"USER",ip_address:null,is_approved:null})])):(Oe(!1),Ce([]))}),[M]);var un=o.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),fn=o.recipients.find((function(e){return"USER"===e.type})),hn=o.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return f.a.createElement(Ie,{className:"company-post-detail-footer card-body ".concat(a)},f.a.createElement(Pe,{className:"d-flex pr-2 pl-2"},f.a.createElement(F.b,{commentActions:h,commentId:L&&o&&L.post_id===o.id&&L.quote?L.quote.id:y,editPostComment:L,mainInput:j})),f.a.createElement(Pe,{className:"d-flex alig-items-center"},un&&fn&&f.a.createElement("div",{className:"locked-label mb-2"},an.sharedWithAdditionalPeople),un&&hn&&f.a.createElement("div",{className:"locked-label mb-2"},an.sharedWithPublicWs),ve&&f.a.createElement(Be,null,Qe.change&&ln&&f.a.createElement("label",null,an.requestChangeTo),!ln&&f.a.createElement("label",null,an.addressedTo),f.a.createElement(Ne.d,{options:on,value:ke,onChange:function(n){null!==n&&n.length||(M&&h.clearApprovingStatus(M.id),e.handleCancelChange&&e.handleCancelChange(),Qe.change&&(He(Object(d.a)(Object(d.a)({},Qe),{},{change:!1})),Oe(!1))),null===n?Ce([]):n.find((function(e){return"all"===e.value}))?Ce(n.filter((function(e){return"all"===e.value}))):Ce(n)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),sn&&!ln&&f.a.createElement(De,{className:"d-flex align-items-center mb-2"},f.a.createElement("div",{className:"alert alert-primary request-approval"},an.requestApprovalFrom," ",dn.join(", "))),o.is_close&&j&&f.a.createElement(Le,{className:"d-flex align-items-center"},f.a.createElement("div",{className:"alert alert-warning"},f.a.createElement("span",null,an.creatorClosedPost),(o.author.id===P.id||"external"===o.author.type&&"internal"===P.type)&&f.a.createElement("span",{onClick:function(){I.close(o)}},an.reopen))),o.is_read_only&&j&&f.a.createElement(Pe,{className:"d-flex align-items-end"},f.a.createElement(De,{className:"d-flex align-items-center"},f.a.createElement("div",{className:"alert alert-warning"},an.noReplyAllowed))),!o.is_close&&!o.is_read_only&&f.a.createElement(Pe,{className:"d-flex align-items-end",backgroundSend:me,cursor:ce,fillSend:Ae},f.a.createElement(Se,{ref:N,className:"flex-grow-1 chat-input-footer",disableButtons:ze},f.a.createElement(Ne.b,{handleClearSent:function(){ne(!1)},sent:ee,commentId:y,userMention:g,handleClearUserMention:k,commentActions:h,parentId:p,post:o,selectedGif:q,onClearGif:function(){Z(null)},selectedEmoji:Y,onClearEmoji:function(){V(null)},dropAction:i,members:o.users_responsible,onActive:function(e){var n;re(e),pe((n=e&&!$e?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),se(n[1]),Ee(n[2])},onClosePicker:function(){G(!1)},ref:R.postInput,prioMentionIds:rn,approvers:ve?ke:[],onClearApprovers:function(){Oe(!1),Ce([])},onSubmitCallback:function(e,n){if(!e){if(o.must_reply_users&&o.must_reply_users.some((function(e){return e.id===P.id&&!e.must_reply}))){I.markReplyRequirement(o);var t=!0;o.is_must_read&&o.author.id!==P.id&&o.must_read_users&&o.must_read_users.some((function(e){return e.id===P.id&&!e.must_read}))&&(t=!1);var a=o.users_approval.length>0&&o.users_approval.some((function(e){return null===e.ip_address&&e.id===P.id}));t&&!a&&I.markAsRead(o)}1===o.users_approval.length&&sn&&ln&&ve&&I.approve({post_id:o.id,approved:0},(function(e,n){He(Object(d.a)(Object(d.a)({},Qe),{},{change:!1}))})),M&&h.approve({post_id:o.id,approved:0,comment_id:M.id,transfer_comment_id:n.data.id})}},isApprover:Qe.change&&sn,mainInput:j,readOnly:ze,onToggleCommentType:function(e){Ye(!e),qe(e)},commentType:Ke,imageLoading:$e,setImageLoading:en}),f.a.createElement(je.a,{parentId:p,handleQuillImage:function(){if(R.postInput&&!ze){var e=R.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:nn,onShowFileDialog:r,showApprover:ve,toggleApprover:function(){ze||Oe((function(e){return!e}))},editPostComment:L,mainInput:j,disableButtons:ze,commentType:Ke,dictionary:an})),f.a.createElement(v.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:an.send},f.a.createElement(Re,{onClick:function(){ze||ne(!0)},icon:"send"})),!0===H&&f.a.createElement(Fe,{handleShowEmojiPicker:nn,onSelectEmoji:function(e){V(e)},onSelectGif:function(e){Z(e)},orientation:"top",ref:R.picker})),L&&L.files.length>0&&f.a.createElement(Me,null,L.files.map((function(e){return e.name})).join(", ")),(sn&&ln&&!Qe.change||mn&&ln&&!pn)&&f.a.createElement(Pe,null,f.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},f.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===o.users_approval.length?(He(Object(d.a)(Object(d.a)({},Qe),{},{change:!0})),Oe(!0),Ce([Object(d.a)(Object(d.a)({},o.author),{},{icon:"user-avatar",value:o.author.id,label:o.author.name,type:"USER",ip_address:null,is_approved:null})])):(He(Object(d.a)(Object(d.a)({},Qe),{},{change:!0})),I.approve({post_id:o.id,approved:0},(function(e,n){if(He(Object(d.a)(Object(d.a)({},Qe),{},{change:!1})),!e){var t=1===o.users_approval.filter((function(e){return null===e.ip_address})).length,a=o.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===o.users_approval.length-1;t&&a&&I.generateSystemMessage(o,[],o.users_approval.map((function(e){return e.id})))}})))}},an.disagree," ",Qe.change&&f.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),f.a.createElement(u.Suspense,{fallback:f.a.createElement(f.a.Fragment,null)},f.a.createElement(Te,{ref:B,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},f.a.createElement("button",{className:"btn btn-primary",onClick:function(){I.showModal("confirmation",o,null,B)}},an.agree," ",Qe.approve&&f.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})))))),s&&"inbox"===s&&o&&0===o.is_archived&&f.a.createElement(Pe,null,f.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},f.a.createElement(Ue,{onClick:cn},f.a.createElement(A.s,{className:"mr-2",icon:"corner-up-left"})," ",an.overview),f.a.createElement(Ue,{onClick:function(){I.archivePost(o,(function(){var e=c.find((function(e){return 1!==e.is_archived&&1===e.is_unread}));e?I.openPost(e,"/posts"):cn()}))}},an.archivePostOpenNext," ",f.a.createElement(A.s,{className:"ml-2",icon:"corner-up-right"})))))})),He=h.a.div(te||(te=Object(p.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']))),Ge=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.filter,r=void 0===a?"inbox":a,i=e.onGoBack,o=e.counters,c=e.dictionary,s=Object(E.F)(),l=s.setCompanyFilterPosts,d=s.fetchCompanyPosts,p=Object(O.d)((function(e){return e.global.unreadCounter})),h=Object(O.d)((function(e){return e.posts.archived})),b=Object(u.useState)(!1),g=Object(m.a)(b,2),v=g[0],_=g[1],w=function(e){if(e.persist(),"archive"!==e.target.dataset.value||0!==h.skip||v||(_(!0),d({skip:0,limit:25,filters:["post","archived"]},(function(){return _(!1)}))),e.target.dataset.value===r)i();else{var n={filter:e.target.dataset.value,tag:null};l(n),i()}document.body.classList.remove("mobile-modal-open")};return f.a.createElement(He,{className:"post-filter-item list-group list-group-flush ".concat(t)},f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"inbox"===r?"active":""),"data-value":"inbox",onClick:w},f.a.createElement(A.s,{className:"mr-2",icon:"inbox"}),c.inbox,p.general_post>0&&f.a.createElement("span",{className:"small ml-auto"},p.general_post)),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"in_progress"===r?"active":""),"data-value":"in_progress",onClick:w},f.a.createElement(A.s,{className:"mr-2",icon:"clock"}),c.inProgress),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"my_posts"===r?"active":""),"data-value":"my_posts",onClick:w},f.a.createElement(A.s,{className:"mr-2",icon:"send-post"}),c.myPosts),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"star"===r?"active":""),"data-value":"star",onClick:w},f.a.createElement(A.s,{className:"mr-2",icon:"star"}),c.starred),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"archive"===r?"active":""),"data-value":"archive",onClick:w},f.a.createElement(A.s,{className:"mr-2",icon:"archive"}),c.archived),f.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(r&&"draft"===r?"active":""),"data-value":"draft",onClick:w},f.a.createElement(A.s,{className:"mr-2",icon:"edit-3"}),c.drafts,f.a.createElement("span",{className:"small ml-auto"},o.drafts>0&&o.drafts)))})),We=h.a.div(ae||(ae=Object(p.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 0;\n      margin-top: 1rem;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]))),ze=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.search,r=e.dictionary;return f.a.createElement(We,{className:"post-filter-search-panel app-action ".concat(t)},f.a.createElement("div",{className:"action-left"},f.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},f.a.createElement(A.s,{icon:"menu"}))),f.a.createElement("div",{className:"action-right"},f.a.createElement(rn,{search:a,placeholder:r.searchPost})))})),Ye=h.a.div(re||(re=Object(p.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),Ve=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.tag,r=e.count,i=e.onGoBack,o=e.dictionary,c=Object(E.F)().setCompanyFilterPosts,s=function(e){e.persist();var n={tag:e.target.dataset.value,filter:null};a===e.target.dataset.value&&(n=Object(d.a)(Object(d.a)({},n),{},{tag:null,filter:"all"})),c(n),i(),document.body.classList.remove("mobile-modal-open")};return f.a.createElement(Ye,{className:"list-group list-group-flush ".concat(t)},f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_must_reply"===a?"active":""),"data-value":"is_must_reply",onClick:s},f.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),o.replyRequired,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_must_reply>0&&r.is_must_reply)),f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_must_read"===a?"active":""),"data-value":"is_must_read",onClick:s},f.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),o.mustRead,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_must_read>0&&r.is_must_read)),f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_read_only"===a?"active":""),"data-value":"is_read_only",onClick:s},f.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),o.noReplies,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_read_only>0&&r.is_read_only)),f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(a&&"is_close"===a?"active":""),"data-value":"is_close",onClick:s},f.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),o.closed,f.a.createElement("span",{className:"small ml-auto"},r&&r.is_close>0&&r.is_close)))})),Je=h.a.li(ie||(ie=Object(p.a)(["\n  flex-flow: column;\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    //padding-left: 2.5rem;\n    overflow: inherit;\n    //width: calc(100% - ","px);\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n    box-shadow: 0 1px 10px 0 rgb(0 0 0 / 10%), 0 2px 15px 0 rgb(0 0 0 / 5%);\n    z-index: 2;\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 100%;\n      height: 100%;\n    }\n    @media (max-width: 991.99px) {\n    img {\n      width: 2rem;\n      height: 2rem;\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"])),(function(e){return e.appListWidthDiff})),Ke=Object(h.a)(A.s)(oe||(oe=Object(p.a)(["\n  width: 16px;\n"]))),qe=h.a.div(ce||(ce=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]))),Ze=h.a.div(se||(se=Object(p.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]))),Xe=Object(h.a)(Ne.k)(le||(le=Object(p.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  margin-left: -5px;\n  :hover {\n    background: #f1f2f7;\n    cursor: ",";\n    .dark & {\n      background: #25282c;\n    }\n  }\n"])),(function(e){return e.disabled?"not-allowed":"pointer"})),$e=h.a.div(de||(de=Object(p.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),en=h.a.div(me||(me=Object(p.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),nn=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternalUser,r=e.post,i=e.dictionary,o=e.disableOptions,c=e.toggleCheckbox,s=e.checked,l=e.postActions,d=l.starPost,p=l.openPost,h=l.archivePost,b=l.markAsRead,g=l.markAsUnread,v=l.sharePost,_=l.followPost,w=l.remind,C=l.showModal,y=l.close,x=l.disconnectPostList,N=Object(O.d)((function(e){return e.session.user})),j=Object(O.d)((function(e){return e.workspaces.flipper})),T=Object(E.U)().fromNow,I=Object(u.useState)(0),S=Object(m.a)(I,2),R=S[0],P=S[1],D=Object(u.useState)(!1),L=Object(m.a)(D,2),F=L[0],M=L[1],B=Object(u.useRef)(!0);Object(u.useEffect)((function(){return function(){B.current=!1}}),[]);var U=function(){var e=r.users_approval.length>0&&r.users_approval.some((function(e){return null===e.ip_address&&e.id===N.id}));if(r.is_must_read&&r.author.id!==N.id){if(r.must_read_users&&r.must_read_users.some((function(e){return e.id===N.id&&!e.must_read})))return!0}else{if(!r.is_must_reply||r.author.id===N.id)return!!e;if(r.must_reply_users&&r.must_reply_users.some((function(e){return e.id===N.id&&!e.must_reply})))return!0}},Q=1===r.is_unread;return f.a.createElement(Je,{"data-toggle":j?"1":"0",appListWidthDiff:R+50,className:"list-group-item post-item-panel ".concat(Q?"has-unread":""," ").concat(t," pl-3"),onClick:function(){return p(r,"/posts")}},f.a.createElement(k.l,{post:r,user:N,dictionary:i,isExternalUser:a,classNames:"text-truncate"}),f.a.createElement($e,null,f.a.createElement(Xe,{name:"test",checked:s,onClick:function(){return c(r.id)},disabled:U()}),f.a.createElement(Ze,{className:"d-flex ml-2 mr-2"},f.a.createElement(A.a,{title:"FROM: ".concat(r.author.name),className:"author-avatar mr-2",id:r.author.id,name:r.author.name,imageLink:r.author.profile_image_thumbnail_link?r.author.profile_image_thumbnail_link:r.author.profile_image_link})),f.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},f.a.createElement("div",{className:"app-list-title text-truncate ".concat(Q?"has-unread":"")},f.a.createElement("div",{className:"text-truncate d-flex"},f.a.createElement("span",{className:"text-truncate"},r.author.id!==N.id&&!r.is_followed&&f.a.createElement(Ke,{icon:"eye-off"}),f.a.createElement("a",{href:r.redirect_link,target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault()}},r.title)),f.a.createElement(en,{className:"hover-btns ml-1"},"draft_post"!==r.type&&!o&&r.author.id===N.id&&f.a.createElement(Ke,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),C("edit",r)}}),!o&&!U()&&f.a.createElement(Ke,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),F||(M(!0),h(r,(function(){B.current&&M(!1)})))}}))),f.a.createElement(qe,null,0!==r.unread_count&&f.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},r.unread_count," new"),f.a.createElement("div",{className:"text-muted"},0===r.reply_count?i.noComment:1===r.reply_count?i.oneComment:i.comments.replace("::comment_count::",r.reply_count)),f.a.createElement("span",{className:"time-stamp text-muted"},f.a.createElement("span",null,T(r.updated_at.timestamp)))))),f.a.createElement(k.a,{post:r,dictionary:i,user:N,cbGetWidth:P}),f.a.createElement("div",{className:"d-flex"},"draft_post"!==r.type&&!o&&f.a.createElement(ge.c,{className:"d-flex ml-2",item:r,width:220,moreButton:"more-horizontal"},null===r.todo_reminder&&f.a.createElement("div",{onClick:function(){return w(r)}},i.remindMeAboutThis),r.author&&r.author.id===N.id&&f.a.createElement("div",{onClick:function(){return C("edit_company",r)}},i.editPost),0===r.is_unread?f.a.createElement("div",{onClick:function(){return g(r,!0)}},i.markAsUnread):U()?null:f.a.createElement("div",{onClick:function(){return b(r,!0)}},i.markAsRead),f.a.createElement("div",{onClick:function(){return v(r)}},i.share),r.author&&r.author.id!==N.id&&f.a.createElement("div",{onClick:function(){return _(r)}},r.is_followed?i.unFollow:i.follow),f.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o||d(r)}},r.is_favourite?i.unStar:i.star),(r.author&&r.author.id===N.id||"external"===r.author.type&&"internal"===N.type)&&f.a.createElement("div",{onClick:function(){return y(r)}},r.is_close?i.openThisPost:i.closeThisPost),r.post_list_connect&&f.a.createElement("div",{onClick:function(){return function(){if(1!==r.post_list_connect.length)C("add_to_list",r);else{var e={link_id:r.post_list_connect[0].id,post_id:r.id};x(e)}}()}},1===r.post_list_connect.length?i.removeToList:i.addToList)))))})),tn=t(89),an=h.a.div(pe||(pe=Object(p.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),rn=f.a.memo((function(e){var n=e.search,t=e.placeholder,a=Object(O.c)(),r=Object(u.useState)(n),i=Object(m.a)(r,2),o=i[0],c=i[1],s=Object(tn.debounce)((function(e){a(Object(Ee.d)({search:e,search_result:[]})),""!==e&&a(Object(Ee.Nb)({search:e},(function(n,t){n||a(Object(Ee.d)({search:e,search_result:t.data.posts}))})))}),500);return f.a.createElement(an,{className:"input-group"},f.a.createElement("input",{type:"text",className:"form-control",placeholder:t,value:o,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&s(o)},onChange:function(e){c(e.target.value),s(e.target.value.trim())}}),""!==n.trim()&&f.a.createElement("button",{onClick:function(){c(""),a(Object(Ee.d)({search:"",search_result:[]}))},className:"btn-cross",type:"button"},f.a.createElement(A.s,{icon:"x"})),f.a.createElement("div",{className:"input-group-append"},f.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:s},f.a.createElement("i",{className:"ti-search"}))))}));function on(){var e=Object(p.a)([""]);return on=function(){return e},e}function cn(){var e=Object(p.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]);return cn=function(){return e},e}function sn(){var e=Object(p.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return sn=function(){return e},e}var ln,dn,mn=h.a.div(sn()),pn=Object(h.a)(A.s)(cn()),un=h.a.div(on()),fn=f.a.memo((function(e){var n=e.workspace,t=e.filter,a=e.tag,r=e.postListTag,i=e.count,o=e.postLists,c=e.counters,s=e.postActions,l=e.onGoBack,d=e.dictionary,m=e.disableOptions;return f.a.createElement(mn,{className:"col-md-3 app-sidebar bottom-modal-mobile"},f.a.createElement(un,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),f.a.createElement("div",{className:"bottom-modal-mobile_inner"},f.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},f.a.createElement("div",{className:"card-body create-new-post-wrapper"},f.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){s.showModal("create_company")},disabled:m},d.createNewPost)),f.a.createElement(Ge,{filter:t,tag:a,onGoBack:l,counters:c,dictionary:d}),f.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},f.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},d.category,f.a.createElement("span",{className:"ml-auto",onClick:function(){s.showModal("create_edit_post_list")},disabled:m},f.a.createElement(pn,{className:"mr-0",icon:"plus"})))),f.a.createElement(Ve,{count:i,workspace:n,tag:a,onGoBack:l,dictionary:d}),f.a.createElement(En,{postLists:o,tag:a,postListTag:r,onGoBack:l,dictionary:d,postActions:s}))))})),hn=h.a.div(ln||(ln=Object(p.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),An=Object(h.a)(A.s)(dn||(dn=Object(p.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),En=f.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.postLists,r=e.tag,i=e.postListTag,o=e.onGoBack,c=Object(u.useState)(null),s=Object(m.a)(c,2),l=s[0],p=s[1],h=Object(E.F)(),A=h.setCompanyFilterPosts,b=h.showModal;return f.a.createElement(hn,{className:"post-filter-item list-group list-group-flush ".concat(t)},a&&a.map((function(e){return f.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&parseInt(i)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){var n={tag:null,postListTag:e.target.dataset.id,filter:null};r===e.target.dataset.id&&(n=Object(d.a)(Object(d.a)({},n),{},{tag:null,filter:"all"})),A(n),o(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(n){p(e.id)},onMouseLeave:function(e){return p(null)}},f.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,l&&l===e.id&&f.a.createElement("span",{className:"small ml-auto",onClick:function(n){return function(e,n){e.stopPropagation(),b("edit_post_list",n)}(n,e)}},f.a.createElement(An,{className:"mr-0 small",icon:"edit-3"}))||f.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))}));function bn(){var e=Object(p.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return bn=function(){return e},e}var gn,vn,On,_n,wn,kn=h.a.div(bn()),Cn=function(e){var n=e.actions,t=e.dictionary;return f.a.createElement("div",{className:"card card-body app-content-body"},f.a.createElement(kn,null,f.a.createElement(A.q,{icon:3,height:252}),f.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){n.showModal("create_company")}},t.createNewPost)))},yn=h.a.div(gn||(gn=Object(p.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),xn=h.a.div(vn||(vn=Object(p.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]))),Nn=h.a.div(On||(On=Object(p.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),jn=h.a.li(_n||(_n=Object(p.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),Tn=h.a.li(wn||(wn=Object(p.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"])),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),In=function(e){var n=e.actions,t=e.dictionary,a=e.filter,r=e.isExternalUser,i=e.loading,o=e.posts,c=e.search,s=e.user,l=o.filter((function(e){return 0===e.is_unread})),p=o.filter((function(e){return 1!==e.is_archived&&1===e.is_unread})),h=Object(u.useState)({showUnread:p.length>0,showRead:0===p.length}),E=Object(m.a)(h,2),b=E[0],g=E[1],v=Object(u.useState)([]),O=Object(m.a)(v,2),_=O[0],w=O[1],C=Object(u.useState)(!1),y=Object(m.a)(C,2),x=y[0],N=y[1],j=function(e){var n=!_.some((function(n){return n===e}))?[].concat(Object(he.a)(_),[e]):_.filter((function(n){return n!==e}));w(n)};Object(u.useEffect)((function(){w([])}),[a]);return f.a.createElement(f.a.Fragment,null,f.a.createElement(k.r,{checked:x,showButtons:_.length>0,onToggleCheckbox:function(){if(x)N(!1),w([]);else{var e=Object.values(o).filter((function(e){var n=e.users_approval.length>0&&e.users_approval.some((function(e){return null===e.ip_address&&e.id===s.id}));return!(e.is_must_read&&e.must_read_users&&e.must_read_users.some((function(e){return e.id===s.id&&!e.must_read})))&&(!(e.is_must_reply&&e.must_reply_users&&e.must_reply_users.some((function(e){return e.id===s.id&&!e.must_reply})))&&!n)})).map((function(e){return e.id}));w(e),N(!0)}},onMarkAll:function(){n.readAll({selected_post_ids:_}),w([]),n.getUnreadNotificationEntries({add_unread_comment:1})},onArchiveAll:function(){n.archiveAll({selected_post_ids:_}),w([])}}),"draft"===a&&f.a.createElement(yn,null,f.a.createElement("button",{className:"btn all-action-button",onClick:function(){w(o.map((function(e){return e.id})))}},t.selectAll),f.a.createElement("button",{className:"btn all-action-button",onClick:function(){_.length&&_.forEach((function(e){var t=o.find((function(n){return n.id===e}));t&&n.archivePost(t)}))}},t.remove)),f.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},f.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":i},""!==c&&f.a.createElement(f.a.Fragment,null,0===o.length?f.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchNoResult," ",c):1===o.length?f.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResult," ",c):f.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},t.searchResults," ",c)),"inbox"!==a&&f.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},f.a.createElement("div",null,o.map((function(e){return f.a.createElement(nn,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:j,checked:_.some((function(n){return n===e.id})),isExternalUser:r})})))),"inbox"===a&&""===c&&f.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},f.a.createElement("div",null,f.a.createElement(jn,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){g((function(e){return Object(d.a)(Object(d.a)({},e),{},{showRead:!b.showRead,showUnread:!b.showUnread})}))},showPosts:b.showUnread},f.a.createElement("span",{className:"badge badge-light"},f.a.createElement(A.s,{icon:b.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.unread))),p.length>0&&f.a.createElement(xn,{className:"unread-posts-container collapse ".concat(b.showUnread?"show":""," fadeIn"),id:"unread-posts-container",showPosts:b.showUnread},p.map((function(e){return f.a.createElement(nn,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:j,checked:_.some((function(n){return n===e.id})),isExternalUser:r})}))),f.a.createElement("div",null,f.a.createElement(Tn,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){g((function(e){return Object(d.a)(Object(d.a)({},e),{},{showRead:!b.showRead,showUnread:!b.showUnread})}))},showPosts:b.showRead},f.a.createElement("span",{className:"badge badge-light"},f.a.createElement(A.s,{icon:b.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),t.allOthers))),l.length>0&&f.a.createElement(Nn,{className:"read-posts-container collapse ".concat(b.showRead?"show":""," fadeIn"),showPosts:b.showRead},l.map((function(e){return f.a.createElement(nn,{key:e.id,post:e,postActions:n,dictionary:t,toggleCheckbox:j,checked:_.some((function(n){return n===e.id})),isExternalUser:r})})))))))}},678:function(e,n,t){"use strict";t.r(n);var a=t(9),r=t(1),i=t.n(r),o=t(10),c=t(12),s=t(11),l=t(0),d=t(5),m=t(37),p=t(20),u=t(19);function f(){var e=Object(a.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n"]);return f=function(){return e},e}var h=o.a.div(f()),A=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,o=e.scrollRef,s=Object(m.j)().params,f=Object(d.c)(),A=Object(c.U)().fromNow;return i.a.createElement(h,{className:"attach-file-timeline timeline-item ".concat(t)},i.a.createElement("div",null,i.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:o})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},i.a.createElement("span",null,i.a.createElement("span",{className:"font-weight-normal"},a.user.name)," ",i.a.createElement("span",{onClick:function(){f(Object(p.Ub)({workspace_id:s.workspaceId,file_id:a.id,files:[Object(l.a)(Object(l.a)({},a),{},{filename:a.name,file_id:a.id})]}))},className:"file-summary"},r.attachedFile)),i.a.createElement("span",{className:"text-muted font-weight-normal"},A(a.created_at.timestamp)))))}));function E(){var e=Object(a.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return E=function(){return e},e}var b=o.a.div(E()),g=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,o=e.scrollRef,s=Object(m.g)(),l=Object(m.j)().params,d=Object(c.U)().fromNow,p=function(e){e.preventDefault(),s.push("/workspace/posts/".concat(l.workspaceId,"/").concat(l.workspaceName,"/post/").concat(a.id,"/").concat(a.title))};return i.a.createElement(b,{className:"post-timeline timeline-item ".concat(t)},i.a.createElement("div",null,i.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:o})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"title"},a.user.name," ",i.a.createElement("span",{className:"post-title",onClick:p,title:a.title},r.sharedThePost,' "',a.title,'"')),i.a.createElement("span",{className:"text-muted font-weight-normal"},d(a.created_at.timestamp))),a.body.replace(/<\/?[^>]+(>|$)/g,"")&&i.a.createElement("span",{onClick:p},i.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},i.a.createElement(u.s,{icon:"arrow-right"}),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}))),a.files&&a.files.length>=1&&i.a.createElement(i.a.Fragment,null,r.fileAttachments,":",i.a.createElement(u.h,{attachedFiles:a.files,type:"timeline"}))))}));function v(){var e=Object(a.a)([""]);return v=function(){return e},e}var O=o.a.div(v()),_=(i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=Object(c.U)().fromNow;return i.a.createElement(O,{className:"timeline-item ".concat(t)},i.a.createElement("div",null,i.a.createElement(u.a,{name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",null,a.user.name," ",i.a.createElement("a",{href:"#"},"shared a post")),i.a.createElement("span",{className:"text-muted font-weight-normal"},r(a.created_at.timestamp))),i.a.createElement("a",{href:"#"},i.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},a.body))))})),t(7)),w=t(76),k=t.n(w);function C(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return C=function(){return e},e}function y(){var e=Object(a.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]);return y=function(){return e},e}var x=o.a.div(y()),N=Object(o.a)(k.a)(C()),j=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,o=e.scrollRef,s=Object(c.U)(),l=s.fromNow,m=s.localizeDate,p=Object(d.d)((function(e){return e.users.users})),f=Object(d.d)((function(e){return e.users.archivedUsers})),h=[].concat(Object(_.a)(Object.values(p)),Object(_.a)(f)),A=null,E=null;a.body.includes("CHANNEL_UPDATE")&&(A=JSON.parse(a.body.replace("CHANNEL_UPDATE::",""))),A&&A.author&&(E=A.author.name?A.author:h.find((function(e){return e.id===A.author})));var b=function(){if(""!==A.title)return"".concat(r.updatedWorkspaceTo," ").concat(A.title)};return null===A?null:i.a.createElement(x,{className:"member-timeline timeline-item ".concat(t)},i.a.createElement("div",null,null!==A?i.a.createElement(i.a.Fragment,null,E?i.a.createElement(u.a,{className:"mr-3",name:E.name,imageLink:E.profile_image_thumbnail_link?E.profile_image_thumbnail_link:E.profile_image_link,id:E.id,showSlider:!0,scrollRef:o}):i.a.createElement(u.a,{className:"mr-3",imageLink:null,isBot:!0})):i.a.createElement(u.a,{className:"mr-3",imageLink:null,isBot:!0})),i.a.createElement("div",null,null!==A?i.a.createElement(i.a.Fragment,null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"title"},E&&E.name," ",b()),i.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp))),A.added_members.length||A.removed_members.length?i.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},i.a.createElement("p",{className:"action-text"},A.added_members.length>0&&function(){if(null===A.author){if(!A.accepted_members)return"";var e=h.filter((function(e){return A.accepted_members.some((function(n){return n===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else if(A.accepted_members){var n=h.filter((function(e){return A.accepted_members.some((function(n){return n===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else{var t=h.filter((function(e){return A.added_members.some((function(n){return n===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}}()),i.a.createElement("p",{className:"action-text"},A.removed_members.length>0&&function(){if(null===A.author)return"";var e=h.filter((function(e){return A.removed_members.some((function(n){return n===e.id}))}));return e.length?e.map((function(e){return e.name})).join(", ")+" ".concat(r.isRemoved,"."):void 0}())):null):i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"title"},b()),i.a.createElement(N,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(m(a.created_at.timestamp))},i.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp)))))))}));function T(){var e=Object(a.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return T=function(){return e},e}var I=o.a.div(T()),S=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,o=e.scrollRef,s=Object(c.U)().fromNow;return i.a.createElement(I,{className:"topic-timeline timeline-item ".concat(t)},i.a.createElement("div",null,a.user&&i.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:o})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",i.a.createElement("strong",null,r.created," ",a.name," ",r.workspace)),i.a.createElement("span",{className:"text-muted font-weight-normal"},s(a.created_at.timestamp)))))}));function R(){var e=Object(a.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return R=function(){return e},e}var P=o.a.div(R()),D=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.tag,o=e.dictionary,s=e.workspace,l=e.scrollRef,d=Object(c.U)().fromNow;return i.a.createElement(P,{className:"topic-timeline timeline-item ".concat(t)},i.a.createElement("div",null,a.user&&i.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:l})),i.a.createElement("div",null,i.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},i.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",i.a.createElement("strong",null,"ARCHIVED_WORKSPACE"===r?o.archived:o.unarchived," ",s.name," ",o.workspace)),i.a.createElement("span",{className:"text-muted font-weight-normal"},d(a.created_at.timestamp)))))})),L=t(629),F=t.n(L),M=function(e){var n=e.actions,t=e.workspace,a=e.workspaceTimeline,r=a.page,o=a.maxPage,c=a.timeline,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;n.getTimeline({topic_id:t.id,skip:e,limit:a})};return i.a.createElement("nav",{className:"mt-3"},i.a.createElement(F.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:o,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var i=e.selected+1;i!==r&&(n.updateTimelinePage({id:t.id,page:i}),a.total_items!==Object.keys(c).length&&Object.keys(c).length<=10*i&&(10*i-Object.keys(c).length>0?s(Object.keys(c).length,10*i):s(Object.keys(c).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))};function B(){var e=Object(a.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]);return B=function(){return e},e}var U,Q=o.a.div(B()),H=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspaceTimeline,o=e.actions,c=e.workspace,l=e.dictionary,d=Object(r.useRef)(null),m=Object(r.useState)(!1),p=Object(s.a)(m,2),u=p[0],f=p[1];return Object(r.useEffect)((function(){a||!c||u||(f(!0),o.getTimeline({topic_id:c.id,skip:0,limit:10},(function(){f(!1)})))}),[a,c,u]),i.a.createElement(Q,{className:"timeline-panel card ".concat(t),ref:d},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},l.timeline),i.a.createElement("div",{className:"timeline"},a&&Object.values(a.timeline).sort((function(e,n){return n.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(a.page>1?10*a.page-10:0,10*a.page).map((function(e){switch(e.tag){case"CHAT_BOT":return i.a.createElement(j,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"POST":return i.a.createElement(g,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"ICON":case"DOCUMENT":return i.a.createElement(A,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"TOPIC":return i.a.createElement(S,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"UNARCHIVED_WORKSPACE":case"ARCHIVED_WORKSPACE":return i.a.createElement(D,{key:e.id,data:e.item,tag:e.tag,dictionary:l,workspace:c,scrollRef:d.current});default:return null}})))),a&&a.total_items>10&&i.a.createElement(M,{workspaceTimeline:a,actions:o,workspace:c}))})),G=t(681),W=o.a.div(U||(U=Object(a.a)(["\n  overflow: auto !important;\n  min-height: calc(100vh - 100px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"])));n.default=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=e.isMember,o=e.match,s=e.actions,l=e.workspaceTimeline,d=e.workspace,m=o.params,p=Object(c.ab)()._t,u=Object(c.H)().recentPosts,f=window.innerWidth,h=function(){s.showModal(d,"edit","workspace")};Object(c.p)();var A={aboutThisWorkspace:p("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:p("TEAM","Team"),timeline:p("TIMELINE","Timeline"),noRecentPosts:p("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:p("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:p("FILE_ATTACHMENTS","File attachments"),peopleExternal:p("PEOPLE.EXTERNAL","External"),peopleInvited:p("PEOPLE.INVITED","Invited"),emptyTeam:p("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:p("DASHBOARD.SHOW_MORE","Show more"),showLess:p("DASHBOARD.SHOW_LESS","Show less"),attachedFile:p("ATTACHED_A_FILE","attached a file"),sharedThePost:p("SHARED_THE_POST","shared the post"),hasJoined:p("TIMELINE.HAS_JOINED","has joined"),hasLeft:p("TIMELINE.HAS_LEFT","has left"),youJoined:p("TIMELINE.YOU_JOINED","You joined"),youLeft:p("TIMELINE.YOU_LEFT","You left"),isAdded:p("TIMELINE.IS_ADDED","is added"),isRemoved:p("TIMELINE.IS_REMOVED","is removed"),createdThePost:p("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:p("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),remove:p("TEAM.REMOVE","Remove"),leave:p("TEAM.LEAVE","Leave"),leaveWorkspace:p("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:p("TIMELINE.ARCHIVED","archived"),unarchived:p("TIMELINE.UNARCHIVED","unarchived"),workspace:p("TIMELINE.WORKSPACE","workspace"),created:p("TIMELINE.CREATED","created"),resend:p("TEAM.RESEND","Resend"),cancel:p("MODAL.CANCEL","Cancel"),resendInvite:p("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:p("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:p("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:p("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:p("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:p("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:p("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:p("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:p("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:p("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:p("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:p("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:p("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:p("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:p("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:p("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:p("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:p("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:p("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:p("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:p("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:p("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:p("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:p("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:p("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:p("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:p("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:p("ROLE.ADVISOR","Advisor"),roleApprover:p("ROLE.APPROVER","Approver"),roleClient:p("ROLE.CLIENT","Client"),roleCommunicationLead:p("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:p("ROLE.DESIGNER","Designer"),roleDeveloper:p("ROLE.DEVELOPER","Developer"),roleFreelancer:p("ROLE.FREELANCER","Freelancer"),roleSupervisor:p("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:p("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:p("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:p("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:p("ROLE.WATCHER","Watcher"),sendInviteManually:p("TEAM.SEND_INVITE_MANUALLY","Send invite manually")},E=!1;return d&&0===d.active&&(E=!0),i.a.createElement(W,{className:"container-fluid fadeIn ".concat(t)},i.a.createElement("div",{className:"row"},null===d?i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):i.a.createElement(i.a.Fragment,null,f>620?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-md-6"},i.a.createElement(G.c,{isMember:r,workspace:d,onEditClick:h,isExternal:a,dictionary:A}),i.a.createElement(H,{workspaceTimeline:l,actions:s,workspace:d,dictionary:A})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(G.d,{workspace:d,actions:s,onEditClick:h,isMember:r,isExternal:a,dictionary:A}),i.a.createElement(G.e,{posts:u,dictionary:A,disableOptions:E}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-md-12"},i.a.createElement(G.c,{isMember:r,workspace:d,onEditClick:h,isExternal:a,dictionary:A}),i.a.createElement(G.d,{workspace:d,onEditClick:h,isMember:r,isExternal:a,dictionary:A}),i.a.createElement(G.e,{posts:u,dictionary:A,disableOptions:E}),i.a.createElement(H,{workspaceTimeline:l,actions:s,params:m,dictionary:A}))))))}))},679:function(e,n,t){"use strict";t.d(n,"d",(function(){return m})),t.d(n,"b",(function(){return _})),t.d(n,"c",(function(){return L})),t.d(n,"a",(function(){return te}));t(664);var a=t(9),r=t(1),i=t.n(r),o=t(10);function c(){var e=Object(a.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(a.a)([""]);return s=function(){return e},e}var l=o.a.div(s()),d=o.a.span(c(),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),m=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,r=e.todoActions,o=e.setFilter,c=e.filter,s=e.count;return i.a.createElement(l,{className:"todo-sidebar bottom-modal-mobile ".concat(t)},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return r.createFromModal()}},a.createNewTodoItem)),i.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},i.a.createElement("div",{className:"list-group list-group-flush"},i.a.createElement(d,{onClick:o,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{className:"text-secondary fa fa-circle mr-2"}),a.statusAll,s&&s.all>0&&i.a.createElement("span",{className:"small ml-auto"},s.all)),i.a.createElement(d,{onClick:o,"data-filter":"OVERDUE",active:"OVERDUE"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),a.statusExpired,s&&s.overdue>0&&i.a.createElement("span",{className:"small ml-auto"},s.overdue)),i.a.createElement(d,{onClick:o,"data-filter":"TODAY",active:"TODAY"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"TODAY"},i.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),a.statusToday),s&&s.today>0&&i.a.createElement("span",{className:"small ml-auto"},s.today)),i.a.createElement(d,{onClick:o,"data-filter":"NEW",active:"NEW"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"NEW"},i.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),a.statusUpcoming),s&&s.new>0&&i.a.createElement("span",{className:"small ml-auto"},s.new)),i.a.createElement(d,{onClick:o,"data-filter":"ASSIGNED_TO_OTHERS",active:"ASSIGNED_TO_OTHERS"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},i.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByMe),s&&s.assigned_to_others>0&&i.a.createElement("span",{className:"small ml-auto"},s.assigned_to_others)),i.a.createElement(d,{onClick:o,"data-filter":"ADDED_BY_OTHERS",active:"ADDED_BY_OTHERS"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},i.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByOthers),s&&s.added_by_others>0&&i.a.createElement("span",{className:"small ml-auto"},s.added_by_others))))))})),p=t(19);function u(){var e=Object(a.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return u=function(){return e},e}var f,h,A,E,b,g,v,O=o.a.div(u()),_=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.clearSearch,r=e.onEnter,o=e.dictionary,c=e.onSearchChange,s=e.searchValue;return i.a.createElement(O,{className:"todos-header app-action ".concat(t)},i.a.createElement("div",{className:"action-left"},i.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},i.a.createElement(p.s,{icon:"menu"}))),i.a.createElement("div",{className:"action-right"},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",onKeyDown:r,onChange:c,value:s,className:"form-control",placeholder:o.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==s.trim()&&i.a.createElement("button",{onClick:a,className:"btn-cross",type:"button"},i.a.createElement(p.s,{icon:"x"})),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},i.a.createElement(p.s,{icon:"search"}))))))})),w=t(0),k=t(11),C=t(31),y=t(20),x=t(5),N=t(48),j=Object(o.a)(p.s)(f||(f=Object(a.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),T=o.a.div(h||(h=Object(a.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),I=o.a.li(A||(A=Object(a.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .todo-title {\n    text-decoration: ",";\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n    .avatars-container {\n      min-width: 40px;\n    }\n  }\n"])),(function(e){return e.isDone?"line-through":"none"})),S=o.a.div(E||(E=Object(a.a)(["\n  max-height: 50px;\n  > * {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),R=o.a.div(b||(b=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]))),P=o.a.div(g||(g=Object(a.a)(["\n  min-width: 142px;\n  text-align: right;\n  @media all and (max-width: 480px) {\n    min-width: 70px;\n  }\n"]))),D=o.a.div(v||(v=Object(a.a)(["\n  @media all and (max-width: 480px) {\n    flex-flow: row wrap;\n  }\n"]))),L=function(e){var n=e.todo,t=e.todoActions,a=e.handleLinkClick,o=e.dictionary,c=e.todoFormat,s=e.todoFormatShortCode,l=e.getFileIcon,d=e.showWsBadge,m=e.handleRedirectToWorkspace,u=Object(x.c)(),f=Object(r.useState)("DONE"===n.status),h=Object(k.a)(f,2),A=h[0],E=h[1],b=Object(x.d)((function(e){return e.files.fileBlobs})),g=Object(r.useRef)(null);Object(r.useEffect)((function(){g.current&&g.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&b[a.id]&&(e.setAttribute("src",b[a.id]),e.setAttribute("data-id",a.id))}else{e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&b[r.id]&&(e.setAttribute("src",b[r.id]),e.setAttribute("data-id",r.id))}}));var e=n.files.filter((function(e){return e.type.includes("image")}));e.length&&e.forEach((function(e){b[e.id]||N.sessionService.loadSession().then((function(n){var t=n.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:t,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var t=URL.createObjectURL(n);!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};u(Object(y.kb)(e,n))}({id:e.id,src:t})}))}))}))}),[n.files,n.description,g]),Object(r.useEffect)((function(){"DONE"!==n.status||A?"DONE"!==n.status&&A&&t.markDone(n):t.markUnDone(n)}),[A]);var v=function(e){e.stopPropagation(),e.preventDefault(),t.updateFromModal(n)},O=function(e){e.preventDefault(),n.link_type?a(e,n):t.updateFromModal(n)},_=n.assigned_to&&n.assigned_to.id!==n.user||null!==n.workspace&&null===n.assigned_to||null===n.workspace&&null!==n.assigned_to&&n.assigned_to.id!==n.user||n.assigned_to&&n.author&&n.assigned_to.id!==n.author.id;return i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{className:"reminder-list",isDone:A},n.workspace&&d&&i.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return m(e,n)}},i.a.createElement("span",{className:"badge ml-4 badge-light border-0"},n.workspace.name)),i.a.createElement("div",{className:"d-flex align-items-center reminder-content"},i.a.createElement("span",{className:"custom-control custom-checkbox mr-2"},i.a.createElement(p.t,{content:"DONE"===n.status?o.actionMarkAsUndone:o.actionMarkAsDone},i.a.createElement(C.k,{checked:A,onClick:function(e){E(!A)}}))),i.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3 ".concat(A&&"text-muted"),onClick:O},i.a.createElement("span",{className:"todo-title"},n.title),n.description&&!A&&i.a.createElement(S,{ref:g,className:"text-truncate",dangerouslySetInnerHTML:{__html:n.description}}),!A&&n.files.map((function(e){return i.a.createElement("span",{key:"".concat(n.id).concat(e.file_id),onClick:function(t){return function(e,n,t){e.preventDefault(),e.stopPropagation();var a={files:n.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{filename:e.name})})),file_id:t.file_id};u(Object(y.Ub)(a))}(t,n.files,e)}},l(e.mime_type))}))),i.a.createElement(T,{className:"hover-btns ml-1"},i.a.createElement(j,{icon:"pencil",onClick:v}),i.a.createElement(j,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault(),t.removeConfirmation(n)}})),i.a.createElement(D,{className:"d-flex align-items-center ml-auto"},i.a.createElement(R,{className:"".concat(A&&"text-muted")},i.a.createElement(j,{icon:"calendar"}),i.a.createElement(p.t,{content:n.remind_at?c(n.remind_at.timestamp):o.addDate},i.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"Yesterday"===s(e.remind_at.timestamp)?"text-warning":"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(n)),onClick:v},n.remind_at?s(n.remind_at.timestamp,"MM/DD/YYYY"):o.addDate))),i.a.createElement(P,null,null!==n.link_type&&i.a.createElement("span",{className:"badge mr-3 badge-light todo-type-badge ".concat(A&&"text-muted"),onClick:O},function(e){switch(e.link_type){case"POST":return o.typePost;case"CHAT":return o.typeChat;case"POST_COMMENT":return o.typePostComment;default:return null}}(n))),i.a.createElement("div",{className:"avatars-container"},null!==n.author&&i.a.createElement(p.a,{name:n.author.name,tooltipName:o.reminderAuthor,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link,id:n.author.id}),_&&i.a.createElement(i.a.Fragment,null,i.a.createElement(j,{icon:"chevron-right"}),i.a.createElement(p.a,{name:n.assigned_to?n.assigned_to.name:n.workspace.name,tooltipName:o.reminderAssignedTo,imageLink:n.assigned_to?n.assigned_to.profile_image_link:n.workspace?n.workspace.channel.icon_link:null,id:n.assigned_to?n.assigned_to.id:n.workspace.id,type:n.assigned_to?"USER":"TOPIC",noDefaultClick:!n.assigned_to})))))))},F=t(37),M=t(12);function B(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n"]);return B=function(){return e},e}function U(){var e=Object(a.a)(["\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return U=function(){return e},e}var Q=o.a.div(U()),H=o.a.span(B()),G=function(e){var n=e.className,t=void 0===n?"":n,a=e.id,r=void 0===a?"":a,o=e.handleClick,c=e.active,s=e.headerText,l=void 0===s?"":s;return i.a.createElement(Q,{className:t},i.a.createElement(H,{className:"badge badge-light",onClick:o,id:r},i.a.createElement(p.s,{icon:c?"arrow-down":"arrow-up",width:16,height:16,className:"mr-1"}),l),e.children)};function W(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return W=function(){return e},e}var z=o.a.div(W()),Y=function(e){var n=e.dictionary;return i.a.createElement(z,null,i.a.createElement("h3",null,n.noItemsFoundHeader),i.a.createElement("h5",null,n.noItemsFoundText," "))};function V(){var e=Object(a.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  .list-group-item:last-child {\n    border-bottom: none;\n  }\n  li:last-child {\n    border-bottom: none;\n  }\n"]);return V=function(){return e},e}function J(){var e=Object(a.a)(["\n  .badge.badge-light {\n    background: rgba(175, 184, 189, 0.2);\n    border: 1px solid #f8f9fa;\n    color: #212529;\n    .dark & {\n      color: #fff;\n      background: rgb(175, 184, 189, 0.2) !important;\n      border: 1px solid rgb(175, 184, 189, 0.2);\n    }\n  }\n"]);return J=function(){return e},e}var K,q,Z=o.a.div(J()),X=o.a.ul(V()),$=function(e){var n=e.className,t=void 0===n?"":n,a=e.active,r=e.handleHeaderClick,o=e.headerText,c=e.headerChild,s=e.dictionary,l=e.items,d=e.ItemList,m=e.showEmptyState,p=void 0===m||m,u=e.listGroupClassname,f=void 0===u?"":u;return i.a.createElement(Z,{className:t},i.a.createElement(G,{active:a,headerText:o,handleClick:r},c),0===l.length&&p&&a&&i.a.createElement(Y,{dictionary:s}),l.length>0&&a&&i.a.createElement(X,{className:f},l.map((function(e){return d(e)}))),e.children)},ee=o.a.div(K||(K=Object(a.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n'])),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),ne=Object(o.a)($)(q||(q=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]))),te=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,o=e.isLoaded,c=e.todoActions,s=e.todoItems,l=e.doneTodoItems,d=e.workspaceName,m=void 0===d?null:d,p=Object(M.U)(),u=p.todoFormat,f=p.todoFormatShortCode,h=Object(M.q)().getFileIcon,A=Object(M.L)(),E=Object(F.i)(),b=function(e,n){if(e.preventDefault(),"CHAT"===n.link_type)A.toChat(n.data.channel,n.data.chat_message);else{var t={id:"POST_COMMENT"===n.link_type&&n.data?n.data.post.id:n.link_id,title:n.title},a=Object(w.a)(Object(w.a)({},n.workspace),{},{folder_id:n.folder?n.folder.id:null,folder_name:n.folder?n.folder.name:null});A.toPost({workspace:a,post:t})}},g=Object(r.useState)({todo:!0,done:!1}),v=Object(k.a)(g,2),O=v[0],_=v[1],C=function(e,n){e.preventDefault(),e.stopPropagation(),A.toWorkspace(n.workspace,"reminders")};return i.a.createElement(ee,{className:"todos-body card app-content-body mb-4 ".concat(t),active:!s.length},!o&&i.a.createElement("div",{className:"card-body"},i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),o&&i.a.createElement("div",{className:"card-body"},i.a.createElement(ne,{active:O.todo,dictionary:a,handleHeaderClick:function(){_({todo:!O.todo,done:O.done})},headerText:a.todo,items:s,headerChild:E.hasOwnProperty("workspaceId")?i.a.createElement("span",{className:"badge badge-light"},m):null,ItemList:function(e){return i.a.createElement(L,{key:e.id,todo:e,todoActions:c,dictionary:a,handleLinkClick:b,todoFormat:u,todoFormatShortCode:f,getFileIcon:h,showWsBadge:!E.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:C})}}),i.a.createElement(ne,{active:O.done,dictionary:a,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){_({todo:O.todo,done:!O.done})},headerText:a.done,items:l,ItemList:function(e){return i.a.createElement(L,{key:e.id,todo:e,todoActions:c,dictionary:a,handleLinkClick:b,todoFormat:u,todoFormatShortCode:f,getFileIcon:h,showWsBadge:!E.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:C})}})))}));function ae(){var e=Object(a.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n  background: #f8f9fa !important;\n  border: 1px solid #f8f9fa;\n"]);return re=function(){return e},e}function ie(){var e=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    stroke: #191c20;\n  }\n  div:first-child {\n    padding-left: 20px;\n    padding-right: 0;\n  }\n"]);return ie=function(){return e},e}o.a.div(ie()),o.a.span(re()),o.a.div(ae())},681:function(e,n,t){"use strict";t.d(n,"c",(function(){return g})),t.d(n,"d",(function(){return k})),t.d(n,"e",(function(){return N})),t.d(n,"a",(function(){return T})),t.d(n,"b",(function(){return S}));var a,r,i,o,c,s,l,d=t(11),m=t(9),p=t(1),u=t.n(p),f=t(10),h=t(19),A=f.a.div(a||(a=Object(m.a)(["\n  border-left: 5px solid #822492;\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n\n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),E=f.a.div(r||(r=Object(m.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]))),b=f.a.div(i||(i=Object(m.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"])),(function(e){return e.height})),g=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.onEditClick,r=e.workspace,i=e.isMember,o=e.isExternal,c=e.dictionary,s=Object(p.useState)(""),l=Object(d.a)(s,2),m=l[0],f=l[1],g=Object(p.useState)(null),v=Object(d.a)(g,2),O=v[0],_=v[1],w=Object(p.useState)(140),k=Object(d.a)(w,2),C=k[0],y=k[1],x={description:Object(p.useRef)(null)};return Object(p.useEffect)((function(){x.description.current&&(!0===O?setTimeout((function(){x.description.current.style.overflow=""}),[300]):!1===O&&(x.description.current.style.overflow="hidden"))}),[O,x.description.current]),Object(p.useEffect)((function(){r&&m!==r.description&&(f(r.description),_(null),x.description.current=null)}),[r]),u.a.createElement(A,{className:"dashboard-about-workspace card ".concat(t)},u.a.createElement("div",{className:"bg-overlay ".concat(null===O?"":!0===O?"show":"hide")}),u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},c.aboutThisWorkspace," ",!0===i&&!o&&1===r.active&&u.a.createElement(h.s,{icon:"edit",onClick:a})),r&&u.a.createElement(u.a.Fragment,null,u.a.createElement(E,{className:null===O?"":!0===O?"show":"hide"},u.a.createElement(b,{ref:function(e){null===x.description.current&&e&&(x.description.current=e,e.clientHeight>140?(y(e.clientHeight),_(!1)):_(null))},height:C,className:"dashboard-description ".concat(null===O?"":!0===O?"show":"hide"),dangerouslySetInnerHTML:{__html:r.description}}),null!==O&&u.a.createElement("div",{onClick:function(e){e.preventDefault(),_((function(e){return!e}))},className:"btn-toggle-show cursor-pointer mt-2"},O?c.showLess:c.showMore)))))})),v=t(626),O=t(5),_=t(12),w=f.a.div(o||(o=Object(m.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),k=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=e.onEditClick,i=e.isExternal,o=e.isMember,c=e.dictionary,s=e.actions,l=Object(p.useRef)(null),m=Object(p.useState)(!1),f=Object(d.a)(m,2),A=f[0],E=f[1],b=Object(_.V)(),g=Object(O.d)((function(e){return e.session.user})),k=!o||0===a.active,C=a.members.filter((function(e){return 1===e.active||!e.has_accepted})),y=function(){E((function(e){return!e}))},x=function(e,n){s.leave(e,n,(function(n,t){n||b.success(u.a.createElement(u.a.Fragment,null,c.leaveWorkspace,u.a.createElement("b",null,e.name)))}))},N=function(e,n){var t={topic_id:a.id,user_id:e.id,role:n};s.addRole(t)};return u.a.createElement(w,{className:"dashboard-team card ".concat(t),ref:l},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},c.team," ",!0===o&&!i&&1===a.active&&u.a.createElement(h.s,{onClick:r,icon:"plus"})),0===C.length?u.a.createElement(u.a.Fragment,null,c.emptyTeam):u.a.createElement("ul",{className:"list-group list-group-flush"},(A?C:C.slice(0,5)).map((function(e,n){return u.a.createElement(v.b,{key:e.id,member:e,onEditClick:r,onLeaveWorkspace:x,onAddRole:N,hideOptions:k,actions:s,workspace_id:a.id,dictionary:c,showMoreButton:4===n&&C.length>5&&!A,showLessButton:n===C.length-1&&C.length>5&&A,toggleShow:y,loggedUser:g,workspace:a})})))))})),C=t(37),y=t(619),x=f.a.div(c||(c=Object(m.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    cursor: hand;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),N=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.posts,r=e.dictionary,i=e.disableOptions,o=Object(_.F)(),c=Object(C.j)(),s=function(e){o.openPost(e,c.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(p.useEffect)((function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}),[c.params.workspaceId]),u.a.createElement(x,{className:"recent-posts card ".concat(t)},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},r.recentPosts," ",u.a.createElement(h.s,{icon:"refresh-ccw",onClick:function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}})),a&&Object.keys(a).length?u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,n){return n.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return u.a.createElement(y.e,{key:e.id,post:e,postActions:o,onOpenPost:s,disableOptions:i})}))):u.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))})),j=f.a.div(s||(s=Object(m.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),T=function(e){var n=e.className,t=void 0===n?"":n,a=e.onEditClick,r=e.dictionary,i=e.actions,o=Object(p.useRef)(null),c=Object(O.d)((function(e){return e.users.users})),s=Object(O.d)((function(e){return e.session.user})),l=Object(p.useState)(!1),m=Object(d.a)(l,2),f=m[0],h=m[1],A=function(){h((function(e){return!e}))},E=Object.values(c).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,n){return e.name.localeCompare(n.name)}));return u.a.createElement(j,{className:"dashboard-team card ".concat(t),ref:o},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},r.team),u.a.createElement("ul",{className:"list-group list-group-flush"},(f?E:E.slice(0,5)).map((function(e,n){return u.a.createElement(v.b,{key:e.id,member:e,hideOptions:!0,onEditClick:a,actions:i,dictionary:r,showMoreButton:4===n&&E.length>5&&!f,showLessButton:n===E.length-1&&E.length>5&&f,showMore:f,toggleShow:A,loggedUser:s})})))))},I=f.a.div(l||(l=Object(m.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),S=u.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.posts,r=e.dictionary,i=e.disableOptions,o=Object(_.F)(),c=Object(C.j)(),s=function(e){o.openPost(e,c.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(p.useEffect)((function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}),[c.params.workspaceId]),u.a.createElement(I,{className:"recent-posts card ".concat(t)},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title"},r.recentPosts," ",u.a.createElement(h.s,{icon:"refresh-ccw",onClick:function(){c.params.hasOwnProperty("workspaceId")&&o.getRecentPosts(c.params.workspaceId)}})),a&&Object.keys(a).length?u.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,n){return n.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return u.a.createElement(y.e,{key:e.id,post:e,postActions:o,onOpenPost:s,disableOptions:i})}))):u.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))}))},683:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a,r,i=t(9),o=t(1),c=t.n(o),s=t(10),l=t(19),d=t(12),m=s.a.div(a||(a=Object(i.a)(["\n  .people-list {\n    right: 0;\n  }\n"]))),p=Object(s.a)(l.a)(r||(r=Object(i.a)(["\n  height: 2.7rem !important;\n  width: 2.7rem !important;\n  margin-left: ",";\n"])),(function(e){return e.firstUser?"0":"-0.5rem"})),u=function(e){var n=e.members,t=e.classNames,a=void 0===t?"":t,r=5;Object(d.gb)().width<=575&&(r=5);var i=n?n.slice(0,r):[],o=n?n.slice(r):[];return c.a.createElement(m,{className:"d-flex ".concat(a)},i.map((function(e,n){return c.a.createElement(p,{id:e.id,firstUser:0===n,className:"chat-members",key:e.id,name:e.name?e.name:e.email,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,hasAccepted:e.has_accepted})})),o.length>0&&c.a.createElement(l.m,{recipients:o}))}},684:function(e,n,t){"use strict";t.r(n);var a,r,i=t(9),o=t(1),c=t.n(o),s=t(10),l=t(4),d=t(11),m=t(27),p=t.n(m),u=t(5),f=t(37),h=t(110),A=t(760),E=t(19),b=t(636),g=t(12),v=t(73),O=t(77),_=t(14),w=t(131),k=t(96),C=t(53),y=s.a.div(a||(a=Object(i.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n  .version-number {\n    display: flex;\n    place-content: center;\n    font-size: 13px;\n  }\n']))),x=s.a.span(r||(r=Object(i.a)(["\n  font-weight: 500;\n  cursor: pointer;\n"]))),N=c.a.memo((function(e){var n,t=e.className,a=void 0===t?"":t,r=!!localStorage.getItem("persistence"),i=Object(k.a)().persistor,s=Object(o.useState)(r),m=Object(d.a)(s,2),N=m[0],j=m[1],T=Object(f.g)(),I=Object(g.U)().localizeDate,S=Object(u.c)(),R=Object(g.V)(),P=Object(u.d)((function(e){return e.session})).user,D=Object(g.Q)(),L=D.generalSettings,F=L.language,M=L.timezone,B=L.date_format,U=L.time_format,Q=L.dark_mode,H=L.notifications_on,G=L.log_rocket,W=L.sentry,z=L.logs,Y=(L.notification_sound,L.order_channel),V=L.chat_language,J=L.daily_digest,K=D.chatSettings,q=K.order_channel,Z=K.sound_enabled,X=K.preview_message,$=K.virtualization,ee=(K.translate,D.userSettings.isLoaded),ne=D.setChatSetting,te=D.setWorkspaceSetting,ae=D.setGeneralSetting,re=D.setPushSubscription,ie=Object(o.useState)(!1),oe=Object(d.a)(ie,2),ce=(oe[0],oe[1]),se=Object(g.ab)()._t,le=localStorage.getItem("i18new")?JSON.parse(localStorage.getItem("i18new")):{},de=(n={chatSettingsTitle:se("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:se("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:se("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:se("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:se("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:se("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:se("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),notificationSound:se("SETTINGS.NOTIFICATION_SOUND","Notification sound"),notificationSoundDefault:se("SETTINGS.NOTIFICATION_SOUND_DEFAULT","Default"),notificationSoundJingleBells:se("SETTINGS.NOTIFICATION_SOUND_JINGLE_BELLS","Jingle bells"),localizationSettingsTitle:se("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:se("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:se("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:se("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format"),workspaceSettingsTitle:se("SETTINGS.WORKSPACE_TITLE","Workspace Settings"),sortWorkspaceLabel:se("SETTINGS.SORT_WORKSPACE_LABEL","Sort workspace by"),viewRelease:se("SETTINGS.VIEW_RELEASE","View Release List"),liveTranslation:se("SETTINGS.LIVE_TRANSLATION","Talk in your own language (live translation)"),dailyDigest:se("SETTINGS.DAILY_DIGEST","Daily digest"),chatTranslateTitle:se("SETTINGS.CHAT_TRANSLATE","Choose a target language to be translated !BETA!")},Object(l.a)(n,"dailyDigest",se("SETTINGS.DAILY_DIGEST","Daily digest")),Object(l.a)(n,"notifications",se("NOTIFICATIONS","Notifications")),Object(l.a)(n,"extraSettings",se("SETTINGS.EXTRA_SETTINGS","Extra settings")),Object(l.a)(n,"darkMode",se("SETTINGS.DARK_MODE","Dark mode")),n),me=[{value:"channel_date_updated",label:de.sortChannelRecentActivityValue},{value:"channel_name",label:de.sortChannelNameValue}],pe=[{value:"en",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"en",className:"mr-2",width:"18"}),se("LANGUAGE.ENGLISH","English"))},{value:"nl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),se("LANGUAGE.DUTCH","Dutch"))},{value:"de",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"de",className:"mr-2",width:"18"}),se("LANGUAGE.GERMAN","German"))}],ue=[{value:"en",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"en",className:"mr-2",width:"18"}),se("LANGUAGE.ENGLISH","English"))},{value:"bg",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"bg",className:"mr-2",width:"18"}),se("LANGUAGE.BULGARIAN","Bulgarian"))},{value:"cs",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"cs",className:"mr-2",width:"18"}),se("LANGUAGE.CZECH","Czech"))},{value:"da",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"da",className:"mr-2",width:"18"}),se("LANGUAGE.DANISH","Danish"))},{value:"de",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"de",className:"mr-2",width:"18"}),se("LANGUAGE.GERMAN","German"))},{value:"el",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"el",className:"mr-2",width:"18"}),se("LANGUAGE.GREEK","Greek"))},{value:"es",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"es",className:"mr-2",width:"18"}),se("LANGUAGE.SPANISH","Spanish"))},{value:"et",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"et",className:"mr-2",width:"18"}),se("LANGUAGE.ESTONIAN","Estonian"))},{value:"fi",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),se("LANGUAGE.FINNISH","Finnish"))},{value:"fr",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),se("LANGUAGE.FRENCH","French"))},{value:"hu",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),se("LANGUAGE.HUNGARAIN","Hungarian"))},{value:"it",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"it",className:"mr-2",width:"18"}),se("LANGUAGE.ITALIAN","Italian"))},{value:"ja",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"ja",className:"mr-2",width:"18"}),se("LANGUAGE.JAPANESE","Japanese"))},{value:"lt",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"lt",className:"mr-2",width:"18"}),se("LANGUAGE.LITHUANIAN","Lithuanian"))},{value:"lv",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"lv",className:"mr-2",width:"18"}),se("LANGUAGE.LATVIAN","Latvian"))},{value:"nl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),se("LANGUAGE.DUTCH","Dutch"))},{value:"pl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"pl",className:"mr-2",width:"18"}),se("LANGUAGE.POLISH","Polish"))},{value:"pt",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"pt",className:"mr-2",width:"18"}),se("LANGUAGE.PORTUGUESE","Portuguese"))},{value:"ro",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"ro",className:"mr-2",width:"18"}),se("LANGUAGE.ROMANIAN","Romanian"))},{value:"ru",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"ru",className:"mr-2",width:"18"}),se("LANGUAGE.RUSSIAN","Russian"))},{value:"sk",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"sk",className:"mr-2",width:"18"}),se("LANGUAGE.SLOVAK","Slovak"))},{value:"sl",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"sl",className:"mr-2",width:"18"}),se("LANGUAGE.SLOVENIAN","Slovenian"))},{value:"sv",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"sv",className:"mr-2",width:"18"}),se("LANGUAGE.SWEDISH","Swedish"))},{value:"zh",label:c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{countryAbbr:"zh",className:"mr-2",width:"18"}),se("LANGUAGE.CHINESE","Chinese"))}],fe=p.a.tz.names().map((function(e){return{value:e,label:e}})),he=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],Ae=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],Ee=Object(o.useCallback)((function(e){ae({chat_language:e.value,translated_channels:[]}),setTimeout((function(){localStorage.setItem("chat_translate_change","1")}),1e3),R.success(c.a.createElement("span",null,"You have successfully updated chat target language"))}),[ae]),be=Object(o.useCallback)((function(e){e.persist();var n=e.target,t=n.name,a=n.checked,r=n.dataset;ne(Object(l.a)({},t,a)),R.success(c.a.createElement("span",null,r.successMessage))}),[ne]),ge=function(e){e.persist();var n=e.target,t=n.name,a=n.checked,r=n.dataset;ae(Object(l.a)({},t,"daily_digest"===t?a:a?"1":"0"),(function(){["log_rocket","sentry"].includes(t)?(localStorage.setItem(t,a?"1":"0"),window.location.reload()):"logs"===t&&(a?localStorage.setItem("logger","all"):localStorage.removeItem("logger"))})),R.success(c.a.createElement("span",null,r.successMessage))},ve=Object(o.useCallback)((function(e){e.persist();var n=e.target,t=n.name,a=n.dataset;if(H){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),re(!1),S(Object(_.i)({user_id:P.id}))}else re(null);ae(Object(l.a)({},t,!H)),R.success(c.a.createElement("span",null,a.successMessage))}),[ae]),Oe=Object(o.useCallback)((function(e){ae({timezone:e.value}),R.success(c.a.createElement("span",null,"You have successfully updated Timezone"))}),[]),_e=Object(o.useCallback)((function(e){ae({date_format:e.value}),R.success(c.a.createElement("span",null,"You have successfully updated Date format"))}),[]),we=Object(o.useCallback)((function(e){ae({time_format:e.value}),R.success(c.a.createElement("span",null,"You have successfully updated Time format"))}),[]);return c.a.createElement(y,{className:"profile-settings ".concat(a)},ee?c.a.createElement(c.a.Fragment,null,"owner"===P.role.name&&c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center mb-0"},"System Settings ",c.a.createElement(E.s,{className:"cursor-pointer",icon:"settings",onClick:function(){var e=document.createElement("a");e.href="https://".concat(Object(v.b)(),".driff.io/admin"),e.target="_blank",e.click()}})))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.chatSettingsTitle),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-12"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:Z,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:be,"data-success-message":"".concat(Z?"Chats are now muted!":"Chat sound is enabled!"),label:c.a.createElement("span",null,de.soundLabel)}))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:X,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:be,"data-success-message":"You have turn ".concat(X?"OFF":"ON"," preview in chat messages!"),label:c.a.createElement("span",null,de.previewMessageLabel)}))),["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(P.email)&&c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:$,type:"switch",id:"chat_virtualization",name:"virtualization",onChange:be,"data-success-message":"You have turn ".concat($?"OFF":"ON"," virtualization in chat messages!"),label:c.a.createElement("span",null,"Virtualized chat")}))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:N,type:"switch",id:"redux_persist",name:"persistence",onChange:function(e){e.persist();var n=e.target,t=n.checked,a=n.dataset;j(t),t?localStorage.setItem("persistence",!0):(r&&(i.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("persistence")),R.success(c.a.createElement("span",null,a.successMessage))},"data-success-message":"You have turn ".concat(N?"OFF":"ON"," data persistence in chat!"),label:c.a.createElement("span",null,"Persisted data")}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},de.chatTranslateTitle),c.a.createElement("div",{className:"col-7"},c.a.createElement(h.a,{styles:"0"===Q?O.b:O.a,value:ue.find((function(e){return e.value===V})),onChange:Ee,options:ue}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},de.sortChannelLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(h.a,{styles:"0"===Q?O.b:O.a,value:me.find((function(e){return e.value===q.order_by})),onChange:function(e){ne({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),R.success(c.a.createElement("span",null,"You have successfully sort channel"))},options:me}))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.workspaceSettingsTitle),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},de.sortWorkspaceLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(h.a,{styles:"0"===Q?O.b:O.a,value:me.find((function(e){return e.value===Y.order_by})),onChange:function(e){te({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),R.success(c.a.createElement("span",null,"You have successfully sort channel"))},options:me}))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.localizationSettingsTitle),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},de.languageLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(h.a,{styles:"0"===Q?O.b:O.a,value:pe.find((function(e){return e.value===F})),onChange:function(e){ae({language:e.value},(function(){setTimeout((function(){ce((function(e){return!e}))}),300)})),R.success(c.a.createElement("span",null,"You have successfully updated Language"))},options:pe}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},de.timezoneLabel),c.a.createElement("div",{className:"col-7"},c.a.createElement(h.a,{styles:"0"===Q?O.b:O.a,value:fe.find((function(e){return e.value===M})),onChange:Oe,options:fe}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-5 text-muted"},de.dateTimeFormatLabel),c.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},c.a.createElement("div",{className:"row"},c.a.createElement(h.a,{styles:"0"===Q?O.b:O.a,className:"col-6",value:he.find((function(e){return e.value===B})),onChange:_e,options:he}),c.a.createElement(h.a,{styles:"0"===Q?O.b:O.a,className:"col-6",value:Ae.find((function(e){return e.value===U})),onChange:we,options:Ae})))),["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(P.email)&&c.a.createElement("div",{className:"row mb-2 mt-4"},c.a.createElement("div",{className:"col-12 text-right"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=[],t="You are about to add the following words to the dictionary files, continue?";t+="<table>",Object.keys(le).forEach((function(e){t+="<tr>",t+="<td>".concat(e,"</td>"),t+="<td>".concat(le[e],"</td>"),t+="</tr>",n.push(Object(l.a)({},e,le[e]))}));var a=function(){S(Object(_.K)(n,e))},r={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:t+="</table>",size:"lg",actions:{onSubmit:a}};S(Object(_.a)(r))}((function(){localStorage.removeItem("i18new");var e=document.createElement("a");e.href="https://".concat(Object(v.b)(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.notifications),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:H,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(H?"Notifications disabled":"Notifications enabled"),onChange:ve,label:c.a.createElement("span",null,de.allowNotifications)}))),c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:J,type:"switch",id:"daily_digest",name:"daily_digest","data-success-message":"".concat(J?"Daily digest disabled":"Daily digest enabled"),onChange:ge,label:c.a.createElement("span",null,de.dailyDigest)}))))),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},de.extraSettings),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:"1"===Q,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(Q?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:ge,label:c.a.createElement("span",null,de.darkMode)})),c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:"1"===G,type:"switch",id:"log_rocket",name:"log_rocket","data-success-message":"".concat(G?"LogRocket is now enabled":"LogRocket is now disabled"),onChange:ge,label:c.a.createElement("span",null,"LogRocket")})),c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:"1"===W,type:"switch",id:"sentry",name:"sentry","data-success-message":"".concat(W?"Sentry is now enabled":"Sentry is now disabled"),onChange:ge,label:c.a.createElement("span",null,"Sentry")})),c.a.createElement("div",{className:"col-12 text-muted"},c.a.createElement(A.a,{className:"cursor-pointer text-muted",checked:"1"===z,type:"switch",id:"logs",name:"logs","data-success-message":"".concat(W?"Logs are now enabled":"Logs are now disabled"),onChange:ge,label:c.a.createElement("span",null,"Logs")})))))):c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),c.a.createElement("span",{className:"version-number mb-3"},"Driff version: ",w.a.version," ",I(w.a.timestamp)," \xa0",c.a.createElement(x,{onClick:function(){T.push("/releases")}},de.viewRelease)),P&&"nilo@makedevelopment.com"===P.email&&c.a.createElement("span",null,C.isMobileSafari&&"mobile safari",", ",C.browserName,", ",C.deviceType))}));function j(){var e=Object(i.a)(["\n  overflow: auto;\n  .row-settings {\n    justify-content: center;\n  }\n"]);return j=function(){return e},e}var T=s.a.div(j());n.default=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return c.a.createElement(T,{className:"container-fluid h-100 ".concat(t)},c.a.createElement("div",{className:"row row-settings"},c.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},c.a.createElement(N,null))))}))},717:function(e,n,t){e.exports=t.p+"static/media/appointed.4a7182ca.ogg"},718:function(e,n,t){e.exports=t.p+"static/media/appointed.d46d7db1.mp3"},719:function(e,n,t){e.exports=t.p+"static/media/appointed.b1ef26b6.m4r"},753:function(e,n,t){"use strict";t.r(n);var a,r,i=t(9),o=t(1),c=t.n(o),s=t(5),l=t(37),d=t(10),m=t(12),p=t(17),u=d.a.div(a||(a=Object(i.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n    text-align: center;\n    justify-content: center;\n  }\n"]))),f=c.a.memo((function(e){var n={redirecting:(0,Object(m.ab)()._t)("REDIRECT.REDIRECTING","Redirecting...")},t=Object(m.cb)(),a=Object(m.a)(),r=Object(l.g)(),i=Object(l.j)("/magic-link/:token");return Object(o.useEffect)((function(){null!==i&&t.checkMagicLink(i.params.token,(function(e,n){if(n)if(n.data.additional_data){if("POST"===n.data.additional_data.type){if(n.data.additional_data.data.workspace){var t=n.data.additional_data.data.workspace[0],i=n.data.additional_data.data.id,o=n.data.additional_data.data.code;if(t.workspace_id){var c="/workspace/posts/".concat(t.workspace_id,"/").concat(Object(p.h)(t.workspace_name),"/").concat(t.topic_id,"/").concat(Object(p.h)(t.topic_name),"/post/").concat(i,"/").concat(Object(p.h)(o));r.push(c)}else{var s="/workspace/posts/".concat(t.topic_id,"/").concat(Object(p.h)(t.topic_name),"/post/").concat(i,"/").concat(Object(p.h)(o));r.push(s)}}}else if("CHANNEL"===n.data.additional_data.type)if(n.data.additional_data.topic){var l=n.data.additional_data.topic,d=n.data.additional_data.workspace;if(d){var m="/workspace/chat/".concat(d.id,"/").concat(Object(p.h)(d.name),"/").concat(l.id,"/").concat(Object(p.h)(l.name));r.push(m)}else{var u="/workspace/chat/".concat(l.id,"/").concat(Object(p.h)(l.name));r.push(u)}}else if(n.data.additional_data.data){var f="/chat/".concat(n.data.additional_data.data.code);a.fetchSelectChannel(n.data.additional_data.data.code,(function(){document.body.classList.add("m-chat-channel-closed")})),r.push(f)}else r.push("/workspace/chat")}else r.push("/workspace/chat")}))}),[]),c.a.createElement(u,{className:"workspace-people container-fluid h-100"},c.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6 h-50"},c.a.createElement("div",{className:"card"},c.a.createElement("h3",null,n.redirecting)))))})),h=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,651))})),A=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,653))})),E=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,676))})),b=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,656))})),g=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,657))})),v=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,684))})),O=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,664))})),_=Object(o.lazy)((function(){return t.e(29).then(t.bind(null,750))})),w=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,265))})),k=Object(o.lazy)((function(){return t.e(28).then(t.bind(null,757))})),C=Object(o.lazy)((function(){return t.e(16).then(t.bind(null,758))})),y=Object(o.lazy)((function(){return t.e(30).then(t.bind(null,638))})),x=Object(o.lazy)((function(){return t.e(31).then(t.bind(null,639))})),N=Object(o.lazy)((function(){return Promise.all([t.e(12),t.e(27)]).then(t.bind(null,751))})),j=d.a.div(r||(r=Object(i.a)(["\n  padding-bottom: ",";\n"])),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),T=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=Object(s.d)((function(e){return e.session.user})),i=r.role&&"owner"===r.role.name;return c.a.createElement(j,{className:"main-content ".concat(t),isOnWorkspace:"workspace"===e.match.params.page},c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(l.d,null,c.a.createElement(l.b,Object.assign({},e,{component:y,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile","/profile/:id"],exact:!0})),c.a.createElement(l.b,Object.assign({},e,{component:C,path:["/notifications"]})),c.a.createElement(l.b,Object.assign({},e,{component:x,path:["/search"]})),!a&&c.a.createElement(l.b,Object.assign({},e,{component:A,path:["/dashboard"]})),!a&&c.a.createElement(l.b,Object.assign({},e,{component:g,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!a&&c.a.createElement(l.b,Object.assign({},e,{component:h,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),c.a.createElement(l.b,Object.assign({},e,{render:function(e){return c.a.createElement(E,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!a&&c.a.createElement(l.b,Object.assign({},e,{component:b,path:["/people"]})),!a&&c.a.createElement(l.b,Object.assign({},e,{component:_,path:["/system/people"]})),c.a.createElement(l.b,Object.assign({},e,{component:v,path:["/settings"]})),c.a.createElement(l.b,Object.assign({},e,{component:O,path:["/todos"]})),i&&c.a.createElement(l.b,Object.assign({},e,{component:w,path:["/bot"]})),c.a.createElement(l.b,Object.assign({},e,{component:f,path:["/magic-link/:token"]})),c.a.createElement(l.b,Object.assign({},e,{component:k,path:["/releases"]})),!a&&c.a.createElement(l.b,Object.assign({},e,{component:N,path:["/zoom/:channelId","/zoom"]})),c.a.createElement(l.a,{from:"*",to:{pathname:a?"/workspace/chat":"/chat",state:{from:e.location}}}))))}));function I(){var e=Object(i.a)(["\n  z-index: 1 !important;\n"]);return I=function(){return e},e}var S,R,P,D,L,F,M,B,U,Q,H=d.a.footer(I()),G=(c.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return c.a.createElement(H,{className:"".concat(t)},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),c.a.createElement("div",null,c.a.createElement("nav",{className:"nav"},c.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),c.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),c.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))})),t(651),t(653),t(676),t(11)),W=t(19),z=t(138),Y=t(23),V=d.a.div(S||(S=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n\n  &.page-notifications,\n  &.page-profile,\n  &.page-settings,\n  &.page-system {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 4px;\n          display: flex;\n          align-items: center;\n          height: 40px;\n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  svg.feather-home {\n    color: rgb(80, 80, 80);\n\n    .dark & {\n      color: #fff;\n    }\n  }\n  .dash {\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n"]))),J=d.a.h2(R||(R=Object(i.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),K=Object(d.a)(W.s)(P||(P=Object(i.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFavorite&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),q=c.a.memo((function(){var e=Object(l.j)(),n=Object(s.d)((function(e){return e.settings})),t=n.driff,a=n.user.GENERAL_SETTINGS.dark_mode,r=Object(s.d)((function(e){return e.global.unreadCounter})),i=Object(s.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),d=Object(s.d)((function(e){return Object.values(e.workspaces.workspaces).find((function(e){return i&&i.id===e.id}))})),p=Object(m.ab)()._t,u={pageTitleDashboard:p("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:p("PAGE_TITLE.POSTS","Posts"),pageTitleChat:p("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:p("PAGE_TITLE.FILES","Files"),pageTitleNotifications:p("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:p("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:p("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:p("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:p("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:p("PAGE_TITLE.TODOS","Reminders"),pageTitleSystemPeople:p("PAGE_TITLE.SYSTEM_PEOPLE","All people"),generalSearch:p("GENERAL.SEARCH","Search"),generalNotifications:p("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:p("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===a?p("SETTINGS.DARK_MODE","dark mode"):p("SETTINGS.LIGHT_MODE","light mode")}),bots:p("SIDEBAR.BOTS","Bots")},f=Object(s.c)(),h=Object(o.useState)(u.pageTitleDashboard),A=Object(G.a)(h,2),E=A[0],b=A[1],g=function(){if(d){var e={id:d.id,workspace_id:0,is_pinned:d.is_favourite?0:1};f(Object(Y.g)(e))}};return Object(o.useEffect)((function(){switch(e.params.page){case"posts":b(u.pageTitlePosts);break;case"chat":b(u.pageTitleChat);break;case"files":b(u.pageTitleFiles);break;case"notifications":b(u.pageTitleNotifications);break;case"people":b(u.pageTitlePeople);break;case"profile":b(u.pageTitleProfile);break;case"search":b(u.pageTitleSearch);break;case"settings":b(u.pageTitleSettings);break;case"todos":b(u.pageTitleTodos);break;default:b(u.pageTitleDashboard)}r.chat_message>=1||r.unread_channel>0?document.title="".concat(E," \u2039 * ").concat(t.company_name," @ Driff"):document.title="".concat(E," \u2039 ").concat(t.company_name," @ Driff")}),[e.params.page,f,E,t.company_name]),c.a.createElement(V,{className:"page-".concat(e.params.page)},c.a.createElement("div",{className:"navbar-left"},c.a.createElement("div",{className:"navbar-nav"},c.a.createElement("div",{className:"navbar-wrap"},c.a.createElement("div",{className:"navbar-top"},c.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},c.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},c.a.createElement(W.s,{icon:"menu"}))),c.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},function(){switch(e.params.page){case"notifications":return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.s,{className:"mr-2",icon:"bell"}),c.a.createElement(J,null,u.pageTitleNotifications));case"profile":return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.s,{className:"mr-2",icon:"user"}),c.a.createElement(J,null,u.pageTitleProfile));case"settings":return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.s,{className:"mr-2",icon:"settings"}),c.a.createElement(J,null,u.pageTitleSettings));case"system":return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.s,{className:"mr-2",icon:"user"}),c.a.createElement(J,null,u.pageTitleSystemPeople));default:return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.s,{className:"mr-2",icon:"home"})," ",c.a.createElement(J,null,t.company_name),i&&c.a.createElement(K,{className:"mr-2",icon:"star",onClick:g,isFavorite:d&&d.is_favourite}))}}())),!["system","notifications","profile","settings"].includes(e.params.page)&&c.a.createElement("div",{className:"navbar-bottom"},c.a.createElement("div",{className:"navbar-main"},c.a.createElement(ee,{dictionary:u})))))),c.a.createElement("div",null,c.a.createElement(z.b,{dictionary:u})))})),Z=(t(656),t(657),t(684),d.a.div(D||(D=Object(i.a)([""])))),X=d.a.ul(L||(L=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n  }\n"]))),$=Object(d.a)(W.k)(F||(F=Object(i.a)(['\n  color: #828282;\n  margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),ee=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,r=Object(s.d)((function(e){return e.global.unreadCounter})),i=Object(s.d)((function(e){return e.chat.lastVisitedChannel})),o=Object(s.d)((function(e){return e.session.user})),l=Object(s.d)((function(e){return e.global.todos.count}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(Z,{className:"".concat(t)},c.a.createElement(X,{className:"navbar-nav"},c.a.createElement("li",{className:"nav-item"},c.a.createElement($,{to:"/dashboard"},a.pageTitleDashboard)),c.a.createElement("li",{className:"nav-item"},c.a.createElement($,{to:null!==i&&i.hasOwnProperty("code")?"/chat/".concat(i.code):"/chat"},a.pageTitleChat," ",c.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.chat_message>0?r.chat_message:null))),c.a.createElement("li",{className:"nav-item"},c.a.createElement($,{to:"/posts"},a.pageTitlePosts," ",c.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.general_post>0?r.general_post:null))),c.a.createElement("li",{className:"nav-item"},c.a.createElement($,{to:"/todos"},a.pageTitleTodos," ",c.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},l.todo_with_date>0?l.todo_with_date:null))),c.a.createElement("li",{className:"nav-item"},c.a.createElement($,{to:"/files"},a.pageTitleFiles)),c.a.createElement("li",{className:"nav-item"},c.a.createElement($,{to:"/people"},a.pageTitlePeople)),o.role&&["owner"].includes(o.role.name)&&c.a.createElement("li",{className:"nav-item"},c.a.createElement($,{to:"/bot"},a.bots)))))})),ne=t(14),te=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,658))})),ae=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,678))})),re=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,659))})),ie=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,660))})),oe=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,661))})),ce=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,663))})),se=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,662))})),le=Object(o.lazy)((function(){return t.e(32).then(t.bind(null,754))})),de=d.a.div(M||(M=Object(i.a)(["\n  position: relative;\n  //padding-bottom: 0 !important;\n  // overflow: hidden;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n"]))),me=d.a.div(B||(B=Object(i.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),pe=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=Object(m.ab)()._t,i={createWorkspace:r("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:r("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},d=Object(s.c)(),p=Object(m.eb)().loggedUser,u=Object(m.ib)(),f=Object(s.d)((function(e){return e.workspaces})),h=f.workspaces,A=f.workspacesLoaded,E=f.favoriteWorkspacesLoaded,b=f.activeTopic,g=f.workspaceTimeline,v=null;Object.keys(g).length&&b&&g[b.id]&&(v=g[b.id]);var O=Object(m.z)(b&&b.member_ids.length?b.member_ids:[]);return c.a.createElement(de,{className:"main-content ".concat(t)},A||E?c.a.createElement(c.a.Fragment,null,Object.keys(h).length>=1?c.a.createElement(c.a.Fragment,null,c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(l.d,null,c.a.createElement(l.b,{render:function(e){return c.a.createElement(le,Object.assign({isExternal:a},e))},path:["/workspace/search"]}),c.a.createElement(l.b,{render:function(){return c.a.createElement(ae,Object.assign({},e,{workspace:b,isMember:O,actions:u,workspaceTimeline:v}))},path:["/workspace/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/dashboard/:workspaceId/:workspaceName","/workspace/dashboard"]}),c.a.createElement(l.b,{exact:!0,render:function(){return c.a.createElement(oe,Object.assign({},e,{workspace:b,isMember:O}))},path:["/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/posts/:workspaceId/:workspaceName","/workspace/posts"]}),c.a.createElement(l.b,{exact:!0,render:function(){return c.a.createElement(te,Object.assign({},e,{workspace:b}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/chat"]}),!a&&c.a.createElement(l.b,{exact:!0,render:function(){return c.a.createElement(te,Object.assign({},e,{workspace:b}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/team-chat/:workspaceId/:workspaceName","/workspace/chat"]}),c.a.createElement(l.b,Object.assign({exact:!0},e,{render:function(e){return c.a.createElement(re,Object.assign({},e,{workspace:b,isMember:O}))},path:["/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/files/:workspaceId/:workspaceName","/workspace/files"]})),c.a.createElement(l.b,{render:function(){return c.a.createElement(ie,Object.assign({},e,{workspace:b,isMember:O}))},path:["/workspace/people/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/people/:workspaceId/:workspaceName","/workspace/people"]}),c.a.createElement(l.b,{render:function(){return c.a.createElement(ce,Object.assign({},e,{workspace:b,isMember:O}))},path:["/workspace/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/reminders/:workspaceId/:workspaceName","/workspace/reminders"]}),c.a.createElement(l.b,Object.assign({},e,{component:se,path:["/workspace/settings/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/settings/:workspaceId/:workspaceName","/workspace/settings"]})),c.a.createElement(l.a,{from:"*",to:{pathname:"/workspace/chat",state:{from:e.location}}})))):c.a.createElement(me,null,c.a.createElement("div",null,c.a.createElement(W.q,{height:275,icon:1}),"external"!==p.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,i.sidebarTextCreateWorkspace),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){d(Object(ne.a)({type:"workspace_create_edit",mode:"add"}))}},i.createWorkspace))))):c.a.createElement("div",{className:"spinner-container"},c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))})),ue=(t(658),t(678),t(659),t(4)),fe=t(0),he=t(748),Ae=t(13);d.a.li(U||(U=Object(i.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"])),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Object(d.a)(W.s)(Q||(Q=Object(i.a)(["\n  width: 12px !important;\n"])));function Ee(){var e=Object(i.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return Ee=function(){return e},e}function be(){var e=Object(i.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return be=function(){return e},e}function ge(){var e=Object(i.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return ge=function(){return e},e}function ve(){var e=Object(i.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"]);return ve=function(){return e},e}d.a.li(ve(),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),Object(d.a)(W.s)(ge()),d.a.ul(be(),(function(e){return e.maxHeight})),Object(d.a)(W.s)(Ee());var Oe,_e,we=t(76),ke=t.n(we),Ce=d.a.div(Oe||(Oe=Object(i.a)(["\n  position: relative;\n  display: flex;\n  margin-left: 6px;\n  align-items: center;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n  .feather.feather-pencil {\n    width: 14px;\n    height: 14px;\n  }\n"]))),ye=Object(d.a)(ke.a)(_e||(_e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),xe=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(m.V)(),r=Object(m.ab)()._t,i={archiveThisWorkspace:r("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:r("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),archiveWorkspace:r("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:r("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:r("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:r("BUTTON.CANCEL","Cancel"),archiveBodyText:r("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:r("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?")},l=Object(o.useRef)(),d=Object(s.c)(),p=Object(s.d)((function(e){return e.workspaces.activeTopic})),u=Object(s.d)((function(e){return e.workspaces.folders})),f=Object(o.useState)(!1),h=Object(G.a)(f,2),A=h[0],E=h[1],b=function(){E(!A)},g=function(e){v(e.target.dataset.name)},v=function(e){var n={mode:"edit",item:p};n="folder"===e?Object(fe.a)(Object(fe.a)({},n),{},{type:"workspace_folder",item:u[p.folder_id]}):Object(fe.a)(Object(fe.a)({},n),{},{type:"workspace_create_edit"}),d(Object(ne.a)(n))},O=function(){var e={id:p.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:p.is_external,push_unarchived:1};d(Object(Ae.pb)(e)),a.success(c.a.createElement("span",null,c.a.createElement("b",null,p.name," workspace is un-archived.")))};return Object(m.D)(l,b,A),Object(m.z)(p?p.member_ids:[])?c.a.createElement(Ce,{className:"nav-item ".concat(t),ref:l},c.a.createElement("div",null,c.a.createElement("span",{className:"dropdown-toggle ".concat(A?"show":""),"data-toggle":"dropdown",onClick:function(){p&&null!==p.folder_id||p&&0===p.active?b():v("workspace")}},c.a.createElement(ye,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Workspace settings"},c.a.createElement(W.s,{icon:"pencil"}))),c.a.createElement("div",{className:"dropdown-menu ".concat(A?"show":"")},1===p.active?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:g},"Folder settings"),c.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:g},"Workspace settings")):c.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){var e={type:"confirmation",cancelText:i.cancel,headerText:i.unarchiveWorkspace,submitText:i.unarchiveWorkspace,bodyText:i.unarchiveBodyText,actions:{onSubmit:O}};d(Object(ne.a)(e))}},"Un-archive workspace")))):null}));function Ne(){var e=Object(i.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return Ne=function(){return e},e}function je(){var e=Object(i.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"]);return je=function(){return e},e}d.a.li(je(),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),Object(d.a)(W.s)(Ne());function Te(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  color: #8b8b8b;\n"]);return Te=function(){return e},e}function Ie(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  color: #cbd4db;\n  .feather {\n    margin-left: 5px;\n  }\n"]);return Ie=function(){return e},e}function Se(){var e=Object(i.a)(["\n  min-width: 0.8rem;\n  min-height: 0.8rem;\n  width: 0.8rem;\n  height: 0.8rem;\n"]);return Se=function(){return e},e}function Re(){var e=Object(i.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  align-self: center;\n"]);return Re=function(){return e},e}function Pe(){var e=Object(i.a)(["\n  display: flex;\n  padding-top: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n  .feather-star {\n    top: -2px;\n    right: -2px;\n  }\n  .feather-folder {\n    margin-right: 5px;\n    width: 0.7rem;\n    height: 0.7rem;\n  }\n  .workspace-folder-name {\n    font-size: 0.7rem;\n  }\n"]);return Pe=function(){return e},e}var De=d.a.div(Pe()),Le=d.a.div(Re()),Fe=Object(d.a)(W.s)(Se()),Me=d.a.div(Ie()),Be=d.a.div(Te()),Ue=function(e){var n=e.isExternal,t=e.onSelectWorkspace,a=e.workspace;return c.a.createElement(De,{onClick:function(){t(a)}},c.a.createElement(rn,{avatarClassName:"avatar-sm",workspace:a}),c.a.createElement(Le,null,c.a.createElement(Me,null,c.a.createElement("span",{className:"text-truncate"},a.name),1===a.is_lock&&c.a.createElement(Fe,{icon:"lock"}),a.is_shared&&!n&&c.a.createElement(Fe,{icon:"eye"})),a.folder_name&&c.a.createElement(Be,{className:"workspace-folder-name"},c.a.createElement(Fe,{icon:"folder"}),c.a.createElement("span",{className:"text-truncate"},a.folder_name))))};function Qe(){var e=Object(i.a)(["\n  position: absolute;\n  right: -7px;\n  top: -4px;\n  z-index: 1;\n  padding: 4px 8px;\n  font-size: 10px;\n  &.badge.badge-primary {\n    background: #3f034a;\n  }\n"]);return Qe=function(){return e},e}function He(){var e=Object(i.a)(["\n  position: relative;\n"]);return He=function(){return e},e}var Ge,We,ze,Ye,Ve,Je,Ke,qe,Ze,Xe,$e,en,nn,tn=d.a.div(He()),an=Object(d.a)(he.a)(Qe()),rn=function(e){var n=e.avatarClassName,t=void 0===n?"":n,a=e.onSelectWorkspace,r=void 0===a?null:a,i=e.workspace;return c.a.createElement(tn,{className:"workspace-icon mr-3"},i.hasOwnProperty("workspace_counter_entries")&&i.workspace_counter_entries>0&&c.a.createElement(an,{className:"badge badge-primary badge-pill ml-1"},i.workspace_counter_entries>99?"99+":i.workspace_counter_entries),c.a.createElement(W.a,{className:t,forceThumbnail:!1,type:"TOPIC",imageLink:i.channel?i.channel.icon_link:null,id:i.id,name:i.name,onClick:r,noDefaultClick:!r,showSlider:!1}))},on=t(683),cn=d.a.div(Ge||(Ge=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .nav-item {\n    display: flex;\n    .mobile-private {\n      display: none;\n    }\n    @media all and (max-width: 440px) {\n      .badge.badge-danger {\n        display: none !important;\n      }\n      .mobile-private {\n        display: block;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 991.99px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n          overflow: auto;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 165px;\n    top: 0;\n  }\n  .profile-slider svg {\n    margin: 0;\n    color: inherit;\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]))),sn=d.a.ul(We||(We=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      max-width: 80px;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    .badge {\n      display: flex;\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-eye {\n      color: inherit;\n      margin-left: 0;\n      margin-right: 0.4rem;\n      width: 11px !important;\n      height: 11px !important;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n    svg.feather-compass {\n      color: rgb(80, 80, 80);\n\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]))),ln=d.a.h2(ze||(ze=Object(i.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),dn=d.a.h2(Ye||(Ye=Object(i.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),mn=d.a.span(Ve||(Ve=Object(i.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),pn=d.a.h3(Je||(Je=Object(i.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .avatar {\n    height: 2rem;\n    width: 2rem;\n    margin-right: 0.25rem;\n  }\n  svg {\n    color: #64625c;\n  }\n  .feather-lock {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),un=d.a.h3(Ke||(Ke=Object(i.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]))),fn=Object(d.a)(W.s)(qe||(qe=Object(i.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n"]))),hn=Object(d.a)(W.s)(Ze||(Ze=Object(i.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),An=function(e){var n=e.isExternal,t=Object(m.V)(),a=Object(s.c)(),r=Object(l.j)(),i=Object(s.d)((function(e){return e.workspaces})),d=i.activeTopic,p=i.folders,u=i.workspacesLoaded,f=Object(s.d)((function(e){return e.settings})),h=f.driff,A=f.user.GENERAL_SETTINGS.dark_mode,E=Object(s.d)((function(e){return e.session.user})),b=Object(m.ab)()._t,g={allWorkspaces:b("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),pageTitleWorkspaceReminders:b("PAGE_TITLE.WORKSPACE_REMINDERS","Reminders"),pageTitleWorkspaceDashboard:b("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:b("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:b("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:b("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:b("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:b("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:b("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:b("PAGE_TITLE.WORKSPACE_SEARCH","Search workspace"),pageTitleSettings:b("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:b("PAGE_TITLE.TODOS","Reminders"),generalSearch:b("GENERAL.SEARCH","Search"),generalNotifications:b("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:b("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===A?b("SETTINGS.DARK_MODE","dark mode"):b("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:b("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:b("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:b("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:b("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:b("WORKSPACE.STATUS_ARCHIVED","Archived"),statusNoWorkspaceExternal:b("WORKSPACE.EXTERNAL_NO_WORKSPACES","You currently don't have any workspaces."),toasterJoinWorkspace:b("TOASTER.JOIN_WORKSPACE","You have joined ::topic_name::",{topic_name:d?"<b>#{activeTopic.name}</b>":""}),withClient:b("PAGE.WITH_CLIENT","With client"),somethingWentWrong:b("TOASTER.SOMETHING_WENT_WRONG","Something went wrong!")},v=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};Object(o.useEffect)((function(){document.body;var e="";switch(r.params.page){case"posts":e=g.pageTitleWorkspacePosts;break;case"chat":e=g.pageTitleWorkspaceChat;break;case"files":e=g.pageTitleWorkspaceFiles;break;case"people":e=g.pageTitleWorkspacePeople;break;case"settings":e=g.pageTitleSettings;break;case"reminders":e=g.pageTitleWorkspaceReminders;break;default:e=g.pageTitleWorkspaceDashboard}d&&(d.unread_chats>=1||d.unread_posts>0?document.title="".concat(e," \u2039 * ").concat(d.name," \u2014 ").concat(h.company_name," @ Driff"):document.title="".concat(e," \u2039 ").concat(d.name," \u2014 ").concat(h.company_name," @ Driff"))}),[r.params.page,a,d,h.company_name]);var O=function(){var e={id:d.id,workspace_id:d.folder_id?d.folder_id:0,is_pinned:d.is_favourite?0:1};a(Object(Y.g)(e,(function(n,a){n?t.error(g.somethingWentWrong):e.is_pinned?t.success(b("TOASTER.ADDED_TO_FAVORITES","::title:: added to favorites",{title:d.name})):t.success(b("TOASTER.REMOVED_FROM_FAVORITES","::title:: removed from favorites",{title:d.name}))})))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(cn,{className:"navbar-left"},c.a.createElement(sn,{className:"navbar-nav"},"search"===r.params.page?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},c.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:v},c.a.createElement(W.s,{icon:"menu"}))),c.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},c.a.createElement(W.s,{className:"mr-2",icon:"compass"}),c.a.createElement(dn,null,g.allWorkspaces))):d?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"navbar-wrap"},c.a.createElement("div",{className:"navbar-top"},c.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},c.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:v},c.a.createElement(W.s,{icon:"menu"}))),null===d.folder_id?c.a.createElement(c.a.Fragment,null,!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item nav-item-folder"},c.a.createElement(ln,null,"Workspaces")),c.a.createElement("li",{className:"nav-item-chevron"},c.a.createElement(W.s,{icon:"chevron-right"}))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(pn,{className:"current-title"},c.a.createElement(W.a,{forceThumbnail:!1,type:d.type,imageLink:d.channel.icon_link,id:"ws_".concat(d.id),name:d.name,noDefaultClick:!1}),c.a.createElement(mn,null,d.name))),1===d.is_lock&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(fn,{icon:"lock",className:"mobile-private ml-1"}),c.a.createElement("div",{className:"badge badge-danger text-white ml-1"},g.statusWorkspacePrivate)),0===d.active&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-light text-white ml-1"},g.statusWorkspaceArchived)),d.is_shared&&!n&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},c.a.createElement(fn,{icon:"eye"})," ",g.withClient)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(hn,{icon:"star",isFav:d.is_favourite,onClick:O})),c.a.createElement("li",{className:"nav-item"},!n&&c.a.createElement(xe,null))):c.a.createElement(c.a.Fragment,null,!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item nav-item-folder"},c.a.createElement(W.s,{icon:"folder",className:"mr-1"}),c.a.createElement(ln,null,c.a.createElement(mn,null,d.folder_name,p.hasOwnProperty(d.folder_id)&&1===p[d.folder_id].is_lock&&c.a.createElement(fn,{icon:"lock",strokeWidth:"2"})," "))),c.a.createElement("li",{className:"nav-item-chevron"},c.a.createElement(W.s,{icon:"chevron-right"}))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(pn,{className:"current-title"},c.a.createElement(W.a,{forceThumbnail:!1,type:d.type,imageLink:d.channel.icon_link,id:"ws_".concat(d.id),name:d.name,noDefaultClick:!1}),c.a.createElement(mn,null,d.name))),1===d.is_lock&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(fn,{icon:"lock",className:"mobile-private ml-1"}),c.a.createElement("div",{className:"badge badge-danger text-white ml-1"},g.statusWorkspacePrivate)),0===d.active&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-light text-white ml-1"},g.statusWorkspaceArchived)),d.is_shared&&!n&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},c.a.createElement(fn,{icon:"eye"})," ",g.withClient)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(hn,{icon:"star",isFav:d.is_favourite,onClick:O})),c.a.createElement("li",{className:"nav-item"},!n&&c.a.createElement(xe,null)))),c.a.createElement("div",{className:"navbar-bottom"},c.a.createElement(l.b,Object.assign({},e,{exact:!0,render:function(e){return c.a.createElement(vn,Object.assign({},e,{user:E,workspace:d}))},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page"]})))),c.a.createElement("li",{className:"nav-item-last"},c.a.createElement("div",{className:"nav-item-avatars-wrap"},c.a.createElement(on.a,{members:d.members})),d.member_ids.includes(E.id)&&!n?c.a.createElement("button",{onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:d};a(Object(ne.a)(e))},className:"btn btn-primary",disabled:0===d.active},c.a.createElement(W.s,{icon:"user-plus"}),g.actionWorkspaceInvite):n?null:c.a.createElement("button",{onClick:function(){a(Object(Y.K)({channel_id:d.channel.id,recipient_ids:[E.id]},(function(e,n){e||t.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:g.toasterJoinWorkspace}}))})))},className:"btn btn-primary",disabled:0===d.active},c.a.createElement(W.s,{icon:"user-plus"}),g.actionWorkspaceJoin))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"nav-item"},u&&c.a.createElement(c.a.Fragment,null,"external"===E.type?c.a.createElement(c.a.Fragment,null,g.statusNoWorkspaceExternal):c.a.createElement(un,{onClick:function(){a(Object(ne.a)({type:"workspace_create_edit",mode:"create"}))}},g.actionWorkspaceNewWorkspace," ",c.a.createElement(W.s,{className:"ml-2",icon:"circle-plus"}))))))),c.a.createElement("div",null,c.a.createElement(z.b,{dictionary:g})))},En=d.a.div(Xe||(Xe=Object(i.a)([""]))),bn=d.a.ul($e||($e=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),gn=Object(d.a)(W.k)(en||(en=Object(i.a)(['\n  color: #828282;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),vn=c.a.memo((function(e){var n=Object(l.g)(),t=e.className,a=void 0===t?"":t,r=e.workspace,i=e.user,o=Object(s.d)((function(e){return e.workspaces.workspaceReminders})),d=Object(l.i)(),p="undefined"!==typeof o[d.workspaceId],u=e.match.url;if("/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path)u=u.split("/post/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path)u=u.split("/folder/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:workspaceId/:workspaceName"===e.match.path&&"undefined"===typeof e.match.params.page){var f=u.split("/");f.splice(2,0,"chat"),n.push(f.join("/"))}else u=u.replace("/workspace/".concat(e.match.params.page),"");var h=Object(m.ab)()._t,A={pageTitleDashboard:h("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:h("PAGE_TITLE.POSTS","Posts"),pageTitleChat:h("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:h("PAGE_TITLE.FILES","Files"),pageTitlePeople:h("PAGE_TITLE.PEOPLE","People"),pageTitleClientChat:h("PAGE_TITLE.CLIENT_CHAT","Client chat"),pageTitleTeamChat:h("PAGE_TITLE.TEAM_CHAT","Team chat"),pageTitleReminders:h("PAGE_TITLE.REMINDERS","Reminders")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(En,{className:"".concat(a)},c.a.createElement(bn,{className:"navbar-nav"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(gn,{isSub:!0,to:"/workspace/dashboard".concat(u)},A.pageTitleDashboard)),(r&&"internal"===i.type&&r.is_shared||r&&"internal"===i.type&&r.team_channel.code)&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(gn,{isSub:!0,to:"/workspace/team-chat".concat(u)},A.pageTitleTeamChat,null!==r&&(null===r||void 0===r?void 0:r.team_unread_chats)>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.team_unread_chats))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(gn,{isSub:!0,to:"/workspace/chat".concat(u)},r&&r.is_shared&&"internal"===i.type?A.pageTitleClientChat:A.pageTitleChat,null!==r&&r.unread_chats>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_chats))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(gn,{isSub:!0,to:"/workspace/posts".concat(u)},A.pageTitlePosts,null!==r&&r.unread_posts>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_posts))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(gn,{isSub:!0,to:"/workspace/reminders".concat(u)},A.pageTitleReminders,p&&o[d.workspaceId].count.todo_with_date>0&&c.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},o[d.workspaceId].count.todo_with_date))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(gn,{isSub:!0,to:"/workspace/files".concat(u)},A.pageTitleFiles)),c.a.createElement("li",{className:"nav-item"},c.a.createElement(gn,{isSub:!0,to:"/workspace/people".concat(u)},A.pageTitlePeople)))))})),On=(t(660),t(661),t(662),t(7)),_n=t(629),wn=t.n(_n),kn=d.a.div(nn||(nn=Object(i.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"])));c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(m.L)(),r=Object(m.lb)(),i=Object(s.d)((function(e){return e.workspaces.search})),l=Object(s.d)((function(e){return e.session.user})),d=i.count,p=i.maxPage,u=i.page,f=i.results,h=i.searching,A=i.filter_by,E=i.value;Object(o.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===E&&(r.search({search:"",skip:0,limit:25,filter_by:A},(function(e,n){e?r.updateSearch(Object(fe.a)(Object(fe.a)({},i),{},{searching:!1})):r.updateSearch(Object(fe.a)(Object(fe.a)({},i),{},{filter_by:A,searching:!1,count:n.data.total_count,results:n.data.workspaces,maxPage:Math.ceil(n.data.total_count/25)}))})),r.updateSearch(Object(fe.a)(Object(fe.a)({},i),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var b=Object(m.ab)()._t,g={labelResultsFor:b("LABEL.RESULTS_FOR","results found for: "),labelSearching:b("LABEL.SEARCHING","Searching "),sidebarWorkspaces:b("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:b("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:b("BUTTON.PREV_PAGE","Previous")};return c.a.createElement(kn,{className:"user-search-panel container-fluid h-100 ".concat(t)},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement(Xn,{actions:r,search:i}),""!==E?c.a.createElement("h4",{className:"mb-5"},c.a.createElement(W.s,{icon:"search"}),h&&c.a.createElement("span",null,g.labelSearching,c.a.createElement("span",{className:"text-primary"},"\u201c",E,"\u201d")),!h&&c.a.createElement("span",null,d," ",g.labelResultsFor,c.a.createElement("span",{className:"text-primary"},"\u201c",E,"\u201d"))):c.a.createElement("h4",{className:"mb-5"},f.length>0&&c.a.createElement("span",null,d," ",g.sidebarWorkspaces)),f.length>0&&c.a.createElement(Wn,{user:l,actions:r,page:u,results:f,redirect:a}),d>25&&c.a.createElement("nav",{className:"mt-3"},c.a.createElement(wn.a,{previousLabel:g.buttonPrevPage,nextLabel:g.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:p,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1;f.length===d?r.updateSearch(Object(fe.a)(Object(fe.a)({},i),{},{filter_by:A,page:n})):(f.length<25*n&&r.search({search:E,skip:f.length,limit:25*n-f.length,filter_by:A},(function(e,t){e?r.updateSearch(Object(fe.a)(Object(fe.a)({},i),{},{searching:!1,filter_by:A})):r.updateSearch(Object(fe.a)(Object(fe.a)({},i),{},{searching:!1,filter_by:A,count:t.data.total_count,results:[].concat(Object(On.a)(t.data.workspaces),Object(On.a)(f)),maxPage:Math.ceil(t.data.total_count/25),page:n}))})),r.updateSearch(Object(fe.a)(Object(fe.a)({},i),{},{filter_by:A,value:E,searching:!0,page:n})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))}));function Cn(){var e=Object(i.a)(["\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n"]);return Cn=function(){return e},e}function yn(){var e=Object(i.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  stroke-width: 3px;\n  margin-right: 3px;\n  margin-bottom: 0.1rem;\n"]);return yn=function(){return e},e}function xn(){var e=Object(i.a)(["\n  width: 1rem;\n  height: 1rem;\n  stroke-width: 2px;\n"]);return xn=function(){return e},e}function Nn(){var e=Object(i.a)(["\n  margin-left: auto;\n  display: none;\n"]);return Nn=function(){return e},e}function jn(){var e=Object(i.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  :hover {\n    button {\n      display: inline-flex;\n    }\n  }\n"]);return jn=function(){return e},e}var Tn,In,Sn,Rn,Pn,Dn,Ln,Fn,Mn=d.a.li(jn()),Bn=d.a.button(Nn()),Un=Object(d.a)(W.s)(xn()),Qn=Object(d.a)(W.s)(yn()),Hn=Object(d.a)(W.s)(Cn()),Gn=function(e){var n=e.dictionary,t=e.onJoinWorkspace,a=e.onLeaveWorkspace,r=e.item,i=e.redirect,o=e.workspaces,s=r.topic,l=r.workspace,d=Object(m.z)(r.members.map((function(e){return e.id})));return c.a.createElement(Mn,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:s.id,name:s.name,folder_id:l?l.id:null,folder_name:l?l.name:null};o.hasOwnProperty(s.id)?i.toWorkspace(e):i.fetchWorkspaceAndRedirect(e)}},c.a.createElement("div",{className:"workspace-search-detail"},c.a.createElement("div",{className:"workspace-title-status"},c.a.createElement("h5",null,s.name),s.is_locked&&c.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelPrivate),s.is_archive&&c.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelArchived),!s.is_archive&&!s.is_locked&&c.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelOpen),s.is_shared&&c.a.createElement("span",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},c.a.createElement(Hn,{icon:"eye"})," ",n.externalAccess)),c.a.createElement("ul",{className:"workspace-detail-lists"},d&&c.a.createElement("li",{className:"text-success"},c.a.createElement(Un,{icon:"check"}),n.labelJoined),c.a.createElement("li",null,r.members.length," ",1===r.members.length?n.member:n.members),c.a.createElement("li",null,c.a.createElement(Qn,{icon:"folder"}),l?l.name:"Workspaces"),c.a.createElement("li",null,Object(p.j)(s.description)))),d?c.a.createElement(Bn,{onClick:function(e){e.stopPropagation(),a(r)},className:"btn btn-primary join-button"},n.buttonLeave):c.a.createElement(Bn,{onClick:function(e){e.stopPropagation(),t(r)},className:"btn btn-primary join-button"},c.a.createElement(W.s,{icon:"user-plus"}),n.buttonJoin))},Wn=function(e){var n=e.actions,t=e.page,a=e.results,r=e.redirect,i=e.user,o=Object(s.c)(),l=Object(s.d)((function(e){return e.workspaces.workspaces})),d=Object(m.V)(),p=Object(m.ab)()._t,u={labelArchived:p("LABEL.ARCHIVED","Archived"),labelPrivate:p("LABEL.PRIVATE","Private"),labelOpen:p("LABEL.OPEN","Open"),labelJoined:p("LABEL.JOINED","Joined"),sidebarWorkspaces:p("SIDEBAR.WORKSPACES","Workspaces"),member:p("LABEL.MEMBER","member"),members:p("LABEL.MEMBERS","members"),buttonJoin:p("BUTTON.JOIN","Join"),buttonLeave:p("BUTTON.LEAVE","Leave"),leaveWorkspace:p("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:p("TOASTER.JOIN_WORKSPACE","You have joined #"),externalAccess:p("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access")},f=function(e){var t={channel_id:e.channel.id,recipient_ids:[i.id]};n.join(t,(function(n,t){n||(!function(e){var n={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};l.hasOwnProperty(e.topic.id)?r.toWorkspace(n):r.fetchWorkspaceAndRedirect(n)}(e),d.success(c.a.createElement(c.a.Fragment,null,u.joinWorkspace,c.a.createElement("b",null,e.topic.name))))}))},h=function(e){if(1===e.members.length&&e.topic.is_locked){var n={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};o(Object(Ae.pb)(n))}else{var t={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[i.id]};t.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:i.id,name:i.name,first_name:i.first_name,partial_name:i.partial_name,profile_image_link:i.profile_image_thumbnail_link?i.profile_image_thumbnail_link:i.profile_image_link},title:"",added_members:[],removed_members:[i.id]}));o(Object(Y.M)({workspace_id:e.topic.id,channel_id:e.channel.id},(function(n,t){n||d.success(c.a.createElement(c.a.Fragment,null,u.leaveWorkspace,c.a.createElement("b",null,e.topic.name)))}))),o(Object(Y.T)(t))}};return c.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},c.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},c.a.createElement("ul",{className:"list-group list-group-flush"},a.sort((function(e,n){return e.topic.name.localeCompare(n.topic.name)})).slice(t>1?25*t-25:0,25*t).map((function(e){return c.a.createElement(Gn,{key:e.topic.id,dictionary:u,onJoinWorkspace:f,onLeaveWorkspace:h,item:e,redirect:r,workspaces:l})})))))},zn=t(31),Yn=d.a.div(Tn||(Tn=Object(i.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"])),""),Vn=Object(d.a)(W.s)(In||(In=Object(i.a)(["\n  stroke-width: 2px;\n"]))),Jn=d.a.div(Sn||(Sn=Object(i.a)([""]))),Kn=d.a.div(Rn||(Rn=Object(i.a)(["\n  margin-bottom: 5px;\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n"]))),qn=d.a.ul(Pn||(Pn=Object(i.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  label {\n    margin: 0;\n  }\n  .custom-control {\n    min-height: 1rem;\n  }\n"]))),Zn=d.a.div(Dn||(Dn=Object(i.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"])),(function(e){return e.maxHeight})),Xn=function(e){var n=e.actions,t=e.search,a=t.value,r=t.searching,i=t.filterBy,s=t.filters,l=Object(o.useState)(a),d=Object(G.a)(l,2),p=d[0],u=d[1],f=Object(o.useState)(i),h=Object(G.a)(f,2),A=h[0],E=h[1],b=Object(o.useState)(s),g=Object(G.a)(b,2),v=g[0],O=g[1],_=function(){n.search({search:p,skip:0,limit:25,filter_by:A},(function(e,a){e?n.updateSearch(Object(fe.a)(Object(fe.a)({},t),{},{searching:!1})):n.updateSearch(Object(fe.a)(Object(fe.a)({},t),{},{value:p,filter_by:A,searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25),page:1}))})),n.updateSearch({results:[],value:p,filter_by:A,searching:!0})},w=function(){n.updateSearch({results:[],searching:!0,value:"",filter_by:"",page:1,maxPage:1,count:0}),n.search({search:"",skip:0,limit:25,filter_by:""},(function(e,a){e?n.updateSearch(Object(fe.a)(Object(fe.a)({},t),{},{searching:!1,value:"",filter_by:""})):n.updateSearch(Object(fe.a)(Object(fe.a)({},t),{},{value:"",filter_by:"",searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25)}))})),u("")},k=function(e){var n=e.target.dataset.name;O((function(e){return function(e,n){E((function(t){return e[n].checked?"":n})),e[n].checked=!e[n].checked;var t=Object.values(e).reduce((function(e,t){return n!==t.key&&(t.checked=!1,e[t.key]=Object(fe.a)({},t)),e}),{});return Object(fe.a)(Object(fe.a)({},e),t)}(e,n)}))};Object(o.useEffect)((function(){Object.values(v).map((function(e){return e.checked})).includes(!0)&&!r||a?n.updateSearch({results:[],value:p,filter_by:A,searching:!0},(function(){_()})):w()}),[A]),Object(o.useEffect)((function(){u(a)}),[a]);var C=Object(m.ab)()._t,y={searchWorkspaceSearchPlaceholder:C("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:C("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:C("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:C("WORKSPACE.PRIVATE","Private"),archived:C("WORKSPACE.ARCHIVED","Archived"),nonMember:C("WORKSPACE.NON_MEMBER","Non Member"),new:C("WORKSPACE.NEW","New"),external:C("WORKSPACE.EXTERNAL","External")};return c.a.createElement(Yn,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row d-flex justify-content-center"},c.a.createElement("h2",{className:"mb-4 text-center"},y.searchWorkspaceSearchTitle),c.a.createElement("div",{className:"input-group"},c.a.createElement(Jn,{className:"input-wrap"},c.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==a?w():u(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||r||_()},type:"text",className:"form-control",placeholder:y.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:p}),""!==p.trim()&&c.a.createElement("button",{className:"btn-cross",type:"button",onClick:w},c.a.createElement(Vn,{icon:"x"}))),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:_},c.a.createElement(W.s,{icon:"search"})))),c.a.createElement(Zn,{className:"enter-active"},c.a.createElement("div",{className:"row d-flex justify-content-center my-3"},c.a.createElement(Kn,{className:"px-3"},c.a.createElement(W.s,{icon:"sliders"})),c.a.createElement(qn,{className:"d-flex"},Object.values(v).map((function(e){return c.a.createElement("li",{className:"d-flex align-items-center mr-2",key:e.key},c.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success"},c.a.createElement(zn.a,{name:e.key,checked:e.checked,type:"danger",onClick:k})),c.a.createElement("span",null,y[e.key]))}))))))))},$n=(t(663),d.a.div(Ln||(Ln=Object(i.a)([""])))),et=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal;return Object(o.useEffect)((function(){document.body.classList.add("stretch-layout")}),[]),c.a.createElement($n,{className:"header ".concat(t)},c.a.createElement(l.d,null,c.a.createElement(l.b,{render:function(){return c.a.createElement(An,Object.assign({isExternal:a},e))},path:["/workspace/:page"]}),c.a.createElement(l.b,{render:function(){return c.a.createElement(q,Object.assign({isExternal:a},e))},path:["/:page"]})))})),nt=d.a.div(Fn||(Fn=Object(i.a)([""]))),tt=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.showNotificationBar;return c.a.createElement(nt,{className:"navigation ".concat(t," ").concat(a&&"notification-bar")},c.a.createElement(l.b,{exact:!0,render:function(){return c.a.createElement(jt,e)},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile/:id","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people","/magic-link/:token","/zoom/:channelId","/zoom","/:page"]}))})),at=t(587);function rt(){var e=Object(i.a)([""]);return rt=function(){return e},e}function it(){var e=Object(i.a)(["\n  padding: 15px 30px 0 30px;\n  color: #cbd4db;\n  > div {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      :hover {\n        cursor: pointer;\n        color: #fff;\n      }\n    }\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n    margin-right: 15px;\n  }\n"]);return it=function(){return e},e}var ot,ct,st,lt,dt,mt,pt,ut,ft,ht,At,Et,bt,gt,vt=d.a.div(it()),Ot=Object(d.a)(W.s)(rt()),_t=function(e){var n=e.dictionary,t=e.isExternal,a=e.onShowModalButtons,r=e.showButtons,i={btn1Ref:Object(o.useRef)(null),btn2Ref:Object(o.useRef)(null),btn3Ref:Object(o.useRef)(null),btn4Ref:Object(o.useRef)(null)},l=Object(s.c)(),d=Object(m.V)();return Object(m.D)(i.btn1Ref,a,r),Object(m.D)(i.btn2Ref,a,r),Object(m.D)(i.btn3Ref,a,r),Object(m.D)(i.btn4Ref,a,r),c.a.createElement(at.a,{appear:!0,in:r,timeout:300,unmountOnExit:!0,classNames:"bslide"},c.a.createElement(vt,null,!t&&c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),l(Object(ne.a)({type:"chat_create_edit",mode:"new"}))},ref:i.btn1Ref},c.a.createElement(Ot,{icon:"message-circle"}),n.chat)),c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),l(Object(ne.a)({type:"post_modal",mode:"create",item:{post:null}}))},ref:i.btn2Ref},c.a.createElement(Ot,{icon:"file-text"}),n.post)),c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){var e={type:"todo_reminder",actions:{onSubmit:function(e){l(Object(ne.L)(e,(function(e,t){e&&d.error(n.toasterGeneraError),t&&d.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.toasterCreateTodo}}))})))}}};a(),l(Object(ne.a)(e))},ref:i.btn3Ref},c.a.createElement(Ot,{icon:"calendar"}),n.reminder)),!t&&c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),l(Object(ne.a)({type:"workspace_create_edit",mode:"create"}))},ref:i.btn4Ref},c.a.createElement(Ot,{icon:"compass"}),n.workspace))))},wt=d.a.div(ot||(ot=Object(i.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //padding: 30px;\n    margin-bottom: 1rem;\n    min-height: 74px;\n    max-height: 74px;\n    background-color: #3f034a;\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 20px 0;\n    }\n    .dark & {\n      background-color: inherit;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]))),kt=Object(d.a)(W.r)(ct||(ct=Object(i.a)(["\n  width: 84px;\n  height: 56px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]))),Ct=Object(d.a)(W.s)(st||(st=Object(i.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]))),yt=d.a.button(lt||(lt=Object(i.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 15px 30px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  color: #ffffff !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]))),xt=d.a.span(dt||(dt=Object(i.a)(['\n  cursor: pointer;\n  position: absolute;\n  left: 30px;\n  :before {\n    content: "";\n    position: absolute;\n    width: 6px;\n    height: 6px;\n    right: -6px;\n    border-radius: 50%;\n    top: -2px;\n    background: #f44;\n  }\n']))),Nt=Object(d.a)(W.s)(mt||(mt=Object(i.a)([""]))),jt=function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=Object(l.g)(),i=Object(s.c)(),d=Object(s.d)((function(e){return e.global.todos.count})),p=Object(m.Q)(),u=p.updateCompanyName,f=p.driffSettings,h=p.generalSettings,A=p.userSettings,E=Object(s.d)((function(e){return e.session.user})),b=Object(m.ab)()._t,g=Object(o.useState)(!1),v=Object(G.a)(g,2),O=v[0],_=v[1],w={allWorkspaces:b("SIDEBAR.ALL_WORKSPACES","Browse workspaces"),people:b("SIDEBAR.PEOPLE","All people"),workspace:b("SIDEBAR.WORKSPACE","Workspace"),workspaces:b("SIDEBAR.WORKSPACES","Workspaces"),chats:b("SIDEBAR.CHATS","Chats"),yourWorkspaces:b("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:b("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:b("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:b("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:b("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:b("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:b("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:b("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:b("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:b("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:b("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:b("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:b("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:b("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace"),bots:b("SIDEBAR.BOTS","Bots"),favoriteWorkspaces:b("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),browseAll:b("SIDEBAR.BROWSE_ALL","Browse all..."),toasterCreateTodo:b("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterGeneraError:b("TOASTER.GENERAL_ERROR","An error has occurred try again!"),chat:b("SIDEBAR.CHAT","Chat"),post:b("SIDEBAR.POST","Post"),reminder:b("SIDEBAR.REMINDER","Reminder"),addNew:b("SIDEBAR.ADD_NEW","Add new"),startBrowsing:b("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:b("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:E.first_name}),newFolder:b("TOOLTIP.NEW_FOLDER","New folder")},k=function(){_((function(e){return!e}))};return c.a.createElement(wt,{className:"navigation-menu-tab ".concat(t)},c.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},(f.READ_RELEASE_UPDATES&&A.READ_RELEASE_UPDATES&&f.READ_RELEASE_UPDATES.timestamp>A.READ_RELEASE_UPDATES.timestamp||null===(null===A||void 0===A?void 0:A.READ_RELEASE_UPDATES))&&c.a.createElement(xt,null,c.a.createElement(Nt,{icon:"gift",color:"#fff",onClick:function(){r.push("/releases")}})),c.a.createElement(kt,{icon:"driff-logo2","data-link":"/",onClick:function(e){e.preventDefault(),e.target.dataset.link?i(Object(ne.W)({mode:3})):i(Object(ne.W)({mode:2})),r.push(e.target.dataset.link)}}),c.a.createElement(Sa,null)),c.a.createElement(ba,{count:d,dictionary:w,isExternal:a,driffSettings:f,user:E,updateCompanyName:u}),c.a.createElement(Mt,{dictionary:w,generalSettings:h,isExternal:a,user:E}),c.a.createElement(_t,{dictionary:w,isExternal:a,onShowModalButtons:k,showButtons:O}),c.a.createElement("div",null,c.a.createElement(yt,{onClick:k,className:"btn btn-outline-light",type:"button"},c.a.createElement("div",null,c.a.createElement(Ct,{icon:"circle-plus"}),w.addNew))))},Tt=d.a.div(pt||(pt=Object(i.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  min-height: 0;\n"]))),It=Object(d.a)(ke.a)(ut||(ut=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),St=Object(d.a)(W.s)(ft||(ft=Object(i.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n  margin-left: 5px;\n"]))),Rt=d.a.div(ht||(ht=Object(i.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]))),Pt=d.a.div(At||(At=Object(i.a)(["\n  margin: 0 15px;\n  display: flex;\n  align-items: center;\n  color: rgba(255, 255, 255, 0.6);\n  border-top: 2px solid;\n  padding: 15px 0;\n  > span {\n    margin-left: 15px;\n  }\n"]))),Dt=d.a.span(Et||(Et=Object(i.a)(["\n  color: rgba(255, 255, 255, 0.6);\n  text-decoration: underline;\n  :hover {\n    cursor: pointer;\n  }\n"]))),Lt=d.a.div(bt||(bt=Object(i.a)(["\n  padding: 0 30px;\n  overflow: auto;\n"]))),Ft=d.a.div(gt||(gt=Object(i.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  color: #cbd4db;\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]))),Mt=function(e){var n=e.dictionary,t=e.isExternal,a=e.user,r=Object(s.c)(),i=Object(m.hb)(),o=i.actions,l=i.folders,d=i.history,p=i.orderChannel,u=i.workspaces,f=i.favoriteWorkspacesLoaded,h=Object(s.d)((function(e){return e.chat.selectedChannelId})),A=Object(s.d)((function(e){return Object.keys(e.chat.channels)})),E=Object(s.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),b=Object(s.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),g=Object.values(u).find((function(e){return b&&b.id===e.id})),v=Object(s.d)((function(e){return e.chat.companyChannel})),O=function(){r(Object(ne.a)({type:"workspace_create_edit",mode:"create"}))},_=Object.values(u).sort((function(e,n){return"channel_date_updated"===p.order_by?-1:e.name.localeCompare(n.name)})).filter((function(e){return e.is_favourite})),w=function(e){if(g&&e.id===g.id&&v)d.push("/chat/".concat(v.code)),o.selectChannel({id:v.id});else{if(document.body.classList.remove("navigation-show"),h&&!E){var n=document.getElementById("component-chat-thread");n&&r(Object(Ae.Gb)({channel_id:h,scrollPosition:n.scrollHeight-n.scrollTop}))}h&&h!==e.channel.id&&A.some((function(n){return parseInt(n)===e.channel.id}))&&o.selectChannel({id:e.channel.id}),o.selectWorkspace(e),o.redirectTo(e)}},k=function(){d.push("/workspace/search")},C=function(){return c.a.createElement(Rt,null,c.a.createElement("div",null,c.a.createElement(W.q,{height:200,icon:2}),"external"!==a.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,n.sidebarTextCreateWorkspace),c.a.createElement("button",{className:"btn btn-primary mt-2",onClick:O},n.createWorkspace))))};return c.a.createElement(Tt,null,c.a.createElement(Pt,null,c.a.createElement("span",null,n.favoriteWorkspaces),!t&&c.a.createElement(It,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:n.newFolder},c.a.createElement(St,{onClick:function(){r(Object(ne.a)({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),c.a.createElement(Lt,null,c.a.createElement("div",{id:"elements",className:"open"},f&&Object.values(u).length>0&&0===_.length&&c.a.createElement(Ft,null,c.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.addYourFavWs}}),c.a.createElement(Dt,{onClick:k},n.startBrowsing)),f&&0===Object.values(l).length&&0===Object.values(u).length&&c.a.createElement(C,null),f&&Object.values(u).length>0&&_.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,_.map((function(e){return c.a.createElement(Ue,{key:e.id,isExternal:t,onSelectWorkspace:w,workspace:e})}))),c.a.createElement(Dt,{onClick:k},n.browseAll)))))};function Bt(){var e=Object(i.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return Bt=function(){return e},e}function Ut(){var e=Object(i.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n  width: 1rem !important;\n  height: 1rem !important;\n"]);return Ut=function(){return e},e}function Qt(){var e=Object(i.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  &.enter-active {\n    max-height: 250px;\n    overflow: scroll;\n  }\n  // &.enter-active {\n  //   max-height: ","px !important;\n  // }\n  &.leave-active {\n    max-height: 0;\n  }\n  li.personal-link {\n    min-height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      min-height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      &.shorcut-title {\n        padding-left: 0.5rem;\n        font-weight: 500;\n      }\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n  li.shorcut-title-link {\n    padding: 0;\n\n    .shorcut-title {\n      background: #ffffff10;\n    }\n  }\n"]);return Qt=function(){return e},e}function Ht(){var e=Object(i.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s ease;\n  > a {\n    position: relative;\n    font-weight: ",";\n    display: flex;\n    color: #fff;\n    height: 40px;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n  .quick-links {\n    .feather-pencil {\n      display: none;\n    }\n    &:hover {\n      .sub-menu-arrow {\n        margin-left: ",";\n      }\n      .feather-pencil {\n        display: ",";\n      }\n    }\n  }\n"]);return Ht=function(){return e},e}var Gt=d.a.li(Ht(),(function(e){return e.selected?"600":"400"}),(function(e){return e.showEditIcon?"10px":"auto"}),(function(e){return e.showEditIcon?"block":"none"})),Wt=d.a.ul(Qt(),(function(e){return e.maxHeight})),zt=Object(d.a)(W.s)(Ut()),Yt=Object(d.a)(W.s)(Bt()),Vt=function(e){var n=e.className,t=void 0===n?"":n,a=e.user,r=e.dictionary,i=Object(m.Q)(),l=i.generalSettings,d=i.showModal,p=Object(s.d)((function(e){return e.global.links})),u=new RegExp("^(http|https)://"),f={container:Object(o.useRef)(),arrow:Object(o.useRef)(),nav:Object(o.useRef)()},h=Object(o.useState)(!1),A=Object(G.a)(h,2),E=A[0],b=A[1],g=function(e){var n=e.currentTarget.dataset.index;d("personal_link_edit",Object(fe.a)(Object(fe.a)({},l.personal_links[n]),{},{index:n}))};return c.a.createElement(Gt,{ref:f.container,className:"fadeIn ".concat(t," ").concat(E&&"folder-open"),selected:E,showEditIcon:a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)},c.a.createElement("a",{className:"quick-links",href:"/",onClick:function(e){e.preventDefault(),b((function(e){return!e}))}},c.a.createElement(zt,{icon:"link"}),c.a.createElement("div",null,r.shortcuts),a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)&&c.a.createElement(Yt,{icon:"pencil",onClick:function(){window.open("".concat("https://").concat(localStorage.getItem("slug"),".driff.io/admin/quick-links"),"_blank")}}),c.a.createElement("i",{ref:f.arrow,className:"sub-menu-arrow ti-angle-up ".concat(E?"ti-minus rotate-in":"ti-plus")})),c.a.createElement(Wt,{ref:f.nav,className:E?"enter-active":"leave-active"},c.a.createElement("li",{className:"personal-link shorcut-title-link"},c.a.createElement("div",{className:"shorcut-title"},r.personalLinks)),l.personal_links.map((function(e,n){return c.a.createElement("li",{key:n,className:"personal-link"},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("a",{href:u.test(e.web_address)?e.web_address:"https://".concat(e.web_address),target:"_blank",rel:"noopener noreferrer"},e.name)),c.a.createElement("div",{className:"action"},c.a.createElement(W.s,{className:"cursor-pointer","data-index":n,icon:"pencil",onClick:g}))))})),l.personal_links.length<5&&c.a.createElement("li",{className:"personal-link nav-action cursor-pointer",onClick:function(){d("personal_link_create")}},c.a.createElement("div",{className:"justify-content-start"},c.a.createElement(W.s,{icon:"circle-plus",width:24,height:24})," ",r.addPersonalShortcut)),"external"!==a.type&&p.map((function(e,n){return c.a.createElement(c.a.Fragment,{key:e.id},0===n&&c.a.createElement("li",{className:"personal-link shorcut-title-link pt-2"},c.a.createElement("div",{className:"shorcut-title"},r.companyLinks)),c.a.createElement(qt,{link:e,className:"quick-links"}))}))))};function Jt(){var e=Object(i.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  div {\n    position: relative;\n    height: 40px;\n    display: inline-flex;\n    align-items: center;\n    svg {\n      margin-left: 6px;\n    }\n    a {\n      display: block;\n      background-color: transparent;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return Jt=function(){return e},e}var Kt=d.a.li(Jt(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),qt=function(e){var n=e.className,t=void 0===n?"":n,a=e.link;return c.a.createElement(Kt,{className:"topic-list ".concat(t)},c.a.createElement("div",null,c.a.createElement("a",{href:a.link,target:"_blank"},a.menu_name)))};function Zt(){var e=Object(i.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return Zt=function(){return e},e}function Xt(){var e=Object(i.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  li {\n    height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return Xt=function(){return e},e}function $t(){var e=Object(i.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n"]);return $t=function(){return e},e}d.a.li($t(),(function(e){return e.selected?"600":"400"})),d.a.ul(Xt(),(function(e){return e.maxHeight})),Object(d.a)(W.s)(Zt());function ea(){var e=Object(i.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return ea=function(){return e},e}function na(){var e=Object(i.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n"]);return na=function(){return e},e}d.a.li(na(),(function(e){return e.selected?"600":"400"})),Object(d.a)(W.s)(ea());var ta,aa,ra,ia,oa,ca,sa,la,da,ma,pa,ua,fa=d.a.div(ta||(ta=Object(i.a)(["\n  .badge {\n    padding: 4px 8px;\n    font-size: 9px;\n  }\n"]))),ha=d.a.div(aa||(aa=Object(i.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]))),Aa=Object(d.a)(W.s)(ra||(ra=Object(i.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]))),Ea=Object(d.a)(W.k)(ia||(ia=Object(i.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px;\n  border-radius: 8px;\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]))),ba=function(e){var n=e.dictionary,t=e.isExternal,a=e.driffSettings,r=e.user,i=e.updateCompanyName,d=Object(l.i)(),m=Object(l.h)(),p=Object(s.d)((function(e){return e.chat.lastVisitedChannel})),u=Object(o.useState)(a.company_name),f=Object(G.a)(u,2),h=f[0],A=f[1],E=Object(o.useState)(!1),b=Object(G.a)(E,2),g=b[0],v=b[1],O=Object(o.useRef)(null);Object(o.useEffect)((function(){O.current&&O.current.select()}),[g]);var _=function(){document.body.classList.remove("navigation-show")},w=function(){v((function(e){var n=!e;return n||a.company_name===h||i({company_name:h}),n}))};return c.a.createElement(fa,{className:"flex navigation-menu-tab-header-options"},c.a.createElement("ul",null,!t&&c.a.createElement("li",{onClick:_,className:"driff-company-name ".concat(g?"active":"")},g?c.a.createElement(ha,{className:"active"},c.a.createElement(Aa,{icon:"home"}),c.a.createElement("input",{ref:O,defaultValue:a.company_name,onChange:function(e){A(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:w();break;default:return}},name:"company-name",autoFocus:!0})):c.a.createElement(Ea,{active:["dashboard","posts","chat","files","people"].includes(d.page),to:null!==p&&p.hasOwnProperty("code")?"/chat/".concat(p.code):"/chat"},c.a.createElement(Aa,{icon:"home"}),a.company_name),r.role&&["owner","admin"].includes(r.role.name)&&c.a.createElement(c.a.Fragment,null,g?c.a.createElement(W.s,{className:"action",onClick:w,icon:"save"}):c.a.createElement(W.s,{className:"action",onClick:w,icon:"pencil"}))),c.a.createElement("li",{onClick:_},c.a.createElement(Ea,{to:"/workspace/search",active:["/workspace/search"].includes(m.pathname)},c.a.createElement(Aa,{icon:"compass"}),c.a.createElement("div",null,n.allWorkspaces))),"internal"===r.type&&c.a.createElement("li",{onClick:_},c.a.createElement(Ea,{to:"/system/people",active:["/system/people"].includes(m.pathname)},c.a.createElement(Aa,{icon:"user"}),c.a.createElement("div",null,n.people))),c.a.createElement(Vt,{user:r,dictionary:n})))},ga=t(57),va=t(54),Oa=t(153),_a=t(621),wa=Object(d.a)(W.s)(oa||(oa=Object(i.a)(["width: 12px;height:12px;"]))),ka=(Object(d.a)(W.s)(ca||(ca=Object(i.a)(["\nwidth: 16px;  height:16px;"]))),d.a.div(sa||(sa=Object(i.a)(["\n  cursor: pointer;\n  display: flex;\n  font-family: Inter;\n  letter-spacing: 0;\n  font-size: 12px;\n  color: ",";\n  .avatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  p {\n    margin: 0;\n  }\n  .chat-header-icon {padding:0px !important;}\n  .badge-grey-ghost { background-color: white !important ; color: grey !important; border: 1px solid grey !important;}\n"])),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"}))),Ca=d.a.div(la||(la=Object(i.a)(["display: inline-block;\nwidth: 180px;\nwhite-space: nowrap;\noverflow: hidden !important;\ntext-overflow: ellipsis;\nline-height: 1 !important;"]))),ya=d.a.p(da||(da=Object(i.a)(["display: inline-block;\nwidth: 180px;\noverflow: hidden !important;\ntext-overflow: ellipsis;\nline-height: 1 !important;\nfont-size: 14px;\nwhite-space: nowrap;"]))),xa=d.a.div(ma||(ma=Object(i.a)(["display: inline-block;margin-top:3px"]))),Na=function(e){e.className;var n=e.type,t=e.item,a=e.user,r=e.actions,i=e.users,o=e.channels,s=e.handleRedirect,l=e.darkMode;console.log({darkMode:l});var d=Object(m.ab)()._t,u=Object(ue.a)({notificationMention:d("SNOOZE.MENTION","mentioned you in ::title::",{title:""}),todoReminder:d("SNOOZE.REMINDER","A friendly automated reminder"),sentProposal:d("SNOOZE.SENT_PROPOSAL","sent a proposal."),notificationNewPost:d("SNOOZE.NEW_POST","shared a post"),mustRead:d("SNOOZE.MUST_READ","Must read"),needsReply:d("SNOOZE.NEEDS_REPLY","Needs reply"),timeTOHuddle:d("SNOOZE.TIME_TO_HUDDLE","Time to huddle, "),hasRequestedChange:d("SNOOZE.HAS_REQUESTED_CHANGE","has requested a change."),snoozeAll:d("SNOOZE.SNOOZE_ALL","Snoozed for 60 mins"),snoozeMe:d("SNOOZE.SNOOZE_ME","Snoozed for 60 mins"),actionNeeded:d("SNOOZE.ACTION_NEEDED","Action needed"),changeRequested:d("SNOOZE.CHANGE_REQUESTED","Change requested"),huddleSkip:d("SNOOZE.HUDDLE_SKIP","Huddle is Skipped")},"snoozeMe",d("SNOOZE.HUDDLE_SKIP","Snoozed for 60 mins"));return c.a.createElement(ka,{className:"timeline-item timeline-item-no-line d-flex",darkMode:l,onClick:function(e){return s(n,t,e)}},c.a.createElement("div",null,"notification"===n?t.author?c.a.createElement(W.a,{id:t.author.id,name:t.author.name,showSlider:!1,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link}):c.a.createElement(W.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,showSlider:!1}):"todo"===n?c.a.createElement("div",{className:"robotAvatar"},c.a.createElement("div",null,"\ud83e\udd16")):c.a.createElement(_a.a,{className:"chat-header-icon",channel:o[t.channel.id]})),c.a.createElement(xa,null,function(e,n){var t="",o="";if("notification"===e){var s=i.users[n.author.id]?i.users[n.author.id].first_name:"";"POST_MENTION"===n.type?(t="".concat(s,'" "').concat(u.notificationMention,'" "').concat(n.data.title,'" "'),n.data.workspaces&&n.data.workspaces.length>0&&n.data.workspaces[0].workspace_name&&(t+=c.a.createElement(c.a.Fragment,null,c.a.createElement(wa,{icon:"folder"})," "," ",n.data.workspaces[0].workspace_name)),o=c.a.createElement(ya,{className:"snooze-body"},Object(p.j)(n.data.title))):"POST_CREATE"===n.type?(t="".concat(s,'" "').concat(u.notificationNewPost,'" "'),n.data.workspaces&&n.data.workspaces.length>0&&n.data.workspaces[0].workspace_name&&(t+=c.a.createElement(c.a.Fragment,null,c.a.createElement(wa,{icon:"folder"})," "," ",n.data.workspaces[0].workspace_name)),o=c.a.createElement(Oa.a,{notification:n,dictionary:u,user:a,fromSnooze:!0})):"POST_REQST_APPROVAL"===n.type?(t="".concat(s,'" "').concat(u.sentProposal),o=c.a.createElement(ya,{className:"snooze-body"},Object(p.j)(n.data.title))):"POST_REJECT_APPROVAL"===n.type&&(t="".concat(s,'" "').concat(u.hasRequestedChange),o=c.a.createElement(Oa.a,{notification:n,dictionary:u,user:a,fromSnooze:!0}))}else"todo"===e?(t=u.todoReminder,o=c.a.createElement(ya,{className:"snooze-body"},Object(p.j)(n.title))):"huddle"===e&&(t="".concat(u.timeTOHuddle,'" "').concat(a.first_name),o=c.a.createElement("span",{className:"badge badge-info badge-grey-ghost",onClick:function(t){!function(e,n,t){t.stopPropagation(),r.skipHuddle({channel_id:n.channel.id,huddle_id:n.id,body:"HUDDLE_SKIP::".concat(JSON.stringify({huddle_id:n.id,author:{name:a.name,first_name:a.first_name,id:a.id,profile_image_link:a.profile_image_link},user_bot:n.user_bot}))}),ga.c.dismiss(e+"__"+n.id),ga.c.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.huddleSkip}}),{containerId:"toastA",toastId:"btnSnoozeMe"})}(e,n,t)}},"Skip"));return c.a.createElement(c.a.Fragment,null," ",c.a.createElement(Ca,null,t)," ",o)}(n,t)))},ja=d.a.div(pa||(pa=Object(i.a)(["\n.snooze-container {\n  margin-bottom: 8px !important;\n  color: ",";\n  background: ",";\n  \n}\n.snooze-container p.snooze-body { color: "," };\n.snooze-container .snooze-me {\n  font-size: 11px;\n  margin: 0 5px;\n  text-decoration: underline;\n}\n.snooze-all-container {\n  background: 0 0;\n  box-shadow: none;\n  margin: 0;\n  padding: 0;\n  height: auto;\n  min-height: 25px;\n  color: ",";\n  background: transparent;\n  font-size: 12px;\n}\n.snooze-all-container .snooze-all-body {\n  height: auto;\n  font-size: 12px;\n  margin: 0 5px;\n  text-decoration: underline;\n}\n.robotAvatar {\n  margin-right: 1rem;\n  height: 2.7rem;\n  width: 2.7rem;\n}\n.robotAvatar div {\n  background: #f1f2f7;\n  border-radius: 40px;\n  font-size: 25px;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n}\n"])),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#aaa !important"}),(function(e){return"1"===e.darkMode?"#191c20 !important":"#fff !important"}),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#505050 !important"}),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),Ta=function(e){var n=Object(m.C)(),t=n.notifications,a=(n.notificationSnooze,Object(m.X)(!0)),r=a.getReminders,i=(a.items,Object(s.d)((function(e){return e.global.todos}))),d=Object(s.d)((function(e){return e.session.user})),p=Object(m.ab)()._t,u=Object(m.B)(),f=Object(m.W)(),h=Object(m.Q)().generalSettings.dark_mode,A=Object(m.L)(),E=Object(m.x)(),b=Object(l.g)(),g=new Date,v=g.getTime(),O=Object(s.c)(),_=Object(s.d)((function(e){return e.users})),w=Object(s.d)((function(e){return e.chat})),k=w.hasUnpublishedAnswers,C=w.huddleBots,y=w.channels,x=[{day:"M",value:1},{day:"T",value:2},{day:"W",value:3},{day:"TH",value:4},{day:"F",value:5}],N=0===g.getDay()||6===g.getDay(),j=Object(On.a)(k),T={notificationMention:p("SNOOZE.MENTION","mentioned you in ::title::",{title:""}),todoReminder:p("SNOOZE.REMINDER","A friendly automated reminder"),sentProposal:p("SNOOZE.SENT_PROPOSAL","sent a proposal."),notificationNewPost:p("SNOOZE.NEW_POST","shared a post"),mustRead:p("SNOOZE.MUST_READ","Must read"),needsReply:p("SNOOZE.NEEDS_REPLY","Needs reply"),timeTOHuddle:p("SNOOZE.TIME_TO_HUDDLE","Time to huddle, "),hasRequestedChange:p("SNOOZE.HAS_REQUESTED_CHANGE","has requested a change."),snoozeAll:p("SNOOZE.SNOOZE_ALL","Snoozed for 60 min(s)"),snoozeMe:p("SNOOZE.SNOOZE_ME","Snoozed for ".concat(1," min(s)")),actionNeeded:p("SNOOZE.ACTION_NEEDED","Action needed"),changeRequested:p("SNOOZE.CHANGE_REQUESTED","Change requested")},I=function(){return Object.values(t).filter((function(e){return"POST_MENTION"===e.type||"POST_REQST_APPROVAL"===e.type||"POST_REJECT_APPROVAL"===e.type||"POST_CREATE"===e.type&&(e.data.must_read||e.data.must_reply)})).sort((function(e,n){return n.created_at.timestamp-e.created_at.timestamp}))},S=function(){var e=Object(va.c)(58);return r({filter:{status:"",search:""}}).filter((function(n){return n.assigned_to&&n.assigned_to.id===d.id&&n.remind_at&&n.remind_at.timestamp<=e&&"OVERDUE"!==n.status}))},R=function(e){if(e.questions&&e.questions.filter((function(e){return null===e.answer})).length>0){var n=parseInt(e.start_at.time.substr(0,2)),t=parseInt(e.start_at.time.substr(3,2)),a=parseInt(e.publish_at.time.substr(0,2)),r=parseInt(e.publish_at.time.substr(3,2)),i=new Date;i.setUTCHours(n,t,0),i.setDate(g.getDate());var o=new Date;if(o.setUTCHours(a,r,0),o.setDate(g.getDate()),!(v>i.getTime()&&o.getTime()>v))return!1;if("NEVER"===e.end_type){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||x.find((function(n){return n.day===e.repeat_select_weekly})).value!==g.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_ON"===e.end_type){var c=new Date(e.end_select_on.substr(0,4),parseInt(e.end_select_on.substr(5,2))-1,e.end_select_on.substr(8,2));if(!(g.getTime()<c.getTime()))return!1;if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||x.find((function(n){return n.day===e.repeat_select_weekly})).value!==g.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_AFTER_REPEAT"===e.end_type&&e.repeat_count<e.end_select_after){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||x.find((function(n){return n.day===e.repeat_select_weekly})).value!==g.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}}return!1},P=function(e,n,t){var a="notification"===e?u:"todo"===n.type?f:E;if(t.preventDefault(),0===n.is_read&&u.read({id:n.id}),"NEW_TODO"===n.type||"todo"===e)A.toTodos();else{if("huddle"===e)return b.push("/chat/".concat(n.channel.code)),void O(Object(Ae.Qb)({id:n.channel.id}));var r={id:n.data.post_id,title:n.data.title},i=null,o=null;n.data.workspaces&&n.data.workspaces.length&&(i={id:(i=n.data.workspaces[0]).topic_id,name:i.topic_name,folder_id:i.workspace_id?i.workspace_id:null,folder_name:i.workspace_name?i.workspace_name:null}),"POST_MENTION"===n.type&&n.data.comment_id&&(o={focusOnMessage:n.data.comment_id}),A.toPost({workspace:i,post:r},o)}a.snooze({id:n.id,is_snooze:!1})},D=function(e,n){n.preventDefault();var a,r,i;a=F("todo",S()),r=F("notification",I()),i=F("huddle",C),[].concat(a,r,i).map((function(e){var n=e.type+"__"+e.id,r="notification"===e.type?u:"todo"===e.type?f:E,i="notification"===e.type?t[e.id]:"todo"===e.type?a.items[e.id]:Object.values(C).find((function(n){return n.id==e.id})),o={id:i.id,is_snooze:!0,snooze_time:Object(va.c)(1)};i.is_snooze||(ga.c.isActive(n)&&ga.c.dismiss(n),r.snooze(o))})),ga.c.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:T.snoozeAll}}),{containerId:"toastA",toastId:"btnSnoozeMe"})},L=function(e){if(e.length>0){var n=e.length;ga.c.isActive("btnSnoozeAll")?ga.c.update("btnSnoozeAll",{render:function(){return c.a.createElement("span",{className:"snooze-all",onClick:function(e){return D(0,e)}},"Snooze All ",n>4&&n," "," "," Notifications")},containerId:"toastS"}):Object(ga.c)(c.a.createElement("span",{className:"snooze-all",onClick:function(e){return D(0,e)}},"Snooze All ",n>4&&n," "," "," Notifications"),{className:"snooze-all-container",bodyClassName:"snooze-all-body",containerId:"toastS",toastId:"btnSnoozeAll",closeButton:!1}),e.slice(0,4).map((function(e){var n="notification"===e.type?u:"todo"===e.type?f:E,a=e.type+"__"+e.id,r="notification"===e.type?t[e.id]:"todo"===e.type?i.items[e.id]:Object.values(C).find((function(n){return n.id==e.id})),o=!1;ga.c.isActive(a)||Object(ga.c)(c.a.createElement(Na,{type:e.type,id:r.id,item:r,user:d,users:_,actions:n,handleRedirect:P,channels:y,darkMode:h}),{className:"snooze-container",bodyClassName:"snooze-body",containerId:"toastS",toastId:a,onClose:function(){var a={id:r.id,is_snooze:!0,snooze_time:Object(va.c)(1)};"notification"===e.type&&t[r.id]&&!t[r.id].is_read||"todo"===e.type&&i.items[r.id]&&"DONE"!==i.items[r.id].status?(n.snooze(a),o=!0):"huddle"!==e.type||N||j.includes(r.channel.id)||R(r)||(n.snooze(a),o=!0),o&&ga.c.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:T.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"})}})}))}else ga.c.dismiss("btnSnoozeAll")},F=function(e,n){var t=[];return n.map((function(n){var a=e+"__"+n.id,r={type:e,id:n.id,created_at:"huddle"===e?n.start_at.timestamp:n.created_at.timestamp};"notification"===e?(n.is_read||n.is_snooze||("POST_CREATE"===n.type&&function(e){e.data.must_read&&e.data.required_users&&e.data.required_users.some((function(e){return e.id===d.id&&!e.must_read}))||e.data.must_read_users&&e.data.must_read_users.some((function(e){return e.id===d.id&&!e.must_read}))||e.data.must_reply&&e.data.required_users&&e.data.required_users.some((function(e){return e.id===d.id&&!e.must_reply}))||e.data.must_reply_users&&e.data.must_reply_users.some((function(e){return e.id===d.id&&!e.must_reply}))}(n),t.push(r)),n.is_read&&ga.c.isActive(a)&&ga.c.dismiss(a)):"todo"===e?("DONE"===n.status||n.is_snooze||t.push(r),"DONE"===n.status&&ga.c.isActive(a)&&ga.c.dismiss(a)):"huddle"===e&&(N||j.includes(n.channel.id)||R(n)||n.is_snooze?ga.c.isActive(a)&&ga.c.dismiss(a):t.push(r))})),t},M=function(e,n){var t=Object(va.b)(),a="notification"===e?u:"todo"===e?f:E,r=0;return n.map((function(n){("notification"===e&&!n.is_read&&n.is_snooze&&n.snooze_time<=t||"todo"===e&&"DONE"!==n.status&&n.is_snooze&&n.snooze_time<=t||"huddle"===e&&n.is_snooze&&n.snooze_time<=t)&&(r++,a.snooze({id:n.id,is_snooze:!1,snooze_time:null}))})),r},B=function(){var e,n,t;e=F("todo",S()),n=F("notification",I()),t=F("huddle",C);var a=[].concat(e,n,t);a.length?L(a):ga.c.dismiss("btnSnoozeAll")};return Object(o.useEffect)((function(){var e=setInterval((function(){if(Object.keys(w.channels).length>0&&_.users){var e=M("todo",S()),n=M("notification",I()),t=M("huddle",C);ga.c.info(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:"interval for all snoozed items ".concat(1," min(s)")}}),{containerId:"toastA",toastId:"xxy"}),0===e&&0===n&&0===t&&B()}}),6e4);return function(){return clearInterval(e)}}),[t,i,C]),Object(o.useEffect)((function(){Object.keys(w.channels).length>0&&_.users&&B()}),[t,i,C]),c.a.createElement(ja,{darkMode:h},c.a.createElement(ga.b,{enableMultiContainer:!0,containerId:"toastS",position:"bottom-left",autoClose:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,limit:5,closeButton:function(e){var n=e.closeToast;return c.a.createElement("span",{className:"snooze-me",onClick:function(e){e.stopPropagation(),n()}},"Snooze")}}))},Ia=d.a.span(ua||(ua=Object(i.a)(["\n  cursor: pointer;\n  position: absolute;\n  ","\n  right: 10px;\n"])),(function(e){return e.gift?"top: 10px;":""})),Sa=function(e){var n=Object(l.g)(),t=Object(l.i)(),a=Object(m.ib)(),r=Object(s.d)((function(e){return e.settings})),i=r.driff,d=r.user,p=Object(s.d)((function(e){return e.workspaces.workspaces})),u=Object(s.d)((function(e){return e.workspaces.activeTopic})),f=Object(s.d)((function(e){return e.chat.selectedChannel})),h=Object(s.d)((function(e){return Object.values(e.chat.channels).map((function(e){return{id:e.id,code:e.code}}))}));Object(o.useEffect)((function(){if(t.workspaceId&&u&&parseInt(t.workspaceId)!==u.id&&p[t.workspaceId]&&a.selectWorkspace(p[t.workspaceId]),t.code&&f&&f.code!==t.code){var e=h.find((function(e){return e.code===t.code}));e&&a.selectChannel({id:e.id})}}),[t,p,u,f]);return c.a.createElement(Ia,{gift:!!(i.READ_RELEASE_UPDATES&&d.READ_RELEASE_UPDATES&&i.READ_RELEASE_UPDATES.timestamp>d.READ_RELEASE_UPDATES.timestamp||null===(null===d||void 0===d?void 0:d.READ_RELEASE_UPDATES))},c.a.createElement(W.s,{icon:"chevron-left",color:"#fff",onClick:function(){n.goBack()}}))};function Ra(){var e=Object(i.a)([""]);return Ra=function(){return e},e}var Pa=d.a.div(Ra()),Da=c.a.memo((function(){return c.a.createElement(Pa,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),La=t(117),Fa=t(118),Ma=t(206),Ba=t(203),Ua=t(53),Qa=t(74),Ha=t(48),Ga=t(716),Wa=t.n(Ga),za=t(109),Ya=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(i=za.generate()),Wa.a.create(e,{body:n,icon:null!==t?t:"./assets/icons/favicon.png",timeout:r,tag:e,onClick:function(){window.focus(),a&&a(),this.close()}})},Va=t(20),Ja=t(16),Ka=t(35),qa=t(71),Za=t(15),Xa=t(56),$a=t(131),er=function(e){Object(Ma.a)(t,e);var n=Object(Ba.a)(t);function t(e){var a;return Object(La.a)(this,t),(a=n.call(this,e)).refetchPosts=function(){a.props.refetchPosts()},a.refetchPostComments=function(){Object.keys(a.props.postComments).forEach((function(e){a.props.refetchPostComments({post_id:e})}))},a.refetch=function(){a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&a.props.refetchMessages({message_id:a.props.lastReceivedMessage.id})},a.refetchOtherMessages=function(){if(a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&Object.values(a.props.channels).length){var e=Object.values(a.props.channels);a.props.refetchOtherMessages({message_id:a.props.lastReceivedMessage.id,channel_ids:e.filter((function(e){return"number"===typeof e.id&&e.id!==a.props.lastReceivedMessage.channel_id})).map((function(e){return e.id}))},(function(e,n){e||n.data.filter((function(e){return e.count_message>0})).forEach((function(e){a.props.getChannelDetail({id:e.channel_id})}))}))}},a.state={reconnected:null,disconnectedTimestamp:null,reconnectedTimestamp:null},a.onlineUsers=c.a.createRef(null),a.publishChannelId=c.a.createRef(null),a}return Object(Fa.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getOnlineUsers(),this.props.getLatestReply({},(function(e,n){})),window.Echo.connector.socket.on("connect",(function(){})),window.Echo.connector.socket.on("disconnect",(function(){e.setState({disconnectedTimestamp:Math.floor(Date.now()/1e3)})})),window.Echo.connector.socket.on("reconnect",(function(){e.setState({reconnected:!0,reconnectedTimestamp:Math.floor(Date.now()/1e3)}),e.refetch(),e.refetchOtherMessages(),e.refetchPosts(),e.refetchPostComments(),e.props.getFavoriteWorkspaceCounters()})),window.Echo.connector.socket.on("reconnecting",(function(){})),window.Echo.private("".concat(localStorage.getItem("slug"),".App.User.Inactive")).listen(".user-inactive",(function(n){e.props.incomingDeletedUser(n)})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".Driff.User.").concat(this.props.user.id)).listen(".post-follow",(function(n){e.props.incomingFollowPost(n)})).listen(".post-unfollow",(function(n){e.props.incomingUnfollowPost(n)})).listen(".unarchive-post-notification",(function(n){n.posts.forEach((function(n){e.props.fetchPost({post_id:n.id},(function(n,t){if(!n){var a=Object(fe.a)(Object(fe.a)({},t.data),{},{clap_user_ids:[],is_unread:1});e.props.incomingPost(a)}}))}))})).listen(".huddle-notification",(function(n){switch(n.SOCKET_TYPE){case"HUDDLE_CREATED":e.props.incomingHuddleBot(Object(fe.a)(Object(fe.a)({},n),{},{start_at:n.set_start_at,publish_at:n.set_publish_at,questions:n.questions.map((function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===t,isLastQuestion:n.questions.length===t+1})}))}));break;case"HUDDLE_UPDATED":e.props.incomingUpdatedHuddleBot(Object(fe.a)(Object(fe.a)({},n),{},{start_at:n.set_start_at,publish_at:n.set_publish_at,questions:n.questions.map((function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===t,isLastQuestion:n.questions.length===t+1})}))}));break;case"HUDDLE_DELETED":e.props.incomingDeletedHuddleBot({id:parseInt(n.id)});break;case"HUDDLE_ANSWER_UPDATE":e.props.incomingHuddleAnswers(Object(fe.a)(Object(fe.a)({},n),{},{channel:{id:n.huddle.channel_id}}));break;case"USER_ANSWERED":e.props.incomingHuddleAnswers(n),e.props.incomingChatMessage(Object(fe.a)(Object(fe.a)({},n.message),{},{huddle_log:n.huddle_log}));break;case"HUDDLE_SKIP":e.props.incomingHuddleSkip(n);break;default:return null}})).listen(".workspace-todo-notification",(function(n){switch(n.workspace&&Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.workspace.id===e.id}))&&e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),n.SOCKET_TYPE){case"CREATE_WORKSPACE_TODO":e.props.incomingToDo(Object(fe.a)(Object(fe.a)({},n),{},{user:n.user_id}));break;case"UPDATE_WORKSPACE_TODO":e.props.incomingUpdateToDo(n);break;case"DONE_TODO":e.props.incomingDoneToDo(n);break;case"DELETE_WORKSPACE_TODO":e.props.incomingRemoveToDo(n);break;case"REMIND_WORKSPCE_TODO":e.props.incomingUpdateToDo(n);break;case"ADVANCE_REMIND_TODO":if(Ua.isSafari&&e.props.notificationsOn){Ya("You asked to be reminded about ".concat(n.title),n.title,e.props.user.profile_image_link,(function(){if(n.link_type){var t="";"POST_COMMENT"===n.link_type||"POST"===n.link_type?t=n.data.workspaces.length?n.data.workspaces[0].workspace?"/workspace/posts/".concat(n.data.workspaces[0].workspace.id,"/").concat(Object(p.h)(n.data.workspaces[0].workspace.name),"/").concat(n.data.workspaces[0].topic.id,"/").concat(Object(p.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(p.h)(n.data.post.title)):"/workspace/posts/".concat(n.data.workspaces[0].topic.id,"/").concat(Object(p.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(p.h)(n.data.post.title)):"/posts/".concat(n.data.post.id,"/").concat(Object(p.h)(n.data.post.title)):"CHAT"===n.link_type&&(t="/chat/".concat(n.data.channel.code,"/").concat(n.data.chat_message.code)),""!==t&&e.props.history.push(t)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(n);break;default:return null}})).listen(".todo-notification",(function(n){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),n.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(Object(fe.a)(Object(fe.a)({},n),{},{user:n.user_id}));break;case"UPDATE_TODO":e.props.incomingUpdateToDo(n);break;case"DONE_TODO":e.props.incomingDoneToDo(n);break;case"DELETE_TODO":e.props.incomingRemoveToDo(n);break;case"REMIND_TODO":e.props.incomingUpdateToDo(n);break;case"ADVANCE_REMIND_TODO":if(Ua.isSafari&&e.props.notificationsOn){Ya("You asked to be reminded about ".concat(n.title),n.title,e.props.user.profile_image_link,(function(){if(n.link_type){var t="";"POST_COMMENT"===n.link_type||"POST"===n.link_type?t=n.data.workspaces.length?n.data.workspaces[0].workspace?"/workspace/posts/".concat(n.data.workspaces[0].workspace.id,"/").concat(Object(p.h)(n.data.workspaces[0].workspace.name),"/").concat(n.data.workspaces[0].topic.id,"/").concat(Object(p.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(p.h)(n.data.post.title)):"/workspace/posts/".concat(n.data.workspaces[0].topic.id,"/").concat(Object(p.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(p.h)(n.data.post.title)):"/posts/".concat(n.data.post.id,"/").concat(Object(p.h)(n.data.post.title)):"CHAT"===n.link_type&&(t="/chat/".concat(n.data.channel.code,"/").concat(n.data.chat_message.code)),""!==t&&e.props.history.push(t)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(n);break;default:return null}})).listen(".workspace-role-notification",(function(n){e.props.incomingWorkspaceRole(n)})).listen(".google-attachment-notification",(function(n){switch(n.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===n.attachment_type?e.props.incomingGoogleFile(n):"GOOGLE_DRIVE_FOLDER"===n.attachment_type&&e.props.incomingGoogleFolder(n);break;default:return null}})).listen(".workspace-folder-notification",(function(n){switch(n.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(n);break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(n),"/workspace/files"===e.props.match.url&&e.props.location.pathname.includes(n.folder.id)&&e.props.location.pathname.includes(n.topic_id)){var t=e.props.location.pathname.split("/folder/")[0];e.props.history.push(t)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(n);break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(n);break;default:return null}})).listen(".workspace-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(n);break;case"FILE_UPDATE":e.props.incomingFile(n);break;case"FILE_MOVE":e.props.incomingMovedFile(n);break;case"FILE_TRASH":e.props.incomingDeletedFile(n);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(n);break;case"FILE_DELETE":e.props.incomingRemovedFile(n);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(n);break;default:return null}})).listen(".workspace-timeline-notification",(function(n){e.props.incomingTimeline(n)})).listen(".upload-bulk-private-workspace-files",(function(n){e.props.incomingFiles(n),n.channel_messages&&n.channel_messages.forEach((function(n){n.system_message.channel_id=n.channel.id,n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!1,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.topic=n.topic,n.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(n.system_message)}))})).listen(".favourite-notification",(function(n){switch(n.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(n);break;default:return null}})).listen(".unread-post",(function(n){e.props.incomingReadUnreadReducer(n),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1})})).listen(".post-notification",(function(n){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),n.SOCKET_TYPE){case"CLOSED_POST":e.props.incomingClosePost(n);break;case"POST_APPROVED":e.props.incomingPostApproval(n);break;case"POST_REQUIRED":e.props.incomingPostRequired(n);break;case"POST_COMMENT_APPROVED":e.props.incomingCommentApproval(Object(fe.a)(Object(fe.a)({},n),{},{users_approval:n.users_approval.map((function(e){return e.id===n.user_approved.id?Object(fe.a)(Object(fe.a)({},e),n.user_approved):e}))}));break;case"READ_SELECTED_UNREAD_POST":e.props.incomingReadSelectedPosts(n);break;case"ARCHIVED_SELECTED_POST":e.props.incomingArchivedSelectedPosts(n);break;case"ADD_RECIPIENTS":e.props.fetchPost({post_id:n.post_id},(function(n,t){if(!n){var a=Object(fe.a)(Object(fe.a)({},t.data),{},{clap_user_ids:[]});e.props.incomingPost(a)}}));break;case"POST_CREATE":var t=Object(fe.a)(Object(fe.a)({},n),{},{clap_user_ids:[]}),a=t.users_approval.some((function(n){return n.id===e.props.user.id}));e.props.user.id!==t.author.id&&Ua.isSafari&&e.props.notificationsOn&&Ya("".concat(t.author.first_name," shared a post"),t.title,t.author.profile_image_link,null),null!==t.show_at&&(e.props.user.id,t.author.id),e.props.incomingPost(Object(fe.a)(Object(fe.a)({},t),{},{post_approval_label:a?"NEED_ACTION":null})),t.channel_messages&&t.channel_messages.forEach((function(t){var a=Object(fe.a)(Object(fe.a)({},t.system_message),{},{files:[],editable:!1,unfurls:[],reactions:[],is_deleted:!1,todo_reminder:null,is_read:!1,is_completed:!1,user:null,new_post:!0,topic:t.topic,shared_with_client:n.shared_with_client});e.props.incomingPostNotificationMessage(a)}));break;case"POST_UPDATE":if(e.props.incomingUpdatedPost(n),n.channel_messages&&n.post_participant_data)if(n.post_participant_data.from_company||n.post_participant_data.all_participant_ids.some((function(n){return n===e.props.user.id}))){if(!n.post_participant_data.from_company&&n.post_participant_data.all_participant_ids.some((function(n){return n===e.props.user.id})))n.clap_user_ids=[],e.props.incomingPost(n),n.channel_messages&&n.channel_messages.forEach((function(t){t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!0,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.new_post=!1,t.system_message.topic=t.topic,t.system_message.shared_with_client=n.shared_with_client,e.props.incomingPostNotificationMessage(t.system_message)}));else if(n.post_participant_data.from_company){var r=Object.values(e.props.channels).filter((function(e){return"COMPANY"===e.type}));if(r.length){var i=r[0].id,o=Object(On.a)(n.channel_messages);o=o.filter((function(e){return e.channel.id!==i})),e.props.deletePostNotification(o)}}}else e.props.deletePostNotification(n.channel_messages),e.props.incomingDeletedPost(n);break;case"POST_DELETE":e.props.incomingDeletedPost(n);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(n);break;case"POST_CLAP_TOGGLE":e.props.user.id!==n.author.id&&(e.props.incomingPostClap(n),e.props.user.id===n.post_user_id&&1===n.clap_count&&Object(ga.c)("".concat(n.author.name," ").concat(e.props.dictionary.likedYourPost),{position:ga.c.POSITION.BOTTOM_LEFT}));break;case"MARKED_DONE":e.props.incomingPostMarkDone(n);break;case"COMMENT_IMPORTANT":e.props.incomingImportantComment(n);break;default:return null}})).listen(".post-comment-notification",(function(n){switch(n.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(e.props.incomingComment(Object(fe.a)(Object(fe.a)({},n),{},{clap_user_ids:[]})),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),n.workspaces&&n.workspaces.length>=1&&n.author.id!==e.props.user.id){e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"});var t=n.workspaces.map((function(e){return e.topic_id}));Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.some((function(n){return n===e.id}))}))&&e.props.getFavoriteWorkspaceCounters()}if(n.author.id!==e.props.user.id){if(e.props.posts[n.post_id]||(console.log("fetch post"),e.props.fetchPost({post_id:n.post_id},(function(n,t){if(!n){var a=Object(fe.a)(Object(fe.a)({},t.data),{},{clap_user_ids:[],is_unread:1});e.props.incomingPost(a)}}))),Ua.isSafari&&e.props.notificationsOn){var a="";(a=n.workspaces.length?n.workspaces[0].workspace_id?"/workspace/posts/".concat(n.workspaces[0].workspace_id,"/").concat(Object(p.h)(n.workspaces[0].workspace_name),"/").concat(n.workspaces[0].topic_id,"/").concat(Object(p.h)(n.workspaces[0].topic_name),"/post/").concat(n.post_id,"/").concat(Object(p.h)(n.post_title)):"/workspace/posts/".concat(n.workspaces[0].topic_id,"/").concat(Object(p.h)(n.workspaces[0].topic_name),"/post/").concat(n.post_id,"/").concat(Object(p.h)(n.post_title)):"/posts/".concat(n.post_id,"/").concat(Object(p.h)(n.post_title)))===e.props.location.pathname&&!e.props.isIdle&&e.props.isBrowserActive&&document.hasFocus()||Ya("".concat(n.author.first_name," replied in a post"),Object(p.j)(n.body),n.author.profile_image_link,(function(){return e.props.history.push(a,{focusOnMessage:n.id})}))}n.workspaces.forEach((function(n){e.props.getUnreadWorkspacePostEntries({topic_id:n.topic_id},(function(t,a){t||e.props.updateWorkspacePostCount({topic_id:n.topic_id,count:a.data.result})}))}))}break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(n);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(Object(fe.a)(Object(fe.a)({},n),{},{clap_user_ids:[]}));break;case"POST_COMMENT_CLAP_TOGGLE":e.props.user.id!==n.author.id&&(e.props.incomingCommentClap(n),e.props.user.id===n.comment_user_id&&1===n.clap_count&&Object(ga.c)("".concat(n.author.name," ").concat(e.props.dictionary.likedYourComment),{position:ga.c.POSITION.BOTTOM_LEFT}));break;default:return null}})).listen(".chat-notification",(function(n){var t=e.props,a=t.user,r=t.selectedChannel,i=t.isIdle,o=t.isBrowserActive;switch(n.SOCKET_TYPE){case"CHAT_CREATE":n.is_huddle&&e.publishChannelId.current!==n.channel_id&&(e.props.toaster.success("".concat(e.props.dictionary.huddlePublished," - ").concat(n.channel_name),{toastId:n.channel_id}),e.props.clearUnpublishedAnswer(n),setTimeout((function(){e.publishChannelId.current=null}),5e3));var c=Object(fe.a)({},n);if((null===c.user||c.user.id!==a.id&&!c.is_muted)&&e.props.soundPlay(),null!==c.user&&e.props.user.id===c.user.id||(delete c.reference_id,c.g_date=e.props.localizeDate(n.created_at.timestamp,"YYYY-MM-DD"),!i&&o&&document.hasFocus()&&e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===c.channel_id&&(c.is_read=!0)),e.props.incomingChatMessage(Object(fe.a)(Object(fe.a)({},c),{},{translated_body:null})),delete n.SOCKET_TYPE,delete n.socket,n.user.id!==a.id&&!n.is_muted&&e.props.notificationsOn&&Ua.isSafari&&(!e.props.location.pathname.includes("/chat/")||r.code!==n.channel_code||i||!o||!document.hasFocus())){Ya("".concat(n.reference_title),n.reference_title.includes("in a direct message")?"".concat(Object(p.j)(n.body)):"".concat(n.user.first_name,": ").concat(Object(p.j)(n.body)),n.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(n.channel_code,"/").concat(n.code))}))}if(void 0===n.workspace_id||null===n.workspace_id||0===n.workspace_id){var s={};"CHAT_REMINDER_MESSAGE"===n.entity_type?s={count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:c.user.id!==a.id&&(s={count:1,entity_type:"CHAT_MESSAGE"}),e.props.setGeneralChat(s)}else c.user.id!==a.id&&(e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"}),Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.workspace_id===e.id}))&&e.props.getFavoriteWorkspaceCounters());"undefined"===typeof e.props.channels[n.channel_id]&&e.props.getChannel({code:n.channel_code});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(Object(fe.a)(Object(fe.a)({},n),{},{translated_body:null}));break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(n);break;case"TOGGLE_IMPORTANT":e.props.incomingImportantChat(n);break;case"STAR_CHAT":e.props.incomingChatStar(n);break;default:return null}})).listen(".post-list-notification",(function(n){e.props.getPostList({},(function(t,a){if(!t){var r={link_id:n.link_id,post_id:n.post_id};switch(n.SOCKET_TYPE){case"POST_LIST_CONNECTED":e.props.incomingPostListConnect(r);break;case"POST_LIST_DISCONNECTED":e.props.incomingPostListDisconnect(r);break;default:return null}}}))})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.Broadcast")).listen(".reset-password-notification",(function(n){e.props.incomingAcceptedInternal(n)})).listen(".remove-file-notification",(function(n){switch(n.SOCKET_TYPE){case"REMOVE_FILE":e.props.incomingRemoveFileAutomatically(n);break;case"REMOVE_FILE_ON_DOWNLOAD":e.props.incomingRemoveFileAfterDownload(n.files);break;default:return null}})).listen(".workspace-team-channel",(function(n){e.props.incomingTeamChannel(n)})).listen(".announcement-notification",(function(n){switch(n.SOCKET_TYPE){case"ANNOUNCEMENT_UPDATED":e.props.incomingUpdatedAnnouncement(n);break;case"ANNOUNCEMENT_CREATED":e.props.incomingCreatedAnnouncement(n);break;case"ANNOUNCEMENT_DELETED":e.props.incomingDeletedAnnouncement(n);break;default:return null}})).listen(".users-online-broadcast",(function(n){e.props.incomingOnlineUsers(n)})).listen(".user-updated",(function(n){switch(n.SOCKET_TYPE){case"ARCHIVED_ACCOUNT":var t={channel_ids:[].concat(Object(On.a)(n.connected_data.user_removed_channel_ids),Object(On.a)(n.connected_data.archived_channel_ids)),topic_ids:[].concat(Object(On.a)(n.connected_data.user_removed_topic_ids),Object(On.a)(n.connected_data.archived_topic_ids)),user:n.user};e.props.incomingArchivedUser(t),n.user.id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Ha.sessionService.deleteSession().then((function(){return Ha.sessionService.deleteUser()})));break;case"RESTORED_ACCOUNT":e.props.incomingUnarchivedUser(n);break;case"DEACTIVATE_ACCOUNT":e.props.incomingDeactivatedUser(n),n.user_id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Ha.sessionService.deleteSession().then((function(){return Ha.sessionService.deleteUser()})));break;case"ACTIVATE_ACCOUNT":e.props.incomingActivatedUser(n);break;default:return null}})).listen(".updated-version",(function(n){var t=n.version,a=n.requirement,r=parseFloat(t.substr(2)),i=parseFloat($a.a.version.substr(2));if(!Object(Za.f)(window.location.hostname)&&"localhost"!==window.location.hostname&&r>i){e.props.addToModals({id:t,type:"update_found",requirement:a,handleReminder:function(){}}),localStorage.setItem("site_ver",t)}})).listen(".user-role-notification",(function(n){e.props.incomingUserRole(n),n.user_id===e.props.user.id&&e.props.getUser({id:e.props.user.id},(function(e,n){e||Ha.sessionService.saveUser(Object(fe.a)({},n.data))}))})).listen(".company-announcement",(function(n){e.props.updateCompanyPostAnnouncement(n)})).listen(".company-request-form-notification",(function(n){switch(n.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(n);break;default:return null}})).listen(".company-notification",(function(n){switch(n.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(n);break;default:return null}})).listen(".company-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(n);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(n);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(n);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(n);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(n);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(n);break;case"FILE_DELETE":e.props.incomingCompanyRemovedFile(n);break;default:return null}})).listen(".company-folder-notification",(function(n){switch(n.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(n);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(n);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(n);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(n);break;default:return null}})).listen(".delete-workspace",(function(n){e.props.incomingDeletedWorkspaceFolder(n)})).listen(".workspace-role-notification",(function(n){e.props.incomingWorkspaceRole(n)})).listen(".google-attachment-notification",(function(n){switch(n.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===n.attachment_type?e.props.incomingGoogleFile(n):"GOOGLE_DRIVE_FOLDER"===n.attachment_type&&e.props.incomingGoogleFolder(n);break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(n);break;default:return null}})).listen(".external-user-notification",(function(n){e.props.incomingExternalUser(n)})).listen(".user-notification",(function(n){switch(n.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(n),n.id!==e.props.user.id&&n.user_id!==e.props.user.id||e.props.getUser({id:e.props.user.id},(function(e,n){e||Ha.sessionService.saveUser(Object(fe.a)({},n.data))}));break;default:return null}})).listen(".post-notification",(function(n){switch(n.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(n);break;default:return null}})).listen(".workspace-timeline-notification",(function(n){e.props.incomingTimeline(n)})).listen(".upload-bulk-workspace-files",(function(n){e.props.incomingFiles(n),n.channel_messages&&n.channel_messages.forEach((function(n){n.system_message.channel_id=n.channel.id,n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!1,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.topic=n.topic,n.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(n.system_message)}))})).listen(".workspace-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(n);break;case"FILE_UPDATE":e.props.incomingFile(n);break;case"FILE_MOVE":e.props.incomingMovedFile(n);break;case"FILE_TRASH":e.props.incomingDeletedFile(n);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(n);break;case"FILE_DELETE":e.props.incomingRemovedFile(n);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(n);break;default:return null}})).listen(".new-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(n):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(n)})):e.props.incomingWorkspace(n),e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(fe.a)(Object(fe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(fe.a)(Object(fe.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".update-workspace",(function(n){if(e.props.incomingUpdatedWorkspaceFolder(Object(fe.a)(Object(fe.a)({},n),{},{is_shared:n.is_shared})),"WORKSPACE"===n.type){if(n.new_member_ids.length>0)n.new_member_ids.some((function(n){return n===e.props.user.id}))&&(0===n.workspace_id||e.props.folders.hasOwnProperty(n.workspace_id)?e.props.getWorkspace({topic_id:n.id}):e.props.getWorkspaceFolder({folder_id:n.workspace_id},(function(t,a){t||e.props.getWorkspace({topic_id:n.id})})));if(n.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&"external"===e.props.user.type&&1!==n.private&&n.remove_member_ids.some((function(n){return n===e.props.user.id}))){var t=Object.values(e.props.workspaces).filter((function(e){return e.id!==n.id&&e.is_favourite&&e.channel&&e.channel.code}));if(t.length){var a=t[0];e.props.setActiveTopic(a),a.folder_id?e.props.history.push("/workspace/chat/".concat(a.folder_id,"/").concat(Object(p.h)(a.folder_name),"/").concat(a.id,"/").concat(Object(p.h)(a.name))):e.props.history.push("/workspace/chat/".concat(a.id,"/").concat(Object(p.h)(a.name))),e.props.selectedChannel&&n.system_message&&e.props.selectedChannel.id===n.system_message.channel_id&&e.props.selectedChannel.code===n.channel.code&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)&&e.props.channels[a.channel.id]&&(e.props.setSelectedChannel(e.props.channels[a.channel.id]),e.props.history.push("/chat/".concat(a.channel.code)))}}}if(e.props.activeTopic&&e.props.activeTopic.id===n.id&&"WORKSPACE"===n.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var r=e.props.location.pathname;r=r.split("/")[2],0===n.workspace_id?0!==n.original_workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(n.id,"/").concat(Object(p.h)(n.name))):n.original_workspace_id!==n.workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(n.workspace_id,"/").concat(Object(p.h)(n.current_workspace_folder_name),"/").concat(n.id,"/").concat(Object(p.h)(n.name)))}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.User.").concat(this.props.user.id)).listen(".create-meeting-notification",(function(n){console.log(n,"zoom meeting notif"),e.props.user.id!==n.host.id&&(e.props.addToModals(Object(fe.a)(Object(fe.a)({},n),{},{type:"zoom_invite"})),e.props.incomingZoomData(Object(fe.a)({},n.zoom_data.data)))})).listen(".favourite-workspace-notification",(function(n){e.props.incomingFavouriteWorkspace(n)})).listen(".post-read-require",(function(n){e.props.incomingMarkAsRead(n)})).listen(".new-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(n):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(n)})):e.props.incomingWorkspace(n),e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(fe.a)(Object(fe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(fe.a)(Object(fe.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".new-lock-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(n):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(n)})):e.props.incomingWorkspace(n),e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(fe.a)(Object(fe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(fe.a)(Object(fe.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".update-lock-workspace",(function(n){if(e.props.incomingUpdatedWorkspaceFolder(n),"WORKSPACE"===n.type){if(n.new_member_ids.length>0)n.new_member_ids.some((function(n){return n===e.props.user.id}))&&(0===n.workspace_id||e.props.folders.hasOwnProperty(n.workspace_id)?e.props.getWorkspace({topic_id:n.id}):e.props.getWorkspaceFolder({folder_id:n.workspace_id},(function(t,a){t||e.props.getWorkspace({topic_id:n.id})})));if(n.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&n.remove_member_ids.some((function(n){return n===e.props.user.id}))){var t=Object.values(e.props.workspaces).filter((function(e){return e.id!==n.id&&e.is_favourite&&e.channel&&e.channel.code}));if(t.length){var a=t[0];e.props.setActiveTopic(a),a.folder_id?e.props.history.push("/workspace/chat/".concat(a.folder_id,"/").concat(Object(p.h)(a.folder_name),"/").concat(a.id,"/").concat(Object(p.h)(a.name))):e.props.history.push("/workspace/chat/".concat(a.id,"/").concat(Object(p.h)(a.name))),e.props.selectedChannel&&n.system_message&&e.props.selectedChannel.id===n.system_message.channel_id&&e.props.selectedChannel.code===n.channel.code&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)&&e.props.channels[a.channel.id]&&(e.props.setSelectedChannel(e.props.channels[a.channel.id]),e.props.history.push("/chat/".concat(a.channel.code)))}}}if(e.props.activeTopic&&e.props.activeTopic.id===n.id&&"WORKSPACE"===n.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var r=e.props.location.pathname;r=r.split("/")[2],0===n.workspace_id?0!==n.original_workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(n.id,"/").concat(Object(p.h)(n.name))):n.original_workspace_id!==n.workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(n.workspace_id,"/").concat(Object(p.h)(n.current_workspace_folder_name),"/").concat(n.id,"/").concat(Object(p.h)(n.name)))}})).listen(".users-online",(function(n){e.props.currentOnlineUsers(n.current_users_online.map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(n){var t={post_id:n.post_id,viewer:n.user};e.props.incomingPostViewer(t)})).listen(".updated-post-visitors",(function(e){})).listen(".move-private-topic-workspace",(function(n){e.props.incomingMovedTopic(n)})).listen(".update-channel-name",(function(n){var t=Object(fe.a)(Object(fe.a)({},n),{},{message:Object(fe.a)(Object(fe.a)({},n.message),{},{g_date:e.props.localizeDate(n.message.created_at.timestamp,"YYYY-MM-DD"),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(t)})).listen(".member-update-timestamp",(function(n){e.props.setMemberTimestamp(n)})).listen(".new-added-member-chat",(function(n){if(n.id){var t=JSON.parse(n.body.replace("CHANNEL_UPDATE::","")),a=Object(fe.a)(Object(fe.a)({},n),{},{is_deleted:!1,reactions:[],last_reply:null,body:n.body,created_at:n.created_at,updated_at:n.created_at,files:[],id:n.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:n.channel_id,g_date:e.props.localizeDate(n.created_at.timestamp,"YYYY-MM-DD"),code:n.code}),r={users:Object.values(e.props.users).filter((function(e){return t.added_members.some((function(n){return n===e.id}))})).map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:n.channel_id,data:n,message:a};e.props.channels.hasOwnProperty(n.channel_id)||t.author.id===e.props.user.id?e.props.joinWorkspaceReducer(r):(e.props.getChannel({code:n.channel_code},(function(n,t){if(!n){var a=Object(fe.a)(Object(fe.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===t.data.is_archived,isFetching:!1});e.props.addToChannels(a)}})),n.workspace_data&&(n.workspace_data.workspace&&!e.props.folders.hasOwnProperty(n.workspace_data.workspace.id)?e.props.getWorkspaceFolder({folder_id:n.workspace_data.workspace.id},(function(t,a){t||e.props.getWorkspace({topic_id:n.workspace_data.topic.id})})):e.props.getWorkspace({topic_id:n.workspace_data.topic.id})))}})).listen(".archived-chat-channel",(function(n){if(n.channel_data.topic_detail)if(n.channel_data.timeline&&e.props.incomingTimeline({timeline_data:n.channel_data.timeline,workspace_data:{topic_id:n.channel_data.topic_detail.id}}),"UNARCHIVED"===n.channel_data.status)e.props.incomingUnArchivedWorkspaceChannel(n.channel_data);else{if(e.props.activeTopic&&e.props.activeTopic.id===n.channel_data.topic_detail.id){var t=null;if(null!==n.channel_data.topic_detail.workspace_id||0!==n.channel_data.topic_detail.workspace_id)if(e.props.folders.hasOwnProperty(n.channel_data.topic_detail.workspace_id)&&e.props.folders[n.channel_data.topic_detail.workspace_id].workspace_ids.length>1){var a=Object.values(e.props.workspaces).filter((function(t){return e.props.folders[n.channel_data.topic_detail.workspace_id].workspace_ids.some((function(e){return e===t.id}))})).sort((function(e,n){return e.name.localeCompare(n.name)}));t=a[0].id===e.props.activeTopic.id?a[1]:a[0]}else{var r=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,n){return e.name.localeCompare(n.name)}));r.length&&(t=r[0])}else{var i=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,n){return e.name.localeCompare(n.name)}));i.length&&(t=i[0])}t&&(e.props.workspaceActions.selectWorkspace(t),e.props.workspaceActions.redirectTo(t))}e.props.incomingArchivedWorkspaceChannel(n.channel_data)}else e.props.incomingArchivedChannel(n.channel_data)})).listen(".new-chat-channel",(function(n){n.channel_data.creator_by.id!==e.props.user.id&&e.props.getChannel({code:n.channel_data.code},(function(t,a){if(!t){var r=Object(fe.a)(Object(fe.a)({},a.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1,creator:n.channel_data.creator_by});e.props.addToChannels(r)}}))})).listen(".chat-message-react",(function(n){e.props.incomingChatMessageReaction(Object(fe.a)(Object(fe.a)({},n),{},{user_name:n.name}))})).listen(".updated-notification-counter",(function(n){"CHAT"===n.entity_group_type&&(Object.values(e.props.workspaces).find((function(e){return e.is_favourite&&(e.channel.id===parseInt(n.entity_id)||e.team_channel&&e.team_channel.id===parseInt(n.entity_id))}))&&e.props.getFavoriteWorkspaceCounters());e.props.setUnreadNotificationCounterEntries(n)}))}},{key:"componentDidUpdate",value:function(e,n){var t=this;this.props.useDriff.updateFaviconState(0!==Object.keys(this.props.unreadCounter).filter((function(e){return"chat_reminder_message"!==e})).reduce((function(e,n){return e+=t.props.unreadCounter[n]}),0)||0!==this.props.todos.count.overdue)}},{key:"render",value:function(){return null}}]),t}(o.Component);var nr=Object(s.b)((function(e){var n=e.session.user,t=e.settings.userSettings,a=e.chat,r=a.channels,i=a.selectedChannel,o=a.isLastChatVisible,c=a.lastReceivedMessage,s=e.workspaces,l=s.workspaces,d=s.workspacePosts,m=s.folders,p=s.activeTopic,u=s.workspacesLoaded,f=s.postComments,h=e.global,A=h.unreadCounter,E=h.todos,b=h.recipients,g=h.isIdle,v=h.isBrowserActive,O=e.users,_=O.mentions;return{user:n,users:O.users,settings:t,channels:r,selectedChannel:i,workspacePosts:d,folders:m,mentions:_,activeTopic:p,workspacesLoaded:u,workspaces:l,isLastChatVisible:o,lastReceivedMessage:c,unreadCounter:A,todos:E,recipients:b,postComments:f,isIdle:g,isBrowserActive:v,posts:e.posts.companyPosts.posts}}),(function(e){return{addToChannels:Object(Qa.bindActionCreators)(Ae.h,e),addUserToReducers:Object(Qa.bindActionCreators)(ne.b,e),getChannel:Object(Qa.bindActionCreators)(Ae.w,e),setBrowserTabStatus:Object(Qa.bindActionCreators)(ne.T,e),getOnlineUsers:Object(Qa.bindActionCreators)(Ka.j,e),getConnectedSlugs:Object(Qa.bindActionCreators)(ne.o,e),getUser:Object(Qa.bindActionCreators)(Ka.l,e),setMemberTimestamp:Object(Qa.bindActionCreators)(Ae.Ob,e),setAllMessagesAsRead:Object(Qa.bindActionCreators)(Ae.Eb,e),incomingChatMessage:Object(Qa.bindActionCreators)(Ae.P,e),incomingChatMessageFromOthers:Object(Qa.bindActionCreators)(Ae.Q,e),addFilesToChannelAction:Object(Qa.bindActionCreators)(Va.c,e),deleteFilesFromChannelAction:Object(Qa.bindActionCreators)(Va.k,e),generateUnfurl:Object(Qa.bindActionCreators)(ne.l,e),generateUnfurlReducer:Object(Qa.bindActionCreators)(ne.m,e),setChannel:Object(Qa.bindActionCreators)(Ae.Fb,e),incomingArchivedChannel:Object(Qa.bindActionCreators)(Ae.O,e),incomingChatMessageReaction:Object(Qa.bindActionCreators)(Ae.R,e),incomingUpdatedChatMessage:Object(Qa.bindActionCreators)(Ae.bb,e),incomingDeletedChatMessage:Object(Qa.bindActionCreators)(Ae.T,e),incomingUpdatedChannelDetail:Object(Qa.bindActionCreators)(Ae.ab,e),getChannelMembers:Object(Qa.bindActionCreators)(Ae.A,e),updateChannelMembersTitle:Object(Qa.bindActionCreators)(Ae.Xb,e),incomingWorkspaceFolder:Object(Qa.bindActionCreators)(Y.I,e),incomingWorkspace:Object(Qa.bindActionCreators)(Y.H,e),incomingUpdatedWorkspaceFolder:Object(Qa.bindActionCreators)(Y.G,e),incomingMovedTopic:Object(Qa.bindActionCreators)(Y.C,e),setGeneralChat:Object(Qa.bindActionCreators)(ne.U,e),setUnreadNotificationCounterEntries:Object(Qa.bindActionCreators)(ne.Y,e),incomingPost:Object(Qa.bindActionCreators)(Ja.V,e),incomingPostClap:Object(Qa.bindActionCreators)(Ja.X,e),incomingDeletedPost:Object(Qa.bindActionCreators)(Ja.R,e),incomingComment:Object(Qa.bindActionCreators)(Ja.N,e),incomingCommentClap:Object(Qa.bindActionCreators)(Ja.P,e),incomingFolder:Object(Qa.bindActionCreators)(Va.nb,e),incomingDeletedFolder:Object(Qa.bindActionCreators)(Va.fb,e),incomingFile:Object(Qa.bindActionCreators)(Va.jb,e),incomingFiles:Object(Qa.bindActionCreators)(Va.mb,e),incomingDeletedFile:Object(Qa.bindActionCreators)(Va.db,e),incomingMovedFile:Object(Qa.bindActionCreators)(Va.rb,e),incomingRestoreFile:Object(Qa.bindActionCreators)(Va.yb,e),incomingRestoreFolder:Object(Qa.bindActionCreators)(Va.zb,e),incomingEmptyTrash:Object(Qa.bindActionCreators)(Va.ib,e),incomingCompanyFolder:Object(Qa.bindActionCreators)(Va.W,e),incomingCompanyUpdatedFolder:Object(Qa.bindActionCreators)(Va.cb,e),incomingCompanyDeletedFolder:Object(Qa.bindActionCreators)(Va.S,e),incomingCompanyFile:Object(Qa.bindActionCreators)(Va.U,e),incomingCompanyFiles:Object(Qa.bindActionCreators)(Va.V,e),incomingCompanyDeletedFile:Object(Qa.bindActionCreators)(Va.Q,e),incomingCompanyMovedFile:Object(Qa.bindActionCreators)(Va.Y,e),incomingCompanyEmptyTrash:Object(Qa.bindActionCreators)(Va.T,e),incomingCompanyRemovedFile:Object(Qa.bindActionCreators)(Va.ub,e),incomingCompanyMoveFile:Object(Qa.bindActionCreators)(Va.X,e),incomingCompanyRestoreFile:Object(Qa.bindActionCreators)(Va.Z,e),incomingCompanyRestoreFolder:Object(Qa.bindActionCreators)(Va.ab,e),incomingCompanyRemovedFolder:Object(Qa.bindActionCreators)(Va.vb,e),incomingCompanyDeletedFiles:Object(Qa.bindActionCreators)(Va.R,e),incomingCompanyUpdatedFile:Object(Qa.bindActionCreators)(Va.bb,e),incomingPostViewer:Object(Qa.bindActionCreators)(Ja.db,e),incomingUpdatedPost:Object(Qa.bindActionCreators)(Ja.hb,e),incomingTimeline:Object(Qa.bindActionCreators)(Y.E,e),incomingDeletedPostFile:Object(Qa.bindActionCreators)(Va.hb,e),incomingDeletedComment:Object(Qa.bindActionCreators)(Ja.Q,e),incomingUpdatedUser:Object(Qa.bindActionCreators)(Ka.x,e),unreadChannelReducer:Object(Qa.bindActionCreators)(Ae.Wb,e),incomingRemovedFile:Object(Qa.bindActionCreators)(Va.wb,e),incomingRemovedFolder:Object(Qa.bindActionCreators)(Va.xb,e),getWorkspace:Object(Qa.bindActionCreators)(Y.s,e),setSelectedChannel:Object(Qa.bindActionCreators)(Ae.Qb,e),incomingArchivedWorkspaceChannel:Object(Qa.bindActionCreators)(Y.z,e),incomingUnArchivedWorkspaceChannel:Object(Qa.bindActionCreators)(Y.F,e),updateWorkspaceCounter:Object(Qa.bindActionCreators)(Y.U,e),fetchPost:Object(Qa.bindActionCreators)(Ja.t,e),incomingDeletedFiles:Object(Qa.bindActionCreators)(Va.eb,e),incomingGoogleFile:Object(Qa.bindActionCreators)(Va.pb,e),incomingGoogleFolder:Object(Qa.bindActionCreators)(Va.qb,e),joinWorkspaceReducer:Object(Qa.bindActionCreators)(Y.L,e),incomingDeletedGoogleFile:Object(Qa.bindActionCreators)(Va.gb,e),incomingWorkspaceRole:Object(Qa.bindActionCreators)(Y.J,e),incomingDeletedWorkspaceFolder:Object(Qa.bindActionCreators)(Y.A,e),incomingExternalUser:Object(Qa.bindActionCreators)(Ka.t,e),getWorkspaceFolder:Object(Qa.bindActionCreators)(Y.u,e),incomingUpdateCompanyName:Object(Qa.bindActionCreators)(qa.d,e),incomingInternalUser:Object(Qa.bindActionCreators)(Ka.u,e),incomingToDo:Object(Qa.bindActionCreators)(ne.G,e),incomingUpdateToDo:Object(Qa.bindActionCreators)(ne.H,e),incomingDoneToDo:Object(Qa.bindActionCreators)(ne.D,e),incomingRemoveToDo:Object(Qa.bindActionCreators)(ne.F,e),incomingPostMarkDone:Object(Qa.bindActionCreators)(Ja.ab,e),incomingFavouriteItem:Object(Qa.bindActionCreators)(ne.E,e),incomingReadUnreadReducer:Object(Qa.bindActionCreators)(Ja.fb,e),updateCompanyPostAnnouncement:Object(Qa.bindActionCreators)(qa.i,e),incomingUserRole:Object(Qa.bindActionCreators)(Ka.y,e),deletePostNotification:Object(Qa.bindActionCreators)(Ae.u,e),incomingPostNotificationMessage:Object(Qa.bindActionCreators)(Ae.Z,e),incomingMarkAsRead:Object(Qa.bindActionCreators)(Ja.U,e),addToModals:Object(Qa.bindActionCreators)(ne.a,e),refetchMessages:Object(Qa.bindActionCreators)(ne.O,e),refetchOtherMessages:Object(Qa.bindActionCreators)(ne.P,e),getChannelDetail:Object(Qa.bindActionCreators)(Ae.x,e),incomingReminderNotification:Object(Qa.bindActionCreators)(Xa.d,e),getLatestReply:Object(Qa.bindActionCreators)(ne.r,e),incomingPostRecipients:Object(Qa.bindActionCreators)(Ja.bb,e),refetchPosts:Object(Qa.bindActionCreators)(Ja.Gb,e),refetchPostComments:Object(Qa.bindActionCreators)(Ja.Fb,e),getUnreadNotificationCounterEntries:Object(Qa.bindActionCreators)(ne.A,e),incomingImportantComment:Object(Qa.bindActionCreators)(Ja.T,e),incomingImportantChat:Object(Qa.bindActionCreators)(Ae.Y,e),incomingReadSelectedPosts:Object(Qa.bindActionCreators)(Ja.eb,e),incomingArchivedSelectedPosts:Object(Qa.bindActionCreators)(Ja.L,e),getUnreadWorkspacePostEntries:Object(Qa.bindActionCreators)(Y.r,e),updateWorkspacePostCount:Object(Qa.bindActionCreators)(Y.V,e),incomingPostApproval:Object(Qa.bindActionCreators)(Ja.W,e),incomingChatStar:Object(Qa.bindActionCreators)(Ae.S,e),incomingCommentApproval:Object(Qa.bindActionCreators)(Ja.O,e),incomingArchivedUser:Object(Qa.bindActionCreators)(Ka.q,e),incomingUnarchivedUser:Object(Qa.bindActionCreators)(Ka.w,e),incomingDeactivatedUser:Object(Qa.bindActionCreators)(Ka.r,e),incomingActivatedUser:Object(Qa.bindActionCreators)(Ka.p,e),incomingHuddleBot:Object(Qa.bindActionCreators)(Ae.W,e),incomingUpdatedHuddleBot:Object(Qa.bindActionCreators)(Ae.cb,e),incomingDeletedHuddleBot:Object(Qa.bindActionCreators)(Ae.U,e),incomingHuddleAnswers:Object(Qa.bindActionCreators)(Ae.V,e),clearUnpublishedAnswer:Object(Qa.bindActionCreators)(Ae.p,e),incomingClosePost:Object(Qa.bindActionCreators)(Ja.M,e),incomingHuddleSkip:Object(Qa.bindActionCreators)(Ae.X,e),incomingOnlineUsers:Object(Qa.bindActionCreators)(Ka.v,e),incomingUpdatedAnnouncement:Object(Qa.bindActionCreators)(ne.I,e),incomingCreatedAnnouncement:Object(Qa.bindActionCreators)(ne.B,e),incomingDeletedAnnouncement:Object(Qa.bindActionCreators)(ne.C,e),getPostList:Object(Qa.bindActionCreators)(Ja.C,e),incomingPostListConnect:Object(Qa.bindActionCreators)(Ja.Y,e),incomingPostListDisconnect:Object(Qa.bindActionCreators)(Ja.Z,e),getUnarchivePost:Object(Qa.bindActionCreators)(Ja.H,e),incomingPostRequired:Object(Qa.bindActionCreators)(Ja.cb,e),incomingTeamChannel:Object(Qa.bindActionCreators)(Y.D,e),incomingRemoveFileAfterDownload:Object(Qa.bindActionCreators)(Va.sb,e),incomingRemoveFileAutomatically:Object(Qa.bindActionCreators)(Va.tb,e),incomingFavouriteWorkspace:Object(Qa.bindActionCreators)(Y.B,e),getFavoriteWorkspaceCounters:Object(Qa.bindActionCreators)(Y.n,e),getToDoDetail:Object(Qa.bindActionCreators)(ne.x,e),setActiveTopic:Object(Qa.bindActionCreators)(Y.P,e),incomingDeletedUser:Object(Qa.bindActionCreators)(Ka.s,e),incomingFollowPost:Object(Qa.bindActionCreators)(Ja.S,e),incomingUnfollowPost:Object(Qa.bindActionCreators)(Ja.gb,e),incomingAcceptedInternal:Object(Qa.bindActionCreators)(Ka.o,e),incomingZoomData:Object(Qa.bindActionCreators)(ne.J,e)}}))(Object(l.k)(er)),tr=t(29),ar=t(83),rr=t.n(ar),ir=t(111),or="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function cr(){return(cr=Object(ir.a)(rr.a.mark((function e(){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sr(){return navigator.serviceWorker.register("/sw.js")}function lr(){return(lr=Object(ir.a)(rr.a.mark((function e(){var n;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return n=e.sent,e.next=5,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:or});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dr="serviceWorker"in navigator&&"PushManager"in window;function mr(){var e=Object(o.useState)("undefined"!==typeof Notification&&Notification.permission),n=Object(G.a)(e,2),t=n[0],a=n[1],r=Object(o.useState)(null),i=Object(G.a)(r,2),c=i[0],l=i[1],d=Object(o.useState)(null),m=Object(G.a)(d,2),p=m[0],u=m[1],f=Object(o.useState)(null),h=Object(G.a)(f,2),A=h[0],E=h[1],b=Object(o.useState)(!0),g=Object(G.a)(b,2),v=g[0],O=g[1],_=Object(o.useState)(null),w=Object(G.a)(_,2),k=w[0],C=w[1],y=Object(o.useState)(null),x=Object(G.a)(y,2),N=x[0],j=x[1],T=Object(o.useState)(localStorage.getItem("remindNotification")),I=Object(G.a)(T,2),S=I[0],R=I[1],P=Object(o.useState)(!1),D=Object(G.a)(P,2),L=D[0],F=D[1],M=Object(s.c)(),B=Object(s.d)((function(e){return e.notifications.hasSubscribed})),U=function(){O(!0),E(!1),C(!0),function(){return lr.apply(this,arguments)}().then((function(e){l(e),M(Object(ne.bb)(e,(function(e,n){if(e)return C(!1),O(!1),void E(e);C(!1),u(n.data.id)}))),O(!1)})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),E(e),O(!1)}))};Object(o.useEffect)((function(){dr&&(O(!0),E(!1),sr().then((function(){O(!1)}))),F(!0)}),[]),Object(o.useEffect)((function(){O(!0),E(!1),j(!0),function(){var e=Object(ir.a)(rr.a.mark((function e(){var n;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:n=e.sent,M(n?Object(Xa.k)(!0):Object(Xa.k)(!1)),l(n),j(!1),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(o.useEffect)((function(){null===c&&null===k&&!1===N&&U()}),[c,k,N,M]),Object(o.useEffect)((function(){dr&&null===B&&sr().then((function(){"granted"===t&&(M(Object(Xa.k)(!0)),U())}))}),[B,t]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),R(e)},onClickAskUserPermission:function(){O(!0),E(!1),function(){return cr.apply(this,arguments)}().then((function(e){a(e),"granted"!==e?(E({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),l(!1)):U(),O(!1)}))},onClickSubscribeToPushNotification:U,onClickSendSubscriptionToPushServer:function(){O(!0),E(!1),M(Object(ne.bb)(c,(function(e,n){if(e)return O(!1),void E(e);u(n.data.id)})))},pushServerSubscriptionId:p,onClickSendNotification:function(){O(!0),E(!1),M(Object(ne.t)({sub_id:p},(function(e,n){O(!1),e&&E(e)})))},userConsent:t,pushNotificationSupported:dr,userSubscription:c,error:A,loading:v,showNotificationBar:"default"===t&&null===c&&(null===S||S<Math.floor(Date.now()/1e3)),mounted:L}}function pr(){var e=Object(i.a)(["\n    text-decoration: underline;\n    cursor: pointer;\n"]);return pr=function(){return e},e}function ur(){var e=Object(i.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  .feather {\n      cursor: pointer;\n  }\n"]);return ur=function(){return e},e}var fr,hr,Ar=d.a.div(ur()),Er=d.a.span(pr()),br=function(e){var n=e.onClickAskUserPermission,t=e.onClickRemindLater;return c.a.createElement(Ar,null,c.a.createElement("p",null,"Please enable notification to get real-time updates. ",c.a.createElement(Er,{onClick:n},"Enable notification")),c.a.createElement(W.s,{icon:"x",onClick:t}))},gr=t(652),vr=d.a.div(fr||(fr=Object(i.a)([""]))),Or=d.a.audio(hr||(hr=Object(i.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"])));n.default=c.a.memo((function(e){Object(m.s)(e),Object(m.fb)(),Object(m.R)(),Object(m.y)();var n=mr(),a=n.mounted,r=n.showNotificationBar,i=n.onClickAskUserPermission,d=n.onClickRemindLater,p=Object(l.j)().path,u=Object(m.cb)().displayWelcomeBanner,f=Object(m.n)(),h=Object(m.ab)()._t,A={huddlePublished:h("HUDDLE.HUDDLE_PUBLISHED","Huddle published"),likedYourPost:h("TOAST.LIKED_YOUR_POST","liked your post"),likedYourComment:h("TOAST.LIKED_YOUR_COMMENT","liked your comment")},E=Object(s.d)((function(e){return e.session.user})),b=Object(m.V)(),g=Object(m.U)().localizeDate,v=Object(m.ib)(),O={audio:Object(o.useRef)(null)},_=Object(s.c)(),w=Object(m.Q)(),k=w.driffSettings.isCompSettingsLoaded,C=w.chatSettings.sound_enabled,y=w.generalSettings,x=y.notifications_on,N=y.notification_sound,j=Object(l.g)(),I="external"===E.type;Object(o.useEffect)((function(){if("/logout"===p){var e="".concat(Object(tr.c)(),"/logged-out");window.location.href="".concat(Object(tr.a)({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[p,_,j]),Object(o.useEffect)((function(){E.id&&k&&u()}),[E,k]),Object(o.useEffect)((function(){O.audio.current&&(O.audio.current.pause(),O.audio.current.load())}),[N]);return Object(gr.a)({timeout:6e4,onIdle:function(){_(Object(ne.V)(!0))},onActive:function(){_(Object(ne.V)(!1))},debounce:250}),c.a.createElement(c.a.Fragment,null,c.a.createElement(Or,{ref:O.audio,controls:!0},c.a.createElement(c.a.Fragment,null,c.a.createElement("source",{src:t(717),type:"audio/ogg"}),c.a.createElement("source",{src:t(718),type:"audio/mpeg"}),c.a.createElement("source",{src:t(719),type:"audio/m4r"})),"Your browser does not support the audio element."),r&&a&&c.a.createElement(br,{onClickAskUserPermission:i,onClickRemindLater:d}),a&&c.a.createElement(et,{isExternal:I}),a&&c.a.createElement(vr,{id:"main"},c.a.createElement(l.b,{render:function(e){return c.a.createElement(tt,Object.assign({isExternal:I},e,{showNotificationBar:r}))},path:["/:page"]}),c.a.createElement(l.d,null,c.a.createElement(l.b,{render:function(e){return c.a.createElement(pe,Object.assign({isExternal:I},e))},path:["/workspace"]}),c.a.createElement(l.b,{render:function(e){return c.a.createElement(T,Object.assign({},e,{isExternal:I}))},path:["/:page"]})),c.a.createElement(Ta,null)),c.a.createElement(Da,null),void 0!==E.id&&void 0!==window.Echo&&c.a.createElement(nr,{dictionary:A,useDriff:f,localizeDate:g,toaster:b,soundPlay:function(){if(C&&O.audio.current){var e=O.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){}))}},workspaceActions:v,notificationsOn:x}))}))}}]);