(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[8],{880:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return S}));var a=n(1),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(5),l=n(12),d=n(890),u=n(77),m=n(10);function p(){var e=Object(i.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return p=function(){return e},e}function f(){var e=Object(i.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]);return f=function(){return e},e}var h=s.b.div(f()),b=Object(s.b)(l.u)(p()),E=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.folders,s=e.file,p=e.isMember,f=e.forceDelete,E=void 0!==f&&f,g=e.disableOptions,O=e.hideOptions,v=void 0!==O&&O,_=Object(m.t)(),T=_.getFileSizeUnit(s.hasOwnProperty("size")&&"number"===typeof s.size?s.size:0),w=Object(o.useState)(s.is_favorite),k=Object(r.a)(w,2),N=k[0],y=k[1],A=function(){_.viewFiles(s)};return c.a.createElement(h,{className:"file-list-item ".concat(n)},c.a.createElement("div",{className:"card  app-file-list"},c.a.createElement("div",{className:"string"===typeof s.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:A},!0===N&&c.a.createElement(b,{icon:"star"}),_.getFileIcon(s.mime_type),"number"===typeof s.id&&!v&&c.a.createElement(d.g,{file:s,folders:i,actions:Object(a.a)(Object(a.a)({},_),{},{favorite:function(){y((function(e){return!e})),_.favorite(s)}}),isMember:p,forceDelete:E,disableOptions:g}),"string"===typeof s.id&&c.a.createElement(u.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),c.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:A},c.a.createElement(l.v,{content:s.name?s.name:s.search},c.a.createElement("div",{className:"file-name"},s.hasOwnProperty("payload_id")&&c.a.createElement(l.u,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),s.name?s.name:s.search)),c.a.createElement("div",{className:"text-muted"},T.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],T.unit))))})),g=n(49),O=n(14),v=n(185);function _(){var e=Object(i.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]);return _=function(){return e},e}function T(){var e=Object(i.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"]);return T=function(){return e},e}function w(){var e=Object(i.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return w=function(){return e},e}function k(){var e=Object(i.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"]);return k=function(){return e},e}var N=s.b.div(k(),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),y=Object(s.b)(l.u)(w()),A=(s.b.img(T(),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),s.b.div(_())),S=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.folder,s=e.actions,u=e.isMember,p=e.history,f=e.handleAddEditFolder,h=e.disableOptions,b=Object(g.j)(),E=b.path,_=b.url,T=b.params,w=Object(o.useRef)(null),k=Object(o.useState)(!1),S=Object(r.a)(k,2),j=S[0],C=S[1],x=Object(o.useState)(i.bg_color?i.bg_color:""),I=Object(r.a)(x,2),R=I[0],L=I[1],P=function(e){if(e.preventDefault(),e.stopPropagation(),i.hasOwnProperty("payload"))window.open(i.payload.url,"_blank");else if(E.startsWith("/hub/dashboard"))p.push(_.replace("/dashboard","/files")+"/folder/".concat(i.id,"/").concat(Object(O.i)(i.search)));else if("/hub/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===E||"/hub/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===E){var t=_.split("/folder/")[0];p.push(t+"/folder/".concat(i.id,"/").concat(Object(O.i)(i.search)))}else p.push(p.location.pathname+"/folder/".concat(i.id,"/").concat(Object(O.i)(i.search)))};Object(o.useEffect)((function(){if(""!==R&&R!==i.bg_color&&!j){var e={id:i.id,name:i.search,bg_color:R,topic_id:T.workspaceId};i.parent_folder&&(e=Object(a.a)(Object(a.a)({},e),{},{folder_id:i.parent_folder.id})),s.updateFolder(e)}}),[j,R]),Object(o.useEffect)((function(){L(i.bg_color)}),[i.bg_color]),Object(m.J)(w,(function(){return C(!j)}),j);var D=i.channel_folder;return c.a.createElement(N,{className:"file-list-item ".concat(n),color:R},c.a.createElement("div",{className:"card  app-file-list"},c.a.createElement("div",{className:"app-file-icon cursor-pointer",onClick:P},c.a.createElement("div",{onClick:P},i.hasOwnProperty("payload")&&c.a.createElement(y,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),c.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!h&&!D&&c.a.createElement(d.m,{folder:i,actions:s,isMember:u,history:p,params:T,handleAddEditFolder:f})),j&&c.a.createElement(A,{ref:w},c.a.createElement(v.a,{color:R,onChange:function(e,t){t.stopPropagation(),L(e.hex)}}))),c.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:P},c.a.createElement(l.v,{content:i.search},c.a.createElement("div",{className:"file-name"},i.search)))))}))},882:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return T.a})),n.d(t,"b",(function(){return x}));var a=n(6),r=n(0),i=n.n(r),o=n(4),c=n(5),s=n(12),l=n(77),d=n(21),u=n(10),m=n(49);function p(){var e=Object(a.a)(["\n  cursor: pointer;\n  transition: 0.3s ease;\n  &:hover {\n    color: ",";\n  }\n"]);return p=function(){return e},e}function f(){var e=Object(a.a)(["\n  cursor: pointer;\n  transition: 0.3s ease;\n  &:hover {\n    color: ",";\n  }\n"]);return f=function(){return e},e}function h(){var e=Object(a.a)(["\n  .badge {\n    background: ",";\n  }\n"]);return h=function(){return e},e}function b(){var e=Object(a.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .card-body {\n    padding: 1rem !important;\n    min-height: 115px;\n    width: 100%;\n    display: flex;\n  }\n"]);return b=function(){return e},e}var E=c.b.div(b(),(function(e){return e.theme.colors.primary}),(function(e){return e.userNameMaxWidth})),g=Object(c.b)(s.b)(h(),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";case"SHARED_TEAM_LEAD":return"#33b5e5";default:return"#fb3"}})),O=Object(c.b)(s.u)(f(),(function(e){return e.theme.colors.primary})),v=Object(c.b)(s.u)(p(),(function(e){return e.theme.colors.primary})),_=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.loggedUser,c=e.onNameClick,p=void 0===c?null:c,f=e.onChatClick,h=void 0===f?null:f,b=e.user,_=e.dictionary,T=e.showOptions,w=void 0!==T&&T,k=e.onUpdateRole,N=void 0===k?null:k,y=e.onArchiveUser,A=void 0===y?null:y,S=e.onActivateUser,j=void 0===S?null:S,C=e.onChangeUserType,x=void 0===C?null:C,I=e.onDeleteUser,R=void 0===I?null:I,L=e.onResendInvite,P=void 0===L?null:L,D=e.onDeleteInvitedInternalUser,M=void 0===D?null:D,F=e.showInactive,U=void 0!==F&&F,W=e.showWorkspaceRole,H=void 0!==W&&W,B=e.usersWithoutActivity,G=void 0===B?[]:B,z=e.onAddUserToTeam,V=void 0===z?null:z,Y=e.onDeleteTeamMember,K=void 0===Y?null:Y,q=e.sharedUser,J=void 0!==q&&q,Z=e.isSharedWorkspace,X=void 0!==Z&&Z,Q=Object(u.hb)(),$=Object(m.g)(),ee={cardBody:Object(r.useRef)(null),content:Object(r.useRef)(null)},te=Object(o.d)((function(e){return e.admin.notifications})),ne=Object(o.d)((function(e){return e.admin.notificationsLoaded})),ae=function(){A(b)},re=function(){j(b)},ie=function(e){var t=e.user;return"external"===a.type?i.a.createElement("span",{className:"mr-2"},""!==t.name?t.name:t.email):i.a.createElement(s.v,{content:t.email},i.a.createElement("span",{className:"mr-2"},""!==t.name?t.name:t.email))};return i.a.createElement(E,{className:"workspace-user-item-list col-lg-4 col-md-6 ".concat(n)},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card border",key:b.id},i.a.createElement("div",{className:"card-body position-relative",ref:ee.cardBody},i.a.createElement("div",{ref:ee.content,className:"d-flex align-items-center justify-content-between w-100"},i.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},i.a.createElement(s.a,{id:b.id,name:b.name?b.name:b.email,hasAccepted:b.has_accepted,imageLink:b.profile_image_link,showSlider:!0,sharedUser:J?b:null}),i.a.createElement("div",{className:"user-info-wrapper ml-3"},""!==b.email&&b.hasOwnProperty("has_accepted")&&!b.has_accepted&&"external"===b.type?i.a.createElement("h6",{className:"user-name mb-0 d-flex"},ie({user:b}),i.a.createElement("span",null,i.a.createElement(s.b,{label:_.invitedGuestBadge,badgeClassName:"badge badge-info badge-external text-white"}),"external"===b.type&&"external"!==a.type&&i.a.createElement(s.b,{badgeClassName:"badge-warning text-white",label:_.peopleExternal}),0===b.active&&i.a.createElement(s.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}))):i.a.createElement("h6",{className:"user-name mb-0",onClick:function(){p&&p(b)}},i.a.createElement("div",{className:"mr-2 d-flex"},ie({user:b}),b.hasOwnProperty("has_accepted")&&!b.has_accepted&&b.active?i.a.createElement(s.b,{label:_.invitedGuestBadge,badgeClassName:"badge badge-info badge-external text-white"}):null,b.role&&1===b.role.id&&i.a.createElement(s.v,{content:_.thisIsAnAdminAccount},i.a.createElement(s.u,{icon:"settings",className:"ml-1",width:10,height:10}))),i.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===b.type&&"external"!==a.type&&i.a.createElement(s.b,{label:_.guestBadge,badgeClassName:"badge badge-info badge-external text-white"}),X&&b.is_creator&&i.a.createElement(g,{role:"SHARED_TEAM_LEAD",badgeClassName:"text-white",label:_.roleTeamLead}),"external"===b.type&&"external"!==a.type&&b.has_accepted&&i.a.createElement(s.b,{badgeClassName:"badge-warning text-white",label:_.peopleExternal}),0===b.active&&i.a.createElement(s.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}),H&&b.workspace_role&&""!==b.workspace_role&&i.a.createElement(g,{role:b.workspace_role,badgeClassName:"WATCHER"===b.workspace_role||"TEAM_LEAD"===b.workspace_role?"text-dark":"text-white",label:function(){switch(b.workspace_role){case"ADVISOR":return _.roleAdvisor;case"APPROVER":return _.roleApprover;case"CLIENT":return _.roleClient;case"COMMUNICATION_LEAD":return _.roleCommunicationLead;case"DEVELOPER":return _.roleDeveloper;case"DESIGNER":return _.roleDesigner;case"FREELANCER":return _.roleFreelancer;case"SUPERVISOR":return _.roleSupervisor;case"TEAM_LEAD":return _.roleTeamLead;case"TECHNICAL_ADVISOR":return _.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return _.roleTechnicalLead;case"WATCHER":return _.roleWatcher;default:return""}}()}))),b.role&&"internal"===b.type&&i.a.createElement("span",{className:"small text-muted"},b.role.display_name),b.external_company_name&&"external"===b.type&&i.a.createElement("span",{className:"small text-muted"},b.external_company_name),b.invited_by&&i.a.createElement("div",null,i.a.createElement("span",{className:"small text-muted"},"Invited by: ",b.invited_by.first_name," ",b.invited_by.last_name)))),null!==h&&"external"!==a.type&&i.a.createElement("div",{className:"button-wrapper"},b.has_accepted&&!J&&i.a.createElement(s.v,{content:_.connectedWorkspaceIcon},i.a.createElement(O,{className:"mr-2",icon:"compass",onClick:function(){$.push("/hub/search?user-id=".concat(b.id))}})),b.contact&&""!==b.contact&&a.id!==b.id&&i.a.createElement(s.v,{content:_.phoneIcon},i.a.createElement("a",{href:"tel:".concat(b.contact.replace(/ /g,"").replace(/-/g,""))},i.a.createElement(s.u,{className:"mr-2",icon:"phone"}))),a.id!==b.id&&1===b.active&&"external"!==b.type&&!J&&i.a.createElement(s.v,{content:_.messageIcon},i.a.createElement(s.u,{onClick:function(){h&&h(b)},icon:"message-circle"})),a.id!==b.id&&b.hasOwnProperty("has_accepted")&&!b.has_accepted&&i.a.createElement(s.v,{content:_.sendEmailInviteLink},i.a.createElement(v,{onClick:function(){window.location.href="mailto:".concat(b.email,"?subject=Driff invite&body=").concat(b.invite_link)},icon:"mail"})),w&&a.id!==b.id&&i.a.createElement(l.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:ee.cardBody.current},!U&&"internal"===b.type&&b.role&&1!==b.role.id&&b.hasOwnProperty("has_accepted")&&b.has_accepted&&i.a.createElement("div",{onClick:function(){var e={user_id:b.id,role_id:1};N(e)}},_.assignAsAdmin),!U&&"internal"===b.type&&b.role&&2!==b.role.id&&b.hasOwnProperty("has_accepted")&&b.has_accepted&&i.a.createElement("div",{onClick:function(){var e={user_id:b.id,role_id:2};N(e)}},_.assignAsSupervisor),!U&&"internal"===b.type&&b.role&&3!==b.role.id&&b.hasOwnProperty("has_accepted")&&b.has_accepted&&i.a.createElement("div",{onClick:function(){var e={user_id:b.id,role_id:3};N(e)}},_.assignAsEmployee),!U&&"external"===b.type&&i.a.createElement("div",{onClick:function(){x&&x(b,"internal")}},_.moveToInternal),!U&&"internal"===b.type&&i.a.createElement("div",{onClick:function(){x&&x(b,"external")}},_.moveToExternal),U&&0===b.active&&!b.deactivate?i.a.createElement("div",{onClick:ae},_.unarchiveUser):null,b.active&&b.hasOwnProperty("has_accepted")&&b.has_accepted?i.a.createElement("div",{onClick:ae},_.archiveUser):null,!b.deactivate&&b.active&&b.hasOwnProperty("has_accepted")&&b.has_accepted?i.a.createElement("div",{onClick:re},_.deactivateUser):null,U&&b.deactivate&&0===b.active&&b.hasOwnProperty("has_accepted")&&b.has_accepted?i.a.createElement("div",{onClick:re},_.activateUser):null,!U&&b.active&&b.hasOwnProperty("has_accepted")&&b.has_accepted&&G.some((function(e){return e.user_id===b.id}))&&R||b.hasOwnProperty("has_accepted")&&!b.has_accepted&&"external"===b.type?i.a.createElement("div",{onClick:function(){R&&R(b)}},_.deleteUser):null,!U&&b.hasOwnProperty("has_accepted")&&!b.has_accepted&&ne&&te.email&&i.a.createElement("div",{onClick:function(){P&&P(b)}},_.resendInvitation),!U&&b.hasOwnProperty("has_accepted")&&!b.has_accepted&&"internal"===b.type&&i.a.createElement("div",{onClick:function(){M&&M(b)}},_.removeInvitedInternal),!U&&b.hasOwnProperty("has_accepted")&&!b.has_accepted&&"internal"===b.type&&i.a.createElement("div",{onClick:function(){Object(d.b)(Q,b.invite_link)}},_.sendInviteManually),!U&&b.hasOwnProperty("has_accepted")&&!b.has_accepted&&i.a.createElement("div",{onClick:function(){navigator.clipboard.writeText(b.invite_link).then((function(){Q.info(_.copyToClipboard)}))}},_.copyInviteLink),!U&&"internal"===b.type&&i.a.createElement("div",{onClick:function(){V&&V(b)}},_.addUserToTeam),K&&i.a.createElement("div",{onClick:function(){K&&K(b)}},_.removeTeamMember))))))))})),T=n(290),w=n(1),k=n(7),N=n(13),y=n(30);function A(){var e=Object(a.a)(["\n  width: 1rem;\n  height: 1rem;\n"]);return A=function(){return e},e}function S(){var e=Object(a.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .team-title {\n    display: flex;\n    flex-flow: row wrap;\n  }\n  .button-wrapper {\n    margin-left: auto;\n  }\n"]);return S=function(){return e},e}var j=c.b.div(S(),(function(e){return e.theme.colors.primary}),(function(e){return e.userNameMaxWidth})),C=Object(c.b)(s.k)(A()),x=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.loggedUser,c=e.team,d=e.dictionary,p=e._t,f=Object(o.c)(),h=Object(u.hb)(),b={cardBody:Object(r.useRef)(null),content:Object(r.useRef)(null)},E=Object(r.useState)(!1),g=Object(k.a)(E,2),O=g[0],v=g[1],_=Object(m.g)(),T=Object(u.fb)(),A=p("PEOPLE.TEAM_MEMBERS_NUMBER","(::number:: members)",{number:c.members.length}),S=a.role.id<=2;return i.a.createElement(j,{className:"workspace-user-item-list col-12 col-md-6 ".concat(n)},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card border",key:c.id},i.a.createElement("div",{className:"card-body",ref:b.cardBody},i.a.createElement("div",{ref:b.content,className:"d-flex align-items-center"},i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement(s.a,{id:c.id,name:c.name,noDefaultClick:!0,imageLink:c.icon_link,showSlider:!1,type:"TEAM"})),i.a.createElement("div",{className:"user-info-wrapper ml-3"},i.a.createElement(s.v,{content:c.name},i.a.createElement("div",{className:"mr-2 team-title",onClick:function(){_.push("/system/people/teams/".concat(c.id,"/").concat(c.name))}},i.a.createElement("span",null,d.team," ",c.name),i.a.createElement("span",null,c.members.length>0&&A)))),"external"!==a.type&&i.a.createElement("div",{className:"button-wrapper"},O&&i.a.createElement(C,null),!O&&i.a.createElement(s.u,{onClick:function(){v(!0);var e={type:"team",recipient_id:c.id};T.createChannel(e,(function(e,t){v(!1),e||t&&(T.addAndSelectChannel(Object(w.a)(Object(w.a)({},t.data.channel),{},{hasMore:!0,selected:!0,entity_id:c.id})),_.push("/chat/".concat(t.data.channel.code)))}))},icon:"message-circle"}),S&&i.a.createElement(l.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:b.cardBody.current},i.a.createElement("div",{onClick:function(){var e={mode:"edit",type:"team",team:c};f(Object(N.a)(e))}},d.editTeam),i.a.createElement("div",{onClick:function(){var e=function(e,t){e||h.success(p("TOASTER.TEAM_DELETE_SUCCESS","Successfully removed ::name:: team",{name:c.name}))},t={type:"confirmation",headerText:d.removeTeamHeader,submitText:d.removeTeamBtn,cancelText:d.cancel,bodyText:d.removeTeamConfirmation,actions:{onSubmit:function(){f(Object(y.l)({id:c.id},e))}}};f(Object(N.a)(t))}},d.removeTeam))))))))}))},884:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(12),s=n(10);function l(){var e=Object(a.a)(["\n  height: 2.7rem !important;\n  width: 2.7rem !important;\n  margin-left: ",";\n"]);return l=function(){return e},e}function d(){var e=Object(a.a)(["\n  .people-list {\n    right: 0;\n  }\n"]);return d=function(){return e},e}var u=o.b.div(d()),m=Object(o.b)(c.a)(l(),(function(e){return e.firstUser?"0":"-0.5rem"})),p=function(e){var t=e.members,n=e.classNames,a=void 0===n?"":n,r=e.size,o=e.sharedUsers,l=void 0!==o&&o,d=Object(s.Cb)(),p=5;d.width<=1600&&(p=2),d.width<=575&&(p=1),r&&(p=r);var f=t?t.slice(0,p):[],h=t?t.slice(p):[];return i.a.createElement(u,{className:"d-flex ".concat(a)},f.map((function(e,t){return i.a.createElement(m,{id:e.id,firstUser:0===t,key:e.id,name:e.name?e.name:e.email,imageLink:e.hasOwnProperty("members")?e.icon_link:e.profile_image_link,hasAccepted:e.has_accepted,type:e.hasOwnProperty("members")?"TEAM":"USER",showSlider:!e.hasOwnProperty("members"),icon:e.icon?e.icon:null,className:e.icon?"chat-members company":"chat-members",sharedUser:l?e:null})})),h.length>0&&i.a.createElement(c.o,{recipients:h,sharedUsers:l}))}},887:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(12),s=n(49);function l(){var e=Object(a.a)(["\n  cursor: pointer;\n  svg {\n    color: #8b8b8b;\n    width: 20px;\n    height: 20px;\n    :hover {\n      color: ",";\n    }\n  }\n"]);return l=function(){return e},e}var d=o.b.span(l(),(function(e){return e.theme.colors.primary}));t.a=function(e){var t=Object(s.g)();return i.a.createElement(d,{className:"mr-1"},i.a.createElement(c.u,{icon:"chevron-left",onClick:function(){t.goBack()}}))}},890:function(e,t,n){"use strict";n.d(t,"k",(function(){return O})),n.d(t,"h",(function(){return I})),n.d(t,"j",(function(){return M})),n.d(t,"n",(function(){return W})),n.d(t,"o",(function(){return G})),n.d(t,"q",(function(){return Y})),n.d(t,"r",(function(){return Z})),n.d(t,"g",(function(){return $})),n.d(t,"m",(function(){return ne})),n.d(t,"l",(function(){return se})),n.d(t,"i",(function(){return pe})),n.d(t,"s",(function(){return be})),n.d(t,"a",(function(){return Oe})),n.d(t,"p",(function(){return Te})),n.d(t,"b",(function(){return Ne})),n.d(t,"f",(function(){return ye})),n.d(t,"c",(function(){return xe})),n.d(t,"e",(function(){return De})),n.d(t,"d",(function(){return Fe}));var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(12),s=n(77),l=n(10),d=n(4);function u(){var e=Object(a.a)(["\n  width: 15px;\n"]);return u=function(){return e},e}function m(){var e=Object(a.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return m=function(){return e},e}function p(){var e=Object(a.a)([""]);return p=function(){return e},e}function f(){var e=Object(a.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]);return f=function(){return e},e}var h=o.b.div(f()),b=o.b.div(p()),E=o.b.span(m(),(function(e){return e.active&&"\n        background: 0 0;\n        color: ".concat(e.theme.colors.secondary,';\n        &:after {\n          content: "";\n          width: 3px;\n          height: 100%;\n          background-color: ').concat(e.theme.colors.secondary,";\n          display: block;\n          position: absolute;\n          top: 0;\n          animation: fadeIn 0.15s linear;\n          left: 0;\n        }\n        .dark & {\n          color: ").concat(e.theme.colors.third,";\n        }\n    ")})),g=Object(o.b)(c.u)(u()),O=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,r=e.actions,o=e.filterFile,u=e.filter,m=void 0===u?"all":u,p=e.dropZoneRef,f=e.storageLimit,O=void 0===f?25:f,v=e.wsFiles,_=e.folders,T=e.activeFolder,w=e.clearFilter,k=e.params,N=e.disableOptions,y=(e.workspace,Object(d.d)((function(e){return e.session.user})).type,Object(l.mb)()._t),A=r.getFileSizeUnit(v.storage),S=0===v.storage?0:v.storage<1e8?1e8:v.storage,j={uploadFiles:y("FILE.UPLOAD_FILES","Upload files"),allFiles:y("FILES.ALL_FILES","All files"),recentlyEdited:y("FILES.RECENTLY_EDITED","Recently edited"),favorite:y("FILE.FAVORITE","Favorite"),removed:y("FILES.REMOVED","Removed"),storageStatus:y("FILES.STORAGE_STATUS","Storage Status"),usedOf:y("FILE.USED_OF","used of"),gigabyte:y("FILE.GIGABYTE","GB"),teamChat:y("FILES_SIDEBAR.TEAM_CHAT","Team chat"),clientChat:y("FILES_SIDEBAR.CLIENT_CHAT","Client chat"),privatePost:y("FILES_SIDEBAR.PRIVATE_POST","Private post"),postWithClient:y("FILES_SIDEBAR.POST_WITH_CLIENT","Post with client")};return i.a.createElement(h,{className:"file-sidebar bottom-modal-mobile ".concat(n)},i.a.createElement(b,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),i.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===a&&i.a.createElement("div",{className:"card-body"},i.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){p.current&&p.current.open()},disabled:N},j.uploadFiles),i.a.createElement("form",{className:"d-none",id:"file-upload"},i.a.createElement("input",{type:"file",multiple:""}))),i.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},i.a.createElement("div",{className:"list-group list-group-flush"},i.a.createElement(E,{onClick:o,"data-filter":"",active:""===m,className:"list-group-item d-flex align-items-center"},i.a.createElement(g,{className:"mr-2",icon:"folder"}),j.allFiles,i.a.createElement("span",{className:"small ml-auto"},v&&v.count>0?v.count:null)),_&&Object.values(_).filter((function(e){return!e.is_archived})).length>0&&!0===a&&i.a.createElement(E,{className:"d-flex align-items-center folder-list"},i.a.createElement("ul",null,Object.values(_).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return i.a.createElement(se,{key:e.id,clearFilter:w,folders:_,params:k,folder:e,activeFolder:T})})))),i.a.createElement(E,{onClick:o,"data-filter":"recent",active:"recent"===m,className:"list-group-item d-flex align-items-center"},i.a.createElement(g,{className:"mr-2",icon:"monitor"}),j.recentlyEdited),i.a.createElement(E,{onClick:o,"data-filter":"important",active:"important"===m,className:"list-group-item d-flex align-items-center"},i.a.createElement(g,{className:"mr-2",icon:"star"}),j.favorite,i.a.createElement("span",{className:"small ml-auto"},v&&v.stars>0?v.stars:null)),i.a.createElement(E,{onClick:o,"data-filter":"removed",active:"removed"===m,className:"list-group-item d-flex align-items-center"},i.a.createElement(g,{className:"mr-2",icon:"trash"}),j.removed,i.a.createElement("span",{className:"small ml-auto"},v&&v.trash>0?v.trash:null))),"undefined"!==typeof v&&null!==v&&i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"mb-4"},j.storageStatus),i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-3"},i.a.createElement(c.u,{icon:"database"})),i.a.createElement("div",{className:"flex-grow-1"},i.a.createElement(s.d,{amount:S,limit:1e9*O}),i.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},A.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],A.unit," ",j.usedOf," ",O,j.gigabyte)))))))})),v=n(1),_=n(7),T=n(66),w=n(880);function k(){var e=Object(a.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return k=function(){return e},e}function N(){var e=Object(a.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return N=function(){return e},e}function y(){var e=Object(a.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]);return y=function(){return e},e}function A(){var e=Object(a.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return A=function(){return e},e}var S=o.b.div(A()),j=Object(o.b)(s.c)(y()),C=o.b.div(N()),x=o.b.div(k()),I=i.a.memo((function(e){var t=e.className,a=void 0===t?"":t,o=e.dropZoneRef,s=e.filter,u=e.search,m=e.wsFiles,p=e.isMember,f=e.handleAddEditFolder,h=e.actions,b=e.params,E=e.folders,g=e.folder,O=e.fileIds,k=e.history,N=e.subFolders,y=e.dictionary,A=e.disableOptions,I=(e.sharedSlug,e.slug),R=Object(l.hb)(),L=document.querySelector(".app-content-body"),P=Object(d.d)((function(e){return e.session.user})),D=Object(r.useState)(!1),M=Object(_.a)(D,2),F=M[0],U=M[1],H=function(){o.current&&o.current.open()},B=function(){U(!1)};if(Object(r.useEffect)((function(){F&&U(!1)}),[m]),Object(r.useEffect)((function(){F&&!p&&R.warning("You are not a member of this workspace.")}),[F]),m)return i.a.createElement(S,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(s)||F||U(!0)}},!A&&i.a.createElement(T.a,{ref:o,hide:!(F&&!0===p),onDragLeave:B,onDrop:function(e){!function(e){U(!1);var t=Math.floor(Date.now()/1e3),a={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:g?g.id:null,id:n(59).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:P.id,view_link:null,uploading:!0}})),folder_id:g?g.id:null,topic_id:parseInt(b.workspaceId),workspace_id:b.hasOwnProperty("folderId")?parseInt(b.fileFolderId):null,slug:I};h.uploadingFiles(a);var r=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].ref_id=n(59).generate(),r.append("files["+i+"]",e[i]));var o={is_primary:0,topic_id:b.workspaceId,files:r};b.fileFolderId&&(o=Object(v.a)(Object(v.a)({},o),{},{folder_id:b.fileFolderId}));var c=a.files.map((function(e){return e.id}));h.uploadFiles(o,(function(e,t){h.deleteWorkspaceFilesUpload({topic_id:parseInt(b.workspaceId),fileIds:c,slug:I})}))}(e.acceptedFiles)},onCancel:B,params:b}),i.a.createElement("div",{className:"card-body app-lists"},g&&p&&"removed"!==s&&!A&&!g.channel_folder&&i.a.createElement(j,{moreButton:"settings"},i.a.createElement("div",{onClick:function(){f(g,"update")}},y.editFolder),i.a.createElement("div",{onClick:function(){if(g){h.removeFolder(g,b.workspaceId,(function(e,t){if(!e&&t){var n=k.location.pathname.split("/folder/")[0];k.push(n)}}))}}},y.removeFolder)),"removed"===s&&m&&m.hasOwnProperty("trash_files")&&(Object.keys(m.trash_files).length>0||Object.values(E).filter((function(e){return e.is_archived})).length>0)&&i.a.createElement(c.u,{icon:"trash",onClick:h.removeTrashFiles}),""===s&&i.a.createElement(i.a.Fragment,null,"undefined"===typeof b.fileFolderId&&i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},y.allFiles),g&&g.search&&i.a.createElement(pe,{folder:g,history:k,dictionary:y,folders:E,workspaceID:b.workspaceId}),i.a.createElement("div",{className:"row"},b.hasOwnProperty("fileFolderId")?N.filter((function(e){return!e.is_archived})).map((function(e){return i.a.createElement(w.b,{key:e.id,actions:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:k,isMember:p,params:b,handleAddEditFolder:f})})):Object.values(E).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return i.a.createElement(w.b,{key:e.id,actions:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:k,isMember:p,params:b,handleAddEditFolder:f})}))),"undefined"!==typeof b.fileFolderId?i.a.createElement(i.a.Fragment,null,g?i.a.createElement(i.a.Fragment,null,i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},g.search),i.a.createElement("div",{className:"row"},i.a.createElement(ye,{disableOptions:A}),m&&Object.values(m.files).filter((function(e){return e.folder_id===parseInt(b.fileFolderId)})).map((function(e){return i.a.createElement(w.a,{key:e.id,isMember:p,scrollRef:L,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:E,disableOptions:A})}))),m&&0===O.length&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}),p&&i.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:H,disabled:A},y.uploadFiles))):i.a.createElement(i.a.Fragment,null)):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement(ye,{disableOptions:A}),m&&m.files&&Object.values(m.files).filter((function(e){return null===e.folder_id})).map((function(e){return i.a.createElement(w.a,{key:e.id,isMember:p,scrollRef:L,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:E,disableOptions:A})}))),m.popular_files&&m.popular_files.length>0&&i.a.createElement(G,{search:u,isMember:p,scrollRef:L,wsFiles:m,actions:h,folders:E,disableOptions:A}),m.recently_edited&&m.recently_edited.length>0&&i.a.createElement(Y,{search:u,isMember:p,scrollRef:L,wsFiles:m,actions:h,folders:E,disableOptions:A})),0===O.length&&m.popular_files&&0===m.popular_files.length&&m.recently_edited&&0===m.recently_edited.length&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}),p&&i.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:H,disabled:A},y.uploadFiles))),"team"===s&&i.a.createElement(i.a.Fragment,null,i.a.createElement(be,{search:u,scrollRef:L,wsFiles:m,actions:h,folders:E,disableOptions:A}),!(m&&m.team_chat.length>0)&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}))),"client"===s&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe,{search:u,scrollRef:L,wsFiles:m,actions:h,folders:E,disableOptions:A}),!(m&&m.client_chat.length>0)&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}))),"privatePost"===s&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Te,{search:u,scrollRef:L,wsFiles:m,actions:h,folders:E,disableOptions:A}),!(m&&m.private_post.length>0)&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}))),"clientPost"===s&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne,{search:u,scrollRef:L,wsFiles:m,actions:h,folders:E,disableOptions:A}),!(m&&m.client_post.length>0)&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}))),"recent"===s&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Y,{search:u,isMember:p,scrollRef:L,wsFiles:m,actions:h,folders:E,disableOptions:A}),!(m&&m.recently_edited.length>0)&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}))),"important"===s&&i.a.createElement(i.a.Fragment,null,i.a.createElement(W,{search:u,isMember:p,scrollRef:L,wsFiles:m,folders:E,actions:h}),!(m&&m.hasOwnProperty("favorite_files")&&m.favorite_files.length>0)&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282}),i.a.createElement(x,null,i.a.createElement("p",null,"No favorite files."),i.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===s&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Z,{scrollRef:L,search:u,wsFiles:m,actions:h,isMember:p,params:b,folders:E,subFolders:N,handleAddEditFolder:f,folder:g,disableOptions:A}),!(m&&m.hasOwnProperty("trash_files")&&Object.keys(m.trash_files).length>0)&&!(Object.values(E).some((function(e){return e.is_archived}))||N.some((function(e){return e.is_archived})))&&i.a.createElement(C,null,i.a.createElement(c.s,{icon:4,height:282})))))})),R=n(14),L=n(13);function P(){var e=Object(a.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return P=function(){return e},e}var D=o.b.div(P()),M=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isMember,r=e.dropZoneRef,o=e.onSearchChange,s=e.onSearch,l=e.onEnter,u=e.wsFiles,m=e.handleAddEditFolder,p=e.handleAddEditFile,f=e.folders,h=e.history,b=e.params,E=e.clearFilter,g=e.dictionary,O=e.disableOptions,v=e.onClickEmpty,_=e.value,T=Object(d.c)(),w=Object(d.d)((function(e){return e.workspaces.selectedWorkspaceId})),k=function(e){if(E(),u.folders.hasOwnProperty(e.target.dataset.value)){var t=u.folders[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):b.hasOwnProperty("fileFolderId")?h.push(h.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Object(R.i)(t.search))):h.push(h.location.pathname+"/folder/".concat(t.id,"/").concat(Object(R.i)(t.search)))}},N={label:i.a.createElement(i.a.Fragment,null,i.a.createElement(c.u,{className:"mr-1",icon:"plus"})," ",g.add),items:[{value:"folder",label:g.folder,onClick:function(){return m(null,"create")}},{value:"file",label:g.file,onClick:function(){r.current&&r.current.open()}}]},y={label:g.folders,items:u&&Object.values(f).length?Object.values(f).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:k}})):[]},A={label:i.a.createElement(i.a.Fragment,null,i.a.createElement(c.u,{className:"mr-1",icon:"google-drive"})," ",g.googleDrive),items:[{value:"document",label:g.googleDocument,onClick:function(){return p(null,"create","document")}},{value:"slides",label:g.googleSlides,onClick:function(){return p(null,"create","slides")}},{value:"sheets",label:g.googleSheets,onClick:function(){return p(null,"create","spreadsheet")}}]};return i.a.createElement(D,{className:"files-header app-action ".concat(n)},i.a.createElement("div",{className:"action-left"},i.a.createElement("ul",{className:"list-inline"},!0===a&&!O&&i.a.createElement("li",{className:"list-inline-item mb-0"},i.a.createElement(c.e,{dropdown:N})),!0===a&&Object.values(f).filter((function(e){return!e.is_archived})).length>=1&&i.a.createElement("li",{className:"list-inline-item mb-0"},i.a.createElement(c.e,{dropdown:y})),!0===a&&i.a.createElement("li",{className:"list-inline-item mb-0"},i.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){var e={type:"external_file_folder",mode:"create",topic_id:w,params:b};T(Object(L.a)(e))}},g.driveLink)),!0===a&&i.a.createElement("li",{className:"list-inline-item mb-0"},i.a.createElement(c.e,{dropdown:A}))),i.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},i.a.createElement(c.u,{icon:"menu"}))),i.a.createElement("div",{className:"action-right"},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",onChange:o,onKeyDown:l,value:_,className:"form-control",placeholder:g.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==_.trim()&&i.a.createElement("button",{onClick:v,className:"btn-cross",type:"button"},i.a.createElement(c.u,{icon:"x"})),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:s},i.a.createElement(c.u,{icon:"search"}))))))}));function F(){var e=Object(a.a)([""]);return F=function(){return e},e}var U=o.b.div(F()),W=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles;return i.a.createElement(U,{className:"important-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),i.a.createElement("div",{className:"row"},r&&r.favorite_files.length>0&&r.favorite_files.map((function(e){return i.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:a,file:r.files[e]})}))))}));function H(){var e=Object(a.a)([""]);return H=function(){return e},e}var B=o.b.div(H()),G=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,o=e.disableOptions;return i.a.createElement(B,{className:"popular-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),i.a.createElement("div",{className:"row"},r&&r.popular_files.length>0&&r.popular_files.map((function(e){return i.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],folders:a,disableOptions:o})}))))}));function z(){var e=Object(a.a)([""]);return z=function(){return e},e}var V=o.b.div(z()),Y=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,o=e.disableOptions,c=e.isMember;return i.a.createElement(V,{className:"recent-edited-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),i.a.createElement("div",{className:"row"},r&&r.recently_edited.length>0&&r.recently_edited.map((function(e){return r.files.hasOwnProperty(e)?i.a.createElement(w.a,{key:e,isMember:c,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],folders:a,disableOptions:o}):null}))))})),K=n(49);function q(){var e=Object(a.a)([""]);return q=function(){return e},e}var J=o.b.div(q()),Z=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,r=e.wsFiles,o=e.isMember,c=e.folders,s=e.subFolders,l=e.folder,d=e.params,u=e.handleAddEditFolder,m=e.disableOptions,p=Object(K.g)();return i.a.createElement(J,{className:"remove-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),l&&i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},l.search),i.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?s.filter((function(e){return e.is_archived})).map((function(e){return i.a.createElement(w.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:o,params:d,handleAddEditFolder:u,disableOptions:m})})):Object.values(c).filter((function(e){return e.is_archived})).map((function(e){return i.a.createElement(w.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:o,params:d,handleAddEditFolder:u,disableOptions:m})}))),i.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})).map((function(e){return i.a.createElement(w.a,{key:e.id,isMember:o,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:c,disableOptions:m})})):r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).map((function(e){return"undefined"!==typeof e?i.a.createElement(w.a,{key:e.id,isMember:o,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:c,disableOptions:m}):null}))))}));function X(){var e=Object(a.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return X=function(){return e},e}var Q=Object(o.b)(s.c)(X()),$=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.file,o=e.scrollRef,c=void 0===o?null:o,s=e.actions,d=e.isMember,u=e.forceDelete,m=e.disableOptions,p=Object(l.hb)(),f=Object(l.mb)()._t,h={rename:f("FILES.RENAME","Rename"),restore:f("FILES.RESTORE","Restore"),remove:f("FILES.REMOVE","Remove"),viewDetails:f("FILES.VIEW_DETAILS","View details"),share:f("FILES.SHARE","Share"),download:f("FILES.DOWNLOAD","Download"),moveTo:f("FILES.MOVE_TO","Move to"),favorite:f("FILES.FAVORITE","Favorite"),unfavorite:f("FILES.UNFAVORITE","Unfavorite"),notMemberOfWs:f("TOASTER.NOT_MEMBER_OF_WS","You are not a member of this workspace.")};return i.a.createElement(Q,{className:"file-options ".concat(n),moreButton:"more-horizontal",file:r,scrollRef:c},i.a.createElement("div",{onClick:function(){s.viewFiles(r)}},h.viewDetails),i.a.createElement("div",{onClick:function(){s.favorite(r)}},r.is_favorite?h.unfavorite:h.favorite),i.a.createElement("div",{onClick:function(){s.copyLink(r.view_link)}},h.share),i.a.createElement("div",{onClick:function(){s.download(r)}},h.download),i.a.createElement("div",{onClick:function(){d?s.moveFile(r):p.warning(i.a.createElement(i.a.Fragment,null,"You are ",i.a.createElement("b",null,"not")," a member of this workspace."))}},h.moveTo),i.a.createElement("div",{onClick:function(){d?s.renameFile(r):p.warning("".concat(h.notMemberOfWs))}},h.rename),u&&i.a.createElement("div",{onClick:function(){s.restoreWorkspaceFile(r,(function(e,t){e||t&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?p.success(i.a.createElement(i.a.Fragment,null,"Item ",i.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):p.success(i.a.createElement(i.a.Fragment,null,"Item ",i.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},h.restore),!m&&i.a.createElement("div",{onClick:function(){d?r.hasOwnProperty("payload_id")?s.unlinkGoogleAttachment(r):s.removeFile(r,u):p.warning("".concat(h.notMemberOfWs))}},h.remove))}));function ee(){var e=Object(a.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return ee=function(){return e},e}var te=Object(o.b)(s.c)(ee()),ne=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.scrollRef,o=void 0===r?null:r,c=e.actions,s=e.isMember,d=e.history,u=e.params,m=e.handleAddEditFolder,p=Object(l.hb)(),f=Object(l.mb)()._t,h={rename:f("FILES.RENAME","Rename"),restore:f("FILES.RESTORE","Restore"),remove:f("FILES.REMOVE","Remove")};return i.a.createElement(te,{className:"file-options ".concat(n),moreButton:"more-horizontal",folder:a,scrollRef:o},!a.hasOwnProperty("payload")&&i.a.createElement("div",{onClick:function(){s?m(a,"edit"):p.warning("You are not a member of this workspace.")}},h.rename),a.is_archived&&i.a.createElement("div",{onClick:function(){c.restoreWorkspaceFolder(a,(function(e,t){t&&(a.parent_folder?p.success(i.a.createElement(i.a.Fragment,null,"Folder ",i.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):p.success(i.a.createElement(i.a.Fragment,null,"Folder ",i.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},h.restore),i.a.createElement("div",{onClick:function(){if(s)if(a.hasOwnProperty("payload"))c.unlinkGoogleFolder(a);else{c.removeFolder(a,u.workspaceId,(function(e,t){if(!e&&t){var n=d.location.pathname.split("/folder/")[0];d.push(n)}}))}else p.warning("You are not a member of this workspace.")}},h.remove))})),ae=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.folders,o=e.activeFolder,c=e.clearFilter,s=e.params;return i.a.createElement(se,{className:n,clearFilter:c,folders:r,params:s,folder:a,activeFolder:o})};function re(){var e=Object(a.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return re=function(){return e},e}function ie(){var e=Object(a.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: ",";\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return ie=function(){return e},e}var oe=o.b.li(ie(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"".concat(e.theme.colors.primary," !important"):"#64625C"}),(function(e){return e.theme.colors.primary})),ce=o.b.ul(re(),(function(e){return e.maxHeight})),se=function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,o=e.folders,s=e.activeFolder,l=e.clearFilter,d=Object(K.g)(),u=Object(K.j)(),m=u.params,p=u.path,f=u.url,h={container:Object(r.useRef)(null),arrow:Object(r.useRef)(null),nav:Object(r.useRef)(null)},b=Object(r.useState)(!1),E=Object(_.a)(b,2),g=E[0],O=E[1],v=Object(r.useState)(null),T=Object(_.a)(v,2),w=T[0],k=T[1];return Object(r.useEffect)((function(){null!==h.nav.current&&k(h.nav.current.scrollHeight)}),[h.nav.current,w]),Object(r.useEffect)((function(){s&&s.parent_folder&&s.parent_folder.id===a.id&&O(!0)}),[m,s]),i.a.createElement(oe,{ref:h.container,className:"folder-list fadeIn ".concat(n),selected:!!s&&s.id==a.id},i.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(l(),"/hub/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p||"/hub/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p){var e=f.split("/folder/")[0];d.push(e+"/folder/".concat(a.id,"/").concat(Object(R.i)(a.search)))}else d.push(d.location.pathname+"/folder/".concat(a.id,"/").concat(Object(R.i)(a.search)));O((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&i.a.createElement(c.u,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&i.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(g?"ti-minus rotate-in":"ti-plus")})),Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&i.a.createElement(ce,{ref:h.nav,maxHeight:w,className:g?"enter-active":"leave-active"},g&&Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return i.a.createElement(ae,{key:e.id,clearFilter:l,params:m,folderHeight:w,activeFolder:s,folders:o,folder:e})}))))};n(958);function le(){var e=Object(a.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"]);return le=function(){return e},e}o.b.div(le(),(function(e){return e.disabled?".5":"1"}));var de=n(297);function ue(){var e=Object(a.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return ue=function(){return e},e}var me=o.b.div(ue()),pe=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,o=e.history,s=e.dictionary,l=e.folders,d=e.workspaceID,u=Object(K.j)().url,m=Object(r.useState)(!1),p=Object(_.a)(m,2),f=p[0],h=p[1];return Object(r.useEffect)((function(){a.parent_folder&&Object.values(l).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?h(!0):h(!1))})),a.parent_folder||h(!1)}),[a]),i.a.createElement(me,{className:"files-breadcrumb d-flex ".concat(n)},i.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},i.a.createElement("li",{onClick:function(){var e=o.location.pathname.split("/folder/")[0];o.push(e)}},s.allFiles),i.a.createElement(c.u,{width:12,icon:"chevron-right"}),f&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(de.a,{parentFolder:a.parent_folder,workspaceID:d,history:o})),i.a.createElement(c.u,{width:12,icon:"chevron-right"})),a.parent_folder&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{onClick:function(){return function(e){var t=u.split("/folder/")[0];o.push(t+"/folder/".concat(e.id,"/").concat(Object(R.i)(e.name)))}(a.parent_folder)}},a.parent_folder.name),i.a.createElement(c.u,{width:12,icon:"chevron-right"})),i.a.createElement("div",null,a.search)))}));function fe(){var e=Object(a.a)([""]);return fe=function(){return e},e}var he=o.b.div(fe()),be=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,o=e.actions,c=e.disableOptions;return i.a.createElement(he,{className:"recent-edited-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Team chat"),i.a.createElement("div",{className:"row"},r&&r.team_chat.length>0&&r.team_chat.map((function(e){return r.files.hasOwnProperty(e)?i.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:o,folders:a,disableOptions:c}):null}))))}));function Ee(){var e=Object(a.a)([""]);return Ee=function(){return e},e}var ge=o.b.div(Ee()),Oe=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,o=e.actions,c=e.disableOptions;return i.a.createElement(ge,{className:"recent-edited-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Client chat"),i.a.createElement("div",{className:"row"},r&&r.client_chat.length>0&&r.client_chat.map((function(e){return r.files.hasOwnProperty(e)?i.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:o,folders:a,disableOptions:c}):null}))))}));function ve(){var e=Object(a.a)([""]);return ve=function(){return e},e}var _e=o.b.div(ve()),Te=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,o=e.actions,c=e.disableOptions;return i.a.createElement(_e,{className:"recent-edited-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Private post"),i.a.createElement("div",{className:"row"},r&&r.private_post.length>0&&r.private_post.map((function(e){return r.files.hasOwnProperty(e)?i.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:o,folders:a,disableOptions:c}):null}))))}));function we(){var e=Object(a.a)([""]);return we=function(){return e},e}var ke=o.b.div(we()),Ne=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.wsFiles,o=e.actions,c=e.disableOptions;return i.a.createElement(ke,{className:"recent-edited-files ".concat(n)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Post with client"),i.a.createElement("div",{className:"row"},r&&r.client_post.length>0&&r.client_post.map((function(e){return r.files.hasOwnProperty(e)?i.a.createElement(w.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:o,folders:a,disableOptions:c}):null}))))})),ye=function(e){var t=e.disableOptions,n=Object(K.i)(),a=Object(d.d)((function(e){return e.workspaces.activeTopic})),r=n.workspaceId;n&&n.workspaceId&&a&&(r="".concat(n.workspaceId,"-").concat(a.slug));var o=Object(d.d)((function(e){return n&&n.workspaceId&&e.files.workspaceFiles[r]?e.files.workspaceFiles[r].driveLinks:e.files.companyFiles.driveLinks}));return o?Object.values(o).filter((function(e){return n&&n.workspaceId&&n.fileFolderId?e.folder_id===parseInt(n.fileFolderId):n&&!n.workspaceId&&n.folderId?e.folder_id===parseInt(n.folderId):null===e.folder_id})).map((function(e){return i.a.createElement(xe,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",link:e,disableOptions:t})})):null};function Ae(){var e=Object(a.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return Ae=function(){return e},e}function Se(){var e=Object(a.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n    .small {\n      min-height: 49px;\n    }\n    .feather-link {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]);return Se=function(){return e},e}var je=o.b.div(Se()),Ce=Object(o.b)(c.u)(Ae()),xe=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.link,r=e.isFavorite,o=function(){window.open(a.link,"_blank")};return i.a.createElement(je,{className:"file-list-item ".concat(n)},i.a.createElement("div",{className:"card  app-file-list"},i.a.createElement("div",{className:"app-file-icon uploaded cursor-pointer",onClick:o},!0===r&&i.a.createElement(Ce,{icon:"star"}),i.a.createElement(De,{link:a}),i.a.createElement(Fe,{type:a.type})),i.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:o},i.a.createElement(c.v,{content:a.name},i.a.createElement("div",{className:"file-name"},i.a.createElement(c.u,{className:"mr-2",icon:"link"}),a.name)))))})),Ie=n(21),Re=n(23);function Le(){var e=Object(a.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return Le=function(){return e},e}var Pe=Object(o.b)(s.c)(Le()),De=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.link,r=e.scrollRef,o=void 0===r?null:r,c=Object(d.c)(),s=Object(K.i)(),u=Object(l.hb)(),m=Object(K.g)(),p=Object(d.d)((function(e){return e.workspaces.activeTopic})),f=Object(d.d)((function(e){return e.workspaces.sharedWorkspaces})),h=Object(l.mb)()._t,b={rename:h("FILES.RENAME","Rename"),remove:h("FILES.REMOVE","Remove"),viewDetails:h("FILES.VIEW_DETAILS","View details"),share:h("FILES.SHARE","Share"),favorite:h("FILES.FAVORITE","Favorite"),unfavorite:h("FILES.UNFAVORITE","Unfavorite"),modalHeader:h("MODAL.DRIVE_LINK_REMOVE","Remove link"),cancel:h("BUTTON.CANCEL","Cancel"),removeLink:h("BUTTON.REMOVE_LINK","Remove link"),modalBody:h("MODAL.BODY_REMOVE_LINK","Are you sure you want to remove this drive link?"),removedLink:h("TOASTER.REMOVED_DRIVE_LINK","::linkName:: removed from drive",{linkName:a.name}),moveTo:h("FILES.MOVE_TO","Move to")};return i.a.createElement(Pe,{className:"file-options ".concat(n),moreButton:"more-horizontal",scrollRef:o},i.a.createElement("div",{onClick:function(){window.open(a.link,"_blank")}},b.viewDetails),i.a.createElement("div",{onClick:function(){Object(Ie.b)(u,a)}},b.share),i.a.createElement("div",{onClick:function(){if(s.workspaceId){var e=null;s.workspaceId&&m.location.pathname.startsWith("/shared-hub")&&p&&(e={slug:p.slug,token:f[p.slug].access_token,is_shared:!0});var t={type:"move_files",file:Object(v.a)(Object(v.a)({},a),{},{search:a.name}),topic_id:s.workspaceId,folder_id:null,isLink:!0,sharedPayload:e};s.hasOwnProperty("fileFolderId")&&(t=Object(v.a)(Object(v.a)({},t),{},{folder_id:s.fileFolderId})),c(Object(L.a)(t))}else{var n={type:"move_company_files",dictionary:{headerText:"Move files",submitText:"Move",cancelText:"Cancel",bodyText:a.name},file:Object(v.a)(Object(v.a)({},a),{},{search:a.name}),folder_id:null,actions:{onSubmit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={id:a.id,type:a.type,name:a.name,link:a.link,folder_id:e.folder_id};if(s.workspaceId){var o=null;s.workspaceId&&m.location.pathname.startsWith("/shared-hub")&&p&&(o={slug:p.slug,token:f[p.slug].access_token,is_shared:!0}),r=Object(v.a)(Object(v.a)({},r),{},{topic_id:parseInt(s.workspaceId),sharedPayload:o})}c(Object(Re.Ub)(r,(function(e,r){e&&u.error(i.a.createElement("div",null,"Failed to move ",i.a.createElement("b",null,a.search)," to folder ",i.a.createElement("strong",null,n.selectedFolder))),r&&u.success(i.a.createElement("div",null,i.a.createElement("strong",null,a.search)," has been moved to folder ",i.a.createElement("strong",null,n.selectedFolder))),t(e,r)})))}}};s.hasOwnProperty("folderId")&&(n=Object(v.a)(Object(v.a)({},n),{},{folder_id:s.folderId})),c(Object(L.a)(n))}}},b.moveTo),i.a.createElement("div",{onClick:function(){var e={type:"external_file_folder",mode:"update",topic_id:s.workspaceId?Number(s.workspaceId):null,params:s,link:a};c(Object(L.a)(e))}},b.rename),i.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:b.modalHeader,submitText:b.removeLink,cancelText:b.cancel,bodyText:b.modalBody,actions:{onSubmit:function(){var e=null;s.workspaceId&&m.location.pathname.startsWith("/shared-hub")&&p&&(e={slug:p.slug,token:f[p.slug].access_token,is_shared:!0}),c(Object(Re.k)({id:a.id,sharedPayload:e},(function(e,t){e||u.info(b.removedLink)})))}}};c(Object(L.a)(e))}},b.remove))})),Me=n(86),Fe=function(e){var t=e.type;return t.includes("document")?i.a.createElement(Me.c,{icon:"gdoc",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("form")?i.a.createElement(Me.c,{icon:"gforms",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("google_folder")?i.a.createElement(Me.c,{icon:"google-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("spreadsheet")?i.a.createElement(Me.c,{icon:"gsheet",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("word")?i.a.createElement(Me.c,{icon:"office-word",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("excel")?i.a.createElement(Me.c,{icon:"office-excel",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("ppt")?i.a.createElement(Me.c,{icon:"office-ppt",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("office_folder")?i.a.createElement(Me.c,{icon:"office-one-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):t.includes("dropbox")?i.a.createElement(Me.c,{icon:"dropbox",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):(t.includes("file"),i.a.createElement("i",{className:"fa fa-file-o text-info"}))}},891:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(892);function s(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return s=function(){return e},e}var l=o.b.div(s()),d=function(e){var t=e.dictionary;return i.a.createElement(l,null,i.a.createElement("h3",null,t.noItemsFoundHeader),i.a.createElement("h5",null,t.noItemsFoundText," "))};function u(){var e=Object(a.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  .list-group-item:last-child {\n    border-bottom: none;\n  }\n  li:last-child {\n    border-bottom: none;\n  }\n"]);return u=function(){return e},e}function m(){var e=Object(a.a)(["\n  .badge.badge-light {\n    background: rgba(175, 184, 189, 0.2);\n    border: 1px solid #f8f9fa;\n    color: #212529;\n    .dark & {\n      color: #fff;\n      background: rgb(175, 184, 189, 0.2) !important;\n      border: 1px solid rgb(175, 184, 189, 0.2);\n    }\n  }\n"]);return m=function(){return e},e}var p=o.b.div(m()),f=o.b.ul(u());t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.active,r=e.handleHeaderClick,o=e.headerText,s=e.dictionary,l=e.items,u=e.ItemList,m=e.showEmptyState,h=void 0===m||m,b=e.listGroupClassname,E=void 0===b?"":b,g=e.params,O=e.workspaceName,v=e.handleSort,_=e.sortByDate;return i.a.createElement(p,{className:n},i.a.createElement(c.a,{active:a,headerText:o,handleClick:r,params:g,workspaceName:O,handleSort:v,sortByDate:_,dictionary:s}),0===l.length&&h&&a&&i.a.createElement(d,{dictionary:s}),l.length>0&&a&&i.a.createElement(f,{className:E},l.map((function(e){return u(e)}))),e.children)}},892:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(12);function s(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n"]);return s=function(){return e},e}function l(){var e=Object(a.a)(["\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .ws-name {\n    line-height: 1.45;\n  }\n"]);return l=function(){return e},e}var d=o.b.div(l()),u=o.b.span(s());t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.id,r=void 0===a?"":a,o=e.handleClick,s=e.active,l=e.headerText,m=void 0===l?"":l,p=e.params,f=e.workspaceName,h=e.handleSort,b=e.sortByDate,E=e.dictionary;return i.a.createElement(d,{className:n},i.a.createElement(u,{className:"badge badge-light",onClick:o,id:r},i.a.createElement(c.u,{icon:s?"arrow-down":"arrow-up",width:16,height:16,className:"mr-1"}),m),p.hasOwnProperty("workspaceId")?i.a.createElement("div",{className:"d-flex"},i.a.createElement("span",{className:"badge badge-light mr-1 ws-name"},f),i.a.createElement(c.v,{content:b?E.sortDate:E.sortAlpha},i.a.createElement("span",{className:"badge badge-light",onClick:h},i.a.createElement(c.u,{icon:b?"arrow-down":"arrow-up",width:16,height:16})))):i.a.createElement(c.v,{content:b?E.sortDate:E.sortAlpha},i.a.createElement("span",{className:"badge badge-light",onClick:h},i.a.createElement(c.u,{icon:b?"arrow-down":"arrow-up",width:16,height:16}))))}},894:function(e,t,n){"use strict";n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return rt})),n.d(t,"d",(function(){return ut})),n.d(t,"f",(function(){return yt})),n.d(t,"e",(function(){return Wt})),n.d(t,"a",(function(){return Yt}));var a=n(8),r=n(6),i=n(0),o=n.n(i),c=n(4),s=n(49),l=n(5),d=n(13),u=n(12),m=n(10),p=n(898),f=n(899),h=n(900),b=n(901),E=n(902),g=n(904),O=n(290);function v(){var e=Object(r.a)(["\n  height: 100%;\n  > span {\n    display: flex;\n    align-items: center;\n    font-weight: 600;\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n  }\n\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: calc(100% - 20px);\n    ::-webkit-scrollbar {\n      -webkit-appearance: none;\n      width: 7px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: 4px;\n      background-color: rgba(0, 0, 0, 0.5);\n      -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n    }\n    .more-options {\n      position: static;\n      //display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .more-options-tooltip {\n      right: 50px;\n    }\n    &.list-group li.list-group-item {\n      padding: 0.5rem;\n      position: static;\n      :hover {\n        .more-options {\n          display: flex;\n        }\n      }\n    }\n  }\n"]);return v=function(){return e},e}var _=l.b.div(v()),T=function(e){var t=e.workspace,n=Object(m.mb)()._t,a=Object(m.z)(),r={team:n("TEAM","Team"),timeline:n("TIMELINE","Timeline"),peopleExternal:n("PEOPLE.EXTERNAL","External"),peopleInvited:n("PEOPLE.INVITED","Invited"),emptyTeam:n("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:n("DASHBOARD.SHOW_MORE","Show more"),showLess:n("DASHBOARD.SHOW_LESS","Show less"),remove:n("TEAM.REMOVE","Remove"),leave:n("TEAM.LEAVE","Leave"),leaveWorkspace:n("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:n("TIMELINE.ARCHIVED","archived"),unarchived:n("TIMELINE.UNARCHIVED","unarchived"),workspace:n("TIMELINE.WORKSPACE","workspace"),created:n("TIMELINE.CREATED","created"),resend:n("TEAM.RESEND","Resend"),cancel:n("MODAL.CANCEL","Cancel"),resendInvite:n("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:n("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:n("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:n("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:n("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:n("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:n("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:n("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:n("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:n("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:n("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:n("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:n("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:n("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:n("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:n("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:n("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:n("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:n("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:n("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:n("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:n("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:n("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:n("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:n("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:n("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:n("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:n("ROLE.ADVISOR","Advisor"),roleApprover:n("ROLE.APPROVER","Approver"),roleClient:n("ROLE.CLIENT","Client"),roleCommunicationLead:n("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:n("ROLE.DESIGNER","Designer"),roleDeveloper:n("ROLE.DEVELOPER","Developer"),roleFreelancer:n("ROLE.FREELANCER","Freelancer"),roleSupervisor:n("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:n("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:n("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:n("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:n("ROLE.WATCHER","Watcher"),sendInviteManually:n("TEAM.SEND_INVITE_MANUALLY","Send invite manually"),openPost:n("SYSTEM.OPEN_POST","Open post")},i=Object(m.hb)(),s=Object(c.d)((function(e){return e.session.user})),l=Object(m.Eb)(),d=function(e,t){l.leave(e,t,(function(t,n){t||i.success(o.a.createElement(o.a.Fragment,null,r.leaveWorkspace,o.a.createElement("b",null,e.name)))}))},p=function(e,n){var a={topic_id:t.id,user_id:e.id,role:n};l.addRole(a)};if(!t)return null;var f=!(!t||!t.slug)&&t.slug!==a;return o.a.createElement(_,null,o.a.createElement("span",null,o.a.createElement(u.u,{icon:"user",className:"mr-2"})," ",o.a.createElement("h5",{className:"card-title mb-0"},r.team)," "),o.a.createElement("ul",{className:"list-group list-group-flush mt-2"},t.members.map((function(e,n){return o.a.createElement(O.a,{key:e.id,member:e,onLeaveWorkspace:d,onAddRole:p,hideOptions:!1,actions:l,workspace_id:t.id,dictionary:r,showMoreButton:!1,showLessButton:!1,loggedUser:s,workspace:t,isSharedWorkspace:f})}))))};function w(){var e=Object(r.a)(["\n  // @media (min-width: 768px) {\n  //   > div:first-child {\n  //     min-height: 250px;\n  //   }\n  // }\n"]);return w=function(){return e},e}function k(){var e=Object(r.a)(["\n  overflow: auto;\n  @media (min-width: 768px) {\n    overflow: hidden;\n  }\n\n  .card.overflow-unset {\n    overflow: unset;\n  }\n  .first-column {\n    @media (min-width: 768px) {\n      height: 100%;\n      display: flex;\n      flex-flow: column;\n      .welcome-card {\n        min-height: 74px;\n      }\n\n      .maxh-10 {\n        flex: 1 1 80px;\n      }\n      .maxh-40 {\n        flex: 2 2 50%;\n      }\n      .maxh-50 {\n        flex: 0 0 auto;\n      }\n    }\n  }\n  .search-container {\n    min-height: 74px;\n    .card-body {\n      padding: 19px 1rem;\n    }\n  }\n  .second-column {\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n    @media (min-width: 768px) {\n      padding-left: 0;\n      > .row {\n        //height: calc(100% - 82px);\n        height: 100%;\n      }\n      .row > .count-cards {\n        padding-right: 7px;\n        height: 100%;\n        display: flex;\n        flex-flow: column;\n      }\n      .row > .quicklinks-postmention {\n        padding-left: 7px;\n        height: 100%;\n        display: flex;\n        flex-flow: column;\n      }\n      .members-card {\n        flex: 0 1 auto;\n        min-height: 0;\n      }\n      // .files-folder-card {\n      //   flex: 1 0 180px;\n      // }\n      .count-card {\n        flex: 0 0 74px;\n      }\n    }\n  }\n"]);return k=function(){return e},e}var N=l.b.div(k()),y=l.b.div(w()),A=function(e){var t=Object(c.d)((function(e){return e.workspaces.activeTopic})),n=Object(c.d)((function(e){return e.settings.driff.company_name})),a=Object(c.d)((function(e){return e.session.user})),r=Object(m.mb)()._t,i={shortcuts:r("SIDEBAR.SHORTCUTS","Shortcuts"),search:r("GENERAL.SEARCH","Search"),aboutThisCompany:r("ABOUT_THIS_COMPANY_NAME","About this ::name::",{name:n}),hiUser:r("LABEL.HI_USER","Hi ::first_name::",{first_name:a.first_name}),dailyDigest:r("LABEL.DAILY_DIGEST","Here's your Driff daily digest"),remindersDue:r("LABEL.REMINDERS_DUE","Reminders due"),unreadChats:r("LABEL.UNREAD_CHATS","Unread chats"),unreadPosts:r("LABEL.UNREAD_POSTS","Unread posts"),newUsers:r("WORKSPACE.NEW_USERS","New users"),postMentionsActions:r("LABEL.POST_MENTIONS_ACTIONS","Post mentions and actions"),shorcutsTooltip:r("TOOLTIP.SHORCUTS_DASHBOARD","These quicklinks make it easy to find company info back quickly"),postMentionsTooltip:r("TOOLTIP.POST_MENTIONS_ACTIONS","People who mentioned you or post where people need your input"),createNewPost:r("POST.CREATE_NEW_POST","Create new post"),startWritingPost:r("LABEL.START_WRITING_POST","Start writing a new post,"),noQuickLinks:r("LABEL.NO_QUICK_LINKS","No quick links yet, wait for your admin to add quick links"),personalLinks:r("SIDEBAR.PERSONAL_LINKS","Personal"),dailyWsDigest:r("LABEL.DAILY_WS_DIGEST","Here's the overview of ::name::",{name:t?t.name:""}),aboutThisWorkspace:r("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),wsShorcutsTooltip:r("TOOLTIP.WS_SHORCUTS_DASHBOARD","These quicklinks make it easy to find workspace info back quickly"),foldersOrFilesShared:r("LABEL.FOLDERS_OR_FILES_SHARED","Folders or files shared"),foldersOrFilesSharedTooltip:r("TOOLTIP.FOLDERS_OR_FILES_SHARED","Folders or files shared tooltip"),openAllSharedFiles:r("LABEL.OPEN_ALL_SHARED_FILES","Open all shared files and folders"),noWsQuickLinks:r("LABEL.NO_WORKSPACE_QUICK_LINKS","This WorkSpace has no quicklinks yet. Click on the + icon to add quicklinks for all workspace members."),nothingToDoHere:r("LABEL.NOTHING_TO_DO_HERE","Nothing to do here!"),chatWebhooksTitle:r("CHAT_WEBHOOKS.TITLE","Chat Webhooks"),chatWebhooksTeams:r("CHAT_WEBHOOKS.TEAMS","Teams"),chatWebhooksGuest:r("CHAT_WEBHOOKS.GUEST","Guest"),chatWebhooksCopy:r("CHAT_WEBHOOKS.COPY","copy"),chatWebhooksClipboardCopy:r("CHAT_WEBHOOKS.CLIPBOARD_COPY","Copied to clipboard"),webhookTooltip:r("CHAT_WEBHOOKS.TOOLTIP_TITLE","Chat Webhooks"),webhookExplainerText1:r("CHAT_WEBHOOKS.EXPLAINER_TEXT_1","Driff webhook is used to get external notifications inside your Driff. Connections can be made with Jira, Gripp, etc"),webhookExplainerText2:r("CHAT_WEBHOOKS.EXPLAINER_TEXT_2","Checkout our support http://support.getdriff.com/ to read more about integrations.")};return o.a.createElement(N,{className:"container-fluid fadeIn dashboard-panel"},o.a.createElement("div",{className:"row h-100"},o.a.createElement("div",{className:"col-md-4 first-column"},o.a.createElement(p.a,{className:"mb-2 welcome-card"},o.a.createElement(f.a,{dictionary:i,isWorkspace:!0})),o.a.createElement(p.a,{className:"mb-2 about-card"},o.a.createElement(h.a,{dictionary:i,isWorkspace:!0,workspace:t}))),o.a.createElement("div",{className:"col-md-6 second-column"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 count-cards"},o.a.createElement(p.a,{className:"mb-2 count-card"},o.a.createElement(b.a,{text:i.remindersDue,type:"reminders",isWorkspace:!0,workspace:t})),o.a.createElement(p.a,{className:"mb-2 count-card"},o.a.createElement(b.a,{text:i.unreadChats,type:"chat",isWorkspace:!0,workspace:t})),o.a.createElement(p.a,{className:"mb-2 count-card"},o.a.createElement(b.a,{text:i.unreadPosts,type:"posts",isWorkspace:!0,workspace:t})),o.a.createElement(p.a,{className:"mb-2 overflow-unset members-card"},o.a.createElement(T,{workspace:t}))),o.a.createElement(y,{className:"col-md-6 quicklinks-postmention"},o.a.createElement(p.a,{className:"mb-2"},o.a.createElement(E.a,{dictionary:i,isWorkspace:!0,workspace:t})),o.a.createElement(p.a,{className:"mb-2"},o.a.createElement(g.a,{dictionary:i,isWorkspace:!0,workspace:t})))))))};function S(){var e=Object(r.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return S=function(){return e},e}function j(){var e=Object(r.a)(["\n  position: relative;\n  //padding-bottom: 0 !important;\n  // overflow: hidden;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: ",";\n    }\n  }\n"]);return j=function(){return e},e}var C=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,908))})),x=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,909))})),I=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,910))})),R=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,911))})),L=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,913))})),P=Object(i.lazy)((function(){return Promise.resolve().then(n.bind(null,912))})),D=Object(i.lazy)((function(){return Promise.all([n.e(10),n.e(27)]).then(n.bind(null,999))})),M=Object(i.lazy)((function(){return n.e(26).then(n.bind(null,1e3))})),F=Object(i.lazy)((function(){return n.e(3).then(n.bind(null,1002))})),U=l.b.div(j(),(function(e){return e.theme.colors.primary})),W=l.b.div(S()),H=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.isExternal,l=Object(m.mb)()._t,p={createWorkspace:l("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:l("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},f=Object(c.c)(),h=Object(m.sb)().loggedUser,b=Object(c.d)((function(e){return e.workspaces})),E=b.workspaces,g=b.workspacesLoaded,O=b.favoriteWorkspacesLoaded,v=b.activeTopic,_=(b.workspaceTimeline,v?v.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[]),T=Object(m.E)(v&&v.member_ids.length?Object(a.a)(new Set(_)):[]);return o.a.createElement(U,{className:"main-content ".concat(n)},g||O?o.a.createElement(o.a.Fragment,null,Object.keys(E).length>=1?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Suspense,{fallback:o.a.createElement("div",null)},o.a.createElement(s.d,null,o.a.createElement(s.b,{render:function(e){return o.a.createElement(M,Object.assign({isExternal:r},e))},path:["/hub/search","/shared-hub/search"]}),o.a.createElement(s.b,{render:function(){return o.a.createElement(A,e)},path:["/hub/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/hub/dashboard/:workspaceId/:workspaceName","/hub/dashboard","/shared-hub/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/dashboard/:workspaceId/:workspaceName","/shared-hub/dashboard"]}),o.a.createElement(s.b,{exact:!0,render:function(){return o.a.createElement(R,Object.assign({},e,{workspace:v,isMember:T}))},path:["/hub/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/hub/posts/:folderId/:folderName/:workspaceId/:workspaceName","/hub/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/hub/posts/:workspaceId/:workspaceName","/hub/posts","/shared-hub/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/shared-hub/posts/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/shared-hub/posts/:workspaceId/:workspaceName","/shared-hub/posts"]}),o.a.createElement(s.b,{exact:!0,render:function(){return o.a.createElement(C,Object.assign({},e,{workspace:v}))},path:["/hub/chat/:folderId/:folderName/:workspaceId/:workspaceName","/hub/chat/:workspaceId/:workspaceName","/hub/chat","/shared-hub/chat/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/chat/:workspaceId/:workspaceName","/shared-hub/chat"]}),!r&&o.a.createElement(s.b,{exact:!0,render:function(){return o.a.createElement(C,Object.assign({},e,{workspace:v}))},path:["/hub/chat/:folderId/:folderName/:workspaceId/:workspaceName","/hub/chat/:workspaceId/:workspaceName","/hub/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/hub/team-chat/:workspaceId/:workspaceName","/hub/chat","/shared-hub/chat/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/chat/:workspaceId/:workspaceName","/shared-hub/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/team-chat/:workspaceId/:workspaceName","/shared-hub/chat"]}),o.a.createElement(s.b,Object.assign({exact:!0},e,{render:function(e){return o.a.createElement(x,Object.assign({},e,{workspace:v,isMember:T}))},path:["/hub/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/hub/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/hub/files/:folderId/:folderName/:workspaceId/:workspaceName","/hub/files/:workspaceId/:workspaceName","/hub/files","/shared-hub/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/shared-hub/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/shared-hub/files/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/files/:workspaceId/:workspaceName","/shared-hub/files"]})),o.a.createElement(s.b,{render:function(){return o.a.createElement(I,Object.assign({},e,{workspace:v,isMember:T}))},path:["/hub/people/:folderId/:folderName/:workspaceId/:workspaceName","/hub/people/:workspaceId/:workspaceName","/hub/people","/shared-hub/people/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/people/:workspaceId/:workspaceName","/shared-hub/people"]}),o.a.createElement(s.b,{render:function(){return o.a.createElement(L,Object.assign({},e,{workspace:v,isMember:T}))},path:["/hub/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/hub/reminders/:workspaceId/:workspaceName","/hub/reminders","/shared-hub/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/reminders/:workspaceId/:workspaceName","/shared-hub/reminders"]}),o.a.createElement(s.b,Object.assign({},e,{component:P,path:["/hub/settings/:folderId/:folderName/:workspaceId/:workspaceName","/hub/settings/:workspaceId/:workspaceName","/hub/settings","/shared-hub/settings/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/settings/:workspaceId/:workspaceName","/shared-hub/settings"]})),o.a.createElement(s.b,{exact:!0,render:function(){return o.a.createElement(D,Object.assign({},e,{workspace:v,isMember:T}))},path:["/hub/wip/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/hub/wip/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/hub/wip/:folderId/:folderName/:workspaceId/:workspaceName","/hub/wip/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/hub/wip/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/hub/wip/:workspaceId/:workspaceName","/hub/wip"]}),o.a.createElement(s.b,{render:function(){return o.a.createElement(F,Object.assign({},e,{isWorkspace:!0}))},path:["/hub/meetings/:folderId/:folderName/:workspaceId/:workspaceName","/hub/meetings/:workspaceId/:workspaceName","/hub/meetings"]}),o.a.createElement(s.b,Object.assign({},e,{component:P,path:["/hub/settings/:folderId/:folderName/:workspaceId/:workspaceName","/hub/settings/:workspaceId/:workspaceName","/hub/settings"]})),o.a.createElement(s.a,{from:"*",to:{pathname:"/hub/search",state:{from:e.location}}})))):o.a.createElement(W,null,o.a.createElement("div",null,o.a.createElement(u.s,{height:275,icon:1}),"external"!==h.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h5",null,p.sidebarTextCreateWorkspace),o.a.createElement("button",{className:"btn btn-primary",onClick:function(){f(Object(d.a)({type:"workspace_create_edit",mode:"add"}))}},p.createWorkspace))))):o.a.createElement("div",{className:"spinner-container"},o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))})),B=(n(908),n(7)),G=n(1),z=n(23),V=n(201),Y=n(203);function K(){var e=Object(r.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .file-pill-container {\n    background-color: #f1f2f7a3;\n    .dark & {\n      background-color: #f1f2f712;\n    }\n  }\n"]);return K=function(){return e},e}var q=l.b.div(K()),J=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,i=e.scrollRef,l=Object(s.j)().params,d=Object(c.c)(),p=Object(V.a)(),f=Object(m.gb)().fromNow,h=function(){d(Object(z.fc)({workspace_id:l.workspaceId,file_id:a.id,files:[Object(G.a)(Object(G.a)({},a),{},{filename:a.name,file_id:a.id})]}))};return o.a.createElement(q,{className:"attach-file-timeline timeline-item ".concat(n)},o.a.createElement("div",null,o.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-0"},o.a.createElement("span",{className:"font-weight-normal"},a.user.name)," ",o.a.createElement("span",{className:"text-muted font-weight-normal"},f(a.created_at.timestamp)))),o.a.createElement("div",{className:"mb-3"},o.a.createElement("span",{onClick:h,className:"file-summary"},r.attachedFile)),o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 file-pill-container"},o.a.createElement(Y.a,{className:"mb-2",file:a,dictionary:r,cbFilePreview:h}),o.a.createElement("span",{onClick:h,className:"timeline-file-icon"},p.getFileIcon(a.mime_type)," ",o.a.createElement("span",null,a.name)))))})),Z=n(62),X=n.n(Z),Q=n(14);function $(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return $=function(){return e},e}function ee(){var e=Object(r.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 300px;\n    overflow: hidden;\n    position: relative;\n    background-color: #f1f2f7a3;\n    > div:first-child {\n      overflow: hidden;\n      max-height: 210px;\n    }\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n    .dark & {\n      background-color: #f1f2f712;\n    }\n  }\n  .mention a {\n    color: ",";\n  }\n"]);return ee=function(){return e},e}var te=l.b.div(ee(),(function(e){return e.theme.colors.primary})),ne=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},ae=Object(l.b)(X.a)($()),re=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.dictionary,i=e.scrollRef,c=Object(s.g)(),l=Object(s.j)().params,d=Object(m.gb)(),p=d.fromNow,f=d.localizeDate,h=function(e){e.preventDefault(),c.push("/hub/posts/".concat(l.workspaceId,"/").concat(Object(Q.i)(l.workspaceName),"/post/").concat(a.id,"/").concat(Object(Q.i)(a.title)))};return o.a.createElement(te,{className:"post-timeline timeline-item ".concat(n)},o.a.createElement("div",null,o.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-0"},o.a.createElement("span",{className:"title"},a.user.name),o.a.createElement(ae,{arrowSize:5,distance:10,onToggle:ne,content:"".concat(f(a.created_at.timestamp))},o.a.createElement("span",{className:"text-muted font-weight-normal"},p(a.created_at.timestamp))))),o.a.createElement("div",{className:"mb-3"},o.a.createElement("span",{className:"post-title",onClick:h,title:a.title},r.sharedThePost,' "',a.title,'"')),a.body.replace(/<\/?[^>]+(>|$)/g,"")&&o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body",onClick:h},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}),o.a.createElement("button",{className:"btn btn-primary",onClick:h},r.openPost)),a.files&&a.files.length>=1&&o.a.createElement(o.a.Fragment,null,r.fileAttachments,":",o.a.createElement(u.i,{attachedFiles:a.files,type:"timeline"}))))}));function ie(){var e=Object(r.a)([""]);return ie=function(){return e},e}var oe=l.b.div(ie());o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspace,r=Object(m.gb)().fromNow;return o.a.createElement(oe,{className:"timeline-item ".concat(n)},o.a.createElement("div",null,o.a.createElement(u.a,{name:a.user.name,imageLink:a.user.profile_image_link})),o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",null,a.user.name," ",o.a.createElement("a",{href:"#"},"shared a post")),o.a.createElement("span",{className:"text-muted font-weight-normal"},r(a.created_at.timestamp))),o.a.createElement("a",{href:"#"},o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},a.body))))}));function ce(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return ce=function(){return e},e}function se(){var e=Object(r.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]);return se=function(){return e},e}var le=l.b.div(se()),de=Object(l.b)(X.a)(ce()),ue=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.data,i=e.dictionary,s=e.scrollRef,l=Object(m.gb)(),d=l.fromNow,p=l.localizeDate,f=Object(c.d)((function(e){return e.users.users})),h=Object(c.d)((function(e){return e.users.archivedUsers})),b=Object(c.d)((function(e){return e.users.teams})),E=[].concat(Object(a.a)(Object.values(f)),Object(a.a)(h)),g=null,O=null;r.body.includes("CHANNEL_UPDATE")&&(g=JSON.parse(r.body.replace("CHANNEL_UPDATE::",""))),g&&g.author&&(O=g.author.name?g.author:E.find((function(e){return e.id===g.author})));var v=function(){if(""!==g.title)return"".concat(i.updatedWorkspaceTo," ").concat(g.title)};return null===g?null:o.a.createElement(le,{className:"member-timeline timeline-item ".concat(n)},o.a.createElement("div",null,null!==g?o.a.createElement(o.a.Fragment,null,O?o.a.createElement(u.a,{className:"mr-3",name:O.name,imageLink:O.profile_image_link,id:O.id,showSlider:!0,scrollRef:s}):o.a.createElement(u.a,{className:"mr-3",imageLink:null,isBot:!0})):o.a.createElement(u.a,{className:"mr-3",imageLink:null,isBot:!0})),o.a.createElement("div",null,null!==g?o.a.createElement(o.a.Fragment,null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"title"},O&&O.name," ",v()),o.a.createElement("span",{className:"text-muted font-weight-normal"},d(r.created_at.timestamp))),g.added_members.length||g.removed_members.length||g.added_teams&&g.added_teams.length||g.removed_teams&&g.removed_teams.length?o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},o.a.createElement("p",{className:"action-text"},g.added_members.length>0&&function(){if(null===g.author){if(!g.accepted_members)return"";var e=E.filter((function(e){return g.accepted_members.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else if(g.accepted_members){var t=E.filter((function(e){return g.accepted_members.some((function(t){return t===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else{var n=E.filter((function(e){return g.added_members.some((function(t){return t===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}}()),o.a.createElement("p",{className:"action-text"},g.removed_members.length>0&&function(){if(null===g.author)return"";var e=E.filter((function(e){return g.removed_members.some((function(t){return t===e.id}))}));return e.length?e.map((function(e){return e.name})).join(", ")+" ".concat(i.isRemoved,"."):void 0}()),o.a.createElement("p",{className:"action-text"},g.added_teams&&g.added_teams.length>0&&function(){if(null===g.author){if(!g.added_teams)return"";var e=Object.values(b).filter((function(e){return g.added_teams.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else if(g.added_teams){var t=Object.values(b).filter((function(e){return g.added_teams.some((function(t){return t===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}}()),o.a.createElement("p",{className:"action-text"},g.removed_teams&&g.removed_teams.length>0&&function(){if(null===g.author)return"";if(g.removed_teams){var e=Object.values(b).filter((function(e){return g.removed_teams.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(i.isRemoved,".")}}())):null):o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"title"},v()),o.a.createElement(de,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(p(r.created_at.timestamp))},o.a.createElement("span",{className:"text-muted font-weight-normal"},d(r.created_at.timestamp)))))))}));function me(){var e=Object(r.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return me=function(){return e},e}var pe=l.b.div(me()),fe=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.scrollRef,i=Object(m.gb)().fromNow,c=Object(m.mb)()._t;return o.a.createElement(pe,{className:"topic-timeline timeline-item ".concat(n)},o.a.createElement("div",null,a.user&&o.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:r})),o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",o.a.createElement("strong",null,c("DASHBOARD.WORKSPACE_CREATED","created ::workspaceName:: workspace",{workspaceName:a.name}))),o.a.createElement("span",{className:"text-muted font-weight-normal"},i(a.created_at.timestamp)))))}));function he(){var e=Object(r.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return he=function(){return e},e}var be=l.b.div(he()),Ee=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.data,r=e.tag,i=e.dictionary,c=e.workspace,s=e.scrollRef,l=Object(m.gb)().fromNow;return o.a.createElement(be,{className:"topic-timeline timeline-item ".concat(n)},o.a.createElement("div",null,a.user&&o.a.createElement(u.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:s})),o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",o.a.createElement("strong",null,"ARCHIVED_WORKSPACE"===r?i.archived:i.unarchived," ",c.name," ",i.workspace)),o.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp)))))})),ge=n(883),Oe=n.n(ge),ve=function(e){var t=e.actions,n=e.workspace,a=e.workspaceTimeline,r=a.page,i=a.maxPage,c=a.timeline,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;t.getTimeline({topic_id:n.id,skip:e,limit:a})};return o.a.createElement("nav",{className:"mt-3"},o.a.createElement(Oe.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var i=e.selected+1;i!==r&&(t.updateTimelinePage({id:n.id,page:i}),a.total_items!==Object.keys(c).length&&Object.keys(c).length<=10*i&&(10*i-Object.keys(c).length>0?s(Object.keys(c).length,10*i):s(Object.keys(c).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))};function _e(){var e=Object(r.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]);return _e=function(){return e},e}var Te=l.b.div(_e()),we=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.workspaceTimeline,r=e.actions,c=e.workspace,s=e.dictionary,l=Object(i.useRef)(null),d=Object(i.useState)(!1),u=Object(B.a)(d,2),m=u[0],p=u[1];return Object(i.useEffect)((function(){a||!c||m||(p(!0),r.getTimeline({topic_id:c.id,skip:0,limit:10},(function(){p(!1)})))}),[a,c,m]),o.a.createElement(Te,{className:"timeline-panel card ".concat(n),ref:l},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},s.timeline),o.a.createElement("div",{className:"timeline"},a&&Object.values(a.timeline).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(a.page>1?10*a.page-10:0,10*a.page).map((function(e){switch(e.tag){case"CHAT_BOT":return o.a.createElement(ue,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"POST":return o.a.createElement(re,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"ICON":case"DOCUMENT":return o.a.createElement(J,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"TOPIC":return o.a.createElement(fe,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"UNARCHIVED_WORKSPACE":case"ARCHIVED_WORKSPACE":return o.a.createElement(Ee,{key:e.id,data:e.item,tag:e.tag,dictionary:s,workspace:c,scrollRef:l.current});default:return null}})))),a&&a.total_items>10&&o.a.createElement(ve,{workspaceTimeline:a,actions:r,workspace:c}))})),ke=n(929);function Ne(){var e=Object(r.a)(["\n  overflow-x: auto;\n  min-height: calc(100vh - 100px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .container-inner {\n    overflow-x: scroll;\n  }\n  h5 {\n    text-align: left;\n  }\n"]);return Ne=function(){return e},e}var ye=l.b.div(Ne()),Ae=(o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=e.isMember,i=e.match,c=e.actions,s=e.workspaceTimeline,l=e.workspace,d=i.params,u=Object(m.mb)()._t,p=window.innerWidth,f=function(){c.showModal(l,"edit","workspace")};Object(m.s)();var h={aboutThisWorkspace:u("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:u("TEAM","Team"),timeline:u("TIMELINE","Timeline"),noRecentPosts:u("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:u("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:u("FILE_ATTACHMENTS","File attachments"),peopleExternal:u("PEOPLE.EXTERNAL","External"),peopleInvited:u("PEOPLE.INVITED","Invited"),emptyTeam:u("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:u("DASHBOARD.SHOW_MORE","Show more"),showLess:u("DASHBOARD.SHOW_LESS","Show less"),attachedFile:u("ATTACHED_A_FILE","attached a file"),sharedThePost:u("SHARED_THE_POST","shared the post"),hasJoined:u("TIMELINE.HAS_JOINED","has joined"),hasLeft:u("TIMELINE.HAS_LEFT","has left"),youJoined:u("TIMELINE.YOU_JOINED","You joined"),youLeft:u("TIMELINE.YOU_LEFT","You left"),isAdded:u("TIMELINE.IS_ADDED","is added"),isRemoved:u("TIMELINE.IS_REMOVED","is removed"),createdThePost:u("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:u("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),remove:u("TEAM.REMOVE","Remove"),leave:u("TEAM.LEAVE","Leave"),leaveWorkspace:u("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:u("TIMELINE.ARCHIVED","archived"),unarchived:u("TIMELINE.UNARCHIVED","unarchived"),workspace:u("TIMELINE.WORKSPACE","workspace"),created:u("TIMELINE.CREATED","created"),resend:u("TEAM.RESEND","Resend"),cancel:u("MODAL.CANCEL","Cancel"),resendInvite:u("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:u("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:u("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:u("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:u("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:u("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:u("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:u("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:u("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:u("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:u("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:u("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:u("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:u("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:u("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:u("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:u("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:u("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:u("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:u("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:u("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:u("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:u("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:u("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:u("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:u("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:u("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:u("ROLE.ADVISOR","Advisor"),roleApprover:u("ROLE.APPROVER","Approver"),roleClient:u("ROLE.CLIENT","Client"),roleCommunicationLead:u("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:u("ROLE.DESIGNER","Designer"),roleDeveloper:u("ROLE.DEVELOPER","Developer"),roleFreelancer:u("ROLE.FREELANCER","Freelancer"),roleSupervisor:u("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:u("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:u("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:u("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:u("ROLE.WATCHER","Watcher"),sendInviteManually:u("TEAM.SEND_INVITE_MANUALLY","Send invite manually"),openPost:u("SYSTEM.OPEN_POST","Open post")};return l&&0===l.active&&!0,o.a.createElement(ye,{className:"container-fluid container-inner fadeIn ".concat(n)},o.a.createElement("div",{className:"row"},null===l?o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):o.a.createElement(o.a.Fragment,null,p>620?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-6"},o.a.createElement(ke.c,{isMember:r,workspace:l,onEditClick:f,isExternal:a,dictionary:h}),o.a.createElement(we,{workspaceTimeline:s,actions:c,workspace:l,dictionary:h})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(ke.d,{workspace:l,actions:c,onEditClick:f,isMember:r,isExternal:a,dictionary:h}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-12"},o.a.createElement(ke.c,{isMember:r,workspace:l,onEditClick:f,isExternal:a,dictionary:h}),o.a.createElement(ke.d,{workspace:l,onEditClick:f,isMember:r,isExternal:a,dictionary:h}),o.a.createElement(we,{workspaceTimeline:s,actions:c,params:d,dictionary:h}))))))})),n(909),n(77)),Se=n(896),je=n(24),Ce=n(884),xe=n(887);function Ie(){var e=Object(r.a)(["\n  margin: 0 1rem;\n"]);return Ie=function(){return e},e}function Re(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Re=function(){return e},e}function Le(){var e=Object(r.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  color: #64625c;\n  ","\n"]);return Le=function(){return e},e}function Pe(){var e=Object(r.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  margin-right: 5px;\n"]);return Pe=function(){return e},e}function De(){var e=Object(r.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  &.feather-bell,\n  &.feather-bell-off {\n    color: #64625c;\n  }\n"]);return De=function(){return e},e}function Me(){var e=Object(r.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return Me=function(){return e},e}function Fe(){var e=Object(r.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .avatar {\n    height: 2rem;\n    width: 2rem;\n    margin-right: 0.25rem;\n  }\n  svg {\n    color: #64625c;\n  }\n  .feather-lock {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return Fe=function(){return e},e}function Ue(){var e=Object(r.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 100px;\n  }\n"]);return Ue=function(){return e},e}function We(){var e=Object(r.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return We=function(){return e},e}function He(){var e=Object(r.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return He=function(){return e},e}function Be(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      max-width: 80px;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    .badge {\n      display: flex;\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-eye {\n      color: inherit;\n      margin-left: 0;\n      margin-right: 0.4rem;\n      width: 11px !important;\n      height: 11px !important;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n    svg.feather-compass {\n      color: rgb(80, 80, 80);\n\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]);return Be=function(){return e},e}function Ge(){var e=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .nav-item {\n    display: flex;\n    .mobile-private {\n      display: none;\n    }\n    @media all and (max-width: 440px) {\n      .badge.badge-danger {\n        display: none !important;\n      }\n      .mobile-private {\n        display: block;\n      }\n    }\n  }\n  .more-item {\n    position: absolute;\n    bottom: 0;\n    top: 3;\n    left: 57;\n  }\n  .is-external {\n    margin-left: 4rem;\n    @media all and (min-width: 440px) {\n      margin-left: 0;\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 991.99px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n          overflow: auto;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: "," !important;\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 235px !important;\n    top: 0;\n    min-width: 450px;\n  }\n  .profile-slider svg {\n    margin: 0;\n    color: inherit;\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]);return Ge=function(){return e},e}var ze=l.b.div(Ge(),(function(e){return e.theme.colors.primary})),Ve=l.b.ul(Be()),Ye=l.b.h2(He()),Ke=l.b.h2(We()),qe=l.b.span(Ue()),Je=l.b.h3(Fe()),Ze=l.b.h3(Me()),Xe=Object(l.b)(u.u)(De()),Qe=Object(l.b)(u.u)(Pe()),$e=Object(l.b)(u.u)(Le(),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),et=Object(l.b)(X.a)(Re()),tt=l.b.hr(Ie()),nt=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},at=function(){var e=localStorage.getItem("slug");if(e)return e;var t=window.location.host.split(".");return 3===t.length?(localStorage.setItem("slug",t[0]),t[0]):null},rt=function(e){e.isExternal;var t,n,a=Object(m.hb)(),r=Object(c.c)(),p=Object(s.j)(),f=Object(l.c)(),h=Object(c.d)((function(e){return e.workspaces.folders})),b=Object(c.d)((function(e){return e.workspaces.activeTopic})),E=Object(c.d)((function(e){return e.workspaces.workspacesLoaded})),g=Object(c.d)((function(e){return e.settings})),O=g.driff,v=g.user.GENERAL_SETTINGS.dark_mode,_=Object(c.d)((function(e){return e.session.user})),T=Object(c.d)((function(e){return e.workspaces.sharedWorkspaces})),w=Object(i.useState)(!1),k=Object(B.a)(w,2),N=k[0],y=k[1],A=Object(m.Cb)(),S=Object(i.useMemo)((function(){return A.width<1440}),[A]),j=Object(m.mb)()._t,C=Object(m.U)(),x={allWorkspaces:j("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),pageTitleWorkspaceReminders:j("PAGE_TITLE.WORKSPACE_REMINDERS","Reminders"),pageTitleWorkspaceDashboard:j("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:j("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:j("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:j("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:j("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:j("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:j("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:j("PAGE_TITLE.WORKSPACE_SEARCH","Search workspace"),pageTitleSettings:j("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:j("PAGE_TITLE.TODOS","Reminders"),pageTitleWIP:j("PAGE_TITLE.WORKSPACE_WIP","W.I.P."),generalSearch:j("GENERAL.SEARCH","Search"),generalNotifications:j("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:j("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===v?j("SETTINGS.DARK_MODE","dark mode"):j("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:j("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:j("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:j("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:j("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:j("WORKSPACE.STATUS_ARCHIVED","Archived"),statusNoWorkspaceExternal:j("WORKSPACE.EXTERNAL_NO_WORKSPACES","You currently don't have any workspaces."),joinWorkspace:j("TOASTER.JOIN_WORKSPACE_SUCCESS","You have joined #"),withClient:j("PAGE.WITH_CLIENT","With client"),sharedClient:j("PAGE.SHARED_CLIENT","Shared"),somethingWentWrong:j("TOASTER.SOMETHING_WENT_WRONG","Something went wrong!"),workspaces:j("WORKSPACES","Workspces"),buttonLeave:j("BUTTON.LEAVE","Leave"),leaveWorkspace:j("TOASTER.LEAVE_WORKSPACE","You have left #"),leaveWorkspaceHeader:j("CONFIRMATION.LEAVE_WORKSPACE_HEADER","Leave workspace"),leaveWorkspaceBody:j("CONFIRMATION.LEAVE_WORKSPACE_BODY","Are you sure that you want to leave this workspace?"),cancel:j("BUTTON.CANCEL","Cancel"),toasterBellNotificationOff:j("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:j("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON"),notificationsOn:j("TOOLTIP.NOTIFICATIONS_ON","Notifications on"),notificationsOff:j("TOOLTIP.NOTIFICATIONS_OFF","Notifications off"),favoriteWorkspace:j("TOOLTIP.FAVORITE_WORKSPACE","Favorite workspace")},I=Object(m.Eb)(),R=function(){var e={type:"workspace_create_edit",mode:"edit",item:b};r(Object(d.a)(e))},L=function(){r(Object(je.U)({channel_id:b.team_channel&&0!==b.team_channel.id?b.team_channel.id:b.channel&&0!==b.channel.id?b.channel.id:0,recipient_ids:[_.id]},(function(e,t){e||a.success("".concat(x.joinWorkspace," ").concat(b.name))})))},P=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};Object(i.useEffect)((function(){var e="";switch(p.params.page){case"posts":e=x.pageTitleWorkspacePosts;break;case"chat":e=x.pageTitleWorkspaceChat;break;case"files":e=x.pageTitleWorkspaceFiles;break;case"people":e=x.pageTitleWorkspacePeople;break;case"settings":e=x.pageTitleSettings;break;case"reminders":e=x.pageTitleWorkspaceReminders;break;case"wip":e=x.pageTitleWIP;break;default:e=x.pageTitleWorkspaceDashboard}b&&(b.unread_chats>=1||b.unread_posts>0?document.title="".concat(e," \u2039 * ").concat(b.name," \u2014 ").concat(O.company_name," @ Driff"):document.title="".concat(e," \u2039 ").concat(b.name," \u2014 ").concat(O.company_name," @ Driff"))}),[p.params.page,r,b,O.company_name]);var D=function(){var e,t={id:b.id,workspace_id:b.folder_id?b.folder_id:0,is_pinned:b.is_favourite?0:1},n=at();b.slug&&b.slug!==n&&(e={slug:b.slug,token:T[b.slug].access_token,is_shared:!0},t=Object(G.a)(Object(G.a)({},t),{},{sharedPayload:e})),r(Object(je.h)(t,(function(e,n){e?a.error(x.somethingWentWrong):t.is_pinned?a.success(j("TOASTER.ADDED_TO_FAVORITES","::title:: added to favorites",{title:b.name})):a.success(j("TOASTER.REMOVED_FROM_FAVORITES","::title:: removed from favorites",{title:b.name}))})))},M=b?b.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],F=function(){var e={type:"confirmation",headerText:x.leaveWorkspaceHeader,submitText:x.buttonLeave,cancelText:x.cancel,bodyText:x.leaveWorkspaceBody,actions:{onSubmit:function(){I.leave(b,_,(function(e,t){e||a.success(o.a.createElement(o.a.Fragment,null,x.leaveWorkspace,o.a.createElement("b",null,b.name)))}))}}};r(Object(d.a)(e))},U=function(){if(!N){var e={id:b.id,is_active:!b.is_active};y(!0),I.toggleWorkspaceNotification(e,(function(t,n){y(!1),t||(e.is_active?a.success(x.toasterBellNotificationOn):a.success(x.toasterBellNotificationOff))}))}},W=function(){return"external"===_.type||b&&b.slug&&b.slug!==at()?null:o.a.createElement("li",{className:"nav-item"},o.a.createElement(Xe,{icon:"lock",className:"mobile-private ml-1"}),o.a.createElement("div",{className:"badge badge-danger text-white ml-1"},x.statusWorkspacePrivate))},H=function(){C.toWorkspace(b,"dashboard")},z=Object(m.z)().slug,V=!(!b||!b.sharedSlug),Y=b&&b.sharedSlug&&b.slug&&z===b.slug.slice(0,-7)||b&&!b.sharedSlug,K=b&&b.slug&&b.sharedSlug&&T[b.slug]&&b.members.find((function(e){return e.is_creator})).external_id===_.id&&Y,q=b&&!b.sharedSlug&&M.some((function(e){return e===_.id}))&&Y,J=(K||q)&&"external"!==_.type;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ze,{className:"navbar-left"},o.a.createElement(Ve,{className:"navbar-nav"},"search"===p.params.page?o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},o.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:P},o.a.createElement(u.u,{icon:"menu"}))),o.a.createElement(xe.a,null),o.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},o.a.createElement(u.u,{className:"mr-2",icon:"compass"}),o.a.createElement(Ke,null,x.allWorkspaces))):b?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"navbar-wrap"},o.a.createElement("div",{className:"navbar-top d-flex flex-wrap"},o.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},o.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:P},o.a.createElement(u.u,{icon:"menu"}))),o.a.createElement(xe.a,null),null===b.folder_id?o.a.createElement(o.a.Fragment,null,"external"!==_.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"nav-item nav-item-folder"},o.a.createElement(Ye,null,x.workspaces)),o.a.createElement("li",{className:"nav-item-chevron"},o.a.createElement(u.u,{icon:"chevron-right"}))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(Je,{className:"current-title"},o.a.createElement(u.a,{onClick:H,forceThumbnail:!1,type:b.type,imageLink:null===(t=b.team_channel)||void 0===t?void 0:t.icon_link,id:"ws_".concat(b.id),name:b.name,noDefaultClick:!1,showSlider:!1}),o.a.createElement(qe,null,b.name))),1===b.is_lock&&W(),0===b.active&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:"badge badge-light text-white ml-1"},x.statusWorkspaceArchived)),(b.is_shared&&"external"!==_.type||V)&&o.a.createElement("li",{className:"nav-item is-external"},o.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:f.colors.fourth}},V?o.a.createElement(o.a.Fragment,null,o.a.createElement(Qe,{className:"mr-1 text-dark",icon:"repeat",color:"black",strokeWidth:"2"}),x.sharedClient):o.a.createElement(o.a.Fragment,null,x.withClient))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(et,{arrowSize:5,distance:10,onToggle:nt,content:b.is_active?x.notificationsOn:x.notificationsOff},o.a.createElement(Xe,{icon:b.is_active?"bell":"bell-off",onClick:U}))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(et,{arrowSize:5,distance:10,onToggle:nt,content:x.favoriteWorkspace},o.a.createElement($e,{icon:"star",isFav:b.is_favourite,onClick:D}))),o.a.createElement("li",{className:"nav-item"},"external"!==_.type&&o.a.createElement(Se.b,null))):o.a.createElement(o.a.Fragment,null,"external"!==_.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"nav-item nav-item-folder"},o.a.createElement(u.u,{icon:"folder",className:"mr-1"}),o.a.createElement(Ye,null,o.a.createElement(qe,null,b.folder_name,h.hasOwnProperty(b.folder_id)&&1===h[b.folder_id].is_lock&&o.a.createElement(Xe,{icon:"lock",strokeWidth:"2"})," "))),o.a.createElement("li",{className:"nav-item-chevron"},o.a.createElement(u.u,{icon:"chevron-right"}))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(Je,{className:"current-title"},o.a.createElement(u.a,{forceThumbnail:!1,type:b.type,imageLink:null===(n=b.team_channel)||void 0===n?void 0:n.icon_link,id:"ws_".concat(b.id),name:b.name,noDefaultClick:!1,onClick:H,showSlider:!1}),o.a.createElement(qe,null,b.name))),1===b.is_lock&&W(),0===b.active&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:"badge badge-light text-white ml-1"},x.statusWorkspaceArchived)),(b.is_shared&&"external"!==_.type||V)&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:f.colors.fourth}},V?x.sharedClient:o.a.createElement(o.a.Fragment,null,x.withClient))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(et,{arrowSize:5,distance:10,onToggle:nt,content:b.is_active?x.notificationsOn:x.notificationsOff},o.a.createElement(Xe,{icon:b.is_active?"bell":"bell-off",onClick:U}))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(et,{arrowSize:5,distance:10,onToggle:nt,content:x.favoriteWorkspace},o.a.createElement($e,{icon:"star",isFav:b.is_favourite,onClick:D}))),o.a.createElement("li",{className:"nav-item"},"external"!==_.type&&o.a.createElement(Se.b,null))),!S&&o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement("li",{className:"nav-item more-options"},S&&o.a.createElement(Ae.c,{disableHoverEffect:!0},o.a.createElement(Ce.a,{members:b.members,size:3,sharedUsers:V}),o.a.createElement(tt,null),o.a.createElement("div",{style:{display:"flex",padding:"8px",gap:8}},J&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{style:{margin:0},onClick:R,className:"btn btn-primary",disabled:0===b.active},o.a.createElement(u.u,{icon:"user-plus"}),x.actionWorkspaceInvite),o.a.createElement("button",{style:{margin:0},onClick:F,className:"btn btn-danger ml-1",disabled:0===b.active},x.buttonLeave)),!V&&"external"!==_.type&&!q&&o.a.createElement("button",{style:{margin:0},onClick:L,className:"btn btn-primary",disabled:0===b.active},o.a.createElement(u.u,{icon:"user-plus"}),x.actionWorkspaceJoin))))),o.a.createElement("div",{className:"navbar-bottom"},o.a.createElement(s.b,Object.assign({},e,{exact:!0,render:function(e){return o.a.createElement(ut,Object.assign({},e,{user:_,workspace:b}))},path:["/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/hub/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/hub/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/hub/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName","/hub/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/hub/:page/:workspaceId/:workspaceName","/hub/:workspaceId/:workspaceName","/hub/:page","/shared-hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/shared-hub/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/shared-hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/shared-hub/:page/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/shared-hub/:page/:workspaceId/:workspaceName","/shared-hub/:workspaceId/:workspaceName","/shared-hub/:page"]})))),!S&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"nav-item-avatars-wrap"},o.a.createElement(Ce.a,{members:b.members,sharedUsers:V})),J&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{style:{margin:0},onClick:R,className:"btn btn-primary",disabled:0===b.active},o.a.createElement(u.u,{icon:"user-plus"}),x.actionWorkspaceInvite),o.a.createElement("button",{style:{margin:0},onClick:F,className:"btn btn-danger ml-1",disabled:0===b.active},x.buttonLeave)),!V&&"external"!==_.type&&!q&&o.a.createElement("button",{style:{margin:0},onClick:L,className:"btn btn-primary",disabled:0===b.active},o.a.createElement(u.u,{icon:"user-plus"}),x.actionWorkspaceJoin))):o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"nav-item"},E&&o.a.createElement(o.a.Fragment,null,"external"===_.type?o.a.createElement(o.a.Fragment,null,x.statusNoWorkspaceExternal):o.a.createElement(Ze,{onClick:function(){r(Object(d.a)({type:"workspace_create_edit",mode:"create"}))}},x.actionWorkspaceNewWorkspace," ",o.a.createElement(u.u,{className:"ml-2",icon:"circle-plus"}))))))),o.a.createElement("div",null,o.a.createElement(Ae.b,{dictionary:x})))};function it(){var e=Object(r.a)(['\n  color: #828282;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: ',";\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: ",";\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n"]);return it=function(){return e},e}function ot(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]);return ot=function(){return e},e}function ct(){var e=Object(r.a)([""]);return ct=function(){return e},e}var st=l.b.div(ct()),lt=l.b.ul(ot()),dt=Object(l.b)(u.m)(it(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),ut=o.a.memo((function(e){var t=Object(s.g)(),n=(s.h,e.className),a=void 0===n?"":n,r=e.workspace,l=e.user,d=Object(c.d)((function(e){return e.workspaces.workspaceReminders})),u=Object(s.i)(),p=Object(m.z)().slug,f="undefined"!==typeof d[u.workspaceId],h=r&&r.sharedSlug?"shared-hub":"hub",b=e.match.url;if(e.match.path==="/".concat(h,"/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?")||e.match.path==="/".concat(h,"/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"))b=b.split("/post/")[0].replace("/".concat(h,"/").concat(e.match.params.page),"");else if(e.match.path==="/".concat(h,"/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle")||e.match.path==="/".concat(h,"/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion")||e.match.path==="/".concat(h,"/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle")||e.match.path==="/".concat(h,"/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion"))b="/".concat(b.split("/wip/")[1]);else if(e.match.path==="/".concat(h,"/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName")||e.match.path==="/".concat(h,"/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"))b=b.split("/folder/")[0].replace("/".concat(h,"/").concat(e.match.params.page),"");else if(e.match.path==="/".concat(h,"/:workspaceId/:workspaceName")&&"undefined"===typeof e.match.params.page){var E=b.split("/");E.splice(2,0,"chat"),t.push(E.join("/"))}else b=b.replace("/".concat(h,"/").concat(e.match.params.page),"");var g=Object(m.mb)()._t,O={pageTitleDashboard:g("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:g("PAGE_TITLE.POSTS","Posts"),pageTitleChat:g("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:g("PAGE_TITLE.FILES","Files"),pageTitlePeople:g("PAGE_TITLE.PEOPLE","People"),pageTitleClientChat:g("PAGE_TITLE.CLIENT_CHAT","Client chat"),pageTitleTeamChat:g("PAGE_TITLE.TEAM_CHAT","Team chat"),pageTitleReminders:g("PAGE_TITLE.REMINDERS","Reminders"),pageTitleMeetings:g("PAGE_TITLE.MEETINGS","Meetings")},v=Object(i.useMemo)((function(){var e,t=null===r||void 0===r||null===(e=r.slug)||void 0===e?void 0:e.slice(0,-7);return p===t}),[r,p]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(st,{className:"".concat(a)},o.a.createElement(lt,{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/dashboard").concat(b)},O.pageTitleDashboard)),(r&&"internal"===l.type&&r.is_shared&&!r.sharedSlug||r&&"internal"===l.type&&r.team_channel.code&&r.is_shared&&!r.sharedSlug||r&&r.sharedSlug&&r.team_channel.code&&v)&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/team-chat").concat(b)},O.pageTitleTeamChat,null!==r&&(null===r||void 0===r?void 0:r.team_unread_chats)>0&&o.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.team_unread_chats))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/chat").concat(b)},r&&r.is_shared&&"internal"===l.type?O.pageTitleClientChat:O.pageTitleChat,null!==r&&r.unread_chats>0&&o.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_chats))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/posts").concat(b)},O.pageTitlePosts,null!==r&&r.unread_posts>0&&o.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_posts))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/reminders").concat(b)},O.pageTitleReminders,f&&d[u.workspaceId].count.todo_with_date>0&&o.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},d[u.workspaceId].count.todo_with_date))),!(null===r||void 0===r?void 0:r.sharedSlug)&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/meetings").concat(b)},O.pageTitleMeetings)),o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/files").concat(b)},O.pageTitleFiles)),o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/".concat(h,"/people").concat(b)},O.pageTitlePeople)),!(null===r||void 0===r?void 0:r.sharedSlug)&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(dt,{isSub:!0,to:"/hub/wip".concat(b)},"W.I.P.")))))}));n(910),n(911),n(912);function mt(){var e=Object(r.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: ",";\n    }\n  }\n"]);return mt=function(){return e},e}var pt=l.b.div(mt(),(function(e){return e.theme.colors.primary}));o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=Object(m.U)(),s=Object(m.Hb)(),l=Object(c.d)((function(e){return e.workspaces.search})),d=Object(c.d)((function(e){return e.session.user})),p=l.count,f=l.maxPage,h=l.page,b=l.results,E=l.searching,g=l.filter_by,O=l.value;Object(i.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===O&&(s.search({search:"",skip:0,limit:25,filter_by:g},(function(e,t){e?s.updateSearch(Object(G.a)(Object(G.a)({},l),{},{searching:!1})):s.updateSearch(Object(G.a)(Object(G.a)({},l),{},{filter_by:g,searching:!1,count:t.data.total_count,results:t.data.workspaces,maxPage:Math.ceil(t.data.total_count/25)}))})),s.updateSearch(Object(G.a)(Object(G.a)({},l),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var v=Object(m.mb)()._t,_={labelResultsFor:v("LABEL.RESULTS_FOR","results found for: "),labelSearching:v("LABEL.SEARCHING","Searching "),sidebarWorkspaces:v("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:v("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:v("BUTTON.PREV_PAGE","Previous")};return o.a.createElement(pt,{className:"user-search-panel container-fluid h-100 ".concat(n)},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(Wt,{actions:s,search:l}),""!==O?o.a.createElement("h4",{className:"mb-5"},o.a.createElement(u.u,{icon:"search"}),E&&o.a.createElement("span",null,_.labelSearching,o.a.createElement("span",{className:"text-primary"},"\u201c",O,"\u201d")),!E&&o.a.createElement("span",null,p," ",_.labelResultsFor,o.a.createElement("span",{className:"text-primary"},"\u201c",O,"\u201d"))):o.a.createElement("h4",{className:"mb-5"},b.length>0&&o.a.createElement("span",null,p," ",_.sidebarWorkspaces)),b.length>0&&o.a.createElement(yt,{user:d,actions:s,page:h,results:b,redirect:r}),p>25&&o.a.createElement("nav",{className:"mt-3"},o.a.createElement(Oe.a,{previousLabel:_.buttonPrevPage,nextLabel:_.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:f,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t=e.selected+1;b.length===p?s.updateSearch(Object(G.a)(Object(G.a)({},l),{},{filter_by:g,page:t})):(b.length<25*t&&s.search({search:O,skip:b.length,limit:25*t-b.length,filter_by:g},(function(e,n){e?s.updateSearch(Object(G.a)(Object(G.a)({},l),{},{searching:!1,filter_by:g})):s.updateSearch(Object(G.a)(Object(G.a)({},l),{},{searching:!1,filter_by:g,count:n.data.total_count,results:[].concat(Object(a.a)(n.data.workspaces),Object(a.a)(b)),maxPage:Math.ceil(n.data.total_count/25),page:t}))})),s.updateSearch(Object(G.a)(Object(G.a)({},l),{},{filter_by:g,value:O,searching:!0,page:t})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))}));function ft(){var e=Object(r.a)(["\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n"]);return ft=function(){return e},e}function ht(){var e=Object(r.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  stroke-width: 3px;\n  margin-right: 3px;\n  margin-bottom: 0.1rem;\n"]);return ht=function(){return e},e}function bt(){var e=Object(r.a)(["\n  width: 1rem;\n  height: 1rem;\n  stroke-width: 2px;\n"]);return bt=function(){return e},e}function Et(){var e=Object(r.a)(["\n  margin-left: auto;\n  display: none;\n"]);return Et=function(){return e},e}function gt(){var e=Object(r.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  :hover {\n    button {\n      display: inline-flex;\n    }\n  }\n"]);return gt=function(){return e},e}var Ot=l.b.li(gt()),vt=l.b.button(Et()),_t=Object(l.b)(u.u)(bt()),Tt=Object(l.b)(u.u)(ht()),wt=Object(l.b)(u.u)(ft()),kt=function(e){var t=e.dictionary,n=e.onJoinWorkspace,r=e.onLeaveWorkspace,i=e.item,c=e.redirect,s=e.workspaces,d=Object(l.c)(),p=i.topic,f=i.workspace,h=i.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat(),b=Object(m.E)(Object(a.a)(new Set(h)));return o.a.createElement(Ot,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:p.id,name:p.name,folder_id:f?f.id:null,folder_name:f?f.name:null};s.hasOwnProperty(p.id)?c.toWorkspace(e):c.fetchWorkspaceAndRedirect(e)}},o.a.createElement("div",{className:"workspace-search-detail"},o.a.createElement("div",{className:"workspace-title-status"},o.a.createElement("h5",null,p.name),p.is_locked&&o.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelPrivate),p.is_archive&&o.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelArchived),!p.is_archive&&!p.is_locked&&o.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelOpen),p.is_shared&&o.a.createElement("span",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:d.colors.fourth}},o.a.createElement(wt,{icon:"eye"})," ",t.externalAccess)),o.a.createElement("ul",{className:"workspace-detail-lists"},b&&o.a.createElement("li",{className:"text-success"},o.a.createElement(_t,{icon:"check"}),t.labelJoined),o.a.createElement("li",null,i.members.length," ",1===i.members.length?t.member:t.members),o.a.createElement("li",null,o.a.createElement(Tt,{icon:"folder"}),f?f.name:"Workspaces"),o.a.createElement("li",null,Object(Q.k)(p.description)))),b?o.a.createElement(vt,{onClick:function(e){e.stopPropagation(),r(i)},className:"btn btn-primary join-button"},t.buttonLeave):o.a.createElement(vt,{onClick:function(e){e.stopPropagation(),n(i)},className:"btn btn-primary join-button"},o.a.createElement(u.u,{icon:"user-plus"}),t.buttonJoin))},Nt=n(18),yt=function(e){var t=e.actions,n=e.page,a=e.results,r=e.redirect,i=e.user,s=Object(c.c)(),l=Object(c.d)((function(e){return e.workspaces.workspaces})),d=Object(m.hb)(),u=Object(m.mb)()._t,p={labelArchived:u("LABEL.ARCHIVED","Archived"),labelPrivate:u("LABEL.PRIVATE","Private"),labelOpen:u("LABEL.OPEN","Open"),labelJoined:u("LABEL.JOINED","Joined"),sidebarWorkspaces:u("SIDEBAR.WORKSPACES","Workspaces"),member:u("LABEL.MEMBER","member"),members:u("LABEL.MEMBERS","members"),buttonJoin:u("BUTTON.JOIN","Join"),buttonLeave:u("BUTTON.LEAVE","Leave"),leaveWorkspace:u("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:u("TOASTER.JOIN_WORKSPACE","You have joined #"),externalAccess:u("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access")},f=function(e){var n={channel_id:e.channel.id,recipient_ids:[i.id]};t.join(n,(function(t,n){t||(!function(e){var t={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};l.hasOwnProperty(e.topic.id)?r.toWorkspace(t):r.fetchWorkspaceAndRedirect(t)}(e),d.success(o.a.createElement(o.a.Fragment,null,p.joinWorkspace,o.a.createElement("b",null,e.topic.name))))}))},h=function(e){if(1===e.members.length&&e.topic.is_locked){var t={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};s(Object(Nt.wb)(t))}else{var n={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[i.id]};n.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:i.id,name:i.name,first_name:i.first_name,partial_name:i.partial_name,profile_image_link:i.profile_image_thumbnail_link?i.profile_image_thumbnail_link:i.profile_image_link},title:"",added_members:[],removed_members:[i.id]}));s(Object(je.W)({workspace_id:e.topic.id,channel_id:e.channel.id},(function(t,n){t||d.success(o.a.createElement(o.a.Fragment,null,p.leaveWorkspace,o.a.createElement("b",null,e.topic.name)))}))),s(Object(je.ib)(n))}};return o.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},o.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},o.a.createElement("ul",{className:"list-group list-group-flush"},a.sort((function(e,t){return e.topic.name.localeCompare(t.topic.name)})).slice(n>1?25*n-25:0,25*n).map((function(e){return o.a.createElement(kt,{key:e.topic.id,dictionary:p,onJoinWorkspace:f,onLeaveWorkspace:h,item:e,redirect:r,workspaces:l})})))))},At=n(19);function St(){var e=Object(r.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return St=function(){return e},e}function jt(){var e=Object(r.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  label {\n    margin: 0;\n  }\n  .custom-control {\n    min-height: 1rem;\n  }\n"]);return jt=function(){return e},e}function Ct(){var e=Object(r.a)(["\n  margin-bottom: 5px;\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n"]);return Ct=function(){return e},e}function xt(){var e=Object(r.a)([""]);return xt=function(){return e},e}function It(){var e=Object(r.a)(["\n  stroke-width: 2px;\n"]);return It=function(){return e},e}function Rt(){var e=Object(r.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"]);return Rt=function(){return e},e}var Lt=l.b.div(Rt(),""),Pt=Object(l.b)(u.u)(It()),Dt=l.b.div(xt()),Mt=l.b.div(Ct()),Ft=l.b.ul(jt()),Ut=l.b.div(St(),(function(e){return e.maxHeight}),(function(e){return e.theme.colors.primary})),Wt=function(e){var t=e.actions,n=e.search,a=n.value,r=n.searching,c=n.filterBy,s=n.filters,l=Object(i.useState)(a),d=Object(B.a)(l,2),p=d[0],f=d[1],h=Object(i.useState)(c),b=Object(B.a)(h,2),E=b[0],g=b[1],O=Object(i.useState)(s),v=Object(B.a)(O,2),_=v[0],T=v[1],w=function(){t.search({search:p,skip:0,limit:25,filter_by:E},(function(e,a){e?t.updateSearch(Object(G.a)(Object(G.a)({},n),{},{searching:!1})):t.updateSearch(Object(G.a)(Object(G.a)({},n),{},{value:p,filter_by:E,searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25),page:1}))})),t.updateSearch({results:[],value:p,filter_by:E,searching:!0})},k=function(){t.updateSearch({results:[],searching:!0,value:"",filter_by:"",page:1,maxPage:1,count:0}),t.search({search:"",skip:0,limit:25,filter_by:""},(function(e,a){e?t.updateSearch(Object(G.a)(Object(G.a)({},n),{},{searching:!1,value:"",filter_by:""})):t.updateSearch(Object(G.a)(Object(G.a)({},n),{},{value:"",filter_by:"",searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25)}))})),f("")},N=function(e){var t=e.target.dataset.name;T((function(e){return function(e,t){g((function(n){return e[t].checked?"":t})),e[t].checked=!e[t].checked;var n=Object.values(e).reduce((function(e,n){return t!==n.key&&(n.checked=!1,e[n.key]=Object(G.a)({},n)),e}),{});return Object(G.a)(Object(G.a)({},e),n)}(e,t)}))};Object(i.useEffect)((function(){Object.values(_).map((function(e){return e.checked})).includes(!0)&&!r||a?t.updateSearch({results:[],value:p,filter_by:E,searching:!0},(function(){w()})):k()}),[E]),Object(i.useEffect)((function(){f(a)}),[a]);var y=Object(m.mb)()._t,A={searchWorkspaceSearchPlaceholder:y("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:y("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:y("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:y("WORKSPACE.PRIVATE","Private"),archived:y("WORKSPACE.ARCHIVED","Archived"),nonMember:y("WORKSPACE.NON_MEMBER","Non Member"),new:y("WORKSPACE.NEW","New"),external:y("WORKSPACE.EXTERNAL","External")};return o.a.createElement(Lt,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row d-flex justify-content-center"},o.a.createElement("h2",{className:"mb-4 text-center"},A.searchWorkspaceSearchTitle),o.a.createElement("div",{className:"input-group"},o.a.createElement(Dt,{className:"input-wrap"},o.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==a?k():f(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||r||w()},type:"text",className:"form-control",placeholder:A.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:p}),""!==p.trim()&&o.a.createElement("button",{className:"btn-cross",type:"button",onClick:k},o.a.createElement(Pt,{icon:"x"}))),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:w},o.a.createElement(u.u,{icon:"search"})))),o.a.createElement(Ut,{className:"enter-active"},o.a.createElement("div",{className:"row d-flex justify-content-center my-3"},o.a.createElement(Mt,{className:"px-3"},o.a.createElement(u.u,{icon:"sliders"})),o.a.createElement(Ft,{className:"d-flex"},Object.values(_).map((function(e){return o.a.createElement("li",{className:"d-flex align-items-center mr-2",key:e.key},o.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success"},o.a.createElement(At.b,{name:e.key,checked:e.checked,type:"danger",onClick:N})),o.a.createElement("span",null,A[e.key]))}))))))))};n(913);function Ht(){var e=Object(r.a)(["\n  cursor: pointer;\n  &.list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n  .feather {\n    width: 0;\n    height: 0;\n    transition: 0.3s ease;\n    display: inline-block;\n  }\n  :hover {\n    .feather {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]);return Ht=function(){return e},e}var Bt=l.b.li(Ht()),Gt=o.a.memo((function(e){var t=e.folder,n=e.filterByFolder,a=Object(c.c)(),r=Object(c.d)((function(e){return e.workspaces.folders}));return o.a.createElement(Bt,{className:"list-group-item d-flex align-items-center ".concat(n&&n.id===t.id&&"active"),onClick:function(){a(Object(je.nb)({filterByFolder:t,filterBy:""}))}},o.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),t.name,o.a.createElement("span",{className:"ml-auto"},o.a.createElement("span",{className:"small"},t.workspaces.length>0&&t.workspaces.length),o.a.createElement(u.u,{className:"cursor-pointer ml-2",icon:"pencil",onClick:function(){if(r[t.id]){var e={mode:"edit",item:r[t.id],type:"workspace_folder"};a(Object(d.a)(e))}else{a(Object(d.a)({type:"no_access_folder"}))}}})))}));function zt(){var e=Object(r.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]);return zt=function(){return e},e}var Vt=l.b.div(zt()),Yt=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(c.c)(),r=Object(c.d)((function(e){return e.workspaces.allFolders})),s=Object(c.d)((function(e){return e.workspaces.allFoldersLoaded})),l=Object(c.d)((function(e){return e.workspaces.search.filterByFolder}));return Object(i.useEffect)((function(){s||a(Object(je.n)())}),[]),o.a.createElement(Vt,{className:"list-group list-group-flush ".concat(n)},Object.values(r).sort((function(e,t){return e.workspaces.length===t.workspaces.length?e.name.localeCompare(t.name):t.workspaces.length-e.workspaces.length})).map((function(e){return o.a.createElement(Gt,{folder:e,filterByFolder:l,key:e.id})})))}))},896:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return W})),n.d(t,"c",(function(){return V}));n(11);var a=n(1),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(4),l=n(995),d=n(5),u=n(13),m=n(12),p=n(10),f=(n(49),n(14),n(18));function h(){var e=Object(i.a)(["\n  width: 12px !important;\n"]);return h=function(){return e},e}function b(){var e=Object(i.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return b=function(){return e},e}d.b.li(b(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Object(d.b)(m.u)(h());function E(){var e=Object(i.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return E=function(){return e},e}function g(){var e=Object(i.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return g=function(){return e},e}function O(){var e=Object(i.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return O=function(){return e},e}function v(){var e=Object(i.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"]);return v=function(){return e},e}d.b.li(v(),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),Object(d.b)(m.u)(O()),d.b.ul(g(),(function(e){return e.maxHeight})),Object(d.b)(m.u)(E());var _=n(62),T=n.n(_);function w(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return w=function(){return e},e}function k(){var e=Object(i.a)(["\n  position: relative;\n  display: flex;\n  margin-left: 6px;\n  align-items: center;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n  .feather.feather-pencil {\n    width: 14px;\n    height: 14px;\n  }\n"]);return k=function(){return e},e}var N=d.b.div(k()),y=Object(d.b)(T.a)(w()),A=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=Object(p.hb)(),l=Object(p.mb)()._t,d={archiveThisWorkspace:l("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:l("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),archiveWorkspace:l("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:l("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:l("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:l("BUTTON.CANCEL","Cancel"),archiveBodyText:l("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:l("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),worskpaceSettings:l("TOOLTIP.WORKSPACE_SETTINGS","Workspace settings")},h=Object(o.useRef)(),b=Object(s.c)(),E=Object(s.d)((function(e){return e.session.user})),g=Object(s.d)((function(e){return e.workspaces.activeTopic})),O=Object(s.d)((function(e){return e.workspaces.folders})),v=Object(s.d)((function(e){return e.workspaces.sharedWorkspaces})),_=Object(o.useState)(!1),T=Object(r.a)(_,2),w=T[0],k=T[1],A=function(){k(!w)},S=function(e){j(e.target.dataset.name)},j=function(e){var t={mode:"edit",item:g};t="folder"===e?Object(a.a)(Object(a.a)({},t),{},{type:"workspace_folder",item:O[g.folder_id]}):Object(a.a)(Object(a.a)({},t),{},{type:"workspace_create_edit"}),b(Object(u.a)(t))},C=function(){var e={id:g.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:g.is_external,push_unarchived:1};b(Object(f.wb)(e)),i.success(c.a.createElement("span",null,c.a.createElement("b",null,g.name," workspace is un-archived.")))};Object(p.J)(h,A,w);var x=g?g.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],I=(E.type,Object(p.z)().slug),R=g&&g.sharedSlug&&g.slug&&I===g.slug.slice(0,-7)||g&&!g.sharedSlug,L=g&&g.slug&&g.sharedSlug&&v[g.slug]&&g.members.find((function(e){return e.is_creator})).external_id===E.id&&R,P=g&&!g.sharedSlug&&x.some((function(e){return e===E.id}))&&R;return(L||P)&&"external"!==E.type?c.a.createElement(N,{className:"nav-item ".concat(n),ref:h},c.a.createElement("div",null,c.a.createElement("span",{className:"dropdown-toggle ".concat(w?"show":""),"data-toggle":"dropdown",onClick:function(){g&&null!==g.folder_id||g&&0===g.active?A():j("workspace")}},c.a.createElement(y,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:d.worskpaceSettings},c.a.createElement(m.u,{icon:"pencil"}))),c.a.createElement("div",{className:"dropdown-menu ".concat(w?"show":"")},1===g.active?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:S},"Folder settings"),c.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:S},"Workspace settings")):c.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){var e={type:"confirmation",cancelText:d.cancel,headerText:d.unarchiveWorkspace,submitText:d.unarchiveWorkspace,bodyText:d.unarchiveBodyText,actions:{onSubmit:C}};b(Object(u.a)(e))}},"Un-archive workspace")))):null}));function S(){var e=Object(i.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return S=function(){return e},e}function j(){var e=Object(i.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"]);return j=function(){return e},e}d.b.li(j(),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),Object(d.b)(m.u)(S());function C(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  color: #8b8b8b;\n"]);return C=function(){return e},e}function x(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  color: #cbd4db;\n  .feather {\n    margin-left: 5px;\n  }\n"]);return x=function(){return e},e}function I(){var e=Object(i.a)(["\n  min-width: 0.8rem;\n  min-height: 0.8rem;\n  width: 0.8rem;\n  height: 0.8rem;\n"]);return I=function(){return e},e}function R(){var e=Object(i.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  align-self: center;\n"]);return R=function(){return e},e}function L(){var e=Object(i.a)(["\n  display: flex;\n  padding-top: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n  .feather {\n    color: ",";\n  }\n  .feather-star {\n    top: -2px;\n    right: -2px;\n  }\n  .feather-folder {\n    margin-right: 5px;\n    width: 0.7rem;\n    height: 0.7rem;\n  }\n  .workspace-folder-name {\n    font-size: 0.7rem;\n  }\n"]);return L=function(){return e},e}var P=d.b.div(L(),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),D=d.b.div(R()),M=Object(d.b)(m.u)(I()),F=d.b.div(x()),U=d.b.div(C()),W=function(e){var t=e.isExternal,n=e.onSelectWorkspace,a=e.workspace,r=e.isCompanyWs,i=e.companyName,o=Object(p.ab)().generalSettings.dark_mode;return c.a.createElement(P,{dark_mode:o,onClick:function(){n(a)}},c.a.createElement(V,{avatarClassName:"avatar-sm",workspace:a,isCompanyWs:r,companyName:i}),c.a.createElement(D,{className:"workspace-title-folder"},c.a.createElement(F,null,c.a.createElement("span",{className:"text-truncate"},r&&i?i:a.name),1===a.is_lock&&c.a.createElement(M,{icon:"lock"}),a.is_shared&&!t&&c.a.createElement(M,{icon:"eye"})),a.folder_name&&c.a.createElement(U,{className:"workspace-folder-name"},c.a.createElement(M,{icon:"folder"}),c.a.createElement("span",{className:"text-truncate"},a.folder_name))))};function H(){var e=Object(i.a)(["\n  position: absolute;\n  right: -7px;\n  top: -4px;\n  z-index: 1;\n  padding: 4px 8px;\n  font-size: 10px;\n  &.badge.badge-primary {\n    background: ",";\n  }\n"]);return H=function(){return e},e}function B(){var e=Object(i.a)(["\n  position: relative;\n"]);return B=function(){return e},e}var G=d.b.div(B()),z=Object(d.b)(l.a)(H(),(function(e){return e.theme.colors.secondary})),V=function(e){var t=e.avatarClassName,n=void 0===t?"":t,a=e.onSelectWorkspace,r=void 0===a?null:a,i=e.workspace,o=e.isCompanyWs,s=e.companyName;return c.a.createElement(G,{className:"workspace-icon mr-3"},i.hasOwnProperty("workspace_counter_entries")&&i.workspace_counter_entries>0&&c.a.createElement(z,{className:"badge badge-primary badge-pill ml-1"},i.workspace_counter_entries>99?"99+":i.workspace_counter_entries),c.a.createElement(m.a,{className:n,forceThumbnail:!1,type:"TOPIC",imageLink:i.team_channel&&i.team_channel.icon_link?i.team_channel.icon_link:null,id:i.id,name:o&&s?s:i.name,onClick:r,noDefaultClick:!r,showSlider:!1,isCompany:(!i.team_channel||!i.team_channel.icon_link)&&o,icon:"home"}))}},898:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r);function o(){var e=Object(a.a)(["\n  .card-body {\n    padding: 1rem;\n  }\n"]);return o=function(){return e},e}var c=n(5).b.div(o());t.a=function(e){var t="card "+e.className;return i.a.createElement(c,{className:t},i.a.createElement("div",{className:"card-body"},e.children))}},899:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(4),c=n(5),s=n(13),l=n(12);n(10);function d(){var e=Object(a.a)(["\n  display: block;\n  span {\n    display: block;\n  }\n  span:first-child {\n    font-weight: bold;\n  }\n  span:last-child {\n    font-weight: 500;\n  }\n"]);return d=function(){return e},e}var u=c.b.div(d());t.a=function(e){var t=e.dictionary,n=e.isWorkspace,a=Object(o.c)(),r=Object(o.d)((function(e){return e.session.user}));return i.a.createElement(u,null,i.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},i.a.createElement("div",null,i.a.createElement("strong",null,t.hiUser)," \ud83d\udc4b"),n&&"internal"===r.type&&i.a.createElement(l.v,{content:t.webhookTooltip},i.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault();var n={type:"chat_webhook",dictionary:t};a(Object(s.a)(n))}},i.a.createElement(l.u,{icon:"command",width:20,height:20})))),i.a.createElement("span",null,n?t.dailyWsDigest:t.dailyDigest))}},900:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(4),c=n(5),s=n(12),l=n(13),d=n(10);function u(){var e=Object(a.a)(["\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"]);return u=function(){return e},e}function m(){var e=Object(a.a)(["\n  min-height: 175px;\n  max-height: calc(100% - 30px);\n  overflow: auto;\n  ::-webkit-scrollbar {\n    -webkit-appearance: none;\n    width: 7px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.5);\n    -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n  }\n"]);return m=function(){return e},e}function p(){var e=Object(a.a)(["\n  height: 100%;\n  .card-title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    svg {\n      width: 1rem;\n      height: 1rem;\n      cursor: pointer;\n    }\n  }\n"]);return p=function(){return e},e}var f=c.b.div(p()),h=c.b.div(m()),b=c.b.div(u());t.a=i.a.memo((function(e){var t=e.dictionary,n=e.isWorkspace,a=void 0!==n&&n,r=e.workspace,c=Object(o.c)(),u=Object(o.d)((function(e){return e.session.user})),m=Object(o.d)((function(e){return e.workspaces.workspaces})),p=Object(o.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),E=Object.values(m).find((function(e){return p&&p.id===e.id})),g=Object(o.d)((function(e){return e.workspaces.sharedWorkspaces})),O=Object(d.z)().slug,v=!1;if(a&&r){var _=r?r.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],T=r&&r.sharedSlug&&r.slug&&O===r.slug.slice(0,-7)||r&&!r.sharedSlug,w=r&&r.slug&&r.sharedSlug&&g[r.slug]&&r.members.find((function(e){return e.is_creator})).id===u.id&&T,k=r&&!r.sharedSlug&&_.some((function(e){return e===u.id}))&&T;v=(w||k)&&"external"!==u.type}return i.a.createElement(f,null,i.a.createElement("div",{className:"card-title"},i.a.createElement("h5",{className:"card-title mb-0"},a?t.aboutThisWorkspace:t.aboutThisCompany),(!a&&E&&u&&u.role&&u.role.id<=2||v)&&i.a.createElement(s.u,{icon:"edit",onClick:function(){if(a){var e={mode:"edit",item:r,type:"workspace_create_edit"};c(Object(l.a)(e))}else{c(Object(l.a)({type:"company-workspace"}))}}})),i.a.createElement(h,null,!a&&E&&i.a.createElement(b,{className:"dashboard-description",dangerouslySetInnerHTML:{__html:E.description}}),a&&r&&i.a.createElement(b,{className:"dashboard-description",dangerouslySetInnerHTML:{__html:r.description}})))}))},901:function(e,t,n){"use strict";var a=n(1),r=n(6),i=n(0),o=n.n(i),c=n(5),s=n(4),l=n(49),d=n(24),u=n(14);function m(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  h1 {\n    margin: 0;\n  }\n  .text-label {\n    width: 65%;\n  }\n  span:last-child {\n    width: 35%;\n    text-align: center;\n    color: ",";\n    font-size: 1.75rem;\n    border-left: 1px solid rgba(0, 0, 0, 0.125);\n    cursor: pointer;\n  }\n"]);return m=function(){return e},e}var p=c.b.div(m(),(function(e){return 0===e.count?"green":"inherit"}));t.a=function(e){var t=e.type,n=e.text,r=e.isWorkspace,c=void 0!==r&&r,m=e.workspace,f=Object(l.g)(),h=Object(l.i)(),b=Object(s.c)(),E=Object(s.d)((function(e){return e.global.unreadCounter})),g=Object(s.d)((function(e){return e.global.todos.count})),O=Object(s.d)((function(e){return e.workspaces.workspaceReminders})),v=Object(s.d)((function(e){return e.workspaces.sharedWorkspaces})),_=f.location.pathname.startsWith("/shared-hub"),T=m&&_?m.key:h.workspaceId,w=O[m&&_?m.key:h.workspaceId];Object(i.useEffect)((function(){if(f.location.pathname.startsWith("/shared-hub")){if(h.workspaceId&&m&&!O[m.key]){var e={topic_id:h.workspaceId};m&&m.sharedSlug&&v[m.slug]&&(e=Object(a.a)(Object(a.a)({},e),{},{sharedPayload:{slug:m.slug,token:v[m.slug].access_token,is_shared:!0}})),b(Object(d.E)(e,(function(e,t){e||b(Object(d.mb)({count:t.data,id:T}))})))}}else if(h.workspaceId&&!O[h.workspaceId]){var t={topic_id:h.workspaceId};b(Object(d.E)(t,(function(e,t){e||b(Object(d.mb)({count:t.data,id:T}))})))}}),[]);var k=0;return k=c?"chat"===t?m?m.unread_chats:0:"posts"===t?m?m.unread_posts:0:w&&w.count.today?w.count.today:0:"chat"===t?E.chat_message:"posts"===t?E.general_post:g.todo_with_date,o.a.createElement(p,{count:k},o.a.createElement("span",{className:"text-label"},o.a.createElement("h5",{className:"card-title mb-0"},n)),o.a.createElement("span",{onClick:function(){var e=m&&m.sharedSlug?"shared-hub":"hub";if(c){if(!m)return;"chat"===t?m.folder_id?f.push("/".concat(e,"/chat/").concat(m.folder_id,"/").concat(Object(u.i)(m.folder_name),"/").concat(m.id,"/").concat(Object(u.i)(m.name))):f.push("/".concat(e,"/chat/").concat(m.id,"/").concat(Object(u.i)(m.name))):"posts"===t?m.folder_id?f.push("/".concat(e,"/posts/").concat(m.folder_id,"/").concat(Object(u.i)(m.folder_name),"/").concat(m.id,"/").concat(Object(u.i)(m.name))):f.push("/".concat(e,"/posts/").concat(m.id,"/").concat(Object(u.i)(m.name))):m.folder_id?f.push("/".concat(e,"/reminders/").concat(m.folder_id,"/").concat(Object(u.i)(m.folder_name),"/").concat(m.id,"/").concat(Object(u.i)(m.name))):f.push("/".concat(e,"/reminders/").concat(m.id,"/").concat(Object(u.i)(m.name)))}else"chat"===t?f.push("/chat"):"posts"===t?f.push("/posts"):f.push("/todos")}},k))}},902:function(e,t,n){"use strict";var a=n(1),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(5),l=n(49),d=n(4),u=n(12),m=n(13),p=n(10),f=n(24);function h(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  a {\n    margin: 0;\n  }\n  .feather {\n    margin-left: auto;\n    display: none;\n  }\n  :hover {\n    .feather {\n      display: block;\n    }\n  }\n"]);return h=function(){return e},e}function b(){var e=Object(i.a)(["\n  > span {\n    display: flex;\n    align-items: center;\n    //font-weight: 600;\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-link {\n    margin-right: 0.5rem;\n  }\n  .feather-info {\n    margin-left: 0.5rem;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    max-height: 190px;\n    overflow: auto;\n    ::-webkit-scrollbar {\n      -webkit-appearance: none;\n      width: 7px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: 4px;\n      background-color: rgba(0, 0, 0, 0.5);\n      -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n    }\n    li {\n      padding-top: 10px;\n      display: flex;\n    }\n    li:not(:last-child) {\n      border-bottom: 1px solid #f1f2f7;\n      .dark & {\n        border-bottom: 1px solid rgba(155, 155, 155, 0.1);\n      }\n    }\n  }\n  a {\n    box-shadow: none !important;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n"]);return b=function(){return e},e}var E=s.b.div(b()),g=s.b.li(h());t.a=c.a.memo((function(e){var t=e.dictionary,n=e.isWorkspace,i=void 0!==n&&n,s=e.workspace,h=void 0===s?null:s,b=Object(l.j)(),O=b.params,v=b.url,_=Object(d.c)(),T=Object(d.d)((function(e){return e.global.links.filter((function(e){return e.id&&""!==e.menu_name.trim()&&""!==e.link.trim()}))})),w=Object(d.d)((function(e){return e.global.linksFetched})),k=Object(d.d)((function(e){return e.workspaces.workspaceQuickLinks})),N=Object(d.d)((function(e){return e.workspaces.sharedWorkspaces})),y=Object(o.useState)(!1),A=Object(r.a)(y,2),S=A[0],j=A[1],C=Object(p.ab)(),x=C.generalSettings,I=C.showModal,R=Object(o.useRef)(null),L=Object(o.useRef)(null);Object(o.useEffect)((function(){h&&(R.current=h),N&&(L.current=N)}),[h,N]);var P=v.startsWith("/shared-hub")&&h&&h.sharedSlug?k[h.key]:k[O.workspaceId];return Object(o.useEffect)((function(){w||i||_(Object(m.s)());var e={workspace_id:O.workspaceId};i&&v.startsWith("/hub")&&!k[O.workspaceId]?_(Object(f.B)(e)):i&&v.startsWith("/shared-hub")&&h&&!k[h.key]&&h&&h.sharedSlug&&N[h.slug]&&(e=Object(a.a)(Object(a.a)({},e),{},{sharedPayload:{slug:h.slug,token:N[h.slug].access_token,is_shared:!0}}),_(Object(f.B)(e)))}),[]),Object(o.useEffect)((function(){if(!S){var e={workspace_id:O.workspaceId};i&&v.startsWith("/hub")&&!k[O.workspaceId]?(j(!0),_(Object(f.B)(e,(function(){return j(!1)})))):i&&v.startsWith("/shared-hub")&&R.current&&!k[R.current.key]&&R.current&&R.current.sharedSlug&&(e=Object(a.a)(Object(a.a)({},e),{},{sharedPayload:{slug:R.current.slug,token:N[R.current.slug].access_token,is_shared:!0}}),j(!0),_(Object(f.B)(e,(function(){return j(!1)}))))}}),[O.workspaceId,k,v,S,h]),c.a.createElement(E,null,c.a.createElement("span",null,c.a.createElement(u.u,{icon:"link"})," ",c.a.createElement("h5",{className:"card-title mb-0"},t.shortcuts)," ",c.a.createElement(u.v,{content:i?t.wsShorcutsTooltip:t.shorcutsTooltip},c.a.createElement(u.u,{icon:"info"})),i&&P&&c.a.createElement(u.u,{className:"ml-auto",icon:"circle-plus",width:24,height:24,onClick:function(){var e={type:"workspace-quicklinks",links:P,workspaceId:O.workspaceId,sharedSlug:h&&h.sharedSlug?h.slug:null};_(Object(m.a)(e))}})),0===T.length&&w&&!i&&c.a.createElement("span",{className:"mt-3"},t.noQuickLinks),i&&P&&0===P.filter((function(e){return""!==e.link})).length&&c.a.createElement("span",{className:"mt-3"},t.noWsQuickLinks),!i&&c.a.createElement("ul",{className:"mt-2"},T.map((function(e){var t=e.link.startsWith("http")?e.link:"https://"+e.link;return c.a.createElement("li",{key:e.id},c.a.createElement(u.h,{link:t,title:e.menu_name}))}))),i&&P&&c.a.createElement("ul",{className:"mt-2 ws-quicklinks-lists"},P.filter((function(e){return""!==e.link})).map((function(e){var t=e.link.startsWith("http")?e.link:"https://"+e.link;return c.a.createElement("li",{key:e.id},c.a.createElement(u.h,{link:t,title:e.menu_name}))}))),!i&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"personal-links-label d-flex mt-2"},t.personalLinks,c.a.createElement(u.u,{className:"ml-auto",icon:"circle-plus",width:24,height:24,onClick:function(){I("personal_link_create")}})),x.personal_links.length>0&&c.a.createElement("ul",{className:"mt-2"},x.personal_links.map((function(e,t){var n=e.web_address.startsWith("http")?e.web_address:"https://"+e.web_address;return c.a.createElement(g,{key:t},c.a.createElement(u.h,{link:n,title:e.name,key:e.id}),c.a.createElement(u.u,{className:"cursor-pointer","data-index":t,icon:"pencil",onClick:function(){return function(e){I("personal_link_edit",Object(a.a)(Object(a.a)({},x.personal_links[e]),{},{index:e}))}(t)}}))})))))}))},903:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(10),s=n(12);function l(){var e=Object(a.a)(["\n  color: #363636;\n  ",";\n  flex-grow: 1;\n  ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  //max-width: calc(100% - 100px);\n\n  &.is-unread {\n    span {\n      font-weight: bold;\n    }\n  }\n\n  span {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: block;\n  }\n\n  .badge-wrapper {\n    margin-right: 0.5rem !important;\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(a.a)(["\n  max-width: 100%;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n  .title-data-chat-folder {\n    display: inline-block;\n    //height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    // letter-spacing: 0;\n    // line-height: 12px;\n    font-weight: normal;\n    margin-left: 5px;\n    vertical-align: bottom;\n  }\n"]);return d=function(){return e},e}var u=o.b.div(d()),m=o.b.h6(l(),(function(e){return e.channel.total_unread&&"color: ".concat(e.theme.colors.primary)}),(function(e){return null!==e.selectedChannel&&e.channel.code===e.selectedChannel.code&&"font-weight: bold;"}));t.a=i.a.memo((function(e){var t=Object(c.gb)().channelPreviewDate,n=e.className,a=void 0===n?"":n,r=e.search,o=void 0===r?"":r,l=e.selectedChannel,d=e.channel,p=e.dictionary,f=i.a.createElement(i.a.Fragment,null,!!d.is_archived&&i.a.createElement(i.a.Fragment,null,i.a.createElement(s.b,{badgeClassName:"bg-warning-bright",label:"Archived"})),function(e){var t=e;if("DIRECT"===d.type&&d.profile&&(t=d.profile.name),"DIRECT_TEAM"!==d.type&&"TEAM"!==d.type||(t="".concat(p.team," ").concat(d.title)),"PERSONAL_BOT"===d.type&&(t=p.personalNotes),""===o)return t;var n=t.split(new RegExp("(".concat(o,")"),"gi"));return i.a.createElement("span",null,n.map((function(e){return e.toLowerCase()===o.toLowerCase()?i.a.createElement("b",null,e):e})))}(d.title));return i.a.createElement(u,{className:"d-flex justify-content-between align-items-center"},i.a.createElement(m,{className:"mb-1 ".concat(d.is_read?"":"is-unread"," ").concat(a),selectedChannel:l,channel:d},i.a.createElement(s.v,{direction:"up-start",arrow:!1,content:d.title},i.a.createElement("span",null,f,i.a.createElement("span",{className:"title-data-chat-folder"},function(){switch(d.type){case"TOPIC":return d.workspace_folder?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fa fa-folder-o"})," ",d.workspace_folder.name):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"dictionary-label"},p.workspace));default:return null}}())))),i.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:d.last_reply?t(d.last_reply.created_at.timestamp):""}}))}))},904:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(49),s=n(4),l=n(298),d=n(12);function u(){var e=Object(a.a)(["\n  height: 100%;\n  > span:first-child {\n    display: flex;\n    align-items: center;\n    // font-weight: 600;\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-megaphone {\n    margin-right: 0.5rem;\n    width: 20px;\n    height: 20px;\n  }\n  .feather-info {\n    margin-left: 0.5rem;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    overflow: auto;\n    max-height: calc(100% - 20px);\n    overflow-x: hidden;\n    ::-webkit-scrollbar {\n      -webkit-appearance: none;\n      width: 7px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: 4px;\n      background-color: rgba(0, 0, 0, 0.5);\n      -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n    }\n    h6 {\n      margin: 0 !important;\n    }\n    > div {\n      padding: 10px 0 !important;\n      display: flex;\n      align-items: center;\n      background: unset;\n    }\n    .timeline-item > div:last-child {\n      width: 100%;\n    }\n  }\n"]);return u=function(){return e},e}var m=o.b.div(u());t.a=function(e){var t=e.dictionary,n=e.isWorkspace,a=void 0!==n&&n,r=e.workspace,o=void 0===r?null:r,u=Object(c.i)(),p=Object(s.d)((function(e){return e.notifications.notifications})),f=Object(s.d)((function(e){return e.session.user})),h=Object(s.d)((function(e){return e.workspaces.sharedWorkspaces})),b=f;a&&o&&h[o.slug]&&(b=h[o.slug].user_auth);var E=Object.values(p).filter((function(e){if("POST_MENTION"===e.type)return a?0===e.is_read&&e.data&&e.data.workspaces&&e.data.workspaces.some((function(e){return e.topic_id===parseInt(u.workspaceId)})):0===e.is_read;if("POST_REQST_APPROVAL"===e.type)return a?0===e.data.is_close&&e.data.users_approval&&e.data.users_approval.find((function(e){return null===e.ip_address&&b.id===e.id}))&&e.data&&e.data.workspaces&&e.data.workspaces.some((function(e){return e.topic_id===parseInt(u.workspaceId)})):(e.sharedSlug&&h[e.slug]&&(b=h[e.slug].user_auth),0===e.data.is_close&&e.data.users_approval&&e.data.users_approval.find((function(e){return null===e.ip_address&&b.id===e.id})));if("POST_CREATE"===e.type){if(a){var t=e.data.workspaces&&e.data.workspaces.some((function(e){return e.topic_id===parseInt(u.workspaceId)}));return t&&0===e.data.is_close&&e.data.must_read&&e.data.must_read_users&&e.data.must_read_users.some((function(e){return e.id===b.id&&!e.must_read}))||t&&e.data.must_reply&&e.data.must_reply_users&&e.data.must_reply_users.some((function(e){return e.id===b.id&&!e.must_reply}))}return e.sharedSlug&&h[e.slug]&&(b=h[e.slug].user_auth),0===e.data.is_close&&e.data.must_read&&e.data.must_read_users&&e.data.must_read_users.some((function(e){return e.id===b.id&&!e.must_read}))||e.data.must_reply&&e.data.must_reply_users&&e.data.must_reply_users.some((function(e){return e.id===b.id&&!e.must_reply}))}return!1})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}));return i.a.createElement(m,null,i.a.createElement("span",null,i.a.createElement(d.u,{icon:"megaphone"}),i.a.createElement("h5",{className:"card-title mb-0"},t.postMentionsActions),i.a.createElement(d.v,{content:t.postMentionsTooltip},i.a.createElement(d.u,{icon:"info"}))),0===E.length&&i.a.createElement("div",{className:"mt-3"},i.a.createElement("div",null,t.nothingToDoHere)),i.a.createElement("ul",{className:"mt-3"},E.length>0&&E.map((function(e){return i.a.createElement(l.c,{key:e.id,notification:e,showToggle:!1})}))))}},905:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(926);function s(){var e=Object(a.a)(["\n  height: 100vh;\n  .chat-sidebar-panel {\n    //max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    flex: 1 1 auto;\n    // @media (min-width: 1920px) {\n    //   max-width: calc(100% - 540px);\n    // }\n  }\n  @media (max-width: 1550px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n  .row {\n    flex-wrap: unset;\n  }\n  @media (min-width: 768px) {\n    height: 100%;\n  }\n"]);return s=function(){return e},e}var l=o.b.div(s());t.default=function(e){var t=e.className,n=void 0===t?"":t;return null!==localStorage.getItem("chat_translate_change")&&(localStorage.removeItem("chat_translate_change"),window.location.reload()),i.a.createElement(l,{className:"company-chat p-0 m-lg-3 ".concat(n)},i.a.createElement("div",{className:"row no-gutters chat-block"},i.a.createElement(c.h,{className:"col-lg-4 chat-sidebar-panel"}),i.a.createElement(c.a,{className:"col-lg-8 chat-content-panel"})))}},906:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(6),i=n(0),o=n.n(i),c=n(49),s=n(5),l=n(182),d=n(10),u=n(882),m=n(14),p=n(1006),f=n(928);function h(){var e=Object(r.a)(["\n  margin-bottom: 1rem;\n  .custom-switch {\n    margin-bottom: 0 !important;\n  }\n  div.text-muted {\n    font-weight: 500;\n  }\n  form {\n    display: flex;\n    flex-grow: 1;\n    width: auto;\n  }\n"]);return h=function(){return e},e}function b(){var e=Object(r.a)(["\n  //width: 50%;\n  //margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"]);return b=function(){return e},e}function E(){var e=Object(r.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n    overflow: unset;\n  }\n  /* .card-body {\n    overflow: auto;\n  } */\n"]);return E=function(){return e},e}var g=s.b.div(E()),O=Object(s.b)(l.a)(b()),v=s.b.div(h());t.default=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=Object(d.qb)(),s=r.users,l=r.loggedUser,h=r.selectUserChannel,b=Object(c.g)(),E=Object(i.useState)(""),_=Object(a.a)(E,2),T=_[0],w=_[1],k=Object(i.useState)(!0),N=Object(a.a)(k,2),y=N[0],A=N[1],S=Object(i.useState)(!1),j=Object(a.a)(S,2),C=j[0],x=j[1],I={search:Object(i.useRef)()},R=function(e){b.push("/profile/".concat(e.id,"/").concat(Object(m.i)(e.name)))},L=function(e){return h(e)};Object(i.useEffect)((function(){I.search.current.focus()}),[]);var P=Object.values(s).sort((function(e,t){return e.name.toString().localeCompare(t.name)})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot","huddle_bot"].includes(e.email)&&("internal"===e.type&&(1===e.active&&!(""!==T&&!C&&-1===e.name.toLowerCase().search(T.toLowerCase())&&-1===e.email.toLowerCase().search(T.toLowerCase()))))})),D=Object(d.mb)()._t,M={searchPeoplePlaceholder:D("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:D("PEOPLE.EXTERNAL","External"),peopleInvited:D("PEOPLE.INVITED","Invited"),structureView:D("PEOPLE.STRUCTURE_VIEW_TOGGLE","Structure view"),peopleView:D("PEOPLE.PEOPLE_VIEW_TOGGLE","People view"),employeeAccounts:D("LABEL.EMPLOYEE_ACCOUNTS","Employee accounts"),thisIsAnAdminAccount:D("TOOLTIP.THIS_IS_AN_ADMIN_ACCOUNT","This is an administrator account"),connectedWorkspaceIcon:D("TOOLTIP.CONNECTED_WORKSPACE","Connected workspace"),phoneIcon:D("TOOLTIP.PHONE","Call profile phone number"),messageIcon:D("TOOLTIP.MESSAGE_BUBBLE","Send a chat to this person")};return o.a.createElement(g,{className:"workspace-people container-fluid h-100 ".concat(n)},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"people-header"},o.a.createElement(v,{className:"d-flex align-items-center people-search"},o.a.createElement(O,{ref:I.search,value:T,closeButton:"true",onClickEmpty:function(){w("")},placeholder:M.searchPeoplePlaceholder,onChange:function(e){w(e.target.value)},autoFocus:!0}),o.a.createElement(p.a,{className:"ml-2 mr-3 cursor-pointer text-muted cursor-pointer",checked:C,id:"structure_view",name:"structure_view",type:"switch",onChange:function(){x(!C),A(!y)},label:o.a.createElement("span",null,M.structureView)}),o.a.createElement("div",{className:"mr-3 text-muted"},M.employeeAccounts,": ",P.length))),C&&o.a.createElement(f.c,{users:P}),y&&o.a.createElement("div",{className:"row"},P.map((function(e){return o.a.createElement(u.a,{loggedUser:l,key:e.id,user:e,onNameClick:R,onChatClick:L,dictionary:M})}))))))}))},907:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(6),i=n(0),o=n.n(i),c=n(49),s=n(5),l=n(12),d=n(10),u=n(387),m=n(58);function p(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return p=function(){return e},e}function f(){var e=Object(r.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]);return f=function(){return e},e}function h(){var e=Object(r.a)(["\n  //text-align: right;\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]);return h=function(){return e},e}function b(){var e=Object(r.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]);return b=function(){return e},e}function E(){var e=Object(r.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]);return E=function(){return e},e}function g(){var e=Object(r.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]);return g=function(){return e},e}var O=s.b.div(g()),v=s.b.span(E()),_=s.b.div(b()),T=s.b.div(h()),w=Object(s.b)(l.u)(f()),k=s.b.div(p());t.default=function(e){var t=e.className,n=void 0===t?"":t,r=Object(c.i)(),s=Object(c.g)(),p=Object(d.hb)(),f=Object(d.k)(),h=f.actions,b=f.fetchMore,E=f.posts,g=f.filter,N=f.tag,y=f.postListTag,A=f.sort,S=f.post,j=f.user,C=f.search,x=f.postLists,I=f.counters,R=f.showLoader,L=Object(d.M)(),P=L.loadMoreCompany,D=L.count,M=Object(i.useState)(!1),F=Object(a.a)(M,2),U=F[0],W=F[1],H=Object(i.useState)(!1),B=Object(a.a)(H,2),G=B[0],z=B[1],V=Object(i.useState)({}),Y=Object(a.a)(V,2),K=Y[0],q=Y[1],J="external"===j.type,Z=Object(i.useRef)(!0),X=function(){r.hasOwnProperty("postId")&&s.push("/posts")},Q=Object(d.mb)()._t,$={createNewPost:Q("POST.CREATE_NEW_POST","Create new post"),all:Q("POST.ALL","All"),inbox:Q("POST.INBOX","Inbox"),newReply:Q("POST.NEW_REPLY","New reply"),myPosts:Q("POST.MY_POSTS","My sent posts"),starred:Q("POST.STARRED","Starred"),archived:Q("POST.ARCHIVED","Archived"),draft:Q("POST.DRAFT","Draft"),drafts:Q("POST.DRAFTS","Drafts"),category:Q("POST.CATEGORY","Category"),replyRequired:Q("POST.REPLY_REQUIRED","Reply required"),mustRead:Q("POST.MUST_READ","Must read"),noReplies:Q("POST.NO_REPLIES","No replies"),sortBy:Q("POST.SORT_BY","Sort by"),starredFavorite:Q("POST.STARRED_FAVORITE","Starred / Favorite"),recent:Q("POST.RECENT","Recent"),unread:Q("POST.UNREAD","Unread"),searchPost:Q("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:Q("POST.MARK_AS_READ","Mark as read"),markAsUnread:Q("POST.MARK_AS_UNREAD","Mark as unread"),share:Q("POST.SHARE","Share"),snooze:Q("POST.SNOOZE","Snooze"),follow:Q("POST.FOLLOW","Follow"),unFollow:Q("POST.UNFOLLOW","Unfollow"),files:Q("POST.FILES","Files"),comment:Q("POST.COMMENT","Comment"),editPost:Q("POST.EDIT_POST","Edit post"),editReply:Q("POST.EDIT_REPLY","Edit reply"),removeReply:Q("POST.REMOVE_REPLY","Remove reply"),quote:Q("POST.QUOTE","Quote"),mentionUser:Q("POST.MENTION_USER","Mention user"),remindMeAboutThis:Q("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:Q("POST.SEARCH_RESULT","Search Result:"),searchResults:Q("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:Q("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:Q("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:Q("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:Q("POST.PRIVATE","Private"),by:Q("POST.BY","by"),star:Q("POST.STAR","Mark with star"),unStar:Q("POST.UNSTAR","Unmark star"),alreadyReadThis:Q("POST.ALREADY_READ_THIS","I've read this"),me:Q("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:Q("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:Q("SHOW_MORE","Show more"),showLess:Q("SHOW_LESS","Show less"),markAll:Q("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:Q("POST.ARCHIVE_ALL","Archive all"),noComment:Q("POST.NO_COMMENT","no comment"),oneComment:Q("POST.ONE_COMMENT","1 comment"),comments:Q("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:Q("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:Q("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Q("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:Q("POST.ARCHIVE","Archive"),requestChange:Q("POST.REQUEST_CHANGE","Request for change"),accept:Q("POST.ACCEPT","Accept"),hasAcceptedProposal:Q("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:Q("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:Q("POST.ACTION_NEEDED","Action needed"),changeRequested:Q("POST.CHANGE_REQUESTED","Change requested"),accepted:Q("POST.ACCEPTED","Accepted"),requestForApproval:Q("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:Q("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:Q("POST.REPLIES_CLOSED","Replies closed"),openThisPost:Q("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:Q("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:Q("POST.REOPEN","Reopen"),closed:Q("POST.CLOSED","Closed"),createNewList:Q("POST.CREATE_NEW_LIST","New List"),addToList:Q("POST.ADD_TO_LIST","Add to list"),removeToList:Q("POST.REMOVE_TO_LIST","Remove to list"),allOthers:Q("POST.ALL_OTHERS","All others"),sharedClientBadge:Q("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:Q("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),selectAll:Q("BUTTON.SELECT_ALL","Select all"),remove:Q("BUTTON.REMOVE","Remove"),fileAutomaticallyRemoved:Q("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:Q("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),errorLoadingPost:Q("TOASTER.ERROR_LOADING_POST","Error loading post"),teamLabel:Q("TEAM","Team"),new:Q("POST.NEW","New"),featureNotAvailable:Q("LABEL.FEATURE_NOT_AVAILABLE","This feature is not available for your account."),contactAdministrator:Q("LABEL.CONTACT_ADMIN","Contact your system administrator."),loadingPosts:Q("LABEL.LOADING_POSTS","Loading posts")},ee=Object(i.useMemo)((function(){var e=Object(m.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&z(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(i.useEffect)((function(){G&&function(){if(""===C&&!S&&!U){W(!0);var e=function(){Z.current&&(W(!1),z(!1))};g&&b(e),P(e)}}()}),[G]),Object(i.useEffect)((function(){return function(){Z.current=null}}),[]),Object(i.useEffect)((function(){r.postId&&!S&&h.fetchPostDetail({post_id:parseInt(r.postId)},(function(e,t){if(Z.current&&e){h.setCompanyFilterPosts({filter:"inbox",tag:null}),s.push("/posts"),p.error($.errorLoadingPost)}}))}),[r.postId,S]),Object(i.useEffect)((function(){if(y){var e=Object(m.find)(x,(function(e){return parseInt(e.id)===parseInt(y)}));if(x.map((function(t){e&&parseInt(y)===t.id&&q(t)})),!e){q(x[0]);var t={tag:null,postListTag:x[0].id,filter:null};h.setCompanyFilterPosts(t)}}}),[y,x]);return o.a.createElement(O,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:ee},o.a.createElement("div",{className:"row app-block"},o.a.createElement(u.k,{filter:g,tag:N,postListTag:y,postActions:h,count:D,postLists:x,counters:I,onGoBack:X,dictionary:$}),o.a.createElement("div",{className:"col-md-9 app-content"},o.a.createElement("div",{className:"app-content-overlay"}),!S&&o.a.createElement(u.f,{activeSort:A,search:C,dictionary:$,className:"mb-3"}),!!y&&o.a.createElement(T,null,o.a.createElement("span",null,"Filter:"),o.a.createElement(v,{className:"ml-2 recipients"},o.a.createElement("span",{className:"receiver"},o.a.createElement("span",{onClick:function(){h.setCompanyFilterPosts({tag:null,filter:"all"})}},o.a.createElement(w,{icon:"x",className:"mr-1"})),K.name))),R&&!S?o.a.createElement(k,{className:"card initial-load"},o.a.createElement(l.k,null)):o.a.createElement(o.a.Fragment,null,S&&r.hasOwnProperty("postId")?o.a.createElement("div",{className:"card card-body app-content-body"},o.a.createElement(_,{className:"fadeBottom"},o.a.createElement(u.c,{post:S,posts:E,filter:g,postActions:h,user:j,onGoBack:X,dictionary:$,isExternalUser:J}))):!S&&r.hasOwnProperty("postId")?o.a.createElement(k,{className:"card initial-load"},o.a.createElement(l.k,null)):o.a.createElement(u.l,{actions:h,dictionary:$,filter:g,isExternalUser:J,loading:U,posts:E,search:C})),U&&o.a.createElement(l.l,{text:$.loadingPosts}),o.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},908:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(6),i=n(0),o=n.n(i),c=n(5),s=n(4),l=n(926),d=n(49),u=n(12),m=n(24),p=n(10),f=n(31);function h(){var e=Object(r.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return h=function(){return e},e}function b(){var e=Object(r.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]);return b=function(){return e},e}function E(){var e=Object(r.a)([""]);return E=function(){return e},e}var g=c.b.div(E()),O=c.b.div(b()),v=c.b.div(h());t.default=function(e){var t=e.className,n=void 0===t?"":t,r=e.workspace,c=Object(d.j)(),h=Object(s.c)(),b=Object(s.d)((function(e){return e.chat.selectedChannel})),E=Object(s.d)((function(e){return e.session.user})),_=Object(i.useState)(!1),T=Object(a.a)(_,2),w=T[0],k=T[1];Object(p.s)();Object(i.useEffect)((function(){var e=document.getElementById("toastS");return e&&f.isMobile&&e.classList.add("d-none"),function(){e&&f.isMobile&&e.classList.remove("d-none")}}),[]);var N=r&&r.sharedSlug?"shared-hub":"hub";return o.a.createElement(g,{className:"workspace-chat container-fluid ".concat(n)},o.a.createElement(O,{className:"row no-gutters chat-block"},r&&!r.team_channel.code&&c.path.startsWith("/".concat(N,"/team-chat/"))&&"internal"===E.type&&o.a.createElement(v,null,o.a.createElement(u.s,{icon:3,height:252}),o.a.createElement("button",{className:"btn btn-outline-primary btn-block",disable:w,onClick:function(){w||(k(!0),h(Object(m.e)({id:r.id},(function(e,t){k(!1)}))))}},w?"Activating...":"Activate chat")),(c.path.startsWith("/".concat(N,"/chat"))&&b&&r.is_shared&&b.id===r.channel.id||c.path.startsWith("/".concat(N,"/chat"))&&b&&!r.is_shared&&b.id===r.team_channel.id||c.path.startsWith("/".concat(N,"/team-chat"))&&r&&r.team_channel.code&&"internal"===E.type&&b&&b.id===r.team_channel.id)&&o.a.createElement(l.a,{className:"col-lg-12",isWorkspace:!0,selectedChannel:b})))}},909:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(4),l=n(49),d=n(5),u=n(13),m=n(10),p=n(890);function f(){var e=Object(i.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]);return f=function(){return e},e}var h=d.b.div(f());t.default=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.isMember,d=e.workspace,f=i||d&&d.sharedSlug,b=Object(s.c)(),E=Object(l.g)(),g=Object(m.mb)()._t,O=Object(m.u)(!0),v=O.params,_=O.wsFiles,T=O.actions,w=O.topic,k=O.fileIds,N=O.folders,y=O.folder,A=O.subFolders,S=Object(m.z)().slug;Object(m.s)();var j=Object(o.useState)(""),C=Object(r.a)(j,2),x=C[0],I=C[1],R=Object(o.useState)(""),L=Object(r.a)(R,2),P=L[0],D=L[1],M={dropZone:Object(o.useRef)(null)},F=!1;d&&0===d.active&&(F=!0);var U=function(){T.search(P)},W=function(){D(""),T.clearSearch()},H={createFolder:g("CREATE_FOLDER","Create folder"),create:g("CREATE","Create"),updateFolder:g("UPDATE_FOLDER","Update folder"),update:g("UPDATE","Update"),editFolder:g("EDIT_FOLDER","Edit folder"),removeFolder:g("REMOVE_FOLDER","Remove folder"),renameFolder:g("RENAME.FOLDER","Rename folder"),folderInfo:g("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:g("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:g("ADD","Add"),favorite:g("FAVORITE","Favorite"),file:g("FILE","File"),folder:g("FOLDER","Folder"),folderName:g("FOLDER_NAME","Folder name"),folders:g("FOLDERS","Folders"),allFiles:g("FILES.ALL_FILES","All files"),recentlyEdited:g("FILES.RECENTLY_EDITED","Recently edited"),removed:g("FILES.REMOVED","Removed"),searchInputPlaceholder:g("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:g("UPLOAD_FILES","Upload files"),driveLink:g("BUTTON.DRIVE_LINK","Drive link"),googleDrive:g("BUTTON.GOOGLE_DRIVE","Google Drive"),googleDocument:g("CREATE_GOOGLE_DOCUMENT","Create Google Document"),googleDrawing:g("CREATE GOOGLE DRAWING","Create Google Drawing"),googleSlides:g("CREATE_GOOGLE_SLIDES","Create Google Slides"),googleSheets:g("CREATE_GOOGLE_SHEETS","Create Google Sheets")},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create";y&&(v.googleDriveFolderId=y.google_folder_id);var n={type:"files_folder",folder:"create"===t?null:e,params:v,mode:t,topic_id:w.id,parentFolder:y||null};b(Object(u.a)(n))},G=function(){I("")};return Object(o.useEffect)((function(){y&&y.is_archived&&"removed"!==x&&I("removed")}),[y,x,I]),c.a.createElement(h,{className:"container-fluid h-100 fadeIn ".concat(n)},c.a.createElement("div",{className:"row app-block"},"undefined"===typeof _||null===_?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(p.k,{actions:T,isMember:f,clearFilter:G,params:v,dropZoneRef:M.dropZone,className:"col-lg-3",filterFile:function(e){if(v.hasOwnProperty("fileFolderId")){var t=E.location.pathname.split("/folder/")[0];E.push(t)}I(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:x,wsFiles:_,folders:N,activeFolder:y,dictionary:H,disableOptions:F,workspace:d}),c.a.createElement("div",{className:"col-md-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(p.j,{isMember:f,clearFilter:G,dropZoneRef:M.dropZone,history:E,params:v,onSearch:U,onSearchChange:function(e){""===e.target.value&&W(),D(e.target.value)},onEnter:function(e){"Enter"===e.key&&U()},wsFiles:_,handleAddEditFolder:B,handleAddEditFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",n=arguments.length>2?arguments[2]:void 0;y&&(v.googleDriveFolderId=y.google_folder_id);var r={type:"files",folder:"create"===t?null:e,params:Object(a.a)(Object(a.a)({},v),{},{doc_type:n}),mode:t,topic_id:w.id,parentFolder:y||null};b(Object(u.a)(r))},folders:N,dictionary:H,disableOptions:F,onClickEmpty:W,value:P}),c.a.createElement(p.h,{dropZoneRef:M.dropZone,filter:x,search:P,folders:N,folder:y,fileIds:k,isMember:f,subFolders:A,history:E,actions:T,params:v,wsFiles:_,handleAddEditFolder:B,dictionary:H,disableOptions:F,sharedSlug:d&&d.sharedSlug,slug:d?d.slug:S})))))}))},910:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(6),i=n(0),o=n.n(i),c=n(49),s=n(5),l=n(182),d=n(10),u=n(882),m=n(14),p=n(12),f=n(13),h=n(4);function b(){var e=Object(r.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 1rem;\n  }\n"]);return b=function(){return e},e}function E(){var e=Object(r.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: flex-start;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n"]);return E=function(){return e},e}var g=s.b.div(E()),O=Object(s.b)(l.a)(b());t.default=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.isExternal,s=(e.isMember,e.workspace),l=Object(h.c)(),b=Object(d.qb)(),E=b.selectUserChannel,v=b.loggedUser,_=Object(h.d)((function(e){return e.workspaces.activeTopic})),T=Object(h.d)((function(e){return e.workspaces.sharedWorkspaces})),w=Object(h.d)((function(e){return e.session.user})),k=Object(c.g)();Object(d.s)();var N=Object(i.useState)(""),y=Object(a.a)(N,2),A=y[0],S=y[1],j={search:Object(i.useRef)()},C=function(e){k.push("/profile/".concat(e.id,"/").concat(Object(m.i)(e.name)))},x=function(e){return E(e)};Object(i.useEffect)((function(){j.search.current.focus()}),[]);var I=[];s&&(I=s.members);var R=I.filter((function(e){return""===A||-1!==e.name.toLowerCase().search(A.toLowerCase())||-1!==e.email.toLowerCase().search(A.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)})),L=Object(d.mb)()._t,P={searchPeoplePlaceholder:L("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:L("PEOPLE.EXTERNAL","External"),peopleInvited:L("PEOPLE.INVITED","Invited"),peopleManage:L("PEOPLE.MANAGE","Manage People"),roleAdvisor:L("ROLE.ADVISOR","Advisor"),roleApprover:L("ROLE.APPROVER","Approver"),roleClient:L("ROLE.CLIENT","Client"),roleCommunicationLead:L("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:L("ROLE.DESIGNER","Designer"),roleDeveloper:L("ROLE.DEVELOPER","Developer"),roleFreelancer:L("ROLE.FREELANCER","Freelancer"),roleSupervisor:L("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:L("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:L("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:L("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:L("ROLE.WATCHER","Watcher"),connectedWorkspaceIcon:L("TOOLTIP.CONNECTED_WORKSPACE","Connected workspace"),phoneIcon:L("TOOLTIP.PHONE","Call profile phone number"),messageIcon:L("TOOLTIP.MESSAGE_BUBBLE","Send a chat to this person")};Object(d.y)(j.search.current);var D=_?_.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],M=Object(d.z)().slug,F=!(!_||!_.sharedSlug),U=_&&_.sharedSlug&&_.slug&&M===_.slug.slice(0,-7)||_&&!_.sharedSlug,W=_&&_.slug&&_.sharedSlug&&T[_.slug]&&_.members.find((function(e){return e.is_creator})).id===w.id&&U,H=_&&!_.sharedSlug&&D.some((function(e){return e===w.id}))&&U,B=(W||H)&&!r;return o.a.createElement(g,{className:"workspace-people fadeIn container-fluid ".concat(n)},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"people-header"},o.a.createElement(O,{ref:j.search,value:A,closeButton:"true",onClickEmpty:function(){S("")},placeholder:P.searchPeoplePlaceholder,onChange:function(e){S(e.target.value)},autoFocus:!0}),B&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:_};l(Object(f.a)(e))}},o.a.createElement(p.u,{className:"mr-2",icon:"user-plus"})," ",P.peopleManage))),o.a.createElement("div",{className:"row"},R.map((function(e){return o.a.createElement(u.a,{key:e.id,loggedUser:v,user:e,onNameClick:C,onChatClick:x,dictionary:P,showWorkspaceRole:!0,sharedUser:s.sharedSlug,isSharedWorkspace:F})}))))))}))},911:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(49),l=n(5),d=n(12),u=n(10),m=n(84),p=n(58),f=n(16),h=n(24),b=n(4),E=n(14);function g(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return g=function(){return e},e}function O(){var e=Object(i.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]);return O=function(){return e},e}function v(){var e=Object(i.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]);return v=function(){return e},e}function _(){var e=Object(i.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]);return _=function(){return e},e}function T(){var e=Object(i.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]);return T=function(){return e},e}function w(){var e=Object(i.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]);return w=function(){return e},e}var k=l.b.div(w()),N=l.b.div(T()),y=l.b.div(_()),A=l.b.span(v()),S=Object(l.b)(d.u)(O()),j=l.b.div(g());t.default=function(e){var t=e.className,n=void 0===t?"":t,i=e.workspace,l=e.isMember||i&&i.sharedSlug,g=Object(s.i)(),O=Object(s.g)(),v=Object(u.hb)(),_=Object(b.c)();Object(u.s)();var T=Object(u.O)(),w=T.actions,C=T.posts,x=T.filter,I=T.tag,R=T.sort,L=T.post,P=T.user,D=T.search,M=T.postLists,F=T.counters,U=T.filters,W=T.postListTag,H=T.showLoader,B=T.showUnread,G=T.sharedWs,z=Object(u.M)(),V=z.loadMoreWorkspaceCategory,Y=z.count,K=Object(o.useState)(!1),q=Object(r.a)(K,2),J=q[0],Z=q[1],X=Object(o.useState)(!1),Q=Object(r.a)(X,2),$=Q[0],ee=Q[1],te=Object(o.useState)({}),ne=Object(r.a)(te,2),ae=ne[0],re=ne[1],ie=Object(o.useRef)(!0),oe=Object(o.useRef)(null),ce=Object(o.useRef)(null),se="external"===P.type,le=function(){if(g.hasOwnProperty("postId")){var e=O.location.pathname.split("/post/")[0];O.push(e)}};Object(o.useEffect)((function(){i&&(oe.current=i),G&&(ce.current=G)}),[i,G]),Object(o.useEffect)((function(){return function(){ie.current=null}}),[]),Object(o.useEffect)((function(){if(g.postId&&!L)if(O.location.pathname.startsWith("/shared-hub")){if(oe.current&&oe.current.sharedSlug&&ce.current){var e={post_id:g.postId,sharedPayload:{slug:oe.current.slug,token:ce.current[oe.current.slug].access_token,is_shared:!0}};w.fetchPostDetail(e,(function(e,t){if(ie.current&&e){var n={topic_id:i.id,filter:"inbox",tag:null,slug:t.slug,isSharedSlug:t.isSharedSlug};_(Object(h.lb)(n)),g.folderId?O.push("/shared-hub/posts/".concat(g.folderId,"/").concat(Object(E.i)(g.folderName),"/").concat(g.workspaceId,"/").concat(Object(E.i)(g.workspaceName))):O.push("/shared-hub/posts/".concat(g.workspaceId,"/").concat(Object(E.i)(g.workspaceName))),v.error(ue.errorLoadingPost)}}))}}else w.fetchPostDetail({post_id:parseInt(g.postId)},(function(e,t){if(ie.current&&e){var n={topic_id:i.id,filter:"inbox",tag:null,slug:t.slug,isSharedSlug:t.isSharedSlug};_(Object(h.lb)(n)),g.folderId?O.push("/hub/posts/".concat(g.folderId,"/").concat(Object(E.i)(g.folderName),"/").concat(g.workspaceId,"/").concat(Object(E.i)(g.workspaceName))):O.push("/hub/posts/".concat(g.workspaceId,"/").concat(Object(E.i)(g.workspaceName))),v.error(ue.errorLoadingPost)}}))}),[g.postId,L]);var de=Object(u.mb)()._t,ue={createNewPost:de("POST.CREATE_NEW_POST","Create new post"),all:de("POST.ALL","All"),inbox:de("POST.INBOX","Inbox"),newReply:de("POST.NEW_REPLY","New reply"),myPosts:de("POST.MY_POSTS","My sent posts"),starred:de("POST.STARRED","Starred"),archived:de("POST.ARCHIVED","Archived"),draft:de("POST.DRAFT","Draft"),drafts:de("POST.DRAFTS","Drafts"),category:de("POST.CATEGORY","Category"),replyRequired:de("POST.REPLY_REQUIRED","Reply required"),mustRead:de("POST.MUST_READ","Must read"),noReplies:de("POST.NO_REPLIES","No replies"),sortBy:de("POST.SORT_BY","Sort by"),starredFavorite:de("POST.STARRED_FAVORITE","Starred / Favorite"),recent:de("POST.RECENT","Recent"),unread:de("POST.UNREAD","Unread"),searchPost:de("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:de("POST.MARK_AS_READ","Mark as read"),markAsUnread:de("POST.MARK_AS_UNREAD","Mark as unread"),share:de("POST.SHARE","Share"),snooze:de("POST.SNOOZE","Snooze"),follow:de("POST.FOLLOW","Follow"),unFollow:de("POST.UNFOLLOW","Unfollow"),files:de("POST.FILES","Files"),comment:de("POST.COMMENT","Comment"),editPost:de("POST.EDIT_POST","Edit post"),editReply:de("POST.EDIT_REPLY","Edit reply"),removeReply:de("POST.REMOVE_REPLY","Remove reply"),quote:de("POST.QUOTE","Quote"),mentionUser:de("POST.MENTION_USER","Mention user"),remindMeAboutThis:de("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:de("POST.SEARCH_RESULT","Search Result:"),searchResults:de("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:de("POST.NO_SEARCH_RESULT","No result found:"),private:de("POST.PRIVATE","Private"),by:de("POST.BY","by"),star:de("POST.STAR","Mark with star"),unStar:de("POST.UNSTAR","Unmark star"),alreadyReadThis:de("POST.ALREADY_READ_THIS","I've read this"),me:de("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:de("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:de("SHOW_MORE","Show more"),showLess:de("SHOW_LESS","Show less"),markAll:de("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:de("POST.ARCHIVE_ALL","Archive all"),noComment:de("POST.NO_COMMENT","no comment"),oneComment:de("POST.ONE_COMMENT","1 comment"),comments:de("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:de("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:de("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:de("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:de("POST.ARCHIVE","Archive"),requestChange:de("POST.REQUEST_CHANGE","Request for change"),accept:de("POST.ACCEPT","Accept"),hasAcceptedProposal:de("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:de("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:de("POST.ACTION_NEEDED","Action needed"),changeRequested:de("POST.CHANGE_REQUESTED","Change requested"),accepted:de("POST.ACCEPTED","Accepted"),requestForApproval:de("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:de("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:de("POST.REPLIES_CLOSED","Replies closed"),openThisPost:de("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:de("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:de("POST.REOPEN","Reopen"),closed:de("POST.CLOSED","Closed"),createNewList:de("POST.CREATE_NEW_LIST","New List"),addToList:de("POST.ADD_TO_LIST","Add to list"),removeToList:de("POST.REMOVE_TO_LIST","Remove to list"),allOthers:de("POST.ALL_OTHERS","All others"),sharedClientBadge:de("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:de("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),selectAll:de("BUTTON.SELECT_ALL","Select all"),remove:de("BUTTON.REMOVE","Remove"),fileAutomaticallyRemoved:de("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:de("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),errorLoadingPost:de("TOASTER.ERROR_LOADING_POST","Error loading post"),teamLabel:de("TEAM","Team"),new:de("POST.NEW","New"),featureNotAvailable:de("LABEL.FEATURE_NOT_AVAILABLE","This feature is not available for your account."),contactAdministrator:de("LABEL.CONTACT_ADMIN","Contact your system administrator."),loadingPosts:de("LABEL.LOADING_POSTS","Loading posts"),repliedViaEmail:de("COMMENT.REPLIED_VIA_EMAIL","replied via email")};Object(o.useEffect)((function(){if("star"===x){var e={filters:["post","favourites"],topic_id:parseInt(g.workspaceId)};oe.current&&oe.current.sharedSlug&&ce.current&&(e=Object(a.a)(Object(a.a)({},e),{},{sharedPayload:{slug:oe.current.slug,token:ce.current[oe.current.slug].access_token,is_shared:!0}})),w.getPosts(e,(function(e,t){if(Z(!1),!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),_(Object(f.g)({slug:t.slug,isSharedSlug:t.isSharedSlug,topic_id:parseInt(g.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{favourites:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}}))}}))}else if("my_posts"===x){var t={filters:["post","created_by_me"],topic_id:parseInt(g.workspaceId)};oe.current&&oe.current.sharedSlug&&ce.current&&(t=Object(a.a)(Object(a.a)({},t),{},{sharedPayload:{slug:oe.current.slug,token:ce.current[oe.current.slug].access_token,is_shared:!0}})),w.getPosts(t,(function(e,t){if(Z(!1),!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),_(Object(f.g)({slug:t.slug,isSharedSlug:t.isSharedSlug,topic_id:parseInt(g.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{myPosts:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}}))}}))}else if("archived"===x){var n={filters:["post","archive"],topic_id:parseInt(g.workspaceId)};oe.current&&oe.current.sharedSlug&&ce.current&&(n=Object(a.a)(Object(a.a)({},n),{},{sharedPayload:{slug:oe.current.slug,token:ce.current[oe.current.slug].access_token,is_shared:!0}})),w.getPosts(n,(function(e,t){if(Z(!1),!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),_(Object(f.g)({slug:t.slug,isSharedSlug:t.isSharedSlug,topic_id:parseInt(g.workspaceId),posts:t.data.posts,filter:t.data.posts,files:n,filters:{archived:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}}))}}))}}),[x]);var me=Object(o.useMemo)((function(){var e=Object(p.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&ee(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(o.useEffect)((function(){$&&function(){if(""===D&&!L){Z(!0);var e=null;oe.current&&oe.current.sharedSlug&&ce.current&&(e={slug:oe.current.slug,token:ce.current[oe.current.slug].access_token,is_shared:!0}),V((function(){ie.current&&(Z(!1),ee(!1))}));var t={filters:"inbox"===x&&B?["green_dot"]:"archive"===x?["post","archived"]:"star"===x?["post","favourites"]:"my_posts"===x?["post","created_by_me"]:[],topic_id:i.id,skip:"inbox"===x&&B?null===U||void 0===U?void 0:U.unreadPosts.skip:"archive"===x?null===U||void 0===U?void 0:U.archived.skip:"star"===x?null===U||void 0===U?void 0:U.favourites.skip:"my_posts"===x?null===U||void 0===U?void 0:U.myPosts.skip:U.all.skip};if(oe.current&&oe.current.sharedSlug&&ce.current&&(t=Object(a.a)(Object(a.a)({},t),{},{sharedPayload:e})),"all"===x){if(U.all&&!U.all.hasMore)return void(ie.current&&(Z(!1),ee(!1)))}else if("inbox"===x){if(B&&U.unreadPosts&&!U.unreadPosts.hasMore)return void(ie.current&&(Z(!1),ee(!1)));if(!B&&U.all&&!U.all.hasMore)return void(ie.current&&(Z(!1),ee(!1)))}else if("archive"===x){if(U.archived&&!U.archived.hasMore)return void(ie.current&&(Z(!1),ee(!1)))}else if("star"===x){if(U.favourites&&!U.favourites.hasMore)return void(ie.current&&(Z(!1),ee(!1)))}else if("my_posts"===x&&U.myPosts&&!U.myPosts.hasMore)return void(ie.current&&(Z(!1),ee(!1)));Z(!0);w.getPosts(t,(function(e,t){if(ie.current&&(Z(!1),ee(!1)),!e){var n=t.data.posts.map((function(e){return e.files}));n.length&&(n=n.flat()),_(Object(f.g)({slug:t.slug,isSharedSlug:t.isSharedSlug,topic_id:i.id,posts:t.data.posts,files:n,filters:Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},"all"===x&&{all:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}),"inbox"===x&&B&&{unreadPosts:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}),"inbox"===x&&!B&&{all:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}),"archive"===x&&{archived:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}),"star"===x&&{favourites:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}}),"myPosts"===x&&{myPosts:{active:!0,skip:t.data.next_skip,hasMore:15===t.data.total_take}})}))}}))}}()}),[$]),Object(o.useEffect)((function(){if(W){var e=Object(p.find)(M,(function(e){return parseInt(e.id)===parseInt(W)}));if(M.map((function(t){e&&parseInt(W)===t.id&&re(t)})),!e){re(M[0]);var t={topic_id:i.id,tag:null,postListTag:M[0].id,filter:null,slug:i.slug,isSharedSlug:i.sharedSlug};_(Object(h.lb)(t))}}}),[W,M]);var pe=!1;return i&&0===i.active&&(pe=!0),c.a.createElement(k,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:me},c.a.createElement("div",{className:"row app-block"},c.a.createElement(m.o,{disableOptions:pe,isMember:l,workspace:i,filter:x,filters:U,tag:I,postListTag:W,postActions:w,count:Y,postLists:M,counters:F,onGoBack:le,dictionary:ue}),c.a.createElement("div",{className:"col-md-9 app-content"},c.a.createElement("div",{className:"app-content-overlay"}),!L&&c.a.createElement(m.i,{activeSort:R,workspace:i,search:D,dictionary:ue,className:"mb-3"}),!!W&&c.a.createElement(y,null,c.a.createElement("span",null,"Filter:"),c.a.createElement(A,{className:"ml-2 recipients"},c.a.createElement("span",{className:"receiver"},c.a.createElement("span",{onClick:function(){var e={topic_id:i.id,tag:null,postListTag:null,filter:"all",slug:i.slug,isSharedSlug:i.sharedSlug};_(Object(h.lb)(e))}},c.a.createElement(S,{icon:"x",className:"mr-1"})),ae.name))),H&&!L?c.a.createElement(j,{className:"card initial-load"},c.a.createElement(d.k,null)):c.a.createElement(c.a.Fragment,null,null!==L?c.a.createElement("div",{className:"card card-body app-content-body mb-4"},c.a.createElement(N,{className:"fadeBottom"},c.a.createElement(m.f,{post:L,posts:C,filter:x,postActions:w,user:P,history:O,onGoBack:le,dictionary:ue,workspace:i,isMember:l,disableOptions:pe,isExternalUser:se}))):!L&&g.hasOwnProperty("postId")?c.a.createElement(j,{className:"card initial-load"},c.a.createElement(d.k,null)):c.a.createElement(m.r,{actions:w,dictionary:ue,filter:x,isExternalUser:se,loading:J,posts:C,search:D,workspace:i})),J&&c.a.createElement(d.l,{text:ue.loadingPosts}),c.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},912:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),i=n.n(r);function o(){var e=Object(a.a)([""]);return o=function(){return e},e}var c=n(5).b.div(o());t.default=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return i.a.createElement(c,{className:"container-fluid h-100 ".concat(n)},i.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}))},913:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(5),l=n(10),d=n(930),u=n(58);function m(){var e=Object(i.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n  }\n"]);return m=function(){return e},e}var p=s.b.div(m(),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));t.default=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=Object(l.Gb)(),s=i.getWorkspaceReminders,m=i.action,f=i.isLoaded,h=i.count,b=i.workspaceName,E=i.workspace,g=Object(l.mb)()._t,O=Object(o.useState)(""),v=Object(r.a)(O,2),_=v[0],T=v[1],w=Object(o.useState)(""),k=Object(r.a)(w,2),N=k[0],y=k[1],A=Object(o.useState)(!1),S=Object(r.a)(A,2),j=S[0],C=S[1],x=[g("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),g("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),g("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],I=[g("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),g("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),g("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==N&&(x=[g("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],I=[g("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===N&&"OVERDUE"===_&&(x=[].concat(Object(a.a)(x),[g("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),I=[].concat(Object(a.a)(I),[g("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var R=Object(o.useState)(Math.floor(Math.random()*x.length)),L=Object(r.a)(R,2),P=L[0],D=L[1],M={searchInputPlaceholder:g("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:g("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:g("REMINDER.TYPE_POST","Post"),typeChat:g("REMINDER.TYPE_CHAT","Chat"),typePostComment:g("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:g("REMINDER.STATUS_TODAY","Today"),statusAll:g("REMINDER.STATUS_ALL","ALL"),statusExpired:g("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:g("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:g("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:g("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:g("REMINDER.STATUS_DONE","Done"),emptyText:g("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:g("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:x[P],noItemsFoundText:I[P],actionReschedule:g("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:g("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:g("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:g("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:g("REMINDER.ACTION_REMOVE","Remove"),actionFilter:g("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:g("REMINDER.AUTHOR","Author"),reminderAssignedTo:g("REMINDER.ASSIGNED_TO","Assigned to"),todo:g("REMINDER.TO_DO","To do"),done:g("REMINDER.DONE","Done"),addDate:g("REMINDER.ADD_DATE","Add date"),addedByMe:g("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:g("REMINDER.ADDED_BY_OTHERS","Added by others"),sortAlpha:g("TODO_SORT_OPTIONS.ALPHA","Sort by alphabetical order"),sortDate:g("TODO_SORT_OPTIONS.DATE","Sort by due date")},F=Object(o.useMemo)((function(){var e=Object(u.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&C(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(o.useEffect)((function(){j&&m.loadMore()}),[j]),Object(o.useEffect)((function(){D(Math.floor(Math.random()*x.length))}),[_]);var U=s({filter:{status:_,search:N}});return c.a.createElement(p,{className:"container-fluid h-100 fadeIn ".concat(n),hasReminders:U.length>0,onScroll:F},c.a.createElement("div",{className:"row app-block"},c.a.createElement(d.d,{className:"col-lg-3",dictionary:M,todoActions:m,setFilter:function(e){T(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:_,count:h}),c.a.createElement("div",{className:"col-lg-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(d.b,{dictionary:M,onSearchChange:function(e){y(e.target.value),""===e.target.value.trim()?D(Math.floor(Math.random()*x.length)):D(0)},clearSearch:function(){y("")},searchValue:N}),c.a.createElement(d.a,{complete:!1,isLoaded:f,todoItems:U.filter((function(e){return"DONE"!==e.status})),dictionary:M,todoActions:m,filter:_,doneTodoItems:U.filter((function(e){return"DONE"===e.status})),workspaceName:b,workspace:E}))))}))},914:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(5),l=n(10),d=n(930),u=n(58);function m(){var e=Object(i.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"]);return m=function(){return e},e}var p=s.b.div(m(),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));t.default=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=Object(l.jb)(!0),s=i.getReminders,m=i.action,f=i.isLoaded,h=i.count,b=Object(l.mb)()._t,E=Object(o.useState)(""),g=Object(r.a)(E,2),O=g[0],v=g[1],_=Object(o.useState)(""),T=Object(r.a)(_,2),w=T[0],k=T[1],N=Object(o.useState)(!1),y=Object(r.a)(N,2),A=y[0],S=y[1],j=[b("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),b("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),b("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],C=[b("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),b("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),b("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==w&&(j=[b("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],C=[b("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===w&&"OVERDUE"===O&&(j=[].concat(Object(a.a)(j),[b("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),C=[].concat(Object(a.a)(C),[b("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var x=Object(o.useState)(Math.floor(Math.random()*j.length)),I=Object(r.a)(x,2),R=I[0],L=I[1],P={searchInputPlaceholder:b("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:b("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:b("REMINDER.TYPE_POST","Post"),typeChat:b("REMINDER.TYPE_CHAT","Chat"),typePostComment:b("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:b("REMINDER.STATUS_TODAY","Today"),statusAll:b("REMINDER.STATUS_ALL","ALL"),statusExpired:b("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:b("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:b("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:b("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:b("REMINDER.STATUS_DONE","Done"),emptyText:b("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:b("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:j[R],noItemsFoundText:C[R],actionReschedule:b("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:b("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:b("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:b("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:b("REMINDER.ACTION_REMOVE","Remove"),actionFilter:b("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:b("REMINDER.AUTHOR","Author"),reminderAssignedTo:b("REMINDER.ASSIGNED_TO","Assigned to"),todo:b("REMINDER.TO_DO","To do"),done:b("REMINDER.DONE","Done"),addDate:b("REMINDER.ADD_DATE","Add date"),addedByMe:b("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:b("REMINDER.ADDED_BY_OTHERS","Added by others"),sortAlpha:b("TODO_SORT_OPTIONS.ALPHA","Sort by alphabetical order"),sortDate:b("TODO_SORT_OPTIONS.DATE","Sort by due date")},D=Object(o.useMemo)((function(){var e=Object(u.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&S(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(o.useEffect)((function(){A&&m.loadMore()}),[A]),Object(o.useEffect)((function(){L(Math.floor(Math.random()*j.length))}),[O]);var M=s({filter:{status:O,search:w}});return c.a.createElement(p,{className:"container-fluid h-100 fadeIn ".concat(n),onScroll:D},c.a.createElement("div",{className:"row app-block"},c.a.createElement(d.d,{className:"col-lg-3",dictionary:P,todoActions:m,setFilter:function(e){v(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:O,count:h}),c.a.createElement("div",{className:"col-lg-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(d.b,{dictionary:P,onSearchChange:function(e){k(e.target.value),""===e.target.value.trim()?L(Math.floor(Math.random()*j.length)):L(0)},clearSearch:function(){k("")},searchValue:w}),c.a.createElement(d.a,{complete:!1,isLoaded:f,todoItems:M.filter((function(e){return"DONE"!==e.status})),dictionary:P,todoActions:m,filter:O,doneTodoItems:M.filter((function(e){return"DONE"===e.status}))}))))}))},926:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return ce})),n.d(t,"d",(function(){return Be})),n.d(t,"g",(function(){return At})),n.d(t,"h",(function(){return Pt})),n.d(t,"f",(function(){return Qt})),n.d(t,"e",(function(){return on})),n.d(t,"i",(function(){return un})),n.d(t,"c",(function(){return pn}));var a=n(1),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(4),l=n(5),d=n(13),u=n(66),m=n(10),p=n(288),f=n(897),h=n(21);function b(){var e=Object(i.a)(["\n  flex: 1;\n"]);return b=function(){return e},e}function E(){var e=Object(i.a)(["\n  width: 100%;\n  z-index: 2;\n  position: relative;\n  @media (max-width: 992px) {\n    z-index: 1;\n  } ;\n"]);return E=function(){return e},e}var g=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(21)]).then(n.bind(null,1001))})),O=Object(o.lazy)((function(){return Promise.all([n.e(15),n.e(2),n.e(22)]).then(n.bind(null,1003))})),v=l.b.div(E()),_=l.b.div(b()),T=function(e){var t=e.className,i=void 0===t?"":t,l=e.isWorkspace,b=void 0!==l&&l,E=Object(f.a)({timeout:6e4}).isIdle,T=Object(s.c)(),w=Object(p.a)(),k=Object(m.gb)(),N=Object(s.d)((function(e){return e.session.user})),y=Object(s.d)((function(e){return e.settings.user.CHAT_SETTINGS})),A=y.virtualization,S=y.translate,j=Object(s.d)((function(e){return e.settings.user.GENERAL_SETTINGS})),C=j.chat_language,x=j.translated_channels,I=j.language,R=Object(s.d)((function(e){return e.chat.selectedChannel})),L=Object(s.d)((function(e){return e.workspaces.isOnClientChat})),P=Object(s.d)((function(e){return e.chat.jitsi})),D=Object(o.useState)(!1),M=Object(r.a)(D,2),F=M[0],U=M[1],W=Object(m.l)(),H={dropZoneRef:Object(o.useRef)()},B=Object(o.useState)(!1),G=Object(r.a)(B,2),z=G[0],V=G[1],Y=Object(o.useState)(R?R.id:0),K=Object(r.a)(Y,2),q=K[0],J=K[1],Z=function(){U(!1)},X=function(e){var t=[];e.forEach((function(e){var r=new FormData;r.append("file",e);var i=n(59).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push(Object(a.a)(Object(a.a)({},e),{},{type:"IMAGE",id:i,status:!1,src:URL.createObjectURL(e),bodyFormData:r,name:e.name?e.name:e.path})):"video/mp4"===e.type?t.push(Object(a.a)(Object(a.a)({},e),{},{type:"VIDEO",id:i,status:!1,src:URL.createObjectURL(e),bodyFormData:r,name:e.name?e.name:e.path})):t.push(Object(a.a)(Object(a.a)({},e),{},{type:"DOC",id:i,status:!1,src:"#",bodyFormData:r,name:e.name?e.name:e.path}))})),Z();var r={type:"file_upload",droppedFiles:t,mode:"chat",members:R?R.members:[],team_channel:R.team&&"TOPIC"===R.type?R.id:null,sharedSlug:R&&R.slug?R.slug:null};T(Object(d.a)(r))},Q=Object(m.mb)()._t,$={remindMeAboutThis:Q("TODO.REMIND_ABOUT_THIS","Remind about this"),quote:Q("CHAT.QUOTE","Quote"),copyMessageLink:Q("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:Q("CHAT.FORWARD","Forward"),edit:Q("CHAT.EDIT","Edit"),remove:Q("CHAT.REMOVE","Remove"),removeChat:Q("MODAL.REMOVE_CHAT","Remove chat"),cancel:Q("MODAL.CANCEL","Cancel"),removeThisChat:Q("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:Q("SYSTEM.UPDATE","Update"),accountActivated:Q("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:Q("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:Q("SYSTEM.REMOVED","removed"),andRemoved:Q("SYSTEM.AND_REMOVED","and removed"),you:Q("SYSTEM.YOU","You"),youAnd:Q("SYSTEM.YOU_AND","You and"),joined:Q("SYSTEM.JOINED","joined"),andJoined:Q("SYSTEM.AND_JOINED","and joined"),left:Q("SYSTEM.LEFT","left"),andLeft:Q("SYSTEM.AND_LEFT","and left"),createdThePost:Q("SYSTEM.CREATED_THE_POST","created the post"),openPost:Q("SYSTEM.OPEN_POST","Open post"),someone:Q("SYSTEM.SOMEONE","Someone"),added:Q("SYSTEM.ADDED","added"),andAdded:Q("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:Q("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:Q("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:Q("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:Q("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:Q("CHAT.WORKSPACE","Workspace"),hasLeftChat:Q("SYSTEM.HAS_LEFT_CHAT","has left the chat"),hasLeftWorkspace:Q("SYSTEM.HAS_LEFT_WORKSPACE","has left the workspace"),andHasLeftChat:Q("SYSTEM.AND_HAS_LEFT_CHAT","and has left the chat"),andHasLeftWorkspace:Q("SYSTEM.AND_HAS_LEFT_WORKSPACE","and has left the workspace"),youLeftChat:Q("SYSTEM.YOU_LEFT_CHAT","You left the chat"),youLeftWorkspace:Q("SYSTEM.YOU_LEFT_WORKSPACE","You left the workspace"),leftTheWorkspace:Q("SYSTEM.LEFT_THE_WORKSPACE","left the workspace"),leftTheChat:Q("SYSTEM.LEFT_THE_CHAT","left the chat"),markImportant:Q("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Q("CHAT.UNMARK_IMPORTANT","Unmark as important"),teamFeedback:Q("HUDDLE.HUDDLE_TEAM_FEEDBACK","Huddle team feedback"),replyInPrivate:Q("CHAT.REPLY_IN_PRIVATE","Reply in private"),removeOnDownload:Q("CHAT.REMOVE_ON_DOWNLOAD","Remove on download"),withClient:Q("PAGE.WITH_CLIENT","With client"),sharedClient:Q("PAGE.SHARED_CLIENT","Shared"),teamChat:Q("PAGE.TEAM_CHAT","Team Chat"),clientChat:Q("PAGE.CLIENT_CHAT","Client Chat"),mute:Q("CHAT.MUTE","Mute"),unmute:Q("CHAT.UNMUTE","Unmute"),hide:Q("CHAT.HIDE","Hide"),unhide:Q("CHAT.UNHIDE","Unhide"),favorite:Q("FAVORITE","Favorite"),unfavorite:Q("UNFAVORITE","Unfavorite"),markAsUnread:Q("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:Q("POST.MARK_AS_READ","Mark as read"),unarchive:Q("CHAT.UNARCHIVE","Un-archive"),archive:Q("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:Q("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:Q("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),headerArchive:Q("HEADER.ARCHIVE","Chat archive"),headerUnarchive:Q("HEADER.UNARCHIVE","Un-archive channel"),clickHereToJoin:Q("CHAT.CLICK_HERE_TO_JOIN","Click here to join"),fileAutomaticallyRemoved:Q("FILE.AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),connectPreview:Q("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:Q("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account"),editHuddle:Q("CHAT.EDIT_HUDDLE","Edit huddle"),discussOnTeamChat:Q("CHAT.DISCUSS_ON_TEAM_CHAT","Discuss on team chat"),team:Q("TEAM","Team"),errorSendingChat:Q("CHAT.ERROR_SENDING","Error sending chat"),resend:Q("CHAT.FAIL_OPTIONS_RESEND","Resend"),delete:Q("CHAT.FAIL_OPTIONS_DELETE","Delete"),messageFailed:Q("CHAT.FAILED","Message failed"),downloadAll:Q("CHAT.DOWNLOAD_ALL","Download all"),notificationsOn:Q("TOOLTIP.NOTIFICATIONS_ON","Notifications on"),notificationsOff:Q("TOOLTIP.NOTIFICATIONS_OFF","Notifications off"),toasterBellNotificationOff:Q("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:Q("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON"),googleMeet:Q("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:Q("YES","Yes"),no:Q("NO","No"),googleMeetConfirmation:Q("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?"),personalNotes:Q("CHANNEL.PERSONAL_NOTES","Personal Notes"),repliedViaEmail:Q("CHAT.REPLIED_VIA_EMAIL","Replied via email"),personalNoteHeaderText:Q("PERSONAL_NOTE_HEADER_TEXT","This space is just for you"),personalNoteDescription:Q("PERSONAL_NOTE_HEADER_DESCRIPTION","Message yourself? Why not! Think of this as a scratchpad - a place for jotting down a note or drawing up a to-do list."),welcomNote1:Q("DRIFF.WELCOME_NOTE_1","The time saving collaboration platform for agencies "),welcomNote2:Q("DRIFF.WELCOME_NOTE_2","Talk less, do more and get things done"),setUpTrial:Q("DRIFF.SET_UP_TRIAL","Set up your own Driff and get a free trial period of 30 days."),noCreditCard:Q("DRIFF.NO_CREDIT_CARD","No credit card needed"),submitText:Q("INVITE.SUBMIT_TEXT","Submit"),cancelText:Q("INVITE.CANCEL_TEXT","Cancel"),generatingDriff:Q("GENERATING_DRIFF","We are generating your Driff."),generateDriffMessage:Q("GENERATE_DRIFF_MESSAGE","You may continue working your other tasks but please don\u2019t close this tab. We will send you an email once we have your Driff ready.")},ee=function(){V(!z)};return Object(o.useEffect)((function(){null!==R&&J(R.id),null!==R&&q!==R.id&&q>0&&V(!1)}),[q,R]),Object(o.useEffect)((function(){if(R&&Object(h.a)("meeting")&&!P){T(Object(d.a)({type:"jitsi_schedule_meeting"}))}}),[R,P]),c.a.createElement(v,{className:"chat-content ".concat(i),onDragOver:function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return void U(!0)}},c.a.createElement(u.a,{hide:!F,ref:H.dropZoneRef,onDragLeave:Z,onDrop:function(e){var t=e.acceptedFiles;X(t)},onCancel:Z}),!b&&c.a.createElement(Be,{dictionary:$,channel:R,handleSearchChatPanel:ee}),null!==R?A&&["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(N.email)?c.a.createElement(o.Suspense,{fallback:c.a.createElement(_,null)},c.a.createElement(O,{dictionary:$})):c.a.createElement(o.Suspense,{fallback:c.a.createElement(_,null)},c.a.createElement(g,{chatMessageActions:w,timeFormat:k,dictionary:$,unreadCount:W,teamChannelId:L,isIdle:E,translate:S,language:I,translated_channels:x,chat_language:C})):c.a.createElement(_,null),c.a.createElement(ce,{onShowFileDialog:function(){H.dropZoneRef.current&&H.dropZoneRef.current.open()},dropAction:X}),null!==R&&z&&c.a.createElement(Qt,{chatMessageActions:w,showSearchPanel:z,setShowSearchPanel:V,handleSearchChatPanel:ee,selectedChannel:R,user:N}))},w=n(49),k=n(62),N=n.n(k),y=n(18),A=n(24),S=n(12),j=n(296);function C(){var e=Object(i.a)([""]);return C=function(){return e},e}function x(){var e=Object(i.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return x=function(){return e},e}var I=l.b.div(x()),R=Object(l.b)(S.u)(C()),L=function(e){var t=Object(m.Z)(),n=Object(r.a)(t,2),a=n[0],i=n[1],o=Object(s.c)();return a?c.a.createElement(I,null,c.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:a.user?a.user.name:""}}),c.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:a.body?i:""}}),c.a.createElement("span",{className:"quote-clear-container",onClick:function(){o(Object(y.q)(a))}},c.a.createElement(R,{icon:"x"}))):null};function P(){var e=Object(i.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: ",";\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]);return P=function(){return e},e}function D(){var e=Object(i.a)(["\n  margin-left: 10px !important;\n"]);return D=function(){return e},e}function M(){var e=Object(i.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar-typing {\n    height: 26px !important;\n    width: 26px !important;\n  }\n"]);return M=function(){return e},e}var F=l.b.div(M(),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),U=l.b.div(D()),W=l.b.div(P(),(function(e){return e.theme.colors.primary})),H=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(m.nb)(),i=Object(r.a)(a,1)[0];return c.a.createElement(F,{users:i.length,className:"component-chat-indicator ".concat(n)},i.length>2?c.a.createElement(W,null,"".concat(i.length-2,"+")):null,i.map((function(e,t){return t<=1?c.a.createElement(S.a,{key:t,className:"xs avatar-typing",imageLink:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),c.a.createElement(U,{className:"typing-indicator"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null)))}));function B(){var e=Object(i.a)(["\n  width: 14px;\n  height: 14px;\n  margin-left: 5px;\n"]);return B=function(){return e},e}function G(){var e=Object(i.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]);return G=function(){return e},e}var z=l.b.div(G()),V=Object(l.b)(S.u)(B()),Y=function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,r=Object(m.mb)()._t,i=Object(s.d)((function(e){return e.workspaces.workspaces})),o=Object(s.d)((function(e){return e.session.user})),l={lockedLabel:r("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),teamChat:r("CHAT.INFO_TEAM_CHAT","You are in the team chat"),clientChat:r("CHAT.INFO_CLIENT_CHAT","Client can read this chat")};return c.a.createElement(c.a.Fragment,null,a&&!a.is_archived&&i.hasOwnProperty(a.entity_id)&&1===i[a.entity_id].active&&c.a.createElement(c.a.Fragment,null,i[a.entity_id].is_shared&&i[a.entity_id].channel.id===a.id&&"internal"===o.type&&c.a.createElement(z,{className:"locked-label ".concat(n)},c.a.createElement("span",null,l.clientChat,c.a.createElement(V,{icon:"eye"}))),i[a.entity_id].is_shared&&i[a.entity_id].team_channel.id===a.id&&"internal"===o.type&&c.a.createElement(z,{className:"locked-label ".concat(n)},c.a.createElement("span",null,l.teamChat," ",c.a.createElement(V,{icon:"eye-off"})))))},K=n(31);function q(){var e=Object(i.a)(["\n  right: 100px;\n  bottom: 80px;\n\n  @media (max-width: 414px) {\n    right: -10px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]);return q=function(){return e},e}function J(){var e=Object(i.a)(["\n  .feather-send {\n    ","\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: ",";\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"]);return J=function(){return e},e}function Z(){var e=Object(i.a)(["\n  width: 20px;\n"]);return Z=function(){return e},e}function X(){var e=Object(i.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  flex-flow: column;\n  .feather-paperclip,\n  .feather-meet,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    &.active {\n      color: ",";\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    //color: #cacaca;\n    &.active {\n      color: ",";\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return X=function(){return e},e}function Q(){var e=Object(i.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]);return Q=function(){return e},e}function $(){var e=Object(i.a)(["\n  position: relative;\n  z-index: 3;\n  padding-top: 0 !important;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]);return $=function(){return e},e}var ee=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,390))})),te=l.b.div($()),ne=l.b.div(Q()),ae=l.b.div(X(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),re=Object(l.b)(S.u)(Z()),ie=l.b.div(J(),(function(e){return e.activeSend&&"background: ".concat(e.theme.colors.primary," !important;")}),(function(e){return e.activeSend?"#fff":"#cacaca"}),(function(e){return e.activeSend?"cursor":"default"}),(function(e){return e.theme.colors.primary})),oe=Object(l.b)(ee)(q()),ce=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.onShowFileDialog,l=e.dropAction,u=Object(w.i)(),p=Object(m.gb)().localizeChatDate,f=Object(s.c)(),h=Object(m.hb)(),b={picker:Object(o.useRef)()},E=Object(o.useState)(!1),g=Object(r.a)(E,2),O=g[0],v=g[1],_=Object(o.useState)(!1),T=Object(r.a)(_,2),k=T[0],C=T[1],x=Object(o.useState)(!1),I=Object(r.a)(x,2),R=I[0],P=I[1],D=Object(o.useState)(!1),M=Object(r.a)(D,2),F=M[0],U=M[1],W=Object(o.useState)(null),B=Object(r.a)(W,2),G=B[0],z=B[1],V=Object(o.useState)(null),K=Object(r.a)(V,2),q=K[0],J=K[1],Z=Object(s.d)((function(e){return e.chat.selectedChannel})),X=Object(s.d)((function(e){return e.chat.editChatMessage})),Q=Object(s.d)((function(e){return e.users.onlineUsers})),$=Object(s.d)((function(e){return e.session.user})),ee=Object(s.d)((function(e){return e.chat.jitsi})),ce=Object(m.Z)(),se=Object(r.a)(ce,1)[0],le=function(e){f(Object(y.kb)(!0))},de=function(){U(!F)},ue=Object(o.useCallback)((function(){z(null)}),[]),me=Object(o.useCallback)((function(e){P(e)}),[]),pe=Object(o.useCallback)((function(){J(null)}),[]),fe=Object(m.mb)()._t,he={unarchiveThisWorkspace:fe("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:fe("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:fe("BUTTON.CANCEL","Cancel"),unarchiveBodyText:fe("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),chatUnarchiveConfirmation:fe("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),headerUnarchive:fe("HEADER.UNARCHIVE","Un-archive channel"),youAreViewing:fe("CHAT.LABEL","You are viewing"),joinWorkspaceChat:fe("CHAT.JOIN_WORKSPACE_CHAT","Join workspace chat"),googleMeet:fe("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:fe("YES","Yes"),no:fe("NO","No"),googleMeetConfirmation:fe("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?"),send:fe("TOOLTIP.SEND","Send"),attachFiles:fe("TOOLTIP.ATTACH_FILES","Attach files"),closeEdit:fe("TOOLTIP.CLOSE_EDIT","Close edit"),errorSendingChat:fe("CHAT.ERROR_SENDING","Error sending chat"),zoomMeeting:fe("CONFIRMATION.ZOOM_MEETING","Zoom meeting"),zoomMeetingConfirmation:fe("CONFIRMATION.ZOOM_MEETING_BODY","This channel contains ::number:: members and ::online:: are online. Do you want to start this meeting?",{number:Z?Z.members.length:"",online:Z?Z.members.filter((function(e){return $.id!==e.id&&Q.some((function(t){return t.user_id===e.id}))})).length+1:1}),toasterGeneraError:fe("TOASTER.GENERAL_ERROR","An error has occurred try again!"),meetingInProgress:fe("TOASTER.MEETING_IN_PROGRESS","Meeting for this channel is still in progress. When that's ended you can start a new meeting."),jitsiMeet:fe("CONFIRMATION.JITSI_MEET","Driff talk"),jitsiMeetConfirmation:fe("CONFIRMATION.JITSI_MEET_BODY","Are you sure you want to start a meeting in this channel?")},be=function(){var e={id:Z.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};f(Object(y.wb)(e)),h.success(c.a.createElement("span",null,c.a.createElement("b",null,"TOPIC"===Z.type?"".concat(Z.title," workspace is un-archived."):"".concat(Z.title," channel is un-archived."))))},Ee=Object(o.useCallback)((function(){U(!1)}),[]),ge=Object(m.E)(Z&&Z.members&&Z.members.length?Z.members.map((function(e){return e.id})):[]),Oe=Z&&Z.hasOwnProperty("slug"),ve=ge||Oe,_e=Object(m.Ib)(),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t={channel_id:Z.id};f(Object(y.w)(t,(function(t,n){if(!t&&n.data){var r={meetingNumber:n.data.zoom_data.data.id,role:1},i={password:n.data.zoom_data.data.password,meetingNumber:n.data.zoom_data.data.id,role:1};f(Object(y.B)(Object(a.a)(Object(a.a)({},r),{},{channel_id:Z.id,system_message:"ZOOM_MEETING::".concat(JSON.stringify({author:{id:$.id,name:$.name,first_name:$.first_name,partial_name:$.partial_name,profile_image_link:$.profile_image_thumbnail_link?$.profile_image_thumbnail_link:$.profile_image_link},password:n.data.zoom_data.data.password,meetingNumber:n.data.zoom_data.data.id,channel_id:Z.id}))}),(function(t,n){e&&e(),t||n&&_e.startMeeting(n.data.signature,i)})))}})))};return c.a.createElement(te,{className:"chat-footer ".concat(n)},Z&&c.a.createElement(H,null),c.a.createElement(Y,{channel:Z}),ve&&c.a.createElement(ie,{className:"d-flex align-items-end chat-input-cointainer-footer",activeSend:R},Z&&Z.is_archived?c.a.createElement(ne,null,c.a.createElement(re,{icon:"archive"}),c.a.createElement("h4",null,"TOPIC"===Z.type?"This is an archived workspace":"This is an archived channel"),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:he.cancel,headerText:"TOPIC"===Z.type?he.unarchiveWorkspace:he.headerUnarchive,submitText:"TOPIC"===Z.type?he.unarchiveWorkspace:he.headerUnarchive,bodyText:"TOPIC"===Z.type?he.unarchiveBodyText:he.chatUnarchiveConfirmation,actions:{onSubmit:be}};f(Object(d.a)(e))}},"TOPIC"===Z.type?"Un-archive workspace":"Un-archive channel")):c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,{className:"flex-grow-1 chat-input-footer"},Z&&!Z.is_archived&&se&&c.a.createElement(ie,{className:"d-flex pr-2 pl-2"},c.a.createElement(L,null)),c.a.createElement(ie,{className:"d-flex flex-grow-1"},c.a.createElement(j.a,{onActive:me,selectedGif:q,onSendCallback:Ee,onClearGif:pe,selectedEmoji:G,onClearEmoji:ue,dropAction:l,dictionary:he,showEmojiPicker:F,jitsiActive:k,fileDialogActive:O}),c.a.createElement(on,{channel:Z,showEmojiPicker:F,handleShowEmojiPicker:de,handleZoomMeet:function(){var e=document.getElementById("meetingSDKElement").firstChild;if(e&&e.classList.contains("react-draggable")){f(Object(d.a)({type:"zoom_inprogress"}))}else{var t={type:"zoom_confirmation",actions:{onSubmit:Te}};f(Object(d.a)(t))}},onShowFileDialog:function(){i(),v(!O)},editChatMessage:X,quote:se,dictionary:he,onStartGoogleMeet:function(){var e={type:"confirmation",cancelText:he.no,headerText:he.googleMeet,submitText:he.yes,bodyText:he.googleMeetConfirmation,actions:{onSubmit:function(){var e={channel_id:Z.id};f(Object(y.t)(e,(function(e,t){e||window.open(t.data.google_meet_data.hangoutLink,"_blank")})))}}};f(Object(d.a)(e))},onStartJitsi:function(){if(C(!k),!ee){var e={type:"jitsi_confirmation",params:u};f(Object(d.a)(e))}},activeSend:R}))),c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:he.send},c.a.createElement(S.u,{onKeyDown:le,onClick:le,icon:"send"}))),!0===F&&c.a.createElement(o.Suspense,{fallback:c.a.createElement(c.a.Fragment,null)},c.a.createElement(oe,{handleSend:le,handleShowEmojiPicker:de,onSelectEmoji:function(e){z(e)},onSelectGif:function(e){J(e),de()},orientation:"top",ref:b.picker}))),ve&&X&&c.a.createElement(ie,{className:"d-flex align-items-end"},c.a.createElement("div",{className:"p-5"},X.files.map((function(e){return e.filename})).join(", "))),!1===ve&&null!==Z&&"internal"===$.type&&c.a.createElement(ie,{className:"channel-viewing"},c.a.createElement("div",{className:"channel-name"},he.youAreViewing," #",Z.title),c.a.createElement("div",{className:"channel-create"},"Created by ",Z.creator&&Z.creator.name," on ",p(Z.created_at&&Z.created_at.timestamp)),c.a.createElement("div",{className:"channel-action"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){f(Object(A.U)({channel_id:Z.id,recipient_ids:[$.id]},(function(e,t){e||h.success(c.a.createElement(c.a.Fragment,null,"You have joined ",c.a.createElement("b",null,"#",Z.title)))})))}},he.joinWorkspaceChat))))})),se=n(11),le=n(120),de=n(289),ue=n(77),me=n(14);function pe(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  @media (min-width: 992px) {\n    width: fit-content;\n    justify-content: flex-start;\n  }\n"]);return pe=function(){return e},e}function fe(){var e=Object(i.a)(["\n  width: 3rem !important;\n  height: 3rem !important;\n  margin-right: 1rem;\n\n  img {\n    width: 3rem !important;\n    height: 3rem !important;\n  }\n  &.chat-header-icon > div:before {\n    right -10px;\n  }\n  &.chat-header-icon > svg {\n    right: 5px;\n  }\n"]);return fe=function(){return e},e}function he(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n"]);return he=function(){return e},e}function be(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return be=function(){return e},e}function Ee(){var e=Object(i.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n"]);return Ee=function(){return e},e}function ge(){var e=Object(i.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"]);return ge=function(){return e},e}function Oe(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n"]);return Oe=function(){return e},e}function ve(){var e=Object(i.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  margin-left:5px;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"]);return ve=function(){return e},e}function _e(){var e=Object(i.a)(["\n  border: 1px solid #fff;\n  border-radius: 4px;\n\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    cursor: pointer;\n    border: "," !important;\n  }\n  .dark & {\n    border: 1px solid #25282c !important;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    font-size: 10px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: -25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    .more-options-tooltip {\n      top: 20px;\n      right: -45px;\n    }\n  }\n"]);return _e=function(){return e},e}function Te(){var e=Object(i.a)(["\n  color: ",";\n  height: 32px;\n  width: 32px;\n  transition: color 0.15s ease-in-out;\n"]);return Te=function(){return e},e}function we(){var e=Object(i.a)(["\n  @media (min-width: 992px) {\n    display: none;\n  }\n  color: ",";\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  margin-right: 12px;\n  margin-top: 8px;\n  display: flex;\n  span {\n    line-height: 1.7;\n  }\n"]);return we=function(){return e},e}function ke(){var e=Object(i.a)(["\n  width: 12px;\n  height: 12px;\n"]);return ke=function(){return e},e}function Ne(){var e=Object(i.a)([""]);return Ne=function(){return e},e}function ye(){var e=Object(i.a)(["\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding-bottom: 1em;\n\n  .chat-header-left {\n    display: flex;\n  }\n\n  .chat-header-title {\n    height: 17px;\n    color: #000000;\n    font-family: Inter;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 17px;\n    text-align: center;\n    display: flex;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n\n    a {\n      color: #000 !important;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      .dark & {\n        color: #ffffff !important;\n      }\n    }\n    .dark & {\n      color: #ffffff !important;\n    }\n  }\n  .chat-header-right {\n    @media (max-width: 414px) {\n      .nav {\n        display: flex;\n      }\n    }\n    margin-left: auto;\n    ul {\n      flex-flow: row;\n    }\n    li .more-options-tooltip {\n      top: 115%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n  .dictionary-label {\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 210px !important;\n    min-width: 450px;\n  }\n  .channel-title-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .chat-header-folder {\n    flex: 1 1 100%;\n    // height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    // letter-spacing: 0;\n    // line-height: 12px;\n    display: flex;\n    align-items: center;\n  }\n  @media (max-width: 414px) {\n    .chat-header-folder {\n      display: none;\n    }\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n  .feather-pencil {\n    width: 1rem;\n    height: 1rem;\n    margin-left: 5px;\n    cursor: pointer;\n  }\n  .feather-google-meet {\n    cursor: pointer;\n    margin-left: 5px;\n  }\n"]);return ye=function(){return e},e}var Ae=l.b.div(ye()),Se=Object(l.b)(S.u)(Ne()),je=Object(l.b)(S.u)(ke()),Ce=l.b.div(we(),(function(e){return e.theme.colors.primary})),xe=Object(l.b)(S.u)(Te(),(function(e){return e.theme.colors.primary})),Ie=Object(l.b)(ue.c)(_e(),(function(e){return"1px solid ".concat(e.theme.colors.primary)})),Re=l.b.div(ve(),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Le=l.b.div(Oe()),Pe=Object(l.b)(S.u)(ge(),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),De=Object(l.b)(S.u)(Ee()),Me=Object(l.b)(N.a)(be()),Fe=l.b.div(he()),Ue=Object(l.b)(de.a)(fe()),We=l.b.div(pe()),He=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},Be=function(e){var t=e.className,n=void 0===t?"":t,i=e.channel,l=e.dictionary,u=e.handleSearchChatPanel,f=Object(s.c)(),h=Object(w.g)(),b=Object(le.a)(),E=Object(s.d)((function(e){return e.chat.selectedChannel})),g=Object(s.d)((function(e){return e.workspaces.workspaces})),O=Object(s.d)((function(e){return e.global.unreadCounter})),v=Object(s.d)((function(e){return e.workspaces.sharedWorkspaces})),_=Object(m.z)().slug,T=Object(s.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).translated_channels,k=Object(p.a)(),N=Object(m.hb)(),j=Object(o.useState)(!1),C=Object(r.a)(j,2),x=C[0],I=C[1];Object(o.useEffect)((function(){if(i&&i.slug&&i.sharedSlug){var e=g["".concat(i.entity_id,"-").concat(i.slug)];i.members.every((function(e){return!e.hasOwnProperty("company_name")}))&&e&&f(Object(y.c)({code:i.code,members:e.members}))}}),[i,g]);var R=function(){b.archive(i)},L=function(){if(i.is_archived)b.unArchive(i);else{var e={type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:R}};f(Object(d.a)(e))}},P=function(){f(Object(d.a)({type:"chat_create_edit",mode:"edit"}))},D=Object(m.Eb)(),M=Object(m.ab)(),F=M.generalSettings.workspace_open_folder,U=M.setGeneralSetting,W=function(e){e.preventDefault(),E.workspace_folder&&U({workspace_open_folder:Object(a.a)(Object(a.a)({},F),{},Object(se.a)({},E.workspace_folder.id,E.workspace_folder.id))}),document.body.classList.remove("navigation-show"),E.slug?g["".concat(E.entity_id,"-").concat(E.slug)]&&(D.selectWorkspace(g["".concat(E.entity_id,"-").concat(E.slug)]),D.redirectTo(g["".concat(E.entity_id,"-").concat(E.slug)])):g[E.entity_id]&&(D.selectWorkspace(g[E.entity_id]),D.redirectTo(g[E.entity_id]))},H=function(e){e.preventDefault(),h.push("/system/people/teams/".concat(E.entity_id,"/").concat(E.title))},B=function(){i.is_pinned?b.unPin(i):b.pin(i)},G=function(){i.is_muted?b.unMute(i):b.mute(i)},z=function(e){e.stopPropagation(),0===i.total_unread&&i.is_read?b.markAsUnRead(i):b.markAsRead(i)},V=function(){i.is_hidden?b.unHide(i):b.hide(i),i.total_unread>0&&b.markAsRead(i)},Y=Object(o.useMemo)((function(){var e,t=null===i||void 0===i||null===(e=i.slug)||void 0===e?void 0:e.slice(0,-7);return _===t}),[i,_]);return null===i?null:(T.length>0&&T.includes(E.id)&&!E.is_translate&&k.saveChannelTranslateState(Object(a.a)(Object(a.a)({},E),{},{is_translate:!0})),c.a.createElement(Ae,{className:"chat-header border-bottom ".concat(n)},c.a.createElement("div",{className:"chat-header-left"},c.a.createElement(Ce,{className:"chat-back-button",onClick:function(){K.isMobile&&f(Object(y.V)(!1)),document.body.classList.remove("m-chat-channel-closed");var e=document.getElementById("toastS");e&&K.isMobile&&e.classList.remove("d-none")}},c.a.createElement(xe,{icon:"chevron-left"}),O.chat_message>0&&c.a.createElement("span",{className:"d-none d-lg-flex"},O.chat_message.toString())),c.a.createElement(Ue,{className:"chat-header-icon",channel:i,width:"33px"})),c.a.createElement(We,{className:"channel-title-wrapper"},c.a.createElement("div",{className:"chat-header-title"},function(){switch(E.type){case"TOPIC":return E.workspace_folder?c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{onClick:W,"data-href":b.getChannelLink(E),href:b.getChannelLink(E)},E.title)):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dictionary-label"}),c.a.createElement("a",{onClick:W,"data-href":b.getChannelLink(E),href:b.getChannelLink(E)},E.title));case"DIRECT":return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{onClick:function(e){return function(e,t){e.preventDefault(),h.push("/profile/".concat(t.id,"/").concat(Object(me.i)(t.name)))}(e,E.profile)},"data-href":"/profile/".concat(E.profile.id,"/").concat(E.profile.name),href:"/profile/".concat(E.profile.id,"/").concat(E.profile.name)},E.profile?E.profile.name:E.title));case"DIRECT_TEAM":case"TEAM":return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{onClick:H,"data-href":"/system/people/teams/".concat(E.entity_id,"/").concat(E.title),href:"/system/people/teams/".concat(E.entity_id,"/").concat(E.title)},l.team," ",E.title));case"PERSONAL_BOT":return l.personalNotes;default:return E.title}}()),i.sharedSlug?c.a.createElement(Le,{className:"chat-header-badge d-flex align-items-center d-lg-flex"},"TOPIC"===i.type&&!i.is_archived&&c.a.createElement(Re,{className:"badge badge-external mr-1"},c.a.createElement(je,{className:"ml-1",icon:"repeat",strokeWidth:"2"}),l.sharedClient),"TOPIC"===i.type&&!i.is_archived&&g.hasOwnProperty(i.entity_id)&&1===g[i.entity_id].is_lock&&1===g[i.entity_id].active&&Y&&c.a.createElement(Se,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===i.type&&!i.is_archived&&g.hasOwnProperty(i.entity_id)&&g[i.entity_id].is_shared&&1===g[i.entity_id].active&&Y&&c.a.createElement(Re,{className:"badge badge-external mr-1",isTeam:!!i.team},i.team?l.teamChat:l.clientChat),c.a.createElement("div",{className:"ml-1 d-lg-none"},c.a.createElement(Ie,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"30",width:"30"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(i.type)&&c.a.createElement("div",{onClick:L},i.is_archived?l.unarchive:l.archive),"GROUP"===i.type&&!i.is_archived&&c.a.createElement("div",{onClick:P},l.edit),c.a.createElement("div",{onClick:B},i.is_pinned?l.unfavorite:l.favorite),c.a.createElement("div",{onClick:function(e){return z(e)}},0===i.total_unread&&!0===i.is_read?l.markAsUnread:l.markAsRead),c.a.createElement("div",{onClick:G},i.is_muted?l.unmute:l.mute),"PERSONAL_BOT"!==i.type&&c.a.createElement("div",{onClick:V},i.is_hidden?l.unhide:l.hide),c.a.createElement(un,{selectedChannel:E,translated_channels:T,chatMessageActions:k})))):c.a.createElement(Le,{className:"chat-header-badge d-flex align-items-center d-lg-flex"},"TOPIC"===i.type&&!i.is_archived&&g.hasOwnProperty(i.entity_id)&&1===g[i.entity_id].is_lock&&1===g[i.entity_id].active&&c.a.createElement(Se,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===i.type&&!i.is_archived&&g.hasOwnProperty(i.entity_id)&&g[i.entity_id].is_shared&&1===g[i.entity_id].active&&c.a.createElement(Re,{className:"badge badge-external mr-1",isTeam:!!i.team},i.team?l.teamChat:l.clientChat),c.a.createElement("div",{className:"ml-1 d-lg-none"},c.a.createElement(Ie,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"30",width:"30"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(i.type)&&c.a.createElement("div",{onClick:L},i.is_archived?l.unarchive:l.archive),"GROUP"===i.type&&!i.is_archived&&c.a.createElement("div",{onClick:P},l.edit),c.a.createElement("div",{onClick:B},i.is_pinned?l.unfavorite:l.favorite),c.a.createElement("div",{onClick:function(e){return z(e)}},0===i.total_unread&&!0===i.is_read?l.markAsUnread:l.markAsRead),c.a.createElement("div",{onClick:G},i.is_muted?l.unmute:l.mute),"PERSONAL_BOT"!==i.type&&c.a.createElement("div",{onClick:V},i.is_hidden?l.unhide:l.hide),c.a.createElement(un,{selectedChannel:E,translated_channels:T,chatMessageActions:k})))),c.a.createElement(Fe,{className:"d-none d-lg-flex"},"TOPIC"===i.type&&i.hasOwnProperty("is_active")&&c.a.createElement(Me,{arrowSize:5,distance:10,onToggle:He,content:i.is_active?l.notificationsOn:l.notificationsOff},c.a.createElement(Se,{className:"ml-1",width:"16",height:"16",icon:i.is_active?"bell":"bell-off",onClick:function(){if(!x){var e={id:i.entity_id,is_active:!i.is_active};if(i.slug&&v[i.slug]){var t={slug:i.slug,token:v[i.slug].access_token,is_shared:!0};e=Object(a.a)(Object(a.a)({},e),{},{sharedPayload:t})}f(Object(A.Z)(e,(function(t,n){I(!1),t||(e.is_active?N.success(l.toasterBellNotificationOn):N.success(l.toasterBellNotificationOff))})))}}})),c.a.createElement(Me,{arrowSize:5,distance:10,onToggle:He,content:l.favorite},c.a.createElement(Pe,{icon:"star",isFav:i.is_pinned,onClick:function(){i.is_pinned?b.unPin(i):b.pin(i)}})),"GROUP"===i.type&&!i.is_archived&&c.a.createElement(S.u,{icon:"pencil",onClick:P}),c.a.createElement(De,{icon:"search",onClick:u}),c.a.createElement("div",null,c.a.createElement("ul",{className:"nav align-items-center justify-content-end"},c.a.createElement("li",{className:"ml-2",style:{height:"21px"}},c.a.createElement(Ie,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"17",width:"17"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(i.type)&&c.a.createElement("div",{onClick:L},i.is_archived?l.unarchive:l.archive),"GROUP"===i.type&&!i.is_archived&&c.a.createElement("div",{onClick:P},l.edit),c.a.createElement("div",{onClick:B},i.is_pinned?l.unfavorite:l.favorite),c.a.createElement("div",{onClick:function(e){return z(e)}},0===i.total_unread&&!0===i.is_read?l.markAsUnread:l.markAsRead),c.a.createElement("div",{onClick:G},i.is_muted?l.unmute:l.mute),"PERSONAL_BOT"!==i.type&&c.a.createElement("div",{onClick:V},i.is_hidden?l.unhide:l.hide),c.a.createElement(un,{selectedChannel:E,translated_channels:T,chatMessageActions:k})))))),c.a.createElement("div",{className:"chat-header-folder"},function(){switch(E.type){case"TOPIC":return E.workspace_folder?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fa fa-folder-o mr-1"})," ",E.workspace_folder.name):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dictionary-label"},l.workspace));default:return""}}())),c.a.createElement(pn,{channel:i})))};function Ge(){var e=Object(i.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]);return Ge=function(){return e},e}function ze(){var e=Object(i.a)(["\n  ","\n"]);return ze=function(){return e},e}function Ve(){var e=Object(i.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]);return Ve=function(){return e},e}var Ye=l.b.div(Ve()),Ke=l.b.div(ze(),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),qe=l.b.div(Ge()),Je=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.reply;return c.a.createElement(Ye,{className:"message-item ".concat(n," ").concat(!0===a.author?"me":"them")},c.a.createElement(Ke,{className:"message-item-content",isAuthor:a.author},!1===a.author&&c.a.createElement(c.a.Fragment,null,c.a.createElement(qe,{className:"avatar avatar-sm"},c.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),a.message),c.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))}));function Ze(){var e=Object(i.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]);return Ze=function(){return e},e}var Xe=l.b.div(Ze()),Qe=(c.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return c.a.createElement(Xe,{className:"messages ".concat(n),tabIndex:"2"},c.a.createElement(Je,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),c.a.createElement(Je,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),c.a.createElement(Je,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),c.a.createElement("div",{className:"message-item me"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item"},c.a.createElement("div",{className:"message-item-content d-flex"},c.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),c.a.createElement("div",null,c.a.createElement("div",null,"important_documents.pdf ",c.a.createElement("i",{className:"text-muted small"},"(50KB)")),c.a.createElement("ul",{className:"list-inline small"},c.a.createElement("li",{className:"list-inline-item"},c.a.createElement("a",{href:"/"},"Download")),c.a.createElement("li",{className:"list-inline-item"},c.a.createElement("a",{href:"/"},"View"))))),c.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item me"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item me message-media"},c.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item message-item-divider"},c.a.createElement("span",null,"Today")),c.a.createElement("div",{className:"message-item"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))})),n(903)),$e=n(936),et=n(886);function tt(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n  @media (min-width: 768px) {\n    &:focus,\n    &:hover {\n      background: #f0f0f050;\n      padding: 0 25px !important;\n      margin: 0 -25px;\n      .more-options {\n        display: inline-flex;\n        opacity: 1;\n        z-index: 1;\n        &.active {\n          color: #4d4d4d !important;\n        }\n      }\n      h6 {\n        color: ",";\n      }\n    }\n  }\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: ",";\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n  &:focus {\n    background: #f1f2f7;\n  }\n  .dark & {\n    :focus {\n      background: #25282c;\n    }\n  }\n"]);return tt=function(){return e},e}var nt=l.b.li(tt(),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.theme.colors.primary}),(function(e){return e.selected&&"color: ".concat(e.theme.colors.primary,";")}),(function(e){return e.selected&&"content: '';"}),(function(e){return e.theme.colors.primary})),at=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,i=e.selectedChannel,l=e.channelDrafts,d=e.dictionary,u=e.addLoadRef,m=e.onLoadMore,p=e.onSelectChannel,f=e.onClearSearch,h=e.firstRef,b=void 0===h?null:h,E=e.tabIndex,g=(e.index,Object(s.c)()),O=Object(s.d)((function(e){return e.chat.chatSidebarSearch})),v=Object(et.b)({threshold:1}),_=Object(r.a)(v,2),T=_[0],w=_[1];Object(o.useEffect)((function(){u&&w&&m()}),[u,w]);var k=function(){K.isMobile&&g(Object(y.V)(!0)),p&&p(a)};return c.a.createElement(nt,{className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(n),ref:b,selected:null!==i&&a.id===i.id,onClick:k,tabIndex:E,onKeyDown:function(e){return function(e,t){if(""!==O){if(e.preventDefault(),e.stopPropagation(),"Enter"===e.key&&(p(a),f()),"ArrowDown"===e.key){var n=document.querySelector('.channel-list[tabindex="'.concat(E+1,'"]'));n&&n.focus()}if("ArrowUp"===e.key&&e.currentTarget.previousSibling&&E>1){var r=document.querySelector('.channel-list[tabindex="'.concat(E-1,'"]'));r&&r.focus()}}}(e)}},c.a.createElement(de.a,{channel:a,onSelectChannel:k}),c.a.createElement("div",{className:"channel-info",ref:u?T:null},c.a.createElement("div",{className:"channel-title-preview"},c.a.createElement(Qe.a,{className:"chat-date-icons",selectedChannel:i,channel:a,dictionary:d})),c.a.createElement($e.a,{channel:a,drafts:l,dictionary:d,selectedChannel:i}),c.a.createElement("div",{className:"d-flex"},a.is_hidden&&c.a.createElement(c.a.Fragment,null,c.a.createElement(S.b,{label:"Hidden"})))))})),rt=n(1006);function it(){var e=Object(i.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n  margin-left: auto;\n  svg {\n    cursor: pointer;\n  }\n"]);return it=function(){return e},e}function ot(){var e=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 12px;\n"]);return ot=function(){return e},e}function ct(){var e=Object(i.a)(["\n  background: ",";\n  color: #fff !important;\n  min-height: 18px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  position: absolute;\n  right: 0px;\n  bottom: 1px;\n  width: 18px;\n  height: 18px;\n  font-size: 11px;\n  &.unread {\n    color: "," !important;\n    display: none;\n  }\n"]);return ct=function(){return e},e}function st(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-right: 0.5rem;\n  .more-options {\n    margin-top: 0.5rem;\n    position: static;\n    opacity: 0;\n    svg {\n      position: relative;\n    }\n  }\n  .feather-more-horizontal {\n    width: 20px;\n    height: 18px;\n    vertical-align: initial;\n  }\n  :hover {\n    .more-options {\n      opacity: 1;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return st=function(){return e},e}function lt(){var e=Object(i.a)(["\n  padding: 0 24px;\n  ul {\n    margin: 0;\n    padding-left: 0;\n    //overflow: auto;\n    overflow-y: hidden;\n    overflow-x: auto;\n    display: flex;\n    flex-grow: 1;\n    .dark & {\n      border-bottom-color: rgba(155, 155, 155, 0.2) !important;\n    }\n    .fav-channel {\n      padding-right: 0 !important;\n      cursor: pointer;\n    }\n  }\n  // .more-options-tooltip {\n  //   position: fixed;\n  //   top: 240px;\n  //   left: ",";\n  //   &.orientation-left {\n  //     left: ",";\n  //   }\n  // }\n  .feather-star,\n  .feather-volume-x {\n    position: absolute;\n    background-color: unset;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    z-index: 1;\n  }\n  .feather-star {\n    bottom: 0;\n    left: 0;\n    fill: rgb(255, 193, 7);\n    // color: rgb(255, 193, 7);\n    width: 20px;\n    height: 20px;\n    color: #fff;\n    .dark & {\n      color: #191c20;\n    }\n  }\n  .feather-volume-x {\n    bottom: 0;\n    right: 0;\n    background-color: #fff;\n    border: 2px solid #fff;\n    color: ",";\n    .dark & {\n      background-color: #191c20;\n      color: #fff;\n      border: 2px solid #191c20;\n    }\n  }\n  .feather-eye,\n  .feather-eye-off {\n    top: -2px;\n    right: 0px;\n  }\n  .more-options {\n    display: none;\n  }\n  :hover {\n    .more-options {\n      display: block;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return lt=function(){return e},e}var dt=l.b.div(lt(),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left,"px"):"30px"}),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left-170,"px"):"30px"}),(function(e){return e.theme.colors.primary})),ut=l.b.div(st()),mt=l.b.div(ct(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),pt=l.b.div(ot()),ft=l.b.div(it()),ht=function(e){var t=e.channels,n=e.onSelectChannel,a=Object(m.mb)()._t,r=Object(m.x)(),i=r.filterChannel,o=r.chatSettings,s={showUnreadChats:a("TOOLTIP.SHOW_UNREAD_CHATS","Filter on unread chat channels only "),hideUnreadChats:a("TOOLTIP.HIDE_UNREAD_CHATS","Hide unread chats")},l=function(e){n(e)};return c.a.createElement(dt,{className:"mb-2"},c.a.createElement(pt,null,t.length>0&&c.a.createElement("ul",null,t.map((function(e){return c.a.createElement(ut,{key:e.id},c.a.createElement(de.a,{channel:e,className:"fav-channel",onSelectChannel:function(){return l(e)},showSlider:!1},c.a.createElement(S.u,{icon:"star"}),e.is_muted&&c.a.createElement(S.u,{icon:"volume-x"}),!e.is_muted&&c.a.createElement(mt,{className:"badge badge-pill ml-1 ".concat(e.is_read||0!==e.total_unread?"":"unread")},e.total_unread>9?"".concat(e.total_unread,"+"):e.total_unread>0?e.total_unread:e.is_read?null:"0")))}))),c.a.createElement(ft,null,c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:s.showUnreadChats},c.a.createElement(S.u,{icon:o.filter_channel?"filter-active":"filter",onClick:function(){i()}})))))};function bt(){var e=Object(i.a)(["\n  font-weight: 300;\n  margin: 24px 0 6px 0;\n"]);return bt=function(){return e},e}function Et(){var e=Object(i.a)(["\n  border-bottom: 1px solid #ebebeb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n"]);return Et=function(){return e},e}function gt(){var e=Object(i.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  height: inherit;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]);return gt=function(){return e},e}function Ot(){var e=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  height: inherit;\n"]);return Ot=function(){return e},e}var vt=l.b.div(Ot()),_t=l.b.ul(gt()),Tt=l.b.div(Et()),wt=l.b.h4(bt()),kt=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.search,l=e.workspace,d=e.dictionary,u=Object(o.useRef)(null),p=Object(s.d)((function(e){return e.chat.channels})),f=Object(s.d)((function(e){return e.chat.selectedChannel})),h=Object(s.d)((function(e){return e.chat.search})),b=Object(o.useState)(!1),E=Object(r.a)(b,2),g=E[0],O=E[1],v=Object(m.b)(),_=Object(m.db)(Object.values(p),i,{},l),T=_.favoriteChannels,k=_.sortedChannels,N=_.searchArchivedChannels,y=_.filterUnreadChannels,A=Object(s.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),S=Object(w.g)(),j=Object(s.d)((function(e){return e.chat.channelDrafts})),C=Object(s.d)((function(e){return e.chat.fetch})),x=C.skip,I=C.fetching,R=C.hasMore,L=Object(s.d)((function(e){return e.chat.initialLoad})),P=function(){if(""!==i){!I&&h.hasMore&&!g&&L&&(O(!0),v.loadMore({skip:h.skip,search:i},(function(){return O(!1)})))}else{!I&&R&&!g&&L&&(O(!0),v.loadMore({skip:x},(function(){return O(!1)})))}},D=function(){v.searchArchivedChannels(!N)},M=function(e){document.body.classList.add("m-chat-channel-closed");var t=document.getElementById("toastS");if(t&&K.isMobile&&t.classList.add("d-none"),null!==f&&!A){var n=document.getElementById("component-chat-thread");n&&v.saveHistoricalPosition(f.id,n)}v.select(Object(a.a)(Object(a.a)({},e),{},{selected:!0})),e.hasOwnProperty("add_user")&&!0===e.add_user||S.push("/chat/".concat(e.code))},F=function(){v.setSidebarSearch({value:"",searching:!1})};return c.a.createElement(vt,{className:"chat-lists ".concat(n)},c.a.createElement(ht,{channels:T,onSelectChannel:M}),c.a.createElement(_t,{className:"list-group list-group-flush channels"},k.map((function(e,t,n){var a="",r=!1;if(0!==t){var o=n[t-1],s=e;"PERSONAL_BOT"===o.type&&"PERSONAL_BOT"!==s.type?a=(s.is_relevant,d.chats):o.is_relevant&&!s.is_relevant?o.add_user||o.add_open_topic||!s.add_user&&!s.add_open_topic||(a=d.contacts):o.is_relevant||s.is_relevant||o.add_user||o.add_open_topic||!s.add_user&&!s.add_open_topic||(a=d.contacts)}else"PERSONAL_BOT"===e.type?a=d.personalBot:e.is_relevant&&e.add_user?a=d.chats:e.add_user||e.add_open_topic?a=d.contacts:(a=d.chats,r=!0);return c.a.createElement(c.a.Fragment,{key:e.code},""!==i&&""!==a&&c.a.createElement(Tt,null,c.a.createElement(wt,null,a," "),r&&c.a.createElement(rt.a,{className:"cursor-pointer text-muted",checked:N,type:"switch",id:"show_archive",name:"show archive",onChange:D,label:c.a.createElement("span",null,d.showArchived)})),c.a.createElement(at,{index:t,className:0===t?"first-channel channel-list":"channel-list",firstRef:0===t?u:null,tabIndex:t+1,channel:e,selectedChannel:f,channelDrafts:j,dictionary:d,search:i,addLoadRef:!isNaN(e.id)&&t>k.filter((function(e){return!isNaN(e.id)})).length-5,onLoadMore:P,onSelectChannel:M,onClearSearch:F}))})),!0===l&&0===k.length||y&&0===k.length?c.a.createElement("li",null,c.a.createElement("h4",null,d.nothingToSeeHere)):0===k.length&&""!==i&&c.a.createElement("li",null,c.a.createElement("h4",null,d.noMatchingChats))))}));function Nt(){var e=Object(i.a)(["\n  // overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 991.99px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n  // .tab-panel {\n  //   overflow-x: hidden;\n  // }\n  .tab-content,\n  .tab-panel {\n    display: flex;\n    height: 100%;\n  }\n  .tab-content {\n    flex-flow: column;\n  }\n  .badge-filter {\n    width: 130px;\n  }\n"]);return Nt=function(){return e},e}var yt=l.b.div(Nt()),At=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.pill,r=void 0===a?"pills-home":a,i=e.search,o=e.dictionary,s=e.resetFilter;return c.a.createElement(yt,{className:"chat-sidebar-content ".concat(n),tabIndex:"1"},c.a.createElement("div",{className:"tab-content pt-2",id:"pills-tabContent"},"pills-workspace"===r&&c.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:s},c.a.createElement(S.u,{className:"mr-1",icon:"x",width:11,height:11,onClick:s})," ",o.workspaceChats),"pills-home"===r&&c.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===r&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},c.a.createElement(kt,{search:i,workspace:null,dictionary:o})),"pills-workspace"===r&&c.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===r&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},c.a.createElement(kt,{search:i,workspace:!0,dictionary:o}))))})),St=n(182);function jt(){var e=Object(i.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    border: "," !important;\n  }\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n"]);return jt=function(){return e},e}function Ct(){var e=Object(i.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]);return Ct=function(){return e},e}function xt(){var e=Object(i.a)(["\n  z-index: 2;\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: ",";\n            color: #ffffff;\n            border-color: ",';\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    background: rgb(222, 226, 230);\n    .dark & {\n      background: #333539;\n    }\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .chat-sidebar-options-container {\n    height: 38px;\n  }\n']);return xt=function(){return e},e}var It=l.b.div(xt(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),Rt=Object(l.b)(St.a)(Ct()),Lt=Object(l.b)(ue.c)(jt(),(function(e){return e.theme.colors.primary}),(function(e){return"1px solid ".concat(e.theme.colors.primary)})),Pt=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=Object(w.i)(),l=Object(s.c)(),u=Object(s.d)((function(e){return e.chat.searchArchivedChannels})),p=Object(m.ab)(),f=p.chatSettings,h=p.setChatSetting,b=Object(m.b)(),E=Object(s.d)((function(e){return e.chat.chatSidebarSearch}));Object(m.F)();var g=Object(s.d)((function(e){return e.chat.searchingChannels})),O=Object(o.useState)(""),v=Object(r.a)(O,2),_=v[0],T=v[1],k=Object(o.useState)(""),N=Object(r.a)(k,2),y=N[0],A=N[1],j=Object(o.useState)(f.chat_filter),C=Object(r.a)(j,2),x=C[0],I=C[1],R={container:Object(o.useRef)(null),navTab:Object(o.useRef)(null)},L=Object(o.useRef)(null);Object(o.useEffect)((function(){var e=setTimeout((function(){if(b.setSidebarSearch({value:y,searching:""!==y.trim()}),h({filter_channel:!1}),""!==y.trim()){var e={search:y,skip:0,limit:15};u&&(e=Object(a.a)(Object(a.a)({},e),{},{filter:"archived"})),b.search(e,(function(e,t){if(L.current&&L.current.blur(),!e){var n=document.querySelector(".first-channel");n&&n.focus()}}))}}),300);return function(){return clearTimeout(e)}}),[y,u]);var P=function(){T(""),A("")},D=function(){I("pills-home")},M=function(e){x===e.target.getAttribute("aria-controls")?D():I(e.target.getAttribute("aria-controls"))},F=Object(m.mb)()._t,U={chats:F("CHAT.CHATS","Chats"),contacts:F("CHAT.CONTACTS","Contacts"),workspaceChats:F("CHAT.WORKSPACE_CHATS","Hub chats"),recentChats:F("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:F("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:F("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:F("CHAT.RECENT","Recent"),favorite:F("CHAT.FAVORITE","Favorite"),hidden:F("CHAT.HIDDEN","Hidden"),pinned:F("CHAT.PINNED","Pinned"),startNew:F("CHAT.START_NEW","Start new"),viewOpenWorkspace:F("CHAT.VIEW_OPEN_WORKSPACE","View open hub"),archived:F("CHAT.ARCHIVED","Archived"),nothingToSeeHere:F("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:F("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:F("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:F("CHAT.PERSONAL_BOT","Personal bot"),you:F("CHAT.PREVIEW_AUTHOR_YOU","You"),showArchived:F("CHAT.SHOW_ARCHIVED","Show archived"),withTeam:F("CHANNEL.WITH_TEAM","Team Chat"),withClient:F("CHANNEL.WITH_CLIENT","Client Chat"),withShared:F("CHANNEL.WITH_SHARED","Shared"),team:F("TEAM","Team"),personalNotes:F("CHANNEL.PERSONAL_NOTES","Personal Notes")};return Object(o.useEffect)((function(){f.chat_filter!==x&&h({chat_filter:x})}),[f.chat_filter,x]),Object(o.useEffect)((function(){""===E?P():T(E)}),[E]),Object(o.useEffect)((function(){if(i.messageId){document.body.classList.add("m-chat-channel-closed");var e=document.getElementById("toastS");return e&&K.isMobile&&e.classList.add("d-none"),function(){e&&K.isMobile&&e.classList.remove("d-none")}}}),[]),c.a.createElement(It,{ref:R.container,className:"chat-sidebar ".concat(n)},c.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start align-items-center"},c.a.createElement(Rt,{onChange:function(e){A(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&P()},value:y,onClickEmpty:P,closeButton:"true",searching:g,className:"chat-search",placeholder:U.searchChatPlaceholder,ref:L}),c.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2 chat-sidebar-options-container"},c.a.createElement(Lt,{role:"tabList"},c.a.createElement("div",{className:"option-filter ".concat("pills-home"===x?"active":""),onClick:M,"aria-controls":"pills-home","aria-selected":"false"},U.chats),c.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===x?"active":""),onClick:M,"aria-controls":"pills-workspace","aria-selected":"false"},U.workspaceChats),c.a.createElement("div",{className:"d-flex",onClick:function(){l(Object(d.a)({type:"chat_create_edit",mode:"new"}))}},c.a.createElement(S.u,{className:"mr-2",width:14,height:14,icon:"plus"})," ",U.newGroupChat)))),c.a.createElement(At,{pill:x,search:_,dictionary:U,resetFilter:D}))})),Dt=n(8),Mt=n(39);function Ft(){var e=Object(i.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n  .loading {\n    width: 1rem;\n    height: 1rem;\n  }\n"]);return Ft=function(){return e},e}var Ut=l.b.div(Ft()),Wt=c.a.memo((function(e){var t=e.placeholder,n=e.setResults,i=e.selectedChannel,l=e.results,d=e.triggerLoadMore,u=e.setTriggerLoadMore,m=Object(s.d)((function(e){return e.workspaces.sharedWorkspaces})),p=Object(o.useState)(0),f=Object(r.a)(p,2),h=f[0],b=f[1],E=Object(o.useState)(""),g=Object(r.a)(E,2),O=g[0],v=g[1],_=Object(o.useState)(!1),T=Object(r.a)(_,2),w=T[0],k=T[1],N=Object(o.useState)(""),y=Object(r.a)(N,2),A=y[0],j=y[1],C=function(){if(""!==O.trim()&&O.trim().length>=3){if(O===A)return;j(O),k(!0),n([]);var e={channel_id:i.id,is_translate:i.is_translate,search:O,skip:h,limit:20};if(i.slug&&m[i.slug]){var t={slug:i.slug,token:m[i.slug].access_token,is_shared:!0};e=Object(a.a)(Object(a.a)({},e),{},{sharedPayload:t})}Object(Mt.p)(e).then((function(e){return e})).then((function(e){if(""!==A.trim()&&A!==O){var t=e.data.results;n(t),k(!1),b(0)}else{var a=[].concat(Object(Dt.a)(l),Object(Dt.a)(e.data.results));n(a),k(!1),b(a.length)}}))}};return Object(o.useEffect)((function(){d&&!w&&(!function(){k(!0);var e={channel_id:i.id,is_translate:i.is_translate,search:A,skip:h,limit:20};if(i.slug&&m[i.slug]){var t={slug:i.slug,token:m[i.slug].access_token,is_shared:!0};e=Object(a.a)(Object(a.a)({},e),{},{sharedPayload:t})}Object(Mt.p)(e).then((function(e){return e})).then((function(e){var t=[].concat(Object(Dt.a)(l),Object(Dt.a)(e.data.results));b(t.length),n(t),k(!1)}))}(),u(!1))}),[d,w]),c.a.createElement(Ut,{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:t,value:O,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&C()},onChange:function(e){v(e.target.value)}}),w&&c.a.createElement("button",{className:"btn-cross",type:"button"},c.a.createElement(S.k,null)),c.a.createElement("div",{className:"input-group-append"},!w&&""!==O.trim()&&c.a.createElement("button",{onClick:function(){v(""),j(""),n([]),b(0)},className:"btn-cross",type:"button"},c.a.createElement(S.u,{icon:"x"})),c.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:C},c.a.createElement("i",{className:"ti-search"}))))})),Ht=n(58);function Bt(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n  color: #8b8b8b;\n  .dark & {\n    color: #c7c7c7;\n  }\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return Bt=function(){return e},e}function Gt(){var e=Object(i.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  height: calc(100% - 43px);\n"]);return Gt=function(){return e},e}function zt(){var e=Object(i.a)(["\n  cursor: pointer;\n  background: transparent;\n  font-size: 0.835re;\n  padding: 5px 20px;\n  margin-top: 0;\n  border-radius: 0;\n  border-left: none;\n  border-right: none;\n  border-top: none;\n  border-bottom: 1px solid #ebebeb;\n  .dark & {\n    border-color: rgba(155, 155, 155, 0.1);\n    color: #c7c7c7;\n  }\n  color: #495057;\n  .chat-search-header span {\n    font-size: smaller;\n    margin: 0;\n  }\n  div.chat-search-body {\n    font-size: 0.835re;\n  }\n  div.chat-search-body span {\n    font-weight: 600;\n    color: ",";\n    .dark & {\n      color: #fff;\n    }\n  }\n  :focus {\n    background-color: #f0f0f050;\n  }\n"]);return zt=function(){return e},e}function Vt(){var e=Object(i.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  li:last-child {\n    border-bottom: none;\n  }\n"]);return Vt=function(){return e},e}function Yt(){var e=Object(i.a)(["\n  position: absolute;\n  top: 59px;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: calc(100% - 59px);\n  transform: translateX(100%);\n  transition: 0.1s ease-out;\n  padding: 0 1em;\n  margin-right: -10px;\n  z-index: 3;\n  background: #fff;\n  color: #8b8b8b;\n  ","\n  .dark & {\n    background: #191c20;\n    color: #c7c7c7;\n  }\n"]);return Yt=function(){return e},e}var Kt=l.b.div(Yt(),(function(e){return e.isActive&&"transform: translateX(0%);margin:0px;"})),qt=l.b.ul(Vt()),Jt=l.b.li(zt(),(function(e){return e.theme.colors.primary})),Zt=l.b.div(Gt()),Xt=l.b.div(Bt()),Qt=function(e){var t=e.showSearchPanel,n=e.handleSearchChatPanel,a=e.selectedChannel,i=e.user,s=Object(o.useRef)(null),l=Object(m.gb)().localizeChatDate,d=Object(m.mb)()._t,u=Object(o.useState)(!1),p=Object(r.a)(u,2),f=p[0],h=p[1],b=Object(o.useState)([]),E=Object(r.a)(b,2),g=E[0],O=E[1],v={noItemsFoundHeader:d("CHATSEARCH.NO_ITEMS_FOUND_HEADER","WOO!"),noItemsFoundText:d("CHATSEARCH.NO_ITEMS_FOUND_TEXT","Nothing here but me\u2026 \ud83d\udc7b"),you:d("CHATSEARCH.YOU","You")},_=Object(o.useMemo)((function(){var e=Object(Ht.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&h(!0)}),300);return function(t){return t.persist(),e(t)}}),[]),T=Object(m.U)(),w=function(e){n(),T.toChat(a,e)};return c.a.createElement(Kt,{isActive:t},c.a.createElement("div",{className:"d-flex justify-content-between align-items-flex-start align-items-center mb-2"},c.a.createElement(Wt,{placeholder:"Search chat",results:g,setResults:O,selectedChannel:a,triggerLoadMore:f,setTriggerLoadMore:h})),c.a.createElement(Zt,{className:"justify-content-between align-items-center",onScroll:_},c.a.createElement(qt,null,t&&g.length>0&&g.map((function(e,t){var n=e.user&&e.user.id===i.id;return c.a.createElement(Jt,{onClick:function(t){return w(e)},key:e.id,ref:0===t?s:null,autoFocus:0===t,onKeyDown:function(n){return function(e,t,n){"Enter"===e.key&&w(n),"ArrowDown"===e.key&&e.currentTarget.nextSibling&&e.currentTarget.nextSibling.focus(),"ArrowUp"===e.key&&e.currentTarget.previousSibling&&t>0&&e.currentTarget.previousSibling.focus()}(n,t,e)},tabIndex:t+1},c.a.createElement("div",{className:"d-flex align-items-center chat-search-header"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},c.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},c.a.createElement("div",null,c.a.createElement("span",null,n?v.you:e.user.name))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",null,c.a.createElement("span",null,l(e.created_at.timestamp,"ddd, MMM DD, YYYY")))))),c.a.createElement("div",{className:"chat-search-body mb-2",dangerouslySetInnerHTML:{__html:e.body}}))})),t&&0===g.length&&c.a.createElement(Xt,null," ",c.a.createElement("h3",null,v.noItemsFoundHeader),c.a.createElement("h5",null,v.noItemsFoundText," ")," "))))};function $t(){var e=Object(i.a)(["\n  circle {\n    fill: #cacaca;\n  }\n  :hover {\n    circle {\n      fill: #2196f3;\n    }\n  }\n"]);return $t=function(){return e},e}function en(){var e=Object(i.a)(["\n  //min-width: ",";\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n    cursor: pointer;\n  }\n  .feather-google-meet {\n    width: 24px;\n    height: 24px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  // .btn-meet {\n  //   img {\n  //     width: 24px;\n  //     height: 24px;\n  //     vertical-align: top;\n  //     margin-bottom: -5px;\n  //   }\n  // }\n  .jitsi {\n    padding: 12px;\n  }\n  @media (max-width: 414px) {\n    min-width: ",";\n    .btn-zoom,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n    .btn-zoom {\n      padding: 13px 8px;\n      width: 35px;\n      .jitsi {\n        padding: 0;\n      }\n    }\n  }\n  .zoom-icon {\n    cursor: pointer;\n  }\n  .feather-google-meet {\n    height: 20px;\n    width: 21px;\n  }\n  .feather-zoom {\n    width: 24px;\n    height: 24px;\n  }\n"]);return en=function(){return e},e}function tn(){var e=Object(i.a)(["\n  width: 40px;\n  display: flex;\n  align-items: center;\n  padding: 12px 10px;\n  align-self: flex-end;\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n  .loading {\n    width: 1rem;\n    height: 1rem;\n  }\n  &.btn-zoom {\n    padding: 10px;\n  }\n"]);return tn=function(){return e},e}var nn=l.b.div(tn()),an=l.b.div(en(),(function(e){return e.editMode&&!e.clientChat?"160px":e.editMode&&e.clientChat?"120px":!e.editMode&&e.clientChat?"80px":"120px"}),(function(e){return e.editMode&&e.disabledMeet?"120px":e.editMode&&!e.disabledMeet?"160px":!e.editMode&&e.disabledMeet?"80px":" 120px"}),(function(e){return e.clientChat&&e.showButtons&&e.editMode?"120px":e.clientChat&&e.showButtons&&!e.editMode?"90px":e.showButtons&&e.editMode?"150px":e.showButtons?"120px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),rn=Object(l.b)(S.u)($t()),on=c.a.memo((function(e){var t=e.channel,n=e.showEmojiPicker,a=e.handleZoomMeet,i=e.handleShowEmojiPicker,l=e.onShowFileDialog,d=e.editChatMessage,u=e.quote,m=(e.dictionary,e.onStartGoogleMeet),p=e.onStartJitsi,f=e.activeSend,h=Object(s.c)(),b=Object(s.d)((function(e){return e.workspaces.workspaces})),E=Object(s.d)((function(e){return e.settings.driff.meet})),g=Object(s.d)((function(e){return e.global.isFocus})),O=Object(o.useState)(!1),v=Object(r.a)(O,2),_=v[0],T=v[1],w=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},k=t&&b[t.entity_id]&&b[t.entity_id].is_shared&&b[t.entity_id].channel.id===t.id;return Object(o.useEffect)((function(){T(g)}),[f]),c.a.createElement(an,{editMode:null!==d,showButtons:_,clientChat:k,disabledMeet:"disable"===E},!g&&c.a.createElement(c.a.Fragment,null,d&&c.a.createElement(nn,null,c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:w,content:"Close edit"},c.a.createElement(S.u,{className:"close-button",icon:"x",onClick:function(){u&&h(Object(y.q)(u)),null!==d&&h(Object(y.Ub)(null))}}))),c.a.createElement(nn,{className:"btn-smile",style:{paddingLeft:10}},c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:w,content:"Emoji"},c.a.createElement(S.u,{className:"".concat(n?"active":""),onClick:i,icon:"smile"}))),"disable"!==E&&c.a.createElement(nn,{className:"btn-zoom ".concat(E)},"google"===E&&c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:w,content:"Google meet"},c.a.createElement(S.u,{icon:"google-meet",onClick:m})),"zoom"===E&&c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:w,content:"Zoom"},c.a.createElement(rn,{onClick:a,icon:"zoom",viewBox:"0 0 48 48"})),"jitsi"===E&&c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:w,content:"Driff talk"},c.a.createElement(S.u,{icon:"video-driff",onClick:p}))),c.a.createElement(nn,{className:"btn-paperclip"},c.a.createElement(N.a,{arrowSize:5,distance:10,onToggle:w,content:"Attach file"},c.a.createElement(S.u,{onClick:l,icon:"paperclip"})))),c.a.createElement(nn,{className:"chat-buttons",style:{paddingLeft:g&&"5rem"}},c.a.createElement(S.u,{onClick:function(){T((function(e){return!e}))},icon:_?"x":"more-vertical"})))}));function cn(){var e=Object(i.a)(["\n  font-weight: 600;\n  cursor: pointer;\n"]);return cn=function(){return e},e}function sn(){var e=Object(i.a)(["\n  font-size: 13px;\n  font-weight: 600;\n  .card {\n    overflow: visible;\n  }\n  .custom-switch {\n    input {\n      cursor: pointer;\n    }\n  }\n"]);return sn=function(){return e},e}l.b.div(sn()),l.b.span(cn());function ln(){var e=Object(i.a)([""]);return ln=function(){return e},e}var dn=l.b.div(ln()),un=function(e){e.className;var t=e.selectedChannel,n=e.chatMessageActions,r=e.translated_channels,i=(Object(w.g)(),Object(s.c)()),l=Object(m.hb)(),d=Object(m.ab)().setGeneralSetting,u=Object(m.mb)()._t,p={chatTranslateOn:u("SETTINGS.CHAT_TRANSLATE_TITLE_ON","Turn ON chat translate."),chatTranslateOff:u("SETTINGS.CHAT_TRANSLATE_TITLE_OFF","Turn OFF chat translate."),chatTranslateIsOn:u("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned ON chat translate."),chatTranslateIsOff:u("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned OFF chat translate")},f=!!(r.length>0&&r.includes(t.id)),h=Object(o.useCallback)((function(e){e.persist();var i=!f||!t.is_translate;n.saveChannelTranslateState(Object(a.a)(Object(a.a)({},t),{},{is_translate:i})),b(Object(a.a)(Object(a.a)({},t),{},{is_translate:i}));var o=t.id;d(i?{translated_channels:[].concat(Object(Dt.a)(r),[o])}:{translated_channels:r.filter((function(e){return e!==o}))}),l.success(c.a.createElement("span",null,i?p.chatTranslateIsOn:p.chatTranslateIsOff))})),b=Object(o.useCallback)((function(e){i(Object(A.db)(e,(function(){var t=Object(a.a)({},e);i(Object(A.hb)(t))})))}));return c.a.createElement(dn,{onClick:h},f?p.chatTranslateOff:p.chatTranslateOn)},mn=n(884),pn=function(e){var t=e.channel,n=Object(s.d)((function(e){return e.users.teams})),a=t.members;if("TEAM"===t.type||"DIRECT_TEAM"===t.type){var r=Array.from(Object.values(n)).find((function(e){return e.id===t.entity_id}));if(r)a=[{id:r.id,name:r.name,members:r.members,icon_link:r.icon_link}].concat(Object(Dt.a)(a))}else if("TOPIC"===t.type&&t.team_ids&&t.team_ids.length){var i=Array.from(Object.values(n)).filter((function(e){return t.team_ids.some((function(t){return t===e.id}))})).map((function(e){return{id:e.id,name:e.name,members:e.members,icon_link:e.icon_link}}));a=[].concat(Object(Dt.a)(i),Object(Dt.a)(a))}return c.a.createElement("div",{className:"d-none d-lg-flex chat-header-right"},c.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(t.type)&&c.a.createElement("li",null,c.a.createElement(mn.a,{members:a,sharedUsers:t.sharedSlug}))))}},927:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n(6),i=n(0),o=n.n(i),c=n(4),s=n(49),l=n(5),d=n(13),u=n(10),m=n(77);function p(){var e=Object(r.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return p=function(){return e},e}var f=Object(l.b)(m.c)(p()),h=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.file,i=e.files,c=e.scrollRef,s=void 0===c?null:c,l=e.actions,d=e.forceDelete,m=e.disableOptions,p=Object(u.hb)(),h=Object(u.mb)()._t,b={rename:h("FILES.RENAME","Rename"),restore:h("FILES.RESTORE","Restore"),remove:h("FILES.REMOVE","Remove"),viewDetails:h("FILES.VIEW_DETAILS","View details"),share:h("FILES.SHARE","Share"),download:h("FILES.DOWNLOAD","Download"),moveTo:h("FILES.MOVE_TO","Move to"),favorite:h("FILES.FAVORITE","Favorite"),unfavorite:h("FILES.UNFAVORITE","Unfavorite")};return o.a.createElement(f,{className:"file-options ".concat(n),moreButton:"more-horizontal",file:r,scrollRef:s},o.a.createElement("div",{onClick:function(){l.viewCompanyFiles(r,i)}},b.viewDetails),o.a.createElement("div",{onClick:function(){l.download(r)}},b.download),d?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(){l.restoreCompanyFile(r,(function(e,t){t&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?p.success(o.a.createElement(o.a.Fragment,null,"Item ",o.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):p.success(o.a.createElement(o.a.Fragment,null,"Item ",o.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},b.restore)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(){l.copyLink(r.view_link)}},b.share),o.a.createElement("div",{onClick:function(){l.favorite(r)}},r.is_favorite?b.unfavorite:b.favorite),o.a.createElement("div",{onClick:function(){l.moveCompanyFile(r)}},b.moveTo),o.a.createElement("div",{onClick:function(){l.renameCompanyFile(r)}},b.rename)),!m&&o.a.createElement("div",{onClick:function(){r.hasOwnProperty("payload_id")?l.unlinkGoogleAttachment(r):l.removeCompanyFile(r,(function(){}),d)}},b.remove))})),b=n(1),E=n(12),g=n(66);function O(){var e=Object(r.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return O=function(){return e},e}function v(){var e=Object(r.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]);return v=function(){return e},e}var _=l.b.div(v()),T=Object(l.b)(E.u)(O()),w=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.folders,c=e.file,s=e.files,l=e.actions,d=e.forceDelete,u=void 0!==d&&d,p=e.disableOptions,f=l.getFileSizeUnit(c.hasOwnProperty("size")&&"number"===typeof c.size?c.size:0),g=Object(i.useState)(c.is_favorite),O=Object(a.a)(g,2),v=O[0],w=O[1],k=Object(i.useState)("undefined"===typeof c.name?c.search:c.name),N=Object(a.a)(k,2),y=N[0],A=N[1],S=function(){l.viewCompanyFiles(c,s)};return Object(i.useEffect)((function(){A("undefined"===typeof c.name?c.search:c.name)}),[c.name,c.search]),o.a.createElement(_,{className:"file-list-item ".concat(n)},o.a.createElement("div",{className:"card  app-file-list"},o.a.createElement("div",{className:"string"===typeof c.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:S},!0===v&&o.a.createElement(T,{icon:"star"}),l.getFileIcon(c.mime_type),"number"===typeof c.id&&o.a.createElement(h,{file:c,files:s,folders:r,actions:Object(b.a)(Object(b.a)({},l),{},{favorite:function(){w((function(e){return!e})),l.favorite(c)}}),forceDelete:u,disableOptions:p}),"string"===typeof c.id&&o.a.createElement(m.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),o.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:S},o.a.createElement(E.v,{content:y},o.a.createElement("div",{className:"file-name"},c.hasOwnProperty("payload_id")&&o.a.createElement(E.u,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),y)),o.a.createElement("div",{className:"text-muted"},f.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],f.unit))))})),k=n(14),N=n(185);n(232);function y(){var e=Object(r.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]);return y=function(){return e},e}function A(){var e=Object(r.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"]);return A=function(){return e},e}function S(){var e=Object(r.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return S=function(){return e},e}function j(){var e=Object(r.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"]);return j=function(){return e},e}var C=l.b.div(j(),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),x=Object(l.b)(E.u)(S()),I=(l.b.img(A(),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),l.b.div(y())),R=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.folder,c=e.actions,l=e.history,d=e.params,m=e.handleAddEditFolder,p=e.disableOptions,f=Object(s.j)(),h=f.path,g=f.url,O=Object(i.useRef)(null),v=Object(i.useState)(!1),_=Object(a.a)(v,2),T=_[0],w=_[1],y=Object(i.useState)(r.bg_color?r.bg_color:""),A=Object(a.a)(y,2),S=A[0],j=A[1],R=function(e){if(e.preventDefault(),e.stopPropagation(),r.hasOwnProperty("payload"))window.open(r.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===h){var t=g.split("/folder/")[0];l.push(t+"/folder/".concat(r.id,"/").concat(Object(k.i)(r.search)))}else l.push(l.location.pathname+"/folder/".concat(r.id,"/").concat(Object(k.i)(r.search)))};return Object(i.useEffect)((function(){if(""!==S&&S!==r.bg_color&&!T){var e={id:r.id,name:r.search,bg_color:S};r.parent_folder&&(e=Object(b.a)(Object(b.a)({},e),{},{folder_id:r.parent_folder.id})),c.updateCompanyFolders(e)}}),[T,S]),Object(i.useEffect)((function(){j(r.bg_color)}),[r.bg_color]),Object(u.J)(O,(function(){return w(!T)}),T),o.a.createElement(C,{className:"file-list-item ".concat(n),color:S},o.a.createElement("div",{className:"card  app-file-list"},o.a.createElement("div",{className:"app-file-icon cursor-pointer"},o.a.createElement("div",{onClick:R},r.hasOwnProperty("payload")&&o.a.createElement(x,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),o.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!p&&o.a.createElement(de,{folder:r,actions:c,history:l,params:d,handleAddEditFolder:m})),T&&o.a.createElement(I,{ref:O},o.a.createElement(N.a,{color:S,onChange:function(e,t){t.stopPropagation(),j(e.hex)}}))),o.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:R},o.a.createElement(E.v,{content:r.search},o.a.createElement("div",{className:"file-name"},r.search)))))})),L=n(890);function P(){var e=Object(r.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return P=function(){return e},e}function D(){var e=Object(r.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return D=function(){return e},e}function M(){var e=Object(r.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]);return M=function(){return e},e}function F(){var e=Object(r.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return F=function(){return e},e}var U=l.b.div(F()),W=Object(l.b)(m.c)(M()),H=l.b.div(D()),B=l.b.div(P()),G=o.a.memo((function(e){var t=e.className,r=void 0===t?"":t,s=e.dropZoneRef,l=e.filter,d=e.search,u=e.files,m=e.handleAddEditFolder,p=e.actions,f=e.params,h=e.folders,O=e.folder,v=e.fileIds,_=e.history,T=e.subFolders,k=e.dictionary,N=e.disableOptions,y=e.loadMore,A=e.isLoaded,S=document.querySelector(".app-content-body"),j=Object(c.d)((function(e){return e.session.user})),C={files:Object(i.useRef)(null),btnLoadMore:Object(i.useRef)(null)},x=Object(i.useState)(!1),I=Object(a.a)(x,2),P=I[0],D=I[1],M=function(){s.current&&s.current.open()},F=function(){D(!1)},G=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&C.btnLoadMore.current&&C.btnLoadMore.current.click()};return Object(i.useEffect)((function(){if(C.files.current){var e=C.files.current;return e&&"0"===e.dataset.loaded?(y.files(),e.dataset.loaded="1",C.files.current.addEventListener("scroll",G,!1),function(){return C.files.current.removeEventListener("scroll",G,!1)}):void 0}}),[C.files.current]),o.a.createElement(U,{className:"files-body card app-content-body ".concat(r),onDragOver:function(){["recent","important","removed"].includes(l)||P||D(!0)}},o.a.createElement("span",{className:"d-none",ref:C.btnLoadMore,onClick:y.files},"Load more"),!N&&o.a.createElement(g.a,{ref:s,hide:!P,onDragLeave:F,onDrop:function(e){!function(e){D(!1);var t=Math.floor(Date.now()/1e3),a=new FormData;for(var r in e)e.hasOwnProperty(r)&&(e[r].reference_id=n(59).generate(),a.append("files["+r+"]",e[r]));var i={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:O?O.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:j.id,view_link:null,uploading:!0}})),folder_id:O?O.id:null};p.uploadingCompanyFiles(i);var o={is_primary:0,files:a};f.folderId&&(o=Object(b.a)(Object(b.a)({},o),{},{folder_id:f.folderId}));var c=i.files.map((function(e){return e.id}));p.uploadCompanyBulkFiles(o,c)}(e.acceptedFiles)},onCancel:F,params:f}),o.a.createElement("div",{ref:C.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof u&&o.a.createElement(o.a.Fragment,null,O&&"removed"!==l&&!N&&o.a.createElement(W,{moreButton:"settings"},o.a.createElement("div",{onClick:function(){m(O,"update")}},k.editFolder),o.a.createElement("div",{onClick:function(){if(O){p.removeFolder(O,(function(e,t){if(!e&&t){var n=_.location.pathname.split("/folder/")[0];_.push(n)}}))}}},k.removeFolder)),"removed"===l&&u&&u.hasOwnProperty("trash_files")&&(Object.keys(u.trash_files).length>0||Object.values(h).filter((function(e){return e.is_archived})).length>0)&&o.a.createElement(E.u,{icon:"trash",onClick:p.removeAllCompanyTrashFiles}),""===l&&o.a.createElement(o.a.Fragment,null,"undefined"===typeof f.folderId&&o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},k.allFiles),O&&o.a.createElement(K,{folder:O,history:_,dictionary:k,folders:h}),o.a.createElement("div",{className:"row"},f.hasOwnProperty("folderId")?T.filter((function(e){return!e.is_archived})).map((function(e){return o.a.createElement(R,{key:e.id,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:N,folder:e,history:_,params:f,handleAddEditFolder:m})})):Object.values(h).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return o.a.createElement(R,{key:e.id,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:N,folder:e,history:_,params:f,handleAddEditFolder:m})}))),"undefined"!==typeof f.folderId?o.a.createElement(o.a.Fragment,null,O?o.a.createElement(o.a.Fragment,null,o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},O.search),o.a.createElement("div",{className:"row"},o.a.createElement(L.f,{disableOptions:N}),u&&Object.values(u.files).filter((function(e){return e.folder_id===parseInt(f.folderId)})).map((function(e){return o.a.createElement(w,{key:e.id,scrollRef:S,actions:p,folders:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:u.files,disableOptions:N})}))),u&&0===v.length&&o.a.createElement(H,null,o.a.createElement(E.s,{icon:4,height:282}),o.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:M,disabled:N},k.uploadFiles))):o.a.createElement(o.a.Fragment,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement(L.f,{disableOptions:N}),u&&v.map((function(e){return u.files.hasOwnProperty(e)?o.a.createElement(w,{key:e,scrollRef:S,actions:p,folders:h,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:u.files[e],files:u.files,disableOptions:N}):null}))),u&&u.popular_files.length>0&&o.a.createElement(Ee,{search:d,scrollRef:S,files:Object.values(u.files).filter((function(e){return u.popular_files.includes(e.id)})),actions:p,disableOptions:N}),u&&u.recently_edited.length>0&&o.a.createElement(ve,{search:d,scrollRef:S,files:Object.values(u.files).filter((function(e){return u.recently_edited.includes(e.id)})),actions:p,disableOptions:N}),A&&0===u.popular_files.length&&0===u.recently_edited.length&&0===v.length&&0===Object.values(h).filter((function(e){return!0!==e.is_archived})).length&&0===T.length&&o.a.createElement(H,null,o.a.createElement(E.s,{icon:4,height:282}),o.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:M,disabled:N},k.uploadFiles)),!A&&o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ve,{search:d,scrollRef:S,files:Object.values(u.files).filter((function(e){return u.recently_edited.includes(e.id)})),actions:p,disableOptions:N}),!(u&&u.recently_edited.length>0)&&o.a.createElement(H,null,o.a.createElement(E.s,{icon:4,height:282}))),"important"===l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(fe,{search:d,scrollRef:S,files:Object.values(u.files).filter((function(e){return u.favorite_files.includes(e.id)})),actions:p,dictionary:k}),!(u&&u.hasOwnProperty("favorite_files")&&u.favorite_files.length>0)&&o.a.createElement(H,null,o.a.createElement(E.s,{icon:4,height:282}),o.a.createElement(B,null,o.a.createElement("p",null,"No favorite files."),o.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(we,{scrollRef:S,search:d,files:u.trash_files,actions:p,params:f,folders:h,subFolders:T,handleAddEditFolder:m,folder:O,disableOptions:N}),!(u&&u.hasOwnProperty("trash_files")&&Object.keys(u.trash_files).length>0)&&!(Object.values(h).some((function(e){return e.is_archived}))||T.some((function(e){return e.is_archived})))&&o.a.createElement(H,null,o.a.createElement(E.s,{icon:4,height:282}))))))})),z=n(297);function V(){var e=Object(r.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return V=function(){return e},e}var Y=l.b.div(V()),K=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.folder,c=e.history,l=e.dictionary,d=e.folders,u=e.workspaceID,m=Object(s.j)().url,p=Object(i.useState)(!1),f=Object(a.a)(p,2),h=f[0],b=f[1];return Object(i.useEffect)((function(){r.parent_folder&&Object.values(d).forEach((function(e){e.id===r.parent_folder.id&&(e.parent_folder?b(!0):b(!1))})),r.parent_folder||b(!1)}),[r]),o.a.createElement(Y,{className:"files-breadcrumb d-flex ".concat(n)},o.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},o.a.createElement("li",{onClick:function(){var e=c.location.pathname.split("/folder/")[0];c.push(e)}},l.allFiles),o.a.createElement(E.u,{width:12,icon:"chevron-right"}),h&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,o.a.createElement(z.a,{parentFolder:r.parent_folder,workspaceID:u,history:c})),o.a.createElement(E.u,{width:12,icon:"chevron-right"})),r.parent_folder&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{onClick:function(){return function(e){var t=m.split("/folder/")[0];c.push(t+"/folder/".concat(e.id,"/").concat(Object(k.i)(e.name)))}(r.parent_folder)}},r.parent_folder.name),o.a.createElement(E.u,{width:12,icon:"chevron-right"})),o.a.createElement("div",null,r.search)))}));function q(){var e=Object(r.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return q=function(){return e},e}var J=l.b.div(q()),Z=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dropZoneRef,r=e.onSearchChange,i=e.onSearch,s=e.onEnter,l=e.handleAddEditFolder,u=e.folders,m=e.history,p=e.params,f=e.clearFilter,h=e.dictionary,b=e.onClickEmpty,g=e.value,O=Object(c.c)(),v=function(e){if(f(),u.hasOwnProperty(e.target.dataset.value)){var t=u[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):p.hasOwnProperty("folderId")?m.push(m.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Object(k.i)(t.search))):m.push("/files/folder/".concat(t.id,"/").concat(Object(k.i)(t.search)))}},_={label:o.a.createElement(o.a.Fragment,null,o.a.createElement(E.u,{className:"mr-1",icon:"plus"})," ",h.add),items:[{value:"folder",label:h.folder,onClick:function(){return l(null,"create")}},{value:"file",label:h.file,onClick:function(){a.current&&a.current.open()}}]},T={label:h.folders,items:Object.values(u).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:v}}))};return o.a.createElement(J,{className:"files-header app-action ".concat(n)},o.a.createElement("div",{className:"action-left"},o.a.createElement("ul",{className:"list-inline"},o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement(E.e,{dropdown:_})),Object.values(u).filter((function(e){return!e.is_archived})).length>=1&&o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement(E.e,{dropdown:T})),o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){var e={type:"external_file_folder",mode:"create",topic_id:null,params:p};O(Object(d.a)(e))}},h.driveLink))),o.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},o.a.createElement(E.u,{icon:"menu"}))),o.a.createElement("div",{className:"action-right"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",onChange:r,value:g,onKeyDown:s,className:"form-control",placeholder:h.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==g.trim()&&o.a.createElement("button",{onClick:b,className:"btn-cross",type:"button"},o.a.createElement(E.u,{icon:"x"})),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:i},o.a.createElement(E.u,{icon:"search"}))))))}));function X(){var e=Object(r.a)(["\n  width: 15px;\n"]);return X=function(){return e},e}function Q(){var e=Object(r.a)(["\n  cursor: pointer;\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return Q=function(){return e},e}function $(){var e=Object(r.a)([""]);return $=function(){return e},e}function ee(){var e=Object(r.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]);return ee=function(){return e},e}var te=l.b.div(ee()),ne=l.b.div($()),ae=l.b.span(Q(),(function(e){return e.active&&"\n        background: 0 0;\n        color: ".concat(e.theme.colors.secondary,';\n        &:after {\n          content: "";\n          width: 3px;\n          height: 100%;\n          background-color: ').concat(e.theme.colors.secondary,";\n          display: block;\n          position: absolute;\n          top: 0;\n          animation: fadeIn 0.15s linear;\n          left: 0;\n        }\n        .dark & {\n          color: ").concat(e.theme.colors.third,";\n        }\n    ")})),re=Object(l.b)(E.u)(X()),ie=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,r=e.filterFile,i=e.filter,c=void 0===i?"all":i,s=e.dropZoneRef,l=e.storageLimit,d=void 0===l?25:l,p=e.fileCount,f=(e.folders,e.activeFolder,e.clearFilter,e.params,e.disableOptions),h=Object(u.mb)()._t,b=a.getFileSizeUnit(p.storage),g=0===p.storage?0:p.storage<1e8?1e8:p.storage,O={uploadFiles:h("FILE.UPLOAD_FILES","Upload files"),allFiles:h("FILES.ALL_FILES","All files"),recentlyEdited:h("FILES.RECENTLY_EDITED","Recently edited"),favorite:h("FILE.FAVORITE","Favorite"),removed:h("FILES.REMOVED","Removed"),storageStatus:h("FILES.STORAGE_STATUS","Storage Status"),usedOf:h("FILE.USED_OF","used of"),gigabyte:h("FILE.GIGABYTE","GB")};return o.a.createElement(te,{className:"file-sidebar bottom-modal-mobile ".concat(n)},o.a.createElement(ne,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),o.a.createElement("div",{className:"card bottom-modal-mobile_inner"},o.a.createElement("div",{className:"card-body"},o.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:f},O.uploadFiles),o.a.createElement("form",{className:"d-none",id:"file-upload"},o.a.createElement("input",{type:"file",multiple:""}))),o.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},o.a.createElement("div",{className:"list-group list-group-flush"},o.a.createElement(ae,{onClick:r,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(re,{className:"mr-2",icon:"folder"}),O.allFiles,o.a.createElement("span",{className:"small ml-auto"},p.all>0?p.all:null)),o.a.createElement(ae,{onClick:r,"data-filter":"recent",active:"recent"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(re,{className:"mr-2",icon:"monitor"}),O.recentlyEdited),o.a.createElement(ae,{onClick:r,"data-filter":"important",active:"important"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(re,{className:"mr-2",icon:"star"}),O.favorite,o.a.createElement("span",{className:"small ml-auto"},p.stars>0?p.stars:null)),o.a.createElement(ae,{onClick:r,"data-filter":"removed",active:"removed"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement(re,{className:"mr-2",icon:"trash"}),O.removed,o.a.createElement("span",{className:"small ml-auto"},p.trash>0?p.trash:null))),o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"mb-4"},O.storageStatus),o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("div",{className:"mr-3"},o.a.createElement(E.u,{icon:"database"})),o.a.createElement("div",{className:"flex-grow-1"},o.a.createElement(m.d,{amount:g,limit:1e9*d}),o.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},b.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],b.unit," ",O.usedOf," ",d,O.gigabyte)))))))}));function oe(){var e=Object(r.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(r.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: ",";\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return ce=function(){return e},e}l.b.li(ce(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"".concat(e.theme.colors.primary," !important"):"#64625C"}),(function(e){return e.theme.colors.primary})),l.b.ul(oe(),(function(e){return e.maxHeight}));function se(){var e=Object(r.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return se=function(){return e},e}var le=Object(l.b)(m.c)(se()),de=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,c=e.actions,s=e.history,l=e.handleAddEditFolder,d=Object(u.hb)(),m=Object(u.mb)()._t,p={rename:m("FILES.RENAME","Rename"),restore:m("FILES.RESTORE","Restore"),remove:m("FILES.REMOVE","Remove")};return o.a.createElement(le,{className:"file-options ".concat(n),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&!a.is_archived&&o.a.createElement("div",{onClick:function(){l(a,"edit")}},p.rename),a.is_archived&&o.a.createElement("div",{onClick:function(){c.restoreCompanyFolder(a,(function(e,t){t&&(a.parent_folder?d.success(o.a.createElement(o.a.Fragment,null,"Folder ",o.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):d.success(o.a.createElement(o.a.Fragment,null,"Folder ",o.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},p.restore),o.a.createElement("div",{onClick:function(){if(a.hasOwnProperty("payload"))c.unlinkGoogleFolder(a);else{c.removeCompanyFolder(a,(function(e,t){if(!e&&t){var n=s.location.pathname.split("/folder/")[0];s.push(n),d.info(o.a.createElement(o.a.Fragment,null,"You have removed ",o.a.createElement("b",null,a.search),"."))}}))}}},p.remove))})),ue=n(880);function me(){var e=Object(r.a)([""]);return me=function(){return e},e}var pe=l.b.div(me()),fe=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.files,i=e.dictionary;return o.a.createElement(pe,{className:"important-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},i.favoriteTitle),o.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return o.a.createElement(ue.a,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:a})}))))}));function he(){var e=Object(r.a)([""]);return he=function(){return e},e}var be=l.b.div(he()),Ee=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.files,i=e.actions,c=e.disableOptions;return o.a.createElement(be,{className:"popular-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),o.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return o.a.createElement(w,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:i,folders:a,files:r,disableOptions:c})}))))}));function ge(){var e=Object(r.a)([""]);return ge=function(){return e},e}var Oe=l.b.div(ge()),ve=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.folders,r=e.files,i=e.actions,c=e.disableOptions;return o.a.createElement(Oe,{className:"recent-edited-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),o.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return o.a.createElement(w,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:r,folders:a,actions:i,disableOptions:c})}))))}));function _e(){var e=Object(r.a)([""]);return _e=function(){return e},e}var Te=l.b.div(_e()),we=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.actions,r=e.files,i=e.folders,c=e.subFolders,l=e.folder,d=e.params,u=e.handleAddEditFolder,m=e.disableOptions,p=Object(s.g)();return o.a.createElement(Te,{className:"remove-files ".concat(n)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),l&&o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},l.search),o.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?c.filter((function(e){return e.is_archived})).map((function(e){return o.a.createElement(R,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:d,handleAddEditFolder:u,disableOptions:m})})):Object.values(i).filter((function(e){return e.is_archived})).map((function(e){return o.a.createElement(R,{key:e.id,actions:a,folders:i,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:d,handleAddEditFolder:u,disableOptions:m})}))),o.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?r&&Object.values(r).length>0&&Object.values(r).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})).map((function(e){return o.a.createElement(w,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})),actions:a,folders:i,disableOptions:m})})):r&&Object.values(r).length>0&&Object.values(r).map((function(e){return"undefined"!==typeof e?o.a.createElement(w,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r),folders:i,actions:a,disableOptions:m}):null}))))}));function ke(){var e=Object(r.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]);return ke=function(){return e},e}var Ne=l.b.div(ke());t.default=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.isMember,l=e.workspace,m=Object(c.c)(),p=Object(s.g)(),f=Object(u.mb)()._t,h=Object(u.j)(),b=h.params,E=h.isLoaded,g=h.files,O=h.fileCount,v=h.actions,_=h.fileIds,T=h.folders,w=h.folder,k=h.subFolders,N=h.loadMore,y=Object(i.useState)(""),A=Object(a.a)(y,2),S=A[0],j=A[1],C=Object(i.useState)(""),x=Object(a.a)(C,2),I=x[0],R=x[1],L={dropZone:Object(i.useRef)(null)},P=!1;l&&0===l.active&&(P=!0);var D=function(){v.searchCompany(I)},M=function(){R(""),v.clearSearch()},F={createFolder:f("FILE.CREATE_FOLDER","Create folder"),create:f("FILE.CREATE","Create"),updateFolder:f("FILE.UPDATE_FOLDER","Update folder"),update:f("FILE.UPDATE","Update"),editFolder:f("FILE.EDIT_FOLDER","Edit folder"),removeFolder:f("FILE.REMOVE_FOLDER","Remove folder"),add:f("FILE.ADD","Add"),favorite:f("FILE.FAVORITE","Favorite"),favoriteTitle:f("FILE.FAVORITE_TITLE","Favorite"),file:f("FILE.FILE","File"),folder:f("FILE.FOLDER","Folder"),folders:f("FILE.FOLDERS","Folders"),allFiles:f("FILES.ALL_FILES","All files"),recentlyEdited:f("FILES.RECENTLY_EDITED","Recently edited"),removed:f("FILES.REMOVED","Removed"),searchInputPlaceholder:f("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:f("FILE.UPLOAD_FILES","Upload files"),driveLink:f("BUTTON.DRIVE_LINK","Drive link")},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",n={type:"files_folder",folder:"create"===t?null:e,params:b,mode:t,parentFolder:w||null};m(Object(d.a)(n))},W=function(){j("")};return Object(i.useEffect)((function(){w&&w.is_archived&&"removed"!==S&&j("removed")}),[w,S,j]),o.a.createElement(Ne,{className:"container-fluid h-100 fadeIn ".concat(n)},o.a.createElement("div",{className:"row app-block"},o.a.createElement(ie,{init:E,actions:v,isMember:r,clearFilter:W,params:b,dropZoneRef:L.dropZone,className:"col-lg-3",filterFile:function(e){if(b.hasOwnProperty("folderId")){var t=p.location.pathname.split("/folder/")[0];p.push(t)}j(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:S,fileCount:O,folders:T,activeFolder:w,dictionary:F,disableOptions:P}),o.a.createElement("div",{className:"col-lg-9 app-content mb-4"},o.a.createElement("div",{className:"app-content-overlay"}),o.a.createElement(Z,{isMember:r,clearFilter:W,dropZoneRef:L.dropZone,history:p,params:b,onSearch:D,onSearchChange:function(e){""===e.target.value&&M(),R(e.target.value)},onEnter:function(e){"Enter"===e.key&&D()},files:g,handleAddEditFolder:U,folders:T,dictionary:F,disableOptions:P,onClickEmpty:M,value:I}),o.a.createElement(G,{dropZoneRef:L.dropZone,isLoaded:E,loadMore:N,filter:S,search:I,folders:T,folder:w,fileIds:_,subFolders:k,history:p,actions:v,params:b,files:g,handleAddEditFolder:U,dictionary:F,disableOptions:P}))))}))},928:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return Z}));n(905);var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(10),s=n(929),l=n(77);function d(){var e=Object(a.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"]);return d=function(){return e},e}var u=o.b.div(d()),m=(i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.match,r=e.actions,o=a.params,d=Object(c.mb)()._t,m=Object(c.i)(),p=m.timelineInit,f=m.timelineItems,h=m.recentPostsInit,b=Object(c.k)().posts,E=window.innerWidth,g={aboutThisWorkspace:d("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:d("TEAM","Team"),timeline:d("TIMELINE","Timeline"),noRecentPosts:d("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:d("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:d("FILE_ATTACHMENTS","File attachments"),attachedFile:d("ATTACHED_A_FILE","attached a file"),sharedThePost:d("SHARED_THE_POST","shared the post"),hasJoined:d("TIMELINE.HAS_JOINED","has joined"),hasLeft:d("TIMELINE.HAS_LEFT","has left"),youJoined:d("TIMELINE.YOU_JOINED","You joined"),youLeft:d("TIMELINE.YOU_LEFT","You left"),isAdded:d("TIMELINE.IS_ADDED","is added"),isRemoved:d("TIMELINE.IS_REMOVED","is removed"),createdThePost:d("TIMELINE.CREATED_POST","created the post"),isAddedToCompany:d("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company"),updatedWorkspaceTo:d("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:d("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:d("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:d("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:d("TEAM.REVOKE_APPROVER","Assign as approver"),remove:d("TEAM.REMOVE","Remove"),showMore:d("SHOW_MORE","Show more"),showLess:d("SHOW_LESS","Show less"),openPost:d("SYSTEM.OPEN_POST","Open post")};return i.a.createElement(u,{className:"container-fluid h-100 fadeIn ".concat(n)},i.a.createElement("div",{className:"row"},E>620?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-md-6"},i.a.createElement(l.a,{init:p,timeline:f,actions:r,params:o,dictionary:g})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(s.a,{dictionary:g}),i.a.createElement(s.b,{posts:b,dictionary:g}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-md-12"},i.a.createElement(s.a,{dictionary:g}),i.a.createElement(s.b,{init:h,posts:b,dictionary:g}),i.a.createElement(l.a,{init:p,timeline:f,actions:r,params:o,dictionary:g})))))})),n(927),n(7)),p=n(4),f=n(49),h=n(12),b=n(24);function E(){var e=Object(a.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: ',";\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: ",";\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n"]);return E=function(){return e},e}function g(){var e=Object(a.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]);return g=function(){return e},e}function O(){var e=Object(a.a)([""]);return O=function(){return e},e}var v=o.b.div(O()),_=o.b.ul(g()),T=Object(o.b)(h.m)(E(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),w=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(f.h)(),r=Object(c.mb)()._t,o=Object(c.sb)().acceptedActiveUser,s={people:r("ALL_PEOPLE_PAGE_HEADER_LINKS.PEOPLE","People"),teams:r("ALL_PEOPLE_PAGE_HEADER_LINKS.TEAMS","Teams"),organization:r("ALL_PEOPLE_PAGE_HEADER_LINKS.ORGANIZATION","Organization chart")};return i.a.createElement(i.a.Fragment,null,i.a.createElement(v,{className:"".concat(n)},i.a.createElement(_,{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(T,{to:"/system/people/all",active:"/system/people/all"===a.pathname},s.people," (",Object.keys(o).length,")")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(T,{to:"/system/people/teams",active:a.pathname.startsWith("/system/people/teams")},s.teams)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(T,{to:"/system/people/organization",active:"/system/people/organization"===a.pathname},s.organization)))))})),k=n(13);function N(){var e=Object(a.a)(["\n  @media (max-width: 414px) {\n    display: none;\n  }\n  @media (max-width: 700px) {\n    position: absolute;\n    right: 100px;\n    top: 10px;\n  }\n"]);return N=function(){return e},e}var y=o.b.li(N()),A=function(e){var t=e.dictionary,n=Object(f.g)(),a=Object(p.d)((function(e){return e.session.user})),r=Object(p.d)((function(e){return e.users.users})),o=Object(p.d)((function(e){return e.admin.securityLoaded})),s=Object(p.d)((function(e){return e.users.teams})),l=Object(c.pb)(),d=Object(c.hb)(),u=Object(p.c)(),m=a.role.id<=2;return o?i.a.createElement(y,{className:"nav-item-last ml-auto"},m&&"/people"!==n.location.pathname&&i.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){u(Object(k.a)({mode:"create",type:"team",team:null}))}},i.a.createElement(h.u,{className:"mr-2",icon:"user-plus"})," ",t.btnTeam),n.location.pathname.startsWith("/system/people/teams/")&&i.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=n.location.pathname.split("/system/people/teams/")[1].split("/")[0],t=s[e],a={mode:"edit",type:"team",team:t};t&&u(Object(k.a)(a))}},i.a.createElement(h.u,{className:"mr-2",icon:"user-plus"})," ",t.updateTeam),("/system/people/all"===n.location.pathname||"/people"===n.location.pathname)&&i.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"driff_invite_users",hasLastName:!0,invitations:[],fromRegister:!1,onPrimaryAction:function(e,t,n){0===e.length&&n.closeModal();var a=0;e.forEach((function(o,c){Object.values(r).some((function(e){return e.email===o.email}))?(d.error(i.a.createElement(i.a.Fragment,null,"Email ",i.a.createElement("b",null,o.email)," is already taken!")),c===e.length-1&&(a===e.length&&n.closeModal(),t())):l.inviteAsInternalUsers({email:""===o.email&&void 0!==o.phone_number?o.phone_number:o.email,first_name:o.first_name,last_name:o.last_name,team_ids:o.teams?o.teams.map((function(e){return e.id})):[]},(function(r,i){r&&(d.error("Something went wrong with ".concat(o.first_name," ").concat(o.last_name)),n.deleteItemByIndex(n.invitationItems.findIndex((function(e){return e.email===o.email})))),i&&(a+=1,n.deleteItemByIndex(n.invitationItems.findIndex((function(e){return e.email===o.email}))),d.success("You have invited ".concat(o.first_name," ").concat(o.last_name))),c===e.length-1&&(a===e.length&&n.closeModal(),t())}))}))},submitText:t.submitText,cancelText:t.cancelText};u(Object(k.a)(e))}},i.a.createElement(h.u,{className:"mr-2",icon:"user-plus"})," ",t.btnInviteUsers)):null},S=n(887);function j(){var e=Object(a.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n  ","\n"]);return j=function(){return e},e}function C(){var e=Object(a.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return C=function(){return e},e}function x(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n\n  &.page-notifications,\n  &.page-profile,\n  &.page-settings,\n  &.page-system {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 1rem;\n          display: flex;\n          align-items: center;\n          height: 40px;\n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n            overflow: auto;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: "," !important;\n  }\n  svg.feather-home {\n    //color: rgb(80, 80, 80);\n    color: #8b8b8b;\n    width: 20px;\n    height: 20px;\n    .dark & {\n      color: #fff;\n    }\n  }\n  .dash {\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n  .nav-item-last {\n    list-style: none;\n  }\n"]);return x=function(){return e},e}var I=o.b.div(x(),(function(e){return e.theme.colors.primary})),R=o.b.h2(C()),L=Object(o.b)(h.u)(j(),(function(e){return e.isFavorite&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),P=i.a.memo((function(){var e=Object(f.j)(),t=Object(p.d)((function(e){return e.settings})),n=t.driff,a=t.user.GENERAL_SETTINGS.dark_mode,o=Object(p.d)((function(e){return e.global.unreadCounter})),s=Object(p.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),d=Object(p.d)((function(e){return Object.values(e.workspaces.workspaces).find((function(e){return s&&s.id===e.id}))})),u=Object(c.mb)()._t,E={pageTitleDashboard:u("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:u("PAGE_TITLE.POSTS","Posts"),pageTitleChat:u("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:u("PAGE_TITLE.FILES","Files"),pageTitleNotifications:u("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:u("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:u("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:u("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:u("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:u("PAGE_TITLE.TODOS","Reminders"),pageTitleMeetings:u("PAGE_TITLE.MEETINGS","Meetings"),pageTitleSystemPeople:u("PAGE_TITLE.SYSTEM_PEOPLE","All people"),generalSearch:u("GENERAL.SEARCH","Search"),generalNotifications:u("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:u("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===a?u("SETTINGS.DARK_MODE","dark mode"):u("SETTINGS.LIGHT_MODE","light mode")}),bots:u("SIDEBAR.BOTS","Bots"),adminSettings:u("PAGE_TITLE.ADMIN_SETTINGS","Driff settings"),btnTeam:u("BUTTON.TEAM","Team"),btnInviteUsers:u("BUTTON.INVITE_USERS","Invite users"),updateTeam:u("TEAM_MODAL.UPDATE_TEAM_BTN","Update team"),accounts:u("ACCOUNTS","Accounts"),submitText:u("INVITE.SUBMIT_TEXT","Submit"),cancelText:u("INVITE.CANCEL_TEXT","Cancel")},g=Object(p.c)(),O=Object(r.useState)(E.pageTitleDashboard),v=Object(m.a)(O,2),_=v[0],T=v[1],k=function(){if(d){var e={id:d.id,workspace_id:0,is_pinned:d.is_favourite?0:1};g(Object(b.h)(e))}};return Object(r.useEffect)((function(){switch(e.params.page){case"posts":T(E.pageTitlePosts);break;case"chat":T(E.pageTitleChat);break;case"files":T(E.pageTitleFiles);break;case"notifications":T(E.pageTitleNotifications);break;case"people":T(E.pageTitlePeople);break;case"profile":T(E.pageTitleProfile);break;case"search":T(E.pageTitleSearch);break;case"settings":T(E.pageTitleSettings);break;case"todos":T(E.pageTitleTodos);break;case"meetings":T(E.pageTitleMeetings);break;default:T(E.pageTitleDashboard)}o.chat_message>=1||o.unread_channel>0?document.title="".concat(_," \u2039 * ").concat(n.company_name," @ Driff"):document.title="".concat(_," \u2039 ").concat(n.company_name," @ Driff")}),[e.params.page,g,_,n.company_name]),i.a.createElement(I,{className:"page-".concat(e.params.page)},i.a.createElement("div",{className:"navbar-left"},i.a.createElement("div",{className:"navbar-nav"},i.a.createElement("div",{className:"navbar-wrap"},i.a.createElement("div",{className:"navbar-top"},i.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},i.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},i.a.createElement(h.u,{icon:"menu"}))),i.a.createElement(S.a,null),i.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},function(){switch(e.params.page){case"notifications":return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.u,{className:"mr-2",icon:"bell"}),i.a.createElement(R,null,E.pageTitleNotifications));case"profile":return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.u,{className:"mr-2",icon:"user"}),i.a.createElement(R,null,E.pageTitleProfile));case"settings":return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.u,{className:"mr-2",icon:"settings"}),i.a.createElement(R,null,E.pageTitleSettings));case"system":return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.u,{className:"mr-2",icon:"user"}),i.a.createElement(R,null,E.pageTitleSystemPeople));default:return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.u,{className:"mr-2",icon:"home"})," ",i.a.createElement(R,null,n.company_name),s&&i.a.createElement(L,{className:"mr-2",icon:"star",onClick:k,isFavorite:d&&d.is_favourite}))}}())),!["system","notifications","profile","settings"].includes(e.params.page)&&i.a.createElement("div",{className:"navbar-bottom"},i.a.createElement("div",{className:"navbar-main"},i.a.createElement(B,{dictionary:E}))),["system"].includes(e.params.page)&&i.a.createElement("div",{className:"navbar-bottom"},i.a.createElement("div",{className:"navbar-main"},i.a.createElement(w,{dictionary:E,match:e}))))),["system","people"].includes(e.params.page)&&i.a.createElement(A,{dictionary:E})),i.a.createElement("div",null,i.a.createElement(l.b,{dictionary:E})))}));n(906),n(907),n(934);function D(){var e=Object(a.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: ',";\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: ",";\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n"]);return D=function(){return e},e}function M(){var e=Object(a.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]);return M=function(){return e},e}function F(){var e=Object(a.a)([""]);return F=function(){return e},e}var U=o.b.div(F()),W=o.b.ul(M()),H=Object(o.b)(h.m)(D(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),B=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,r=Object(p.d)((function(e){return e.global.unreadCounter})),o=Object(p.d)((function(e){return e.chat.lastVisitedChannel})),c=Object(p.d)((function(e){return e.session.user})),s=Object(p.d)((function(e){return e.global.todos.count}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,{className:"".concat(n)},i.a.createElement(W,{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:"/dashboard"},a.pageTitleDashboard)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:null!==o&&o.hasOwnProperty("code")?"/chat/".concat(o.code):"/chat"},a.pageTitleChat," ",i.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.chat_message>0?r.chat_message:null))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:"/posts"},a.pageTitlePosts," ",i.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.general_post>0?r.general_post:null))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:"/todos"},a.pageTitleTodos," ",i.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},s.todo_with_date>0?s.todo_with_date:null))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:"/meetings"},a.pageTitleMeetings)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:"/files"},a.pageTitleFiles)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:"/people"},a.pageTitlePeople)),c.role&&1===c.role.id&&i.a.createElement("li",{className:"nav-item"},i.a.createElement(H,{to:"/admin-settings"},a.adminSettings)))))})),G=n(888),z=n(884),V=n(932);function Y(){var e=Object(a.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(a.a)(["\n  padding: 2rem;\n"]);return K=function(){return e},e}var q=o.b.div(K()),J=o.b.div(Y(),(function(e){return e.theme.colors.primary})),Z=function(e){var t=e.users,n=Object(o.c)(),a=Object(p.d)((function(e){return e.users.teams})),r=Object(p.d)((function(e){return e.settings.driff.company_name}));return i.a.createElement(q,null,i.a.createElement(G.a,{lineWidth:"2px",lineColor:n.colors.primary,lineBorderRadius:"10px",label:i.a.createElement(J,null,i.a.createElement("div",{className:"team-name mb-2"},i.a.createElement(h.u,{className:"mr-2",icon:"home"}),r),i.a.createElement("div",{className:"mb-1"},t.length," accounts"),i.a.createElement(z.a,{members:t}))},Object.values(a).filter((function(e){return 0===e.parent_team})).map((function(e){return i.a.createElement(V.a,{key:e.id,team:e,allTeams:Object.values(a)})}))))}},929:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return x}));var a=n(7),r=n(6),i=n(0),o=n.n(i),c=n(5),s=n(12);function l(){var e=Object(r.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]);return d=function(){return e},e}function u(){var e=Object(r.a)(["\n  border-left: ",";\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .feather-edit {\n    color: #8b8b8b;\n  }\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n\n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return u=function(){return e},e}var m=c.b.div(u(),(function(e){return"5px solid ".concat(e.theme.colors.primary)}),(function(e){return e.theme.colors.primary})),p=c.b.div(d()),f=c.b.div(l(),(function(e){return e.height})),h=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.onEditClick,c=e.workspace,l=e.isMember,d=e.isExternal,u=e.dictionary,h=Object(i.useState)(""),b=Object(a.a)(h,2),E=b[0],g=b[1],O=Object(i.useState)(null),v=Object(a.a)(O,2),_=v[0],T=v[1],w=Object(i.useState)(140),k=Object(a.a)(w,2),N=k[0],y=k[1],A={description:Object(i.useRef)(null)};return Object(i.useEffect)((function(){A.description.current&&(!0===_?setTimeout((function(){A.description.current.style.overflow=""}),[300]):!1===_&&(A.description.current.style.overflow="hidden"))}),[_,A.description.current]),Object(i.useEffect)((function(){c&&E!==c.description&&(g(c.description),T(null),A.description.current=null)}),[c]),o.a.createElement(m,{className:"dashboard-about-workspace card ".concat(n)},o.a.createElement("div",{className:"bg-overlay ".concat(null===_?"":!0===_?"show":"hide")}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},u.aboutThisWorkspace," ",!0===l&&!d&&1===c.active&&o.a.createElement(s.u,{icon:"edit",onClick:r})),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{className:null===_?"":!0===_?"show":"hide"},o.a.createElement(f,{ref:function(e){null===A.description.current&&e&&(A.description.current=e,e.clientHeight>140?(y(e.clientHeight),T(!1)):T(null))},height:N,className:"dashboard-description ".concat(null===_?"":!0===_?"show":"hide"),dangerouslySetInnerHTML:{__html:c.description}}),null!==_&&o.a.createElement("div",{onClick:function(e){e.preventDefault(),T((function(e){return!e}))},className:"btn-toggle-show cursor-pointer mt-2"},_?u.showLess:u.showMore)))))})),b=n(882),E=n(4),g=n(10);function O(){var e=Object(r.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  .feather-plus {\n    color: #8b8b8b;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return O=function(){return e},e}var v=c.b.div(O(),(function(e){return e.theme.colors.primary})),_=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,r=e.workspace,c=e.onEditClick,l=e.isExternal,d=e.isMember,u=e.dictionary,m=e.actions,p=Object(i.useRef)(null),f=Object(i.useState)(!1),h=Object(a.a)(f,2),O=h[0],_=h[1],T=Object(g.hb)(),w=Object(E.d)((function(e){return e.session.user})),k=!d||0===r.active,N=r.members,y=function(){_((function(e){return!e}))},A=function(e,t){m.leave(e,t,(function(t,n){t||T.success(o.a.createElement(o.a.Fragment,null,u.leaveWorkspace,o.a.createElement("b",null,e.name)))}))},S=function(e,t){var n={topic_id:r.id,user_id:e.id,role:t};m.addRole(n)};return o.a.createElement(v,{className:"dashboard-team card ".concat(n),ref:p},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},u.team," ",!0===d&&!l&&1===r.active&&o.a.createElement(s.u,{onClick:c,icon:"plus"})),0===N.length?o.a.createElement(o.a.Fragment,null,u.emptyTeam):o.a.createElement("ul",{className:"list-group list-group-flush"},(O?N:N.slice(0,5)).map((function(e,t){return o.a.createElement(b.c,{key:e.id,member:e,onLeaveWorkspace:A,onAddRole:S,hideOptions:k,actions:m,workspace_id:r.id,dictionary:u,showMoreButton:4===t&&N.length>5&&!O,showLessButton:t===N.length-1&&N.length>5&&O,toggleShow:y,loggedUser:w,workspace:r})})))))})),T=n(49),w=n(89);function k(){var e=Object(r.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    color: #8b8b8b;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]);return k=function(){return e},e}var N=c.b.div(k(),(function(e){return e.theme.colors.primary}));o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.posts,r=e.dictionary,c=e.disableOptions,l=Object(g.L)(),d=Object(T.j)(),u=function(e){l.openPost(e,d.url.replace("/hub/dashboard/","/hub/posts/"))};return Object(i.useEffect)((function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}),[d.params.workspaceId]),o.a.createElement(N,{className:"recent-posts card ".concat(n)},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},r.recentPosts," ",o.a.createElement(s.u,{icon:"refresh-ccw",onClick:function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}})),a&&Object.keys(a).length?o.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return o.a.createElement(w.e,{key:e.id,post:e,postActions:l,onOpenPost:u,disableOptions:c})}))):o.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))}));function y(){var e=Object(r.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return y=function(){return e},e}var A=c.b.div(y(),(function(e){return e.theme.colors.primary})),S=function(e){var t=e.className,n=void 0===t?"":t,r=e.onEditClick,c=e.dictionary,s=e.actions,l=Object(i.useRef)(null),d=Object(E.d)((function(e){return e.users.users})),u=Object(E.d)((function(e){return e.session.user})),m=Object(i.useState)(!1),p=Object(a.a)(m,2),f=p[0],h=p[1],g=function(){h((function(e){return!e}))},O=Object.values(d).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,t){return e.name.localeCompare(t.name)}));return o.a.createElement(A,{className:"dashboard-team card ".concat(n),ref:l},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},c.team),o.a.createElement("ul",{className:"list-group list-group-flush"},(f?O:O.slice(0,5)).map((function(e,t){return o.a.createElement(b.c,{key:e.id,member:e,hideOptions:!0,onEditClick:r,actions:s,dictionary:c,showMoreButton:4===t&&O.length>5&&!f,showLessButton:t===O.length-1&&O.length>5&&f,showMore:f,toggleShow:g,loggedUser:u})})))))};function j(){var e=Object(r.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    color: #8b8b8b;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]);return j=function(){return e},e}var C=c.b.div(j(),(function(e){return e.theme.colors.primary})),x=o.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.posts,r=e.dictionary,c=e.disableOptions,l=Object(g.L)(),d=Object(T.j)(),u=function(e){l.openPost(e,d.url.replace("/hub/dashboard/","/hub/posts/"))};return Object(i.useEffect)((function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}),[d.params.workspaceId]),o.a.createElement(C,{className:"recent-posts card ".concat(n)},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},r.recentPosts," ",o.a.createElement(s.u,{icon:"refresh-ccw",onClick:function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}})),a&&Object.keys(a).length?o.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return o.a.createElement(w.e,{key:e.id,post:e,postActions:l,onOpenPost:u,disableOptions:c})}))):o.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))}))},930:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return L})),n.d(t,"a",(function(){return B}));n(914);var a=n(6),r=n(0),i=n.n(r),o=n(5);function c(){var e=Object(a.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(a.a)([""]);return s=function(){return e},e}var l=o.b.div(s()),d=o.b.span(c(),(function(e){return e.active&&"\n        background: 0 0;\n        color: ".concat(e.theme.colors.secondary,';\n        &:after {\n          content: "";\n          width: 3px;\n          height: 100%;\n          background-color: ').concat(e.theme.colors.secondary,";\n          display: block;\n          position: absolute;\n          top: 0;\n          animation: fadeIn 0.15s linear;\n          left: 0;\n        }\n        .dark & {\n          color: ").concat(e.theme.colors.third,";\n        }\n    ")})),u=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,r=e.todoActions,o=e.setFilter,c=e.filter,s=e.count;return i.a.createElement(l,{className:"todo-sidebar bottom-modal-mobile ".concat(n)},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return r.createFromModal()}},a.createNewTodoItem)),i.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},i.a.createElement("div",{className:"list-group list-group-flush"},i.a.createElement(d,{onClick:o,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),a.statusAll,s&&s.all>0&&i.a.createElement("span",{className:"small ml-auto"},s.all)),i.a.createElement(d,{onClick:o,"data-filter":"OVERDUE",active:"OVERDUE"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),a.statusExpired),i.a.createElement(d,{onClick:o,"data-filter":"TODAY",active:"TODAY"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"TODAY"},i.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),a.statusToday),s&&s.today>0&&i.a.createElement("span",{className:"small ml-auto"},s.today)),i.a.createElement(d,{onClick:o,"data-filter":"NEW",active:"NEW"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"NEW"},i.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),a.statusUpcoming),s&&s.new>0&&i.a.createElement("span",{className:"small ml-auto"},s.new)),i.a.createElement(d,{onClick:o,"data-filter":"ASSIGNED_TO_OTHERS",active:"ASSIGNED_TO_OTHERS"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},i.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByMe),s&&s.assigned_to_others>0&&i.a.createElement("span",{className:"small ml-auto"},s.assigned_to_others)),i.a.createElement(d,{onClick:o,"data-filter":"ADDED_BY_OTHERS",active:"ADDED_BY_OTHERS"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},i.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByOthers),s&&s.added_by_others>0&&i.a.createElement("span",{className:"small ml-auto"},s.added_by_others))))))})),m=n(12);function p(){var e=Object(a.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return p=function(){return e},e}var f=o.b.div(p()),h=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.clearSearch,r=e.onEnter,o=e.dictionary,c=e.onSearchChange,s=e.searchValue;return i.a.createElement(f,{className:"todos-header app-action ".concat(n)},i.a.createElement("div",{className:"action-left"},i.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},i.a.createElement(m.u,{icon:"menu"}))),i.a.createElement("div",{className:"action-right"},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",onKeyDown:r,onChange:c,value:s,className:"form-control",placeholder:o.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==s.trim()&&i.a.createElement("button",{onClick:a,className:"btn-cross",type:"button"},i.a.createElement(m.u,{icon:"x"})),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},i.a.createElement(m.u,{icon:"search"}))))))})),b=n(1),E=n(7),g=n(19),O=n(23),v=n(4),_=n(45);function T(){var e=Object(a.a)(["\n  min-width: 415px;\n  @media all and (max-width: 480px) {\n    flex-flow: row wrap;\n  }\n"]);return T=function(){return e},e}function w(){var e=Object(a.a)(["\n  min-width: 142px;\n  text-align: right;\n  @media all and (max-width: 480px) {\n    min-width: 70px;\n  }\n"]);return w=function(){return e},e}function k(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]);return k=function(){return e},e}function N(){var e=Object(a.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .driff-talk-label {\n    text-align: left;\n    span {\n      display: inline-flex;\n      align-items: center;\n    }\n    svg {\n      margin-left: 5px;\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n  .todo-title {\n    text-decoration: ",";\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n    .avatars-container {\n      min-width: 40px;\n    }\n  }\n"]);return N=function(){return e},e}function y(){var e=Object(a.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]);return y=function(){return e},e}function A(){var e=Object(a.a)(["\n  width: 16px;\n  cursor: pointer;\n"]);return A=function(){return e},e}var S=Object(o.b)(m.u)(A()),j=o.b.div(y()),C=o.b.li(N(),(function(e){return e.isDone?"line-through":"none"})),x=o.b.div(k()),I=o.b.div(w()),R=o.b.div(T()),L=function(e){var t=e.todo,n=e.todoActions,a=e.handleLinkClick,o=e.dictionary,c=e.todoFormat,s=e.todoFormatShortCode,l=e.getFileIcon,d=e.showWsBadge,u=e.handleRedirectToWorkspace,p=e.workspace,f=Object(v.c)(),h=(Object(v.d)((function(e){return e.session.user})),Object(r.useState)("DONE"===t.status)),T=Object(E.a)(h,2),w=T[0],k=T[1],N=Object(v.d)((function(e){return e.files.fileBlobs})),y=Object(v.d)((function(e){return e.workspaces.sharedWorkspaces})),A=Object(r.useRef)(null);Object(r.useEffect)((function(){A.current&&A.current.querySelectorAll("img").forEach((function(e){var n=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=t.files.find((function(e){return n.includes(e.code)}));a&&N[a.id]&&(e.setAttribute("src",N[a.id]),e.setAttribute("data-id",a.id))}else{e.classList.add("has-listener");var r=t.files.find((function(e){return n.includes(e.code)}));r&&N[r.id]&&(e.setAttribute("src",N[r.id]),e.setAttribute("data-id",r.id))}}));var e=t.files.filter((function(e){return e.type&&e.type.includes("image")}));e.length&&e.forEach((function(e){N[e.id]||_.sessionService.loadSession().then((function(t){var n=t.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:n,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var n=URL.createObjectURL(t);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};f(Object(O.qb)(e,t))}({id:e.id,src:n})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[t.files,t.description,A]);var L=function(e){e.stopPropagation(),e.preventDefault(),n.updateFromModal(t)},P=function(e){e.preventDefault(),t.link_type?a(e,t):n.updateFromModal(t)},D=t.assigned_to&&t.assigned_to.id!==t.user||null!==t.workspace&&null===t.assigned_to||null===t.workspace&&null!==t.assigned_to&&t.assigned_to.id!==t.user||t.assigned_to&&t.author&&t.assigned_to.id!==t.author.id;return i.a.createElement(i.a.Fragment,null,i.a.createElement(C,{className:"reminder-list",isDone:w},i.a.createElement("div",{className:"d-flex align-items-center reminder-content"},i.a.createElement("span",{className:"custom-control custom-checkbox mr-2"},i.a.createElement(m.v,{content:"DONE"===t.status?o.actionMarkAsUndone:o.actionMarkAsDone},i.a.createElement(g.p,{checked:w,onClick:function(e){var a=Object(b.a)({},t);if(p&&p.sharedSlug){var r={slug:p.slug,token:y[p.slug].access_token,is_shared:!0};a=Object(b.a)(Object(b.a)({},a),{},{sharedPayload:r})}k(!w),"DONE"===t.status&&w?n.markUnDone(a):"DONE"===t.status||w||n.markDone(a)}}))),i.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3 ".concat(w&&"text-muted"),onClick:P},i.a.createElement("span",{className:"todo-title"},t.title),!w&&t.files.map((function(e){return i.a.createElement("span",{key:"".concat(t.id).concat(e.file_id),onClick:function(n){return function(e,t,n){e.preventDefault(),e.stopPropagation();var a={files:t.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{filename:e.name})})),file_id:n.file_id};f(Object(O.fc)(a))}(n,t.files,e)}},l(e.mime_type))}))),i.a.createElement(j,{className:"hover-btns ml-1"},i.a.createElement(S,{icon:"pencil",onClick:L}),i.a.createElement(S,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault();var a=Object(b.a)({},t);if(p&&p.sharedSlug){var r={slug:p.slug,token:y[p.slug].access_token,is_shared:!0};a=Object(b.a)(Object(b.a)({},a),{},{sharedPayload:r})}n.removeConfirmation(a)}})),i.a.createElement(R,{className:"d-flex align-items-center ml-auto"},i.a.createElement(x,{className:"".concat(w&&"text-muted")},i.a.createElement(S,{icon:"calendar"}),i.a.createElement(m.v,{content:t.remind_at?c(t.remind_at.timestamp):o.addDate},i.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(t)),onClick:L},t.remind_at?s(t.remind_at.timestamp,"MM/DD/YYYY"):o.addDate))),i.a.createElement(I,null,null!==t.link_type&&i.a.createElement("span",{className:"badge mr-3 badge-light todo-type-badge ".concat(w&&"text-muted"),onClick:P},function(e){switch(e.link_type){case"POST":return o.typePost;case"CHAT":return o.typeChat;case"POST_COMMENT":return o.typePostComment;default:return null}}(t))),i.a.createElement("div",{className:" d-flex flex-column"},i.a.createElement("div",null,t.workspace&&d&&i.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return u(e,t)}},i.a.createElement("span",{className:"badge ml-4 badge-light border-0"},t.workspace.name))),i.a.createElement("div",{className:"avatars-container"},t.author&&i.a.createElement(m.a,{name:t.author.name,tooltipName:o.reminderAuthor,imageLink:t.author.profile_image_link,id:t.author.id,sharedUser:(null===p||void 0===p?void 0:p.sharedSlug)?t.author:null}),D&&i.a.createElement(i.a.Fragment,null,i.a.createElement(S,{icon:"chevron-right"}),i.a.createElement(m.a,{name:t.assigned_to?t.assigned_to.name:t.workspace.name,tooltipName:o.reminderAssignedTo,imageLink:t.assigned_to?t.assigned_to.profile_image_link:t.workspace&&t.workspace.team_channel?t.workspace.team_channel.icon_link:null,id:t.assigned_to?t.assigned_to.id:t.workspace.id,type:t.assigned_to?"USER":"TOPIC",noDefaultClick:!t.assigned_to,sharedUser:(null===p||void 0===p?void 0:p.sharedSlug)?t.assigned_to:null}))))))))},P=n(49),D=n(10),M=n(891);function F(){var e=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]);return F=function(){return e},e}function U(){var e=Object(a.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n']);return U=function(){return e},e}var W=o.b.div(U(),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),H=Object(o.b)(M.a)(F()),B=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.dictionary,o=e.isLoaded,c=e.todoActions,s=e.todoItems,l=e.doneTodoItems,d=e.workspaceName,u=void 0===d?null:d,m=e.workspace,p=void 0===m?null:m,f=Object(D.gb)(),h=f.todoFormat,g=f.todoFormatShortCode,O=Object(D.t)().getFileIcon,v=Object(D.U)(),_=Object(P.i)(),T=function(e,t){if(e.preventDefault(),"DRIFF_TALK"===t.link_type)c.updateFromModal(t);else if("CHAT"===t.link_type)v.toChat(t.data.channel,t.data.chat_message);else{var n={id:"POST_COMMENT"===t.link_type&&t.data?t.data.post.id:t.link_id,title:t.title},a=null;t.workspace&&(a=Object(b.a)(Object(b.a)({},t.workspace),{},{folder_id:t.folder?t.folder.id:null,folder_name:t.folder?t.folder.name:null})),v.toPost({workspace:a,post:n})}},w=Object(r.useState)({todo:!0,done:!1}),k=Object(E.a)(w,2),N=k[0],y=k[1],A=Object(r.useState)(!0),S=Object(E.a)(A,2),j=S[0],C=S[1],x=function(e,t){e.preventDefault(),e.stopPropagation(),v.toWorkspace(t.workspace,"reminders")},I=function(){C(!j)},R=function(e){return Object.values(e).sort((function(e,t){return j?e.remind_at&&t.remind_at?e.remind_at.timestamp-t.remind_at.timestamp:e.remind_at&&null===t.remind_at?1:null===e.remind_at&&t.remind_at?-1:null===e.remind_at&&null===t.remind_at?e.title.localeCompare(t.title):void 0:e.title.localeCompare(t.title)}))};return i.a.createElement(W,{className:"todos-body card app-content-body mb-4 ".concat(n),active:!s.length},!o&&i.a.createElement("div",{className:"card-body"},i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),o&&i.a.createElement("div",{className:"card-body"},i.a.createElement(H,{active:N.todo,dictionary:a,handleHeaderClick:function(){y({todo:!N.todo,done:N.done})},headerText:a.todo,items:R(s),params:_,workspaceName:u,sortByDate:j,handleSort:I,ItemList:function(e){return i.a.createElement(L,{key:e.id,todo:e,todoActions:c,dictionary:a,handleLinkClick:T,todoFormat:h,todoFormatShortCode:g,getFileIcon:O,showWsBadge:!_.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:x,workspace:p})}}),i.a.createElement(H,{active:N.done,dictionary:a,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){y({todo:N.todo,done:!N.done})},headerText:a.done,items:R(l),params:_,workspaceName:null,sortByDate:j,handleSort:I,ItemList:function(e){return i.a.createElement(L,{key:e.id,todo:e,todoActions:c,dictionary:a,handleLinkClick:T,todoFormat:h,todoFormatShortCode:g,getFileIcon:O,showWsBadge:!_.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:x,workspace:p})}})))}));function G(){var e=Object(a.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return G=function(){return e},e}function z(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n  background: #f8f9fa !important;\n  border: 1px solid #f8f9fa;\n"]);return z=function(){return e},e}function V(){var e=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    stroke: #191c20;\n  }\n  div:first-child {\n    padding-left: 20px;\n    padding-right: 0;\n  }\n"]);return V=function(){return e},e}o.b.div(V()),o.b.span(z()),o.b.div(G()),n(892)},931:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),i=n.n(r),o=n(49),c=n(5),s=n(10),l=n(13),d=n(4),u=n(14),m=n(30),p=n(8),f=n(1),h=n(888),b=n(884),E=n(12),g=n(932);function O(){var e=Object(a.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]);return O=function(){return e},e}function v(){var e=Object(a.a)(["\n  padding: 1rem;\n  width: 100%;\n  // overflow: auto;\n"]);return v=function(){return e},e}var _=c.b.div(v()),T=c.b.div(O(),(function(e){return e.theme.colors.primary})),w=function(e){var t=e.dictionary,n=Object(c.c)(),a=Object(d.d)((function(e){return e.users.users})),r=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot","huddle_bot","driff_channel_bot"],s=Object.values(a).filter((function(e){return"internal"===e.type&&!r.includes(e.email)})),l=Object.values(a).filter((function(e){return"external"===e.type&&!r.includes(e.email)})),u=Object(d.d)((function(e){return e.users.teams})),m=Object(d.d)((function(e){return e.users.teamsLoaded})),O=Object(d.d)((function(e){return e.users.usersLoaded})),v=Object(d.d)((function(e){return e.settings.driff.company_name})),w=[{id:"internal",name:t.internalAccounts,members:s,member_ids:s.map((function(e){return e.id})),parent_team:0},{id:"external",name:t.guestAccounts,members:l.map((function(e){return e.name&&""===e.name.trim()?Object(f.a)(Object(f.a)({},e),{},{name:e.email}):e})),member_ids:l.map((function(e){return e.id})),parent_team:0}],k=Object.values(a).filter((function(e){return 1===e.active&&!r.includes(e.email)})),N=[].concat(w,Object(p.a)(Object.values(u))),y=Object(o.g)(),A=function(e){y.push("/system/people/teams/".concat(e.id,"/").concat(e.name))},S=[{id:null,name:v,members:k,icon_link:null,icon:"home"}].concat(Object(p.a)(k));return i.a.createElement(_,null,O&&m&&i.a.createElement(h.a,{lineWidth:"2px",lineColor:n.colors.primary,lineBorderRadius:"10px",label:i.a.createElement(T,null,i.a.createElement("div",{className:"team-name mb-1"},i.a.createElement(E.u,{className:"mr-2",icon:"home"}),v),i.a.createElement("div",{className:"mb-2"},k.length," accounts"),i.a.createElement(b.a,{members:S}))},N.filter((function(e){return 0===e.parent_team})).map((function(e){return i.a.createElement(g.a,{key:e.id,team:e,allTeams:N,onSelectTeam:A})}))))},k=n(882),N=function(e){var t=e.loggedUser,n=e.onNameClick,a=e.onChatClick,r=e.dictionary,c=e.onUpdateRole,u=e.showOptions,m=e.onArchiveUser,p=e.onActivateUser,f=e.onChangeUserType,h=e.onDeleteUser,b=e.onResendInvite,E=e.onDeleteInvitedInternalUser,g=e.onAddUserToTeam,O=Object(o.i)(),v=Object(d.d)((function(e){return e.users.teams})),_=Object(d.d)((function(e){return e.users.users})),T=Object(d.d)((function(e){return e.users.roles})),w=Object(d.d)((function(e){return e.users.usersWithoutActivity})),N=Object(d.c)(),y=Object(s.mb)()._t,A=Object(s.hb)(),S=Object(s.fb)(),j=function(e){var t={type:"confirmation",headerText:y("REMOVE_TEAM_MEMBER_HEADER","Remove team member"),submitText:y("REMOVE_TEAM_MEMBER_BUTTON","Remove"),cancelText:y("BUTTON.CANCEL","CANCEL"),bodyText:y("REMOVE_TEAM_MEMBER_BODY","Are you sure you want to remove ::name::?",{name:e.name}),actions:{onSubmit:function(){var t={team_id:O.teamId,remove_member_ids:[e.id]};S.removeMember(t,(function(e,t){e||A.success(y("TOASTER.SUCCESS_REMOVE_TEAM_MEMBER","Successfully removed team member"))}))}}};N(Object(l.a)(t))};return Object.values(_).length&&v[O.teamId]?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("h4",null,v[O.teamId].name," ",v[O.teamId].members.length," members")),i.a.createElement("div",{className:"row"},Object.values(_).filter((function(e){return v[O.teamId].members.some((function(t){return t.id===e.id}))})).map((function(e){return i.a.createElement(k.a,{loggedUser:t,key:e.id,user:e,onNameClick:n,onChatClick:a,dictionary:r,onUpdateRole:c,showOptions:u,roles:T,onArchiveUser:m,onActivateUser:p,onChangeUserType:f,onDeleteUser:h,onResendInvite:b,onDeleteInvitedInternalUser:E,usersWithoutActivity:w,onAddUserToTeam:g,onDeleteTeamMember:j})})))):null},y=n(7),A=n(1006),S=n(182),j=n(85),C=n.n(j);function x(){var e=Object(a.a)(["\n  .custom-switch {\n    margin-bottom: 0 !important;\n  }\n  div.text-muted {\n    font-weight: 500;\n  }\n  form {\n    display: flex;\n    flex-grow: 1;\n    width: auto;\n  }\n"]);return x=function(){return e},e}function I(){var e=Object(a.a)(["\n  //width: 50%;\n  //margin-bottom: 1rem;\n  min-width: 250px;\n"]);return I=function(){return e},e}var R=Object(c.b)(S.a)(I()),L=c.b.div(x()),P=function(e){var t=e.loggedUser,n=e.onNameClick,a=e.onChatClick,c=e.dictionary,l=e.onUpdateRole,u=e.showOptions,f=e.onArchiveUser,h=e.onActivateUser,b=e.onChangeUserType,E=e.onDeleteUser,g=e.onResendInvite,O=e.onDeleteInvitedInternalUser,v=e.onAddUserToTeam,_=Object(d.c)(),T=Object(s.hb)(),w=Object(o.j)(),N=Object(o.g)(),S=Object(r.useState)(!1),j=Object(y.a)(S,2),x=j[0],I=j[1],P=Object(r.useState)(!1),D=Object(y.a)(P,2),M=D[0],F=D[1],U=Object(r.useState)(!1),W=Object(y.a)(U,2),H=W[0],B=W[1],G=Object(r.useState)(""),z=Object(y.a)(G,2),V=z[0],Y=z[1],K=Object(r.useState)(!1),q=Object(y.a)(K,2),J=q[0],Z=q[1],X=Object(d.d)((function(e){return e.users.users})),Q=Object(d.d)((function(e){return e.users.roles})),$=Object(d.d)((function(e){return e.users.archivedUsers})),ee=Object(d.d)((function(e){return e.users.usersWithoutActivity})),te=Object(d.d)((function(e){return e.users.onlineUsers})),ne=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot","huddle_bot","driff_channel_bot"],ae=[].concat(Object(p.a)(Object.values(X)),Object(p.a)($)).filter((function(e){return!e.email||!ne.includes(e.email)})),re=ae.filter((function(e){return""===V||!!(-1!==e.name.toLowerCase().search(V.toLowerCase())||-1!==e.email.toLowerCase().search(V.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(V.toLowerCase()))})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot","driff_channel_bot"].includes(e.email)&&("/system/people/all/online"===w.path?te.some((function(t){return t.user_id===e.id})):x?0===e.active&&""!==e.name.trim():M?!e.has_accepted&&e.active:H?e.has_accepted&&e.active&&"external"===e.type:1===e.active&&(e.has_accepted&&e.active))})).sort((function(e,t){return e.name.localeCompare(t.name)})),ie=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=setTimeout((function(){""!==V&&function(){if(""!==V.trim()&&V.trim().length>=3){ie.current&&(ie.current.cancel("Operation canceled due to new request."),ie.current=null),ie.current=C.a.CancelToken.source(),Z(!0);var e={search:V,cancelToken:ie.current.token};_(Object(m.gb)(e,(function(e,t){Z(!1)})))}}()}),1e3);return function(){clearTimeout(e)}}),[V]),Object(r.useEffect)((function(){"/system/people/invited"===w.path?F(!0):"/system/people/inactive"===w.path?I(!0):"/system/people/guest"===w.path?B(!0):"/system/people/all"===w.path&&(F(!1),I(!1),B(!1))}),[w.path]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"people-header"},i.a.createElement(L,{className:"d-flex align-items-center people-search"},i.a.createElement(R,{value:V,closeButton:"true",onClickEmpty:function(){Y("")},placeholder:c.searchPeoplePlaceholder,onChange:function(e){Y(e.target.value)},autoFocus:!0,searching:J}),i.a.createElement(A.a,{className:"ml-2 mr-2 cursor-pointer text-muted cursor-pointer",checked:x,id:"show_inactive",name:"show_inactive",type:"switch",onChange:function(){I((function(e){var t=!e;return t?T.success("Showing inactive members"):T.success("Showing active members only"),t})),x?N.push("/system/people/all"):N.push("/system/people/inactive"),M&&!x&&F(!1),B(!1)},"data-success-message":"".concat(x?"Inactive users are shown":"Inactive users are no longer visible"),label:i.a.createElement("span",null,c.showInactiveMembers)}),i.a.createElement(A.a,{className:"mr-3 cursor-pointer text-muted cursor-pointer",checked:M,id:"show_invited",name:"show_invited",type:"switch",onChange:function(){F((function(e){return!e})),M?N.push("/system/people/all"):N.push("/system/people/invited"),x&&!M&&I(!1),B(!1)},label:i.a.createElement("span",null,c.showInvited," ",M&&ae.filter((function(e){return e.hasOwnProperty("has_accepted")&&!e.has_accepted&&e.active})).length)}),i.a.createElement(A.a,{className:"mr-3 cursor-pointer text-muted cursor-pointer",checked:H,id:"show_guest",name:"show_guest",type:"switch",onChange:function(){B((function(e){return!e})),I(!1),F(!1),H?N.push("/system/people/all"):N.push("/system/people/guest")},label:i.a.createElement("span",null,c.showGuest)}))),i.a.createElement("div",{className:"row"},re.map((function(e){return i.a.createElement(k.a,{loggedUser:t,key:e.id,user:e,onNameClick:n,onChatClick:a,dictionary:c,onUpdateRole:l,showOptions:u,roles:Q,onArchiveUser:f,onActivateUser:h,onChangeUserType:b,onDeleteUser:E,onResendInvite:g,onDeleteInvitedInternalUser:O,showInactive:x,usersWithoutActivity:ee,onAddUserToTeam:v})}))))};function D(){var e=Object(a.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]);return D=function(){return e},e}function M(){var e=Object(a.a)(["\n  padding: 2rem;\n  width: 100%;\n"]);return M=function(){return e},e}var F=c.b.div(M()),U=Object(c.b)(S.a)(D()),W=function(e){var t=e.loggedUser,n=e.dictionary,a=e._t,o=e.showOptions,c=Object(d.d)((function(e){return e.users.teams})),s=Object(r.useState)(""),l=Object(y.a)(s,2),u=l[0],m=l[1];return i.a.createElement(F,null,i.a.createElement("div",{className:"people-header"},i.a.createElement("div",{className:"d-flex align-items-center people-search"},i.a.createElement(U,{value:u,closeButton:"true",onClickEmpty:function(){m("")},placeholder:n.searchTeamsPlaceholder,onChange:function(e){m(e.target.value)},autoFocus:!0}))),Object.values(c).length>0&&i.a.createElement("div",{className:"row mt-2"},Object.values(c).filter((function(e){return""===u||-1!==e.name.toLowerCase().search(u.toLowerCase())})).map((function(e){return i.a.createElement(k.b,{key:e.id,team:e,loggedUser:t,dictionary:n,_t:a,showOptions:o})}))))};function H(){var e=Object(a.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n\n  .people-search {\n    flex: 0 0 100%;\n    justify-content: flex-start;\n    padding-left: 0;\n    flex-flow: row wrap;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n  }\n  .card-body.structure {\n    overflow: auto;\n    margin: 1.5rem;\n    padding: 0;\n  }\n"]);return H=function(){return e},e}var B=c.b.div(H());t.default=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=Object(s.qb)(),c=a.userActions,p=a.loggedUser,f=a.selectUserChannel,h=Object(d.d)((function(e){return e.users.roles})),b=Object(d.d)((function(e){return e.users.archivedUsers})),E=Object(d.d)((function(e){return e.users.usersWithoutActivityLoaded})),g=Object(o.g)(),O=Object(d.c)(),v=function(e){g.push("/profile/".concat(e.id,"/").concat(Object(u.i)(e.name)))},_=function(e){return f(e)},T=Object(s.mb)()._t,k={searchTeamsPlaceholder:T("PLACEHOLDER.SEARCH_TEAMS","Search teams"),searchPeoplePlaceholder:T("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:T("PEOPLE.EXTERNAL","External"),peopleInvited:T("PEOPLE.INVITED","Invited"),assignAsAdmin:T("PEOPLE.ASSIGN_AS_ADMIN","Assign as administrator"),assignAsSupervisor:T("PEOPLE.ASSIGN_AS_SUPERVISOR","Assign as supervisor"),assignAsEmployee:T("PEOPLE.ASSIGN_AS_EMPLOYEE","Assign as employee"),archiveUser:T("PEOPLE.ARCHIVE_USER","Archive user"),unarchiveUser:T("PEOPLE.UNARCHIVE_USER","Unarchive user"),showInactiveMembers:T("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),archive:T("PEOPLE.ARCHIVE","Archive"),unarchive:T("PEOPLE.UNARCHIVE","Un-archive"),archiveConfirmationText:T("PEOPLE.ARCHIVE_CONFIRMATION_TEXT","Are you sure you want to archive this user? This means this user can't log in anymore and will be removed from all its workspaces and group chats. If you want to remove him also from all chats and workspaces please use archive this user."),unarchiveConfirmationText:T("PEOPLE.UNARCHIVE_CONFIRMATION_TEXT","Are you sure you want to un-archive this user? The user will be re-added to its connected workspaces and group chats."),cancel:T("BUTTON.CANCEL","Cancel"),activateUser:T("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:T("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:T("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:T("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),activate:T("PEOPLE.ACTIVATE","Activate"),deactivate:T("PEOPLE.DEACTIVATE","Deactivate"),moveToInternal:T("PEOPLE.MOVE_TO_INTERNAL","Move to internal"),moveToExternal:T("PEOPLE.MOVE_TO_EXTERNAL","Move to external"),deleteUser:T("PEOPLE.DELETE_USER","Delete user"),deleteConfirmationText:T("PEOPLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this user? This means this user can't log in anymore."),btnInviteUsers:T("BUTTON.INVITE_USERS","Invite users"),resendInvitation:T("PEOPLE.RESEND_INVITATION","Resend invitation"),showInvited:T("PEOPLE.SHOW_INVITED","Show invited"),showGuest:T("PEOPLE.GUEST_ACCOUNTS","Guest accounts"),removeInvitedInternal:T("PEOPLE.REMOVE_INVITED_INTERNAL","Remove invited internal user"),sendInviteManually:T("PEOPLE.SEND_INVITE_MANUALLY","Send invite manually"),deleteInvitedUser:T("PEOPLE.DELETE_INVITED_USER","Delete invited user"),copyInviteLink:T("PEOPLE.COPY_INVITE_LINK","Copy Invite link"),deleteInvitedConfirmationText:T("PEOPLE.DELETE_INVITED_CONFIRMATION_TEXT","Are you sure you want to remove this invited user?"),toasterRemoveInvited:T("TOASTER.REMOVE_INVITED_USER","Removed invited user"),btnTeam:T("BUTTON.TEAM","Team"),showTeams:T("PEOPLE.SHOW_TEAMS","Show teams"),editTeam:T("TEAM_OPTIONS.EDIT_TEAM","Edit team"),removeTeam:T("TEAM_OPTIONS.REMOVE_TEAM","Remove team"),removeTeamHeader:T("TEAM_MODAL.REMOVE_TEAM_HEADER","Remove team"),removeTeamBtn:T("BUTTON.REMOVE_TEAM","Remove team"),removeTeamConfirmation:T("TEAM_MODAL.REMOVE_TEAM_BODY","Are you sure you want to remove this team?"),addUserToTeam:T("PEOPLE.ADD_USER_TEAM","Add user to team"),removeTeamMember:T("PEOPLE.REMOVE_TEAM_MEMBER","Remove team member"),team:T("TEAM","Team"),internalAccounts:T("CHART.INTERNAL_ACCOUNTS","Accounts"),guestAccounts:T("CHART.GUEST_ACCOUNTS","Guest accounts"),totalAccounts:T("LABEL.TOTAL_ACCOUNTS","Total accounts"),thisIsAnAdminAccount:T("TOOLTIP.THIS_IS_AN_ADMIN_ACCOUNT","This is an administrator account"),guestBadge:T("BADGE.GUEST","Guest"),invitedGuestBadge:T("BADGE.INVITED_GUEST","Invited Guest"),connectedWorkspaceIcon:T("TOOLTIP.CONNECTED_WORKSPACE","Connected workspace"),phoneIcon:T("TOOLTIP.PHONE","Call profile phone number"),messageIcon:T("TOOLTIP.MESSAGE_BUBBLE","Send a chat to this person"),copyToClipboard:T("TOAST.COPY_TO_CLIPBOARD_INVITE_LINK","Invitation link copied"),sendEmailInviteLink:T("TOOLTIP.SEND_EMAIL_INVITE","Mail Invite Link")},y=Object(s.hb)();Object(r.useEffect)((function(){p.role.id<=2&&O(Object(m.x)()),0===Object.keys(h).length&&c.fetchRoles(),0===b.length&&c.fetchArchivedUsers()}),[]);var A=function(e){var t={type:"confirmation",headerText:e.active?k.archive:k.unarchive,submitText:e.active?k.archive:k.unarchive,cancelText:k.cancel,bodyText:e.active?k.archiveConfirmationText:k.unarchiveConfirmationText,actions:{onSubmit:function(){e.active?c.archive({user_id:e.id},(function(t,n){t||y.success("".concat(e.name," archived."))})):c.unarchive({user_id:e.id},(function(t,n){t||y.success("".concat(e.name," unarchived."))}))}}};O(Object(l.a)(t))},S=function(e){var t={type:"confirmation",headerText:e.active?k.deactivate:k.activate,submitText:e.active?k.deactivate:k.activate,cancelText:k.cancel,bodyText:e.active?k.deactivateConfirmationText:k.activateConfirmationText,actions:{onSubmit:function(){e.active&&!e.deactivate?c.deactivate({user_id:e.id},(function(t,n){t||y.success("".concat(e.name," deactivated."))})):0===e.active&&e.deactivate&&c.activate({user_id:e.id},(function(t,n){t||y.success("".concat(e.name," activated."))}))}}};O(Object(l.a)(t))},j=function(e){var t={type:"confirmation",headerText:k.deleteUser,submitText:k.deleteUser,cancelText:k.cancel,bodyText:k.deleteConfirmationText,actions:{onSubmit:function(){c.deleteUserAccount({user_id:e.id},(function(t,n){t||y.success("".concat(e.name," deleted."))}))}}};O(Object(l.a)(t))},C=function(e){var t={user_id:e.id,email:e.email};c.resendInvitationEmail(t,(function(t,n){t?y.error(T("TOASTER.RESEND_INVITATION_FAILED","Invitation failed")):y.success(T("TOASTER.RESEND_INVITATION_SUCCESS","Invitation sent to ::email::",{email:e.email}))}))},x=function(e){var t={type:"confirmation",headerText:k.deleteInvitedUser,submitText:k.deleteInvitedUser,cancelText:k.cancel,bodyText:k.deleteInvitedConfirmationText,actions:{onSubmit:function(){c.deleteInvitedInternalUser({user_id:e.id},(function(e,t){e||y.success("".concat(k.toasterRemoveInvited))}))}}};O(Object(l.a)(t))},I=function(e){var t={type:"add-to-team",user:e};O(Object(l.a)(t))},R=p.role.id<=2;return i.a.createElement(B,{className:"workspace-people container-fluid h-100 ".concat(n)},i.a.createElement("div",{className:"card"},i.a.createElement(o.d,null,i.a.createElement(o.b,{render:function(){return i.a.createElement("div",{className:"card-body"},i.a.createElement(N,{loggedUser:p,onNameClick:v,onChatClick:_,dictionary:k,onUpdateRole:c.updateUserRole,showOptions:R&&E,onArchiveUser:A,onActivateUser:S,onChangeUserType:c.updateType,onDeleteUser:j,onResendInvite:C,onDeleteInvitedInternalUser:x,onAddUserToTeam:I}))},path:["/system/people/teams/:teamId/:teamName"]}),i.a.createElement(o.b,{render:function(){return i.a.createElement("div",{className:"card-body structure"},i.a.createElement(w,{loggedUser:p,dictionary:k}))},path:["/system/people/organization"]}),i.a.createElement(o.b,{render:function(){return i.a.createElement("div",{className:"card-body"},i.a.createElement(W,{loggedUser:p,dictionary:k,_t:T,showOptions:R}))},path:["/system/people/teams"]}),i.a.createElement(o.b,{render:function(){return i.a.createElement("div",{className:"card-body"},i.a.createElement(P,{loggedUser:p,onNameClick:v,onChatClick:_,dictionary:k,onUpdateRole:c.updateUserRole,showOptions:R&&E,onArchiveUser:A,onActivateUser:S,onChangeUserType:c.updateType,onDeleteUser:j,onResendInvite:C,onDeleteInvitedInternalUser:x,onAddUserToTeam:I}))},path:["/system/people/all/online","/system/people/all","/system/people/invited","/system/people/inactive","/system/people/guest"]}))))}))},932:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));n(931);var a=n(8),r=n(6),i=n(0),o=n.n(i),c=n(5),s=n(888),l=n(884),d=n(10);function u(){var e=Object(r.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]);return u=function(){return e},e}var m=c.b.div(u(),(function(e){return e.theme.colors.primary})),p=function(e){var t=e.team,n=e.allTeams,r=e.onSelectTeam,i={accounts:(0,Object(d.mb)()._t)("CHART.ACCOUNTS","accounts")},c=[{id:t.id,name:t.name,members:t.members,icon_link:t.icon_link}].concat(Object(a.a)(t.members));return o.a.createElement(s.b,{key:t.id,label:o.a.createElement(m,{onClick:function(){r(t)}},o.a.createElement("div",{className:"team-name mb-1"},t.name),o.a.createElement("div",{className:"mb-2"},t.members.length," ",i.accounts),o.a.createElement(l.a,{members:c}))},n.filter((function(e){return e.parent_team===t.id})).length>0?n.filter((function(e){return e.parent_team===t.id})).map((function(e){return o.a.createElement(b,{key:e.id,team:e,allTeams:n,onSelectTeam:r})})):null)};function f(){var e=Object(r.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]);return f=function(){return e},e}var h=c.b.div(f(),(function(e){return e.theme.colors.primary})),b=function(e){var t=e.team,n=e.allTeams,r=e.onSelectTeam,i={accounts:(0,Object(d.mb)()._t)("CHART.ACCOUNTS","accounts")},c=[{id:t.id,name:t.name,members:t.members,icon_link:t.icon_link}].concat(Object(a.a)(t.members));return o.a.createElement(s.b,{key:t.id,label:o.a.createElement(h,{onClick:function(){r(t)}},o.a.createElement("div",{className:"team-name mb-1"},t.name),o.a.createElement("div",{className:"mb-2"},t.members.length," ",i.accounts),o.a.createElement(l.a,{members:c}))},n.filter((function(e){return e.parent_team===t.id})).length>0?n.filter((function(e){return e.parent_team===t.id})).map((function(e){return o.a.createElement(p,{key:e.id,team:e,allTeams:n,onSelectTeam:r})})):null)}},934:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(0),i=n.n(r),o=n(5),c=n(11),s=n(7),l=n(38),d=n.n(l),u=n(4),m=n(67),p=n(1006),f=n(259),h=n(10),b=n(83),E=n(46),g=n(13),O=n(174),v=n(123),_=n(31),T=n(12);function w(){var e=Object(a.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n  .version-number {\n    display: flex;\n    place-content: center;\n    font-size: 13px;\n    cursor: pointer;\n    :hover {\n      text-decoration: underline;\n    }\n  }\n']);return w=function(){return e},e}var k=o.b.div(w()),N=i.a.memo((function(e){var t,n=e.className,a=void 0===n?"":n,l=!!localStorage.getItem("persistence"),w=(Object(v.a)().persistor,Object(r.useState)(l)),N=Object(s.a)(w,2),y=(N[0],N[1],Object(o.c)()),A=Object(h.gb)().localizeDate,S=Object(u.c)(),j=Object(h.hb)(),C=Object(u.d)((function(e){return e.session})).user,x=Object(h.ab)(),I=x.generalSettings,R=I.language,L=I.timezone,P=I.date_format,D=I.time_format,M=I.dark_mode,F=I.notifications_on,U=I.log_rocket,W=I.sentry,H=I.logs,B=I.notification_sound,G=I.order_channel,z=I.chat_language,V=I.daily_digest,Y=x.chatSettings,K=Y.order_channel,q=Y.sound_enabled,J=Y.preview_message,Z=Y.virtualization,X=x.userSettings,Q=X.isLoaded,$=X.enable_all_notification_reply_in_email,ee=x.setChatSetting,te=x.setWorkspaceSetting,ne=x.setGeneralSetting,ae=x.setPushSubscription,re=Object(r.useState)(!1),ie=Object(s.a)(re,2),oe=(ie[0],ie[1]),ce=Object(h.mb)()._t,se=localStorage.getItem("i18n")?JSON.parse(localStorage.getItem("i18n")):{},le=localStorage.getItem("i18new")?JSON.parse(localStorage.getItem("i18new")):{},de={};for(var ue in le)ue in se||(de[ue]=le[ue]);var me=(t={chatSettingsTitle:ce("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:ce("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:ce("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:ce("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:ce("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:ce("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:ce("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),notificationSound:ce("SETTINGS.NOTIFICATION_SOUND","Notification sound"),notificationSoundDefault:ce("SETTINGS.NOTIFICATION_SOUND_DEFAULT","Default"),notificationSoundJingleBells:ce("SETTINGS.NOTIFICATION_SOUND_JINGLE_BELLS","Jingle bells"),localizationSettingsTitle:ce("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:ce("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:ce("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:ce("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format"),workspaceSettingsTitle:ce("SETTINGS.WORKSPACE_TITLE","Workspace Settings"),sortWorkspaceLabel:ce("SETTINGS.SORT_WORKSPACE_LABEL","Sort workspace by"),viewRelease:ce("SETTINGS.VIEW_RELEASE","View Release List"),liveTranslation:ce("SETTINGS.LIVE_TRANSLATION","Talk in your own language (live translation)"),dailyDigest:ce("SETTINGS.DAILY_DIGEST","Daily digest"),chatTranslateTitle:ce("SETTINGS.CHAT_TRANSLATE","Choose a target language to be translated !BETA!")},Object(c.a)(t,"dailyDigest",ce("SETTINGS.DAILY_DIGEST","Daily digest")),Object(c.a)(t,"notifications",ce("NOTIFICATIONS","Notifications")),Object(c.a)(t,"extraSettings",ce("SETTINGS.EXTRA_SETTINGS","Extra settings")),Object(c.a)(t,"darkMode",ce("SETTINGS.DARK_MODE","Dark mode")),Object(c.a)(t,"customTranslation",ce("SETTINGS.CUSTOM_TRANSLATION","Use custom translation")),Object(c.a)(t,"emailToggle",ce("SETTINGS.EMAIL_TOGGLE"," Email notification")),Object(c.a)(t,"emailToggleLabelOn",ce("SETTINGS.EMAIL_TOGGLE_LABEL_ON","Always, i prefer mostly email")),Object(c.a)(t,"emailToggleLabelOff",ce("SETTINGS.EMAIL_TOGGLE_LABEL_OFF","Only on mention, I will use Driff mostly")),Object(c.a)(t,"emailToggleToolTip1",ce("SETTINGS.EMAIL_TOGGLE_TOOL_TIP_ONE","By selecting 'Always', you will receive all notifications through email.")),Object(c.a)(t,"emailToggleToolTip2",ce("SETTINGS.EMAIL_TOGGLE_TOOL_TIP_TWO","By selecting 'Only on mention', you will receive email notifications when you are mentioned on Chat or Post.")),t),pe=[{value:"appointed",label:me.notificationSoundDefault}],fe=[{value:!0,label:me.emailToggleLabelOn},{value:!1,label:me.emailToggleLabelOff}],he=[{value:"channel_date_updated",label:me.sortChannelRecentActivityValue},{value:"channel_name",label:me.sortChannelNameValue}],be=[{value:"en",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"en",className:"mr-2",width:"18"}),ce("LANGUAGE.ENGLISH","English"))},{value:"nl",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),ce("LANGUAGE.DUTCH","Dutch"))}],Ee=[{value:"en",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"en",className:"mr-2",width:"18"}),ce("LANGUAGE.ENGLISH","English"))},{value:"bg",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"bg",className:"mr-2",width:"18"}),ce("LANGUAGE.BULGARIAN","Bulgarian"))},{value:"cs",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"cs",className:"mr-2",width:"18"}),ce("LANGUAGE.CZECH","Czech"))},{value:"da",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"da",className:"mr-2",width:"18"}),ce("LANGUAGE.DANISH","Danish"))},{value:"de",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"de",className:"mr-2",width:"18"}),ce("LANGUAGE.GERMAN","German"))},{value:"el",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"el",className:"mr-2",width:"18"}),ce("LANGUAGE.GREEK","Greek"))},{value:"es",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"es",className:"mr-2",width:"18"}),ce("LANGUAGE.SPANISH","Spanish"))},{value:"et",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"et",className:"mr-2",width:"18"}),ce("LANGUAGE.ESTONIAN","Estonian"))},{value:"fi",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),ce("LANGUAGE.FINNISH","Finnish"))},{value:"fr",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),ce("LANGUAGE.FRENCH","French"))},{value:"hu",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),ce("LANGUAGE.HUNGARAIN","Hungarian"))},{value:"it",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"it",className:"mr-2",width:"18"}),ce("LANGUAGE.ITALIAN","Italian"))},{value:"ja",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"ja",className:"mr-2",width:"18"}),ce("LANGUAGE.JAPANESE","Japanese"))},{value:"lt",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"lt",className:"mr-2",width:"18"}),ce("LANGUAGE.LITHUANIAN","Lithuanian"))},{value:"lv",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"lv",className:"mr-2",width:"18"}),ce("LANGUAGE.LATVIAN","Latvian"))},{value:"nl",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),ce("LANGUAGE.DUTCH","Dutch"))},{value:"pl",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"pl",className:"mr-2",width:"18"}),ce("LANGUAGE.POLISH","Polish"))},{value:"pt",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"pt",className:"mr-2",width:"18"}),ce("LANGUAGE.PORTUGUESE","Portuguese"))},{value:"ro",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"ro",className:"mr-2",width:"18"}),ce("LANGUAGE.ROMANIAN","Romanian"))},{value:"ru",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"ru",className:"mr-2",width:"18"}),ce("LANGUAGE.RUSSIAN","Russian"))},{value:"sk",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"sk",className:"mr-2",width:"18"}),ce("LANGUAGE.SLOVAK","Slovak"))},{value:"sl",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"sl",className:"mr-2",width:"18"}),ce("LANGUAGE.SLOVENIAN","Slovenian"))},{value:"sv",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"sv",className:"mr-2",width:"18"}),ce("LANGUAGE.SWEDISH","Swedish"))},{value:"zh",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{countryAbbr:"zh",className:"mr-2",width:"18"}),ce("LANGUAGE.CHINESE","Chinese"))}],ge=d.a.tz.names().map((function(e){return{value:e,label:e}})),Oe=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],ve=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],_e=function(e){e.persist();var t=e.target,n=t.name,a=t.checked,r=t.dataset;ee(Object(c.a)({},n,a)),j.success(i.a.createElement("span",null,r.successMessage))},Te=function(e){e.persist();var t=e.target,n=t.name,a=t.checked,r=t.dataset;ne(Object(c.a)({},n,"daily_digest"===n?a:a?"1":"0"),(function(){["log_rocket","sentry"].includes(n)?(localStorage.setItem(n,a?"1":"0"),window.location.reload()):"logs"===n&&(a?localStorage.setItem("logger","all"):localStorage.removeItem("logger"))})),j.success(i.a.createElement("span",null,r.successMessage))};return i.a.createElement(k,{className:"profile-settings ".concat(a)},Q?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},me.chatSettingsTitle),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-12"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:q,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:_e,"data-success-message":"".concat(q?"Chats are now muted!":"Chat sound is enabled!"),label:i.a.createElement("span",null,me.soundLabel)}))),i.a.createElement("div",{className:"row mb-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:J,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:_e,"data-success-message":"You have turn ".concat(J?"OFF":"ON"," preview in chat messages!"),label:i.a.createElement("span",null,me.previewMessageLabel)}))),["nilo@makedevelopment.com"].includes(C.email)&&i.a.createElement("div",{className:"row mb-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:Z,type:"switch",id:"chat_virtualization",name:"virtualization",onChange:_e,"data-success-message":"You have turn ".concat(Z?"OFF":"ON"," virtualization in chat messages!"),label:i.a.createElement("span",null,"Virtualized chat")}))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted"},me.chatTranslateTitle),i.a.createElement("div",{className:"col-7"},i.a.createElement(m.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:Ee.find((function(e){return e.value===z})),onChange:function(e){ne({chat_language:e.value,translated_channels:[]}),setTimeout((function(){localStorage.setItem("chat_translate_change","1")}),1e3),j.success(i.a.createElement("span",null,"You have successfully updated chat target language"))},options:Ee,menuColor:y.colors.primary}))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted"},me.sortChannelLabel),i.a.createElement("div",{className:"col-7"},i.a.createElement(m.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:he.find((function(e){return e.value===K.order_by})),onChange:function(e){ee({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),j.success(i.a.createElement("span",null,"You have successfully sort channel"))},options:he,menuColor:y.colors.primary}))))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},me.workspaceSettingsTitle),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted"},me.sortWorkspaceLabel),i.a.createElement("div",{className:"col-7"},i.a.createElement(m.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:he.find((function(e){return e.value===G.order_by})),onChange:function(e){te({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),j.success(i.a.createElement("span",null,"You have successfully sort channel"))},options:he,menuColor:y.colors.primary}))))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},me.localizationSettingsTitle),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted"},me.languageLabel),i.a.createElement("div",{className:"col-7"},i.a.createElement(m.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:be.find((function(e){return e.value===R})),onChange:function(e){ne({language:e.value},(function(){setTimeout((function(){oe((function(e){return!e}))}),300)})),j.success(i.a.createElement("span",null,"You have successfully updated Language"))},options:be,menuColor:y.colors.primary}))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted"},me.timezoneLabel),i.a.createElement("div",{className:"col-7"},i.a.createElement(m.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:ge.find((function(e){return e.value===L})),onChange:function(e){ne({timezone:e.value}),j.success(i.a.createElement("span",null,"You have successfully updated Timezone"))},options:ge,menuColor:y.colors.primary}))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted"},me.dateTimeFormatLabel),i.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},i.a.createElement("div",{className:"row"},i.a.createElement(m.a,{className:"react-select-container col-6",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:Oe.find((function(e){return e.value===P})),onChange:function(e){ne({date_format:e.value}),j.success(i.a.createElement("span",null,"You have successfully updated Date format"))},options:Oe,menuColor:y.colors.primary}),i.a.createElement(m.a,{className:"react-select-container col-6",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:ve.find((function(e){return e.value===D})),onChange:function(e){ne({time_format:e.value}),j.success(i.a.createElement("span",null,"You have successfully updated Time format"))},options:ve,menuColor:y.colors.primary})))),["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(C.email)&&i.a.createElement("div",{className:"row mb-2 mt-4"},i.a.createElement("div",{className:"col-12 text-right"},i.a.createElement("button",{className:"btn btn-primary",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=[],n="You are about to add the following words to the dictionary files, continue?";n+="<table>",Object.keys(de).forEach((function(e){n+="<tr>",n+="<td>".concat(e,"</td>"),n+="<td>".concat(le[e],"</td>"),n+="</tr>",t.push(Object(c.a)({},e,le[e]))}));var a=function(){S(Object(g.L)(t,e))},r={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:n+="</table>",size:"lg",actions:{onSubmit:a}};S(Object(g.a)(r))}((function(){localStorage.removeItem("i18new");var e=document.createElement("a");e.href="https://".concat(Object(b.b)(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},me.notifications),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-12 text-muted"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:F,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(F?"Notifications disabled":"Notifications enabled"),onChange:function(e){e.persist();var t=e.target,n=t.name,a=t.dataset;if(F){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ae(!1),S(Object(g.i)({user_id:C.id}))}else ae(null);ne(Object(c.a)({},n,!F)),j.success(i.a.createElement("span",null,a.successMessage))},label:i.a.createElement("span",null,me.allowNotifications)}))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-12 text-muted"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:V,type:"switch",id:"daily_digest",name:"daily_digest","data-success-message":"".concat(V?"Daily digest disabled":"Daily digest enabled"),onChange:Te,label:i.a.createElement("span",null,me.dailyDigest)}))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted"},me.notificationSound),i.a.createElement("div",{className:"col-7"},i.a.createElement(m.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:pe.find((function(e){return e.value===B})),onChange:function(e){ne({notification_sound:e.value}),j.success(i.a.createElement("span",null,"You have successfully updated notification sound"))},options:pe,menuColor:y.colors.primary}))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col-5 text-muted",style:{display:"flex"}},me.emailToggle,"\xa0",i.a.createElement(T.v,{content:i.a.createElement(i.a.Fragment,null,me.emailToggleToolTip1,i.a.createElement("br",null),me.emailToggleToolTip2)},i.a.createElement(T.u,{icon:"info"}))),i.a.createElement("div",{className:"col-7"},i.a.createElement(m.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===M?E.b:E.a,value:fe.find((function(e){return e.value===$})),onChange:function(e){ne({enable_all_notification_reply_in_email:e.value},(function(){j.success(i.a.createElement("span",null,"You have successfully updated email notification"))}))},options:fe,menuColor:y.colors.primary}))))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},me.extraSettings),i.a.createElement("div",{className:"row mb-3"},i.a.createElement("div",{className:"col-12 text-muted"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===M,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(M?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:Te,label:i.a.createElement("span",null,me.darkMode)})),i.a.createElement("div",{className:"col-12 text-muted"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===U,type:"switch",id:"log_rocket",name:"log_rocket","data-success-message":"".concat(U?"LogRocket is now enabled":"LogRocket is now disabled"),onChange:Te,label:i.a.createElement("span",null,"LogRocket")})),i.a.createElement("div",{className:"col-12 text-muted"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===W,type:"switch",id:"sentry",name:"sentry","data-success-message":"".concat(W?"Sentry is now enabled":"Sentry is now disabled"),onChange:Te,label:i.a.createElement("span",null,"Sentry")})),i.a.createElement("div",{className:"col-12 text-muted"},i.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===H,type:"switch",id:"logs",name:"logs","data-success-message":"".concat(W?"Logs are now enabled":"Logs are now disabled"),onChange:Te,label:i.a.createElement("span",null,"Logs")})))))):i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),i.a.createElement("span",{className:"version-number mb-3",onClick:function(e){e.preventDefault(),window.open("https://support.getdriff.com/hc/en-us/sections/4409918501905-Software-updates","_blank")}},"Driff version: ",O.a.version," ",A(O.a.timestamp)," \xa0"),C&&"nilo@makedevelopment.com"===C.email&&i.a.createElement("span",null,_.isMobileSafari&&"mobile safari",", ",_.browserName,", ",_.deviceType))}));function y(){var e=Object(a.a)(["\n  overflow: auto;\n  .row-settings {\n    justify-content: center;\n  }\n"]);return y=function(){return e},e}var A=o.b.div(y());t.default=i.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return i.a.createElement(A,{className:"container-fluid h-100 ".concat(n)},i.a.createElement("div",{className:"row row-settings"},i.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},i.a.createElement(N,null))))}))},936:function(e,t,n){"use strict";var a=n(7),r=n(6),i=n(0),o=n.n(i),c=n(34),s=n(4),l=n(5),d=n(14),u=n(12),m=n(1),p=n(13),f=n(120),h=n(77),b=n(10),E=n(24);function g(){var e=Object(r.a)(["\n  position: relative;\n  height: 18px;\n  width: 25px;\n  > svg {\n    position: absolute;\n    top: -1px;\n    height: 20px;\n    width: 20px;\n    left: 1.5px;\n  }\n"]);return g=function(){return e},e}var O=Object(l.b)(h.c)(g()),v=function(e){var t=e.selectedChannel,n=e.channel,r=e.moreButton,c=void 0===r?"more-horizontal":r,l=e.onSelectOptions,d=void 0===l?null:l,u=Object(s.c)(),h=Object(f.a)(),g=document.getElementById("pills-home"),v=Object(b.mb)()._t,_=Object(b.hb)(),T=Object(i.useState)(!1),w=Object(a.a)(T,2),k=w[0],N=w[1],y={mute:v("CHAT.MUTE","Mute this channel"),unmute:v("CHAT.UNMUTE","Unmute this channel"),hide:v("CHAT.HIDE","Hide"),unhide:v("CHAT.UNHIDE","Unhide"),favorite:v("FAVORITE","Favorite"),unfavorite:v("UNFAVORITE","Unfavorite"),markAsUnread:v("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:v("POST.MARK_AS_READ","Mark as read"),unarchive:v("CHAT.UNARCHIVE","Un-archive"),archive:v("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:v("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:v("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),cancel:v("BUTTON.CANCEL","Cancel"),headerArchive:v("HEADER.ARCHIVE","Chat archive"),headerUnarchive:v("HEADER.UNARCHIVE","Un-archive channel"),muteWS:v("CHAT.MUTE_WS","Mute this workspace"),unmuteWS:v("CHAT.UNMUTE_WS","Unmute this workspace"),toasterBellNotificationOff:v("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:v("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON")},A=function(){n.is_archived?h.unArchive(n):h.archive(n)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(O,{channel:n,scrollRef:g,moreButton:c,onClick:d},o.a.createElement("div",{onClick:function(){n.is_pinned?h.unPin(n):h.pin(n)}},n.is_pinned?y.unfavorite:y.favorite),o.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===n.total_unread&&n.is_read?h.markAsUnRead(n):h.markAsRead(n)}(e)}},0===n.total_unread&&!0===n.is_read?y.markAsUnread:y.markAsRead),"TOPIC"===n.type&&o.a.createElement("div",{onClick:function(){if(!k){var e={id:n.entity_id,is_active:!n.is_active};N(!0),u(Object(E.Z)(e,(function(t,n){N(!1),t||(e.is_active?_.success(y.toasterBellNotificationOn):_.success(y.toasterBellNotificationOff))})))}}},n.is_active?y.muteWS:y.unmuteWS),"TOPIC"!==n.type&&o.a.createElement("div",{onClick:function(){n.is_muted?h.unMute(n):h.mute(n)}},n.is_muted?y.unmute:y.mute),"PERSONAL_BOT"!==n.type&&o.a.createElement("div",{onClick:function(){n.is_hidden?h.unHide(n):h.hide(n),n.total_unread>0&&h.markAsRead(n),t&&(t.id,n.id)}},n.is_hidden?y.unhide:y.hide),!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(n.type)&&o.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:y.headerArchive,submitText:y.archive,cancelText:y.cancel,bodyText:y.chatArchiveConfirmation,actions:{onSubmit:A}};n.is_archived&&(e=Object(m.a)(Object(m.a)({},e),{},{headerText:y.headerUnarchive,submitText:y.unarchive,bodyText:y.chatUnarchiveConfirmation})),u(Object(p.a)(e))}},n.is_archived?y.unarchive:y.archive)))},_=n(58),T=n.n(_);function w(){var e=Object(r.a)(["\n  display: inline-flex;\n  align-items: center;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n  ","\n"]);return w=function(){return e},e}function k(){var e=Object(r.a)(["\n  display: inline-block;\n  align-items: center;\n"]);return k=function(){return e},e}function N(){var e=Object(r.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: "," !important;\n    display: none;\n  }\n"]);return N=function(){return e},e}function y(){var e=Object(r.a)(["\n  width: 12px;\n  height: 12px;\n"]);return y=function(){return e},e}function A(){var e=Object(r.a)(["\n  position: relative;\n  top: -2px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]);return A=function(){return e},e}function S(){var e=Object(r.a)(["\n  max-width: 12px;\n"]);return S=function(){return e},e}function j(){var e=Object(r.a)(["\n  color: #363636;\n  font-size: 12px;\n  min-width: 200px;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 2;\n  width: calc(100% - ","px);\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n  .dark & {\n    color: #c7c7c7;\n  }\n"]);return j=function(){return e},e}function C(){var e=Object(r.a)([""]);return C=function(){return e},e}function x(){var e=Object(r.a)([""]);return x=function(){return e},e}function I(){var e=Object(r.a)(["\n  display: flex;\n"]);return I=function(){return e},e}function R(){var e=Object(r.a)(["\n  //display: flex;\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n  font-weight: ",";\n"]);return R=function(){return e},e}var L=l.b.span(R(),(function(e){return e.hasUnRead?"500":"normal"})),P=l.b.span(I()),D=l.b.span(x()),M=l.b.span(C()),F=l.b.div(j(),(function(e){return e.iconWidth})),U=Object(l.b)(u.t)(S()),W=Object(l.b)(u.u)(A()),H=Object(l.b)(u.u)(y()),B=l.b.span(N(),(function(e){return e.theme.colors.primary})),G=l.b.div(k()),z=l.b.div(w(),(function(e){return e.isTeam&&"background:#D1EEFF !important;"}));t.a=function(e){var t=e.channel,n=e.drafts,r=e.dictionary,l=e.selectedChannel,u=Object(b.mb)()._t,m=Object(s.d)((function(e){return e.settings.user.CHAT_SETTINGS})),p=Object(s.d)((function(e){return e.session.user})),f=Object(s.d)((function(e){return e.workspaces.workspaces})),h=(Object(b.z)().slug,Object(i.useState)(0)),E=Object(a.a)(h,2),g=E[0],O=E[1],_={icons:Object(i.useRef)(null)},w=!1,k="",N="",y=Object(c.renderToString)(o.a.createElement(o.a.Fragment,null,t.sharedSlug?o.a.createElement(G,{className:"chat-header-badge d-flex"},"TOPIC"===t.type&&o.a.createElement(z,{className:"badge badge-external mr-1"},o.a.createElement(H,{className:"ml-1",icon:"repeat",strokeWidth:"2",width:12}),r.withShared),"TOPIC"===t.type&&!t.is_archived&&f.hasOwnProperty(t.entity_id)&&1===f[t.entity_id].is_lock&&1===f[t.entity_id].active&&o.a.createElement(W,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===t.type&&t.team&&o.a.createElement(z,{className:"badge badge-external mr-1",isTeam:!0},r.withTeam)):o.a.createElement(G,{className:"chat-header-badge d-flex"},"TOPIC"===t.type&&!t.is_archived&&f.hasOwnProperty(t.entity_id)&&1===f[t.entity_id].is_lock&&1===f[t.entity_id].active&&o.a.createElement(W,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===t.type&&f.hasOwnProperty(t.entity_id)&&f[t.entity_id].is_shared&&o.a.createElement(z,{className:"badge badge-external mr-1",isTeam:!!t.team},t.team?r.withTeam:r.withClient))));if(t.last_reply&&m.preview_message){if(t.last_reply.is_deleted)N='<span class="is-deleted">'+r.messageRemoved+"</span>";else{var A=t.is_translate&&t.last_reply.translated_body?t.last_reply.translated_body:t.last_reply.body,S=document.createElement("div");S.innerHTML=A;for(var j=S.getElementsByClassName("OriginalHtml");j[0];)j[0].parentNode.removeChild(j[0]);N=S.innerHTML,N=Object(d.l)(t.last_reply.body),N=Object(c.renderToString)(o.a.createElement(P,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:N}}));try{N=N.replace(/<?(data-value)="[^"]*"/g," ").replace(/(<([^>]+)>)/gi," ")}catch(Z){N=Object(d.k)(N)}}(""===t.last_reply.body||t.last_reply.files&&t.last_reply.files.length||t.replies.length&&t.replies[t.replies.length-1].files.length||t.last_reply.body.match(/<img/))&&(w=!0);var C=(k+=N).replace(/\s/g,"");if(w&&(k=Object(c.renderToString)(o.a.createElement(U,{icon:"image-video"}))+k),t.last_reply.user){if(t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var x=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));k="".concat(x.author.first_name," has created the post ").concat(x.post.title)}t.last_reply.body.includes("ZOOM_MESSAGE::")&&(k="I started a ZOOM meeting: Click here to join"),t.last_reply.body.includes("ZAP_SUBMIT::")&&(k="System message update...");if(t.last_reply.user&&t.last_reply.user.id===p.id){var I="";if(!C&&w){var R=T.a.last(t.replies);if(R&&R.files.length>0)switch(T.a.last(R.files).type){case"image":I="Photo";break;case"video":I="Video";break;default:I="File"}k+=I}k=y+Object(c.renderToString)(o.a.createElement(M,{className:"last-reply-name"},r.you,":"))+" "+k}else k=y+Object(c.renderToString)(o.a.createElement(M,{className:"last-reply-name"},t.last_reply.user.first_name,":"))+" "+k;k=(k=k.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")}else if(t.last_reply&&t.last_reply.body.startsWith("GOOGLE_MEETING::")){var V=JSON.parse(t.last_reply.body.replace("GOOGLE_MEETING::",""));k=y+"".concat(u("GOOGLE_MEET_LAST_REPLY_PREVIEW","::first_name::: initiated a google meeting",{first_name:V.author.first_name}))}else if(t.last_reply&&t.last_reply.body.startsWith("LEFT_MEETING::")){var Y=JSON.parse(t.last_reply.body.replace("LEFT_MEETING::",""));k=y+"".concat(u("LEFT_MEETING_PREVIEW","::first_name::: has left the call",{first_name:Y.participant.name}))}else if(t.last_reply&&t.last_reply.body.startsWith("DRIFF_TALK::")){var K=JSON.parse(t.last_reply.body.replace("DRIFF_TALK::",""));k=y+"".concat(u("DRIFF_TALK_MEETING_PREVIEW","::first_name::: initiated a meeting",{first_name:K.author.first_name}))}else{if(k=y+"System message update...",t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var q=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));k=y+"".concat(q.author.first_name," has created the post ").concat(q.post.title)}}"undefined"!==typeof n[t.id]&&(n[t.id].text&&"<div><br></div>"!==n[t.id].text?k=y+"DRAFT:&nbsp;".concat(Object(c.renderToString)(o.a.createElement(D,{style:{display:"inline-flex"},dangerouslySetInnerHTML:{__html:n[t.id].text.replace(/[!-/:-@[-`{-~]$|<[^>]*$/gi," ")}}))):n[t.id].reply_quote&&(k=y+"QUOTE:&nbsp;".concat(n[t.id].reply_quote.body,"&nbsp;~").concat(n[t.id].reply_quote.user.name)))}else k=y;Object(i.useEffect)((function(){_.icons.current&&O(_.icons.current.clientWidth)}),[_.icons,t]);var J=!1===t.add_user&&(!t.is_read||t.total_unread>0);return o.a.createElement(L,{hasUnRead:t.total_unread>0,className:"d-flex justify-content-between align-items-center small text-muted "},o.a.createElement(F,{iconWidth:g,isUnread:t.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:k}}),o.a.createElement("div",{ref:_.icons,className:"chat-timestamp d-inline-flex justify-content-center align-items-end flex-row-reverse"},o.a.createElement(v,{className:"ml-1",moreButton:"chevron-down",selectedChannel:l,channel:t}),0===t.total_unread&&!1===t.is_read?o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{className:"badge badge-primary badge-pill ml-1"},"\xa0")):o.a.createElement(o.a.Fragment,null,J&&o.a.createElement(B,{className:"badge badge-primary badge-pill ml-1 ".concat(t.is_read||0!==t.total_unread?"":"unread")},t.total_unread>0?t.total_unread:t.is_read?null:"0")),t.is_muted&&o.a.createElement(W,{icon:"volume-x",className:"".concat(t.is_pinned&&"mr-1")}),!1===t.is_active&&"TOPIC"===t.type&&o.a.createElement(W,{icon:"bell-off",className:"".concat(t.is_pinned&&"mr-1")})))}},965:function(e,t,n){e.exports=n.p+"static/media/appointed.4a7182ca.ogg"},966:function(e,t,n){e.exports=n.p+"static/media/appointed.d46d7db1.mp3"},967:function(e,t,n){e.exports=n.p+"static/media/appointed.b1ef26b6.m4r"},997:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(7),i=n(6),o=n(0),c=n.n(o),s=n(897),l=n(4),d=n(49),u=n(5),m=n(10),p=n(14);function f(){var e=Object(i.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n    text-align: center;\n    justify-content: center;\n  }\n"]);return f=function(){return e},e}var h=u.b.div(f()),b=c.a.memo((function(e){var t={redirecting:(0,Object(m.mb)()._t)("REDIRECT.REDIRECTING","Redirecting...")},n=Object(m.pb)(),a=Object(m.b)(),r=Object(d.g)(),i=Object(d.j)("/magic-link/:token");return Object(o.useEffect)((function(){null!==i&&n.checkMagicLink(i.params.token,(function(e,t){if(t)if(t.data.additional_data){if("POST"===t.data.additional_data.type){if(t.data.additional_data.data.workspace){var n=t.data.additional_data.data.workspace[0],i=t.data.additional_data.data.id,o=t.data.additional_data.data.code;if("external"===t.data.user_auth.type)if(n.workspace_id){var c="/hub/posts/".concat(n.workspace_id,"/").concat(Object(p.i)(n.workspace_name),"/").concat(n.topic_id,"/").concat(Object(p.i)(n.topic_name),"/post/").concat(i,"/").concat(Object(p.i)(o));r.push(c)}else{var s="/hub/posts/".concat(n.topic_id,"/").concat(Object(p.i)(n.topic_name),"/post/").concat(i,"/").concat(Object(p.i)(o));r.push(s)}else r.push("/posts/".concat(i,"/").concat(Object(p.i)(o)))}}else if("CHANNEL"===t.data.additional_data.type)if(t.data.additional_data.topic){var l=t.data.additional_data.topic,d=t.data.additional_data.workspace,u=d.sharedSlug?"shared-hub":"hub";if(d){var m="/".concat(u,"/chat/").concat(d.id,"/").concat(Object(p.i)(d.name),"/").concat(l.id,"/").concat(Object(p.i)(l.name));r.push(m)}else{var f="/".concat(u,"/chat/").concat(l.id,"/").concat(Object(p.i)(l.name));r.push(f)}}else if(t.data.additional_data.data){var h="/chat/".concat(t.data.additional_data.data.code);a.fetchSelectChannel(t.data.additional_data.data.code,(function(){document.body.classList.add("m-chat-channel-closed")})),r.push(h)}else r.push("/hub/search")}else r.push("/hub/search")}))}),[]),c.a.createElement(h,{className:"workspace-people container-fluid h-100"},c.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6 h-50"},c.a.createElement("div",{className:"card"},c.a.createElement("h3",null,t.redirecting)))))})),E=n(898),g=n(899),O=n(900),v=n(901),_=n(902),T=n(896),w=n(18),k=n(12);function N(){var e=Object(i.a)(["\n  border: 1px solid;\n  .dark & {\n    color: #fff;\n  }\n  :hover {\n    cursor: pointer;\n  }\n"]);return N=function(){return e},e}function y(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]);return y=function(){return e},e}function A(){var e=Object(i.a)(["\n  height: 100%;\n  > span {\n    display: flex;\n    align-items: center;\n    //font-weight: 600;\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-star {\n    margin-right: 0.5rem;\n  }\n  .feather-info {\n    margin-left: 0.5rem;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    overflow: auto;\n    max-height: calc(100% - 40px);\n    overflow-x: hidden;\n    ::-webkit-scrollbar {\n      -webkit-appearance: none;\n      width: 7px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: 4px;\n      background-color: rgba(0, 0, 0, 0.5);\n      -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n    }\n\n    .workspace-title-folder > div,\n    .feather {\n      color: #505050;\n    }\n    > div {\n      border-bottom: 1px solid #f1f2f7;\n      padding: 5px 0;\n      margin-bottom: 0;\n      .dark & {\n        border-bottom: 1px solid rgba(155, 155, 155, 0.1);\n        color: #fff;\n      }\n    }\n  }\n  .workspace-title-folder > div,\n  .workspace-title-folder svg {\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return A=function(){return e},e}var S=u.b.div(A()),j=u.b.div(y()),C=u.b.button(N()),x=function(e){var t=Object(d.g)(),n=Object(l.c)(),a=Object(l.d)((function(e){return e.session.user})),r=Object(l.d)((function(e){return e.workspaces.workspaces})),i=Object(l.d)((function(e){return e.settings.user.GENERAL_SETTINGS})),o=Object(l.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),s=Object.values(r).find((function(e){return o&&o.id===e.id})),u=Object(l.d)((function(e){return e.chat.companyChannel})),p=Object(l.d)((function(e){return e.settings.driff.company_name})),f=Object(l.d)((function(e){return e.chat.selectedChannelId})),h=Object(l.d)((function(e){return Object.keys(e.chat.channels)})),b=Object(l.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),E=Object(m.Eb)(),g=Object(m.mb)()._t,O={favoriteWorkspaces:g("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),startBrowsing:g("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:g("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:a.first_name}),clickOnStarWs:g("LABEL.CLICK_ON_START_WS","Click on the \u2b50 to mark a workspace as favorite")},v=Object.values(r).sort((function(e,t){return"channel_date_updated"===i.order_channel.order_by?-1:e.name.localeCompare(t.name)})).filter((function(e){return e.is_favourite})),_="external"===a.type,N=function(e){if(s&&e.id===s.id&&u)t.push("/chat/".concat(u.code)),E.selectChannel({id:u.id});else{if(document.body.classList.remove("navigation-show"),f&&!b){var a=document.getElementById("component-chat-thread");a&&n(Object(w.Qb)({channel_id:f,scrollPosition:a.scrollHeight-a.scrollTop}))}e.sharedSlug||f&&f!==e.channel.id&&h.some((function(t){return parseInt(t)===e.channel.id}))&&E.selectChannel({id:e.channel.id}),E.selectWorkspace(e),E.redirectTo(e)}};return c.a.createElement(S,null,c.a.createElement("span",null,c.a.createElement(k.u,{icon:"star"})," ",c.a.createElement("h5",{className:"card-title mb-0"},O.favoriteWorkspaces)," ",c.a.createElement(k.v,{content:O.clickOnStarWs},c.a.createElement(k.u,{icon:"info"}))),c.a.createElement("ul",{className:"mt-3"},0===v.length&&c.a.createElement(j,null,c.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:O.addYourFavWs}}),c.a.createElement(C,{className:"btn",onClick:function(){t.push("/hub/search")}},O.startBrowsing)),v.map((function(e){return c.a.createElement(T.a,{key:e.id,isExternal:_,onSelectWorkspace:N,workspace:e,isCompanyWs:s&&s.id===e.id,companyName:p})}))))};function I(){var e=Object(i.a)([""]);return I=function(){return e},e}var R=u.b.div(I()),L=function(e){var t=e.dictionary,n=Object(l.d)((function(e){return e.settings.driff.company_name})),a=Object(d.g)(),i=Object(m.X)(),s=i.searching,u=i.value,p=Object(m.Y)(),f=Object(o.useState)(""),h=Object(r.a)(f,2),b=h[0],E=h[1],g=function(){""!==b.trim()&&(p.search({search:b,skip:0,limit:10}),p.saveSearchValue({value:b}),E(""),a.push("/search"))};return c.a.createElement(R,{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:t.search+" "+n,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&g()},onChange:function(e){""===e.target.value.trim()&&""!==u&&p.saveSearchValue({value:""}),E(e.target.value)}}),s&&c.a.createElement("button",{className:"btn-cross",type:"button"},c.a.createElement(k.k,null)),!s&&""!==u.trim()&&c.a.createElement("button",{onClick:function(){E(""),p.search({search:"",skip:0,limit:10}),p.saveSearchValue({value:""})},className:"btn-cross",type:"button"},c.a.createElement(k.u,{icon:"x"})),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:g},c.a.createElement("i",{className:"ti-search"}))))},P=n(31),D=n(289),M=n(903),F=n(936);function U(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: ",";\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n  &:focus {\n    background: #f1f2f7;\n  }\n  .dark & {\n    :focus {\n      background: #25282c;\n    }\n  }\n"]);return U=function(){return e},e}var W=u.b.li(U(),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.selected&&"color: ".concat(e.theme.colors.primary,";")}),(function(e){return e.selected&&"content: '';"}),(function(e){return e.theme.colors.primary})),H=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.channel,r=e.selectedChannel,i=e.channelDrafts,o=e.dictionary,s=e.onSelectChannel,l=function(){s&&s(a)};return c.a.createElement(W,{className:"d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(n),selected:null!==r&&a.id===r.id,onClick:l},c.a.createElement(D.a,{channel:a,onSelectChannel:l}),c.a.createElement("div",{className:"channel-info"},c.a.createElement("div",{className:"channel-title-preview"},c.a.createElement(M.a,{className:"chat-date-icons",selectedChannel:r,channel:a,dictionary:o})),c.a.createElement(F.a,{channel:a,drafts:i,dictionary:o,selectedChannel:r}),c.a.createElement("div",{className:"d-flex"},a.is_hidden&&c.a.createElement(c.a.Fragment,null,c.a.createElement(k.b,{label:"Hidden"})))))}));function B(){var e=Object(i.a)(["\n  height: 100%;\n  > span:first-child {\n    display: flex;\n    align-items: center;\n  }\n  .feather-star {\n    margin-right: 0.5rem;\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-info {\n    margin-left: 0.5rem;\n    width: 1rem;\n    height: 1rem;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    overflow: auto;\n    max-height: calc(100% - 30px);\n    overflow-x: hidden;\n    ::-webkit-scrollbar {\n      -webkit-appearance: none;\n      width: 7px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: 4px;\n      background-color: rgba(0, 0, 0, 0.5);\n      -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n    }\n    li:not(:last-child) {\n      border-bottom: 1px solid #f1f2f7;\n      .dark & {\n        border-bottom: 1px solid rgba(155, 155, 155, 0.1);\n      }\n    }\n    .channel-info {\n      max-width: calc(100% - 60px);\n      overflow: hidden;\n    }\n  }\n"]);return B=function(){return e},e}var G=u.b.div(B()),z=function(e){var t=Object(d.g)(),n=Object(l.d)((function(e){return e.chat.channels})),r=Object(l.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),i=Object(m.db)(Object.values(n),"",{},null).favoriteChannels,o=Object(l.d)((function(e){return e.chat.selectedChannel})),s=Object(l.d)((function(e){return e.chat.channelDrafts})),u=Object(m.b)(),p=Object(m.mb)()._t,f=function(e){document.body.classList.add("m-chat-channel-closed");var n=document.getElementById("toastS");if(n&&P.isMobile&&n.classList.add("d-none"),null!==o&&!r){var i=document.getElementById("component-chat-thread");i&&u.saveHistoricalPosition(o.id,i)}u.select(Object(a.a)(Object(a.a)({},e),{},{selected:!0})),e.hasOwnProperty("add_user")&&!0===e.add_user||t.push("/chat/".concat(e.code))},h={favoriteChannels:p("FAVORITE_CHANNELS","Favorite channels"),clickOnStarChat:p("LABEL.CLICK_ON_START_CHAT","Click on the \u2b50 to mark a chat channel as favorite"),team:p("TEAM","Team"),workspace:p("CHAT.WORKSPACE","Workspace"),withClient:p("PAGE.WITH_CLIENT","With client"),withTeam:p("CHANNEL.WITH_TEAM","Team Chat"),messageRemoved:p("CHAT.MESSAGE_REMOVED","The chat message has been removed."),you:p("CHAT.PREVIEW_AUTHOR_YOU","You")};return c.a.createElement(G,null,c.a.createElement("span",null,c.a.createElement(k.u,{icon:"star"})," ",c.a.createElement("h5",{className:"card-title mb-0"},h.favoriteChannels)," ",c.a.createElement(k.v,{content:h.clickOnStarChat},c.a.createElement(k.u,{icon:"info"}))),0===i.length&&c.a.createElement("div",{className:"mt-3"},h.clickOnStarChat),c.a.createElement("ul",{className:"mt-3"},i.map((function(e){return c.a.createElement(H,{key:e.id,channel:e,selectedChannel:o,channelDrafts:s,dictionary:h,onSelectChannel:f})}))))},V=n(904);function Y(){var e=Object(i.a)(["\n  @media (min-width: 768px) {\n    > div:first-child {\n      min-height: ",";\n    }\n    > div:last-child {\n      //flex: 2 1 20%;\n    }\n\n    .count-card {\n      min-height: 74px;\n    }\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(i.a)(["\n  overflow-x: auto;\n  ",";\n  .card.overflow-unset {\n    overflow: unset;\n  }\n  .first-column {\n    @media (min-width: 768px) {\n      height: 100%;\n      display: flex;\n      flex-flow: column;\n      .welcome-card {\n        min-height: 74px;\n      }\n    }\n  }\n  .search-container {\n    min-height: 74px;\n    .card-body {\n      padding: 19px 1rem;\n    }\n  }\n  .second-column {\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n    @media (min-width: 768px) {\n      padding-left: 0;\n      .row {\n        height: calc(100% - 82px);\n      }\n      .row > div:first-child {\n        padding-right: 7px;\n      }\n      .row > div:last-child {\n        padding-right: 7px;\n      }\n      .fav-channels-card {\n        flex: 1 0 200px;\n        min-height: 0;\n      }\n      .fav-ws-card {\n        flex: 1 0 200px;\n        min-height: 0;\n      }\n      .col-md-6 {\n        height: 100%;\n        display: flex;\n        flex-flow: column;\n      }\n      .count-card {\n        min-height: 74px;\n      }\n    }\n  }\n"]);return K=function(){return e},e}var q=u.b.div(K(),(function(e){return e.bg&&'\n  background: url("'.concat(e.bg,'") no-repeat center center fixed;\n  background-repeat: no-repeat;\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  -o-background-size: cover;\n  background-size: cover;\n  ')})),J=u.b.div(Y(),(function(e){return 0===e.personalLinks?"300px":"450px"})),Z=function(e){var t=Object(l.d)((function(e){return e.settings.driff.background})),n=Object(l.d)((function(e){return e.settings.driff.company_name})),a=Object(l.d)((function(e){return e.session.user})),r=Object(l.d)((function(e){return e.settings.user.GENERAL_SETTINGS.personal_links})),i=Object(m.mb)()._t,o={shortcuts:i("SIDEBAR.SHORTCUTS","Shortcuts"),search:i("GENERAL.SEARCH","Search"),aboutThisCompany:i("ABOUT_THIS_COMPANY_NAME","About this ::name::",{name:n}),hiUser:i("LABEL.HI_USER","Hi ::first_name::",{first_name:a.first_name}),dailyDigest:i("LABEL.DAILY_DIGEST","Here's your Driff daily digest"),remindersDue:i("LABEL.REMINDERS_DUE","Reminders due"),unreadChats:i("LABEL.UNREAD_CHATS","Unread chats"),unreadPosts:i("LABEL.UNREAD_POSTS","Unread posts"),newUsers:i("WORKSPACE.NEW_USERS","New users"),postMentionsActions:i("LABEL.POST_MENTIONS_ACTIONS","Post mentions and actions"),shorcutsTooltip:i("TOOLTIP.SHORCUTS_DASHBOARD","These quicklinks make it easy to find company info back quickly"),postMentionsTooltip:i("TOOLTIP.POST_MENTIONS_ACTIONS","People who mentioned you or post where people need your input"),createNewPost:i("POST.CREATE_NEW_POST","Create new post"),startWritingPost:i("LABEL.START_WRITING_POST","Start writing a new post,"),noQuickLinks:i("LABEL.NO_QUICK_LINKS","No quick links yet, wait for your admin to add quick links"),personalLinks:i("SIDEBAR.PERSONAL_LINKS","Personal"),nothingToDoHere:i("LABEL.NOTHING_TO_DO_HERE","Nothing to do here!")};return c.a.createElement(q,{className:"container-fluid fadeIn dashboard-panel",bg:t},c.a.createElement("div",{className:"row h-100"},c.a.createElement("div",{className:"col-md-4 first-column"},c.a.createElement(E.a,{className:"mb-2 welcome-card"},c.a.createElement(g.a,{dictionary:o,isWorkspace:!1})),c.a.createElement(E.a,{className:"mb-2 about-card"},c.a.createElement(O.a,{dictionary:o}))),c.a.createElement("div",{className:"col-md-6 second-column"},c.a.createElement(E.a,{className:"mb-2 search-container"},c.a.createElement(L,{dictionary:o})),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement(E.a,{className:"mb-2 count-card"},c.a.createElement(v.a,{text:o.remindersDue,type:"reminders"})),c.a.createElement(E.a,{className:"mb-2 count-card"},c.a.createElement(v.a,{text:o.unreadChats,type:"chat"})),c.a.createElement(E.a,{className:"mb-2 count-card"},c.a.createElement(v.a,{text:o.unreadPosts,type:"posts"})),c.a.createElement(E.a,{className:"mb-2  fav-channels-card"},c.a.createElement(z,{dictionary:o})),c.a.createElement(E.a,{className:"mb-2 fav-ws-card"},c.a.createElement(x,{dictionary:o}))),c.a.createElement(J,{className:"col-md-6 quicklinks-postmention",personalLinks:r.length},c.a.createElement(E.a,{className:"mb-2"},c.a.createElement(_.a,{dictionary:o})),c.a.createElement(E.a,{className:"mb-2"},c.a.createElement(V.a,{dictionary:o})))))))};function X(){var e=Object(i.a)(["\n  padding-bottom: ",";\n"]);return X=function(){return e},e}var Q=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,905))})),$=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,927))})),ee=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,906))})),te=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,907))})),ne=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,934))})),ae=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,914))})),re=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,931))})),ie=Object(o.lazy)((function(){return n.e(24).then(n.bind(null,1004))})),oe=Object(o.lazy)((function(){return Promise.all([n.e(4),n.e(17)]).then(n.bind(null,1005))})),ce=Object(o.lazy)((function(){return n.e(4).then(n.bind(null,935))})),se=Object(o.lazy)((function(){return n.e(25).then(n.bind(null,895))})),le=Object(o.lazy)((function(){return Promise.all([n.e(13),n.e(14)]).then(n.bind(null,998))})),de=Object(o.lazy)((function(){return n.e(3).then(n.bind(null,1002))})),ue=u.b.div(X(),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),me=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=Object(l.d)((function(e){return e.session.user})),i=r.role&&r.role.id<=1;return c.a.createElement(ue,{className:"main-content ".concat(n),isOnWorkspace:"hub"===e.match.params.page},c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(d.d,null,c.a.createElement(d.b,Object.assign({},e,{component:ce,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile","/profile/:id"],exact:!0})),c.a.createElement(d.b,Object.assign({},e,{component:oe,path:["/notifications"]})),c.a.createElement(d.b,Object.assign({},e,{component:se,path:["/search"]})),!a&&c.a.createElement(d.b,Object.assign({},e,{component:Z,path:["/dashboard"]})),!a&&c.a.createElement(d.b,Object.assign({},e,{component:te,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!a&&c.a.createElement(d.b,Object.assign({},e,{component:Q,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),c.a.createElement(d.b,Object.assign({},e,{render:function(e){return c.a.createElement($,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!a&&c.a.createElement(d.b,Object.assign({},e,{component:ee,path:["/people"]})),!a&&c.a.createElement(d.b,Object.assign({},e,{component:re,path:["/system/people/all/online","/system/people/all","/system/people/inactive","/system/people/invited","/system/people/guest","/system/people/teams","/system/people/organization","/system/people/teams/:teamId/:teamName"]})),c.a.createElement(d.b,Object.assign({},e,{component:ne,path:["/settings"]})),c.a.createElement(d.b,Object.assign({},e,{component:ae,path:["/todos"]})),c.a.createElement(d.b,Object.assign({},e,{component:de,path:["/meetings"]})),c.a.createElement(d.b,Object.assign({},e,{component:b,path:["/magic-link/:token"]})),c.a.createElement(d.b,Object.assign({},e,{component:ie,path:["/releases"]})),i&&c.a.createElement(d.b,Object.assign({},e,{component:le,path:["/admin-settings","/admin-settings/:page","/admin-settings/:page/:subpage"]})),c.a.createElement(d.a,{from:"*",to:{pathname:a?"/hub/search":"/dashboard",state:{from:e.location}}}))))}));function pe(){var e=Object(i.a)(["\n  z-index: 1 !important;\n"]);return pe=function(){return e},e}var fe=u.b.footer(pe()),he=(c.a.memo((function(e){var t=e.className,n=void 0===t?"":t;return c.a.createElement(fe,{className:"".concat(n)},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),c.a.createElement("div",null,c.a.createElement("nav",{className:"nav"},c.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),c.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),c.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))})),n(928)),be=n(894);function Ee(){var e=Object(i.a)(["\n  display: ",";\n  @media (max-width: 560px) {\n    height: 90px;\n  }\n  @media (min-width: 768px) {\n    display: flex;\n    height: 90px;\n  }\n"]);return Ee=function(){return e},e}var ge=u.b.div(Ee(),(function(e){return e.hidePageHeader?"none":"flex"})),Oe=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.isExternal,r=Object(l.d)((function(e){return e.chat.hidePageHeader}));return Object(o.useEffect)((function(){document.body.classList.add("stretch-layout")}),[]),c.a.createElement(ge,{className:"header ".concat(n),hidePageHeader:r,id:"main-top-header"},c.a.createElement(d.d,null,c.a.createElement(d.b,{render:function(){return c.a.createElement(be.c,Object.assign({isExternal:a},e))},path:["/hub/:page"]}),c.a.createElement(d.b,{render:function(){return c.a.createElement(be.c,Object.assign({isExternal:a},e))},path:["/shared-hub/:page"]}),c.a.createElement(d.b,{render:function(){return c.a.createElement(he.a,Object.assign({isExternal:a},e))},path:["/:page"]})))}));function ve(){var e=Object(i.a)(["\n  .navigation-menu-tab {\n    background-color: ",";\n    ul li a {\n      color: ",";\n    }\n  }\n"]);return ve=function(){return e},e}var _e=u.b.div(ve(),(function(e){return e.theme.colors.primary}),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),Te=c.a.memo((function(e){var t=e.className,n=void 0===t?"":t,a=e.showNotificationBar,r=Object(m.ab)().generalSettings.dark_mode,i=Object(u.c)();return c.a.createElement(_e,{dark_mode:r,theme:i,className:"navigation ".concat(n," ").concat(a&&"notification-bar"),id:"main-sidebar"},c.a.createElement(d.b,{exact:!0,render:function(){return c.a.createElement(Fe,e)},path:["/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/hub/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/hub/:page/:folderId/:folderName/:workspaceId/:workspaceName","/hub/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/hub/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/hub/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/hub/:page/:workspaceId/:workspaceName","/hub/:workspaceId/:workspaceName","/hub/:page","/shared-hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/shared-hub/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/shared-hub/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/shared-hub/:page/:folderId/:folderName/:workspaceId/:workspaceName","/shared-hub/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/shared-hub/:page/:workspaceId/:workspaceName","/shared-hub/:workspaceId/:workspaceName","/shared-hub/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile/:id","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people/all/online","/system/people/teams/:teamId/:teamName","/system/people/organization","/system/people/teams","/system/people/guest","/system/people/invited","/system/people/inactive","/system/people/all","/magic-link/:token","/admin-settings/:page/:subpage","/admin-settings/:page","/:page"]}))})),we=n(427),ke=n(13);function Ne(){var e=Object(i.a)([""]);return Ne=function(){return e},e}function ye(){var e=Object(i.a)(["\n  padding: 15px 30px 0 30px;\n  color: ",";\n  > div {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      :hover {\n        cursor: pointer;\n        color: #fff;\n      }\n    }\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n    margin-right: 15px;\n  }\n"]);return ye=function(){return e},e}var Ae=u.b.div(ye(),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),Se=Object(u.b)(k.u)(Ne()),je=function(e){var t=e.dictionary,n=e.isExternal,a=e.onShowModalButtons,r=e.showButtons,i=Object(m.ab)().generalSettings.dark_mode,s=Object(l.d)((function(e){return e.session.user})),d=Object(l.d)((function(e){return e.admin.security})),u={btn1Ref:Object(o.useRef)(null),btn2Ref:Object(o.useRef)(null),btn3Ref:Object(o.useRef)(null),btn4Ref:Object(o.useRef)(null),btn5Ref:Object(o.useRef)(null)},p=Object(l.c)(),f=Object(m.hb)();return Object(m.J)(u.btn1Ref,a,r),Object(m.J)(u.btn2Ref,a,r),Object(m.J)(u.btn3Ref,a,r),Object(m.J)(u.btn4Ref,a,r),c.a.createElement(we.a,{appear:!0,in:r,timeout:300,unmountOnExit:!0,classNames:"bslide"},c.a.createElement(Ae,{dark_mode:i},!n&&c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),p(Object(ke.a)({type:"chat_create_edit",mode:"new"}))},ref:u.btn1Ref},c.a.createElement(Se,{icon:"message-circle"}),t.chat)),c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),p(Object(ke.a)({type:"post_modal",mode:"create",item:{post:null}}))},ref:u.btn2Ref},c.a.createElement(Se,{icon:"file-text"}),t.post)),c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){var e={type:"todo_reminder",actions:{onSubmit:function(e){p(Object(ke.M)(e,(function(e,n){e&&f.error(t.toasterGeneraError),n&&f.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.toasterCreateTodo}}))})))}}};a(),p(Object(ke.a)(e))},ref:u.btn3Ref},c.a.createElement(Se,{icon:"calendar"}),t.reminder)),c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){var e={type:"video_reminder",actions:{onSubmit:function(e){p(Object(ke.M)(e,(function(e,n){e&&f.error(t.toasterGeneraError),n&&f.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.toasterMeetingTodo}}))})))}}};a(),p(Object(ke.a)(e))},ref:u.btn5Ref},c.a.createElement(Se,{icon:"video-driff"}),t.meeting)),!n&&s.role&&s.role.id<=d.add_workspace&&c.a.createElement("div",null,c.a.createElement("span",{onClick:function(){a(),p(Object(ke.a)({type:"workspace_create_edit",mode:"create"}))},ref:u.btn4Ref},c.a.createElement(Se,{icon:"compass"}),t.workspace))))};function Ce(){var e=Object(i.a)(["\n  margin: 15px 30px;\n  /* color: ","!important; */\n"]);return Ce=function(){return e},e}function xe(){var e=Object(i.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 0;\n  width: 100%;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  color: "," !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]);return xe=function(){return e},e}function Ie(){var e=Object(i.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]);return Ie=function(){return e},e}function Re(){var e=Object(i.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //padding: 30px;\n    margin-bottom: 1rem;\n    min-height: 74px;\n    max-height: 74px;\n    background-color: ",";\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 20px 0;\n    }\n    .dark & {\n      background-color: inherit;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]);return Re=function(){return e},e}var Le=u.b.div(Re(),(function(e){return e.theme.colors.fifth})),Pe=Object(u.b)(k.u)(Ie()),De=u.b.button(xe(),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),Me=u.b.div(Ce(),(function(e){return e.theme.colors.sidebarTextColor})),Fe=function(e){var t=e.className,n=void 0===t?"":t,i=e.isExternal,s=Object(l.d)((function(e){return e.global.todos.count})),u=Object(m.ab)(),p=u.updateCompanyName,f=u.driffSettings,h=u.generalSettings,b=Object(l.d)((function(e){return e.session.user})),E=Object(m.mb)()._t;Object(m.ob)();var g=Object(d.i)(),O=Object(m.Eb)(),v=Object(l.d)((function(e){return e.workspaces.workspaces})),_=Object(l.d)((function(e){return e.workspaces.activeTopic})),T=Object(l.d)((function(e){return e.chat.selectedChannel})),w=Object(l.d)((function(e){return Object.values(e.chat.channels)})),k=h.dark_mode;Object(o.useEffect)((function(){if(g.workspaceId&&_&&parseInt(g.workspaceId)!==_.id&&!_.sharedSlug&&v[g.workspaceId]&&O.selectWorkspace(v[g.workspaceId]),g.code&&T&&T.code!==g.code){var e=w.find((function(e){return e.code===g.code}));e&&O.selectChannel(Object(a.a)({},e))}}),[g,v,_,T]);var N=Object(o.useState)(!1),y=Object(r.a)(N,2),A=y[0],S=y[1],j={allWorkspaces:E("SIDEBAR.ALL_WORKSPACES","Browse workspaces"),people:E("SIDEBAR.PEOPLE","All people"),workspace:E("SIDEBAR.WORKSPACE","Workspace"),workspaces:E("SIDEBAR.WORKSPACES","Workspaces"),chats:E("SIDEBAR.CHATS","Chats"),yourWorkspaces:E("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:E("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:E("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:E("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:E("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:E("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:E("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:E("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:E("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:E("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:E("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:E("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:E("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:E("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace"),bots:E("SIDEBAR.BOTS","Bots"),favoriteWorkspaces:E("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),browseAll:E("SIDEBAR.BROWSE_ALL","Browse all..."),toasterCreateTodo:E("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterGeneraError:E("TOASTER.GENERAL_ERROR","An error has occurred try again!"),chat:E("SIDEBAR.CHAT","Chat"),post:E("SIDEBAR.POST","Post"),reminder:E("SIDEBAR.REMINDER","Reminder"),addNew:E("SIDEBAR.ADD_NEW","Add new"),startBrowsing:E("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:E("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:b.first_name}),newFolder:E("TOOLTIP.NEW_FOLDER","New folder"),meeting:E("SIDEBAR.MEETING","Meeting"),toasterMeetingTodo:E("TOASTER.VIDEO_MEETING_CREATE_SUCCESS","You will be reminded about this meeting under <b>Meetings</b>.")},C=function(){S((function(e){return!e}))};return c.a.createElement(Le,{className:"navigation-menu-tab ".concat(n)},c.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},c.a.createElement(Kt,null)),c.a.createElement(pt,{count:s,dictionary:j,isExternal:i,driffSettings:f,user:b,updateCompanyName:p}),c.a.createElement(at,{dictionary:j,generalSettings:h,isExternal:i,user:b}),c.a.createElement(je,{dictionary:j,isExternal:i,onShowModalButtons:C,showButtons:A}),c.a.createElement(Me,null,c.a.createElement(De,{dark_mode:k,onClick:C,className:"btn btn-outline-light",type:"button"},c.a.createElement("div",null,c.a.createElement(Pe,{icon:"circle-plus"}),j.addNew))))},Ue=n(62),We=n.n(Ue);function He(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  color: ",";\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]);return He=function(){return e},e}function Be(){var e=Object(i.a)(["\n  padding: 0 30px;\n  overflow: auto;\n  .text-truncate {\n    color: ",";\n  }\n"]);return Be=function(){return e},e}function Ge(){var e=Object(i.a)(["\n  //color: rgba(255, 255, 255, 0.6);\n  //text-decoration: underline;\n  color: ",";\n  border: 1px solid;\n  :hover {\n    cursor: pointer;\n    color: #cbd4db;\n  }\n"]);return Ge=function(){return e},e}function ze(){var e=Object(i.a)(["\n  margin: 0 15px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n  //color: rgba(255, 255, 255, 0.6);\n  border-top: 2px solid;\n  padding: 15px 0;\n  > span {\n    margin-left: 15px;\n  }\n  svg {\n    margin-right: 8px;\n  }\n"]);return ze=function(){return e},e}function Ve(){var e=Object(i.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(i.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n  margin-left: 5px;\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Ke=function(){return e},e}function qe(){var e=Object(i.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  min-height: 0;\n"]);return qe=function(){return e},e}var Je=u.b.div(qe()),Ze=Object(u.b)(We.a)(Ke()),Xe=Object(u.b)(k.u)(Ye()),Qe=u.b.div(Ve()),$e=u.b.div(ze(),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),et=u.b.button(Ge(),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),tt=u.b.div(Be(),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),nt=u.b.div(He(),(function(e){var t=e.theme;return"1"===e.dark_mode?"#CBD4DB":t.colors.sidebarTextColor})),at=function(e){var t=e.dictionary,n=e.isExternal,a=e.user,r=Object(l.c)(),i=Object(m.Db)(),o=i.actions,s=i.folders,d=i.history,u=i.orderChannel,p=i.workspaces,f=i.favoriteWorkspacesLoaded,h=Object(l.d)((function(e){return e.chat.selectedChannelId})),b=Object(l.d)((function(e){return Object.keys(e.chat.channels)})),E=Object(l.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),g=Object(l.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),O=Object.values(p).find((function(e){return g&&g.id===e.id})),v=Object(l.d)((function(e){return e.chat.companyChannel})),_=Object(l.d)((function(e){return e.settings.driff.company_name})),N=Object(m.ab)().generalSettings.dark_mode,y=function(){r(Object(ke.a)({type:"workspace_create_edit",mode:"create"}))},A=Object.values(p).sort((function(e,t){return"channel_date_updated"===u.order_by?-1:e.name.localeCompare(t.name)})).filter((function(e){return e.is_favourite})),S=function(e){if(O&&e.id===O.id&&v)d.push("/chat/".concat(v.code)),o.selectChannel({id:v.id});else{if(document.body.classList.remove("navigation-show"),h&&!E){var t=document.getElementById("component-chat-thread");t&&r(Object(w.Qb)({channel_id:h,scrollPosition:t.scrollHeight-t.scrollTop}))}e.sharedSlug||h&&h!==e.channel.id&&b.some((function(t){return parseInt(t)===e.channel.id}))&&o.selectChannel({id:e.channel.id}),o.selectWorkspace(e),o.redirectTo(e)}},j=function(){d.push("/hub/search")},C=function(){return c.a.createElement(Qe,null,c.a.createElement("div",null,c.a.createElement(k.s,{height:200,icon:2}),"external"!==a.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,t.sidebarTextCreateWorkspace),c.a.createElement("button",{className:"btn btn-primary mt-2",onClick:y},t.createWorkspace))))};return c.a.createElement(Je,null,c.a.createElement($e,{dark_mode:N},c.a.createElement("span",null,t.favoriteWorkspaces),!n&&c.a.createElement(Ze,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:t.newFolder},c.a.createElement(Xe,{onClick:function(){r(Object(ke.a)({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),c.a.createElement(tt,{dark_mode:N},c.a.createElement("div",{id:"elements",className:"open"},f&&Object.values(p).length>0&&0===A.length&&c.a.createElement(nt,{dark_mode:N},c.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.addYourFavWs}}),c.a.createElement(et,{dark_mode:N,className:"btn",onClick:j},t.startBrowsing)),f&&0===Object.values(s).length&&0===Object.values(p).length&&c.a.createElement(C,null),f&&Object.values(p).length>0&&A.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,A.map((function(e){return c.a.createElement(T.a,{key:e.id,isExternal:n,onSelectWorkspace:S,workspace:e,isCompanyWs:O&&O.id===e.id,companyName:_})}))),c.a.createElement(et,{dark_mode:N,className:"btn",onClick:j},t.browseAll)))))};function rt(){var e=Object(i.a)(["\n  position: absolute !important;\n  z-index: 20;\n  transform: rotate(-41deg) scaleX(-1);\n  left: 1px;\n  top: -6px;\n  img {\n    width: 26px;\n  }\n"]);return rt=function(){return e},e}function it(){var e=Object(i.a)(["\n  display: flex;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px;\n  border-radius: 8px;\n  &.active {\n    background: ",";\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]);return it=function(){return e},e}function ot(){var e=Object(i.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return ot=function(){return e},e}function ct(){var e=Object(i.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]);return ct=function(){return e},e}function st(){var e=Object(i.a)(["\n  .badge {\n    padding: 4px 8px;\n    font-size: 9px;\n  }\n"]);return st=function(){return e},e}var lt=u.b.div(st()),dt=u.b.div(ct()),ut=Object(u.b)(k.u)(ot()),mt=Object(u.b)(k.m)(it(),(function(e){return e.theme.colors.primary})),pt=(u.b.div(rt()),function(e){var t=e.dictionary,n=e.isExternal,a=e.driffSettings,i=e.user,s=e.updateCompanyName,u=Object(d.i)(),m=Object(d.h)(),p=Object(l.d)((function(e){return e.chat.lastVisitedChannel})),f=Object(o.useState)(a.company_name),h=Object(r.a)(f,2),b=h[0],E=h[1],g=Object(o.useState)(!1),O=Object(r.a)(g,2),v=O[0],_=O[1],T=Object(o.useRef)(null);Object(o.useEffect)((function(){T.current&&T.current.select()}),[v]);var w=function(){document.body.classList.remove("navigation-show")},N=function(){_((function(e){var t=!e;return t||a.company_name===b||s({company_name:b}),t}))};return c.a.createElement(lt,{className:"flex navigation-menu-tab-header-options"},c.a.createElement("ul",null,!n&&c.a.createElement("li",{onClick:w,className:"driff-company-name ".concat(v?"active":"")},v?c.a.createElement(dt,{className:"active"},c.a.createElement(ut,{icon:"home"}),c.a.createElement("input",{ref:T,defaultValue:a.company_name,onChange:function(e){E(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:N();break;default:return}},name:"company-name",autoFocus:!0})):c.a.createElement(mt,{active:["dashboard","posts","chat","files","people"].includes(u.page),to:null!==p&&p.hasOwnProperty("code")?"/chat/".concat(p.code):"/chat"},c.a.createElement("div",{style:{postion:"relative"}},c.a.createElement(ut,{icon:"home"})),a.company_name),i.role&&i.role.id<=2&&c.a.createElement(c.a.Fragment,null,v?c.a.createElement(k.u,{className:"action",onClick:N,icon:"save"}):c.a.createElement(k.u,{className:"action",onClick:N,icon:"pencil"}))),c.a.createElement("li",{onClick:w},c.a.createElement(mt,{to:"/hub/search",active:["/hub/search"].includes(m.pathname)},c.a.createElement(ut,{icon:"compass"}),c.a.createElement("div",null,t.allWorkspaces))),"internal"===i.type&&c.a.createElement("li",{onClick:w},c.a.createElement(mt,{to:"/system/people/all",active:["/system/people"].includes(m.pathname)},c.a.createElement(ut,{icon:"user"}),c.a.createElement("div",null,t.people)))))}),ft=n(38),ht=n.n(ft),bt=n(82),Et=n(47),gt=n(8),Ot=n(202);function vt(){var e=Object(i.a)(["\n  span {\n    line-height: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin: auto;\n    font-size: 22px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n"]);return vt=function(){return e},e}function _t(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  .snooze-x {\n    position: absolute;\n    right: 5px;\n    top: 5px;\n  }\n  // ::before {\n  //   content: '';\n  //   display: inline-block;\n  //   height: 100%;\n  //   vertical-align: middle;\n  //   margin-right: -0.25em; /* Adjusts for spacing */\n  // }\n"]);return _t=function(){return e},e}function Tt(){var e=Object(i.a)(["\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 1.1;\n  .badge {\n    margin-top: 3px;\n  }\n  .post-mention-body {\n    width: 200px;\n    padding-top: 5px;\n    p {\n      width: auto;\n    }\n  }\n  .badge-light {\n    color: #fff;\n    border: 1px solid grey;\n  }\n"]);return Tt=function(){return e},e}function wt(){var e=Object(i.a)(["\n  display: inline-block;\n  width: 180px;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  font-size: 14px;\n  white-space: nowrap;\n"]);return wt=function(){return e},e}function kt(){var e=Object(i.a)(["\n  display: inline-block;\n  width: 180px;\n  white-space: nowrap;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  .feather-x,\n  .snooze-me {\n    :hover {\n      color: #505050;\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n"]);return kt=function(){return e},e}function Nt(){var e=Object(i.a)(["\n  cursor: pointer;\n  display: flex;\n  font-family: Inter;\n  letter-spacing: 0;\n  font-size: 12px;\n  color: ",";\n  .avatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  p {\n    margin: 0;\n  }\n  .chat-header-icon {\n    padding: 0px !important;\n  }\n  .badge-grey-ghost {\n    background-color: white !important ;\n    color: grey !important;\n    border: 1px solid grey !important;\n  }\n"]);return Nt=function(){return e},e}function yt(){var e=Object(i.a)(["\n  min-width: 1rem;\n  min-height: 1rem;\n  width: 1rem;\n  height: 1rem;\n  margin-left: 5px;\n  :hover {\n    color: #505050;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return yt=function(){return e},e}var At=Object(u.b)(k.u)(yt()),St=u.b.div(Nt(),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),jt=u.b.div(kt()),Ct=u.b.p(wt()),xt=u.b.div(Tt()),It=u.b.div(_t()),Rt=u.b.div(vt()),Lt=function(e){var t=e.type,n=e.item,a=e.user,r=e.dictionary,i=e.users,o=e.handleRedirect,s=e.darkMode,d=e.snoozeData,u=e.actions,f=Object(m.mb)()._t,h=Object(m.bb)(),b=Object(l.d)((function(e){return e.workspaces.sharedWorkspaces})),E=function(e){if(e.stopPropagation(),u.snooze(d),"notification"===t){var a={slug:n.slug,token:b[n.slug].access_token,is_shared:!0};h.snoozeNotif({notification_id:n.id,is_snooze:!0,type:"POST_SNOOZE",sharedPayload:a})}else"todo"===t?h.snoozeNotif({notification_id:n.id,is_snooze:!0,type:"REMINDER_SNOOZE"}):"huddle"===t&&h.snoozeNotif({notification_id:n.id,is_snooze:!0,type:"HUDDLE_SNOOZE"});bt.c.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"}),bt.c.dismiss(t+"__"+n.id)},g=function(e){if(e.stopPropagation(),"notification"===t){var a={slug:n.slug,token:b[n.slug].access_token,is_shared:!0};u.snooze(d),u.remove({id:n.id,key:n.key,sharedPayload:a})}else if("todo"===t){u.removeReminderNotif({id:n.id});var i=localStorage.getItem("reminderNotif"),o=new Date;if(i){var s=JSON.parse(i).reminders;localStorage.setItem("reminderNotif",JSON.stringify({reminders:[].concat(Object(gt.a)(s),[n.id]),day:o.getDay()}))}else localStorage.setItem("reminderNotif",JSON.stringify({reminders:[n.id],day:o.getDay()}))}else if("huddle"===t){u.removeHuddleNotif({id:n.id});var l=localStorage.getItem("huddleNotif"),m=new Date;if(l){var p=JSON.parse(l).channels;localStorage.setItem("huddleNotif",JSON.stringify({channels:[].concat(Object(gt.a)(p),[n.channel.id]),day:m.getDay()}))}else localStorage.setItem("huddleNotif",JSON.stringify({channels:[n.channel.id],day:m.getDay()}))}bt.c.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.closeNotification}}),{containerId:"toastA",toastId:"closeNotif"}),bt.c.dismiss(t+"__"+n.id)};return c.a.createElement(St,{className:"timeline-item timeline-item-no-line d-flex",darkMode:s,onClick:function(e){return o(t,n,e)}},c.a.createElement("div",{className:"d-flex"},"notification"===t?n.author?c.a.createElement(k.a,{id:n.author.id,name:n.author.name,showSlider:!1,imageLink:n.author.profile_image_link,noDefaultClick:!0}):c.a.createElement(k.a,{id:a.id,name:a.name,imageLink:a.profile_image_link,showSlider:!1,noDefaultClick:!0}):"todo"===t?c.a.createElement(Rt,{className:"robotAvatar"},c.a.createElement("div",null,c.a.createElement("span",null,"\ud83e\udd16"))):c.a.createElement(k.a,{id:n.channel.id,name:n.channel.name,showSlider:!1,imageLink:null,noDefaultClick:!0})),c.a.createElement(It,null,c.a.createElement(xt,null,function(e,t){var s="",l="";if("notification"===e){var d=t.author&&i[t.author.id]?i[t.author.id].first_name:"";"POST_MENTION"===t.type?(s="".concat(d," ").concat(r.notificationMention," ").concat(t.data.title),l=c.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},c.a.createElement(Ct,{className:"snooze-body"},t.data.comment_body&&Object(p.k)(t.data.comment_body)),c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"WORKSPACE_ADD_MEMBER"===t.type?(s="".concat(d," ").concat(r.addedYouInWorkspace," ").concat(t.data.title),l=c.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},t.data.title,c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_CREATE"===t.type?(s="".concat(d," ").concat(r.notificationNewPost),l=c.a.createElement("span",{className:"d-flex align-items-center"},c.a.createElement(Ot.a,{notification:t,dictionary:r,user:a,fromSnooze:!0}),c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_REQST_APPROVAL"===t.type?(s="".concat(d," ").concat(r.sentProposal),l=c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{notification:t,dictionary:r,user:a,fromSnooze:!0}),c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_REJECT_APPROVAL"===t.type?(s="".concat(d," ").concat(r.hasRequestedChange),l=c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{notification:t,dictionary:r,user:a,fromSnooze:!0}),c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"PST_CMT_REJCT_APPRVL"===t.type?(s="".concat(d," ").concat(r.changeRequested),l=c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{notification:t,dictionary:r,user:a,fromSnooze:!0}),c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"POST_COMMENT"===t.type&&(s="".concat(d," ").concat(r.actionNeeded),l=c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{notification:t,dictionary:r,user:a,fromSnooze:!0}),c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}})))}else"todo"===e?(s=f("SNOOZE.LEFT_REMINDER","::title:: due in 5 minutes",{title:Object(p.k)(t.title)}),l=c.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},c.a.createElement(Ct,{className:"snooze-body"},Object(p.k)(t.title)),c.a.createElement(At,{icon:"external-link",onClick:function(t){o(e,n,t)}}))):"huddle"===e&&(s="".concat(r.timeTOHuddle," ").concat(a.first_name),l=c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"badge badge-light mr-2",onClick:function(t){o(e,n,t)}},r.open),c.a.createElement("span",{className:"badge badge-info badge-grey-ghost",onClick:function(n){!function(e,t,n){n.stopPropagation();var a=localStorage.getItem("huddle"),i=new Date;if(a){var o=JSON.parse(a).channels;localStorage.setItem("huddle",JSON.stringify({channels:[].concat(Object(gt.a)(o),[t.channel.id]),day:i.getDay()}))}else localStorage.setItem("huddle",JSON.stringify({channels:[t.channel.id],day:i.getDay()}));bt.c.dismiss(e+"__"+t.id),bt.c.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.huddleSkip}}),{containerId:"toastA",toastId:"btnSnoozeMe"})}(e,t,n)}},r.skip)));return c.a.createElement(c.a.Fragment,null,c.a.createElement(jt,null,s,c.a.createElement("span",{className:"snooze-x"},c.a.createElement("span",{className:"snooze-me mr-1",onClick:E},r.snooze),c.a.createElement(k.u,{icon:"x",width:"18",height:"18",strokeWidth:"2",onClick:g})))," ",l)}(t,n))))};function Pt(){var e=Object(i.a)(["\n  .snooze-container {\n    margin-bottom: 8px !important;\n    color: ",";\n    background: ",";\n    .feather-x {\n      margin-top: -1px;\n    }\n  }\n  .snooze-container p.snooze-body {\n    color: ",";\n  }\n  .snooze-container .snooze-me {\n    font-size: 11px;\n    //margin: 0 5px;\n    text-decoration: underline;\n    // position: absolute;\n    // right: 0;\n    // margin-right: 1em;\n  }\n  .snooze-all-container {\n    background: 0 0;\n    box-shadow: none;\n    margin: 0;\n    padding: 0;\n    height: auto;\n    min-height: 25px;\n    color: ",";\n    background: transparent;\n    font-size: 12px;\n  }\n  .snooze-all-container .snooze-all-body {\n    height: auto;\n    font-size: 12px;\n    margin: 0 5px;\n    text-decoration: underline;\n  }\n  .robotAvatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  .robotAvatar div {\n    background: #f1f2f7;\n    border-radius: 40px;\n    font-size: 27px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n  }\n"]);return Pt=function(){return e},e}var Dt=u.b.div(Pt(),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#aaa !important"}),(function(e){return"1"===e.darkMode?"#191c20 !important":"#fff !important"}),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#505050 !important"}),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),Mt=function(e){var t=Object(m.I)().notifications,n=Object(l.d)((function(e){return e.global.todos})),i=Object(l.d)((function(e){return e.session.user})),s=Object(m.mb)()._t,u=Object(m.bb)(),p=Object(m.H)(),f=Object(m.ib)(),h=Object(m.ab)().generalSettings.dark_mode,b=Object(m.U)(),E=Object(m.C)(),g=Object(d.g)(),O=Object(m.gb)().localizeDate,v=new Date,_=v.getTime(),T=Object(l.c)(),k=Object(l.d)((function(e){return e.workspaces.sharedWorkspaces})),N=Object(l.d)((function(e){return e.users.users})),y=Object(l.d)((function(e){return e.chat.huddleBots.filter((function(e){return e.show_notification&&!0===e.show_notification}))})),A=Object(l.d)((function(e){return e.chat.channels})),S=Object(l.d)((function(e){return e.chat.huddleBotsLoaded})),j=0===v.getDay()||6===v.getDay(),C=localStorage.getItem("huddle"),x=C?JSON.parse(C).channels:[],I=Object(o.useState)(!1),R=Object(r.a)(I,2),L=R[0],P=R[1],D={notificationMention:s("SNOOZE.MENTION","mentioned you in ::title::",{title:""}),todoReminder:s("SNOOZE.REMINDER","A friendly automated reminder"),sentProposal:s("SNOOZE.SENT_PROPOSAL","sent a proposal."),notificationNewPost:s("SNOOZE.NEW_POST","shared a post"),mustRead:s("SNOOZE.MUST_READ","Must read"),needsReply:s("SNOOZE.NEEDS_REPLY","Needs reply"),timeTOHuddle:s("SNOOZE.TIME_TO_HUDDLE","Time to huddle, "),hasRequestedChange:s("SNOOZE.HAS_REQUESTED_CHANGE","has requested a change."),snoozeMe:s("SNOOZE.SNOOZE_ME","Snoozed for ".concat(180," min(s)")),actionNeeded:s("SNOOZE.ACTION_NEEDED","Action needed"),changeRequested:s("SNOOZE.CHANGE_REQUESTED","Change requested"),huddleSkip:s("SNOOZE.HUDDLE_SKIP","Huddle is Skipped"),replyRequired:s("POST.REPLY_REQUIRED","Reply required"),snoozeAllNotifications:s("SNOOZE.SNOOZE_ALL_NOTIFICATIONS","Snooze all notifications"),skip:s("SNOOZE.SKIP","Skip"),open:s("SNOOZE.OPEN","Open"),snooze:s("SNOOZE.SNOOZE","Snooze"),closeNotification:s("NOTIFICATION.CLOSE","Notification will not be shown again."),addedYouInWorkspace:s("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace")},M=function(e){var t=e.filter,r=void 0===t?"":t;return Object.values(n.items).map((function(e){if(null===e.author&&null===e.link_type){var t=Object.values(N).find((function(t){return t.id===e.user}));return Object(a.a)(Object(a.a)({},e),{},{author:t||Object(a.a)({},i),status:null!==e.remind_at&&O(e.remind_at.timestamp,"YYYY-MM-DD")===ht()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})}return Object(a.a)(Object(a.a)({},e),{},{status:null!==e.remind_at&&O(e.remind_at.timestamp,"YYYY-MM-DD")===ht()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})})).filter((function(e){if(r){if(""!==r.search&&!e.title.toLowerCase().includes(r.search.toLowerCase().trim())&&!e.description.toLowerCase().includes(r.search.toLowerCase().trim()))return!1;if(""!==r.status){if("ASSIGNED_TO_OTHERS"===r.status)return e.assigned_to&&e.assigned_to.id!==i.id&&e.user===i.id;if("ADDED_BY_OTHERS"===r.status)return e.assigned_to&&e.assigned_to.id===i.id&&e.user!==i.id;if(e.status===r.status)return!(e.workspace&&!e.assigned_to);if("DONE"===e.status){if("TODAY"===r.status&&null!==e.remind_at&&O(e.remind_at.timestamp,"YYYY-MM-DD")===ht()().format("YYYY-MM-DD"))return!0;if("OVERDUE"===r.status&&null!==e.remind_at&&O(e.remind_at.timestamp,"YYYY-MM-DD")<ht()().format("YYYY-MM-DD"))return!0;if("NEW"===r.status&&null!==e.remind_at&&O(e.remind_at.timestamp,"YYYY-MM-DD")>ht()().format("YYYY-MM-DD"))return!0;if("NEW"===r.status&&null===e.remind_at)return!0}return!1}return!(e.workspace&&!e.assigned_to)&&(!(!e.user||e.user!==i.id)||(!e.assigned_to||e.assigned_to.id===i.id))}return!0})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))},F=function(){return Object.values(t).filter((function(e){return"POST_MENTION"===e.type||"WORKSPACE_ADD_MEMBER"===e.type||"POST_REQST_APPROVAL"===e.type||"POST_REJECT_APPROVAL"===e.type||"PST_CMT_REJCT_APPRVL"===e.type||"POST_COMMENT"===e.type||"POST_CREATE"===e.type&&(e.data.must_read||e.data.must_reply)})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))},U=function(){var e=Math.floor(Date.now()/1e3);return M({filter:{status:"",search:""}}).filter((function(t){return t.remind_at&&t.remind_at.timestamp-e<=300&&"OVERDUE"!==t.status}))},W=function(e,t,n){var r="notification"===e?p:"todo"===t.type?f:E;if(n.preventDefault(),0===t.is_read){var i={id:t.id,key:t.key};if(t.sharedSlug&&k[t.slug]){var o={slug:t.slug,token:k[t.slug].access_token,is_shared:!0};i=Object(a.a)(Object(a.a)({},i),{},{sharedPayload:o})}p.read(i)}if("huddle"===e)return g.push("/chat/".concat(t.channel.code)),void T(Object(w.cc)({id:t.channel.id}));if("todo"===e)"DRIFF_TALK"===t.link_type?b.toMeetings():b.toTodos();else{var c={id:t.data.post_id,title:t.data.title},s=null,l=null;if(t.data.workspaces&&t.data.workspaces.length&&(t.sharedSlug?(s=t.data.workspaces[0],s={key:"".concat(s.topic_id,"-").concat(t.slug),id:s.topic_id,name:s.topic_name,folder_id:s.workspace_id?s.workspace_id:null,folder_name:s.workspace_name?s.workspace_name:null}):t.data.workspaces&&t.data.workspaces.length&&(s={key:(s=t.data.workspaces[0]).topic_id,id:s.topic_id,name:s.topic_name,folder_id:s.workspace_id?s.workspace_id:null,folder_name:s.workspace_name?s.workspace_name:null})),"POST_MENTION"===t.type&&t.data.comment_id&&(l={focusOnMessage:t.data.comment_id}),"WORKSPACE_ADD_MEMBER"===t.type){var d={id:t.sharedSlug?"".concat(t.data.id,"-").concat(t.slug):t.data.id,name:t.data.title,folder_id:0!==t.data.workspace_folder_id?t.data.workspace_folder_id:null,folder_name:""!==t.data.workspace_folder_name?t.data.workspace_folder_name:null,sharedSlug:t.sharedSlug,slug:t.slug};b.toWorkspace(d)}else b.toPost({workspace:s,post:c,sharedSlug:t.sharedSlug},l)}r.snooze({id:t.id,is_snooze:!1,key:t.key?t.key:t.id})},H=function(e){return Object.values(t).filter((function(t){return t.id!==e.id})).some((function(t){return"PST_CMT_REJCT_APPRVL"===t.type&&t.data.post_id===e.data.post_id&&t.id>e.id}))},B=function(e,a){a.preventDefault();var r=[],i=[],o=[];r=G("todo",U()),i=G("notification",F()),o=G("huddle",y),[].concat(r,i,o).map((function(e){var a=e.type+"__"+e.id,r="notification"===e.type?p:"todo"===e.type?f:E,i="notification"===e.type?t[e.key]:"todo"===e.type?n.items[e.id]:Object.values(y).find((function(t){return t.id==e.id}));if(i){var o=null;k[e.slug]&&(o={slug:e.slug,token:k[e.slug].access_token,is_shared:!0});var c={id:i.id,is_snooze:!0,snooze_time:Object(Et.d)(180),sharedPayload:o};i.is_snooze||(bt.c.isActive(a)&&bt.c.dismiss(a),r.snooze(c))}})),i.length&&i.forEach((function(e){var t=null;e.slug&&k[e.slug]&&(t={slug:e.slug,token:k[e.slug].access_token,is_shared:!0});var n={is_snooze:!0,notification_ids:i.filter((function(t){return t.slug===e.slug})).map((function(e){return e.id})),type:"POST_SNOOZE",sharedPayload:t};u.snoozeAllNotif(n)})),r.length&&u.snoozeAllNotif({is_snooze:!0,notification_ids:r.map((function(e){return e.id})),type:"REMINDER_SNOOZE"}),o.length&&u.snoozeAllNotif({is_snooze:!0,notification_ids:o.map((function(e){return e.id})),type:"HUDDLE_SNOOZE"}),(i.length||r.length||o.length)&&bt.c.success(c.a.createElement("span",{dangerouslySetInnerHTML:{__html:D.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"})},G=function(e,t){var n=[];return t.map((function(t){var r=e+"__"+t.id,o={type:e,id:t.id,key:"notification"===e?t.key:t.id,created_at:"huddle"===e?t.start_at.timestamp:t.created_at.timestamp,sharedSlug:t.sharedSlug,slug:t.slug};"notification"===e?"POST_MENTION"===t.type?t.is_read||t.is_snooze||!t.data||0!==t.data.is_close?(t.is_read||t.is_snooze||t.data&&1===t.data.is_close)&&bt.c.isActive(r)&&bt.c.dismiss(r):n.push(o):"WORKSPACE_ADD_MEMBER"===t.type?t.is_read||t.is_snooze?(t.is_read||t.is_snooze||t.data&&1===t.data.is_close)&&bt.c.isActive(r)&&bt.c.dismiss(r):n.push(o):"POST_CREATE"===t.type?t.data&&1===t.data.is_close&&bt.c.isActive(r)?bt.c.dismiss(r):!function(e){var t=e.sharedSlug&&k[e.slug]?k[e.slug].user_auth.id:i.id;return e.data.must_read&&e.data.must_read_users&&e.data.must_read_users.some((function(e){return e.id===t&&!e.must_read}))}(t)&&!function(e){var t=e.sharedSlug&&k[e.slug]?k[e.slug].user_auth.id:i.id;return e.data.must_reply&&e.data.must_reply_users&&e.data.must_reply_users.some((function(e){return e.id===t&&!e.must_reply}))}(t)||t.is_snooze||!t.data||0!==t.data.is_close?bt.c.isActive(r)&&bt.c.dismiss(r):n.push(Object(a.a)(Object(a.a)({},o),{},{update:!0})):"POST_REQST_APPROVAL"===t.type?t.data&&1===t.data.is_close&&bt.c.isActive(r)?bt.c.dismiss(r):!function(e){var t=e.sharedSlug&&k[e.slug]?k[e.slug].user_auth.id:i.id;return e.data.users_approval&&e.data.users_approval.find((function(e){return null===e.ip_address&&t===e.id}))}(t)||t.is_snooze||!t.data||0!==t.data.is_close?bt.c.isActive(r)&&bt.c.dismiss(r):n.push(o):"POST_REJECT_APPROVAL"===t.type||"PST_CMT_REJCT_APPRVL"===t.type?t.data&&1===t.data.is_close&&bt.c.isActive(r)?bt.c.dismiss(r):!H(t)&&t.data.post_approval_label&&"REQUEST_UPDATE"===t.data.post_approval_label&&!t.is_snooze&&t.data&&0===t.data.is_close?n.push(o):bt.c.isActive(r)&&bt.c.dismiss(r):t.type:"todo"===e?"DONE"===t.status||t.is_snooze?bt.c.isActive(r)&&bt.c.dismiss(r):n.push(o):"huddle"===e&&(j||x.includes(t.channel.id)||!function(e){if(e.questions.filter((function(e){return null===e.answer})).length>0){var t=parseInt(e.start_at.time.substr(0,2)),n=parseInt(e.start_at.time.substr(3,2)),a=parseInt(e.publish_at.time.substr(0,2)),r=parseInt(e.publish_at.time.substr(3,2)),i=new Date;i.setUTCHours(t,n,0),i.setDate(v.getDate());var o=new Date;return o.setUTCHours(a,r,0),o.setDate(v.getDate()),_>i.getTime()&&o.getTime()>_}return!1}(t)||t.is_snooze?bt.c.isActive(r)&&bt.c.dismiss(r):n.push(o))})),n},z=function(e,t){var n=Math.round(+new Date/1e3),a="notification"===e?p:"todo"===e?f:E,r=0;return t.map((function(t){var i=t.snooze_time+10800;"notification"===e?t.is_snooze&&t.snooze_time&&n>i&&(r++,u.snoozeNotif({notification_id:t.id,is_snooze:!1,type:"POST_SNOOZE"}),a.snooze({id:t.id,key:t.key,is_snooze:!1,snooze_time:null,type:"POST_SNOOZE"})):"todo"===e?"DONE"!==t.status&&t.is_snooze&&t.snooze_time&&n>i&&(r++,u.snoozeNotif({notification_id:t.id,is_snooze:!1,type:"REMINDER_SNOOZE"}),a.snooze({id:t.id,is_snooze:!1,snooze_time:null,type:"REMINDER_SNOOZE"})):"huddle"===e&&t.is_snooze&&t.snooze_time&&n>i&&(r++,u.snoozeNotif({notification_id:t.id,is_snooze:!1,type:"HUDDLE_SNOOZE"}),a.snooze({id:t.id,is_snooze:!1,snooze_time:null,type:"HUDDLE_SNOOZE"}))})),r},V=function(){var e,a,r;e=G("todo",U()),a=G("notification",F()),r=G("huddle",y);var o=[].concat(e,a,r);o.length?function(e){if(e.length>0){bt.c.isActive("btnSnoozeAll")?bt.c.update("btnSnoozeAll",{render:function(){return c.a.createElement("span",{className:"snooze-all",onClick:function(e){return B(0,e)}},D.snoozeAllNotifications)},containerId:"toastS"}):Object(bt.c)(c.a.createElement("span",{className:"snooze-all",onClick:function(e){return B(0,e)}},D.snoozeAllNotifications),{className:"snooze-all-container",bodyClassName:"snooze-all-body",containerId:"toastS",toastId:"btnSnoozeAll",closeButton:!1});var a=e.slice(0,4),r=[];a.map((function(e){var a="notification"===e.type?p:"todo"===e.type?f:E,o=e.type+"__"+e.id,s="notification"===e.type?t[e.key]:"todo"===e.type?n.items[e.id]:Object.values(y).find((function(t){return t.id==e.id}));bt.c.isActive(o)?e.update&&bt.c.update(o,{render:function(){return c.a.createElement(Lt,{type:e.type,dictionary:D,id:s.id,item:s,user:i,users:N,actions:a,handleRedirect:W,darkMode:h,snoozeData:{id:s.id,is_snooze:!0,snooze_time:Object(Et.d)(180)}})},containerId:"toastS"}):Object(bt.c)(c.a.createElement(Lt,{type:e.type,dictionary:D,id:s.id,item:s,user:i,users:N,actions:a,handleRedirect:W,darkMode:h,snoozeData:{id:s.id,is_snooze:!0,snooze_time:Object(Et.d)(180)}}),{className:"snooze-container",bodyClassName:"snooze-body",containerId:"toastS",toastId:o}),r.push(o)}))}else bt.c.dismiss("btnSnoozeAll")}(o):bt.c.dismiss("btnSnoozeAll")};Object(o.useEffect)((function(){var e=setInterval((function(){P(!0)}),6e4);return n.today.hasMore&&f.fetchToday({skip:n.today.skip,limit:n.today.limit,filter:"today"}),function(){clearInterval(e)}}),[]),Object(o.useEffect)((function(){if(L){P(!1);var e=z("todo",U()),t=z("notification",F()),n=z("huddle",y);0===e&&0===t&&0===n&&V()}}),[L,t,n,y]),Object(o.useEffect)((function(){Object.keys(A).length>0&&S&&V()}),[t,n,y,S,k]);var Y=v.getDay(),K=Object(o.useRef)(0);return Object(o.useEffect)((function(){K.current++,K.current>1&&(localStorage.removeItem("huddle"),localStorage.removeItem("huddleNotif"),localStorage.removeItem("reminderNotif"),T(Object(w.o)()))}),[Y]),Object(o.useEffect)((function(){var e=(new Date).getDay(),t=localStorage.getItem("huddle");t&&(JSON.parse(t).day===e&&0!==e&&6!==e||(localStorage.removeItem("huddle"),T(Object(w.o)())));P(!0)}),[]),c.a.createElement(Dt,{darkMode:h},c.a.createElement(bt.b,{enableMultiContainer:!0,containerId:"toastS",position:"bottom-left",autoClose:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,limit:5,closeButton:!1,style:{zIndex:999}}))};n(887);function Ft(){var e=Object(i.a)(["\n  position: relative;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n  .card-body {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n  }\n  svg {\n    height: 50%;\n    width: 50%;\n  }\n"]);return Ft=function(){return e},e}u.b.div(Ft());function Ut(){var e=Object(i.a)(["\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  /* filter: brightness(0) saturate(100%) invert(1); */\n  cursor: pointer;\n"]);return Ut=function(){return e},e}function Wt(){var e=Object(i.a)(["\n  width: 84px;\n  height: 56px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]);return Wt=function(){return e},e}function Ht(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  justify-content: space-evenly;\n  cursor: pointer;\n  .feather-heart {\n    color: #fff;\n    height: 0.7rem;\n    width: 0.7rem;\n    min-height: 0.7rem;\n    min-width: 0.7rem;\n    margin: 0 5px;\n  }\n  .company-logo {\n    height: 100%;\n    max-height: 60px;\n    max-width: 110px;\n  }\n"]);return Ht=function(){return e},e}function Bt(){var e=Object(i.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  ","\n\n  :hover {\n    .feather-pencil {\n      display: block;\n      top: 0;\n      right: -15px;\n      cursor: pointer;\n    }\n  }\n"]);return Bt=function(){return e},e}var Gt=u.b.div(Bt(),(function(e){return e.hasCompanyLogo&&"height: 100%;\n    width: 70%;"})),zt=u.b.div(Ht()),Vt=Object(u.b)(k.t)(Wt()),Yt=Object(u.b)(k.t)(Ut()),Kt=function(e){var t=Object(l.c)(),n=Object(d.g)(),a=Object(o.useState)("#FFFFFF"),i=Object(r.a)(a,2),s=i[0],u=i[1],p=Object(m.ab)().generalSettings.dark_mode,f=Object(l.d)((function(e){return e.settings.driff.theme})).colors.fifth,h=Object(l.d)((function(e){return e.settings.driff.logo})),b=function(e){e.preventDefault(),e.target.dataset.link?t(Object(ke.bb)({mode:3})):t(Object(ke.bb)({mode:2})),n.push("/dashboard")},E=function(){"1"!==p?"light"!==function(e){var t=null,n=null,a=null;e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],n=e[2],a=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,n=e>>8&255,a=255&e);return Math.sqrt(t*t*.299+n*n*.587+a*a*.114)>127.5?"light":"dark"}(f)?u("#FFFFFF"):u("#000"):u("#FFFFFF")};return Object(o.useEffect)((function(){E()}),[f,p]),c.a.createElement(Gt,{hasCompanyLogo:""!==h.trim()},""!==h.trim()&&c.a.createElement(zt,{"data-link":"/dashboard",onClick:b},c.a.createElement("img",{className:"company-logo",src:h,alt:"company logo"}),c.a.createElement(k.u,{icon:"heart",fill:s}),c.a.createElement("div",{style:{position:"relative"}},c.a.createElement(Yt,{icon:"driff-logo2",fill:s}))),""===h.trim()&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Vt,{icon:"driff-logo2","data-link":"/dashboard",onClick:b,fill:s})))};function qt(){var e=Object(i.a)([""]);return qt=function(){return e},e}var Jt=u.b.div(qt()),Zt=c.a.memo((function(){return c.a.createElement(Jt,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),Xt=n(119),Qt=n(149),$t=n(187),en=n(186),tn=n(103),nn=n(45),an=n(960),rn=n.n(an),on=n(59),cn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(i=on.generate()),rn.a.create(e,{body:t,icon:null!==n?n:"./assets/icons/favicon.png",timeout:r,tag:e,onClick:function(){window.focus(),a&&a(),this.close()}})},sn=n(23),ln=n(16),dn=n(30),un=n(24),mn=n(81),pn=n(21),fn=n(55),hn=n(174),bn=n(36),En=n(56),gn=function(e){Object($t.a)(n,e);var t=Object(en.a)(n);function n(e){var a;return Object(Xt.a)(this,n),(a=t.call(this,e)).refetchPostComments=function(){Object.keys(a.props.postComments).forEach((function(e){a.props.refetchPostComments({post_id:e})}))},a.refetch=function(){a.props.sharedSlug||(a.props.getUnreadNotificationCounterEntries({},(function(e,t){if(!e&&t){var n=t.data.find((function(e){return"GENERAL_POST"===e.entity_type}));n&&n.count>0&&a.props.refetchPosts({skip:0,limit:n.count,filters:["green_dot"]})}})),a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&a.props.refetchMessages({message_id:a.props.lastReceivedMessage.id},(function(e,t){if(!e&&a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id){var n=t.data.latest_channels.map((function(e){return e.id})).filter((function(e){return e!==a.props.lastReceivedMessage.channel_id}));a.props.refetchOtherMessages({message_id:a.props.lastReceivedMessage.id,channel_ids:n},(function(e,t){e||t.data.filter((function(e){return e.count_message>0})).forEach((function(e){a.props.getChannelDetail({id:e.channel_id})}))}))}})))},a.state={reconnected:null,disconnectedTimestamp:null,reconnectedTimestamp:null,slug:e.slug?e.slug:localStorage.getItem("slug"),userId:e.userId?e.userId:e.user.id,useSharedDriff:void 0!==e.slug},a.onlineUsers=c.a.createRef(null),a.publishChannelId=c.a.createRef(null),a}return Object(Qt.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.sharedSlug||(this.props.getOnlineUsers(),this.props.getLatestReply({},(function(e,t){}))),window[this.state.slug].connector.socket.on("connect",(function(){})),window[this.state.slug].connector.socket.on("disconnect",(function(){e.setState({disconnectedTimestamp:Math.floor(Date.now()/1e3)})})),window[this.state.slug].connector.socket.on("reconnect",(function(){e.setState({reconnected:!0,reconnectedTimestamp:Math.floor(Date.now()/1e3)}),e.refetch(),e.refetchPostComments()})),window[this.state.slug].connector.socket.on("reconnecting",(function(){})),window[this.state.slug].private("".concat(localStorage.getItem("slug"),".App.User.Inactive")).listen(".user-inactive",(function(t){e.props.incomingDeletedUser(t)})),window[this.state.slug].private("".concat(this.state.slug,".Driff.User.").concat(this.state.userId)).listen(".proposal-version-upload-new-notification",(function(t){console.log(t,"new version"),e.props.incomingNewFileVersion(t.data)})).listen(".proposal-version-replace-notification",(function(t){console.log(t,"replace image"),e.props.incomingReplacedWIPFile(t.data)})).listen(".proposal-version-approved-notification",(function(t){console.log(t,"approve file"),e.props.incomingApprovedFileVersion(t)})).listen(".proposal-version-comment-closed-notification",(function(t){console.log(t,"closed file comment"),e.props.incomingClosedFileComments(t)})).listen(".proposal-version-comment-notification",(function(t){e.props.incomingWIPFileComment(t)})).listen(".proposal-version-comment-updated",(function(t){console.log(t,"updated file comment"),e.props.incomingUpdatedWIPFileComment(t)})).listen(".proposal-comment-notification",(function(t){e.props.incomingWIPComment(t)})).listen(".proposal-comment-updated",(function(t){e.props.incomingUpdatedWIPComment(t)})).listen(".proposal-notification",(function(t){switch(console.log(t),t.SOCKET_TYPE){case"PROPOSAL_CLAP_TOGGLE":e.props.incomingProposalClap(t);break;case"PROPOSAL_CREATED":e.props.incomingWIP(Object(a.a)(Object(a.a)({},t),{},{clap_user_ids:[]}));break;default:return null}})).listen(".proposal-subject-notification",(function(t){e.props.incomingWIPSubject(Object(a.a)(Object(a.a)({},t),{},{clap_user_ids:[]}))})).listen(".create-driff-talk-notification",(function(t){var n=Math.floor(Date.now()/1e3),r={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:n},updated_at:{timestamp:n},channel_id:t.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(n,"YYYY-MM-DD")};if(t.host.id!==e.state.userId){var i=null;if(t.system_message.startsWith("DRIFF_TALK::"))i=JSON.parse(t.system_message.replace("DRIFF_TALK::","")).meet_event.room_name;e.props.addToModals({type:"jitsi_invite",channelType:t.type,host:t.host,title:t.title,channel_id:t.channel_id,hideJoin:null!==e.props.jitsi,room_name:i,slug:e.state.slug})}e.props.incomingChatMessage(Object(a.a)(Object(a.a)({},r),{},{channel_id:t.channel_id,slug:e.state.slug}))})).listen(".end-driff-talk-notification",(function(t){var n=Math.floor(Date.now()/1e3),r={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:n},updated_at:{timestamp:n},channel_id:t.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(n,"YYYY-MM-DD")};e.props.incomingJitsiEnded(Object(a.a)(Object(a.a)({},t),{},{chat:r,channel_id:t.channel_id,slug:e.state.slug}))})).listen(".left-driff-talk-notification",(function(t){var n=Math.floor(Date.now()/1e3),r={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:n},updated_at:{timestamp:n},channel_id:t.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(n,"YYYY-MM-DD")};e.props.incomingChatMessage(Object(a.a)(Object(a.a)({},r),{},{channel_id:t.channel_id,slug:e.state.slug}))})).listen(".recording-uploaded-notification",(function(t){var n=Math.floor(Date.now()/1e3),r={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:n},updated_at:{timestamp:n},channel_id:t.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(n,"YYYY-MM-DD")};e.props.incomingChatMessage(Object(a.a)(Object(a.a)({},r),{},{channel_id:t.channel_id,slug:e.state.slug}))})).listen(".create-meeting-notification",(function(t){if(e.state.userId!==t.host.id){var n=document.getElementById("meetingSDKElement").firstChild;n&&n.classList.contains("react-draggable")?setTimeout((function(){e.props.addToModals(Object(a.a)(Object(a.a)({},t),{},{type:"zoom_invite",hideJoin:!0})),e.props.incomingZoomData(Object(a.a)(Object(a.a)({},t.zoom_data.data),{},{channel_id:t.channel_id}))}),2e3):setTimeout((function(){e.props.addToModals(Object(a.a)(Object(a.a)({},t),{},{type:"zoom_invite",hideJoin:!1})),e.props.incomingZoomData(Object(a.a)(Object(a.a)({},t.zoom_data.data),{},{channel_id:t.channel_id}))}),2e3)}})).listen(".meeting-ended-notification",(function(t){var n=Math.floor(Date.now()/1e3),r={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:n},updated_at:{timestamp:n},channel_id:t.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(n,"YYYY-MM-DD")};e.props.incomingZoomEnded(Object(a.a)(Object(a.a)({},t),{},{chat:r,channel_id:t.channel_id}))})).listen(".notification-read",(function(t){e.props.incomingReadNotifications(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".delete-notification",(function(t){var n="notification__".concat(t.notification_id);bt.c.isActive(n)&&bt.c.dismiss(n);var a=e.props.sharedSlug?"".concat(t.notification_id,"-").concat(e.props.slug):t.notification_id;e.props.removeNotificationReducer({id:t.notification_id,key:a})})).listen(".snooze-notification",(function(t){e.props.incomingSnoozedNotification(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".snooze-all-notification",(function(t){e.props.incomingSnoozedAllNotification(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".post-follow",(function(t){e.props.incomingFollowPost(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".post-unfollow",(function(t){e.props.incomingUnfollowPost(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".unarchive-post-notification",(function(t){t.posts.forEach((function(t){e.props.fetchPost({post_id:t.id},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{claps:[],is_unread:1});e.props.incomingPost(Object(a.a)(Object(a.a)({},r),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId}))}}))}))})).listen(".huddle-notification",(function(t){switch(t.SOCKET_TYPE){case"HUDDLE_CREATED":e.props.incomingHuddleBot(Object(a.a)(Object(a.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,n){return Object(a.a)(Object(a.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===n,isLastQuestion:t.questions.length===n+1})}))}));break;case"HUDDLE_UPDATED":e.props.incomingUpdatedHuddleBot(Object(a.a)(Object(a.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,n){return Object(a.a)(Object(a.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===n,isLastQuestion:t.questions.length===n+1})}))}));break;case"HUDDLE_DELETED":e.props.incomingDeletedHuddleBot({id:parseInt(t.id)});break;case"HUDDLE_ANSWER_UPDATE":e.props.incomingHuddleAnswers(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.huddle.channel_id}}));break;case"USER_ANSWERED":e.props.incomingHuddleAnswers(t),e.props.incomingChatMessage(Object(a.a)(Object(a.a)({},t.message),{},{huddle_log:t.huddle_log,slug:e.state.slug}));break;case"HUDDLE_SKIP":e.props.incomingHuddleSkip(t);break;default:return null}})).listen(".workspace-todo-notification",(function(t){if(t.workspace&&Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace.id===e.id}))){var n={};e.props.sharedSlug&&(n=Object(a.a)(Object(a.a)({},n),{},{sharedPayload:{slug:e.state.slug,token:e.props.sharedWorkspaces[e.state.slug].access_token,is_shared:!0}}))}switch(t.SOCKET_TYPE){case"CREATE_WORKSPACE_TODO":e.props.incomingToDo(Object(a.a)(Object(a.a)({},t),{},{user:t.user_id,slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"UPDATE_WORKSPACE_TODO":e.props.incomingUpdateToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"DONE_TODO":e.props.incomingDoneToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"DELETE_WORKSPACE_TODO":e.props.incomingRemoveToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"REMIND_WORKSPACE_TODO":e.props.incomingUpdateToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"ADVANCE_REMIND_TODO":if(P.isSafari&&e.props.notificationsOn){cn("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var n="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?n=t.data.workspaces.length?t.data.workspaces[0].workspace?"/hub/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Object(p.i)(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Object(p.i)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(p.i)(t.data.post.title)):"/hub/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Object(p.i)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(p.i)(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Object(p.i)(t.data.post.title)):"CHAT"===t.link_type&&(n="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==n&&e.props.history.push(n)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".todo-notification",(function(t){var n={};switch(e.props.sharedSlug&&(n=Object(a.a)(Object(a.a)({},n),{},{sharedPayload:{slug:e.state.slug,token:e.props.sharedWorkspaces[e.state.slug].access_token,is_shared:!0}})),t.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(Object(a.a)(Object(a.a)({},t),{},{user:t.user_id,slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"UPDATE_TODO":e.props.incomingUpdateToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"DONE_TODO":e.props.incomingDoneToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"DELETE_TODO":e.props.incomingRemoveToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"REMIND_TODO":e.props.incomingUpdateToDo(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"ADVANCE_REMIND_TODO":if(P.isSafari&&e.props.notificationsOn){cn("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var n="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?n=t.data.workspaces.length?t.data.workspaces[0].workspace?"/hub/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Object(p.i)(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Object(p.i)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(p.i)(t.data.post.title)):"/hub/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Object(p.i)(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Object(p.i)(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Object(p.i)(t.data.post.title)):"CHAT"===t.link_type&&(n="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==n&&e.props.history.push(n)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".workspace-role-notification",(function(t){e.props.incomingWorkspaceRole(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".google-attachment-notification",(function(t){switch(t.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".workspace-folder-notification",(function(t){switch(t.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})),"/hub/files"===e.props.match.url&&e.props.location.pathname.includes(t.folder.id)&&e.props.location.pathname.includes(t.topic_id)){var n=e.props.location.pathname.split("/folder/")[0];e.props.history.push(n)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".workspace-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_UPDATE":e.props.incomingFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_MOVE":e.props.incomingMovedFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_TRASH":e.props.incomingDeletedFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_EMPTY":e.props.incomingEmptyTrash(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_DELETE":e.props.incomingRemovedFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".workspace-timeline-notification",(function(t){e.props.incomingTimeline(t)})).listen(".upload-bulk-private-workspace-files",(function(t){e.props.incomingFiles(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,t.system_message.slug=e.state.slug,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".favourite-notification",(function(t){switch(t.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".unread-post",(function(t){e.props.incomingReadUnreadReducer(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".post-notification",(function(t){var n={};switch(e.props.sharedSlug&&(n=Object(a.a)(Object(a.a)({},n),{},{sharedPayload:{slug:e.state.slug,token:e.props.sharedWorkspaces[e.state.slug].access_token,is_shared:!0}})),t.SOCKET_TYPE){case"CLOSED_POST":e.props.incomingClosePost(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId}));break;case"POST_APPROVED":e.props.incomingPostApproval(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId}));break;case"POST_REQUIRED":e.props.incomingPostRequired(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId}));break;case"POST_COMMENT_APPROVED":e.props.getNotifications({skip:0,limit:5}),e.props.incomingCommentApproval(Object(a.a)(Object(a.a)({},t),{},{userId:e.state.userId,slug:e.state.slug,sharedSlug:e.props.sharedSlug,users_approval:t.users_approval.map((function(e){return e.id===t.user_approved.id?Object(a.a)(Object(a.a)({},e),t.user_approved):e}))}));break;case"READ_SELECTED_UNREAD_POST":e.props.incomingReadSelectedPosts(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"ARCHIVED_SELECTED_POST":e.props.incomingArchivedSelectedPosts(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"ADD_RECIPIENTS":if(e.props.sharedSlug)return;e.props.fetchPost({post_id:t.post_id},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{claps:[],slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId});e.props.incomingPost(r)}}));break;case"POST_CREATE":var r=Object(a.a)(Object(a.a)({},t),{},{claps:[],mention_ids:t.code_data&&t.code_data.mention_ids?t.code_data.mention_ids:[],slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId}),i=r.users_approval.some((function(t){return t.id===e.state.userId})),o=r.workspaces.length>0&&r.workspaces.some((function(t){return e.props.workspaces[t.topic_id]&&e.props.workspaces[t.topic_id].is_active})),c=r.mention_ids.some((function(t){return e.state.userId===t})),s=r.must_read_users&&r.must_read_users.some((function(t){return e.state.userId===t.id&&!t.must_read})),l=r.must_reply_users&&r.must_reply_users.some((function(t){return e.state.userId===t.id&&!t.must_reply})),d=o||c||s||l||0===r.workspaces.length;r=Object(a.a)(Object(a.a)({},r),{},{show_post:d,post_approval_label:i?"NEED_ACTION":null}),e.props.updatePostCategoryCount(r),e.state.userId!==r.author.id&&P.isSafari&&e.props.notificationsOn&&d&&cn("".concat(r.author.first_name," shared a post"),r.title,r.author.profile_image_link,null),e.state.userId!==r.author.id?e.props.sharedSlug?e.props.incomingWorkspacePost(r):r.show_post?(e.props.updateUnreadCounter({general_post:1}),e.props.incomingPost(r)):e.props.incomingWorkspacePost(r):e.props.incomingPost(r),r.channel_messages&&r.channel_messages.forEach((function(n){var r=Object(a.a)(Object(a.a)({},n.system_message),{},{files:[],editable:!1,unfurls:[],reactions:[],is_deleted:!1,todo_reminder:null,is_read:!1,is_completed:!1,user:null,new_post:!0,topic:n.topic,shared_with_client:t.shared_with_client,slug:e.state.slug});e.props.incomingPostNotificationMessage(r)}));break;case"POST_UPDATE":if(e.props.incomingUpdatedPost(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})),t.channel_messages&&t.post_participant_data)if(t.post_participant_data.from_company||t.post_participant_data.all_participant_ids.some((function(t){return t===e.state.userId}))){if(!t.post_participant_data.from_company&&t.post_participant_data.all_participant_ids.some((function(t){return t===e.state.userId})))t.claps=[],e.props.incomingPost(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId})),t.channel_messages&&t.channel_messages.forEach((function(n){n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!0,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.new_post=!1,n.system_message.topic=n.topic,n.system_message.shared_with_client=t.shared_with_client,n.system_message.slug=e.state.slug,e.props.incomingPostNotificationMessage(n.system_message)}));else if(t.post_participant_data.from_company){var u=Object.values(e.props.channels).filter((function(e){return"COMPANY"===e.type}));if(u.length){var m=u[0].id,p=Object(gt.a)(t.channel_messages);p=p.filter((function(e){return e.channel.id!==m})),e.props.deletePostNotification(p)}}}else e.props.deletePostNotification(t.channel_messages),e.props.incomingDeletedPost(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"POST_DELETE":if(e.props.incomingDeletedPost(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})),t.notification_ids)Array.from(t.notification_ids).forEach((function(e){var t="notification__"+e;bt.c.isActive(t)&&bt.c.dismiss(t)}));break;case"POST_COMMENT_UPDATE":e.props.incomingComment(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,addToNotification:!1,userId:e.state.userId}));break;case"POST_CLAP_TOGGLE":e.state.userId!==t.author.id&&(e.props.incomingPostClap(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})),e.state.userId===t.post_user_id&&1===t.clap_count&&Object(bt.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourPost),{position:bt.c.POSITION.BOTTOM_LEFT}));break;case"COMMENT_IMPORTANT":e.props.incomingImportantComment(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".post-comment-notification",(function(t){switch(t.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(t.workspaces&&t.workspaces.length>=1&&t.author.id!==e.state.userId&&e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"}),t.author.id!==e.state.userId){var n=[],r=t.code_data&&t.code_data.mention_ids&&t.code_data.mention_ids.some((function(t){return e.state.userId===t}));t.workspaces.forEach((function(t){e.props.workspaces[t.topic_id]&&!e.props.workspaces[t.topic_id].is_active&&n.push(t.topic_id)}));var i=e.props.sharedSlug?t.post_code:t.post_id;if(!e.props.sharedSlug)if(e.props.posts[i]){var o=e.props.posts[i];o&&0===o.is_unread&&e.props.updateUnreadCounter({general_post:1})}else e.props.fetchPost({post_id:t.post_id},(function(i,o){if(!i){var c=Object(a.a)(Object(a.a)({},o.data),{},{claps:[],slug:e.state.slug,sharedSlug:e.props.sharedSlug,userId:e.state.userId});r||n.length!==t.workspaces.length||0===t.workspaces.length?e.props.incomingPost(c):e.props.incomingWorkspacePost(c)}}));if(P.isSafari&&e.props.notificationsOn){var c="";(c=t.workspaces.length?t.workspaces[0].workspace_id?"/hub/posts/".concat(t.workspaces[0].workspace_id,"/").concat(Object(p.i)(t.workspaces[0].workspace_name),"/").concat(t.workspaces[0].topic_id,"/").concat(Object(p.i)(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Object(p.i)(t.post_title)):"/hub/posts/".concat(t.workspaces[0].topic_id,"/").concat(Object(p.i)(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Object(p.i)(t.post_title)):"/posts/".concat(t.post_id,"/").concat(Object(p.i)(t.post_title)))===e.props.location.pathname&&!e.props.isIdle&&e.props.isBrowserActive&&document.hasFocus()||cn("".concat(t.author.first_name," replied in a post"),Object(p.k)(t.body),t.author.profile_image_link,(function(){return e.props.history.push(c,{focusOnMessage:t.id})}))}if(t.workspaces.forEach((function(t){if(e.props.sharedSlug){var n={topic_id:t.topic_id,sharedPayload:{slug:e.state.slug,token:e.props.sharedWorkspaces[e.state.slug].access_token,is_shared:!0},slug:e.state.slug,sharedSlug:!0};e.props.sharedWorkspaces[e.state.slug]&&e.props.getUnreadWorkspacePostEntries(n,(function(n,a){n||e.props.updateWorkspacePostCount({topic_id:t.topic_id,count:a.data.result,slug:e.state.slug,sharedSlug:!0})}))}else e.props.getUnreadWorkspacePostEntries({topic_id:t.topic_id},(function(n,a){n||e.props.updateWorkspacePostCount({topic_id:t.topic_id,count:a.data.result,slug:e.state.slug,sharedSlug:e.props.sharedSlug})}))})),r||0===t.workspaces.length)e.props.incomingComment(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,addToNotification:!0,userId:e.state.userId}));else{var s=Object(a.a)(Object(a.a)({},t),{},{allMuted:n.length===t.workspaces.length});e.props.incomingComment(Object(a.a)(Object(a.a)({},s),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,addToNotification:!0,userId:e.state.userId}))}}else e.props.incomingComment(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,addToNotification:!1,userId:e.state.userId}));break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"POST_COMMENT_UPDATE":e.props.incomingComment(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug,addToNotification:!1,userId:e.state.userId}));break;case"POST_COMMENT_CLAP_TOGGLE":e.state.userId!==t.author.id&&(e.props.incomingCommentClap(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})),e.state.userId===t.comment_user_id&&1===t.clap_count&&Object(bt.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourComment),{position:bt.c.POSITION.BOTTOM_LEFT}));break;default:return null}})).listen(".chat-notification",(function(t){var n=e.props,r=n.user,i=n.selectedChannel,o=n.isIdle,c=n.isBrowserActive;switch(t.SOCKET_TYPE){case"CHAT_CREATE":t.is_huddle&&e.publishChannelId.current!==t.channel_id&&(e.props.toaster.success("".concat(e.props.dictionary.huddlePublished," - ").concat(t.channel_name),{toastId:t.channel_id}),e.props.clearUnpublishedAnswer(t),setTimeout((function(){e.publishChannelId.current=null}),5e3));var s=Object(a.a)({},t);if(t.is_active?(null===s.user||s.user.id!==r.id&&!s.is_muted)&&e.props.soundPlay():!t.is_active&&t.code_data&&t.code_data.mention_ids&&t.code_data.mention_ids.some((function(t){return t===e.state.userId}))&&e.props.soundPlay(),null!==s.user&&e.state.userId===s.user.id||(delete s.reference_id,s.g_date=e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),!o&&c&&document.hasFocus()&&e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===s.channel_id&&(s.is_read=!0)),e.props.incomingChatMessage(Object(a.a)(Object(a.a)({},s),{},{translated_body:null,slug:e.state.slug})),delete t.SOCKET_TYPE,delete t.socket,t.user&&t.user.id!==e.state.userId&&!t.is_muted&&e.props.notificationsOn&&P.isSafari&&t.is_active&&(!e.props.location.pathname.includes("/chat/")||i.code!==t.channel_code||o||!c||!document.hasFocus())){cn("".concat(t.reference_title),t.reference_title.includes("in a direct message")?"".concat(Object(p.k)(t.body)):"".concat(t.user.first_name,": ").concat(Object(p.k)(t.body)),t.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(t.channel_code,"/").concat(t.code))}))}if(void 0===t.workspace_id||null===t.workspace_id||0===t.workspace_id){var l={};"CHAT_REMINDER_MESSAGE"===t.entity_type?l={count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:s.user&&s.user.id!==e.state.userId&&!1===t.is_muted&&(l={count:1,entity_type:"CHAT_MESSAGE"}),e.props.setGeneralChat(l)}else if(s.user&&s.user.id!==e.state.userId&&(e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"}),Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace_id===e.id})))){var d={};e.props.sharedSlug&&(d=Object(a.a)(Object(a.a)({},d),{},{sharedPayload:{slug:e.state.slug,token:e.props.sharedWorkspaces[e.state.slug].access_token,is_shared:!0}}))}if(e.props.channels[t.channel_code])return;(!e.props.channels[t.channel_id]&&t.is_active||!e.props.channels[t.channel_id]&&!t.is_active&&t.code_data&&t.code_data.mention_ids&&t.code_data.mention_ids.some((function(t){return t===e.state.userId})))&&e.props.getChannel({code:t.channel_code});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(Object(a.a)(Object(a.a)({},t),{},{translated_body:null,slug:e.state.slug}));break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(t);break;case"TOGGLE_IMPORTANT":e.props.incomingImportantChat(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug}));break;default:return null}})).listen(".post-list-notification",(function(t){var n={};e.props.sharedSlug&&(n=Object(a.a)(Object(a.a)({},n),{},{sharedPayload:{slug:e.state.slug,token:e.props.sharedWorkspaces[e.state.slug].access_token,is_shared:!0}})),e.props.getPostList(n,(function(n,a){if(!n){var r={link_id:t.link_id,post_id:t.post_id,slug:e.state.slug,sharedSlug:e.props.sharedSlug};switch(t.SOCKET_TYPE){case"POST_LIST_CONNECTED":e.props.incomingPostListConnect(r);break;case"POST_LIST_DISCONNECTED":e.props.incomingPostListDisconnect(r);break;default:return null}}}))})),window[this.state.slug].private("".concat(this.state.slug,".App.Broadcast")).listen(".shared-user-notification",(function(t){console.log(t,"accepted user"),e.props.incomingAcceptedSharedUser(t)})).listen(".update-meeting-option-notification",(function(t){e.props.incomingMeetingSettings(t)})).listen(".update-login-option-notification",(function(t){delete t.SOCKET_TYPE,delete t.socket,e.props.incomingLoginSettings(t)})).listen(".update-security-option-notification",(function(t){e.props.updateSecuritySettings({password_policy:t.password_policy,invite_internal:t.invite_internal,invite_guest:t.invite_guest})})).listen(".upload-company-background",(function(t){e.props.incomingCompanyDashboardBackground(t.files.image_link)})).listen(".post-access-notification",(function(t){e.props.incomingPostAccess(t)})).listen(".create-team",(function(t){e.props.incomingTeam(Object(a.a)(Object(a.a)({},t),{},{fromSharedWs:e.props.sharedSlug,slug:e.state.slug}))})).listen(".update-team",(function(t){e.props.incomingUpdatedTeam(Object(a.a)(Object(a.a)({},t),{},{fromSharedWs:e.props.sharedSlug,slug:e.state.slug}))})).listen(".remove-team",(function(t){Array.from(Object.values(e.props.workspaces)).map((function(n){if(n.members.some((function(n){return n.members&&n.id===t.id&&n.members.some((function(t){return t.id===e.state.userId}))}))){if(!n.members.some((function(t){return("internal"===t.type||"external"===t.type)&&e.state.userId===t.id})))if(!n.members.filter((function(e){return e.members&&e.id!==t.id})).map((function(e){return e.member_ids})).flat().some((function(t){return t===e.state.userId})))if(n.is_lock){var a=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];a.some((function(t){return e.props.selectedChannel&&t===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:a})}else{var r=n.members.filter((function(e){return e.members&&e.id===t.id})).map((function(e){return e.member_ids})).flat(),i=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:i,remove_member_ids:r})}return n}return n})),e.props.incomingDeletedTeam(t)})).listen(".add-team-member",(function(t){e.props.incomingTeamMember(t)})).listen(".remove-team-member",(function(t){Array.from(Object.values(e.props.workspaces)).map((function(n){if(n.members.some((function(n){return n.members&&n.id===t.id&&n.members.some((function(t){return t.id===e.state.userId}))}))){if(n.members.some((function(t){return("internal"===t.type||"external"===t.type)&&e.state.userId===t.id}))||1!==n.is_lock){if(!n.members.some((function(t){return("internal"===t.type||"external"===t.type)&&e.state.userId===t.id}))){var a=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:a,remove_member_ids:t.remove_member_ids})}}else{var r=[n.channel&&n.channel.id?n.channel.id:0,n.team_channel&&n.team_channel.id?n.team_channel.id:0];r.some((function(t){return e.props.selectedChannel&&t===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:r})}return n}return n})),e.props.incomingRemovedTeamMember(t)})).listen(".create-drive-link",(function(t){e.props.incomingDriveLink(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".remove-drive-link",(function(t){e.props.incomingDeletedDriveLink(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".update-drive-link",(function(t){e.props.incomingUpdatedDriveLink(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".upload-company-logo",(function(t){e.props.incomingUpdatedCompanyLogo(t)})).listen(".reset-company-logo",(function(t){e.props.incomingUpdatedCompanyLogo({files:{view_link:""}})})).listen(".team-checkout-complete",(function(t){e.props.incomingUpdatedSubscription(t)})).listen(".team-subscription-cancelled",(function(t){console.log(t,"cancelled subs"),e.props.incomingUpdatedSubscription(t)})).listen(".team-subscription-will-end",(function(e){console.log(e,"trial will end")})).listen(".reset-password-notification",(function(t){e.props.incomingAcceptedInternal(t)})).listen(".remove-file-notification",(function(t){switch(t.SOCKET_TYPE){case"REMOVE_FILE":e.props.incomingRemoveFileAutomatically(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"REMOVE_FILE_ON_DOWNLOAD":e.props.incomingRemoveFileAfterDownload(t.files);break;default:return null}})).listen(".workspace-team-channel",(function(t){e.props.incomingTeamChannel(t)})).listen(".announcement-notification",(function(t){switch(t.SOCKET_TYPE){case"ANNOUNCEMENT_UPDATED":e.props.incomingUpdatedAnnouncement(t);break;case"ANNOUNCEMENT_CREATED":e.props.incomingCreatedAnnouncement(t);break;case"ANNOUNCEMENT_DELETED":e.props.incomingDeletedAnnouncement(t);break;default:return null}})).listen(".users-online-broadcast",(function(t){e.props.incomingOnlineUsers(t)})).listen(".user-updated",(function(t){switch(t.SOCKET_TYPE){case"ARCHIVED_ACCOUNT":var n={channel_ids:[].concat(Object(gt.a)(t.connected_data.user_removed_channel_ids),Object(gt.a)(t.connected_data.archived_channel_ids)),topic_ids:[].concat(Object(gt.a)(t.connected_data.user_removed_topic_ids),Object(gt.a)(t.connected_data.archived_topic_ids)),user:t.user,slug:e.state.slug,sharedSlug:e.props.sharedSlug};e.props.incomingArchivedUser(n),t.user.id===e.state.userId&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),nn.sessionService.deleteSession().then((function(){return nn.sessionService.deleteUser()})));break;case"RESTORED_ACCOUNT":e.props.incomingUnarchivedUser(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"DEACTIVATE_ACCOUNT":e.props.incomingDeactivatedUser(t),t.user_id===e.state.userId&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),nn.sessionService.deleteSession().then((function(){return nn.sessionService.deleteUser()})));break;case"ACTIVATE_ACCOUNT":e.props.incomingActivatedUser(t);break;default:return null}})).listen(".updated-version",(function(t){var n=t.version,a=t.requirement,r=parseFloat(n.substr(2)),i=parseFloat(hn.a.version.substr(2));!Object(pn.f)(window.location.hostname)&&"localhost"!==window.location.hostname&&r>i&&(e.props.setNewDriffData({requirement:a,showNewDriffBar:!0}),localStorage.setItem("site_ver",n))})).listen(".user-role-notification",(function(t){e.props.incomingUserRole(t),t.user_id===e.state.userId&&e.props.getUser({id:e.state.userId},(function(t,n){t||nn.sessionService.saveUser(Object(a.a)(Object(a.a)({},e.props.user),n.data))}))})).listen(".company-announcement",(function(t){e.props.updateCompanyPostAnnouncement(t)})).listen(".company-request-form-notification",(function(t){switch(t.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(t);break;default:return null}})).listen(".company-notification",(function(t){switch(t.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(t);break;default:return null}})).listen(".company-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(t);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(t);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(t);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(t);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(t);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(t);break;case"FILE_DELETE":e.props.incomingCompanyRemovedFile(t);break;default:return null}})).listen(".company-folder-notification",(function(t){switch(t.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(t);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(t);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(t);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(t);break;default:return null}})).listen(".delete-workspace",(function(t){e.props.incomingDeletedWorkspaceFolder(t)})).listen(".workspace-role-notification",(function(t){e.props.incomingWorkspaceRole(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".google-attachment-notification",(function(t){switch(t.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".external-user-notification",(function(t){e.props.incomingExternalUser(Object(a.a)(Object(a.a)({},t),{},{sharedSlug:e.props.sharedSlug,slug:e.state.slug}))})).listen(".user-notification",(function(t){switch(t.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(Object(a.a)(Object(a.a)({},t),{},{fromSharedWs:e.props.sharedSlug,slug:e.state.slug})),t.id!==e.state.userId&&t.user_id!==e.state.userId||e.props.getUser({id:e.state.userId},(function(t,n){t||nn.sessionService.saveUser(Object(a.a)(Object(a.a)({},e.props.user),n.data))}));break;default:return null}})).listen(".post-notification",(function(t){switch(t.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".workspace-timeline-notification",(function(t){e.props.incomingTimeline(t)})).listen(".upload-bulk-workspace-files",(function(t){e.props.incomingFiles(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,t.system_message.slug=e.state.slug,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".workspace-file-notification",(function(t){switch(t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_UPDATE":e.props.incomingFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_MOVE":e.props.incomingMovedFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_TRASH":e.props.incomingDeletedFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_EMPTY":e.props.incomingEmptyTrash(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_DELETE":e.props.incomingRemovedFile(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}));break;default:return null}})).listen(".new-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.state.userId})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp})):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,r){n||e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp}))})):e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp})),t.channel.code&&!t.topic.is_shared_wp?e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(r)}})):t.team_channel.code&&!t.topic.is_shared_wp&&e.props.getChannel({code:t.team_channel.code},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(r)}}))):e.props.incomingWorkspaceFolder(Object(a.a)(Object(a.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-workspace",(function(t){if("WORKSPACE"===t.type&&e.props.workspaces[t.id]&&!1===e.props.workspaces[t.id].is_shared&&t.is_shared&&e.props.transferChannelMessages({channel:t.channel,team_channel:t.team_channel,topic_id:t.id}),e.props.incomingUpdatedWorkspaceFolder(Object(a.a)(Object(a.a)({},t),{},{is_shared:t.is_shared,channel:t.channel?Object(a.a)({},t.channel):{id:0,code:null,icon_link:null},slug:e.state.slug,sharedSlug:e.props.sharedSlug})),"WORKSPACE"===t.type&&!e.props.sharedSlug){if(e.props.getAllWorkspaceFolders(),t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.state.userId}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(n,a){n||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}))})));t.remove_member_ids.length>0&&"/hub/search"!==e.props.match.url&&"external"===e.props.user.type&&1!==t.private&&t.remove_member_ids.some((function(t){return t===e.state.userId}))&&e.props.history.push("/hub/search")}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/hub")&&"/hub/search"!==e.props.match.url){var n=e.props.location.pathname;n=n.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/hub/".concat(n,"/").concat(t.id,"/").concat(Object(p.i)(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/hub/".concat(n,"/").concat(t.workspace_id,"/").concat(Object(p.i)(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Object(p.i)(t.name)))}})).listen(".upload-favicon-event",(function(t){e.props.incomingFaviconImage(t.files.image_link)})),window[this.state.slug].private("".concat(this.state.slug,".App.User.").concat(this.state.userId)).listen(".update-workspace-quicklinks",(function(t){e.props.incomingUpdatedWorkspaceQuickLinks(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".update-company-workspace",(function(t){e.props.incomingCompanyDescription(t)})).listen(".zoom-system-message-notification",(function(t){if(t.hasOwnProperty("system_message"))if(t.system_message.startsWith("GOOGLE_MEETING")){var n=JSON.parse(t.system_message.replace("GOOGLE_MEETING::","")),r=Math.floor(Date.now()/1e3),i={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:r},updated_at:{timestamp:r},channel_id:n.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(r,"YYYY-MM-DD")};e.props.incomingChatMessage(Object(a.a)(Object(a.a)({},i),{},{channel_id:n.channel_id,slug:e.state.slug})),n.author.id!==e.state.userId&&e.props.addToModals(Object(a.a)(Object(a.a)({},t),{},{type:"meet_invite",hideJoin:!1,data:n}))}else if(t.system_message.startsWith("ZOOM_MEETING")){var o=JSON.parse(t.system_message.replace("ZOOM_MEETING::","")),c=Math.floor(Date.now()/1e3),s={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:c},updated_at:{timestamp:c},channel_id:o.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(c,"YYYY-MM-DD")};e.props.incomingZoomCreate(Object(a.a)(Object(a.a)({},t),{},{chat:s,channel_id:o.channel_id}))}})).listen(".left-meeting-notification",(function(t){var n=Math.floor(Date.now()/1e3),r={message:t.system_message,body:t.system_message,mention_ids:[],user:null,original_body:t.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:n},updated_at:{timestamp:n},channel_id:t.channel_id,reactions:[],id:t.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(n,"YYYY-MM-DD")};e.props.incomingZoomUserLeft(Object(a.a)(Object(a.a)({},t),{},{chat:r}))})).listen(".create-meeting-notification",(function(t){if(e.state.userId!==t.host.id){var n=document.getElementById("meetingSDKElement").firstChild;n&&n.classList.contains("react-draggable")?setTimeout((function(){e.props.addToModals(Object(a.a)(Object(a.a)({},t),{},{type:"zoom_invite",hideJoin:!0})),e.props.incomingZoomData(Object(a.a)(Object(a.a)({},t.zoom_data.data),{},{channel_id:t.channel_id}))}),2e3):setTimeout((function(){e.props.addToModals(Object(a.a)(Object(a.a)({},t),{},{type:"zoom_invite",hideJoin:!1})),e.props.incomingZoomData(Object(a.a)(Object(a.a)({},t.zoom_data.data),{},{channel_id:t.channel_id}))}),2e3)}})).listen(".workspace-active",(function(t){e.props.incomingWorkpaceNotificationStatus(t)})).listen(".create-drive-link",(function(t){e.props.incomingDriveLink(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".remove-drive-link",(function(t){e.props.incomingDeletedDriveLink(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".update-drive-link",(function(t){e.props.incomingUpdatedDriveLink(Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".favourite-workspace-notification",(function(t){e.props.incomingFavouriteWorkspace(Object(a.a)(Object(a.a)({},t),{},{fromSharedWs:e.props.sharedSlug,slug:e.state.slug}))})).listen(".post-read-require",(function(t){e.props.incomingMarkAsRead(Object(a.a)(Object(a.a)({},t),{},{fromSharedWs:e.props.sharedSlug,slug:e.state.slug}))})).listen(".new-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.state.userId})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp})):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,r){n||e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp}))})):e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp})),t.channel.code&&!t.topic.is_shared_wp?e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(r)}})):t.team_channel.code&&!t.topic.is_shared_wp&&e.props.getChannel({code:t.team_channel.code},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(r)}}))):e.props.incomingWorkspaceFolder(Object(a.a)(Object(a.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".new-lock-workspace",(function(t){("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.state.userId})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp})):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(n,r){n||e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp}))})):e.props.incomingWorkspace(Object(a.a)(Object(a.a)({},t),{},{channel:{id:t.channel.id?t.channel.id:0,code:t.channel.code?t.channel.code:null},slug:t.topic.is_shared_wp?t.topic.slug_owner:e.state.slug,sharedSlug:t.topic.is_shared_wp})),t.channel.code&&!t.topic.is_shared_wp?e.props.getChannel({code:t.channel.code},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(r)}})):t.team_channel.code&&!t.topic.is_shared_wp&&e.props.getChannel({code:t.team_channel.code},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(r)}}))):e.props.incomingWorkspaceFolder(Object(a.a)(Object(a.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-lock-workspace",(function(t){var n=[];if("WORKSPACE"===t.type&&e.props.workspaces[t.id]&&!1===e.props.workspaces[t.id].is_shared&&t.is_shared&&e.props.transferChannelMessages({channel:t.channel,team_channel:t.team_channel,topic_id:t.id}),"WORKSPACE"===t.type&&(n=t.members.map((function(e){return e.member_ids?e.members:e})).flat()),e.props.incomingUpdatedWorkspaceFolder(Object(a.a)(Object(a.a)({},t),{},{is_shared:t.is_shared,channel:t.channel?Object(a.a)({},t.channel):{id:0,code:null,icon_link:null},slug:e.state.slug,sharedSlug:e.props.sharedSlug})),"WORKSPACE"===t.type&&!e.props.sharedSlug){if(e.props.getAllWorkspaceFolders(),t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.state.userId}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(n,a){n||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.id}):e.props.getWorkspace({topic_id:t.id}))})));t.remove_member_ids.length>0&&"/hub/search"!==e.props.match.url&&t.remove_member_ids.some((function(t){return t===e.state.userId}))&&!n.some((function(t){return t.id===e.state.userId}))&&e.props.history.push("/hub/search")}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/hub")&&"/hub/search"!==e.props.match.url){var r=e.props.location.pathname;r=r.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/hub/".concat(r,"/").concat(t.id,"/").concat(Object(p.i)(t.name))):t.original_workspace_id!==t.workspace_id&&(t.current_workspace_folder_name?e.props.history.push("/hub/".concat(r,"/").concat(t.workspace_id,"/").concat(Object(p.i)(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Object(p.i)(t.name))):e.props.history.push("/hub/".concat(r,"/").concat(t.id,"/").concat(Object(p.i)(t.name))))}})).listen(".users-online",(function(t){e.props.currentOnlineUsers(t.current_users_online.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(t){var n={post_id:t.post_id,viewer:t.user,slug:e.state.slug,sharedSlug:e.props.sharedSlug};e.props.incomingPostViewer(n)})).listen(".move-private-topic-workspace",(function(t){e.props.incomingMovedTopic(t)})).listen(".update-channel-name",(function(t){var n=Object(a.a)(Object(a.a)({},t),{},{slug:e.state.slug,message:Object(a.a)(Object(a.a)({},t.message),{},{g_date:e.props.localizeDate(t.message.created_at.timestamp,"YYYY-MM-DD"),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(n)})).listen(".member-update-timestamp",(function(t){e.props.setMemberTimestamp(Object(a.a)(Object(a.a)({},t),{},{userId:e.state.userId,slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".new-added-member-chat",(function(t){if(t.id){var n=JSON.parse(t.body.replace("CHANNEL_UPDATE::","")),r=Object(a.a)(Object(a.a)({},t),{},{is_deleted:!1,reactions:[],last_reply:null,body:t.body,created_at:t.created_at,updated_at:t.created_at,files:[],id:t.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:t.channel_id,g_date:e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),code:t.code}),i={users:Object.values(e.props.users).filter((function(e){return n.added_members.some((function(t){return t===e.id}))})).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:t.channel_id,data:t,message:r};e.props.channels.hasOwnProperty(t.channel_id)||n.author.id===e.state.userId?e.props.joinWorkspaceReducer(i):(e.props.getChannel({code:t.channel_code},(function(t,n){if(!t){var r=Object(a.a)(Object(a.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===n.data.is_archived,isFetching:!1});e.props.addToChannels(r)}})),t.workspace_data&&(!t.workspace_data.workspace||e.props.folders.hasOwnProperty(t.workspace_data.workspace.id)||e.props.sharedSlug?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.workspace_data.topic.id}):e.props.getWorkspace({topic_id:t.workspace_data.topic.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_data.workspace.id},(function(n,a){n||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:t.workspace_data.topic.id}):e.props.getWorkspace({topic_id:t.workspace_data.topic.id}))}))))}})).listen(".archived-chat-channel",(function(t){t.channel_data.topic_detail?(t.channel_data.timeline&&e.props.incomingTimeline({timeline_data:t.channel_data.timeline,workspace_data:{topic_id:t.channel_data.topic_detail.id}}),"UNARCHIVED"===t.channel_data.status?e.props.incomingUnArchivedWorkspaceChannel(Object(a.a)(Object(a.a)({},t.channel_data),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug})):e.props.incomingArchivedWorkspaceChannel(Object(a.a)(Object(a.a)({},t.channel_data),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))):e.props.incomingArchivedChannel(Object(a.a)(Object(a.a)({},t.channel_data),{},{slug:e.state.slug,sharedSlug:e.props.sharedSlug}))})).listen(".new-chat-channel",(function(t){t.channel_data.creator_by.id!==e.state.userId&&e.props.getChannel({code:t.channel_data.code},(function(n,r){if(!n){var i=Object(a.a)(Object(a.a)({},r.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1,creator:t.channel_data.creator_by});e.props.addToChannels(i)}}))})).listen(".chat-message-react",(function(t){e.props.incomingChatMessageReaction(Object(a.a)(Object(a.a)({},t),{},{user_name:t.name,slug:e.state.slug}))})).listen(".updated-notification-counter",(function(t){if("CHAT"===t.entity_group_type&&Object.values(e.props.workspaces).find((function(e){return e.is_favourite&&(e.channel.id===parseInt(t.entity_id)||e.team_channel&&e.team_channel.id===parseInt(t.entity_id))}))){var n={};e.props.sharedSlug&&(n=Object(a.a)(Object(a.a)({},n),{},{sharedPayload:{slug:e.state.slug,token:e.props.sharedWorkspaces[e.state.slug].access_token,is_shared:!0}}))}e.props.setUnreadNotificationCounterEntries(t)}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.useDriff.updateFaviconState(0!==Object.keys(this.props.unreadCounter).filter((function(e){return"chat_reminder_message"!==e})).reduce((function(e,t){return e+=n.props.unreadCounter[t]}),0)||0!==this.props.todos.count.overdue)}},{key:"render",value:function(){return null}}]),n}(o.Component);var On=Object(l.b)((function(e){var t=e.session.user,n=e.settings.userSettings,a=e.chat,r=a.channels,i=a.selectedChannel,o=a.isLastChatVisible,c=a.lastReceivedMessage,s=a.jitsi,l=e.workspaces,d=l.workspaces,u=l.workspacePosts,m=l.folders,p=l.activeTopic,f=l.workspacesLoaded,h=l.postComments,b=l.sharedWorkspaces,E=e.global,g=E.unreadCounter,O=E.todos,v=E.recipients,_=E.isIdle,T=E.isBrowserActive,w=e.users,k=w.mentions;return{user:t,users:w.users,settings:n,channels:r,selectedChannel:i,workspacePosts:u,folders:m,mentions:k,activeTopic:p,workspacesLoaded:f,workspaces:d,isLastChatVisible:o,lastReceivedMessage:c,unreadCounter:g,todos:O,recipients:v,postComments:h,isIdle:_,isBrowserActive:T,posts:e.posts.companyPosts.posts,jitsi:s,sharedWorkspaces:b}}),(function(e){return{addToChannels:Object(tn.bindActionCreators)(w.j,e),addUserToReducers:Object(tn.bindActionCreators)(ke.b,e),getChannel:Object(tn.bindActionCreators)(w.C,e),setBrowserTabStatus:Object(tn.bindActionCreators)(ke.V,e),getOnlineUsers:Object(tn.bindActionCreators)(dn.q,e),getConnectedSlugs:Object(tn.bindActionCreators)(ke.m,e),getUser:Object(tn.bindActionCreators)(dn.v,e),setMemberTimestamp:Object(tn.bindActionCreators)(w.ac,e),incomingChatMessage:Object(tn.bindActionCreators)(w.X,e),addFilesToChannelAction:Object(tn.bindActionCreators)(sn.c,e),deleteFilesFromChannelAction:Object(tn.bindActionCreators)(sn.m,e),generateUnfurl:Object(tn.bindActionCreators)(ke.k,e),setChannel:Object(tn.bindActionCreators)(w.Pb,e),incomingArchivedChannel:Object(tn.bindActionCreators)(w.W,e),incomingChatMessageReaction:Object(tn.bindActionCreators)(w.Y,e),incomingUpdatedChatMessage:Object(tn.bindActionCreators)(w.ib,e),incomingDeletedChatMessage:Object(tn.bindActionCreators)(w.Z,e),incomingUpdatedChannelDetail:Object(tn.bindActionCreators)(w.hb,e),getChannelMembers:Object(tn.bindActionCreators)(w.G,e),incomingWorkspaceFolder:Object(tn.bindActionCreators)(un.S,e),incomingWorkspace:Object(tn.bindActionCreators)(un.R,e),incomingUpdatedWorkspaceFolder:Object(tn.bindActionCreators)(un.O,e),incomingMovedTopic:Object(tn.bindActionCreators)(un.K,e),setGeneralChat:Object(tn.bindActionCreators)(ke.X,e),setUnreadNotificationCounterEntries:Object(tn.bindActionCreators)(ke.eb,e),incomingPost:Object(tn.bindActionCreators)(ln.ab,e),incomingPostClap:Object(tn.bindActionCreators)(ln.cb,e),incomingDeletedPost:Object(tn.bindActionCreators)(ln.V,e),incomingComment:Object(tn.bindActionCreators)(ln.R,e),incomingCommentClap:Object(tn.bindActionCreators)(ln.T,e),incomingFolder:Object(tn.bindActionCreators)(sn.tb,e),incomingDeletedFolder:Object(tn.bindActionCreators)(sn.kb,e),incomingFile:Object(tn.bindActionCreators)(sn.pb,e),incomingFiles:Object(tn.bindActionCreators)(sn.sb,e),incomingDeletedFile:Object(tn.bindActionCreators)(sn.ib,e),incomingMovedFile:Object(tn.bindActionCreators)(sn.xb,e),incomingRestoreFile:Object(tn.bindActionCreators)(sn.Eb,e),incomingRestoreFolder:Object(tn.bindActionCreators)(sn.Fb,e),incomingEmptyTrash:Object(tn.bindActionCreators)(sn.ob,e),incomingCompanyFolder:Object(tn.bindActionCreators)(sn.ab,e),incomingCompanyUpdatedFolder:Object(tn.bindActionCreators)(sn.gb,e),incomingCompanyDeletedFolder:Object(tn.bindActionCreators)(sn.W,e),incomingCompanyFile:Object(tn.bindActionCreators)(sn.Y,e),incomingCompanyFiles:Object(tn.bindActionCreators)(sn.Z,e),incomingCompanyDeletedFile:Object(tn.bindActionCreators)(sn.U,e),incomingCompanyMovedFile:Object(tn.bindActionCreators)(sn.cb,e),incomingCompanyEmptyTrash:Object(tn.bindActionCreators)(sn.X,e),incomingCompanyRemovedFile:Object(tn.bindActionCreators)(sn.Ab,e),incomingCompanyMoveFile:Object(tn.bindActionCreators)(sn.bb,e),incomingCompanyRestoreFile:Object(tn.bindActionCreators)(sn.db,e),incomingCompanyRestoreFolder:Object(tn.bindActionCreators)(sn.eb,e),incomingCompanyRemovedFolder:Object(tn.bindActionCreators)(sn.Bb,e),incomingCompanyDeletedFiles:Object(tn.bindActionCreators)(sn.V,e),incomingCompanyUpdatedFile:Object(tn.bindActionCreators)(sn.fb,e),incomingPostViewer:Object(tn.bindActionCreators)(ln.ib,e),incomingUpdatedPost:Object(tn.bindActionCreators)(ln.mb,e),incomingTimeline:Object(tn.bindActionCreators)(un.M,e),incomingDeletedPostFile:Object(tn.bindActionCreators)(sn.mb,e),incomingDeletedComment:Object(tn.bindActionCreators)(ln.U,e),incomingUpdatedUser:Object(tn.bindActionCreators)(dn.P,e),incomingRemovedFile:Object(tn.bindActionCreators)(sn.Cb,e),incomingRemovedFolder:Object(tn.bindActionCreators)(sn.Db,e),getWorkspace:Object(tn.bindActionCreators)(un.x,e),setSelectedChannel:Object(tn.bindActionCreators)(w.cc,e),incomingArchivedWorkspaceChannel:Object(tn.bindActionCreators)(un.H,e),incomingUnArchivedWorkspaceChannel:Object(tn.bindActionCreators)(un.N,e),fetchPost:Object(tn.bindActionCreators)(ln.u,e),incomingDeletedFiles:Object(tn.bindActionCreators)(sn.jb,e),incomingGoogleFile:Object(tn.bindActionCreators)(sn.vb,e),incomingGoogleFolder:Object(tn.bindActionCreators)(sn.wb,e),joinWorkspaceReducer:Object(tn.bindActionCreators)(un.V,e),incomingDeletedGoogleFile:Object(tn.bindActionCreators)(sn.lb,e),incomingWorkspaceRole:Object(tn.bindActionCreators)(un.T,e),incomingDeletedWorkspaceFolder:Object(tn.bindActionCreators)(un.I,e),incomingExternalUser:Object(tn.bindActionCreators)(dn.H,e),getWorkspaceFolder:Object(tn.bindActionCreators)(un.A,e),incomingUpdateCompanyName:Object(tn.bindActionCreators)(mn.f,e),incomingInternalUser:Object(tn.bindActionCreators)(dn.I,e),incomingToDo:Object(tn.bindActionCreators)(ke.E,e),incomingUpdateToDo:Object(tn.bindActionCreators)(ke.F,e),incomingDoneToDo:Object(tn.bindActionCreators)(ke.B,e),incomingRemoveToDo:Object(tn.bindActionCreators)(ke.D,e),incomingPostMarkDone:Object(tn.bindActionCreators)(ln.fb,e),incomingFavouriteItem:Object(tn.bindActionCreators)(ke.C,e),incomingReadUnreadReducer:Object(tn.bindActionCreators)(ln.kb,e),updateCompanyPostAnnouncement:Object(tn.bindActionCreators)(mn.l,e),incomingUserRole:Object(tn.bindActionCreators)(dn.Q,e),deletePostNotification:Object(tn.bindActionCreators)(w.A,e),incomingPostNotificationMessage:Object(tn.bindActionCreators)(w.gb,e),incomingMarkAsRead:Object(tn.bindActionCreators)(ln.Z,e),addToModals:Object(tn.bindActionCreators)(ke.a,e),refetchMessages:Object(tn.bindActionCreators)(ke.Q,e),refetchOtherMessages:Object(tn.bindActionCreators)(ke.R,e),getChannelDetail:Object(tn.bindActionCreators)(w.D,e),incomingReminderNotification:Object(tn.bindActionCreators)(fn.f,e),getLatestReply:Object(tn.bindActionCreators)(ke.p,e),incomingPostRecipients:Object(tn.bindActionCreators)(ln.gb,e),refetchPosts:Object(tn.bindActionCreators)(ln.Nb,e),refetchPostComments:Object(tn.bindActionCreators)(ln.Mb,e),getUnreadNotificationCounterEntries:Object(tn.bindActionCreators)(ke.y,e),incomingImportantComment:Object(tn.bindActionCreators)(ln.X,e),incomingImportantChat:Object(tn.bindActionCreators)(w.eb,e),incomingReadSelectedPosts:Object(tn.bindActionCreators)(ln.jb,e),incomingArchivedSelectedPosts:Object(tn.bindActionCreators)(ln.P,e),getUnreadWorkspacePostEntries:Object(tn.bindActionCreators)(un.w,e),updateWorkspacePostCount:Object(tn.bindActionCreators)(un.kb,e),incomingPostApproval:Object(tn.bindActionCreators)(ln.bb,e),incomingCommentApproval:Object(tn.bindActionCreators)(ln.S,e),incomingArchivedUser:Object(tn.bindActionCreators)(dn.D,e),incomingUnarchivedUser:Object(tn.bindActionCreators)(dn.N,e),incomingDeactivatedUser:Object(tn.bindActionCreators)(dn.E,e),incomingActivatedUser:Object(tn.bindActionCreators)(dn.C,e),incomingHuddleBot:Object(tn.bindActionCreators)(w.cb,e),incomingUpdatedHuddleBot:Object(tn.bindActionCreators)(w.jb,e),incomingDeletedHuddleBot:Object(tn.bindActionCreators)(w.ab,e),incomingHuddleAnswers:Object(tn.bindActionCreators)(w.bb,e),clearUnpublishedAnswer:Object(tn.bindActionCreators)(w.s,e),incomingClosePost:Object(tn.bindActionCreators)(ln.Q,e),incomingHuddleSkip:Object(tn.bindActionCreators)(w.db,e),incomingOnlineUsers:Object(tn.bindActionCreators)(dn.J,e),incomingUpdatedAnnouncement:Object(tn.bindActionCreators)(ke.G,e),incomingCreatedAnnouncement:Object(tn.bindActionCreators)(ke.z,e),incomingDeletedAnnouncement:Object(tn.bindActionCreators)(ke.A,e),getPostList:Object(tn.bindActionCreators)(ln.F,e),incomingPostListConnect:Object(tn.bindActionCreators)(ln.db,e),incomingPostListDisconnect:Object(tn.bindActionCreators)(ln.eb,e),incomingPostRequired:Object(tn.bindActionCreators)(ln.hb,e),incomingTeamChannel:Object(tn.bindActionCreators)(un.L,e),incomingRemoveFileAfterDownload:Object(tn.bindActionCreators)(sn.yb,e),incomingRemoveFileAutomatically:Object(tn.bindActionCreators)(sn.zb,e),incomingFavouriteWorkspace:Object(tn.bindActionCreators)(un.J,e),getFavoriteWorkspaceCounters:Object(tn.bindActionCreators)(un.q,e),getToDoDetail:Object(tn.bindActionCreators)(ke.v,e),setActiveTopic:Object(tn.bindActionCreators)(un.cb,e),incomingDeletedUser:Object(tn.bindActionCreators)(dn.G,e),incomingFollowPost:Object(tn.bindActionCreators)(ln.W,e),incomingUnfollowPost:Object(tn.bindActionCreators)(ln.lb,e),incomingAcceptedInternal:Object(tn.bindActionCreators)(dn.B,e),incomingZoomData:Object(tn.bindActionCreators)(ke.I,e),transferChannelMessages:Object(tn.bindActionCreators)(w.ic,e),getNotifications:Object(tn.bindActionCreators)(fn.d,e),incomingSnoozedNotification:Object(tn.bindActionCreators)(fn.h,e),incomingSnoozedAllNotification:Object(tn.bindActionCreators)(fn.g,e),removeNotificationReducer:Object(tn.bindActionCreators)(fn.n,e),setNewDriffData:Object(tn.bindActionCreators)(ke.cb,e),incomingReadNotifications:Object(tn.bindActionCreators)(fn.e,e),incomingUpdatedSubscription:Object(tn.bindActionCreators)(En.v,e),incomingUpdatedCompanyLogo:Object(tn.bindActionCreators)(En.u,e),getWorkspaceAndSetToFavorites:Object(tn.bindActionCreators)(un.y,e),incomingDriveLink:Object(tn.bindActionCreators)(sn.nb,e),incomingDeletedDriveLink:Object(tn.bindActionCreators)(sn.hb,e),incomingUpdatedDriveLink:Object(tn.bindActionCreators)(sn.Gb,e),incomingTeam:Object(tn.bindActionCreators)(dn.L,e),incomingUpdatedTeam:Object(tn.bindActionCreators)(dn.O,e),incomingDeletedTeam:Object(tn.bindActionCreators)(dn.F,e),incomingTeamMember:Object(tn.bindActionCreators)(dn.M,e),incomingRemovedTeamMember:Object(tn.bindActionCreators)(dn.K,e),getAllWorkspaceFolders:Object(tn.bindActionCreators)(un.n,e),removeWorkspaceChannel:Object(tn.bindActionCreators)(w.Jb,e),removeWorkspaceChannelMembers:Object(tn.bindActionCreators)(w.Kb,e),incomingWorkpaceNotificationStatus:Object(tn.bindActionCreators)(un.Q,e),incomingZoomCreate:Object(tn.bindActionCreators)(ke.H,e),incomingZoomUserLeft:Object(tn.bindActionCreators)(ke.K,e),incomingZoomEnded:Object(tn.bindActionCreators)(ke.J,e),incomingWIP:Object(tn.bindActionCreators)(bn.v,e),incomingWIPSubject:Object(tn.bindActionCreators)(bn.y,e),incomingWIPComment:Object(tn.bindActionCreators)(bn.w,e),incomingWIPFileComment:Object(tn.bindActionCreators)(bn.x,e),incomingReplacedWIPFile:Object(tn.bindActionCreators)(bn.s,e),incomingNewFileVersion:Object(tn.bindActionCreators)(bn.q,e),incomingUpdatedWIPFileComment:Object(tn.bindActionCreators)(bn.u,e),incomingClosedFileComments:Object(tn.bindActionCreators)(bn.p,e),incomingApprovedFileVersion:Object(tn.bindActionCreators)(bn.o,e),incomingUpdatedWIPComment:Object(tn.bindActionCreators)(bn.t,e),incomingProposalClap:Object(tn.bindActionCreators)(bn.r,e),incomingPostAccess:Object(tn.bindActionCreators)(En.t,e),getPostAccess:Object(tn.bindActionCreators)(En.k,e),updateUnreadCounter:Object(tn.bindActionCreators)(ke.lb,e),updateSecuritySettings:Object(tn.bindActionCreators)(En.P,e),incomingCompanyDescription:Object(tn.bindActionCreators)(En.q,e),incomingCompanyDashboardBackground:Object(tn.bindActionCreators)(En.p,e),updatePostCategoryCount:Object(tn.bindActionCreators)(ln.ic,e),incomingLoginSettings:Object(tn.bindActionCreators)(En.r,e),incomingWorkspacePost:Object(tn.bindActionCreators)(ln.nb,e),incomingUpdatedWorkspaceQuickLinks:Object(tn.bindActionCreators)(un.P,e),incomingMeetingSettings:Object(tn.bindActionCreators)(En.s,e),incomingJitsiEnded:Object(tn.bindActionCreators)(w.fb,e),incomingFaviconImage:Object(tn.bindActionCreators)(mn.e,e),incomingAcceptedSharedUser:Object(tn.bindActionCreators)(un.G,e)}}))(Object(d.k)(gn)),vn=n(52),_n=n.n(vn),Tn=n(75),wn="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function kn(){return(kn=Object(Tn.a)(_n.a.mark((function e(){return _n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(){return navigator.serviceWorker.register("/sw.js")}function yn(){return(yn=Object(Tn.a)(_n.a.mark((function e(){var t;return _n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wn});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var An="serviceWorker"in navigator&&"PushManager"in window;function Sn(){var e=Object(o.useState)("undefined"!==typeof Notification&&Notification.permission),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(null),c=Object(r.a)(i,2),s=c[0],d=c[1],u=Object(o.useState)(null),m=Object(r.a)(u,2),p=m[0],f=m[1],h=Object(o.useState)(null),b=Object(r.a)(h,2),E=b[0],g=b[1],O=Object(o.useState)(null),v=Object(r.a)(O,2),_=v[0],T=v[1],w=Object(o.useState)(null),k=Object(r.a)(w,2),N=k[0],y=k[1],A=Object(o.useState)(localStorage.getItem("remindNotification")),S=Object(r.a)(A,2),j=S[0],C=S[1],x=Object(o.useState)(!1),I=Object(r.a)(x,2),R=I[0],L=I[1],P=Object(l.c)(),D=Object(l.d)((function(e){return e.notifications.hasSubscribed})),M=function(){g(!1),T(!0),function(){return yn.apply(this,arguments)}().then((function(e){d(e),P(Object(ke.hb)(e,(function(e,t){if(e)return P(Object(fn.o)(!1)),T(!1),void g(e);T(!1),f(t.data.id)})))})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),g(e),P(Object(fn.o)(!1))}))};Object(o.useEffect)((function(){An&&(g(!1),Nn().then((function(){})))}),[]),Object(o.useEffect)((function(){L(!0),g(!1),y(!0),function(){var e=Object(Tn.a)(_n.a.mark((function e(){var t;return _n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:(t=e.sent)?P(Object(ke.r)({endpoint:"".concat(t.endpoint)},(function(e,n){y(!1),e&&g(e),n&&n.data.data?(d(t),P(Object(fn.o)(!0))):P(Object(fn.o)(null))}))):(console.log("no subscription"),P(Object(fn.o)(null)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(o.useEffect)((function(){null===s&&null===_&&!1===N&&M()}),[s,_,N,P]),Object(o.useEffect)((function(){An&&null===D&&Nn().then((function(){"granted"===n&&(console.log("subscribe"),P(Object(fn.o)(!0)),M())}))}),[D,n]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),C(e)},onClickAskUserPermission:function(){g(!1),function(){return kn.apply(this,arguments)}().then((function(e){a(e),"granted"!==e?(g({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),d(!1)):M()}))},onClickSubscribeToPushNotification:M,onClickSendSubscriptionToPushServer:function(){g(!1),P(Object(ke.hb)(s,(function(e,t){e?g(e):f(t.data.id)})))},pushServerSubscriptionId:p,onClickSendNotification:function(){g(!1),P(Object(ke.r)({sub_id:p},(function(e,t){e&&g(e)})))},userConsent:n,pushNotificationSupported:An,userSubscription:s,error:E,showNotificationBar:"default"===n&&null===s&&(null===j||j<Math.floor(Date.now()/1e3)),mounted:R}}function jn(){var e=Object(i.a)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]);return jn=function(){return e},e}function Cn(){var e=Object(i.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  background-color: ",";\n  .feather {\n    cursor: pointer;\n  }\n"]);return Cn=function(){return e},e}var xn=u.b.div(Cn(),(function(e){return e.theme.colors.primary})),In=u.b.span(jn()),Rn=function(e){var t=e.onClickAskUserPermission,n=e.onClickRemindLater;return c.a.createElement(xn,null,c.a.createElement("p",null,"Please enable notification to get real-time updates. ",c.a.createElement(In,{onClick:t},"Enable notification")),c.a.createElement(k.u,{icon:"x",onClick:n}))},Ln=n(40);function Pn(){var e=Object(i.a)(["\n  padding: 10px;\n  width: 100%;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  text-align: center;\n  justify-content: center;\n  background-color: ",";\n  .feather {\n    cursor: pointer;\n  }\n"]);return Pn=function(){return e},e}var Dn=u.b.div(Pn(),(function(e){return e.theme.colors.fourth})),Mn=function(e){var t=Object(l.d)((function(e){return e.admin.notificationsLoaded})),n=Object(l.d)((function(e){return e.admin.notifications})),r=Object(l.d)((function(e){return e.session.user})),i=Object(m.mb)()._t,s={email:i("EMAIL_TEXT","E-mail / text"),webPush:i("WEBPUSH","Web push"),apn:i("APN_IOS","Apple push notification"),notificationsOff:i("NOTIFICATIONS_ARE_OFF","notifications are off")};if(Object(o.useEffect)((function(){if(t&&Object.values(n).some((function(e){return!1===e}))&&r&&!r.hasOwnProperty("showNotificationSettingsBar"))nn.sessionService.saveUser(Object(a.a)(Object(a.a)({},r),{},{showNotificationSettingsBar:!0}));else if(t&&Object.values(n).some((function(e){return!1===e}))&&r&&r.hasOwnProperty("showNotificationSettingsBar")&&r.showNotificationSettingsBar){var e=document.getElementById("main"),i=document.getElementById("main-top-header"),o=document.getElementById("main-sidebar");e.classList.add("top-40"),i.classList.add("top-40"),o.classList.add("top-40")}}),[t,n,r]),t&&Object.values(n).some((function(e){return!1===e}))&&r&&r.hasOwnProperty("showNotificationSettingsBar")&&r.showNotificationSettingsBar){var d=Object.keys(n).filter((function(e){return!1===n[e]})).map((function(e){return"email"===e?s.email:"webpush"===e?s.webPush:"apn"===e?s.apn:void 0}));return c.a.createElement(Dn,null,c.a.createElement("p",null,d.join(", ")," ",s.notificationsOff),c.a.createElement(k.u,{icon:"x",className:"ml-3",onClick:function(){nn.sessionService.saveUser(Object(a.a)(Object(a.a)({},r),{},{showNotificationSettingsBar:!1}));var e=document.getElementById("main"),t=document.getElementById("main-top-header"),n=document.getElementById("main-sidebar");e.classList.remove("top-40"),t.classList.remove("top-40"),n.classList.remove("top-40")}}))}return null},Fn=n(388),Un=function(e){var t=Object(l.c)(),n=Object(o.useRef)(null),a=Object(l.d)((function(e){return e.chat.jitsi})),r=Object(l.d)((function(e){return e.settings.user.GENERAL_SETTINGS.language})),i=a.room_name;return c.a.createElement(Fn.a,{appId:"vpaas-magic-cookie-c0cc9d62fd3340d58d783df7885be71c",jwt:a._token,roomName:i,configOverwrite:{startWithAudioMuted:!0,hiddenPremeetingButtons:["microphone"],enableLobbyChat:!1,disableInviteFunctions:!0,disableDeepLinking:P.isMobile,liveStreamingEnabled:!1,transcribingEnabled:!1,defaultLanguage:r,prejoinConfig:{enabled:!1,hideExtraJoinButtons:["no-audio","by-phone"]},toolbarButtons:["camera","desktop","download","embedmeeting","etherpad","feedback","filmstrip","fullscreen","hangup","help","highlight","microphone","mute-everyone","mute-video-everyone","participants-pane","profile","raisehand","recording","security","select-background","settings","sharedvideo","shortcuts","stats","tileview","toggle-camera","__end"]},onReadyToClose:function(){t(Object(w.p)())},onApiReady:function(e){console.log(e,"jitsi api"),n.current=e}})},Wn=n(915),Hn=n.n(Wn);function Bn(){var e=Object(i.a)(["\n  position: absolute;\n  z-index: 9999;\n  width: 70%;\n  height: 70%;\n  top: 50%;\n  left: 50%;\n  cursor: move;\n  padding: 1rem;\n  background: #29323f;\n  padding-top: 10px;\n  .j-container {\n    width: calc(100% - 30px);\n    height: calc(100% - 30px);\n    > div:first-child {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .buttons-container {\n    display: flex;\n    svg {\n      width: 1rem;\n      height: 1rem;\n      color: #fff;\n      cursor: pointer;\n    }\n  }\n  &.minimize {\n    width: 350px;\n    height: 300px;\n  }\n  .react-draggable-transparent-selection .draggable-iframe-cover {\n    display: block;\n    z-index: 999999;\n  }\n\n  .draggable-iframe-cover {\n    position: absolute;\n    display: none;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n"]);return Bn=function(){return e},e}var Gn=u.b.div(Bn()),zn=function(){var e=Object(l.d)((function(e){return e.chat.jitsi})),t=Object(o.useState)("maximize"),n=Object(r.a)(t,2),a=n[0],i=n[1],s=Object(o.useState)(!1),d=Object(r.a)(s,2),u=d[0],m=d[1],p=Object(o.useState)({x:0,y:0}),f=Object(r.a)(p,2),h=f[0],b=f[1];return e?c.a.createElement(c.a.Fragment,null,c.a.createElement(Hn.a,{positionOffset:{x:"-50%",y:"-50%"},onDrag:function(e,t){var n=t.x,a=t.y;b({x:n,y:a})},position:h,onStart:function(){m(!0)},onStop:function(){m(!1)}},c.a.createElement(Gn,{className:"jitsi-container ".concat(a)},e&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"buttons-container"},c.a.createElement("div",{className:"ml-auto"},c.a.createElement(k.u,{className:"mr-2",icon:"minimize",onClick:function(){var e=window.innerWidth/2-175;b({x:e,y:-275}),"minimize"!==a&&i("minimize")}}),c.a.createElement(k.u,{icon:"maximize",onClick:function(){b({x:0,y:0}),"maximize"!==a&&i("maximize")}}))),c.a.createElement("div",{className:"j-container",style:{position:"relative"}},c.a.createElement(Un,{channel:e}),u&&c.a.createElement("div",{style:{position:"absolute",left:0,right:0,bottom:0,top:0,zIndex:9999}})))))):null};c.a.Component;function Vn(){var e=Object(i.a)(["\n  /* display: ","; */\n  cursor: pointer;\n  padding: 10px;\n  width: 100%;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  /* position: fixed; */\n  top: 0;\n  left: 0;\n  z-index: 99999;\n  text-align: center;\n  justify-content: center;\n  background-color: ",";\n  .feather {\n    cursor: pointer;\n  }\n"]);return Vn=function(){return e},e}var Yn=u.b.div(Vn(),(function(e){return e.show?"block":"none"}),(function(e){return e.theme.colors.fourth})),Kn=function(e){var t=Object(m.mb)()._t,n=Object(m.pb)(),a=n.logout,r=(n.processBackendLogout,Object(m.ab)()),i=r.generalSettings,o=r.setGeneralSetting,s=Object(l.d)((function(e){return e.session})).user,d=Object(l.c)(),u=Object(m.K)(),p=u.show,f=u.hide,h={body:t("IMPERSONATION_TOPBAR.BODY","Your impersonating user ::username:: click here to logout",{username:s.name})};return c.a.createElement(Yn,{onClick:function(){p(),i.impersonationMode&&o({impersonationMode:!1},(function(){d(Object(dn.A)(null,(function(e,t){t&&a((function(){f()}))})))}))}},c.a.createElement("p",null,h.body))};function qn(){var e=Object(i.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"]);return qn=function(){return e},e}function Jn(){var e=Object(i.a)(["\n  &.top-40 .main-content {\n    margin-top: 40px;\n  }\n"]);return Jn=function(){return e},e}var Zn=u.b.div(Jn()),Xn=u.b.audio(qn());t.default=c.a.memo((function(e){Object(m.v)(e),Object(m.tb)(),Object(m.cb)(),Object(m.D)(),Object(m.G)();var t=Sn(),i=t.mounted,u=t.showNotificationBar,f=t.onClickAskUserPermission,h=t.onClickRemindLater,b=Object(d.j)().path,E=Object(m.pb)(),g=E.displayWelcomeBanner,O=(E.updateProfileImage,Object(m.o)()),v=Object(m.mb)()._t,_=Object(o.useState)(0),T=Object(r.a)(_,2),w=(T[0],T[1],Object(m.Q)()),k=w.renderDropDocument,N=w.uploadModal,y={huddlePublished:v("HUDDLE.HUDDLE_PUBLISHED","Huddle published"),likedYourPost:v("TOAST.LIKED_YOUR_POST","liked your post"),likedYourComment:v("TOAST.LIKED_YOUR_COMMENT","liked your comment"),invalidCode:v("INVALID_INVITE_CODE","Invite code is invalid."),codeAlreadyAccepted:v("CODE_ALREADY_ACCEPTED","Invite code already used."),userNotFound:v("USER_NOT_FOUND","User not found"),userAlreadyExists:v("USER_ALREADY_EXISTS","User already exists")},A=Object(l.d)((function(e){return e.workspaces.sharedWorkspaces})),S=Object(l.d)((function(e){return e.workspaces.sharedWorkspacesLoaded})),j=Object(l.d)((function(e){return e.session.user})),C=Object(m.hb)(),x=Object(m.gb)().localizeDate,I=Object(m.Eb)(),R={audio:Object(o.useRef)(null),dropZoneRef:Object(o.useRef)(null)},L=O.actions.getName(),P=Object(l.c)(),D=Object(m.ab)(),M=D.driffSettings.isCompSettingsLoaded,F=D.chatSettings.sound_enabled,U=D.generalSettings,W=U.notifications_on,H=U.notification_sound,B=U.first_login,G=U.userCanceledProfileUpload,z=Object(m.ab)().generalSettings,V=Object(m.sb)(),Y=V.loggedUser,K=V.actions.fetchById,q=Object(d.g)(),J=function(){if(F&&R.audio.current){var e=R.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){}))}},Z="external"===j.type;Object(o.useEffect)((function(){if("/logout"===b){var e="".concat(Object(Ln.c)(),"/logged-out");window.location.href="".concat(Object(Ln.a)({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[b,P,q]),Object(o.useEffect)((function(){j.id&&M&&g()}),[j,M]),Object(o.useEffect)((function(){R.audio.current&&(R.audio.current.pause(),R.audio.current.load())}),[H]),Object(o.useEffect)((function(){var e=localStorage.getItem("inviteSlug"),t=localStorage.getItem("stateCode"),n=function(e){P(Object(dn.a)(e,(function(e,t){if(localStorage.removeItem("inviteSlug"),localStorage.removeItem("stateCode"),q.replace({state:{}}),e){if(e&&e.response&&e.response.data.errors){var n=e.response.data.errors.error_message.includes("INVALID_CODE")?y.invalidCode:e.response.data.errors.error_message.includes("INVITATION_ALREADY_ACCEPTED")?y.codeAlreadyAccepted:e.response.data.errors.error_message.includes("INVITATION_ALREADY_ACCEPTED")?y.userNotFound:e.response.data.errors.error_message.includes("USER_EXISTED")?y.userAlreadyExists:null;C.error(n)}}else{var r="/dashboard";r=t.data.data.current_workspace?"/shared-hub/dashboard/".concat(t.data.data.current_workspace.id,"/").concat(Object(p.i)(t.data.data.current_workspace.name),"/").concat(t.data.data.current_topic.id,"/").concat(Object(p.i)(t.data.data.current_topic.name)):"/shared-hub/dashboard/".concat(t.data.data.current_topic.id,"/").concat(Object(p.i)(t.data.data.current_topic.name)),q.push(r),P(Object(un.u)({},(function(e,t){e||nn.sessionService.loadSession().then((function(e){nn.sessionService.saveSession(Object(a.a)(Object(a.a)({},e),{},{sharedWorkspaces:t.data}))}))})))}})))};if(e&&t)n({url:"https://".concat(e,".driff.network/api/v2/shared-workspace-invite-accept"),state_code:t,slug:L,as_guest:!1,email:j.email});else if(q.location.state&&q.location.state.state_code&&q.location.state.invite_slug){n({url:"https://".concat(q.location.state.invite_slug,".driff.network/api/v2/shared-workspace-invite-accept"),state_code:q.location.state.state_code,slug:L,as_guest:!1,email:j.email})}var r=setTimeout((function(){K(Y.id,(function(e,t){if(!e){var n=t.data;G||!B||n.profile||Z||N((function(){clearTimeout(r)}))}}))}),3e4);return function(){clearTimeout(r)}}),[]);return Object(s.a)({timeout:6e4,onIdle:function(){P(Object(ke.Y)(!0))},onActive:function(){P(Object(ke.Y)(!1))},debounce:250}),c.a.createElement(c.a.Fragment,null,k(),c.a.createElement(Xn,{ref:R.audio,controls:!0},c.a.createElement(c.a.Fragment,null,c.a.createElement("source",{src:n(965),type:"audio/ogg"}),c.a.createElement("source",{src:n(966),type:"audio/mpeg"}),c.a.createElement("source",{src:n(967),type:"audio/m4r"})),"Your browser does not support the audio element."),u&&i&&c.a.createElement(Rn,{onClickAskUserPermission:f,onClickRemindLater:h}),z.impersonationMode?c.a.createElement(Kn,null):c.a.createElement(Mn,null),i&&c.a.createElement(Oe,{isExternal:Z}),i&&c.a.createElement(Zn,{id:"main"},c.a.createElement(d.b,{render:function(e){return c.a.createElement(Te,Object.assign({isExternal:Z},e,{showNotificationBar:u}))},path:["/:page"]}),c.a.createElement(d.d,null,c.a.createElement(d.b,{render:function(e){return c.a.createElement(be.b,Object.assign({isExternal:Z},e))},path:["/hub","/shared-hub"]}),c.a.createElement(d.b,{render:function(e){return c.a.createElement(me,Object.assign({},e,{isExternal:Z}))},path:["/:page"]})),c.a.createElement(Mt,null)),c.a.createElement(zn,null),c.a.createElement(Zt,null),void 0!==j.id&&void 0!==window[L]&&c.a.createElement(On,{dictionary:y,useDriff:O,localizeDate:x,toaster:C,soundPlay:J,workspaceActions:I,notificationsOn:W,sharedSlug:!1}),S&&Object.keys(A).length>0&&Object.keys(A).map((function(e){return window[e]&&A[e].user_auth?c.a.createElement(On,{key:e,slug:e,userId:A[e].user_auth.id,dictionary:y,useDriff:O,localizeDate:x,toaster:C,soundPlay:J,workspaceActions:I,notificationsOn:W,sharedSlug:!0}):null})))}))}}]);