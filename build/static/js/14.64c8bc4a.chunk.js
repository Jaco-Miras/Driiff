(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[14],{642:function(n,t,e){"use strict";var i,r,a,o,s=e(21),l=e(9),c=e(1),u=e.n(c),h=e(5),f=e(10),p=e(20),d=e(636),m=["className","files","reply","type","topic_id","dictionary"],g=f.a.div(i||(i=Object(l.a)(["\n  position: relative;\n  z-index: 1;\n  border-radius: 8px;\n  color: #828282;\n"]))),b=f.a.div(r||(r=Object(l.a)(["\n  margin-bottom: 0.5rem;\n"]))),x=f.a.div(a||(a=Object(l.a)(["\n  display: flex;\n  flex-flow: column;\n"]))),v=Object(f.a)(d.a)(o||(o=Object(l.a)([""]))),y=Object(c.forwardRef)((function(n,t){var e=n.className,i=void 0===e?"":e,r=n.files,a=(n.reply,n.type),o=void 0===a?"chat":a,l=n.topic_id,c=void 0===l?null:l,f=n.dictionary,d=Object(s.a)(n,m),y=Object(h.c)(),w=function(n,t){if(n.stopPropagation(),"chat"===o&&"trashed"!==t.file_type){var e={file_id:t.file_id,files:[t],topic_id:c};y(Object(p.Ub)(e))}};return u.a.createElement(g,Object.assign({className:"message-files ".concat(i),filesLength:r.length,type:o},d),u.a.createElement(x,null,r.map((function(n,t){return 1===r.length&&"chat"===o?u.a.createElement(v,{key:t,cbFilePreview:w,file:n,"data-file-type":n.type,dictionary:f}):u.a.createElement(b,{key:n.id},u.a.createElement(v,{cbFilePreview:w,file:n,"data-file-type":n.type,dictionary:f}))}))))}));t.a=u.a.memo(y)},643:function(n,t,e){"use strict";var i=e(0),r=e(1);t.a=function(n){var t=n.message,e=n.isAuthor,a=n.translate,o=n.chat_language,s=n.actions;Object(r.useEffect)((function(){e||t.user.chat_language===o||!a||t.is_translated||t.translated_language===o||function(n){return fetch("https://api.deepl.com/v2/translate?auth_key=4fb7583d-a163-7abb-8e71-c882d1fd9408&text="+n.body+"&target_lang="+o).then((function(n){return n.json()})).then((function(n){return n})).catch(console.log)}(t).then((function(n){if("undefined"!==typeof n){var e=n.translations[0].text;s.setTranslationBody(Object(i.a)(Object(i.a)({},t),{},{translated_body:e,is_translated:a,translated_language:o})),s.saveTranslation({message_id:t.id,body:e,language:o})}}))}),[a])}},644:function(n,t,e){"use strict";var i=e(0),r=e(11),a=e(1),o=e(26);t.a=function(n){var t=n.message,e=n.actions,s=Object(a.useRef)(!0);var l=Object(a.useState)(null),c=Object(r.a)(l,2),u=c[0],h=c[1],f=t.body;Object(a.useEffect)((function(){return function(){s.current=!1}}),[]),Object(a.useEffect)((function(){var n=f;!f.includes('<span class="fancied">')&&(f.match(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)([^<]+)(<\/a>)/g)||[]).length>0&&!t.is_fancy&&(n=function(n){return Object(o.k)({message_id:n.id,content:n.body}).then((function(n){return n})).then((function(n){s.current&&h(n.data.body)})),null!==u?u:n.body}(t)),null!==u&&e.saveFancyContent(Object(i.a)(Object(i.a)({},t),{},{body:n,is_fancy:!0}))}),[u])}},645:function(n,t,e){!function(n,t){"use strict";var e=function(){function n(n,t,e){this.r=0,this.g=0,this.b=0,this.set(n,t,e)}return n.prototype.isLight=function(){return(299*this.r+587*this.g+114*this.b)/1e3>128},n.prototype.set=function(n,t,e){this.r=this.clamp(n),this.g=this.clamp(t),this.b=this.clamp(e)},n.prototype.hueRotate=function(n){void 0===n&&(n=0),n=n/180*Math.PI;var t=Math.sin(n),e=Math.cos(n);this.multiply([.213+.787*e-.213*t,.715-.715*e-.715*t,.072-.072*e+.928*t,.213-.213*e+.143*t,.715+.285*e+.14*t,.072-.072*e-.283*t,.213-.213*e-.787*t,.715-.715*e+.715*t,.072+.928*e+.072*t])},n.prototype.grayscale=function(n){void 0===n&&(n=1),this.multiply([.2126+.7874*(1-n),.7152-.7152*(1-n),.0722-.0722*(1-n),.2126-.2126*(1-n),.7152+.2848*(1-n),.0722-.0722*(1-n),.2126-.2126*(1-n),.7152-.7152*(1-n),.0722+.9278*(1-n)])},n.prototype.sepia=function(n){void 0===n&&(n=1),this.multiply([.393+.607*(1-n),.769-.769*(1-n),.189-.189*(1-n),.349-.349*(1-n),.686+.314*(1-n),.168-.168*(1-n),.272-.272*(1-n),.534-.534*(1-n),.131+.869*(1-n)])},n.prototype.saturate=function(n){void 0===n&&(n=1),this.multiply([.213+.787*n,.715-.715*n,.072-.072*n,.213-.213*n,.715+.285*n,.072-.072*n,.213-.213*n,.715-.715*n,.072+.928*n])},n.prototype.multiply=function(n){var t=this.clamp(this.r*n[0]+this.g*n[1]+this.b*n[2]),e=this.clamp(this.r*n[3]+this.g*n[4]+this.b*n[5]),i=this.clamp(this.r*n[6]+this.g*n[7]+this.b*n[8]);this.r=t,this.g=e,this.b=i},n.prototype.brightness=function(n){void 0===n&&(n=1),this.linear(n)},n.prototype.contrast=function(n){void 0===n&&(n=1),this.linear(n,-.5*n+.5)},n.prototype.linear=function(n,t){void 0===n&&(n=1),void 0===t&&(t=0),this.r=this.clamp(this.r*n+255*t),this.g=this.clamp(this.g*n+255*t),this.b=this.clamp(this.b*n+255*t)},n.prototype.invert=function(n){void 0===n&&(n=1),this.r=this.clamp(255*(n+this.r/255*(1-2*n))),this.g=this.clamp(255*(n+this.g/255*(1-2*n))),this.b=this.clamp(255*(n+this.b/255*(1-2*n)))},n.prototype.hsl=function(){var n,t,e=this.r/255,i=this.g/255,r=this.b/255,a=Math.max(e,i,r),o=Math.min(e,i,r),s=(a+o)/2;if(a===o)n=t=0;else{var l=a-o;switch(t=s>.5?l/(2-a-o):l/(a+o),a){case e:n=(i-r)/l+(i<r?6:0);break;case i:n=(r-e)/l+2;break;case r:n=(e-i)/l+4;break;default:n=0}n/=6}return{h:100*n,s:100*t,l:100*s}},n.prototype.clamp=function(n){return n>255?n=255:n<0&&(n=0),n},n}(),i=function(){function n(n,t){this.options={acceptanceLossPercentage:5,maxChecks:15},this.target=n,this.targetHSL=n.hsl(),this.isTargetColorLight=n.isLight(),this.reusedColor=new e(0,0,0),t&&(this.options=Object.assign({},this.options,t))}return n.prototype.solve=function(){var n=this.solveNarrow(this.solveWide());return{values:n.values,called:n.called,loss:n.loss,filter:this.css(n.values)}},n.prototype.solveWide=function(){for(var n=[60,180,18e3,600,1.2,1.2],t={loss:1/0},e=0;t.loss>this.options.acceptanceLossPercentage;){var i=this.spsa(5,n,15,[50,20,3750,50,100,100],1e3);if(i.loss<t.loss&&(t=i),(e+=1)>=this.options.maxChecks)break}return Object.assign({},t,{called:e})},n.prototype.solveNarrow=function(n){var t=n.loss,e=t+1,i=[.25*e,.25*e,e,.25*e,.2*e,.2*e];return this.spsa(t,i,2,n.values,500,n.called)},n.prototype.spsa=function(n,t,e,i,r,a){void 0===a&&(a=0);var o=null,s=1/0,l=new Array(6),c=new Array(6),u=new Array(6);function h(n,t){var e=100;return 2===t?e=7500:4!==t&&5!==t||(e=200),3===t?n>e?n%=e:n<0&&(n=e+n%e):n<0?n=0:n>e&&(n=e),n}for(var f=0;f<r;f++){for(var p=e/Math.pow(f+1,.16666666666666666),d=0;d<6;d++)l[d]=Math.random()>.5?1:-1,c[d]=i[d]+p*l[d],u[d]=i[d]-p*l[d];var m=this.loss(c)-this.loss(u);for(d=0;d<6;d++){var g=m/(2*p)*l[d],b=t[d]/Math.pow(n+f+1,1);i[d]=h(i[d]-b*g,d)}var x=this.loss(i);x<s&&(o=i.slice(0),s=x)}return{values:o,loss:s,called:a}},n.prototype.loss=function(n){var t=this.reusedColor;this.isTargetColorLight?t.set(255,255,255):t.set(0,0,0),t.invert(n[0]/100),t.sepia(n[1]/100),t.saturate(n[2]/100),t.hueRotate(3.6*n[3]),t.brightness(n[4]/100),t.contrast(n[5]/100);var e=t.hsl();return Math.abs(t.r-this.target.r)+Math.abs(t.g-this.target.g)+Math.abs(t.b-this.target.b)+Math.abs(e.h-this.targetHSL.h)+Math.abs(e.s-this.targetHSL.s)+Math.abs(e.l-this.targetHSL.l)},n.prototype.css=function(n){var t=function(t,e){return void 0===e&&(e=1),Math.round(n[t]*e)};return["brightness(0)","invert("+t(0)+"%)","sepia("+t(1)+"%)","saturate("+t(2)+"%)","hue-rotate("+t(3,3.6)+"deg)","brightness("+t(4)+"%)","contrast("+t(5)+"%);"].join(" ")},n}(),r=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},a={};n.hexToCSSFilter=function(n,o){var s,l,c,u,h;if(void 0===o&&(o={}),a[n])return a[n];try{if(l=(s=t.__read(function(n){n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(n,t,e,i){return t+t+e+e+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[]}(n),3))[0],c=s[1],u=s[2],!r(l)||!r(c)||!r(u))throw new Error("hextToRgb returned an invalid value for '"+n+"'");h=new e(Number(l),Number(c),Number(u))}catch(d){throw new Error("Color value should be in HEX format. "+d)}var f=Object.assign({},{acceptanceLossPercentage:5,maxChecks:15},o),p=new i(h,f);return a[n]=Object.assign({},p.solve(),{hex:n,rgb:[l,c,u]}),a[n]},Object.defineProperty(n,"__esModule",{value:!0})}(t,e(8))},722:function(n,t,e){"use strict";e.r(t);var i,r,a,o,s,l,c,u,h,f,p,d=e(11),m=e(9),g=e(645),b=e(1),x=e.n(b),v=(e(290),e(626)),y=e(36),w=e(10),O=e(19),A=e(12),_=e(642),j=e(643),E=e(644),k=w.a.div(i||(i=Object(m.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: ",";\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  min-height: ",";\n\n  &:after {\n    border: 10px solid #0000;\n    position: absolute;\n    top: 6px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 20px 10px;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    text-align: ",";\n    white-space: nowrap;\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  span.image-uploading {\n    display: none;\n  }\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n  a.a_fancy { \n    border-radius: 5px !important;\n    background-color: #FFF !important;\n    box-shadow: 0 1px 1px 0 rgba(0,0,0,0.11) !important; \n    text-decoration: none !important;\n    display: inline-block;\n    height: auto !important;\n    padding:5px 10px;\n    margin-bottom: 5px;\n    color: #000 !important;\n    font-family: Inter !important;\n    font-size: 13px !important;\n    letter-spacing: 0 !important;\n    line-height: 21px !important;\n    margin-right: 1pt;\n    margin-left: 1pt;\n  }\n"])),(function(n){return n.hasFiles?"3px":"6px 9px 8px 9px"}),(function(n){return n.isAuthor?"#7A1B8B":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#000000"}),(function(n){return n.hasGif?"150px":"33px"}),(function(n){return n.isAuthor?"right: -16px":"left: -15px"}),(function(n){return n.isAuthor?"#7A1B8B":"#0000"}),(function(n){return n.isAuthor?"#0000":"#F0F0F0"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#ffffff":"#AAB0C8"}),(function(n){return!0===n.isForwardedMessage&&"top: -40px;"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.showAvatar&&!1===n.hideBg||n.hasRemoveOnDlFiles?"#a7abc3":"#0000"}),(function(n){return n.isAuthor?"right: 100%":"left: 100%"}),(function(n){return n.isAuthor?"right":"left"}),(function(n){return n.isAuthor?"#ffffffe6":"#AAB0C8"})),F=w.a.div(r||(r=Object(m.a)(["\n  background: ",";\n  border-radius: 6px;\n  margin: 4px -4px 4px -4px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: 7px -7px 10px -7px;\n    padding: 7px;\n  }\n"])),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return n.hasFiles?"210px":"auto"}),(function(n){return n.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(n){return!n.isEmoticonOnly&&"content: ''"})),C=w.a.div(a||(a=Object(m.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]))),B=w.a.div(o||(o=Object(m.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"])),(function(n){return n.isAuthor?"#ffffffe6":"#000000"}),(function(n){return n.isAuthor?"#ffffffe6":"#8C3B9B"})),M=Object(w.a)(_.a)(s||(s=Object(m.a)(["\n  img {\n    cursor: pointer;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: #972c86;\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"])),(function(n){return n.isAuthor?Object(g.hexToCSSFilter)("#ffffff").filter:Object(g.hexToCSSFilter)("#8C3B9B").filter}),(function(n){return n.isAuthor?Object(g.hexToCSSFilter)("#fff").filter:Object(g.hexToCSSFilter)("#0056b3").filter}),(function(n){return n.hasMessage&&""})),L=w.a.span(l||(l=Object(m.a)(["\n  max-width: ",";\n  padding: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 991.99px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"])),(function(n){return n.hasFiles?"200px":"auto"}),(function(n){return n.hasFiles?"7px 4px 5px 6px":""}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#ffffff99":"#7a1b8b"}),(function(n){return n.isAuthor?"#FFF":"#828282"}),(function(n){return n.isAuthor?"#ffffff":"#7a1b8b"}),(function(n){return n.isAuthor?"#ffffff":"#8C3B9B"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"}),(function(n){return n.isAuthor?"#fff":"#0056b3"})),N=w.a.div(c||(c=Object(m.a)(["\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"])),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"left":"right"})),S=w.a.div(u||(u=Object(m.a)(["\n  ","\n\n  .reply-author {\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n    z-index: 1;\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"])),(function(n){return!n.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(n){return n.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-left-color: #f0f0f0;\n        position: absolute;\n        top: 6px;\n        left: -15px;\n        z-index: 1;\n        ").concat((function(n){return!0===n.isAuthor&&"\n            left: auto;\n            right: -15px;\n            border-left-color: red;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(n){return n.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(n){return n.isAuthor,"#ff4444"})),q=w.a.div(h||(h=Object(m.a)(["\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n    flex-flow: column;\n    justify-content: center;\n  }\n  .reply-date.updated {\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"])),(function(n){return n.isAuthor?"row":"row-reverse"}),(function(n){return n.isAuthor?"0 10px 0 0":"0 0 0 10px"})),T=w.a.span(f||(f=Object(m.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"])),(function(n){return n.isAuthor?"right: 100%;":"left: 100%;"})),R=w.a.span(p||(p=Object(m.a)(["\n  padding: ",";\n  font-weight: 500;\n  color: #929496;\n  &.important {\n    font-weight: 600;\n    color: #191c20;\n  }\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"])),(function(n){return n.isEmoticonOnly||n.isGifOnly||!0===n.hasFiles?"3px 9px 3px 9px":"0"})),z=[.1,.2,.3,.4,.5,.6,.7,.8,.9];t.default=function(n){var t=n.reply,e=n.showAvatar,i=n.selectedChannel,r=n.showGifPlayer,a=n.isAuthor,o=n.addMessageRef,s=n.user,l=n.isLastChat,c=n.chatMessageActions,u=n.timeFormat,h=n.chatSettings,f=n.isLastChatVisible,p=n.dictionary,m=n.users,g=n.translated_channels,w=n.chat_language,_=n.translate,I=n.language,P=n.loadReplies,H=Object(y.g)();Object(E.a)({message:t,actions:c}),Object(j.a)({message:t,isAuthor:a,translate:i.is_translate,chat_language:w,actions:c});var G=Object(A.d)({reply:t,dictionary:p,isAuthor:a,user:s,selectedChannel:i,users:m,translate:_,language:I,translated_channels:g,chat_language:w}),D=G.quoteAuthor,V=G.quoteBody,J=G.replyBody,W=G.hasMessage,Y=G.isGifOnly,$=G.isEmoticonOnly,U=t.files.length>0,X=t.files.some((function(n){return n.remove_on_download})),K={container:Object(b.useRef)(null)},Q=Object(b.useRef)(null),Z=Object(v.b)({threshold:1}),nn=Object(d.a)(Z,2),tn=nn[0],en=nn[1],rn=Object(v.b)({threshold:z,skip:!l}),an=Object(d.a)(rn,3),on=an[0],sn=an[1],ln=an[2],cn=function(n){return n.preventDefault(),H.push(n.currentTarget.dataset.href),!1};Object(b.useEffect)((function(){var n=K.container.current.querySelector("a.push");return n&&n.addEventListener("click",cn,!0),function(){n&&n.removeEventListener("click",cn,!0)}}),[]),Object(b.useEffect)((function(){"object"===typeof H.location.state&&H.location.state&&H.location.state.focusOn===t.code&&K.container.current&&Q.current&&(K.container.current.scrollIntoView({block:"center"}),Q.current&&Q.current.classList.add("pulse"),H.push(H.location.pathname,null))}),[H.location.state,K.container.current,Q.current]),Object(b.useEffect)((function(){o&&en&&P&&P()}),[o,en,P]),Object(b.useEffect)((function(){l&&ln&&(ln.boundingClientRect.height-ln.intersectionRect.height>=16?f&&c.setLastMessageVisiblility({status:!1}):f||c.setLastMessageVisiblility({status:!0}))}),[l,ln,f,sn]);var un=t.user&&m[t.user.id]&&"external"===m[t.user.id].type&&!a;return x.a.createElement(k,{ref:K.container,tabIndex:t.id,hasFiles:U,className:"chat-bubble ql-editor ".concat(t.is_important&&"important"," ").concat(un&&"external-chat"),showAvatar:e,isAuthor:a,hideBg:$||Y||U&&!W,theme:h.chat_message_theme,hasGif:r,hasRemoveOnDlFiles:X},x.a.createElement(x.a.Fragment,null,t.is_transferred&&x.a.createElement(T,{className:"small",isAuthor:a},x.a.createElement(O.s,{icon:"corner-up-right"}),p.forwardedMessage),x.a.createElement(N,{ref:o?tn:null,className:"chat-content-clap",isAuthor:a},x.a.createElement(S,{showAvatar:e,isAuthor:a,isEmoticonOnly:$,className:"chat-content animated slower",ref:Q},!a&&e&&x.a.createElement(x.a.Fragment,null,x.a.createElement(R,{isEmoticonOnly:$,hasFiles:U,isGifOnly:Y,className:"chat-name-not-author-mobile ".concat(t.is_important&&"important")},"BOT"===t.user.type&&t.user.code&&t.user.code.includes("huddle")?t.user.name.substr(0,t.user.name.length/2):t.user.name)),t.quote&&t.quote.body&&!t.is_deleted&&(void 0!==t.quote.user_id||void 0!==t.quote.user)&&x.a.createElement(F,{className:"quote-container",showAvatar:e,isEmoticonOnly:$,hasFiles:U,theme:h.chat_message_theme,onClick:function(n){if(t.quote){var e=document.querySelector(".chat-list-item-".concat(t.quote.id));e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},isAuthor:a},t.quote.user_id===s.id?x.a.createElement(C,{theme:h.chat_message_theme,isAuthor:!0},"You"):x.a.createElement(C,{theme:h.chat_message_theme,isAuthor:t.quote.user_id===s.id},D),x.a.createElement(B,{className:"quote-content",theme:h.chat_message_theme,isAuthor:a,dangerouslySetInnerHTML:{__html:V}})),t.files.length>0&&!t.is_deleted&&x.a.createElement(M,{dictionary:p,hasMessage:W,isAuthor:a,theme:h.chat_message_theme,files:t.files,reply:t,type:"chat",topic_id:"TOPIC"===i.type?i.entity_id:null}),W&&x.a.createElement("span",{ref:l?on:null},x.a.createElement(L,{hasFiles:U,theme:h.chat_message_theme,isAuthor:a,className:"reply-content ".concat($?"emoticon-body":""," ").concat(t.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:{__html:J}})),r&&x.a.createElement(O.c,{body:t.body,autoplay:!0}))),x.a.createElement(q,{className:"chat-timestamp",isAuthor:a},x.a.createElement("span",{className:"reply-date created"},x.a.createElement("span",null,u.todayOrYesterdayDate(t.created_at.timestamp)),X&&x.a.createElement("span",null,p.removeOnDownload)))),n.children)}}}]);