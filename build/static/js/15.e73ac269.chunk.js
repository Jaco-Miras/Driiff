(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[15,24],{805:function(e,a,t){"use strict";t.r(a);var n=t(7),r=t(5),c=t(0),l=t.n(c),i=t(4),s=t(12),o=t(11);function m(){var e=Object(r.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return m=function(){return e},e}var u=i.b.div(m()),p=function(e){var a=e.actions,t=e.clearTab,r=e.value,i=Object(c.useState)(r),m=Object(n.a)(i,2),p=m[0],d=m[1],E=function(){""!==p.trim()&&(t(),a.search({search:p,skip:0,limit:10}),a.saveSearchValue({value:p}))};Object(c.useEffect)((function(){d(r)}),[r]),Object(c.useEffect)((function(){return function(){a.saveSearchValue({value:""})}}),[]);var f=Object(o.hb)()._t,b={searchGlobalPlaceholder:f("PLACEHOLDER.SEARCH_GLOBAL","Search for anything in this Driff"),whatDoYouWantToFind:f("SEARCH.WHAT_DO_YOU_WANT_TO_FIND","What do you want to find?")};return l.a.createElement(u,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row d-flex justify-content-center"},l.a.createElement("div",null,l.a.createElement("h2",{className:"mb-4 text-center"},b.whatDoYouWantToFind),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==r&&(t(),a.saveSearchValue({value:""})),d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&E()},type:"text",className:"form-control",placeholder:b.searchGlobalPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:p}),""!==p.trim()&&l.a.createElement("button",{onClick:function(){d(""),t(),a.search({search:"",skip:0,limit:10}),a.saveSearchValue({value:""})},className:"btn-cross",type:"button"},l.a.createElement(s.u,{icon:"x"})),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:E},l.a.createElement(s.u,{icon:"search"}))))))))};function d(){var e=Object(r.a)(["\n  &.nav-pills .nav-link.active {\n    background-color: ",";\n  }\n"]);return d=function(){return e},e}var E=i.b.ul(d(),(function(e){return e.theme.colors.primary})),f=function(e){var a=e.activeTab,t=e.onSelectTab,n=e.tabs,r=e.dictionary;return l.a.createElement(E,{className:"nav nav-pills mb-4",role:"tablist"},n.hasOwnProperty("CHANNEL")&&Object.keys(n.CHANNEL).length>0&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat(("channel"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"channel",role:"tab","aria-controls":"clasic","aria-selected":"true"},r.chatChannel)),n.hasOwnProperty("CHAT")&&Object.keys(n.CHAT).length>0&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat(("chat"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"chat",role:"tab","aria-controls":"clasic","aria-selected":"true"},r.message)),n.hasOwnProperty("COMMENT")&&Object.keys(n.COMMENT).length>0&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat(("comment"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"comment",role:"tab","aria-controls":"clasic","aria-selected":"true"},r.comment)),n.hasOwnProperty("DOCUMENT")&&Object.keys(n.DOCUMENT).length>0&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat(("document"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"document",role:"tab","aria-controls":"articles","aria-selected":"false"},r.files)),n.hasOwnProperty("PEOPLE")&&Object.keys(n.PEOPLE).length>0&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat(("people"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"people",role:"tab","aria-controls":"users","aria-selected":"false"},r.people)),n.hasOwnProperty("POST")&&Object.keys(n.POST).length>0&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat(("post"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"post",role:"tab","aria-controls":"photos","aria-selected":"false"},r.posts)),n.hasOwnProperty("WORKSPACE")&&Object.keys(n.WORKSPACE).length>0&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat(("workspace"===a||null===a)&&"active"),onClick:t,"data-toggle":"tab","data-value":"workspace",role:"tab","aria-controls":"photos","aria-selected":"false"},r.workspace)))},b=function(e){var a=e.activeTab,t=e.tabs,n=e.redirect;return l.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},l.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"channel"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("CHANNEL")&&l.a.createElement(g,{channels:t.CHANNEL.items,page:t.CHANNEL.page,redirect:n})),l.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"chat"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("CHAT")&&l.a.createElement(h,{chats:t.CHAT.items,page:t.CHAT.page,redirect:n})),l.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"comment"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("COMMENT")&&l.a.createElement(C,{comments:t.COMMENT.items,page:t.COMMENT.page,redirect:n})),l.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"document"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("DOCUMENT")&&l.a.createElement(j,{files:t.DOCUMENT.items,page:t.DOCUMENT.page,redirect:n})),l.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"people"===a)&&"active show"),id:"users",role:"tabpanel"},t.hasOwnProperty("PEOPLE")&&l.a.createElement(S,{people:t.PEOPLE.items,page:t.PEOPLE.page,redirect:n})),l.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"post"===a)&&"active show"),id:"photos",role:"tabpanel"},t.hasOwnProperty("POST")&&l.a.createElement(x,{posts:t.POST.items,page:t.POST.page,redirect:n})),l.a.createElement("div",{className:"tab-pane fade ".concat((null===a||"workspace"===a)&&"active show"),role:"tabpanel"},t.hasOwnProperty("WORKSPACE")&&l.a.createElement(U,{workspaces:t.WORKSPACE.items,page:t.WORKSPACE.page,redirect:n})))},g=function(e){var a=e.channels,t=e.page,n=e.redirect;return l.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return e.data?l.a.createElement(v,{key:e.id,data:e.data,redirect:n}):null})))},v=function(e){var a=e.data,t=e.redirect,n=a.channel;return l.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},l.a.createElement("h5",{onClick:function(){t.toChannel(n)}},n.title))},h=function(e){var a=e.chats,t=e.page,n=e.redirect;return l.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).filter((function(e){return e.data&&null!==e.data.message})).map((function(e){return l.a.createElement(k,{key:e.id,data:e.data,redirect:n})})))};function N(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]);return N=function(){return e},e}var O=i.b.li(N()),k=function(e){var a=e.data,t=e.redirect,n=a.channel,r=a.message;return l.a.createElement(O,{className:"list-group-item p-l-0 p-r-0"},l.a.createElement("div",null,l.a.createElement(s.a,{id:r.user.id,name:r.user.name,imageLink:r.user.profile_image_thumbnail_link?r.user.profile_image_thumbnail_link:r.user.profile_image_link,showSlider:!0})),l.a.createElement("div",{className:"ml-2",onClick:function(){t.toChat(n,r)}},l.a.createElement("p",null,r.user.name," - ",n.title),l.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:r.body}})))},C=function(e){var a=e.comments,t=e.page,n=e.redirect;return l.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return l.a.createElement(_,{key:e.id,comment:e,redirect:n})})))};function y(){var e=Object(r.a)(["\n  img {\n    max-height: 200px;\n    padding: 20px;\n    margin-top: 20px;\n    float: right;\n  }\n  p {\n    display: none;\n    &:nth-child(1),\n    &:nth-child(2),\n    &:nth-child(3),\n    &:nth-child(4),\n    &:nth-child(5) {\n      display: block;\n    }\n  }\n"]);return y=function(){return e},e}function T(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]);return T=function(){return e},e}var w=i.b.li(T()),A=i.b.div(y()),_=function(e){var a=e.comment,t=e.redirect,n=a.data;return l.a.createElement(w,{className:"list-group-item p-l-0 p-r-0",onClick:function(){if(null!==n)if(n.workspaces.length){var e={id:n.workspaces[0].topic.id,name:n.workspaces[0].topic.name,folder_id:n.workspaces[0].workspace?n.workspaces[0].workspace.id:null,folder_name:n.workspaces[0].workspace?n.workspaces[0].workspace.name:null};t.toPost({workspace:e,post:n.post},{focusOnMessage:n.comment.id})}else t.toPost({workspace:null,post:n.post},{focusOnMessage:n.comment.id})}},null!==n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(s.a,{id:n.comment.author.id,name:n.comment.author.name,imageLink:(n.comment.author.profile_image_link,n.comment.author.profile_image_thumbnail_link),showSlider:!0})),l.a.createElement("div",{className:"ml-2"},l.a.createElement("p",null,n.comment.author.name),l.a.createElement(A,{className:"text-muted",dangerouslySetInnerHTML:{__html:n.comment.body}}))),null===n&&l.a.createElement("div",null,l.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:a.search_body}})))},I=function(e){var a=e.user,t=e.redirect;return l.a.createElement("li",{className:"list-group-item p-l-r-0"},l.a.createElement("div",{className:"media",onClick:function(){t.toPeople(a)}},l.a.createElement(s.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,className:"mr-2"}),l.a.createElement("div",{className:"media-body"},l.a.createElement("h6",{className:"m-0"},a.name))))},S=function(e){var a=e.page,t=e.people,n=e.redirect;return l.a.createElement("ul",{className:"list-group list-group-flush"},Object.keys(t).length>0&&Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return l.a.createElement(I,{key:e.id,user:e.data,redirect:n})})))},j=function(e){var a=e.files,t=e.page,n=e.redirect;return l.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return l.a.createElement(P,{key:e.data.id,file:e.data,redirect:n})})))},P=function(e){var a=e.file,t=e.redirect;return l.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},l.a.createElement("label",{onClick:function(){t.toFiles(a)}},a.name))},x=function(e){var a=e.page,t=e.posts,n=e.redirect;return l.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return l.a.createElement(L,{key:e.id,data:e.data,redirect:n})})))},L=function(e){var a=e.data,t=e.redirect,n=a.post,r=a.workspaces,c=Object(o.bb)().localizeChatDate;return l.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},l.a.createElement("div",{onClick:function(){var e=null;r.length&&(e={id:r[0].topic.id,name:r[0].topic.name,folder_id:r[0].workspace?r[0].workspace.id:null,folder_name:r[0].workspace?r[0].workspace.name:null}),t.toPost({post:n,workspace:e})}},l.a.createElement("h5",null,n.title),l.a.createElement("div",{className:"text-muted font-size-13"},l.a.createElement("div",null,c(n.created_at.timestamp)))))},M=t(1),H=t(799),R=t.n(H),F=function(e){var a=e.actions,t=e.activeTab,r=e.tabs,i=e.value,s=Object(c.useState)(!1),o=Object(n.a)(s,2),m=o[0],u=o[1],p=function(e,n){var r=t;"workspace"===t?r="topic":"people"===t&&(r="user"),u(!0),a.search({search:i,skip:e,limit:n,tag:r},(function(e,a){u(!1)}))};if(Object(c.useEffect)((function(){if(t&&!m){var e=r[t.toUpperCase()].page,a=r[t.toUpperCase()].count;(1===e&&a<10&&r[t.toUpperCase()].total_count>10||1===e&&0===a)&&p(a,10)}}),[r,t,m]),t&&r[t.toUpperCase()].maxPage<=1||null===t)return null;var d=r[t.toUpperCase()].page,E=r[t.toUpperCase()].maxPage;return l.a.createElement("nav",{className:"mt-3"},l.a.createElement(R.a,{forcePage:d-1,previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:E,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1,c=r[t.toUpperCase()].items.slice(n>1?10*n-10:0,10*n),l=r[t.toUpperCase()].count;10!==c.length&&p(l,10*n);var i=Object(M.a)(Object(M.a)({},r[t.toUpperCase()]),{},{page:n,key:t.toUpperCase()});a.updateTabPage(i)},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},D=t(6),U=function(e){var a=e.page,t=e.workspaces,n=e.redirect,r=Object(D.d)((function(e){return e.workspaces.workspaces}));return l.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return l.a.createElement(W,{key:e.id,data:e.data,redirect:n,workspaces:r})})))},W=function(e){var a=e.data,t=e.redirect,n=e.workspaces,r=a.topic,c=a.workspace;return l.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},l.a.createElement("h5",{onClick:function(){var e={id:r.id,name:r.name,folder_id:c?c.id:null,folder_name:c?c.name:null};n.hasOwnProperty(r.id)?t.toWorkspace(e):t.fetchWorkspaceAndRedirect(e)}},r.name))};function B(){var e=Object(r.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: ",";\n    }\n  }\n  .text-primary {\n    color: ","!important;\n  }\n"]);return B=function(){return e},e}var K=i.b.div(B(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}));a.default=l.a.memo((function(e){var a=e.className,t=void 0===a?"":a,r=Object(o.P)(),i=Object(o.S)(),m=Object(o.R)(),u=m.count,d=m.results,E=m.searching,g=m.tabs,v=m.value,h=Object(o.hb)()._t,N={searching:h("SEARCH.SEARCHING","Searching"),chatChannel:h("SEARCH.TAB_CHAT_CHANNEL","Chat channel"),message:h("SEARCH.TAB_MESSAGE","Message"),comment:h("SEARCH.TAB_COMMENT","Comment"),files:h("SEARCH.TAB_FILES","Files"),people:h("SEARCH.TAB_PEOPLE","People"),posts:h("SEARCH.TAB_POSTS","Posts"),workspace:h("SEARCH.TAB_WORKSPACE","Workspace")},O=Object(c.useState)(null),k=Object(n.a)(O,2),C=k[0],y=k[1];Object(c.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),function(){return document.getElementById("main").removeAttribute("style")}}),[]),Object(c.useEffect)((function(){if(Object.keys(g).length&&null===C){var e=Object.keys(g)[0];y(e.toLowerCase())}else 0===Object.keys(g).length&&null!==C&&y(null)}),[g,C]);return l.a.createElement(K,{className:"user-search-panel container-fluid h-100 ".concat(t)},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement(p,{actions:i,value:v,clearTab:function(){return y(null)}}),""!==v&&l.a.createElement("h4",{className:"mb-5"},l.a.createElement(s.u,{icon:"search"}),E&&l.a.createElement("span",null,N.searching," ",l.a.createElement("span",{className:"text-primary"},"\u201c",v,"\u201d")),!E&&l.a.createElement("span",null,h("SEARCH.RESULTS_FOUND","::count:: results found for:",{count:u})," ",l.a.createElement("span",{className:"text-primary"},"\u201c",v,"\u201d"))),l.a.createElement(f,{activeTab:C,onSelectTab:function(e){e.currentTarget.dataset.value!==C&&y(e.currentTarget.dataset.value)},tabs:g,dictionary:N}),l.a.createElement(b,{activeTab:C,results:d,tabs:g,redirect:r}),u>0&&l.a.createElement(F,{activeTab:C,tabs:g,actions:i,value:v}))))))}))},900:function(e,a,t){"use strict";t.r(a);var n=t(5),r=t(0),c=t.n(r),l=t(6),i=t(4),s=t(11),o=t(263),m=t(12),u=(t(838),t(805),t(43));function p(){var e=Object(n.a)(["\n  font-family: Inter;\n  letter-spacing: 0;\n  text-align: center;\n  font-size: 12px;\n  p {\n    padding: 0 !important;\n    margin: 0 !important;\n    color: #8b8b8b;\n    text-align: center;\n    line-height: 15px;\n  }\n  span {\n    text-align: center;\n    cursor: pointer;\n  }\n\n  .app-sidebar-menu {\n    padding: 2em 1em;\n    text-align: center;\n  }\n  .app-sidebar-menu p {\n    padding: 0 !important;\n    margin: 0 !important;\n    color: #8b8b8b;\n    line-height: 15px;\n  }\n  .app-sidebar-menu p:last-child {\n    padding-bottom: 1em !important;\n  }\n  .app-sidebar-menu span {\n    text-decoration: underline !important;\n    margin-top: 1em;\n    display: block;\n    cursor: pointer;\n  }\n  .app-sidebar-menu p:nth-of-type(2) {\n    font-weight: bold;\n    color: ",";\n  }\n"]);return p=function(){return e},e}var d=i.b.div(p(),(function(e){return"1"===e.darkMode?"#afb8bd":"#000000"})),E=c.a.memo((function(e){var a=e.className,t=void 0===a?"":a,n=e.dictionary,r=e.user,l=e.unreadNotifications,i=e.darkMode,o=Object(u.g)(),m=Object(s.E)();return c.a.createElement(d,{className:"bottom-modal-mobile ".concat(t),darkMode:i},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},c.a.createElement("p",null,"\ud83d\udcec"),c.a.createElement("p",null,n.howdy," ",r.first_name),c.a.createElement("p",null,n.notificationCount1," ",l," ",n.notificationCount2),c.a.createElement("span",{onClick:function(e){e.preventDefault(),m.readAll({})}},n.markAllAsRead),c.a.createElement("span",{onClick:function(){return m.removeAll()}},"Clear notifications"))),c.a.createElement("p",null,n.improve),c.a.createElement("span",{className:"text-primary",onClick:function(){o.push("/settings")}},n.viewSettings))}));function f(){var e=Object(n.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: ",";\n    }\n  }\n  overflow: auto;\n"]);return f=function(){return e},e}var b=i.b.div(f(),(function(e){return e.theme.colors.primary}));a.default=c.a.memo((function(e){var a=e.className,t=void 0===a?"":a,n=Object(l.d)((function(e){return e.session.user})),r=(Object(s.E)(),Object(s.F)()),i=r.notifications,u=r.unreadNotifications,p=Object(s.hb)()._t,d=(Object(s.P)(),Object(s.U)().generalSettings.dark_mode),f={new:p("NOTIFICATION.NEW","New"),markAllAsRead:p("NOTIFICATION.MARK_ALL_AS_READ","Mark all as read"),oldNotifications:p("NOTIFICATION.OLD_NOTIFICATIONS","Old notifications"),noNotificationsToShow:p("NOTIFICATION.NO_NOTIFICATIONS_TO_SHOW","There are no notifications to show."),howdy:p("NOTIFICATION.HOWDY","Here you go, "),notificationCount1:p("NOTIFICATION.NOTIFICATIONCOUNT1","You have"),notificationCount2:p("NOTIFICATION.NOTIFICATIONCOUNT2","new notifications."),viewSettings:p("NOTIFICATION.VIEW_SETTINGS","View Settings"),improve:p("NOTIFICATION.IMPROVE_NOTIFICATIONS","Improve your notifications"),mustRead:p("NOTIFICATION.MUST_READ","Must read"),needsReply:p("NOTIFICATION.NEEDS_REPLY","Needs reply")},g=Object.values(i).sort((function(e,a){return a.created_at.timestamp-e.created_at.timestamp}));return c.a.createElement(b,{className:"user-profile-panel container-fluid h-100 ".concat(t)},c.a.createElement("div",{className:"row row-user-profile-panel"},c.a.createElement(E,{className:"col-md-3",dictionary:f,user:n,unreadNotifications:u,darkMode:d}),c.a.createElement("div",{className:"col-md-6"},g.length>0&&c.a.createElement("div",{className:"card app-content-body mb-4 "},c.a.createElement("div",{className:"card-body ",style:{padding:"0px"}},c.a.createElement("div",{className:"timeline"},g.map((function(e){return c.a.createElement(o.c,{key:e.id,notification:e})}))))),!g.length&&c.a.createElement("div",{className:"card empty-notification"},c.a.createElement("h4",{className:"text-primary"},f.noNotificationsToShow),c.a.createElement("div",{className:"card-body d-flex justify-content-center align-items-center"},c.a.createElement(m.s,{icon:1,height:330}))))))}))}}]);