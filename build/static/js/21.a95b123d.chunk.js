(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[21],{922:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n.n(c),l=n(4),i=n(6),o=n(47),s=n(11);function u(){var e=Object(a.a)(["\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n  li {\n    cursor: pointer;\n  }\n  &.list-group .list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n"]);return u=function(){return e},e}var m=l.b.ul(u()),d=function(e){var t=Object(s.gb)()._t,n={automation:t("ADMIN.FILTER_AUTOMATION","Automation"),quickLinks:t("ADMIN.FILTER_QUICKLINKS","Quick links"),settings:t("ADMIN.FILTER_SETTINGS","Settings"),huddleBots:t("ADMIN.FILTER_HUDDLE","Huddle bots"),subscription:t("ADMIN.FILTER_SUBSCRIPTION","Subscription"),contact:t("ADMIN.FILTER_CONTACT","Contact"),support:t("ADMIN.FILTER_SUPPORT","Support desk"),company:t("ADMIN.FILTER_COMPANYSETTINGS","Company Settings")},a=Object(s.a)().setAdminFilter,c=Object(o.g)(),l=Object(i.d)((function(e){return e.admin.filters})),u=function(e){e.persist(),a({filter:"quick-links"===e.target.dataset.value?"quick_links":e.target.dataset.value}),c.push("/admin-settings/".concat(e.target.dataset.value)),document.body.classList.remove("mobile-modal-open")};return r.a.createElement(m,{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l.automation?"active":""),"data-value":"automation",onClick:u},n.automation),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l.quick_links?"active":""),"data-value":"quick-links",onClick:u},n.quickLinks),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l.settings?"active":""),"data-value":"settings",onClick:u},n.settings),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l.bots?"active":""),"data-value":"bots",onClick:u},n.huddleBots),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l.subscription?"active":""),"data-value":"subscription",onClick:u},n.subscription),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l.contact?"active":""),"data-value":"contact",onClick:u},n.contact),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l.support?"active":""),"data-value":"support",onClick:u},n.support),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(l["company-settings"]?"active":""),"data-value":"company-settings",onClick:u},n.company))};function b(){var e=Object(a.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return b=function(){return e},e}var E=l.b.div(b()),f=function(e){return r.a.createElement(E,{className:"col-md-3 app-sidebar bottom-modal-mobile"},r.a.createElement("div",{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"bottom-modal-mobile_inner"},r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},r.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},r.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},r.a.createElement("h4",null,"Admin menu"))),r.a.createElement(d,null))))},p=n(10),g=n(9),O=n(1),h=n(7),N=n(79),v=n(54),_=n(12),T=n(19),j=n(55),I=n.n(j);function L(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  label {\n    margin: 0 !important;\n  }\n  margin-bottom: 0.5rem;\n"]);return L=function(){return e},e}function C(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50vh;\n"]);return C=function(){return e},e}function A(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .feather-info {\n    margin-left: 5px;\n    height: 1rem;\n    width: 1rem;\n  }\n"]);return A=function(){return e},e}var S=n(893),k=l.b.div(A()),y=l.b.div(C()),R=l.b.div(L()),D=function(){var e=Object(s.gb)()._t,t=Object(s.bb)(),n={loginSettings:e("ADMIN.LOGIN_SETTINGS","Login settings"),googleLogin:e("ADMIN.GOOGLE_LOGIN","Google login"),magicLink:e("ADMIN.MAGIC_LINK","Magic link"),signUp:e("ADMIN.SIGN_UP","Sign up"),passwordLogin:e("ADMIN.PASSWORD_LOGIN","Password login"),saveLogin:e("ADMIN.SAVE_LOGIN","Save login"),enable:e("LABEL.ENABLE","Enable"),disable:e("LABEL.DISABLE","Disable"),loginSettingsUpdated:e("TOAST.LOGIN_SETTINGS_SUCCESS","Login settings updated"),allowedDomains:e("ADMIN.ALLOWED_DOMAINS","Allowed domains"),passwordLoginInfo:e("ADMIN.PASSWORD_LOGIN_INFO","If disabled only external users can login using the login form"),googleLoginInfo:e("ADMIN.GOOGLE_LOGIN_INFO","Show/Hide google login button"),magicLinkInfo:e("ADMIN.MAGIC_LINK_INFO","Show/Hide magic link button"),signupInfo:e("ADMIN.SIGN_UP_INFO","Show/Hide register button"),allowedDomainsInfo:e("ADMIN.ALLOWED_DOMAINS_INFO","Domain list allowed when signing up in driff"),loginSettingsDescription:e("ADMIN.LOGIN_SETTINGS_DESCRIPTION","Edit login/signup settings for Driff. More info can be found here (External link icon)"),companyLogo:e("ADMIN.COMPANY_LOGO","Company logo"),companyLogoDescription:e("ADMIN.COMPANY_LOGO_DESCRIPTION","Upload your company logo."),uploadLogoBtn:e("BUTTON.UPLOAD.LOGO_BTN","Upload logo"),companyLogoRequirement:e("ADMIN.COMPANY_LOGO_REQUIREMENT","Your logo must be a image file."),companyLogoDimensions:e("ADMIN.COMPANY_LOGO_DIMENSIONS","Maximun dimensions are 80px by 60px"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),resetButton:e("BUTTON.REMOVE_LOGO","Remove logo"),resetLogoSuccess:e("TOAST.RESET_COMPANY_LOGO_SUCCESS","Reset company logo success!"),customTranslation:e("SETTINGS.CUSTOM_TRANSLATION","Use custom translation"),customTranslationInfo:e("SETTINGS.CUSTOM_TRANSLATION_INFO","Use custom translation"),toasterUpdateLoginError:e("TOASTER.UPDATE_LOGIN_SETTINGS_ERROR","Error updating login settings")},a=Object(c.useRef)(!0),l=(Object(c.useRef)(null),Object(i.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).dark_mode),o=(Object(i.d)((function(e){return e.settings.driff.logo})),Object(i.d)((function(e){return e.admin.login}))),u=Object(i.d)((function(e){return e.admin.loginFetched})),m=Object(i.d)((function(e){return e.admin.filters})),d=Object(i.d)((function(e){return e.settings.driff.domains})),b=Object(i.d)((function(e){return e.settings.driff.settings.custom_translation})),E=Object(s.a)(),f=E.fetchLoginSettings,j=E.updateLoginSettings,L=E.setAdminFilter,C=E.updateDomains,A=(E.uploadLogo,E.resetLogo,Object(c.useState)(Object(O.a)(Object(O.a)({},o),{},{custom_translation:b}))),D=Object(h.a)(A,2),P=D[0],w=D[1],U=Object(c.useState)(!1),x=Object(h.a)(U,2),B=x[0],M=x[1],F=Object(c.useState)(""),G=Object(h.a)(F,2),q=G[0],H=G[1],W=Object(c.useState)(d.map((function(e){return{value:e,label:e}}))),Y=Object(h.a)(W,2),z=Y[0],Q=Y[1];Object(c.useEffect)((function(){return L({filters:Object(O.a)(Object(O.a)({},m),{},{settings:!0})}),u||f({}),function(){a.current=!1}}),[]),Object(c.useEffect)((function(){w(o)}),[o]);var V=[{value:!1,label:n.disable},{value:!0,label:n.enable}],K=V.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"google_login"})})),J=V.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"magic_link"})})),X=V.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"sign_up"})})),Z=V.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"password_login"})})),$=V.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{name:"custom_translation"})})),ee=function(e){var t;if("password_login"===e.name&&!1===e.value&&!1===P.google_login)w(Object(O.a)(Object(O.a)({},P),{},(t={},Object(p.a)(t,e.name,e.value),Object(p.a)(t,"google_login",!0),t)));else if("google_login"===e.name&&!1===e.value&&!1===P.password_login){var n;w(Object(O.a)(Object(O.a)({},P),{},(n={},Object(p.a)(n,e.name,e.value),Object(p.a)(n,"password_login",!0),n)))}else w(Object(O.a)(Object(O.a)({},P),{},Object(p.a)({},e.name,e.value)))},te=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},ne=Object(c.useState)(!1),ae=Object(h.a)(ne,2);ae[0],ae[1];return r.a.createElement(k,null,r.a.createElement("h4",null,n.loginSettings),r.a.createElement("h6",{className:"mb-3"},n.loginSettingsDescription),!u&&r.a.createElement(y,{className:"initial-load"},r.a.createElement(_.j,null)),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(R,null,r.a.createElement("label",null,n.passwordLogin)," ",r.a.createElement(I.a,{onToggle:te,content:n.passwordLoginInfo},r.a.createElement(_.s,{icon:"info"}))),r.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===l?v.b:v.a,value:Z.find((function(e){return e.value===P.password_login})),onChange:ee,options:Z})),r.a.createElement("div",null,r.a.createElement(R,null,r.a.createElement("label",null,n.googleLogin),r.a.createElement(I.a,{arrowSize:5,distance:10,onToggle:te,content:n.googleLoginInfo},r.a.createElement(_.s,{icon:"info"}))),r.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===l?v.b:v.a,value:K.find((function(e){return e.value===P.google_login})),onChange:ee,options:K})),r.a.createElement("div",null,r.a.createElement(R,null,r.a.createElement("label",null,n.magicLink),r.a.createElement(I.a,{arrowSize:5,distance:10,onToggle:te,content:n.magicLinkInfo},r.a.createElement(_.s,{icon:"info"}))),r.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===l?v.b:v.a,value:J.find((function(e){return e.value===P.magic_link})),onChange:ee,options:J})),r.a.createElement("div",null,r.a.createElement(R,null,r.a.createElement("label",null,n.signUp),r.a.createElement(I.a,{arrowSize:5,distance:10,onToggle:te,content:n.signupInfo},r.a.createElement(_.s,{icon:"info"}))),r.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===l?v.b:v.a,value:X.find((function(e){return e.value===P.sign_up})),onChange:ee,options:X})),P.sign_up&&r.a.createElement("div",null,r.a.createElement(R,null,r.a.createElement("label",{className:"mt-1"},n.allowedDomains)," ",r.a.createElement(I.a,{arrowSize:5,distance:10,onToggle:te,content:n.allowedDomainsInfo},r.a.createElement(_.s,{icon:"info"}))),r.a.createElement(T.d,{styles:"0"===l?v.b:v.a,value:z,onChange:function(e){Q(null===e?[]:e)},options:[],inputValue:q,isValidNewOption:function(e,t,n){var a=n.some((function(t){return t.value===e})),c=t.some((function(t){return t.value===e}));return!a&&!c&&""!==e&&S(e,{subdomain:!1})},onCreateOption:function(e){Q([].concat(Object(g.a)(z),[{value:e,label:e}]))},onInputChange:function(e){H(e)},formatCreateLabel:function(e){return"Allow ".concat(e)},isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Domain..."})),r.a.createElement("div",null,r.a.createElement(R,null,r.a.createElement("label",null,n.customTranslation),r.a.createElement(I.a,{arrowSize:5,distance:10,onToggle:te,content:n.customTranslationInfo},r.a.createElement(_.s,{icon:"info"}))),r.a.createElement(N.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===l?v.b:v.a,value:$.find((function(e){return e.value===P.custom_translation})),onChange:ee,options:$})),r.a.createElement("div",{className:"mt-2"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){M(!0);var e=Object(O.a)(Object(O.a)({},P),{},{domains:z.map((function(e){return e.value})).toString()});j(e,(function(e,c){a.current&&M(!1),e?t.error(n.toasterUpdateLoginError):(C(z.map((function(e){return e.value}))),t.success(n.loginSettingsUpdated))}))},disabled:B||!u},n.saveLogin))),r.a.createElement("div",null))},P=n(801),w=n(366);function U(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  table {\n    width: 100%;\n    border-spacing: 1rem;\n    th,\n    td {\n      padding: 5px 15px;\n    }\n  }\n  col.col1 {\n    width: 20%;\n  }\n  col.col2 {\n    width: 50%;\n  }\n"]);return U=function(){return e},e}var x=l.b.div(U()),B=function(){var e=Object(s.gb)()._t,t=Object(s.bb)(),n={quickLinks:e("ADMIN.QUICK_LINKS_SETTINGS","Quick links settings"),saveQuickLinks:e("ADMIN.SAVE_QUICK_LINKS","Save quick links"),quickLinksUpdated:e("ADMIN.QUICK_LINKS_UPDATED","Quick links updated"),menuName:e("ADMIN.MENU_NAME","Menu name"),link:e("ADMIN.LINK","Link")},a=Object(c.useRef)(!0),l=Object(i.d)((function(e){return e.global.links})),o=Object(i.d)((function(e){return e.global.linksFetched})),u=Object(i.d)((function(e){return e.admin.filters})),m=Object(s.a)(),d=m.setAdminFilter,b=m.updateQuickLinks,E=m.createQuickLinks,f=Object(c.useState)(o&&l.length?Array.from(l):Array.from(Array(10),(function(){return{id:null,menu_name:"",link:""}}))),p=Object(h.a)(f,2),N=p[0],v=p[1],_=Object(c.useState)(!1),T=Object(h.a)(_,2),j=T[0],I=T[1];Object(c.useEffect)((function(){return d({filters:Object(O.a)(Object(O.a)({},u),{},{quick_links:!0})}),function(){a.current=!1}}),[]),Object(c.useEffect)((function(){v([].concat(Object(g.a)(l),Object(g.a)(N)).slice(0,10))}),[l]);return r.a.createElement(x,null,r.a.createElement("h4",{className:"mb-3"},n.quickLinks),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("colgroup",null,r.a.createElement("col",{className:"col1"}),r.a.createElement("col",{className:"col2"})),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,n.menuName),r.a.createElement("th",null,n.link))),r.a.createElement("tbody",null,N.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(P.a,{className:"w-100",value:e.menu_name,onChange:function(e){return function(e,t){var n=Object(g.a)(N);n[t].menu_name=e.target.value,v(n)}(e,t)},disabled:j||!o,type:"url"})),r.a.createElement("td",null,r.a.createElement(P.a,{className:"w-100",value:e.link,onChange:function(e){return function(e,t){var n=Object(g.a)(N);n[t].link=e.target.value,v(n)}(e,t)},disabled:j||!o,type:"url"})))}))))),r.a.createElement("div",{className:"mt-2"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){I(!0);var e={quick_links:N.filter((function(e){return null!==e.id})).map((function(e){return""!==e.menu_name.trim()&&""!==e.link.trim()?e:Object(O.a)(Object(O.a)({},e),{},{menu_name:"",link:""})}))};if(b(e,(function(e,c){a.current&&I(!1),e||t.success(n.quickLinksUpdated)})),N.filter((function(e){return null===e.id})).length){var c={quick_links:N.filter((function(e){return null===e.id})).map((function(e){return{menu_name:e.menu_name,link:e.link}}))};E(c)}},disabled:!!j||!o||!!N.filter((function(e){return""!==e.link.trim()})).some((function(e){return!1===Object(w.a)(e.link)}))||!!N.some((function(e){return""===e.menu_name.trim()&&""!==e.link.trim()}))||!!N.some((function(e){return""!==e.menu_name.trim()&&""===e.link.trim()}))},n.saveQuickLinks)))},M=n(324),F=n.n(M),G=n(13),q=n(64);function H(){var e=Object(a.a)(["\n  .dark & {\n    input,\n    select {\n      color: #fff;\n    }\n    option {\n      color: #000;\n    }\n  }\n  .react-time-picker__inputGroup__minute {\n    width: 18px !important;\n  }\n"]);return H=function(){return e},e}function W(){var e=Object(a.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n  }\n"]);return W=function(){return e},e}var Y=l.b.div(W()),z=Object(l.b)(F.a)(H()),Q=function(e){return(e<10?"0":"")+e},V=function(e){var t=Object(s.gb)()._t,n={huddleBot:t("HUDDLE.Question","Question"),huddleBotCreated:t("HUDDLE.HUDDLE_CREATED","Huddle bot created."),huddleBotUpdated:t("HUDDLE.HUDDLE_UPDATED","Huddle bot updated."),huddleBotFailed:t("HUDDLE.HUDDLE_FAILED","Huddle bot failed."),channels:t("HUDDLE.CHANNELS","Channels"),questions:t("HUDDLE.QUESTIONS","Questions"),startAt:t("HUDDLE.START_AT","Start at"),publishAt:t("HUDDLE.PUBLISH_AT","Publish at"),delete:t("HUDDLE.DELETE","Delete"),update:t("HUDDLE.UPDATE","Update"),create:t("HUDDLE.CREATE","Create"),cancel:t("HUDDLE.CANCEL","Cancel"),confirmationText:t("HUDDLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this huddle bot?"),deleteHuddle:t("HUDDLE.DELETE_HUDDLE","Delete huddle"),huddleLabel:t("ADMIN.HUDDLE_LABEL","Huddle bot")},a=Object(s.A)(),l=Object(s.bb)(),o=Object(i.c)(),u=Object(i.d)((function(e){return e.chat.bots})),m=Object(i.d)((function(e){return e.chat.huddleBot})),d=u.channels,b=u.loaded,E=Object(i.d)((function(e){return e.admin.filters})),f=[{question:""},{question:""},{question:""},{question:""},{question:""}],g=new Date,N=Q(g.getHours())+":"+Q(g.getMinutes()),v=g.getTimezoneOffset()/60,_=Object(c.useState)([]),j=Object(h.a)(_,2),I=j[0],L=j[1],C=Object(c.useState)({set_start_at:N,set_publish_at:N,channel_id:null,user_bot_id:m?m.id:null,questions:f,introduction_message:"",closing_message:""}),A=Object(h.a)(C,2),S=A[0],k=A[1],y=d.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{value:e.id,label:e.name,icon:"compass"})}));Object(c.useEffect)((function(){if(o(Object(q.w)({filters:Object(O.a)(Object(O.a)({},E),{},{bots:!0})})),!b){a.fetchUserBots({},(function(e,t){e||t.data.user_bots&&0===t.data.user_bots.length&&t.data.channels.length>0&&a.createUserBot({bot_name:"Huddle"})}))}}),[]);var R=function(e){k(Object(O.a)(Object(O.a)({},S),{},{questions:S.questions.map((function(t,n){return n===parseInt(e.target.dataset.name)?Object(O.a)(Object(O.a)({},t),{},{question:e.target.value}):t}))}))},D=function(e){k(Object(O.a)(Object(O.a)({},S),{},Object(p.a)({},e.target.dataset.name,e.target.value)))},P=function(){k({set_start_at:N,set_publish_at:N,channel_id:null,user_bot_id:m.id,questions:f})},w=S.questions.filter((function(e){return""===e.question.trim()})).length===S.questions.length||null===S.channel_id;return r.a.createElement(Y,null,m&&r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"mb-3"},n.huddleLabel),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,n.channels),r.a.createElement(T.f,{options:y,value:I,onChange:function(e){if(null===e)L([]),k(Object(O.a)(Object(O.a)({},S),{},{set_start_at:N,set_publish_at:N,channel_id:null,user_bot_id:m.id,questions:f}));else if(L(e),e.huddle){var t=parseInt(e.huddle.publish_at.time.substr(0,2))-v,n=parseInt(e.huddle.start_at.time.substr(0,2))-v;k(Object(O.a)(Object(O.a)({},S),{},{introduction_message:e.huddle.introduction_message,closing_message:e.huddle.closing_message,channel_id:e.value,questions:e.huddle.questions,user_bot_id:m.id,set_publish_at:Q(t>23?24-t:t)+":"+e.huddle.publish_at.time.substr(3,2),set_start_at:Q(n>23?24-n:n)+":"+e.huddle.start_at.time.substr(3,2)}))}else k(Object(O.a)(Object(O.a)({},S),{},{channel_id:e.value,questions:f}))},isMulti:!1,isClearable:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,n.startAt),r.a.createElement("br",null),r.a.createElement(z,{className:"react-datetime-picker start_at",onChange:function(e){k(Object(O.a)(Object(O.a)({},S),{},{set_start_at:e}))},value:S.set_start_at,disableClock:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,n.publishAt),r.a.createElement("br",null),r.a.createElement(z,{className:"react-datetime-picker publish_at",onChange:function(e){k(Object(O.a)(Object(O.a)({},S),{},{set_publish_at:e}))},value:S.set_publish_at,disableClock:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Welcome message"),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:D,"data-name":"introduction_message",type:"text",className:"form-control",placeholder:"Welcome message","aria-describedby":"button-addon1",autoFocus:!0,value:S.introduction_message})))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Thank you message"),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:D,"data-name":"closing_message",type:"text",className:"form-control",placeholder:"Thank you message","aria-describedby":"button-addon1",autoFocus:!0,value:S.closing_message})))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,n.questions),S.questions.map((function(e,t){return r.a.createElement("div",{className:"mb-2",key:t},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:R,"data-name":t,type:"text",className:"form-control",placeholder:"Question","aria-describedby":"button-addon1",autoFocus:!0,value:e.question})))})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=parseInt(S.set_publish_at.substr(0,2))+v,t=parseInt(S.set_start_at.substr(0,2))+v,c=S.set_publish_at.substr(3,2),r=S.set_start_at.substr(3,2),i=Object(O.a)(Object(O.a)({},S),{},{questions:S.questions.filter((function(e){return""!==e.question.trim()})),user_bot_id:m.id,set_publish_at:Q(e>=0?e:24+e)+":"+c,set_start_at:Q(t>=0?t:24+t)+":"+r}),o=function(e,t){e?l.error(n.huddleBotFailed):(I.huddle?l.success(n.huddleBotUpdated):l.success(n.huddleBotCreated),P(),L([]))};I.huddle?(i=Object(O.a)(Object(O.a)({},i),{},{huddle_id:I.huddle.id,update_questions:i.questions,new_questions:[],remove_question_ids:[]}),a.update(i,o)):a.create(i,o)},disabled:w},I.huddle?n.update:n.create),I.huddle&&r.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){var e=function(e,t){e||(P(),L([]))},t={type:"confirmation",headerText:n.deleteHuddle,submitText:n.delete,cancelText:n.cancel,bodyText:n.confirmationText,actions:{onSubmit:function(){return a.remove({huddle_id:I.huddle.id},e)}}};o(Object(G.a)(t))},disabled:w},n.delete))))},K=n(20),J=n(78);function X(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  h5 {\n    margin: 0;\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n"]);return Z=function(){return e},e}var $=l.b.div(Z()),ee=l.b.div(X()),te=function(e){var t=e.bot,n=e.dictionary,a=Object(c.useRef)(null),l=Object(i.c)(),o=Object(s.bb)(),u=Object(s.gb)()._t,m=Object(c.useState)(!1),d=Object(h.a)(m,2),b=d[0],E=d[1],f=Object(s.a)(),p=f.removeUserBot,g=f.uploadUserBotIcon,O=function(e,a){g({id:t.id,imageFile:e},(function(e,t){e||o.success(n.uploadSuccess)}))},N=function(){E(!1)},v=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return r.a.createElement("div",{className:"col-12 col-md-6",key:t.id},r.a.createElement("div",{className:"card border"},r.a.createElement("div",{className:"card-body admin-bot-card"},r.a.createElement(J.a,{acceptType:"imageOnly",hide:!b,ref:a,onDragLeave:N,onDrop:function(e){!function(e){0===e.length?o.error(n.fileTypeError):e.length>1&&o.warning(n.multipleFileError);var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:O};l(Object(G.a)(t,(function(){N()})))}(e.acceptedFiles)},onCancel:N}),r.a.createElement($,{className:"mb-2"},r.a.createElement("div",{className:"mr-1"},r.a.createElement(_.a,{isBot:!0,imageLink:t.image_path,name:t.name,noDefaultClick:!0,showSlider:!1,forceThumbnail:!1})),r.a.createElement(ee,null,r.a.createElement("h5",null,t.name),r.a.createElement("span",null,t.channel_connected.length," ",n.channelsConnected))),r.a.createElement("div",{className:"d-flex"},r.a.createElement(I.a,{onToggle:v,content:n.deleteBotTooltip},r.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){var e={type:"confirmation",headerText:u("MODAL.DELETE_BOT_HEADER","Delete ::name::",{name:t.name}),submitText:n.buttonRemove,cancelText:n.buttonCancel,bodyText:n.deleteBotBody,actions:{onSubmit:function(){p({id:t.id})}}};l(Object(G.a)(e))}},r.a.createElement(_.s,{icon:"x"}))),r.a.createElement(I.a,{onToggle:v,content:n.editBotTooltip},r.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){var e={type:"update_bot",item:t,mode:"admin"};l(Object(G.a)(e))}},r.a.createElement(_.s,{icon:"edit"}))),r.a.createElement(I.a,{onToggle:v,content:n.changeBotImage},r.a.createElement("button",{className:"btn btn-info mr-2",onClick:function(){a.current&&a.current.open()}},r.a.createElement(_.s,{icon:"upload"}))),r.a.createElement(I.a,{onToggle:v,content:n.copyWebhookUrl},r.a.createElement("button",{className:"btn btn-light mr-2",onClick:function(){Object(K.b)(o,t.url_webhook)}},r.a.createElement(_.s,{icon:"link"})))))))};function ne(){var e=Object(a.a)(["\n  .admin-bot-card {\n    padding: 1rem;\n  }\n  button {\n    padding: 8px;\n  }\n  .create-btn {\n    padding: 15px;\n  }\n"]);return ne=function(){return e},e}var ae=l.b.div(ne()),ce=function(){var e=Object(s.gb)()._t,t=Object(i.c)(),n=Object(s.a)(),a=n.setAdminFilter,l=n.fetchUserBot,o=Object(c.useRef)(!0),u={adminBotLabel:e("ADMIN.AUTOMATION_LABEL_ADMIN_BOT","Admin bot"),deleteBotBody:e("MODAL.DELETE_BOT_CONFIRMATION","Are you sure you want to delete this bot?"),buttonCancel:e("BUTTON.CANCEL","Cancel"),buttonRemove:e("BUTTON.REMOVE","Remove"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),channelsConnected:e("LABEL.CHANNELS_CONNECTED","Channels connected"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),createBot:e("ADMIN.CREATE_BOT_BTN","Create new bot"),editBotTooltip:e("TOOLTIP.EDIT_ADMIN_BOT","Edit admin bot"),changeBotImage:e("TOOLTIP.CHANGE_ADMIN_BOT_IMAGE","Change admin bot image"),deleteBotTooltip:e("TOOLTIP.DELETE_BOT","Delete admin bot"),copyWebhookUrl:e("TOOLTIP.COPY_WEBHOOK_URL","Copy webhook link")},m=Object(i.d)((function(e){return e.admin.filters})),d=Object(i.d)((function(e){return e.admin.automation})).bots;Object(c.useEffect)((function(){return l(),a({filters:Object(O.a)(Object(O.a)({},m),{},{automation:!0})}),function(){o.current=!1}}),[]);return r.a.createElement(ae,null,r.a.createElement("h5",{className:"mb-3"},u.adminBotLabel),r.a.createElement("div",{className:"mb-3"},r.a.createElement("button",{className:"btn btn-primary create-btn",onClick:function(){t(Object(G.a)({type:"create_bot"}))}},u.createBot)),r.a.createElement("div",{className:"row"},d.length>0&&d.map((function(e){return r.a.createElement(te,{key:e.id,bot:e,dictionary:u})}))))},re=n(34);function le(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  label {\n    margin: 0 !important;\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(a.a)([""]);return ie=function(){return e},e}var oe=l.b.div(ie()),se=l.b.div(le()),ue=function(e){var t=Object(i.c)(),n=Object(s.bb)(),a=Object(s.gb)()._t,l={grippToken:a("GRIPP.TOKEN","Gripp token"),additionalAttributes:a("GRIPP.ADDITIONAL_ATTRIBUTES","Additional attributes"),checkAll:a("GRIPP.CHECK_ALL","Check all"),functionDesignation:a("GRIPP.DESIGNATION","Function (Designation)"),contact:a("GRIPP.CONTACT"," Phone / Mobile number (Contact)"),address:a("GRIPP.ADDRESS","Street (Address)"),streetNumber:a("GRIPP.STREET_NUMBER","Street number (House number)"),zipCode:a("GRIPP.ZIP_CODE","Zip code (Zip code)"),city:a("GRIPP.CITY","Place (City)"),country:a("GRIPP.COUNTRY","Country (Country)"),birthDate:a("GRIPP.BIRTH_DATE","Date of birth (Birth date)"),profileImage:a("GRIPP.PROFILE_IMAGE","User Photo (Profile image)"),startSyncUsers:a("GRIPP.START_SYNC_USERS","Start sync users"),successSyc:a("GRIPP.SYNC_SUCCESS","Successfully sync gripp users!"),defaultImport:a("GRIPP.DEFAULT_IMPORT","The default attribute to import"),email:a("EMAIL","Email"),firstName:a("FIRST_NAME","First name"),lastName:a("LAST_NAME","Last name"),grippTokenPlaceholder:a("PLACEHOLDER.GRIPP_TOKEN","Paste gripp token here"),grippTokenInfo:a("GRIPP.TOKEN_INFO","Token from gripp")},o=Object(s.a)(),u=o.syncGrippUsers,m=o.fetchGrippBot,d=Object(c.useState)(!1),b=Object(h.a)(d,2),E=b[0],f=b[1],g=Object(c.useState)(""),N=Object(h.a)(g,2),v=N[0],j=N[1],I=Object(c.useState)(!1),L=Object(h.a)(I,2),C=L[0],A=L[1],S=Object(c.useState)({designation:!1,contact:!1,address:!1,house_number:!1,zip_code:!1,city:!1,country:!1,birth_date:!1,profile_image:!1}),k=Object(h.a)(S,2),y=k[0],R=k[1],D=function(e){var t=e.target.dataset.name;R((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(p.a)({},t,!e[t]))}))};return r.a.createElement(oe,null,r.a.createElement("div",{className:"mb-3"},r.a.createElement(se,null,r.a.createElement("label",null,l.grippToken)," ",r.a.createElement(_.u,{content:l.grippTokenInfo})),r.a.createElement(P.a,{value:v,onChange:function(e){j(e.target.value)},placeholder:l.grippTokenPlaceholder})),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",null,l.defaultImport," ",r.a.createElement("strong",null,l.email),", ",r.a.createElement("strong",null,l.firstName),", ",r.a.createElement("strong",null,l.lastName))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("h3",null,l.additionalAttributes)),r.a.createElement("div",{className:"mb-3"},r.a.createElement(T.a,{name:"check_all",checked:C,onClick:function(){C||R(Object.keys(y).reduce((function(e,t){return e[t]=!0,e}),{})),A((function(e){return!e}))}},l.checkAll)),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(T.a,{name:"designation",checked:y.designation,onClick:D},l.functionDesignation),r.a.createElement(T.a,{name:"contact",checked:y.contact,onClick:D},l.contact),r.a.createElement(T.a,{name:"address",checked:y.address,onClick:D},l.address),r.a.createElement(T.a,{name:"house_number",checked:y.house_number,onClick:D},l.streetNumber),r.a.createElement(T.a,{name:"zip_code",checked:y.zip_code,onClick:D},l.zipCode)),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(T.a,{name:"city",checked:y.city,onClick:D},l.city),r.a.createElement(T.a,{name:"country",checked:y.country,onClick:D},l.country),r.a.createElement(T.a,{name:"birth_date",checked:y.birth_date,onClick:D},l.birthDate),r.a.createElement(T.a,{name:"profile_image",checked:y.profile_image,onClick:D},l.profileImage))),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=Object(O.a)(Object(O.a)({},y),{},{sync_should_run:"everyday",gripp_token:v});f(!0),u(e,(function(e,a){f(!1),e||(n.success(l.successSyc),t(Object(re.q)()),m({}))}))},disabled:""===v.trim()||E},l.startSyncUsers)))};function me(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  h5 {\n    margin: 0;\n  }\n"]);return me=function(){return e},e}function de(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n"]);return de=function(){return e},e}var be=l.b.div(de()),Ee=l.b.div(me()),fe=function(e){var t=e.bot,n=e.dictionary,a=Object(c.useRef)(null),l=Object(i.c)(),o=Object(s.bb)(),u=Object(c.useState)(!1),m=Object(h.a)(u,2),d=m[0],b=m[1],E=Object(s.a)().uploadUserBotIcon,f=function(e,a){E({id:t.id,imageFile:e},(function(e,t){e||o.success(n.uploadSuccess)}))},p=function(){b(!1)},g=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return r.a.createElement("div",{className:"col-12 col-md-6",key:t.id},r.a.createElement("div",{className:"card border"},r.a.createElement("div",{className:"card-body admin-bot-card"},r.a.createElement(J.a,{acceptType:"imageOnly",hide:!d,ref:a,onDragLeave:p,onDrop:function(e){!function(e){0===e.length?o.error(n.fileTypeError):e.length>1&&o.warning(n.multipleFileError);var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:f};l(Object(G.a)(t,(function(){p()})))}(e.acceptedFiles)},onCancel:p}),r.a.createElement(be,{className:"mb-2"},r.a.createElement("div",{className:"mr-1"},r.a.createElement(_.a,{isBot:!0,imageLink:t.image_path,name:t.name,noDefaultClick:!0,showSlider:!1,forceThumbnail:!1})),r.a.createElement(Ee,null,r.a.createElement("h5",null,t.name),r.a.createElement("span",null,t.channel_connected.length," ",n.channelsConnected))),r.a.createElement("div",{className:"d-flex"},r.a.createElement(I.a,{onToggle:g,content:n.editBotTooltip},r.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){var e={type:"update_bot",item:t,mode:"gripp"};l(Object(G.a)(e))}},r.a.createElement(_.s,{icon:"edit"}))),r.a.createElement(I.a,{onToggle:g,content:n.changeBotImage},r.a.createElement("button",{className:"btn btn-info mr-2",onClick:function(){a.current&&a.current.open()}},r.a.createElement(_.s,{icon:"upload"})))))))},pe=function(e){var t=e.bots,n=Object(s.gb)()._t,a={adminBotLabel:n("ADMIN.AUTOMATION_LABEL_ADMIN_BOT","Admin bot"),deleteBotBody:n("MODAL.DELETE_BOT_CONFIRMATION","Are you sure you want to delete this bot?"),buttonCancel:n("BUTTON.CANCEL","Cancel"),buttonRemove:n("BUTTON.REMOVE","Remove"),uploadSuccess:n("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),channelsConnected:n("LABEL.CHANNELS_CONNECTED","Channels connected"),fileTypeError:n("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:n("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),createBot:n("ADMIN.CREATE_BOT_BTN","Create new bot"),editBotTooltip:n("TOOLTIP.EDIT_GRIPP_BOT","Edit gripp bot"),changeBotImage:n("TOOLTIP.CHANGE_GRIPP_BOT_IMAGE","Change gripp bot image")};return r.a.createElement("div",{className:"row"},t.length>0&&t.map((function(e){return r.a.createElement(fe,{key:e.id,bot:e,dictionary:a})})))},ge=n(72);function Oe(){var e=Object(a.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  &.gripp-user .card-body {\n    height: auto;\n  }\n"]);return Oe=function(){return e},e}var he=l.b.div(Oe(),(function(e){return e.theme.colors.primary})),Ne=function(e){var t=e.className,n=void 0===t?"":t,a=e.onNameClick,l=void 0===a?null:a,i=e.user,o=e.dictionary,s=e.onActivateDeactivateUser,u={cardBody:Object(c.useRef)(null),content:Object(c.useRef)(null)};return r.a.createElement(he,{className:"gripp-user col-12 col-md-6 ".concat(n)},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card border",key:i.id},r.a.createElement("div",{className:"card-body",ref:u.cardBody},r.a.createElement("div",{ref:u.content,className:"d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement(_.a,{id:i.id,name:i.name?i.name:i.email,hasAccepted:i.has_accepted,imageLink:i.profile_image_thumbnail_link?i.profile_image_thumbnail_link:i.profile_image_link?i.profile_image_link:"",showSlider:!0}),r.a.createElement("div",{className:"user-info-wrapper ml-3"},r.a.createElement("h6",{className:"user-name mb-0",onClick:function(){l&&l(i)}},r.a.createElement("div",{className:"mr-2 d-flex"},r.a.createElement(_.t,{content:i.email},r.a.createElement("span",{className:"mr-2"},""===i.name.trim()?i.email:i.name)),i.role&&("owner"===i.role.name||"admin"===i.role.name)&&r.a.createElement(_.t,{content:"This is an administrator account"},r.a.createElement(_.s,{icon:"settings",className:"ml-1",width:10,height:10}))),r.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},0===i.active&&r.a.createElement(_.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}))),i.designation&&r.a.createElement("span",{className:"small text-muted"},i.designation))),r.a.createElement("div",{className:"button-wrapper"},r.a.createElement(ge.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:u.cardBody.current},1===i.active&&r.a.createElement("div",{onClick:function(){s(i)}},o.deactivateUser),0===i.active&&r.a.createElement("div",{onClick:function(){s(i)}},o.activateUser))))))))},ve=n(928);function _e(){var e=Object(a.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]);return _e=function(){return e},e}var Te=Object(l.b)(T.m)(_e()),je=function(e){var t=Object(s.bb)(),n=Object(s.gb)()._t,a=Object(i.c)(),l={showInactiveMembers:n("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),activateUser:n("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:n("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:n("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:n("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),cancel:n("BUTTON.CANCEL","Cancel")},o=Object(i.d)((function(e){return e.users.users})),u=Object(i.d)((function(e){return e.users.archivedUsers})),m=Object(c.useRef)(null),d=Object(c.useState)(""),b=Object(h.a)(d,2),E=b[0],f=b[1],p=Object(c.useState)(!1),g=Object(h.a)(p,2),O=g[0],N=g[1];Object(c.useEffect)((function(){0===u.length&&a(Object(re.k)())}),[]);var v=Object.values(o).filter((function(e){return"gripp"===e.import_from&&1===e.active&&(""===E||!!(-1!==e.name.toLowerCase().search(E.toLowerCase())||-1!==e.email.toLowerCase().search(E.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(E.toLowerCase())))})).sort((function(e,t){return e.name.localeCompare(t.name)})),_=u.filter((function(e){return"gripp"===e.import_from&&0===e.active&&(""===E||!!(-1!==e.name.toLowerCase().search(E.toLowerCase())||-1!==e.email.toLowerCase().search(E.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(E.toLowerCase())))})).sort((function(e,t){return e.name.localeCompare(t.name)})),T=function(e){var n={type:"confirmation",headerText:e.active?l.deactivateUser:l.activateUser,submitText:e.active?l.deactivateUser:l.activateUser,cancelText:l.cancel,bodyText:e.active?l.deactivateConfirmationText:l.activateConfirmationText,actions:{onSubmit:function(){e.active?a(Object(re.g)({user_id:e.id},(function(n,a){n||t.success("".concat(e.name," deactivated."))}))):0===e.active&&a(Object(re.a)({user_id:e.id},(function(n,a){n||t.success("".concat(e.name," activated."))})))}}};a(Object(G.a)(n))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"people-header"},r.a.createElement("div",{className:"d-flex align-items-center people-search"},r.a.createElement(Te,{ref:m,value:E,closeButton:"true",onClickEmpty:function(){f("")},placeholder:l.searchPeoplePlaceholder,onChange:function(e){f(e.target.value)},autoFocus:!0}),r.a.createElement(ve.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:O,id:"show_inactive",name:"show_inactive",type:"switch",onChange:function(){N(!O)},"data-success-message":"".concat(O?"Inactive users are shown":"Inactive users are no longer visible"),label:r.a.createElement("span",null,l.showInactiveMembers)}))),r.a.createElement("div",{className:"row"},v.length>0&&!1===O&&v.map((function(e){return r.a.createElement(Ne,{user:e,key:e.id,dictionary:l,onActivateDeactivateUser:T})})),_.length>0&&!0===O&&_.map((function(e){return r.a.createElement(Ne,{user:e,key:e.id,dictionary:l,onActivateDeactivateUser:T})}))))};function Ie(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  h5 {\n    margin: 0;\n  }\n  .back-button {\n    cursor: pointer;\n  }\n"]);return Ie=function(){return e},e}function Le(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n  h3,\n  h5 {\n    margin: 0;\n  }\n  .feather {\n    width: 2rem;\n    height: 2rem;\n    stroke-width: 3;\n  }\n  .feather-info {\n    width: 1rem;\n    height: 1rem;\n  }\n  > div {\n    display: flex;\n    flex-flow: column;\n    align-items: flex-end;\n    text-align: right;\n    height: 100%;\n    justify-content: flex-end;\n  }\n  &.reset-card-header {\n    justify-content: flex-start;\n    div {\n      display: flex;\n      margin-left: 5px;\n    }\n  }\n"]);return Le=function(){return e},e}function Ce(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  h3,\n  h5 {\n    margin: 0;\n  }\n"]);return Ce=function(){return e},e}function Ae(){var e=Object(a.a)(["\n  .gripp-card-body {\n    padding: 0.8rem;\n    height: 120px;\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    cursor: pointer;\n    background-color: #fafafa;\n    .dark & {\n      background-color: #25282c;\n    }\n  }\n"]);return Ae=function(){return e},e}var Se=l.b.div(Ae()),ke=l.b.div(Ce()),ye=l.b.div(Le()),Re=l.b.div(Ie()),De=function(){var e=Object(s.gb)()._t,t=Object(i.c)(),n=Object(s.a)(),a=n.setAdminFilter,l=n.fetchGrippBot,o=n.resetGrippProfileImages,u=n.fetchGrippDetails,m=n.fetchGrippUsers,d=Object(c.useRef)(!0),b={grippLabel:e("ADMIN.GRIPP_LABEL","Gripp"),resetProfileImages:e("LABEL.RESET_PROFILE_IMAGES","Reset profile images"),cancel:e("CANCEL","Cancel"),reset:e("RESET","Reset"),confirmationText:e("GRIPP_MODAL_CONFIRMATION","Are you sure you want to reset all gripp users profile image?"),adminBotLabel:e("ADMIN.AUTOMATION_LABEL_ADMIN_BOT","Admin bot"),deleteBotBody:e("MODAL.DELETE_BOT_CONFIRMATION","Are you sure you want to delete this bot?"),buttonCancel:e("BUTTON.CANCEL","Cancel"),buttonRemove:e("BUTTON.REMOVE","Remove"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),channelsConnected:e("LABEL.CHANNELS_CONNECTED","Channels connected"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),detail:e("DETAIL","Detail"),back:e("BACK","Back"),syncGrippUsers:e("LABEL.SYNC_GRIPP_USERS","Sync gripp users"),grippBots:e("LABEL.GRIPP_BOTS","Gripp bots"),resetImageInfo:e("TOOLTIP.GRIPP_RESET_IMAGE","Reset users profile image")},E=Object(c.useState)("main"),f=Object(h.a)(E,2),p=f[0],g=f[1],N=Object(i.d)((function(e){return e.admin.filters})),v=Object(i.d)((function(e){return e.admin.automation})),T=v.grippBots,j=v.grippUsers,L=v.grippDetails;Object(c.useEffect)((function(){return a({filters:Object(O.a)(Object(O.a)({},N),{},{automation:!0})}),u({},(function(e,t){e||t.data.grippBotCount>0&&l({})})),m(),function(){d.current=!1}}),[]);return r.a.createElement(Se,null,r.a.createElement(Re,{className:"mb-3"},r.a.createElement("h5",{className:"mr-3"},b.grippLabel),"main"!==p&&r.a.createElement("span",{className:"back-button",onClick:function(){return g("main")}},r.a.createElement(_.s,{icon:"arrow-left"})," ",b.back)),L&&L.has_gripp_token&&"main"===p&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card border"},r.a.createElement("div",{className:"gripp-card-body",onClick:function(){return g("sync-lists")}},r.a.createElement(ye,null,r.a.createElement(_.s,{icon:"refresh-ccw"}),r.a.createElement("div",null,r.a.createElement("h3",null,j.length),r.a.createElement("h5",null,b.syncGrippUsers))),r.a.createElement(ke,null,r.a.createElement("h5",null,b.detail),r.a.createElement(_.s,{icon:"arrow-right-circle"}))))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card border"},r.a.createElement("div",{className:"gripp-card-body",onClick:function(){return g("gripp-bots")}},r.a.createElement(ye,null,r.a.createElement(_.s,{icon:"admin-bot",viewBox:"0 0 54 54"}),r.a.createElement("div",null,r.a.createElement("h3",null,T.length),r.a.createElement("h5",null,b.grippBots))),r.a.createElement(ke,null,r.a.createElement("h5",null,b.detail),r.a.createElement(_.s,{icon:"arrow-right-circle"}))))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card border"},r.a.createElement("div",{className:"gripp-card-body"},r.a.createElement(ye,{className:"reset-card-header"},r.a.createElement("h5",null,b.resetProfileImages," "),r.a.createElement(I.a,{onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:b.resetImageInfo},r.a.createElement(_.s,{icon:"info",height:"16",width:"16"}))),r.a.createElement(ke,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",headerText:b.resetProfileImages,submitText:b.reset,cancelText:b.cancel,bodyText:b.confirmationText,actions:{onSubmit:function(){return o()}}};t(Object(G.a)(e))}},b.reset)))))),L&&!L.has_gripp_token&&r.a.createElement(ue,null),L&&L.has_gripp_token&&"gripp-bots"===p&&r.a.createElement(pe,{bots:T}),L&&L.has_gripp_token&&"sync-lists"===p&&r.a.createElement(je,null))};function Pe(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .card-body {\n    height: 125px;\n    cursor: pointer;\n    .icon-gripp-logo,\n    .bitrix-icon {\n      width: 100%;\n      height: 100%;\n    }\n    .feather-admin-bot {\n      width: 48px;\n      height: 48px;\n      margin-right: 5px;\n    }\n  }\n  .card-body.admin-bot {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    h4 {\n      margin: 0;\n    }\n  }\n"]);return Pe=function(){return e},e}var we=l.b.div(Pe()),Ue=function(){var e=Object(s.gb)()._t,t=Object(o.g)(),n=Object(s.a)().setAdminFilter,a=Object(c.useRef)(!0),l={automationLabel:e("ADMIN.AUTOMATION_LABEL","Automation"),adminBotLabel:e("ADMIN.ADMIN_BOT_LABEL","Admin bot")},u=Object(i.d)((function(e){return e.admin.filters}));Object(c.useEffect)((function(){return n({filters:Object(O.a)(Object(O.a)({},u),{},{automation:!0})}),function(){a.current=!1}}),[]);var m=function(e){t.push("/admin-settings/automation/".concat(e))};return r.a.createElement(we,null,r.a.createElement("h4",{className:"mb-3"},l.automationLabel),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card border",onClick:function(){return m("gripp")}},r.a.createElement("div",{className:"card-body"},r.a.createElement(_.r,{icon:"gripp-logo"})))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card border",onClick:function(){return m("admin-bot")}},r.a.createElement("div",{className:"card-body admin-bot"},r.a.createElement(_.s,{icon:"admin-bot",viewBox:"0 0 54 54"}),r.a.createElement("h4",null,l.adminBotLabel))))),r.a.createElement(o.d,null,r.a.createElement(o.b,{component:ce,path:["/admin-settings/automation/admin-bot"]}),r.a.createElement(o.b,{component:De,path:["/admin-settings/automation/gripp"]})))};function xe(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]);return xe=function(){return e},e}var Be=l.b.div(xe()),Me=function(){var e=Object(s.gb)()._t,t=Object(s.a)().setAdminFilter,n=Object(c.useRef)(!0),a={contactLabel:e("ADMIN.CONTACT_LABEL","Contact")},l=Object(i.d)((function(e){return e.admin.filters}));return Object(c.useEffect)((function(){return t({filters:Object(O.a)(Object(O.a)({},l),{},{contact:!0})}),function(){n.current=!1}}),[]),r.a.createElement(Be,null,r.a.createElement("h4",{className:"mb-3"},a.contactLabel))};function Fe(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]);return Fe=function(){return e},e}var Ge=l.b.div(Fe()),qe=function(){var e=Object(s.gb)()._t,t=Object(s.a)().setAdminFilter,n=Object(c.useRef)(!0),a={supportLabel:e("ADMIN.SUPPORT_LABEL","Support desk")},l=Object(i.d)((function(e){return e.admin.filters}));return Object(c.useEffect)((function(){return t({filters:Object(O.a)(Object(O.a)({},l),{},{support:!0})}),function(){n.current=!1}}),[]),r.a.createElement(Ge,null,r.a.createElement("h4",{className:"mb-3"},a.supportLabel))},He=n(35);function We(){var e=Object(a.a)(["\n  padding: 0 1rem 1rem 1rem;\n  border: 1px solid #e6e6e6;\n  border-radius: 0 0 8px 8px;\n  border-top: 0;\n  min-height: 115px;\n  display: flex;\n  align-items: end;\n  justify-content: end;\n  flex-flow: column;\n  button.btn-primary {\n    margin-top: 10px;\n  }\n  button.btn-primary,\n  button.btn-secondary {\n    width: 100%;\n    text-align: center;\n    justify-content: center;\n    border-radius: 20px;\n  }\n"]);return We=function(){return e},e}function Ye(){var e=Object(a.a)(["\n  padding: 1rem;\n  border: 1px solid #e6e6e6;\n  border-top: none;\n  border-bottom: none;\n  min-height: 575px;\n  label {\n    text-align: center;\n    font-style: italic;\n    width: 100%;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n  li {\n    padding: 0.7rem 0;\n    border-top: 1px solid #e6e6e6;\n  }\n  .feather-check {\n    color: #00c851;\n    margin-right: 12px;\n    height: 18px;\n    width: 18px;\n  }\n  &.basic-feat li,\n  &.pro-feat li:nth-child(-n + 2),\n  &.enterprise-feat li:nth-child(1) {\n    font-weight: bold;\n  }\n  &.pro-feat label {\n    min-height: 42px;\n  }\n"]);return Ye=function(){return e},e}function ze(){var e=Object(a.a)(["\n  padding: 1rem;\n  background: #f1f2f7;\n  color: #3f034a;\n  text-align: center;\n  border: 1px solid #e6e6e6;\n  border-radius: 0;\n  min-height: 130px;\n  &.enterprise-pricing {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    h1 {\n      font-weight: 700;\n    }\n  }\n  .euro {\n    font-size: 2rem;\n    font-weight: 700;\n    vertical-align: top;\n    line-height: 2.3;\n  }\n  .price {\n    font-size: 4rem;\n    font-weight: 700;\n  }\n  .per-month {\n    display: inline-block;\n    vertical-align: super;\n    line-height: 1;\n    span:first-child {\n      font-size: 2rem;\n      font-weight: 700;\n      line-height: 1;\n    }\n    span {\n      display: block;\n    }\n  }\n"]);return ze=function(){return e},e}function Qe(){var e=Object(a.a)(["\n  padding: 1rem;\n  text-align: center;\n  background: #3f034a;\n  color: #fff;\n  border: 1px solid #3f034a;\n  border-radius: 8px 8px 0 0;\n  min-height: 120px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n"]);return Qe=function(){return e},e}function Ve(){var e=Object(a.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .trial-label {\n    font-style: italic;\n    font-size: 1rem;\n  }\n"]);return Ve=function(){return e},e}var Ke=l.b.div(Ve()),Je=l.b.div(Qe()),Xe=l.b.div(ze()),Ze=l.b.div(Ye()),$e=l.b.div(We()),et=function(){var e=Object(s.gb)()._t,t=Object(s.ab)(),n=Object(s.a)(),a=n.setAdminFilter,l=n.stripeCheckout,o=n.cancelSubscription,u=Object(i.d)((function(e){return e.admin.subscriptions})),m=Object(c.useRef)(!0),d=Object(i.d)((function(e){return e.admin.stripe})),b={subscriptionLabel:e("ADMIN.SUBSCRIPTION_LABEL","Subscription"),select:e("BUTTON.SELECT","Select"),contactUs:e("BUTTON.CONTACT_US","Contact us"),workspaces:e("PRICING.FEATURE_WORKSPACES","Workspaces"),realTimeChat:e("PRICING.FEATURE_REAL_TIME_CHAT","Real time chat"),messageBoard:e("PRICING.FEATURE_MESSAGE_BOARD","Message board"),todoLists:e("PRICING.FEATURE_TODO_LISTS","To-do lists"),fileStorage:e("PRICING.FEATURE_FILE_STORAGE","File storage"),emailNotifications:e("PRICING.FEATURE_EMAIL_NOTIFICATIONS","Email notifications"),unlimitedProjects:e("PRICING.FEATURE_UNLIMITED_PROJECTS","Unlimited projects"),unlimitedUsers:e("PRICING.FEATURE_UNLIMITED_USERS","Unlimited users"),zoomVideoMeetings:e("PRICING.FEATURES_ZOOM_VIDEO_MEETINGS","ZOOM video meetings"),automaticTranslations:e("PRICING.FEATURES_AUTOMATIC_TRANSLATIONS","Automatic translations"),customSoftwareIntegration:e("PRICING.FEATURES_CUSTOM_SOFTWARE_INTEGRATION","Custom software integration"),standardFeatureDescription:e("PRICING.FEATURES_STANDARD_DESCRIPTION","Collaborate effectively with anyone inside or outside your team or company"),proFeatureDescription:e("PRICING.FEATURES_PRO_DESCRIPTION","Gain access to additional useful features"),enterpriseFeatureDescription:e("PRICING.FEATURES_ENTERPRISE_DESCRIPTION","Spice up your Driff by integrating your favorite software tools."),trialSubscriptionLabel:e("PRICING.TRIAL_SUBSCRIPTION_LABEL","Trial subscription will end:"),trialSubscriptionEndedLabel:e("PRICING.TRIAL_SUBSCRIPTION_ENDED_LABEL","Your trial subscription has ended"),activeSubscriptionLabel:e("PRICING.ACTIVE_SUBSCRIPTION_LABEL","You are currently subscribed to:"),currentPlanBtn:e("PRICING.BUTTON_CURRENT_PLAN","Current plan"),cancelSubscriptionButton:e("BUTTON.CANCEL_SUBSCRIPTION","Cancel subscription")},E=Object(i.d)((function(e){return e.admin.filters}));Object(c.useEffect)((function(){return a({filters:Object(O.a)(Object(O.a)({},E),{},{subscription:!0})}),function(){m.current=!1}}),[]);var f=Object(c.useState)(!1),p=Object(h.a)(f,2),g=p[0],N=p[1],v=function(e){if(!g){var t={success_url:"".concat(Object(He.b)(),"/admin-settings/subscription/success"),cancel_url:"".concat(Object(He.b)(),"/admin-settings/subscription/subscribe"),payment_method_types:["card"],mode:"subscription",line_items:[{price:"standard"===e?"price_1JDRQXLoW9ieUi2mdBJP8Wkp":"pro"===e?"price_1JDRbTLoW9ieUi2mlAwBYt66":null,quantity:3}]};N(!0),l(t,(function(e,t){N(!1),e||(window.location=t.data.url)}))}},T=function(){o()},j=d.pricing.find((function(e){return u&&u.plan===e.id})),I=j?d.products.find((function(e){return e.id===j.product})):null;return r.a.createElement(Ke,null,r.a.createElement("h4",{className:"mb-3"},b.subscriptionLabel),u&&"trialing"===u.status&&r.a.createElement("label",{className:"trial-label"},b.trialSubscriptionLabel," ",r.a.createElement("strong",null,t.fromNow(u.trial_ends_at.timestamp))),u&&"canceled"===u.status&&r.a.createElement("label",{className:"trial-label"},b.trialSubscriptionEndedLabel),u&&"active"===u.status&&I&&r.a.createElement("label",{className:"trial-label"},b.activeSubscriptionLabel,I&&r.a.createElement("strong",null,I.name)," plan"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-wrapper"},r.a.createElement(Je,null,r.a.createElement("h3",null,"Standard"),r.a.createElement("span",null,"For professionals with basic needs")),r.a.createElement(Xe,null,r.a.createElement("span",{className:"euro"},"\u20ac"),r.a.createElement("span",{className:"price"},"49"),r.a.createElement("span",{className:"per-month"},r.a.createElement("span",null,",00"),r.a.createElement("span",null,"/MO"))),r.a.createElement(Ze,{className:"basic-feat"},r.a.createElement("label",null,b.standardFeatureDescription),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.workspaces),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.realTimeChat),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.messageBoard),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.todoLists),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.fileStorage),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.emailNotifications),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.unlimitedProjects),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.unlimitedUsers))),r.a.createElement($e,null,u&&"active"===u.status&&j&&"price_1JDRQXLoW9ieUi2mdBJP8Wkp"===j.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-secondary"},b.currentPlanBtn),r.a.createElement("button",{className:"btn btn-primary",onClick:T},b.cancelSubscriptionButton)):d.pricingFetched&&d.productsFetched?r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return v("standard")}},b.select):r.a.createElement("button",{className:"btn btn-primary"},"Loading..."))))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-wrapper"},r.a.createElement(Je,null,r.a.createElement("h3",null,"Professional"),r.a.createElement("span",null,"All the features of Standard, plus:")),r.a.createElement(Xe,null,r.a.createElement("span",{className:"euro"},"\u20ac"),r.a.createElement("span",{className:"price"},"99"),r.a.createElement("span",{className:"per-month"},r.a.createElement("span",null,",00"),r.a.createElement("span",null,"/MO"))),r.a.createElement(Ze,{className:"pro-feat"},r.a.createElement("label",null,b.proFeatureDescription),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.zoomVideoMeetings),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.automaticTranslations),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.workspaces),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.realTimeChat),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.messageBoard),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.todoLists),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.fileStorage),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.emailNotifications),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.unlimitedProjects),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.unlimitedUsers))),r.a.createElement($e,null,u&&"active"===u.status&&j&&"price_1JDRbTLoW9ieUi2mlAwBYt66"===j.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-secondary"},b.currentPlanBtn),r.a.createElement("button",{className:"btn btn-primary",onClick:T},b.cancelSubscriptionButton)):d.pricingFetched&&d.productsFetched?r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return v("pro")}},b.select):r.a.createElement("button",{className:"btn btn-primary"},"Loading..."))))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-wrapper"},r.a.createElement(Je,null,r.a.createElement("h3",null,"Enterprise"),r.a.createElement("span",null,"For your next-level business")),r.a.createElement(Xe,{className:"enterprise-pricing"},r.a.createElement("h1",null,b.contactUs)),r.a.createElement(Ze,{className:"enterprise-feat"},r.a.createElement("label",null,b.enterpriseFeatureDescription),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.customSoftwareIntegration),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.zoomVideoMeetings),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.automaticTranslations),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.workspaces),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.realTimeChat),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.messageBoard),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.todoLists),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.fileStorage),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.emailNotifications),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.unlimitedProjects),r.a.createElement("li",null,r.a.createElement(_.s,{icon:"check",strokeWidth:"3"}),b.unlimitedUsers))),r.a.createElement($e,null,r.a.createElement("button",{className:"btn btn-primary"},b.contactUs)))))))};function tt(){var e=Object(a.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n  height: 100%;\n  svg {\n    max-width: 50%;\n    max-height: 40%;\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(a.a)(["\n  padding: 1rem;\n  height: 100%;\n  > div {\n    margin-bottom: 1rem;\n  }\n  p {\n    font-size: 1.2rem;\n    margin-top: 1.5rem;\n  }\n"]);return nt=function(){return e},e}var at=l.b.div(nt()),ct=l.b.div(tt()),rt=function(){var e=Object(s.gb)()._t,t=Object(s.a)().setAdminFilter,n=Object(i.d)((function(e){return e.admin.subscriptions})),a=Object(c.useRef)(!0),l=Object(i.d)((function(e){return e.admin.stripe})),o=l.pricing.find((function(e){return n&&n.plan===e.id})),u=o?l.products.find((function(e){return e.id===o.product})):null,m={successSubscriptionLabel:e("PRICING.SUCCESS_SUBSCRIPTION_LABEL","Congrats! You have successfully subscribed to")},d=Object(i.d)((function(e){return e.admin.filters}));return Object(c.useEffect)((function(){return t({filters:Object(O.a)(Object(O.a)({},d),{},{subscription:!0})}),function(){a.current=!1}}),[]),r.a.createElement(at,null,r.a.createElement(ct,null,r.a.createElement(_.q,{icon:1}),n&&"active"===n.status&&l.pricingFetched&&l.productsFetched&&u&&r.a.createElement("p",null,m.successSubscriptionLabel," ",u&&u.name)))};function lt(){var e=Object(a.a)(["\n  padding: 1rem;\n  height: 100%;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]);return lt=function(){return e},e}var it=l.b.div(lt()),ot=function(){var e=Object(s.a)(),t=e.setAdminFilter,n=e.fetchStripePricing,a=e.fetchStripeProducts,l=Object(c.useRef)(!0),u=Object(i.d)((function(e){return e.admin.filters}));return Object(c.useEffect)((function(){return n(),a(),t({filters:Object(O.a)(Object(O.a)({},u),{},{subscription:!0})}),function(){l.current=!1}}),[]),r.a.createElement(it,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{component:et,path:["/admin-settings/subscription/subscribe"]}),r.a.createElement(o.b,{component:rt,path:["/admin-settings/subscription/success"]}),r.a.createElement(o.a,{from:"*",to:{pathname:"/admin-settings/subscription/subscribe"}})))},st=n(83),ut=n(263),mt=n(262),dt=n.n(mt);function bt(){var e=Object(a.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n"]);return bt=function(){return e},e}function Et(){var e=Object(a.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -50px;\n  top: 30px;\n"]);return Et=function(){return e},e}function ft(){var e=Object(a.a)([""]);return ft=function(){return e},e}function pt(){var e=Object(a.a)(["\n  background-color: ",";\n  color: white;\n  position: relative;\n"]);return pt=function(){return e},e}function gt(){var e=Object(a.a)(["\n  text-align: center;\n"]);return gt=function(){return e},e}function Ot(){var e=Object(a.a)(["\n  margin-bottom: 16px;\n  width: 200px;\n"]);return Ot=function(){return e},e}function ht(){var e=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  // > div {\n  //   margin-bottom: 1rem;\n  // }\n  .feather-info {\n    margin-left: 5px;\n    height: 1rem;\n    width: 1rem;\n  }\n"]);return ht=function(){return e},e}var Nt=l.b.div(ht()),vt=l.b.input(Ot()),_t=l.b.button(gt()),Tt=l.b.span(pt(),(function(e){return e.color})),jt=l.b.div(ft()),It=l.b.div(Et()),Lt=l.b.img(bt());var Ct=function(){var e=Object(s.gb)()._t,t=Object(i.c)(),n=Object(c.useRef)(null),a=Object(c.useRef)(null),l=Object(c.useRef)(null),o=Object(c.useRef)(null),u=Object(c.useRef)(null),m=Object(c.useRef)(null),d={companyLogo:e("ADMIN.COMPANY_LOGO","Company logo"),companyLogoDescription:e("ADMIN.COMPANY_LOGO_DESCRIPTION","Upload your company logo."),uploadLogoBtn:e("BUTTON.UPLOAD.LOGO_BTN","Upload logo"),companyLogoRequirement:e("ADMIN.COMPANY_LOGO_REQUIREMENT","Your logo must be a image file."),companyLogoDimensions:e("ADMIN.COMPANY_LOGO_DIMENSIONS","Maximun dimensions are 80px by 60px"),uploadSuccess:e("TOAST.UPLOAD_ICON_SUCCESS","Uploaded icon success!"),fileTypeError:e("TOAST.FILE_TYPE_ERROR","File type not allowed. Please use an image file."),multipleFileError:e("TOAST.MULTIPLE_FILE_ERROR","Multiple files detected. First selected image will be used."),resetButton:e("BUTTON.REMOVE_LOGO","Remove logo"),resetLogoSuccess:e("TOAST.RESET_COMPANY_LOGO_SUCCESS","Reset company logo success!"),customTranslation:e("SETTINGS.CUSTOM_TRANSLATION","Use custom translation"),customTranslationInfo:e("SETTINGS.CUSTOM_TRANSLATION_INFO","Use custom translation"),toasterUpdateLoginError:e("TOASTER.UPDATE_LOGIN_SETTINGS_ERROR","Error updating login settings"),toasterStylingSuccess:e("TOASTER.UPDATE_STYLING_SUCCESS","Successfully updated styling"),primaryLabel:e("LABEL.PRIMARY_COLOR","Primary color"),secondaryLabel:e("LABEL.SECONDARY_COLOR","Secondary color"),thirdLabel:e("LABEL.TERTIARY_COLOR","Tertiary color"),fourthLabel:e("LABEL.CTA_COLOR","CTA color"),fifthLabel:e("LABEL.FIFTH_COLOR","Sidebar logo background color"),sidebarTextColorLabel:e("LABEL.SIDEBAR_TEXT_COLOR","Sidebar text color"),submitBtn:e("BTN.SUBMIT","Submit"),resetPreviewBtn:e("BTN.RESET_DEFAULT_COLORS","Reset default colors")},b=Object(c.useRef)(null),E=Object(c.useState)(!1),f=Object(h.a)(E,2),g=f[0],N=f[1],v=Object(s.bb)(),_=Object(s.a)(),T=_.uploadLogo,j=_.resetLogo,I=Object(i.d)((function(e){return e.settings.driff.logo})),L=Object(i.d)((function(e){return e.settings.driff.theme})),C=Object(i.d)((function(e){return e.settings.origTheme})),A=Object(i.d)((function(e){return e.admin.login})),S=Object(i.d)((function(e){return e.settings.driff.settings.custom_translation})),k=Object(c.useState)(Object(O.a)(Object(O.a)({},A),{},{custom_translation:S})),y=Object(h.a)(k,2),R=y[0],D=(y[1],Object(c.useState)(Object(O.a)({},L.colors))),P=Object(h.a)(D,2),w=P[0],U=P[1],x=Object(c.useState)({primary:!1,secondary:!1,third:!1,fourth:!1,fifth:!1}),B=Object(h.a)(x,2),M=B[0],F=B[1],G=function(e){var t;0===e.length?v.error(d.fileTypeError):e.length>1&&v.warning(d.multipleFileError),t=e[0],T({file:t,code:"code"},(function(e,t){e||v.success(d.uploadSuccess)}))},H=function(){N(!1)},W=function(e,n){U(Object(O.a)(Object(O.a)({},w),{},Object(p.a)({},n,e.hex))),t(Object(st.k)({colors:Object(p.a)({},n,e.hex)}))},Y=function(e,t){e.stopPropagation(),e.preventDefault(),F(Object(O.a)(Object(O.a)({},M),{},Object(p.a)({},t,!M[t])))},z=["#29323F","#4E5D72","#192536","#FFC856","#7a1b8b","#8c3b9b","#3f034a","#4d075a","#d9e3f0","#f47373","#37d67a","#2ccce4","#dce775","#ff8a65"];return Object(s.G)(n,(function(){return F(Object(O.a)(Object(O.a)({},M),{},{primary:!M.primary}))}),M.primary),Object(s.G)(a,(function(){return F(Object(O.a)(Object(O.a)({},M),{},{secondary:!M.secondary}))}),M.secondary),Object(s.G)(l,(function(){return F(Object(O.a)(Object(O.a)({},M),{},{third:!M.third}))}),M.third),Object(s.G)(o,(function(){return F(Object(O.a)(Object(O.a)({},M),{},{fourth:!M.fourth}))}),M.fourth),Object(s.G)(u,(function(){return F(Object(O.a)(Object(O.a)({},M),{},{fifth:!M.fifth}))}),M.fifth),Object(s.G)(m,(function(){return F(Object(O.a)(Object(O.a)({},M),{},{sidebarTextColor:!M.sidebarTextColor}))}),M.sidebarTextColor),r.a.createElement("div",null,r.a.createElement(Nt,{theme:L},r.a.createElement("h4",null,d.companyLogo),r.a.createElement("h6",null,d.companyLogoDescription),r.a.createElement("div",null,r.a.createElement("label",{className:"mb-0"},d.companyLogoRequirement),r.a.createElement("br",null),r.a.createElement("label",{className:"mb-0"},d.companyLogoDimensions)),r.a.createElement("div",null,r.a.createElement(J.a,{acceptType:"imageOnly",hide:!g,ref:b,onDragLeave:H,onDrop:function(e){var t=e.acceptedFiles;G(t)},onCancel:H}),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){b.current&&b.current.open()}},d.uploadLogoBtn),""!==I&&r.a.createElement("button",{className:"ml-2 btn btn-secondary",onClick:function(){j({},(function(e,t){e||v.success(d.resetLogoSuccess)}))}},d.resetButton)),r.a.createElement("h4",{className:"mt-3"},"Styling"),r.a.createElement(jt,null,r.a.createElement("span",null,d.primaryLabel," (current:"," ",r.a.createElement(Tt,{color:L.colors.primary},L.colors.primary,M.primary&&r.a.createElement(It,{ref:n},r.a.createElement(ut.a,{colors:z,color:w.primary,onChange:function(e){W(e,"primary")}}))),")",r.a.createElement(Lt,{className:"color-picker ml-2",src:dt.a,alt:"color picker",onClick:function(e){return Y(e,"primary")}})),r.a.createElement(vt,{className:"w-100 form-control mt-2",id:"primarycolor",onChange:function(e){U(Object(O.a)(Object(O.a)({},w),{},{primary:e.target.value})),t(Object(st.k)({colors:{primary:e.target.value}}))},value:w.primary})),r.a.createElement(jt,null,r.a.createElement("span",null,d.secondaryLabel," (current:"," ",r.a.createElement(Tt,{color:L.colors.secondary},L.colors.secondary,M.secondary&&r.a.createElement(It,{ref:a},r.a.createElement(ut.a,{colors:z,color:w.secondary,onChange:function(e){W(e,"secondary")}}))),")",r.a.createElement(Lt,{className:"color-picker ml-2",src:dt.a,alt:"color picker",onClick:function(e){return Y(e,"secondary")}})),r.a.createElement(vt,{className:"w-100 form-control mt-2",id:"secondarycolor",onChange:function(e){U(Object(O.a)(Object(O.a)({},w),{},{secondary:e.target.value})),t(Object(st.k)({colors:{secondary:e.target.value}}))},value:w.secondary})),r.a.createElement(jt,null,r.a.createElement("span",null,d.thirdLabel," (current:"," ",r.a.createElement(Tt,{color:L.colors.third},L.colors.third,M.third&&r.a.createElement(It,{ref:l},r.a.createElement(ut.a,{colors:z,color:w.third,onChange:function(e){W(e,"third")}}))),")",r.a.createElement(Lt,{className:"color-picker ml-2",src:dt.a,alt:"color picker",onClick:function(e){return Y(e,"third")}})),r.a.createElement(vt,{className:"w-100 form-control mt-2",id:"thirdcolor",onChange:function(e){U(Object(O.a)(Object(O.a)({},w),{},{third:e.target.value})),t(Object(st.k)({colors:{third:e.target.value}}))},value:w.third})),r.a.createElement(jt,null,r.a.createElement("span",null,d.fourthLabel," (current:"," ",r.a.createElement(Tt,{color:L.colors.fourth},L.colors.fourth,M.fourth&&r.a.createElement(It,{ref:o},r.a.createElement(ut.a,{colors:z,color:w.fourth,onChange:function(e){W(e,"fourth")}}))),")",r.a.createElement(Lt,{className:"color-picker ml-2",src:dt.a,alt:"color picker",onClick:function(e){return Y(e,"fourth")}})),r.a.createElement(vt,{className:"w-100 form-control mt-2",id:"fourthcolor",onChange:function(e){U(Object(O.a)(Object(O.a)({},w),{},{fourth:e.target.value})),t(Object(st.k)({colors:{fourth:e.target.value}}))},value:w.fourth})),r.a.createElement(jt,null,r.a.createElement("span",null,d.fifthLabel," (current:"," ",r.a.createElement(Tt,{color:L.colors.fifth},L.colors.fifth,M.fifth&&r.a.createElement(It,{ref:u},r.a.createElement(ut.a,{colors:z,color:w.fifth,onChange:function(e){W(e,"fifth")}}))),")",r.a.createElement(Lt,{className:"color-picker ml-2",src:dt.a,alt:"color picker",onClick:function(e){return Y(e,"fifth")}})),r.a.createElement(vt,{className:"w-100 form-control mt-2",id:"fifthcolor",onChange:function(e){U(Object(O.a)(Object(O.a)({},w),{},{fifth:e.target.value})),t(Object(st.k)({colors:{fifth:e.target.value}}))},value:w.fifth})),r.a.createElement(jt,null,r.a.createElement("span",null,d.sidebarTextColorLabel," (current:"," ",r.a.createElement(Tt,{color:L.colors.sidebarTextColor},L.colors.sidebarTextColor,M.sidebarTextColor&&r.a.createElement(It,{ref:m},r.a.createElement(ut.a,{colors:["#cbd4db","#000"],color:w.sidebarTextColor,onChange:function(e){W(e,"sidebarTextColor")}}))),")",r.a.createElement(Lt,{className:"color-picker ml-2",src:dt.a,alt:"color picker",onClick:function(e){return Y(e,"sidebarTextColor")}})),r.a.createElement(vt,{className:"w-100 form-control mt-2",id:"sidebarTextColorcolor",onChange:function(e){U(Object(O.a)(Object(O.a)({},w),{},{sidebarTextColor:e.target.value})),t(Object(st.k)({colors:{sidebarTextColor:e.target.value}}))},value:w.sidebarTextColor})),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(_t,{className:"btn btn-primary mr-2",id:"SubmitColors",onClick:function(){var e=Object(O.a)(Object(O.a)({},R),{},{themes:JSON.stringify(L.colors)});t(Object(q.r)(e,(function(e,t){e||v.success(d.toasterStylingSuccess)}))),t(Object(st.k)({colors:w}))}},d.submitBtn),r.a.createElement(_t,{className:"btn btn-primary",onClick:function(){t(Object(st.k)({colors:C.colors})),U(Object(O.a)({},C.colors))}},d.resetPreviewBtn))))};function At(){var e=Object(a.a)(["\n  overflow: visible !important;\n  height: 100%;\n"]);return At=function(){return e},e}var St=l.b.div(At()),kt=function(e){return r.a.createElement(St,{className:"card"},r.a.createElement(o.d,null,r.a.createElement(o.b,Object.assign({},e,{component:Ue,path:["/admin-settings/automation","/admin-settings/automation/:subpage"]})),r.a.createElement(o.b,Object.assign({},e,{component:D,path:["/admin-settings/settings"]})),r.a.createElement(o.b,Object.assign({},e,{component:B,path:["/admin-settings/quick-links"]})),r.a.createElement(o.b,Object.assign({},e,{component:V,path:["/admin-settings/bots"]})),r.a.createElement(o.b,Object.assign({},e,{component:ot,path:["/admin-settings/subscription"]})),r.a.createElement(o.b,Object.assign({},e,{component:Me,path:["/admin-settings/contact"]})),r.a.createElement(o.b,Object.assign({},e,{component:qe,path:["/admin-settings/support"]})),r.a.createElement(o.b,Object.assign({},e,{component:Ct,path:["/admin-settings/company-settings"]})),r.a.createElement(o.a,{from:"*",to:{pathname:"/admin-settings/settings"}})))};function yt(){var e=Object(a.a)(["\n  overflow: hidden auto;\n  .app-block {\n    overflow: inherit;\n    .app-content {\n      height: auto;\n    }\n  }\n"]);return yt=function(){return e},e}var Rt=l.b.div(yt());t.default=function(e){return r.a.createElement(Rt,{className:"container-fluid h-100 fadeIn"},r.a.createElement("div",{className:"row app-block"},r.a.createElement(f,null),r.a.createElement("div",{className:"col-lg-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(kt,null))))}}}]);