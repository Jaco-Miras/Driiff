(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[7],{793:function(e,n,t){"use strict";t.d(n,"a",(function(){return h})),t.d(n,"b",(function(){return S}));var a=t(1),r=t(7),o=t(5),i=t(0),c=t.n(i),s=t(4),l=t(12),d=t(798),m=t(70);function u(){var e=Object(o.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return u=function(){return e},e}function p(){var e=Object(o.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]);return p=function(){return e},e}var f=s.b.div(p()),b=Object(s.b)(l.t)(u()),h=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=e.folders,s=e.file,u=e.actions,p=e.isMember,h=e.forceDelete,E=void 0!==h&&h,g=e.disableOptions,v=u.getFileSizeUnit(s.hasOwnProperty("size")&&"number"===typeof s.size?s.size:0),O=Object(i.useState)(s.is_favorite),_=Object(r.a)(O,2),w=_[0],T=_[1],N=function(){u.viewFiles(s)};return c.a.createElement(f,{className:"file-list-item ".concat(t)},c.a.createElement("div",{className:"card  app-file-list"},c.a.createElement("div",{className:"string"===typeof s.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:N},!0===w&&c.a.createElement(b,{icon:"star"}),u.getFileIcon(s.mime_type),"number"===typeof s.id&&c.a.createElement(d.g,{file:s,folders:o,actions:Object(a.a)(Object(a.a)({},u),{},{favorite:function(){T((function(e){return!e})),u.favorite(s)}}),isMember:p,forceDelete:E,disableOptions:g}),"string"===typeof s.id&&c.a.createElement(m.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),c.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:N},c.a.createElement(l.u,{content:s.name?s.name:s.search},c.a.createElement("div",{className:"file-name"},s.hasOwnProperty("payload_id")&&c.a.createElement(l.t,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),s.name?s.name:s.search)),c.a.createElement("div",{className:"text-muted"},v.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],v.unit))))})),E=t(44),g=t(14),v=t(254),O=t(11),_=t(253),w=t.n(_);function T(){var e=Object(o.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]);return T=function(){return e},e}function N(){var e=Object(o.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"]);return N=function(){return e},e}function k(){var e=Object(o.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return k=function(){return e},e}function y(){var e=Object(o.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"]);return y=function(){return e},e}var A=s.b.div(y(),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),j=Object(s.b)(l.t)(k()),C=s.b.img(N(),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),x=s.b.div(T()),S=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=e.folder,s=e.actions,m=e.isMember,u=e.history,p=e.params,f=e.handleAddEditFolder,b=e.disableOptions,h=Object(E.j)(),_=h.path,T=h.url,N=Object(i.useRef)(null),k=Object(i.useState)(!1),y=Object(r.a)(k,2),S=y[0],I=y[1],R=Object(i.useState)(o.bg_color?o.bg_color:""),P=Object(r.a)(R,2),D=P[0],L=P[1],F=function(e){if(e.preventDefault(),e.stopPropagation(),o.hasOwnProperty("payload"))window.open(o.payload.url,"_blank");else if("/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===_||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===_){var n=T.split("/folder/")[0];u.push(n+"/folder/".concat(o.id,"/").concat(Object(g.h)(o.search)))}else u.push(u.location.pathname+"/folder/".concat(o.id,"/").concat(Object(g.h)(o.search)))};return Object(i.useEffect)((function(){if(""!==D&&D!==o.bg_color&&!S){var e={id:o.id,name:o.search,bg_color:D,topic_id:p.workspaceId};o.parent_folder&&(e=Object(a.a)(Object(a.a)({},e),{},{folder_id:o.parent_folder.id})),s.updateFolder(e)}}),[S,D]),Object(i.useEffect)((function(){L(o.bg_color)}),[o.bg_color]),Object(O.G)(N,(function(){return I(!S)}),S),c.a.createElement(A,{className:"file-list-item ".concat(t),color:D},c.a.createElement("div",{className:"card  app-file-list"},c.a.createElement("div",{className:"app-file-icon cursor-pointer",onClick:F},c.a.createElement("div",{onClick:F},o.hasOwnProperty("payload")&&c.a.createElement(j,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),c.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!b&&c.a.createElement(d.m,{folder:o,actions:s,isMember:m,history:u,params:p,handleAddEditFolder:f}),c.a.createElement(C,{className:"color-picker",src:w.a,alt:"color picker",disableOptions:b,onClick:function(e){e.stopPropagation(),e.preventDefault(),I(!S)}})),S&&c.a.createElement(x,{ref:N},c.a.createElement(v.a,{color:D,onChange:function(e,n){n.stopPropagation(),L(e.hex)}}))),c.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:F},c.a.createElement(l.u,{content:o.search},c.a.createElement("div",{className:"file-name"},o.search)))))}))},795:function(e,n,t){"use strict";t.d(n,"a",(function(){return h})),t.d(n,"c",(function(){return E.a})),t.d(n,"b",(function(){return A}));var a=t(5),r=t(0),o=t.n(r),i=t(6),c=t(4),s=t(12),l=t(70),d=t(20),m=t(11);function u(){var e=Object(a.a)(["\n  .badge {\n    background: ",";\n  }\n"]);return u=function(){return e},e}function p(){var e=Object(a.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .card-body {\n    padding: 1rem !important;\n    min-height: 90px;\n    width: 100%;\n    display: flex;\n  }\n"]);return p=function(){return e},e}var f=c.b.div(p(),(function(e){return e.theme.colors.primary}),(function(e){return e.userNameMaxWidth})),b=Object(c.b)(s.b)(u(),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),h=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.loggedUser,c=e.onNameClick,u=void 0===c?null:c,p=e.onChatClick,h=void 0===p?null:p,E=e.user,g=e.dictionary,v=e.showOptions,O=void 0!==v&&v,_=e.onUpdateRole,w=void 0===_?null:_,T=e.roles,N=e.onArchiveUser,k=void 0===N?null:N,y=e.onActivateUser,A=void 0===y?null:y,j=e.onChangeUserType,C=void 0===j?null:j,x=e.onDeleteUser,S=void 0===x?null:x,I=e.onResendInvite,R=void 0===I?null:I,P=e.onDeleteInvitedInternalUser,D=void 0===P?null:P,L=e.showInactive,F=void 0!==L&&L,M=e.showWorkspaceRole,U=void 0!==M&&M,H=e.usersWithoutActivity,W=void 0===H?[]:H,z=e.onAddUserToTeam,B=void 0===z?null:z,G=e.onDeleteTeamMember,V=void 0===G?null:G,Y=Object(m.bb)(),K={cardBody:Object(r.useRef)(null),content:Object(r.useRef)(null)},q=Object(i.d)((function(e){return e.admin.notifications})),Z=Object(i.d)((function(e){return e.admin.notificationsLoaded})),J=function(e){var n={user_id:E.id,role_id:T[e]};w(n)},X=function(){k(E)},Q=function(){A(E)};return o.a.createElement(f,{className:"workspace-user-item-list col-lg-4 col-md-6 ".concat(t)},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"card border",key:E.id},o.a.createElement("div",{className:"card-body",ref:K.cardBody},o.a.createElement("div",{ref:K.content,className:"d-flex align-items-center justify-content-between w-100"},o.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},o.a.createElement(s.a,{id:E.id,name:E.name?E.name:E.email,hasAccepted:E.has_accepted,imageLink:E.profile_image_link,showSlider:!0}),o.a.createElement("div",{className:"user-info-wrapper ml-3"},""!==E.email&&E.hasOwnProperty("has_accepted")&&!E.has_accepted&&"external"===E.type?o.a.createElement("h6",{className:"user-name mb-0"},o.a.createElement(s.u,{content:E.email},o.a.createElement("div",{className:"mr-2 people-text-truncate"},""!==E.name?E.name:E.email)),o.a.createElement(s.b,{label:g.peopleInvited,badgeClassName:"badge badge-info text-white"}),o.a.createElement(s.b,{label:g.peopleExternal,badgeClassName:"badge badge-info badge-external text-white"})):o.a.createElement("h6",{className:"user-name mb-0",onClick:function(){u&&u(E)}},o.a.createElement("div",{className:"mr-2 d-flex"},o.a.createElement(s.u,{content:E.email},o.a.createElement("span",{className:"mr-2"},E.name)),E.hasOwnProperty("has_accepted")&&!E.has_accepted&&E.active?o.a.createElement(s.b,{label:g.peopleInvited,badgeClassName:"badge badge-info text-white"}):null,E.role&&("owner"===E.role.name||"admin"===E.role.name)&&o.a.createElement(s.u,{content:"This is an administrator account"},o.a.createElement(s.t,{icon:"settings",className:"ml-1",width:10,height:10}))),o.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===E.type&&"external"!==a.type&&o.a.createElement(s.b,{label:g.peopleExternal,badgeClassName:"badge badge-info badge-external text-white"}),0===E.active&&o.a.createElement(s.b,{label:"Inactive",badgeClassName:"badge badge-light text-white"}),U&&E.workspace_role&&""!==E.workspace_role&&o.a.createElement(b,{role:E.workspace_role,badgeClassName:"WATCHER"===E.workspace_role||"TEAM_LEAD"===E.workspace_role?"text-dark":"text-white",label:function(){switch(E.workspace_role){case"ADVISOR":return g.roleAdvisor;case"APPROVER":return g.roleApprover;case"CLIENT":return g.roleClient;case"COMMUNICATION_LEAD":return g.roleCommunicationLead;case"DEVELOPER":return g.roleDeveloper;case"DESIGNER":return g.roleDesigner;case"FREELANCER":return g.roleFreelancer;case"SUPERVISOR":return g.roleSupervisor;case"TEAM_LEAD":return g.roleTeamLead;case"TECHNICAL_ADVISOR":return g.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return g.roleTechnicalLead;case"WATCHER":return g.roleWatcher;default:return""}}()}))),E.role&&"internal"===E.type&&o.a.createElement("span",{className:"small text-muted"},E.role.display_name),E.external_company_name&&"external"===E.type&&o.a.createElement("span",{className:"small text-muted"},E.external_company_name))),null!==h&&"external"!==a.type&&o.a.createElement("div",{className:"button-wrapper"},E.contact&&""!==E.contact&&a.id!==E.id&&o.a.createElement("a",{href:"tel:".concat(E.contact.replace(/ /g,"").replace(/-/g,""))},o.a.createElement(s.t,{className:"mr-2",icon:"phone"})),a.id!==E.id&&1===E.active&&o.a.createElement(s.t,{onClick:function(){h&&h(E)},icon:"message-circle"}),O&&a.id!==E.id&&o.a.createElement(l.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:K.cardBody.current},!F&&"internal"===E.type&&E.role&&"employee"===E.role.name&&E.hasOwnProperty("has_accepted")&&E.has_accepted&&o.a.createElement("div",{onClick:function(){return J("admin")}},g.assignAsAdmin),!F&&"internal"===E.type&&E.role&&"admin"===E.role.name&&E.hasOwnProperty("has_accepted")&&E.has_accepted&&o.a.createElement("div",{onClick:function(){return J("employee")}},g.assignAsEmployee),!F&&"external"===E.type&&o.a.createElement("div",{onClick:function(){C&&C(E,"internal")}},g.moveToInternal),!F&&"internal"===E.type&&o.a.createElement("div",{onClick:function(){C&&C(E,"external")}},g.moveToExternal),F&&0===E.active&&!E.deactivate?o.a.createElement("div",{onClick:X},g.unarchiveUser):null,E.active&&E.hasOwnProperty("has_accepted")&&E.has_accepted?o.a.createElement("div",{onClick:X},g.archiveUser):null,!E.deactivate&&E.active&&E.hasOwnProperty("has_accepted")&&E.has_accepted?o.a.createElement("div",{onClick:Q},g.deactivateUser):null,F&&E.deactivate&&0===E.active&&E.hasOwnProperty("has_accepted")&&E.has_accepted?o.a.createElement("div",{onClick:Q},g.activateUser):null,!F&&E.active&&E.hasOwnProperty("has_accepted")&&E.has_accepted&&W.some((function(e){return e.user_id===E.id}))&&S||E.hasOwnProperty("has_accepted")&&!E.has_accepted&&"external"===E.type?o.a.createElement("div",{onClick:function(){S&&S(E)}},g.deleteUser):null,!F&&E.hasOwnProperty("has_accepted")&&!E.has_accepted&&Z&&q.email&&o.a.createElement("div",{onClick:function(){R&&R(E)}},g.resendInvitation),!F&&E.hasOwnProperty("has_accepted")&&!E.has_accepted&&"internal"===E.type&&o.a.createElement("div",{onClick:function(){D&&D(E)}},g.removeInvitedInternal),!F&&E.hasOwnProperty("has_accepted")&&!E.has_accepted&&"internal"===E.type&&Z&&q.email&&o.a.createElement("div",{onClick:function(){Object(d.b)(Y,E.invite_link)}},g.sendInviteManually),!F&&"internal"===E.type&&o.a.createElement("div",{onClick:function(){B&&B(E)}},g.addUserToTeam),V&&o.a.createElement("div",{onClick:function(){V&&V(E)}},g.removeTeamMember))))))))})),E=t(258),g=t(1),v=t(7),O=t(44),_=t(13),w=t(29);function T(){var e=Object(a.a)(["\n  width: 1rem;\n  height: 1rem;\n"]);return T=function(){return e},e}function N(){var e=Object(a.a)(["\n  .avatar {\n    cursor: pointer;\n    min-height: 2.7rem;\n    min-width: 2.7rem;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n    flex-flow: row wrap;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    //max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .team-title {\n    display: flex;\n    flex-flow: row wrap;\n  }\n  .button-wrapper {\n    margin-left: auto;\n  }\n"]);return N=function(){return e},e}var k=c.b.div(N(),(function(e){return e.theme.colors.primary}),(function(e){return e.userNameMaxWidth})),y=Object(c.b)(s.k)(T()),A=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.loggedUser,c=e.team,d=e.dictionary,u=e._t,p=Object(i.c)(),f=Object(m.bb)(),b={cardBody:Object(r.useRef)(null),content:Object(r.useRef)(null)},h=Object(r.useState)(!1),E=Object(v.a)(h,2),T=E[0],N=E[1],A=Object(O.g)(),j=Object(m.Z)(),C=u("PEOPLE.TEAM_MEMBERS_NUMBER","(::number:: members)",{number:c.members.length}),x="admin"===a.role.name||"owner"===a.role.name;return o.a.createElement(k,{className:"workspace-user-item-list col-12 col-md-6 ".concat(t)},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"card border",key:c.id},o.a.createElement("div",{className:"card-body",ref:b.cardBody},o.a.createElement("div",{ref:b.content,className:"d-flex align-items-center"},o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement(s.a,{id:c.id,name:c.name,noDefaultClick:!0,imageLink:c.icon_link,showSlider:!1,type:"TEAM"})),o.a.createElement("div",{className:"user-info-wrapper ml-3"},o.a.createElement(s.u,{content:c.name},o.a.createElement("div",{className:"mr-2 team-title",onClick:function(){A.push("/system/people/teams/".concat(c.id,"/").concat(c.name))}},o.a.createElement("span",null,d.team," ",c.name),o.a.createElement("span",null,c.members.length>0&&C)))),"external"!==a.type&&o.a.createElement("div",{className:"button-wrapper"},T&&o.a.createElement(y,null),!T&&o.a.createElement(s.t,{onClick:function(){N(!0);var e={type:"team",recipient_id:c.id};j.createChannel(e,(function(e,n){N(!1),e||n&&(j.addAndSelectChannel(Object(g.a)(Object(g.a)({},n.data.channel),{},{hasMore:!0,selected:!0,entity_id:c.id})),A.push("/chat/".concat(n.data.channel.code)))}))},icon:"message-circle"}),x&&o.a.createElement(l.c,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:b.cardBody.current},o.a.createElement("div",{onClick:function(){var e={mode:"edit",type:"team",team:c};p(Object(_.a)(e))}},d.editTeam),o.a.createElement("div",{onClick:function(){var e=function(e,n){e||f.success(u("TOASTER.TEAM_DELETE_SUCCESS","Successfully removed ::name:: team",{name:c.name}))},n={type:"confirmation",headerText:d.removeTeamHeader,submitText:d.removeTeamBtn,cancelText:d.cancel,bodyText:d.removeTeamConfirmation,actions:{onSubmit:function(){p(Object(w.i)({id:c.id},e))}}};p(Object(_.a)(n))}},d.removeTeam))))))))}))},796:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(12),s=t(11);function l(){var e=Object(a.a)(["\n  height: 2.7rem !important;\n  width: 2.7rem !important;\n  margin-left: ",";\n"]);return l=function(){return e},e}function d(){var e=Object(a.a)(["\n  .people-list {\n    right: 0;\n  }\n"]);return d=function(){return e},e}var m=i.b.div(d()),u=Object(i.b)(c.a)(l(),(function(e){return e.firstUser?"0":"-0.5rem"})),p=function(e){var n=e.members,t=e.classNames,a=void 0===t?"":t,r=5;Object(s.vb)().width<=575&&(r=1);var i=n?n.slice(0,r):[],l=n?n.slice(r):[];return o.a.createElement(m,{className:"d-flex ".concat(a)},i.map((function(e,n){return o.a.createElement(u,{id:e.id,firstUser:0===n,key:e.id,name:e.name?e.name:e.email,imageLink:e.hasOwnProperty("members")?e.icon_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,hasAccepted:e.has_accepted,type:e.hasOwnProperty("members")?"TEAM":"USER",showSlider:!e.hasOwnProperty("members"),icon:e.icon?e.icon:null,className:e.icon?"chat-members company":"chat-members"})})),l.length>0&&o.a.createElement(c.n,{recipients:l}))}},798:function(e,n,t){"use strict";t.d(n,"k",(function(){return v})),t.d(n,"h",(function(){return I})),t.d(n,"j",(function(){return F})),t.d(n,"o",(function(){return H})),t.d(n,"p",(function(){return B})),t.d(n,"r",(function(){return Y})),t.d(n,"s",(function(){return J})),t.d(n,"g",(function(){return $})),t.d(n,"m",(function(){return te})),t.d(n,"l",(function(){return se})),t.d(n,"n",(function(){return pe})),t.d(n,"i",(function(){return Ee})),t.d(n,"t",(function(){return Oe})),t.d(n,"a",(function(){return Te})),t.d(n,"q",(function(){return ye})),t.d(n,"b",(function(){return Ce})),t.d(n,"f",(function(){return xe})),t.d(n,"c",(function(){return De})),t.d(n,"e",(function(){return He})),t.d(n,"d",(function(){return ze}));var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(12),s=t(70),l=t(11),d=t(6);function m(){var e=Object(a.a)(["\n  width: 15px;\n"]);return m=function(){return e},e}function u(){var e=Object(a.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return u=function(){return e},e}function p(){var e=Object(a.a)([""]);return p=function(){return e},e}function f(){var e=Object(a.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]);return f=function(){return e},e}var b=i.b.div(f()),h=i.b.div(p()),E=i.b.span(u(),(function(e){return e.active&&"\n        background: 0 0;\n        color: ".concat(e.theme.colors.secondary,';\n        &:after {\n          content: "";\n          width: 3px;\n          height: 100%;\n          background-color: ').concat(e.theme.colors.secondary,";\n          display: block;\n          position: absolute;\n          top: 0;\n          animation: fadeIn 0.15s linear;\n          left: 0;\n        }\n        .dark & {\n          color: ").concat(e.theme.colors.third,";\n        }\n    ")})),g=Object(i.b)(c.t)(m()),v=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.actions,i=e.filterFile,m=e.filter,u=void 0===m?"all":m,p=e.dropZoneRef,f=e.storageLimit,v=void 0===f?25:f,O=e.wsFiles,_=e.folders,w=e.activeFolder,T=e.clearFilter,N=e.params,k=e.disableOptions,y=e.workspace,A="external"===Object(d.d)((function(e){return e.session.user})).type,j=Object(l.gb)()._t,C=r.getFileSizeUnit(O.storage),x=0===O.storage?0:O.storage<1e8?1e8:O.storage,S={uploadFiles:j("FILE.UPLOAD_FILES","Upload files"),allFiles:j("FILES.ALL_FILES","All files"),recentlyEdited:j("FILES.RECENTLY_EDITED","Recently edited"),favorite:j("FILE.FAVORITE","Favorite"),removed:j("FILES.REMOVED","Removed"),storageStatus:j("FILES.STORAGE_STATUS","Storage Status"),usedOf:j("FILE.USED_OF","used of"),gigabyte:j("FILE.GIGABYTE","GB"),teamChat:j("FILES_SIDEBAR.TEAM_CHAT","Team chat"),clientChat:j("FILES_SIDEBAR.CLIENT_CHAT","Client chat"),privatePost:j("FILES_SIDEBAR.PRIVATE_POST","Private post"),postWithClient:j("FILES_SIDEBAR.POST_WITH_CLIENT","Post with client")};return o.a.createElement(b,{className:"file-sidebar bottom-modal-mobile ".concat(t)},o.a.createElement(h,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),o.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===a&&o.a.createElement("div",{className:"card-body"},o.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){p.current&&p.current.open()},disabled:k},S.uploadFiles),o.a.createElement("form",{className:"d-none",id:"file-upload"},o.a.createElement("input",{type:"file",multiple:""}))),o.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},o.a.createElement("div",{className:"list-group list-group-flush"},o.a.createElement(E,{onClick:i,"data-filter":"",active:""===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"folder"}),S.allFiles,o.a.createElement("span",{className:"small ml-auto"},O&&O.count>0?O.count:null)),_&&Object.values(_).filter((function(e){return!e.is_archived})).length>0&&!0===a&&o.a.createElement(E,{className:"d-flex align-items-center folder-list"},o.a.createElement("ul",null,Object.values(_).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return o.a.createElement(se,{key:e.id,clearFilter:T,folders:_,params:N,folder:e,activeFolder:w})})))),o.a.createElement(pe,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){r.uploadWorkspaceGoogleDriveFile(N.workspaceId,e)}))},disableOptions:k}),!A&&y&&y.team_channel&&y.team_channel.code&&o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{onClick:i,"data-filter":"team",active:"team"===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"eye-off"}),S.teamChat),o.a.createElement(E,{onClick:i,"data-filter":"client",active:"client"===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"eye"}),S.clientChat),o.a.createElement(E,{onClick:i,"data-filter":"privatePost",active:"privatePost"===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"eye-off"}),S.privatePost),o.a.createElement(E,{onClick:i,"data-filter":"clientPost",active:"clientPost"===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"eye"}),S.postWithClient)),o.a.createElement(E,{onClick:i,"data-filter":"recent",active:"recent"===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"monitor"}),S.recentlyEdited),o.a.createElement(E,{onClick:i,"data-filter":"important",active:"important"===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"star"}),S.favorite,o.a.createElement("span",{className:"small ml-auto"},O&&O.stars>0?O.stars:null)),o.a.createElement(E,{onClick:i,"data-filter":"removed",active:"removed"===u,className:"list-group-item d-flex align-items-center"},o.a.createElement(g,{className:"mr-2",icon:"trash"}),S.removed,o.a.createElement("span",{className:"small ml-auto"},O&&O.trash>0?O.trash:null))),"undefined"!==typeof O&&null!==O&&o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"mb-4"},S.storageStatus),o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("div",{className:"mr-3"},o.a.createElement(c.t,{icon:"database"})),o.a.createElement("div",{className:"flex-grow-1"},o.a.createElement(s.d,{amount:x,limit:1e9*v}),o.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},C.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],C.unit," ",S.usedOf," ",v,S.gigabyte)))))))})),O=t(1),_=t(7),w=t(75),T=t(793);function N(){var e=Object(a.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return N=function(){return e},e}function k(){var e=Object(a.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return k=function(){return e},e}function y(){var e=Object(a.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]);return y=function(){return e},e}function A(){var e=Object(a.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return A=function(){return e},e}var j=i.b.div(A()),C=Object(i.b)(s.c)(y()),x=i.b.div(k()),S=i.b.div(N()),I=o.a.memo((function(e){var n=e.className,a=void 0===n?"":n,i=e.dropZoneRef,s=e.filter,m=e.search,u=e.wsFiles,p=e.isMember,f=e.handleAddEditFolder,b=e.actions,h=e.params,E=e.folders,g=e.folder,v=e.fileIds,N=e.history,k=e.subFolders,y=e.dictionary,A=e.disableOptions,I=Object(l.bb)(),R=document.querySelector(".app-content-body"),P=Object(d.d)((function(e){return e.session.user})),D=Object(r.useState)(!1),L=Object(_.a)(D,2),F=L[0],M=L[1],U=function(){i.current&&i.current.open()},W=function(){M(!1)};return Object(r.useEffect)((function(){F&&M(!1)}),[u]),Object(r.useEffect)((function(){F&&!p&&I.warning("You are not a member of this workspace.")}),[F]),o.a.createElement(j,{className:"files-body card app-content-body ".concat(a),onDragOver:function(){["recent","important","removed"].includes(s)||F||M(!0)}},!A&&o.a.createElement(w.a,{ref:i,hide:!(F&&!0===p),onDragLeave:W,onDrop:function(e){!function(e){M(!1);var n=Math.floor(Date.now()/1e3),a={files:e.map((function(e){return{created_at:{timestamp:n},download_link:null,folder_id:g?g.id:null,id:t(56).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:n},user_id:P.id,view_link:null,uploading:!0}})),folder_id:g?g.id:null,topic_id:parseInt(h.workspaceId),workspace_id:h.hasOwnProperty("folderId")?parseInt(h.fileFolderId):null};b.uploadingFiles(a);var r=new FormData;for(var o in e)e.hasOwnProperty(o)&&(e[o].ref_id=t(56).generate(),r.append("files["+o+"]",e[o]));var i={is_primary:0,topic_id:h.workspaceId,files:r};h.fileFolderId&&(i=Object(O.a)(Object(O.a)({},i),{},{folder_id:h.fileFolderId})),b.uploadFiles(i)}(e.acceptedFiles)},onCancel:W,params:h}),o.a.createElement("div",{className:"card-body app-lists"},g&&p&&"removed"!==s&&!A&&o.a.createElement(C,{moreButton:"settings"},o.a.createElement("div",{onClick:function(){f(g,"update")}},y.editFolder),o.a.createElement("div",{onClick:function(){if(g){b.removeFolder(g,h.workspaceId,(function(e,n){if(!e&&n){var t=N.location.pathname.split("/folder/")[0];N.push(t)}}))}}},y.removeFolder)),"removed"===s&&u&&u.hasOwnProperty("trash_files")&&(Object.keys(u.trash_files).length>0||Object.values(E).filter((function(e){return e.is_archived})).length>0)&&o.a.createElement(c.t,{icon:"trash",onClick:b.removeTrashFiles}),""===s&&o.a.createElement(o.a.Fragment,null,"undefined"===typeof h.fileFolderId&&o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},y.allFiles),g&&g.search&&o.a.createElement(Ee,{folder:g,history:N,dictionary:y,folders:E,workspaceID:h.workspaceId}),o.a.createElement("div",{className:"row"},h.hasOwnProperty("fileFolderId")?k.filter((function(e){return!e.is_archived})).map((function(e){return o.a.createElement(T.b,{key:e.id,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:N,isMember:p,params:h,handleAddEditFolder:f})})):Object.values(E).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return o.a.createElement(T.b,{key:e.id,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:N,isMember:p,params:h,handleAddEditFolder:f})}))),"undefined"!==typeof h.fileFolderId?o.a.createElement(o.a.Fragment,null,g?o.a.createElement(o.a.Fragment,null,o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},g.search),o.a.createElement("div",{className:"row"},u&&v.map((function(e){return u.files.hasOwnProperty(e)?o.a.createElement(T.a,{key:e,isMember:p,scrollRef:R,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:u.files[e],folders:E,disableOptions:A}):null}))),u&&0===v.length&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}),p&&o.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:U,disabled:A},y.uploadFiles))):o.a.createElement(o.a.Fragment,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement(xe,{disableOptions:A,params:h}),v.map((function(e){return u.files.hasOwnProperty(e)?o.a.createElement(T.a,{key:e,isMember:p,scrollRef:R,actions:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:u.files[e],folders:E,disableOptions:A}):null}))),u.popular_files.length>0&&o.a.createElement(B,{search:m,scrollRef:R,wsFiles:u,actions:b,folders:E,disableOptions:A}),u.recently_edited.length>0&&o.a.createElement(Y,{search:m,scrollRef:R,wsFiles:u,actions:b,folders:E,disableOptions:A})),0===v.length&&0===u.popular_files.length&&0===u.recently_edited.length&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}),p&&o.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:U,disabled:A},y.uploadFiles))),"team"===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe,{search:m,scrollRef:R,wsFiles:u,actions:b,folders:E,disableOptions:A}),!(u&&u.team_chat.length>0)&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}))),"client"===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Te,{search:m,scrollRef:R,wsFiles:u,actions:b,folders:E,disableOptions:A}),!(u&&u.client_chat.length>0)&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}))),"privatePost"===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ye,{search:m,scrollRef:R,wsFiles:u,actions:b,folders:E,disableOptions:A}),!(u&&u.private_post.length>0)&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}))),"clientPost"===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ce,{search:m,scrollRef:R,wsFiles:u,actions:b,folders:E,disableOptions:A}),!(u&&u.client_post.length>0)&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}))),"recent"===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,{search:m,scrollRef:R,wsFiles:u,actions:b,folders:E,disableOptions:A}),!(u&&u.recently_edited.length>0)&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}))),"important"===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(H,{search:m,scrollRef:R,wsFiles:u,folders:E,actions:b}),!(u&&u.hasOwnProperty("favorite_files")&&u.favorite_files.length>0)&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282}),o.a.createElement(S,null,o.a.createElement("p",null,"No favorite files."),o.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(J,{scrollRef:R,search:m,wsFiles:u,actions:b,isMember:p,params:h,folders:E,subFolders:k,handleAddEditFolder:f,folder:g,disableOptions:A}),!(u&&u.hasOwnProperty("trash_files")&&Object.keys(u.trash_files).length>0)&&!(Object.values(E).some((function(e){return e.is_archived}))||k.some((function(e){return e.is_archived})))&&o.a.createElement(x,null,o.a.createElement(c.r,{icon:4,height:282})))))})),R=t(14),P=t(13);function D(){var e=Object(a.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return D=function(){return e},e}var L=i.b.div(D()),F=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isMember,r=e.dropZoneRef,i=e.onSearchChange,s=e.onSearch,l=e.onEnter,m=e.wsFiles,u=e.handleAddEditFolder,p=e.folders,f=e.history,b=e.params,h=e.clearFilter,E=e.dictionary,g=e.disableOptions,v=e.onClickEmpty,O=e.value,_=Object(d.c)(),w=Object(d.d)((function(e){return e.workspaces.selectedWorkspaceId})),T=function(e){if(h(),m.folders.hasOwnProperty(e.target.dataset.value)){var n=m.folders[e.target.dataset.value];n.hasOwnProperty("payload")?window.open(n.payload.url,"_blank"):b.hasOwnProperty("fileFolderId")?f.push(f.location.pathname.split("/folder/")[0]+"/folder/".concat(n.id,"/").concat(Object(R.h)(n.search))):f.push(f.location.pathname+"/folder/".concat(n.id,"/").concat(Object(R.h)(n.search)))}},N={label:o.a.createElement(o.a.Fragment,null,o.a.createElement(c.t,{className:"mr-1",icon:"plus"})," ",E.add),items:[{value:"folder",label:E.folder,onClick:function(){return u(null,"create")}},{value:"file",label:E.file,onClick:function(){r.current&&r.current.open()}}]},k={label:E.folders,items:m&&Object.values(p).length?Object.values(p).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:T}})):[]};return o.a.createElement(L,{className:"files-header app-action ".concat(t)},o.a.createElement("div",{className:"action-left"},o.a.createElement("ul",{className:"list-inline"},!0===a&&!g&&o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement(c.e,{dropdown:N})),!0===a&&Object.values(p).filter((function(e){return!e.is_archived})).length>=1&&o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement(c.e,{dropdown:k})),!0===a&&o.a.createElement("li",{className:"list-inline-item mb-0"},o.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){var e={type:"external_file_folder",mode:"create",topic_id:w};_(Object(P.a)(e))}},E.driveLink))),o.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},o.a.createElement(c.t,{icon:"menu"}))),o.a.createElement("div",{className:"action-right"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",onChange:i,onKeyDown:l,value:O,className:"form-control",placeholder:E.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==O.trim()&&o.a.createElement("button",{onClick:v,className:"btn-cross",type:"button"},o.a.createElement(c.t,{icon:"x"})),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:s},o.a.createElement(c.t,{icon:"search"}))))))}));function M(){var e=Object(a.a)([""]);return M=function(){return e},e}var U=i.b.div(M()),H=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions;return o.a.createElement(U,{className:"important-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),o.a.createElement("div",{className:"row"},r&&r.favorite_files.length>0&&r.favorite_files.map((function(e){return o.a.createElement(T.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:a,file:r.files[e],actions:i})}))))}));function W(){var e=Object(a.a)([""]);return W=function(){return e},e}var z=i.b.div(W()),B=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return o.a.createElement(z,{className:"popular-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),o.a.createElement("div",{className:"row"},r&&r.popular_files.length>0&&r.popular_files.map((function(e){return o.a.createElement(T.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c})}))))}));function G(){var e=Object(a.a)([""]);return G=function(){return e},e}var V=i.b.div(G()),Y=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return o.a.createElement(V,{className:"recent-edited-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),o.a.createElement("div",{className:"row"},r&&r.recently_edited.length>0&&r.recently_edited.map((function(e){return r.files.hasOwnProperty(e)?o.a.createElement(T.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))})),K=t(44);function q(){var e=Object(a.a)([""]);return q=function(){return e},e}var Z=i.b.div(q()),J=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.wsFiles,i=e.isMember,c=e.folders,s=e.subFolders,l=e.folder,d=e.params,m=e.handleAddEditFolder,u=e.disableOptions,p=Object(K.g)();return o.a.createElement(Z,{className:"remove-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),l&&o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},l.search),o.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?s.filter((function(e){return e.is_archived})).map((function(e){return o.a.createElement(T.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:i,params:d,handleAddEditFolder:m,disableOptions:u})})):Object.values(c).filter((function(e){return e.is_archived})).map((function(e){return o.a.createElement(T.b,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:i,params:d,handleAddEditFolder:m,disableOptions:u})}))),o.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})).map((function(e){return o.a.createElement(T.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:c,disableOptions:u})})):r&&Object.values(r.trash_files).length>0&&Object.values(r.trash_files).map((function(e){return"undefined"!==typeof e?o.a.createElement(T.a,{key:e.id,isMember:i,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:a,folders:c,disableOptions:u}):null}))))}));function X(){var e=Object(a.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return X=function(){return e},e}var Q=Object(i.b)(s.c)(X()),$=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,i=e.scrollRef,c=void 0===i?null:i,s=e.actions,d=e.isMember,m=e.forceDelete,u=e.disableOptions,p=Object(l.bb)(),f=Object(l.gb)()._t,b={rename:f("FILES.RENAME","Rename"),restore:f("FILES.RESTORE","Restore"),remove:f("FILES.REMOVE","Remove"),viewDetails:f("FILES.VIEW_DETAILS","View details"),share:f("FILES.SHARE","Share"),download:f("FILES.DOWNLOAD","Download"),moveTo:f("FILES.MOVE_TO","Move to"),favorite:f("FILES.FAVORITE","Favorite"),unfavorite:f("FILES.UNFAVORITE","Unfavorite"),notMemberOfWs:f("TOASTER.NOT_MEMBER_OF_WS","You are not a member of this workspace.")};return o.a.createElement(Q,{className:"file-options ".concat(t),moreButton:"more-horizontal",file:r,scrollRef:c},o.a.createElement("div",{onClick:function(){s.viewFiles(r)}},b.viewDetails),o.a.createElement("div",{onClick:function(){s.favorite(r)}},r.is_favorite?b.unfavorite:b.favorite),o.a.createElement("div",{onClick:function(){s.copyLink(r.view_link)}},b.share),o.a.createElement("div",{onClick:function(){s.download(r)}},b.download),o.a.createElement("div",{onClick:function(){d?s.moveFile(r):p.warning(o.a.createElement(o.a.Fragment,null,"You are ",o.a.createElement("b",null,"not")," a member of this workspace."))}},b.moveTo),o.a.createElement("div",{onClick:function(){d?s.renameFile(r):p.warning("".concat(b.notMemberOfWs))}},b.rename),m&&o.a.createElement("div",{onClick:function(){s.restoreWorkspaceFile(r,(function(e,n){n&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?p.success(o.a.createElement(o.a.Fragment,null,"Item ",o.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):p.success(o.a.createElement(o.a.Fragment,null,"Item ",o.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},b.restore),!u&&o.a.createElement("div",{onClick:function(){d?r.hasOwnProperty("payload_id")?s.unlinkGoogleAttachment(r):s.removeFile(r,m):p.warning("".concat(b.notMemberOfWs))}},b.remove))}));function ee(){var e=Object(a.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return ee=function(){return e},e}var ne=Object(i.b)(s.c)(ee()),te=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.scrollRef,i=void 0===r?null:r,c=e.actions,s=e.isMember,d=e.history,m=e.params,u=e.handleAddEditFolder,p=Object(l.bb)(),f=Object(l.gb)()._t,b={rename:f("FILES.RENAME","Rename"),restore:f("FILES.RESTORE","Restore"),remove:f("FILES.REMOVE","Remove")};return o.a.createElement(ne,{className:"file-options ".concat(t),moreButton:"more-horizontal",folder:a,scrollRef:i},!a.hasOwnProperty("payload")&&o.a.createElement("div",{onClick:function(){s?u(a,"edit"):p.warning("You are not a member of this workspace.")}},b.rename),a.is_archived&&o.a.createElement("div",{onClick:function(){c.restoreWorkspaceFolder(a,(function(e,n){n&&(a.parent_folder?p.success(o.a.createElement(o.a.Fragment,null,"Folder ",o.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):p.success(o.a.createElement(o.a.Fragment,null,"Folder ",o.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},b.restore),o.a.createElement("div",{onClick:function(){if(s)if(a.hasOwnProperty("payload"))c.unlinkGoogleFolder(a);else{c.removeFolder(a,m.workspaceId,(function(e,n){if(!e&&n){var t=d.location.pathname.split("/folder/")[0];d.push(t)}}))}else p.warning("You are not a member of this workspace.")}},b.remove))})),ae=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.folders,i=e.activeFolder,c=e.clearFilter,s=e.params;return o.a.createElement(se,{className:t,clearFilter:c,folders:r,params:s,folder:a,activeFolder:i})};function re(){var e=Object(a.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return re=function(){return e},e}function oe(){var e=Object(a.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: ",";\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return oe=function(){return e},e}var ie=i.b.li(oe(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"".concat(e.theme.colors.primary," !important"):"#64625C"}),(function(e){return e.theme.colors.primary})),ce=i.b.ul(re(),(function(e){return e.maxHeight})),se=function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,i=e.folders,s=e.activeFolder,l=e.clearFilter,d=Object(K.g)(),m=Object(K.j)(),u=m.params,p=m.path,f=m.url,b={container:Object(r.useRef)(null),arrow:Object(r.useRef)(null),nav:Object(r.useRef)(null)},h=Object(r.useState)(!1),E=Object(_.a)(h,2),g=E[0],v=E[1],O=Object(r.useState)(null),w=Object(_.a)(O,2),T=w[0],N=w[1];return Object(r.useEffect)((function(){null!==b.nav.current&&N(b.nav.current.scrollHeight)}),[b.nav.current,T]),Object(r.useEffect)((function(){s&&s.parent_folder&&s.parent_folder.id===a.id&&v(!0)}),[u,s]),o.a.createElement(ie,{ref:b.container,className:"folder-list fadeIn ".concat(t),selected:!!s&&s.id==a.id},o.a.createElement("a",{onClick:function(){if(a.hasOwnProperty("payload"))window.open(a.payload.url,"_blank");else{if(l(),"/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p){var e=f.split("/folder/")[0];d.push(e+"/folder/".concat(a.id,"/").concat(Object(R.h)(a.search)))}else d.push(d.location.pathname+"/folder/".concat(a.id,"/").concat(Object(R.h)(a.search)));v((function(e){return!e}))}}},a.search,a.hasOwnProperty("payload")&&o.a.createElement(c.t,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&o.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(g?"ti-minus rotate-in":"ti-plus")})),Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).length>0&&o.a.createElement(ce,{ref:b.nav,maxHeight:T,className:g?"enter-active":"leave-active"},g&&Object.values(i).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===a.id})).map((function(e){return o.a.createElement(ae,{key:e.id,clearFilter:l,params:u,folderHeight:T,activeFolder:s,folders:i,folder:e})}))))},le=t(858),de=t.n(le);function me(){var e=Object(a.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"]);return me=function(){return e},e}var ue=i.b.div(me(),(function(e){return e.disabled?".5":"1"})),pe=function(e){var n=e.className,t=void 0===n?"":n,a=e.onChange,i=e.disableOptions,s=Object(l.gb)()._t,d=Object(r.useState)(!1),m=Object(_.a)(d,2),u=m[0],p=m[1],f=function(e){null===localStorage.getItem("gdrivePicker")&&localStorage.setItem("gdrivePicker",e)},b={linkGoogleDrive:s("FILE.LINK_GOOGLE_DRIVE","Link your Google Drive first"),gDriveAttachFile:s("FILE.ATTACH_GOOGLE_DRIVE_FILE","Attach a file"),gDriveAttachFolder:s("FILE.ATTACH_GOOGLE_DRIVE_FOLDER","Attach a folder")};return o.a.createElement(ue,{className:"google-drive dropdown ".concat(t),onClick:function(){i||p(!u)},disabled:i},o.a.createElement(c.t,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"})," Google Drive",o.a.createElement("div",{className:"dropdown-menu ".concat(u?"show":"")},null===localStorage.getItem("gdrivePicker")?o.a.createElement(de.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return f(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,viewId:"DOCS"},o.a.createElement("div",{className:"link-div"},b.linkGoogleDrive)):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return a(e)},onAuthenticate:function(e){return f(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"DOCS"},o.a.createElement("div",{className:"dropdown-item"},b.gDriveAttachFile)),o.a.createElement(de.a,{clientId:"952653985523-0jc6q38tqpkvklhh87j1tauvdb3eo1sd.apps.googleusercontent.com",developerKey:"AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onAuthenticate:function(e){return f(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"FOLDERS",createPicker:function(e,n){var t=e.picker.ViewId.FOLDERS,r=new e.picker.DocsView(t).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0);(new window.google.picker.PickerBuilder).addView(r).setOAuthToken(n).setDeveloperKey("AIzaSyCvnzC_Z4AQLTjalzkPvyFqtqxgTkjSPyQ").setCallback((function(e){a(e)})).build().setVisible(!0)}},o.a.createElement("div",{className:"dropdown-item"},b.gDriveAttachFolder)))))},fe=t(260);function be(){var e=Object(a.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return be=function(){return e},e}var he=i.b.div(be()),Ee=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,i=e.history,s=e.dictionary,l=e.folders,d=e.workspaceID,m=Object(K.j)().url,u=Object(r.useState)(!1),p=Object(_.a)(u,2),f=p[0],b=p[1];return Object(r.useEffect)((function(){a.parent_folder&&Object.values(l).forEach((function(e){e.id===a.parent_folder.id&&(e.parent_folder?b(!0):b(!1))})),a.parent_folder||b(!1)}),[a]),o.a.createElement(he,{className:"files-breadcrumb d-flex ".concat(t)},o.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},o.a.createElement("li",{onClick:function(){var e=i.location.pathname.split("/folder/")[0];i.push(e)}},s.allFiles),o.a.createElement(c.t,{width:12,icon:"chevron-right"}),f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,o.a.createElement(fe.a,{parentFolder:a.parent_folder,workspaceID:d,history:i})),o.a.createElement(c.t,{width:12,icon:"chevron-right"})),a.parent_folder&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{onClick:function(){return function(e){var n=m.split("/folder/")[0];i.push(n+"/folder/".concat(e.id,"/").concat(Object(R.h)(e.name)))}(a.parent_folder)}},a.parent_folder.name),o.a.createElement(c.t,{width:12,icon:"chevron-right"})),o.a.createElement("div",null,a.search)))}));function ge(){var e=Object(a.a)([""]);return ge=function(){return e},e}var ve=i.b.div(ge()),Oe=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return o.a.createElement(ve,{className:"recent-edited-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Team chat"),o.a.createElement("div",{className:"row"},r&&r.team_chat.length>0&&r.team_chat.map((function(e){return r.files.hasOwnProperty(e)?o.a.createElement(T.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))}));function _e(){var e=Object(a.a)([""]);return _e=function(){return e},e}var we=i.b.div(_e()),Te=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return o.a.createElement(we,{className:"recent-edited-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Client chat"),o.a.createElement("div",{className:"row"},r&&r.client_chat.length>0&&r.client_chat.map((function(e){return r.files.hasOwnProperty(e)?o.a.createElement(T.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))}));function Ne(){var e=Object(a.a)([""]);return Ne=function(){return e},e}var ke=i.b.div(Ne()),ye=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return o.a.createElement(ke,{className:"recent-edited-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Private post"),o.a.createElement("div",{className:"row"},r&&r.private_post.length>0&&r.private_post.map((function(e){return r.files.hasOwnProperty(e)?o.a.createElement(T.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))}));function Ae(){var e=Object(a.a)([""]);return Ae=function(){return e},e}var je=i.b.div(Ae()),Ce=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.wsFiles,i=e.actions,c=e.disableOptions;return o.a.createElement(je,{className:"recent-edited-files ".concat(t)},o.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Post with client"),o.a.createElement("div",{className:"row"},r&&r.client_post.length>0&&r.client_post.map((function(e){return r.files.hasOwnProperty(e)?o.a.createElement(T.a,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:r.files[e],actions:i,folders:a,disableOptions:c}):null}))))})),xe=function(e){var n=e.disableOptions,t=e.params,a=void 0===t?null:t,r=Object(d.d)((function(e){return a&&a.workspaceId&&e.files.workspaceFiles[a.workspaceId]?e.files.workspaceFiles[a.workspaceId].driveLinks:e.files.companyFiles.driveLinks}));return r?Object.values(r).map((function(e){return o.a.createElement(De,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",link:e,disableOptions:n})})):null};function Se(){var e=Object(a.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return Se=function(){return e},e}function Ie(){var e=Object(a.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n    .small {\n      min-height: 49px;\n    }\n    .feather-link {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]);return Ie=function(){return e},e}var Re=i.b.div(Ie()),Pe=Object(i.b)(c.t)(Se()),De=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.link,r=e.isFavorite,i=function(){window.open(a.link,"_blank")};return o.a.createElement(Re,{className:"file-list-item ".concat(t)},o.a.createElement("div",{className:"card  app-file-list"},o.a.createElement("div",{className:"app-file-icon uploaded cursor-pointer",onClick:i},!0===r&&o.a.createElement(Pe,{icon:"star"}),o.a.createElement(He,{link:a}),o.a.createElement(ze,{type:a.type})),o.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:i},o.a.createElement(c.u,{content:a.name},o.a.createElement("div",{className:"file-name"},o.a.createElement(c.t,{className:"mr-2",icon:"link"}),a.name)))))})),Le=t(20),Fe=t(21);function Me(){var e=Object(a.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return Me=function(){return e},e}var Ue=Object(i.b)(s.c)(Me()),He=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.link,r=e.scrollRef,i=void 0===r?null:r,c=Object(d.c)(),s=Object(K.i)(),m=Object(l.bb)(),u=Object(l.gb)()._t,p={rename:u("FILES.RENAME","Rename"),remove:u("FILES.REMOVE","Remove"),viewDetails:u("FILES.VIEW_DETAILS","View details"),share:u("FILES.SHARE","Share"),favorite:u("FILES.FAVORITE","Favorite"),unfavorite:u("FILES.UNFAVORITE","Unfavorite"),modalHeader:u("MODAL.DRIVE_LINK_REMOVE","Remove link"),cancel:u("BUTTON.CANCEL","Cancel"),removeLink:u("BUTTON.REMOVE_LINK","Remove link"),modalBody:u("MODAL.BODY_REMOVE_LINK","Are you sure you want to remove this drive link?"),removedLink:u("TOASTER.REMOVED_DRIVE_LINK","::linkName:: removed from drive",{linkName:a.name})};return o.a.createElement(Ue,{className:"file-options ".concat(t),moreButton:"more-horizontal",scrollRef:i},o.a.createElement("div",{onClick:function(){window.open(a.link,"_blank")}},p.viewDetails),o.a.createElement("div",{onClick:function(){Object(Le.b)(m,a)}},p.share),o.a.createElement("div",{onClick:function(){var e={type:"external_file_folder",mode:"update",topic_id:s.workspaceId?Number(s.workspaceId):null,params:s,link:a};c(Object(P.a)(e))}},p.rename),o.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:p.modalHeader,submitText:p.removeLink,cancelText:p.cancel,bodyText:p.modalBody,actions:{onSubmit:function(){c(Object(Fe.j)({id:a.id},(function(e,n){e||m.info(p.removedLink)})))}}};c(Object(P.a)(e))}},p.remove))})),We=t(85),ze=function(e){var n=e.type;return n.includes("document")?o.a.createElement(We.c,{icon:"gdoc",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("form")?o.a.createElement(We.c,{icon:"gforms",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("google_folder")?o.a.createElement(We.c,{icon:"google-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("spreadsheet")?o.a.createElement(We.c,{icon:"gsheet",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("word")?o.a.createElement(We.c,{icon:"office-word",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("excel")?o.a.createElement(We.c,{icon:"office-excel",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("ppt")?o.a.createElement(We.c,{icon:"office-ppt",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("office_folder")?o.a.createElement(We.c,{icon:"office-one-drive",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):n.includes("dropbox")?o.a.createElement(We.c,{icon:"dropbox",viewBox:"0 0 48 48",stroke:"none",height:48,width:48}):(n.includes("file"),o.a.createElement("i",{className:"fa fa-file-o text-info"}))}},800:function(e,n,t){"use strict";var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(12),s=t(44);function l(){var e=Object(a.a)(["\n  cursor: pointer;\n  svg {\n    color: #8b8b8b;\n    width: 20px;\n    height: 20px;\n    :hover {\n      color: ",";\n    }\n  }\n"]);return l=function(){return e},e}var d=i.b.span(l(),(function(e){return e.theme.colors.primary}));n.a=function(e){var n=Object(s.g)();return o.a.createElement(d,{className:"mr-1"},o.a.createElement(c.t,{icon:"chevron-left",onClick:function(){n.goBack()}}))}},804:function(e,n,t){"use strict";t.d(n,"b",(function(){return y})),t.d(n,"c",(function(){return te})),t.d(n,"d",(function(){return le})),t.d(n,"f",(function(){return je})),t.d(n,"e",(function(){return ze})),t.d(n,"a",(function(){return qe}));var a=t(9),r=t(5),o=t(0),i=t.n(o),c=t(6),s=t(44),l=t(4),d=t(13),m=t(12),u=t(11),p=t(805);function f(){var e=Object(r.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return f=function(){return e},e}function b(){var e=Object(r.a)(["\n  position: relative;\n  //padding-bottom: 0 !important;\n  // overflow: hidden;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: ",";\n    }\n  }\n"]);return b=function(){return e},e}var h=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,811))})),E=(Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,828))})),Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,812))}))),g=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,813))})),v=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,814))})),O=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,816))})),_=Object(o.lazy)((function(){return Promise.resolve().then(t.bind(null,815))})),w=Object(o.lazy)((function(){return Promise.all([t.e(9),t.e(26)]).then(t.bind(null,891))})),T=Object(o.lazy)((function(){return t.e(25).then(t.bind(null,894))})),N=l.b.div(b(),(function(e){return e.theme.colors.primary})),k=l.b.div(f()),y=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.isExternal,l=Object(u.gb)()._t,f={createWorkspace:l("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:l("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},b=Object(c.c)();Object(u.U)();var y=Object(u.lb)().loggedUser,A=Object(u.xb)(),j=Object(c.d)((function(e){return e.workspaces})),C=j.workspaces,x=j.workspacesLoaded,S=j.favoriteWorkspacesLoaded,I=j.activeTopic,R=j.workspaceTimeline,P=null;Object.keys(R).length&&I&&R[I.id]&&(P=R[I.id]);var D=I?I.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],L=Object(u.C)(I&&I.member_ids.length?Object(a.a)(new Set(D)):[]);return i.a.createElement(N,{className:"main-content ".concat(t)},x||S?i.a.createElement(i.a.Fragment,null,Object.keys(C).length>=1?i.a.createElement(i.a.Fragment,null,i.a.createElement(o.Suspense,{fallback:i.a.createElement("div",null)},i.a.createElement(s.d,null,i.a.createElement(s.b,{render:function(e){return i.a.createElement(T,Object.assign({isExternal:r},e))},path:["/workspace/search"]}),i.a.createElement(s.b,{render:function(){return i.a.createElement(p.a,Object.assign({},e,{workspace:I,isMember:L,actions:A,workspaceTimeline:P}))},path:["/workspace/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/dashboard/:workspaceId/:workspaceName","/workspace/dashboard"]}),i.a.createElement(s.b,{exact:!0,render:function(){return i.a.createElement(v,Object.assign({},e,{workspace:I,isMember:L}))},path:["/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/posts/:workspaceId/:workspaceName","/workspace/posts"]}),i.a.createElement(s.b,{exact:!0,render:function(){return i.a.createElement(h,Object.assign({},e,{workspace:I}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/chat"]}),!r&&i.a.createElement(s.b,{exact:!0,render:function(){return i.a.createElement(h,Object.assign({},e,{workspace:I}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/team-chat/:workspaceId/:workspaceName","/workspace/chat"]}),i.a.createElement(s.b,Object.assign({exact:!0},e,{render:function(e){return i.a.createElement(E,Object.assign({},e,{workspace:I,isMember:L}))},path:["/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/files/:workspaceId/:workspaceName","/workspace/files"]})),i.a.createElement(s.b,{render:function(){return i.a.createElement(g,Object.assign({},e,{workspace:I,isMember:L}))},path:["/workspace/people/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/people/:workspaceId/:workspaceName","/workspace/people"]}),i.a.createElement(s.b,{render:function(){return i.a.createElement(O,Object.assign({},e,{workspace:I,isMember:L}))},path:["/workspace/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/reminders/:workspaceId/:workspaceName","/workspace/reminders"]}),i.a.createElement(s.b,{exact:!0,render:function(){return i.a.createElement(w,Object.assign({},e,{workspace:I,isMember:L}))},path:["/workspace/wip/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/wip/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/wip/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/wip/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/wip/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/wip/:workspaceId/:workspaceName","/workspace/wip"]}),i.a.createElement(s.b,Object.assign({},e,{component:_,path:["/workspace/settings/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/settings/:workspaceId/:workspaceName","/workspace/settings"]})),i.a.createElement(s.a,{from:"*",to:{pathname:"/workspace/chat",state:{from:e.location}}})))):i.a.createElement(k,null,i.a.createElement("div",null,i.a.createElement(m.r,{height:275,icon:1}),"external"!==y.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h5",null,f.sidebarTextCreateWorkspace),i.a.createElement("button",{className:"btn btn-primary",onClick:function(){b(Object(d.a)({type:"workspace_create_edit",mode:"add"}))}},f.createWorkspace))))):i.a.createElement("div",{className:"spinner-container"},i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))})),A=(t(811),t(828),t(812),t(7)),j=t(70),C=t(830),x=t(23),S=t(796),I=t(800),R=t(52),P=t.n(R);function D(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return D=function(){return e},e}function L(){var e=Object(r.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  color: #64625c;\n  ","\n"]);return L=function(){return e},e}function F(){var e=Object(r.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  &.feather-bell,\n  &.feather-bell-off {\n    color: #64625c;\n  }\n"]);return F=function(){return e},e}function M(){var e=Object(r.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return M=function(){return e},e}function U(){var e=Object(r.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .avatar {\n    height: 2rem;\n    width: 2rem;\n    margin-right: 0.25rem;\n  }\n  svg {\n    color: #64625c;\n  }\n  .feather-lock {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return U=function(){return e},e}function H(){var e=Object(r.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]);return H=function(){return e},e}function W(){var e=Object(r.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return W=function(){return e},e}function z(){var e=Object(r.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return z=function(){return e},e}function B(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      max-width: 80px;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    .badge {\n      display: flex;\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-eye {\n      color: inherit;\n      margin-left: 0;\n      margin-right: 0.4rem;\n      width: 11px !important;\n      height: 11px !important;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n    svg.feather-compass {\n      color: rgb(80, 80, 80);\n\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]);return B=function(){return e},e}function G(){var e=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .nav-item {\n    display: flex;\n    .mobile-private {\n      display: none;\n    }\n    @media all and (max-width: 440px) {\n      .badge.badge-danger {\n        display: none !important;\n      }\n      .mobile-private {\n        display: block;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 991.99px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n          overflow: auto;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: "," !important;\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 165px;\n    top: 0;\n  }\n  .profile-slider svg {\n    margin: 0;\n    color: inherit;\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n"]);return G=function(){return e},e}var V=l.b.div(G(),(function(e){return e.theme.colors.primary})),Y=l.b.ul(B()),K=l.b.h2(z()),q=l.b.h2(W()),Z=l.b.span(H()),J=l.b.h3(U()),X=l.b.h3(M()),Q=Object(l.b)(m.t)(F()),$=Object(l.b)(m.t)(L(),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),ee=Object(l.b)(P.a)(D()),ne=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},te=function(e){var n=e.isExternal,t=Object(u.bb)(),r=Object(c.c)(),p=Object(s.j)(),f=Object(l.c)(),b=Object(c.d)((function(e){return e.workspaces.folders})),h=Object(c.d)((function(e){return e.workspaces.activeTopic})),E=Object(c.d)((function(e){return e.workspaces.workspacesLoaded})),g=Object(c.d)((function(e){return e.settings})),v=g.driff,O=g.user.GENERAL_SETTINGS.dark_mode,_=Object(c.d)((function(e){return e.session.user})),w=Object(o.useState)(!1),T=Object(A.a)(w,2),N=T[0],k=T[1],y=Object(u.gb)()._t,R={allWorkspaces:y("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),pageTitleWorkspaceReminders:y("PAGE_TITLE.WORKSPACE_REMINDERS","Reminders"),pageTitleWorkspaceDashboard:y("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:y("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:y("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:y("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:y("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:y("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:y("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:y("PAGE_TITLE.WORKSPACE_SEARCH","Search workspace"),pageTitleSettings:y("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:y("PAGE_TITLE.TODOS","Reminders"),pageTitleWIP:y("PAGE_TITLE.WORKSPACE_WIP","W.I.P."),generalSearch:y("GENERAL.SEARCH","Search"),generalNotifications:y("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:y("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===O?y("SETTINGS.DARK_MODE","dark mode"):y("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:y("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:y("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:y("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:y("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:y("WORKSPACE.STATUS_ARCHIVED","Archived"),statusNoWorkspaceExternal:y("WORKSPACE.EXTERNAL_NO_WORKSPACES","You currently don't have any workspaces."),joinWorkspace:y("TOASTER.JOIN_WORKSPACE_SUCCESS","You have joined #"),withClient:y("PAGE.WITH_CLIENT","With client"),somethingWentWrong:y("TOASTER.SOMETHING_WENT_WRONG","Something went wrong!"),workspaces:y("WORKSPACES","Workspces"),buttonLeave:y("BUTTON.LEAVE","Leave"),leaveWorkspace:y("TOASTER.LEAVE_WORKSPACE","You have left #"),leaveWorkspaceHeader:y("CONFIRMATION.LEAVE_WORKSPACE_HEADER","Leave workspace"),leaveWorkspaceBody:y("CONFIRMATION.LEAVE_WORKSPACE_BODY","Are you sure that you want to leave this workspace?"),cancel:y("BUTTON.CANCEL","Cancel"),toasterBellNotificationOff:y("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:y("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON"),notificationsOn:y("TOOLTIP.NOTIFICATIONS_ON","Notifications on"),notificationsOff:y("TOOLTIP.NOTIFICATIONS_OFF","Notifications off"),favoriteWorkspace:y("TOOLTIP.FAVORITE_WORKSPACE","Favorite workspace")},P=Object(u.xb)(),D=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};Object(o.useEffect)((function(){var e="";switch(p.params.page){case"posts":e=R.pageTitleWorkspacePosts;break;case"chat":e=R.pageTitleWorkspaceChat;break;case"files":e=R.pageTitleWorkspaceFiles;break;case"people":e=R.pageTitleWorkspacePeople;break;case"settings":e=R.pageTitleSettings;break;case"reminders":e=R.pageTitleWorkspaceReminders;break;case"wip":e=R.pageTitleWIP;break;default:e=R.pageTitleWorkspaceDashboard}h&&(h.unread_chats>=1||h.unread_posts>0?document.title="".concat(e," \u2039 * ").concat(h.name," \u2014 ").concat(v.company_name," @ Driff"):document.title="".concat(e," \u2039 ").concat(h.name," \u2014 ").concat(v.company_name," @ Driff"))}),[p.params.page,r,h,v.company_name]);var L=function(){var e={id:h.id,workspace_id:h.folder_id?h.folder_id:0,is_pinned:h.is_favourite?0:1};r(Object(x.g)(e,(function(n,a){n?t.error(R.somethingWentWrong):e.is_pinned?t.success(y("TOASTER.ADDED_TO_FAVORITES","::title:: added to favorites",{title:h.name})):t.success(y("TOASTER.REMOVED_FROM_FAVORITES","::title:: removed from favorites",{title:h.name}))})))},F=h?h.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[],M=Object(u.C)(h&&h.member_ids.length?Object(a.a)(new Set(F)):[]),U=function(){if(!N){var e={id:h.id,is_active:!h.is_active};k(!0),P.toggleWorkspaceNotification(e,(function(n,a){k(!1),n||(e.is_active?t.success(R.toasterBellNotificationOn):t.success(R.toasterBellNotificationOff))}))}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{className:"navbar-left"},i.a.createElement(Y,{className:"navbar-nav"},"search"===p.params.page?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},i.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:D},i.a.createElement(m.t,{icon:"menu"}))),i.a.createElement(I.a,null),i.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},i.a.createElement(m.t,{className:"mr-2",icon:"compass"}),i.a.createElement(q,null,R.allWorkspaces))):h?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"navbar-wrap"},i.a.createElement("div",{className:"navbar-top"},i.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},i.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:D},i.a.createElement(m.t,{icon:"menu"}))),i.a.createElement(I.a,null),null===h.folder_id?i.a.createElement(i.a.Fragment,null,!n&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"nav-item nav-item-folder"},i.a.createElement(K,null,R.workspaces)),i.a.createElement("li",{className:"nav-item-chevron"},i.a.createElement(m.t,{icon:"chevron-right"}))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(J,{className:"current-title"},i.a.createElement(m.a,{forceThumbnail:!1,type:h.type,imageLink:h.team_channel.icon_link,id:"ws_".concat(h.id),name:h.name,noDefaultClick:!1}),i.a.createElement(Z,null,h.name))),1===h.is_lock&&i.a.createElement("li",{className:"nav-item"},i.a.createElement(Q,{icon:"lock",className:"mobile-private ml-1"}),i.a.createElement("div",{className:"badge badge-danger text-white ml-1"},R.statusWorkspacePrivate)),0===h.active&&i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:"badge badge-light text-white ml-1"},R.statusWorkspaceArchived)),h.is_shared&&!n&&i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:f.colors.fourth}},i.a.createElement(Q,{icon:"eye"})," ",R.withClient)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(ee,{arrowSize:5,distance:10,onToggle:ne,content:h.is_active?R.notificationsOn:R.notificationsOff},i.a.createElement(Q,{icon:h.is_active?"bell":"bell-off",onClick:U}))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(ee,{arrowSize:5,distance:10,onToggle:ne,content:R.favoriteWorkspace},i.a.createElement($,{icon:"star",isFav:h.is_favourite,onClick:L}))),i.a.createElement("li",{className:"nav-item"},!n&&i.a.createElement(C.b,null))):i.a.createElement(i.a.Fragment,null,!n&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"nav-item nav-item-folder"},i.a.createElement(m.t,{icon:"folder",className:"mr-1"}),i.a.createElement(K,null,i.a.createElement(Z,null,h.folder_name,b.hasOwnProperty(h.folder_id)&&1===b[h.folder_id].is_lock&&i.a.createElement(Q,{icon:"lock",strokeWidth:"2"})," "))),i.a.createElement("li",{className:"nav-item-chevron"},i.a.createElement(m.t,{icon:"chevron-right"}))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(J,{className:"current-title"},i.a.createElement(m.a,{forceThumbnail:!1,type:h.type,imageLink:h.team_channel.icon_link,id:"ws_".concat(h.id),name:h.name,noDefaultClick:!1}),i.a.createElement(Z,null,h.name))),1===h.is_lock&&i.a.createElement("li",{className:"nav-item"},i.a.createElement(Q,{icon:"lock",className:"mobile-private ml-1"}),i.a.createElement("div",{className:"badge badge-danger text-white ml-1"},R.statusWorkspacePrivate)),0===h.active&&i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:"badge badge-light text-white ml-1"},R.statusWorkspaceArchived)),h.is_shared&&!n&&i.a.createElement("li",{className:"nav-item"},i.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:f.colors.fourth}},i.a.createElement(Q,{icon:"eye"})," ",R.withClient)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(ee,{arrowSize:5,distance:10,onToggle:ne,content:h.is_active?R.notificationsOn:R.notificationsOff},i.a.createElement(Q,{icon:h.is_active?"bell":"bell-off",onClick:U}))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(ee,{arrowSize:5,distance:10,onToggle:ne,content:R.favoriteWorkspace},i.a.createElement($,{icon:"star",isFav:h.is_favourite,onClick:L}))),i.a.createElement("li",{className:"nav-item"},!n&&i.a.createElement(C.b,null)))),i.a.createElement("div",{className:"navbar-bottom"},i.a.createElement(s.b,Object.assign({},e,{exact:!0,render:function(e){return i.a.createElement(le,Object.assign({},e,{user:_,workspace:h}))},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page"]})))),i.a.createElement("li",{className:"nav-item-last"},i.a.createElement("div",{className:"nav-item-avatars-wrap"},i.a.createElement(S.a,{members:h.members})),M&&!n?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:h};r(Object(d.a)(e))},className:"btn btn-primary",disabled:0===h.active},i.a.createElement(m.t,{icon:"user-plus"}),R.actionWorkspaceInvite),i.a.createElement("button",{onClick:function(){var e={type:"confirmation",headerText:R.leaveWorkspaceHeader,submitText:R.buttonLeave,cancelText:R.cancel,bodyText:R.leaveWorkspaceBody,actions:{onSubmit:function(){P.leave(h,_,(function(e,n){e||t.success(i.a.createElement(i.a.Fragment,null,R.leaveWorkspace,i.a.createElement("b",null,h.name)))}))}}};r(Object(d.a)(e))},className:"btn btn-danger",disabled:0===h.active},R.buttonLeave)):n?null:i.a.createElement("button",{onClick:function(){r(Object(x.O)({channel_id:h.team_channel&&0!==h.team_channel.id?h.team_channel.id:h.channel&&0!==h.channel.id?h.channel.id:0,recipient_ids:[_.id]},(function(e,n){e||t.success("".concat(R.joinWorkspace," ").concat(h.name))})))},className:"btn btn-primary",disabled:0===h.active},i.a.createElement(m.t,{icon:"user-plus"}),R.actionWorkspaceJoin))):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"nav-item"},E&&i.a.createElement(i.a.Fragment,null,"external"===_.type?i.a.createElement(i.a.Fragment,null,R.statusNoWorkspaceExternal):i.a.createElement(X,{onClick:function(){r(Object(d.a)({type:"workspace_create_edit",mode:"create"}))}},R.actionWorkspaceNewWorkspace," ",i.a.createElement(m.t,{className:"ml-2",icon:"circle-plus"}))))))),i.a.createElement("div",null,i.a.createElement(j.b,{dictionary:R})))};function ae(){var e=Object(r.a)(['\n  color: #828282;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: ',";\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: ",";\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]);return re=function(){return e},e}function oe(){var e=Object(r.a)([""]);return oe=function(){return e},e}var ie=l.b.div(oe()),ce=l.b.ul(re()),se=Object(l.b)(m.l)(ae(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),le=i.a.memo((function(e){var n=Object(s.g)(),t=e.className,a=void 0===t?"":t,r=e.workspace,o=e.user,l=Object(c.d)((function(e){return e.workspaces.workspaceReminders})),d=Object(s.i)(),m="undefined"!==typeof l[d.workspaceId],p=e.match.url;if("/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path)p=p.split("/post/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle"===e.match.path||"/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion"===e.match.path)p="/".concat(p.split("/wip/")[1]);else if("/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path)p=p.split("/folder/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:workspaceId/:workspaceName"===e.match.path&&"undefined"===typeof e.match.params.page){var f=p.split("/");f.splice(2,0,"chat"),n.push(f.join("/"))}else p=p.replace("/workspace/".concat(e.match.params.page),"");var b=Object(u.gb)()._t,h={pageTitleDashboard:b("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:b("PAGE_TITLE.POSTS","Posts"),pageTitleChat:b("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:b("PAGE_TITLE.FILES","Files"),pageTitlePeople:b("PAGE_TITLE.PEOPLE","People"),pageTitleClientChat:b("PAGE_TITLE.CLIENT_CHAT","Client chat"),pageTitleTeamChat:b("PAGE_TITLE.TEAM_CHAT","Team chat"),pageTitleReminders:b("PAGE_TITLE.REMINDERS","Reminders")};return i.a.createElement(i.a.Fragment,null,i.a.createElement(ie,{className:"".concat(a)},i.a.createElement(ce,{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/dashboard".concat(p)},h.pageTitleDashboard)),(r&&"internal"===o.type&&r.is_shared||r&&"internal"===o.type&&r.team_channel.code&&r.is_shared)&&i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/team-chat".concat(p)},h.pageTitleTeamChat,null!==r&&(null===r||void 0===r?void 0:r.team_unread_chats)>0&&i.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.team_unread_chats))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/chat".concat(p)},r&&r.is_shared&&"internal"===o.type?h.pageTitleClientChat:h.pageTitleChat,null!==r&&r.unread_chats>0&&i.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_chats))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/posts".concat(p)},h.pageTitlePosts,null!==r&&r.unread_posts>0&&i.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},r.unread_posts))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/reminders".concat(p)},h.pageTitleReminders,m&&l[d.workspaceId].count.todo_with_date>0&&i.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},l[d.workspaceId].count.todo_with_date))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/files".concat(p)},h.pageTitleFiles)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/people".concat(p)},h.pageTitlePeople)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(se,{isSub:!0,to:"/workspace/wip".concat(p)},"W.I.P.")))))})),de=(t(813),t(814),t(815),t(1)),me=t(802),ue=t.n(me);function pe(){var e=Object(r.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: ",";\n    }\n  }\n"]);return pe=function(){return e},e}var fe=l.b.div(pe(),(function(e){return e.theme.colors.primary})),be=(i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=Object(u.O)(),s=Object(u.Ab)(),l=Object(c.d)((function(e){return e.workspaces.search})),d=Object(c.d)((function(e){return e.session.user})),p=l.count,f=l.maxPage,b=l.page,h=l.results,E=l.searching,g=l.filter_by,v=l.value;Object(o.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===v&&(s.search({search:"",skip:0,limit:25,filter_by:g},(function(e,n){e?s.updateSearch(Object(de.a)(Object(de.a)({},l),{},{searching:!1})):s.updateSearch(Object(de.a)(Object(de.a)({},l),{},{filter_by:g,searching:!1,count:n.data.total_count,results:n.data.workspaces,maxPage:Math.ceil(n.data.total_count/25)}))})),s.updateSearch(Object(de.a)(Object(de.a)({},l),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var O=Object(u.gb)()._t,_={labelResultsFor:O("LABEL.RESULTS_FOR","results found for: "),labelSearching:O("LABEL.SEARCHING","Searching "),sidebarWorkspaces:O("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:O("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:O("BUTTON.PREV_PAGE","Previous")};return i.a.createElement(fe,{className:"user-search-panel container-fluid h-100 ".concat(t)},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement(ze,{actions:s,search:l}),""!==v?i.a.createElement("h4",{className:"mb-5"},i.a.createElement(m.t,{icon:"search"}),E&&i.a.createElement("span",null,_.labelSearching,i.a.createElement("span",{className:"text-primary"},"\u201c",v,"\u201d")),!E&&i.a.createElement("span",null,p," ",_.labelResultsFor,i.a.createElement("span",{className:"text-primary"},"\u201c",v,"\u201d"))):i.a.createElement("h4",{className:"mb-5"},h.length>0&&i.a.createElement("span",null,p," ",_.sidebarWorkspaces)),h.length>0&&i.a.createElement(je,{user:d,actions:s,page:b,results:h,redirect:r}),p>25&&i.a.createElement("nav",{className:"mt-3"},i.a.createElement(ue.a,{previousLabel:_.buttonPrevPage,nextLabel:_.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:f,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1;h.length===p?s.updateSearch(Object(de.a)(Object(de.a)({},l),{},{filter_by:g,page:n})):(h.length<25*n&&s.search({search:v,skip:h.length,limit:25*n-h.length,filter_by:g},(function(e,t){e?s.updateSearch(Object(de.a)(Object(de.a)({},l),{},{searching:!1,filter_by:g})):s.updateSearch(Object(de.a)(Object(de.a)({},l),{},{searching:!1,filter_by:g,count:t.data.total_count,results:[].concat(Object(a.a)(t.data.workspaces),Object(a.a)(h)),maxPage:Math.ceil(t.data.total_count/25),page:n}))})),s.updateSearch(Object(de.a)(Object(de.a)({},l),{},{filter_by:g,value:v,searching:!0,page:n})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))})),t(14));function he(){var e=Object(r.a)(["\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n"]);return he=function(){return e},e}function Ee(){var e=Object(r.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  stroke-width: 3px;\n  margin-right: 3px;\n  margin-bottom: 0.1rem;\n"]);return Ee=function(){return e},e}function ge(){var e=Object(r.a)(["\n  width: 1rem;\n  height: 1rem;\n  stroke-width: 2px;\n"]);return ge=function(){return e},e}function ve(){var e=Object(r.a)(["\n  margin-left: auto;\n  display: none;\n"]);return ve=function(){return e},e}function Oe(){var e=Object(r.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  :hover {\n    button {\n      display: inline-flex;\n    }\n  }\n"]);return Oe=function(){return e},e}var _e=l.b.li(Oe()),we=l.b.button(ve()),Te=Object(l.b)(m.t)(ge()),Ne=Object(l.b)(m.t)(Ee()),ke=Object(l.b)(m.t)(he()),ye=function(e){var n=e.dictionary,t=e.onJoinWorkspace,r=e.onLeaveWorkspace,o=e.item,c=e.redirect,s=e.workspaces,d=Object(l.c)(),p=o.topic,f=o.workspace,b=o.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat(),h=Object(u.C)(Object(a.a)(new Set(b)));return i.a.createElement(_e,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:p.id,name:p.name,folder_id:f?f.id:null,folder_name:f?f.name:null};s.hasOwnProperty(p.id)?c.toWorkspace(e):c.fetchWorkspaceAndRedirect(e)}},i.a.createElement("div",{className:"workspace-search-detail"},i.a.createElement("div",{className:"workspace-title-status"},i.a.createElement("h5",null,p.name),p.is_locked&&i.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelPrivate),p.is_archive&&i.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelArchived),!p.is_archive&&!p.is_locked&&i.a.createElement("span",{className:"badge badge-ultralight ml-1"},n.labelOpen),p.is_shared&&i.a.createElement("span",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:d.colors.fourth}},i.a.createElement(ke,{icon:"eye"})," ",n.externalAccess)),i.a.createElement("ul",{className:"workspace-detail-lists"},h&&i.a.createElement("li",{className:"text-success"},i.a.createElement(Te,{icon:"check"}),n.labelJoined),i.a.createElement("li",null,o.members.length," ",1===o.members.length?n.member:n.members),i.a.createElement("li",null,i.a.createElement(Ne,{icon:"folder"}),f?f.name:"Workspaces"),i.a.createElement("li",null,Object(be.j)(p.description)))),h?i.a.createElement(we,{onClick:function(e){e.stopPropagation(),r(o)},className:"btn btn-primary join-button"},n.buttonLeave):i.a.createElement(we,{onClick:function(e){e.stopPropagation(),t(o)},className:"btn btn-primary join-button"},i.a.createElement(m.t,{icon:"user-plus"}),n.buttonJoin))},Ae=t(17),je=function(e){var n=e.actions,t=e.page,a=e.results,r=e.redirect,o=e.user,s=Object(c.c)(),l=Object(c.d)((function(e){return e.workspaces.workspaces})),d=Object(u.bb)(),m=Object(u.gb)()._t,p={labelArchived:m("LABEL.ARCHIVED","Archived"),labelPrivate:m("LABEL.PRIVATE","Private"),labelOpen:m("LABEL.OPEN","Open"),labelJoined:m("LABEL.JOINED","Joined"),sidebarWorkspaces:m("SIDEBAR.WORKSPACES","Workspaces"),member:m("LABEL.MEMBER","member"),members:m("LABEL.MEMBERS","members"),buttonJoin:m("BUTTON.JOIN","Join"),buttonLeave:m("BUTTON.LEAVE","Leave"),leaveWorkspace:m("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:m("TOASTER.JOIN_WORKSPACE","You have joined #"),externalAccess:m("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access")},f=function(e){var t={channel_id:e.channel.id,recipient_ids:[o.id]};n.join(t,(function(n,t){n||(!function(e){var n={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};l.hasOwnProperty(e.topic.id)?r.toWorkspace(n):r.fetchWorkspaceAndRedirect(n)}(e),d.success(i.a.createElement(i.a.Fragment,null,p.joinWorkspace,i.a.createElement("b",null,e.topic.name))))}))},b=function(e){if(1===e.members.length&&e.topic.is_locked){var n={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};s(Object(Ae.rb)(n))}else{var t={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[o.id]};t.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:o.id,name:o.name,first_name:o.first_name,partial_name:o.partial_name,profile_image_link:o.profile_image_thumbnail_link?o.profile_image_thumbnail_link:o.profile_image_link},title:"",added_members:[],removed_members:[o.id]}));s(Object(x.Q)({workspace_id:e.topic.id,channel_id:e.channel.id},(function(n,t){n||d.success(i.a.createElement(i.a.Fragment,null,p.leaveWorkspace,i.a.createElement("b",null,e.topic.name)))}))),s(Object(x.ab)(t))}};return i.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},i.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},i.a.createElement("ul",{className:"list-group list-group-flush"},a.sort((function(e,n){return e.topic.name.localeCompare(n.topic.name)})).slice(t>1?25*t-25:0,25*t).map((function(e){return i.a.createElement(ye,{key:e.topic.id,dictionary:p,onJoinWorkspace:f,onLeaveWorkspace:b,item:e,redirect:r,workspaces:l})})))))},Ce=t(19);function xe(){var e=Object(r.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return xe=function(){return e},e}function Se(){var e=Object(r.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  label {\n    margin: 0;\n  }\n  .custom-control {\n    min-height: 1rem;\n  }\n"]);return Se=function(){return e},e}function Ie(){var e=Object(r.a)(["\n  margin-bottom: 5px;\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n"]);return Ie=function(){return e},e}function Re(){var e=Object(r.a)([""]);return Re=function(){return e},e}function Pe(){var e=Object(r.a)(["\n  stroke-width: 2px;\n"]);return Pe=function(){return e},e}function De(){var e=Object(r.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"]);return De=function(){return e},e}var Le=l.b.div(De(),""),Fe=Object(l.b)(m.t)(Pe()),Me=l.b.div(Re()),Ue=l.b.div(Ie()),He=l.b.ul(Se()),We=l.b.div(xe(),(function(e){return e.maxHeight}),(function(e){return e.theme.colors.primary})),ze=function(e){var n=e.actions,t=e.search,a=t.value,r=t.searching,c=t.filterBy,s=t.filters,l=Object(o.useState)(a),d=Object(A.a)(l,2),p=d[0],f=d[1],b=Object(o.useState)(c),h=Object(A.a)(b,2),E=h[0],g=h[1],v=Object(o.useState)(s),O=Object(A.a)(v,2),_=O[0],w=O[1],T=function(){n.search({search:p,skip:0,limit:25,filter_by:E},(function(e,a){e?n.updateSearch(Object(de.a)(Object(de.a)({},t),{},{searching:!1})):n.updateSearch(Object(de.a)(Object(de.a)({},t),{},{value:p,filter_by:E,searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25),page:1}))})),n.updateSearch({results:[],value:p,filter_by:E,searching:!0})},N=function(){n.updateSearch({results:[],searching:!0,value:"",filter_by:"",page:1,maxPage:1,count:0}),n.search({search:"",skip:0,limit:25,filter_by:""},(function(e,a){e?n.updateSearch(Object(de.a)(Object(de.a)({},t),{},{searching:!1,value:"",filter_by:""})):n.updateSearch(Object(de.a)(Object(de.a)({},t),{},{value:"",filter_by:"",searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25)}))})),f("")},k=function(e){var n=e.target.dataset.name;w((function(e){return function(e,n){g((function(t){return e[n].checked?"":n})),e[n].checked=!e[n].checked;var t=Object.values(e).reduce((function(e,t){return n!==t.key&&(t.checked=!1,e[t.key]=Object(de.a)({},t)),e}),{});return Object(de.a)(Object(de.a)({},e),t)}(e,n)}))};Object(o.useEffect)((function(){Object.values(_).map((function(e){return e.checked})).includes(!0)&&!r||a?n.updateSearch({results:[],value:p,filter_by:E,searching:!0},(function(){T()})):N()}),[E]),Object(o.useEffect)((function(){f(a)}),[a]);var y=Object(u.gb)()._t,j={searchWorkspaceSearchPlaceholder:y("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:y("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:y("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:y("WORKSPACE.PRIVATE","Private"),archived:y("WORKSPACE.ARCHIVED","Archived"),nonMember:y("WORKSPACE.NON_MEMBER","Non Member"),new:y("WORKSPACE.NEW","New"),external:y("WORKSPACE.EXTERNAL","External")};return i.a.createElement(Le,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row d-flex justify-content-center"},i.a.createElement("h2",{className:"mb-4 text-center"},j.searchWorkspaceSearchTitle),i.a.createElement("div",{className:"input-group"},i.a.createElement(Me,{className:"input-wrap"},i.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==a?N():f(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||r||T()},type:"text",className:"form-control",placeholder:j.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:p}),""!==p.trim()&&i.a.createElement("button",{className:"btn-cross",type:"button",onClick:N},i.a.createElement(Fe,{icon:"x"}))),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:T},i.a.createElement(m.t,{icon:"search"})))),i.a.createElement(We,{className:"enter-active"},i.a.createElement("div",{className:"row d-flex justify-content-center my-3"},i.a.createElement(Ue,{className:"px-3"},i.a.createElement(m.t,{icon:"sliders"})),i.a.createElement(He,{className:"d-flex"},Object.values(_).map((function(e){return i.a.createElement("li",{className:"d-flex align-items-center mr-2",key:e.key},i.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success"},i.a.createElement(Ce.a,{name:e.key,checked:e.checked,type:"danger",onClick:k})),i.a.createElement("span",null,j[e.key]))}))))))))};t(816);function Be(){var e=Object(r.a)(["\n  cursor: pointer;\n  &.list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n"]);return Be=function(){return e},e}var Ge=l.b.li(Be()),Ve=i.a.memo((function(e){var n=e.folder,t=e.filterByFolder,a=Object(c.c)();return i.a.createElement(Ge,{className:"list-group-item d-flex align-items-center ".concat(t&&t.id===n.id&&"active"),onClick:function(){a(Object(x.fb)({filterByFolder:n,filterBy:""}))}},i.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),n.name,i.a.createElement("span",{className:"small ml-auto"},n.workspaces.length>0&&n.workspaces.length))}));function Ye(){var e=Object(r.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]);return Ye=function(){return e},e}var Ke=l.b.div(Ye()),qe=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(c.d)((function(e){return e.workspaces.allFolders})),r=Object(c.d)((function(e){return e.workspaces.search.filterByFolder}));return i.a.createElement(Ke,{className:"list-group list-group-flush ".concat(t)},Object.values(a).sort((function(e,n){return e.workspaces.length===n.workspaces.length?e.name.localeCompare(n.name):n.workspaces.length-e.workspaces.length})).map((function(e){return i.a.createElement(Ve,{folder:e,filterByFolder:r,key:e.id})})))}))},805:function(e,n,t){"use strict";var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(12),s=t(11);function l(){var e=Object(a.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(a.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex-flow: column;\n  > div {\n    width: 100%;\n  }\n"]);return d=function(){return e},e}var m=i.b.div(d()),u=i.b.div(l());n.a=function(e){var n=Object(s.gb)()._t,t={rebuildingDashboard:n("REBUILDING_DASHBOARD","We're rebuilding the dashboard."),dashboardComingSoon:n("DASHBOARD_COMING_SOON","The new dashboard is coming soon.")};return o.a.createElement(m,null,o.a.createElement(u,null,o.a.createElement(c.r,{icon:1,height:252}),o.a.createElement("div",null,o.a.createElement("h4",{className:"title"},t.rebuildingDashboard)),o.a.createElement("div",null,o.a.createElement("h5",null,t.dashboardComingSoon))))}},806:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(826);function s(){var e=Object(a.a)(["\n  .chat-sidebar-panel {\n    //max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    flex: 1 1 auto;\n    // @media (min-width: 1920px) {\n    //   max-width: calc(100% - 540px);\n    // }\n  }\n  @media (max-width: 1550px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n  .row {\n    flex-wrap: unset;\n  }\n"]);return s=function(){return e},e}var l=i.b.div(s());n.default=function(e){var n=e.className,t=void 0===n?"":n;return null!==localStorage.getItem("chat_translate_change")&&(localStorage.removeItem("chat_translate_change"),window.location.reload()),o.a.createElement(l,{className:"company-chat ".concat(t)},o.a.createElement("div",{className:"row no-gutters chat-block"},o.a.createElement(c.h,{className:"col-lg-4 chat-sidebar-panel"}),o.a.createElement(c.a,{className:"col-lg-8 chat-content-panel"})))}},808:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(11),s=t(832),l=t(70);function d(){var e=Object(a.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"]);return d=function(){return e},e}var m=i.b.div(d());n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.match,r=e.actions,i=a.params,d=Object(c.gb)()._t,u=Object(c.i)(),p=u.timelineInit,f=u.timelineItems,b=u.recentPostsInit,h=Object(c.k)().posts,E=window.innerWidth,g={aboutThisWorkspace:d("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:d("TEAM","Team"),timeline:d("TIMELINE","Timeline"),noRecentPosts:d("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:d("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:d("FILE_ATTACHMENTS","File attachments"),attachedFile:d("ATTACHED_A_FILE","attached a file"),sharedThePost:d("SHARED_THE_POST","shared the post"),hasJoined:d("TIMELINE.HAS_JOINED","has joined"),hasLeft:d("TIMELINE.HAS_LEFT","has left"),youJoined:d("TIMELINE.YOU_JOINED","You joined"),youLeft:d("TIMELINE.YOU_LEFT","You left"),isAdded:d("TIMELINE.IS_ADDED","is added"),isRemoved:d("TIMELINE.IS_REMOVED","is removed"),createdThePost:d("TIMELINE.CREATED_POST","created the post"),isAddedToCompany:d("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company"),updatedWorkspaceTo:d("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:d("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:d("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:d("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:d("TEAM.REVOKE_APPROVER","Assign as approver"),remove:d("TEAM.REMOVE","Remove"),showMore:d("SHOW_MORE","Show more"),showLess:d("SHOW_LESS","Show less"),openPost:d("SYSTEM.OPEN_POST","Open post")};return o.a.createElement(m,{className:"container-fluid h-100 fadeIn ".concat(t)},o.a.createElement("div",{className:"row"},E>620?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-6"},o.a.createElement(l.a,{init:p,timeline:f,actions:r,params:i,dictionary:g})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(s.a,{dictionary:g}),o.a.createElement(s.b,{posts:h,dictionary:g}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-12"},o.a.createElement(s.a,{dictionary:g}),o.a.createElement(s.b,{init:b,posts:h,dictionary:g}),o.a.createElement(l.a,{init:p,timeline:f,actions:r,params:i,dictionary:g})))))}))},809:function(e,n,t){"use strict";t.r(n);var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(44),s=t(4),l=t(164),d=t(11),m=t(795),u=t(14),p=t(899),f=t(831);function b(){var e=Object(r.a)(["\n  margin-bottom: 1rem;\n  .custom-switch {\n    margin-bottom: 0 !important;\n  }\n  div.text-muted {\n    font-weight: 500;\n  }\n  form {\n    display: flex;\n    flex-grow: 1;\n    width: auto;\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(r.a)(["\n  //width: 50%;\n  //margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"]);return h=function(){return e},e}function E(){var e=Object(r.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n    overflow: unset;\n  }\n  .card-body {\n    overflow: auto;\n  }\n"]);return E=function(){return e},e}var g=s.b.div(E()),v=Object(s.b)(l.a)(h()),O=s.b.div(b());n.default=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=Object(d.jb)(),s=r.users,l=r.loggedUser,b=r.selectUserChannel,h=Object(c.g)(),E=Object(o.useState)(""),_=Object(a.a)(E,2),w=_[0],T=_[1],N=Object(o.useState)(!0),k=Object(a.a)(N,2),y=k[0],A=k[1],j=Object(o.useState)(!1),C=Object(a.a)(j,2),x=C[0],S=C[1],I={search:Object(o.useRef)()},R=function(e){h.push("/profile/".concat(e.id,"/").concat(Object(u.h)(e.name)))},P=function(e){return b(e)};Object(o.useEffect)((function(){I.search.current.focus()}),[]);var D=Object.values(s).sort((function(e,n){return e.name.toString().localeCompare(n.name)})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot","huddle_bot"].includes(e.email)&&("internal"===e.type&&(1===e.active&&!(""!==w&&!x&&-1===e.name.toLowerCase().search(w.toLowerCase())&&-1===e.email.toLowerCase().search(w.toLowerCase()))))})),L=Object(d.gb)()._t,F={searchPeoplePlaceholder:L("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:L("PEOPLE.EXTERNAL","External"),peopleInvited:L("PEOPLE.INVITED","Invited"),structureView:L("PEOPLE.STRUCTURE_VIEW_TOGGLE","Structure view"),peopleView:L("PEOPLE.PEOPLE_VIEW_TOGGLE","People view"),employeeAccounts:L("LABEL.EMPLOYEE_ACCOUNTS","Employee accounts")};return i.a.createElement(g,{className:"workspace-people container-fluid h-100 ".concat(t)},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"people-header"},i.a.createElement(O,{className:"d-flex align-items-center people-search"},i.a.createElement(v,{ref:I.search,value:w,closeButton:"true",onClickEmpty:function(){T("")},placeholder:F.searchPeoplePlaceholder,onChange:function(e){T(e.target.value)},autoFocus:!0}),i.a.createElement(p.a,{className:"ml-2 mr-3 cursor-pointer text-muted cursor-pointer",checked:x,id:"structure_view",name:"structure_view",type:"switch",onChange:function(){S(!x),A(!y)},label:i.a.createElement("span",null,F.structureView)}),i.a.createElement("div",{className:"mr-3 text-muted"},F.employeeAccounts,": ",D.length))),x&&i.a.createElement(f.c,{users:D}),y&&i.a.createElement("div",{className:"row"},D.map((function(e){return i.a.createElement(m.a,{loggedUser:l,key:e.id,user:e,onNameClick:R,onChatClick:P,dictionary:F})}))))))}))},810:function(e,n,t){"use strict";t.r(n);var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(44),s=(t(6),t(4)),l=t(12),d=t(11),m=t(350),u=t(79);function p(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return p=function(){return e},e}function f(){var e=Object(r.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]);return f=function(){return e},e}function b(){var e=Object(r.a)(["\n  //text-align: right;\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(r.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]);return h=function(){return e},e}function E(){var e=Object(r.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]);return E=function(){return e},e}function g(){var e=Object(r.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]);return g=function(){return e},e}var v=s.b.div(g()),O=s.b.span(E()),_=s.b.div(h()),w=s.b.div(b()),T=Object(s.b)(l.t)(f()),N=s.b.div(p());n.default=function(e){var n=e.className,t=void 0===n?"":n,r=Object(c.i)(),s=Object(c.g)(),p=Object(d.bb)(),f=Object(d.k)(),b=f.actions,h=f.fetchMore,E=f.posts,g=f.filter,k=f.tag,y=f.postListTag,A=f.sort,j=f.post,C=f.user,x=f.search,S=f.count,I=f.postLists,R=f.counters,P=Object(o.useState)(!1),D=Object(a.a)(P,2),L=D[0],F=D[1],M=Object(o.useState)(!1),U=Object(a.a)(M,2),H=U[0],W=U[1],z=Object(o.useState)({}),B=Object(a.a)(z,2),G=B[0],V=B[1],Y="external"===C.type,K=Object(o.useRef)(!0),q=function(){r.hasOwnProperty("postId")&&s.push("/posts")},Z=Object(d.gb)()._t,J={createNewPost:Z("POST.CREATE_NEW_POST","Create new post"),all:Z("POST.ALL","All"),inbox:Z("POST.INBOX","Inbox"),newReply:Z("POST.NEW_REPLY","New reply"),myPosts:Z("POST.MY_POSTS","My sent posts"),starred:Z("POST.STARRED","Starred"),archived:Z("POST.ARCHIVED","Archived"),draft:Z("POST.DRAFT","Draft"),drafts:Z("POST.DRAFTS","Drafts"),category:Z("POST.CATEGORY","Category"),replyRequired:Z("POST.REPLY_REQUIRED","Reply required"),mustRead:Z("POST.MUST_READ","Must read"),noReplies:Z("POST.NO_REPLIES","No replies"),sortBy:Z("POST.SORT_BY","Sort by"),starredFavorite:Z("POST.STARRED_FAVORITE","Starred / Favorite"),recent:Z("POST.RECENT","Recent"),unread:Z("POST.UNREAD","Unread"),searchPost:Z("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:Z("POST.MARK_AS_READ","Mark as read"),markAsUnread:Z("POST.MARK_AS_UNREAD","Mark as unread"),share:Z("POST.SHARE","Share"),snooze:Z("POST.SNOOZE","Snooze"),follow:Z("POST.FOLLOW","Follow"),unFollow:Z("POST.UNFOLLOW","Unfollow"),files:Z("POST.FILES","Files"),comment:Z("POST.COMMENT","Comment"),editPost:Z("POST.EDIT_POST","Edit post"),editReply:Z("POST.EDIT_REPLY","Edit reply"),removeReply:Z("POST.REMOVE_REPLY","Remove reply"),quote:Z("POST.QUOTE","Quote"),mentionUser:Z("POST.MENTION_USER","Mention user"),remindMeAboutThis:Z("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:Z("POST.SEARCH_RESULT","Search Result:"),searchResults:Z("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:Z("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:Z("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:Z("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:Z("POST.PRIVATE","Private"),by:Z("POST.BY","by"),star:Z("POST.STAR","Mark with star"),unStar:Z("POST.UNSTAR","Unmark star"),alreadyReadThis:Z("POST.ALREADY_READ_THIS","I've read this"),me:Z("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:Z("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:Z("SHOW_MORE","Show more"),showLess:Z("SHOW_LESS","Show less"),markAll:Z("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:Z("POST.ARCHIVE_ALL","Archive all"),noComment:Z("POST.NO_COMMENT","no comment"),oneComment:Z("POST.ONE_COMMENT","1 comment"),comments:Z("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:Z("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:Z("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Z("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:Z("POST.ARCHIVE","Archive"),requestChange:Z("POST.REQUEST_CHANGE","Request for change"),accept:Z("POST.ACCEPT","Accept"),hasAcceptedProposal:Z("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:Z("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:Z("POST.ACTION_NEEDED","Action needed"),changeRequested:Z("POST.CHANGE_REQUESTED","Change requested"),accepted:Z("POST.ACCEPTED","Accepted"),requestForApproval:Z("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:Z("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:Z("POST.REPLIES_CLOSED","Replies closed"),openThisPost:Z("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:Z("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:Z("POST.REOPEN","Reopen"),closed:Z("POST.CLOSED","Closed"),createNewList:Z("POST.CREATE_NEW_LIST","New List"),addToList:Z("POST.ADD_TO_LIST","Add to list"),removeToList:Z("POST.REMOVE_TO_LIST","Remove to list"),allOthers:Z("POST.ALL_OTHERS","All others"),sharedClientBadge:Z("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:Z("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:Z("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:Z("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:Z("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:Z("BUTTON.SELECT_ALL","Select all"),remove:Z("BUTTON.REMOVE","Remove"),errorLoadingPost:Z("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:Z("POST.IN_PROGRESS","In progress"),teamLabel:Z("TEAM","Team"),new:Z("POST.NEW","New"),featureNotAvailable:Z("LABEL.FEATURE_NOT_AVAILABLE","This feature is not available for your account."),contactAdministrator:Z("LABEL.CONTACT_ADMIN","Contact your system administrator.")},X=Object(o.useMemo)((function(){var e=Object(u.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&W(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(o.useEffect)((function(){H&&(""!==x||j||(F(!0),h((function(e,n){K.current&&(F(!1),W(!1))}))))}),[H]),Object(o.useEffect)((function(){return function(){K.current=null}}),[]),Object(o.useEffect)((function(){r.postId&&!j&&b.fetchPostDetail({post_id:parseInt(r.postId)},(function(e,n){if(K.current&&e){b.setCompanyFilterPosts({filter:"inbox",tag:null}),s.push("/posts"),p.error(J.errorLoadingPost)}}))}),[r.postId,j]),Object(o.useEffect)((function(){if(y){var e=Object(u.find)(I,(function(e){return parseInt(e.id)===parseInt(y)}));if(I.map((function(n){e&&parseInt(y)===n.id&&V(n)})),!e){V(I[0]);var n={tag:null,postListTag:I[0].id,filter:null};b.setCompanyFilterPosts(n)}}}),[y,I]);return null===E?i.a.createElement(i.a.Fragment,null):i.a.createElement(v,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:X},i.a.createElement("div",{className:"row app-block"},i.a.createElement(m.k,{filter:g,tag:k,postListTag:y,postActions:b,count:S,postLists:I,counters:R,onGoBack:q,dictionary:J}),i.a.createElement("div",{className:"col-md-9 app-content"},i.a.createElement("div",{className:"app-content-overlay"}),!j&&i.a.createElement(m.f,{activeSort:A,search:x,dictionary:J,className:"mb-3"}),!!y&&i.a.createElement(w,null,i.a.createElement("span",null,"Filter:"),i.a.createElement(O,{className:"ml-2 recipients"},i.a.createElement("span",{className:"receiver"},i.a.createElement("span",{onClick:function(){b.setCompanyFilterPosts({tag:null,filter:"all"})}},i.a.createElement(T,{icon:"x",className:"mr-1"})),G.name))),0!==E.length||""!==x||r.hasOwnProperty("postId")?i.a.createElement(i.a.Fragment,null,j&&r.hasOwnProperty("postId")?i.a.createElement("div",{className:"card card-body app-content-body"},i.a.createElement(_,{className:"fadeBottom"},i.a.createElement(m.c,{post:j,posts:E,filter:g,postActions:b,user:C,onGoBack:q,dictionary:J,isExternalUser:Y}))):!j&&r.hasOwnProperty("postId")?i.a.createElement(N,{className:"card initial-load"},i.a.createElement(l.k,null)):i.a.createElement(m.l,{actions:b,dictionary:J,filter:g,isExternalUser:Y,loading:L,posts:E,search:x})):i.a.createElement(m.m,{actions:b,dictionary:J}),i.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},811:function(e,n,t){"use strict";t.r(n);var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(4),s=t(6),l=t(826),d=t(44),m=t(12),u=t(23),p=t(11),f=t(18),b=t(57);function h(){var e=Object(r.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return h=function(){return e},e}function E(){var e=Object(r.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]);return E=function(){return e},e}function g(){var e=Object(r.a)([""]);return g=function(){return e},e}var v=c.b.div(g()),O=c.b.div(E()),_=c.b.div(h());n.default=function(e){var n=e.className,t=void 0===n?"":n,r=e.workspace,c=Object(d.j)(),h=Object(d.i)(),E=Object(s.c)(),g=Object(s.d)((function(e){return e.chat.selectedChannel})),w=Object(s.d)((function(e){return e.session.user})),T=Object(o.useState)(!1),N=Object(a.a)(T,2),k=N[0],y=N[1];Object(p.r)();return Object(o.useEffect)((function(){var e=document.getElementById("toastS");return e&&b.isMobile&&e.classList.add("d-none"),function(){e&&b.isMobile&&e.classList.remove("d-none")}}),[]),Object(o.useEffect)((function(){h.hasOwnProperty("workspaceId")&&E(Object(f.w)({topic_id:h.workspaceId}))}),[h.workspaceId]),i.a.createElement(v,{className:"workspace-chat container-fluid ".concat(t)},i.a.createElement(O,{className:"row no-gutters chat-block"},r&&!r.team_channel.code&&c.path.startsWith("/workspace/team-chat/")&&"internal"===w.type&&i.a.createElement(_,null,i.a.createElement(m.r,{icon:3,height:252}),i.a.createElement("button",{className:"btn btn-outline-primary btn-block",disable:k,onClick:function(){k||(y(!0),E(Object(u.d)({id:r.id},(function(e,n){y(!1)}))))}},k?"Activating...":"Activate chat")),(c.path.startsWith("/workspace/chat")&&g&&r.is_shared&&g.id===r.channel.id||c.path.startsWith("/workspace/chat")&&g&&!r.is_shared&&g.id===r.team_channel.id||c.path.startsWith("/workspace/team-chat")&&r&&r.team_channel.code&&"internal"===w.type&&g&&g.id===r.team_channel.id)&&i.a.createElement(l.a,{className:"col-lg-12",isWorkspace:!0,selectedChannel:g})))}},812:function(e,n,t){"use strict";t.r(n);var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(6),s=t(44),l=t(4),d=t(13),m=t(11),u=t(798);function p(){var e=Object(r.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]);return p=function(){return e},e}var f=l.b.div(p());n.default=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.isMember,l=e.workspace,p=Object(c.c)(),b=Object(s.g)(),h=Object(m.gb)()._t,E=Object(m.t)(!0),g=E.params,v=E.wsFiles,O=E.actions,_=E.topic,w=E.fileIds,T=E.folders,N=E.folder,k=E.subFolders;Object(m.r)();var y=Object(o.useState)(""),A=Object(a.a)(y,2),j=A[0],C=A[1],x=Object(o.useState)(""),S=Object(a.a)(x,2),I=S[0],R=S[1],P={dropZone:Object(o.useRef)(null)},D=!1;l&&0===l.active&&(D=!0);var L=function(){O.search(I)},F=function(){R(""),O.clearSearch()},M={createFolder:h("CREATE_FOLDER","Create folder"),create:h("CREATE","Create"),updateFolder:h("UPDATE_FOLDER","Update folder"),update:h("UPDATE","Update"),editFolder:h("EDIT_FOLDER","Edit folder"),removeFolder:h("REMOVE_FOLDER","Remove folder"),renameFolder:h("RENAME.FOLDER","Rename folder"),folderInfo:h("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:h("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:h("ADD","Add"),favorite:h("FAVORITE","Favorite"),file:h("FILE","File"),folder:h("FOLDER","Folder"),folderName:h("FOLDER_NAME","Folder name"),folders:h("FOLDERS","Folders"),allFiles:h("FILES.ALL_FILES","All files"),recentlyEdited:h("FILES.RECENTLY_EDITED","Recently edited"),removed:h("FILES.REMOVED","Removed"),searchInputPlaceholder:h("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:h("UPLOAD_FILES","Upload files"),driveLink:h("BUTTON.DRIVE_LINK","Drive link")},U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",t={type:"files_folder",folder:"create"===n?null:e,params:g,mode:n,topic_id:_.id,parentFolder:N||null};p(Object(d.a)(t))},H=function(){C("")};return Object(o.useEffect)((function(){N&&N.is_archived&&"removed"!==j&&C("removed")}),[N,j,C]),i.a.createElement(f,{className:"container-fluid h-100 fadeIn ".concat(t)},i.a.createElement("div",{className:"row app-block"},"undefined"===typeof v||null===v?i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):i.a.createElement(i.a.Fragment,null,i.a.createElement(u.k,{actions:O,isMember:r,clearFilter:H,params:g,dropZoneRef:P.dropZone,className:"col-lg-3",filterFile:function(e){if(g.hasOwnProperty("fileFolderId")){var n=b.location.pathname.split("/folder/")[0];b.push(n)}C(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:j,wsFiles:v,folders:T,activeFolder:N,dictionary:M,disableOptions:D,workspace:l}),i.a.createElement("div",{className:"col-md-9 app-content mb-4"},i.a.createElement("div",{className:"app-content-overlay"}),i.a.createElement(u.j,{isMember:r,clearFilter:H,dropZoneRef:P.dropZone,history:b,params:g,onSearch:L,onSearchChange:function(e){""===e.target.value&&F(),R(e.target.value)},onEnter:function(e){"Enter"===e.key&&L()},wsFiles:v,handleAddEditFolder:U,folders:T,dictionary:M,disableOptions:D,onClickEmpty:F,value:I}),i.a.createElement(u.h,{dropZoneRef:P.dropZone,filter:j,search:I,folders:T,folder:N,fileIds:w,isMember:r,subFolders:k,history:b,actions:O,params:g,wsFiles:v,handleAddEditFolder:U,dictionary:M,disableOptions:D})))))}))},813:function(e,n,t){"use strict";t.r(n);var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(44),s=t(4),l=t(164),d=t(11),m=t(795),u=t(14),p=t(12),f=t(13),b=t(6);function h(){var e=Object(r.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 1rem;\n  }\n"]);return h=function(){return e},e}function E(){var e=Object(r.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: flex-start;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n"]);return E=function(){return e},e}var g=s.b.div(E()),v=Object(s.b)(l.a)(h());n.default=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.isExternal,s=e.isMember,l=e.workspace,h=Object(b.c)(),E=Object(d.jb)(),O=E.selectUserChannel,_=E.loggedUser,w=Object(b.d)((function(e){return e.workspaces})).activeTopic,T=Object(c.g)();Object(d.r)();var N=Object(o.useState)(""),k=Object(a.a)(N,2),y=k[0],A=k[1],j={search:Object(o.useRef)()},C=function(e){T.push("/profile/".concat(e.id,"/").concat(Object(u.h)(e.name)))},x=function(e){return O(e)};Object(o.useEffect)((function(){j.search.current.focus()}),[]);var S=[];l&&(S=l.members);var I=S.filter((function(e){return""===y||-1!==e.name.toLowerCase().search(y.toLowerCase())||-1!==e.email.toLowerCase().search(y.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)})),R=Object(d.gb)()._t,P={searchPeoplePlaceholder:R("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:R("PEOPLE.EXTERNAL","External"),peopleInvited:R("PEOPLE.INVITED","Invited"),peopleManage:R("PEOPLE.MANAGE","Manage People"),roleAdvisor:R("ROLE.ADVISOR","Advisor"),roleApprover:R("ROLE.APPROVER","Approver"),roleClient:R("ROLE.CLIENT","Client"),roleCommunicationLead:R("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:R("ROLE.DESIGNER","Designer"),roleDeveloper:R("ROLE.DEVELOPER","Developer"),roleFreelancer:R("ROLE.FREELANCER","Freelancer"),roleSupervisor:R("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:R("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:R("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:R("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:R("ROLE.WATCHER","Watcher")};return Object(d.x)(j.search.current),i.a.createElement(g,{className:"workspace-people fadeIn container-fluid ".concat(t)},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"people-header"},i.a.createElement(v,{ref:j.search,value:y,closeButton:"true",onClickEmpty:function(){A("")},placeholder:P.searchPeoplePlaceholder,onChange:function(e){A(e.target.value)},autoFocus:!0}),!r&&s&&i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"workspace_create_edit",mode:"edit",item:w};h(Object(f.a)(e))}},i.a.createElement(p.t,{className:"mr-2",icon:"user-plus"})," ",P.peopleManage))),i.a.createElement("div",{className:"row"},I.map((function(e){return i.a.createElement(m.a,{key:e.id,loggedUser:_,user:e,onNameClick:C,onChatClick:x,dictionary:P,showWorkspaceRole:!0})}))))))}))},814:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(7),o=t(5),i=t(0),c=t.n(i),s=t(44),l=t(6),d=t(4),m=t(12),u=t(11),p=t(74),f=t(79),b=t(18),h=t(23),E=t(14);function g(){var e=Object(o.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex-flow: column;\n  > div {\n    width: 100%;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return v=function(){return e},e}function O(){var e=Object(o.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]);return O=function(){return e},e}function _(){var e=Object(o.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]);return _=function(){return e},e}function w(){var e=Object(o.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]);return w=function(){return e},e}function T(){var e=Object(o.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]);return T=function(){return e},e}function N(){var e=Object(o.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]);return N=function(){return e},e}var k=d.b.div(N()),y=d.b.div(T()),A=d.b.div(w()),j=d.b.span(_()),C=Object(d.b)(m.t)(O()),x=d.b.div(v());d.b.div(g());n.default=function(e){var n=e.className,t=void 0===n?"":n,o=e.workspace,d=e.isMember,g=Object(s.i)(),v=Object(s.g)(),O=Object(u.bb)(),_=Object(l.c)();Object(u.r)();var w=Object(u.K)(),T=w.actions,N=w.posts,S=w.filter,I=w.tag,R=w.sort,P=w.post,D=w.user,L=w.search,F=w.count,M=w.postLists,U=w.counters,H=w.filters,W=w.postListTag,z=Object(i.useState)(!1),B=Object(r.a)(z,2),G=B[0],V=B[1],Y=Object(i.useState)(!1),K=Object(r.a)(Y,2),q=K[0],Z=K[1],J=Object(i.useState)({}),X=Object(r.a)(J,2),Q=X[0],$=X[1],ee=(Object(l.d)((function(e){return e.admin.postAccess})),Object(i.useRef)(!0)),ne="external"===D.type,te=function(){if(g.hasOwnProperty("postId")){var e=v.location.pathname.split("/post/")[0];v.push(e)}};Object(i.useEffect)((function(){return g.hasOwnProperty("workspaceId")&&T.getUnreadWsPostsCount({topic_id:g.workspaceId}),function(){ee.current=null}}),[]),Object(i.useEffect)((function(){g.hasOwnProperty("workspaceId")&&T.getRecentPosts(g.workspaceId)}),[g.workspaceId]);var ae=Object(u.gb)()._t,re={createNewPost:ae("POST.CREATE_NEW_POST","Create new post"),all:ae("POST.ALL","All"),inbox:ae("POST.INBOX","Inbox"),newReply:ae("POST.NEW_REPLY","New reply"),myPosts:ae("POST.MY_POSTS","My sent posts"),starred:ae("POST.STARRED","Starred"),archived:ae("POST.ARCHIVED","Archived"),draft:ae("POST.DRAFT","Draft"),drafts:ae("POST.DRAFTS","Drafts"),category:ae("POST.CATEGORY","Category"),replyRequired:ae("POST.REPLY_REQUIRED","Reply required"),mustRead:ae("POST.MUST_READ","Must read"),noReplies:ae("POST.NO_REPLIES","No replies"),sortBy:ae("POST.SORT_BY","Sort by"),starredFavorite:ae("POST.STARRED_FAVORITE","Starred / Favorite"),recent:ae("POST.RECENT","Recent"),unread:ae("POST.UNREAD","Unread"),searchPost:ae("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:ae("POST.MARK_AS_READ","Mark as read"),markAsUnread:ae("POST.MARK_AS_UNREAD","Mark as unread"),share:ae("POST.SHARE","Share"),snooze:ae("POST.SNOOZE","Snooze"),follow:ae("POST.FOLLOW","Follow"),unFollow:ae("POST.UNFOLLOW","Unfollow"),files:ae("POST.FILES","Files"),comment:ae("POST.COMMENT","Comment"),editPost:ae("POST.EDIT_POST","Edit post"),editReply:ae("POST.EDIT_REPLY","Edit reply"),removeReply:ae("POST.REMOVE_REPLY","Remove reply"),quote:ae("POST.QUOTE","Quote"),mentionUser:ae("POST.MENTION_USER","Mention user"),remindMeAboutThis:ae("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:ae("POST.SEARCH_RESULT","Search Result:"),searchResults:ae("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:ae("POST.NO_SEARCH_RESULT","No result found:"),private:ae("POST.PRIVATE","Private"),by:ae("POST.BY","by"),star:ae("POST.STAR","Mark with star"),unStar:ae("POST.UNSTAR","Unmark star"),alreadyReadThis:ae("POST.ALREADY_READ_THIS","I've read this"),me:ae("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:ae("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:ae("SHOW_MORE","Show more"),showLess:ae("SHOW_LESS","Show less"),markAll:ae("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:ae("POST.ARCHIVE_ALL","Archive all"),noComment:ae("POST.NO_COMMENT","no comment"),oneComment:ae("POST.ONE_COMMENT","1 comment"),comments:ae("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:ae("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:ae("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:ae("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:ae("POST.ARCHIVE","Archive"),requestChange:ae("POST.REQUEST_CHANGE","Request for change"),accept:ae("POST.ACCEPT","Accept"),hasAcceptedProposal:ae("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:ae("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:ae("POST.ACTION_NEEDED","Action needed"),changeRequested:ae("POST.CHANGE_REQUESTED","Change requested"),accepted:ae("POST.ACCEPTED","Accepted"),requestForApproval:ae("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:ae("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:ae("POST.REPLIES_CLOSED","Replies closed"),openThisPost:ae("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:ae("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:ae("POST.REOPEN","Reopen"),closed:ae("POST.CLOSED","Closed"),createNewList:ae("POST.CREATE_NEW_LIST","New List"),addToList:ae("POST.ADD_TO_LIST","Add to list"),removeToList:ae("POST.REMOVE_TO_LIST","Remove to list"),allOthers:ae("POST.ALL_OTHERS","All others"),sharedClientBadge:ae("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:ae("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:ae("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:ae("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:ae("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:ae("BUTTON.SELECT_ALL","Select all"),remove:ae("BUTTON.REMOVE","Remove"),errorLoadingPost:ae("TOASTER.ERROR_LOADING_POST","Error loading post"),inProgress:ae("POST.IN_PROGRESS","In progress"),teamLabel:ae("TEAM","Team"),new:ae("POST.NEW","New"),featureNotAvailable:ae("LABEL.FEATURE_NOT_AVAILABLE","This feature is not available for your account."),contactAdministrator:ae("LABEL.CONTACT_ADMIN","Contact your system administrator.")};Object(i.useEffect)((function(){g.postId&&!P&&T.fetchPostDetail({post_id:parseInt(g.postId)},(function(e,n){if(ee.current&&e){var t={topic_id:o.id,filter:"inbox",tag:null};_(Object(h.db)(t)),g.folderId?v.push("/workspace/posts/".concat(g.folderId,"/").concat(Object(E.h)(g.folderName),"/").concat(g.workspaceId,"/").concat(Object(E.h)(g.workspaceName))):v.push("/workspace/posts/".concat(g.workspaceId,"/").concat(Object(E.h)(g.workspaceName))),O.error(re.errorLoadingPost)}}))}),[g.postId,P]),Object(i.useEffect)((function(){if("in_progress"===S){T.getPosts({filters:["in_progress"],topic_id:parseInt(g.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),_(Object(b.g)({topic_id:parseInt(g.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{inProgress:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}else if("star"===S){T.getPosts({filters:["post","favourites"],topic_id:parseInt(g.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),_(Object(b.g)({topic_id:parseInt(g.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{favourites:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}else if("my_posts"===S){T.getPosts({filters:["post","created_by_me"],topic_id:parseInt(g.workspaceId)},(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),_(Object(b.g)({topic_id:parseInt(g.workspaceId),posts:n.data.posts,filter:n.data.posts,files:t,filters:{myPosts:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}}),[S]);var oe=function(){if(""===L&&!P){V(!0),function(){if(H&&H.unreadPosts&&H.unreadPosts.hasMore){var e={filters:["green_dot"],topic_id:o.id,skip:H.unreadPosts.skip};T.getPosts(e,(function(e,n){if(!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),_(Object(b.g)({topic_id:o.id,posts:n.data.posts,files:t,filters:{unreadPosts:{skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}))}}();var e={filters:"in_progress"===S?["in_progress"]:"archive"===S?["post","archived"]:"star"===S?["post","favourites"]:"my_posts"===S?["post","created_by_me"]:[],topic_id:o.id,skip:"in_progress"===S?null===H||void 0===H?void 0:H.inProgress.skip:"archive"===S?null===H||void 0===H?void 0:H.archived.skip:"star"===S?null===H||void 0===H?void 0:H.favourites.skip:"my_posts"===S?null===H||void 0===H?void 0:H.myPosts.skip:H.all.skip};if("inbox"===S){if(H.all&&!H.all.hasMore)return}else if("in_progress"===S){if(H.inProgress&&!H.inProgress.hasMore)return}else if("archive"===S){if(H.archived&&!H.archived.hasMore)return}else if("star"===S){if(H.favourites&&!H.favourites.hasMore)return}else if("my_posts"===S&&H.myPosts&&!H.myPosts.hasMore)return;T.getPosts(e,(function(e,n){if(ee.current&&(V(!1),Z(!1)),!e){var t=n.data.posts.map((function(e){return e.files}));t.length&&(t=t.flat()),_(Object(b.g)({topic_id:o.id,posts:n.data.posts,files:t,filters:Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},"inbox"===S&&{all:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"in_progress"===S&&{inProgress:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"archive"===S&&{archived:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"star"===S&&{favourites:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}}),"myPosts"===S&&{myPosts:{active:!0,skip:n.data.next_skip,hasMore:25===n.data.total_take}})}))}}))}},ie=Object(i.useMemo)((function(){var e=Object(f.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&Z(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(i.useEffect)((function(){q&&oe()}),[q]),Object(i.useEffect)((function(){if(W){var e=Object(f.find)(M,(function(e){return parseInt(e.id)===parseInt(W)}));if(M.map((function(n){e&&parseInt(W)===n.id&&$(n)})),!e){$(M[0]);var n={topic_id:o.id,tag:null,postListTag:M[0].id,filter:null};_(Object(h.db)(n))}}}),[W,M]);var ce=!1;return o&&0===o.active&&(ce=!0),null===N?c.a.createElement(c.a.Fragment,null):c.a.createElement(k,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:ie},c.a.createElement("div",{className:"row app-block"},c.a.createElement(p.o,{disableOptions:ce,isMember:d,workspace:o,filter:S,filters:H,tag:I,postListTag:W,postActions:T,count:F,postLists:M,counters:U,onGoBack:te,dictionary:re}),c.a.createElement("div",{className:"col-md-9 app-content"},c.a.createElement("div",{className:"app-content-overlay"}),!P&&c.a.createElement(p.i,{activeSort:R,workspace:o,search:L,dictionary:re,className:"mb-3"}),!!W&&c.a.createElement(A,null,c.a.createElement("span",null,"Filter:"),c.a.createElement(j,{className:"ml-2 recipients"},c.a.createElement("span",{className:"receiver"},c.a.createElement("span",{onClick:function(){var e={topic_id:o.id,tag:null,postListTag:null,filter:"inbox"};_(Object(h.db)(e))}},c.a.createElement(C,{icon:"x",className:"mr-1"})),Q.name))),0!==N.length||""!==L||g.hasOwnProperty("postId")?c.a.createElement(c.a.Fragment,null,null!==P?c.a.createElement("div",{className:"card card-body app-content-body mb-4"},c.a.createElement(y,{className:"fadeBottom"},c.a.createElement(p.f,{post:P,posts:N,filter:S,postActions:T,user:D,history:v,onGoBack:te,dictionary:re,workspace:o,isMember:d,disableOptions:ce,isExternalUser:ne}))):!P&&g.hasOwnProperty("postId")?c.a.createElement(x,{className:"card initial-load"},c.a.createElement(m.k,null)):c.a.createElement(p.r,{actions:T,dictionary:re,filter:S,isExternalUser:ne,loading:G,posts:N,search:L,workspace:o})):c.a.createElement(p.t,{actions:T,dictionary:re,disableOptions:ce,isMember:d}),c.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))}},815:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),o=t.n(r);function i(){var e=Object(a.a)([""]);return i=function(){return e},e}var c=t(4).b.div(i());n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return o.a.createElement(c,{className:"container-fluid h-100 ".concat(t)},o.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}))},816:function(e,n,t){"use strict";t.r(n);var a=t(9),r=t(7),o=t(5),i=t(0),c=t.n(i),s=t(4),l=t(11),d=t(829),m=t(79);function u(){var e=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n  }\n"]);return u=function(){return e},e}var p=s.b.div(u(),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));n.default=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=Object(l.zb)(),s=o.getWorkspaceReminders,u=o.action,f=o.isLoaded,b=o.count,h=o.workspaceName,E=Object(l.gb)()._t,g=Object(i.useState)(""),v=Object(r.a)(g,2),O=v[0],_=v[1],w=Object(i.useState)(""),T=Object(r.a)(w,2),N=T[0],k=T[1],y=Object(i.useState)(!1),A=Object(r.a)(y,2),j=A[0],C=A[1],x=[E("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),E("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],S=[E("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),E("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),E("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==N&&(x=[E("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],S=[E("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===N&&"OVERDUE"===O&&(x=[].concat(Object(a.a)(x),[E("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),S=[].concat(Object(a.a)(S),[E("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var I=Object(i.useState)(Math.floor(Math.random()*x.length)),R=Object(r.a)(I,2),P=R[0],D=R[1],L={searchInputPlaceholder:E("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:E("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:E("REMINDER.TYPE_POST","Post"),typeChat:E("REMINDER.TYPE_CHAT","Chat"),typePostComment:E("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:E("REMINDER.STATUS_TODAY","Today"),statusAll:E("REMINDER.STATUS_ALL","ALL"),statusExpired:E("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:E("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:E("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:E("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:E("REMINDER.STATUS_DONE","Done"),emptyText:E("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:E("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:x[P],noItemsFoundText:S[P],actionReschedule:E("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:E("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:E("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:E("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:E("REMINDER.ACTION_REMOVE","Remove"),actionFilter:E("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:E("REMINDER.AUTHOR","Author"),reminderAssignedTo:E("REMINDER.ASSIGNED_TO","Assigned to"),todo:E("REMINDER.TO_DO","To do"),done:E("REMINDER.DONE","Done"),addDate:E("REMINDER.ADD_DATE","Add date"),addedByMe:E("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:E("REMINDER.ADDED_BY_OTHERS","Added by others"),sortAlpha:E("TODO_SORT_OPTIONS.ALPHA","Sort by alphabetical order"),sortDate:E("TODO_SORT_OPTIONS.DATE","Sort by due date")},F=Object(i.useMemo)((function(){var e=Object(m.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&C(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(i.useEffect)((function(){j&&u.loadMore()}),[j]),Object(i.useEffect)((function(){D(Math.floor(Math.random()*x.length))}),[O]);var M=s({filter:{status:O,search:N}});return c.a.createElement(p,{className:"container-fluid h-100 fadeIn ".concat(t),hasReminders:M.length>0,onScroll:F},c.a.createElement("div",{className:"row app-block"},c.a.createElement(d.d,{className:"col-lg-3",dictionary:L,todoActions:u,setFilter:function(e){_(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:O,count:b}),c.a.createElement("div",{className:"col-lg-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(d.b,{dictionary:L,onSearchChange:function(e){k(e.target.value),""===e.target.value.trim()?D(Math.floor(Math.random()*x.length)):D(0)},clearSearch:function(){k("")},searchValue:N}),c.a.createElement(d.a,{complete:!1,isLoaded:f,todoItems:M.filter((function(e){return"DONE"!==e.status})),dictionary:L,todoActions:u,filter:O,doneTodoItems:M.filter((function(e){return"DONE"===e.status})),workspaceName:h}))))}))},817:function(e,n,t){"use strict";t.r(n);var a=t(9),r=t(7),o=t(5),i=t(0),c=t.n(i),s=t(4),l=t(11),d=t(829),m=t(79);function u(){var e=Object(o.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"]);return u=function(){return e},e}var p=s.b.div(u(),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"}));n.default=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=Object(l.db)(),s=o.getReminders,u=o.action,f=o.isLoaded,b=o.count,h=Object(l.gb)()._t,E=Object(i.useState)(""),g=Object(r.a)(E,2),v=g[0],O=g[1],_=Object(i.useState)(""),w=Object(r.a)(_,2),T=w[0],N=w[1],k=Object(i.useState)(!1),y=Object(r.a)(k,2),A=y[0],j=y[1],C=[h("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),h("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),h("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],x=[h("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),h("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),h("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==T&&(C=[h("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")],x=[h("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")]),""===T&&"OVERDUE"===v&&(C=[].concat(Object(a.a)(C),[h("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),x=[].concat(Object(a.a)(x),[h("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var S=Object(i.useState)(Math.floor(Math.random()*C.length)),I=Object(r.a)(S,2),R=I[0],P=I[1],D={searchInputPlaceholder:h("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:h("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:h("REMINDER.TYPE_POST","Post"),typeChat:h("REMINDER.TYPE_CHAT","Chat"),typePostComment:h("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:h("REMINDER.STATUS_TODAY","Today"),statusAll:h("REMINDER.STATUS_ALL","ALL"),statusExpired:h("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:h("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:h("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:h("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:h("REMINDER.STATUS_DONE","Done"),emptyText:h("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:h("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:C[R],noItemsFoundText:x[R],actionReschedule:h("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:h("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:h("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:h("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:h("REMINDER.ACTION_REMOVE","Remove"),actionFilter:h("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:h("REMINDER.AUTHOR","Author"),reminderAssignedTo:h("REMINDER.ASSIGNED_TO","Assigned to"),todo:h("REMINDER.TO_DO","To do"),done:h("REMINDER.DONE","Done"),addDate:h("REMINDER.ADD_DATE","Add date"),addedByMe:h("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:h("REMINDER.ADDED_BY_OTHERS","Added by others"),sortAlpha:h("TODO_SORT_OPTIONS.ALPHA","Sort by alphabetical order"),sortDate:h("TODO_SORT_OPTIONS.DATE","Sort by due date")},L=Object(i.useMemo)((function(){var e=Object(m.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&j(!0)}),300);return function(n){return n.persist(),e(n)}}),[]);Object(i.useEffect)((function(){A&&u.loadMore()}),[A]),Object(i.useEffect)((function(){P(Math.floor(Math.random()*C.length))}),[v]);var F=s({filter:{status:v,search:T}});return c.a.createElement(p,{className:"container-fluid h-100 fadeIn ".concat(t),onScroll:L},c.a.createElement("div",{className:"row app-block"},c.a.createElement(d.d,{className:"col-lg-3",dictionary:D,todoActions:u,setFilter:function(e){O(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:v,count:b}),c.a.createElement("div",{className:"col-lg-9 app-content mb-4"},c.a.createElement("div",{className:"app-content-overlay"}),c.a.createElement(d.b,{dictionary:D,onSearchChange:function(e){N(e.target.value),""===e.target.value.trim()?P(Math.floor(Math.random()*C.length)):P(0)},clearSearch:function(){N("")},searchValue:T}),c.a.createElement(d.a,{complete:!1,isLoaded:f,todoItems:F.filter((function(e){return"DONE"!==e.status})),dictionary:D,todoActions:u,filter:v,doneTodoItems:F.filter((function(e){return"DONE"===e.status}))}))))}))},826:function(e,n,t){"use strict";t.d(n,"a",(function(){return _})),t.d(n,"b",(function(){return re})),t.d(n,"d",(function(){return Fe})),t.d(n,"g",(function(){return $n})),t.d(n,"h",(function(){return ct})),t.d(n,"f",(function(){return Nt})),t.d(n,"e",(function(){return St})),t.d(n,"i",(function(){return Lt})),t.d(n,"c",(function(){return Mt}));var a=t(1),r=t(7),o=t(5),i=t(0),c=t.n(i),s=t(6),l=t(4),d=t(13),m=t(75),u=t(11),p=t(251),f=t(807);function b(){var e=Object(o.a)(["\n  flex: 1;\n"]);return b=function(){return e},e}function h(){var e=Object(o.a)(["\n  width: 100%;\n  z-index: 2;\n  position: relative;\n  @media (max-width: 992px) {\n    z-index: 1;\n  } ;\n"]);return h=function(){return e},e}var E=Object(i.lazy)((function(){return Promise.all([t.e(2),t.e(19)]).then(t.bind(null,895))})),g=Object(i.lazy)((function(){return Promise.all([t.e(13),t.e(2),t.e(20)]).then(t.bind(null,896))})),v=l.b.div(h()),O=l.b.div(b()),_=function(e){var n=e.className,o=void 0===n?"":n,l=e.isWorkspace,b=void 0!==l&&l,h=Object(f.a)({timeout:6e4}).isIdle,_=Object(s.c)(),w=Object(p.a)(),T=Object(u.ab)(),N=Object(s.d)((function(e){return e.session.user})),k=Object(s.d)((function(e){return e.settings.user.CHAT_SETTINGS})),y=k.virtualization,A=k.translate,j=Object(s.d)((function(e){return e.settings.user.GENERAL_SETTINGS})),C=j.chat_language,x=j.translated_channels,S=j.language,I=Object(s.d)((function(e){return e.chat.selectedChannel})),R=Object(s.d)((function(e){return e.workspaces.isOnClientChat})),P=Object(i.useState)(!1),D=Object(r.a)(P,2),L=D[0],F=D[1],M=Object(u.l)(),U={dropZoneRef:Object(i.useRef)()},H=Object(i.useState)(!1),W=Object(r.a)(H,2),z=W[0],B=W[1],G=Object(i.useState)(I?I.id:0),V=Object(r.a)(G,2),Y=V[0],K=V[1],q=function(){F(!1)},Z=function(e){var n=[];e.forEach((function(e){var r=new FormData;r.append("file",e);var o=t(56).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?n.push(Object(a.a)(Object(a.a)({},e),{},{type:"IMAGE",id:o,status:!1,src:URL.createObjectURL(e),bodyFormData:r,name:e.name?e.name:e.path})):"video/mp4"===e.type?n.push(Object(a.a)(Object(a.a)({},e),{},{type:"VIDEO",id:o,status:!1,src:URL.createObjectURL(e),bodyFormData:r,name:e.name?e.name:e.path})):n.push(Object(a.a)(Object(a.a)({},e),{},{type:"DOC",id:o,status:!1,src:"#",bodyFormData:r,name:e.name?e.name:e.path}))})),q();var r={type:"file_upload",droppedFiles:n,mode:"chat",members:I?I.members:[],team_channel:I.team&&"TOPIC"===I.type?I.id:null};_(Object(d.a)(r))},J=Object(u.gb)()._t,X={remindMeAboutThis:J("TODO.REMIND_ABOUT_THIS","Remind about this"),quote:J("CHAT.QUOTE","Quote"),copyMessageLink:J("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:J("CHAT.FORWARD","Forward"),edit:J("CHAT.EDIT","Edit"),remove:J("CHAT.REMOVE","Remove"),removeChat:J("MODAL.REMOVE_CHAT","Remove chat"),cancel:J("MODAL.CANCEL","Cancel"),removeThisChat:J("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:J("SYSTEM.UPDATE","Update"),accountActivated:J("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:J("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:J("SYSTEM.REMOVED","removed"),andRemoved:J("SYSTEM.AND_REMOVED","and removed"),you:J("SYSTEM.YOU","You"),youAnd:J("SYSTEM.YOU_AND","You and"),joined:J("SYSTEM.JOINED","joined"),andJoined:J("SYSTEM.AND_JOINED","and joined"),left:J("SYSTEM.LEFT","left"),andLeft:J("SYSTEM.AND_LEFT","and left"),createdThePost:J("SYSTEM.CREATED_THE_POST","created the post"),openPost:J("SYSTEM.OPEN_POST","Open post"),someone:J("SYSTEM.SOMEONE","Someone"),added:J("SYSTEM.ADDED","added"),andAdded:J("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:J("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:J("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:J("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:J("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:J("CHAT.WORKSPACE","Workspace"),hasLeftChat:J("SYSTEM.HAS_LEFT_CHAT","has left the chat"),hasLeftWorkspace:J("SYSTEM.HAS_LEFT_WORKSPACE","has left the workspace"),andHasLeftChat:J("SYSTEM.AND_HAS_LEFT_CHAT","and has left the chat"),andHasLeftWorkspace:J("SYSTEM.AND_HAS_LEFT_WORKSPACE","and has left the workspace"),youLeftChat:J("SYSTEM.YOU_LEFT_CHAT","You left the chat"),youLeftWorkspace:J("SYSTEM.YOU_LEFT_WORKSPACE","You left the workspace"),leftTheWorkspace:J("SYSTEM.LEFT_THE_WORKSPACE","left the workspace"),leftTheChat:J("SYSTEM.LEFT_THE_CHAT","left the chat"),markImportant:J("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:J("CHAT.UNMARK_IMPORTANT","Unmark as important"),teamFeedback:J("HUDDLE.HUDDLE_TEAM_FEEDBACK","Huddle team feedback"),replyInPrivate:J("CHAT.REPLY_IN_PRIVATE","Reply in private"),removeOnDownload:J("CHAT.REMOVE_ON_DOWNLOAD","Remove on download"),withClient:J("PAGE.WITH_CLIENT","With client"),teamChat:J("PAGE.TEAM_CHAT","Team Chat"),clientChat:J("PAGE.CLIENT_CHAT","Client Chat"),mute:J("CHAT.MUTE","Mute"),unmute:J("CHAT.UNMUTE","Unmute"),hide:J("CHAT.HIDE","Hide"),unhide:J("CHAT.UNHIDE","Unhide"),favorite:J("FAVORITE","Favorite"),unfavorite:J("UNFAVORITE","Unfavorite"),markAsUnread:J("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:J("POST.MARK_AS_READ","Mark as read"),unarchive:J("CHAT.UNARCHIVE","Un-archive"),archive:J("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:J("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:J("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),headerArchive:J("HEADER.ARCHIVE","Chat archive"),headerUnarchive:J("HEADER.UNARCHIVE","Un-archive channel"),clickHereToJoin:J("CHAT.CLICK_HERE_TO_JOIN","Click here to join"),fileAutomaticallyRemoved:J("FILE.AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),connectPreview:J("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:J("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account"),editHuddle:J("CHAT.EDIT_HUDDLE","Edit huddle"),discussOnTeamChat:J("CHAT.DISCUSS_ON_TEAM_CHAT","Discuss on team chat"),team:J("TEAM","Team"),errorSendingChat:J("CHAT.ERROR_SENDING","Error sending chat"),resend:J("CHAT.FAIL_OPTIONS_RESEND","Resend"),delete:J("CHAT.FAIL_OPTIONS_DELETE","Delete"),messageFailed:J("CHAT.FAILED","Message failed"),downloadAll:J("CHAT.DOWNLOAD_ALL","Download all"),notificationsOn:J("TOOLTIP.NOTIFICATIONS_ON","Notifications on"),notificationsOff:J("TOOLTIP.NOTIFICATIONS_OFF","Notifications off"),toasterBellNotificationOff:J("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:J("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON")},Q=function(){B(!z)},$=Object(i.useState)(!1),ee=Object(r.a)($,2),ne=ee[0],te=ee[1];Object(i.useEffect)((function(){null!==I&&K(I.id),null!==I&&Y!==I.id&&Y>0&&(te(!ne),B(!1))}),[Y,I]);var ae=["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com"].includes(N.email);return c.a.createElement(v,{className:"chat-content ".concat(o),onDragOver:function(e){if(e.dataTransfer.types)for(var n=0;n<e.dataTransfer.types.length;n++)if("Files"===e.dataTransfer.types[n])return void F(!0)}},c.a.createElement(m.a,{hide:!L,ref:U.dropZoneRef,onDragLeave:q,onDrop:function(e){var n=e.acceptedFiles;Z(n)},onCancel:q}),!b&&c.a.createElement(Fe,{dictionary:X,channel:I,handleSearchChatPanel:Q,isAuthorizedUser:ae}),null!==I?y&&["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(N.email)?c.a.createElement(i.Suspense,{fallback:c.a.createElement(O,null)},c.a.createElement(g,{dictionary:X})):c.a.createElement(i.Suspense,{fallback:c.a.createElement(O,null)},c.a.createElement(E,{chatMessageActions:w,timeFormat:T,dictionary:X,unreadCount:M,teamChannelId:R,isIdle:h,translate:A,language:S,translated_channels:x,chat_language:C})):c.a.createElement(O,null),c.a.createElement(re,{onShowFileDialog:function(){U.dropZoneRef.current&&U.dropZoneRef.current.open()},dropAction:Z}),null!==I&&z&&ae&&c.a.createElement(Nt,{newSeachToogle:ne,chatMessageActions:w,showSearchPanel:z,setShowSearchPanel:B,handleSearchChatPanel:Q,selectedChannel:I,user:N}))},w=t(52),T=t.n(w),N=t(17),k=t(23),y=t(12),A=t(259);function j(){var e=Object(o.a)([""]);return j=function(){return e},e}function C(){var e=Object(o.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return C=function(){return e},e}var x=l.b.div(C()),S=Object(l.b)(y.t)(j()),I=function(e){var n=Object(u.S)(),t=Object(r.a)(n,2),a=t[0],o=t[1],i=Object(s.c)();return a?c.a.createElement(x,null,c.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:a.user?a.user.name:""}}),c.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:a.body?o:""}}),c.a.createElement("span",{className:"quote-clear-container",onClick:function(){i(Object(N.o)(a))}},c.a.createElement(S,{icon:"x"}))):null};function R(){var e=Object(o.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: ",";\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]);return R=function(){return e},e}function P(){var e=Object(o.a)(["\n  margin-left: 10px !important;\n"]);return P=function(){return e},e}function D(){var e=Object(o.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar-typing {\n    height: 26px !important;\n    width: 26px !important;\n  }\n"]);return D=function(){return e},e}var L=l.b.div(D(),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),F=l.b.div(P()),M=l.b.div(R(),(function(e){return e.theme.colors.primary})),U=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(u.hb)(),o=Object(r.a)(a,1)[0];return c.a.createElement(L,{users:o.length,className:"component-chat-indicator ".concat(t)},o.length>2?c.a.createElement(M,null,"".concat(o.length-2,"+")):null,o.map((function(e,n){return n<=1?c.a.createElement(y.a,{key:n,className:"xs avatar-typing",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),c.a.createElement(F,{className:"typing-indicator"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null)))}));function H(){var e=Object(o.a)(["\n  width: 14px;\n  height: 14px;\n  margin-left: 5px;\n"]);return H=function(){return e},e}function W(){var e=Object(o.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]);return W=function(){return e},e}var z=l.b.div(W()),B=Object(l.b)(y.t)(H()),G=function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,r=Object(u.gb)()._t,o=Object(s.d)((function(e){return e.workspaces.workspaces})),i=Object(s.d)((function(e){return e.session.user})),l={lockedLabel:r("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),teamChat:r("CHAT.INFO_TEAM_CHAT","You are in the team chat"),clientChat:r("CHAT.INFO_CLIENT_CHAT","Client can read this chat")};return c.a.createElement(c.a.Fragment,null,a&&!a.is_archived&&o.hasOwnProperty(a.entity_id)&&1===o[a.entity_id].active&&c.a.createElement(c.a.Fragment,null,o[a.entity_id].is_shared&&o[a.entity_id].channel.id===a.id&&"internal"===i.type&&c.a.createElement(z,{className:"locked-label ".concat(t)},c.a.createElement("span",null,l.clientChat,c.a.createElement(B,{icon:"eye"}))),o[a.entity_id].is_shared&&o[a.entity_id].team_channel.id===a.id&&"internal"===i.type&&c.a.createElement(z,{className:"locked-label ".concat(t)},c.a.createElement("span",null,l.teamChat," ",c.a.createElement(B,{icon:"eye-off"})))))};function V(){var e=Object(o.a)(["\n  right: 100px;\n  bottom: 80px;\n\n  @media (max-width: 414px) {\n    right: -10px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]);return V=function(){return e},e}function Y(){var e=Object(o.a)(["\n  .feather-send {\n    ","\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: ",";\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(o.a)(["\n  width: 20px;\n"]);return K=function(){return e},e}function q(){var e=Object(o.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  flex-flow: column;\n  .feather-paperclip,\n  .feather-meet,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    &.active {\n      color: ",";\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    //color: #cacaca;\n    &.active {\n      color: ",";\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return q=function(){return e},e}function Z(){var e=Object(o.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]);return Z=function(){return e},e}function J(){var e=Object(o.a)(["\n  position: relative;\n  z-index: 3;\n  padding-top: 0 !important;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]);return J=function(){return e},e}var X=Object(i.lazy)((function(){return Promise.resolve().then(t.bind(null,353))})),Q=l.b.div(J()),$=l.b.div(Z()),ee=l.b.div(q(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),ne=Object(l.b)(y.t)(K()),te=l.b.div(Y(),(function(e){return e.activeSend&&"background: ".concat(e.theme.colors.primary," !important;")}),(function(e){return e.activeSend?"#fff":"#cacaca"}),(function(e){return e.activeSend?"cursor":"default"}),(function(e){return e.theme.colors.primary})),ae=Object(l.b)(X)(V()),re=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.onShowFileDialog,o=e.dropAction,l=Object(u.ab)().localizeChatDate,m=Object(s.c)(),p=Object(u.bb)(),f={picker:Object(i.useRef)()},b=Object(i.useState)(!1),h=Object(r.a)(b,2),E=h[0],g=h[1],v=Object(i.useState)(!1),O=Object(r.a)(v,2),_=O[0],w=O[1],j=Object(i.useState)(null),C=Object(r.a)(j,2),x=C[0],S=C[1],R=Object(i.useState)(null),P=Object(r.a)(R,2),D=P[0],L=P[1],F=Object(s.d)((function(e){return e.chat.selectedChannel})),M=Object(s.d)((function(e){return e.chat.editChatMessage})),H=Object(s.d)((function(e){return e.users.onlineUsers})),W=Object(s.d)((function(e){return e.session.user})),z=Object(u.S)(),B=Object(r.a)(z,1)[0],V=function(){m(Object(N.fb)(!0))},Y=function(){w(!_)},K=Object(i.useCallback)((function(){S(null)}),[]),q=Object(i.useCallback)((function(e){g(e)}),[]),Z=Object(i.useCallback)((function(){L(null)}),[]),J=Object(u.gb)()._t,X={unarchiveThisWorkspace:J("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:J("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:J("BUTTON.CANCEL","Cancel"),unarchiveBodyText:J("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),chatUnarchiveConfirmation:J("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),headerUnarchive:J("HEADER.UNARCHIVE","Un-archive channel"),youAreViewing:J("CHAT.LABEL","You are viewing"),joinWorkspaceChat:J("CHAT.JOIN_WORKSPACE_CHAT","Join workspace chat"),googleMeet:J("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:J("YES","Yes"),no:J("NO","No"),googleMeetConfirmation:J("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?"),send:J("TOOLTIP.SEND","Send"),attachFiles:J("TOOLTIP.ATTACH_FILES","Attach files"),closeEdit:J("TOOLTIP.CLOSE_EDIT","Close edit"),errorSendingChat:J("CHAT.ERROR_SENDING","Error sending chat"),zoomMeeting:J("CONFIRMATION.ZOOM_MEETING","Zoom meeting"),zoomMeetingConfirmation:J("CONFIRMATION.ZOOM_MEETING_BODY","This channel contains ::number:: members and ::online:: are online. Do you want to start this meeting?",{number:F?F.members.length:"",online:F?F.members.filter((function(e){return W.id!==e.id&&H.some((function(n){return n.user_id===e.id}))})).length+1:1}),toasterGeneraError:J("TOASTER.GENERAL_ERROR","An error has occurred try again!"),meetingInProgress:J("TOASTER.MEETING_IN_PROGRESS","Meeting for this channel is still in progress. When that's ended you can start a new meeting.")},re=function(){var e={id:F.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};m(Object(N.rb)(e)),p.success(c.a.createElement("span",null,c.a.createElement("b",null,"TOPIC"===F.type?"".concat(F.title," workspace is un-archived."):"".concat(F.title," channel is un-archived."))))},oe=Object(i.useCallback)((function(){w(!1)}),[]),ie=Object(u.C)(F&&F.members&&F.members.length?F.members.map((function(e){return e.id})):[]);return c.a.createElement(Q,{className:"chat-footer ".concat(t)},F&&c.a.createElement(U,null),c.a.createElement(G,{channel:F}),ie&&c.a.createElement(te,{className:"d-flex align-items-end chat-input-cointainer-footer",activeSend:E},F&&F.is_archived?c.a.createElement($,null,c.a.createElement(ne,{icon:"archive"}),c.a.createElement("h4",null,"TOPIC"===F.type?"This is an archived workspace":"This is an archived channel"),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:X.cancel,headerText:"TOPIC"===F.type?X.unarchiveWorkspace:X.headerUnarchive,submitText:"TOPIC"===F.type?X.unarchiveWorkspace:X.headerUnarchive,bodyText:"TOPIC"===F.type?X.unarchiveBodyText:X.chatUnarchiveConfirmation,actions:{onSubmit:re}};m(Object(d.a)(e))}},"TOPIC"===F.type?"Un-archive workspace":"Un-archive channel")):c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,{className:"flex-grow-1 chat-input-footer"},F&&!F.is_archived&&B&&c.a.createElement(te,{className:"d-flex pr-2 pl-2"},c.a.createElement(I,null)),c.a.createElement(te,{className:"d-flex flex-grow-1"},c.a.createElement(A.a,{onActive:q,selectedGif:D,onSendCallback:oe,onClearGif:Z,selectedEmoji:x,onClearEmoji:K,dropAction:o,dictionary:X}),c.a.createElement(St,{channel:F,showEmojiPicker:_,handleShowEmojiPicker:Y,handleZoomMeet:function(){var e=document.getElementById("meetingSDKElement").firstChild;if(e&&e.classList.contains("react-draggable")){m(Object(d.a)({type:"zoom_inprogress"}))}else{m(Object(d.a)({type:"zoom_confirmation"}))}},onShowFileDialog:a,editChatMessage:M,quote:B,dictionary:X}))),c.a.createElement(T.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:X.send},c.a.createElement(y.t,{onClick:V,icon:"send"}))),!0===_&&c.a.createElement(i.Suspense,{fallback:c.a.createElement(c.a.Fragment,null)},c.a.createElement(ae,{handleSend:V,handleShowEmojiPicker:Y,onSelectEmoji:function(e){S(e)},onSelectGif:function(e){L(e),Y()},orientation:"top",ref:f.picker}))),ie&&M&&c.a.createElement(te,{className:"d-flex align-items-end"},c.a.createElement("div",{className:"p-5"},M.files.map((function(e){return e.filename})).join(", "))),!1===ie&&null!==F&&"internal"===W.type&&c.a.createElement(te,{className:"channel-viewing"},c.a.createElement("div",{className:"channel-name"},X.youAreViewing," #",F.title),c.a.createElement("div",{className:"channel-create"},"Created by ",F.creator&&F.creator.name," on ",l(F.created_at&&F.created_at.timestamp)),c.a.createElement("div",{className:"channel-action"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){m(Object(k.O)({channel_id:F.id,recipient_ids:[W.id]},(function(e,n){e||p.success(c.a.createElement(c.a.Fragment,null,"You have joined ",c.a.createElement("b",null,"#",F.title)))})))}},X.joinWorkspaceChat))))})),oe=t(10),ie=t(44),ce=t(110),se=t(252),le=t(70),de=t(14),me=t(57);function ue(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n"]);return ue=function(){return e},e}function pe(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return pe=function(){return e},e}function fe(){var e=Object(o.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n"]);return fe=function(){return e},e}function be(){var e=Object(o.a)(["\n  height: 1rem !important;\n  width: 1rem !important;\n  min-width: 1rem;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"]);return be=function(){return e},e}function he(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n"]);return he=function(){return e},e}function Ee(){var e=Object(o.a)(["\n  display: inline-flex;\n  align-items: center;\n  ","\n  margin-left:5px;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n"]);return Ee=function(){return e},e}function ge(){var e=Object(o.a)(["\n  border: 1px solid #fff;\n  border-radius: 4px;\n\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    cursor: pointer;\n    border: "," !important;\n  }\n  .dark & {\n    border: 1px solid #25282c !important;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    font-size: 10px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: -25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    .more-options-tooltip {\n      top: 20px;\n      right: -45px;\n    }\n  }\n"]);return ge=function(){return e},e}function ve(){var e=Object(o.a)(["\n  color: ",";\n  height: 24px;\n  width: 24px;\n  transition: color 0.15s ease-in-out;\n"]);return ve=function(){return e},e}function Oe(){var e=Object(o.a)(["\n  @media (min-width: 992px) {\n    display: none;\n  }\n  color: ",";\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  margin-right: 12px;\n  margin-top: 8px;\n  display: flex;\n  span {\n    line-height: 1.7;\n  }\n"]);return Oe=function(){return e},e}function _e(){var e=Object(o.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]);return _e=function(){return e},e}function we(){var e=Object(o.a)([""]);return we=function(){return e},e}function Te(){var e=Object(o.a)(["\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding-bottom: 1em;\n\n  .chat-header-left {\n    display: flex;\n  }\n\n  .chat-header-title {\n    height: 17px;\n    color: #000000;\n    font-family: Inter;\n    font-size: 14px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 17px;\n    text-align: center;\n    display: flex;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n\n    a {\n      color: #000 !important;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      .dark & {\n        color: #ffffff !important;\n      }\n    }\n    .dark & {\n      color: #ffffff !important;\n    }\n  }\n  .chat-header-right {\n    @media (max-width: 414px) {\n      .nav {\n        display: flex;\n      }\n    }\n    margin-left: auto;\n    ul {\n      flex-flow: row;\n    }\n    li .more-options-tooltip {\n      top: 115%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n  .dictionary-label {\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 255px !important;\n  }\n  .channel-title-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n  }\n  .chat-header-folder {\n    flex: 1 1 100%;\n    // height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    // letter-spacing: 0;\n    // line-height: 12px;\n    display: flex;\n    align-items: center;\n  }\n  @media (max-width: 414px) {\n    .chat-header-folder {\n      display: none;\n    }\n  }\n  .plus-recipient-component {\n    width: 2.7rem;\n    height: 2.7rem;\n  }\n  .feather-pencil {\n    width: 1rem;\n    height: 1rem;\n    margin-left: 5px;\n    cursor: pointer;\n  }\n"]);return Te=function(){return e},e}var Ne=l.b.div(Te()),ke=Object(l.b)(y.t)(we()),ye=Object(l.b)(y.t)(_e()),Ae=l.b.div(Oe(),(function(e){return e.theme.colors.primary})),je=Object(l.b)(y.t)(ve(),(function(e){return e.theme.colors.primary})),Ce=Object(l.b)(le.c)(ge(),(function(e){return"1px solid ".concat(e.theme.colors.primary)})),xe=l.b.div(Ee(),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),Se=l.b.div(he()),Ie=Object(l.b)(y.t)(be(),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),Re=Object(l.b)(y.t)(fe()),Pe=Object(l.b)(T.a)(pe()),De=l.b.div(ue()),Le=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},Fe=function(e){var n=e.className,t=void 0===n?"":n,o=e.channel,l=e.dictionary,m=e.handleSearchChatPanel,f=e.isAuthorizedUser,b=Object(s.c)(),h=Object(ie.g)(),E=Object(ce.a)(),g=Object(s.d)((function(e){return e.chat.selectedChannel})),v=Object(s.d)((function(e){return e.workspaces.workspaces})),O=Object(s.d)((function(e){return e.global.unreadCounter})),_=Object(s.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).translated_channels,w=Object(p.a)(),T=Object(u.bb)(),N=Object(i.useState)(!1),A=Object(r.a)(N,2),j=A[0],C=A[1],x=function(){E.archive(o)},S=function(){b(Object(d.a)({type:"chat_create_edit",mode:"edit"}))},I=Object(u.xb)(),R=Object(u.T)(),P=R.generalSettings.workspace_open_folder,D=R.setGeneralSetting,L=function(e){e.preventDefault(),g.workspace_folder&&D({workspace_open_folder:Object(a.a)(Object(a.a)({},P),{},Object(oe.a)({},g.workspace_folder.id,g.workspace_folder.id))}),document.body.classList.remove("navigation-show"),v[g.entity_id]&&(I.selectWorkspace(v[g.entity_id]),I.redirectTo(v[g.entity_id]))},F=function(e){e.preventDefault(),h.push("/system/people/teams/".concat(g.entity_id,"/").concat(g.title))};return null===o?null:(_.length>0&&_.includes(g.id)&&!g.is_translate&&w.saveChannelTranslateState(Object(a.a)(Object(a.a)({},g),{},{is_translate:!0})),c.a.createElement(Ne,{className:"chat-header border-bottom ".concat(t)},c.a.createElement("div",{className:"chat-header-left"},c.a.createElement(Ae,{className:"chat-back-button",onClick:function(){document.body.classList.remove("m-chat-channel-closed");var e=document.getElementById("toastS");e&&me.isMobile&&e.classList.remove("d-none")}},c.a.createElement(je,{icon:"chevron-left"}),O.chat_message>0&&c.a.createElement("span",null,O.chat_message.toString())),c.a.createElement(se.a,{className:"chat-header-icon",channel:o,width:"33px"})),c.a.createElement("div",{className:"channel-title-wrapper"},c.a.createElement("div",{className:"chat-header-title"},function(){switch(g.type){case"TOPIC":return g.workspace_folder?c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{onClick:L,"data-href":E.getChannelLink(g),href:E.getChannelLink(g)},g.title)):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dictionary-label"}),c.a.createElement("a",{onClick:L,"data-href":E.getChannelLink(g),href:E.getChannelLink(g)},g.title));case"DIRECT":return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{onClick:function(e){return function(e,n){e.preventDefault(),h.push("/profile/".concat(n.id,"/").concat(Object(de.h)(n.name)))}(e,g.profile)},"data-href":"/profile/".concat(g.profile.id,"/").concat(g.profile.name),href:"/profile/".concat(g.profile.id,"/").concat(g.profile.name)},g.profile?g.profile.name:g.title));case"DIRECT_TEAM":case"TEAM":return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{onClick:F,"data-href":"/system/people/teams/".concat(g.entity_id,"/").concat(g.title),href:"/system/people/teams/".concat(g.entity_id,"/").concat(g.title)},l.team," ",g.title));default:return g.title}}()),c.a.createElement(Se,{className:"chat-header-badge"},"TOPIC"===o.type&&!o.is_archived&&v.hasOwnProperty(o.entity_id)&&1===v[o.entity_id].is_lock&&1===v[o.entity_id].active&&c.a.createElement(ke,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===o.type&&!o.is_archived&&v.hasOwnProperty(o.entity_id)&&v[o.entity_id].is_shared&&1===v[o.entity_id].active&&c.a.createElement(xe,{className:"badge badge-external mr-1",isTeam:!!o.team},c.a.createElement(ye,{icon:o.team?"eye-off":"eye",className:"mr-1"}),o.team?l.teamChat:l.clientChat)),c.a.createElement(De,null,"TOPIC"===o.type&&o.hasOwnProperty("is_active")&&c.a.createElement(Pe,{arrowSize:5,distance:10,onToggle:Le,content:o.is_active?l.notificationsOn:l.notificationsOff},c.a.createElement(ke,{className:"ml-1",width:"16",height:"16",icon:o.is_active?"bell":"bell-off",onClick:function(){if(!j){var e={id:o.entity_id,is_active:!o.is_active};b(Object(k.T)(e,(function(n,t){C(!1),n||(e.is_active?T.success(l.toasterBellNotificationOn):T.success(l.toasterBellNotificationOff))})))}}})),c.a.createElement(Pe,{arrowSize:5,distance:10,onToggle:Le,content:l.favorite},c.a.createElement(Ie,{icon:"star",isFav:o.is_pinned,onClick:function(){o.is_pinned?E.unPin(o):E.pin(o)}})),"GROUP"===o.type&&!o.is_archived&&c.a.createElement(y.t,{icon:"pencil",onClick:S}),f&&c.a.createElement(Re,{icon:"search",onClick:m}),c.a.createElement("div",null,c.a.createElement("ul",{className:"nav align-items-center justify-content-end"},c.a.createElement("li",{className:"ml-2",style:{height:"21px"}},c.a.createElement(Ce,{role:"tabList",strokeWidth:"1",fill:"black",svgHeight:"17",width:"17"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(o.type)&&c.a.createElement("div",{onClick:function(){if(o.is_archived)E.unArchive(o);else{var e={type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:x}};b(Object(d.a)(e))}}},o.is_archived?l.unarchive:l.archive),"GROUP"===o.type&&!o.is_archived&&c.a.createElement("div",{onClick:S},l.edit),c.a.createElement("div",{onClick:function(){o.is_pinned?E.unPin(o):E.pin(o)}},o.is_pinned?l.unfavorite:l.favorite),c.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===o.total_unread&&o.is_read?E.markAsUnRead(o):E.markAsRead(o)}(e)}},0===o.total_unread&&!0===o.is_read?l.markAsUnread:l.markAsRead),c.a.createElement("div",{onClick:function(){o.is_muted?E.unMute(o):E.mute(o)}},o.is_muted?l.unmute:l.mute),"PERSONAL_BOT"!==o.type&&c.a.createElement("div",{onClick:function(){o.is_hidden?E.unHide(o):E.hide(o),o.total_unread>0&&E.markAsRead(o)}},o.is_hidden?l.unhide:l.hide),c.a.createElement(Lt,{selectedChannel:g,translated_channels:_,chatMessageActions:w})))))),c.a.createElement("div",{className:"chat-header-folder"},function(){switch(g.type){case"TOPIC":return g.workspace_folder?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fa fa-folder-o mr-1"})," ",g.workspace_folder.name):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dictionary-label"},l.workspace));default:return""}}())),c.a.createElement(Mt,{channel:o})))};function Me(){var e=Object(o.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]);return Me=function(){return e},e}function Ue(){var e=Object(o.a)(["\n  ","\n"]);return Ue=function(){return e},e}function He(){var e=Object(o.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]);return He=function(){return e},e}var We=l.b.div(He()),ze=l.b.div(Ue(),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),Be=l.b.div(Me()),Ge=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.reply;return c.a.createElement(We,{className:"message-item ".concat(t," ").concat(!0===a.author?"me":"them")},c.a.createElement(ze,{className:"message-item-content",isAuthor:a.author},!1===a.author&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{className:"avatar avatar-sm"},c.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),a.message),c.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))}));function Ve(){var e=Object(o.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]);return Ve=function(){return e},e}var Ye=l.b.div(Ve());c.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return c.a.createElement(Ye,{className:"messages ".concat(t),tabIndex:"2"},c.a.createElement(Ge,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),c.a.createElement(Ge,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),c.a.createElement(Ge,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),c.a.createElement("div",{className:"message-item me"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item"},c.a.createElement("div",{className:"message-item-content d-flex"},c.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),c.a.createElement("div",null,c.a.createElement("div",null,"important_documents.pdf ",c.a.createElement("i",{className:"text-muted small"},"(50KB)")),c.a.createElement("ul",{className:"list-inline small"},c.a.createElement("li",{className:"list-inline-item"},c.a.createElement("a",{href:"/"},"Download")),c.a.createElement("li",{className:"list-inline-item"},c.a.createElement("a",{href:"/"},"View"))))),c.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item me"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item me message-media"},c.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),c.a.createElement("div",{className:"message-item message-item-divider"},c.a.createElement("span",null,"Today")),c.a.createElement("div",{className:"message-item"},c.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),c.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))}));function Ke(){var e=Object(o.a)(["\n  color: #363636;\n  ",";\n  flex-grow: 1;\n  ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  //max-width: calc(100% - 100px);\n\n  &.is-unread {\n    span {\n      font-weight: bold;\n    }\n  }\n\n  span {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: block;\n  }\n\n  .badge-wrapper {\n    margin-right: 0.5rem !important;\n  }\n"]);return Ke=function(){return e},e}function qe(){var e=Object(o.a)(["\n  max-width: 100%;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n  .title-data-chat-folder {\n    display: inline-block;\n    //height: 12px;\n    color: #8b8b8b;\n    font-family: Arial;\n    font-size: 12px;\n    // letter-spacing: 0;\n    // line-height: 12px;\n    font-weight: normal;\n    margin-left: 5px;\n    vertical-align: bottom;\n  }\n"]);return qe=function(){return e},e}var Ze=l.b.div(qe()),Je=l.b.h6(Ke(),(function(e){return e.channel.total_unread&&"color: ".concat(e.theme.colors.primary)}),(function(e){return null!==e.selectedChannel&&e.channel.id===e.selectedChannel.id&&"font-weight: bold;"})),Xe=c.a.memo((function(e){var n=Object(u.ab)().channelPreviewDate,t=e.className,a=void 0===t?"":t,r=e.search,o=void 0===r?"":r,i=e.selectedChannel,s=e.channel,l=e.dictionary,d=c.a.createElement(c.a.Fragment,null,!!s.is_archived&&c.a.createElement(c.a.Fragment,null,c.a.createElement(y.b,{badgeClassName:"bg-warning-bright",label:"Archived"})),function(e){var n=e;if("DIRECT"===s.type&&s.profile&&(n=s.profile.name),"DIRECT_TEAM"!==s.type&&"TEAM"!==s.type||(n="".concat(l.team," ").concat(s.title)),""===o)return n;var t=n.split(new RegExp("(".concat(o,")"),"gi"));return c.a.createElement("span",null,t.map((function(e){return e.toLowerCase()===o.toLowerCase()?c.a.createElement("b",null,e):e})))}(s.title));return c.a.createElement(Ze,{className:"d-flex justify-content-between align-items-center"},c.a.createElement(Je,{className:"mb-1 ".concat(s.is_read?"":"is-unread"," ").concat(a),selectedChannel:i,channel:s},c.a.createElement(y.u,{direction:"up-start",arrow:!1,content:s.title},c.a.createElement("span",null,d,c.a.createElement("span",{className:"title-data-chat-folder"},function(){switch(s.type){case"TOPIC":return s.workspace_folder?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fa fa-folder-o"})," ",s.workspace_folder.name):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dictionary-label"},l.workspace));default:return null}}())))),c.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:s.last_reply?n(s.last_reply.created_at.timestamp):""}}))})),Qe=t(28);function $e(){var e=Object(o.a)(["\n  position: relative;\n  height: 18px;\n  width: 25px;\n  > svg {\n    position: absolute;\n    top: -1px;\n    height: 20px;\n    width: 20px;\n    left: 1.5px;\n  }\n"]);return $e=function(){return e},e}var en=Object(l.b)(le.c)($e()),nn=function(e){var n=e.selectedChannel,t=e.channel,o=e.moreButton,l=void 0===o?"more-horizontal":o,m=e.onSelectOptions,p=void 0===m?null:m,f=Object(s.c)(),b=Object(ce.a)(),h=document.getElementById("pills-home"),E=Object(u.gb)()._t,g=Object(u.bb)(),v=Object(i.useState)(!1),O=Object(r.a)(v,2),_=O[0],w=O[1],T={mute:E("CHAT.MUTE","Mute this channel"),unmute:E("CHAT.UNMUTE","Unmute this channel"),hide:E("CHAT.HIDE","Hide"),unhide:E("CHAT.UNHIDE","Unhide"),favorite:E("FAVORITE","Favorite"),unfavorite:E("UNFAVORITE","Unfavorite"),markAsUnread:E("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:E("POST.MARK_AS_READ","Mark as read"),unarchive:E("CHAT.UNARCHIVE","Un-archive"),archive:E("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:E("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:E("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),cancel:E("BUTTON.CANCEL","Cancel"),headerArchive:E("HEADER.ARCHIVE","Chat archive"),headerUnarchive:E("HEADER.UNARCHIVE","Un-archive channel"),muteWS:E("CHAT.MUTE_WS","Mute this workspace"),unmuteWS:E("CHAT.UNMUTE_WS","Unmute this workspace"),toasterBellNotificationOff:E("TOASTER.WORKSPACE_BELL_NOTIFICATION_OFF","All notifications are off except for mention and post actions"),toasterBellNotificationOn:E("TOASTER.WORKSPACE_BELL_NOTIFICATION_ON","All notifications for this workspace is ON")},N=function(){t.is_archived?b.unArchive(t):b.archive(t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(en,{channel:t,scrollRef:h,moreButton:l,onClick:p},c.a.createElement("div",{onClick:function(){t.is_pinned?b.unPin(t):b.pin(t)}},t.is_pinned?T.unfavorite:T.favorite),c.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===t.total_unread&&t.is_read?b.markAsUnRead(t):b.markAsRead(t)}(e)}},0===t.total_unread&&!0===t.is_read?T.markAsUnread:T.markAsRead),"TOPIC"===t.type&&c.a.createElement("div",{onClick:function(){if(!_){var e={id:t.entity_id,is_active:!t.is_active};w(!0),f(Object(k.T)(e,(function(n,t){w(!1),n||(e.is_active?g.success(T.toasterBellNotificationOn):g.success(T.toasterBellNotificationOff))})))}}},t.is_active?T.muteWS:T.unmuteWS),"TOPIC"!==t.type&&c.a.createElement("div",{onClick:function(){t.is_muted?b.unMute(t):b.mute(t)}},t.is_muted?T.unmute:T.mute),"PERSONAL_BOT"!==t.type&&c.a.createElement("div",{onClick:function(){t.is_hidden?b.unHide(t):b.hide(t),t.total_unread>0&&b.markAsRead(t),n&&(n.id,t.id)}},t.is_hidden?T.unhide:T.hide),!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(t.type)&&c.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:T.headerArchive,submitText:T.archive,cancelText:T.cancel,bodyText:T.chatArchiveConfirmation,actions:{onSubmit:N}};t.is_archived&&(e=Object(a.a)(Object(a.a)({},e),{},{headerText:T.headerUnarchive,submitText:T.unarchive,bodyText:T.chatUnarchiveConfirmation})),f(Object(d.a)(e))}},t.is_archived?T.unarchive:T.archive)))};function tn(){var e=Object(o.a)(["\n  display: inline-flex;\n  align-items: center;\n  height: 18px;\n  padding: 5px !important;\n  color: #363636;\n  font-size: 10px;\n  letter-spacing: 0;\n  line-height: 12px;\n  ","\n"]);return tn=function(){return e},e}function an(){var e=Object(o.a)(["\n  width: 0.7rem;\n  height: 0.7rem;\n"]);return an=function(){return e},e}function rn(){var e=Object(o.a)(["\n  display: inline-block;\n  align-items: center;\n"]);return rn=function(){return e},e}function on(){var e=Object(o.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: "," !important;\n    display: none;\n  }\n"]);return on=function(){return e},e}function cn(){var e=Object(o.a)(["\n  position: relative;\n  top: -2px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]);return cn=function(){return e},e}function sn(){var e=Object(o.a)(["\n  max-width: 12px;\n"]);return sn=function(){return e},e}function ln(){var e=Object(o.a)(["\n  color: #363636;\n  font-size: 12px;\n  min-width: 200px;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 2;\n  width: calc(100% - ","px);\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n  .dark & {\n    color: #c7c7c7;\n  }\n"]);return ln=function(){return e},e}function dn(){var e=Object(o.a)([""]);return dn=function(){return e},e}function mn(){var e=Object(o.a)([""]);return mn=function(){return e},e}function un(){var e=Object(o.a)(["\n  display: flex;\n"]);return un=function(){return e},e}function pn(){var e=Object(o.a)(["\n  //display: flex;\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n  font-weight: ",";\n"]);return pn=function(){return e},e}var fn=l.b.span(pn(),(function(e){return e.hasUnRead?"500":"normal"})),bn=l.b.span(un()),hn=l.b.span(mn()),En=l.b.span(dn()),gn=l.b.div(ln(),(function(e){return e.iconWidth})),vn=Object(l.b)(y.s)(sn()),On=Object(l.b)(y.t)(cn()),_n=l.b.span(on(),(function(e){return e.theme.colors.primary})),wn=l.b.div(rn()),Tn=Object(l.b)(y.t)(an()),Nn=l.b.div(tn(),(function(e){return e.isTeam&&"background:#D1EEFF !important;"})),kn=function(e){var n=e.channel,t=e.drafts,a=e.dictionary,o=e.selectedChannel,l=Object(s.d)((function(e){return e.settings.user.CHAT_SETTINGS})),d=Object(s.d)((function(e){return e.session.user})),m=Object(s.d)((function(e){return e.workspaces.workspaces})),u=Object(i.useState)(0),p=Object(r.a)(u,2),f=p[0],b=p[1],h={icons:Object(i.useRef)(null)},E=!1,g="",v="",O=Object(Qe.renderToString)(c.a.createElement(wn,{className:"chat-header-badge"},"TOPIC"===n.type&&!n.is_archived&&m.hasOwnProperty(n.entity_id)&&1===m[n.entity_id].is_lock&&1===m[n.entity_id].active&&c.a.createElement(On,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===n.type&&m.hasOwnProperty(n.entity_id)&&m[n.entity_id].is_shared&&c.a.createElement(Nn,{className:"badge badge-external mr-1",isTeam:!!n.team},c.a.createElement(Tn,{icon:n.team?"eye-off":"eye",className:"mr-1"}),n.team?a.withTeam:a.withClient)));if(n.last_reply&&l.preview_message){if(n.last_reply.is_deleted)v='<span class="is-deleted">'+a.messageRemoved+"</span>";else{var _=n.is_translate&&n.last_reply.translated_body?n.last_reply.translated_body:n.last_reply.body,w=document.createElement("div");w.innerHTML=_;for(var T=w.getElementsByClassName("OriginalHtml");T[0];)T[0].parentNode.removeChild(T[0]);v=w.innerHTML,v=Object(de.k)(n.last_reply.body),v=Object(Qe.renderToString)(c.a.createElement(bn,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:v}}));try{v=v.replace(/<?(data-value)="[^"]*"/g," ").replace(/(<([^>]+)>)/gi," ")}catch(j){v=Object(de.j)(v)}}(""===n.last_reply.body||n.last_reply.files&&n.last_reply.files.length||n.replies.length&&n.replies[n.replies.length-1].files.length||n.last_reply.body.match(/<img/))&&(E=!0);var N=(g+=v).replace(/\s/g,"");if(E&&(g=Object(Qe.renderToString)(c.a.createElement(vn,{icon:"image-video"}))+g),n.last_reply.user){if(n.last_reply.body.includes("POST_CREATE::"))if(""!==n.last_reply.body.replace("POST_CREATE::","").trim()){var k=JSON.parse(n.last_reply.body.replace("POST_CREATE::",""));g="".concat(k.author.first_name," has created the post ").concat(k.post.title)}n.last_reply.body.includes("ZOOM_MESSAGE::")&&(g="I started a ZOOM meeting: Click here to join"),n.last_reply.body.includes("ZAP_SUBMIT::")&&(g="System message update...");n.last_reply.user&&n.last_reply.user.id===d.id?(!N&&E&&(g+="Photo"),g=O+Object(Qe.renderToString)(c.a.createElement(En,{className:"last-reply-name"},a.you,":"))+" "+g):g=O+Object(Qe.renderToString)(c.a.createElement(En,{className:"last-reply-name"},n.last_reply.user.first_name,":"))+" "+g,g=(g=g.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")}else{if(g=O+"System message update...",n.last_reply.body.includes("POST_CREATE::"))if(""!==n.last_reply.body.replace("POST_CREATE::","").trim()){var y=JSON.parse(n.last_reply.body.replace("POST_CREATE::",""));g=O+"".concat(y.author.first_name," has created the post ").concat(y.post.title)}}"undefined"!==typeof t[n.id]&&(t[n.id].text&&"<div><br></div>"!==t[n.id].text?g=O+"DRAFT:&nbsp;".concat(Object(Qe.renderToString)(c.a.createElement(hn,{dangerouslySetInnerHTML:{__html:t[n.id].text.replace(/(<([^>]+)>)/gi," ")}}))):t[n.id].reply_quote&&(g=O+"QUOTE:&nbsp;".concat(t[n.id].reply_quote.body,"&nbsp;~").concat(t[n.id].reply_quote.user.name)))}else g=O;Object(i.useEffect)((function(){h.icons.current&&b(h.icons.current.clientWidth)}),[h.icons,n]);var A=!1===n.add_user&&(!n.is_read||n.total_unread>0);return c.a.createElement(fn,{hasUnRead:n.total_unread>0,className:"d-flex justify-content-between align-items-center small text-muted "},c.a.createElement(gn,{iconWidth:f,isUnread:n.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:g}}),c.a.createElement("div",{ref:h.icons,className:"chat-timestamp d-inline-flex justify-content-center align-items-end flex-row-reverse"},c.a.createElement(nn,{className:"ml-1",moreButton:"chevron-down",selectedChannel:o,channel:n}),0===n.total_unread&&!1===n.is_read?c.a.createElement(c.a.Fragment,null,c.a.createElement(_n,{className:"badge badge-primary badge-pill ml-1"},"\xa0")):c.a.createElement(c.a.Fragment,null,A&&c.a.createElement(_n,{className:"badge badge-primary badge-pill ml-1 ".concat(n.is_read||0!==n.total_unread?"":"unread")},n.total_unread>0?n.total_unread:n.is_read?null:"0")),n.is_muted&&c.a.createElement(On,{icon:"volume-x",className:"".concat(n.is_pinned&&"mr-1")}),!1===n.is_active&&"TOPIC"===n.type&&c.a.createElement(On,{icon:"bell-off",className:"".concat(n.is_pinned&&"mr-1")})))},yn=t(799);function An(){var e=Object(o.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n  &:focus,\n  &:hover {\n    background: #f0f0f050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n    .more-options {\n      display: inline-flex;\n      opacity: 1;\n      z-index: 1;\n      &.active {\n        color: #4d4d4d !important;\n      }\n    }\n    h6 {\n      color: ",";\n    }\n  }\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: ",";\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n  &:focus {\n    background: #f1f2f7;\n  }\n  .dark & {\n    :focus {\n      background: #25282c;\n    }\n  }\n"]);return An=function(){return e},e}var jn=l.b.li(An(),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.theme.colors.primary}),(function(e){return e.selected&&"color: ".concat(e.theme.colors.primary,";")}),(function(e){return e.selected&&"content: '';"}),(function(e){return e.theme.colors.primary})),Cn=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.channel,o=e.selectedChannel,l=e.channelDrafts,d=e.dictionary,m=e.addLoadRef,u=e.onLoadMore,p=e.onSelectChannel,f=e.onClearSearch,b=e.firstRef,h=void 0===b?null:b,E=e.tabIndex,g=(e.index,Object(s.d)((function(e){return e.chat.chatSidebarSearch}))),v=Object(yn.b)({threshold:1}),O=Object(r.a)(v,2),_=O[0],w=O[1];Object(i.useEffect)((function(){m&&w&&u()}),[m,w]);return c.a.createElement(jn,{ref:h,className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(t),selected:null!==o&&a.id===o.id,onClick:function(){p(a)},tabIndex:E,onKeyDown:function(e){return function(e,n){if(""!==g){if(e.preventDefault(),e.stopPropagation(),"Enter"===e.key&&(p(a),f()),"ArrowDown"===e.key){var t=document.querySelector('.channel-list[tabindex="'.concat(E+1,'"]'));t&&t.focus()}if("ArrowUp"===e.key&&e.currentTarget.previousSibling&&E>1){var r=document.querySelector('.channel-list[tabindex="'.concat(E-1,'"]'));r&&r.focus()}}}(e)}},c.a.createElement(se.a,{channel:a}),c.a.createElement("div",{className:"channel-info",ref:m?_:null},c.a.createElement("div",{className:"channel-title-preview"},c.a.createElement(Xe,{className:"chat-date-icons",selectedChannel:o,channel:a,dictionary:d})),c.a.createElement(kn,{channel:a,drafts:l,dictionary:d,selectedChannel:o}),c.a.createElement("div",{className:"d-flex"},a.is_hidden&&c.a.createElement(c.a.Fragment,null,c.a.createElement(y.b,{label:"Hidden"})))))})),xn=t(899);function Sn(){var e=Object(o.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n  margin-left: auto;\n  svg {\n    cursor: pointer;\n  }\n"]);return Sn=function(){return e},e}function In(){var e=Object(o.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 12px;\n"]);return In=function(){return e},e}function Rn(){var e=Object(o.a)(["\n  background: ",";\n  color: #fff !important;\n  min-height: 18px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  position: absolute;\n  right: 0px;\n  bottom: 1px;\n  width: 18px;\n  height: 18px;\n  font-size: 11px;\n  &.unread {\n    color: "," !important;\n    display: none;\n  }\n"]);return Rn=function(){return e},e}function Pn(){var e=Object(o.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-right: 0.5rem;\n  .more-options {\n    margin-top: 0.5rem;\n    position: static;\n    opacity: 0;\n    svg {\n      position: relative;\n    }\n  }\n  .feather-more-horizontal {\n    width: 20px;\n    height: 18px;\n    vertical-align: initial;\n  }\n  :hover {\n    .more-options {\n      opacity: 1;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return Pn=function(){return e},e}function Dn(){var e=Object(o.a)(["\n  padding: 0 24px;\n  ul {\n    margin: 0;\n    padding-left: 0;\n    //overflow: auto;\n    overflow-y: hidden;\n    overflow-x: auto;\n    display: flex;\n    flex-grow: 1;\n    .dark & {\n      border-bottom-color: rgba(155, 155, 155, 0.2) !important;\n    }\n    .fav-channel {\n      padding-right: 0 !important;\n      cursor: pointer;\n    }\n  }\n  // .more-options-tooltip {\n  //   position: fixed;\n  //   top: 240px;\n  //   left: ",";\n  //   &.orientation-left {\n  //     left: ",";\n  //   }\n  // }\n  .feather-star,\n  .feather-volume-x {\n    position: absolute;\n    background-color: unset;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    z-index: 1;\n  }\n  .feather-star {\n    bottom: 0;\n    left: 0;\n    fill: rgb(255, 193, 7);\n    // color: rgb(255, 193, 7);\n    width: 20px;\n    height: 20px;\n    color: #fff;\n    .dark & {\n      color: #191c20;\n    }\n  }\n  .feather-volume-x {\n    bottom: 0;\n    right: 0;\n    background-color: #fff;\n    border: 2px solid #fff;\n    color: ",";\n    .dark & {\n      background-color: #191c20;\n      color: #fff;\n      border: 2px solid #191c20;\n    }\n  }\n  .feather-eye,\n  .feather-eye-off {\n    top: -2px;\n    right: 0px;\n  }\n  .more-options {\n    display: none;\n  }\n  :hover {\n    .more-options {\n      display: block;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return Dn=function(){return e},e}var Ln=l.b.div(Dn(),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left,"px"):"30px"}),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left-170,"px"):"30px"}),(function(e){return e.theme.colors.primary})),Fn=l.b.div(Pn()),Mn=l.b.div(Rn(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),Un=l.b.div(In()),Hn=l.b.div(Sn()),Wn=function(e){var n=e.channels,t=e.onSelectChannel,a=Object(u.gb)()._t,r=Object(u.w)(),o=r.filterChannel,i=r.chatSettings,s={showUnreadChats:a("TOOLTIP.SHOW_UNREAD_CHATS","Filter on unread chat channels only "),hideUnreadChats:a("TOOLTIP.HIDE_UNREAD_CHATS","Hide unread chats")},l=function(e){t(e)};return c.a.createElement(Ln,{className:"mb-2"},c.a.createElement(Un,null,n.length>0&&c.a.createElement("ul",null,n.map((function(e){return c.a.createElement(Fn,{key:e.id},c.a.createElement(se.a,{channel:e,className:"fav-channel",onSelectChannel:function(){return l(e)},showSlider:!1},c.a.createElement(y.t,{icon:"star"}),e.is_muted&&c.a.createElement(y.t,{icon:"volume-x"}),!e.is_muted&&c.a.createElement(Mn,{className:"badge badge-pill ml-1 ".concat(e.is_read||0!==e.total_unread?"":"unread")},e.total_unread>9?"".concat(e.total_unread,"+"):e.total_unread>0?e.total_unread:e.is_read?null:"0")))}))),c.a.createElement(Hn,null,c.a.createElement(T.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:s.showUnreadChats},c.a.createElement(y.t,{icon:i.filter_channel?"filter-active":"filter",onClick:function(){o()}})))))};function zn(){var e=Object(o.a)(["\n  font-weight: 300;\n  margin: 24px 0 6px 0;\n"]);return zn=function(){return e},e}function Bn(){var e=Object(o.a)(["\n  border-bottom: 1px solid #ebebeb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n"]);return Bn=function(){return e},e}function Gn(){var e=Object(o.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  height: inherit;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]);return Gn=function(){return e},e}function Vn(){var e=Object(o.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  height: inherit;\n"]);return Vn=function(){return e},e}var Yn=l.b.div(Vn()),Kn=l.b.ul(Gn()),qn=l.b.div(Bn()),Zn=l.b.h4(zn()),Jn=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=e.search,l=e.workspace,d=e.dictionary,m=Object(i.useRef)(null),p=Object(s.d)((function(e){return e.chat.channels})),f=Object(s.d)((function(e){return e.chat.selectedChannel})),b=Object(i.useState)(!1),h=Object(r.a)(b,2),E=h[0],g=h[1],v=Object(u.b)(),O=Object(u.X)(Object.values(p),o,{},l),_=O.favoriteChannels,w=O.sortedChannels,T=O.searchArchivedChannels,N=O.filterUnreadChannels,k=Object(s.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),y=Object(ie.g)(),A=Object(s.d)((function(e){return e.chat.channelDrafts})),j=Object(s.d)((function(e){return e.chat.fetch})),C=j.skip,x=j.fetching,S=j.hasMore,I=function(){x||!S||E||(g(!0),v.loadMore({skip:C},(function(){return g(!1)})))},R=function(){v.searchArchivedChannels(!T)},P=function(e){document.body.classList.add("m-chat-channel-closed");var n=document.getElementById("toastS");if(n&&me.isMobile&&n.classList.add("d-none"),null!==f&&!k){var t=document.getElementById("component-chat-thread");t&&v.saveHistoricalPosition(f.id,t)}v.select(Object(a.a)(Object(a.a)({},e),{},{selected:!0})),e.hasOwnProperty("add_user")&&!0===e.add_user||y.push("/chat/".concat(e.code))},D=function(){v.setSidebarSearch({value:"",searching:!1})};return c.a.createElement(Yn,{className:"chat-lists ".concat(t)},c.a.createElement(Wn,{channels:_,onSelectChannel:P}),c.a.createElement(Kn,{className:"list-group list-group-flush channels"},w.map((function(e,n,t){var a="",r=!1;if(0!==n){var i=t[n-1],s=e;"PERSONAL_BOT"===i.type&&"PERSONAL_BOT"!==s.type?a=(s.is_relevant,d.chats):i.is_relevant&&!s.is_relevant?i.add_user||i.add_open_topic||!s.add_user&&!s.add_open_topic||(a=d.contacts):i.is_relevant||s.is_relevant||i.add_user||i.add_open_topic||!s.add_user&&!s.add_open_topic||(a=d.contacts)}else"PERSONAL_BOT"===e.type?a=d.personalBot:e.is_relevant&&e.add_user?a=d.chats:e.add_user||e.add_open_topic?a=d.contacts:(a=d.chats,r=!0);return c.a.createElement(c.a.Fragment,{key:e.id},""!==o&&""!==a&&c.a.createElement(qn,null,c.a.createElement(Zn,null,a," "),r&&c.a.createElement(xn.a,{className:"cursor-pointer text-muted",checked:T,type:"switch",id:"show_archive",name:"show archive",onChange:R,label:c.a.createElement("span",null,d.showArchived)})),c.a.createElement(Cn,{index:n,className:0===n?"first-channel channel-list":"channel-list",firstRef:0===n?m:null,tabIndex:n+1,channel:e,selectedChannel:f,channelDrafts:A,dictionary:d,search:o,addLoadRef:""===o&&n>w.length-5,onLoadMore:I,onSelectChannel:P,onClearSearch:D}))})),!0===l&&0===w.length||N&&0===w.length?c.a.createElement("li",null,c.a.createElement("h4",null,d.nothingToSeeHere)):0===w.length&&""!==o&&c.a.createElement("li",null,c.a.createElement("h4",null,d.noMatchingChats))))}));function Xn(){var e=Object(o.a)(["\n  // overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 991.99px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n  // .tab-panel {\n  //   overflow-x: hidden;\n  // }\n  .tab-content,\n  .tab-panel {\n    display: flex;\n    height: 100%;\n  }\n  .tab-content {\n    flex-flow: column;\n  }\n  .badge-filter {\n    width: 130px;\n  }\n"]);return Xn=function(){return e},e}var Qn=l.b.div(Xn()),$n=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.pill,r=void 0===a?"pills-home":a,o=e.search,i=e.dictionary,s=e.resetFilter;return c.a.createElement(Qn,{className:"chat-sidebar-content ".concat(t),tabIndex:"1"},c.a.createElement("div",{className:"tab-content pt-2",id:"pills-tabContent"},"pills-workspace"===r&&c.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:s},c.a.createElement(y.t,{className:"mr-1",icon:"x",width:11,height:11,onClick:s})," Workspace chats"),"pills-home"===r&&c.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===r&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},c.a.createElement(Jn,{search:o,workspace:null,dictionary:i})),"pills-workspace"===r&&c.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===r&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},c.a.createElement(Jn,{search:o,workspace:!0,dictionary:i}))))})),et=t(164);function nt(){var e=Object(o.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    border: "," !important;\n  }\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n"]);return nt=function(){return e},e}function tt(){var e=Object(o.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]);return tt=function(){return e},e}function at(){var e=Object(o.a)(["\n  z-index: 2;\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: ",";\n            color: #ffffff;\n            border-color: ",';\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    background: rgb(222, 226, 230);\n    .dark & {\n      background: #333539;\n    }\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .chat-sidebar-options-container {\n    height: 38px;\n  }\n']);return at=function(){return e},e}var rt=l.b.div(at(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),ot=Object(l.b)(et.a)(tt()),it=Object(l.b)(le.c)(nt(),(function(e){return e.theme.colors.primary}),(function(e){return"1px solid ".concat(e.theme.colors.primary)})),ct=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=Object(ie.i)(),l=Object(s.c)(),m=Object(s.d)((function(e){return e.chat.searchArchivedChannels})),p=Object(u.T)(),f=p.chatSettings,b=p.setChatSetting,h=Object(u.b)(),E=Object(s.d)((function(e){return e.chat.chatSidebarSearch}));Object(u.D)();var g=Object(s.d)((function(e){return e.chat.searchingChannels})),v=Object(i.useState)(""),O=Object(r.a)(v,2),_=O[0],w=O[1],T=Object(i.useState)(""),N=Object(r.a)(T,2),k=N[0],A=N[1],j=Object(i.useState)(f.chat_filter),C=Object(r.a)(j,2),x=C[0],S=C[1],I={container:Object(i.useRef)(null),navTab:Object(i.useRef)(null)},R=Object(i.useRef)(null);Object(i.useEffect)((function(){var e=setTimeout((function(){if(h.setSidebarSearch({value:k,searching:""!==k.trim()}),""!==k.trim()){var e={search:k,skip:0,limit:25};m&&(e=Object(a.a)(Object(a.a)({},e),{},{filter:"archived"})),h.search(e,(function(e,n){if(R.current&&R.current.blur(),!e){var t=document.querySelector(".first-channel");t&&t.focus()}}))}}),300);return function(){return clearTimeout(e)}}),[k,m]);var P=function(){w(""),A("")},D=function(){S("pills-home")},L=function(e){x===e.target.getAttribute("aria-controls")?D():S(e.target.getAttribute("aria-controls"))},F=Object(u.gb)()._t,M={chats:F("CHAT.CHATS","Chats"),contacts:F("CHAT.CONTACTS","Contacts"),workspaceChats:F("CHAT.WORKSPACE_CHATS","Workspace chats"),recentChats:F("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:F("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:F("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:F("CHAT.RECENT","Recent"),favorite:F("CHAT.FAVORITE","Favorite"),hidden:F("CHAT.HIDDEN","Hidden"),pinned:F("CHAT.PINNED","Pinned"),startNew:F("CHAT.START_NEW","Start new"),viewOpenWorkspace:F("CHAT.VIEW_OPEN_WORKSPACE","View open workspace"),archived:F("CHAT.ARCHIVED","Archived"),nothingToSeeHere:F("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:F("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:F("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:F("CHAT.PERSONAL_BOT","Personal bot"),you:F("CHAT.PREVIEW_AUTHOR_YOU","You"),showArchived:F("CHAT.SHOW_ARCHIVED","Show archived"),withTeam:F("CHANNEL.WITH_TEAM","Team Chat"),withClient:F("CHANNEL.WITH_CLIENT","Client Chat"),team:F("TEAM","Team")};return Object(i.useEffect)((function(){f.chat_filter!==x&&b({chat_filter:x})}),[f.chat_filter,x]),Object(i.useEffect)((function(){""===E?P():w(E)}),[E]),Object(i.useEffect)((function(){if(o.messageId){document.body.classList.add("m-chat-channel-closed");var e=document.getElementById("toastS");return e&&me.isMobile&&e.classList.add("d-none"),function(){e&&me.isMobile&&e.classList.remove("d-none")}}}),[]),c.a.createElement(rt,{ref:I.container,className:"chat-sidebar ".concat(t)},c.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start align-items-center"},c.a.createElement(ot,{onChange:function(e){A(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&P()},value:k,onClickEmpty:P,closeButton:"true",searching:g,className:"chat-search",placeholder:M.searchChatPlaceholder,ref:R}),c.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2 chat-sidebar-options-container"},c.a.createElement(it,{role:"tabList"},c.a.createElement("div",{className:"option-filter ".concat("pills-home"===x?"active":""),onClick:L,"aria-controls":"pills-home","aria-selected":"false"},M.chats),c.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===x?"active":""),onClick:L,"aria-controls":"pills-workspace","aria-selected":"false"},M.workspaceChats),c.a.createElement("div",{className:"d-flex",onClick:function(){l(Object(d.a)({type:"chat_create_edit",mode:"new"}))}},c.a.createElement(y.t,{className:"mr-2",width:14,height:14,icon:"plus"})," ",M.newGroupChat)))),c.a.createElement($n,{pill:x,search:_,dictionary:M,resetFilter:D}))})),st=t(9),lt=t(34);function dt(){var e=Object(o.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0.5em !important;\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaa;\n      pointer-events: none;\n    }\n  }\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaa;\n  }\n  .btn-cross {\n    position: absolute;\n    right: 45px;\n    opacity: 0;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n  .not-empty .btn-cross {\n    z-index: 9;\n    opacity: 1;\n  }\n  .loading {\n    height: 1rem;\n    width: 1rem;\n  }\n"]);return dt=function(){return e},e}function mt(){var e=Object(o.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n  color: #8b8b8b;\n  .dark & {\n    color: #c7c7c7;\n  }\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return mt=function(){return e},e}function ut(){var e=Object(o.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  height: calc(100% - 43px);\n"]);return ut=function(){return e},e}function pt(){var e=Object(o.a)(["\n  cursor: pointer;\n  background: transparent;\n  font-size: 0.835re;\n  padding: 5px 20px;\n  margin-top: 0;\n  border-radius: 0;\n  border-left: none;\n  border-right: none;\n  border-top: none;\n  border-bottom: 1px solid #ebebeb;\n  .dark & {\n    border-color: rgba(155, 155, 155, 0.1);\n    color: #c7c7c7;\n  }\n  color: #495057;\n  .chat-search-header span {\n    font-size: smaller;\n    margin: 0;\n  }\n  div.chat-search-body {\n    font-size: 0.835re;\n  }\n  div.chat-search-body span {\n    font-weight: 600;\n    color: ",";\n    .dark & {\n      color: #fff;\n    }\n  }\n  :focus {\n    background-color: #f0f0f050;\n  }\n"]);return pt=function(){return e},e}function ft(){var e=Object(o.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  li:last-child {\n    border-bottom: none;\n  }\n"]);return ft=function(){return e},e}function bt(){var e=Object(o.a)(["\n  cursor: pointer;\n"]);return bt=function(){return e},e}function ht(){var e=Object(o.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  transform: translateX(100%);\n  transition: 0.1s ease-out;\n  padding: 0 1em;\n  margin-right: -10px;\n  z-index: 3;\n  background: #fff;\n  color: #8b8b8b;\n  ","\n  .dark & {\n    background: #191c20;\n    color: #c7c7c7;\n  }\n"]);return ht=function(){return e},e}var Et=l.b.div(ht(),(function(e){return e.isActive&&"transform: translateX(0%);margin:0px;"})),gt=Object(l.b)(y.t)(bt()),vt=l.b.ul(ft()),Ot=l.b.li(pt(),(function(e){return e.theme.colors.primary})),_t=l.b.div(ut()),wt=l.b.div(mt()),Tt=l.b.form(dt()),Nt=function(e){var n=e.showSearchPanel,t=e.handleSearchChatPanel,a=e.selectedChannel,o=e.newSeachToogle,s=e.user,l=Object(i.useState)(0),d=Object(r.a)(l,2),m=d[0],p=d[1],f=Object(i.useRef)(),b=Object(i.useRef)(null),h=Object(i.useRef)(),E=Object(u.ab)().localizeChatDate,g=Object(u.gb)()._t,v=Object(i.useState)(""),O=Object(r.a)(v,2),_=O[0],w=O[1],T=Object(i.useState)(!1),N=Object(r.a)(T,2),k=N[0],A=N[1],j=Object(i.useState)([]),C=Object(r.a)(j,2),x=C[0],S=C[1],I={noItemsFoundHeader:g("CHATSEARCH.NO_ITEMS_FOUND_HEADER","WOO!"),noItemsFoundText:g("CHATSEARCH.NO_ITEMS_FOUND_TEXT","Nothing here but me\u2026 \ud83d\udc7b"),you:g("CHATSEARCH.YOU","You")},R=function(){S([]),w(""),A(!1)},P=Object(u.O)(),D=function(e){t(),P.toChat(a,e)},L=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(lt.n)({channel_id:a.id,is_translate:a.is_translate,search:e,skip:n,limit:20}).then((function(e){return e})).then((function(e){t?(setTimeout((function(){b.current&&b.current.focus()}),500),S([e.data.results]),p(0)):S([].concat(Object(st.a)(x),[e.data.results]))}))};return Object(i.useEffect)((function(){null!==a&&m>0&&(A(!0),L(_,m))}),[m]),Object(i.useEffect)((function(){setTimeout((function(){k&&A(!k)}),200)}),[x]),Object(i.useEffect)((function(){R()}),[o]),Object(i.useEffect)((function(){if(_.length>2){f.current.classList.add("not-empty"),A(!0);var e=setTimeout((function(){L(_,0,!0),h.current&&h.current.blur()}),1e3);return function(){return clearTimeout(e)}}S([]),f.current.classList.remove("not-empty")}),[_]),c.a.createElement(Et,{isActive:n},c.a.createElement("div",{className:"d-flex justify-content-between align-items-flex-start align-items-center mb-2"},c.a.createElement(gt,{icon:"chevron-left",onClick:t}),c.a.createElement(Tt,{className:"chat-search-chat"},c.a.createElement("div",{className:"input-group",ref:f},c.a.createElement("input",{ref:h,onChange:function(e){return w(e.target.value)},value:_,type:"text",className:"form-control",placeholder:"Search",onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&R()}}),c.a.createElement("button",{onClick:R,className:"btn-cross",type:"button"},k?c.a.createElement(y.k,null):c.a.createElement(y.t,{icon:"x"})),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-light",type:"button"},c.a.createElement("i",{className:"ti-search"})))))),c.a.createElement(_t,{className:"justify-content-between align-items-center",onScroll:function(e){e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight&&p(m+20)}},c.a.createElement(vt,null," ",n&&function(e){var n=e.map((function(e){return e.map((function(e,n){var t=e.user&&e.user.id===s.id;return c.a.createElement(Ot,{onClick:function(n){return D(e)},key:e.id,ref:0===n?b:null,autoFocus:0===n,onKeyDown:function(t){return function(e,n,t){"Enter"===e.key&&D(t),"ArrowDown"===e.key&&e.currentTarget.nextSibling&&e.currentTarget.nextSibling.focus(),"ArrowUp"===e.key&&e.currentTarget.previousSibling&&n>0&&e.currentTarget.previousSibling.focus()}(t,n,e)},tabIndex:n+1},c.a.createElement("div",{className:"d-flex align-items-center chat-search-header"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},c.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},c.a.createElement("div",null,c.a.createElement("span",null,t?I.you:e.user.name))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",null,c.a.createElement("span",null,E(e.created_at.timestamp,"ddd, MMM DD, YYYY")))))),c.a.createElement("div",{className:"chat-search-body mb-2",dangerouslySetInnerHTML:{__html:e.body}}))}))}));return n[0]&&n[0].length?n:c.a.createElement(wt,null," ",c.a.createElement("h3",null,I.noItemsFoundHeader),c.a.createElement("h5",null,I.noItemsFoundText," ")," ")}(x)," ")))};function kt(){var e=Object(o.a)(["\n  circle {\n    fill: #cacaca;\n  }\n  :hover {\n    circle {\n      fill: #2196f3;\n    }\n  }\n"]);return kt=function(){return e},e}function yt(){var e=Object(o.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n    cursor: pointer;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  // .btn-meet {\n  //   img {\n  //     width: 24px;\n  //     height: 24px;\n  //     vertical-align: top;\n  //     margin-bottom: -5px;\n  //   }\n  // }\n  @media (max-width: 414px) {\n    min-width: ",";\n    .btn-zoom,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n    .btn-zoom {\n      padding: 10px 0;\n    }\n  }\n  .zoom-icon {\n    cursor: pointer;\n  }\n  .feather-google-meet {\n    height: 20px;\n    width: 21px;\n  }\n  .feather-zoom {\n    width: 24px;\n    height: 24px;\n  }\n"]);return yt=function(){return e},e}function At(){var e=Object(o.a)(["\n  width: 40px;\n  display: flex;\n  align-items: center;\n  padding: 12px 10px;\n  align-self: flex-end;\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n  .loading {\n    width: 1rem;\n    height: 1rem;\n  }\n  &.btn-zoom {\n    padding: 10px;\n  }\n"]);return At=function(){return e},e}var jt=l.b.div(At()),Ct=l.b.div(yt(),(function(e){return e.editMode&&!e.clientChat?"160px":e.editMode&&e.clientChat?"120px":!e.editMode&&e.clientChat?"80px":"120px"}),(function(e){return e.clientChat&&e.showButtons&&e.editMode?"120px":e.clientChat&&e.showButtons&&!e.editMode?"90px":e.showButtons&&e.editMode?"150px":e.showButtons?"120px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),xt=Object(l.b)(y.t)(kt()),St=c.a.memo((function(e){var n=e.channel,t=e.showEmojiPicker,a=e.handleShowEmojiPicker,o=e.handleZoomMeet,l=e.onShowFileDialog,d=e.editChatMessage,m=e.quote,u=e.dictionary,p=Object(s.c)(),f=Object(s.d)((function(e){return e.workspaces.workspaces})),b=Object(i.useState)(!1),h=Object(r.a)(b,2),E=h[0],g=h[1],v=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},O=n&&f[n.entity_id]&&f[n.entity_id].is_shared&&f[n.entity_id].channel.id===n.id;return c.a.createElement(Ct,{editMode:null!==d,showButtons:E,clientChat:O},d&&c.a.createElement(jt,null,c.a.createElement(T.a,{arrowSize:5,distance:10,onToggle:v,content:u.closeEdit},c.a.createElement(y.t,{className:"close-button",icon:"x",onClick:function(){m&&p(Object(N.o)(m)),null!==d&&p(Object(N.Pb)(null))}}))),c.a.createElement(jt,{className:"btn-smile"},c.a.createElement(T.a,{arrowSize:5,distance:10,onToggle:v,content:"Emoji"},c.a.createElement(y.t,{className:"".concat(t?"active":""),onClick:a,icon:"smile"}))),c.a.createElement(jt,{className:"btn-zoom"},c.a.createElement(T.a,{arrowSize:5,distance:10,onToggle:v,content:"Zoom"},c.a.createElement(xt,{onClick:o,icon:"zoom",viewBox:"0 0 48 48"}))),c.a.createElement(jt,{className:"btn-paperclip"},c.a.createElement(T.a,{arrowSize:5,distance:10,onToggle:v,content:u.attachFiles},c.a.createElement(y.t,{onClick:l,icon:"paperclip"}))),c.a.createElement(jt,{className:"chat-buttons"},c.a.createElement(y.t,{onClick:function(){g((function(e){return!e}))},icon:E?"x":"more-vertical"})))}));function It(){var e=Object(o.a)(["\n  font-weight: 600;\n  cursor: pointer;\n"]);return It=function(){return e},e}function Rt(){var e=Object(o.a)(["\n  font-size: 13px;\n  font-weight: 600;\n  .card {\n    overflow: visible;\n  }\n  .custom-switch {\n    input {\n      cursor: pointer;\n    }\n  }\n"]);return Rt=function(){return e},e}l.b.div(Rt()),l.b.span(It());function Pt(){var e=Object(o.a)([""]);return Pt=function(){return e},e}var Dt=l.b.div(Pt()),Lt=function(e){e.className;var n=e.selectedChannel,t=e.chatMessageActions,r=e.translated_channels,o=(Object(ie.g)(),Object(s.c)()),l=Object(u.bb)(),d=Object(u.T)().setGeneralSetting,m=Object(u.gb)()._t,p={chatTranslateOn:m("SETTINGS.CHAT_TRANSLATE_TITLE_ON","Turn ON chat translate."),chatTranslateOff:m("SETTINGS.CHAT_TRANSLATE_TITLE_OFF","Turn OFF chat translate."),chatTranslateIsOn:m("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned ON chat translate."),chatTranslateIsOff:m("SETTINGS.CHAT_TRANSLATE_TITLE_ON","You have successfully turned OFF chat translate")},f=!!(r.length>0&&r.includes(n.id)),b=Object(i.useCallback)((function(e){e.persist();var o=!f||!n.is_translate;t.saveChannelTranslateState(Object(a.a)(Object(a.a)({},n),{},{is_translate:o})),h(Object(a.a)(Object(a.a)({},n),{},{is_translate:o}));var i=n.id;d(o?{translated_channels:[].concat(Object(st.a)(r),[i])}:{translated_channels:r.filter((function(e){return e!==i}))}),l.success(c.a.createElement("span",null,o?p.chatTranslateIsOn:p.chatTranslateIsOff))})),h=Object(i.useCallback)((function(e){o(Object(k.V)(e,(function(){var n=Object(a.a)({},e);o(Object(k.Z)(n))})))}));return c.a.createElement(Dt,{onClick:b},f?p.chatTranslateOff:p.chatTranslateOn)},Ft=t(796),Mt=function(e){var n=e.channel,t=Object(s.d)((function(e){return e.users.teams})),a=n.members;if("TEAM"===n.type||"DIRECT_TEAM"===n.type){var r=Array.from(Object.values(t)).find((function(e){return e.id===n.entity_id}));if(r)a=[{id:r.id,name:r.name,members:r.members,icon_link:r.icon_link}].concat(Object(st.a)(a))}else if("TOPIC"===n.type&&n.team_ids&&n.team_ids.length){var o=Array.from(Object.values(t)).filter((function(e){return n.team_ids.some((function(n){return n===e.id}))})).map((function(e){return{id:e.id,name:e.name,members:e.members,icon_link:e.icon_link}}));a=[].concat(Object(st.a)(o),Object(st.a)(a))}return c.a.createElement("div",{className:"chat-header-right"},c.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(n.type)&&c.a.createElement("li",null,c.a.createElement(Ft.a,{members:a}))))}},827:function(e,n,t){"use strict";t.r(n);var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(6),s=t(44),l=t(4),d=t(13),m=t(11),u=t(70);function p(){var e=Object(r.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return p=function(){return e},e}var f=Object(l.b)(u.c)(p()),b=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.file,o=e.files,c=e.scrollRef,s=void 0===c?null:c,l=e.actions,d=e.forceDelete,u=e.disableOptions,p=Object(m.bb)(),b=Object(m.gb)()._t,h={rename:b("FILES.RENAME","Rename"),restore:b("FILES.RESTORE","Restore"),remove:b("FILES.REMOVE","Remove"),viewDetails:b("FILES.VIEW_DETAILS","View details"),share:b("FILES.SHARE","Share"),download:b("FILES.DOWNLOAD","Download"),moveTo:b("FILES.MOVE_TO","Move to"),favorite:b("FILES.FAVORITE","Favorite"),unfavorite:b("FILES.UNFAVORITE","Unfavorite")};return i.a.createElement(f,{className:"file-options ".concat(t),moreButton:"more-horizontal",file:r,scrollRef:s},i.a.createElement("div",{onClick:function(){l.viewCompanyFiles(r,o)}},h.viewDetails),i.a.createElement("div",{onClick:function(){l.download(r)}},h.download),d?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onClick:function(){l.restoreCompanyFile(r,(function(e,n){n&&(r.folder_id&&"undefined"!==typeof a[r.folder_id]?p.success(i.a.createElement(i.a.Fragment,null,"Item ",i.a.createElement("b",null,r.search)," is restored to #",a[r.folder_id].search," folder.")):p.success(i.a.createElement(i.a.Fragment,null,"Item ",i.a.createElement("span",{className:"font-weight-bold"},r.search)," is restored to #All Files folder.")))}),{message:!1})}},h.restore)):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onClick:function(){l.copyLink(r.view_link)}},h.share),i.a.createElement("div",{onClick:function(){l.favorite(r)}},r.is_favorite?h.unfavorite:h.favorite),i.a.createElement("div",{onClick:function(){l.moveCompanyFile(r)}},h.moveTo),i.a.createElement("div",{onClick:function(){l.renameCompanyFile(r)}},h.rename)),!u&&i.a.createElement("div",{onClick:function(){r.hasOwnProperty("payload_id")?l.unlinkGoogleAttachment(r):l.removeCompanyFile(r,(function(){}),d)}},h.remove))})),h=t(1),E=t(12),g=t(75);function v(){var e=Object(r.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return v=function(){return e},e}function O(){var e=Object(r.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]);return O=function(){return e},e}var _=l.b.div(O()),w=Object(l.b)(E.t)(v()),T=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.folders,c=e.file,s=e.files,l=e.actions,d=e.forceDelete,m=void 0!==d&&d,p=e.disableOptions,f=l.getFileSizeUnit(c.hasOwnProperty("size")&&"number"===typeof c.size?c.size:0),g=Object(o.useState)(c.is_favorite),v=Object(a.a)(g,2),O=v[0],T=v[1],N=Object(o.useState)("undefined"===typeof c.name?c.search:c.name),k=Object(a.a)(N,2),y=k[0],A=k[1],j=function(){l.viewCompanyFiles(c,s)};return Object(o.useEffect)((function(){A("undefined"===typeof c.name?c.search:c.name)}),[c.name,c.search]),i.a.createElement(_,{className:"file-list-item ".concat(t)},i.a.createElement("div",{className:"card  app-file-list"},i.a.createElement("div",{className:"string"===typeof c.id?"app-file-icon uploading cursor-pointer":"app-file-icon uploaded cursor-pointer",onClick:j},!0===O&&i.a.createElement(w,{icon:"star"}),l.getFileIcon(c.mime_type),"number"===typeof c.id&&i.a.createElement(b,{file:c,files:s,folders:r,actions:Object(h.a)(Object(h.a)({},l),{},{favorite:function(){T((function(e){return!e})),l.favorite(c)}}),forceDelete:m,disableOptions:p}),"string"===typeof c.id&&i.a.createElement(u.d,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),i.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:j},i.a.createElement(E.u,{content:y},i.a.createElement("div",{className:"file-name"},c.hasOwnProperty("payload_id")&&i.a.createElement(E.t,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),y)),i.a.createElement("div",{className:"text-muted"},f.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],f.unit))))})),N=t(14),k=t(254),y=t(253),A=t.n(y);function j(){var e=Object(r.a)(["\n  position: absolute;\n  z-index: 2;\n  left: -10px;\n"]);return j=function(){return e},e}function C(){var e=Object(r.a)(["\n  height: 1rem;\n  width: 1rem;\n  display: none;\n  ","\n  ","\n"]);return C=function(){return e},e}function x(){var e=Object(r.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return x=function(){return e},e}function S(){var e=Object(r.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n  ","\n  .app-file-icon:hover {\n    .color-picker {\n      display: block;\n    }\n  }\n"]);return S=function(){return e},e}var I=l.b.div(S(),(function(e){return""!==e.color&&"\n      .app-file-list .app-file-icon {\n      background-color: ".concat(e.color,"!important;\n    }\n    ")})),R=Object(l.b)(E.t)(x()),P=l.b.img(C(),(function(e){return e.disableOptions&&"\n  position: absolute;\n    top: 10px;\n    right: 12px;"}),(function(e){return!e.disableOptions&&"\n    position: absolute;\n      top: 35px;\n      right: 12px;"})),D=l.b.div(j()),L=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.folder,c=e.actions,l=e.history,d=e.params,u=e.handleAddEditFolder,p=e.disableOptions,f=Object(s.j)(),b=f.path,g=f.url,v=Object(o.useRef)(null),O=Object(o.useState)(!1),_=Object(a.a)(O,2),w=_[0],T=_[1],y=Object(o.useState)(r.bg_color?r.bg_color:""),j=Object(a.a)(y,2),C=j[0],x=j[1],S=function(e){if(e.preventDefault(),e.stopPropagation(),r.hasOwnProperty("payload"))window.open(r.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===b){var n=g.split("/folder/")[0];l.push(n+"/folder/".concat(r.id,"/").concat(Object(N.h)(r.search)))}else l.push(l.location.pathname+"/folder/".concat(r.id,"/").concat(Object(N.h)(r.search)))};return Object(o.useEffect)((function(){if(""!==C&&C!==r.bg_color&&!w){var e={id:r.id,name:r.search,bg_color:C};r.parent_folder&&(e=Object(h.a)(Object(h.a)({},e),{},{folder_id:r.parent_folder.id})),c.updateCompanyFolders(e)}}),[w,C]),Object(o.useEffect)((function(){x(r.bg_color)}),[r.bg_color]),Object(m.G)(v,(function(){return T(!w)}),w),i.a.createElement(I,{className:"file-list-item ".concat(t),color:C},i.a.createElement("div",{className:"card  app-file-list"},i.a.createElement("div",{className:"app-file-icon cursor-pointer"},i.a.createElement("div",{onClick:S},r.hasOwnProperty("payload")&&i.a.createElement(R,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),i.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!p&&i.a.createElement(pe,{folder:r,actions:c,history:l,params:d,handleAddEditFolder:u}),i.a.createElement(P,{className:"color-picker",src:A.a,alt:"color picker",disableOptions:p,onClick:function(e){e.stopPropagation(),e.preventDefault(),T(!w)}})),w&&i.a.createElement(D,{ref:v},i.a.createElement(k.a,{color:C,onChange:function(e,n){n.stopPropagation(),x(e.hex)}}))),i.a.createElement("div",{className:"p-2 small cursor-pointer",onClick:S},i.a.createElement(E.u,{content:r.search},i.a.createElement("div",{className:"file-name"},r.search)))))})),F=t(798);function M(){var e=Object(r.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return M=function(){return e},e}function U(){var e=Object(r.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return U=function(){return e},e}function H(){var e=Object(r.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]);return H=function(){return e},e}function W(){var e=Object(r.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return W=function(){return e},e}var z=l.b.div(W()),B=Object(l.b)(u.c)(H()),G=l.b.div(U()),V=l.b.div(M()),Y=i.a.memo((function(e){var n=e.className,r=void 0===n?"":n,s=e.dropZoneRef,l=e.filter,d=e.search,m=e.files,u=e.handleAddEditFolder,p=e.actions,f=e.params,b=e.folders,v=e.folder,O=e.fileIds,_=e.history,w=e.subFolders,N=e.dictionary,k=e.disableOptions,y=e.loadMore,A=e.isLoaded,j=document.querySelector(".app-content-body"),C=Object(c.d)((function(e){return e.session.user})),x={files:Object(o.useRef)(null),btnLoadMore:Object(o.useRef)(null)},S=Object(o.useState)(!1),I=Object(a.a)(S,2),R=I[0],P=I[1],D=function(){s.current&&s.current.open()},M=function(){P(!1)},U=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&x.btnLoadMore.current&&x.btnLoadMore.current.click()};return Object(o.useEffect)((function(){if(x.files.current){var e=x.files.current;return e&&"0"===e.dataset.loaded?(y.files(),e.dataset.loaded="1",x.files.current.addEventListener("scroll",U,!1),function(){return x.files.current.removeEventListener("scroll",U,!1)}):void 0}}),[x.files.current]),i.a.createElement(z,{className:"files-body card app-content-body ".concat(r),onDragOver:function(){["recent","important","removed"].includes(l)||R||P(!0)}},i.a.createElement("span",{className:"d-none",ref:x.btnLoadMore,onClick:y.files},"Load more"),!k&&i.a.createElement(g.a,{ref:s,hide:!R,onDragLeave:M,onDrop:function(e){!function(e){P(!1);var n=Math.floor(Date.now()/1e3),a=new FormData;for(var r in e)e.hasOwnProperty(r)&&(e[r].reference_id=t(56).generate(),a.append("files["+r+"]",e[r]));var o={files:e.map((function(e){return{created_at:{timestamp:n},download_link:null,folder_id:v?v.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:n},user_id:C.id,view_link:null,uploading:!0}})),folder_id:v?v.id:null};p.uploadingCompanyFiles(o);var i={is_primary:0,files:a};f.folderId&&(i=Object(h.a)(Object(h.a)({},i),{},{folder_id:f.folderId})),p.uploadCompanyBulkFiles(i)}(e.acceptedFiles)},onCancel:M,params:f}),i.a.createElement("div",{ref:x.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof m&&i.a.createElement(i.a.Fragment,null,v&&"removed"!==l&&!k&&i.a.createElement(B,{moreButton:"settings"},i.a.createElement("div",{onClick:function(){u(v,"update")}},N.editFolder),i.a.createElement("div",{onClick:function(){if(v){p.removeFolder(v,(function(e,n){if(!e&&n){var t=_.location.pathname.split("/folder/")[0];_.push(t)}}))}}},N.removeFolder)),"removed"===l&&m&&m.hasOwnProperty("trash_files")&&(Object.keys(m.trash_files).length>0||Object.values(b).filter((function(e){return e.is_archived})).length>0)&&i.a.createElement(E.t,{icon:"trash",onClick:p.removeAllCompanyTrashFiles}),""===l&&i.a.createElement(i.a.Fragment,null,"undefined"===typeof f.folderId&&i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},N.allFiles),v&&i.a.createElement(J,{folder:v,history:_,dictionary:N,folders:b}),i.a.createElement("div",{className:"row"},f.hasOwnProperty("folderId")?w.filter((function(e){return!e.is_archived})).map((function(e){return i.a.createElement(L,{key:e.id,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:k,folder:e,history:_,params:f,handleAddEditFolder:u})})):Object.values(b).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return i.a.createElement(L,{key:e.id,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:k,folder:e,history:_,params:f,handleAddEditFolder:u})}))),"undefined"!==typeof f.folderId?i.a.createElement(i.a.Fragment,null,v?i.a.createElement(i.a.Fragment,null,i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},v.search),i.a.createElement("div",{className:"row"},m&&O.map((function(e){return m.files.hasOwnProperty(e)?i.a.createElement(T,{key:e,scrollRef:j,actions:p,folders:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:m.files[e],files:m.files,disableOptions:k}):null}))),m&&0===O.length&&i.a.createElement(G,null,i.a.createElement(E.r,{icon:4,height:282}),i.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:D,disabled:k},N.uploadFiles))):i.a.createElement(i.a.Fragment,null)):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement(F.f,{disableOptions:k}),m&&O.map((function(e){return m.files.hasOwnProperty(e)?i.a.createElement(T,{key:e,scrollRef:j,actions:p,folders:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:m.files[e],files:m.files,disableOptions:k}):null}))),m&&m.popular_files.length>0&&i.a.createElement(Oe,{search:d,scrollRef:j,files:Object.values(m.files).filter((function(e){return m.popular_files.includes(e.id)})),actions:p,disableOptions:k}),m&&m.recently_edited.length>0&&i.a.createElement(Te,{search:d,scrollRef:j,files:Object.values(m.files).filter((function(e){return m.recently_edited.includes(e.id)})),actions:p,disableOptions:k}),A&&0===m.popular_files.length&&0===m.recently_edited.length&&0===O.length&&0===Object.values(b).filter((function(e){return!0!==e.is_archived})).length&&0===w.length&&i.a.createElement(G,null,i.a.createElement(E.r,{icon:4,height:282}),i.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:D,disabled:k},N.uploadFiles)),!A&&i.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Te,{search:d,scrollRef:j,files:Object.values(m.files).filter((function(e){return m.recently_edited.includes(e.id)})),actions:p,disableOptions:k}),!(m&&m.recently_edited.length>0)&&i.a.createElement(G,null,i.a.createElement(E.r,{icon:4,height:282}))),"important"===l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee,{search:d,scrollRef:j,files:Object.values(m.files).filter((function(e){return m.favorite_files.includes(e.id)})),actions:p,dictionary:N}),!(m&&m.hasOwnProperty("favorite_files")&&m.favorite_files.length>0)&&i.a.createElement(G,null,i.a.createElement(E.r,{icon:4,height:282}),i.a.createElement(V,null,i.a.createElement("p",null,"No favorite files."),i.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ye,{scrollRef:j,search:d,files:m.trash_files,actions:p,params:f,folders:b,subFolders:w,handleAddEditFolder:u,folder:v,disableOptions:k}),!(m&&m.hasOwnProperty("trash_files")&&Object.keys(m.trash_files).length>0)&&!(Object.values(b).some((function(e){return e.is_archived}))||w.some((function(e){return e.is_archived})))&&i.a.createElement(G,null,i.a.createElement(E.r,{icon:4,height:282}))))))})),K=t(260);function q(){var e=Object(r.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return q=function(){return e},e}var Z=l.b.div(q()),J=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.folder,c=e.history,l=e.dictionary,d=e.folders,m=e.workspaceID,u=Object(s.j)().url,p=Object(o.useState)(!1),f=Object(a.a)(p,2),b=f[0],h=f[1];return Object(o.useEffect)((function(){r.parent_folder&&Object.values(d).forEach((function(e){e.id===r.parent_folder.id&&(e.parent_folder?h(!0):h(!1))})),r.parent_folder||h(!1)}),[r]),i.a.createElement(Z,{className:"files-breadcrumb d-flex ".concat(t)},i.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},i.a.createElement("li",{onClick:function(){var e=c.location.pathname.split("/folder/")[0];c.push(e)}},l.allFiles),i.a.createElement(E.t,{width:12,icon:"chevron-right"}),b&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(K.a,{parentFolder:r.parent_folder,workspaceID:m,history:c})),i.a.createElement(E.t,{width:12,icon:"chevron-right"})),r.parent_folder&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{onClick:function(){return function(e){var n=u.split("/folder/")[0];c.push(n+"/folder/".concat(e.id,"/").concat(Object(N.h)(e.name)))}(r.parent_folder)}},r.parent_folder.name),i.a.createElement(E.t,{width:12,icon:"chevron-right"})),i.a.createElement("div",null,r.search)))}));function X(){var e=Object(r.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return X=function(){return e},e}var Q=l.b.div(X()),$=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dropZoneRef,r=e.onSearchChange,o=e.onSearch,s=e.onEnter,l=e.handleAddEditFolder,m=e.folders,u=e.history,p=e.params,f=e.clearFilter,b=e.dictionary,h=e.onClickEmpty,g=e.value,v=Object(c.c)(),O=function(e){if(f(),m.hasOwnProperty(e.target.dataset.value)){var n=m[e.target.dataset.value];n.hasOwnProperty("payload")?window.open(n.payload.url,"_blank"):p.hasOwnProperty("folderId")?u.push(u.location.pathname.split("/folder/")[0]+"/folder/".concat(n.id,"/").concat(Object(N.h)(n.search))):u.push("/files/folder/".concat(n.id,"/").concat(Object(N.h)(n.search)))}},_={label:i.a.createElement(i.a.Fragment,null,i.a.createElement(E.t,{className:"mr-1",icon:"plus"})," ",b.add),items:[{value:"folder",label:b.folder,onClick:function(){return l(null,"create")}},{value:"file",label:b.file,onClick:function(){a.current&&a.current.open()}}]},w={label:b.folders,items:Object.values(m).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:O}}))};return i.a.createElement(Q,{className:"files-header app-action ".concat(t)},i.a.createElement("div",{className:"action-left"},i.a.createElement("ul",{className:"list-inline"},i.a.createElement("li",{className:"list-inline-item mb-0"},i.a.createElement(E.e,{dropdown:_})),Object.values(m).filter((function(e){return!e.is_archived})).length>=1&&i.a.createElement("li",{className:"list-inline-item mb-0"},i.a.createElement(E.e,{dropdown:w})),i.a.createElement("li",{className:"list-inline-item mb-0"},i.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){v(Object(d.a)({type:"external_file_folder",mode:"create",topic_id:null}))}},b.driveLink))),i.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},i.a.createElement(E.t,{icon:"menu"}))),i.a.createElement("div",{className:"action-right"},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",onChange:r,value:g,onKeyDown:s,className:"form-control",placeholder:b.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==g.trim()&&i.a.createElement("button",{onClick:h,className:"btn-cross",type:"button"},i.a.createElement(E.t,{icon:"x"})),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:o},i.a.createElement(E.t,{icon:"search"}))))))}));function ee(){var e=Object(r.a)(["\n  width: 15px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(r.a)(["\n  cursor: pointer;\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return ne=function(){return e},e}function te(){var e=Object(r.a)([""]);return te=function(){return e},e}function ae(){var e=Object(r.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]);return ae=function(){return e},e}var re=l.b.div(ae()),oe=l.b.div(te()),ie=l.b.span(ne(),(function(e){return e.active&&"\n        background: 0 0;\n        color: ".concat(e.theme.colors.secondary,';\n        &:after {\n          content: "";\n          width: 3px;\n          height: 100%;\n          background-color: ').concat(e.theme.colors.secondary,";\n          display: block;\n          position: absolute;\n          top: 0;\n          animation: fadeIn 0.15s linear;\n          left: 0;\n        }\n        .dark & {\n          color: ").concat(e.theme.colors.third,";\n        }\n    ")})),ce=Object(l.b)(E.t)(ee()),se=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.filterFile,o=e.filter,c=void 0===o?"all":o,s=e.dropZoneRef,l=e.storageLimit,d=void 0===l?25:l,p=e.fileCount,f=(e.folders,e.activeFolder,e.clearFilter,e.params,e.disableOptions),b=Object(m.gb)()._t,h=a.getFileSizeUnit(p.storage),g=0===p.storage?0:p.storage<1e8?1e8:p.storage,v={uploadFiles:b("FILE.UPLOAD_FILES","Upload files"),allFiles:b("FILES.ALL_FILES","All files"),recentlyEdited:b("FILES.RECENTLY_EDITED","Recently edited"),favorite:b("FILE.FAVORITE","Favorite"),removed:b("FILES.REMOVED","Removed"),storageStatus:b("FILES.STORAGE_STATUS","Storage Status"),usedOf:b("FILE.USED_OF","used of"),gigabyte:b("FILE.GIGABYTE","GB")};return i.a.createElement(re,{className:"file-sidebar bottom-modal-mobile ".concat(t)},i.a.createElement(oe,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),i.a.createElement("div",{className:"card bottom-modal-mobile_inner"},i.a.createElement("div",{className:"card-body"},i.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:f},v.uploadFiles),i.a.createElement("form",{className:"d-none",id:"file-upload"},i.a.createElement("input",{type:"file",multiple:""}))),i.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},i.a.createElement("div",{className:"list-group list-group-flush"},i.a.createElement(ie,{onClick:r,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},i.a.createElement(ce,{className:"mr-2",icon:"folder"}),v.allFiles,i.a.createElement("span",{className:"small ml-auto"},p.all>0?p.all:null)),i.a.createElement(F.n,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){a.uploadCompanyGoogleDriveFile(e)}))},disableOptions:f}),i.a.createElement(ie,{onClick:r,"data-filter":"recent",active:"recent"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement(ce,{className:"mr-2",icon:"monitor"}),v.recentlyEdited),i.a.createElement(ie,{onClick:r,"data-filter":"important",active:"important"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement(ce,{className:"mr-2",icon:"star"}),v.favorite,i.a.createElement("span",{className:"small ml-auto"},p.stars>0?p.stars:null)),i.a.createElement(ie,{onClick:r,"data-filter":"removed",active:"removed"===c,className:"list-group-item d-flex align-items-center"},i.a.createElement(ce,{className:"mr-2",icon:"trash"}),v.removed,i.a.createElement("span",{className:"small ml-auto"},p.trash>0?p.trash:null))),i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"mb-4"},v.storageStatus),i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-3"},i.a.createElement(E.t,{icon:"database"})),i.a.createElement("div",{className:"flex-grow-1"},i.a.createElement(u.d,{amount:g,limit:1e9*d}),i.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},h.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],h.unit," ",v.usedOf," ",d,v.gigabyte)))))))}));function le(){var e=Object(r.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return le=function(){return e},e}function de(){var e=Object(r.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: ",";\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return de=function(){return e},e}l.b.li(de(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"".concat(e.theme.colors.primary," !important"):"#64625C"}),(function(e){return e.theme.colors.primary})),l.b.ul(le(),(function(e){return e.maxHeight}));function me(){var e=Object(r.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: 25px;\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: 0;\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return me=function(){return e},e}var ue=Object(l.b)(u.c)(me()),pe=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folder,r=e.scrollRef,o=void 0===r?null:r,c=e.actions,s=e.history,l=e.handleAddEditFolder,d=Object(m.bb)(),u=Object(m.gb)()._t,p={rename:u("FILES.RENAME","Rename"),restore:u("FILES.RESTORE","Restore"),remove:u("FILES.REMOVE","Remove")};return i.a.createElement(ue,{className:"file-options ".concat(t),moreButton:"more-horizontal",folder:a,scrollRef:o},!a.hasOwnProperty("payload")&&!a.is_archived&&i.a.createElement("div",{onClick:function(){l(a,"edit")}},p.rename),a.is_archived&&i.a.createElement("div",{onClick:function(){c.restoreCompanyFolder(a,(function(e,n){n&&(a.parent_folder?d.success(i.a.createElement(i.a.Fragment,null,"Folder ",i.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #$",a.parent_folder," folder.")):d.success(i.a.createElement(i.a.Fragment,null,"Folder ",i.a.createElement("span",{className:"font-weight-bold"},a.search)," is restored to #All Files folder.")))}),{message:!1})}},p.restore),i.a.createElement("div",{onClick:function(){if(a.hasOwnProperty("payload"))c.unlinkGoogleFolder(a);else{c.removeCompanyFolder(a,(function(e,n){if(!e&&n){var t=s.location.pathname.split("/folder/")[0];s.push(t),d.info(i.a.createElement(i.a.Fragment,null,"You have removed ",i.a.createElement("b",null,a.search),"."))}}))}}},p.remove))})),fe=t(793);function be(){var e=Object(r.a)([""]);return be=function(){return e},e}var he=l.b.div(be()),Ee=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,o=e.actions,c=e.dictionary;return i.a.createElement(he,{className:"important-files ".concat(t)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},c.favoriteTitle),i.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return i.a.createElement(fe.a,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:a,actions:o})}))))}));function ge(){var e=Object(r.a)([""]);return ge=function(){return e},e}var ve=l.b.div(ge()),Oe=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,o=e.actions,c=e.disableOptions;return i.a.createElement(ve,{className:"popular-files ".concat(t)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),i.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return i.a.createElement(T,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:o,folders:a,files:r,disableOptions:c})}))))}));function _e(){var e=Object(r.a)([""]);return _e=function(){return e},e}var we=l.b.div(_e()),Te=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.folders,r=e.files,o=e.actions,c=e.disableOptions;return i.a.createElement(we,{className:"recent-edited-files ".concat(t)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),i.a.createElement("div",{className:"row"},r.length>0&&r.map((function(e){return i.a.createElement(T,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:r,folders:a,actions:o,disableOptions:c})}))))}));function Ne(){var e=Object(r.a)([""]);return Ne=function(){return e},e}var ke=l.b.div(Ne()),ye=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.actions,r=e.files,o=e.folders,c=e.subFolders,l=e.folder,d=e.params,m=e.handleAddEditFolder,u=e.disableOptions,p=Object(s.g)();return i.a.createElement(ke,{className:"remove-files ".concat(t)},i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),l&&i.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},l.search),i.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?c.filter((function(e){return e.is_archived})).map((function(e){return i.a.createElement(L,{key:e.id,actions:a,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:d,handleAddEditFolder:m,disableOptions:u})})):Object.values(o).filter((function(e){return e.is_archived})).map((function(e){return i.a.createElement(L,{key:e.id,actions:a,folders:o,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:d,handleAddEditFolder:m,disableOptions:u})}))),i.a.createElement("div",{className:"row"},d.hasOwnProperty("folderId")?r&&Object.values(r).length>0&&Object.values(r).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})).map((function(e){return i.a.createElement(T,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})),actions:a,folders:o,disableOptions:u})})):r&&Object.values(r).length>0&&Object.values(r).map((function(e){return"undefined"!==typeof e?i.a.createElement(T,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(r),folders:o,actions:a,disableOptions:u}):null}))))}));function Ae(){var e=Object(r.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]);return Ae=function(){return e},e}var je=l.b.div(Ae());n.default=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.isMember,l=e.workspace,u=Object(c.c)(),p=Object(s.g)(),f=Object(m.gb)()._t,b=Object(m.j)(),h=b.params,E=b.isLoaded,g=b.files,v=b.fileCount,O=b.actions,_=b.fileIds,w=b.folders,T=b.folder,N=b.subFolders,k=b.loadMore,y=Object(o.useState)(""),A=Object(a.a)(y,2),j=A[0],C=A[1],x=Object(o.useState)(""),S=Object(a.a)(x,2),I=S[0],R=S[1],P={dropZone:Object(o.useRef)(null)},D=!1;l&&0===l.active&&(D=!0);var L=function(){O.searchCompany(I)},F=function(){R(""),O.clearSearch()},M={createFolder:f("FILE.CREATE_FOLDER","Create folder"),create:f("FILE.CREATE","Create"),updateFolder:f("FILE.UPDATE_FOLDER","Update folder"),update:f("FILE.UPDATE","Update"),editFolder:f("FILE.EDIT_FOLDER","Edit folder"),removeFolder:f("FILE.REMOVE_FOLDER","Remove folder"),add:f("FILE.ADD","Add"),favorite:f("FILE.FAVORITE","Favorite"),favoriteTitle:f("FILE.FAVORITE_TITLE","Favorite"),file:f("FILE.FILE","File"),folder:f("FILE.FOLDER","Folder"),folders:f("FILE.FOLDERS","Folders"),allFiles:f("FILES.ALL_FILES","All files"),recentlyEdited:f("FILES.RECENTLY_EDITED","Recently edited"),removed:f("FILES.REMOVED","Removed"),searchInputPlaceholder:f("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:f("FILE.UPLOAD_FILES","Upload files"),driveLink:f("BUTTON.DRIVE_LINK","Drive link")},U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"create",t={type:"files_folder",folder:"create"===n?null:e,params:h,mode:n,parentFolder:T||null};u(Object(d.a)(t))},H=function(){C("")};return Object(o.useEffect)((function(){T&&T.is_archived&&"removed"!==j&&C("removed")}),[T,j,C]),i.a.createElement(je,{className:"container-fluid h-100 fadeIn ".concat(t)},i.a.createElement("div",{className:"row app-block"},i.a.createElement(se,{init:E,actions:O,isMember:r,clearFilter:H,params:h,dropZoneRef:P.dropZone,className:"col-lg-3",filterFile:function(e){if(h.hasOwnProperty("folderId")){var n=p.location.pathname.split("/folder/")[0];p.push(n)}C(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:j,fileCount:v,folders:w,activeFolder:T,dictionary:M,disableOptions:D}),i.a.createElement("div",{className:"col-lg-9 app-content mb-4"},i.a.createElement("div",{className:"app-content-overlay"}),i.a.createElement($,{isMember:r,clearFilter:H,dropZoneRef:P.dropZone,history:p,params:h,onSearch:L,onSearchChange:function(e){""===e.target.value&&F(),R(e.target.value)},onEnter:function(e){"Enter"===e.key&&L()},files:g,handleAddEditFolder:U,folders:w,dictionary:M,disableOptions:D,onClickEmpty:F,value:I}),i.a.createElement(Y,{dropZoneRef:P.dropZone,isLoaded:E,loadMore:k,filter:j,search:I,folders:w,folder:T,fileIds:_,subFolders:N,history:p,actions:O,params:h,files:g,handleAddEditFolder:U,dictionary:M,disableOptions:D}))))}))},828:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(11),s=t(7),l=t(1),d=t(6),m=t(44),u=t(21),p=t(12),f=t(179),b=t(181);function h(){var e=Object(a.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .file-pill-container {\n    background-color: #f1f2f7a3;\n    .dark & {\n      background-color: #f1f2f712;\n    }\n  }\n"]);return h=function(){return e},e}var E=i.b.div(h()),g=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,i=e.scrollRef,s=Object(m.j)().params,h=Object(d.c)(),g=Object(f.a)(),v=Object(c.ab)().fromNow,O=function(){h(Object(u.cc)({workspace_id:s.workspaceId,file_id:a.id,files:[Object(l.a)(Object(l.a)({},a),{},{filename:a.name,file_id:a.id})]}))};return o.a.createElement(E,{className:"attach-file-timeline timeline-item ".concat(t)},o.a.createElement("div",null,o.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-0"},o.a.createElement("span",{className:"font-weight-normal"},a.user.name)," ",o.a.createElement("span",{className:"text-muted font-weight-normal"},v(a.created_at.timestamp)))),o.a.createElement("div",{className:"mb-3"},o.a.createElement("span",{onClick:O,className:"file-summary"},r.attachedFile)),o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 file-pill-container"},o.a.createElement(b.a,{className:"mb-2",file:a,dictionary:r,cbFilePreview:O}),o.a.createElement("span",{onClick:O,className:"timeline-file-icon"},g.getFileIcon(a.mime_type)," ",o.a.createElement("span",null,a.name)))))})),v=t(52),O=t.n(v),_=t(14);function w(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return w=function(){return e},e}function T(){var e=Object(a.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 300px;\n    overflow: hidden;\n    position: relative;\n    background-color: #f1f2f7a3;\n    > div:first-child {\n      overflow: hidden;\n      max-height: 210px;\n    }\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n    .dark & {\n      background-color: #f1f2f712;\n    }\n  }\n  .mention a {\n    color: ",";\n  }\n"]);return T=function(){return e},e}var N=i.b.div(T(),(function(e){return e.theme.colors.primary})),k=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},y=Object(i.b)(O.a)(w()),A=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,i=e.scrollRef,s=Object(m.g)(),l=Object(m.j)().params,d=Object(c.ab)(),u=d.fromNow,f=d.localizeDate,b=function(e){e.preventDefault(),s.push("/workspace/posts/".concat(l.workspaceId,"/").concat(Object(_.h)(l.workspaceName),"/post/").concat(a.id,"/").concat(Object(_.h)(a.title)))};return o.a.createElement(N,{className:"post-timeline timeline-item ".concat(t)},o.a.createElement("div",null,o.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:i})),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-0"},o.a.createElement("span",{className:"title"},a.user.name),o.a.createElement(y,{arrowSize:5,distance:10,onToggle:k,content:"".concat(f(a.created_at.timestamp))},o.a.createElement("span",{className:"text-muted font-weight-normal"},u(a.created_at.timestamp))))),o.a.createElement("div",{className:"mb-3"},o.a.createElement("span",{className:"post-title",onClick:b,title:a.title},r.sharedThePost,' "',a.title,'"')),a.body.replace(/<\/?[^>]+(>|$)/g,"")&&o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body",onClick:b},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}),o.a.createElement("button",{className:"btn btn-primary",onClick:b},r.openPost)),a.files&&a.files.length>=1&&o.a.createElement(o.a.Fragment,null,r.fileAttachments,":",o.a.createElement(p.i,{attachedFiles:a.files,type:"timeline"}))))}));function j(){var e=Object(a.a)([""]);return j=function(){return e},e}var C=i.b.div(j()),x=(o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspace,r=Object(c.ab)().fromNow;return o.a.createElement(C,{className:"timeline-item ".concat(t)},o.a.createElement("div",null,o.a.createElement(p.a,{name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link})),o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",null,a.user.name," ",o.a.createElement("a",{href:"#"},"shared a post")),o.a.createElement("span",{className:"text-muted font-weight-normal"},r(a.created_at.timestamp))),o.a.createElement("a",{href:"#"},o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},a.body))))})),t(9));function S(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return S=function(){return e},e}function I(){var e=Object(a.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]);return I=function(){return e},e}var R=i.b.div(I()),P=Object(i.b)(O.a)(S()),D=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.dictionary,i=e.scrollRef,s=Object(c.ab)(),l=s.fromNow,m=s.localizeDate,u=Object(d.d)((function(e){return e.users.users})),f=Object(d.d)((function(e){return e.users.archivedUsers})),b=Object(d.d)((function(e){return e.users.teams})),h=[].concat(Object(x.a)(Object.values(u)),Object(x.a)(f)),E=null,g=null;a.body.includes("CHANNEL_UPDATE")&&(E=JSON.parse(a.body.replace("CHANNEL_UPDATE::",""))),E&&E.author&&(g=E.author.name?E.author:h.find((function(e){return e.id===E.author})));var v=function(){if(""!==E.title)return"".concat(r.updatedWorkspaceTo," ").concat(E.title)};return null===E?null:o.a.createElement(R,{className:"member-timeline timeline-item ".concat(t)},o.a.createElement("div",null,null!==E?o.a.createElement(o.a.Fragment,null,g?o.a.createElement(p.a,{className:"mr-3",name:g.name,imageLink:g.profile_image_thumbnail_link?g.profile_image_thumbnail_link:g.profile_image_link,id:g.id,showSlider:!0,scrollRef:i}):o.a.createElement(p.a,{className:"mr-3",imageLink:null,isBot:!0})):o.a.createElement(p.a,{className:"mr-3",imageLink:null,isBot:!0})),o.a.createElement("div",null,null!==E?o.a.createElement(o.a.Fragment,null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"title"},g&&g.name," ",v()),o.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp))),E.added_members.length||E.removed_members.length||E.added_teams&&E.added_teams.length||E.removed_teams&&E.removed_teams.length?o.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},o.a.createElement("p",{className:"action-text"},E.added_members.length>0&&function(){if(null===E.author){if(!E.accepted_members)return"";var e=h.filter((function(e){return E.accepted_members.some((function(n){return n===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else if(E.accepted_members){var n=h.filter((function(e){return E.accepted_members.some((function(n){return n===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else{var t=h.filter((function(e){return E.added_members.some((function(n){return n===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}}()),o.a.createElement("p",{className:"action-text"},E.removed_members.length>0&&function(){if(null===E.author)return"";var e=h.filter((function(e){return E.removed_members.some((function(n){return n===e.id}))}));return e.length?e.map((function(e){return e.name})).join(", ")+" ".concat(r.isRemoved,"."):void 0}()),o.a.createElement("p",{className:"action-text"},E.added_teams&&E.added_teams.length>0&&function(){if(null===E.author){if(!E.added_teams)return"";var e=Object.values(b).filter((function(e){return E.added_teams.some((function(n){return n===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}else if(E.added_teams){var n=Object.values(b).filter((function(e){return E.added_teams.some((function(n){return n===e.id}))}));if(n.length)return n.map((function(e){return e.name})).join(", ")+" ".concat(r.isAdded,".")}}()),o.a.createElement("p",{className:"action-text"},E.removed_teams&&E.removed_teams.length>0&&function(){if(null===E.author)return"";if(E.removed_teams){var e=Object.values(b).filter((function(e){return E.removed_teams.some((function(n){return n===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(r.isRemoved,".")}}())):null):o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"title"},v()),o.a.createElement(P,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(m(a.created_at.timestamp))},o.a.createElement("span",{className:"text-muted font-weight-normal"},l(a.created_at.timestamp)))))))}));function L(){var e=Object(a.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return L=function(){return e},e}var F=i.b.div(L()),M=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.scrollRef,i=Object(c.ab)().fromNow,s=Object(c.gb)()._t;return o.a.createElement(F,{className:"topic-timeline timeline-item ".concat(t)},o.a.createElement("div",null,a.user&&o.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:r})),o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",o.a.createElement("strong",null,s("DASHBOARD.WORKSPACE_CREATED","created ::workspaceName:: workspace",{workspaceName:a.name}))),o.a.createElement("span",{className:"text-muted font-weight-normal"},i(a.created_at.timestamp)))))}));function U(){var e=Object(a.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return U=function(){return e},e}var H=i.b.div(U()),W=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.data,r=e.tag,i=e.dictionary,s=e.workspace,l=e.scrollRef,d=Object(c.ab)().fromNow;return o.a.createElement(H,{className:"topic-timeline timeline-item ".concat(t)},o.a.createElement("div",null,a.user&&o.a.createElement(p.a,{className:"mr-3",name:a.user.name,imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,id:a.user.id,showSlider:!0,scrollRef:l})),o.a.createElement("div",null,o.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},o.a.createElement("span",{className:"action-text title font-weight-normal"},a.user.name," ",o.a.createElement("strong",null,"ARCHIVED_WORKSPACE"===r?i.archived:i.unarchived," ",s.name," ",i.workspace)),o.a.createElement("span",{className:"text-muted font-weight-normal"},d(a.created_at.timestamp)))))})),z=t(802),B=t.n(z),G=function(e){var n=e.actions,t=e.workspace,a=e.workspaceTimeline,r=a.page,i=a.maxPage,c=a.timeline,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;n.getTimeline({topic_id:t.id,skip:e,limit:a})};return o.a.createElement("nav",{className:"mt-3"},o.a.createElement(B.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var o=e.selected+1;o!==r&&(n.updateTimelinePage({id:t.id,page:o}),a.total_items!==Object.keys(c).length&&Object.keys(c).length<=10*o&&(10*o-Object.keys(c).length>0?s(Object.keys(c).length,10*o):s(Object.keys(c).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))};function V(){var e=Object(a.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]);return V=function(){return e},e}var Y=i.b.div(V()),K=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.workspaceTimeline,i=e.actions,c=e.workspace,l=e.dictionary,d=Object(r.useRef)(null),m=Object(r.useState)(!1),u=Object(s.a)(m,2),p=u[0],f=u[1];return Object(r.useEffect)((function(){a||!c||p||(f(!0),i.getTimeline({topic_id:c.id,skip:0,limit:10},(function(){f(!1)})))}),[a,c,p]),o.a.createElement(Y,{className:"timeline-panel card ".concat(t),ref:d},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},l.timeline),o.a.createElement("div",{className:"timeline"},a&&Object.values(a.timeline).sort((function(e,n){return n.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(a.page>1?10*a.page-10:0,10*a.page).map((function(e){switch(e.tag){case"CHAT_BOT":return o.a.createElement(D,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"POST":return o.a.createElement(A,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"ICON":case"DOCUMENT":return o.a.createElement(g,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"TOPIC":return o.a.createElement(M,{key:e.id,data:e.item,dictionary:l,scrollRef:d.current});case"UNARCHIVED_WORKSPACE":case"ARCHIVED_WORKSPACE":return o.a.createElement(W,{key:e.id,data:e.item,tag:e.tag,dictionary:l,workspace:c,scrollRef:d.current});default:return null}})))),a&&a.total_items>10&&o.a.createElement(G,{workspaceTimeline:a,actions:i,workspace:c}))})),q=t(832);function Z(){var e=Object(a.a)(["\n  overflow: auto !important;\n  min-height: calc(100vh - 100px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"]);return Z=function(){return e},e}var J=i.b.div(Z());n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,r=e.isMember,i=e.match,s=e.actions,l=e.workspaceTimeline,d=e.workspace,m=i.params,u=Object(c.gb)()._t,p=Object(c.K)().recentPosts,f=window.innerWidth,b=function(){s.showModal(d,"edit","workspace")};Object(c.r)();var h={aboutThisWorkspace:u("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:u("TEAM","Team"),timeline:u("TIMELINE","Timeline"),noRecentPosts:u("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:u("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:u("FILE_ATTACHMENTS","File attachments"),peopleExternal:u("PEOPLE.EXTERNAL","External"),peopleInvited:u("PEOPLE.INVITED","Invited"),emptyTeam:u("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:u("DASHBOARD.SHOW_MORE","Show more"),showLess:u("DASHBOARD.SHOW_LESS","Show less"),attachedFile:u("ATTACHED_A_FILE","attached a file"),sharedThePost:u("SHARED_THE_POST","shared the post"),hasJoined:u("TIMELINE.HAS_JOINED","has joined"),hasLeft:u("TIMELINE.HAS_LEFT","has left"),youJoined:u("TIMELINE.YOU_JOINED","You joined"),youLeft:u("TIMELINE.YOU_LEFT","You left"),isAdded:u("TIMELINE.IS_ADDED","is added"),isRemoved:u("TIMELINE.IS_REMOVED","is removed"),createdThePost:u("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:u("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),remove:u("TEAM.REMOVE","Remove"),leave:u("TEAM.LEAVE","Leave"),leaveWorkspace:u("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:u("TIMELINE.ARCHIVED","archived"),unarchived:u("TIMELINE.UNARCHIVED","unarchived"),workspace:u("TIMELINE.WORKSPACE","workspace"),created:u("TIMELINE.CREATED","created"),resend:u("TEAM.RESEND","Resend"),cancel:u("MODAL.CANCEL","Cancel"),resendInvite:u("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:u("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:u("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:u("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:u("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:u("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:u("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:u("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:u("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:u("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:u("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:u("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:u("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:u("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:u("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:u("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:u("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:u("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:u("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:u("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:u("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:u("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:u("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:u("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:u("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:u("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:u("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:u("ROLE.ADVISOR","Advisor"),roleApprover:u("ROLE.APPROVER","Approver"),roleClient:u("ROLE.CLIENT","Client"),roleCommunicationLead:u("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:u("ROLE.DESIGNER","Designer"),roleDeveloper:u("ROLE.DEVELOPER","Developer"),roleFreelancer:u("ROLE.FREELANCER","Freelancer"),roleSupervisor:u("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:u("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:u("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:u("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:u("ROLE.WATCHER","Watcher"),sendInviteManually:u("TEAM.SEND_INVITE_MANUALLY","Send invite manually"),openPost:u("SYSTEM.OPEN_POST","Open post")},E=!1;return d&&0===d.active&&(E=!0),o.a.createElement(J,{className:"container-fluid fadeIn ".concat(t)},o.a.createElement("div",{className:"row"},null===d?o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):o.a.createElement(o.a.Fragment,null,f>620?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-6"},o.a.createElement(q.c,{isMember:r,workspace:d,onEditClick:b,isExternal:a,dictionary:h}),o.a.createElement(K,{workspaceTimeline:l,actions:s,workspace:d,dictionary:h})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(q.d,{workspace:d,actions:s,onEditClick:b,isMember:r,isExternal:a,dictionary:h}),o.a.createElement(q.e,{posts:p,dictionary:h,disableOptions:E}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-md-12"},o.a.createElement(q.c,{isMember:r,workspace:d,onEditClick:b,isExternal:a,dictionary:h}),o.a.createElement(q.d,{workspace:d,onEditClick:b,isMember:r,isExternal:a,dictionary:h}),o.a.createElement(q.e,{posts:p,dictionary:h,disableOptions:E}),o.a.createElement(K,{workspaceTimeline:l,actions:s,params:m,dictionary:h}))))))}))},829:function(e,n,t){"use strict";t.d(n,"d",(function(){return m})),t.d(n,"b",(function(){return b})),t.d(n,"c",(function(){return L})),t.d(n,"a",(function(){return te}));t(817);var a=t(5),r=t(0),o=t.n(r),i=t(4);function c(){var e=Object(a.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(a.a)([""]);return s=function(){return e},e}var l=i.b.div(s()),d=i.b.span(c(),(function(e){return e.active&&"\n        background: 0 0;\n        color: ".concat(e.theme.colors.secondary,';\n        &:after {\n          content: "";\n          width: 3px;\n          height: 100%;\n          background-color: ').concat(e.theme.colors.secondary,";\n          display: block;\n          position: absolute;\n          top: 0;\n          animation: fadeIn 0.15s linear;\n          left: 0;\n        }\n        .dark & {\n          color: ").concat(e.theme.colors.third,";\n        }\n    ")})),m=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,r=e.todoActions,i=e.setFilter,c=e.filter,s=e.count;return o.a.createElement(l,{className:"todo-sidebar bottom-modal-mobile ".concat(t)},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return r.createFromModal()}},a.createNewTodoItem)),o.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},o.a.createElement("div",{className:"list-group list-group-flush"},o.a.createElement(d,{onClick:i,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),a.statusAll,s&&s.all>0&&o.a.createElement("span",{className:"small ml-auto"},s.all)),o.a.createElement(d,{onClick:i,"data-filter":"OVERDUE",active:"OVERDUE"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),a.statusExpired,s&&s.overdue>0&&o.a.createElement("span",{className:"small ml-auto"},s.overdue)),o.a.createElement(d,{onClick:i,"data-filter":"TODAY",active:"TODAY"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"TODAY"},o.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),a.statusToday),s&&s.today>0&&o.a.createElement("span",{className:"small ml-auto"},s.today)),o.a.createElement(d,{onClick:i,"data-filter":"NEW",active:"NEW"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"NEW"},o.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),a.statusUpcoming),s&&s.new>0&&o.a.createElement("span",{className:"small ml-auto"},s.new)),o.a.createElement(d,{onClick:i,"data-filter":"ASSIGNED_TO_OTHERS",active:"ASSIGNED_TO_OTHERS"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},o.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByMe),s&&s.assigned_to_others>0&&o.a.createElement("span",{className:"small ml-auto"},s.assigned_to_others)),o.a.createElement(d,{onClick:i,"data-filter":"ADDED_BY_OTHERS",active:"ADDED_BY_OTHERS"===c,className:"list-group-item d-flex align-items-center"},o.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},o.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),a.addedByOthers),s&&s.added_by_others>0&&o.a.createElement("span",{className:"small ml-auto"},s.added_by_others))))))})),u=t(12);function p(){var e=Object(a.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return p=function(){return e},e}var f=i.b.div(p()),b=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.clearSearch,r=e.onEnter,i=e.dictionary,c=e.onSearchChange,s=e.searchValue;return o.a.createElement(f,{className:"todos-header app-action ".concat(t)},o.a.createElement("div",{className:"action-left"},o.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},o.a.createElement(u.t,{icon:"menu"}))),o.a.createElement("div",{className:"action-right"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{type:"text",onKeyDown:r,onChange:c,value:s,className:"form-control",placeholder:i.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==s.trim()&&o.a.createElement("button",{onClick:a,className:"btn-cross",type:"button"},o.a.createElement(u.t,{icon:"x"})),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},o.a.createElement(u.t,{icon:"search"}))))))})),h=t(1),E=t(7),g=t(19),v=t(21),O=t(6),_=t(47);function w(){var e=Object(a.a)(["\n  @media all and (max-width: 480px) {\n    flex-flow: row wrap;\n  }\n"]);return w=function(){return e},e}function T(){var e=Object(a.a)(["\n  min-width: 142px;\n  text-align: right;\n  @media all and (max-width: 480px) {\n    min-width: 70px;\n  }\n"]);return T=function(){return e},e}function N(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]);return N=function(){return e},e}function k(){var e=Object(a.a)(["\n  max-height: 50px;\n  > * {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]);return k=function(){return e},e}function y(){var e=Object(a.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .todo-title {\n    text-decoration: ",";\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n    .avatars-container {\n      min-width: 40px;\n    }\n  }\n"]);return y=function(){return e},e}function A(){var e=Object(a.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]);return A=function(){return e},e}function j(){var e=Object(a.a)(["\n  width: 16px;\n  cursor: pointer;\n"]);return j=function(){return e},e}var C=Object(i.b)(u.t)(j()),x=i.b.div(A()),S=i.b.li(y(),(function(e){return e.isDone?"line-through":"none"})),I=i.b.div(k()),R=i.b.div(N()),P=i.b.div(T()),D=i.b.div(w()),L=function(e){var n=e.todo,t=e.todoActions,a=e.handleLinkClick,i=e.dictionary,c=e.todoFormat,s=e.todoFormatShortCode,l=e.getFileIcon,d=e.showWsBadge,m=e.handleRedirectToWorkspace,p=Object(O.c)(),f=Object(r.useState)("DONE"===n.status),b=Object(E.a)(f,2),w=b[0],T=b[1],N=Object(O.d)((function(e){return e.files.fileBlobs})),k=Object(r.useRef)(null);Object(r.useEffect)((function(){k.current&&k.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=n.files.find((function(e){return t.includes(e.code)}));a&&N[a.id]&&(e.setAttribute("src",N[a.id]),e.setAttribute("data-id",a.id))}else{e.classList.add("has-listener");var r=n.files.find((function(e){return t.includes(e.code)}));r&&N[r.id]&&(e.setAttribute("src",N[r.id]),e.setAttribute("data-id",r.id))}}));var e=n.files.filter((function(e){return e.type&&e.type.includes("image")}));e.length&&e.forEach((function(e){N[e.id]||_.sessionService.loadSession().then((function(n){var t=n.token;fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:t,"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(n){var t=URL.createObjectURL(n);!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};p(Object(v.pb)(e,n))}({id:e.id,src:t})})).catch((function(e){console.log(e,"error fetching image")}))}))}))}),[n.files,n.description,k]),Object(r.useEffect)((function(){"DONE"!==n.status||w?"DONE"!==n.status&&w&&t.markDone(n):t.markUnDone(n)}),[w]);var y=function(e){e.stopPropagation(),e.preventDefault(),t.updateFromModal(n)},A=function(e){e.preventDefault(),n.link_type?a(e,n):t.updateFromModal(n)},j=n.assigned_to&&n.assigned_to.id!==n.user||null!==n.workspace&&null===n.assigned_to||null===n.workspace&&null!==n.assigned_to&&n.assigned_to.id!==n.user||n.assigned_to&&n.author&&n.assigned_to.id!==n.author.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{className:"reminder-list",isDone:w},n.workspace&&d&&o.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return m(e,n)}},o.a.createElement("span",{className:"badge ml-4 badge-light border-0"},n.workspace.name)),o.a.createElement("div",{className:"d-flex align-items-center reminder-content"},o.a.createElement("span",{className:"custom-control custom-checkbox mr-2"},o.a.createElement(u.u,{content:"DONE"===n.status?i.actionMarkAsUndone:i.actionMarkAsDone},o.a.createElement(g.n,{checked:w,onClick:function(e){T(!w)}}))),o.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3 ".concat(w&&"text-muted"),onClick:A},o.a.createElement("span",{className:"todo-title"},n.title),n.description&&!w&&o.a.createElement(I,{ref:k,className:"text-truncate",dangerouslySetInnerHTML:{__html:n.description}}),!w&&n.files.map((function(e){return o.a.createElement("span",{key:"".concat(n.id).concat(e.file_id),onClick:function(t){return function(e,n,t){e.preventDefault(),e.stopPropagation();var a={files:n.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{filename:e.name})})),file_id:t.file_id};p(Object(v.cc)(a))}(t,n.files,e)}},l(e.mime_type))}))),o.a.createElement(x,{className:"hover-btns ml-1"},o.a.createElement(C,{icon:"pencil",onClick:y}),o.a.createElement(C,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault(),t.removeConfirmation(n)}})),o.a.createElement(D,{className:"d-flex align-items-center ml-auto"},o.a.createElement(R,{className:"".concat(w&&"text-muted")},o.a.createElement(C,{icon:"calendar"}),o.a.createElement(u.u,{content:n.remind_at?c(n.remind_at.timestamp):i.addDate},o.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"Yesterday"===s(e.remind_at.timestamp)?"text-warning":"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(n)),onClick:y},n.remind_at?s(n.remind_at.timestamp,"MM/DD/YYYY"):i.addDate))),o.a.createElement(P,null,null!==n.link_type&&o.a.createElement("span",{className:"badge mr-3 badge-light todo-type-badge ".concat(w&&"text-muted"),onClick:A},function(e){switch(e.link_type){case"POST":return i.typePost;case"CHAT":return i.typeChat;case"POST_COMMENT":return i.typePostComment;default:return null}}(n))),o.a.createElement("div",{className:"avatars-container"},null!==n.author&&o.a.createElement(u.a,{name:n.author.name,tooltipName:i.reminderAuthor,imageLink:n.author.profile_image_thumbnail_link?n.author.profile_image_thumbnail_link:n.author.profile_image_link,id:n.author.id}),j&&o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{icon:"chevron-right"}),o.a.createElement(u.a,{name:n.assigned_to?n.assigned_to.name:n.workspace.name,tooltipName:i.reminderAssignedTo,imageLink:n.assigned_to?n.assigned_to.profile_image_link:n.workspace&&n.workspace.team_channel?n.workspace.team_channel.icon_link:null,id:n.assigned_to?n.assigned_to.id:n.workspace.id,type:n.assigned_to?"USER":"TOPIC",noDefaultClick:!n.assigned_to})))))))},F=t(44),M=t(11);function U(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n"]);return U=function(){return e},e}function H(){var e=Object(a.a)(["\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .ws-name {\n    line-height: 1.45;\n  }\n"]);return H=function(){return e},e}var W=i.b.div(H()),z=i.b.span(U()),B=function(e){var n=e.className,t=void 0===n?"":n,a=e.id,r=void 0===a?"":a,i=e.handleClick,c=e.active,s=e.headerText,l=void 0===s?"":s,d=e.params,m=e.workspaceName,p=e.handleSort,f=e.sortByDate,b=e.dictionary;return o.a.createElement(W,{className:t},o.a.createElement(z,{className:"badge badge-light",onClick:i,id:r},o.a.createElement(u.t,{icon:c?"arrow-down":"arrow-up",width:16,height:16,className:"mr-1"}),l),d.hasOwnProperty("workspaceId")?o.a.createElement("div",{className:"d-flex"},o.a.createElement("span",{className:"badge badge-light mr-1 ws-name"},m),o.a.createElement(u.u,{content:f?b.sortDate:b.sortAlpha},o.a.createElement("span",{className:"badge badge-light",onClick:p},o.a.createElement(u.t,{icon:f?"arrow-down":"arrow-up",width:16,height:16})))):o.a.createElement(u.u,{content:f?b.sortDate:b.sortAlpha},o.a.createElement("span",{className:"badge badge-light",onClick:p},o.a.createElement(u.t,{icon:f?"arrow-down":"arrow-up",width:16,height:16}))))};function G(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return G=function(){return e},e}var V=i.b.div(G()),Y=function(e){var n=e.dictionary;return o.a.createElement(V,null,o.a.createElement("h3",null,n.noItemsFoundHeader),o.a.createElement("h5",null,n.noItemsFoundText," "))};function K(){var e=Object(a.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  .list-group-item:last-child {\n    border-bottom: none;\n  }\n  li:last-child {\n    border-bottom: none;\n  }\n"]);return K=function(){return e},e}function q(){var e=Object(a.a)(["\n  .badge.badge-light {\n    background: rgba(175, 184, 189, 0.2);\n    border: 1px solid #f8f9fa;\n    color: #212529;\n    .dark & {\n      color: #fff;\n      background: rgb(175, 184, 189, 0.2) !important;\n      border: 1px solid rgb(175, 184, 189, 0.2);\n    }\n  }\n"]);return q=function(){return e},e}var Z=i.b.div(q()),J=i.b.ul(K()),X=function(e){var n=e.className,t=void 0===n?"":n,a=e.active,r=e.handleHeaderClick,i=e.headerText,c=e.dictionary,s=e.items,l=e.ItemList,d=e.showEmptyState,m=void 0===d||d,u=e.listGroupClassname,p=void 0===u?"":u,f=e.params,b=e.workspaceName,h=e.handleSort,E=e.sortByDate;return o.a.createElement(Z,{className:t},o.a.createElement(B,{active:a,headerText:i,handleClick:r,params:f,workspaceName:b,handleSort:h,sortByDate:E,dictionary:c}),0===s.length&&m&&a&&o.a.createElement(Y,{dictionary:c}),s.length>0&&a&&o.a.createElement(J,{className:p},s.map((function(e){return l(e)}))),e.children)};function Q(){var e=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]);return Q=function(){return e},e}function $(){var e=Object(a.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n']);return $=function(){return e},e}var ee=i.b.div($(),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),ne=Object(i.b)(X)(Q()),te=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,i=e.isLoaded,c=e.todoActions,s=e.todoItems,l=e.doneTodoItems,d=e.workspaceName,m=void 0===d?null:d,u=Object(M.ab)(),p=u.todoFormat,f=u.todoFormatShortCode,b=Object(M.s)().getFileIcon,g=Object(M.O)(),v=Object(F.i)(),O=function(e,n){if(e.preventDefault(),"CHAT"===n.link_type)g.toChat(n.data.channel,n.data.chat_message);else{var t={id:"POST_COMMENT"===n.link_type&&n.data?n.data.post.id:n.link_id,title:n.title},a=null;n.workspace&&(a=Object(h.a)(Object(h.a)({},n.workspace),{},{folder_id:n.folder?n.folder.id:null,folder_name:n.folder?n.folder.name:null})),g.toPost({workspace:a,post:t})}},_=Object(r.useState)({todo:!0,done:!1}),w=Object(E.a)(_,2),T=w[0],N=w[1],k=Object(r.useState)(!0),y=Object(E.a)(k,2),A=y[0],j=y[1],C=function(e,n){e.preventDefault(),e.stopPropagation(),g.toWorkspace(n.workspace,"reminders")},x=function(){j(!A)},S=function(e){return Object.values(e).sort((function(e,n){return A?e.remind_at&&n.remind_at?e.remind_at.timestamp-n.remind_at.timestamp:e.remind_at&&null===n.remind_at?-1:null===e.remind_at&&n.remind_at?1:null===e.remind_at&&null===n.remind_at?e.title.localeCompare(n.title):void 0:e.title.localeCompare(n.title)}))};return o.a.createElement(ee,{className:"todos-body card app-content-body mb-4 ".concat(t),active:!s.length},!i&&o.a.createElement("div",{className:"card-body"},o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),i&&o.a.createElement("div",{className:"card-body"},o.a.createElement(ne,{active:T.todo,dictionary:a,handleHeaderClick:function(){N({todo:!T.todo,done:T.done})},headerText:a.todo,items:S(s),params:v,workspaceName:m,sortByDate:A,handleSort:x,ItemList:function(e){return o.a.createElement(L,{key:e.id,todo:e,todoActions:c,dictionary:a,handleLinkClick:O,todoFormat:p,todoFormatShortCode:f,getFileIcon:b,showWsBadge:!v.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:C})}}),o.a.createElement(ne,{active:T.done,dictionary:a,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){N({todo:T.todo,done:!T.done})},headerText:a.done,items:S(l),params:v,workspaceName:null,sortByDate:A,handleSort:x,ItemList:function(e){return o.a.createElement(L,{key:e.id,todo:e,todoActions:c,dictionary:a,handleLinkClick:O,todoFormat:p,todoFormatShortCode:f,getFileIcon:b,showWsBadge:!v.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:C})}})))}));function ae(){var e=Object(a.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  font-weight: 700;\n  cursor: pointer;\n  background: #f8f9fa !important;\n  border: 1px solid #f8f9fa;\n"]);return re=function(){return e},e}function oe(){var e=Object(a.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    stroke: #191c20;\n  }\n  div:first-child {\n    padding-left: 20px;\n    padding-right: 0;\n  }\n"]);return oe=function(){return e},e}i.b.div(oe()),i.b.span(re()),i.b.div(ae())},830:function(e,n,t){"use strict";t.d(n,"b",(function(){return j})),t.d(n,"a",(function(){return W})),t.d(n,"c",(function(){return Y}));t(10);var a=t(1),r=t(7),o=t(5),i=t(0),c=t.n(i),s=t(6),l=t(889),d=t(4),m=t(13),u=t(12),p=t(11),f=(t(44),t(14),t(17));function b(){var e=Object(o.a)(["\n  width: 12px !important;\n"]);return b=function(){return e},e}function h(){var e=Object(o.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return h=function(){return e},e}d.b.li(h(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Object(d.b)(u.t)(b());function E(){var e=Object(o.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return E=function(){return e},e}function g(){var e=Object(o.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(o.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return v=function(){return e},e}function O(){var e=Object(o.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"]);return O=function(){return e},e}d.b.li(O(),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),Object(d.b)(u.t)(v()),d.b.ul(g(),(function(e){return e.maxHeight})),Object(d.b)(u.t)(E());var _=t(9),w=t(52),T=t.n(w);function N(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return N=function(){return e},e}function k(){var e=Object(o.a)(["\n  position: relative;\n  display: flex;\n  margin-left: 6px;\n  align-items: center;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n  .feather.feather-pencil {\n    width: 14px;\n    height: 14px;\n  }\n"]);return k=function(){return e},e}var y=d.b.div(k()),A=Object(d.b)(T.a)(N()),j=c.a.memo((function(e){var n=e.className,t=void 0===n?"":n,o=Object(p.bb)(),l=Object(p.gb)()._t,d={archiveThisWorkspace:l("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:l("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),archiveWorkspace:l("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:l("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:l("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:l("BUTTON.CANCEL","Cancel"),archiveBodyText:l("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:l("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),worskpaceSettings:l("TOOLTIP.WORKSPACE_SETTINGS","Workspace settings")},b=Object(i.useRef)(),h=Object(s.c)(),E=Object(s.d)((function(e){return e.workspaces.activeTopic})),g=Object(s.d)((function(e){return e.workspaces.folders})),v=Object(i.useState)(!1),O=Object(r.a)(v,2),w=O[0],T=O[1],N=function(){T(!w)},k=function(e){j(e.target.dataset.name)},j=function(e){var n={mode:"edit",item:E};n="folder"===e?Object(a.a)(Object(a.a)({},n),{},{type:"workspace_folder",item:g[E.folder_id]}):Object(a.a)(Object(a.a)({},n),{},{type:"workspace_create_edit"}),h(Object(m.a)(n))},C=function(){var e={id:E.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:E.is_external,push_unarchived:1};h(Object(f.rb)(e)),o.success(c.a.createElement("span",null,c.a.createElement("b",null,E.name," workspace is un-archived.")))};Object(p.G)(b,N,w);var x=E?E.members.map((function(e){return e.member_ids?e.member_ids:e.id})).flat():[];return Object(p.C)(E&&E.member_ids.length?Object(_.a)(new Set(x)):[])?c.a.createElement(y,{className:"nav-item ".concat(t),ref:b},c.a.createElement("div",null,c.a.createElement("span",{className:"dropdown-toggle ".concat(w?"show":""),"data-toggle":"dropdown",onClick:function(){E&&null!==E.folder_id||E&&0===E.active?N():j("workspace")}},c.a.createElement(A,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:d.worskpaceSettings},c.a.createElement(u.t,{icon:"pencil"}))),c.a.createElement("div",{className:"dropdown-menu ".concat(w?"show":"")},1===E.active?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:k},"Folder settings"),c.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:k},"Workspace settings")):c.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){var e={type:"confirmation",cancelText:d.cancel,headerText:d.unarchiveWorkspace,submitText:d.unarchiveWorkspace,bodyText:d.unarchiveBodyText,actions:{onSubmit:C}};h(Object(m.a)(e))}},"Un-archive workspace")))):null}));function C(){var e=Object(o.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return C=function(){return e},e}function x(){var e=Object(o.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"]);return x=function(){return e},e}d.b.li(x(),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),Object(d.b)(u.t)(C());function S(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  color: #8b8b8b;\n"]);return S=function(){return e},e}function I(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  color: #cbd4db;\n  .feather {\n    margin-left: 5px;\n  }\n"]);return I=function(){return e},e}function R(){var e=Object(o.a)(["\n  min-width: 0.8rem;\n  min-height: 0.8rem;\n  width: 0.8rem;\n  height: 0.8rem;\n"]);return R=function(){return e},e}function P(){var e=Object(o.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  align-self: center;\n"]);return P=function(){return e},e}function D(){var e=Object(o.a)(["\n  display: flex;\n  padding-top: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n  .feather {\n    color: ",";\n  }\n  .feather-star {\n    top: -2px;\n    right: -2px;\n  }\n  .feather-folder {\n    margin-right: 5px;\n    width: 0.7rem;\n    height: 0.7rem;\n  }\n  .workspace-folder-name {\n    font-size: 0.7rem;\n  }\n"]);return D=function(){return e},e}var L=d.b.div(D(),(function(e){return e.theme.colors.sidebarTextColor})),F=d.b.div(P()),M=Object(d.b)(u.t)(R()),U=d.b.div(I()),H=d.b.div(S()),W=function(e){var n=e.isExternal,t=e.onSelectWorkspace,a=e.workspace,r=e.isCompanyWs,o=e.companyName;return c.a.createElement(L,{onClick:function(){t(a)}},c.a.createElement(Y,{avatarClassName:"avatar-sm",workspace:a,isCompanyWs:r,companyName:o}),c.a.createElement(F,null,c.a.createElement(U,null,c.a.createElement("span",{className:"text-truncate"},r&&o?o:a.name),1===a.is_lock&&c.a.createElement(M,{icon:"lock"}),a.is_shared&&!n&&c.a.createElement(M,{icon:"eye"})),a.folder_name&&c.a.createElement(H,{className:"workspace-folder-name"},c.a.createElement(M,{icon:"folder"}),c.a.createElement("span",{className:"text-truncate"},a.folder_name))))};function z(){var e=Object(o.a)(["\n  position: absolute;\n  right: -7px;\n  top: -4px;\n  z-index: 1;\n  padding: 4px 8px;\n  font-size: 10px;\n  &.badge.badge-primary {\n    background: ",";\n  }\n"]);return z=function(){return e},e}function B(){var e=Object(o.a)(["\n  position: relative;\n"]);return B=function(){return e},e}var G=d.b.div(B()),V=Object(d.b)(l.a)(z(),(function(e){return e.theme.colors.secondary})),Y=function(e){var n=e.avatarClassName,t=void 0===n?"":n,a=e.onSelectWorkspace,r=void 0===a?null:a,o=e.workspace,i=e.isCompanyWs,s=e.companyName;return c.a.createElement(G,{className:"workspace-icon mr-3"},o.hasOwnProperty("workspace_counter_entries")&&o.workspace_counter_entries>0&&c.a.createElement(V,{className:"badge badge-primary badge-pill ml-1"},o.workspace_counter_entries>99?"99+":o.workspace_counter_entries),c.a.createElement(u.a,{className:t,forceThumbnail:!1,type:"TOPIC",imageLink:o.team_channel?o.team_channel.icon_link:null,id:o.id,name:i&&s?s:o.name,onClick:r,noDefaultClick:!r,showSlider:!1}))}},831:function(e,n,t){"use strict";t.d(n,"a",(function(){return I})),t.d(n,"b",(function(){return U})),t.d(n,"c",(function(){return K}));t(806),t(808),t(827);var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(6),s=t(44),l=t(4),d=t(12),m=t(70),u=t(11),p=t(23);function f(){var e=Object(r.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: ',";\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: ",";\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n"]);return f=function(){return e},e}function b(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(r.a)([""]);return h=function(){return e},e}var E=l.b.div(h()),g=l.b.ul(b()),v=Object(l.b)(d.l)(f(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),O=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(s.h)(),r=Object(u.gb)()._t,o={people:r("ALL_PEOPLE_PAGE_HEADER_LINKS.PEOPLE","People"),teams:r("ALL_PEOPLE_PAGE_HEADER_LINKS.TEAMS","Teams"),organization:r("ALL_PEOPLE_PAGE_HEADER_LINKS.ORGANIZATION","Organization chart")};return i.a.createElement(i.a.Fragment,null,i.a.createElement(E,{className:"".concat(t)},i.a.createElement(g,{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(v,{to:"/system/people",active:"/system/people"===a.pathname},o.people)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(v,{to:"/system/people/teams",active:a.pathname.startsWith("/system/people/teams")},o.teams)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(v,{to:"/system/people/organization",active:"/system/people/organization"===a.pathname},o.organization)))))})),_=t(13);function w(){var e=Object(r.a)(["\n  @media (max-width: 414px) {\n    display: none;\n  }\n  @media (max-width: 700px) {\n    position: absolute;\n    right: 100px;\n    top: 10px;\n  }\n"]);return w=function(){return e},e}var T=l.b.li(w()),N=function(e){var n=e.dictionary,t=Object(s.g)(),a=Object(c.d)((function(e){return e.session.user})),r=Object(c.d)((function(e){return e.users.users})),o=Object(c.d)((function(e){return e.users.teams})),l=Object(u.ib)(),m=Object(u.bb)(),p=Object(c.c)(),f="admin"===a.role.name||"owner"===a.role.name;return i.a.createElement(T,{className:"nav-item-last ml-auto"},f&&i.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){p(Object(_.a)({mode:"create",type:"team",team:null}))}},i.a.createElement(d.t,{className:"mr-2",icon:"user-plus"})," ",n.btnTeam),t.location.pathname.startsWith("/system/people/teams/")&&i.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=t.location.pathname.split("/system/people/teams/")[1].split("/")[0],n=o[e],a={mode:"edit",type:"team",team:n};n&&p(Object(_.a)(a))}},i.a.createElement(d.t,{className:"mr-2",icon:"user-plus"})," ",n.updateTeam),"/system/people"===t.location.pathname&&i.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"driff_invite_users",hasLastName:!0,invitations:[],fromRegister:!1,onPrimaryAction:function(e,n,t){0===e.length&&t.closeModal();var a=0;e.forEach((function(o,c){Object.values(r).some((function(e){return e.email===o.email}))?(m.error(i.a.createElement(i.a.Fragment,null,"Email ",i.a.createElement("b",null,o.email)," is already taken!")),c===e.length-1&&(a===e.length&&t.closeModal(),n())):l.inviteAsInternalUsers({email:""===o.email&&void 0!==o.phone_number?o.phone_number:o.email,first_name:o.first_name,last_name:o.last_name,team_ids:o.teams?o.teams.map((function(e){return e.id})):[]},(function(r,i){r&&(m.error("Something went wrong with ".concat(o.first_name," ").concat(o.last_name)),t.deleteItemByIndex(t.invitationItems.findIndex((function(e){return e.email===o.email})))),i&&(a+=1,t.deleteItemByIndex(t.invitationItems.findIndex((function(e){return e.email===o.email}))),m.success("You have invited ".concat(o.first_name," ").concat(o.last_name))),c===e.length-1&&(a===e.length&&t.closeModal(),n())}))}))}};p(Object(_.a)(e))}},i.a.createElement(d.t,{className:"mr-2",icon:"user-plus"})," ",n.btnInviteUsers))},k=t(800);function y(){var e=Object(r.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n  ","\n"]);return y=function(){return e},e}function A(){var e=Object(r.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return A=function(){return e},e}function j(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n\n  &.page-notifications,\n  &.page-profile,\n  &.page-settings,\n  &.page-system {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 4px;\n          display: flex;\n          align-items: center;\n          height: 40px;\n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n            overflow: auto;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: "," !important;\n  }\n  svg.feather-home {\n    //color: rgb(80, 80, 80);\n    color: #8b8b8b;\n    width: 20px;\n    height: 20px;\n    .dark & {\n      color: #fff;\n    }\n  }\n  .dash {\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n  .nav-item-last {\n    list-style: none;\n  }\n"]);return j=function(){return e},e}var C=l.b.div(j(),(function(e){return e.theme.colors.primary})),x=l.b.h2(A()),S=Object(l.b)(d.t)(y(),(function(e){return e.isFavorite&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),I=i.a.memo((function(){var e=Object(s.j)(),n=Object(c.d)((function(e){return e.settings})),t=n.driff,r=n.user.GENERAL_SETTINGS.dark_mode,l=Object(c.d)((function(e){return e.global.unreadCounter})),f=Object(c.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),b=Object(c.d)((function(e){return Object.values(e.workspaces.workspaces).find((function(e){return f&&f.id===e.id}))})),h=Object(u.gb)()._t,E={pageTitleDashboard:h("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:h("PAGE_TITLE.POSTS","Posts"),pageTitleChat:h("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:h("PAGE_TITLE.FILES","Files"),pageTitleNotifications:h("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:h("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:h("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:h("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:h("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:h("PAGE_TITLE.TODOS","Reminders"),pageTitleSystemPeople:h("PAGE_TITLE.SYSTEM_PEOPLE","All people"),generalSearch:h("GENERAL.SEARCH","Search"),generalNotifications:h("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:h("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===r?h("SETTINGS.DARK_MODE","dark mode"):h("SETTINGS.LIGHT_MODE","light mode")}),bots:h("SIDEBAR.BOTS","Bots"),adminSettings:h("PAGE_TITLE.ADMIN_SETTINGS","Driff settings"),btnTeam:h("BUTTON.TEAM","Team"),btnInviteUsers:h("BUTTON.INVITE_USERS","Invite users"),updateTeam:h("TEAM_MODAL.UPDATE_TEAM_BTN","Update team")},g=Object(c.c)(),v=Object(o.useState)(E.pageTitleDashboard),_=Object(a.a)(v,2),w=_[0],T=_[1],y=function(){if(b){var e={id:b.id,workspace_id:0,is_pinned:b.is_favourite?0:1};g(Object(p.g)(e))}};return Object(o.useEffect)((function(){switch(e.params.page){case"posts":T(E.pageTitlePosts);break;case"chat":T(E.pageTitleChat);break;case"files":T(E.pageTitleFiles);break;case"notifications":T(E.pageTitleNotifications);break;case"people":T(E.pageTitlePeople);break;case"profile":T(E.pageTitleProfile);break;case"search":T(E.pageTitleSearch);break;case"settings":T(E.pageTitleSettings);break;case"todos":T(E.pageTitleTodos);break;default:T(E.pageTitleDashboard)}l.chat_message>=1||l.unread_channel>0?document.title="".concat(w," \u2039 * ").concat(t.company_name," @ Driff"):document.title="".concat(w," \u2039 ").concat(t.company_name," @ Driff")}),[e.params.page,g,w,t.company_name]),i.a.createElement(C,{className:"page-".concat(e.params.page)},i.a.createElement("div",{className:"navbar-left"},i.a.createElement("div",{className:"navbar-nav"},i.a.createElement("div",{className:"navbar-wrap"},i.a.createElement("div",{className:"navbar-top"},i.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},i.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},i.a.createElement(d.t,{icon:"menu"}))),i.a.createElement(k.a,null),i.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},function(){switch(e.params.page){case"notifications":return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.t,{className:"mr-2",icon:"bell"}),i.a.createElement(x,null,E.pageTitleNotifications));case"profile":return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.t,{className:"mr-2",icon:"user"}),i.a.createElement(x,null,E.pageTitleProfile));case"settings":return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.t,{className:"mr-2",icon:"settings"}),i.a.createElement(x,null,E.pageTitleSettings));case"system":return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.t,{className:"mr-2",icon:"user"}),i.a.createElement(x,null,E.pageTitleSystemPeople));default:return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.t,{className:"mr-2",icon:"home"})," ",i.a.createElement(x,null,t.company_name),f&&i.a.createElement(S,{className:"mr-2",icon:"star",onClick:y,isFavorite:b&&b.is_favourite}))}}())),!["system","notifications","profile","settings"].includes(e.params.page)&&i.a.createElement("div",{className:"navbar-bottom"},i.a.createElement("div",{className:"navbar-main"},i.a.createElement(U,{dictionary:E}))),["system"].includes(e.params.page)&&i.a.createElement("div",{className:"navbar-bottom"},i.a.createElement("div",{className:"navbar-main"},i.a.createElement(O,{dictionary:E,match:e}))))),["system"].includes(e.params.page)&&i.a.createElement(N,{dictionary:E})),i.a.createElement("div",null,i.a.createElement(m.b,{dictionary:E})))}));t(809),t(810),t(836);function R(){var e=Object(r.a)(['\n  color: #828282;\n  // margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  white-space: nowrap;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: ',";\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: ",";\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n"]);return R=function(){return e},e}function P(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]);return P=function(){return e},e}function D(){var e=Object(r.a)([""]);return D=function(){return e},e}var L=l.b.div(D()),F=l.b.ul(P()),M=Object(l.b)(d.l)(R(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),U=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.dictionary,r=Object(c.d)((function(e){return e.global.unreadCounter})),o=Object(c.d)((function(e){return e.chat.lastVisitedChannel})),s=Object(c.d)((function(e){return e.session.user})),l=Object(c.d)((function(e){return e.global.todos.count}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(L,{className:"".concat(t)},i.a.createElement(F,{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(M,{to:"/dashboard"},a.pageTitleDashboard)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(M,{to:null!==o&&o.hasOwnProperty("code")?"/chat/".concat(o.code):"/chat"},a.pageTitleChat," ",i.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.chat_message>0?r.chat_message:null))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(M,{to:"/posts"},a.pageTitlePosts," ",i.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},r.general_post>0?r.general_post:null))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(M,{to:"/todos"},a.pageTitleTodos," ",i.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},l.todo_with_date>0?l.todo_with_date:null))),i.a.createElement("li",{className:"nav-item"},i.a.createElement(M,{to:"/files"},a.pageTitleFiles)),i.a.createElement("li",{className:"nav-item"},i.a.createElement(M,{to:"/people"},a.pageTitlePeople)),s.role&&["owner","admin"].includes(s.role.name)&&i.a.createElement("li",{className:"nav-item"},i.a.createElement(M,{to:"/admin-settings"},a.adminSettings)))))})),H=t(801),W=t(796),z=t(834);function B(){var e=Object(r.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n"]);return B=function(){return e},e}function G(){var e=Object(r.a)(["\n  padding: 2rem;\n"]);return G=function(){return e},e}var V=l.b.div(G()),Y=l.b.div(B(),(function(e){return e.theme.colors.primary})),K=function(e){var n=e.users,t=Object(l.c)(),a=Object(c.d)((function(e){return e.users.teams})),r=Object(c.d)((function(e){return e.settings.driff.company_name}));return i.a.createElement(V,null,i.a.createElement(H.a,{lineWidth:"2px",lineColor:t.colors.primary,lineBorderRadius:"10px",label:i.a.createElement(Y,null,i.a.createElement("div",{className:"team-name mb-2"},i.a.createElement(d.t,{className:"mr-2",icon:"home"}),r),i.a.createElement("div",{className:"mb-1"},n.length," accounts"),i.a.createElement(W.a,{members:n}))},Object.values(a).filter((function(e){return 0===e.parent_team})).map((function(e){return i.a.createElement(z.a,{key:e.id,team:e,allTeams:Object.values(a)})}))))}},832:function(e,n,t){"use strict";t.d(n,"c",(function(){return b})),t.d(n,"d",(function(){return _})),t.d(n,"e",(function(){return y})),t.d(n,"a",(function(){return C})),t.d(n,"b",(function(){return I}));var a=t(7),r=t(5),o=t(0),i=t.n(o),c=t(4),s=t(12);function l(){var e=Object(r.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(r.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]);return d=function(){return e},e}function m(){var e=Object(r.a)(["\n  border-left: ",";\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .feather-edit {\n    color: #8b8b8b;\n  }\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n\n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return m=function(){return e},e}var u=c.b.div(m(),(function(e){return"5px solid ".concat(e.theme.colors.primary)}),(function(e){return e.theme.colors.primary})),p=c.b.div(d()),f=c.b.div(l(),(function(e){return e.height})),b=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.onEditClick,c=e.workspace,l=e.isMember,d=e.isExternal,m=e.dictionary,b=Object(o.useState)(""),h=Object(a.a)(b,2),E=h[0],g=h[1],v=Object(o.useState)(null),O=Object(a.a)(v,2),_=O[0],w=O[1],T=Object(o.useState)(140),N=Object(a.a)(T,2),k=N[0],y=N[1],A={description:Object(o.useRef)(null)};return Object(o.useEffect)((function(){A.description.current&&(!0===_?setTimeout((function(){A.description.current.style.overflow=""}),[300]):!1===_&&(A.description.current.style.overflow="hidden"))}),[_,A.description.current]),Object(o.useEffect)((function(){c&&E!==c.description&&(g(c.description),w(null),A.description.current=null)}),[c]),i.a.createElement(u,{className:"dashboard-about-workspace card ".concat(t)},i.a.createElement("div",{className:"bg-overlay ".concat(null===_?"":!0===_?"show":"hide")}),i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},m.aboutThisWorkspace," ",!0===l&&!d&&1===c.active&&i.a.createElement(s.t,{icon:"edit",onClick:r})),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement(p,{className:null===_?"":!0===_?"show":"hide"},i.a.createElement(f,{ref:function(e){null===A.description.current&&e&&(A.description.current=e,e.clientHeight>140?(y(e.clientHeight),w(!1)):w(null))},height:k,className:"dashboard-description ".concat(null===_?"":!0===_?"show":"hide"),dangerouslySetInnerHTML:{__html:c.description}}),null!==_&&i.a.createElement("div",{onClick:function(e){e.preventDefault(),w((function(e){return!e}))},className:"btn-toggle-show cursor-pointer mt-2"},_?m.showLess:m.showMore)))))})),h=t(795),E=t(6),g=t(11);function v(){var e=Object(r.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  .feather-plus {\n    color: #8b8b8b;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return v=function(){return e},e}var O=c.b.div(v(),(function(e){return e.theme.colors.primary})),_=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,r=e.workspace,c=e.onEditClick,l=e.isExternal,d=e.isMember,m=e.dictionary,u=e.actions,p=Object(o.useRef)(null),f=Object(o.useState)(!1),b=Object(a.a)(f,2),v=b[0],_=b[1],w=Object(g.bb)(),T=Object(E.d)((function(e){return e.session.user})),N=!d||0===r.active,k=r.members,y=function(){_((function(e){return!e}))},A=function(e,n){u.leave(e,n,(function(n,t){n||w.success(i.a.createElement(i.a.Fragment,null,m.leaveWorkspace,i.a.createElement("b",null,e.name)))}))},j=function(e,n){var t={topic_id:r.id,user_id:e.id,role:n};u.addRole(t)};return i.a.createElement(O,{className:"dashboard-team card ".concat(t),ref:p},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},m.team," ",!0===d&&!l&&1===r.active&&i.a.createElement(s.t,{onClick:c,icon:"plus"})),0===k.length?i.a.createElement(i.a.Fragment,null,m.emptyTeam):i.a.createElement("ul",{className:"list-group list-group-flush"},(v?k:k.slice(0,5)).map((function(e,n){return i.a.createElement(h.c,{key:e.id,member:e,onLeaveWorkspace:A,onAddRole:j,hideOptions:N,actions:u,workspace_id:r.id,dictionary:m,showMoreButton:4===n&&k.length>5&&!v,showLessButton:n===k.length-1&&k.length>5&&v,toggleShow:y,loggedUser:T,workspace:r})})))))})),w=t(44),T=t(83);function N(){var e=Object(r.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    color: #8b8b8b;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]);return N=function(){return e},e}var k=c.b.div(N(),(function(e){return e.theme.colors.primary})),y=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.posts,r=e.dictionary,c=e.disableOptions,l=Object(g.I)(),d=Object(w.j)(),m=function(e){l.openPost(e,d.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(o.useEffect)((function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}),[d.params.workspaceId]),i.a.createElement(k,{className:"recent-posts card ".concat(t)},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},r.recentPosts," ",i.a.createElement(s.t,{icon:"refresh-ccw",onClick:function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}})),a&&Object.keys(a).length?i.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,n){return n.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return i.a.createElement(T.e,{key:e.id,post:e,postActions:l,onOpenPost:m,disableOptions:c})}))):i.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))}));function A(){var e=Object(r.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return A=function(){return e},e}var j=c.b.div(A(),(function(e){return e.theme.colors.primary})),C=function(e){var n=e.className,t=void 0===n?"":n,r=e.onEditClick,c=e.dictionary,s=e.actions,l=Object(o.useRef)(null),d=Object(E.d)((function(e){return e.users.users})),m=Object(E.d)((function(e){return e.session.user})),u=Object(o.useState)(!1),p=Object(a.a)(u,2),f=p[0],b=p[1],g=function(){b((function(e){return!e}))},v=Object.values(d).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,n){return e.name.localeCompare(n.name)}));return i.a.createElement(j,{className:"dashboard-team card ".concat(t),ref:l},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},c.team),i.a.createElement("ul",{className:"list-group list-group-flush"},(f?v:v.slice(0,5)).map((function(e,n){return i.a.createElement(h.c,{key:e.id,member:e,hideOptions:!0,onEditClick:r,actions:s,dictionary:c,showMoreButton:4===n&&v.length>5&&!f,showLessButton:n===v.length-1&&v.length>5&&f,showMore:f,toggleShow:g,loggedUser:m})})))))};function x(){var e=Object(r.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    color: #8b8b8b;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]);return x=function(){return e},e}var S=c.b.div(x(),(function(e){return e.theme.colors.primary})),I=i.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.posts,r=e.dictionary,c=e.disableOptions,l=Object(g.I)(),d=Object(w.j)(),m=function(e){l.openPost(e,d.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(o.useEffect)((function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}),[d.params.workspaceId]),i.a.createElement(S,{className:"recent-posts card ".concat(t)},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},r.recentPosts," ",i.a.createElement(s.t,{icon:"refresh-ccw",onClick:function(){d.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(d.params.workspaceId)}})),a&&Object.keys(a).length?i.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).sort((function(e,n){return n.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return i.a.createElement(T.e,{key:e.id,post:e,postActions:l,onOpenPost:m,disableOptions:c})}))):i.a.createElement("span",{className:"medium text-muted"},r.noRecentPosts)))}))},833:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),o=t.n(r),i=t(44),c=t(4),s=t(11),l=t(13),d=t(6),m=t(14),u=t(29),p=t(9),f=t(1),b=t(801),h=t(796),E=t(12),g=t(834);function v(){var e=Object(a.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]);return v=function(){return e},e}function O(){var e=Object(a.a)(["\n  padding: 1rem;\n  width: 100%;\n  // overflow: auto;\n"]);return O=function(){return e},e}var _=c.b.div(O()),w=c.b.div(v(),(function(e){return e.theme.colors.primary})),T=function(e){var n=e.dictionary,t=Object(c.c)(),a=Object(d.d)((function(e){return e.users.users})),r=Object.values(a).filter((function(e){return"internal"===e.type})),s=Object.values(a).filter((function(e){return"external"===e.type})),l=Object(d.d)((function(e){return e.users.teams})),m=Object(d.d)((function(e){return e.users.teamsLoaded})),u=Object(d.d)((function(e){return e.users.usersLoaded})),v=Object(d.d)((function(e){return e.settings.driff.company_name})),O=[{id:"internal",name:n.internalAccounts,members:r,member_ids:r.map((function(e){return e.id})),parent_team:0},{id:"external",name:n.guestAccounts,members:s.map((function(e){return e.name&&""===e.name.trim()?Object(f.a)(Object(f.a)({},e),{},{name:e.email}):e})),member_ids:s.map((function(e){return e.id})),parent_team:0}],T=[].concat(O,Object(p.a)(Object.values(l))),N=Object(i.g)(),k=function(e){N.push("/system/people/teams/".concat(e.id,"/").concat(e.name))},y=[{id:null,name:v,members:Object.values(a),icon_link:null,icon:"home"}].concat(Object(p.a)(Object.values(a)));return o.a.createElement(_,null,u&&m&&o.a.createElement(b.a,{lineWidth:"2px",lineColor:t.colors.primary,lineBorderRadius:"10px",label:o.a.createElement(w,null,o.a.createElement("div",{className:"team-name mb-1"},o.a.createElement(E.t,{className:"mr-2",icon:"home"}),v),o.a.createElement("div",{className:"mb-2"},Object.values(a).length," accounts"),o.a.createElement(h.a,{members:y}))},T.filter((function(e){return 0===e.parent_team})).map((function(e){return o.a.createElement(g.a,{key:e.id,team:e,allTeams:T,onSelectTeam:k})}))))},N=t(795),k=function(e){var n=e.loggedUser,t=e.onNameClick,a=e.onChatClick,r=e.dictionary,c=e.onUpdateRole,m=e.showOptions,u=e.onArchiveUser,p=e.onActivateUser,f=e.onChangeUserType,b=e.onDeleteUser,h=e.onResendInvite,E=e.onDeleteInvitedInternalUser,g=e.onAddUserToTeam,v=Object(i.i)(),O=Object(d.d)((function(e){return e.users.teams})),_=Object(d.d)((function(e){return e.users.users})),w=Object(d.d)((function(e){return e.users.roles})),T=Object(d.d)((function(e){return e.users.usersWithoutActivity})),k=Object(d.c)(),y=Object(s.gb)()._t,A=Object(s.bb)(),j=Object(s.Z)(),C=function(e){var n={type:"confirmation",headerText:y("REMOVE_TEAM_MEMBER_HEADER","Remove team member"),submitText:y("REMOVE_TEAM_MEMBER_BUTTON","Remove"),cancelText:y("BUTTON.CANCEL","CANCEL"),bodyText:y("REMOVE_TEAM_MEMBER_BODY","Are you sure you want to remove ::name::?",{name:e.name}),actions:{onSubmit:function(){var n={team_id:v.teamId,remove_member_ids:[e.id]};j.removeMember(n,(function(e,n){e||A.success(y("TOASTER.SUCCESS_REMOVE_TEAM_MEMBER","Successfully removed team member"))}))}}};k(Object(l.a)(n))};return Object.values(_).length&&O[v.teamId]?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("h4",null,O[v.teamId].name," ",O[v.teamId].members.length," members")),o.a.createElement("div",{className:"row"},Object.values(_).filter((function(e){return O[v.teamId].members.some((function(n){return n.id===e.id}))})).map((function(e){return o.a.createElement(N.a,{loggedUser:n,key:e.id,user:e,onNameClick:t,onChatClick:a,dictionary:r,onUpdateRole:c,showOptions:m,roles:w,onArchiveUser:u,onActivateUser:p,onChangeUserType:f,onDeleteUser:b,onResendInvite:h,onDeleteInvitedInternalUser:E,usersWithoutActivity:T,onAddUserToTeam:g,onDeleteTeamMember:C})})))):null},y=t(7),A=t(899),j=t(164),C=t(101),x=t.n(C);function S(){var e=Object(a.a)(["\n  .custom-switch {\n    margin-bottom: 0 !important;\n  }\n  div.text-muted {\n    font-weight: 500;\n  }\n  form {\n    display: flex;\n    flex-grow: 1;\n    width: auto;\n  }\n"]);return S=function(){return e},e}function I(){var e=Object(a.a)(["\n  //width: 50%;\n  //margin-bottom: 1rem;\n  min-width: 250px;\n"]);return I=function(){return e},e}var R=Object(c.b)(j.a)(I()),P=c.b.div(S()),D=function(e){var n=e.loggedUser,t=e.onNameClick,a=e.onChatClick,i=e.dictionary,c=e.onUpdateRole,l=e.showOptions,m=e.onArchiveUser,f=e.onActivateUser,b=e.onChangeUserType,h=e.onDeleteUser,E=e.onResendInvite,g=e.onDeleteInvitedInternalUser,v=e.onAddUserToTeam,O=Object(d.c)(),_=Object(s.bb)(),w=Object(r.useState)(!1),T=Object(y.a)(w,2),k=T[0],j=T[1],C=Object(r.useState)(!1),S=Object(y.a)(C,2),I=S[0],D=S[1],L=Object(r.useState)(""),F=Object(y.a)(L,2),M=F[0],U=F[1],H=Object(r.useState)(!1),W=Object(y.a)(H,2),z=W[0],B=W[1],G=Object(d.d)((function(e){return e.users.users})),V=Object(d.d)((function(e){return e.users.roles})),Y=Object(d.d)((function(e){return e.users.archivedUsers})),K=Object(d.d)((function(e){return e.users.usersWithoutActivity})),q=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot","huddle_bot"],Z=[].concat(Object(p.a)(Object.values(G)),Object(p.a)(Y)).filter((function(e){return!e.email||!q.includes(e.email)})),J=Z.filter((function(e){if(["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email))return!1;if(k){if(1===e.active)return!1;if(""===e.name.trim())return!1}else{if(I)return!e.has_accepted&&e.active;if(1!==e.active)return!1}return""===M||!!(-1!==e.name.toLowerCase().search(M.toLowerCase())||-1!==e.email.toLowerCase().search(M.toLowerCase())||e.role&&-1!==e.role.name.toLowerCase().search(M.toLowerCase()))})).sort((function(e,n){return e.name.localeCompare(n.name)})),X=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=setTimeout((function(){""!==M&&function(){if(""!==M.trim()&&M.trim().length>=3){X.current&&(X.current.cancel("Operation canceled due to new request."),X.current=null),X.current=x.a.CancelToken.source(),B(!0);var e={search:M,cancelToken:X.current.token};O(Object(u.X)(e,(function(e,n){B(!1)})))}}()}),1e3);return function(){clearTimeout(e)}}),[M]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"people-header"},o.a.createElement(P,{className:"d-flex align-items-center people-search"},o.a.createElement(R,{value:M,closeButton:"true",onClickEmpty:function(){U("")},placeholder:i.searchPeoplePlaceholder,onChange:function(e){U(e.target.value)},autoFocus:!0,searching:z}),o.a.createElement(A.a,{className:"ml-2 mr-2 cursor-pointer text-muted cursor-pointer",checked:k,id:"show_inactive",name:"show_inactive",type:"switch",onChange:function(){j((function(e){var n=!e;return n?_.success("Showing inactive members"):_.success("Showing active members only"),n})),I&&!k&&D(!1)},"data-success-message":"".concat(k?"Inactive users are shown":"Inactive users are no longer visible"),label:o.a.createElement("span",null,i.showInactiveMembers)}),o.a.createElement(A.a,{className:"mr-3 cursor-pointer text-muted cursor-pointer",checked:I,id:"show_invited",name:"show_invited",type:"switch",onChange:function(){D((function(e){return!e})),k&&!I&&j(!1)},label:o.a.createElement("span",null,i.showInvited," ",I&&Z.filter((function(e){return e.hasOwnProperty("has_accepted")&&!e.has_accepted&&e.active})).length)}),o.a.createElement("div",{className:"mr-3 text-muted"},i.totalAccounts,": ",Z.filter((function(e){return e.active})).length))),o.a.createElement("div",{className:"row"},J.map((function(e){return o.a.createElement(N.a,{loggedUser:n,key:e.id,user:e,onNameClick:t,onChatClick:a,dictionary:i,onUpdateRole:c,showOptions:l,roles:V,onArchiveUser:m,onActivateUser:f,onChangeUserType:b,onDeleteUser:h,onResendInvite:E,onDeleteInvitedInternalUser:g,showInactive:k,usersWithoutActivity:K,onAddUserToTeam:v})}))))};function L(){var e=Object(a.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]);return L=function(){return e},e}function F(){var e=Object(a.a)(["\n  padding: 2rem;\n  width: 100%;\n"]);return F=function(){return e},e}var M=c.b.div(F()),U=Object(c.b)(j.a)(L()),H=function(e){var n=e.loggedUser,t=e.dictionary,a=e._t,i=e.showOptions,c=Object(d.d)((function(e){return e.users.teams})),s=Object(r.useState)(""),l=Object(y.a)(s,2),m=l[0],u=l[1];return o.a.createElement(M,null,o.a.createElement("div",{className:"people-header"},o.a.createElement("div",{className:"d-flex align-items-center people-search"},o.a.createElement(U,{value:m,closeButton:"true",onClickEmpty:function(){u("")},placeholder:t.searchTeamsPlaceholder,onChange:function(e){u(e.target.value)},autoFocus:!0}))),Object.values(c).length>0&&o.a.createElement("div",{className:"row mt-2"},Object.values(c).filter((function(e){return""===m||-1!==e.name.toLowerCase().search(m.toLowerCase())})).map((function(e){return o.a.createElement(N.b,{key:e.id,team:e,loggedUser:n,dictionary:t,_t:a,showOptions:i})}))))};function W(){var e=Object(a.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n    flex-flow: row wrap;\n  }\n\n  .people-search {\n    flex: 0 0 100%;\n    justify-content: flex-start;\n    padding-left: 0;\n    flex-flow: row wrap;\n  }\n  .card {\n    min-height: calc(100% - 40px);\n  }\n  .card-body.structure {\n    overflow: auto;\n    margin: 1.5rem;\n    padding: 0;\n  }\n"]);return W=function(){return e},e}var z=c.b.div(W());n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=Object(s.jb)(),c=a.userActions,p=a.loggedUser,f=a.selectUserChannel,b=Object(d.d)((function(e){return e.users.roles})),h=Object(d.d)((function(e){return e.users.archivedUsers})),E=Object(d.d)((function(e){return e.users.usersWithoutActivityLoaded})),g=Object(i.g)(),v=Object(d.c)(),O=function(e){g.push("/profile/".concat(e.id,"/").concat(Object(m.h)(e.name)))},_=function(e){return f(e)},w=Object(s.gb)()._t,N={searchTeamsPlaceholder:w("PLACEHOLDER.SEARCH_TEAMS","Search teams"),searchPeoplePlaceholder:w("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:w("PEOPLE.EXTERNAL","External"),peopleInvited:w("PEOPLE.INVITED","Invited"),assignAsAdmin:w("PEOPLE.ASSIGN_AS_ADMIN","Assign as administrator"),assignAsEmployee:w("PEOPLE.ASSIGN_AS_EMPLOYEE","Assign as employee"),archiveUser:w("PEOPLE.ARCHIVE_USER","Archive user"),unarchiveUser:w("PEOPLE.UNARCHIVE_USER","Unarchive user"),showInactiveMembers:w("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),archive:w("PEOPLE.ARCHIVE","Archive"),unarchive:w("PEOPLE.UNARCHIVE","Un-archive"),archiveConfirmationText:w("PEOPLE.ARCHIVE_CONFIRMATION_TEXT","Are you sure you want to archive this user? This means this user can't log in anymore and will be removed from all its workspaces and group chats. If you want to remove him also from all chats and workspaces please use archive this user."),unarchiveConfirmationText:w("PEOPLE.UNARCHIVE_CONFIRMATION_TEXT","Are you sure you want to un-archive this user? The user will be re-added to its connected workspaces and group chats."),cancel:w("BUTTON.CANCEL","Cancel"),activateUser:w("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:w("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:w("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:w("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),activate:w("PEOPLE.ACTIVATE","Activate"),deactivate:w("PEOPLE.DEACTIVATE","Deactivate"),moveToInternal:w("PEOPLE.MOVE_TO_INTERNAL","Move to internal"),moveToExternal:w("PEOPLE.MOVE_TO_EXTERNAL","Move to external"),deleteUser:w("PEOPLE.DELETE_USER","Delete user"),deleteConfirmationText:w("PEOPLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this user? This means this user can't log in anymore."),btnInviteUsers:w("BUTTON.INVITE_USERS","Invite users"),resendInvitation:w("PEOPLE.RESEND_INVITATION","Resend invitation"),showInvited:w("PEOPLE.SHOW_INVITED","Show invited"),removeInvitedInternal:w("PEOPLE.REMOVE_INVITED_INTERNAL","Remove invited internal user"),sendInviteManually:w("PEOPLE.SEND_INVITE_MANUALLY","Send invite manually"),deleteInvitedUser:w("PEOPLE.DELETE_INVITED_USER","Delete invited user"),deleteInvitedConfirmationText:w("PEOPLE.DELETE_INVITED_CONFIRMATION_TEXT","Are you sure you want to remove this invited user?"),toasterRemoveInvited:w("TOASTER.REMOVE_INVITED_USER","Removed invited user"),btnTeam:w("BUTTON.TEAM","Team"),showTeams:w("PEOPLE.SHOW_TEAMS","Show teams"),editTeam:w("TEAM_OPTIONS.EDIT_TEAM","Edit team"),removeTeam:w("TEAM_OPTIONS.REMOVE_TEAM","Remove team"),removeTeamHeader:w("TEAM_MODAL.REMOVE_TEAM_HEADER","Remove team"),removeTeamBtn:w("BUTTON.REMOVE_TEAM","Remove team"),removeTeamConfirmation:w("TEAM_MODAL.REMOVE_TEAM_BODY","Are you sure you want to remove this team?"),addUserToTeam:w("PEOPLE.ADD_USER_TEAM","Add user to team"),removeTeamMember:w("PEOPLE.REMOVE_TEAM_MEMBER","Remove team member"),team:w("TEAM","Team"),internalAccounts:w("CHART.INTERNAL_ACCOUNTS","Accounts"),guestAccounts:w("CHART.GUEST_ACCOUNTS","Guest accounts"),totalAccounts:w("LABEL.TOTAL_ACCOUNTS","Total accounts")},y=Object(s.bb)();Object(r.useEffect)((function(){"admin"!==p.role.name&&"owner"!==p.role.name||v(Object(u.r)()),0===Object.keys(b).length&&c.fetchRoles(),0===h.length&&c.fetchArchivedUsers()}),[]);var A=function(e){var n={type:"confirmation",headerText:e.active?N.archive:N.unarchive,submitText:e.active?N.archive:N.unarchive,cancelText:N.cancel,bodyText:e.active?N.archiveConfirmationText:N.unarchiveConfirmationText,actions:{onSubmit:function(){e.active?c.archive({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," archived."))})):c.unarchive({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," unarchived."))}))}}};v(Object(l.a)(n))},j=function(e){var n={type:"confirmation",headerText:e.active?N.deactivate:N.activate,submitText:e.active?N.deactivate:N.activate,cancelText:N.cancel,bodyText:e.active?N.deactivateConfirmationText:N.activateConfirmationText,actions:{onSubmit:function(){e.active&&!e.deactivate?c.deactivate({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," deactivated."))})):0===e.active&&e.deactivate&&c.activate({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," activated."))}))}}};v(Object(l.a)(n))},C=function(e){var n={type:"confirmation",headerText:N.deleteUser,submitText:N.deleteUser,cancelText:N.cancel,bodyText:N.deleteConfirmationText,actions:{onSubmit:function(){c.deleteUserAccount({user_id:e.id},(function(n,t){n||y.success("".concat(e.name," deleted."))}))}}};v(Object(l.a)(n))},x=function(e){var n={user_id:e.id,email:e.email};c.resendInvitationEmail(n,(function(n,t){n?y.error(w("TOASTER.RESEND_INVITATION_FAILED","Invitation failed")):y.success(w("TOASTER.RESEND_INVITATION_SUCCESS","Invitation sent to ::email::",{email:e.email}))}))},S=function(e){var n={type:"confirmation",headerText:N.deleteInvitedUser,submitText:N.deleteInvitedUser,cancelText:N.cancel,bodyText:N.deleteInvitedConfirmationText,actions:{onSubmit:function(){c.deleteInvitedInternalUser({user_id:e.id},(function(e,n){e||y.success("".concat(N.toasterRemoveInvited))}))}}};v(Object(l.a)(n))},I=function(e){var n={type:"add-to-team",user:e};v(Object(l.a)(n))},R="admin"===p.role.name||"owner"===p.role.name;return o.a.createElement(z,{className:"workspace-people container-fluid h-100 ".concat(t)},o.a.createElement("div",{className:"card"},o.a.createElement(i.d,null,o.a.createElement(i.b,{render:function(){return o.a.createElement("div",{className:"card-body"},o.a.createElement(k,{loggedUser:p,onNameClick:O,onChatClick:_,dictionary:N,onUpdateRole:c.updateUserRole,showOptions:R&&E,onArchiveUser:A,onActivateUser:j,onChangeUserType:c.updateType,onDeleteUser:C,onResendInvite:x,onDeleteInvitedInternalUser:S,onAddUserToTeam:I}))},path:["/system/people/teams/:teamId/:teamName"]}),o.a.createElement(i.b,{render:function(){return o.a.createElement("div",{className:"card-body structure"},o.a.createElement(T,{loggedUser:p,dictionary:N}))},path:["/system/people/organization"]}),o.a.createElement(i.b,{render:function(){return o.a.createElement("div",{className:"card-body"},o.a.createElement(H,{loggedUser:p,dictionary:N,_t:w,showOptions:R}))},path:["/system/people/teams"]}),o.a.createElement(i.b,{render:function(){return o.a.createElement("div",{className:"card-body"},o.a.createElement(D,{loggedUser:p,onNameClick:O,onChatClick:_,dictionary:N,onUpdateRole:c.updateUserRole,showOptions:R&&E,onArchiveUser:A,onActivateUser:j,onChangeUserType:c.updateType,onDeleteUser:C,onResendInvite:x,onDeleteInvitedInternalUser:S,onAddUserToTeam:I}))},path:["/system/people"]}))))}))},834:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return h}));t(833);var a=t(9),r=t(5),o=t(0),i=t.n(o),c=t(4),s=t(801),l=t(796),d=t(11);function m(){var e=Object(r.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]);return m=function(){return e},e}var u=c.b.div(m(),(function(e){return e.theme.colors.primary})),p=function(e){var n=e.team,t=e.allTeams,r=e.onSelectTeam,o={accounts:(0,Object(d.gb)()._t)("CHART.ACCOUNTS","accounts")},c=[{id:n.id,name:n.name,members:n.members,icon_link:n.icon_link}].concat(Object(a.a)(n.members));return i.a.createElement(s.b,{key:n.id,label:i.a.createElement(u,{onClick:function(){r(n)}},i.a.createElement("div",{className:"team-name mb-1"},n.name),i.a.createElement("div",{className:"mb-2"},n.members.length," ",o.accounts),i.a.createElement(l.a,{members:c}))},t.filter((function(e){return e.parent_team===n.id})).length>0?t.filter((function(e){return e.parent_team===n.id})).map((function(e){return i.a.createElement(h,{key:e.id,team:e,allTeams:t,onSelectTeam:r})})):null)};function f(){var e=Object(r.a)(["\n  padding: 8px;\n  border-radius: 8px;\n  display: inline-flex;\n  flex-flow: column;\n  align-items: center;\n  cursor: pointer;\n  border: 2px solid rgba(0, 0, 0, 0.125);\n  .avatar {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  .team-name {\n    font-weight: 500;\n  }\n  :hover {\n    border-color: ",";\n  }\n  .TEAM {\n    .feather {\n      height: 1rem;\n      width: 1rem;\n    }\n  }\n"]);return f=function(){return e},e}var b=c.b.div(f(),(function(e){return e.theme.colors.primary})),h=function(e){var n=e.team,t=e.allTeams,r=e.onSelectTeam,o={accounts:(0,Object(d.gb)()._t)("CHART.ACCOUNTS","accounts")},c=[{id:n.id,name:n.name,members:n.members,icon_link:n.icon_link}].concat(Object(a.a)(n.members));return i.a.createElement(s.b,{key:n.id,label:i.a.createElement(b,{onClick:function(){r(n)}},i.a.createElement("div",{className:"team-name mb-1"},n.name),i.a.createElement("div",{className:"mb-2"},n.members.length," ",o.accounts),i.a.createElement(l.a,{members:c}))},t.filter((function(e){return e.parent_team===n.id})).length>0?t.filter((function(e){return e.parent_team===n.id})).map((function(e){return i.a.createElement(p,{key:e.id,team:e,allTeams:t,onSelectTeam:r})})):null)}},836:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),o=t.n(r),i=t(4),c=t(10),s=t(7),l=t(37),d=t.n(l),m=t(6),u=t(76),p=t(899),f=t(236),b=t(11),h=t(98),E=t(51),g=t(13),v=t(157),O=t(114),_=t(57);function w(){var e=Object(a.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n  .version-number {\n    display: flex;\n    place-content: center;\n    font-size: 13px;\n    cursor: pointer;\n    :hover {\n      text-decoration: underline;\n    }\n  }\n']);return w=function(){return e},e}var T=i.b.div(w()),N=o.a.memo((function(e){var n,t=e.className,a=void 0===t?"":t,i=!!localStorage.getItem("persistence"),l=Object(O.a)().persistor,w=Object(r.useState)(i),N=Object(s.a)(w,2),k=N[0],y=N[1],A=Object(b.ab)().localizeDate,j=Object(m.c)(),C=Object(b.bb)(),x=Object(m.d)((function(e){return e.session})).user,S=Object(b.T)(),I=S.generalSettings,R=I.language,P=I.timezone,D=I.date_format,L=I.time_format,F=I.dark_mode,M=I.notifications_on,U=I.log_rocket,H=I.sentry,W=I.logs,z=I.notification_sound,B=I.order_channel,G=I.chat_language,V=I.daily_digest,Y=S.chatSettings,K=Y.order_channel,q=Y.sound_enabled,Z=Y.preview_message,J=Y.virtualization,X=(Y.translate,S.userSettings.isLoaded),Q=S.setChatSetting,$=S.setWorkspaceSetting,ee=S.setGeneralSetting,ne=S.setPushSubscription,te=(S.driffSettings,Object(m.d)((function(e){return e.admin.login})),Object(m.d)((function(e){return e.settings.driff.domains})),Object(r.useState)(!1)),ae=Object(s.a)(te,2),re=(ae[0],ae[1]),oe=Object(b.gb)()._t,ie=localStorage.getItem("i18new")?JSON.parse(localStorage.getItem("i18new")):{},ce=(n={chatSettingsTitle:oe("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:oe("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:oe("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:oe("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:oe("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:oe("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:oe("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),notificationSound:oe("SETTINGS.NOTIFICATION_SOUND","Notification sound"),notificationSoundDefault:oe("SETTINGS.NOTIFICATION_SOUND_DEFAULT","Default"),notificationSoundJingleBells:oe("SETTINGS.NOTIFICATION_SOUND_JINGLE_BELLS","Jingle bells"),localizationSettingsTitle:oe("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:oe("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:oe("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:oe("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format"),workspaceSettingsTitle:oe("SETTINGS.WORKSPACE_TITLE","Workspace Settings"),sortWorkspaceLabel:oe("SETTINGS.SORT_WORKSPACE_LABEL","Sort workspace by"),viewRelease:oe("SETTINGS.VIEW_RELEASE","View Release List"),liveTranslation:oe("SETTINGS.LIVE_TRANSLATION","Talk in your own language (live translation)"),dailyDigest:oe("SETTINGS.DAILY_DIGEST","Daily digest"),chatTranslateTitle:oe("SETTINGS.CHAT_TRANSLATE","Choose a target language to be translated !BETA!")},Object(c.a)(n,"dailyDigest",oe("SETTINGS.DAILY_DIGEST","Daily digest")),Object(c.a)(n,"notifications",oe("NOTIFICATIONS","Notifications")),Object(c.a)(n,"extraSettings",oe("SETTINGS.EXTRA_SETTINGS","Extra settings")),Object(c.a)(n,"darkMode",oe("SETTINGS.DARK_MODE","Dark mode")),Object(c.a)(n,"customTranslation",oe("SETTINGS.CUSTOM_TRANSLATION","Use custom translation")),n),se=[{value:"appointed",label:ce.notificationSoundDefault}],le=[{value:"channel_date_updated",label:ce.sortChannelRecentActivityValue},{value:"channel_name",label:ce.sortChannelNameValue}],de=[{value:"en",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"en",className:"mr-2",width:"18"}),oe("LANGUAGE.ENGLISH","English"))},{value:"nl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),oe("LANGUAGE.DUTCH","Dutch"))},{value:"de",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"de",className:"mr-2",width:"18"}),oe("LANGUAGE.GERMAN","German"))}],me=[{value:"en",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"en",className:"mr-2",width:"18"}),oe("LANGUAGE.ENGLISH","English"))},{value:"bg",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"bg",className:"mr-2",width:"18"}),oe("LANGUAGE.BULGARIAN","Bulgarian"))},{value:"cs",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"cs",className:"mr-2",width:"18"}),oe("LANGUAGE.CZECH","Czech"))},{value:"da",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"da",className:"mr-2",width:"18"}),oe("LANGUAGE.DANISH","Danish"))},{value:"de",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"de",className:"mr-2",width:"18"}),oe("LANGUAGE.GERMAN","German"))},{value:"el",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"el",className:"mr-2",width:"18"}),oe("LANGUAGE.GREEK","Greek"))},{value:"es",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"es",className:"mr-2",width:"18"}),oe("LANGUAGE.SPANISH","Spanish"))},{value:"et",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"et",className:"mr-2",width:"18"}),oe("LANGUAGE.ESTONIAN","Estonian"))},{value:"fi",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),oe("LANGUAGE.FINNISH","Finnish"))},{value:"fr",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),oe("LANGUAGE.FRENCH","French"))},{value:"hu",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"fi",className:"mr-2",width:"18"}),oe("LANGUAGE.HUNGARAIN","Hungarian"))},{value:"it",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"it",className:"mr-2",width:"18"}),oe("LANGUAGE.ITALIAN","Italian"))},{value:"ja",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"ja",className:"mr-2",width:"18"}),oe("LANGUAGE.JAPANESE","Japanese"))},{value:"lt",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"lt",className:"mr-2",width:"18"}),oe("LANGUAGE.LITHUANIAN","Lithuanian"))},{value:"lv",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"lv",className:"mr-2",width:"18"}),oe("LANGUAGE.LATVIAN","Latvian"))},{value:"nl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"nl",className:"mr-2",width:"18"}),oe("LANGUAGE.DUTCH","Dutch"))},{value:"pl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"pl",className:"mr-2",width:"18"}),oe("LANGUAGE.POLISH","Polish"))},{value:"pt",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"pt",className:"mr-2",width:"18"}),oe("LANGUAGE.PORTUGUESE","Portuguese"))},{value:"ro",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"ro",className:"mr-2",width:"18"}),oe("LANGUAGE.ROMANIAN","Romanian"))},{value:"ru",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"ru",className:"mr-2",width:"18"}),oe("LANGUAGE.RUSSIAN","Russian"))},{value:"sk",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"sk",className:"mr-2",width:"18"}),oe("LANGUAGE.SLOVAK","Slovak"))},{value:"sl",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"sl",className:"mr-2",width:"18"}),oe("LANGUAGE.SLOVENIAN","Slovenian"))},{value:"sv",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"sv",className:"mr-2",width:"18"}),oe("LANGUAGE.SWEDISH","Swedish"))},{value:"zh",label:o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{countryAbbr:"zh",className:"mr-2",width:"18"}),oe("LANGUAGE.CHINESE","Chinese"))}],ue=d.a.tz.names().map((function(e){return{value:e,label:e}})),pe=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],fe=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],be=Object(r.useCallback)((function(e){ee({chat_language:e.value,translated_channels:[]}),setTimeout((function(){localStorage.setItem("chat_translate_change","1")}),1e3),C.success(o.a.createElement("span",null,"You have successfully updated chat target language"))}),[ee]),he=Object(r.useCallback)((function(e){e.persist();var n=e.target,t=n.name,a=n.checked,r=n.dataset;Q(Object(c.a)({},t,a)),C.success(o.a.createElement("span",null,r.successMessage))}),[Q]),Ee=function(e){e.persist();var n=e.target,t=n.name,a=n.checked,r=n.dataset;ee(Object(c.a)({},t,"daily_digest"===t?a:a?"1":"0"),(function(){["log_rocket","sentry"].includes(t)?(localStorage.setItem(t,a?"1":"0"),window.location.reload()):"logs"===t&&(a?localStorage.setItem("logger","all"):localStorage.removeItem("logger"))})),C.success(o.a.createElement("span",null,r.successMessage))},ge=Object(r.useCallback)((function(e){e.persist();var n=e.target,t=n.name,a=n.dataset;if(M){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ne(!1),j(Object(g.i)({user_id:x.id}))}else ne(null);ee(Object(c.a)({},t,!M)),C.success(o.a.createElement("span",null,a.successMessage))}),[ee]),ve=Object(r.useCallback)((function(e){ee({timezone:e.value}),C.success(o.a.createElement("span",null,"You have successfully updated Timezone"))}),[]),Oe=Object(r.useCallback)((function(e){ee({date_format:e.value}),C.success(o.a.createElement("span",null,"You have successfully updated Date format"))}),[]),_e=Object(r.useCallback)((function(e){ee({time_format:e.value}),C.success(o.a.createElement("span",null,"You have successfully updated Time format"))}),[]);return o.a.createElement(T,{className:"profile-settings ".concat(a)},X?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.chatSettingsTitle),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-12"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:q,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:he,"data-success-message":"".concat(q?"Chats are now muted!":"Chat sound is enabled!"),label:o.a.createElement("span",null,ce.soundLabel)}))),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:Z,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:he,"data-success-message":"You have turn ".concat(Z?"OFF":"ON"," preview in chat messages!"),label:o.a.createElement("span",null,ce.previewMessageLabel)}))),["anthea@makedevelopment.com","nilo@makedevelopment.com","johnpaul@makedevelopment.com","sander@zuid.com"].includes(x.email)&&o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:J,type:"switch",id:"chat_virtualization",name:"virtualization",onChange:he,"data-success-message":"You have turn ".concat(J?"OFF":"ON"," virtualization in chat messages!"),label:o.a.createElement("span",null,"Virtualized chat")}))),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:k,type:"switch",id:"redux_persist",name:"persistence",onChange:function(e){e.persist();var n=e.target,t=n.checked,a=n.dataset;y(t),t?localStorage.setItem("persistence",!0):(i&&(l.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("persistence")),C.success(o.a.createElement("span",null,a.successMessage))},"data-success-message":"You have turn ".concat(k?"OFF":"ON"," data persistence in chat!"),label:o.a.createElement("span",null,"Persisted data")}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},ce.chatTranslateTitle),o.a.createElement("div",{className:"col-7"},o.a.createElement(u.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:me.find((function(e){return e.value===G})),onChange:be,options:me}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},ce.sortChannelLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(u.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:le.find((function(e){return e.value===K.order_by})),onChange:function(e){Q({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),C.success(o.a.createElement("span",null,"You have successfully sort channel"))},options:le}))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.workspaceSettingsTitle),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},ce.sortWorkspaceLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(u.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:le.find((function(e){return e.value===B.order_by})),onChange:function(e){$({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),C.success(o.a.createElement("span",null,"You have successfully sort channel"))},options:le}))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.localizationSettingsTitle),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},ce.languageLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(u.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:de.find((function(e){return e.value===R})),onChange:function(e){ee({language:e.value},(function(){setTimeout((function(){re((function(e){return!e}))}),300)})),C.success(o.a.createElement("span",null,"You have successfully updated Language"))},options:de}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},ce.timezoneLabel),o.a.createElement("div",{className:"col-7"},o.a.createElement(u.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:ue.find((function(e){return e.value===P})),onChange:ve,options:ue}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},ce.dateTimeFormatLabel),o.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},o.a.createElement("div",{className:"row"},o.a.createElement(u.a,{className:"react-select-container col-6",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:pe.find((function(e){return e.value===D})),onChange:Oe,options:pe}),o.a.createElement(u.a,{className:"react-select-container col-6",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:fe.find((function(e){return e.value===L})),onChange:_e,options:fe})))),["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(x.email)&&o.a.createElement("div",{className:"row mb-2 mt-4"},o.a.createElement("div",{className:"col-12 text-right"},o.a.createElement("button",{className:"btn btn-primary",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=[],t="You are about to add the following words to the dictionary files, continue?";t+="<table>",Object.keys(ie).forEach((function(e){t+="<tr>",t+="<td>".concat(e,"</td>"),t+="<td>".concat(ie[e],"</td>"),t+="</tr>",n.push(Object(c.a)({},e,ie[e]))}));var a=function(){j(Object(g.N)(n,e))},r={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:t+="</table>",size:"lg",actions:{onSubmit:a}};j(Object(g.a)(r))}((function(){localStorage.removeItem("i18new");var e=document.createElement("a");e.href="https://".concat(Object(h.b)(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.notifications),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:M,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(M?"Notifications disabled":"Notifications enabled"),onChange:ge,label:o.a.createElement("span",null,ce.allowNotifications)}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:V,type:"switch",id:"daily_digest",name:"daily_digest","data-success-message":"".concat(V?"Daily digest disabled":"Daily digest enabled"),onChange:Ee,label:o.a.createElement("span",null,ce.dailyDigest)}))),o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-5 text-muted"},ce.notificationSound),o.a.createElement("div",{className:"col-7"},o.a.createElement(u.a,{className:"react-select-container",classNamePrefix:"react-select",styles:"0"===F?E.b:E.a,value:se.find((function(e){return e.value===z})),onChange:function(e){ee({notification_sound:e.value}),C.success(o.a.createElement("span",null,"You have successfully updated notification sound"))},options:se}))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ce.extraSettings),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===F,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(F?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:Ee,label:o.a.createElement("span",null,ce.darkMode)})),o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===U,type:"switch",id:"log_rocket",name:"log_rocket","data-success-message":"".concat(U?"LogRocket is now enabled":"LogRocket is now disabled"),onChange:Ee,label:o.a.createElement("span",null,"LogRocket")})),o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===H,type:"switch",id:"sentry",name:"sentry","data-success-message":"".concat(H?"Sentry is now enabled":"Sentry is now disabled"),onChange:Ee,label:o.a.createElement("span",null,"Sentry")})),o.a.createElement("div",{className:"col-12 text-muted"},o.a.createElement(p.a,{className:"cursor-pointer text-muted",checked:"1"===W,type:"switch",id:"logs",name:"logs","data-success-message":"".concat(H?"Logs are now enabled":"Logs are now disabled"),onChange:Ee,label:o.a.createElement("span",null,"Logs")})))))):o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"version-number mb-3",onClick:function(e){e.preventDefault(),window.open("https://support.getdriff.com/hc/en-us/sections/4409918501905-Software-updates","_blank")}},"Driff version: ",v.a.version," ",A(v.a.timestamp)," \xa0"),x&&"nilo@makedevelopment.com"===x.email&&o.a.createElement("span",null,_.isMobileSafari&&"mobile safari",", ",_.browserName,", ",_.deviceType))}));function k(){var e=Object(a.a)(["\n  overflow: auto;\n  .row-settings {\n    justify-content: center;\n  }\n"]);return k=function(){return e},e}var y=i.b.div(k());n.default=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return o.a.createElement(y,{className:"container-fluid h-100 ".concat(t)},o.a.createElement("div",{className:"row row-settings"},o.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},o.a.createElement(N,null))))}))},861:function(e,n,t){e.exports=t.p+"static/media/appointed.4a7182ca.ogg"},862:function(e,n,t){e.exports=t.p+"static/media/appointed.d46d7db1.mp3"},863:function(e,n,t){e.exports=t.p+"static/media/appointed.b1ef26b6.m4r"},892:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),o=t.n(r),i=t(6),c=t(44),s=t(4),l=t(11),d=t(14);function m(){var e=Object(a.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n    text-align: center;\n    justify-content: center;\n  }\n"]);return m=function(){return e},e}var u=s.b.div(m()),p=o.a.memo((function(e){var n={redirecting:(0,Object(l.gb)()._t)("REDIRECT.REDIRECTING","Redirecting...")},t=Object(l.ib)(),a=Object(l.b)(),i=Object(c.g)(),s=Object(c.j)("/magic-link/:token");return Object(r.useEffect)((function(){null!==s&&t.checkMagicLink(s.params.token,(function(e,n){if(n)if(n.data.additional_data){if("POST"===n.data.additional_data.type){if(n.data.additional_data.data.workspace){var t=n.data.additional_data.data.workspace[0],r=n.data.additional_data.data.id,o=n.data.additional_data.data.code;if(t.workspace_id){var c="/workspace/posts/".concat(t.workspace_id,"/").concat(Object(d.h)(t.workspace_name),"/").concat(t.topic_id,"/").concat(Object(d.h)(t.topic_name),"/post/").concat(r,"/").concat(Object(d.h)(o));i.push(c)}else{var s="/workspace/posts/".concat(t.topic_id,"/").concat(Object(d.h)(t.topic_name),"/post/").concat(r,"/").concat(Object(d.h)(o));i.push(s)}}}else if("CHANNEL"===n.data.additional_data.type)if(n.data.additional_data.topic){var l=n.data.additional_data.topic,m=n.data.additional_data.workspace;if(m){var u="/workspace/chat/".concat(m.id,"/").concat(Object(d.h)(m.name),"/").concat(l.id,"/").concat(Object(d.h)(l.name));i.push(u)}else{var p="/workspace/chat/".concat(l.id,"/").concat(Object(d.h)(l.name));i.push(p)}}else if(n.data.additional_data.data){var f="/chat/".concat(n.data.additional_data.data.code);a.fetchSelectChannel(n.data.additional_data.data.code,(function(){document.body.classList.add("m-chat-channel-closed")})),i.push(f)}else i.push("/workspace/chat")}else i.push("/workspace/chat")}))}),[]),o.a.createElement(u,{className:"workspace-people container-fluid h-100"},o.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},o.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6 h-50"},o.a.createElement("div",{className:"card"},o.a.createElement("h3",null,n.redirecting)))))})),f=t(805);function b(){var e=Object(a.a)(["\n  padding-bottom: ",";\n"]);return b=function(){return e},e}var h=Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,806))})),E=(Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,808))})),Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,827))}))),g=Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,809))})),v=Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,810))})),O=Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,836))})),_=Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,817))})),w=Object(r.lazy)((function(){return Promise.resolve().then(t.bind(null,833))})),T=Object(r.lazy)((function(){return t.e(23).then(t.bind(null,897))})),N=Object(r.lazy)((function(){return Promise.all([t.e(3),t.e(15)]).then(t.bind(null,898))})),k=Object(r.lazy)((function(){return t.e(3).then(t.bind(null,837))})),y=Object(r.lazy)((function(){return t.e(24).then(t.bind(null,803))})),A=Object(r.lazy)((function(){return Promise.all([t.e(11),t.e(22)]).then(t.bind(null,893))})),j=s.b.div(b(),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),C=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,s=Object(i.d)((function(e){return e.session.user})),l=s.role&&"owner"===s.role.name,d=s.role&&"admin"===s.role.name;return o.a.createElement(j,{className:"main-content ".concat(t),isOnWorkspace:"workspace"===e.match.params.page},o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null)},o.a.createElement(c.d,null,o.a.createElement(c.b,Object.assign({},e,{component:k,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile","/profile/:id"],exact:!0})),o.a.createElement(c.b,Object.assign({},e,{component:N,path:["/notifications"]})),o.a.createElement(c.b,Object.assign({},e,{component:y,path:["/search"]})),!a&&o.a.createElement(c.b,Object.assign({},e,{component:f.a,path:["/dashboard"]})),!a&&o.a.createElement(c.b,Object.assign({},e,{component:v,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!a&&o.a.createElement(c.b,Object.assign({},e,{component:h,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),o.a.createElement(c.b,Object.assign({},e,{render:function(e){return o.a.createElement(E,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!a&&o.a.createElement(c.b,Object.assign({},e,{component:g,path:["/people"]})),!a&&o.a.createElement(c.b,Object.assign({},e,{component:w,path:["/system/people","/system/people/teams","/system/people/organization","/system/people/teams/:teamId/:teamName"]})),o.a.createElement(c.b,Object.assign({},e,{component:O,path:["/settings"]})),o.a.createElement(c.b,Object.assign({},e,{component:_,path:["/todos"]})),o.a.createElement(c.b,Object.assign({},e,{component:p,path:["/magic-link/:token"]})),o.a.createElement(c.b,Object.assign({},e,{component:T,path:["/releases"]})),(l||d)&&o.a.createElement(c.b,Object.assign({},e,{component:A,path:["/admin-settings","/admin-settings/:page","/admin-settings/:page/:subpage"]})),o.a.createElement(c.a,{from:"*",to:{pathname:a?"/workspace/chat":"/chat",state:{from:e.location}}}))))}));function x(){var e=Object(a.a)(["\n  z-index: 1 !important;\n"]);return x=function(){return e},e}var S=s.b.footer(x()),I=(o.a.memo((function(e){var n=e.className,t=void 0===n?"":n;return o.a.createElement(S,{className:"".concat(t)},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),o.a.createElement("div",null,o.a.createElement("nav",{className:"nav"},o.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),o.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),o.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))})),t(831)),R=t(804);function P(){var e=Object(a.a)([""]);return P=function(){return e},e}var D=s.b.div(P()),L=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal;return Object(r.useEffect)((function(){document.body.classList.add("stretch-layout")}),[]),o.a.createElement(D,{className:"header ".concat(t),id:"main-top-header"},o.a.createElement(c.d,null,o.a.createElement(c.b,{render:function(){return o.a.createElement(R.c,Object.assign({isExternal:a},e))},path:["/workspace/:page"]}),o.a.createElement(c.b,{render:function(){return o.a.createElement(I.a,Object.assign({isExternal:a},e))},path:["/:page"]})))}));function F(){var e=Object(a.a)(["\n  .navigation-menu-tab {\n    background-color: ",";\n    ul li a {\n      color: ",";\n    }\n  }\n"]);return F=function(){return e},e}var M=s.b.div(F(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.sidebarTextColor})),U=o.a.memo((function(e){var n=e.className,t=void 0===n?"":n,a=e.showNotificationBar,r=Object(s.c)();return o.a.createElement(M,{theme:r,className:"navigation ".concat(t," ").concat(a&&"notification-bar"),id:"main-sidebar"},o.a.createElement(c.b,{exact:!0,render:function(){return o.a.createElement(ae,e)},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle/file/:wipFileId/:wipFileVersion","/workspace/:page/:workspaceId/:workspaceName/wip/:wipId/:wipTitle","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile/:id","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people/teams/:teamId/:teamName","/system/people/organization","/system/people/teams","/system/people","/magic-link/:token","/admin-settings/:page/:subpage","/admin-settings/:page","/:page"]}))})),H=t(7),W=t(12),z=t(388),B=t(13);function G(){var e=Object(a.a)([""]);return G=function(){return e},e}function V(){var e=Object(a.a)(["\n  padding: 15px 30px 0 30px;\n  color: ",";\n  > div {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      :hover {\n        cursor: pointer;\n        color: #fff;\n      }\n    }\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n    margin-right: 15px;\n  }\n"]);return V=function(){return e},e}var Y=s.b.div(V(),(function(e){return e.theme.colors.sidebarTextColor})),K=Object(s.b)(W.t)(G()),q=function(e){var n=e.dictionary,t=e.isExternal,a=e.onShowModalButtons,c=e.showButtons,s={btn1Ref:Object(r.useRef)(null),btn2Ref:Object(r.useRef)(null),btn3Ref:Object(r.useRef)(null),btn4Ref:Object(r.useRef)(null)},d=Object(i.c)(),m=Object(l.bb)();return Object(l.G)(s.btn1Ref,a,c),Object(l.G)(s.btn2Ref,a,c),Object(l.G)(s.btn3Ref,a,c),Object(l.G)(s.btn4Ref,a,c),o.a.createElement(z.a,{appear:!0,in:c,timeout:300,unmountOnExit:!0,classNames:"bslide"},o.a.createElement(Y,null,!t&&o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){a(),d(Object(B.a)({type:"chat_create_edit",mode:"new"}))},ref:s.btn1Ref},o.a.createElement(K,{icon:"message-circle"}),n.chat)),o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){a(),d(Object(B.a)({type:"post_modal",mode:"create",item:{post:null}}))},ref:s.btn2Ref},o.a.createElement(K,{icon:"file-text"}),n.post)),o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){var e={type:"todo_reminder",actions:{onSubmit:function(e){d(Object(B.O)(e,(function(e,t){e&&m.error(n.toasterGeneraError),t&&m.success(o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.toasterCreateTodo}}))})))}}};a(),d(Object(B.a)(e))},ref:s.btn3Ref},o.a.createElement(K,{icon:"calendar"}),n.reminder)),!t&&o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){a(),d(Object(B.a)({type:"workspace_create_edit",mode:"create"}))},ref:s.btn4Ref},o.a.createElement(K,{icon:"compass"}),n.workspace))))};function Z(){var e=Object(a.a)(["\n  margin: 15px 30px;\n  color: ","!important;\n"]);return Z=function(){return e},e}function J(){var e=Object(a.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 0;\n  width: 100%;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  color: "," !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]);return J=function(){return e},e}function X(){var e=Object(a.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]);return X=function(){return e},e}function Q(){var e=Object(a.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //padding: 30px;\n    margin-bottom: 1rem;\n    min-height: 74px;\n    max-height: 74px;\n    background-color: ",";\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 20px 0;\n    }\n    .dark & {\n      background-color: inherit;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]);return Q=function(){return e},e}var $=s.b.div(Q(),(function(e){return e.theme.colors.fifth})),ee=Object(s.b)(W.t)(X()),ne=s.b.button(J(),(function(e){return e.theme.colors.sidebarTextColor})),te=s.b.div(Z(),(function(e){return e.theme.colors.sidebarTextColor})),ae=function(e){var n=e.className,t=void 0===n?"":n,a=e.isExternal,s=Object(i.d)((function(e){return e.global.todos.count})),d=Object(l.T)(),m=d.updateCompanyName,u=d.driffSettings,p=d.generalSettings,f=Object(i.d)((function(e){return e.session.user})),b=Object(l.gb)()._t,h=Object(c.i)(),E=Object(l.xb)(),g=Object(i.d)((function(e){return e.workspaces.workspaces})),v=Object(i.d)((function(e){return e.workspaces.activeTopic})),O=Object(i.d)((function(e){return e.chat.selectedChannel})),_=Object(i.d)((function(e){return Object.values(e.chat.channels).map((function(e){return{id:e.id,code:e.code}}))}));Object(r.useEffect)((function(){if(h.workspaceId&&v&&parseInt(h.workspaceId)!==v.id&&g[h.workspaceId]&&E.selectWorkspace(g[h.workspaceId]),h.code&&O&&O.code!==h.code){var e=_.find((function(e){return e.code===h.code}));e&&E.selectChannel({id:e.id})}}),[h,g,v,O]);var w=Object(r.useState)(!1),T=Object(H.a)(w,2),N=T[0],k=T[1],y={allWorkspaces:b("SIDEBAR.ALL_WORKSPACES","Browse workspaces"),people:b("SIDEBAR.PEOPLE","All people"),workspace:b("SIDEBAR.WORKSPACE","Workspace"),workspaces:b("SIDEBAR.WORKSPACES","Workspaces"),chats:b("SIDEBAR.CHATS","Chats"),yourWorkspaces:b("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:b("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:b("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:b("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:b("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:b("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:b("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:b("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:b("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:b("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:b("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:b("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:b("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:b("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace"),bots:b("SIDEBAR.BOTS","Bots"),favoriteWorkspaces:b("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),browseAll:b("SIDEBAR.BROWSE_ALL","Browse all..."),toasterCreateTodo:b("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterGeneraError:b("TOASTER.GENERAL_ERROR","An error has occurred try again!"),chat:b("SIDEBAR.CHAT","Chat"),post:b("SIDEBAR.POST","Post"),reminder:b("SIDEBAR.REMINDER","Reminder"),addNew:b("SIDEBAR.ADD_NEW","Add new"),startBrowsing:b("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:b("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:f.first_name}),newFolder:b("TOOLTIP.NEW_FOLDER","New folder")},A=function(){k((function(e){return!e}))};return o.a.createElement($,{className:"navigation-menu-tab ".concat(t)},o.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},o.a.createElement(Rn,null)),o.a.createElement(Qe,{count:s,dictionary:y,isExternal:a,driffSettings:u,user:f,updateCompanyName:m}),o.a.createElement(Ne,{dictionary:y,generalSettings:p,isExternal:a,user:f}),o.a.createElement(q,{dictionary:y,isExternal:a,onShowModalButtons:A,showButtons:N}),o.a.createElement(te,null,o.a.createElement(ne,{onClick:A,className:"btn btn-outline-light",type:"button"},o.a.createElement("div",null,o.a.createElement(ee,{icon:"circle-plus"}),y.addNew))))},re=t(52),oe=t.n(re),ie=t(830),ce=t(17);function se(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  color: ",";\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]);return se=function(){return e},e}function le(){var e=Object(a.a)(["\n  padding: 0 30px;\n  overflow: auto;\n  .text-truncate {\n    color: ",";\n  }\n"]);return le=function(){return e},e}function de(){var e=Object(a.a)(["\n  //color: rgba(255, 255, 255, 0.6);\n  //text-decoration: underline;\n  color: ",";\n  border: 1px solid;\n  :hover {\n    cursor: pointer;\n    color: #cbd4db;\n  }\n"]);return de=function(){return e},e}function me(){var e=Object(a.a)(["\n  margin: 0 15px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n  //color: rgba(255, 255, 255, 0.6);\n  border-top: 2px solid;\n  padding: 15px 0;\n  > span {\n    margin-left: 15px;\n  }\n  svg {\n    margin-right: 8px;\n  }\n"]);return me=function(){return e},e}function ue(){var e=Object(a.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return ue=function(){return e},e}function pe(){var e=Object(a.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n  margin-left: 5px;\n"]);return pe=function(){return e},e}function fe(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return fe=function(){return e},e}function be(){var e=Object(a.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  min-height: 0;\n"]);return be=function(){return e},e}var he=s.b.div(be()),Ee=Object(s.b)(oe.a)(fe()),ge=Object(s.b)(W.t)(pe()),ve=s.b.div(ue()),Oe=s.b.div(me(),(function(e){return e.theme.colors.sidebarTextColor})),_e=s.b.button(de(),(function(e){return e.theme.colors.sidebarTextColor})),we=s.b.div(le(),(function(e){return e.theme.colors.sidebarTextColor})),Te=s.b.div(se(),(function(e){return e.theme.colors.sidebarTextColor})),Ne=function(e){var n=e.dictionary,t=e.isExternal,a=e.user,r=Object(i.c)(),c=Object(l.wb)(),s=c.actions,d=c.folders,m=c.history,u=c.orderChannel,p=c.workspaces,f=c.favoriteWorkspacesLoaded,b=Object(i.d)((function(e){return e.chat.selectedChannelId})),h=Object(i.d)((function(e){return Object.keys(e.chat.channels)})),E=Object(i.d)((function(e){return e.settings.user.CHAT_SETTINGS.virtualization})),g=Object(i.d)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),v=Object.values(p).find((function(e){return g&&g.id===e.id})),O=Object(i.d)((function(e){return e.chat.companyChannel})),_=Object(i.d)((function(e){return e.settings.driff.company_name})),w=function(){r(Object(B.a)({type:"workspace_create_edit",mode:"create"}))},T=Object.values(p).sort((function(e,n){return"channel_date_updated"===u.order_by?-1:e.name.localeCompare(n.name)})).filter((function(e){return e.is_favourite})),N=function(e){if(v&&e.id===v.id&&O)m.push("/chat/".concat(O.code)),s.selectChannel({id:O.id});else{if(document.body.classList.remove("navigation-show"),b&&!E){var n=document.getElementById("component-chat-thread");n&&r(Object(ce.Mb)({channel_id:b,scrollPosition:n.scrollHeight-n.scrollTop}))}b&&b!==e.channel.id&&h.some((function(n){return parseInt(n)===e.channel.id}))&&s.selectChannel({id:e.channel.id}),s.selectWorkspace(e),s.redirectTo(e)}},k=function(){m.push("/workspace/search")},y=function(){return o.a.createElement(ve,null,o.a.createElement("div",null,o.a.createElement(W.r,{height:200,icon:2}),"external"!==a.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h5",null,n.sidebarTextCreateWorkspace),o.a.createElement("button",{className:"btn btn-primary mt-2",onClick:w},n.createWorkspace))))};return o.a.createElement(he,null,o.a.createElement(Oe,null,o.a.createElement("span",null,n.favoriteWorkspaces),!t&&o.a.createElement(Ee,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:n.newFolder},o.a.createElement(ge,{onClick:function(){r(Object(B.a)({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),o.a.createElement(we,null,o.a.createElement("div",{id:"elements",className:"open"},f&&Object.values(p).length>0&&0===T.length&&o.a.createElement(Te,null,o.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.addYourFavWs}}),o.a.createElement(_e,{className:"btn",onClick:k},n.startBrowsing)),f&&0===Object.values(d).length&&0===Object.values(p).length&&o.a.createElement(y,null),f&&Object.values(p).length>0&&T.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",null,T.map((function(e){return o.a.createElement(ie.a,{key:e.id,isExternal:t,onSelectWorkspace:N,workspace:e,isCompanyWs:v&&v.id===e.id,companyName:_})}))),o.a.createElement(_e,{className:"btn",onClick:k},n.browseAll)))))},ke=t(1);function ye(){var e=Object(a.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return ye=function(){return e},e}function Ae(){var e=Object(a.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n  width: 1rem !important;\n  height: 1rem !important;\n"]);return Ae=function(){return e},e}function je(){var e=Object(a.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  &.enter-active {\n    max-height: 250px;\n    overflow: scroll;\n  }\n  // &.enter-active {\n  //   max-height: ","px !important;\n  // }\n  &.leave-active {\n    max-height: 0;\n  }\n  li.personal-link {\n    min-height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: ",";\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      min-height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      &.shorcut-title {\n        padding-left: 0.5rem;\n        font-weight: 500;\n      }\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n  li.shorcut-title-link {\n    padding: 0;\n\n    // .shorcut-title {\n    //   background: #ffffff10;\n    // }\n  }\n"]);return je=function(){return e},e}function Ce(){var e=Object(a.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s ease;\n  > a {\n    position: relative;\n    font-weight: ",";\n    display: flex;\n    color: #fff;\n    height: 40px;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n  .quick-links {\n    .feather-pencil {\n      display: none;\n    }\n    &:hover {\n      .sub-menu-arrow {\n        margin-left: ",";\n      }\n      .feather-pencil {\n        display: ",";\n      }\n    }\n  }\n"]);return Ce=function(){return e},e}var xe=s.b.li(Ce(),(function(e){return e.selected?"600":"400"}),(function(e){return e.showEditIcon?"10px":"auto"}),(function(e){return e.showEditIcon?"block":"none"})),Se=s.b.ul(je(),(function(e){return e.maxHeight}),(function(e){return e.theme.colors.sidebarTextColor})),Ie=Object(s.b)(W.t)(Ae()),Re=Object(s.b)(W.t)(ye()),Pe=function(e){var n=e.className,t=void 0===n?"":n,a=e.user,c=e.dictionary,s=Object(l.T)(),d=s.generalSettings,m=s.showModal,u=Object(i.d)((function(e){return e.global.links.filter((function(e){return e.id&&""!==e.menu_name.trim()&&""!==e.link.trim()}))})),p=new RegExp("^(http|https)://"),f={container:Object(r.useRef)(),arrow:Object(r.useRef)(),nav:Object(r.useRef)()},b=Object(r.useState)(!1),h=Object(H.a)(b,2),E=h[0],g=h[1],v=function(e){var n=e.currentTarget.dataset.index;m("personal_link_edit",Object(ke.a)(Object(ke.a)({},d.personal_links[n]),{},{index:n}))};return o.a.createElement(xe,{ref:f.container,className:"fadeIn ".concat(t," ").concat(E&&"folder-open"),selected:E,showEditIcon:a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)},o.a.createElement("a",{className:"quick-links",href:"/",onClick:function(e){e.preventDefault(),g((function(e){return!e}))}},o.a.createElement(Ie,{icon:"link"}),o.a.createElement("div",null,c.shortcuts),a&&a.role&&("admin"===a.role.name||"owner"===a.role.name)&&o.a.createElement(Re,{icon:"pencil",onClick:function(){window.open("".concat("https://").concat(localStorage.getItem("slug"),".driff.io/admin/quick-links"),"_blank")}}),o.a.createElement("i",{ref:f.arrow,className:"sub-menu-arrow ti-angle-up ".concat(E?"ti-minus rotate-in":"ti-plus")})),o.a.createElement(Se,{ref:f.nav,className:E?"enter-active":"leave-active"},o.a.createElement("li",{className:"personal-link shorcut-title-link"},o.a.createElement("div",{className:"shorcut-title"},c.personalLinks)),d.personal_links.map((function(e,n){return o.a.createElement("li",{key:n,className:"personal-link"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("a",{href:p.test(e.web_address)?e.web_address:"https://".concat(e.web_address),target:"_blank",rel:"noopener noreferrer"},e.name)),o.a.createElement("div",{className:"action"},o.a.createElement(W.t,{className:"cursor-pointer","data-index":n,icon:"pencil",onClick:v}))))})),d.personal_links.length<5&&o.a.createElement("li",{className:"personal-link nav-action cursor-pointer",onClick:function(){m("personal_link_create")}},o.a.createElement("div",{className:"justify-content-start"},o.a.createElement(W.t,{icon:"circle-plus",width:24,height:24})," ",c.addPersonalShortcut)),"external"!==a.type&&u.map((function(e,n){return o.a.createElement(o.a.Fragment,{key:e.id},0===n&&o.a.createElement("li",{className:"personal-link shorcut-title-link pt-2"},o.a.createElement("div",{className:"shorcut-title"},c.companyLinks)),o.a.createElement(Fe,{link:e,className:"quick-links"}))}))))};function De(){var e=Object(a.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  div {\n    position: relative;\n    height: 40px;\n    display: inline-flex;\n    align-items: center;\n    svg {\n      margin-left: 6px;\n    }\n    a {\n      display: block;\n      background-color: transparent;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return De=function(){return e},e}var Le=s.b.li(De(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Fe=function(e){var n=e.className,t=void 0===n?"":n,a=e.link;return o.a.createElement(Le,{className:"topic-list ".concat(t)},o.a.createElement("div",null,o.a.createElement("a",{href:a.link,target:"_blank"},a.menu_name)))};function Me(){var e=Object(a.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return Me=function(){return e},e}function Ue(){var e=Object(a.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  li {\n    height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return Ue=function(){return e},e}function He(){var e=Object(a.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n"]);return He=function(){return e},e}s.b.li(He(),(function(e){return e.selected?"600":"400"})),s.b.ul(Ue(),(function(e){return e.maxHeight})),Object(s.b)(W.t)(Me());function We(){var e=Object(a.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return We=function(){return e},e}function ze(){var e=Object(a.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n"]);return ze=function(){return e},e}s.b.li(ze(),(function(e){return e.selected?"600":"400"})),Object(s.b)(W.t)(We());function Be(){var e=Object(a.a)(["\n  position: absolute !important;\n  z-index: 20;\n  transform: rotate(-41deg) scaleX(-1);\n  left: 1px;\n  top: -6px;\n  img {\n    width: 26px;\n  }\n"]);return Be=function(){return e},e}function Ge(){var e=Object(a.a)(["\n  display: flex;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px;\n  border-radius: 8px;\n  &.active {\n    background: ",";\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]);return Ge=function(){return e},e}function Ve(){var e=Object(a.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(a.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(a.a)(["\n  .badge {\n    padding: 4px 8px;\n    font-size: 9px;\n  }\n"]);return Ke=function(){return e},e}var qe=s.b.div(Ke()),Ze=s.b.div(Ye()),Je=Object(s.b)(W.t)(Ve()),Xe=Object(s.b)(W.l)(Ge(),(function(e){return e.theme.colors.primary})),Qe=(s.b.div(Be()),function(e){var n=e.dictionary,t=e.isExternal,a=e.driffSettings,s=e.user,l=e.updateCompanyName,d=Object(c.i)(),m=Object(c.h)(),u=Object(i.d)((function(e){return e.chat.lastVisitedChannel})),p=Object(r.useState)(a.company_name),f=Object(H.a)(p,2),b=f[0],h=f[1],E=Object(r.useState)(!1),g=Object(H.a)(E,2),v=g[0],O=g[1],_=Object(r.useRef)(null);Object(r.useEffect)((function(){_.current&&_.current.select()}),[v]);var w=function(){document.body.classList.remove("navigation-show")},T=function(){O((function(e){var n=!e;return n||a.company_name===b||l({company_name:b}),n}))};return o.a.createElement(qe,{className:"flex navigation-menu-tab-header-options"},o.a.createElement("ul",null,!t&&o.a.createElement("li",{onClick:w,className:"driff-company-name ".concat(v?"active":"")},v?o.a.createElement(Ze,{className:"active"},o.a.createElement(Je,{icon:"home"}),o.a.createElement("input",{ref:_,defaultValue:a.company_name,onChange:function(e){h(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:T();break;default:return}},name:"company-name",autoFocus:!0})):o.a.createElement(Xe,{active:["dashboard","posts","chat","files","people"].includes(d.page),to:null!==u&&u.hasOwnProperty("code")?"/chat/".concat(u.code):"/chat"},o.a.createElement("div",{style:{postion:"relative"}},o.a.createElement(Je,{icon:"home"})),a.company_name),s.role&&["owner","admin"].includes(s.role.name)&&o.a.createElement(o.a.Fragment,null,v?o.a.createElement(W.t,{className:"action",onClick:T,icon:"save"}):o.a.createElement(W.t,{className:"action",onClick:T,icon:"pencil"}))),o.a.createElement("li",{onClick:w},o.a.createElement(Xe,{to:"/workspace/search",active:["/workspace/search"].includes(m.pathname)},o.a.createElement(Je,{icon:"compass"}),o.a.createElement("div",null,n.allWorkspaces))),"internal"===s.type&&o.a.createElement("li",{onClick:w},o.a.createElement(Xe,{to:"/system/people",active:["/system/people"].includes(m.pathname)},o.a.createElement(Je,{icon:"user"}),o.a.createElement("div",null,n.people))),o.a.createElement(Pe,{user:s,dictionary:n})))}),$e=t(77),en=t(38),nn=t(9),tn=t(180);function an(){var e=Object(a.a)(["\n  span {\n    line-height: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin: auto;\n    font-size: 22px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n"]);return an=function(){return e},e}function rn(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  .snooze-x {\n    position: absolute;\n    right: 5px;\n    top: 5px;\n  }\n  // ::before {\n  //   content: '';\n  //   display: inline-block;\n  //   height: 100%;\n  //   vertical-align: middle;\n  //   margin-right: -0.25em; /* Adjusts for spacing */\n  // }\n"]);return rn=function(){return e},e}function on(){var e=Object(a.a)(["\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 1.1;\n  .badge {\n    margin-top: 3px;\n  }\n  .post-mention-body {\n    width: 200px;\n    padding-top: 5px;\n    p {\n      width: auto;\n    }\n  }\n  .badge-light {\n    color: #fff;\n    border: 1px solid grey;\n  }\n"]);return on=function(){return e},e}function cn(){var e=Object(a.a)(["\n  display: inline-block;\n  width: 180px;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  font-size: 14px;\n  white-space: nowrap;\n"]);return cn=function(){return e},e}function sn(){var e=Object(a.a)(["\n  display: inline-block;\n  width: 180px;\n  white-space: nowrap;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n  line-height: 1 !important;\n  .feather-x,\n  .snooze-me {\n    :hover {\n      color: #505050;\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n"]);return sn=function(){return e},e}function ln(){var e=Object(a.a)(["\n  cursor: pointer;\n  display: flex;\n  font-family: Inter;\n  letter-spacing: 0;\n  font-size: 12px;\n  color: ",";\n  .avatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  p {\n    margin: 0;\n  }\n  .chat-header-icon {\n    padding: 0px !important;\n  }\n  .badge-grey-ghost {\n    background-color: white !important ;\n    color: grey !important;\n    border: 1px solid grey !important;\n  }\n"]);return ln=function(){return e},e}function dn(){var e=Object(a.a)(["\n  min-width: 1rem;\n  min-height: 1rem;\n  width: 1rem;\n  height: 1rem;\n  margin-left: 5px;\n  :hover {\n    color: #505050;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return dn=function(){return e},e}var mn=Object(s.b)(W.t)(dn()),un=s.b.div(ln(),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),pn=s.b.div(sn()),fn=s.b.p(cn()),bn=s.b.div(on()),hn=s.b.div(rn()),En=s.b.div(an()),gn=function(e){var n=e.type,t=e.item,a=e.user,r=e.dictionary,i=e.users,c=e.handleRedirect,s=e.darkMode,m=e.snoozeData,u=e.actions,p=Object(l.V)(),f=function(e){e.stopPropagation(),u.snooze(m),"notification"===n?p.snoozeNotif({notification_id:t.id,is_snooze:!0,type:"POST_SNOOZE"}):"todo"===n?p.snoozeNotif({notification_id:t.id,is_snooze:!0,type:"REMINDER_SNOOZE"}):"huddle"===n&&p.snoozeNotif({notification_id:t.id,is_snooze:!0,type:"HUDDLE_SNOOZE"}),$e.c.success(o.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"}),$e.c.dismiss(n+"__"+t.id)},b=function(e){if(e.stopPropagation(),"notification"===n)u.snooze(m),u.remove({id:t.id});else if("todo"===n){u.removeReminderNotif({id:t.id});var a=localStorage.getItem("reminderNotif"),i=new Date;if(a){var c=JSON.parse(a).reminders;localStorage.setItem("reminderNotif",JSON.stringify({reminders:[].concat(Object(nn.a)(c),[t.id]),day:i.getDay()}))}else localStorage.setItem("reminderNotif",JSON.stringify({reminders:[t.id],day:i.getDay()}))}else if("huddle"===n){u.removeHuddleNotif({id:t.id});var s=localStorage.getItem("huddleNotif"),l=new Date;if(s){var d=JSON.parse(s).channels;localStorage.setItem("huddleNotif",JSON.stringify({channels:[].concat(Object(nn.a)(d),[t.channel.id]),day:l.getDay()}))}else localStorage.setItem("huddleNotif",JSON.stringify({channels:[t.channel.id],day:l.getDay()}))}$e.c.success(o.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.closeNotification}}),{containerId:"toastA",toastId:"closeNotif"}),$e.c.dismiss(n+"__"+t.id)};return o.a.createElement(un,{className:"timeline-item timeline-item-no-line d-flex",darkMode:s,onClick:function(e){return c(n,t,e)}},o.a.createElement("div",{className:"d-flex"},"notification"===n?t.author?o.a.createElement(W.a,{id:t.author.id,name:t.author.name,showSlider:!1,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,noDefaultClick:!0}):o.a.createElement(W.a,{id:a.id,name:a.name,imageLink:a.profile_image_thumbnail_link?a.profile_image_thumbnail_link:a.profile_image_link,showSlider:!1,noDefaultClick:!0}):"todo"===n?o.a.createElement(En,{className:"robotAvatar"},o.a.createElement("div",null,o.a.createElement("span",null,"\ud83e\udd16"))):o.a.createElement(W.a,{id:t.channel.id,name:t.channel.name,showSlider:!1,imageLink:null,noDefaultClick:!0})),o.a.createElement(hn,null,o.a.createElement(bn,null,function(e,n){var s="",l="";if("notification"===e){var m=n.author&&i[n.author.id]?i[n.author.id].first_name:"";"POST_MENTION"===n.type?(s="".concat(m," ").concat(r.notificationMention," ").concat(n.data.title),l=o.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},o.a.createElement(fn,{className:"snooze-body"},n.data.comment_body&&Object(d.j)(n.data.comment_body)),o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}}))):"WORKSPACE_ADD_MEMBER"===n.type?(s="".concat(m," ").concat(r.addedYouInWorkspace," ").concat(n.data.title),l=o.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},n.data.title,o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}}))):"POST_CREATE"===n.type?(s="".concat(m," ").concat(r.notificationNewPost),l=o.a.createElement("span",{className:"d-flex align-items-center"},o.a.createElement(tn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}}))):"POST_REQST_APPROVAL"===n.type?(s="".concat(m," ").concat(r.sentProposal),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}}))):"POST_REJECT_APPROVAL"===n.type?(s="".concat(m," ").concat(r.hasRequestedChange),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}}))):"PST_CMT_REJCT_APPRVL"===n.type?(s="".concat(m," ").concat(r.changeRequested),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}}))):"POST_COMMENT"===n.type&&(s="".concat(m," ").concat(r.actionNeeded),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(tn.a,{notification:n,dictionary:r,user:a,fromSnooze:!0}),o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}})))}else"todo"===e?(s=r.todoReminder,l=o.a.createElement("span",{className:"d-flex align-items-center post-mention-body"},o.a.createElement(fn,{className:"snooze-body"},Object(d.j)(n.title)),o.a.createElement(mn,{icon:"external-link",onClick:function(n){c(e,t,n)}}))):"huddle"===e&&(s="".concat(r.timeTOHuddle," ").concat(a.first_name),l=o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"badge badge-light mr-2",onClick:function(n){c(e,t,n)}},r.open),o.a.createElement("span",{className:"badge badge-info badge-grey-ghost",onClick:function(t){!function(e,n,t){t.stopPropagation();var a=localStorage.getItem("huddle"),i=new Date;if(a){var c=JSON.parse(a).channels;localStorage.setItem("huddle",JSON.stringify({channels:[].concat(Object(nn.a)(c),[n.channel.id]),day:i.getDay()}))}else localStorage.setItem("huddle",JSON.stringify({channels:[n.channel.id],day:i.getDay()}));$e.c.dismiss(e+"__"+n.id),$e.c.success(o.a.createElement("span",{dangerouslySetInnerHTML:{__html:r.huddleSkip}}),{containerId:"toastA",toastId:"btnSnoozeMe"})}(e,n,t)}},r.skip)));return o.a.createElement(o.a.Fragment,null,o.a.createElement(pn,null,s,o.a.createElement("span",{className:"snooze-x"},o.a.createElement("span",{className:"snooze-me mr-1",onClick:f},r.snooze),o.a.createElement(W.t,{icon:"x",width:"18",height:"18",strokeWidth:"2",onClick:b})))," ",l)}(n,t))))};function vn(){var e=Object(a.a)(["\n  .snooze-container {\n    margin-bottom: 8px !important;\n    color: ",";\n    background: ",";\n    .feather-x {\n      margin-top: -1px;\n    }\n  }\n  .snooze-container p.snooze-body {\n    color: ",";\n  }\n  .snooze-container .snooze-me {\n    font-size: 11px;\n    //margin: 0 5px;\n    text-decoration: underline;\n    // position: absolute;\n    // right: 0;\n    // margin-right: 1em;\n  }\n  .snooze-all-container {\n    background: 0 0;\n    box-shadow: none;\n    margin: 0;\n    padding: 0;\n    height: auto;\n    min-height: 25px;\n    color: ",";\n    background: transparent;\n    font-size: 12px;\n  }\n  .snooze-all-container .snooze-all-body {\n    height: auto;\n    font-size: 12px;\n    margin: 0 5px;\n    text-decoration: underline;\n  }\n  .robotAvatar {\n    margin-right: 1rem;\n    height: 2.7rem;\n    width: 2.7rem;\n  }\n  .robotAvatar div {\n    background: #f1f2f7;\n    border-radius: 40px;\n    font-size: 27px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n  }\n"]);return vn=function(){return e},e}var On=s.b.div(vn(),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#aaa !important"}),(function(e){return"1"===e.darkMode?"#191c20 !important":"#fff !important"}),(function(e){return"1"===e.darkMode?"#afb8bd !important":"#505050 !important"}),(function(e){return"1"===e.darkMode?"#afb8bd":"#aaa"})),_n=function(e){var n=Object(l.F)().notifications,t=Object(l.db)(!0).getReminders,a=Object(i.d)((function(e){return e.global.todos})),s=Object(i.d)((function(e){return e.session.user})),m=Object(l.gb)()._t,u=Object(l.V)(),p=Object(l.E)(),f=Object(l.cb)(),b=Object(l.T)().generalSettings.dark_mode,h=Object(l.O)(),E=Object(l.A)(),g=Object(c.g)(),v=new Date,O=v.getTime(),_=Object(i.c)(),w=Object(i.d)((function(e){return e.users.users})),T=Object(i.d)((function(e){return e.chat.huddleBots.filter((function(e){return e.show_notification&&!0===e.show_notification}))})),N=Object(i.d)((function(e){return e.chat.channels})),k=Object(i.d)((function(e){return e.chat.huddleBotsLoaded})),y=0===v.getDay()||6===v.getDay(),A=localStorage.getItem("huddle"),j=A?JSON.parse(A).channels:[],C=Object(r.useState)(!1),x=Object(H.a)(C,2),S=x[0],I=x[1],R={notificationMention:m("SNOOZE.MENTION","mentioned you in ::title::",{title:""}),todoReminder:m("SNOOZE.REMINDER","A friendly automated reminder"),sentProposal:m("SNOOZE.SENT_PROPOSAL","sent a proposal."),notificationNewPost:m("SNOOZE.NEW_POST","shared a post"),mustRead:m("SNOOZE.MUST_READ","Must read"),needsReply:m("SNOOZE.NEEDS_REPLY","Needs reply"),timeTOHuddle:m("SNOOZE.TIME_TO_HUDDLE","Time to huddle, "),hasRequestedChange:m("SNOOZE.HAS_REQUESTED_CHANGE","has requested a change."),snoozeMe:m("SNOOZE.SNOOZE_ME","Snoozed for ".concat(180," min(s)")),actionNeeded:m("SNOOZE.ACTION_NEEDED","Action needed"),changeRequested:m("SNOOZE.CHANGE_REQUESTED","Change requested"),huddleSkip:m("SNOOZE.HUDDLE_SKIP","Huddle is Skipped"),replyRequired:m("POST.REPLY_REQUIRED","Reply required"),snoozeAllNotifications:m("SNOOZE.SNOOZE_ALL_NOTIFICATIONS","Snooze all notifications"),skip:m("SNOOZE.SKIP","Skip"),open:m("SNOOZE.OPEN","Open"),snooze:m("SNOOZE.SNOOZE","Snooze"),closeNotification:m("NOTIFICATION.CLOSE","Notification will not be shown again."),addedYouInWorkspace:m("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace")},P=function(){return Object.values(n).filter((function(e){return"POST_MENTION"===e.type||"WORKSPACE_ADD_MEMBER"===e.type||"POST_REQST_APPROVAL"===e.type||"POST_REJECT_APPROVAL"===e.type||"PST_CMT_REJCT_APPRVL"===e.type||"POST_COMMENT"===e.type||"POST_CREATE"===e.type&&(e.data.must_read||e.data.must_reply)})).sort((function(e,n){return n.created_at.timestamp-e.created_at.timestamp}))},D=function(){var e=Object(en.d)(179);return t({filter:{status:"",search:""}}).filter((function(n){return n.remind_at&&n.remind_at.timestamp<=e&&"OVERDUE"!==n.status&&n.show_notification}))},L=function(e,n,t){var a="notification"===e?p:"todo"===n.type?f:E;if(t.preventDefault(),0===n.is_read&&p.read({id:n.id}),"huddle"===e)return g.push("/chat/".concat(n.channel.code)),void _(Object(ce.Xb)({id:n.channel.id}));if("todo"===e)h.toTodos();else{var r={id:n.data.post_id,title:n.data.title},o=null,i=null;n.data.workspaces&&n.data.workspaces.length&&(o={id:(o=n.data.workspaces[0]).topic_id,name:o.topic_name,folder_id:o.workspace_id?o.workspace_id:null,folder_name:o.workspace_name?o.workspace_name:null}),"POST_MENTION"===n.type&&n.data.comment_id&&(i={focusOnMessage:n.data.comment_id}),"WORKSPACE_ADD_MEMBER"===n.type?n.data.workspace_folder_id?g.push("/workspace/chat/".concat(n.data.workspace_folder_id,"/").concat(Object(d.h)(n.data.workspace_folder_name),"/").concat(n.data.id,"/").concat(Object(d.h)(n.data.title))):g.push("/workspace/chat/".concat(n.data.id,"/").concat(Object(d.h)(n.data.title))):h.toPost({workspace:o,post:r},i)}a.snooze({id:n.id,is_snooze:!1})},F=function(e){return Object.values(n).filter((function(n){return n.id!==e.id})).some((function(n){return"PST_CMT_REJCT_APPRVL"===n.type&&n.data.post_id===e.data.post_id&&n.id>e.id}))},M=function(e,t){t.preventDefault();var r=[],i=[],c=[];r=U("todo",D()),i=U("notification",P()),c=U("huddle",T),[].concat(r,i,c).map((function(e){var t=e.type+"__"+e.id,r="notification"===e.type?p:"todo"===e.type?f:E,o="notification"===e.type?n[e.id]:"todo"===e.type?a.items[e.id]:Object.values(T).find((function(n){return n.id==e.id}));if(o){var i={id:o.id,is_snooze:!0,snooze_time:Object(en.d)(180)};o.is_snooze||($e.c.isActive(t)&&$e.c.dismiss(t),r.snooze(i))}})),i.length&&u.snoozeAllNotif({is_snooze:!0,notification_ids:i.map((function(e){return e.id})),type:"POST_SNOOZE"}),r.length&&u.snoozeAllNotif({is_snooze:!0,notification_ids:r.map((function(e){return e.id})),type:"REMINDER_SNOOZE"}),c.length&&u.snoozeAllNotif({is_snooze:!0,notification_ids:c.map((function(e){return e.id})),type:"HUDDLE_SNOOZE"}),(i.length||r.length||c.length)&&$e.c.success(o.a.createElement("span",{dangerouslySetInnerHTML:{__html:R.snoozeMe}}),{containerId:"toastA",toastId:"btnSnoozeMe"})},U=function(e,n){var t=[];return n.map((function(n){var a=e+"__"+n.id,r={type:e,id:n.id,created_at:"huddle"===e?n.start_at.timestamp:n.created_at.timestamp};"notification"===e?"POST_MENTION"===n.type?n.is_read||n.is_snooze||!n.data||0!==n.data.is_close?(n.is_read||n.is_snooze||n.data&&1===n.data.is_close)&&$e.c.isActive(a)&&$e.c.dismiss(a):t.push(r):"WORKSPACE_ADD_MEMBER"===n.type?n.is_read||n.is_snooze?(n.is_read||n.is_snooze||n.data&&1===n.data.is_close)&&$e.c.isActive(a)&&$e.c.dismiss(a):t.push(r):"POST_CREATE"===n.type?n.data&&1===n.data.is_close&&$e.c.isActive(a)?$e.c.dismiss(a):!function(e){return e.data.must_read&&e.data.must_read_users&&e.data.must_read_users.some((function(e){return e.id===s.id&&!e.must_read}))}(n)&&!function(e){return e.data.must_reply&&e.data.must_reply_users&&e.data.must_reply_users.some((function(e){return e.id===s.id&&!e.must_reply}))}(n)||n.is_snooze||!n.data||0!==n.data.is_close?$e.c.isActive(a)&&$e.c.dismiss(a):t.push(Object(ke.a)(Object(ke.a)({},r),{},{update:!0})):"POST_REQST_APPROVAL"===n.type?n.data&&1===n.data.is_close&&$e.c.isActive(a)?$e.c.dismiss(a):!function(e){return e.data.users_approval&&e.data.users_approval.find((function(e){return null===e.ip_address&&s.id===e.id}))}(n)||n.is_snooze||!n.data||0!==n.data.is_close?$e.c.isActive(a)&&$e.c.dismiss(a):t.push(r):"POST_REJECT_APPROVAL"===n.type||"PST_CMT_REJCT_APPRVL"===n.type?n.data&&1===n.data.is_close&&$e.c.isActive(a)?$e.c.dismiss(a):!F(n)&&n.data.post_approval_label&&"REQUEST_UPDATE"===n.data.post_approval_label&&!n.is_snooze&&n.data&&0===n.data.is_close?t.push(r):$e.c.isActive(a)&&$e.c.dismiss(a):n.type:"todo"===e?"DONE"===n.status||n.is_snooze?$e.c.isActive(a)&&$e.c.dismiss(a):t.push(r):"huddle"===e&&(y||j.includes(n.channel.id)||!function(e){if(e.questions.filter((function(e){return null===e.answer})).length>0){var n=parseInt(e.start_at.time.substr(0,2)),t=parseInt(e.start_at.time.substr(3,2)),a=parseInt(e.publish_at.time.substr(0,2)),r=parseInt(e.publish_at.time.substr(3,2)),o=new Date;o.setUTCHours(n,t,0),o.setDate(v.getDate());var i=new Date;return i.setUTCHours(a,r,0),i.setDate(v.getDate()),O>o.getTime()&&i.getTime()>O}return!1}(n)||n.is_snooze?$e.c.isActive(a)&&$e.c.dismiss(a):t.push(r))})),t},W=function(e,n){var t=Math.round(+new Date/1e3),a="notification"===e?p:"todo"===e?f:E,r=0;return n.map((function(n){var o=n.snooze_time+10800;"notification"===e?n.is_snooze&&n.snooze_time&&t>o&&(r++,u.snoozeNotif({notification_id:n.id,is_snooze:!1,type:"POST_SNOOZE"}),a.snooze({id:n.id,is_snooze:!1,snooze_time:null,type:"POST_SNOOZE"})):"todo"===e?"DONE"!==n.status&&n.is_snooze&&n.snooze_time&&t>o&&(r++,u.snoozeNotif({notification_id:n.id,is_snooze:!1,type:"REMINDER_SNOOZE"}),a.snooze({id:n.id,is_snooze:!1,snooze_time:null,type:"REMINDER_SNOOZE"})):"huddle"===e&&n.is_snooze&&n.snooze_time&&t>o&&(r++,u.snoozeNotif({notification_id:n.id,is_snooze:!1,type:"HUDDLE_SNOOZE"}),a.snooze({id:n.id,is_snooze:!1,snooze_time:null,type:"HUDDLE_SNOOZE"}))})),r},z=function(){var e,t,r;e=U("todo",D()),t=U("notification",P()),r=U("huddle",T);var i=[].concat(e,t,r);i.length?function(e){if(e.length>0){$e.c.isActive("btnSnoozeAll")?$e.c.update("btnSnoozeAll",{render:function(){return o.a.createElement("span",{className:"snooze-all",onClick:function(e){return M(0,e)}},R.snoozeAllNotifications)},containerId:"toastS"}):Object($e.c)(o.a.createElement("span",{className:"snooze-all",onClick:function(e){return M(0,e)}},R.snoozeAllNotifications),{className:"snooze-all-container",bodyClassName:"snooze-all-body",containerId:"toastS",toastId:"btnSnoozeAll",closeButton:!1});var t=e.slice(0,4),r=[];t.map((function(e){var t="notification"===e.type?p:"todo"===e.type?f:E,i=e.type+"__"+e.id,c="notification"===e.type?n[e.id]:"todo"===e.type?a.items[e.id]:Object.values(T).find((function(n){return n.id==e.id}));$e.c.isActive(i)?e.update&&$e.c.update(i,{render:function(){return o.a.createElement(gn,{type:e.type,dictionary:R,id:c.id,item:c,user:s,users:w,actions:t,handleRedirect:L,darkMode:b,snoozeData:{id:c.id,is_snooze:!0,snooze_time:Object(en.d)(180)}})},containerId:"toastS"}):Object($e.c)(o.a.createElement(gn,{type:e.type,dictionary:R,id:c.id,item:c,user:s,users:w,actions:t,handleRedirect:L,darkMode:b,snoozeData:{id:c.id,is_snooze:!0,snooze_time:Object(en.d)(180)}}),{className:"snooze-container",bodyClassName:"snooze-body",containerId:"toastS",toastId:i}),r.push(i)}))}else $e.c.dismiss("btnSnoozeAll")}(i):$e.c.dismiss("btnSnoozeAll")};Object(r.useEffect)((function(){var e=setInterval((function(){I(!0)}),6e4);return function(){clearInterval(e)}}),[]),Object(r.useEffect)((function(){if(S){I(!1);var e=W("todo",D()),n=W("notification",P()),t=W("huddle",T);0===e&&0===n&&0===t&&z()}}),[S,n,a,T]),Object(r.useEffect)((function(){Object.keys(N).length>0&&k&&z()}),[n,a,T,k]);var B=v.getDay(),G=Object(r.useRef)(0);return Object(r.useEffect)((function(){G.current++,G.current>1&&(localStorage.removeItem("huddle"),localStorage.removeItem("huddleNotif"),localStorage.removeItem("reminderNotif"),_(Object(ce.n)()))}),[B]),Object(r.useEffect)((function(){var e=(new Date).getDay(),n=localStorage.getItem("huddle");n&&(JSON.parse(n).day===e&&0!==e&&6!==e||(localStorage.removeItem("huddle"),_(Object(ce.n)())));I(!0)}),[]),o.a.createElement(On,{darkMode:b},o.a.createElement($e.b,{enableMultiContainer:!0,containerId:"toastS",position:"bottom-left",autoClose:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,limit:5,closeButton:!1,style:{zIndex:999}}))};t(800);function wn(){var e=Object(a.a)(["\n  position: relative;\n  overflow: auto;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n  .card-body {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n  }\n  svg {\n    height: 50%;\n    width: 50%;\n  }\n"]);return wn=function(){return e},e}var Tn=s.b.div(wn()),Nn=function(e){var n=Object(c.g)(),t=Object(i.d)((function(e){return e.session.user}));return o.a.createElement(Tn,{className:"main-content"},o.a.createElement("div",{className:"trial-end"},o.a.createElement("div",{className:"card h-100"},o.a.createElement("div",{className:"card-body"},o.a.createElement(W.r,{icon:2}),o.a.createElement("h3",null,"Your trial subscription has ended"),t&&t.role&&("owner"===t.role.name||"admin"===t.role.name)&&o.a.createElement("button",{className:"btn btn-primary",onClick:function(){n.push("/admin-settings/subscription/subscribe")}},"Go to subscription page")))))};function kn(){var e=Object(a.a)(["\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]);return kn=function(){return e},e}function yn(){var e=Object(a.a)(["\n  width: 84px;\n  height: 56px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]);return yn=function(){return e},e}function An(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  justify-content: center;\n  cursor: pointer;\n  .feather-heart {\n    color: #fff;\n    height: 0.7rem;\n    width: 0.7rem;\n    min-height: 0.7rem;\n    min-width: 0.7rem;\n    margin: 0 5px;\n  }\n  .company-logo {\n    height: 70%;\n    max-height: 40px;\n    max-width: 100px;\n  }\n"]);return An=function(){return e},e}function jn(){var e=Object(a.a)(["\n  position: relative;\n  ","\n\n  :hover {\n    .feather-pencil {\n      display: block;\n      top: 0;\n      right: -15px;\n      cursor: pointer;\n    }\n  }\n"]);return jn=function(){return e},e}var Cn=s.b.div(jn(),(function(e){return e.hasCompanyLogo&&"height: 100%;\n    width: 70%;"})),xn=s.b.div(An()),Sn=Object(s.b)(W.s)(yn()),In=Object(s.b)(W.s)(kn()),Rn=function(e){var n=Object(i.c)(),t=Object(c.g)(),a=Object(i.d)((function(e){return e.settings.driff.logo})),r=function(e){e.preventDefault(),e.target.dataset.link?n(Object(B.bb)({mode:3})):n(Object(B.bb)({mode:2})),t.push("/chat")};return o.a.createElement(Cn,{hasCompanyLogo:""!==a.trim()},""!==a.trim()&&o.a.createElement(xn,{"data-link":"/",onClick:r},o.a.createElement("img",{className:"company-logo",src:a,alt:"company logo"}),o.a.createElement(W.t,{icon:"heart"}),o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(In,{icon:"driff-logo2"}))),""===a.trim()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Sn,{icon:"driff-logo2","data-link":"/chat",onClick:r})))};function Pn(){var e=Object(a.a)([""]);return Pn=function(){return e},e}var Dn=s.b.div(Pn()),Ln=o.a.memo((function(){return o.a.createElement(Dn,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),Fn=t(111),Mn=t(140),Un=t(187),Hn=t(186),Wn=t(57),zn=t(99),Bn=t(47),Gn=t(860),Vn=t.n(Gn),Yn=t(56),Kn=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===o&&(o=Yn.generate()),Vn.a.create(e,{body:n,icon:null!==t?t:"./assets/icons/favicon.png",timeout:r,tag:e,onClick:function(){window.focus(),a&&a(),this.close()}})},qn=t(21),Zn=t(18),Jn=t(29),Xn=t(23),Qn=t(80),$n=t(20),et=t(60),nt=t(157),tt=t(31),at=t(58),rt=function(e){Object(Un.a)(t,e);var n=Object(Hn.a)(t);function t(e){var a;return Object(Fn.a)(this,t),(a=n.call(this,e)).refetchPosts=function(){a.props.refetchPosts({skip:0,limit:10})},a.refetchPostComments=function(){Object.keys(a.props.postComments).forEach((function(e){a.props.refetchPostComments({post_id:e})}))},a.refetch=function(){a.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&a.props.refetchMessages({message_id:a.props.lastReceivedMessage.id})},a.refetchOtherMessages=function(){if(a.props.lastReceivedMessage&&a.props.lastReceivedMessage.id&&Object.values(a.props.channels).length){var e=Object.values(a.props.channels);a.props.refetchOtherMessages({message_id:a.props.lastReceivedMessage.id,channel_ids:e.filter((function(e){return"number"===typeof e.id&&e.id!==a.props.lastReceivedMessage.channel_id})).map((function(e){return e.id}))},(function(e,n){e||n.data.filter((function(e){return e.count_message>0})).forEach((function(e){a.props.getChannelDetail({id:e.channel_id})}))}))}},a.state={reconnected:null,disconnectedTimestamp:null,reconnectedTimestamp:null},a.onlineUsers=o.a.createRef(null),a.publishChannelId=o.a.createRef(null),a}return Object(Mn.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getOnlineUsers(),this.props.getLatestReply({},(function(e,n){})),window.Echo.connector.socket.on("connect",(function(){})),window.Echo.connector.socket.on("disconnect",(function(){e.setState({disconnectedTimestamp:Math.floor(Date.now()/1e3)})})),window.Echo.connector.socket.on("reconnect",(function(){e.setState({reconnected:!0,reconnectedTimestamp:Math.floor(Date.now()/1e3)}),e.refetch(),e.refetchOtherMessages(),e.refetchPosts(),e.refetchPostComments(),e.props.getFavoriteWorkspaceCounters()})),window.Echo.connector.socket.on("reconnecting",(function(){})),window.Echo.private("".concat(localStorage.getItem("slug"),".App.User.Inactive")).listen(".user-inactive",(function(n){e.props.incomingDeletedUser(n)})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".Driff.User.").concat(this.props.user.id)).listen(".proposal-version-upload-new-notification",(function(n){console.log(n,"new version"),e.props.incomingNewFileVersion(n.data)})).listen(".proposal-version-replace-notification",(function(n){console.log(n,"replace image"),e.props.incomingReplacedWIPFile(n.data)})).listen(".proposal-version-approved-notification",(function(n){console.log(n,"approve file"),e.props.incomingApprovedFileVersion(n)})).listen(".proposal-version-comment-closed-notification",(function(n){console.log(n,"closed file comment"),e.props.incomingClosedFileComments(n)})).listen(".proposal-version-comment-notification",(function(n){e.props.incomingWIPFileComment(n)})).listen(".proposal-version-comment-updated",(function(n){console.log(n,"updated file comment"),e.props.incomingUpdatedWIPFileComment(n)})).listen(".proposal-comment-notification",(function(n){e.props.incomingWIPComment(n)})).listen(".proposal-comment-updated",(function(n){e.props.incomingUpdatedWIPComment(n)})).listen(".proposal-notification",(function(n){switch(console.log(n),n.SOCKET_TYPE){case"PROPOSAL_CLAP_TOGGLE":e.props.incomingProposalClap(n);break;case"PROPOSAL_CREATED":e.props.incomingWIP(Object(ke.a)(Object(ke.a)({},n),{},{clap_user_ids:[]}));break;default:return null}})).listen(".proposal-subject-notification",(function(n){e.props.incomingWIPSubject(Object(ke.a)(Object(ke.a)({},n),{},{clap_user_ids:[]}))})).listen(".create-meeting-notification",(function(n){if(e.props.user.id!==n.host.id){var t=document.getElementById("meetingSDKElement").firstChild;t&&t.classList.contains("react-draggable")?setTimeout((function(){e.props.addToModals(Object(ke.a)(Object(ke.a)({},n),{},{type:"zoom_invite",hideJoin:!0})),e.props.incomingZoomData(Object(ke.a)(Object(ke.a)({},n.zoom_data.data),{},{channel_id:n.channel_id}))}),2e3):setTimeout((function(){e.props.addToModals(Object(ke.a)(Object(ke.a)({},n),{},{type:"zoom_invite",hideJoin:!1})),e.props.incomingZoomData(Object(ke.a)(Object(ke.a)({},n.zoom_data.data),{},{channel_id:n.channel_id}))}),2e3)}})).listen(".meeting-ended-notification",(function(n){console.log(n,"meeting ended");var t=Math.floor(Date.now()/1e3),a={message:n.system_message,body:n.system_message,mention_ids:[],user:null,original_body:n.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:t},updated_at:{timestamp:t},channel_id:n.channel_id,reactions:[],id:n.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(t,"YYYY-MM-DD")};e.props.incomingZoomEnded(Object(ke.a)(Object(ke.a)({},n),{},{chat:a,channel_id:n.channel_id}))})).listen(".notification-read",(function(n){e.props.incomingReadNotifications(n)})).listen(".delete-notification",(function(n){var t="notification__".concat(n.notification_id);$e.c.isActive(t)&&$e.c.dismiss(t),e.props.removeNotificationReducer({id:n.notification_id})})).listen(".snooze-notification",(function(n){e.props.incomingSnoozedNotification(n)})).listen(".snooze-all-notification",(function(n){e.props.incomingSnoozedAllNotification(n)})).listen(".post-follow",(function(n){e.props.incomingFollowPost(n)})).listen(".post-unfollow",(function(n){e.props.incomingUnfollowPost(n)})).listen(".unarchive-post-notification",(function(n){n.posts.forEach((function(n){e.props.fetchPost({post_id:n.id},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{claps:[],is_unread:1});e.props.incomingPost(a)}}))}))})).listen(".huddle-notification",(function(n){switch(n.SOCKET_TYPE){case"HUDDLE_CREATED":e.props.incomingHuddleBot(Object(ke.a)(Object(ke.a)({},n),{},{start_at:n.set_start_at,publish_at:n.set_publish_at,questions:n.questions.map((function(e,t){return Object(ke.a)(Object(ke.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===t,isLastQuestion:n.questions.length===t+1})}))}));break;case"HUDDLE_UPDATED":e.props.incomingUpdatedHuddleBot(Object(ke.a)(Object(ke.a)({},n),{},{start_at:n.set_start_at,publish_at:n.set_publish_at,questions:n.questions.map((function(e,t){return Object(ke.a)(Object(ke.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===t,isLastQuestion:n.questions.length===t+1})}))}));break;case"HUDDLE_DELETED":e.props.incomingDeletedHuddleBot({id:parseInt(n.id)});break;case"HUDDLE_ANSWER_UPDATE":e.props.incomingHuddleAnswers(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.huddle.channel_id}}));break;case"USER_ANSWERED":e.props.incomingHuddleAnswers(n),e.props.incomingChatMessage(Object(ke.a)(Object(ke.a)({},n.message),{},{huddle_log:n.huddle_log}));break;case"HUDDLE_SKIP":e.props.incomingHuddleSkip(n);break;default:return null}})).listen(".workspace-todo-notification",(function(n){switch(n.workspace&&Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.workspace.id===e.id}))&&e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),n.SOCKET_TYPE){case"CREATE_WORKSPACE_TODO":e.props.incomingToDo(Object(ke.a)(Object(ke.a)({},n),{},{user:n.user_id}));break;case"UPDATE_WORKSPACE_TODO":e.props.incomingUpdateToDo(n);break;case"DONE_TODO":e.props.incomingDoneToDo(n);break;case"DELETE_WORKSPACE_TODO":e.props.incomingRemoveToDo(n);break;case"REMIND_WORKSPCE_TODO":e.props.incomingUpdateToDo(n);break;case"ADVANCE_REMIND_TODO":if(Wn.isSafari&&e.props.notificationsOn){Kn("You asked to be reminded about ".concat(n.title),n.title,e.props.user.profile_image_link,(function(){if(n.link_type){var t="";"POST_COMMENT"===n.link_type||"POST"===n.link_type?t=n.data.workspaces.length?n.data.workspaces[0].workspace?"/workspace/posts/".concat(n.data.workspaces[0].workspace.id,"/").concat(Object(d.h)(n.data.workspaces[0].workspace.name),"/").concat(n.data.workspaces[0].topic.id,"/").concat(Object(d.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(d.h)(n.data.post.title)):"/workspace/posts/".concat(n.data.workspaces[0].topic.id,"/").concat(Object(d.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(d.h)(n.data.post.title)):"/posts/".concat(n.data.post.id,"/").concat(Object(d.h)(n.data.post.title)):"CHAT"===n.link_type&&(t="/chat/".concat(n.data.channel.code,"/").concat(n.data.chat_message.code)),""!==t&&e.props.history.push(t)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(n);break;default:return null}})).listen(".todo-notification",(function(n){switch(e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),n.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(Object(ke.a)(Object(ke.a)({},n),{},{user:n.user_id}));break;case"UPDATE_TODO":e.props.incomingUpdateToDo(n);break;case"DONE_TODO":e.props.incomingDoneToDo(n);break;case"DELETE_TODO":e.props.incomingRemoveToDo(n);break;case"REMIND_TODO":e.props.incomingUpdateToDo(n);break;case"ADVANCE_REMIND_TODO":if(Wn.isSafari&&e.props.notificationsOn){Kn("You asked to be reminded about ".concat(n.title),n.title,e.props.user.profile_image_link,(function(){if(n.link_type){var t="";"POST_COMMENT"===n.link_type||"POST"===n.link_type?t=n.data.workspaces.length?n.data.workspaces[0].workspace?"/workspace/posts/".concat(n.data.workspaces[0].workspace.id,"/").concat(Object(d.h)(n.data.workspaces[0].workspace.name),"/").concat(n.data.workspaces[0].topic.id,"/").concat(Object(d.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(d.h)(n.data.post.title)):"/workspace/posts/".concat(n.data.workspaces[0].topic.id,"/").concat(Object(d.h)(n.data.workspaces[0].topic.name),"/post/").concat(n.data.post.id,"/").concat(Object(d.h)(n.data.post.title)):"/posts/".concat(n.data.post.id,"/").concat(Object(d.h)(n.data.post.title)):"CHAT"===n.link_type&&(t="/chat/".concat(n.data.channel.code,"/").concat(n.data.chat_message.code)),""!==t&&e.props.history.push(t)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(n);break;default:return null}})).listen(".workspace-role-notification",(function(n){e.props.incomingWorkspaceRole(n)})).listen(".google-attachment-notification",(function(n){switch(n.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===n.attachment_type?e.props.incomingGoogleFile(n):"GOOGLE_DRIVE_FOLDER"===n.attachment_type&&e.props.incomingGoogleFolder(n);break;default:return null}})).listen(".workspace-folder-notification",(function(n){switch(n.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(n);break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(n),"/workspace/files"===e.props.match.url&&e.props.location.pathname.includes(n.folder.id)&&e.props.location.pathname.includes(n.topic_id)){var t=e.props.location.pathname.split("/folder/")[0];e.props.history.push(t)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(n);break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(n);break;default:return null}})).listen(".workspace-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(n);break;case"FILE_UPDATE":e.props.incomingFile(n);break;case"FILE_MOVE":e.props.incomingMovedFile(n);break;case"FILE_TRASH":e.props.incomingDeletedFile(n);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(n);break;case"FILE_DELETE":e.props.incomingRemovedFile(n);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(n);break;default:return null}})).listen(".workspace-timeline-notification",(function(n){e.props.incomingTimeline(n)})).listen(".upload-bulk-private-workspace-files",(function(n){e.props.incomingFiles(n),n.channel_messages&&n.channel_messages.forEach((function(n){n.system_message.channel_id=n.channel.id,n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!1,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.topic=n.topic,n.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(n.system_message)}))})).listen(".favourite-notification",(function(n){switch(n.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(n);break;default:return null}})).listen(".unread-post",(function(n){e.props.incomingReadUnreadReducer(n)})).listen(".post-notification",(function(n){switch(e.props.getFavoriteWorkspaceCounters(),n.SOCKET_TYPE){case"CLOSED_POST":e.props.incomingClosePost(n);break;case"POST_APPROVED":e.props.incomingPostApproval(n);break;case"POST_REQUIRED":e.props.incomingPostRequired(n);break;case"POST_COMMENT_APPROVED":e.props.getNotifications({skip:0,limit:5}),e.props.incomingCommentApproval(Object(ke.a)(Object(ke.a)({},n),{},{users_approval:n.users_approval.map((function(e){return e.id===n.user_approved.id?Object(ke.a)(Object(ke.a)({},e),n.user_approved):e}))}));break;case"READ_SELECTED_UNREAD_POST":e.props.incomingReadSelectedPosts(n);break;case"ARCHIVED_SELECTED_POST":e.props.incomingArchivedSelectedPosts(n);break;case"ADD_RECIPIENTS":e.props.fetchPost({post_id:n.post_id},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{claps:[]});e.props.incomingPost(a)}}));break;case"POST_CREATE":var t=Object(ke.a)(Object(ke.a)({},n),{},{claps:[],mention_ids:n.code_data&&n.code_data.mention_ids?n.code_data.mention_ids:[]}),a=t.users_approval.some((function(n){return n.id===e.props.user.id})),r=t.workspaces.length>0&&t.workspaces.some((function(n){return e.props.workspaces[n.topic_id]&&e.props.workspaces[n.topic_id].is_active})),o=t.mention_ids.some((function(n){return e.props.user.id===n})),i=t.must_read_users&&t.must_read_users.some((function(n){return e.props.user.id===n.id&&!n.must_read})),c=t.must_reply_users&&t.must_reply_users.some((function(n){return e.props.user.id===n.id&&!n.must_reply})),s=r||o||i||c||0===t.workspaces.length;t=Object(ke.a)(Object(ke.a)({},t),{},{show_post:s}),e.props.user.id!==t.author.id&&(e.props.updateUnreadCounter({general_post:1}),Wn.isSafari&&e.props.notificationsOn&&s&&Kn("".concat(t.author.first_name," shared a post"),t.title,t.author.profile_image_link,null)),null!==t.show_at&&(e.props.user.id,t.author.id),e.props.incomingPost(Object(ke.a)(Object(ke.a)({},t),{},{post_approval_label:a?"NEED_ACTION":null})),t.channel_messages&&t.channel_messages.forEach((function(t){var a=Object(ke.a)(Object(ke.a)({},t.system_message),{},{files:[],editable:!1,unfurls:[],reactions:[],is_deleted:!1,todo_reminder:null,is_read:!1,is_completed:!1,user:null,new_post:!0,topic:t.topic,shared_with_client:n.shared_with_client});e.props.incomingPostNotificationMessage(a)}));break;case"POST_UPDATE":if(e.props.incomingUpdatedPost(n),n.channel_messages&&n.post_participant_data)if(n.post_participant_data.from_company||n.post_participant_data.all_participant_ids.some((function(n){return n===e.props.user.id}))){if(!n.post_participant_data.from_company&&n.post_participant_data.all_participant_ids.some((function(n){return n===e.props.user.id})))n.claps=[],e.props.incomingPost(n),n.channel_messages&&n.channel_messages.forEach((function(t){t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!0,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.new_post=!1,t.system_message.topic=t.topic,t.system_message.shared_with_client=n.shared_with_client,e.props.incomingPostNotificationMessage(t.system_message)}));else if(n.post_participant_data.from_company){var l=Object.values(e.props.channels).filter((function(e){return"COMPANY"===e.type}));if(l.length){var d=l[0].id,m=Object(nn.a)(n.channel_messages);m=m.filter((function(e){return e.channel.id!==d})),e.props.deletePostNotification(m)}}}else e.props.deletePostNotification(n.channel_messages),e.props.incomingDeletedPost(n);break;case"POST_DELETE":if(e.props.incomingDeletedPost(n),n.notification_ids)Array.from(n.notification_ids).forEach((function(e){var n="notification__"+e;$e.c.isActive(n)&&$e.c.dismiss(n)}));break;case"POST_COMMENT_UPDATE":e.props.incomingComment(n);break;case"POST_CLAP_TOGGLE":e.props.user.id!==n.author.id&&(e.props.incomingPostClap(n),e.props.user.id===n.post_user_id&&1===n.clap_count&&Object($e.c)("".concat(n.author.name," ").concat(e.props.dictionary.likedYourPost),{position:$e.c.POSITION.BOTTOM_LEFT}));break;case"MARKED_DONE":e.props.incomingPostMarkDone(n);break;case"COMMENT_IMPORTANT":e.props.incomingImportantComment(n);break;default:return null}})).listen(".post-comment-notification",(function(n){switch(n.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(e.props.incomingComment(n),n.workspaces&&n.workspaces.length>=1&&n.author.id!==e.props.user.id){e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"});var t=n.workspaces.map((function(e){return e.topic_id}));Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.some((function(n){return n===e.id}))}))&&e.props.getFavoriteWorkspaceCounters()}if(n.author.id!==e.props.user.id){if(e.props.updateUnreadCounter({general_post:1}),e.props.posts[n.post_id]||e.props.fetchPost({post_id:n.post_id},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{claps:[],is_unread:1});e.props.incomingPost(a)}})),Wn.isSafari&&e.props.notificationsOn){var a="";(a=n.workspaces.length?n.workspaces[0].workspace_id?"/workspace/posts/".concat(n.workspaces[0].workspace_id,"/").concat(Object(d.h)(n.workspaces[0].workspace_name),"/").concat(n.workspaces[0].topic_id,"/").concat(Object(d.h)(n.workspaces[0].topic_name),"/post/").concat(n.post_id,"/").concat(Object(d.h)(n.post_title)):"/workspace/posts/".concat(n.workspaces[0].topic_id,"/").concat(Object(d.h)(n.workspaces[0].topic_name),"/post/").concat(n.post_id,"/").concat(Object(d.h)(n.post_title)):"/posts/".concat(n.post_id,"/").concat(Object(d.h)(n.post_title)))===e.props.location.pathname&&!e.props.isIdle&&e.props.isBrowserActive&&document.hasFocus()||Kn("".concat(n.author.first_name," replied in a post"),Object(d.j)(n.body),n.author.profile_image_link,(function(){return e.props.history.push(a,{focusOnMessage:n.id})}))}n.workspaces.forEach((function(n){e.props.getUnreadWorkspacePostEntries({topic_id:n.topic_id},(function(t,a){t||e.props.updateWorkspacePostCount({topic_id:n.topic_id,count:a.data.result})}))}))}break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(n);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(n);break;case"POST_COMMENT_CLAP_TOGGLE":e.props.user.id!==n.author.id&&(e.props.incomingCommentClap(n),e.props.user.id===n.comment_user_id&&1===n.clap_count&&Object($e.c)("".concat(n.author.name," ").concat(e.props.dictionary.likedYourComment),{position:$e.c.POSITION.BOTTOM_LEFT}));break;default:return null}})).listen(".chat-notification",(function(n){var t=e.props,a=t.user,r=t.selectedChannel,o=t.isIdle,i=t.isBrowserActive;switch(n.SOCKET_TYPE){case"CHAT_CREATE":n.is_huddle&&e.publishChannelId.current!==n.channel_id&&(e.props.toaster.success("".concat(e.props.dictionary.huddlePublished," - ").concat(n.channel_name),{toastId:n.channel_id}),e.props.clearUnpublishedAnswer(n),setTimeout((function(){e.publishChannelId.current=null}),5e3));var c=Object(ke.a)({},n);if(n.is_active?(null===c.user||c.user.id!==a.id&&!c.is_muted)&&e.props.soundPlay():!n.is_active&&n.code_data&&n.code_data.mention_ids&&n.code_data.mention_ids.some((function(n){return n===e.props.user.id}))&&e.props.soundPlay(),null!==c.user&&e.props.user.id===c.user.id||(delete c.reference_id,c.g_date=e.props.localizeDate(n.created_at.timestamp,"YYYY-MM-DD"),!o&&i&&document.hasFocus()&&e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===c.channel_id&&(c.is_read=!0)),e.props.incomingChatMessage(Object(ke.a)(Object(ke.a)({},c),{},{translated_body:null})),delete n.SOCKET_TYPE,delete n.socket,n.user.id!==a.id&&!n.is_muted&&e.props.notificationsOn&&Wn.isSafari&&n.is_active&&(!e.props.location.pathname.includes("/chat/")||r.code!==n.channel_code||o||!i||!document.hasFocus())){Kn("".concat(n.reference_title),n.reference_title.includes("in a direct message")?"".concat(Object(d.j)(n.body)):"".concat(n.user.first_name,": ").concat(Object(d.j)(n.body)),n.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(n.channel_code,"/").concat(n.code))}))}if(void 0===n.workspace_id||null===n.workspace_id||0===n.workspace_id){var s={};"CHAT_REMINDER_MESSAGE"===n.entity_type?s={count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:c.user.id!==a.id&&!1===n.is_muted&&(s={count:1,entity_type:"CHAT_MESSAGE"}),e.props.setGeneralChat(s)}else c.user.id!==a.id&&(e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"}),Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&n.workspace_id===e.id}))&&e.props.getFavoriteWorkspaceCounters());var l=e.props.channels[n.channel_id];("undefined"===typeof l&&n.is_active||"undefined"===typeof l&&!n.is_active&&n.code_data&&n.code_data.mention_ids&&n.code_data.mention_ids.some((function(n){return n===e.props.user.id})))&&e.props.getChannel({code:n.channel_code});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(Object(ke.a)(Object(ke.a)({},n),{},{translated_body:null}));break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(n);break;case"TOGGLE_IMPORTANT":e.props.incomingImportantChat(n);break;case"STAR_CHAT":e.props.incomingChatStar(n);break;default:return null}})).listen(".post-list-notification",(function(n){e.props.getPostList({},(function(t,a){if(!t){var r={link_id:n.link_id,post_id:n.post_id};switch(n.SOCKET_TYPE){case"POST_LIST_CONNECTED":e.props.incomingPostListConnect(r);break;case"POST_LIST_DISCONNECTED":e.props.incomingPostListDisconnect(r);break;default:return null}}}))})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.Broadcast")).listen(".post-access-notification",(function(n){e.props.incomingPostAccess(n)})).listen(".create-team",(function(n){e.props.incomingTeam(n)})).listen(".update-team",(function(n){e.props.incomingUpdatedTeam(n)})).listen(".remove-team",(function(n){Array.from(Object.values(e.props.workspaces)).map((function(t){if(t.members.some((function(t){return t.members&&t.id===n.id&&t.members.some((function(n){return n.id===e.props.user.id}))}))){if(!t.members.some((function(n){return("internal"===n.type||"external"===n.type)&&e.props.user.id===n.id})))if(!t.members.filter((function(e){return e.members&&e.id!==n.id})).map((function(e){return e.member_ids})).flat().some((function(n){return n===e.props.user.id})))if(t.is_lock){var a=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];a.some((function(n){return e.props.selectedChannel&&n===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:a})}else{var r=t.members.filter((function(e){return e.members&&e.id===n.id})).map((function(e){return e.member_ids})).flat(),o=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:o,remove_member_ids:r})}return t}return t})),e.props.incomingDeletedTeam(n)})).listen(".add-team-member",(function(n){e.props.incomingTeamMember(n)})).listen(".remove-team-member",(function(n){Array.from(Object.values(e.props.workspaces)).map((function(t){if(t.members.some((function(t){return t.members&&t.id===n.id&&t.members.some((function(n){return n.id===e.props.user.id}))}))){if(t.members.some((function(n){return("internal"===n.type||"external"===n.type)&&e.props.user.id===n.id}))||1!==t.is_lock){if(!t.members.some((function(n){return("internal"===n.type||"external"===n.type)&&e.props.user.id===n.id}))){var a=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];e.props.removeWorkspaceChannelMembers({channels:a,remove_member_ids:n.remove_member_ids})}}else{var r=[t.channel&&t.channel.id?t.channel.id:0,t.team_channel&&t.team_channel.id?t.team_channel.id:0];r.some((function(n){return e.props.selectedChannel&&n===e.props.selectedChannel.id}))&&e.props.match.url.startsWith("/chat")&&e.props.history.push("/chat"),e.props.removeWorkspaceChannel({channels:r})}return t}return t})),e.props.incomingRemovedTeamMember(n)})).listen(".create-drive-link",(function(n){e.props.incomingDriveLink(n)})).listen(".remove-drive-link",(function(n){e.props.incomingDeletedDriveLink(n)})).listen(".update-drive-link",(function(n){e.props.incomingUpdatedDriveLink(n)})).listen(".upload-company-logo",(function(n){e.props.incomingUpdatedCompanyLogo(n)})).listen(".reset-company-logo",(function(n){e.props.incomingUpdatedCompanyLogo({files:{view_link:""}})})).listen(".team-checkout-complete",(function(n){e.props.incomingUpdatedSubscription(n)})).listen(".team-subscription-cancelled",(function(n){console.log(n,"cancelled subs"),e.props.incomingUpdatedSubscription(n)})).listen(".team-subscription-will-end",(function(e){console.log(e,"trial will end")})).listen(".reset-password-notification",(function(n){e.props.incomingAcceptedInternal(n)})).listen(".remove-file-notification",(function(n){switch(n.SOCKET_TYPE){case"REMOVE_FILE":e.props.incomingRemoveFileAutomatically(n);break;case"REMOVE_FILE_ON_DOWNLOAD":e.props.incomingRemoveFileAfterDownload(n.files);break;default:return null}})).listen(".workspace-team-channel",(function(n){e.props.incomingTeamChannel(n)})).listen(".announcement-notification",(function(n){switch(n.SOCKET_TYPE){case"ANNOUNCEMENT_UPDATED":e.props.incomingUpdatedAnnouncement(n);break;case"ANNOUNCEMENT_CREATED":e.props.incomingCreatedAnnouncement(n);break;case"ANNOUNCEMENT_DELETED":e.props.incomingDeletedAnnouncement(n);break;default:return null}})).listen(".users-online-broadcast",(function(n){e.props.incomingOnlineUsers(n)})).listen(".user-updated",(function(n){switch(n.SOCKET_TYPE){case"ARCHIVED_ACCOUNT":var t={channel_ids:[].concat(Object(nn.a)(n.connected_data.user_removed_channel_ids),Object(nn.a)(n.connected_data.archived_channel_ids)),topic_ids:[].concat(Object(nn.a)(n.connected_data.user_removed_topic_ids),Object(nn.a)(n.connected_data.archived_topic_ids)),user:n.user};e.props.incomingArchivedUser(t),n.user.id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Bn.sessionService.deleteSession().then((function(){return Bn.sessionService.deleteUser()})));break;case"RESTORED_ACCOUNT":e.props.incomingUnarchivedUser(n);break;case"DEACTIVATE_ACCOUNT":e.props.incomingDeactivatedUser(n),n.user_id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),Bn.sessionService.deleteSession().then((function(){return Bn.sessionService.deleteUser()})));break;case"ACTIVATE_ACCOUNT":e.props.incomingActivatedUser(n);break;default:return null}})).listen(".updated-version",(function(n){var t=n.version,a=n.requirement,r=parseFloat(t.substr(2)),o=parseFloat(nt.a.version.substr(2));!Object($n.f)(window.location.hostname)&&"localhost"!==window.location.hostname&&r>o&&(e.props.setNewDriffData({requirement:a,showNewDriffBar:!0}),localStorage.setItem("site_ver",t))})).listen(".user-role-notification",(function(n){e.props.incomingUserRole(n),n.user_id===e.props.user.id&&e.props.getUser({id:e.props.user.id},(function(e,n){e||Bn.sessionService.saveUser(Object(ke.a)({},n.data))}))})).listen(".company-announcement",(function(n){e.props.updateCompanyPostAnnouncement(n)})).listen(".company-request-form-notification",(function(n){switch(n.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(n);break;default:return null}})).listen(".company-notification",(function(n){switch(n.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(n);break;default:return null}})).listen(".company-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(n);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(n);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(n);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(n);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(n);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(n);break;case"FILE_DELETE":e.props.incomingCompanyRemovedFile(n);break;default:return null}})).listen(".company-folder-notification",(function(n){switch(n.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(n);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(n);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(n);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(n);break;default:return null}})).listen(".delete-workspace",(function(n){e.props.incomingDeletedWorkspaceFolder(n)})).listen(".workspace-role-notification",(function(n){e.props.incomingWorkspaceRole(n)})).listen(".google-attachment-notification",(function(n){switch(n.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===n.attachment_type?e.props.incomingGoogleFile(n):"GOOGLE_DRIVE_FOLDER"===n.attachment_type&&e.props.incomingGoogleFolder(n);break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(n);break;default:return null}})).listen(".external-user-notification",(function(n){e.props.incomingExternalUser(n)})).listen(".user-notification",(function(n){switch(n.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(n),n.id!==e.props.user.id&&n.user_id!==e.props.user.id||e.props.getUser({id:e.props.user.id},(function(e,n){e||Bn.sessionService.saveUser(Object(ke.a)({},n.data))}));break;default:return null}})).listen(".post-notification",(function(n){switch(n.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(n);break;default:return null}})).listen(".workspace-timeline-notification",(function(n){e.props.incomingTimeline(n)})).listen(".upload-bulk-workspace-files",(function(n){e.props.incomingFiles(n),n.channel_messages&&n.channel_messages.forEach((function(n){n.system_message.channel_id=n.channel.id,n.system_message.files=[],n.system_message.editable=!1,n.system_message.unfurls=[],n.system_message.reactions=[],n.system_message.is_deleted=!1,n.system_message.todo_reminder=null,n.system_message.is_read=!1,n.system_message.is_completed=!1,n.system_message.user=null,n.system_message.topic=n.topic,n.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(n.system_message)}))})).listen(".workspace-file-notification",(function(n){switch(n.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(n);break;case"FILE_UPDATE":e.props.incomingFile(n);break;case"FILE_MOVE":e.props.incomingMovedFile(n);break;case"FILE_TRASH":e.props.incomingDeletedFile(n);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(n);break;case"FILE_DELETE":e.props.incomingRemovedFile(n);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(n);break;default:return null}})).listen(".new-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}}))})):e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})),n.channel.code?e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):n.team_channel.code&&e.props.getChannel({code:n.team_channel.code},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(ke.a)(Object(ke.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".update-workspace",(function(n){if("WORKSPACE"===n.type&&e.props.workspaces[n.id]&&!1===e.props.workspaces[n.id].is_shared&&n.is_shared&&e.props.transferChannelMessages({channel:n.channel,team_channel:n.team_channel,topic_id:n.id}),e.props.incomingUpdatedWorkspaceFolder(Object(ke.a)(Object(ke.a)({},n),{},{is_shared:n.is_shared,channel:n.channel?Object(ke.a)({},n.channel):{id:0,code:null,icon_link:null}})),"WORKSPACE"===n.type){if(e.props.getAllWorkspaceFolders(),n.new_member_ids.length>0)n.new_member_ids.some((function(n){return n===e.props.user.id}))&&(0===n.workspace_id||e.props.folders.hasOwnProperty(n.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}):e.props.getWorkspaceFolder({folder_id:n.workspace_id},(function(t,a){t||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}))})));n.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&"external"===e.props.user.type&&1!==n.private&&n.remove_member_ids.some((function(n){return n===e.props.user.id}))&&e.props.history.push("/workspace/search")}if(e.props.activeTopic&&e.props.activeTopic.id===n.id&&"WORKSPACE"===n.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var t=e.props.location.pathname;t=t.split("/")[2],0===n.workspace_id?0!==n.original_workspace_id&&e.props.history.push("/workspace/".concat(t,"/").concat(n.id,"/").concat(Object(d.h)(n.name))):n.original_workspace_id!==n.workspace_id&&e.props.history.push("/workspace/".concat(t,"/").concat(n.workspace_id,"/").concat(Object(d.h)(n.current_workspace_folder_name),"/").concat(n.id,"/").concat(Object(d.h)(n.name)))}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.User.").concat(this.props.user.id)).listen(".zoom-system-message-notification",(function(n){if(console.log(n,"zoom meeting message"),n.hasOwnProperty("system_message")){var t=JSON.parse(n.system_message.replace("ZOOM_MEETING::","")),a=Math.floor(Date.now()/1e3),r={message:n.system_message,body:n.system_message,mention_ids:[],user:null,original_body:n.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:a},updated_at:{timestamp:a},channel_id:t.channel_id,reactions:[],id:n.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(a,"YYYY-MM-DD")};e.props.incomingZoomCreate(Object(ke.a)(Object(ke.a)({},n),{},{chat:r,channel_id:t.channel_id}))}})).listen(".left-meeting-notification",(function(n){console.log(n,"left meeting");var t=Math.floor(Date.now()/1e3),a={message:n.system_message,body:n.system_message,mention_ids:[],user:null,original_body:n.system_message,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:t},updated_at:{timestamp:t},channel_id:n.channel_id,reactions:[],id:n.chat_id,reference_id:null,quote:null,unfurls:[],g_date:e.props.localizeDate(t,"YYYY-MM-DD")};e.props.incomingZoomUserLeft(Object(ke.a)(Object(ke.a)({},n),{},{chat:a}))})).listen(".create-meeting-notification",(function(n){if(e.props.user.id!==n.host.id){var t=document.getElementById("meetingSDKElement").firstChild;t&&t.classList.contains("react-draggable")?setTimeout((function(){e.props.addToModals(Object(ke.a)(Object(ke.a)({},n),{},{type:"zoom_invite",hideJoin:!0})),e.props.incomingZoomData(Object(ke.a)(Object(ke.a)({},n.zoom_data.data),{},{channel_id:n.channel_id}))}),2e3):setTimeout((function(){e.props.addToModals(Object(ke.a)(Object(ke.a)({},n),{},{type:"zoom_invite",hideJoin:!1})),e.props.incomingZoomData(Object(ke.a)(Object(ke.a)({},n.zoom_data.data),{},{channel_id:n.channel_id}))}),2e3)}})).listen(".workspace-active",(function(n){e.props.incomingWorkpaceNotificationStatus(n)})).listen(".create-drive-link",(function(n){e.props.incomingDriveLink(n)})).listen(".remove-drive-link",(function(n){e.props.incomingDeletedDriveLink(n)})).listen(".update-drive-link",(function(n){e.props.incomingUpdatedDriveLink(n)})).listen(".favourite-workspace-notification",(function(n){e.props.incomingFavouriteWorkspace(n)})).listen(".post-read-require",(function(n){e.props.incomingMarkAsRead(n)})).listen(".new-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}}))})):e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})),n.channel.code?e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):n.team_channel.code&&e.props.getChannel({code:n.team_channel.code},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(ke.a)(Object(ke.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".new-lock-workspace",(function(n){("WORKSPACE"!==n.type||n.members.some((function(n){return n.id===e.props.user.id})))&&(void 0!==n.topic?(null!==n.workspace?e.props.folders.hasOwnProperty(n.workspace.id)?e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})):e.props.getWorkspaceFolder({folder_id:n.workspace.id},(function(t,a){t||e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}}))})):e.props.incomingWorkspace(Object(ke.a)(Object(ke.a)({},n),{},{channel:{id:n.channel.id?n.channel.id:0,code:n.channel.code?n.channel.code:null}})),n.channel.code?e.props.getChannel({code:n.channel.code},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}})):n.team_channel.code&&e.props.getChannel({code:n.team_channel.code},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(a)}}))):e.props.incomingWorkspaceFolder(Object(ke.a)(Object(ke.a)({},n.workspace),{},{key_id:n.key_id,type:n.type})))})).listen(".update-lock-workspace",(function(n){var t=[];if("WORKSPACE"===n.type&&e.props.workspaces[n.id]&&!1===e.props.workspaces[n.id].is_shared&&n.is_shared&&e.props.transferChannelMessages({channel:n.channel,team_channel:n.team_channel,topic_id:n.id}),"WORKSPACE"===n.type&&(t=n.members.map((function(e){return e.member_ids?e.members:e})).flat()),e.props.incomingUpdatedWorkspaceFolder(Object(ke.a)(Object(ke.a)({},n),{},{is_shared:n.is_shared,channel:n.channel?Object(ke.a)({},n.channel):{id:0,code:null,icon_link:null}})),"WORKSPACE"===n.type){if(e.props.getAllWorkspaceFolders(),n.new_member_ids.length>0)n.new_member_ids.some((function(n){return n===e.props.user.id}))&&(0===n.workspace_id||e.props.folders.hasOwnProperty(n.workspace_id)?"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}):e.props.getWorkspaceFolder({folder_id:n.workspace_id},(function(t,a){t||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.id}):e.props.getWorkspace({topic_id:n.id}))})));n.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&n.remove_member_ids.some((function(n){return n===e.props.user.id}))&&!t.some((function(n){return n.id===e.props.user.id}))&&e.props.history.push("/workspace/search")}if(e.props.activeTopic&&e.props.activeTopic.id===n.id&&"WORKSPACE"===n.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var a=e.props.location.pathname;a=a.split("/")[2],0===n.workspace_id?0!==n.original_workspace_id&&e.props.history.push("/workspace/".concat(a,"/").concat(n.id,"/").concat(Object(d.h)(n.name))):n.original_workspace_id!==n.workspace_id&&(n.current_workspace_folder_name?e.props.history.push("/workspace/".concat(a,"/").concat(n.workspace_id,"/").concat(Object(d.h)(n.current_workspace_folder_name),"/").concat(n.id,"/").concat(Object(d.h)(n.name))):e.props.history.push("/workspace/".concat(a,"/").concat(n.id,"/").concat(Object(d.h)(n.name))))}})).listen(".users-online",(function(n){e.props.currentOnlineUsers(n.current_users_online.map((function(e){return Object(ke.a)(Object(ke.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(n){var t={post_id:n.post_id,viewer:n.user};e.props.incomingPostViewer(t)})).listen(".updated-post-visitors",(function(e){})).listen(".move-private-topic-workspace",(function(n){e.props.incomingMovedTopic(n)})).listen(".update-channel-name",(function(n){var t=Object(ke.a)(Object(ke.a)({},n),{},{message:Object(ke.a)(Object(ke.a)({},n.message),{},{g_date:e.props.localizeDate(n.message.created_at.timestamp,"YYYY-MM-DD"),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(t)})).listen(".member-update-timestamp",(function(n){e.props.setMemberTimestamp(n)})).listen(".new-added-member-chat",(function(n){if(n.id){var t=JSON.parse(n.body.replace("CHANNEL_UPDATE::","")),a=Object(ke.a)(Object(ke.a)({},n),{},{is_deleted:!1,reactions:[],last_reply:null,body:n.body,created_at:n.created_at,updated_at:n.created_at,files:[],id:n.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:n.channel_id,g_date:e.props.localizeDate(n.created_at.timestamp,"YYYY-MM-DD"),code:n.code}),r={users:Object.values(e.props.users).filter((function(e){return t.added_members.some((function(n){return n===e.id}))})).map((function(e){return Object(ke.a)(Object(ke.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:n.channel_id,data:n,message:a};e.props.channels.hasOwnProperty(n.channel_id)||t.author.id===e.props.user.id?e.props.joinWorkspaceReducer(r):(e.props.getChannel({code:n.channel_code},(function(n,t){if(!n){var a=Object(ke.a)(Object(ke.a)({},t.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===t.data.is_archived,isFetching:!1});e.props.addToChannels(a)}})),n.workspace_data&&(n.workspace_data.workspace&&!e.props.folders.hasOwnProperty(n.workspace_data.workspace.id)?e.props.getWorkspaceFolder({folder_id:n.workspace_data.workspace.id},(function(t,a){t||("external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.workspace_data.topic.id}):e.props.getWorkspace({topic_id:n.workspace_data.topic.id}))})):"external"===e.props.user.type?e.props.getWorkspaceAndSetToFavorites({topic_id:n.workspace_data.topic.id}):e.props.getWorkspace({topic_id:n.workspace_data.topic.id})))}})).listen(".archived-chat-channel",(function(n){n.channel_data.topic_detail?(n.channel_data.timeline&&e.props.incomingTimeline({timeline_data:n.channel_data.timeline,workspace_data:{topic_id:n.channel_data.topic_detail.id}}),"UNARCHIVED"===n.channel_data.status?e.props.incomingUnArchivedWorkspaceChannel(n.channel_data):e.props.incomingArchivedWorkspaceChannel(n.channel_data)):e.props.incomingArchivedChannel(n.channel_data)})).listen(".new-chat-channel",(function(n){n.channel_data.creator_by.id!==e.props.user.id&&e.props.getChannel({code:n.channel_data.code},(function(t,a){if(!t){var r=Object(ke.a)(Object(ke.a)({},a.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1,creator:n.channel_data.creator_by});e.props.addToChannels(r)}}))})).listen(".chat-message-react",(function(n){e.props.incomingChatMessageReaction(Object(ke.a)(Object(ke.a)({},n),{},{user_name:n.name}))})).listen(".updated-notification-counter",(function(n){"CHAT"===n.entity_group_type&&(Object.values(e.props.workspaces).find((function(e){return e.is_favourite&&(e.channel.id===parseInt(n.entity_id)||e.team_channel&&e.team_channel.id===parseInt(n.entity_id))}))&&e.props.getFavoriteWorkspaceCounters());e.props.setUnreadNotificationCounterEntries(n)}))}},{key:"componentDidUpdate",value:function(e,n){var t=this;this.props.useDriff.updateFaviconState(0!==Object.keys(this.props.unreadCounter).filter((function(e){return"chat_reminder_message"!==e})).reduce((function(e,n){return e+=t.props.unreadCounter[n]}),0)||0!==this.props.todos.count.overdue)}},{key:"render",value:function(){return null}}]),t}(r.Component);var ot=Object(i.b)((function(e){var n=e.session.user,t=e.settings.userSettings,a=e.chat,r=a.channels,o=a.selectedChannel,i=a.isLastChatVisible,c=a.lastReceivedMessage,s=e.workspaces,l=s.workspaces,d=s.workspacePosts,m=s.folders,u=s.activeTopic,p=s.workspacesLoaded,f=s.postComments,b=e.global,h=b.unreadCounter,E=b.todos,g=b.recipients,v=b.isIdle,O=b.isBrowserActive,_=e.users,w=_.mentions;return{user:n,users:_.users,settings:t,channels:r,selectedChannel:o,workspacePosts:d,folders:m,mentions:w,activeTopic:u,workspacesLoaded:p,workspaces:l,isLastChatVisible:i,lastReceivedMessage:c,unreadCounter:h,todos:E,recipients:g,postComments:f,isIdle:v,isBrowserActive:O,posts:e.posts.companyPosts.posts}}),(function(e){return{addToChannels:Object(zn.bindActionCreators)(ce.i,e),addUserToReducers:Object(zn.bindActionCreators)(B.b,e),getChannel:Object(zn.bindActionCreators)(ce.x,e),setBrowserTabStatus:Object(zn.bindActionCreators)(B.X,e),getOnlineUsers:Object(zn.bindActionCreators)(Jn.m,e),getConnectedSlugs:Object(zn.bindActionCreators)(B.o,e),getUser:Object(zn.bindActionCreators)(Jn.p,e),setMemberTimestamp:Object(zn.bindActionCreators)(ce.Vb,e),setAllMessagesAsRead:Object(zn.bindActionCreators)(ce.Kb,e),incomingChatMessage:Object(zn.bindActionCreators)(ce.R,e),incomingChatMessageFromOthers:Object(zn.bindActionCreators)(ce.S,e),addFilesToChannelAction:Object(zn.bindActionCreators)(qn.c,e),deleteFilesFromChannelAction:Object(zn.bindActionCreators)(qn.l,e),generateUnfurl:Object(zn.bindActionCreators)(B.l,e),generateUnfurlReducer:Object(zn.bindActionCreators)(B.m,e),setChannel:Object(zn.bindActionCreators)(ce.Lb,e),incomingArchivedChannel:Object(zn.bindActionCreators)(ce.Q,e),incomingChatMessageReaction:Object(zn.bindActionCreators)(ce.T,e),incomingUpdatedChatMessage:Object(zn.bindActionCreators)(ce.db,e),incomingDeletedChatMessage:Object(zn.bindActionCreators)(ce.V,e),incomingUpdatedChannelDetail:Object(zn.bindActionCreators)(ce.cb,e),getChannelMembers:Object(zn.bindActionCreators)(ce.B,e),updateChannelMembersTitle:Object(zn.bindActionCreators)(ce.fc,e),incomingWorkspaceFolder:Object(zn.bindActionCreators)(Xn.M,e),incomingWorkspace:Object(zn.bindActionCreators)(Xn.L,e),incomingUpdatedWorkspaceFolder:Object(zn.bindActionCreators)(Xn.J,e),incomingMovedTopic:Object(zn.bindActionCreators)(Xn.F,e),setGeneralChat:Object(zn.bindActionCreators)(B.Z,e),setUnreadNotificationCounterEntries:Object(zn.bindActionCreators)(B.eb,e),incomingPost:Object(zn.bindActionCreators)(Zn.Y,e),incomingPostClap:Object(zn.bindActionCreators)(Zn.ab,e),incomingDeletedPost:Object(zn.bindActionCreators)(Zn.T,e),incomingComment:Object(zn.bindActionCreators)(Zn.P,e),incomingCommentClap:Object(zn.bindActionCreators)(Zn.R,e),incomingFolder:Object(zn.bindActionCreators)(qn.sb,e),incomingDeletedFolder:Object(zn.bindActionCreators)(qn.jb,e),incomingFile:Object(zn.bindActionCreators)(qn.ob,e),incomingFiles:Object(zn.bindActionCreators)(qn.rb,e),incomingDeletedFile:Object(zn.bindActionCreators)(qn.hb,e),incomingMovedFile:Object(zn.bindActionCreators)(qn.wb,e),incomingRestoreFile:Object(zn.bindActionCreators)(qn.Db,e),incomingRestoreFolder:Object(zn.bindActionCreators)(qn.Eb,e),incomingEmptyTrash:Object(zn.bindActionCreators)(qn.nb,e),incomingCompanyFolder:Object(zn.bindActionCreators)(qn.Z,e),incomingCompanyUpdatedFolder:Object(zn.bindActionCreators)(qn.fb,e),incomingCompanyDeletedFolder:Object(zn.bindActionCreators)(qn.V,e),incomingCompanyFile:Object(zn.bindActionCreators)(qn.X,e),incomingCompanyFiles:Object(zn.bindActionCreators)(qn.Y,e),incomingCompanyDeletedFile:Object(zn.bindActionCreators)(qn.T,e),incomingCompanyMovedFile:Object(zn.bindActionCreators)(qn.bb,e),incomingCompanyEmptyTrash:Object(zn.bindActionCreators)(qn.W,e),incomingCompanyRemovedFile:Object(zn.bindActionCreators)(qn.zb,e),incomingCompanyMoveFile:Object(zn.bindActionCreators)(qn.ab,e),incomingCompanyRestoreFile:Object(zn.bindActionCreators)(qn.cb,e),incomingCompanyRestoreFolder:Object(zn.bindActionCreators)(qn.db,e),incomingCompanyRemovedFolder:Object(zn.bindActionCreators)(qn.Ab,e),incomingCompanyDeletedFiles:Object(zn.bindActionCreators)(qn.U,e),incomingCompanyUpdatedFile:Object(zn.bindActionCreators)(qn.eb,e),incomingPostViewer:Object(zn.bindActionCreators)(Zn.gb,e),incomingUpdatedPost:Object(zn.bindActionCreators)(Zn.kb,e),incomingTimeline:Object(zn.bindActionCreators)(Xn.H,e),incomingDeletedPostFile:Object(zn.bindActionCreators)(qn.lb,e),incomingDeletedComment:Object(zn.bindActionCreators)(Zn.S,e),incomingUpdatedUser:Object(zn.bindActionCreators)(Jn.G,e),unreadChannelReducer:Object(zn.bindActionCreators)(ce.ec,e),incomingRemovedFile:Object(zn.bindActionCreators)(qn.Bb,e),incomingRemovedFolder:Object(zn.bindActionCreators)(qn.Cb,e),getWorkspace:Object(zn.bindActionCreators)(Xn.u,e),setSelectedChannel:Object(zn.bindActionCreators)(ce.Xb,e),incomingArchivedWorkspaceChannel:Object(zn.bindActionCreators)(Xn.C,e),incomingUnArchivedWorkspaceChannel:Object(zn.bindActionCreators)(Xn.I,e),updateWorkspaceCounter:Object(zn.bindActionCreators)(Xn.bb,e),fetchPost:Object(zn.bindActionCreators)(Zn.u,e),incomingDeletedFiles:Object(zn.bindActionCreators)(qn.ib,e),incomingGoogleFile:Object(zn.bindActionCreators)(qn.ub,e),incomingGoogleFolder:Object(zn.bindActionCreators)(qn.vb,e),joinWorkspaceReducer:Object(zn.bindActionCreators)(Xn.P,e),incomingDeletedGoogleFile:Object(zn.bindActionCreators)(qn.kb,e),incomingWorkspaceRole:Object(zn.bindActionCreators)(Xn.N,e),incomingDeletedWorkspaceFolder:Object(zn.bindActionCreators)(Xn.D,e),incomingExternalUser:Object(zn.bindActionCreators)(Jn.y,e),getWorkspaceFolder:Object(zn.bindActionCreators)(Xn.x,e),incomingUpdateCompanyName:Object(zn.bindActionCreators)(Qn.d,e),incomingInternalUser:Object(zn.bindActionCreators)(Jn.z,e),incomingToDo:Object(zn.bindActionCreators)(B.G,e),incomingUpdateToDo:Object(zn.bindActionCreators)(B.H,e),incomingDoneToDo:Object(zn.bindActionCreators)(B.D,e),incomingRemoveToDo:Object(zn.bindActionCreators)(B.F,e),incomingPostMarkDone:Object(zn.bindActionCreators)(Zn.db,e),incomingFavouriteItem:Object(zn.bindActionCreators)(B.E,e),incomingReadUnreadReducer:Object(zn.bindActionCreators)(Zn.ib,e),updateCompanyPostAnnouncement:Object(zn.bindActionCreators)(Qn.i,e),incomingUserRole:Object(zn.bindActionCreators)(Jn.H,e),deletePostNotification:Object(zn.bindActionCreators)(ce.v,e),incomingPostNotificationMessage:Object(zn.bindActionCreators)(ce.bb,e),incomingMarkAsRead:Object(zn.bindActionCreators)(Zn.X,e),addToModals:Object(zn.bindActionCreators)(B.a,e),refetchMessages:Object(zn.bindActionCreators)(B.R,e),refetchOtherMessages:Object(zn.bindActionCreators)(B.S,e),getChannelDetail:Object(zn.bindActionCreators)(ce.y,e),incomingReminderNotification:Object(zn.bindActionCreators)(et.f,e),getLatestReply:Object(zn.bindActionCreators)(B.r,e),incomingPostRecipients:Object(zn.bindActionCreators)(Zn.eb,e),refetchPosts:Object(zn.bindActionCreators)(Zn.Kb,e),refetchPostComments:Object(zn.bindActionCreators)(Zn.Jb,e),getUnreadNotificationCounterEntries:Object(zn.bindActionCreators)(B.A,e),incomingImportantComment:Object(zn.bindActionCreators)(Zn.V,e),incomingImportantChat:Object(zn.bindActionCreators)(ce.ab,e),incomingReadSelectedPosts:Object(zn.bindActionCreators)(Zn.hb,e),incomingArchivedSelectedPosts:Object(zn.bindActionCreators)(Zn.N,e),getUnreadWorkspacePostEntries:Object(zn.bindActionCreators)(Xn.t,e),updateWorkspacePostCount:Object(zn.bindActionCreators)(Xn.cb,e),incomingPostApproval:Object(zn.bindActionCreators)(Zn.Z,e),incomingChatStar:Object(zn.bindActionCreators)(ce.U,e),incomingCommentApproval:Object(zn.bindActionCreators)(Zn.Q,e),incomingArchivedUser:Object(zn.bindActionCreators)(Jn.u,e),incomingUnarchivedUser:Object(zn.bindActionCreators)(Jn.E,e),incomingDeactivatedUser:Object(zn.bindActionCreators)(Jn.v,e),incomingActivatedUser:Object(zn.bindActionCreators)(Jn.t,e),incomingHuddleBot:Object(zn.bindActionCreators)(ce.Y,e),incomingUpdatedHuddleBot:Object(zn.bindActionCreators)(ce.eb,e),incomingDeletedHuddleBot:Object(zn.bindActionCreators)(ce.W,e),incomingHuddleAnswers:Object(zn.bindActionCreators)(ce.X,e),clearUnpublishedAnswer:Object(zn.bindActionCreators)(ce.q,e),incomingClosePost:Object(zn.bindActionCreators)(Zn.O,e),incomingHuddleSkip:Object(zn.bindActionCreators)(ce.Z,e),incomingOnlineUsers:Object(zn.bindActionCreators)(Jn.A,e),incomingUpdatedAnnouncement:Object(zn.bindActionCreators)(B.I,e),incomingCreatedAnnouncement:Object(zn.bindActionCreators)(B.B,e),incomingDeletedAnnouncement:Object(zn.bindActionCreators)(B.C,e),getPostList:Object(zn.bindActionCreators)(Zn.D,e),incomingPostListConnect:Object(zn.bindActionCreators)(Zn.bb,e),incomingPostListDisconnect:Object(zn.bindActionCreators)(Zn.cb,e),getUnarchivePost:Object(zn.bindActionCreators)(Zn.J,e),incomingPostRequired:Object(zn.bindActionCreators)(Zn.fb,e),incomingTeamChannel:Object(zn.bindActionCreators)(Xn.G,e),incomingRemoveFileAfterDownload:Object(zn.bindActionCreators)(qn.xb,e),incomingRemoveFileAutomatically:Object(zn.bindActionCreators)(qn.yb,e),incomingFavouriteWorkspace:Object(zn.bindActionCreators)(Xn.E,e),getFavoriteWorkspaceCounters:Object(zn.bindActionCreators)(Xn.p,e),getToDoDetail:Object(zn.bindActionCreators)(B.x,e),setActiveTopic:Object(zn.bindActionCreators)(Xn.U,e),incomingDeletedUser:Object(zn.bindActionCreators)(Jn.x,e),incomingFollowPost:Object(zn.bindActionCreators)(Zn.U,e),incomingUnfollowPost:Object(zn.bindActionCreators)(Zn.jb,e),incomingAcceptedInternal:Object(zn.bindActionCreators)(Jn.s,e),incomingZoomData:Object(zn.bindActionCreators)(B.K,e),transferChannelMessages:Object(zn.bindActionCreators)(ce.dc,e),getNotifications:Object(zn.bindActionCreators)(et.d,e),incomingSnoozedNotification:Object(zn.bindActionCreators)(et.h,e),incomingSnoozedAllNotification:Object(zn.bindActionCreators)(et.g,e),removeNotificationReducer:Object(zn.bindActionCreators)(et.n,e),setNewDriffData:Object(zn.bindActionCreators)(B.cb,e),incomingReadNotifications:Object(zn.bindActionCreators)(et.e,e),incomingUpdatedSubscription:Object(zn.bindActionCreators)(at.o,e),incomingUpdatedCompanyLogo:Object(zn.bindActionCreators)(at.n,e),getWorkspaceAndSetToFavorites:Object(zn.bindActionCreators)(Xn.v,e),incomingDriveLink:Object(zn.bindActionCreators)(qn.mb,e),incomingDeletedDriveLink:Object(zn.bindActionCreators)(qn.gb,e),incomingUpdatedDriveLink:Object(zn.bindActionCreators)(qn.Fb,e),incomingTeam:Object(zn.bindActionCreators)(Jn.C,e),incomingUpdatedTeam:Object(zn.bindActionCreators)(Jn.F,e),incomingDeletedTeam:Object(zn.bindActionCreators)(Jn.w,e),incomingTeamMember:Object(zn.bindActionCreators)(Jn.D,e),incomingRemovedTeamMember:Object(zn.bindActionCreators)(Jn.B,e),getAllWorkspaceFolders:Object(zn.bindActionCreators)(Xn.m,e),removeWorkspaceChannel:Object(zn.bindActionCreators)(ce.Eb,e),removeWorkspaceChannelMembers:Object(zn.bindActionCreators)(ce.Fb,e),incomingWorkpaceNotificationStatus:Object(zn.bindActionCreators)(Xn.K,e),incomingZoomCreate:Object(zn.bindActionCreators)(B.J,e),incomingZoomUserLeft:Object(zn.bindActionCreators)(B.M,e),incomingZoomEnded:Object(zn.bindActionCreators)(B.L,e),incomingWIP:Object(zn.bindActionCreators)(tt.v,e),incomingWIPSubject:Object(zn.bindActionCreators)(tt.y,e),incomingWIPComment:Object(zn.bindActionCreators)(tt.w,e),incomingWIPFileComment:Object(zn.bindActionCreators)(tt.x,e),incomingReplacedWIPFile:Object(zn.bindActionCreators)(tt.s,e),incomingNewFileVersion:Object(zn.bindActionCreators)(tt.q,e),incomingUpdatedWIPFileComment:Object(zn.bindActionCreators)(tt.u,e),incomingClosedFileComments:Object(zn.bindActionCreators)(tt.p,e),incomingApprovedFileVersion:Object(zn.bindActionCreators)(tt.o,e),incomingUpdatedWIPComment:Object(zn.bindActionCreators)(tt.t,e),incomingProposalClap:Object(zn.bindActionCreators)(tt.r,e),incomingPostAccess:Object(zn.bindActionCreators)(at.m,e),getPostAccess:Object(zn.bindActionCreators)(at.i,e),updateUnreadCounter:Object(zn.bindActionCreators)(B.lb,e)}}))(Object(c.k)(rt)),it=t(33),ct=t(54),st=t.n(ct),lt=t(78),dt="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function mt(){return(mt=Object(lt.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return navigator.serviceWorker.register("/sw.js")}function pt(){return(pt=Object(lt.a)(st.a.mark((function e(){var n;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return n=e.sent,e.next=5,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dt});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft="serviceWorker"in navigator&&"PushManager"in window;function bt(){var e=Object(r.useState)("undefined"!==typeof Notification&&Notification.permission),n=Object(H.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(null),c=Object(H.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)(null),m=Object(H.a)(d,2),u=m[0],p=m[1],f=Object(r.useState)(null),b=Object(H.a)(f,2),h=b[0],E=b[1],g=Object(r.useState)(null),v=Object(H.a)(g,2),O=v[0],_=v[1],w=Object(r.useState)(null),T=Object(H.a)(w,2),N=T[0],k=T[1],y=Object(r.useState)(localStorage.getItem("remindNotification")),A=Object(H.a)(y,2),j=A[0],C=A[1],x=Object(r.useState)(!1),S=Object(H.a)(x,2),I=S[0],R=S[1],P=Object(i.c)(),D=Object(i.d)((function(e){return e.notifications.hasSubscribed})),L=function(){E(!1),_(!0),function(){return pt.apply(this,arguments)}().then((function(e){l(e),P(Object(B.hb)(e,(function(e,n){if(e)return P(Object(et.o)(!1)),_(!1),void E(e);_(!1),p(n.data.id)})))})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),E(e),P(Object(et.o)(!1))}))};Object(r.useEffect)((function(){ft&&(E(!1),ut().then((function(){})))}),[]),Object(r.useEffect)((function(){R(!0),E(!1),k(!0),function(){var e=Object(lt.a)(st.a.mark((function e(){var n;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:(n=e.sent)?P(Object(B.t)({endpoint:"".concat(n.endpoint)},(function(e,t){k(!1),e&&E(e),t.data.data?(l(n),P(Object(et.o)(!0))):P(Object(et.o)(null))}))):(console.log("no subscription"),P(Object(et.o)(null)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(r.useEffect)((function(){null===s&&null===O&&!1===N&&L()}),[s,O,N,P]),Object(r.useEffect)((function(){ft&&null===D&&ut().then((function(){"granted"===t&&(console.log("subscribe"),P(Object(et.o)(!0)),L())}))}),[D,t]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),C(e)},onClickAskUserPermission:function(){E(!1),function(){return mt.apply(this,arguments)}().then((function(e){a(e),"granted"!==e?(E({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),l(!1)):L()}))},onClickSubscribeToPushNotification:L,onClickSendSubscriptionToPushServer:function(){E(!1),P(Object(B.hb)(s,(function(e,n){e?E(e):p(n.data.id)})))},pushServerSubscriptionId:u,onClickSendNotification:function(){E(!1),P(Object(B.t)({sub_id:u},(function(e,n){e&&E(e)})))},userConsent:t,pushNotificationSupported:ft,userSubscription:s,error:h,showNotificationBar:"default"===t&&null===s&&(null===j||j<Math.floor(Date.now()/1e3)),mounted:I}}function ht(){var e=Object(a.a)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]);return ht=function(){return e},e}function Et(){var e=Object(a.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  background-color: ",";\n  .feather {\n    cursor: pointer;\n  }\n"]);return Et=function(){return e},e}var gt=s.b.div(Et(),(function(e){return e.theme.colors.primary})),vt=s.b.span(ht()),Ot=function(e){var n=e.onClickAskUserPermission,t=e.onClickRemindLater;return o.a.createElement(gt,null,o.a.createElement("p",null,"Please enable notification to get real-time updates. ",o.a.createElement(vt,{onClick:n},"Enable notification")),o.a.createElement(W.t,{icon:"x",onClick:t}))},_t=t(807);function wt(){var e=Object(a.a)(["\n  padding: 10px;\n  width: 100%;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  text-align: center;\n  justify-content: center;\n  background-color: ",";\n  .feather {\n    cursor: pointer;\n  }\n"]);return wt=function(){return e},e}var Tt=s.b.div(wt(),(function(e){return e.theme.colors.fourth})),Nt=function(e){var n=Object(i.d)((function(e){return e.admin.notificationsLoaded})),t=Object(i.d)((function(e){return e.admin.notifications})),a=Object(i.d)((function(e){return e.session.user})),c=Object(l.gb)()._t,s={email:c("EMAIL","Email"),webPush:c("WEBPUSH","Web push"),apn:c("APN_IOS","Apple push notification"),notificationsOff:c("NOTIFICATIONS_ARE_OFF","notifications are off")};if(Object(r.useEffect)((function(){if(n&&Object.values(t).some((function(e){return!1===e}))&&a&&!a.hasOwnProperty("showNotificationSettingsBar"))Bn.sessionService.saveUser(Object(ke.a)(Object(ke.a)({},a),{},{showNotificationSettingsBar:!0}));else if(n&&Object.values(t).some((function(e){return!1===e}))&&a&&a.hasOwnProperty("showNotificationSettingsBar")&&a.showNotificationSettingsBar){var e=document.getElementById("main"),r=document.getElementById("main-top-header"),o=document.getElementById("main-sidebar");e.classList.add("top-40"),r.classList.add("top-40"),o.classList.add("top-40")}}),[n,t,a]),n&&Object.values(t).some((function(e){return!1===e}))&&a&&a.hasOwnProperty("showNotificationSettingsBar")&&a.showNotificationSettingsBar){var d=Object.keys(t).filter((function(e){return!1===t[e]})).map((function(e){return"email"===e?s.email:"webpush"===e?s.webPush:"apn"===e?s.apn:void 0}));return o.a.createElement(Tt,null,o.a.createElement("p",null,d.join(", ")," ",s.notificationsOff),o.a.createElement(W.t,{icon:"x",className:"ml-3",onClick:function(){Bn.sessionService.saveUser(Object(ke.a)(Object(ke.a)({},a),{},{showNotificationSettingsBar:!1}));var e=document.getElementById("main"),n=document.getElementById("main-top-header"),t=document.getElementById("main-sidebar");e.classList.remove("top-40"),n.classList.remove("top-40"),t.classList.remove("top-40")}}))}return null};function kt(){var e=Object(a.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"]);return kt=function(){return e},e}function yt(){var e=Object(a.a)(["\n  &.top-40 .main-content {\n    margin-top: 40px;\n  }\n"]);return yt=function(){return e},e}var At=s.b.div(yt()),jt=s.b.audio(kt());n.default=o.a.memo((function(e){Object(l.u)(e),Object(l.mb)(),Object(l.W)(),Object(l.B)();var n=bt(),a=n.mounted,s=n.showNotificationBar,d=n.onClickAskUserPermission,m=n.onClickRemindLater,u=Object(c.j)().path,p=Object(l.ib)().displayWelcomeBanner,f=Object(l.o)(),b=Object(l.gb)()._t,h={huddlePublished:b("HUDDLE.HUDDLE_PUBLISHED","Huddle published"),likedYourPost:b("TOAST.LIKED_YOUR_POST","liked your post"),likedYourComment:b("TOAST.LIKED_YOUR_COMMENT","liked your comment")},E=Object(i.d)((function(e){return e.admin.subscriptions})),g=Object(i.d)((function(e){return e.session.user})),v=Object(l.bb)(),O=Object(l.ab)().localizeDate,_=Object(l.xb)(),w={audio:Object(r.useRef)(null)},T=Object(i.c)(),N=Object(l.T)(),k=N.driffSettings.isCompSettingsLoaded,y=N.chatSettings.sound_enabled,A=N.generalSettings,j=A.notifications_on,x=A.notification_sound,S=Object(c.g)(),I="external"===g.type;Object(r.useEffect)((function(){if("/logout"===u){var e="".concat(Object(it.c)(),"/logged-out");window.location.href="".concat(Object(it.a)({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[u,T,S]),Object(r.useEffect)((function(){g.id&&k&&p()}),[g,k]),Object(r.useEffect)((function(){w.audio.current&&(w.audio.current.pause(),w.audio.current.load())}),[x]);return Object(_t.a)({timeout:6e4,onIdle:function(){T(Object(B.ab)(!0))},onActive:function(){T(Object(B.ab)(!1))},debounce:250}),o.a.createElement(o.a.Fragment,null,o.a.createElement(jt,{ref:w.audio,controls:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement("source",{src:t(861),type:"audio/ogg"}),o.a.createElement("source",{src:t(862),type:"audio/mpeg"}),o.a.createElement("source",{src:t(863),type:"audio/m4r"})),"Your browser does not support the audio element."),s&&a&&o.a.createElement(Ot,{onClickAskUserPermission:d,onClickRemindLater:m}),o.a.createElement(Nt,null),a&&o.a.createElement(L,{isExternal:I}),a&&o.a.createElement(At,{id:"main"},o.a.createElement(c.b,{render:function(e){return o.a.createElement(U,Object.assign({isExternal:I},e,{showNotificationBar:s}))},path:["/:page"]}),("/admin-settings"===u||E&&"canceled"!==E.status)&&o.a.createElement(c.d,null,o.a.createElement(c.b,{render:function(e){return o.a.createElement(R.b,Object.assign({isExternal:I},e))},path:["/workspace"]}),o.a.createElement(c.b,{render:function(e){return o.a.createElement(C,Object.assign({},e,{isExternal:I}))},path:["/:page"]})),E&&"canceled"===E.status&&"/admin-settings"!==u&&o.a.createElement(Nn,null),E&&"active"===E.status&&o.a.createElement(_n,null)),o.a.createElement(Ln,null),void 0!==g.id&&void 0!==window.Echo&&o.a.createElement(ot,{dictionary:h,useDriff:f,localizeDate:O,toaster:v,soundPlay:function(){if(y&&w.audio.current){var e=w.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){}))}},workspaceActions:_,notificationsOn:j}))}))}}]);