(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/text.bf6e5a52.svg"},127:function(e,t,a){e.exports=a.p+"static/media/arrow_down_r_secundary.ac4ec86d.svg"},128:function(e,t,a){e.exports=a.p+"static/media/white-arrow-right.56dfb481.svg"},161:function(e,t,a){e.exports=a.p+"static/media/gripp-logo.127a836d.svg"},162:function(e,t,a){e.exports=a.p+"static/media/driff-logo.cf17324f.svg"},164:function(e,t,a){e.exports=a.p+"static/media/active.31fee911.svg"},165:function(e,t,a){e.exports=a.p+"static/media/secundary.4f7f3ab6.svg"},195:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABkaSURBVHic7d3Nr213Xcfx7zn2Fou09N4YBAYkmmBpG8Nj5G9wQIo4Nk5wokBCNKZ/gIOGYEwAdSCJMQwNSOPAqSMTCCqGQHlINDKQtmq5fZDaS+lxcHt7n87Z37X3Xg/ftb6v1x+w1i/3JvfzvufsvdbJP378j88e+ewnYo2+/6OX4yOf+VY88/y1pY/Cwr73p78ev/TWe2e/79MPfnj2e3LT269+bfZ7PvP8tXjo01+f/b7086FfuT++8gePxgP33TP6tV964i/j9MoXvxTf+cMvjH7xOfzqO+6Lv/ujX1vkH34AmMrU4//SE1+M04gIEQAANcwx/hFxPQAiRAAALG2u8Y+4JQAiRAAALGXO8Y+4IwAiRAAAzG3u8Y84JwAiRAAAzGWJ8Y+4IAAiRAAATG2p8Y/YEQARIgAAprLk+EckARAhAgBgbEuPf8SAAIgQAQAwlgrjHzEwACJEAAAcq8r4R+wRABEiAAAOVWn8I/YMgAgRAAD7qjb+EQcEQIQIAIChKo5/xIEBECECACBTdfwjjgiACBEAABepPP4RRwZAhAgAgDtVH/+IEQIgQgQAwA1rGP+IkQIgQgQAwFrGP2LEAIgQAQD0tabxjxg5ACJEAAD9rG38IyYIgAgRAEAfaxz/iIkCIEIEALB9ax3/iAkDIEIEALBdax7/iIkDIEIEALA9ax//iBkCIEIEALAdWxj/iJkCIEIEALB+Wxn/iBkDIEIEALBeWxr/iJkDIEIEALA+Wxv/iAUCIEIEALAeWxz/iIUCIEIEAFDfVsc/YsEAiBABANS15fGPWDgAIkQAAPVsffwjCgRAhAgAoI4O4x9RJAAiRAAAy+sy/hGFAiBCBACwnE7jH1EsACJEAADz6zb+EQUDIEIEADCfjuMfUTQAIkQAANPrOv4RhQMgQgQAMJ3O4x9RPAAiRAAA4+s+/hErCIAIEQDAeIz/dasIgAgRAMDxjP9NqwmACBEAwOGM/+1WFQARIgCA/Rn/u60uACJEAADDGf/zrTIAIkQAADnjf7HVBkCECADgYsZ/t1UHQIQIAOBuxj93+trD7176DEcTAQDcYPxzlz70aJze9+XPhQhYlggAGIfxz1360KNx5Sufi9PL77wSImB5IgDgOMY/d2P8Tx54y/XPAIiAGkQAwGGMf+7SB2+Of8QtHwIUATWIAID9GP/cpQ8+Glf+9ub4R9zxLQARUIMIABjG+OfOG/+Ic74GKAJqEAEAuxn/3EXjH3HBcwBEQA0iAOB8xj+3a/wjdjwISATUIAIAbmf8c9n4RyRPAhQBNYgAgOuMf27I+EcMeBSwCKhBBADdGf/c0PGPGPguABFQgwgAujL+uX3GP2KPlwGJgBpEANCN8c/tO/4Re74NUATUIAKALox/7pDxjzjgdcAioAYRAGyd8c8dOv4RBwRAhAioQgQAW2X8c8eMf8SBARAhAqoQAcDWGP/cseMfcUQARIiAKkQAsBXGPzfG+EccGQARIqAKEQCsnfHPjTX+ESMEQIQIqEIEAGtl/HNjjn/ESAEQIQKqEAHA2hj/3NjjHzFiAESIgCpEALAWxj83xfhHjBwAESKgChEAVGf8c1ONf0TE6RNP/nD0i4qAGkQAUJXxz005/hGvB4AI2E0EAIzH+OemHv+I138FIAJyIgDgeMY/N8f4R9zyGQARkBMBAIcz/rm5xj/ijg8BioCcCADYn/HPzTn+Eed8C0AE5EQAwHDGP3fpA4/MOv4RF3wNUATkRABAzvjnLn3gkbjy1c/POv4RO54DIAJyIgDgYsY/t9T4RyQPAhIBOREAcDfjn1ty/CMGPAlQBOREAMBNxj+39PhHDHwUsAjIiQAA4z9EhfGP2ONdACIgJwKAzox/rsr4R+z5MiARkBMBQEfGP1dp/CMOeBugCMiJAKAT45+rNv4RB74OWATkRADQgfHPVRz/iAMDIEIEDCECgC0z/rmq4x9xRABEiIAhRACwRcY/V3n8I44MgAgRMIQIALbE+Oeqj3/ECAEQIQKGEAHAFhj/3KUPPBKXZ36xzyFGCYAIETCECADWzPjnboz/6VvvX/ooqdECIEIEDCECgDUy/rk1jX/EyAEQIQKGEAHAmhj/3NrGP2KCAIgQAUOIAGANjH9ujeMfMVEARIiAIUQAUJnxz611/CMmDIAIETCECAAqMv65NY//tVfPpg2ACBEwhAgAKjH+ubWP/+/8+VPTB0CECBhCBAAVGP/cFsb/77/53DwBECEChhABwJKMf24r4x8x8WcA7iQCciIAWILxz21p/CNmDoAIETCECADmZPxzl97/8KbGP2KBAIgQAUOIAGAOxj936f0Px+Wvfn5T4x+xUABEiIAhRAAwJeOf2+r4RywYABEiYAgRAEzB+Oe2PP4RCwdAhAgYQgQAYzL+ua2Pf0SBAIgQAUOIAGAMxj/XYfwjigRAhAgYQgQAxzD+uS7jH1EoACJEwBAiADiE8c91Gv+IYgEQIQKGEAHAPox/rtv4RxQMgAgRMIQIAIYw/rmO4x9RNAAiRMAQIgDYxfjnuo5/ROEAiBABQ4gA4DzGP9d5/COKB0CECBhCBAC3Mv657uMfsYIAiBABQ4gAIML4D2H8r1tFAESIgCFEAPRm/HPG/6bVBECECBhCBEBPxj9n/G+3qgCIEAFDiADoxfjnjP/dVhcAESJgCBEAPRj/nPE/3yoDIEIEDCECYNuMf874X2y1ARAhAoYQAbBNxj9n/HdbdQBEiIAhRABsi/HPGf/c6gMgQgQMIQJgG4x/zvgPs4kAiBABQ4gAWDfjnzP+w20mACJEwBAiANbJ+OeM/342FQARImAIEQDrYvxzxn9/mwuACBEwhAiAdTD+uUvve4/xP8AmAyBCBAwhAqA245+79L73xOUnv2D8D7DZAIgQAUOIAKjJ+OeM/3E2HQARImCILUTAm+/9uaWPAqMx/jnjf7zNB0CECBhi7RFw/30CgG0w/jnjP44WARAhAoZYcwTAFhj/nPEfT5sAiBABQ4gAWIbxzxn/cbUKgAgRMIQIgHkZ/5zxH1+7AIgQAUOIAJiH8c9d/56/8R9bywCIEAFDiACYlvHPvTH+Dxr/sbUNgAgRMIQIgGkY/5zxn1brAIgQAUOIABiX8c8Z/+m1D4AIETCECIBxGP+c8Z+HAHidCMiJADiO8c8Z//kIgFuIgJwIgMMY/5zxn5cAuIMIyIkA2I/xzxn/+QmAc4iAnAiAYYx/zvgvQwBcQATkRADsZvxzxn85AmAHEZATAXA+458z/ssSAAkRkBMBcDvjnzP+yxMAA4iAnAiA64x/zvjXIAAGEgE5EUB3xj9n/OsQAHsQATkRQFfGP2f8axEAexIBORFAN8Y/Z/zrEQAHEAE5EUAXxj9n/GsSAAcSATkRwNYZ/9yl9z5k/IsSAEcQATkRwFYZ/9yl9z4Ul5/8M+NflAA4kgjIiQC2xvjnjH99AmAEIiAnAtiKt953j/FPGP91EAAjEQE5EcAW/Py9p8Z/B+O/HgJgRCIgJwLgbsZ/ed3GP0IAjE4E5EQA3GT8l9dx/CMEwCREQE4EgPGvoOv4RwiAyYiAnAigM+O/vM7jHyEAJiUCciKAjoz/8rqPf4QAmJwIyIkAOjH+yzP+1wmAGYiAnAigA+O/PON/kwCYiQjIiQC2zPgvz/jfTgDMSATkRABbZPyXZ/zvJgBmJgJyIoAtMf7LM/7nEwALEAE5EcAWGP/lGf+LCYCFiICcCGDNjP/yjP9uAmBBIiAnAlgj4788458TAAsTATkRwJoY/+UZ/2EEQAEiICcCWAPjvzzjP5wAKEIE5EQAlRn/5Rn//QiAQkRATgRQkfFfnvHfnwAoRgTkRACVGP/lGf/DCICCREBOBFCB8V+e8T+cAChKBOREAEsy/ssz/scRAIWJgJwIYAnGf3nG/3gn3/uPZ8+WPgS7ve2Be+PkZPzrvvKTV+KFH10d/8IL+MVfflucnE7wh5R4+sEPz35Pbnr71a/Nf9Ozs3jt2W2MzsmD98fJm+5d+hgHufbqWfz4f3+69DFW7eTq1asCAA4kAJa1SADARvgVAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaOjku/HQ2dKHAADm5ScAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDJ1evXj1b+hCwVk8/+OGlj9Da269+bekjwGr5CQAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGjonmeev7b0GVbt8i9cinvvOVn6GAc5e+VanF19celjjOL0bVciTtb598C6nL12Fv/9788ufYxRPPCOB+NNb37T6Nc9O4t49gXbUt09D33660ufYbV+431X4q9/7+Glj3GQ166+GD9+7Pfjp//6vaWPcrS3PP7xeMvjv7v0MWji5PQk/usv/iaufPFLSx/laP/z8Lvjvi9/Li6/88qo1z05ifirf3g6nnjyh6Nel3H5FcCBboz/Gv/3b/zhOI989hPx3Md/e+ljHO30qR/Ey7/1qfjxfz43+rUff+xd8fhj7xr9uoxHABzA+Ndg/FmSCMiJgNoEwJ6Mfw3GnwpEQE4E1CUA9mD8azD+VCICciKgJgEwkPGvwfhTkQjIiYB6BMAAxr8G409lIiAnAmoRAAnjX4PxZw1EQE4E1CEAdjD+NRh/1kQE5ERADQLgAsa/BuPPGomAnAhYngA4h/GvwfizZiIgJwKWJQDuYPxrMP5sgQjIiYDlCIBbGP8ajD9bIgJyImAZAuB1xr8G488WiYCcCJifAAjjX4XxZ8tEQE4EzKt9ABj/Gow/HYiAnAiYT+sAMP41GH86EQE5ETCPtgFg/Gsw/nQkAnIiYHotA8D412D86UwE5ETAtNoFgPGvwfiDCBhCBEynVQAY/xqMP9wkAnIiYBptAsD412D84W4iICcCxtciAIx/DVON/wsvvxr/d+210a8LcxIBOREwrs0HgPGvYcrx/9iffDuef/nV0a8NcxMBOREwnk0HgPGvYerx/8a/vTj6tWEpIiAnAsax2QAw/jUYf9ifCMiJgONtMgBWP/4f/YTx38H404EIyImA42wuADYx/t/87tJHOZrxh+OJgJwIONymAsD412D8YTwiICcCDrOZADD+NRh/GJ8IyImA/W0iAIx/DcYfpiMCciJgP6sPAONfg/GH6YmAnAgYbtUBYPxrMP4wHxGQEwHDrDYAjH8Nxh/mJwJyIiC3ygAw/jUYf1iOCMiJgN1WFwDGvwbjD8sTATkRcLFVBYDxr8H4Qx0iICcCzreaADD+NRh/qEcE5ETA3VYRAMa/BuMPdYmAnAi4XfkAMP41GH+oTwTkRMBNpQPA+Ndg/GE9REBOBFxXNgCMfw3GH9ZHBOREQNEAMP41GH9YLxGQ6x4B5QJg1eP/vPHPGH+YjwjIdY6AUgGw+vF/zPjvYvxhfiIg1zUCygSA8a/B+MP2iIBcxwgoEQDGvwbjD9slAnLdImDxADD+NRh/GObFl38W3//Ry0sf4yAiINcpAhYNAONfg/GH4X5y7Wfxkc98SwQsTAQcb7EAMP41GH/Y3zPPXxMBBYiA4ywSAMa/BuMPhxMBNYiAw80eAKsf/49+0vjvYPzpRATUIAIOM2sAbGL8/+WppY9yNOMP4xEBNYiA/c0WAMa/BuMP4xMBNYiA/cwSAMa/BuMP0xEBNYiA4SYPAONfg/GH6YmAGkTAMJMGgPGvwfjDfERADSIgN1kAGP8ajD/MTwTUIAJ2myQAjH8Nxh+WIwJqEAEXGz0AjH8Nxh+WJwJqEAHnGzUAjH8Nxh/qEAE1iIC7jRYAxr8G4w/1iIAaRMDtRgkA41+D8Ye6REANIuCmowPA+Ndg/KE+EVCDCLjuqAAw/jUYf1gPEVCDCDgiAIx/DcYf1kcE1NA9Ag4KAONfg/GH9RIBNXSOgL0DwPjXYPxh/URADV0jYK8AMP41GH/YDhFQQ8cIGBwAxr8G4w/bIwJq6BYBgwLA+Ndg/GG7REANnSIgDQDjX4Pxh+0TATV0iYCdAWD8azD+0IcIqKFDBFwYAMa/BuMP/YiAGrYeAecGgPGvwfhDXyKghi1HwF0BYPxrMP6ACKhhqxFwWwCsfvx/81PGfwfjD+sjAmrYYgS8EQCbGP9//s7SRzma8QfuJAJq2FoEnEYY/yqMP3AREVDDliLg1PjXYPyBjAioYSsRcGr8l2f8gaFEQA1biIBT478s4w/sSwTUsPYI2Pt1wEsz/jnjD9snAmpYcwSsKgCMf874Qx8ioIa1RsBqAsD454w/9CMCalhjBKwiAIx/zvhDXyKghrVFQPkAMP454w+IgBrWFAGlA+DshZeMf8L4AzeIgBrWEgFlA+DshZfiuY9+0vjvYPyBO4mAGtYQASUDwPjnjD9wERFQQ/UIKBcAxj9n/IGMCKihcgSUCgDjnzP+wFAioIaqEVAmAIx/zvgD+xIBNVSMgBIBYPxzxh84lAiooVoELB4Axj9n/IFjiYAaKkXAogFg/HPGHxiLCKihSgQsFgDGP2f8gbGJgBoqRMAiAWD8c8YfmIoIqGHpCJg9AIx/zvgDUxMBNSwZAbMGgPHPGX9gLiKghqUiYLYAOHvhpXjOi312Mv7A3ERADUtEwCwB8Mb4/9O357jdpIw/sDUioIa5I2DyADD+OeMPLE0E1DBnBEwaAMY/Z/yBKkRADXNFwGQBYPxzxh+oRgTUMEcETBIAxj9n/IGqREANU0fA6AFg/HPGH6hOBNQwZQSMGgDGP2f8gbUQATVMFQGjBYDxzxl/YG1EQA1TRMAoAWD8c8YfWCsRUMPYEXB0ABj/nPEH1k4E1DBmBBwVAMY/Z/yBrRABNYwVAQcHgPHPGX9ga0RADWNEwEEBYPxzxh/YKhFQw7ERsHcAGP+c8Qe2TgTUcEwE7BUAxj9n/IEuREANh0bA4AAw/jnjD3QjAmo4JAIGBYDxzxl/oCsRUMO+EZAGgPHPGX+gOxFQwz4RsDMAjH/O+ANcJwJqGBoBFwaA8c8Zf4DbiYAahkTAuQFg/HPGH+B8IqCGLALuCgDjnzP+ALuJgBp2RcBtAWD8c8YfYBgRUMNFEfBGABj/nPEH2I8IqOG8CDiNeH38P2b8dzH+AIcRATXcGQGnb4z/N4z/RYw/wHFEQA23RsCp8d/N+AOMQwTUcCMCTo3/xYw/wLhEQA2nT/1g/9cBV2P8AdZFBNSw6gAw/gDrJAKWt9oAMP4A6yYClrXKADD+ANsgApazugAw/gDbIgKWsaoAMP4A2yQC5reaADD+ANsmAua1igAw/gA9iID5lA8A4w/QiwiYR+kAMP4APYmA6ZUNAOMP0JsImFbJADD+AESIgCmVCwDjD8CtRMA0SgWA8QfgPCJgfGUCwPgDsIsIGFeJADD+AAwhAsazeAAYfwD2IQLGsWgAGH8ADiECjrdYABh/AI4hAo6zSAAYfwDGIAION3sAGH8AxiQCDjNrABh/AKYgAvY3WwAYfwCmJAL2M0sAGH8A5iAChps8AIw/AHMSAcNMGgDGH4AliIDcZAFg/AFYkgjYbZIAMP4AVCACLjZ6ABh/ACoRAecbNQCMPwAViYC7jRYAxh+AykTA7UYJAOMPwBqIgJuODgDjD8CaiIDrjgoA4w/AGomAIwLA+AOwZt0j4KAAMP4AbEHnCNg7AIw/AFvSNQL2CgDjD8AWdYyAwQFg/AHYsm4RMCgAjD8AHXSKgDQAjD8AnXSJgJ0BYPwB6KhDBFwYAMYfgM62HgHnBoDxB4BtR8BdAWD8AeCmrUbAbQFg/AHgbluMgDcCwPgDwMW2FgGnEcYfAIbYUgScGn8AGG4rEfD/e+n9oFIHAacAAAAASUVORK5CYII="},196:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAiESURBVHic7dkxEcJQAAXBhIkLBj/UkYAqagQgBAWIoIiD4OL/4nYVvPJm3vpabucCAKRcZg8AAMYTAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAjarvt99gYAYLD1OI5z9ggAYCwXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAEbY/nd/YGAGCw7f35zd4AAAzmAgCAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAoD+jxw59wgOPLQAAAABJRU5ErkJggg=="},204:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAKL0lEQVR4Xu3d63MT1x3G8UcSkleSZckG3AIFl2BZDtjhFggQE0hJwiW002mnnTR90T+vM206aTppyoQQaMG3GIOxZeMbvpD4JoOktSzpWPJKfdGGMilwwNaR9nf0+7x+9EIzX6+ktbTrKBaLRTBWYk7ZgLGN4LCYEhwWU4LDYkpwWEwJDospwWExJTgspgSHxZTgsJgSHBZTgsNiSnBYTAkOiynBYTElOCymBIfFlOCwmBIcFlOCw2JKcFhMCQ6LKbFFNqgG8ccxjI2OYGFhEblcDtnsGtw1huxhTxQsC8WChS1bXKivD2Lnzl14fX87agyv7KHaclTj7woT8ceIxRYQW1rC0tIS0uksfLV1cLlcsoe+lHw+j/VcFqFQENu2bceOnbuwp2mv7GFaqZqwhBAAgLv9PZiemYXhDcgeUjJmMo7WSDMOHz0BADCMlz8aUlUVYS3HYrj1r+soOt2yqXKZdBrbtgZx4dIvZFPStA/rs0//jHjcRLC+QTYtG8uykM9lcPz4W2gOt8rmJGkblmkmMTjQj7mFZXg8Htm8IlZXEmhvb8fho8dlU3K0DEsIgS8+/yvgtGdQT1tbE2jbH0E4ckCr917ahWWaSXz55dWSfcIrl4C/Bu+f/1A2I0OrE6RCCHz6l0/IRQUAi0uP8PVXV2QzMrQKKzp0F3Uh+7xJfxX+2gBmH36HyYlR2ZQEbcK63deN4ZEx2czWgqEGdHb1PDnnRpkWYT2cnUZ0aBiBQJ1sanuBQB2++3ZGNrM9LcLq7+sl+xL4LN1d3eSPWuTDEkLAXM3IZqT4A0GYyceyma2RDwsA6upCsgk5d+/0yya2Rj6s0ZFB2YSk5eVHWI7Ny2a2RT6smdlZ2YQkwxfALOHnRj6sRMKUTUhyuVyIx+OymW2RDksIAbenRjYjazm2LJvYFumwspk0fD6/bMYqgHRY6+uWbMIqhHRYzL44LKYEh8WU4LCYEhwWU4LDYkpwWEwJDospwWExJTgspgSHxZTgsJgSHBZTgsNiSnBYTAkOiylBOqzZ2QeyCWn59QJGovdkM1siG1Z35w0MDY3IZqTVBUPo/aaP5K+iyYY1Pj6JYKheNiMvGGrA2hqHVRZdnTcAZ/Vcov7aVXrXzSIZ1sT4Ay2uLPOyzJVVZDKrspmtkAyrUNDq6pZSgboQQOwpkwwLDodswSqMZFhFan++m0bv+ZIMy4FqO2LRe74kw2L2x2GRwC+FTAl+KWQM4LCYKhwWU4LDYkpwWEwJkmE56X1I2hTLssjd0YxkWOGWfUilVmQzbaznsnC77X9Tz6eRDOvU22fhKBZkM238+jcfwclHrPKIRFpgJuheB/1lra4kZRNbIvs1zLdOdiCbzSCepPUFuFeRMuN4/4MPSN4rmvQ9oYUQmJocw+i4fr/WcbuKOPfeBfj8NK9jT/aIBQCGYeC15giG74+T+9T0PCtmEh/97mPgv8+PKrLvsb5nGAZWV/S5n47PWwPDMEhHBR3CAgCvV4/76ZiJONra2mQzErQI681jx2Am6X9C9HprsL/toGxGghZhNYdb4ffRfukAgD1Nu2UTMrQICwAaGxtlE1sT2RT27QvLZmRoE9ZPdu8h/XLY3taGH/14l2xGBunTDU9rDrfC5XLh7sCQbGo7ZjKBcOSSbEaKNkcsANixczdyuZxsZjutkX3kTy/8kFZhGYaBgrUmm9lKKrWCw0dPyGbkaBUWAFy8eBmWRePOq5Zlwb3Fod3RCjqGVd+wFSJL4x/TRWsNH//+D7IZSdqFBQAdHR1Imfb+hLhiJtHS0iKbkaVlWHtfC6OpaY9sVlGN2xtw6Mhx2YwsLcMCgOMn3obLYd/3Wj9774JsQpq2Yfl8fpy/+HPbnX5Ir6bw5tHDshl52pwgfRbDMOD3upG30YHLa7ixp2mvbEaetkes771//kPbfDdeZFM4/c4Z2UwL2odlGAba3ziAfD4vmyp39uy7Wv0/8EW0DwsAGrdvR6FQ2dfDYrEIt1u/E6HPUxVhwVH5a5cVi0X4/T7ZTBvVEZYtVLjsMuOwmBIcVtlU15VMOKyy4ZdCxjaNwyoTuhcy2BgOq0wcDiCdzshm2qiKsMykCUeFLwPodLpQKFT+7H+5VEVYc3Nz8Hgq/zP8VColm2ijKsJaWIzJJmUxPaXf5ZaeR/uwlhbn4Nrils3KYn5+EWOjw7KZFrQOSwiB619fQ21tQDYti0CwHkOD92QzLWgd1t3+HniMWtmsrNYLzv/cLF1zpC8V+Tzzcw/R1XkL6wUnPB77XcY6l8th147tOH3mnGxKllZhCSEwMTaMwcEheP32vsu9mYijsXEr2t84pOVXlbUISwgBAOi6eR3JVFY2t5UVM4mjRw4iHDkAEL/u6NPIh/Vwdho3b3bC66P/Jbp0ysTJUyfRHG6VTW2PbFgjw/cwPj6ORNxEsL5BNifDTCYQqvPj0JGj2Psa3QuxkQtLCIG+3k48eDCNupA+Qf1QOmWiuXkvDh46BqfLRe4lkkxYQggszH+LGzf+iaDGQT1LeF8TwpEDpOIiEdYnf/oj1nKWFu+jNiqfz0NkUni7o4PEezDbhlWwLNwb6MeDB5PIrRdhGF7ZQ6qCmYxj184dCLe02Po9mO3CEkKgYFm49tUVrOULcDr1uJVJqa0k44hEmp9cDdBuL5O2CmtpcR5dt26i6LTHP42pCPhrcPrMOVvFZYuwbvd1YWhwBF5/rS3/BUNBNpNBLidw+NBBHDpyTDZXrmJhFSwLw9EBzMzM4NGjhFbnoirJTMaxbWs9du/ejaaf7kN9w1bZQ5SoSFhCCFy7+g+IXAEOR2W/MqyznFjFL3/1W6AC78HKHtbtvm5Eo/dRFwzJpqxEzGQckZZmnOo4K5uWTNnCMs0k/v75ZygUnfD5aN41lLJMJo3Ceh6XLl/Gtm3q7ztUtrCufPE3ZMS6bMYUq3E7EGl9XflJ1rJ8g7S3+xYex1dkM1YGa/kient6cLuvWzbdFKVHrMmJUdzu64PD5YHbzeem7MSyLBStNXScfgc7d5X+0uXKjlimmcTtvj54DD9HZUMulwtbPD5809uLxflvZfNXpiyswYF+eAx+k253VtGJ7q5OTE9NyKavRElY01MTmJyakc2YDTgcDhSdHvT29CCTTsvmL63k77FG70dxp78fhs8ev+VjL8/psPDB+Yvw+Tb/k7mSHrEKloWJ8TGOiqh1C+jv60WhBLflK2lYw9EBrGZo3YiS/Y/T6cLswzkMRwdkU6mShjUUjaKmprz/k2Kl5fPXYnh4GPNzD2XTFypZWNNTE4BD61vzVA2PUYu7d+7IZi9UsrBmZ6b568MaWV5+hExm458SSxJWIv4Y8wsLshkjpC7UgPm5jZ84LUlYszNTMLz8SVA30egQMumN3V9702EVChZiMXtcMY+VVlbkMT52XzZ7pk2HlUmnsLjEYemopsbA8nJsQ+e1Nh2WaSbgcvGnQV0tLMaQSiVls//zb0dxchP3PBCcAAAAAElFTkSuQmCC"},220:function(e,t,a){e.exports=a(538)},354:function(e,t,a){e.exports=a.p+"static/media/workspace.1147193a.svg"},360:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAylJREFUaAXtmUty2zAMhpMufZTkGl00l4ici1XpneIu2smikzNk7X6gBBYiQZmR6FrtGDMUKAD88TBEPXxzU0PH43HHOE5sM4FordDOw0oEh9QoKPSQrVCFy11rhO+ZNcK7TKgCF6ZKqUbKQXrVeZFj9KIulWfGKELB4feZsiQQNGiSvghK9lGOjXq7q1oQV559QjiP1U4kdqF0wadUIOej4TdPN5Fh2I3GE7l7IoZCrjIVYvfLM/ZkcS3Kp9QgPY/GdiJGUC8ymVidzG9TgZxbw1vI2rhlHY2erOF/OKcuB6mNULP0wOoEcKR3naxyAIhe3IoXtxQEbyJc5IB1YSMTAOh5EUi6CKAvAW44TPay1FbOMXtgvHm6oowF3wf8cPxaNBwcBKM5m6KOlWnts/uQBlIEqVUAtFcweCydympxquwAjf1/FgcaBeCxhCq78r9fAX6Hn4zPzT0DGh464IGaOgCxH2D/HJs5ADJu0czjxbfaAWCTknC+E1B4oFUOQOgHmHA8WLBR/rHdNAGwJWn3FEBkbkms88VzwPsxdWGTkiwG1YUA2pLsVV7i2Ms9+aGkz+QYK71kSkegxo7KF7HgXheNPLSjb72iTQG3peqaOxBAnDybbNySqb4UwEk5ALMlW+1AIwDILVkzB+IIMFuycH00dTA6Sa/w4EMzbcZBtSVb9vB7KhpTsh+nbK/6awX+qQrQ3DtGz7C0/UYn2o4xufxtBpv8FQhQNkb7rm1jnsw3kwBReS2iwR6YhK8QKlB+8QQIpGN4LSKy7IkW2YQukgARzLWI3LyLT2zowhcU+MeeO9dmKkExeoZHsUXW+mm+nmg7RnWLNA9gCSABL26RJf6ariH48KEcbqlZiwAavoOO4Mvff0tZAywXWallim86JbxUPgYeWapvdo4HuWjt60B0ykRuUtkXzhrnFkTmNWtW2+BH3tKkjTzqERa3zdR5CpDqz35OAPK/0OIWu3gCWiECmWsx+bXcFttMApqIcIKqbrFNJpAksyfIYottPgFNhkDnWizmofab5kQrd3Z3F9t04F5wJPLIkL8aXhnt/27wnF5lZ6jAb5EVJTnDQksDAAAAAElFTkSuQmCC"},361:function(e,t,a){e.exports=a.p+"static/media/active.cbaeb23f.svg"},362:function(e,t,a){e.exports=a.p+"static/media/inactive.9db7215d.svg"},363:function(e,t,a){e.exports=a.p+"static/media/active.b22bf3a2.svg"},364:function(e,t,a){e.exports=a.p+"static/media/inactive.a77c2a87.svg"},365:function(e,t,a){e.exports=a.p+"static/media/inactive.07223cf3.svg"},366:function(e,t,a){e.exports=a.p+"static/media/department.fc475178.svg"},367:function(e,t,a){e.exports=a.p+"static/media/requests-active.45b2f4f7.svg"},368:function(e,t,a){e.exports=a.p+"static/media/task-menu-secundary.7365c9ec.svg"},369:function(e,t,a){e.exports=a.p+"static/media/inactive.8084315e.svg"},370:function(e,t,a){e.exports=a.p+"static/media/logo.d0b06377.svg"},371:function(e,t,a){e.exports=a.p+"static/media/inactive.dc54ddc8.svg"},372:function(e,t,a){e.exports=a.p+"static/media/inactive.c6daa980.svg"},373:function(e,t,a){e.exports=a.p+"static/media/active.e0f8fbcf.svg"},374:function(e,t,a){e.exports=a.p+"static/media/inactive.bc75fa82.svg"},375:function(e,t,a){e.exports=a.p+"static/media/active.ee83a5a4.svg"},376:function(e,t,a){e.exports=a.p+"static/media/poll_l_active.ae1e22d9.svg"},377:function(e,t,a){e.exports=a.p+"static/media/inactive.8fffcb8d.svg"},378:function(e,t,a){e.exports=a.p+"static/media/inactive.fc04f109.svg"},379:function(e,t,a){e.exports=a.p+"static/media/secundary.0c1a3d93.svg"},380:function(e,t,a){e.exports=a.p+"static/media/inactive.5a464073.svg"},381:function(e,t,a){e.exports=a.p+"static/media/inactive.0d732f3e.svg"},382:function(e,t,a){e.exports=a.p+"static/media/closed-eye.d4d23ef8.svg"},383:function(e,t,a){e.exports=a.p+"static/media/open-eye.7668c668.svg"},384:function(e,t,a){e.exports=a.p+"static/media/edit-secundary.ef3aadbb.svg"},385:function(e,t,a){e.exports=a.p+"static/media/secundary.1419358c.svg"},386:function(e,t,a){e.exports=a.p+"static/media/active.bddfba8b.svg"},387:function(e,t,a){e.exports=a.p+"static/media/active.eab6983d.svg"},388:function(e,t,a){e.exports=a.p+"static/media/active.d4880dcd.svg"},389:function(e,t,a){e.exports=a.p+"static/media/tail-spin.7258e2eb.svg"},390:function(e,t,a){e.exports=a.p+"static/media/quarternary.cd84b124.svg"},391:function(e,t,a){e.exports=a.p+"static/media/chat-icon-active.bdb463e4.svg"},392:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABECAYAAAA1DeP1AAAAAXNSR0IArs4c6QAACp5JREFUeAHtXN2rHVcVn5mEID4INUnxNvhJS/JHKAh58TGCLTSaW4ooIqUiFW7x4RAOiBQs+FGhrz2pEVIFQRBE8iwIPqoJamsIckOSIhQRLffM9Pex1syc3DuTJiCcuae7Tvaevdfnb6+99p6Zcy2KD4oQKMdwuPLklWO337wxr5t6uymKLVxFUZol2w3v8T/et32iw/3KWIl7UpC+LGpSa3yIn/QUFLJBa/nouJefNGEDx0hX676RDdTFe9ZJtyyL3bJsFiePPTq7+MZT7x4Fz2C59be35hjcSQPKUOJ7GwrRIOkbaXHsvXeM/LWGG9h7EL/7LM/c6ZhAkX5LZj+LbenAykmR0xoHCKCiXspQba6tJXzb3btNMS9W/HewlMW2FMoAO8tZzktGCnlICBoqkrM0tHeF+aZLGQLQcs1vhzxzdDQuykGx09Zv3WETBykTVd00xRItOQ02RQZqjVFG9DliRL9N9tGIgMytRFi1BEKklFJ0iWZFtVLAfquksWF49CQPuSzTctzvPg2049GXchIMCqjsNOWQh7pY5GS/lmWeGNvTjwzbjP4t8o4CkQptPLSFQjtsRwlC60y2xQDpMUsylLzpTNboEj+dIQ9yiKINTdGCh93iz77g4K3G2EBZDf+QAz3u573lkKeNhp6sUSBaRekQOwIMNvvG2mn1FiVmjAaQNulY21kydv330kg+9ZFBNeU4AgQa2n0eytJSok4wSQ9o1Jdjca/xsEnj0U8Z9wUijaDyTJYv/OE7uJte+fq5VxoDEMsFsCmfwZX7JcuYUVAKPYfX9CCwxRkxWedy4eh4RMB5xqEDjs1em9wTKw2mPZcMQcjlQTfGgSAFGLDrR91CwpHJFTrurb1ot1gf8u4DRD8/JBjME1MtTKSc09w1FBXKyvfJEcmYS0IZ2VljklgQAEZE5gi29RiAenRpEACW3Mp0P92A0FlCQNAngYKpDR9HgWBGcFSAS4mS+WK6JXNEgpA1PRoFgs7n2cGATBcEWk7H6ce9NcdGgRCTWDMiECERSmSeWmFuWEmU8E27CBwZBcIR4QTT30anBkDaKxAYFbiWPI7jXJFLfRSIJMraeaK9S/mTqRnNzhMdCLxnGQcCyCkqUGUI8X6qpebTLYzXBTdyB6E/o0CQIBnzkZx9Uy2c/RYELg2AwYtlHAg82q4URAMFTbbE0qDzjAb6kpE++vTJY7UcDwCM52RhwPOFY0JRQSDeb0TI8YwC1N45pgtEJks+aCkiFBmO8fGIqMpdoRfIsY0D1u5UoVA8hPOc5H5EjAKB1zYLb5leT2qzb6KlzQ0EA5fOEuHLaLJ84uRjs7/eucV3qnqtjwPI4vTxj80mioMyRD9JOiK8NEaBeApfgOD0i3FN1f/WbkaBI1wLA0ujRAJ1GQWilXBIGpz73Df8zOE8QffGc8QhASDdyORoEAIURgnKRgHB/NC9nUI05PcX9G/W0shnDURBt0wYDxsGhD8Od1/hvIO8j13DWB2ef+my9gtERB6u8kXTRuUI5YQWBEaGAeFUb1SOaKOAkdHLEwRioyKi3TUiKpQj+DCJoojgb6X+8vatOU5d+K1Uid9KYTXxqZOXyIygT2XoCDS15kTXW3M4kNdlfb0pj8x/+Otv/DzYD6yePffjpxGuM8g5XeP0r/2dRuqlCfVbbvtmCbpyVlnroi268IBYlotHHj81e+OiTsT7dFoe8wTlhs1BpYgIEHZq/EJGjvcBCFBIr0SjOgDCPpzGZg2j8V95ZtksLz9/7tWzoWdf9dUvvXIWIFyGzDMEIUHXLMX+TgDsOACAs3yfoL58jJZ+r3XI2YLOnbffvDnfpyw6WhAJMGRwPdBuFi8NRQLuAoAVMNpZAAfajAZFhPoDVfRlmOVMCZh67wKVHFTqZXOBwLaOEmbIaftgWQsKIwRCCJb60CYwK7o0XhR7NR4QB0pOlmRRhi5566XBSLBzNAQlHG7b0UdzPHOsbRhpWqSzDWFWSsaDy5KzgaE0pgPB/a1c0khXX0/qTxm+t6xav4k6SGtnJyMLFPBTPqIZEeFODuTXbhEEIdtQ1TIaDDy59V6A0ogEJ0O6qopL6D6wQM+lNMx85IdhjAQYmb+M6wDqnE36Pn+CRf6h0kYU9eCiDgECBrHlu0k6a4dgSYCQS4H3/dlLQ91nEGgY7inuGn5Hdf6nv3ru6pBRr/3iuauA/TyIr5GHvDIMNR21PtuTTlp+AhJj0knLHTG0Z6iIn/kF8tn2BJva54hQrC60TVIW3/vtNznyfyuv//J57iqjO8uY8s9/5WUACJdos+x2PcTDSHU0BwjgIfgsAYRn21HQLYEhgevSr1llpMIht10P2UewSJd8hEPRl0DkjXCCYAIyhaItELbKIRgsB0cM11KAa669tNJ35wi+mU4AQjDkrf/b6rLa7ecVOoXQH7R7NXK8jAgeS+bYhYSgw+HCcCsXoljjf2q8TKbdclCHLFg/8pY9EzvpxUdv0WZRjjj6kROzvX/fxW2FIzaIIOxDH/7ojATrXE596uOzG/+4AXfKbe0WVbn4zCc+OfvjgNHODQCO2z5Pr3A2IyLwGOA8ZN2Pf+37jSOBAAACpgEgcPPV75beNQ6Zw0Pu5HJg9BAEbadBnDliiPdQ9efS4LdPgsI0kEtjoyLCyZIgIBoiUbLNslFA8DlEmwEjIqKBNctmLQ3sFo4KLwklS+PgiLiIN1Tv/Pfu3NsQMML2+cixE/rrt6Bby+rJi1eO/fnmW3Os+W0nwnJx9NSnZ38aeUOl3NDLD46NWBrv/OfuHBl0h+tGmbQpdu68679+W0sEwqhrN29g8mB3zDQA2fnfP//OUX643lcwxfy9B95kMU9w59DuoZOolgbWjhDlgB+89FS2vU/SmnXslUtHQusUQp5/mThQ6iPFQhMd9E6YzYLkSpZAaIsgKCLYK8Jy8E0PSdahcHZxOQGiDvsH7T5+8onZ7TvX4R9P0OAsi8Vjx0/P/gVeAdGGCYUGIFSw7kW2clm0M2z7h+yO3LHyew+CwNIC0b1x8vphdl334tDuTV5M4sPYLSAkENx9wYyIZ7/4E3yj4JajQHK0ZMT0DiUEjac112hUxfVl1cx/8/q3R98+ffaZHzyNnWqGZHeaXzWos5vdbkL6dlFH3rvuDkfZD5IHLkqWKUBLBCKchb2DpLLV74arxpDGINCRptyr6zP1sr78hS//aPC7xueeefls0zSX8Qf48V2DvN3s2uFOj5dsd592WTdtDV7UD1MMBGeZlxzyTCQoeRzttigrTMNEl0b0+C1vOfxdo2kuyNlWd08/POnk8g1UB0DXT5tXbc1oeWggEMq7LcKtYV1EaLYBmYHC1hoJKoFLEGUkzGYtHtRDBS9V5Ij1WrZBZ7/vLd9ftzgmvRDofMYlkXxdjaU2+IZqyBb2KyIQ9n7Ts+KEFeUMpMG610uNnA0/07Nfr83CCX0GaI4MftcAWpc40yk/I4/3qctg9h1OnZwMUpF/VT9PxXTsQYuAOFU9Oiuq5iUYgQ+pNs6z4bXvdq8/TmaZSJPWvBUmpbiGsfO/+9m3Br9r/P61F64WVYXvGqCFaMpI3axztlN2BwptAi0nQwk6bcT/MUZVvnQCZ4UHBeED+h4C7wH7aeACmWuKggAAAABJRU5ErkJggg=="},393:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABECAYAAAA85kOPAAAAAXNSR0IArs4c6QAADFhJREFUeAHtnGtsHUcVx2fX13FS+rQT59EU20mEkErEJ74glKa0inSjNq5bpaiAUHiUPK+TEiFIX1xogZZHW+rGqdMETBLRUueBBMqVSlGaIPEFtRJCahEi2E1SHPJsQlPq2neX///Mnt299vX1dZ6Dkk03s4+ZuXN+8z9nZncnNebKJgTy+dBPo/DSJ5fbcS63u27wYO/3gjBcbnwThMZsvjHTuC7fc++HmcsNhtr7wOKXJ31wYP9vAmMWhJ4HKqHBn28cGDrMLGudUkwYht5jt3U8FBpvTegZz/hed31m1oPthYUDatD5SFcsXn91MBj+FgqZHxAHKg1Agsf4zVPNc1fVOwXmsc8+95NiGKw16EHubHDoe4XJmZa28wUn94Vt1w6dOVXA73xa6o+AEAw6g4BOb93Rfl1JwDkfvXEudaBhSzw/AsKGChqTPVbs3fVsdnfdudTNsss/33kDoLwqUAg+ggL4thOQBzLtYl6nwMDPGxgBVS2QtYF7YTfZo8W+c4Kz9r6uyeF7wR64y6cIhNDFjRhfeMZrXvi7WX7jw86BIRPrRjxg49HayK3Q+Oy/g7fPCg5iyrT3zwy9BuM/aYMsIdidUBCAeb5zUsPEuzki8bedUowoRXoTLRMghMMdiHhOOAZwMMzipKotd/cLM8PBcG/ghTerMhhPiqw1ggNXenH23Lmf27hx6aBW6hQYqxg0DRAsEOlJGEC5R8fGZP+1vzo4a+7a0Dw09ME+uOfHRBkRiBiQrbN7zidWfTGfv3VIoTB1Cgw9R4HwWDZRCo54rsDCMPvOGHDgPnMGwmBf4HktUIuog3UIYFTF38Fx15btua/k8x4vl2xOgRHFoPUKh0qhMXI9gqK9DVfIHugtr5xV93R9PPjQ7AtMcBPdRdUiKWqTa174s20725fBRe3PlmBxTjEEkd4jBUVw4pjAc+wwNPvPPoxWqZizqrVrbrE4tBfmT1coadC8Bj95ctuO1WuGsSg5ZTZntkcWrMfInFIIW2dVgwmZyWI4VSBI7TBrY49XMM3NbcE7B28uFgd/j5GnXqCgPFPWaZWGI9//Ltwnj0sVN+dcyboP3ClSDo2aNrupDS5VIAS7l8w9kDfMBgd6XwmKg39AfoEiyiiBgsKev64aKCTmFhhRSNLL2tPtHQsHbiQcPB7YnldAUJDAksnaPNy7XhSCeixAncShTt88sGVH7gkaXc3mFBhGWhoauY91A8LCRjgfbWlqC30/hkNV2V1dJUktILmPR1Nv+dbt7c/Ymqr72y0wKfehMuyeGEI4s5oBx/MK1IrcR9xhSqCcKROIloWLBYFvvrp1R+75pJbqjpwCIwby2QjGJT1eagjhSKAFnAQAYg7KFIFEpvxReSjva9u2535RWkN1Z06BoQvxSdcanPT8cFM6AKemqaXNg1tpjIlhwiKNL5jKLs7lnq368SH9O06BETegYthC9joSXiu3EU7mphbEHI5WSZDVh0SBHAbZo/1m19nAcQoMe1oUAxh0DXGtUcAQFuFMnDkbQzndyiolVpzGHgzlhw8H44bjFBgNqKIcqIDv7Qmn0kY4HyGcaCgXmFIugmwVmO0/Mj44ToERo0BBXEgVUIlKdI9wrp0xOxqttHziXgRdxIPnoaPVw3EKjHWjUoPoItVshFM/w7ThabrAdy10RVWeuiTh9FUJxykw6aHWqscO3dWAYZ6OjvaBKdNNm+fpaGXhWEDWLfEKIrv/aHFXdozRyikwiQE0iMO2NaxaMAqncZpBzDEyCYzr5AOovPSmmoJscKIynAoxfzzNOT95c3c8F4o7RZO82B3ic4ZndRGm1mX4Al0CteZDLgGi7qTXea732GS4XaY+01aA0oZb4JhiMMGLDKdhPE67l6gI1+3QTOM1PwBFxks5AWLvDb+uw7qkcKsPTg7+YDgUnjsGJooDQMIYo0HTukNkPGHhHhUiQZbHBCQwtLymvEdl8Ry7KkfKyEgFtwqX4NaIzSkwcJ1+NURStM4alRgY34cpoiim0WQuDZL55LtUBCUuJ6AIMqqTX63KbG6BMeEWCyLpYTXWpomKeJ7cI5wkWOs9DM+pPBZEugyPAa/s6winwEyf0PgoVPMkHFyUk+5xjQ0WnDVSnqfUTSL3YD55ThLFJIpLytuHVPzGca/G++ne7rXfLyOYK5euEBgnAQou3rg+5fHb1v8YQl2CCN4gkuTd1GqA+BpLRsOllbQdHpmdH7go3UT2+o4FPi2xAPd9r9/44ZapmcZH9Xsxy7qy1aQbUvvHhocB5CE0/ipZjiHGIweMSXaew2gWlOs2UMoxLkng430BYOEwrx0V7LDKiRvyXQN4nzkdvj/hjb/tfpXVubSVBN8AK5looBgC69V4OeccAC3XXaHwnB/cmcpMNVYX8+MPAVkQ9jz6WwMrcnzJJSDalpI1eOhFmMD/rKFqMI3jZdl4zA0JYWje2G1wUY45T8BtnVRZBREU1cKykbsZM53VuLaVKAbGdovBNDoynGkpBGswDVVj6T72j0KxxotSGG8EBnJoiiql/ujcNShsTwmY+glzHsSlQjwXjJSTVoZ1IUCJMimg2FAJvBaCXCME/gGEOCWQlGu6CAZNLN241u0YlnWFeJFMqdCg2F2Y1bpVYdqcpjb5lFFavOLZ/a0dGPeoJgtKlbR15+oR7ahY0UW4WaIY/h5XR06uabYve8pDgVnVL95J2yBQCAa7uqGoMZ3JkeMRYNiuGI7BKgJsaVdib0c9Per6FJYptzHoxmoR1dg4VS7vpb5WFgwbRThToBx89iww+OpOSNyjkSXb21d+8Q6yjNhsnNHyjDhUj2AfkfdSXxgVDBtGOFP9Jnzx47di7W07ixW3QAANEIu4eIfr8scyZrhaRH1xpB+r9MW9XxEMmyJwsAQDIArS4xIfGCOiHXm47Cvs6x0TTlxGykYjFdXo4DYmGLaZo88MwMHzTbwEQ3ob92isHOM14dDbleEMjzGqIAe5lM5jKjWQcLg+BVP5ku82qgKFM3Bw/6jK0bdmnMNIjIpUV+l3L9W9qhSjjSOcJqxPwaNCHHMS5dg5DwzOnjlUHk6sGD5PidJsENf6XUrHBYYNJxwsxulJlJJyJw7lHIYB53QZOAqDgdyWt/ldAqJtGT+Y1s4vYyTapPFBDZRUDNZRK8ye6qdykvUpWsa+3SecaGatrXEoHReY9kWdy/BxazNcwrcuRHVwyIaRMEqn+BYWP08E2eOp9Sl6nWlS3iEaqaZUDSZ3Z+caGLoBi7ns+nJ9umYARS2cqIkTxUbb+IFr2SP9dpWBjTEWijyxM+//4wRPAa5u3fBtjChPl+1xAWHexWpKrNu3RouLEBPOo5UHsj5FRyWrGM2rv+JWOqZi2hdt+A6U8kOND/Z1AY1GfIAtODoRZGpuv2bGrAUAUyAcApCU9+UcELAEQ9xNXzfwOu6zPhe3imBWt3Y+UQyL+RhK2lAi8b0jQcab/8ueFa9zfcoNM+bYZV8p420sISD7ilPUEinJQsOJg9uoYNoXrX+mGITfElWg7XGwVKPwUcyv9eZ39+T+qnbJ4h2sT8F6/WTBIG6KMvB3Ati6mc5rtLxL6Qgw/ISC0QdB1qyWgIocNEAEz17nsecd9Gr8eZt+vfKt4cbI4h2sTwlrIrfCZM4GZuSU8haKjTP2eHgdLpyXgOE/419zV+fPMU9ZJr2LFmpvx4YY01tXl5m3uWflP0YzgHCmN/r2wXOYUrReVQ/rdXGLweTzezLH3+jchn/+ssT6PpVhXUhSGuB5f/f9ifOef2l531jGEM5MwGFAFrgon66X12z9Y9V0ae4LmK6vd9WefP2tl9DY+9iTdk+gyJzDmDfrMt4tm3bef6japhJO05SaNlOTijkpd9Lfqra+i5nPzy9+ecKbh4s7sQ7/HpE3fl2G4qiHJUB65i+ZiRNu6exZKf/jg/E0kHBaGnw7WlGBusvv4C+sOhhPfRcrr39y4NjjmKfcITKPGqs9Kakf/rluYs2tG19ceuxsG0U4pgHK4QpuDuWEI8pEjT6+ZTm4+WjmUpljoHHa4BiS7//p6kn1t2/41YqT59p2LgCswUJAgHgKbE5QKRjZHtnTvfab51r3hSjvrWxd/y568TqBkepJuNBrk2r9O+E+712IH3a9Tt944WZVii7NQrB95fraqQsvVyjsNH9KbeM6gHkKs9VTcKn/4NXlj66aOXvR0z33/tf1Xr2Q7fsf/xe+9igIS1UAAAAASUVORK5CYII="},394:function(e,t,a){e.exports=a.p+"static/media/secundary.d29a5c71.svg"},395:function(e,t,a){e.exports=a.p+"static/media/secundary.af28936c.svg"},396:function(e,t,a){e.exports=a.p+"static/media/secundary.ae061e44.svg"},397:function(e,t,a){e.exports=a.p+"static/media/secundary.25601864.svg"},398:function(e,t,a){e.exports=a.p+"static/media/secundary.c178f518.svg"},399:function(e,t,a){e.exports=a.p+"static/media/send-secundary.7055e754.svg"},400:function(e,t,a){e.exports=a.p+"static/media/google-logo.8084f354.svg"},401:function(e,t,a){e.exports=a.p+"static/media/download_r_secundary.8f8976be.svg"},402:function(e,t,a){e.exports=a.p+"static/media/secundary.a5f0bb1d.svg"},403:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABzCAYAAADdVU0oAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAACIuSURBVHhe7Z0HYFRV9sa/9N4TUmgJEghVYAVRERHsyIooiq7giuuq64ruWhYWVl3ssrpiWQtiW8EOYm8rCirSFaRJJ6EE0nuf//nO5CYvI2SNJv81zv2Fx9x5c999k5nz3XPOvfe9+LgEWCyWw+Jb/2ixWA6DFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjF0gx2qUkLqaur00cfHx+Yj45lwuembPDc53z+Q8pOPOsQPj9cXUvrYAXSAvhRUSBO43SWCZ//kDIxxx9p/+HKxHkM8fX1bfLc0nrYEKuFeBouH03ZabhHKlNgzmM863A7kpdi2dQzZUvbYj1IC+BHVVtb22CgfCROo6+oqEBJSQkKCwtRU1MDf39/REZGIiIiAgEBAfDz89NjzMfOY6qqqlBWVoa8vFwUFRWLR/CR+pGIjY1FSEgIAgMDm9RnmRs9B7EepO2wAmkBxjBND0/DNCEXhZGZuQcLFizERx99iH379qpAKIrExCSMHDkK559/Prp27apGT4Om2A4cOICPP/4Yr776Cnbs2I7i4hJp2UdEFY4ePXriwgsvxEknjUBcXByCg4MbzkehmffDshVI22AF0gL4URkDdYqD3uK+++7Dc889K4Lw1x6fr1dWVmpZjpRylW5jxozBnXfehfDwcBHGR7jxxpvE4xSpaOhtysvL1dgphurqavUuMTFxmDVrFkaMGIGgoCBtm+c174P1rUDaBiuQFsCPyhliccvJycE555yD7Oz9Yqx+4jWq5flY9RhJSUk4dOgglixZioULF0h9t6BCQ0NFKOeIoJ5RIVA4Q4cOxUUXXYxevXrpudavX4+XX34JK1euFJEFyB4fXHXV1ZgyZYqKhOKkOIgJ2yxtgHxhlh+IGKVLwibdpHd3lZaWukaNGunq0qWTq0OHBNfUqVNdmZmZLun1XSIkrWce9+3b57rrrju1XqdOKa7k5A7ymOw68cRhrm+//VbbY13zyI3trFq1SuvwmLS0VNcTTzzhknCuyfuwtB1WIC3ACMQY8QMPPOBKSUlyJSYmuB5//DFXSUlxE8P1LNOwFy58wyWexdWxY7Jr7Nixrvz8/AZhmHadx/D5zp07XWPGnK3H9OyZrs+NgFiH78vSNtgQqwXwoxLD1DJzhUGDBqKsrFRyg5F4/PHHNXQi5iM1oZjJD1gWg8bixYsxd+5cPPXUXEREhOt+bs7E23kMyxs2bMCECReitLQEZ5xxJv71r8f0dWLyEEvrYwXSAvhRMfbn9uabb+KKK36n+cGXX36Fzp07NyTPxIjDE5M3EL7urE/43Fk2UFgPP/ywJOv3IioqGsuWfSXJe4zWsaNYbYedKGwhxmiXL/9KEuwg9OyZgYSEhAZx0FCNOEyZmDI9EF8zm3mNmGPMa+YYwuHiE044Qc7DgYAaZGdnax2n4Cytj/10fyTbtu3Qnjs9PV0f6VU8Dd2zbOpw435iyqaes0yc5fj4ePEeUTqUzJDLiqPtsZ9wCzFGXFtbo48cpuU+Y6wUgcGzbOqx7DR8Ytolpi1Th4/cOE8SEhKkr0kSr4/Oc1haHyuQFuA06ri4WC3v2rW7YW7EiMAYNQ3dCIL7WDYhlpm7MG3y0RxDzDEGljkwUFhYJGWgQ4eE79WxtD5WIC2AxkgDpxEPGTJEDLYCmzZt1N7ciISv0dANTnGwTA43WkXMseYcxNTh4549e1BUVISKimoJ7Xro687jLa2PFUgLMQY5atQpYsQ+Osw7b94Lmjg7RWCM2pSbE4ezzHrGuxhxkeLiYrz00ku6JCU+Pu57AwOWtsEKpIWYnj0tLQ1nnHGWji7Nnj1bFypy3RShwTrFYcrGoJ2G7zRwlj09B+FCSA4rf/LJJ3K+QFx77RQVihGdad/S+liBtBBjlDTeqVOnSuIcgMrKClxyySXIzc1VYzUGezhxcDucCA5X5sYFj0uWLME999wtz4Fu3brh17/+dZP3YWk7rEBaiDFcGnHPnj3FcO/lXmRnH8Dll0/WR+MhWMccw32eIjB47jdleiSK4+abb9brRRhW3X///Xp9CXGew9I2WIG0AGOMTiPmSt6ZM2/X8ubNm3D99X/C/v37NdEmTiM+nAhMmY/O/fQcS5cuxY033iD5R6FeDzJ79kPo3buP1jHHWNoWu9SkBfCj8jR8PnLfiy++iNtuu0U9xaBBx+DBBx9ESkpKg8Gb+txMuOXcb8qE4lixYgWuvPL3Gr5FR8fikUceweDBg3UuhDiPYXvmWEvrYgXSAvhRmeFclo1Rmv3z5s3DnXferiNagwcfKyKZrfMVZuSKOHMR5/GmzLDKLExkO7ywas6cp0R0g1QcrGfeA9uiII1oLK2PFUgLMImxyTG4OcucD3nuuedw1113itG7PQlX+XJRIY3ZGDQ/cpZNW6ZMz7F9+3acddaZupzEx8dPh3aPPvpoFZk5HzFtcR/LfLS0PjYHaQFOAyXOcIv7acSTJk3C9OkzuBdr1qySxP1yvSSXUBhOb+EUCsW1bt06nHmmWxy1tXV45ZVX0L9//yZiIkYczrYsbYMVyI+ARmmM04jDGDvnRSZOnIi//GWq7lu//htcdtllKhIKyvT2TuNmKLV27VqMHz9ejvcTsdTozR/69evX4DlYn3iez9mOpfWxAmkhnsbKMjeTZ3CjSCZPnoypU/+qnmDduq/Vs3Co1tQxRk3RrF69WnKOCdIG2wPeeusdFYcRk8F5br5mMPssrY8VSAsxxuhprCxzMwbNxJkimTbtr+IhatWTUAS8Z5aB4li+fDkuuGA8n0k7/li06E307t2rQRzOds35PPdb2g4rkBZCg/xvxmrKRiQzZvwNVVXV2Lhxg4ZRXHDoFIefn6/UDdKwqnfv3kf0HHw0Zed+S9thR7FaAD8qbiZZPpKxskzMcybgzzzzDGbO/LtehZiR0Qs33HCTzrxL6i0hGcWxQPZnaKhGgXiew7NNZx2Tp1haHyuQFsCPij0/H01YRY4kDrOfW3V1FZ5++hncffdd4i38dAEiL7biWi56Dt4PyxlWkSOVneIwx3CztD42xGohNFIapSkbwzX7TdlpsNwfGBiko1k33HCj5iQUh59fU3FwMyNUTkGw7BQEy9zM+aw42g7rQVqAMVJ+ZMYwzcdnjNUYLjF1iNnPqwLnzJmDhx56SBLyRQ3iIM62zLlMu6YtU3aOmtkQq+2wAmkB/KhouHw8nLE6xeFZZh3COQ+GaXl5eQ0XPXkKzZzDiIM0dz7ThqX1sQJpAfyozJWD5rkxTM8yMUZt9tOgWTaGb17zrM/N8xxm/+HEaMRnaX3cn7DlB/NjxWHKPN54CPMaMfWJMXjPOkZYTnHwuTnO0vpYgfwInAbpNGJTNsZ+uP00bmLqmNf4aPZ7CsizfDiRWtoGG2K1EOYPngbtLBNjuEfa/9/KxHga4tmWZ9mGWG2HFYjF0gxWIF6Eq86FsuIKZO/JR614p+j4cMQkRMA/0HqgI2EF8guBX6MJ044ExfHa7E+x9rOtcEnd4PBAjLtmOAaccBQCg/lXrCye2CS9HUNRVFXUIHdfIfZuPYSCQyWoKK1qyFE8+W5NFr75Yjv8gvzgH+SrCyhfmPUh1izdirpad75jaYr1IO2Y6qoavP3o5/hi4Tfw9fcDv8iMoV0x4S+nIiSCf+yz0aPwa/5g3kp8OH+l1JV+UV5yycZQi+3MeHIikrvE1te2GKwHaaewWystKMeKdzciKCwQ/sH+CJBt84o9eOT618WTVDbxJHW1LhQXlKko6lx16HtcGpJS40RULgSGBuCj11drm5amWIG0UxgSZW7OVg/AfCIyLkwEQqH4ITsrD+8/u1w8g/uaecL65RQNf+Rbj+kQgXG/PxFVNbWokTbWfLEVZSUV9bUtBiuQdgpHpPZuyxFv4A6VMoamYtz1w1FZWaPe5PN3N6C8uLK+tjuUKhOB1DHq8vNFdEI44hIjJFEPQq2IplRey9yZ465sacAKpJ3CScTcA8Xw8fPR5fOR8WHoe3w3dEiNrc8tarHl60zU1riTb4ZYKhARg4/kJuHRoQgODUS3PikqHj/xPJk7DmpdSyNWIO2UOnEdhYcoEKBGwqcICbF8RSxDTstwi0D2f/35dk3Atb7Uqaiq1uScogoJCwIv9U3rkSheyL18ZbcVyPfwKoEwaa2trkVVaRUqiipQWdy4VVdUqxG1FxhiFReWw+UvHkTed7Ak2qRLz0RUVVZLnuGDPduyUVHu/pMMvLtKtfzudfKNu0Q8AUHuS3sTkqNUUMxLckRwlqb8Iod56ySsKNxbgP3r9iJ/dwGK9hWiJKcYZQXlqCqv1q1GjIW9Kf/jBxAQEoCAsECERIUgKjkScWlxSOqVhJiOUQiT3jlIelx3/Z8HZZJfPHDNyyjIK0GliPvaf5yH9KM7SoKej5mTn9ffh/fX+vvcS5GQEo08Mf4Hpy/AoexChEWG4Prbz0Vy51isX7UTs+98E4FBAeicGo8ZsybUn8FCfpEeJH93Hp4e/SQ+mvkBVs1fie8+2YLMb/YhZ2cuCvYXoTS/DBUllSgvkk0MjeXi3FLkZ4moNmdjy9Jt+PLfK/DqzW/g0XFz8ci4p7BgxtvYuXI3yqXX/jnA0agayTOYb3AUi3kFoaH7h/jX7+cFWm6vWClepUo6Be7jtx4Y6K96D5EknR0E2yuv/wNAlkZ+kQLhKE5wTCjKJZQqyy1HrVhFUGQwYlLj0HlQZ3QfkY4eI3ug35i+6DO6l5ZTB3dF/FHxCIoIQk1lnQihEtWVtfAJ8NXZ6S0Sz7988yI8csEz+ODBz1B0sLjJPMP/O3Jqhkx8Bz7+Yuji/eji/AP84CebWyBi9vXvkR6z1sUhYXkiYgoIdE8sFkuoqfVkP8VlacovMsRinlEmHqE0pxS+YuD+wdKrBvnDT3pNP39fSVJlY0X9T5BPgB8Dj6uprGkIwwokNNu1ag92rM5EXma+JMG+aki+YoAB0t4x447G8RcfoxN1/20d1E+B+QYxXoKUimHfccULKC+v1FGsaY9ejBQJkQrzSnHL757VodsaSdBvfWwiUrrEYdfWbMyeuQglJRWIig2VUOoihEunseKLrXjsgXcRJJ9RWnoSpt/Bm9hZDL9ID8IeNCIpEkl9k9FBktbYrrGIlOdhYhjBYhTVYvxZ3+xFVVm1CidQDDxIQo1Q8TqsFy/5R0rvJGScnI5TrhuBSY+Ox8RHxuNX4waIh5Hjq2o1+f1i/mo8N+V1HJTQzQyntjaFIvS3n/4S8+//GDs37NfRK0JBV9fUqGA5KkUDp3w4alXF/fLDOQ9zcRX/Mq7bg7i9BfXMNvJyxRNKmYKKTYjQupZGfpECaRaxrzemvYmF097Cvye/qCI5EvQYgZLsRnaIQOqvOuOUa4Zh0uzzcNyFg0RYgWqA+7fn4PkbFmK3CE4T/1aEBrz49bVYvOBrrFq8Ba88+imqxNANOvokjzRwVYdsFG61eBTKlcvYGXIReplaaY91/Zl/iDfi3EhWZq5aQZ38JCZHa11LI14nEFddHbK3HkJNbS3yDxSIQH5YYsoQKkB66aQeHTDqqmG48M6zEZMcpcOjJQXlmDf9bRzc0fqeJF7O4c8hWQkV46RswiwNCeV34flp9BQzKS4s07oUT5x4w0DxkIq8f9ajoOhxuJCROcyuXQfF5Uq5tg4dO9vFip54n0DESJiDsLvl6I+7D24Z7JmPGtwFE0QkHSQcY3sMbeb97R0dDaPxtgYU5TGn9MTlt47GxX86BROmnKyhFOEZ6Cn4/k2IRfbuydUQk+FUx7SEBoFUyfvj7HudhFhM0Nl2RUUVsvbSg1AgtUhMsh7EE68TCC1Le1K3Rsx/PwqK44LbzpL8JVgTd4rjqzfWobrCPXvdUpiMa47h0BdvU9qxWzx6D05FaERQ/V43+nvUb4ZN67PU4NlEz74d9XhCAZsQy90xAAWFpbpQ0Uc+i+iYMHRIbBQIBVVYVKaPrSX49oj3CYTGRCOR/+rEUH4qCV1iMH7GaTqbTdF9uWAdcvYW8AQNaDgk4Ywa6RFCsMryamz/di9Wf/IdSosrGsSycfVuPDx9IZ67/wPke8x003vwNOZUVZU12LHtgIZXXD6S0a+zjtoRCoM5Ex8ZsjFfWvrpJvU+3Hr17YzQUA4Vu/OV9z78Grfe8SrmvbwUlfK+vRXvE4hYk/SZ9T1p/b6fSNqAjkjunqChFnObrav2iBAk/JFzManO2VuIr97ZgP+8sArrPtuGEi4RcQiIS1xWfLQJD/zpNTw/6wO8P3+FGikF9fGCNcjamYONa3fjm6921h/hxm3wHK1yN8a1VHk5xSoOXjAVLp7NDD/zHCocPhUPU1Rcjs+WbmQch4rqGpw0orfW45KUtd/swpPPfIw9WTl4471VOpTsrXitB2lN/CSMGT7hVyoQhi+blu9BpYRZFMfiF9fgvt/OwxuPLMFH81di3qyP8NB1r6G8/toLGuT2b/fjlUcX6zXiTJh11a14D3qE4qJy3cc5nMROTXME+o9a+V04VM3RqrWrdriXmIhIM/p3RmBw41+/LZN8w33tCDQH2bQpS2fX2XZkVCh69EjRnGTDpkzc+89FCAnlDLsLw47LQHCw27N4I17pQRheaRzeCiGWoWPPBAlbJHySJvP2F6K0oAyblu3Cf15cLcbtCx8REQXEy11zDxZhlYRSFNCGFbvw2IxFOpmpPbz8xCVH6ihTiYijvLzKnS+JIXN41sAQyYRMHNmip1i2ZHPDqNbI0/uDfwzUCT0Nf+X9Bwrw6mvL3HXl54ILjkdmZi4effJD3HLHK/yINMmPiQ3HFZNGIjjICsS7qDes1vQkgSGB8JFenKIrkRyCiwn37chRA2TI0/uEVEyeORoV0mtzGHbFx5vw3L0f4Ilb31LDpThomMxQehzdSb1S5o5DKONqXGmTeUKAQyB8/7qxfTl+25Z9yM4uaAiv0o5K1OXsBl5my7Ypqpz8YhSXigeTMp/PfX4xpt4yH0u+2KQi5LL41K4JuPfvFyMqMlRF5a14nUD4ZXMpOI2DPTqHRFsFMUwdgZITcIEgy2GxITpDzd5/o3iK5+/9EAHBfmrEmdsPYf3ynRoS6Qw3m5D3RPHEJ0VJMz7Y+d0B9yiSCIDhEXMSJzR4HsP5mddfXqYi5Sz60GE9dTGigYME5eKtzOJG/RDkH8XBdislB6mR1qokNIuKDsUfrzwd9912MRLiIvV9eDNeJ5Bqies5ksQwi4bSWt8/l59ojC8/vAkC7zM1YHg6Uvsko6ysUoXC5ef0MO6e3KWGGd8xGp2OStBwh7lDer9OCBJDpxh2iEDUu8h75HAsL4t1ogm6PBYWlmLb1v36nIIfM3awhlcUaV5eCVas3IZVa7a7Z8+lvmmTyXr/fl0x9uzBuO6qM/HQfb/Fk/+8AmeOGvC98Mxb8TqB1EqewB7c9NitRVFeqeQa4h2kZV7+Gh4TojdSuPzvozHu6uFI6RavybT6CvnUewzsjJsevBA3PTAehQWl2qPTk5w0ur9O7pVJCJSbU6z7+V657iovp8h9snrcHsRt7PSKrMdQbMb0+fjjH57ElVc+jqvl8e67F2DL1n0qCK1PbycbBX0orxgXjBuKU0/uj+5pTcMyixcKxBicxu+tGD6sWbwVdb4iPGmyY3qCXu/N5jm5d9K4AZh406moYR4ghskwaNS4geiWkYT9e/KQc7BYPQzXfXXvnaJGunXjPsk/KhsMn/Mse3bnuMM4hSJ3n8/9+1AobsMvLqlUwy/gRF9NrX7LtXIc6/L1AUen6kpeinVvdj5WiHfhoIC3h1OHwyu7i4YRLLP9RDivsfrjzait5UVMdegzNFWXwxM1OrHgLEm4OYzKXpzhV5fuiXru777d6zZgEUBaRrIm4jov8vkWvcBJBS2Gz+O+k0ScQ8DMKYqLKZ5GL0IB0ODVm8jPgAGpOOaY7hh91iBMuXY0hg/vjWrJQViHo1PnnTNERUlRz5m3WMXoSeb+PMx8+A3MePB1Kec6xOk9eJdA5PvldR78EwaKhCOtwZrF36lXYO8cEReKLj0StUc2FEoe8NpTn+sQr0+AD0aOHYgw8Sw09G3iKXgrUOYfvQd2gb/U4TUbG9dnaY/PrZq5jXxT2dmF+HLpJslpqnSijwaunkPOwYWG4REh+o3yvRx/Qgauufp0TLrkJJx4Qi8Ei3dip8BjIiJDMLBfmoZjHN3KKy7FRoZgHsx66l189e12rPp2B+57+l2dS/E2vEsgApdwiF2KmYjltYL32Ls9B4vmfKFGyoHU0b89XnMPA69q/HjBWpQUl6k3oDiHndG3wbMwwVYhyDfRKTVeE+k1y7eLYDiuVIdESeJHntHfPdIlYpj/wlLMmDoPsySv0BE4OZYe6aabx2LsuCGa+FOIL776BeWjo1kUKz0bj+d56AfixIscM7Cbeh56rXc//dr9hh30y+iEQsmFCsW7DOiVisDWGvFrR3idQIiKg4byEwXCxPzZu94Tg5SeWQy/Q+cY9BnSteEajArp6Re/9TWWvL9eDNw9enTlX89GdGyjgGjMDIsY+uRLe9n7C/Dis5+JQTNcc2H4qL4YM24wBg3prmuiKID9B/LrDZ5tQttLSIjCsYPTRTS+mrdkHypCqRg3vRQFUS69vwpRyvRSQYEBOPuUQeClVQy9Vn+7C0UlTa+3v2j0UMy9fTKemnkZJpw5BAH1Cx+9Ca8SCI2DiwK5XoplH15t9yM0QqMrzC3BM3e8h9zsIk2gOVN+6V9Ol9ApWPMJ3kXklSc/wwevrnLnBXKqEWcPQI9+ndRLED5mHN1Zl3z4B/hjwfwv8cAdC0VMklPIO+RdR44Z2h0xMeG47IqR+P01p2HAoDT07NURPXqmaEhnwjBqPVa8Qmqq5DbSLgW3flOWvhe+X3og7qNI9bp1P18kJ0a798lWUFqOrAN5+r4M4aHByEhLRp+jOiIsJMjt9bwMr/Mg7hCrPkkXQ+JPS+Acyq6NBzDntnewc/MBMS2XTu5Nnn4GgkIDsX7lLrz572WYPX0BVny2RXtn1jluVC+MvnBIw3UbhAZ30un90LlbgniEWuQVlCD7YJF6ibDwIPzuD6fqMnQKKSo6DMNH9MG1152FG248B78eO0Qn9tQj1Hssttevbxd3OCbf7Nr1u9zXjIhASsokqZdflWLgcxIaEoguHeN1dM1ffoede+2tRz3xMoFIbykC0ZEf2XgdxA/VB4/jjRKWLPpGwo53kLX9kBphoBjyxBtORVKXWDz8tzfw9L3v4cPXV+FgdqGGSLz37TmXHIfzLh2GUCk7oUYpgD/ePAZjzh+C7hkp6CJiGTaiN6bdej66dWs6L8FyaGgQwsKCdMkKhUej1z9nUE+P9GQVJcW/K+tQ/fUcFAbDMQkuZb8RaaB4rYzuvPWo7Je2t+w6oPstjXiZQNzLz7kUhIYl2at7ZzMwROEw7oblO0UY72LR3C90lInDo4ldYnDFjLPQb2g3VRxv4sbemPMZ0fHhOPbknphyyzkYNWbA98ThJCklGudOOA43Th+Lv952PiZfeQo6dYlr8Aye0ANwObyGbhoyNf4eMeJpKuk1ZNeBXPFGKhD33As7BeYnZpbcT37/dAnJauR1CifrYL7utzTidQJhb0px0Fi0Cz8Meh9bSbAP7i3AN0u3Y+7MdyVRfQc7Nu5zr6oN8sfA4en4453n4qg+KXpREu+WfsW00Rh98VBcev1puOme8bjkDyORmp7YZJHhkVDvIJ4hLDxYDNh9SeyR4O/AxYb8HegZQiRXMISHBcOXupLDi8sq3MPP4iHozYyg+EMoitjocN3H0KtI6lua4nUCqSyvct/fSsrBkUFqPFyfRUEU5ZbiwO48bFy+C6//awlm//k1PHvP+5Jr7NfRIc5X8PLXq24bg0l/PhWRMVzp6jZkXtra51ddcdYFgzHo+O56C50fIowfh3gEXddFo3epoAzBQe51YNzPb1e9pfyYJJ2iYGhFNMSLCNUOg0Kzd1b8Pl4nECpDe1LpYrnAcOvqPfjPS6vx0qz/4MEpr+Lu382TBPxtrPpkM8olsWW4RENMSovHlSKM6+47D937ddTl6P8r6EFKmXTLt0ehm0tlid7dRCyfRs/cgjXYCVTWSM5CLTMHqRcuBygoHn4etfVexNIUrxOIGgnjDzGIooJSvHDPR/jghRVYt2w7igrLEBTmr7cu5dAtJ/xGnDsA05+YiD//43z06N+p8TY6/0No1OWVVW7DlrLzlqGcqzC3FYVomL8H4aid25fwxw1L9IBmuNibrxw8El4lEPaYnXt0QHRiBKrEe1RzZa8YCTfOSnN/3+OPwoVTTsb0OZdg2uO/wdmThqJDx+gjJsz/C+hByqvMKJYLQQ7RMvTiNeaUBcXD3Ia3+2F9Cko9SL2g2E5+can7TyLIa1xmb2mKd3kQMYJwyRtufuZiXPfIePzhH2Nx3UPjMW3uRNzy/KWY9uRvMOnm0zDklF46bOucs/hZIYbN0SkaPMUdJom5gZOguiixPmSih6AQ3B2BHCqCMTkIPceB/CKtSzElxUXqfksjXhdiEd7yv2uvJKQP6IRUeUzqEoMIEY5zzuHnDD1HSXlFvUAkkvKna3DDCcGSCgm/WEu8hbkvFsMqIxr+EA5hb9t7SMOvKvEyvbom635LI14pkPaO8QgMr9jzBzluqlBQXKbDznw9MT5KR7XoOdV7cGvUks7Yf709S1f1VtTUomuSvfWoJ1Yg7RAuUS8WT6GGL+VgRw6yI+uQDvtyPVeX5DiEiEDcwhDvId+2UyClFZXYtO+gDv36BPgiLSm+/hWLwQqkvSKGzqtaTJhlWLZ+h3yrPjo7Pmxgen2+IeKor8cwi4Lh6NamPQc0R+Eyk4wuiegQE8EmLA6sQNop9ARmM5OVxaXlWPvdHl3Czm1I3zT4M6+qD8ncOYgg1UvKK/H0+1+CfxmX+ce44wc0tGNpxAqkHcKJv4pqTvy5UCmegEvRCb1HsSTvXA+WnBCFyLAQNXr+ER0OY9NzMGfh1YvfZWVjzS735b4VUn9E/+7ahqUpViDtECbpFVyEKK6AInGHTLX493vLdI6DHuGi045FSP3EH0XCETreppTiOVRYiunPv4VASeb9/f1x6cjBSIqJ0rqWpliBtEMoCXMJLnML3r7ng682aE5B2fCm1acd2xsB9cPWvOSWS2NYn7nJg4sW42BRiTz3QWFNjQjk2CbX0FsasQJpp5gEnQn5noN5eHTBp3r9eXlNNSadfhwiHFcAcvlJSEigCMJ9A4icEvffBamoq8VTV41HSqz1HkfCCqQdQsPneisKhNeXP//+MuSIR6gWr9IxMRbnjRjY5PrxAD8/HJPeWUOvSgnFqqQeL7K6/aKzcFyvNOs9msEKpB1C40+Kj9J8giIplMSc16nUSHnGJWciPLjp9eMUwLgTBmDSKcdiQPdOOOe4ozHnmotwrjwGB/xMl9P8TPhF/p30Xzq8zvyT1Zsx7cmF7sWIso8e4c/nj8L4kwbBXzzG4eDFUzyWrwfVr8eyNI8VSDuEX1hJWQWuf/RV7Nifg8S4KFw95kQM63NUu1lP1l6wAmmn8GvjWipO+IUGByLUi//ITVtiBWKxNIP1xxZLM1iBWCzNYAVisTSDFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjFckSA/wP+p4hyIrinvAAAAABJRU5ErkJggg=="},404:function(e,t,a){e.exports=a.p+"static/media/secundary.48d69966.svg"},405:function(e,t,a){e.exports=a.p+"static/media/secundary.3b1c40f4.svg"},406:function(e,t,a){e.exports=a.p+"static/media/inactive.ee187bcc.svg"},407:function(e,t,a){e.exports=a.p+"static/media/quarternary.1b7d2236.svg"},408:function(e,t,a){e.exports=a.p+"static/media/secundary.67ccb83e.svg"},409:function(e,t,a){e.exports=a.p+"static/media/active.e1900b4f.svg"},410:function(e,t,a){e.exports=a.p+"static/media/inactive.b3fbfb33.svg"},411:function(e,t,a){e.exports=a.p+"static/media/heart-white.8e297fd4.svg"},412:function(e,t,a){e.exports=a.p+"static/media/active.93995dee.svg"},413:function(e,t,a){e.exports=a.p+"static/media/favourites-menu-inactive.76c9d847.svg"},414:function(e,t,a){e.exports=a.p+"static/media/inactive.b0611f9f.svg"},489:function(e,t){},496:function(e,t,a){},525:function(e,t,a){},531:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAh+SURBVHic7dmxDQIxAARBP3KE9BEZDdDLV0d5dPN0YQc7U8GFK90xxrgHAJDy2D0AAFhPAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBoXuPcvQEAWOz4jc+9ewQAsJYLAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACC5vv72r0BAFhsntdz9wYAYDEXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAE/QFDUgh36a0p6AAAAABJRU5ErkJggg=="},532:function(e,t,a){e.exports=a.p+"static/media/appointed.4a7182ca.ogg"},533:function(e,t,a){e.exports=a.p+"static/media/appointed.d46d7db1.mp3"},534:function(e,t,a){e.exports=a.p+"static/media/appointed.b1ef26b6.m4r"},537:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),c=a.n(i),o=a(6),l=a(10),s=a(2),d=a(29),u=a(200),m=a(3),p=a(5),f=a(79),b=a.n(f),h=a(201),E=(a(202),a(23)),_=function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]===e)return decodeURIComponent(n[1])}return null},g=function(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)};function O(e,t,a){var n=document.createElement("textarea");n.style.position="fixed",n.style.top=0,n.style.left=0,n.style.opacity=0,n.style.width="2em",n.style.height="2em",n.style.padding=0,n.style.border="none",n.style.outline="none",n.style.boxShadow="none",n.style.background="transparent",n.value=t,document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")&&e.info(a)}catch(i){e.error(r.a.createElement(r.a.Fragment,null,"Oops, unable to copy ",r.a.createElement("b",null,t))),console.error("Fallback: Oops, unable to copy",i)}document.body.removeChild(n)}var A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Link copied to the clipboard.";navigator.clipboard?navigator.clipboard.writeText(t).then((function(){e.info(a)}),(function(a){e.error(r.a.createElement(r.a.Fragment,null,"Oops, unable to copy ",r.a.createElement("b",null,t))),console.error("Async: Could not copy text: ",a)})):O(e,t,a)},v=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var a=new XMLHttpRequest;return a.open("HEAD",e,t),a.setRequestHeader("Access-Control-Allow-Origin","*"),a.setRequestHeader("Accept","application/json"),a.send(),0!==a.status&&a.status}catch(n){return console.log(n),!1}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!1===t.encode?Object.entries(e).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&"):Object.entries(e).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(encodeURIComponent(n))})).join("&")},j=a(203);function k(e,t,a,n,i){return function(c){c({type:t}),e.then((function(e){200===e.status||201===e.status||204===e.status?(c({type:a,data:e.data}),i&&i(null,e)):c({type:n,error:e})})).catch((function(e){if(e.response){if(422===e.response.status||403===e.response.status){for(var t=Object.entries(e.response.data.errors),a="",o=0,l=t.length;o<l;o++)for(var s=t[o],d=0,u=s[1].length;d<u;d++){var m=s[1][d];a+="".concat(m)}j.toastr.warning("Something went wrong",{component:function(){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})}})}e.response.status,500===e.response.status&&console.log(e.response.data),c({type:n,error:e}),i&&i(e)}}))}}function y(e,t,a){return function(n){n({type:e,data:t}),a&&a()}}a(81);var T=function(){var e=q(),t=window.location.protocol,a=window.location.port&&80!==window.location.port?":".concat(window.location.port):"";return g(window.location.hostname)||"localhost"===window.location.hostname?"".concat(t,"//").concat(window.location.hostname).concat(a):e?"".concat(t,"//").concat(e,".").concat("driff.io").concat(a):"".concat(t,"//").concat("driff.io").concat(a)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=q(),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),n=a.REACT_APP_ENV,r=a.REACT_APP_apiProtocol,i=a.REACT_APP_apiBaseUrl,c=a.REACT_APP_apiDNSName,o=a.REACT_APP_mockServerBaseUrl;switch(n){case"local":return"undefined"!==typeof e.isDNS&&!0===e.isDNS?"".concat(r).concat(c):"".concat(r).concat(i);case"development":case"production":var l=r;if("undefined"!==typeof e.noSlug&&!0===e.noSlug||(l+="".concat(t,".")),"undefined"!==typeof e.isDNS&&!0===e.isDNS)l+=c;else if("undefined"!==typeof e.isMockBased&&!0===e.isMockBased)l+=o;else{if(e.is_shared&&e.token)return"".concat(r).concat(e.slug,".").concat(i);l+=i}return l;default:return}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=q(),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),n=a.REACT_APP_ENV,r=a.REACT_APP_localDNSProtocol,i=a.REACT_APP_localDNSName,c=r;switch(n){case"local":return"".concat(r).concat(i);case"development":case"production":return"undefined"!==typeof e.noSlug&&!0===e.noSlug||(c+="".concat(t,".")),c+=i;default:return}},S=function(){return"translation-off"!==localStorage.getItem("logger")&&(!!["all","translation"].includes(localStorage.getItem("logger"))||(g(window.location.hostname)||"localhost"===window.location.hostname))},x=function(){var e=q();return"https://{{driffName}}.driff.io/api".replace("{{driffName}}",e)},I=a(1),R=a(27),P=a.n(R),D=a(38),L=a(39),F=function(){var e=Object(D.a)(P.a.mark((function e(t){var a,n,r,i,c,o,l,s,d,u,m,p,f,h,E,_,g,O,A,v;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(e){if(m){for(var t=new FormData,r=0,c=Object.keys(i);r<c.length;r++){var o=c[r];t.append(o,i[o])}i=t}return b()({method:a,url:s?"".concat(w({isMockBased:!0})).concat(n):A,data:i,responseType:d,crossDomain:!0,headers:{"Content-Type":m?"multipart/form-data":"application/json",Authorization:f&&i.token?"Bearer ".concat(i.token):e.token,"Accept-Language":_,"X-Timezone-Offset":g,"X-Timezone-Name":O},config:E})},a=t.method,n=t.url,r=t.data,i=void 0===r?null:r,c=t.register,o=void 0!==c&&c,l=t.mockServer,s=void 0!==l&&l,d=t.responseType,u=t.hasFile,m=void 0!==u&&u,p=t.is_shared,f=void 0!==p&&p,h=t.config,E=void 0===h?{timeout:5e3}:h,_=navigator.language||navigator.userLanguage,g=(new Date).getTimezoneOffset(),O=Intl.DateTimeFormat().resolvedOptions().timeZone,localStorage.getItem("loggedInUser.language")&&(_=localStorage.getItem("loggedInUser.language")),localStorage.getItem("loggedInUser.timezoneOffset")&&(g=localStorage.getItem("loggedInUser.timezoneOffset")),localStorage.getItem("loggedInUser.timezoneName")&&(O=localStorage.getItem("loggedInUser.timezoneName")),A=o?"".concat(w({noSlug:!0})).concat(n):f?"".concat(w({is_shared:!0,token:i.token,slug:i.slug})).concat(n):"".concat(w()).concat(n),e.abrupt("return",L.sessionService.loadSession().catch((function(e){throw e})).then((function(e){return v(e)})).then((function(e){return e})).catch((function(e){throw e})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(D.a)(P.a.mark((function e(t){var a,n,r,i,c,o,l,s,d,u,m,p,f,h,E,_,g,O,A,v;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(){var e=u?"".concat(w({isMockBased:!0})).concat(n):A;if(i)e=i;else{var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),r=t.REACT_APP_apiProtocol,c=t.REACT_APP_apiBaseUrl;"/announcement"===n&&(e="".concat(r).concat(c,"/announcement"))}var l={method:a,url:e,data:o,responseType:p,crossDomain:!0,headers:{"Content-Type":"application/json","Accept-Language":g,"X-Timezone-Offset":O},config:_};return h&&(l=Object(I.a)(Object(I.a)({},l),{},{headers:Object(I.a)(Object(I.a)({},l.headers),{},{Authorization:h})})),b()(l)},a=t.method,n=t.url,r=t.actualUrl,i=void 0===r?null:r,c=t.data,o=void 0===c?null:c,l=t.register,s=void 0!==l&&l,d=t.mockServer,u=void 0!==d&&d,m=t.responseType,p=void 0===m?"json":m,f=t.token,h=void 0===f?null:f,E=t.config,_=void 0===E?{timeout:5e3}:E,g=navigator.language||navigator.userLanguage,O=(new Date).getTimezoneOffset(),localStorage.getItem("loggedInUser.language")&&(g=localStorage.getItem("loggedInUser.language")),localStorage.getItem("loggedInUser.timezoneOffset")&&(O=localStorage.getItem("loggedInUser.timezoneOffset")),A=s?"".concat(w({noSlug:!0})).concat(n):"".concat(w()).concat(n),e.abrupt("return",v().then((function(e){return e})).catch((function(e){throw e})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function U(e){var t="/v1/files?file_type=".concat(e.file_type);return e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),F({method:"POST",url:t,data:e.file})}var G=a(13);function B(e){var t="/v2/global-recipients?".concat(C(e));return F({method:"GET",url:t,data:e})}function H(e){return F({method:"POST",url:"/v1/favourites",data:e})}var W=function(e,t){return k(M({method:"POST",url:"/register",register:!0,data:e}),"REGISTER_DRIFF_START","REGISTER_DRIFF_SUCCESS","REGISTER_DRIFF_FAILURE",t)},Q=function(e,t){return k((a=e,M({method:"PATCH",actualUrl:"".concat(w({noSlug:!0}),"/check-slug/?slug=").concat(a)})),"CHECK_DRIFF_START","CHECK_DRIFF_SUCCESS","CHECK_DRIFF_FAILURE",t);var a},Y=function(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/dashboard-timeline/?".concat(C(e))})}(e),"GET_COMPANY_DASHBOARD_TIMELINE_START","GET_COMPANY_DASHBOARD_TIMELINE_SUCCESS","GET_COMPANY_DASHBOARD_TIMELINE_FAILURE",t)},z=function(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/dashboard-recent-posts/?".concat(C(e))})}(e),"GET_COMPANY_DASHBOARD_RECENT_POST_START","GET_COMPANY_DASHBOARD_RECENT_POST_SUCCESS","GET_COMPANY_DASHBOARD_RECENT_POST_FAILURE",t)},V=function(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/dashboard-members/?".concat(C(e))})}(e),"GET_COMPANY_DASHBOARD_MEMBERS_START","GET_COMPANY_DASHBOARD_MEMBERS_SUCCESS","GET_COMPANY_DASHBOARD_MEMBERS_FAILURE",t)},K=function(){var e=Object(o.useDispatch)(),t=cd(),a=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Q(t,a))}),[e]),r=Object(n.useCallback)((function(){return g(window.location.hostname)?"".concat("https://").concat(window.location.hostname):"localhost"===window.location.hostname?"".concat("https://","localhost"):"".concat("https://").concat("driff.io")}),[]),i=Object(n.useCallback)((function(){var e=localStorage.getItem("slug");return e||null}),[]),c=Object(n.useCallback)((function(){localStorage.removeItem("slug")}),[]),l=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?localStorage.setItem("slug",e):a(e,(function(t,a){a&&a.status?localStorage.setItem("slug",e):c()}))}),[]),s=Object(n.useCallback)((function(){if(g(window.location.hostname)||"localhost"===window.location.hostname)return null;if("driff.io"===window.location.hostname)return null;var e=window.location.hostname.split(".");return e.length>=3&&e[0]}),[]),d=Object(n.useCallback)((function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(W(a,(function(e,a){e&&t.error("Something went wrong!"),a&&t.success("Driff successfully created."),n(e,a)})))}),[e]);return{check:a,create:d,getBaseUrl:r,getName:i,getByHostname:s,storeName:l,unStoreName:c}},q=function(){var e=_("driff");if(e)return e;if(e=localStorage.getItem("slug"))return e;if(g(window.location.hostname))return null;if("driff.io"===window.location.hostname)return null;var t=window.location.hostname.split(".");return t.length>=3?t[0]:"localhost"===t[0]&&null},J=!1,Z=function(){var e=K(),t=Object(n.useState)(e.getName()),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(e.getName()),o=Object(p.a)(c,2),l=o[0],s=o[1];return Object(n.useEffect)((function(){if(!J)if(J=!0,l)e.check(l,(function(t,a){a&&a.data.status||(e.unStoreName(),i(!0))}));else{var t=e.getByHostname();!1===t?i(!0):null!==t?e.check(t,(function(a,n){n&&n.data.status?(e.storeName(t,!0),s(t)):(e.unStoreName(),i(!0))})):i(!1)}}),[]),{actions:e,redirected:r,registeredDriff:l,setRegisteredDriff:s}},X=function(e,t,a){var r=Object(n.useRef)(t);Object(n.useEffect)((function(){r.current=t}));var i=function(t){e.current&&!e.current.contains(t.target)&&r.current()},c=function(e){27===e.keyCode&&r.current()};Object(n.useEffect)((function(){if(a)return document.addEventListener("click",i),document.addEventListener("keydown",c),function(){document.removeEventListener("click",i),document.removeEventListener("keydown",c)}}),[a])},$=a(8),ee=a(50),te=a.n(ee),ae=a(204),ne=a.n(ae),re=a(205),ie=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ce=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},oe=function(e){var t=document.createElement("p");t.innerHTML=e;var a=t.querySelectorAll('img[src$=".gif"]');return null!==a?(Array.prototype.forEach.call(a,(function(e){e.parentNode.removeChild(e)})),t.innerHTML):e},le=function(e){return Object(re.toArray)(e).reduce((function(e,t){return"string"===typeof t?e+t:e+t.props.children}),"")},se=function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),a=t.REACT_APP_localDNSName,n=t.REACT_APP_ENV,r="https://".concat(q(),".").concat(a,"/task/"),i="https://".concat(q(),".").concat(a,"/chat/");if("development"===n&&(r="https://".concat(a,"/task/"),i="https://".concat(a,"/chat/")),r.startsWith(r)&&e.includes(r)){var c=e.replace(r,"");return"<span class='task-url task-link' data-id='".concat(c,"'>").concat(c,"</span>")}if(i.startsWith(i)&&e.includes(i)){var o=e.split("/").filter((function(e){return""!==e})),l=null,s=null;return 4===o.length?l=o[3]:o.length>=5&&(l=o[3],s=o[4]),"<span class='chat-url chat-link' data-cid='".concat(l,"' data-mid='").concat(s,"'>").concat(e,"</span>")}return null},de=function(e,t){return e.replace(/(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\x{00a1}\-\x{ffff}0-9]+-?)*[a-z\x{00a1}\-\x{ffff}0-9]+)(?:\.(?:[a-z\x{00a1}\-\x{ffff}0-9]+-?)*[a-z\x{00a1}\-\x{ffff}0-9]+)*(?:\.(?:[a-z\x{00a1}\-\x{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?/gi,(function(e){if(ie.test(e))return' <a href="mailto:'+e+'" target="_blank">'+e+"</a>";return' <a href="'+(/^(?:(?:https?|ftp):\/\/)/i.test(e)?e:"http://"+e)+'" target="_blank">'+e+"</a>"}))},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.toLowerCase().replace(/\s|\//g,t)},me=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",i=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=Object(n.useState)({}),d=Object(p.a)(s,2),u=d[0],m=d[1],f=Object(n.useState)([]),b=Object(p.a)(f,2),h=b[0],_=b[1],g=Object(o.useSelector)((function(e){return e.users.mentions})),O=Object(n.useRef)(t);Object(n.useEffect)((function(){O.current=t}));var A=function(){O.current()},v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),C=v.REACT_APP_apiProtocol,j=v.REACT_APP_localDNSName,k=function(){var t={id:a(37).generate(),profile_image_link:a(354),value:"All",name:"All users in this channel",class:"all-pic"},n=[];n=c.length?[].concat(Object($.a)(c.map((function(e){return Object.assign({},e,{value:e.first_name,id:e.id,type_id:e.id,class:"user-pic",link:"".concat(C).concat(localStorage.getItem("slug"),".").concat(j,"/profile/").concat(e.id,"/").concat(ue(e.name))})}))),[t]):[].concat(Object($.a)(Object.entries(g).map((function(e,t){var a=Object(p.a)(e,2),n=(a[0],a[1]);return Object.assign({},n,{value:n.first_name,id:n.id,type_id:n.id,class:"user-pic all-users",profile_image_link:n.profile_image_link?n.profile_image_link:ne.a,link:"".concat(C).concat(localStorage.getItem("slug"),".").concat(j,"/profile/").concat(n.id,"/").concat(ue(n.name))})}))),[t]),l?n=[]:_(n);var o={mention:{allowedChars:/^[A-Za-z\s\xc5\xc4\xd6\xe5\xe4\xf6]*$/,defaultMenuOrientation:r,spaceAfterInsert:!0,fixMentionsToQuill:!1,mentionDenotationChars:["@"],minChars:0,source:function(e,t,a){var r;if("@"===a&&(r=n),0===e.length)t(r,e);else{var i,c=[];for(i=0;i<r.length;i++)~r[i].value.toLowerCase().indexOf(e.toLowerCase())&&c.push(r[i]);t(c,e)}},renderItem:function(e,t){var a="position: relative; width: 30px; height: 30px; min-width: 30px; min-height: 30px; border-radius: 50%; margin-right: 10px; z-index: 1; pointer-events: auto; border: none; overflow: hidden; cursor: pointer;";return"string"===typeof e.id&&(a="position: relative; width: 24px; height: 24px; min-width: 24px; min-height: 24px; border-radius: 50%; margin-right: 10px; z-index: 1; pointer-events: auto; border: none; overflow: hidden; cursor: pointer;"),'<span class="'+e.class+'" style="'+a+'"><img src="'+e.profile_image_link+'" draggable="false" style="width: 100%; height: 100%; position: absolute; left: 0; top: 0;" alt="'+e.value+'"></span>&nbsp; <span style="width: auto; line-height: 1.35;">'+e.name+"</span>"}},toolbar:["bold","italic","link","image"],keyboard:{bindings:{tab:!1,handleEnter:{key:13,metaKey:!(!E.osName.includes("Mac")||"chat"===e),ctrlKey:!(!E.osName.includes("Windows")&&!E.osName.includes("Linux")||"chat"===e),handler:function(){A()}},linebreak:{key:13,metaKey:!0,handler:function(t,a){E.osName.includes("Mac")&&"chat"===e&&(i.current.getEditor().insertEmbed(t.index+1,"block",!0,"user"),i.current.getEditor().setSelection(t.index+1,ee.Quill.sources.SILENT))}},disableUnderline:{key:85,ctrlKey:!0,handler:function(){}}}}};m(o)};Object(n.useEffect)((function(){k()}),[]),Object(n.useEffect)((function(){Object.keys(g).length&&Object.keys(g).length+1!==h.length&&k()}),[Object.keys(g).length],h.length);var y=["background","bold","color","font","code","italic","link","size","strike","script","blockquote","header","indent","list","align","direction","image","video"];return[u,y]},pe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=Object(o.useSelector)((function(e){return e.session.user})),i=Sl(),c=i.chatSettings,l=function(e){if("DIRECT"===e.type&&2===e.members.length){var t=e.members.filter((function(e){return e.id!==r.id}))[0];return t.hasOwnProperty("first_name")?t.first_name:t.name}return e.title},s=Object.values(e).filter((function(e){var i=e.members.some((function(e){return e.id===r.id}));if("undefined"===typeof e.add_user&&(e.add_user=!1),"undefined"===typeof e.add_open_topic&&(e.add_open_topic=!i),a.type&&"DIRECT"===a.type){if("DIRECT"!==e.type&&"PERSON"!==e.type)return!1;if(2!==e.members.length)return!1}return!(n&&("TOPIC"!==e.type||!i))&&(e.is_relevant=0,t.length>=5&&"DIRECT"===e.type&&e.members.filter((function(e){return e.id!==r.id})).some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())}))&&(e.is_relevant=1),""===t?!(e.is_hidden||!0===e.is_archived||e.add_user||e.add_open_topic):"DIRECT"===e.type&&2===e.members.length?e.members.filter((function(e){return e.id!==r.id})).some((function(e){return-1!==e.email.toLowerCase().search(t.toLowerCase())||-1!==e.name.toLowerCase().search(t.toLowerCase())})):-1!==e.search.toLowerCase().search(t.toLowerCase())||-1!==e.title.toLowerCase().search(t.toLowerCase())||e.members.filter((function(e){return e.id!==r.id})).some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(-1!==t.toLowerCase())})))})).sort((function(e,a){var n=0,r=l(e),i=l(a);if("PERSONAL_BOT"===e.type&&"PERSONAL_BOT"!==a.type&&(0!==e.total_unread||!e.is_read||0!==e.total_mark_incomplete))return-1;if("PERSONAL_BOT"===a.type&&"PERSONAL_BOT"!==e.type&&(0!==a.total_unread||!a.is_read||0!==a.total_mark_incomplete))return 1;if(0!==(n=a.is_relevant-e.is_relevant))return n;if((e.add_user||e.add_open_topic)&&!a.add_user&&!a.add_open_topic)return 1;if((a.add_user||a.add_open_topic)&&!e.add_user&&!e.add_open_topic)return-1;if(0!==(n=a.is_pinned-e.is_pinned))return n;if(""!==t){if("DIRECT"!==e.type||"DIRECT"!==a.type){if("DIRECT"===e.type)return-1;if("DIRECT"===a.type)return 1}if(!e.last_reply&&!a.last_reply&&("DIRECT"===e.type||"DIRECT"===a.type)){if("DIRECT"===e.type)return-1;if("DIRECT"===a.type)return 1}}if(t.length>2){if((a.is_hidden||!0===a.is_archived)&&!e.is_hidden&&!0!==a.is_archived)return-1;if((e.is_hidden||!0===e.is_archived)&&!a.is_hidden&&!0!==a.is_archived)return 1}if("channel_date_updated"===c.order_channel.order_by){if(e.last_reply&&a.last_reply)return e.last_reply.created_at.timestamp===a.last_reply.created_at.timestamp?r.localeCompare(i):"DESC"===c.order_channel.sort_by?a.last_reply.created_at.timestamp-e.last_reply.created_at.timestamp:e.last_reply.created_at.timestamp-a.last_reply.created_at.timestamp;if(e.last_reply&&!a.last_reply)return-1;if(!e.last_reply&&a.last_reply)return 1;if(!e.last_reply&&!a.last_reply)return r.localeCompare(i)}return"channel_name"===c.order_channel.order_by?"DESC"===c.order_channel.sort_by?i.localeCompare(r):r.localeCompare(i):void 0}));return[s]},fe=a(52),be=a.n(fe),he=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=i.vertical,o=void 0===c?0:c,l=i.horizontal,s=void 0===l?0:l,d=Object(n.useState)({vertical:null,horizontal:null}),u=Object(p.a)(d,2),m=u[0],f=u[1],b=Object(n.useCallback)((function(){if(!e)return null;var t=e.current.getBoundingClientRect(),n=window.innerHeight/2,r=o;return a&&(r=a.parentElement.getBoundingClientRect().y,n=a.parentElement.clientHeight/2),r+=o,t.y-r<n?"bottom":"top"}),[e,a]),h=Object(n.useCallback)((function(){if(!e)return null;var t=e.current.getBoundingClientRect(),n=window.innerWidth/2,r=0;return a&&(r=a.parentElement.getBoundingClientRect().x,n=a.parentElement.clientWidth/2),r+=s,t.x-r<n?"right":"left"}),[e,a]);return Object(n.useEffect)((function(){var e=be.a.debounce((function(){t.current&&f({vertical:b(),horizontal:h(),clientHeight:t.current.clientHeight})}),200);if(r)return e(),a&&a.addEventListener("scroll",e),function(){a&&a.removeEventListener("scroll",e)}}),[r,a,h,b]),{orientation:m}},Ee=a(18),_e=a(80),ge=a(53),Oe=a(54),Ae=function(e){return/(?:(?:ht|f)tp(?:s?):\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |/.,*:;=]|%[a-f\d]{2})*)?/gi.test(e)},ve=a(98),Ce=a.n(ve),je=a(25),ke=a.n(je),ye=a(99),Te=a.n(ye);function we(){var e=Object(s.a)(["\n  ",";\n"]);return we=function(){return e},e}var Ne=m.a.svg(we(),(function(e){return"undefined"!==typeof e.rotate&&"transform: rotate(".concat(e.rotate,"deg);")})),Se=r.a.memo(r.a.forwardRef((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.width,c=void 0===i?24:i,o=e.height,l=void 0===o?24:o,s=e.viewBox,d=void 0===s?"0 0 24 24":s,u=e.fill,m=void 0===u?"none":u,p=e.stroke,f=void 0===p?"currentColor":p,b=e.strokeWidth,h=void 0===b?"2":b,E=e.strokeLinecap,_=void 0===E?"round":E,g=e.strokeLinejoin,O=void 0===g?"round":g,A=e.icon,v=Object(G.a)(e,["className","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"]),C="";switch(A){case"clock":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polyline",{points:"12 6 12 12 16 14"}));break;case"phone":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}));break;case"sun":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"5"}),r.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),r.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),r.a.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),r.a.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),r.a.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),r.a.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),r.a.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),r.a.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}));break;case"compass":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}));break;case"home":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}));break;case"calendar":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}));break;case"book-open":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),r.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}));break;case"check":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"20 6 9 17 4 12"}));break;case"chevron-down":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"6 9 12 15 18 9"}));break;case"chevron-left":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"15 18 9 12 15 6"}));break;case"chevron-right":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"9 18 15 12 9 6"}));break;case"pencil":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}));break;case"circle":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}));break;case"circle-plus":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}));break;case"lock":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}));break;case"unlock":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}));break;case"user-plus":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),r.a.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),r.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}));break;case"user":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.a.createElement("circle",{cx:"12",cy:"7",r:"4"}));break;case"users":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),r.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}));break;case"eye":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}));break;case"eye-off":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));break;case"star":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));break;case"volume-x":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),r.a.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),r.a.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"}));break;case"volume-2":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),r.a.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}));break;case"volume":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}));break;case"menu":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}));break;case"upload-cloud":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"16 16 12 12 8 16"}),r.a.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),r.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),r.a.createElement("polyline",{points:"16 16 12 12 8 16"}));break;case"monitor":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21"}));break;case"corner-up-right":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"15 14 20 9 15 4"}),r.a.createElement("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"}));break;case"arrow-left":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r.a.createElement("polyline",{points:"12 19 5 12 12 5"}));break;case"arrow-right":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.a.createElement("polyline",{points:"12 5 19 12 12 19"}));break;case"download":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.a.createElement("polyline",{points:"7 10 12 15 17 10"}),r.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}));break;case"start":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));break;case"mail":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),r.a.createElement("polyline",{points:"22,6 12,13 2,6"}));break;case"database":h="1",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),r.a.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),r.a.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}));break;case"rotate-ccw":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"1 4 1 10 7 10"}),r.a.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}));break;case"refresh-ccw":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"1 4 1 10 7 10"}),r.a.createElement("polyline",{points:"23 20 23 14 17 14"}),r.a.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}));break;case"refresh-cw":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"23 4 23 10 17 10"}),r.a.createElement("polyline",{points:"1 20 1 14 7 14"}),r.a.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}));break;case"share":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"18",cy:"5",r:"3"}),r.a.createElement("circle",{cx:"6",cy:"12",r:"3"}),r.a.createElement("circle",{cx:"18",cy:"19",r:"3"}),r.a.createElement("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),r.a.createElement("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}));break;case"link":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),r.a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}));break;case"play":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}));break;case"plus":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}));break;case"x":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));break;case"trash":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"3 6 5 6 21 6"}),r.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}));break;case"trash-2":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"3 6 5 6 21 6"}),r.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),r.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),r.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}));break;case"edit":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}));break;case"edit-2":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}));break;case"edit-3":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M12 20h9"}),r.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}));break;case"search":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),r.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}));break;case"image":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.a.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),r.a.createElement("polyline",{points:"21 15 16 10 5 21"}));break;case"heart":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}));break;case"video":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),r.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}));break;case"video-off":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}),r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));break;case"save":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),r.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),r.a.createElement("polyline",{points:"7 3 7 8 15 8"}));break;case"smile":h="0",c="16",l="16",d="0 0 16 16",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M0,8a8,8,0,1,1,8,8A8.01,8.01,0,0,1,0,8ZM1.143,8A6.857,6.857,0,1,0,8,1.143,6.865,6.865,0,0,0,1.143,8Zm4.785,2.731L5.9,10.706a.572.572,0,0,1,.748-.865,2.3,2.3,0,0,0,2.713,0l.032-.025a.571.571,0,0,1,.683.915,3.411,3.411,0,0,1-4.144,0ZM9.715,6.857A1.143,1.143,0,1,1,10.858,8,1.143,1.143,0,0,1,9.715,6.857ZM4,6.857A1.143,1.143,0,1,1,5.143,8,1.143,1.143,0,0,1,4,6.857Z",fill:"currentColor"}));break;case"paperclip":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}));break;case"send":h="0",c="16.696",l="16",d="0 0 16.696 16",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M6.446,15.974a.522.522,0,0,1-.359-.5V12.252l2.83.967L7.029,15.787a.52.52,0,0,1-.42.213A.514.514,0,0,1,6.446,15.974Zm7.646-2.089L6.8,11.393l7.17-8.64L4.7,10.677.353,9.19a.522.522,0,0,1-.072-.957L15.933.059a.523.523,0,0,1,.758.54L14.777,13.469a.521.521,0,0,1-.517.445A.541.541,0,0,1,14.092,13.885Z",transform:"translate(0 0)",fill:"#fff"}));break;case"folder":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}));break;case"folder-plus":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),r.a.createElement("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),r.a.createElement("line",{x1:"9",y1:"14",x2:"15",y2:"14"}));break;case"file":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.a.createElement("polyline",{points:"13 2 13 9 20 9"}));break;case"moon":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}));break;case"bell":h="2",C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),r.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}));break;case"bar-chart-2":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),r.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),r.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}));break;case"command":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}));break;case"message-square":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}));break;case"message-circle":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}));break;case"settings":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),r.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}));break;case"log-out":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.a.createElement("polyline",{points:"16 17 21 12 16 7"}),r.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}));break;case"more-horizontal":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"19",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"5",cy:"12",r:"1"}));break;case"more-vertical":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"19",r:"1"}));break;case"archive":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),r.a.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),r.a.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"}));break;case"gdrive":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"m323.303 31h-133.799c-5.361 0-10.313 2.856-12.993 7.5s-2.681 10.356 0 15l143.042 247.5h168.726l-151.998-262.515c-2.68-4.629-7.632-7.485-12.978-7.485z"}),r.a.createElement("path",{d:"m154.034 75.947-152.011 262.538c-2.622 4.512-2.695 10.049-.22 14.648l64.805 120c2.578 4.775 7.544 7.793 12.979 7.866h.22c5.347 0 10.313-2.856 12.993-7.5l145.494-251.757z"}),r.a.createElement("path",{d:"m509.88 338.31c-2.695-4.526-7.588-7.31-12.876-7.31h-286.41l-86.678 150h308.284c5.508 0 10.576-3.018 13.198-7.866l64.805-120c2.504-4.658 2.387-10.283-.323-14.824z"}));break;case"info":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}));break;case"warning":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));break;case"alert-x":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),r.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}));break;case"list":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),r.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),r.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),r.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}));break;case"alert-circle":C=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}));default:console.log("".concat(A," not found"))}return r.a.createElement(Ne,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:l,viewBox:d,fill:m,stroke:f,strokeWidth:h,strokeLinecap:_,strokeLinejoin:O,className:"feather feather-".concat(A," ").concat(n)},v),C)}))),xe=r.a.memo(r.a.forwardRef((function(e,t){var n=e.className,i=void 0===n?"":n,c=e.width,o=void 0===c?24:c,l=e.height,s=void 0===l?24:l,d=e.fill,u=void 0===d?"none":d,m=e.stroke,p=void 0===m?"currentColor":m,f=e.strokeWidth,b=void 0===f?"1":f,h=e.strokeLinecap,E=void 0===h?"round":h,_=e.strokeLinejoin,g=void 0===_?"round":_,O=e.icon,A=Object(G.a)(e,["className","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"]);if("gripp-logo"===O)return r.a.createElement("img",{alt:"gripp logo",className:"icon-".concat(O," ").concat(i),width:o,height:s,src:a(161)});var v="",C="";switch(O){case"archive":C="0 0 48 48",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0%",y1:"7.77940102%",x2:"100%",y2:"92.220599%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),r.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),r.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),r.a.createElement("g",{id:"_icon/archive/l/active",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M39,20.5 C39.7796961,20.5 40.4204487,21.0948881 40.4931334,21.85554 L40.5,22 L40.5,37.4285714 C40.5,39.5999931 38.8250623,41.3885867 36.7004613,41.4949924 L36.5,41.5 L11.5,41.5 C9.3484916,41.5 7.6083567,39.777207 7.50486965,37.630981 L7.5,37.4285714 L7.5,22 C7.5,21.1715729 8.17157288,20.5 9,20.5 C9.77969612,20.5 10.4204487,21.0948881 10.4931334,21.85554 L10.5,22 L10.5,37.4285714 C10.5,37.9895449 10.8983759,38.4367012 11.3927122,38.4938289 L11.5,38.5 L36.5,38.5 C37.006502,38.5 37.4386447,38.0902419 37.4940126,37.5469373 L37.5,37.4285714 L37.5,22 C37.5,21.1715729 38.1715729,20.5 39,20.5 Z M29.5,22 C30.8807119,22 32,23.1192881 32,24.5 C32,25.8807119 30.8807119,27 29.5,27 L18.5,27 C17.1192881,27 16,25.8807119 16,24.5 C16,23.1192881 17.1192881,22 18.5,22 L29.5,22 Z M38.6,7.5 C40.7539105,7.5 42.5,9.24608948 42.5,11.4 L42.5,11.4 L42.5,14.6 C42.5,16.7539105 40.7539105,18.5 38.6,18.5 L38.6,18.5 L9.4,18.5 C7.24608948,18.5 5.5,16.7539105 5.5,14.6 L5.5,14.6 L5.5,11.4 C5.5,9.24608948 7.24608948,7.5 9.4,7.5 L9.4,7.5 Z M38.6,10.5 L9.4,10.5 C8.90294373,10.5 8.5,10.9029437 8.5,11.4 L8.5,11.4 L8.5,14.6 C8.5,15.0970563 8.90294373,15.5 9.4,15.5 L9.4,15.5 L38.6,15.5 C39.0970563,15.5 39.5,15.0970563 39.5,14.6 L39.5,14.6 L39.5,11.4 C39.5,10.9029437 39.0970563,10.5 38.6,10.5 L38.6,10.5 Z",id:"Combined-Shape",fill:"url(#linearGradient-1)",fillRule:"nonzero"})));break;case"reply":C="0 0 41 31",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"-1.11022302e-14%",y1:"1.72254642e-14%",x2:"100%",y2:"100%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),r.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),r.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),r.a.createElement("g",{id:"E---Notifications",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"E1---01a-Notifications---Overview",transform:"translate(-42.000000, -1381.000000)",fill:"url(#linearGradient-1)",fillRule:"nonzero"},r.a.createElement("g",{id:"Group-13",transform:"translate(20.000000, 1364.000000)"},r.a.createElement("g",{id:"Group-24-Copy-3",transform:"translate(11.000000, 0.000000)"},r.a.createElement("g",{id:"_icon/reply/l/active",transform:"translate(8.000000, 9.000000)"},r.a.createElement("path",{d:"M20.5,37 C20.5,38.309747 18.9390974,38.990409 17.9793234,38.0991902 L3.97932335,25.0991902 C3.35630446,24.5206727 3.3381597,23.54052 3.93933983,22.9393398 L17.9393398,8.93933983 C18.8842871,7.99439254 20.5,8.66364272 20.5,10 L20.5,19.3691406 C20.5,20.1975677 19.8284271,20.8691406 19,20.8691406 C18.1715729,20.8691406 17.5,20.1975677 17.5,19.3691406 L17.5,13.6213203 L7.16133128,23.9599891 L17.5,33.5601814 L17.5,24.5 C17.5,23.6715729 18.1715729,23 19,23 L34.2221177,23 C39.3466003,23 43.5008143,27.154214 43.5008143,32.2786967 C43.5008143,32.6274968 43.4811465,32.9760194 43.4419044,33.322605 C43.3487014,34.1457725 42.6058364,34.7375257 41.7826689,34.6443227 C40.9595014,34.5511198 40.3677483,33.8082547 40.4609512,32.9850873 C40.4875055,32.7505601 40.5008143,32.5147223 40.5008143,32.2786967 C40.5008143,28.8110682 37.6897461,26 34.2221177,26 L20.5,26 L20.5,37 Z",id:"Path"})))))));break;case"document":C="0 0 1536 1792",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M1468 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28H96q-40 0-68-28t-28-68V96q0-40 28-68T96 0h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528V640H992q-40 0-68-28t-28-68V128H128v1536h1280zM384 800q0-14 9-23t23-9h704q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64zm736 224q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704zm0 256q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704z",fill:"#626262"}));break;case"image-video":C="0 0 448 512",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"currentColor",d:"M128 192a32 32 0 1 0-32-32 32 32 0 0 0 32 32zM416 32H32A32 32 0 0 0 0 64v384a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 320H64V96h320zM268.8 209.07a16 16 0 0 0-25.6 0l-49.32 65.75L173.31 244a16 16 0 0 0-26.62 0L96 320h256z"}));break;case"pin":C="0 0 24 24",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{id:"_icon/pin/r/secundary",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M15.7692308,8.70635677 C18.2871227,9.7169252 20,11.7084386 20,14 L4,14 C4,11.7084386 5.71287732,9.7169252 8.23076923,8.70635677 L8.23076923,2 L15.7692308,2 L15.7692308,8.70635677 Z",id:"Combined-Shape",stroke:"#972C86",strokeWidth:"2"}),r.a.createElement("path",{d:"M10.5,17.4019238 L13.5,22.5980762",id:"Line-2",stroke:"#972C86",strokeWidth:"2",transform:"translate(12.000000, 20.000000) rotate(30.000000) translate(-12.000000, -20.000000)"})));break;case"mute":C="0 0 24 24",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M6.092 15H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h4l5.293-5.293A1 1 0 0 1 16 4.414V6.5m0 5.5v7.558a1 1 0 0 1-1.713.701l-4.04-4.104"}),r.a.createElement("path",{d:"M6 19.818L21 7"}));break;case"driff-logo":C="0 0 465 355",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"100%",y2:"100%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),r.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),r.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),r.a.createElement("g",{id:"Symbols,-Styles-&-Typography",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"logo/gradient",fill:"url(#linearGradient-1)"},r.a.createElement("path",{d:"M444.876694,189.762858 C444.876694,184.355858 449.260694,179.972858 454.666694,179.972858 C460.073694,179.972858 464.456694,184.355858 464.456694,189.762858 C464.456694,195.169858 460.073694,199.552858 454.666694,199.552858 C449.260694,199.552858 444.876694,195.169858 444.876694,189.762858 Z M153.753094,95.3067584 C175.403094,118.181758 181.133094,149.458758 172.867094,179.417758 C162.355094,217.514758 130.210094,243.101758 94.2370945,256.022758 C81.8950945,260.454758 68.7470945,263.670758 55.6180945,264.438758 C51.9980945,264.651758 48.0080945,264.726758 44.5210945,263.619758 C38.5750945,261.731758 37.1550945,256.791758 37.3080945,251.188758 C38.6900945,200.786758 39.9310945,150.357758 39.2580945,99.9347584 C39.1110945,88.9087584 56.2120945,88.9397584 56.3580945,99.9347584 C56.4540945,107.041758 56.5080945,114.149758 56.5260945,121.256758 C56.5970945,149.275758 56.1930945,177.294758 55.5860945,205.306758 C55.3590945,215.758758 55.1000945,226.208758 54.8160945,236.659758 C54.7190945,240.186758 54.7800945,243.789758 54.6920945,247.366758 C55.0770945,247.351758 55.4610945,247.349758 55.8460945,247.325758 C56.9890945,247.254758 58.1310945,247.153758 59.2700945,247.033758 C59.8690945,246.970758 60.4650945,246.892758 61.0640945,246.826758 C61.0780945,246.824758 61.0870945,246.822758 61.1010945,246.820758 C67.0860945,245.854758 72.9920945,244.635758 78.8330945,242.998758 C82.2310945,242.046758 85.5960945,240.981758 88.9230945,239.806758 C92.5540945,238.524758 95.8140945,237.227758 98.1920945,236.172758 C129.822094,222.134758 155.397094,196.918758 159.092094,160.933758 C159.473094,157.220758 159.705094,153.475758 159.607094,149.741758 C159.573094,148.469758 159.502094,147.199758 159.396094,145.931758 C159.352094,145.409758 159.121094,143.665758 159.076094,143.216758 C158.206094,138.036758 156.832094,133.068758 155.028094,128.124758 C154.464094,126.577758 154.802094,127.518758 154.783094,127.474758 C154.475094,126.772758 154.162094,126.074758 153.836094,125.381758 C153.217094,124.070758 152.560094,122.778758 151.866094,121.506758 C150.370094,118.763758 148.702094,116.114758 146.875094,113.578758 C146.704094,113.341758 146.048094,112.473758 145.807094,112.148758 C145.547094,111.835758 144.858094,110.989758 144.647094,110.738758 C143.602094,109.499758 142.518094,108.294758 141.399094,107.123758 C138.961094,104.572758 136.350094,102.198758 133.608094,99.9767584 C132.620094,99.1757584 133.820094,100.088758 132.413094,99.0617584 C131.623094,98.4847584 130.829094,97.9137584 130.022094,97.3607584 C128.481094,96.3017584 126.905094,95.2937584 125.301094,94.3317584 C121.761094,92.2077584 118.082094,90.3107584 114.305094,88.6447584 C106.927094,85.3897584 96.8400945,82.5727584 88.0410945,80.9087584 C62.7140945,76.1177584 36.1160945,77.7367584 10.7810945,81.5557584 C6.19809447,82.2467584 1.60809447,80.4727584 0.26409447,75.5837584 C-0.85490553,71.5117584 1.66609447,65.7547584 6.23509447,65.0657584 C14.6450945,63.7987584 23.0840945,62.7127584 31.5590945,61.9977584 C73.4210945,58.4627584 123.117094,62.9357584 153.753094,95.3067584 Z M333.321994,31.2604584 C333.606994,31.4904584 334.527994,32.0314584 333.321994,31.2604584 Z M334.095994,27.7654584 C334.627994,27.2394584 334.361994,27.4264584 334.095994,27.7654584 Z M249.691994,203.864458 C249.443994,203.615458 249.509994,203.683458 249.691994,203.864458 Z M436.655994,129.367458 C437.285994,128.286458 437.764994,127.117458 438.367994,126.027458 C442.031994,115.884458 458.325994,120.367458 454.787994,130.746458 C452.063994,138.737458 446.559994,146.098458 440.028994,151.345458 C430.246994,159.202458 418.730994,162.384458 406.891994,162.450458 C424.394994,193.161458 428.839994,231.853458 425.059994,266.436458 C423.288994,282.647458 419.952994,298.578458 413.287994,313.520458 C409.426994,322.175458 403.979994,331.211458 395.923994,336.574458 C388.955994,341.213458 378.923994,341.649458 375.738994,332.433458 C373.563994,326.142458 373.676994,318.677458 373.412994,312.093458 C372.350994,285.709458 373.186994,259.211458 373.805994,232.826458 C374.225994,214.956458 374.736994,197.089458 375.218994,179.221458 C367.471994,181.876458 359.245994,182.902458 350.967994,182.712458 C357.273994,196.084458 359.724994,211.191458 361.287994,225.745458 C362.961994,241.332458 363.400994,257.319458 361.845994,272.935458 C359.969994,291.775458 355.275994,310.275458 346.877994,327.295458 C342.381994,336.404458 336.004994,347.965458 326.451994,352.659458 C303.822994,363.778458 308.115994,317.102458 308.192994,306.912458 C308.442994,274.095458 309.858994,241.293458 310.746994,208.489458 C308.053994,209.346458 305.195994,209.757458 302.165994,209.566458 C291.027994,208.866458 284.320994,199.906458 280.508994,190.346458 C278.996994,195.094458 277.265994,199.765458 275.230994,204.311458 C269.782994,216.478458 260.200994,226.809458 245.809994,221.313458 C228.482994,214.696458 230.620994,194.017458 233.734994,179.302458 C235.047994,173.095458 236.726994,166.977458 238.406994,160.861458 C234.410994,163.548458 230.113994,165.784458 225.586994,167.445458 C224.622994,167.798458 223.619994,168.134458 222.588994,168.450458 C220.597994,179.747458 216.214994,190.878458 210.729994,200.440458 C201.734994,216.124458 187.267994,230.038458 168.803994,232.928458 C164.223994,233.644458 159.624994,231.825458 158.285994,226.956458 C157.161994,222.866458 159.691994,217.153458 164.257994,216.439458 C179.022994,214.128458 189.164994,204.002458 196.441994,190.965458 C199.862994,184.837458 202.660994,177.722458 204.455994,170.708458 C198.452994,170.186458 192.829994,168.103458 188.802994,163.517458 C179.845994,153.314458 182.949994,136.882458 195.312994,131.090458 C202.736994,127.612458 211.388994,127.373458 217.316994,133.682458 C221.362994,137.989458 222.913994,144.000458 223.475994,149.798458 C225.670994,148.780458 227.801994,147.585458 229.843994,146.162458 C232.128994,144.571458 234.750994,142.140458 236.909994,139.799458 C237.804994,138.828458 238.668994,137.824458 239.490994,136.791458 C239.433994,136.826458 240.850994,134.900458 241.059994,134.591458 C242.228994,132.864458 243.316994,131.076458 244.570994,128.877458 C248.140994,120.314458 261.033994,120.908458 261.365994,131.149458 C261.924994,148.399458 254.269994,165.623458 250.577994,182.225458 C249.812994,185.666458 249.044994,189.649458 248.799994,192.360458 C248.646994,194.059458 248.544994,195.765458 248.567994,197.471458 C248.577994,198.124458 248.881994,200.836458 248.777994,200.553458 C248.953994,201.285458 249.328994,202.640458 249.489994,203.238458 C249.616994,203.531458 249.911994,204.058458 250.760994,204.834458 C250.958994,204.966458 251.487994,205.219458 251.672994,205.320458 C252.312994,205.528458 253.216994,205.794458 254.222994,205.741458 C254.807994,205.189458 255.364994,204.620458 255.915994,204.002458 C256.287994,203.450458 256.662994,202.904458 257.014994,202.339458 C260.348994,197.002458 261.339994,193.911458 263.308994,187.944458 C267.601994,174.939458 270.355994,161.411458 272.677994,147.932458 C273.440994,143.508458 274.131994,139.071458 274.768994,134.626458 C275.010994,131.769458 275.364994,128.932458 275.907994,126.148458 C277.745994,116.723458 293.812994,118.898458 292.702994,128.421458 C292.512994,130.043458 292.294994,131.661458 292.085994,133.281458 C291.971994,134.548458 291.860994,135.813458 291.783994,137.083458 C291.199994,146.751458 291.374994,156.527458 292.413994,166.157458 C292.841994,170.123458 293.661994,175.049458 295.002994,179.862458 C296.324994,184.603458 296.767994,186.311458 299.517994,190.154458 C298.822994,189.152458 300.582994,191.252458 301.108994,191.765458 C301.352994,191.929458 301.629994,192.093458 301.941994,192.344458 C302.087994,192.364458 302.293994,192.394458 303.467994,192.532458 C303.576994,192.531458 303.985994,192.498458 305.065994,192.323458 C305.536994,192.222458 305.991994,192.061458 306.504994,191.892458 C308.553994,190.898458 309.724994,189.982458 311.193994,188.624458 C311.863994,150.579458 311.556994,112.518458 312.813994,74.4844584 C313.316994,59.2584584 313.647994,43.7244584 316.314994,28.6854584 C317.046994,24.5594584 318.077994,19.9304584 321.057994,16.7904584 C324.931994,12.7104584 331.755994,12.4964584 336.827994,14.0924584 C349.853994,18.1894584 355.887994,33.4004584 358.826994,45.4454584 C363.165994,63.2274584 363.393994,82.2544584 361.170994,100.353458 C359.156994,116.744458 355.617994,132.948458 350.629994,148.691458 C348.874994,154.227458 346.964994,159.826458 344.789994,165.334458 C345.292994,165.384458 345.915994,165.437458 346.821994,165.512458 C356.378994,166.310458 362.627994,165.766458 371.248994,162.586458 C372.674994,162.060458 374.179994,161.334458 375.704994,160.468458 C375.835994,155.176458 375.968994,149.885458 376.084994,144.592458 C376.909994,106.512458 376.835994,68.1944584 379.932994,30.2094584 C380.568994,22.4124584 380.114994,9.87645843 386.019994,3.70245843 C392.629994,-3.20754157 403.239994,0.625458433 408.973994,6.47345843 C417.126994,14.7894584 421.047994,27.1224584 423.278994,38.2564584 C427.015994,56.9064584 426.812994,76.2114584 424.729994,95.0474584 C422.865994,111.895458 419.328994,129.871458 411.568994,145.336458 C412.771994,145.204458 413.964994,145.021458 415.140994,144.767458 C418.362994,144.072458 421.380994,143.057458 423.407994,141.954458 C425.981994,140.554458 428.009994,139.257458 429.128994,138.276458 C430.896994,136.723458 432.519994,135.064458 434.038994,133.272458 C434.136994,133.136458 434.777994,132.316458 435.272994,131.578458 C435.756994,130.856458 436.218994,130.118458 436.655994,129.367458 Z M286.000694,108.552958 C280.593694,108.552958 276.210694,104.169958 276.210694,98.7629584 C276.210694,93.3559584 280.593694,88.9729584 286.000694,88.9729584 C291.406694,88.9729584 295.790694,93.3559584 295.790694,98.7629584 C295.790694,104.169958 291.406694,108.552958 286.000694,108.552958 Z M403.610994,117.324458 C407.748994,101.065458 409.287994,84.0154584 409.082994,67.2664584 C408.922994,54.2534584 407.281994,39.0804584 402.513994,27.8884584 C401.619994,25.7874584 400.550994,23.7344584 399.342994,21.7974584 C398.951994,21.1684584 398.535994,20.5494584 398.102994,19.9444584 C398.082994,20.0814584 398.060994,20.2194584 398.040994,20.3564584 C398.121994,19.8454584 397.865994,21.6784584 397.812994,22.1344584 C397.673994,23.3284584 397.548994,24.5234584 397.431994,25.7204584 C396.126994,39.0824584 395.641994,52.5344584 395.164994,65.9474584 C394.242994,91.8624584 393.488994,117.797458 392.829994,143.737458 C392.858994,143.743458 392.886994,143.750458 392.915994,143.757458 C397.993994,135.681458 401.267994,126.533458 403.610994,117.324458 Z M409.164994,237.372458 C408.530994,221.198458 405.442994,205.057458 400.261994,189.727458 C398.131994,183.419458 395.578994,176.862458 392.173994,170.877458 C391.565994,197.384458 391.035994,223.891458 390.529994,250.383458 C390.104994,272.657458 389.414994,295.100458 390.772994,317.356458 C390.789994,317.621458 390.809994,317.886458 390.826994,318.152458 C390.970994,317.980458 391.121994,317.813458 391.262994,317.639458 C391.443994,317.385458 392.063994,316.560458 392.249994,316.284458 C407.054994,294.325458 410.184994,263.408458 409.164994,237.372458 Z M325.581994,330.019458 C341.569994,307.133458 345.937994,277.182458 345.595994,249.932458 C345.420994,235.871458 344.354994,221.711458 341.277994,207.965458 C339.927994,201.933458 338.308994,195.765458 335.632994,190.170458 C335.134994,189.129458 334.593994,188.089458 334.022994,187.076458 C333.247994,188.308458 332.453994,189.527458 331.624994,190.718458 C330.515994,192.309458 329.324994,193.906458 328.052994,195.460458 C327.844994,206.883458 327.591994,218.305458 327.249994,229.730458 C326.364994,259.176458 325.033994,288.662458 325.289994,318.127458 C325.324994,322.091458 325.398994,326.058458 325.581994,330.019458 Z M330.316994,63.9294584 C329.493994,82.5774584 329.219994,101.249458 329.007994,119.913458 C328.857994,133.195458 328.728994,146.473458 328.573994,159.749458 C339.359994,133.114458 346.020994,103.494458 345.305994,74.6894584 C344.971994,61.2674584 343.545994,46.1514584 336.233994,34.5804584 C335.061994,32.7254584 335.820994,33.8184584 334.409994,32.3014584 C334.067994,31.9324584 333.681994,31.5784584 333.278994,31.2324584 C333.251994,31.2154584 333.216994,31.1924584 333.181994,31.1684584 C332.219994,35.3394584 332.128994,37.5334584 331.682994,42.3754584 C331.022994,49.5444584 330.633994,56.7374584 330.316994,63.9294584 Z M204,152.583252 C206.04248,152.69458 207.356934,150.950665 207.356934,149.293811 C207.356934,147.636957 206.340576,145.364502 204,145.364502 C201.659424,145.364502 200.484619,147.343146 200.484619,149 C200.484619,150.656854 201.95752,152.471924 204,152.583252 Z",id:"Combined-Shape"}))));break;default:console.log("".concat(O," not found"))}return r.a.createElement(Ne,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:s,viewBox:C,fill:u,stroke:p,strokeWidth:b,"stroke-linecap":E,strokeLinejoin:g,className:"icon-".concat(O," ").concat(i)},A),v)}))),Ie=r.a.memo(r.a.forwardRef((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.width,c=void 0===i?"":i,o=e.height,l=void 0===o?"":o,s=e.fill,d=void 0===s?"none":s,u=e.stroke,m=void 0===u?"":u,p=e.strokeWidth,f=void 0===p?"":p,b=e.strokeLinecap,h=void 0===b?"":b,E=e.strokeLinejoin,_=void 0===E?"":E,g=(e.title,e.subTitle,e.icon),O=Object(G.a)(e,["className","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","title","subTitle","icon"]),A=g,v="",C="0 0 ".concat(c," ").concat(l);switch("undefined"===typeof A&&(A=Math.floor(4*Math.random())+1),A){case 1:C="0 0 483 421",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-358 -223)"},r.a.createElement("g",{transform:"translate(358 414)",opacity:"0.346"},r.a.createElement("path",{d:"M.121-123.043C4.174-68.048,221.6,38.1,261.962-13.992s1.559-149.85-83.029-174.883S-3.931-178.038.121-123.043Z",transform:"translate(278) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M244.079,158.351c3.4-46.641,185.885-136.662,219.762-92.485s25.3,137.1-45.692,158.329S240.678,204.992,244.079,158.351Z",fill:"#dde3e9",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(387 223)"},r.a.createElement("g",{transform:"translate(15)"},r.a.createElement("rect",{width:"324",height:"283",rx:"8",fill:"#f2f2f2"}),r.a.createElement("path",{d:"M8,0H316a8,8,0,0,1,8,8V22H0V8A8,8,0,0,1,8,0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(9 10)"},r.a.createElement("circle",{cx:"4",cy:"4",r:"4",fill:"#f2f2f2"}),r.a.createElement("circle",{cx:"4",cy:"4",r:"4",transform:"translate(12)",fill:"#f2f2f2"}),r.a.createElement("circle",{cx:"4",cy:"4",r:"4",transform:"translate(24)",fill:"#f2f2f2"})),r.a.createElement("g",{transform:"translate(16 43)"},r.a.createElement("g",{transform:"translate(222 89)"},r.a.createElement("rect",{width:"70",height:"135",rx:"8",fill:"#fff"}),r.a.createElement("g",{transform:"translate(18 18)"},r.a.createElement("rect",{width:"34",height:"17.284",rx:"4",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 22.602)",fill:"#cca8d2"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 44.54)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 88.415)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 66.477)",fill:"#c5cfd6"}))),r.a.createElement("g",{transform:"translate(222)"},r.a.createElement("rect",{width:"70",height:"64.113",rx:"8",fill:"#fff"}),r.a.createElement("g",{transform:"translate(10 11.873)"},r.a.createElement("circle",{cx:"16",cy:"16",r:"16",transform:"translate(9)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"50",height:"6",rx:"3",transform:"translate(0 36)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"6",rx:"3",transform:"translate(8 46)",fill:"#dde3e9"}))),r.a.createElement("rect",{width:"214",height:"37.201",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 11.16)"},r.a.createElement("rect",{width:"156",height:"5.58",rx:"2.79",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"5.58",rx:"2.79",transform:"translate(0 9.3)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 11.601)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"})),r.a.createElement("g",{transform:"translate(0 43.534)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(0 80.735)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#afb9c5"}))),r.a.createElement("g",{transform:"translate(0 192.339)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(0 155.138)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(0 117.936)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))))),r.a.createElement("g",{transform:"translate(425 92) rotate(180)"},r.a.createElement("g",{transform:"translate(425 -0.798) rotate(-180)"},r.a.createElement("g",{transform:"translate(38.024 13.84) rotate(-8)"},r.a.createElement("g",{transform:"translate(38.515 22.058)"},r.a.createElement("path",{d:"M27.205,6.5c4.133,7.685,3.642,27.18-1.7,28.554-2.13.548-6.668-.794-11.287-3.571l2.9,20.461H0l5.893-27.4C2.606,20.692.382,15.976.754,10.691,1.825-4.536,23.072-1.186,27.205,6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M58.959,20.186A22.392,22.392,0,0,0,51.8,19.4a12.264,12.264,0,0,0,.872-6.213,18.9,18.9,0,0,0-2.02-5.617,7.682,7.682,0,0,0-1.494-2.323,5.107,5.107,0,0,0-2.418-1.3,6.484,6.484,0,0,0-2.785,0c-.4.085-.768.27-1.165.372s-.6-.149-.9-.4a5.1,5.1,0,0,0-2.654-1.027,6.859,6.859,0,0,0-3.02.361A5.913,5.913,0,0,0,33.7,4.858a4.207,4.207,0,0,0-.754,1.152c-.073.175-.085.279-.26.343s-.351.061-.518.118a6.517,6.517,0,0,0-3.75,3.391,10.728,10.728,0,0,0-.59,4.417c.057,1.841,1.724,6.646,3.282,8.4a10.478,10.478,0,0,0,5.41,3.048,15.43,15.43,0,0,0-2.827,5.259A25.684,25.684,0,0,0,32.4,37.374a20.8,20.8,0,0,0,.321,6.3,6.826,6.826,0,0,0,3.059,4.444,14.628,14.628,0,0,0,2.355,1.1A15.528,15.528,0,0,0,40.558,50a4.877,4.877,0,0,0,4.608-.983,8.634,8.634,0,0,0,1.239-1.57c.115-.2.184-.328.045-.522a3.738,3.738,0,0,0-.652-.592,6.127,6.127,0,0,1-2.173-4.06c-.194-1.667.255-3.818,1.879-4.545,2-.9,4.213.133,6,1.093a9.781,9.781,0,0,1,4.751-6.291c2.7-1.353,5.792-1.512,8.564-2.673a5.111,5.111,0,0,0,1.99-1.263,2.566,2.566,0,0,0,.572-.933,1.508,1.508,0,0,0-.4-1.172C65.793,24.636,61.3,20.9,58.959,20.186Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 137.187)"},r.a.createElement("path",{d:"M92.3,0l52.758,87.842,39.553,74.263h8.519L126.858,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(177.5 140.715)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M173.626,150.214l16.429-4.95q-10.8-32.147-26.467-70.753T129.93,0h-46.4a725.656,725.656,0,0,0,42.4,82.538A558.652,558.652,0,0,0,173.626,150.214Z",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M88.833,0C83.853,30.868,74.25,70.306,73.343,71.524Q72.437,72.741,8.087,93.3l1.84,7.482Q86.665,89.756,90.8,83.673C94.926,77.59,115.551,29.531,123.54,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("path",{d:"M23.167,86.834l3.241,12.05q57.4,5.013,70.335-7.245T126.237,0H81.989Q71.5,65,70.262,67.731T23.167,86.834Z",fill:"#7a1b8b",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(27.562 85.114) rotate(80)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(3.93 77.259) rotate(-8)"},r.a.createElement("path",{d:"M48.322,52.553l15.568.058q-25.606,57.212-26.7,59.911c-1.645,4.048,1.836,10.213,3.325,13.526-4.849,2.154-4.332-5.824-10.448-3-5.583,2.579-9.83,7.252-16.28,3.3-.793-.486-1.662-2.315.438-3.745,5.231-3.561,12.769-9.794,13.787-11.846q2.083-4.2,20.313-58.206ZM180.36,39.046c-3.145,2.6-6.336,5.483-5.776,6.873s3.485.872,3.97,3.009q.485,2.137-14.241.694l-22.776,8.966L136.5,46.1l28.07-3.8a61.441,61.441,0,0,1,15.5-6.3C181.394,35.964,183.505,36.443,180.36,39.046Z",fill:"#997659",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.805,6.848l12.213-.259c5.341,26.6,23.114,42.144,59.082,33.209l7.872,34.169c-33.7,7.356-64.784-3.578-74.12-39.729C90.434,24.88,88.317,15.106,87.805,6.848Z",transform:"translate(4.09 -10.945) rotate(5)",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M84.941,0l.009.011,18.468,4.2c0,31.184,9.892,51.207,15.131,74.068l.177.78H68.85c-.7,8.012-1.134,16.248-1.359,24.706H30.145Q42.839,36.7,83.731,0h1.21Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M76.719,34.066q-1.928,29.479,2.268,44.993H68.85a241.428,241.428,0,0,1,7.785-44.7Z",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(73.688 -0.631) rotate(-7)"},r.a.createElement("g",{transform:"translate(38.515 -22.058)"},r.a.createElement("path",{d:"M27.205-6.5c4.133-7.685,3.642-27.18-1.7-28.554-2.13-.548-6.668.794-11.287,3.571l2.9-20.461H0l5.893,27.4C2.606-20.693.382-15.976.754-10.691,1.825,4.536,23.072,1.186,27.205-6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M55.963-19.7c-2.256.369-8.331.623-9.451.623-.716,0-1.492-.163-1.916.493-.347.537-.22,1.445-.324,2.068-.12.724-.291,1.439-.464,2.151a21.843,21.843,0,0,1-2.277,5.77A17.762,17.762,0,0,1,33.106-.984,27.117,27.117,0,0,1,20.313.771C15.722.4,11.566-1.112,7.231-2.535A27.48,27.48,0,0,0-5.548-3.762C-9.9-3.1-13.19-.741-16.862,1.493a21.115,21.115,0,0,1-12.5,3.439A24.1,24.1,0,0,1-40.761.619,18.57,18.57,0,0,1-48.113-7.7c-1.608-3.89-1.607-8.16,1.038-11.6,3.833-4.983,10.95-6.272,16.871-6.144a32.3,32.3,0,0,1,10.021,1.832c4.312,1.513,8.038,4.078,12.072,6.158a31.458,31.458,0,0,0,5.9,2.356c1.99.561,3.951.818,5.753-.382a27.184,27.184,0,0,1,5.8-3.31,18.731,18.731,0,0,1,6.537-1.171c4.337.033,8.612,1.382,12.824,2.284,3.435.736,7.11,1.47,10.612.762,1.461-.3,3.6-.905,4.123-2.42C34.552-20.939,31.063-31.9,33.568-39.944c1.352-4.342,9.476-9.419,12.635-7.136,2,1.446.786,3.345,0,4.6-1.506,2.4-2.021,5.484.765,7.155,2.4,1.441,4.93-1.981,4.978-1.978.661.052,6.368,3.272,10.3,7.972,3.88-.229,4.468,2.323,3.542,4.41S59.081-20.21,55.963-19.7Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 -137.985)"},r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M80.832-108.06l3.256-12.089c37.082-4.334,61.513.9,70.1,9.074q8.587,8.178,15.258,88.532L145.309,11.928c-32.188-24.291-12.822-104.05-13.642-105.872S111.3-97.172,80.832-108.06Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 8.398, -125.914)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(143.09 -111.732) rotate(-20)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M92.3,0,55.56-87.842,19.451-162.106H27.97L121.178,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(17.04 -140.715)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M22.712-146.678l18.93-3.536C56.279-128.783,117.534-40.908,124.25,0H82.107C59.679-29.572,36.664-124.893,22.712-146.678Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(24.357 -53.066) rotate(-7)"},r.a.createElement("path",{d:"M36.619-57.883l14.568-2.87q-21.976-40.664-23.571-43.1c-2.392-3.66-.16-10.367.664-13.9-5.172-1.2-3.132,6.534-9.677,4.92-5.974-1.473-11.039-5.253-16.61-.155-.685.627-1.186,2.586,1.149,3.591,5.817,2.5,14.412,7.191,15.806,9.011Q21.8-96.667,36.619-57.883Zm144.093,21.7c-2.291-3.322-4.55-6.918-3.634-8.082s3.567.121,4.614-1.772q1.047-1.893-13.408-4.529L148.992-65.252l-8.226,10.463,25.761,11.233A60.987,60.987,0,0,0,179.6-33.376C180.856-32.978,183-32.858,180.713-36.18Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.667-6.995,93.7-5.416c14.463-11.68,22.607-42.07,31.854-45.378,8.743-3.127,20.33,1.653,34.05,7.939l5.179-9.242c-11.658-14.948-38.049-29.024-49.744-23.329C96.341-66.322,88.909-28.612,87.667-6.995Z",transform:"translate(4.06 10.845) rotate(-5)",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M63.985-80.471h54.4c2.486,0,2.017,3.564,1.658,5.362C115.891-54.356,99.7-31.985,99.7-2.443L84.013,0C71.035-20.724,66.547-46.239,63.985-80.471Z",fill:"#dde3e9",fillRule:"evenodd"}),r.a.createElement("path",{d:"M85.833,0h3.38q21.128-71.51,11.649-95.294H51.9a176.356,176.356,0,0,0,6.662,35.84Q41.927-89.248,30.6-102.353l-11.4,2.217Q30.212-32.3,83,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(124.465 120.816) rotate(-14)"},r.a.createElement("path",{d:"M50.828,54.607l-.007.016s.007-.025.007-.016",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.823,54.614a.043.043,0,0,0,0,.005c0-.005.009-.02,0-.005",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.858,54.53c-.007.02-.016.039-.024.059l.012-.028c-.1.26-.038.091.012-.031",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.836,54.59l-.012.028c-.029.056.012-.028.012-.028",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.825,54.614Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.824,54.615v0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.819,54.622c-.006.012.028-.046,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.824,54.615l0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"100",height:"66",rx:"4",transform:"translate(0.575 0.818)",fill:"#571563"}),r.a.createElement("g",{transform:"translate(9.058 20.093)"},r.a.createElement("path",{d:"M29.312,0,.471,47H58.152Z",fill:"rgba(0,0,0,0.2)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M59.047,12.589,33.551,47H84.544Z",fill:"rgba(0,0,0,0.2)",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9.5",cy:"9.5",r:"9.5",transform:"translate(69.517 14.142)",fill:"#fff"})))));break;case 2:C="0 0 483 434.869",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-358 -209.131)"},r.a.createElement("g",{transform:"translate(512 209)",opacity:"0.5"},r.a.createElement("path",{d:"M1.908,2.672C.335,4.243.946,9.824.913,11.89c-.051,3.216.149,6.4.418,9.606.18,2.145,1.2,22.618,4.021,21.045,1.593-.886.594-6.808.591-8.681-.006-4.164-.18-8.319-.457-12.474A109.174,109.174,0,0,1,5.215,9.851c.036-.943.919-11.412-3.307-7.179",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M70.409.149C56.9.256,43.388.923,29.881,1.331c-6.5.2-12.995.446-19.487.807-2.212.123-6.957-.585-8.8.593C-2.5,5.348,4.1,5.96,5.859,5.9,32.59,4.927,59.329,3.65,86.082,3.59c13.124-.029,26.241.344,39.365.261,5.017-.032,10.573-2.193,11.84,3.646,1.43,6.59-.213,13.927-.66,20.548a116.174,116.174,0,0,0,.007,13.166c.128,2.829-.2,6.018.3,8.794.481,2.674,2.4,4.277,4.166,1.282,1.053-1.79.529-6.209.6-8.282.094-2.792.006-5.584.006-8.377,0-6.817.962-13.607.834-20.422-.082-4.395-.315-12.362-5.858-13.418-6.1-1.163-13.607.006-19.853-.065C101.344.546,85.892.028,70.409.149",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M33.174,42.786q-7.643,0-15.287.115c-4.37.072-11.24-.839-15.308.725C-.2,44.7-.944,47.8,2.58,48.633c3.843.9,9.636-.573,13.657-.644,20.164-.356,40.522-.82,60.658.455,18.868,1.195,38.1,2.353,56.994,1.092,1.59-.106,9.7-.429,6-3.468-2.158-1.774-10.907-.607-13.712-.692-9.894-.3-19.8-.365-29.69-.74C86.722,44.265,77,43.168,67.238,42.9c-11.345-.316-22.716-.11-34.065-.11",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M28.075,13.8c7.942.347,15.8,11.865,7.764,17.431-7.539,5.223-21.667-.5-17.475-10.629-.6,1.464.762-1.591.779-1.611a21.789,21.789,0,0,1,3.211-2.719,12.686,12.686,0,0,1,3.651-2.2c.89-.279.75.77,2.07-.267M24.207,9.65C20.49,11.1,18.794,12.738,16.239,15.7c-1.768,2.05-4.021,3.129-4,5.9,0,.613.792,1.287.928,1.878.188.816-.03,1.862.119,2.729C14.824,35.156,25.5,38.174,33.317,36.484c6.808-1.472,11.9-8.007,10.323-15.114C42.052,14.216,31.444,6.819,24.207,9.65",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M20.9,22.143c0,3.219,5.085,3.219,5.085,0,0-3.183-5.085-3.319-5.085,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M27.258,21.491c0,2.558,4.041,2.558,4.041,0,0-2.529-4.041-2.637-4.041,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M28.51,26.767c-1.294.5-2.935-.534-4,.146-1.881,1.2,0,2.294,1.013,2.778,4.54,2.179,5.348-3.829,2.984-2.924",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M97.85,19.632h0m-19.772-2.89c-3.4.767-6.267,3.941-9.959,3.516-2.829-.325-4.745-3.056-7.538-3.452-3.573-.508-13.3,7.643-8.185,9.041,2.983.816,4.638-4.635,7.273-4.925,2.085-.229,4.92,2.327,7.08,2.691,4.03.679,6.8-1.541,10.335-2.972,3.844-1.556,6.032-.155,9.375,1.574,2.639,1.365,5.124,2.253,8.144,1.69,2.834-.528,6.394-3.442,9.247-3.143,2.794.293,4.788,3.209,7.662,3.479,1.185.111,2.949.515,2.749-1.313-.159-1.464-1.793-1.216-2.814-1.748-2.628-1.368-5.086-3.792-8.257-3.585-2.386.156-4.557,1.832-6.756,2.634-7.2,2.626-11.248-5.081-18.356-3.487",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M84.092,63.111c-13.889.127-27.824.334-41.674,1.447-3.283.264-36.81,3.429-36.747,3.657.118.422,4.43,1.066,4.4,1.166q-.436-1.081-1.993-.895c31.8,0,63.494-2.847,95.334-2.335,8,.128,16.03.075,24.025.327,2,.063,6.941,1.494,8.509.592,4.114-2.365-3.36-2.638-4.6-2.738-15.669-1.253-31.546-1.379-47.259-1.222",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M1.556,69.859c-2.076,2.082-.164,9.571-.083,12.385.118,4.069.021,8.168.378,12.226a82.7,82.7,0,0,0,2.256,14.074c.67,2.478,3.022,6.416,3.953,1.914.665-3.216-.345-7.482-.7-10.759a126.813,126.813,0,0,1-.6-13.112c-.016-3.838-.09-7.691-.4-11.517-.163-1.986-1.163-8.832-4.8-5.212",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M53.794,108c-9.856.169-19.733.4-29.572,1.017-4.033.253-8.062.629-12.08,1.055-.82.087-9.895.455-5.84,3.8,1.83,1.512,9.359-.578,11.846-.8,4.182-.367,8.364-.6,12.558-.782,9.718-.413,19.467-.777,29.195-.608,17.766.308,35.419.446,53.19.05,2.525-.056,22.306.472,22.978-2.155.541-2.117-6.533-1.146-7.822-1.107-4.732.141-9.464.108-14.2.084-20.051-.1-40.219-.9-60.255-.561",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M132.719,66.347c.313,8.775,1.807,17.54,2.285,26.342.218,4.024.475,8.043.672,12.068.064,1.3-.46,4.427,1.076,5.174,2.106,1.024,2.39-1.04,2.784-2.436,1.139-4.033.369-9.271.265-13.414-.1-4.011-.107-8.03-.4-12.034-.3-4.091-1.127-8.1-1.509-12.18-.162-1.724.4-4.593-1.427-5.663a2.509,2.509,0,0,0-3.744,2.142",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M35.845,80.944l.112.087-.112-.087m-8.376-2.6c3.123.892,5.688.56,8.672,2.833,2.473,1.885,5.01,4.643,5.831,7.692,1.9,7.043-4.53,10.9-10.554,10.978-6.17.077-15.3-1.354-14.986-9.262.242-6.076,4.679-12,11.037-12.241m.22-3.98c-8.1.4-14.632,9.5-14.562,17.154.085,9.279,10.6,11.669,18.067,11.734,8.429.072,16.835-5.748,14.576-15.227-1.81-7.595-10.292-14.066-18.081-13.661",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M19.542,86.822c0,2.587,4.088,2.587,4.088,0,0-2.558-4.088-2.668-4.088,0",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M28.117,85.687c0,2.608,4.121,2.608,4.121,0,0-2.578-4.121-2.689-4.121,0",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M23.39,91.589c-2.661,2.657,6.687,7.314,8.891,3.618,1.811-3.035-2.132-2.029-3.529-2.193-1.519-.179-4.122-2.661-5.362-1.425",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M98.124,85.74h0m-35.1-4.325c-2.694.505-11.536,3.488-11.655,6.685-.218,5.81,8.441-.141,10.322-.905,5.108-2.076,7.792,2.159,12.923,2.382,4.457.194,8.554-3.62,12.753-3.169,4.4.472,6.514,5.152,11.592,2.667,2.686-1.314,2.619-3.34-.4-3.531-1.823-.115-3.075.638-4.975-.146-2.972-1.226-4.169-3.222-7.725-2.9-2.684.239-5.109,1.752-7.729,2.337-6,1.34-9.325-4.5-15.108-3.415",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M118.818,88.263h0m.68-2.419c.03.013.233.295,0,0M116.409,84h0m.067-.023c.6.358,5.414,3.651,1.917,4.426-1.775.394-3.244-3.179-1.917-4.426m-1.594-3.648c-7.713,3.517.587,16.1,6.64,10.989,2.547-2.152,2.882-6.5.4-8.742-1.485-1.343-5.029-3.167-7.045-2.246",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M42.477,129.921c-9.625,0-19.334-.2-28.945.371-1.618.1-7.78-.212-8.613,1.479-1.525,3.093,4.816,1.557,5.737,1.465,19.138-1.916,39.129-.814,58.33-.267,15.7.446,31.323.724,47.008,1.533q6.184.319,12.362.7c1.343.081,4.722.971,5.005-1.174.262-1.985-3.954-1.537-5.007-1.592q-12.562-.661-25.116-1.374c-20.152-1.136-40.576-1.141-60.761-1.137",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M4.609,133.36c-1.8,1.787-.955,8.611-1.005,10.866-.088,3.945-.274,7.886-.357,11.83-.087,4.122.034,8.263.278,12.378.1,1.728,1.521,10.08,3.754,5.3,1-2.136-.024-8.085-.009-10.505.027-4.4.265-8.791.484-13.189.188-3.781.2-7.566.361-11.348.052-1.206.195-9.044-3.5-5.333",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M134.98,168.6c-9.367.96-18.883.506-28.286,1.215-8.1.611-16.2.861-24.323,1.033-18.4.388-36.824.767-55.167,2.3-4.18.349-8.356.72-12.547.907-2.1.094-10.893-.86-11.548,1.349-1.116,3.764,8.291,2.274,10.32,2.215,4.462-.129,8.9-.451,13.352-.79,18.7-1.425,37.478-1.851,56.221-2.443,10.194-.322,20.317-1.068,30.488-1.746,5.07-.338,10.153-.349,15.222-.677,1.326-.086,6.021.083,6.975-.984.656-.733.821-2.522-.708-2.379",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M131.8,134c.321,8.983.829,17.957,1.132,26.94.091,2.7-.725,7.542.78,9.924,2.418,3.83,4.306-.223,4.749-2.61,1.4-7.533-.1-15.855-.5-23.434-.149-2.892.749-9.327-.648-11.915-1.331-2.465-5.636-2.218-5.517,1.1",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M116.079,146.793c3.588.972,4.113,8.774.064,9.351-6.027.859-3.391-7.743-.064-9.351m-1.005-3.1c-1.095-.034-3.621-.336-4.3.555-.565.746.006,2.319-.06,3.029-.237,2.538-2.3,4-1.378,7a7.321,7.321,0,0,0,4.347,4.652c10.785,3.728,10.654-17.111,1.387-15.236",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M17.7,145.091l-.08.1.08-.1m8.471-4.507-.127-1.083c5.848,2.76,10.5,7.9,8.559,14.787-1.482,5.258-6.834,7.123-11.821,5.825-5.52-1.437-8.158-5.988-6.67-11.575.687-2.578,2.8-6.042,5.521-6.871,1.269-.386,4.075.6,4.537-1.083M22.753,138.4a8.344,8.344,0,0,0-4.126,1.559,6.738,6.738,0,0,1,4.126-1.559m.042-3.4c-3.654.112-6.048,2.324-8.216,4.98-.68.834-2.98,3.045-2.7,4.168.225.888.814,2.187,2.055,1.2-6.5,12.95,10.288,24,20.535,14.99,9.563-8.4.075-25.729-11.68-25.335",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M19.476,147.035a1.339,1.339,0,0,0,2.677,0,1.339,1.339,0,0,0-2.677,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M24.044,147.329a1.361,1.361,0,0,0,2.72,0,1.361,1.361,0,0,0-2.72,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M26.117,153.484c-1.273.1-5.931-.329-6.748.786-1.366,1.863.814,1.927,1.885,2.129.965.181,5.159.079,5.75-.778.522-.757.4-2.246-.887-2.136",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M82.241,148.653h0m-17.6-1.287c-2.867.211-5.3,1.86-8.038,2.518-2.926.7-4.193-.59-6.854-1.436a6.47,6.47,0,0,0-6.962,1.358c-1.261,1.071-4.026,3.537-3.238,5.44,1.8,4.355,5.888-2.731,7.809-3.06,3-.514,5.662,2.106,9.118,1.356,3.131-.679,5.909-2.829,9.18-2.852,2.735-.019,5.312,1.477,8.012,1.839,4.121.553,6.828-.91,10.638-2,3.3-.942,5.621.3,8.728,1.345,1.42.477,6.159,2.213,5.287-.934-.247-.889-6.492-2.479-7.46-2.785-3.414-1.079-5.577-.658-8.829.582a13.379,13.379,0,0,1-7.9.969c-3.2-.627-6.118-2.6-9.488-2.344",fill:"#ddc8e1",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(358 414)",opacity:"0.346"},r.a.createElement("path",{d:"M.121-123.043C4.174-68.048,221.6,38.1,261.962-13.992s1.559-149.85-83.029-174.883S-3.931-178.038.121-123.043Z",transform:"translate(278) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M244.079,158.351c3.4-46.641,185.885-136.662,219.762-92.485s25.3,137.1-45.692,158.329S240.678,204.992,244.079,158.351Z",fill:"#dde3e9",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(381 314)"},r.a.createElement("g",{transform:"translate(425) rotate(180)"},r.a.createElement("g",{transform:"translate(425 -0.798) rotate(-180)"},r.a.createElement("g",{transform:"translate(38.024 13.84) rotate(-8)"},r.a.createElement("g",{transform:"translate(38.515 22.058)"},r.a.createElement("path",{d:"M27.205,6.5c4.133,7.685,3.642,27.18-1.7,28.554-2.13.548-6.668-.794-11.287-3.571l2.9,20.461H0l5.893-27.4C2.606,20.692.382,15.976.754,10.691,1.825-4.536,23.072-1.186,27.205,6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M58.959,20.186A22.392,22.392,0,0,0,51.8,19.4a12.264,12.264,0,0,0,.872-6.213,18.9,18.9,0,0,0-2.02-5.617,7.682,7.682,0,0,0-1.494-2.323,5.107,5.107,0,0,0-2.418-1.3,6.484,6.484,0,0,0-2.785,0c-.4.085-.768.27-1.165.372s-.6-.149-.9-.4a5.1,5.1,0,0,0-2.654-1.027,6.859,6.859,0,0,0-3.02.361A5.913,5.913,0,0,0,33.7,4.858a4.207,4.207,0,0,0-.754,1.152c-.073.175-.085.279-.26.343s-.351.061-.518.118a6.517,6.517,0,0,0-3.75,3.391,10.728,10.728,0,0,0-.59,4.417c.057,1.841,1.724,6.646,3.282,8.4a10.478,10.478,0,0,0,5.41,3.048,15.43,15.43,0,0,0-2.827,5.259A25.684,25.684,0,0,0,32.4,37.374a20.8,20.8,0,0,0,.321,6.3,6.826,6.826,0,0,0,3.059,4.444,14.628,14.628,0,0,0,2.355,1.1A15.528,15.528,0,0,0,40.558,50a4.877,4.877,0,0,0,4.608-.983,8.634,8.634,0,0,0,1.239-1.57c.115-.2.184-.328.045-.522a3.738,3.738,0,0,0-.652-.592,6.127,6.127,0,0,1-2.173-4.06c-.194-1.667.255-3.818,1.879-4.545,2-.9,4.213.133,6,1.093a9.781,9.781,0,0,1,4.751-6.291c2.7-1.353,5.792-1.512,8.564-2.673a5.111,5.111,0,0,0,1.99-1.263,2.566,2.566,0,0,0,.572-.933,1.508,1.508,0,0,0-.4-1.172C65.793,24.636,61.3,20.9,58.959,20.186Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 137.187)"},r.a.createElement("path",{d:"M92.3,0l52.758,87.842,39.553,74.263h8.519L126.858,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(177.5 140.715)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M173.626,150.214l16.429-4.95q-10.8-32.147-26.467-70.753T129.93,0h-46.4a725.656,725.656,0,0,0,42.4,82.538A558.652,558.652,0,0,0,173.626,150.214Z",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M88.833,0C83.853,30.868,74.25,70.306,73.343,71.524Q72.437,72.741,8.087,93.3l1.84,7.482Q86.665,89.756,90.8,83.673C94.926,77.59,115.551,29.531,123.54,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("path",{d:"M23.167,86.834l3.241,12.05q57.4,5.013,70.335-7.245T126.237,0H81.989Q71.5,65,70.262,67.731T23.167,86.834Z",fill:"#7a1b8b",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(27.562 85.114) rotate(80)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(3.93 77.259) rotate(-8)"},r.a.createElement("path",{d:"M48.322,52.553l15.568.058q-25.606,57.212-26.7,59.911c-1.645,4.048,1.836,10.213,3.325,13.526-4.849,2.154-4.332-5.824-10.448-3-5.583,2.579-9.83,7.252-16.28,3.3-.793-.486-1.662-2.315.438-3.745,5.231-3.561,12.769-9.794,13.787-11.846q2.083-4.2,20.313-58.206ZM180.36,39.046c-3.145,2.6-6.336,5.483-5.776,6.873s3.485.872,3.97,3.009q.485,2.137-14.241.694l-22.776,8.966L136.5,46.1l28.07-3.8a61.441,61.441,0,0,1,15.5-6.3C181.394,35.964,183.505,36.443,180.36,39.046Z",fill:"#997659",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.805,6.848l12.213-.259c5.341,26.6,23.114,42.144,59.082,33.209l7.872,34.169c-33.7,7.356-64.784-3.578-74.12-39.729C90.434,24.88,88.317,15.106,87.805,6.848Z",transform:"translate(4.09 -10.945) rotate(5)",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M84.941,0l.009.011,18.468,4.2c0,31.184,9.892,51.207,15.131,74.068l.177.78H68.85c-.7,8.012-1.134,16.248-1.359,24.706H30.145Q42.839,36.7,83.731,0h1.21Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M76.719,34.066q-1.928,29.479,2.268,44.993H68.85a241.428,241.428,0,0,1,7.785-44.7Z",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(73.688 -0.631) rotate(-7)"},r.a.createElement("g",{transform:"translate(38.515 -22.058)"},r.a.createElement("path",{d:"M27.205-6.5c4.133-7.685,3.642-27.18-1.7-28.554-2.13-.548-6.668.794-11.287,3.571l2.9-20.461H0l5.893,27.4C2.606-20.693.382-15.976.754-10.691,1.825,4.536,23.072,1.186,27.205-6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M55.963-19.7c-2.256.369-8.331.623-9.451.623-.716,0-1.492-.163-1.916.493-.347.537-.22,1.445-.324,2.068-.12.724-.291,1.439-.464,2.151a21.843,21.843,0,0,1-2.277,5.77A17.762,17.762,0,0,1,33.106-.984,27.117,27.117,0,0,1,20.313.771C15.722.4,11.566-1.112,7.231-2.535A27.48,27.48,0,0,0-5.548-3.762C-9.9-3.1-13.19-.741-16.862,1.493a21.115,21.115,0,0,1-12.5,3.439A24.1,24.1,0,0,1-40.761.619,18.57,18.57,0,0,1-48.113-7.7c-1.608-3.89-1.607-8.16,1.038-11.6,3.833-4.983,10.95-6.272,16.871-6.144a32.3,32.3,0,0,1,10.021,1.832c4.312,1.513,8.038,4.078,12.072,6.158a31.458,31.458,0,0,0,5.9,2.356c1.99.561,3.951.818,5.753-.382a27.184,27.184,0,0,1,5.8-3.31,18.731,18.731,0,0,1,6.537-1.171c4.337.033,8.612,1.382,12.824,2.284,3.435.736,7.11,1.47,10.612.762,1.461-.3,3.6-.905,4.123-2.42C34.552-20.939,31.063-31.9,33.568-39.944c1.352-4.342,9.476-9.419,12.635-7.136,2,1.446.786,3.345,0,4.6-1.506,2.4-2.021,5.484.765,7.155,2.4,1.441,4.93-1.981,4.978-1.978.661.052,6.368,3.272,10.3,7.972,3.88-.229,4.468,2.323,3.542,4.41S59.081-20.21,55.963-19.7Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 -137.985)"},r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M80.832-108.06l3.256-12.089c37.082-4.334,61.513.9,70.1,9.074q8.587,8.178,15.258,88.532L145.309,11.928c-32.188-24.291-12.822-104.05-13.642-105.872S111.3-97.172,80.832-108.06Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 8.398, -125.914)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(143.09 -111.732) rotate(-20)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M92.3,0,55.56-87.842,19.451-162.106H27.97L121.178,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(17.04 -140.715)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M22.712-146.678l18.93-3.536C56.279-128.783,117.534-40.908,124.25,0H82.107C59.679-29.572,36.664-124.893,22.712-146.678Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(24.357 -53.066) rotate(-7)"},r.a.createElement("path",{d:"M36.619-57.883l14.568-2.87q-21.976-40.664-23.571-43.1c-2.392-3.66-.16-10.367.664-13.9-5.172-1.2-3.132,6.534-9.677,4.92-5.974-1.473-11.039-5.253-16.61-.155-.685.627-1.186,2.586,1.149,3.591,5.817,2.5,14.412,7.191,15.806,9.011Q21.8-96.667,36.619-57.883Zm144.093,21.7c-2.291-3.322-4.55-6.918-3.634-8.082s3.567.121,4.614-1.772q1.047-1.893-13.408-4.529L148.992-65.252l-8.226,10.463,25.761,11.233A60.987,60.987,0,0,0,179.6-33.376C180.856-32.978,183-32.858,180.713-36.18Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.667-6.995,93.7-5.416c14.463-11.68,22.607-42.07,31.854-45.378,8.743-3.127,20.33,1.653,34.05,7.939l5.179-9.242c-11.658-14.948-38.049-29.024-49.744-23.329C96.341-66.322,88.909-28.612,87.667-6.995Z",transform:"translate(4.06 10.845) rotate(-5)",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M63.985-80.471h54.4c2.486,0,2.017,3.564,1.658,5.362C115.891-54.356,99.7-31.985,99.7-2.443L84.013,0C71.035-20.724,66.547-46.239,63.985-80.471Z",fill:"#dde3e9",fillRule:"evenodd"}),r.a.createElement("path",{d:"M85.833,0h3.38q21.128-71.51,11.649-95.294H51.9a176.356,176.356,0,0,0,6.662,35.84Q41.927-89.248,30.6-102.353l-11.4,2.217Q30.212-32.3,83,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))))));break;case 3:C="0 0 412.064 498.67",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-397.936 -271)"},r.a.createElement("g",{transform:"translate(499 271)"},r.a.createElement("g",{transform:"translate(86 90)"},r.a.createElement("rect",{width:"225",height:"47",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 14.1)"},r.a.createElement("rect",{width:"167",height:"7.05",rx:"3",fill:"#dde3e9"}),r.a.createElement("rect",{width:"112.096",height:"7.05",rx:"3",transform:"translate(0 11.75)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(193.954 16.5)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(225 46) rotate(180)"},r.a.createElement("rect",{width:"225",height:"39",rx:"4",transform:"translate(0 -39)",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 -11.7)"},r.a.createElement("rect",{width:"167",height:"5.85",rx:"2.925",transform:"translate(0 -5.85)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"112.096",height:"5.85",rx:"2.925",transform:"translate(0 -15.6)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(193.954 -12.5)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",transform:"translate(0 -14)",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 -10)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(86)"},r.a.createElement("rect",{width:"225",height:"39",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 11.7)"},r.a.createElement("rect",{width:"167",height:"5.85",rx:"2.925",fill:"#dde3e9"}),r.a.createElement("rect",{width:"112.096",height:"5.85",rx:"2.925",transform:"translate(0 9.75)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(193.954 12.5)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"})))),r.a.createElement("g",{transform:"translate(390 366)"},r.a.createElement("ellipse",{cx:"99.89",cy:"99.802",rx:"99.89",ry:"99.802",transform:"translate(33.626 47.431)",fill:"#cca8d2"}),r.a.createElement("g",{transform:"translate(-15.824 -15.81)"},r.a.createElement("g",{transform:"translate(81.18)"},r.a.createElement("g",{transform:"translate(53.46 30.69)"},r.a.createElement("path",{d:"M37.762,9.043C43.5,19.736,42.817,46.86,35.4,48.771c-2.957.762-9.256-1.105-15.668-4.97L23.76,72.27H0L8.179,34.144C3.617,28.79.53,22.228,1.046,14.875,2.533-6.311,32.025-1.651,37.762,9.043Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M59.814,69.6c-2.982-13.267-11.478-22.311-10.18-28.241a8.994,8.994,0,0,1,6.916-7.375q2.906-11.756,18.745-10C91.134,25.744,100.8,32.321,96.626,46.8c-3.838,0-8.47-1.388-14.877.99Q78.7,48.917,77.388,54.8H74.493q-4.215-6.987-8.311-5.135t-1.862,9L62.894,69.6Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 184.691)"},r.a.createElement("path",{d:"M205.075-9.724c-18.849,15.378-11.4,150.547-12.655,152.246q-.838,1.133-89.722,19.127l2.58,10.466q104-4.963,110.051-12.683,8.657-11.052,21.208-123.775Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 5.817, 173.565)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M205.075-9.724c-18.849,15.378-11.4,150.547-12.655,152.246q-.838,1.133-89.722,19.127l2.58,10.466q104-4.963,110.051-12.683,8.657-11.052,21.208-123.775Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 5.817, 173.565)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M112.72,150.654l4.54,16.857c51.7,6.047,85.763-1.243,97.734-12.645q11.971-11.4,21.265-123.438L202.6-16.638C157.729,17.228,184.739,128.437,183.6,130.978S155.2,135.476,112.72,150.654Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 11.72, 175.566)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"matrix(0.94, 0.342, -0.342, 0.94, 199.519, 155.769)"},r.a.createElement("path",{d:"M2.648,24.528A20.278,20.278,0,0,0,.99,30.99a47.27,47.27,0,0,0,.892,7.62H57.72q2.177-7.016-2.513-7.575t-7.791-1.01L21.45,18.738a.99.99,0,0,0-1.3.513l0,.009L18.477,23.2h0a18.157,18.157,0,0,1-7.055,1.975A16.342,16.342,0,0,1,5.306,23.43h0a1.98,1.98,0,0,0-2.616,1Q2.667,24.477,2.648,24.528Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M128.7,0,77.471,122.466,27.122,226H39L168.967,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(23.76 196.179)"},r.a.createElement("path",{d:"M2.648,24.528A20.278,20.278,0,0,0,.99,30.99a47.27,47.27,0,0,0,.892,7.62H57.72q2.177-7.016-2.513-7.575t-7.791-1.01L21.45,18.738a.99.99,0,0,0-1.3.513l0,.009L18.477,23.2h0a18.157,18.157,0,0,1-7.055,1.975A16.342,16.342,0,0,1,5.306,23.43h0a1.98,1.98,0,0,0-2.616,1Q2.667,24.477,2.648,24.528Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M31.669,204.492l26.4,4.929C78.473,179.543,163.885,57.032,173.25,0H114.488C83.214,41.228,51.123,174.119,31.669,204.492Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(21.78 80.988)"},r.a.createElement("path",{d:"M50.993,81.18,71.28,85.205q-30.6,57.032-32.823,60.454c-3.331,5.133-.223,14.54.925,19.494-7.2,1.676-4.362-9.164-13.476-6.9-8.319,2.066-15.373,7.368-23.13.217-.954-.879-1.652-3.627,1.6-5.036,8.1-3.511,20.069-10.086,22.01-12.638Q30.356,135.575,50.993,81.18ZM251.646,50.743c-3.19,4.659-6.335,9.7-5.061,11.336s4.967-.169,6.425,2.486q1.459,2.655-18.67,6.352l-26.866,20.6L196.02,76.841l35.872-15.754a85,85,0,0,1,18.2-14.278C251.846,46.252,254.836,46.084,251.646,50.743Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M122.047,9.778l8.4-2.209c20.151,16.393,31.519,59.02,44.4,63.667,12.178,4.394,28.31-2.3,47.412-11.1l7.22,12.965c-16.222,20.953-52.962,40.67-69.254,32.674C134.178,92.988,123.8,40.1,122.047,9.778Z",transform:"translate(5.687 -15.1) rotate(5)",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M89.1,112.86h75.746c3.461,0,2.809-5,2.309-7.52C161.38,76.234,138.839,44.858,138.839,3.426L116.99,0C98.918,29.065,92.669,64.85,89.1,112.86Z",fill:"#dde3e9",fillRule:"evenodd"}),r.a.createElement("path",{d:"M119.524,0h4.707q29.422,100.292,16.222,133.65H72.27c1.079-16.272,4.538-33.481,9.275-50.26q-23.162,41.781-38.938,60.16L26.73,140.44Q42.071,45.3,115.581,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))))));break;case 4:C="0 0 543 350",v=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-328 -277)"},r.a.createElement("g",{transform:"translate(328 280)",opacity:"0.346"},r.a.createElement("path",{d:"M.218-189.873C7.506-105.008,398.558,58.791,471.155-21.592s2.8-231.24-149.333-269.871S-7.07-274.738.218-189.873Z",transform:"translate(500) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M166.125,255C171.49,195.106,459.341,79.51,512.779,136.238S552.692,312.285,440.7,339.547,160.76,314.887,166.125,255Z",fill:"#dde3e9",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(556 277)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(688 277)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(688 374)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(556 374)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(347 262)"},r.a.createElement("g",{transform:"translate(66)"},r.a.createElement("g",{transform:"translate(43.625 25.145)"},r.a.createElement("path",{d:"M30.815,7.409C35.5,16.17,34.94,38.394,28.89,39.96c-2.413.624-7.553-.905-12.785-4.071l3.284,23.325H0L6.674,27.976C2.952,23.589.433,18.212.854,12.188,2.067-5.171,26.134-1.352,30.815,7.409Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M45.914,32.888C50.335,14.65,75.35,25.973,80.163,22.9c1.052,6.621-2.341,11.96-14.271,10.929-2.633,1.476-4.506,4.246-6.761,7.879a4.8,4.8,0,0,0-1.772-.336,4.871,4.871,0,0,0-3.387,8.348c-1.121,1.588-2.378,3.249-3.819,4.963-5.37-3.235-9.365-12.656-4.256-21.758Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 152)"},r.a.createElement("path",{d:"M167.879-7.871c-15.458,12.606-9.49,123.24-10.521,124.632q-.688.928-73.526,15.746l2.1,8.564q85.212-4.167,90.174-10.492,7.1-9.056,17.5-101.336Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 4.598, 142.033)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M167.879-7.871c-15.458,12.606-9.49,123.24-10.521,124.632q-.688.928-73.526,15.746l2.1,8.564q85.212-4.167,90.174-10.492,7.1-9.056,17.5-101.336Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 4.598, 142.033)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M92.028,123.5l3.7,13.793c42.352,4.9,70.264-1.1,80.083-10.448q9.819-9.345,17.545-101.06L165.835-13.524c-36.8,27.766-14.782,118.767-15.722,120.848S126.842,111.035,92.028,123.5Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 9.439, 143.65)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"matrix(0.94, 0.342, -0.342, 0.94, 163.189, 127.749)"},r.a.createElement("path",{d:"M1.949,20.7A15.68,15.68,0,0,0,.8,25.511a39.684,39.684,0,0,0,.72,6.273H46.553q1.755-5.775-2.027-6.236t-6.284-.832l-20.7-9.185a1.043,1.043,0,0,0-1.376.53l-.01.024L14.9,19.1h0a14.414,14.414,0,0,1-5.69,1.626A12.059,12.059,0,0,1,4.745,19.5h0A2.086,2.086,0,0,0,2,20.572Q1.972,20.634,1.949,20.7Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M105.256,0l-41.9,100.419-41.178,84.9H31.9L138.188,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(19.432 160.861)"},r.a.createElement("path",{d:"M1.949,20.7A15.68,15.68,0,0,0,.8,25.511a39.684,39.684,0,0,0,.72,6.273H46.553q1.755-5.775-2.027-6.236t-6.284-.832l-20.7-9.185a1.043,1.043,0,0,0-1.376.53l-.01.024L14.9,19.1h0a14.414,14.414,0,0,1-5.69,1.626A12.059,12.059,0,0,1,4.745,19.5h0A2.086,2.086,0,0,0,2,20.572Q1.972,20.634,1.949,20.7Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M25.9,167.678l21.587,4.042C64.178,147.22,134.032,46.764,141.691,0H93.632C68.056,33.806,41.81,142.773,25.9,167.678Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(18 67)"},r.a.createElement("path",{d:"M152.091,55.858l25.791,18.916a69.471,69.471,0,0,1,17.532,7.037c1.109,1.009,2.448,3.052-2.149,2.7l-.614-.046c-4.407-.319-8.864-.4-9.47,1.094-.634,1.566,2.148,3.44.866,5.553q-1.282,2.113-12.117-10.6L146.39,69.935Zm50.4-69.569c-3.049,3.455-6.1,7.226-5.231,8.675s4.043.357,4.961,2.651Q203.137-.089,186.452.9L162.624,14.91,154.8,1.89,185.446-7.3a69.441,69.441,0,0,1,16.178-9.75C203.1-17.326,205.538-17.165,202.489-13.71Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M102.684,12.647C123.02,34.277,147.827,48.389,181.662,60.9l-7.519,15.013c-34.913-3.278-53.577-5.9-68.2-27.565C102.269,42.913,95.708,24.2,91.777,14.484Z",transform:"matrix(0.966, 0.259, -0.259, 0.966, 16.119, -33.877)",fill:"#6c147c",fillRule:"evenodd"}),r.a.createElement("path",{d:"M72.768,92.064h62.257Q113.872,27.626,113.414,3.611c-.016-.816-1.525-2.254-2.192-2.066Q103.9,3.611,95.546,0C80.787,23.709,75.683,52.9,72.768,92.064Z",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M181.05-7.268l3.3,16.453C159.109,25.4,133.554,37.956,111.162,36.172c9.724,41.659,9.276,75.763-12.191,75.763h-33.2C60.5,76.545,74.36,27.477,87.206,2.727A4.379,4.379,0,0,1,91.2,0h9.646l.013.038C118.7.184,147.658,3.439,181.05-7.268Z",fill:"#7a1b8b",fillRule:"evenodd"})))));break;default:console.log("".concat(g," not found"))}return r.a.createElement(Ne,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:l,viewBox:C,fill:d,stroke:m,strokeWidth:f,"stroke-linecap":h,strokeLinejoin:_,className:"icon-".concat(g," ").concat(n)},O),v)})));function Re(){var e=Object(s.a)(["\n  display: ",";\n  ",";\n"]);return Re=function(){return e},e}function Pe(){var e=Object(s.a)(["\n  position: relative;\n  cursor: pointer;\n  line-height: 0;\n  .react-skeleton-load {\n    display: flex;\n    margin: auto;\n    text-align: center;\n    width: 100% !important;\n    height: 100% !important;\n    object-fit: cover;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n  }\n  .pixel-avatar {\n    padding-top: 5px;\n  }\n"]);return Pe=function(){return e},e}var De=m.a.div(Pe()),Le=m.a.img(Re(),(function(e){return e.show?"inherit":"none"}),(function(e){return e.avatarColor&&"background-color: ".concat(e.avatarColor,";")})),Fe=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.imageLink,c=e.id,l=e.name,s=void 0===l?"":l,u=e.children,m=(e.partialName,e.type),f=void 0===m?"USER":m,b=e.userId,h=e.onClick,E=void 0===h?null:h,_=(e.noDefaultClick,e.hasAccepted),g=void 0===_?null:_,O=e.isBot,A=void 0!==O&&O,v=Object(G.a)(e,["className","imageLink","id","name","children","partialName","type","userId","onClick","noDefaultClick","hasAccepted","isBot"]),C=Object(d.g)(),j=Object(o.useSelector)((function(e){return e.users.onlineUsers})).some((function(e){return e.user_id===b})),k=Object(n.useState)(!1),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(!1),S=Object(p.a)(N,2),x=S[0],I=S[1],R=function(e){var t=e.replace(/\s/g,"");if("undefined"===typeof t)return"";for(var a=0,n=0;n<t.length;n++)a=t.charCodeAt(n)+((a<<5)-a);return"hsla(".concat(a%360,", ").concat(50,"%, ").concat(40,"%, 0.8)")},P=function(){w(!0)};Object(n.useEffect)((function(){null==i&&s&&w(!0)}),[]);var D=function(){w(!0),I(!0)},L=function(e){return"https://avatars.dicebear.com/api/human/".concat(e.replace(/\s/g,""),".svg?mood[]=happy&mood[]=surprised")};return r.a.createElement(De,Object.assign({},v,{className:"avatar avatar-sm ".concat(j?"avatar-state-success":""," ").concat(T?"ico-avatar-loaded":""," ").concat(a),onClick:function(t){t.stopPropagation(),t.preventDefault(),E&&E(t),e.noDefaultClick||("USER"===f?C.push("/profile/".concat(c,"/").concat(ue(s))):"TOPIC"===f&&C.push("/topic/".concat(c,"/").concat(ue(s))))}}),!1===T&&r.a.createElement(Ce.a,{borderRadius:"50%",widthRandomness:0,heightRandomness:0}),r.a.createElement(ke.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:s},A?r.a.createElement(Le,{show:T,className:"rounded-circle",onLoad:P,onError:D,src:Te.a,alt:s}):null==i||!1===g?r.a.createElement(Le,{show:!0,className:"rounded-circle pixel-avatar",onLoad:P,onError:D,src:L(s),avatarColor:R(s),alt:s}):"GROUP"===f?r.a.createElement(Se,{icon:"users"}):"Gripp Offerte Bot"===s?r.a.createElement(Le,{show:T,className:"rounded-circle",onLoad:P,onError:D,src:Te.a,alt:s}):!1===x?r.a.createElement(Le,{show:T,className:"rounded-circle",onLoad:P,onError:D,src:i,alt:s}):r.a.createElement(Le,{show:!0,className:"rounded-circle pixel-avatar",onLoad:P,onError:D,src:L(s),avatarColor:R(s),alt:s})),u)}));function Me(){var e=Object(s.a)(["\n  ul {\n    margin: 0;\n    list-style: none;\n    box-shadow: 0 0 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n    z-index: 5;\n    overflow: auto;\n    background-color: #ffffff;\n    color: #4d4d4d;\n    border-radius: 8px;\n    padding: 8px 8px;\n    cursor: pointer;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    border-top: 1px solid #eeeeee;\n    max-height: 260px;\n  }\n\n  li {\n    white-space: nowrap;\n    margin-bottom: 10px;\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n    cursor: pointer;\n    padding-bottom: 5px;\n\n    span {\n      font-weight: 400;\n    }\n\n    &:hover {\n      span {\n        color: #972c86;\n      }\n    }\n    &:last-child {\n      border: none;\n      padding: 0;\n      margin: 0;\n    }\n  }\n  .ico-avatar {\n    margin-right: 10px;\n  }\n  div.ico-avatar img {\n    width: 100%;\n    height: 100%;\n  }\n  span {\n    font-weight: 600;\n    color: #676767;\n  }\n"]);return Me=function(){return e},e}var Ue=m.a.div(Me()),Ge=function(e){var t=e.users,a=e.className,i=e.onShowList,c=Object(n.useRef)(),o=Object(d.g)(),l=function(e,t){o.push("/profile/".concat(t.id,"/").concat(t.name))};return X(c,(function(){i&&i()}),!0),r.a.createElement(Ue,{className:a,ref:c},r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(Fe,{size:"xs",imageLink:e.profile_image_link,userId:e.id,name:e.name?e.name:e.email,partialName:e.partial_name,hasAccepted:e.has_accepted,noDefaultClick:!0,onClick:function(t){return l(0,e)}}),r.a.createElement("span",{className:"user-list-name",onClick:function(t){return l(0,e)}},e.name?e.name:e.email))}))))};function Be(){var e=Object(s.a)(["\n  position: absolute;\n  top: 100%;\n  padding-top: 8px;\n  max-width: 250px;\n  z-index: 999;\n  ul li > span {\n    padding-left: 8px;\n    text-overflow: ellipsis;\n    max-width: 80%;\n    overflow: hidden;\n  }\n"]);return Be=function(){return e},e}function He(){var e=Object(s.a)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n  border-radius: 50%;\n  background: #ffffff;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #dee2e6;\n  font-size: 11px;\n  cursor: pointer;\n"]);return He=function(){return e},e}function We(){var e=Object(s.a)(["\n  display: inline-block;\n  height: 2rem;\n  width: 2rem;\n  margin-left: -0.5rem;\n  position: relative;\n  @media all and (max-width: 920px) {\n  }\n"]);return We=function(){return e},e}var Qe=m.a.div(We()),Ye=m.a.span(He()),ze=Object(m.a)(Ge)(Be()),Ve=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.recipients,c=Object(n.useState)(!1),o=Object(p.a)(c,2),l=o[0],s=o[1];return r.a.createElement(Qe,{className:"plus-recipient-component ".concat(a)},r.a.createElement(Ye,{onClick:function(e){e.preventDefault(),e.stopPropagation(),s(!l)},className:"total-people-circle"},r.a.createElement("span",null,"+"),i.length),l&&r.a.createElement(ze,{className:"people-list",users:i}))})),Ke=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.value,c=Object(G.a)(e,["className","value"]);return r.a.createElement("span",Object.assign({ref:t,className:"badge-growing "+n},c),r.a.createElement("i",{className:"badge-growing-value"},i))}));r.a.memo(Ke);function qe(){var e=Object(s.a)([""]);return qe=function(){return e},e}Ke.defaultProps={className:""};var Je=m.a.div(qe());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(Je,{className:"".concat(a)})}));function Ze(){var e=Object(s.a)(["\n  ",";\n  display: inline-block;\n  width: ",";\n  height: ",";\n  -webkit-mask-image: url(",");\n  mask-image: url(",");\n  mask-size: contain;\n  mask-repeat: no-repeat;\n  mask-position: center;\n  ","\n"]);return Ze=function(){return e},e}var Xe=a(162),$e=m.a.i(Ze(),(function(e){return e.rotate&&"transform: rotate(".concat(e.rotate,"deg);")}),(function(e){return e.width?e.width:"18px"}),(function(e){return e.height?e.height:"18px"}),(function(e){return e.src}),(function(e){return e.src}),(function(e){return e.bgColor&&"background-color: ".concat(e.bgColor,";")})),et=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.dataTip,c=void 0===i?"":i,o=(e.rotate,e.type),l=Object(G.a)(e,["className","dataTip","rotate","type"]);return r.a.createElement($e,Object.assign({ref:t,alt:"".concat(o," icon"),className:"icon-".concat(o," ").concat(n),src:function(e){switch(e){case"driff-logo":return Xe;default:return e}}(o),"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":c},l))})),tt=(r.a.memo(et),a(4)),at=a.n(tt);function nt(){var e=Object(s.a)(["\n  justify-content: center;\n"]);return nt=function(){return e},e}var rt=m.a.span(nt()),it=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.rotate,c=void 0===i?"":i,o=e.iconPosition,l=void 0===o?"left":o,s=e.children,d=e.href,u=e.icon,m=e.clickHandler,p=e.onClick,f=e.iconLeft,b=e.iconRight,h=e.iconLeftRotate,E=e.iconRightRotate,_=e.iconLeftOnClick,g=e.iconRightOnClick,O=e.iconRightDataSet,A=e.iconLeftDataSet,v=e.dataSet,C=e.target,j=void 0===C?null:C,k=e.dataTip,y=void 0===k?"":k,T=e.style,w=void 0===T?null:T,N=function(e){e.stopPropagation(),e.preventDefault(),d&&(m?m(d):window.open(e.target.href,"_blank")),p&&(v?p(e,v):p(e))};return r.a.createElement(rt,{ref:t,style:w,className:"img-lnk component-image-text-link ".concat(n),onClick:function(e){return function(e){N(e)}(e)},"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":y},f&&r.a.createElement(xe,{className:"svg-icon-left",onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),_?A?_(e,A):_(e):N(e)}(e)},icon:f,rotate:h,dataSet:A}),r.a.createElement("a",{target:j,href:d,onClick:function(e){return N(e)}},("right"===l||"both"===l)&&u&&r.a.createElement(xe,{className:"svg-icon-right",icon:u,rotate:c}),s,("left"===l||"both"===l)&&u&&r.a.createElement(xe,{className:"svg-icon-left",icon:u,rotate:c})),b&&r.a.createElement(xe,{className:"svg-icon-right",onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),g?O?g(e,O):g(e):N(e)}(e)},icon:b,rotate:E,dataSet:O}))})),ct=(at.a.string,at.a.func,at.a.number,at.a.oneOfType,at.a.object,it);function ot(){var e=Object(s.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return ot=function(){return e},e}var lt=m.a.div(ot()),st=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a;return r.a.createElement(lt,{className:"loading ".concat(n)})})),dt=r.a.memo(st),ut=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.active,i=void 0===n?null:n,c=e.isSub,o=void 0!==c&&c,s=Object(G.a)(e,["className","active","isSub"]),u=Object(d.h)(),m=!0===i?"active":"";return null===i&&(m=""===m&&0===u.pathname.indexOf(e.to)?"active":o||0!==e.to.indexOf("/".concat(u.pathname.split("/")[1]))?u.pathname===e.to?"active":"":"active"),r.a.createElement(l.b,Object.assign({},s,{className:"".concat(a," ").concat(m)}),e.children)})),mt=a(55);a(163);function pt(){var e=Object(s.a)(["\n  ","\n  position: absolute;\n  z-index: 9999;\n  background-color: #fff;\n\n  &.orientation-top {\n    bottom: -10px;\n  }\n  &.orientation-bottom {\n    top: calc(100% - 25px);\n    bottom: auto;\n  }\n  &.orientation-left {\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% + 25px);\n    right: auto;\n  }\n"]);return pt=function(){return e},e}var ft=m.a.div(pt(),(function(e){return e.hide&&"display: none;"})),bt=r.a.forwardRef((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.orientation,c=e.onSelectEmoji,o=Object(G.a)(e,["className","orientation","onSelectEmoji"]);return r.a.createElement(ft,Object.assign({ref:t,hide:null===i.vertical||null===i.horizontal,className:"picker-emoji orientation-".concat(i.vertical," orientation-").concat(i.horizontal," ").concat(n)},o),r.a.createElement(mt.b,{title:"Emoji",set:"apple",onSelect:c,theme:"light",showSkinTones:!1,i18n:{search:"Search",clear:"Clear",emojilist:"List of emoji",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}}))})),ht=r.a.memo(bt);function Et(){var e=Object(s.a)(["\n  transform: ",";\n"]);return Et=function(){return e},e}var _t=a(360),gt=a(127),Ot=a(361),At=a(362),vt=a(363),Ct=a(364),jt=a(365),kt=a(366),yt=a(367),Tt=a(368),wt=a(369),Nt=a(162),St=a(370),xt=a(164),It=a(371),Rt=a(372),Pt=a(373),Dt=a(128),Lt=a(374),Ft=a(375),Mt=a(376),Ut=a(377),Gt=a(378),Bt=a(379),Ht=a(380),Wt=a(381),Qt=a(382),Yt=a(383),zt=a(384),Vt=a(385),Kt=a(386),qt=a(387),Jt=a(388),Zt=a(164),Xt=a(389),$t=a(390),ea=a(161),ta=a(391),aa=a(392),na=a(393),ra=a(394),ia=a(395),ca=a(396),oa=a(397),la=a(398),sa=a(399),da=a(400),ua=a(401),ma=a(402),pa=a(165),fa=a(165),ba=a(403),ha=a(404),Ea=a(405),_a=a(406),ga=a(407),Oa=a(408),Aa=a(409),va=a(410),Ca=a(99),ja=a(411),ka=a(412),ya=a(413),Ta=a(414),wa=m.a.img(Et(),(function(e){return e.rotate?"rotate(".concat(e.rotate,"deg)"):"rotate(0deg)"})),Na=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.dataTip,c=void 0===i?"":i,o=e.rotate,l=e.icon,s=e.onClick,d=e.dataSet,u=Object(G.a)(e,["className","dataTip","rotate","icon","onClick","dataSet"]),m=function(e){s&&(d?s(e,d):s(e))};return r.a.createElement(wa,Object.assign({ref:t,alt:"".concat(l," icon"),className:"icon-".concat(l," ").concat(n),src:function(e){switch(e){case"arrow":return _t;case"arrow-down":return gt;case"topics":case"topic":return Ot;case"person":case"people":return At;case"documents":return vt;case"tags":return Ct;case"templates":return jt;case"requests":return yt;case"tasks":return Tt;case"settings":return wt;case"team":case"departments":return kt;case"logo":return Nt;case"logo-transparent":return St;case"communications":return xt;case"favorites":return It;case"notifications":return Rt;case"active-notification":return Pt;case"arrow-transparent":return Dt;case"search":return Lt;case"close":return Ft;case"poll":return Mt;case"recent":return Ut;case"more":return Gt;case"owner":return Ht;case"enlarge":return Wt;case"closed-eye":return Qt;case"opened-eye":return Yt;case"edit":return zt;case"check":return Vt;case"clap":return Kt;case"mention":return qt;case"post":return Jt;case"multi-post":case"multi_post":return Zt;case"tail-spin":return Xt;case"circle":return $t;case"gripp-logo":return ea;case"chat":return ta;case"dock":return aa;case"expand":return na;case"clipboard":return ra;case"trash":return ia;case"logout":return ca;case"lock":return oa;case"unlock":return la;case"more-menu":return Bt;case"send":return sa;case"google-login":return da;case"download":return ua;case"plus":return ma;case"comment":return pa;case"quote":return fa;case"heart-driff":return ba;case"prio-critical":return ha;case"prio-high":return Ea;case"prio-medium":return _a;case"prio-low":return ga;case"cross":return Oa;case"personal-bot":return Aa;case"share":return va;case"gripp-bot":return Ca;case"heart-white":return ja;case"link":return ka;case"menu-favourites":return ya;case"new-chat":return Ta;default:return e}}(l),rotate:o,onClick:function(e){return m(e)},"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":c},u))})),Sa=r.a.memo(Na),xa=a(207),Ia=a.n(xa);a(460);function Ra(){var e=Object(s.a)(["\n  position: relative;\n  background-color: #fff;\n\n  .selectDiv {\n    border: 1px solid #cacaca;\n    border-radius: 10px;\n    padding: 10px;\n  }\n\n  .selectInputDiv {\n    margin: 15px 15px 20px;\n    padding: 0.5em 1em;\n    width: calc(100% - 30px);\n    box-sizing: border-box;\n    font-family: inherit;\n    font-size: 15px;\n    font-weight: 300;\n    border: 1px solid #cacaca;\n    border-radius: 10px;\n  }\n\n  .attributionDiv {\n    text-align: right;\n    text-transform: uppercase;\n    font-size: 12px;\n    font-weight: bold;\n    padding: 5px 16px;\n    letter-spacing: 0.25px;\n  }\n"]);return Ra=function(){return e},e}var Pa=m.a.div(Ra()),Da=r.a.forwardRef((function(e,t){var a=e.className,i=void 0===a?"":a;Object(n.useEffect)((function(){var a=function t(a){27===a.keyCode&&(e.handleShowGifPicker(),document.removeEventListener("keydown",t,!1))},n=function a(n){if(t){var r=document.querySelector(".picker-btn");t.current.contains(n.target)||n.target.contains(r)||(e.handleShowGifPicker(),document.removeEventListener("mousedown",a,!1))}};return document.querySelector(".selectInputDiv").focus(),document.addEventListener("mousedown",n,!1),document.addEventListener("keydown",a,!1),function(){document.removeEventListener("mousedown",n,!1),document.removeEventListener("keydown",a,!1)}}),[]);return r.a.createElement(Pa,{className:"picker-gif ".concat(i),ref:t,orientation:e.orientation},r.a.createElement(Ia.a,{theme:{select:"selectDiv",selectInput:"selectInputDiv",attribution:"attributionDiv"},onEntrySelect:function(t){e.onSelectGif(t)},requestKey:"na6sHnThmVFEFGTlKXlEkM5qtpx8kYUu",placeholder:"Search GIFs Here.."}))}));function La(){var e=Object(s.a)([""]);return La=function(){return e},e}function Fa(){var e=Object(s.a)([""]);return Fa=function(){return e},e}function Ma(){var e=Object(s.a)(["\n  cursor: hand;\n\n  svg {\n    position: relative;\n    top: 1px;\n  }\n"]);return Ma=function(){return e},e}function Ua(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: ",";\n  right: 5px;\n  top: ",";\n  z-index: 9999;\n  background-color: transparent;\n"]);return Ua=function(){return e},e}var Ga=m.a.div(Ua(),(function(e){return"top"===e.orientation?"75px":null}),(function(e){return"bottom"===e.orientation?"75px":null})),Ba=m.a.div(Ma()),Ha=Object(m.a)(mt.b)(Fa()),Wa=Object(m.a)(Da)(La()),Qa=r.a.forwardRef((function(e,t){var a=e.className,i=void 0===a?"":a,c=e.handleShowEmojiPicker,o=e.handleShowGifPicker,l=Object(n.useState)(!1),s=Object(p.a)(l,2),d=s[0],u=s[1];return X(t,c,!0),X(t,o,!0),r.a.createElement(Ga,{ref:t,orientation:e.orientation,className:"common-picker ".concat(i),onMouseLeave:function(){e.onMouseLeave&&e.onMouseLeave()}},!1===d?r.a.createElement(Ha,{className:"emoji-picker",title:"Emoji",set:"apple",onSelect:e.onSelectEmoji,theme:"light",showSkinTones:!1,i18n:{search:"Search",clear:"Clear",emojilist:"List of emoji",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}}):r.a.createElement(Wa,{handleShowGifPicker:o,onSelectGif:e.onSelectGif,orientation:e.orientation}),r.a.createElement("div",{className:"block mt-2 common-picker-btn"},r.a.createElement(Ba,{onClick:function(){u(!d)},className:"btn btn-primary"},"Switch to",!1===d?r.a.createElement(r.a.Fragment,null," Gif"):r.a.createElement(r.a.Fragment,null," Emoji"),r.a.createElement(Se,{className:"ml-2",icon:"play"}))))}));function Ya(e,t){return k(function(e){var t=e.sort,a="/v1/files";return e.sort?a+="?sort=".concat(t):a+="?sort=desc",F({method:"GET",url:a})}(e),"GET_FILES_START","GET_FILES_SUCCESS","GET_FILES_FAIL",t)}function za(e,t){return k(function(e){var t="/v2/post-message-files?channel_id=".concat(e.channel_id,"&skip=").concat(e.skip,"&limit=").concat(e.limit);return F({method:"GET",url:t})}(e),"GET_CHANNEL_FILES_START","GET_CHANNEL_FILES_SUCCESS","GET_CHANNEL_FILES_FAILURE",t)}function Va(e,t){return y("ADD_CHANNEL_FILES",e,t)}function Ka(e,t){return y("DELETE_CHANNEL_FILES",e,t)}function qa(e,t){return y("SET_VIEW_FILES",e,t)}function Ja(e,t){return y("PREPARE_WORKSPACE_FILES_UPLOAD",e,t)}function Za(e,t){return k(function(e){var t="/v2/workspace-bulk-files?topic_id=".concat(e.topic_id,"&is_primary=").concat(e.is_primary);return F({method:"POST",url:t,data:e.files})}(e),"UPLOADING_WORKSPACE_FILES_START","UPLOADING_WORKSPACE_FILES_SUCCESS","UPLOADING_WORKSPACE_FILES_FAILURE",t)}function Xa(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-primary-files?".concat(C(e))})}(e),"GET_WORKSPACE_PRIMARY_FILES_START","GET_WORKSPACE_PRIMARY_FILES_SUCCESS","GET_WORKSPACE_PRIMARY_FILES_FAIL",t)}function $a(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-files?".concat(C(e))})}(e),"GET_WORKSPACE_FILES_START","GET_WORKSPACE_FILES_SUCCESS","GET_WORKSPACE_FILES_FAIL",t)}function en(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-trash-files?".concat(C(e))})}(e),"GET_WORKSPACE_TRASH_FILES_START","GET_WORKSPACE_TRASH_FILES_SUCCESS","GET_WORKSPACE_TRASH_FILES_FAIL",t)}function tn(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-favorite-files?".concat(C(e))})}(e),"GET_WORKSPACE_FAVORITE_FILES_START","GET_WORKSPACE_FAVORITE_FILES_SUCCESS","GET_WORKSPACE_FAVORITE_FILES_FAIL",t)}function an(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-recent-edited-files?".concat(C(e))})}(e),"GET_WORKSPACE_RECENT_EDIT_FILES_START","GET_WORKSPACE_RECENT_EDIT_FILES_SUCCESS","GET_WORKSPACE_RECENT_EDIT_FILES_FAIL",t)}function nn(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-popular-files?".concat(C(e))})}(e),"GET_WORKSPACE_POPULAR_FILES_START","GET_WORKSPACE_POPULAR_FILES_SUCCESS","GET_WORKSPACE_POPULAR_FILES_FAIL",t)}function rn(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-folders?".concat(C(e))})}(e),"GET_WORKSPACE_FOLDER_START","GET_WORKSPACE_FOLDER_SUCCESS","GET_WORKSPACE_FOLDER_FAIL",t)}function cn(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-folder-breadcrumbs?".concat(C(e))})}(e),"GET_WORKSPACE_FOLDERS_BREADCRUMB_START","GET_WORKSPACE_FOLDERS_BREADCRUMB_SUCCESS","GET_WORKSPACE_FOLDERS_BREADCRUMB_FAIL",t)}function on(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-files-detail?".concat(C(e))})}(e),"GET_WORKSPACE_FILE_DETAILS_START","GET_WORKSPACE_FILE_DETAILS_SUCCESS","GET_WORKSPACE_FILE_DETAILS_FAIL",t)}function ln(e,t){return k(function(e){var t="/v2/workspace-files?topic_id=".concat(e.topic_id);return F({method:"POST",url:t,data:e})}(e),"UPLOAD_WORKSPACE_FILE_START","UPLOAD_WORKSPACE_FILE_SUCCESS","UPLOAD_WORKSPACE_FILE_FAIL",t)}function sn(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/workspace-delete-files",data:e})}(e),"DELETE_WORKSPACE_FILE_START","DELETE_WORKSPACE_FILE_SUCCESS","DELETE_WORKSPACE_FILE_FAIL",t)}function dn(e,t){return k(function(e){return F({method:"PUT",url:"/v2/workspace-restore-file",data:e})}(e),"RESTORE_WORKSPACE_FILE_START","RESTORE_WORKSPACE_FILE_SUCCESS","RESTORE_WORKSPACE_FILE_FAIL",t)}function un(e,t){return k(function(e){return F({method:"POST",url:"/v2/workspace-folders",data:e})}(e),"ADD_FOLDER_START","ADD_FOLDER_SUCCESS","ADD_FOLDER_FAIL",t)}function mn(e,t){return k(function(e){var t="/v2/workspace-folders/".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"UPDATE_FOLDER_START","UPDATE_FOLDER_SUCCESS","UPDATE_FOLDER_FAIL",t)}function pn(e,t){return k(function(e){var t="/v2/workspace-bulk-files?topic_id=".concat(e.topic_id,"&is_primary=0");return e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),F({method:"POST",url:t,data:e.files})}(e),"UPLOAD_WORKSPACE_FILES_START","UPLOAD_WORKSPACE_FILES_SUCCESS","UPLOAD_WORKSPACE_FILES_FAIL",t)}function fn(e,t){return y("INCOMING_FOLDER",e,t)}function bn(e,t){return k(function(e){var t="/v2/workspace-folders/".concat(e.id,"?topic_id=").concat(e.topic_id);return e.force_delete&&(t+="&force_delete=1"),F({method:"DELETE",url:t,data:e})}(e),"DELETE_FOLDER_START","DELETE_FOLDER_SUCCESS","DELETE_FOLDER_FAIL",t)}function hn(e,t){return y("INCOMING_DELETED_FOLDER",e,t)}function En(e,t){return k(H(e),"FAVORITE_FILE_START","FAVORITE_FILE_SUCCESS","FAVORITE_FILE_FAIL",t)}function _n(e,t){return k(function(e){var t="/v2/workspace-files/".concat(e.file_id,"?topic_id=").concat(e.topic_id);return e.force_delete&&(t+="&force_delete=1"),F({method:"DELETE",url:t,data:e})}(e),"DELETE_FILE_START","DELETE_FILE_SUCCESS","DELETE_FILE_FAIL",t)}function gn(e,t){return k(function(e){var t="/v2/workspace-files/".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"UPDATE_FILENAME_START","UPDATE_FILENAME_SUCCESS","UPDATE_FILENAME_FAIL",t)}function On(e,t){return y("INCOMING_FILE",e,t)}function An(e,t){return y("ADD_FILE_SEARCH_RESULTS",e,t)}function vn(e,t){return y("CLEAR_FILE_SEARCH_RESULTS",e,t)}function Cn(e,t){return y("INCOMING_DELETED_FILE",e,t)}function jn(e,t){return y("INCOMING_FILES",e,t)}function kn(e,t){return y("ADD_REMOVE_FAVORITE",e,t)}function yn(e,t){return k(function(e){var t="/v2/workspace-delete-all-trash-files?topic_id=".concat(e.topic_id);return F({method:"DELETE",url:t,data:e})}(e),"DELETE_TRASH_START","DELETE_TRASH_SUCCESS","DELETE_TRASH_FAIL",t)}function Tn(e,t){return k(function(e){return F({method:"PUT",url:"/v2/workspace-file-move",data:e})}(e),"MOVE_FILE_START","MOVE_FILE_SUCCESS","MOVE_FILE_FAIL",t)}function wn(e,t){return y("INCOMING_MOVED_FILE",e,t)}function Nn(e,t){return y("INCOMING_RESTORE_FILE",e,t)}function Sn(e,t){return y("INCOMING_RESTORE_FOLDER",e,t)}function xn(e,t){return y("INCOMING_EMPTY_TRASH",e,t)}function In(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/post-delete-attachment?".concat(C(e)),data:e})}(e),"DELETE_POST_FILE_START","DELETE_POST_FILE_SUCCESS","DELETE_POST_FILE_FAIL",t)}function Rn(e,t){return y("INCOMING_DELETED_POST_FILE",e,t)}function Pn(e,t){return y("INCOMING_REMOVED_FILE",e,t)}function Dn(e,t){return y("INCOMING_REMOVED_FOLDER",e,t)}function Ln(e,t){return y("UPLOAD_FILES_REDUCER",e,t)}function Fn(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/workspace-bulk-files",data:e})}(e),"DELETE_WORKSPACE_FILES_START","DELETE_WORKSPACE_FILES_SUCCESS","DELETE_WORKSPACE_FILES_FAIL",t)}function Mn(e,t){return y("INCOMING_DELETED_FILES",e,t)}function Un(e,t){return k(function(e){return F({method:"POST",url:"/v2/google-attachments",data:e})}(e),"POST_GOOGLE_ATTACHMENTS_START","POST_GOOGLE_ATTACHMENTS_SUCCESS","POST_GOOGLE_ATTACHMENTS_FAIL",t)}function Gn(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-google-attachments?topic_id=".concat(e.workspace_id,"&attachment_type=FILE"),data:e})}(e),"GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_START","GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_SUCCESS","GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_FAIL",t)}function Bn(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-google-attachments?topic_id=".concat(e.workspace_id,"&attachment_type=FOLDER"),data:e})}(e),"GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_START","GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_SUCCESS","GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_FAIL",t)}function Hn(e,t){return y("INCOMING_GOOGLE_FILE",e,t)}function Wn(e,t){return y("INCOMING_GOOGLE_FOLDER",e,t)}function Qn(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/google-attachments",data:e})}(e),"DELETE_GOOGLE_ATTACHMENTS_START","DELETE_GOOGLE_ATTACHMENTS_SUCCESS","DELETE_GOOGLE_ATTACHMENTS_FAIL",t)}function Yn(e,t){return y("INCOMING_DELETED_GOOGLE_FILE",e,t)}function zn(e,t){return y("ADD_GOOGLE_DRIVE_FILE",e,t)}function Vn(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/files?".concat(C(e))})}(e),"GET_COMPANY_FILES_START","GET_COMPANY_FILES_SUCCESS","GET_COMPANY_FILES_FAIL",t)}function Kn(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/favorite-files?".concat(C(e))})}(e),"GET_COMPANY_FAVORITE_FILES_START","GET_COMPANY_FAVORITE_FILES_SUCCESS","GET_COMPANY_FAVORITE_FILES_FAIL",t)}function qn(e,t){return k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F({method:"GET",url:"/v2/company/files-detail?".concat(C(e))})}(e),"GET_COMPANY_FILES_DETAIL_START","GET_COMPANY_FILES_DETAIL_SUCCESS","GET_COMPANY_FILES_DETAIL_FAIL",t)}function Jn(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/folder-breadcrumbs?".concat(C(e))})}(e),"GET_COMPANY_FOLDER_BREAD_CRUMBS_START","GET_COMPANY_FOLDER_BREAD_CRUMBS_SUCCESS","GET_COMPANY_FOLDER_BREAD_CRUMBS_FAIL",t)}function Zn(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/folders?".concat(C(e))})}(e),"GET_COMPANY_FOLDERS_START","GET_COMPANY_FOLDERS_SUCCESS","GET_COMPANY_FOLDERS_FAIL",t)}function Xn(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/popular-files?".concat(C(e))})}(e),"GET_COMPANY_POPULAR_FILES_START","GET_COMPANY_POPULAR_FILES_SUCCESS","GET_COMPANY_POPULAR_FILES_FAIL",t)}function $n(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/recent-edited-files?".concat(C(e))})}(e),"GET_COMPANY_RECENT_EDITED_FILES_START","GET_COMPANY_RECENT_EDITED_FILES_SUCCESS","GET_COMPANY_RECENT_EDITED_FILES_FAIL",t)}function er(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/trashed-files?".concat(C(e))})}(e),"GET_COMPANY_TRASHED_FILES_START","GET_COMPANY_TRASHED_FILES_SUCCESS","GET_COMPANY_TRASHED_FILES_FAIL",t)}function tr(e,t){return k(function(e){return F({method:"POST",url:"/v2/company/folders",data:e})}(e),"POST_COMPANY_FOLDERS_START","POST_COMPANY_FOLDERS_SUCCESS","POST_COMPANY_FOLDERS_FAIL",t)}function ar(e,t){return k(function(e){return F({method:"POST",url:"/v2/company/upload-files",data:e})}(e),"POST_COMPANY_UPLOAD_FILES_START","POST_COMPANY_UPLOAD_FILES_SUCCESS","POST_COMPANY_UPLOAD_FILES_FAIL",t)}function nr(e,t){return k(function(e){var t="/v2/company/upload-bulk-files";return e.folder_id&&(t+="?folder_id=".concat(e.folder_id)),F({method:"POST",url:t,data:e.files})}(e),"POST_COMPANY_UPLOAD_BULK_FILES_START","POST_COMPANY_UPLOAD_BULK_FILES_SUCCESS","POST_COMPANY_UPLOAD_UPLOAD_BULK_FILES_FAIL",t)}function rr(e,t){return k(function(e){return F({method:"PATCH",url:"/v2/company/file-viewed?".concat(C(e))})}(e),"PATCH_COMPANY_FILE_VIEWED_START","PATCH_COMPANY_FILE_VIEWED_SUCCESS","PATCH_COMPANY_FILE_VIEWED_FAIL",t)}function ir(e,t){return k(function(e){return F({method:"PUT",url:"/v2/company/files/".concat(e.id),data:e})}(e),"PUT_COMPANY_FILES_START","PUT_COMPANY_FILES_SUCCESS","PUT_COMPANY_FILES_FAIL",t)}function cr(e,t){return k(function(e){return F({method:"PUT",url:"/v2/company/folders/".concat(e.id),data:e})}(e),"PUT_COMPANY_FOLDERS_START","PUT_COMPANY_FOLDERS_SUCCESS","PUT_COMPANY_FOLDERS_FAIL",t)}function or(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/company/files/".concat(e.file_id),data:e})}(e),"DELETE_COMPANY_FILES_START","DELETE_COMPANY_FILES_SUCCESS","DELETE_COMPANY_FILES_FAIL",t)}function lr(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/company/folders/".concat(e.id),data:e})}(e),"DELETE_COMPANY_FOLDERS_START","DELETE_COMPANY_FOLDERS_SUCCESS","DELETE_COMPANY_FOLDERS_FAIL",t)}function sr(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/company/delete-all-trash-files?".concat(C(e))})}(e),"DELETED_COMPANY_DELETE_START","DELETED_COMPANY_DELETE_SUCCESS","DELETED_COMPANY_DELETE_FAIL",t)}function dr(e,t){return y("UPLOAD_COMPANY_FILES_REDUCER",e,t)}function ur(e,t){return y("ADD_COMPANY_FILE_SEARCH_RESULTS",e,t)}function mr(e,t){return y("INCOMING_COMPANY_FOLDER",e,t)}function pr(e,t){return y("INCOMING_COMPANY_UPDATED_FOLDER",e,t)}function fr(e,t){return y("INCOMING_COMPANY_DELETED_FOLDER",e,t)}function br(e,t){return y("INCOMING_COMPANY_FILE",e,t)}function hr(e,t){return y("INCOMING_COMPANY_FILES",e,t)}function Er(e,t){return y("INCOMING_DELETED_FILE",e,t)}function _r(e,t){return y("INCOMING_COMPANY_MOVED_FILE",e,t)}function gr(e,t){return y("INCOMING_COMPANY_EMPTY_TRASH",e,t)}function Or(e,t){return y("INCOMING_REMOVED_COMPANY_FILE",e,t)}function Ar(e,t){return y("INCOMING_COMPANY_MOVE_FILE",e,t)}function vr(e,t){return y("INCOMING_COMPANY_RESTORE_FILE",e,t)}function Cr(e,t){return y("INCOMING_COMPANY_RESTORE_FOLDER",e,t)}function jr(e,t){return y("INCOMING_REMOVED_COMPANY_FOLDER",e,t)}function kr(e,t){return y("INCOMING_COMPANY_DELETED_FILES",e,t)}function yr(e,t){return y("INCOMING_COMPANY_UPDATED_FILE",e,t)}function Tr(e,t){return k(function(e){return F({method:"PUT",url:"/v2/workspace-restore-file",data:e})}(e),"PUT_WORKSPACE_RESTORE_FILE_START","PUT_WORKSPACE_RESTORE_FILE_SUCCESS","PUT_WORKSPACE_RESTORE_FILE_FAIL",t)}function wr(e,t){return k(function(e){return F({method:"PUT",url:"/v2/company/restore-file",data:e})}(e),"PUT_COMPANY_RESTORE_FILE_START","PUT_COMPANY_RESTORE_FILE_SUCCESS","PUT_COMPANY_RESTORE_FILE_FAIL",t)}function Nr(e,t){return k(function(e){return F({method:"PUT",url:"/v2/workspace-restore-folder",data:e})}(e),"PUT_WORKSPACE_RESTORE_FOLDER_START","PUT_WORKSPACE_RESTORE_FOLDER_SUCCESS","PUT_WORKSPACE_RESTORE_FOLDER_FAIL",t)}function Sr(e,t){return k(function(e){return F({method:"PUT",url:"/v2/company/restore-folder",data:e})}(e),"PUT_COMPANY_RESTORE_FOLDER_START","PUT_COMPANY_RESTORE_FOLDER_SUCCESS","PUT_COMPANY_RESTORE_FOLDER_FAIL",t)}function xr(e,t){return k(function(e){return F({method:"PUT",url:"/v2/company/file-move/?".concat(C(e)),data:e})}(e),"PUT_COMPANY_FILE_MOVE_START","PUT_COMPANY_FILE_MOVE_SUCCESS","PUT_COMPANY_FILE_MOVE_FAIL",t)}function Ir(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/google-attachments?attachment_type=FOLDER",data:e})}(e),"GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_START","GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_SUCCESS","GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_FAIL",t)}function Rr(e,t){return k(function(e){return F({method:"GET",url:"/v2/company/google-attachments?attachment_type=FILE",data:e})}(e),"GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_START","GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_SUCCESS","GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_FAIL",t)}function Pr(e,t){return y("SET_BROWSER_TAB_STATUS",e,t)}function Dr(e,t){return k(function(e){return F({method:"GET",url:"/v2/connected-slugs",data:e})}(e),"GET_CONNECTED_SLUGS_START","GET_CONNECTED_SLUGS_SUCCESS","GET_CONNECTED_SLUGS_FAIL",t)}function Lr(e,t){return k(function(e){return F({method:"GET",url:"/v1/recipients?is_shared_topic=1",data:e})}(e),"GET_ALL_RECIPIENTS_START","GET_ALL_RECIPIENTS_SUCCESS","GET_ALL_RECIPIENTS_FAIL",t)}function Fr(e,t){return y("SET_NAV_MODE",e,t)}function Mr(e,t){return y("TOGGLE_LOADING",e,t)}function Ur(e,t){return k(function(e){var t="/v2/post-message-unfurl";return"task"===e.type&&(t="/v2/task-comment-unfurl"),F({method:"POST",url:t,data:e})}(e),"GENERATE_UNFURL_START","GENERATE_UNFURL_SUCCESS","GENERATE_UNFURL_FAILURE",t)}function Gr(e,t){return y("GENERATE_UNFURL_REDUCER",e,t)}function Br(e,t){return y("ADD_TO_MODALS",e,t)}function Hr(e,t){return y("CLEAR_MODAL",e,t)}function Wr(e,t){return k(function(e){return F({method:"POST",url:"/v1/drafts?draft_type=".concat(e.type),data:e})}(e),"SAVE_DRAFT_START","SAVE_DRAFT_SUCCESS","SAVE_DRAFT_FAILURE",t)}function Qr(e,t){return k(function(e){return F({method:"PUT",url:"/v1/drafts/".concat(e.draft_id,"?draft_type=").concat(e.type),data:e})}(e),"UPDATE_DRAFT_START","UPDATE_DRAFT_SUCCESS","UPDATE_DRAFT_FAILURE",t)}function Yr(e,t){return k(function(e){return F({method:"DELETE",url:"/v1/drafts/".concat(e.draft_id,"?draft_type=").concat(e.type)})}(e),"DELETE_DRAFT_START","DELETE_DRAFT_SUCCESS","DELETE_DRAFT_FAILURE",t)}function zr(e,t){return y("DELETE_DRAFT",e,t)}function Vr(e,t){return y("SAVE_INPUT_DATA",e,t)}function Kr(e,t){return y("CLEAR_INPUT_DATA",e,t)}function qr(e,t){return y("ADD_USER_TO_REDUCERS",e,t)}function Jr(e,t){return y("GET_TRANSLATION_OBJECT_SUCCESS",e,t)}function Zr(e,t){return k(function(e){return M({method:"GET",actualUrl:e.url})}(e),"GET_TRANSLATION_OBJECT_START","GET_TRANSLATION_OBJECT_SUCCESS","GET_TRANSLATION_OBJECT_FAIL",t)}function Xr(e,t){return k(function(e){return M({method:"POST",actualUrl:"".concat(x(),"/generate-translation-raw"),data:{raws:e}})}(e),"POST_GENERATE_TRANSLATION_RAW_START","POST_GENERATE_TRANSLATION_RAW_SUCCESS","POST_GENERATE_TRANSLATION_RAW_FAIL",t)}var $r=function(e,t){return k(function(e){var t="/v2/push-api-notification?subscription_id=".concat(e.sub_id);return F({method:"GET",url:t,data:e})}(e),"GET_PUSH_NOTIFICATION_START","GET_PUSH_NOTIFICATION_SUCCESS","GET_PUSH_NOTIFICATION_FAILURE",t)},ei=function(e,t){return k(function(e){return F({method:"POST",url:"/v2/push-api-notification",data:e})}(e),"SUBSCRIBE_PUSH_NOTIFICATIONS_START","SUBSCRIBE_PUSH_NOTIFICATIONS_SUCCESS","SUBSCRIBE_PUSH_NOTIFICATIONS_FAILURE",t)};function ti(e,t){return k(function(e){return F({method:"GET",url:"/v2/notification-counter-entries",data:e})}(e),"GET_UNREAD_NOTIFICATION_COUNTER_START","GET_UNREAD_NOTIFICATION_COUNTER_SUCCESS","GET_UNREAD_NOTIFICATION_COUNTER_FAIL",t)}function ai(e,t){return y("UPDATE_GENERAL_CHAT_NOTIFICATION",e,t)}function ni(e,t){return y("UPDATE_UNREAD_LIST_COUNTER",e,t)}function ri(e,t){return k(function(e){var t="";return t="task"===e.type?"/v2/task-comment-unfurl/".concat(e.unfurl_id):"/v2/post-message-unfurl/".concat(e.unfurl_id),F({method:"DELETE",url:t})}(e),"DELETE_UNFURL_START","DELETE_UNFURL_SUCCESS","DELETE_UNFURL_FAIL",t)}function ii(e,t){return k(F({method:"GET",url:"/v2/quick-link"}),"GET_QUICK_LINKS_START","GET_QUICK_LINKS_SUCCESS","GET_QUICK_LINKS_FAIL",t)}function ci(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/push-api-notification?delete_all_subscription=".concat(e.user_id)})}(e),"DELETE_PUSH_SUBSCRIPTION_START","DELETE_PUSH_SUBSCRIPTION_SUCCESS","DELETE_PUSH_SUBSCRIPTION_FAILURE",t)}function oi(e,t){return k(function(e){return F({method:"POST",url:"/v2/to-do",data:e})}(e),"POST_TO_DO_START","POST_TO_DO_SUCCESS","POST_TO_DO_FAILURE",t)}function li(e,t){return k(function(e){var t="/v2/to-do/".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"PUT_TO_DO_START","PUT_TO_DO_SUCCESS","PUT_TO_DO_FAILURE",t)}function si(e,t){return k(function(e){var t="/v2/to-do?".concat(C(e));return F({method:"GET",url:t,data:e})}(e),"GET_TO_DO_START","GET_TO_DO_SUCCESS","GET_TO_DO_FAILURE",t)}function di(e,t){return k(function(e){return F({method:"GET",url:"/v2/to-do-detail",data:e})}(e),"GET_TO_DO_DETAIL_START","GET_TO_DO_DETAIL_SUCCESS","GET_TO_DO_DETAIL_FAILURE",t)}function ui(e,t){return k(function(e){var t="/v2/done-to-do?".concat(C(e));return F({method:"PUT",url:t,data:e})}(e),"PUT_DONE_TO_DO_START","PUT_DONE_TO_DO_SUCCESS","PUT_DONE_TO_DO_FAILURE",t)}function mi(e,t){return k(function(e){var t="/v2/remove-to-do?".concat(C(e));return F({method:"DELETE",url:t,data:e})}(e),"DEL_REMOVE_TO_DO_START","DEL_REMOVE_TO_DO_SUCCESS","DEL_REMOVE_TO_DO_FAILURE",t)}function pi(e,t){return y("INCOMING_TO_DO",e,t)}function fi(e,t){return y("INCOMING_UPDATE_TO_DO",e,t)}function bi(e,t){return y("INCOMING_DONE_TO_DO",e,t)}function hi(e,t){return y("INCOMING_REMOVE_TO_DO",e,t)}function Ei(e,t){return y("INCOMING_FAVOURITE_ITEM",e,t)}function _i(){var e=Object(s.a)(["\n  width: 10px;\n  height: 10px;\n  margin-right: 10px;\n"]);return _i=function(){return e},e}function gi(){var e=Object(s.a)(["\n  ","\n  position: absolute;\n  z-index: 1000;\n  background-color: #fff;\n  padding: 10px 10px 5px;\n  border: 1px solid #e1e1e1;\n  border-radius: 8px;\n\n  &.orientation-top {\n    top: ","px;\n  }\n  &.orientation-bottom {\n    top: ",";\n  }\n  &.orientation-left {\n    right: 30px;\n    left: auto;\n  }\n  &.orientation-right {\n    left: 30px;\n    right: auto;\n  }\n\n  .fa {\n    font-size: 42px;\n  }\n  .file {\n    max-width: 200px;\n    max-height: 200px;\n    display: block;\n    border: 1px solid #e1e1e1;\n    border-radius: 8px;\n  }\n  .file-name {\n    display: block;\n  }\n  .file-delete {\n    margin-top: 10px;\n    cursor: pointer;\n    cursor: hand;\n    display: inline-block;\n    font-weight: bold;\n\n    &:hover {\n      color: #f44;\n    }\n\n    svg {\n      width: 11px;\n      height: 11px;\n      position: relative;\n      top: -1px;\n      margin-right: 5px;\n    }\n  }\n"]);return gi=function(){return e},e}function Oi(){var e=Object(s.a)(["\n  position: relative;\n  transition: all 0.3;\n\n  ul {\n    padding: 0;\n\n    li {\n      list-style: none;\n      position: relative;\n      cursor: pointer;\n      cursor: hand;\n    }\n\n    &.files {\n      li {\n        padding-right: 16px;\n        &:hover {\n          color: #972c86;\n\n          svg.feather-trash-2 {\n            color: #505050;\n          }\n        }\n        @media all and (max-width: 460px) {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        svg {\n          &.feather-trash-2 {\n            position: absolute;\n            margin-left: 5px;\n            width: 11px;\n            top: -1px;\n            right: 0;\n\n            &:hover {\n              color: #972c86;\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return Oi=function(){return e},e}var Ai=m.a.div(Oi()),vi=m.a.span(gi(),(function(e){return e.hide&&"display: none;"}),(function(e){return e.offsetTop-(e.clientHeight+20)}),(function(e){return e.offsetTop})),Ci=Object(m.a)(Se)(_i()),ji=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.attachedFiles,c=e.handleRemoveFile,l=e.scrollRef,s=void 0===l?null:l,u=e.type,m=void 0===u?"modal":u,f=e.comment,b=void 0===f?null:f,h=e.showDelete,E=void 0===h||h,_=Object(o.useDispatch)(),g=Object(d.i)(),O=Object(n.useState)(null),A=Object(p.a)(O,2),v=A[0],C=A[1],j=Object(o.useSelector)((function(e){return e.session})).user,k={main:Object(n.useRef)(null),tooltip:Object(n.useRef)(null)},y=function(e){var t=e.currentTarget.dataset.targetIndex;if("modal"===m)null!==v&&v.file.id===i[t].id?T(e):C({file:i[t],offsetTop:e.currentTarget.offsetTop+20});else if(g.hasOwnProperty("workspaceId")){var a={workspace_id:g.workspaceId,file_id:i[t].id};g.hasOwnProperty("postId")&&(a=Object(I.a)(Object(I.a)({},a),{},{files:i})),_(qa(a))}},T=function(){C(null)},w=function(e){if(e.preventDefault(),e.stopPropagation(),"modal"===m)c(e.currentTarget.dataset.fileId),C(null);else if(g.hasOwnProperty("postId")){var t=e.currentTarget.dataset.fileId,a={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this file?",actions:{onSubmit:function(){_(In({file_id:t,post_id:g.postId,message_id:b?b.id:null}))}}};_(Br(a))}},N=he(k.main,k.tooltip,s,null!==v).orientation;return X(k.main,T,null!==v),r.a.createElement(Ai,{ref:k.main,className:"file-attachments ".concat(a),onMouseLeave:function(){setTimeout((function(){C(null)}),500)}},r.a.createElement("ul",{className:"files"},i.map((function(e,t){return r.a.createElement("li",{"data-target-index":t,key:t,onClick:y,title:e.search?e.search:e.name},r.a.createElement(Ci,{icon:"paperclip"}),e.search?e.search:e.name,("modal"===m||j.id===e.uploader.id&&E)&&r.a.createElement(Se,{"data-file-id":e.id,onClick:w,icon:"trash-2"}))}))),null!==v&&r.a.createElement(vi,{ref:k.tooltip,hide:null===N.horizontal||null===N.vertical,className:"tool-tip orientation-".concat(N.horizontal," orientation-").concat(N.vertical),clientHeight:N.clientHeight,offsetTop:v.offsetTop},r.a.createElement("a",{target:"_blank",href:v.file.src},function(e){switch(e.type){case"IMAGE":return e.hasOwnProperty("src")?r.a.createElement("img",{className:"file",src:e.src,alt:e.name}):r.a.createElement("img",{className:"file",src:e.view_link,alt:e.name});case"VIDEO":return e.hasOwnProperty("src")?r.a.createElement("video",{className:"file",controls:!0,playsInline:!0,autoPlay:!1,src:e.src}):r.a.createElement("video",{className:"file",controls:!0,playsInline:!0,autoPlay:!1,src:e.view_link});default:if(e.rawFile)switch(e.rawFile.type){case"application/x-zip-compressed":return r.a.createElement("i",{className:"fa fa-file-zip-o text-primary"});case"application/pdf":return r.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"});case"text/plain":return r.a.createElement("i",{className:"fa fa-file-text-o text-warning"});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return r.a.createElement("i",{className:"fa fa-file-excel-o text-success"});default:return r.a.createElement("i",{className:"fa fa-file text-warning"})}else switch(e.type){case"application/x-zip-compressed":return r.a.createElement("i",{className:"fa fa-file-zip-o text-primary"});case"application/pdf":return r.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"});case"text/plain":return r.a.createElement("i",{className:"fa fa-file-text-o text-warning"});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return r.a.createElement("i",{className:"fa fa-file-excel-o text-success"});default:return r.a.createElement("i",{className:"fa fa-file text-warning"})}}}(v.file),r.a.createElement("span",{className:"file-name"},v.file.name)),r.a.createElement("span",{className:"file-delete","data-file-id":v.file.id,onClick:w},r.a.createElement(Se,{icon:"trash-2"})," Delete")))})),ki=function(e){var t=e.users;return r.a.createElement("div",{className:"mr-3"},r.a.createElement("div",{className:"avatar-group"},t.map((function(e){return r.a.createElement(Fe,{key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})}))))};function yi(){var e=Object(s.a)(["\n  position: relative;\n\n  .dropdown-toggle {\n    color: #212529 !important;\n    \n    .dark & {\n      color: #c7c7c7 !important;\n    }\n    \n    &:after {\n      margin-left: 10px;\n    }\n\n    &.show {\n      background: #afb8bd;\n      border-color: #afb8bd;\n      box-shadow: 0 0 0 0.2rem rgba(175, 184, 189, 0.4);\n    }\n    &:focus {\n      box-shadow: 0 0 0 0.2rem rgba(175, 184, 189, 0.4);\n    }\n  }\n  .dropdown-item {\n    cursor: pointer;\n    cursor: hand;\n  }\n"]);return yi=function(){return e},e}var Ti=m.a.div(yi()),wi=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.value,c=void 0===i?null:i,o=e.dropdown,l=Object(n.useRef)(),s=Object(n.useState)(!1),d=Object(p.a)(s,2),u=d[0],m=d[1],f=Object(n.useCallback)((function(){m(!u)}),[u]);return X(l,f,u),r.a.createElement(Ti,{className:"button-dropdown ".concat(a),ref:l},r.a.createElement("span",{className:"btn btn-outline-light dropdown-toggle d-flex justify-content-between ".concat(u?"show":""," ").concat(null!==c?"active":""),"data-toggle":"dropdown",onClick:f},o.label),r.a.createElement("div",{className:"dropdown-menu ".concat(u?"show":"")},o.items.map((function(e){return r.a.createElement("span",{className:"dropdown-item d-flex justify-content-between ".concat(c===e.value?"active":""),key:e.value,"data-value":e.value,onClick:function(t){e.onClick(t),f()}},e.label)}))))})),Ni=a(208),Si=a.n(Ni),xi=function(e){var t=Object(n.useRef)();Object(n.useEffect)((function(){if(t.current){var e=t.current;e.onOutsideAction=function(t){!e.wrapper||e.wrapper.contains(t.target)||t.target.className.indexOf("modal-content")||e.closeCalendar()}}}));var a=e.calendarIcon,i=void 0===a?null:a,c=e.clearIcon,o=void 0===c?null:c,l=e.dayPlaceholder,s=void 0===l?"dd":l,d=e.monthPlaceholder,u=void 0===d?"mm":d,m=e.yearPlaceholder,p=void 0===m?"yy":m;return r.a.createElement(Si.a,Object.assign({ref:t,calendarIcon:i,clearIcon:o,dayPlaceholder:s,monthPlaceholder:u,yearPlaceholder:p},e))};function Ii(){var e=Object(s.a)([""]);return Ii=function(){return e},e}var Ri=Object(m.a)(ke.a)(Ii()),Pi=r.a.memo((function(e){var t=e.arrowSize,a=void 0===t?5:t,n=e.distance,i=void 0===n?10:n,c=e.content,o=e.children,l=e.direction,s=void 0===l?"up-middle":l,d=Object(G.a)(e,["arrowSize","distance","content","children","direction"]);return r.a.createElement(Ri,Object.assign({direction:s,arrowSize:a,distance:i,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:c},d),o)})),Di=function(e){var t=e.className,a=void 0===t?"":t,n=e.label,i=e.badgeClassName,c=void 0===i?"badge-light text-white":i;return r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge ".concat(c)},n))},Li=a(209),Fi=a.n(Li),Mi=a(9),Ui=a(210),Gi=a(211),Bi=a(212),Hi=a(7),Wi=function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n},Qi=function(){return Math.round(+new Date/1e3)},Yi={user:null,channels:{},selectedChannel:null,startNewChannels:{},channelDrafts:{},unreadChatCount:0,historicalPositions:[],editChatMessage:null,sendButtonClicked:!1,chatQuotes:{},channelsLoaded:!1,lastVisitedChannel:null,isLastChatVisible:!1},zi={timeline:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}},members:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}},recent_posts:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}}};Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(_e.a)(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;r instanceof Array&&t>0?r.flat(t-1,a):a.push(r)}}catch(i){n.e(i)}finally{n.f()}return a}}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=[],n=function(n){null===t?a.includes(e[n])||a.push(e[n]):"undefined"===typeof a.filter((function(a){return a[t]===e[n][t]}))[0]&&a.push(e[n])},r=0;r<this.length;r++)n(r);return a}});var Vi=function(e,t){return e.reduce((function(e,a){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},a[t],a))}),{})},Ki=function(e,t){return e.reduce((function(e,a){var n=a[t];return e[n]||(e[n]=[]),e[n].push(a),e}),{})},qi={user:null,files:{},channelFiles:{},viewFiles:null,pendingWorkspaceFilesUpload:{},progressWorkspaceFilesUpload:{},workspaceFiles:{},googleDriveApiFiles:{},companyFiles:{init:!1,search_results:[],search_value:"",count:{all:0,stars:0,trash:0,storage:0},has_more:!0,skip:0,limit:100,items:{},favorite_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},popular_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},recently_edited:{init:!1,has_more:!0,skip:0,limit:100,items:[]},google_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},trash_files:{init:!1,has_more:!0,skip:0,limit:100,items:{}}},companyFolders:{init:!1,has_more:!0,skip:0,limit:100,items:{},google_folders:{init:!1,has_more:!0,skip:0,limit:100,items:[]}}},Ji={user:null,i18n:null,i18nLoaded:!1,recipients:[],isLoading:!1,isBrowserActive:!0,modals:{},slugs:[],navMode:2,dataFromInput:null,unreadCounter:{},socketMounted:!1,searchValue:"",searchResults:{},searchCount:0,searching:!1,tabs:{},links:[],todos:{isLoaded:!1,hasMore:!0,skip:0,limit:50,count:{new:0,overdue:0,done:0},items:{}}},Zi={user:null,notifications:{},unreadCount:0,hasSubscribed:!0},Xi={user:null,companyPosts:{flipper:!0,limit:25,prev_skip:0,next_skip:0,total_take:0,has_more:!0,posts:{},filter:"all",sort:"recent",tag:null,count:{},search:null,searchResults:[]},posts:{},drafts:[],totalPostsCount:0,unreadPostsCount:0,editPostComment:null,commentQuotes:{},parentId:null,recentPosts:{}},$i=a(19),ec=a.n($i),tc={sessionUser:null,driff:{i18n:null,isSettingsLoaded:!1,isCompSettingsLoaded:!1,company_name:"ZUID Creatives",settings:{maintenance_mode:!1,google_login:!0,magic_link:!0,password_login:!0,sign_up:!0},ANNOUNCEMENT_AT:null,ANNOUNCEMENT_LINK:null},user:{isLoaded:!1,CHAT_SETTINGS:{chat_filter:"pills-home",sound_enabled:!0,open_topic_channels:[],order_channel:{order_by:"channel_date_updated",sort_by:"DESC"},preview_message:!0,chat_message_theme:{preset:"default",self:{chat_bubble_focus_border_color:"rgba(151,44,134,0.25)",chat_bubble_text_color:"#ffffff",chat_bubble_background_color:"#7A1B8B",chat_bubble_link_color:"#ffffff",chat_bubble_hover_color:"#fff",chat_bubble_quote_background_color:"#8C3B9B",chat_bubble_quote_text_color:"#ffffffe6",chat_bubble_quote_link_color:"#FF4445",chat_bubble_quote_hover_color:"#7a1b8b"},others:{chat_bubble_focus_border_color:"rgba(151,44,134,0.25)",chat_bubble_name_text_color:"#AAB0C8",chat_bubble_text_color:"#000000",chat_bubble_background_color:"#F0F0F0",chat_bubble_link_color:"#8C3B9B",chat_bubble_hover_color:"#0056b3",chat_bubble_quote_background_color:"#E4E4E4",chat_bubble_quote_text_color:"#000000",chat_bubble_quote_link_color:"#FF4445",chat_bubble_quote_hover_color:"#0056b3"}}},GENERAL_SETTINGS:{is_new:!0,timezone:ec.a.tz.guess(),dark_mode:"0",language:null,active_topic:null,workspace_open_folder:{},date_format:"DD-MM-YYYY",time_format:"HH:mm",personal_links:[],notifications_on:!0},READ_ANNOUNCEMENT:null},isLoaded:!1},ac={tags:{}},nc={user:null,users:{},getUserFilter:{hasMore:!1,limit:1e3,skip:0},viewedProfile:null,onlineUsers:[],mentions:{},roles:{}},rc={flipper:!0,user:{},workspaces:{},activeTopic:null,activeTab:"intern",workspacesLoaded:!1,externalWorkspacesLoaded:!1,workspacePosts:{},postComments:{},drafts:[],workspaceTimeline:{},workspace:{},folders:{},activeChannelId:null,workspaceToDelete:null,folderToDelete:null,search:{results:[],searching:!1,value:"",page:1,maxPage:1,count:0}},ic=Object(Mi.combineReducers)({session:L.sessionReducer,chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GLOBAL_RECIPIENTS_SUCCESS":var a=e.channels;return t.data.result.forEach((function(t){"DIRECT"===t.type&&(t.members=[Object(I.a)({},t.profile),{id:e.user.id,name:e.user.name,profile_image_link:e.user.profile_image_link,email:e.user.email}],t.title=t.profile.name,t.replies=[],t.recipient_ids=[t.id],t.add_user=!0),"TOPIC"===t.type&&(t.members=t.channel_members,t.replies=[],t.add_open_topic=!0,null===t.channel_code?t.recipient_ids=[t.id]:(t.hasMore=!0,t.code=t.channel_code,t.entity_id=t.channel_id,t.read_only=!0)),a[t.key_id]=Object(I.a)(Object(I.a)(Object(I.a)({},a[t.key_id]),t),{},{id:t.key_id,is_pinned:!1,is_hidden:!1,is_archived:!1})})),Object(I.a)(Object(I.a)({},e),{},{channels:a});case"RENAME_CHANNEL_KEY":var n=Object(I.a)({},e.channels);delete n[t.data.old_id],delete t.data.old_id,n[t.data.id]=t.data;var r=Object(I.a)({},e.selectedChannel);return t.data.selected&&(r&&(n[r.id].selected=!1),r=t.data),Object(I.a)(Object(I.a)({},e),{},{channels:n,selectedChannel:r,lastVisitedChannel:r});case"GET_CHANNELS_SUCCESS":var i=Object(I.a)({},e.channels);return t.data.results.filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){i[e.id]=Object(I.a)(Object(I.a)(Object(I.a)({},i[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1})})),Object(I.a)(Object(I.a)({},e),{},{channels:i,channelsLoaded:!0});case"GET_WORKSPACE_CHANNELS_SUCCESS":var c=Object(I.a)({},e.channels);return t.data.filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){c[e.id]=Object(I.a)(Object(I.a)(Object(I.a)({},c[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1})})),Object(I.a)(Object(I.a)({},e),{},{channels:c});case"GET_CHANNEL_SUCCESS":var o=e.channels[t.data.id];return"undefined"===typeof o&&(o=Object(I.a)(Object(I.a)({},t.data),{},{hasMore:!0,skip:0,isFetching:!1})),Object(I.a)(Object(I.a)({},e),{},{channels:Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.id,o))});case"GET_WORKSPACES_SUCCESS":return e;case"UPDATE_CHANNEL_REDUCER":var l=Object(I.a)(Object(I.a)({},e.channels[t.data.id]),t.data);return Object(I.a)(Object(I.a)({},e),{},{channels:Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.id,l)),selectedChannel:e.selectedChannel&&e.selectedChannel.id===l.id?l:e.selectedChannel});case"SET_SELECTED_CHANNEL":var s=Object(I.a)(Object(I.a)(Object(I.a)({},e.channels[t.data.id]),t.data),{},{replies:Object($.a)(e.channels[t.data.id].replies)}),d=Object(I.a)({},e.channels);return e.selectedChannel&&(d[e.selectedChannel.id].selected=!1,d[t.data.id].selected=!0),Object(I.a)(Object(I.a)({},e),{},{selectedChannel:s,channels:d,lastVisitedChannel:"TOPIC"!==s.type?s:e.lastVisitedChannel});case"UPDATE_MEMBER_TIMESTAMP":var u=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(u=Object(I.a)({},e.channels[t.data.channel_id]),u=Object(I.a)(Object(I.a)({},u),{},{is_read:!0,total_unread:e.user&&e.user.id===t.data.member_id?0:u.total_unread,members:u.members.map((function(e){return e.id===t.data.member_id?Object(I.a)(Object(I.a)({},e),{},{last_visited_at:{timestamp:t.data.timestamp+3}}):e})),replies:t.data.member_id===e.user.id?u.replies.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{is_read:!0})})):u.replies})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==u?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,u)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===parseInt(t.data.channel_id)?u:e.selectedChannel});case"ADD_TO_CHANNELS":return Object(I.a)(Object(I.a)({},e),{},{channels:Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.id,t.data))});case"GET_CHAT_MESSAGES_SUCCESS":var m=Object(I.a)({},e.channels[t.data.channel_id]);return m=Object(I.a)(Object(I.a)({},m),{},{replies:[].concat(Object($.a)(t.data.results.map((function(e){if("PERSONAL_BOT"===m.type&&e.body.search(/You asked me to remind you about/)>-1){e.original_body=e.body;var a=e.body.replace(e.body.substr(0,e.body.search(" in ")+4,e.body),"");e.body=e.body.replace(" in ".concat(a),' in <a class="push" data-href="/chat/'.concat(e.quote.channel_code,'">#').concat(a,"</a>"));var n="/chat/".concat(e.quote.channel_code,"/").concat(e.quote.code);e.body=e.body.replace("this message",'<a class="push" data-href="'.concat(n,'">this message</a>')),!0===e.is_completed?e.body='<span class="completed">'.concat(e.body,"</span><br/> ").concat(e.original_body.replace("You asked me to remind you","OK! I\u2019ve marked the reminder")," as complete."):e.body="".concat(e.body,'<br/> <span class="action"><a class="btn btn-complete btn-action" data-message_id="').concat(e.id,'">Mark as Complete</a> <a class="btn btn-delete btn-action" data-message_id="').concat(e.id,'">Delete</a></span>')}return Object(I.a)(Object(I.a)({},e),{},{is_read:!0,channel_id:t.data.channel_id})}))),Object($.a)(m.replies)),read_only:t.data.read_only,hasMore:20===t.data.results.length,skip:0===m.skip&&m.replies.length?m.replies.length+20:m.skip+20,isFetching:!1}),Object(I.a)(Object(I.a)({},e),{},{channels:Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,m)),selectedChannel:m.id===e.selectedChannel.id?m:e.selectedChannel});case"MARK_ALL_MESSAGES_AS_READ":var p=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(p=Object(I.a)({},e.channels[t.data.channel_id]),p=Object(I.a)(Object(I.a)({},p),{},{replies:p.replies.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{is_read:!0})}))})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==p?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,p)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)({},p):e.selectedChannel});case"UPDATE_UNREAD_CHAT_REPLIES":return Object(I.a)(Object(I.a)({},e),{},{selectedChannel:t.data.id===e.selectedChannel.id?t.data:e.selectedChannel,channels:Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.id,t.data)),unreadChatCount:e.unreadChatCount>0?e.unreadChatCount-t.data.minus_count:e.unreadChatCount});case"ADD_CHAT_MESSAGE":var f=Object(I.a)({},e.channels[t.data.channel_id]);return f=Object(I.a)(Object(I.a)({},f),{},{replies:[].concat(Object($.a)(f.replies),[t.data])}),Object(I.a)(Object(I.a)({},e),{},{channels:Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,f)),selectedChannel:e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{replies:[].concat(Object($.a)(e.selectedChannel.replies),[t.data])}):e.selectedChannel});case"INCOMING_CHAT_MESSAGE":var b=!1;e.selectedChannel&&e.selectedChannel.id===t.data.channel_id&&t.data.reference_id&&(b=e.selectedChannel.replies.some((function(e){return e.reference_id===t.data.reference_id})));var h=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(h=Object(I.a)({},e.channels[t.data.channel_id]),h=Object(I.a)(Object(I.a)({},h),{},{is_hidden:!1,replies:b?h.replies.map((function(e){return e.id===t.data.reference_id?(e.id=t.data.id,e):(e.is_read=!0,e)})):[].concat(Object($.a)(h.replies),[t.data]),last_visited_at_timestamp:Qi(),last_reply:t.data,total_unread:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?h.total_unread:h.total_unread+1})),Object(I.a)(Object(I.a)({},e),{},{selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{last_visited_at_timestamp:Qi(),last_reply:t.data,replies:b?e.selectedChannel.replies.map((function(e){return e.id===t.data.reference_id?(e.id=t.data.id,e):(e.is_read=!0,e)})):[].concat(Object($.a)(e.selectedChannel.replies),[t.data])}):e.selectedChannel,channels:null!==h?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,h)):e.channels});case"INCOMING_CHAT_MESSAGE_FROM_OTHERS":var E=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.reply.channel_id)&&(E=Object(I.a)({},e.channels[t.data.reply.channel_id]),E=Object(I.a)(Object(I.a)({},E),{},{replies:[].concat(Object($.a)(E.replies),[t.data.reply]),is_hidden:!1,last_reply:t.data.last_reply,total_unread:e.selectedChannel&&e.selectedChannel.id===t.data.reply.channel_id?E.total_unread:E.total_unread+1})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==E?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.reply.channel_id,E)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.reply.channel_id&&e.selectedChannel.replies?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{replies:[].concat(Object($.a)(e.selectedChannel.replies),[t.data.reply]),last_reply:t.data.last_reply?t.data.last_reply:e.selectedChannel.last_reply}):e.selectedChannel});case"GENERATE_UNFURL_REDUCER":if(t.data.channel_id){var _=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(_=Object(I.a)({},e.channels[t.data.channel_id]),_=Object(I.a)(Object(I.a)({},_),{},{replies:_.replies.map((function(e){return e.id===t.data.message_id?Object(I.a)(Object(I.a)({},e),{},{unfurls:t.data.unfurls,unfurl_loading:!1}):e}))})),Object(I.a)(Object(I.a)({},e),{},{selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.id===t.data.message_id?Object(I.a)(Object(I.a)({},e),{},{unfurls:t.data.unfurls,unfurl_loading:!1}):e}))}):e.selectedChannel,channels:null!==_?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,_)):e.channels})}return e;case"INCOMING_ARCHIVED_CHANNEL":var g=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(g=Object(I.a)({},e.channels[t.data.channel_id]),g=Object(I.a)(Object(I.a)({},g),{},{is_archived:"ARCHIVED"===t.data.status})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==g?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,g)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{is_archived:"ARCHIVED"===t.data.status}):e.selectedChannel});case"ARCHIVE_REDUCER":var O=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(O=Object(I.a)({},e.channels[t.data.channel_id]),O=Object(I.a)(Object(I.a)({},O),{},{is_archived:"ARCHIVED"===t.data.status})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==O?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,O)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{is_archived:"ARCHIVED"===t.data.status}):e.selectedChannel});case"UNARCHIVE_REDUCER":var A=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(A=Object(I.a)({},e.channels[t.data.channel_id]),A=Object(I.a)(Object(I.a)({},A),{},{is_archived:"UNARCHIVED"!==t.data.status})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==A?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,A)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{is_archived:"UNARCHIVED"!==t.data.status}):e.selectedChannel});case"INCOMING_CHAT_MESSAGE_REACTION":var v=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(v=Object(I.a)({},e.channels[t.data.channel_id]),v=Object(I.a)(Object(I.a)({},v),{},{replies:v.replies.map((function(e){if(e.id===t.data.message_id){if("CREATED"===t.data.status){var a=e.reactions.filter((function(e){return e.id!==t.data.id}));return Object.assign({},e,{reactions:[].concat(Object($.a)(a),[t.data])})}return Object.assign({},e,{reactions:e.reactions.filter((function(e){return e.id!==t.data.id}))})}return e}))})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==v?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,v)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)({},v):e.selectedChannel});case"SET_CHANNEL_HISTORICAL_POSITION":var C=!1;return e.historicalPositions.length?(e.historicalPositions.forEach((function(e){e.channel_id===t.data.channel_id&&(C=!0)})),C?Object(I.a)(Object(I.a)({},e),{},{historicalPositions:e.historicalPositions.map((function(e){return e.channel_id===t.data.channel_id?t.data:e}))}):Object(I.a)(Object(I.a)({},e),{},{historicalPositions:[].concat(Object($.a)(e.historicalPositions),[t.data])})):Object(I.a)(Object(I.a)({},e),{},{historicalPositions:[t.data]});case"INCOMING_UPDATED_CHAT_MESSAGE":var j=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(j=Object(I.a)({},e.channels[t.data.channel_id]),j=Object(I.a)(Object(I.a)({},j),{},{replies:j.replies.map((function(e){return e.id===t.data.id?Object(I.a)(Object(I.a)({},e),{},{body:t.data.body,updated_at:t.data.updated_at}):e})),last_reply:j.last_reply&&j.last_reply.id===t.data.id?Object(I.a)(Object(I.a)({},j.last_reply),{},{body:t.data.body}):j.last_reply})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==j?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,j)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)({},j):e.selectedChannel});case"SET_EDIT_CHAT_MESSAGE":return Object(I.a)(Object(I.a)({},e),{},{editChatMessage:t.data});case"INCOMING_DELETED_CHAT_MESSAGE":var k=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(k=Object(I.a)({},e.channels[t.data.channel_id]),k=Object(I.a)(Object(I.a)({},k),{},{replies:k.replies.map((function(e){return e.id===t.data.id?Object(I.a)(Object(I.a)({},e),{},{is_deleted:!0,body:"The chat message has been deleted",files:[]}):e})),last_reply:k.last_reply.id===t.data.id?Object(I.a)(Object(I.a)({},k.last_reply),{},{body:"The chat message has been deleted",is_deleted:!0}):k.last_reply})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==k?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,k)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)({},k):e.selectedChannel});case"ON_CLICK_SEND_BUTTON":return Object(I.a)(Object(I.a)({},e),{},{sendButtonClicked:t.data});case"ADD_QUOTE":var y=e.chatQuotes;return Object.keys(e.chatQuotes).length>0&&e.chatQuotes.hasOwnProperty(t.data.channel_id)?(delete(y=Object(I.a)({},e.chatQuotes))[t.data.channel_id],y=Object(I.a)(Object(I.a)({},y),{},Object(Hi.a)({},t.data.channel_id,t.data))):y=Object(I.a)(Object(I.a)({},e.chatQuotes),{},Object(Hi.a)({},t.data.channel_id,t.data)),Object(I.a)(Object(I.a)({},e),{},{chatQuotes:y});case"CLEAR_QUOTE":var T=Object(I.a)({},e.chatQuotes);return delete T[t.data.channel_id],Object(I.a)(Object(I.a)({},e),{},{chatQuotes:T});case"SAVE_DRAFT_SUCCESS":var w=Object(I.a)({},e.channelDrafts);return"channel"===t.data.data.draft_type&&(w[t.data.data.channel_id]=Object(I.a)(Object(I.a)({},t.data.data),{},{draft_id:t.data.id})),Object(I.a)(Object(I.a)({},e),{},{channelDrafts:w});case"ADD_TO_CHANNEL_DRAFTS":var N=e.channelDrafts;return Object.keys(e.channelDrafts).length>0&&e.channelDrafts.hasOwnProperty(t.data.channel_id)?(delete(N=Object(I.a)({},e.channelDrafts))[t.data.channel_id],N=Object(I.a)(Object(I.a)({},N),{},Object(Hi.a)({},t.data.channel_id,t.data))):N=Object(I.a)(Object(I.a)({},N),{},Object(Hi.a)({},t.data.channel_id,t.data)),Object(I.a)(Object(I.a)({},e),{},{channelDrafts:N});case"CLEAR_CHANNEL_DRAFT":var S=Object(I.a)({},e.channelDrafts);return delete S[t.data.channel_id],Object(I.a)(Object(I.a)({},e),{},{channelDrafts:S});case"GET_CHANNEL_DRAFTS_SUCCESS":var x=e.channelDrafts;return t.data.filter((function(e){return"channel"===e.data.type})).forEach((function(e){x[e.data.channel_id]=Object(I.a)(Object(I.a)({},e.data),{},{draft_id:e.id})})),Object(I.a)(Object(I.a)({},e),{},{channelDrafts:x});case"INCOMING_UPDATED_CHANNEL_DETAIL":var R=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.id)&&(R=Object(I.a)({},e.channels[t.data.id]),R=Object(I.a)(Object(I.a)({},R),{},{members:t.data.members,title:t.data.title,replies:[].concat(Object($.a)(R.replies),[t.data.message])})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==R?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.id,R)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(I.a)({},R):e.selectedChannel});case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{user:t.data});case"UPDATE_CHAT_MESSAGE_REMINDER_COMPLETE":var P=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(P=Object(I.a)({},e.channels[t.data.channel_id]),P=Object(I.a)(Object(I.a)({},P),{},{replies:P.replies.map((function(e){if(e.id===t.data.message_id){e.original_body&&(e.body=e.original_body);var a=e.body.replace(e.body.substr(0,e.body.search(" in ")+4,e.body),"");e.body=e.body.replace(" in ".concat(a),' in <a class="push" data-href="/chat/'.concat(e.quote.channel_code,'">#').concat(a,"</a>"));var n="/chat/".concat(e.quote.channel_code,"/").concat(e.quote.code);return e.body=e.body.replace("this message",'<a class="push" data-href="'.concat(n,'">this message</a>')),e.body='<span class="completed">'.concat(e.body,"</span><br/> ").concat(e.original_body.replace("You asked me to remind you","OK! I\u2019ve marked the reminder")," as complete."),e}return e}))})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==P?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,P)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)({},P):e.selectedChannel});case"UPDATE_CHANNEL_MEMBERS_TITLE":var D=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(D=Object(I.a)({},e.channels[t.data.channel_id]),D=Object(I.a)(Object(I.a)({},D),{},{members:t.data.members,title:t.data.title})),Object(I.a)(Object(I.a)({},e),{},{channels:null!==D?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,D)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)({},D):e.selectedChannel});case"SAVE_LAST_VISITED_CHANNEL":var L=e.channels[t.data.id];return"undefined"===typeof L&&(L=t.data),Object(I.a)(Object(I.a)({},e),{},{lastVisitedChannel:L});case"RESTORE_LAST_VISITED_CHANNEL":var F=Object(I.a)({},e.channels[t.data.channel_id]);return Object(I.a)(Object(I.a)({},e),{},{selectedChannel:F.hasOwnProperty("id")?F:e.selectedChannel});case"CLEAR_SELECTED_CHANNEL":return Object(I.a)(Object(I.a)({},e),{},{selectedChannel:e.lastVisitedChannel?Object(I.a)({},e.channels[e.lastVisitedChannel.id]):null});case"JOIN_WORKSPACE_REDUCER":var M=Object(I.a)({},e.channels),U=e.selectedChannel?Object(I.a)({},e.selectedChannel):null;if(Object.keys(M).length&&M.hasOwnProperty(t.data.channel_id)){var G=Object(I.a)(Object(I.a)({},M[t.data.channel_id]),{},{members:[].concat(Object($.a)(M[t.data.channel_id].members),Object($.a)(t.data.users)),replies:[].concat(Object($.a)(M[t.data.channel_id].replies),[t.data.message])});M[t.data.channel_id].members=[].concat(Object($.a)(M[t.data.channel_id].members),Object($.a)(t.data.users)),M[t.data.channel_id].replies=[].concat(Object($.a)(M[t.data.channel_id].replies),[t.data.message]),U&&G.id===U.id&&(U=G)}return Object(I.a)(Object(I.a)({},e),{},{channels:M,selectedChannel:U});case"UNREAD_CHANNEL_REDUCER":var B=Object(I.a)({},e.channels);return B.hasOwnProperty(t.data.channel_id)&&(B=Object(I.a)(Object(I.a)({},B),{},Object(Hi.a)({},t.data.channel_id,Object(I.a)(Object(I.a)({},B[t.data.channel_id]),{},{is_read:!1})))),Object(I.a)(Object(I.a)({},e),{},{channels:B,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{is_read:!1}):e.selectedChannel});case"UPDATE_UNREAD_LIST_COUNTER":var H=Object(I.a)({},e.channels),W=Object(I.a)({},e.selectedChannel);return"UNREAD_CHANNEL"===t.data.entity_group_type?(H.hasOwnProperty(t.data.entity_id)&&(H[t.data.entity_id].is_read=!1,e.selectedChannel&&e.selectedChannel.id===t.data.entity_id&&(W.is_read=!1)),Object(I.a)(Object(I.a)({},e),{},{channels:H,selectedChannel:W})):e;case"INCOMING_UPDATED_WORKSPACE_FOLDER":if(Object.keys(e.channels).length&&"WORKSPACE"===t.data.type){var Q=Object(I.a)({},e.channels);if(Q.hasOwnProperty(t.data.channel.id)){var Y=Q[t.data.channel.id];if(t.data.system_message){var z=Object(I.a)(Object(I.a)({},t.data.system_message),{},{created_at:t.data.updated_at,editable:!1,is_read:!0,is_deleted:!1,files:[],reactions:[],unfurls:[]});Q[t.data.channel.id].replies=[].concat(Object($.a)(Q[t.data.channel.id].replies),[z])}return Y.members=t.data.members.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})})),Y.title=t.data.name,Object(I.a)(Object(I.a)({},e),{},{channels:Q,selectedChannel:e.selectedChannel&&e.selectedChannel.id===Y.id?Y:e.selectedChannel})}return e}return e;case"REMOVE_UNFURL":var V=Object(I.a)({},e.channels),K=null;return"chat"===t.data.type&&V.hasOwnProperty(t.data.channel_id)&&(K=Object(I.a)(Object(I.a)({},V[t.data.channel_id]),{},{replies:V[t.data.channel_id].replies.map((function(e){return e.id===t.data.message_id?Object(I.a)(Object(I.a)({},e),{},{unfurls:e.unfurls.filter((function(e){return e.id!==t.data.unfurl_id}))}):e}))}),V[t.data.channel_id]=K),Object(I.a)(Object(I.a)({},e),{},{channels:V,selectedChannel:e.selectedChannel&&K&&K.id===e.selectedChannel.id?K:e.selectedChannel});case"LEAVE_WORKSPACE":var q=Object(I.a)({},e.channels);return q.hasOwnProperty(t.data.channel_id)&&(q[t.data.channel_id].members=q[t.data.channel_id].members.filter((function(t){return t.id!==e.user.id}))),Object(I.a)(Object(I.a)({},e),{},{channels:q,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{members:e.selectedChannel.members.filter((function(t){return t.id!==e.user.id}))}):e.selectedChannel});case"INCOMING_EXTERNAL_USER":var J=e.selectedChannel?Object(I.a)({},e.selectedChannel):null,Z=Object(I.a)({},e.channels);return J&&(Z[(J=Object(I.a)(Object(I.a)({},J),{},{members:J.members.map((function(e){return e.id===t.data.current_user.id?Object(I.a)(Object(I.a)({},e),t.data.current_user):e}))})).id]=J),Object(I.a)(Object(I.a)({},e),{},{selectedChannel:J,channels:Z});case"SET_FETCHING_MESSAGES":var X=Object(I.a)({},e.channels);return X.hasOwnProperty(t.data.id)&&(X[t.data.id].isFetching=t.data.status),Object(I.a)(Object(I.a)({},e),{},{channels:X,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(I.a)(Object(I.a)({},e.selectedChannel),{},{isFetching:t.data.status}):e.selectedChannel});case"SET_LAST_CHAT_VISIBILITY":return Object(I.a)(Object(I.a)({},e),{},{isLastChatVisible:t.data.status});case"DELETE_POST_NOTIFICATION":var ee=Object(I.a)({},e.channels),te=e.selectedChannel?Object(I.a)({},e.selectedChannel):null;return t.data.forEach((function(e){ee.hasOwnProperty(e.channel.id)&&ee[e.channel.id].replies.length&&(ee[e.channel.id].replies=ee[e.channel.id].replies.filter((function(t){return t.id!==e.system_message.id}))),te&&te.id===e.channel.id&&te.replies.length&&(te.replies=te.replies.filter((function(t){return t.id!==e.system_message.id})))})),Object(I.a)(Object(I.a)({},e),{},{channels:ee,selectedChannel:te});case"INCOMING_POST_NOTIFICATION_MESSAGE":var ae=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(ae=Object(I.a)({},e.channels[t.data.channel_id]),ae=Object(I.a)(Object(I.a)({},ae),{},{is_hidden:!1,replies:ae.replies.some((function(e){return e.id===t.data.id}))?ae.replies.map((function(e){return e.id===t.data.id?t.data:e})):[].concat(Object($.a)(ae.replies),[t.data])})),Object(I.a)(Object(I.a)({},e),{},{selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?ae:e.selectedChannel,channels:null!==ae?Object(I.a)(Object(I.a)({},e.channels),{},Object(Hi.a)({},t.data.channel_id,ae)):e.channels});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMPANY_DASHBOARD_TIMELINE_SUCCESS":var a=e.timeline;return a.init=!0,a.skip+=a.limit,t.data.timeline.forEach((function(e){a.items[e.id]=e})),Object(I.a)({},e);case"GET_COMPANY_DASHBOARD_RECENT_POST_SUCCESS":var n=e.recent_posts;return n.init=!0,n.skip+=n.limit,t.data.recent_posts.forEach((function(e){n.items[e.id]=e})),Object(I.a)(Object(I.a)({},e),{},{recent_posts:n});case"GET_COMPANY_DASHBOARD_MEMBERS_SUCCESS":var r=e.members;return r.init=!0,r.skip+=r.limit,t.data.members.forEach((function(e){r.items[e.id]=e})),Object(I.a)(Object(I.a)({},e),{},{members:r});default:return e}},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{user:t.data});case"INCOMING_COMPANY_FOLDER":return Object(I.a)(Object(I.a)({},e),{},{companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{items:Object(I.a)(Object(I.a)({},e.companyFolders.items),{},Object(Hi.a)({},t.data.folder.id,Object(I.a)(Object(I.a)({},t.data.folder),{},{files:[],has_more:!0,init:!1,skip:100,limit:100})))})});case"INCOMING_COMPANY_UPDATED_FOLDER":var a=e.companyFolders.items;return a[t.data.folder.id]&&(a[t.data.folder.id]=Object(I.a)(Object(I.a)({},a[t.data.folder.id]),t.data.folder)),Object(I.a)(Object(I.a)({},e),{},{companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{items:a})});case"INCOMING_COMPANY_DELETED_FOLDER":var n=e.companyFolders.items;n[t.data.folder.id]&&(n[t.data.folder.id].is_archived=!0),t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof n[e]&&(n[e].is_archived=!0)}));var r=e.companyFiles;return t.data.connected_file_ids.forEach((function(e){"undefined"!==typeof r.items[e]&&(r.count={all:r.count.all-1,stars:r.count.stars-(r.items[e].is_favorite?1:0),trash:r.count.trash+1,storage:r.count.storage-r.items[e].size},r.trash_files.items[e]=r.items[e])})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:r,companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{items:n})});case"INCOMING_COMPANY_MOVE_FILE":var i=e.companyFolders.items;if(i[t.data.folder_id]?i[t.data.folder_id].files.push(t.data.file_id):i[t.data.folder_id]={init:!1,skip:0,limit:100,files:[t.data.file_id]},t.data.original_folder_id&&i[t.data.original_folder_id]){var c=i[t.data.original_folder_id].files.indexOf(t.data.folder_id);c>-1&&i[t.data.original_folder_id].files.splice(c,1)}return Object(I.a)(Object(I.a)({},e),{},{companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{items:i})});case"COMPANY_FILE_UPDATE":case"INCOMING_COMPANY_UPDATED_FILE":var o=e.companyFiles.items;return o[t.data.file.id]&&(o[t.data.file.id]=t.data.file),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{items:o})});case"INCOMING_COMPANY_RESTORE_FOLDER":var l=e.companyFolders.items;t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof l[e]&&(l[e].is_archived=!1)}));var s=e.companyFiles.trash_files.items,d=e.companyFiles.items,u=0,m=0,p=0;return t.data.connected_file_ids.forEach((function(e){"undefined"!==typeof s[e]&&(u+=1,m+=s[e].is_favorite?1:0,p+=s[e].size,d[e]=s[e],delete s[e])})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{count:Object(I.a)(Object(I.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all+u,stars:e.companyFiles.count.stars+m,trash:e.companyFiles.count.trash-u,storage:e.companyFiles.count.storage+p}),items:Object(I.a)(Object(I.a)({},e.companyFiles.items),{},{items:d}),trash_files:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files),{},{items:s})}),companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{items:l})});case"INCOMING_COMPANY_RESTORE_FILE":var f=e.companyFiles.trash_files.items;return"undefined"===typeof f[t.data.file.id]?e:(delete f[t.data.file.id],Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{count:Object(I.a)(Object(I.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all+1,stars:t.data.file.is_favorite?e.companyFiles.count.stars+1:e.companyFiles.count.stars,trash:e.companyFiles.count.trash-1,storage:e.companyFiles.count.storage+t.data.file.size}),items:Object(I.a)(Object(I.a)({},e.companyFiles.items),{},Object(Hi.a)({},t.data.file.id,t.data.file)),trash_files:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files),{},{items:f})})}));case"INCOMING_REMOVED_COMPANY_FILE":var b=e.companyFiles.items;if("undefined"===typeof b[t.data.file_id])return"undefined"!==typeof e.companyFiles.trash_files.items[t.data.file_id]?(delete(b=e.companyFiles.trash_files.items)[t.data.file_id],Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{count:Object(I.a)(Object(I.a)({},e.companyFiles.count),{},{trash:e.companyFiles.count.trash-1}),trash_files:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files),{},{items:b})})})):e;var h=b[t.data.file_id];return delete b[t.data.file_id],Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{count:Object(I.a)(Object(I.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all-1,stars:h.is_favorite?e.companyFiles.count.stars-1:e.companyFiles.count.stars,trash:e.companyFiles.count.trash+1,storage:e.companyFiles.count.storage-h.size}),items:b,favorite_files:Object(I.a)(Object(I.a)({},e.companyFiles.favorite_files),{},{items:e.companyFiles.favorite_files.items.filter((function(e){return e!==h.id}))}),popular_files:Object(I.a)(Object(I.a)({},e.companyFiles.popular_files),{},{items:e.companyFiles.popular_files.items.filter((function(e){return e!==h.id}))}),recently_edited:Object(I.a)(Object(I.a)({},e.companyFiles.recently_edited),{},{items:e.companyFiles.recently_edited.items.filter((function(e){return e!==h.id}))}),trash_files:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files),{},{items:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files.items),{},Object(Hi.a)({},t.data.file_id,h))})})});case"INCOMING_COMPANY_EMPTY_TRASH":var E=e.companyFiles.items,_=e.companyFiles.trash_files.items,g=0,O=0,A=0,v=0;t.data.deleted_file_ids.forEach((function(e){E[e]&&(g+=1,O+=E[e].size,E[e].is_favorite&&(A+=1),delete E[e]),_[e]&&(v+=1,delete _[e])}));var C=e.companyFolders.items;return t.data.deleted_folder_ids.forEach((function(e){C[e]&&delete C[e]})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{count:Object(I.a)(Object(I.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all-g,stars:e.companyFiles.count.stars-A,trash:e.companyFiles.count.trash-v,storage:e.companyFiles.count.trash-O}),items:E,trash_files:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files),{},{items:_})}),companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{items:C})});case"ADD_COMPANY_FILE_SEARCH_RESULTS":return Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{items:Object(I.a)(Object(I.a)({},e.companyFiles.items),Vi(t.data.search_results,"id")),search_results:t.data.search_results.map((function(e){return e.id})),search_value:t.data.search})});case"UPLOAD_COMPANY_FILES_REDUCER":var j=e.companyFolders,k=e.companyFiles.items;return t.data.files.forEach((function(e){k[e.id]=e,t.data.folder_id&&"undefined"!==typeof j.items[t.data.folder_id]&&!j.items[t.data.folder_id].files.includes(e.id)&&j.items[t.data.folder_id].files.push(e.id)})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{items:k}),companyFolders:j});case"INCOMING_COMPANY_FILES":var y=e.companyFolders,T=e.companyFiles,w=Object.values(T.items).filter((function(e){return e.uploading}));return t.data.files.forEach((function(e){var t=w.find((function(t){return t.size===e.size&&t.search===e.search}));if(t&&"undefined"!==typeof T.items[t.id]&&(delete T.items[t.id],e.folder_id)){var a=y.items[e.folder_id].files.findIndex((function(e){return e===t.id}));-1!==a&&y.items[e.folder_id].files.splice(a,1)}T.items[e.id]=e,T.count.all+=1,T.count.storage+=e.size,T.count.stars+=e.is_favorite?1:0,"undefined"===typeof y.items[e.folder_id]||y.items[e.folder_id].files.includes(e.id)||y.items[e.folder_id].files.push(e.id)})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:T,companyFolders:y});case"GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_SUCCESS":var N=e.companyFolders.items;return t.data.attachments.forEach((function(e){N[e.id]={id:e.id,is_archived:!1,parent_folder:null,search:e.payload.name,payload:e.payload,created_at:{timestamp:e.payload.lastEditedUtc},updated_at:{timestamp:e.payload.lastEditedUtc},link_type:e.link_type,link_id:e.link_index_id,attachment_type:e.attachment_type,files:[],subFolders:[]}})),Object(I.a)(Object(I.a)({},e),{},{companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{google_folders:Object(I.a)(Object(I.a)({},e.companyFolders.google_folders),{},{init:!0,skip:e.companyFolders.google_folders.skip+e.companyFolders.google_folders.limit,has_more:t.data.attachments.length===e.companyFolders.google_folders.limit}),items:N})});case"GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_SUCCESS":var S=Object(I.a)({},e.companyFiles),x=e.companyFiles.google_files.items,R=t.data.attachments.map((function(e){return x.includes(e.id)||x.push(e.id),{created_at:{timestamp:e.payload.lastEditedUtc},download_link:e.payload.embedUrl,folder_id:null,id:e.id,payload_id:e.payload.id,is_favorite:!1,link_id:t.data.topic_id,link_index_id:0,link_type:"TOPIC",mime_type:e.payload.mimeType,search:e.payload.name,size:e.payload.sizeBytes,type:e.payload.type,attachment_type:e.attachment_type}}));return S.items=Object(I.a)(Object(I.a)({},S.items),Vi(R,"id")),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},S),{},{google_files:{init:!0,skip:e.companyFiles.google_files.skip+e.companyFiles.google_files.limit,has_more:R.length===e.companyFiles.google_files.limit,items:x}})});case"GET_COMPANY_FILES_SUCCESS":var P=e.companyFiles,D=e.companyFolders.items;return t.data.files.forEach((function(e){"undefined"===typeof P.items[e.id]&&(P.count.all+=1,P.count.stars+=e.is_favorite?1:0,P.count.storage+=e.size),P.items[e.id]=e,e.folder_id&&D[e.folder_id]&&(D[e.folder_id].files.includes(e.id)||D[e.folder_id].files.push(e.id))})),t.data.folder_id&&"undefined"!==typeof D[t.data.folder_id]&&(D[t.data.folder_id]=Object(I.a)(Object(I.a)({},D[t.data.folder_id]),{},{init:!1,has_more:t.data.files.length===D[t.data.folder_id].limit,skip:D[t.data.folder_id].skip+D[t.data.folder_id].limit})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)(Object(I.a)({},e.companyFiles),P),{},{init:!0,skip:e.companyFiles.skip+e.companyFiles.limit,has_more:t.data.files.length===e.companyFiles.limit}),companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{items:D})});case"GET_COMPANY_FOLDERS_SUCCESS":var L=e.companyFolders.items;return t.data.folders.forEach((function(e){L[e.id]=Object(I.a)(Object(I.a)({},e),{},{init:!1,has_more:!0,skip:0,limit:100,files:[],subFolders:[]}),e.parent_folder&&"undefined"!==typeof L[e.parent_folder.id]&&(L[e.parent_folder.id].subFolders.some((function(t){return t.id===e.id}))||L[e.parent_folder.id].subFolders.push(e))})),Object(I.a)(Object(I.a)({},e),{},{companyFolders:Object(I.a)(Object(I.a)({},e.companyFolders),{},{init:!0,skip:e.companyFolders.skip+e.companyFolders.limit,has_more:t.data.folders.length===e.companyFolders.limit,items:L})});case"GET_COMPANY_FILES_DETAIL_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{count:{all:t.data.total_file_count,storage:t.data.total_storage,stars:t.data.total_file_stars,trash:t.data.total_file_trash}})});case"GET_COMPANY_FAVORITE_FILES_SUCCESS":var F=e.companyFiles.items;t.data.files.forEach((function(e){F[e.id]=e}));var M=e.companyFiles.favorite_files.items;return t.data.files.forEach((function(e){M.includes(e.id)||M.push(e.id)})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{items:F,favorite_files:Object(I.a)(Object(I.a)({},e.companyFiles.favorite_files),{},{has_more:t.data.files.length===e.companyFiles.favorite_files.limit,skip:e.companyFiles.favorite_files.skip+e.companyFiles.favorite_files.limit,items:M})})});case"GET_COMPANY_POPULAR_FILES_SUCCESS":var U=e.companyFiles.items;t.data.files.forEach((function(e){U[e.id]=e}));var G=e.companyFiles.popular_files.items;return t.data.files.forEach((function(e){G.includes(e.id)||G.push(e.id)})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{items:U,popular_files:Object(I.a)(Object(I.a)({},e.companyFiles.popular_files),{},{has_more:t.data.files.length===e.companyFiles.popular_files.limit,skip:e.companyFiles.popular_files.skip+e.companyFiles.popular_files.limit,items:G})})});case"GET_COMPANY_RECENT_EDITED_FILES_SUCCESS":var B=e.companyFiles.items;t.data.files.forEach((function(e){B[e.id]=e}));var H=e.companyFiles.recently_edited.items;return t.data.files.forEach((function(e){H.includes(e.id)||H.push(e.id)})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{items:B,recently_edited:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files),{},{has_more:t.data.files.length===e.companyFiles.recently_edited.limit,skip:e.companyFiles.recently_edited.skip+e.companyFiles.recently_edited.limit,items:H})})});case"GET_COMPANY_TRASHED_FILES_SUCCESS":var W=e.companyFiles.trash_files.items;return t.data.files.forEach((function(e){W[e.id]=e})),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{trash_files:Object(I.a)(Object(I.a)({},e.companyFiles.trash_files),{},{has_more:t.data.files.length===e.companyFiles.trash_files.limit,skip:e.companyFiles.trash_files.skip+e.companyFiles.trash_files.limit,items:W})})});case"GET_FILES_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{files:Vi(t.data.files,"id")});case"GET_CHANNEL_FILES_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{channelFiles:Object(I.a)(Object(I.a)({},e.channelFiles),{},Object(Hi.a)({},t.data.channel_id,Object($.a)("undefined"===typeof e.channelFiles[t.data.channel_id]?t.data.results.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})):t.data.results.filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})))))});case"INCOMING_CHAT_MESSAGE":return Object(I.a)(Object(I.a)({},e),t.data.files.length&&"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(I.a)(Object(I.a)({},e.channelFiles),{},Object(Hi.a)({},t.data.channel_id,[].concat(Object($.a)(e.channelFiles[t.data.channel_id]),Object($.a)(t.data.files.filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"ADD_CHANNEL_FILES":return Object(I.a)(Object(I.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(I.a)(Object(I.a)({},e.channelFiles),{},Object(Hi.a)({},t.data.channel_id,[].concat(Object($.a)(e.channelFiles[t.data.channel_id]),Object($.a)(t.data.files.filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"GET_CHAT_MESSAGES_SUCCESS":return Object(I.a)(Object(I.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(I.a)(Object(I.a)({},e.channelFiles),{},Object(Hi.a)({},t.data.channel_id,[].concat(Object($.a)(e.channelFiles[t.data.channel_id]),Object($.a)(t.data.results.map((function(e){return e.files})).reduce((function(e,t){return[].concat(Object($.a)(e),Object($.a)(t))}),[]).filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"INCOMING_DELETED_CHAT_MESSAGE":case"DELETE_CHANNEL_FILES":return Object(I.a)(Object(I.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(I.a)(Object(I.a)({},e.channelFiles),{},Object(Hi.a)({},t.data.channel_id,e.channelFiles[t.data.channel_id].filter((function(e){return!t.data.file_ids.includes(e.file_id)}))))});case"SET_VIEW_FILES":return Object(I.a)(Object(I.a)({},e),{},{viewFiles:t.data});case"PREPARE_WORKSPACE_FILES_UPLOAD":return Object(I.a)(Object(I.a)({},e),{},{pendingWorkspaceFilesUpload:Object(I.a)(Object(I.a)({},e.pendingWorkspaceFilesUpload),{},Object(Hi.a)({},t.data.workspace_id,t.data))});case"PROCESS_WORKSPACE_FILES_UPLOAD":var Q=e.pendingWorkspaceFilesUpload;return delete e.pendingWorkspaceFilesUpload[t.data.workspace_id],Object(I.a)(Object(I.a)({},e),{},{pendingWorkspaceFilesUpload:Q,progressWorkspaceFilesUpload:Object(I.a)(Object(I.a)({},e.progressWorkspaceFilesUpload),{},Object(Hi.a)({},t.data.workspace_id,t.data))});case"UPLOADING_WORKSPACE_FILES_SUCCESS":var Y=e.progressWorkspaceFilesUpload;return delete e.progressWorkspaceFilesUpload[t.data.workspace_id],Object(I.a)(Object(I.a)({},e),{},{progressWorkspaceFilesUpload:Y});case"ADD_PRIMARY_FILES":var z=Object(I.a)({},e.workspaceFiles);return z=z.hasOwnProperty(t.data.id)?Object(Hi.a)({},t.data.id,Object(I.a)(Object(I.a)({},z[t.data.id]),{},{files:Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),z[t.data.id].files)})):Object(I.a)(Object(I.a)({},z),{},Object(Hi.a)({},t.data.id,{files:Vi(t.data.files,"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],trash_files:{},search_results:[],search_value:""})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:z});case"ADD_TO_WORKSPACE_POSTS":if(t.data.files.length){var V=Object(I.a)({},e.workspaceFiles);return V=V.hasOwnProperty(t.data.topic_id)?Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},V[t.data.topic_id]),{},{files:Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),V[t.data.topic_id].files)})):Object(I.a)(Object(I.a)({},V),{},Object(Hi.a)({},t.data.topic_id,{files:Vi(t.data.files,"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],trash_files:{},search_results:[],search_value:""})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:V})}return e;case"GET_WORKSPACE_FILES_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Object(Hi.a)({},t.data.topic_id,Object(I.a)({},"undefined"===typeof e.workspaceFiles[t.data.topic_id]?{files:Vi(t.data.files,"id"),folders:Object(I.a)({},t.data.folder_id&&Object(Hi.a)({},t.data.folder_id,{loaded:!0,files:t.data.files.filter((function(e){return e.folder_id===t.data.folder_id})).map((function(e){return e.id}))})),storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],trash_files:{},search_results:[],search_value:"",loaded:!0}:Object(I.a)(Object(I.a)(Object(I.a)({},e.workspaceFiles[t.data.topic_id]),t.data.folder_id&&e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id]&&{folders:Object(Hi.a)({},t.data.folder_id,Object(I.a)(Object(I.a)({},e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id]),{},{loaded:!0,files:Object($.a)(new Set([].concat(Object($.a)(e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id].files),Object($.a)(t.data.files.filter((function(e){return e.folder_id===t.data.folder_id})).map((function(e){return e.id}))))))}))}),{},{loaded:!0,files:Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files)})))});case"GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_SUCCESS":var K=Object(I.a)({},e.workspaceFiles);if(K.hasOwnProperty(t.data.topic_id)){var q=t.data.attachments.map((function(e){return{created_at:{timestamp:e.payload.lastEditedUtc},download_link:e.payload.embedUrl,folder_id:null,id:e.id,payload_id:e.payload.id,is_favorite:!1,link_id:t.data.topic_id,link_index_id:0,link_type:"TOPIC",mime_type:e.payload.mimeType,search:e.payload.name,size:e.payload.sizeBytes,type:e.payload.type,attachment_type:e.attachment_type}}));K[t.data.topic_id].files=Object(I.a)(Object(I.a)({},K[t.data.topic_id].files),Vi(q,"id"))}return Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:K});case"GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_SUCCESS":var J=Object(I.a)({},e.workspaceFiles);return J.hasOwnProperty(t.data.topic_id)&&J[t.data.topic_id].hasOwnProperty("folders")&&t.data.attachments.map((function(e){J[e.link_id].folders[e.id]={id:e.id,is_archived:!1,parent_folder:null,search:e.payload.name,payload:e.payload,created_at:{timestamp:e.payload.lastEditedUtc},updated_at:{timestamp:e.payload.lastEditedUtc},files:[],link_type:e.link_type,link_id:e.link_index_id,attachment_type:e.attachment_type}})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:J});case"INCOMING_GOOGLE_FILE":var Z=Object(I.a)({},e.workspaceFiles),X=Object(I.a)({},e.companyFiles);return"TOPIC"===t.data.link_type&&Z.hasOwnProperty(t.data.link_id)&&Z[t.data.link_id].hasOwnProperty("folders")&&(Z[t.data.link_id].files[t.data.id]={created_at:t.data.created_at,user_id:t.data.user_id,folder_id:null,download_link:t.data.payload.embedUrl,id:t.data.id,payload_id:t.data.payload.id,is_favorite:!1,link_id:parseInt(t.data.link_id),link_index_id:0,link_type:"TOPIC",mime_type:t.data.payload.mimeType,search:t.data.payload.name,size:t.data.payload.sizeBytes,type:t.data.payload.type,payload:t.data.payload}),"COMPANY_DRIVE"===t.data.link_type&&(X.google_files.items.includes(t.data.id)||X.google_files.items.push(t.data.id),"undefined"===typeof X.items[t.data.id]&&(X.items=Object(I.a)(Object(I.a)({},X.items),{},Object(Hi.a)({},t.data.id,{id:t.data.id,created_at:t.data.created_at,download_link:t.data.payload.embedUrl,folder_id:null,payload_id:t.data.payload.id,is_favorite:!1,link_id:parseInt(t.data.link_id),link_index_id:0,link_type:t.data.link_type,mime_type:t.data.payload.mimeType,search:t.data.payload.name,size:t.data.payload.sizeBytes,type:t.data.payload.type,attachment_type:t.data.attachment_type,payload:t.data.payload})))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Z,companyFiles:X});case"INCOMING_GOOGLE_FOLDER":var ee=Object(I.a)({},e.workspaceFiles);return ee.hasOwnProperty(t.data.link_id)&&ee[t.data.link_id].hasOwnProperty("folders")&&(ee[t.data.link_id].folders[t.data.id]={id:t.data.id,is_archived:!1,parent_folder:null,search:t.data.payload.name,payload:t.data.payload,created_at:t.data.created_at,updated_at:t.data.updated_at,files:[]}),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:ee});case"GET_WORKSPACE_FILE_DETAILS_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},e.workspaceFiles[t.data.topic_id]?e.workspaceFiles[t.data.topic_id]:{}),{},{storage:t.data.total_storage,count:t.data.total_file_count,stars:t.data.total_file_stars,trash:t.data.total_file_trash}))});case"GET_WORKSPACE_TRASH_FILES_SUCCESS":var te=Object(I.a)({},e.workspaceFiles);return te=te.hasOwnProperty(t.data.topic_id)?Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},te[t.data.topic_id]),{},{trash_files:Vi(t.data.files,"id")})):Object(I.a)(Object(I.a)({},te),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},te[t.data.topic_id]),{},{trash_files:Vi(t.data.files,"id")}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:te});case"GET_WORKSPACE_FAVORITE_FILES_SUCCESS":var ae=Object(I.a)({},e.workspaceFiles);return ae=ae.hasOwnProperty(t.data.topic_id)?Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},ae[t.data.topic_id]),{},{files:Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),ae[t.data.topic_id].files),favorite_files:t.data.files.map((function(e){return e.id}))})):Object(I.a)(Object(I.a)({},ae),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},ae[t.data.topic_id]),{},{files:Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),ae[t.data.topic_id].files),favorite_files:t.data.files.map((function(e){return e.id}))}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:ae});case"GET_WORKSPACE_POPULAR_FILES_SUCCESS":var ne=Object(I.a)({},e.workspaceFiles);return ne=ne.hasOwnProperty(t.data.topic_id)?Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},ne[t.data.topic_id]),{},{popular_files:t.data.files.map((function(e){return e.id}))})):Object(I.a)(Object(I.a)({},ne),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},ne[t.data.topic_id]),{},{popular_files:t.data.files.map((function(e){return e.id}))}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:ne});case"GET_WORKSPACE_RECENT_EDIT_FILES_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Object(Hi.a)({},t.data.topic_id,Object(I.a)({},"undefined"===typeof e.workspaceFiles[t.data.topic_id]?{recently_edited:Object($.a)(new Set(t.data.files.map((function(e){return e.id}))))}:Object(I.a)(Object(I.a)({},e.workspaceFiles[t.data.topic_id]),{},{recently_edited:Object($.a)(new Set(e.workspaceFiles[t.data.topic_id].recently_edited.concat(t.data.files.map((function(e){return e.id})))))})))});case"GET_WORKSPACE_FOLDER_SUCCESS":var re=Object(I.a)({},e.workspaceFiles),ie=t.data.folders.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{files:[]})}));return re=re.hasOwnProperty(t.data.topic_id)?Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},re[t.data.topic_id]),{},{folders:Object(I.a)(Object(I.a)({},Vi(ie,"id")),re[t.data.topic_id].folders)})):Object(I.a)(Object(I.a)({},re),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},re[t.data.topic_id]),{},{folders:Vi(ie,"id")}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:re});case"INCOMING_FOLDER":var ce=Object(I.a)({},e.workspaceFiles);return ce.hasOwnProperty(t.data.topic_id)&&ce[t.data.topic_id].hasOwnProperty("folders")?(ce=Object(I.a)(Object(I.a)({},ce),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},ce[t.data.topic_id]),{},{folders:Object(I.a)(Object(I.a)({},ce[t.data.topic_id].folders),{},Object(Hi.a)({},t.data.folder.id,Object(I.a)(Object(I.a)({},t.data.folder),{},{loaded:!0,files:[]})))}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:ce})):e;case"INCOMING_DELETED_FOLDER":if("undefined"===typeof e.workspaceFiles[t.data.topic_id])return e;var oe=Object(I.a)({},e.workspaceFiles);return t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof oe[t.data.topic_id].folders[e]&&(oe[t.data.topic_id].folders[e].is_archived=!0)})),t.data.connected_file_ids.forEach((function(e){if("undefined"!==typeof oe[t.data.topic_id].files[e]){if(oe[t.data.topic_id].trash_files[e]=oe[t.data.topic_id].files[e],oe[t.data.topic_id].count-=1,oe[t.data.topic_id].trash+=1,oe[t.data.topic_id].files[e].is_favorite){oe[t.data.topic_id].stars-=1;var a=oe[t.data.topic_id].favorite_files.indexOf(e);-1!==a&&oe[t.data.topic_id].favorite_files.splice(a,1)}delete oe[t.data.topic_id].files[e]}})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:oe});case"INCOMING_REMOVED_FOLDER":var le=Object(I.a)({},e.workspaceFiles);return le.hasOwnProperty(t.data.topic_id)&&le[t.data.topic_id].hasOwnProperty("folders")?(delete le[t.data.topic_id].folders[t.data.folder.id],Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:le})):e;case"INCOMING_FILE":var se=Object(I.a)({},e.workspaceFiles);return se.hasOwnProperty(t.data.topic_id)?(se=Object(I.a)(Object(I.a)({},se),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},se[t.data.topic_id]),{},{files:Object(I.a)(Object(I.a)({},se[t.data.topic_id].files),{},Object(Hi.a)({},t.data.file.id,t.data.file))}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:se})):e;case"INCOMING_FILES":var de=Object(I.a)({},e.workspaceFiles);if(de.hasOwnProperty(t.data.topic_id)){var ue=function(e,t){return e+t};return de[t.data.topic_id].hasOwnProperty("folders")&&t.data.folder_id&&de[t.data.topic_id].folders.hasOwnProperty(t.data.folder_id)&&(de[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object($.a)(de[t.data.topic_id].folders[t.data.folder_id].files),Object($.a)(t.data.files.map((function(e){return e.id}))))),de[t.data.topic_id].files=Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),de[t.data.topic_id].files),Object.values(de[t.data.topic_id].files).map((function(e){"string"===typeof e.id&&t.data.files.forEach((function(a){a.size===e.size&&a.search===e.search&&delete de[t.data.topic_id].files[e.id]}))})),de[t.data.topic_id].count=Object.keys(de[t.data.topic_id].files).length,de[t.data.topic_id].storage=Object.values(de[t.data.topic_id].files).filter((function(e){return"number"===typeof e.size})).map((function(e){return e.size})).reduce(ue),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:de})}return e;case"UPLOAD_FILES_REDUCER":var me=Object(I.a)({},e.workspaceFiles);return me.hasOwnProperty(t.data.topic_id)?(me[t.data.topic_id].hasOwnProperty("folders")&&t.data.folder_id&&(me[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object($.a)(me[t.data.topic_id].folders[t.data.folder_id].files),Object($.a)(t.data.files.map((function(e){return e.id}))))),me[t.data.topic_id].files=Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),me[t.data.topic_id].files),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:me})):e;case"ADD_FILE_SEARCH_RESULTS":var pe=Object(I.a)({},e.workspaceFiles);return pe.hasOwnProperty(t.data.topic_id)&&(pe=Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},pe[t.data.topic_id]),{},{files:Object(I.a)(Object(I.a)({},Vi(t.data.search_results,"id")),pe[t.data.topic_id].files),search_results:t.data.search_results.map((function(e){return e.id})),search_value:t.data.search}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:pe});case"CLEAR_FILE_SEARCH_RESULTS":var fe=Object(I.a)({},e.workspaceFiles);return fe.hasOwnProperty(t.data.topic_id)&&(fe=Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},fe[t.data.topic_id]),{},{search_results:[],search_value:""}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:fe});case"INCOMING_DELETED_FILE":if("undefined"===typeof e.workspaceFiles[t.data.topic_id]||"undefined"===typeof e.workspaceFiles[t.data.topic_id].files[t.data.file_id])return e;var be=e.workspaceFiles[t.data.topic_id],he=be.files[t.data.file_id];if(be.storage-=he.size,be.count-=1,be.trash+=1,be.trash_files[t.data.file_id]=he,be.recently_edited.filter((function(e){return e!==he.id})),he.folder_id&&be.folders[he.folder_id]){var Ee=be.folders[he.folder_id].files.findIndex((function(e){return e.id===he.id}));-1!==Ee&&be.folders[he.folder_id].files.splice(Ee,1)}return delete be.files[he.id],Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Object(I.a)(Object(I.a)({},e.workspaceFiles),{},Object(Hi.a)({},t.data.topic_id,be))});case"INCOMING_DELETED_FILES":var _e=Object(I.a)({},e.workspaceFiles);if(_e.hasOwnProperty(t.data.topic_id)){_e[t.data.topic_id].count=_e[t.data.topic_id].count-t.data.deleted_file_ids.length,_e[t.data.topic_id].trash=_e[t.data.topic_id].trash+t.data.deleted_file_ids.length;var ge=Object.values(_e[t.data.topic_id].files).filter((function(e){return t.data.deleted_file_ids.some((function(t){return t===e.id}))}));return _e[t.data.topic_id].trash_files=Object(I.a)(Object(I.a)({},Vi(ge,"id")),_e[t.data.topic_id].trash_files),t.data.deleted_file_ids.map((function(e){delete _e[t.data.topic_id].files[e]})),_e[t.data.topic_id].hasOwnProperty("folders")?(Object.values(_e[t.data.topic_id].folders).forEach((function(e){e.hasOwnProperty("files")&&_e[t.data.topic_id].folders[e.id].files.length&&(_e[t.data.topic_id].folders[e.id].files=_e[t.data.topic_id].folders[e.id].files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e}))})))})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:_e})):Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:_e})}return e;case"INCOMING_REMOVED_FILE":var Oe=Object(I.a)({},e.workspaceFiles);return"undefined"===typeof Oe[t.data.topic_id]?e:(delete Oe[t.data.topic_id].trash_files[t.data.file_id],Oe[t.data.topic_id].trash-=1,Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Oe}));case"ADD_REMOVE_FAVORITE":if(t.data.topic_id){var Ae=Object(I.a)({},e.workspaceFiles);return Ae[t.data.topic_id].files[t.data.file_id].is_favorite=t.data.is_favorite,Ae=Object(I.a)(Object(I.a)({},Ae),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},Ae[t.data.topic_id]),{},{stars:t.data.is_favorite?Ae[t.data.topic_id].stars+1:Ae[t.data.topic_id].stars-1,favorite_files:t.data.is_favorite?[].concat(Object($.a)(Ae[t.data.topic_id].favorite_files),[t.data.file_id]):Ae[t.data.topic_id].favorite_files.filter((function(e){return e!==t.data.file_id}))}))),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Ae})}var ve=e.companyFiles.items;ve[t.data.file_id]&&(ve[t.data.file_id].is_favorite=t.data.is_favorite);var Ce=e.companyFiles.favorite_files.items,je=Ce.findIndex((function(e){return e.id===t.data.file_id}));return-1!==je?t.data.is_favorite?Ce[je].is_favorite=t.data.is_favorite:Ce.splice(je,1):t.data.is_favorite&&Ce.push(ve[t.data.file_id]),Object(I.a)(Object(I.a)({},e),{},{companyFiles:Object(I.a)(Object(I.a)({},e.companyFiles),{},{count:Object(I.a)(Object(I.a)({},e.companyFiles.count),{},{stars:t.data.is_favorite?e.companyFiles.count.stars+1:e.companyFiles.count.stars-1}),items:ve,favorite_files:Object(I.a)(Object(I.a)({},e.companyFiles.favorite_files),{},{items:Ce})})});case"INCOMING_RESTORE_FOLDER":if("undefined"===typeof e.workspaceFiles[t.data.topic_id])return e;var ke=e.workspaceFiles[t.data.topic_id];return t.data.connected_folder_ids.forEach((function(e){ke.folders[e].is_archived=!1})),t.data.connected_file_ids.forEach((function(e){ke.trash_files[e]&&(ke.files[e]=ke.trash_files[e],ke.count+=1,ke.trash-=1,ke.storage+=ke.trash_files[e].size,ke.trash_files[e].is_favorite&&!ke.favorite_files.includes(e)&&(ke.stars+=1,ke.favorite_files.push(e)),delete ke.trash_files[e])})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Object(I.a)(Object(I.a)({},e.workspaceFiles),{},Object(Hi.a)({},t.data.topic_id,ke))});case"INCOMING_RESTORE_FILE":if("undefined"===typeof e.workspaceFiles[t.data.topic.id])return e;var ye=e.workspaceFiles[t.data.topic.id];return ye.trash_files[t.data.file.id]&&(ye.files[t.data.file.id]=t.data.file,delete ye.trash_files[t.data.file.id]),t.data.folder&&ye.folders[t.data.folder.id]&&!ye.folders[t.data.folder.id].files.includes(t.data.file.id)&&ye.folders[t.data.folder.id].files.push(t.data.file.id),t.data.file.is_favorite&&!ye.favorite_files.includes(t.data.file.id)&&(ye.favorite_files.push(t.data.file.id),ye.stars+=1),ye.trash-=1,ye.count+=1,ye.storage+=t.data.file.size,Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Object(I.a)(Object(I.a)({},e.workspaceFiles),{},Object(Hi.a)({},t.data.topic.id,ye))});case"INCOMING_MOVED_FILE":var Te=Object(I.a)({},e.workspaceFiles);return Te.hasOwnProperty(t.data.topic_id)?(Te[t.data.topic_id].folders.hasOwnProperty(t.data.original_folder_id)&&Te[t.data.topic_id].folders[t.data.original_folder_id].hasOwnProperty("files")&&(Te[t.data.topic_id].folders[t.data.original_folder_id].files=Te[t.data.topic_id].folders[t.data.original_folder_id].files.filter((function(e){return e!==t.data.file_id}))),Te[t.data.topic_id].folders.hasOwnProperty(t.data.folder_id)&&Te[t.data.topic_id].folders[t.data.folder_id].hasOwnProperty("loaded")?(Te[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object($.a)(Te[t.data.topic_id].folders[t.data.folder_id].files),[t.data.file_id]),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Te})):Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Te})):e;case"INCOMING_EMPTY_TRASH":var we=Object(I.a)({},e.workspaceFiles);if(we.hasOwnProperty(t.data.topic_id)&&we[t.data.topic_id].hasOwnProperty("trash_files")){var Ne=function(e,t){return e+t},Se=0;return t.data.deleted_file_ids.length&&(Se=Object.values(e.workspaceFiles[t.data.topic_id].trash_files).filter((function(e){return"undefined"!==typeof e})).filter((function(e){return t.data.deleted_file_ids.some((function(t){return t===e.id}))})).map((function(e){return e.size})).reduce(Ne)),we[t.data.topic_id].trash_files={},we[t.data.topic_id].trash=0,we[t.data.topic_id].storage=we[t.data.topic_id].storage-Se,Object.values(we[t.data.topic_id].folders).forEach((function(e){e.is_archived&&delete we[t.data.topic_id].folders[e.id]})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:we})}return e;case"FETCH_TIMELINE_SUCCESS":var xe=Object(I.a)({},e.workspaceFiles);return xe.hasOwnProperty(t.data.topic_id)?xe[t.data.topic_id].files=Object(I.a)(Object(I.a)({},Vi(t.data.timeline.filter((function(e){return"DOCUMENT"===e.tag})).map((function(e){return e.item})),"id")),xe[t.data.topic_id].files):xe=Object(I.a)(Object(I.a)({},xe),{},Object(Hi.a)({},t.data.topic_id,{files:Vi(t.data.timeline.filter((function(e){return"DOCUMENT"===e.tag})).map((function(e){return e.item})),"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],trash_files:{},search_results:[],search_value:""})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:xe});case"INCOMING_COMMENT":var Ie=Object(I.a)({},e.workspaceFiles);return t.data.workspaces.length&&t.data.files.length?(t.data.workspaces.forEach((function(e){Ie.hasOwnProperty(e.topic_id)&&(Ie[e.topic_id].files=Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),Ie[e.topic_id].files))})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Ie})):e;case"INCOMING_POST":var Re=Object(I.a)({},e.workspaceFiles);return t.data.files.length?(t.data.recipient_ids.forEach((function(e){Re.hasOwnProperty(e)&&(Re[e].files=Object(I.a)(Object(I.a)({},Vi(t.data.files,"id")),Re[e].files))})),Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:Re})):e;case"INCOMING_DELETED_POST_FILE":var Pe=Object(I.a)({},e.workspaceFiles);return t.data.connected_workspace.length&&Object.keys(Pe).length?(t.data.connected_workspace.forEach((function(e){Pe.hasOwnProperty(e.topic_id)&&Pe[e.topic_id].hasOwnProperty("files")&&delete Pe[e.topic_id].files[t.data.file_id]})),e):e;case"ADD_GOOGLE_DRIVE_FILE":return Object(I.a)(Object(I.a)({},e),{},{googleDriveApiFiles:Object(I.a)(Object(I.a)({},e.googleDriveApiFiles),{},Object(Hi.a)({},t.data.file_id,t.data.metadata))});case"INCOMING_DELETED_GOOGLE_FILE":var De=Object(I.a)({},e.workspaceFiles),Le=Object(I.a)({},e.companyFiles);if(t.data.data_type){var Fe={id:t.data.data_type.topic.id,name:t.data.data_type.topic.name,folder_id:t.data.data_type.workspace?t.data.data_type.workspace.id:null,folder_name:t.data.data_type.workspace?t.data.data_type.workspace.name:null};De.hasOwnProperty(Fe.id)&&(De[Fe.id].files.hasOwnProperty(t.data.attachment_id)?delete De[Fe.id].files[t.data.attachment_id]:De[Fe.id].folders.hasOwnProperty(t.data.attachment_id)&&delete De[Fe.id].folders[t.data.attachment_id])}else{var Me=Le.google_files.items.findIndex((function(e){return e===t.data.attachment_id}));-1!==Me&&Le.google_files.items.splice(Me,1),"undefined"!==typeof Le.items[t.data.attachment_id]&&delete Le.items[t.data.attachment_id]}return Object(I.a)(Object(I.a)({},e),{},{workspaceFiles:De,companyFiles:Le});default:return e}},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BROWSER_TAB_STATUS":return Object(I.a)(Object(I.a)({},e),{},{isBrowserActive:t.data.status});case"GET_ALL_RECIPIENTS_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{recipients:t.data.recipients.filter((function(e){return null!==e.name}))});case"SET_NAV_MODE":return Object(I.a)(Object(I.a)({},e),{},{navMode:t.data.mode});case"TOGGLE_LOADING":return Object(I.a)(Object(I.a)({},e),{},{isLoading:"undefined"!==typeof t.data?t.data:!e.isLoading});case"ADD_TO_MODALS":return Object(I.a)(Object(I.a)({},e),{},{modals:Object(I.a)(Object(I.a)({},e.modals),{},Object(Hi.a)({},t.data.type,t.data))});case"CLEAR_MODAL":var a=Object(I.a)({},e.modals);return delete a[t.data.type],Object(I.a)(Object(I.a)({},e),{},{modals:a});case"SAVE_INPUT_DATA":return Object(I.a)(Object(I.a)({},e),{},{dataFromInput:t.data});case"CLEAR_INPUT_DATA":return Object(I.a)(Object(I.a)({},e),{},{dataFromInput:null});case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{user:t.data,socketMounted:!0});case"GET_TRANSLATION_OBJECT_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{i18n:null===e.i18n?t.data:Object(I.a)(Object(I.a)({},e.i18n),t.data),i18nLoaded:!0});case"GET_UNREAD_NOTIFICATION_COUNTER_SUCCESS":var n=e.unreadCounter;for(var r in t.data){var i=t.data[r];n=Object(I.a)(Object(I.a)({},n),{},Object(Hi.a)({},i.entity_type.toLowerCase(),i.count))}return Object(I.a)(Object(I.a)({},e),{},{unreadCounter:n});case"UPDATE_GENERAL_CHAT_NOTIFICATION":var c=Object(I.a)({},e.unreadCounter),o=t.data.entity_type.toLowerCase();return c[o]=c[o]+t.data.count,Object(I.a)(Object(I.a)({},e),{},{unreadCounter:c});case"UPDATE_UNREAD_LIST_COUNTER":var l=e.unreadCounter;for(var s in t.data.result){var d=t.data.result[s];l=Object(I.a)(Object(I.a)({},l),{},Object(Hi.a)({},d.entity_type.toLowerCase(),d.count))}return Object(I.a)(Object(I.a)({},e),{},{unreadCounter:l});case"SEARCH_SUCCESS":var u=Object(I.a)({},e.tabs);if(t.data.hasOwnProperty("count_category")){var m=Object.keys(t.data.count_category);m.sort((function(e,t){return e.localeCompare(t)})).map((function(e){var a=t.data.result.filter((function(t){return t.type===e}));t.data.count_category[e]>0&&(u[e]={count:a.length,total_count:t.data.count_category[e],page:1,items:a,maxPage:Math.ceil(t.data.count_category[e]/10)})}))}else if(t.data.result.length){var p=t.data.result[0].type,f=t.data.result.filter((function(e){return e.type===p}));u[p].count=f.length+u[p].count,u[p].items=[].concat(Object($.a)(u[p].items),Object($.a)(t.data.result))}return Object(I.a)(Object(I.a)({},e),{},{searchResults:t.data.result.length?Object(I.a)(Object(I.a)({},e.searchResults),Vi(t.data.result,"id")):{},searchCount:t.data.hasOwnProperty("count_category")?t.data.total_result:e.searchCount,searching:!1,tabs:u});case"SAVE_SEARCH_INPUT":return Object(I.a)(Object(I.a)({},e),{},{searchValue:t.data.value,searchCount:0,searchResults:{},searching:""!==t.data.value,tabs:{}});case"UPDATE_TAB":return Object(I.a)(Object(I.a)({},e),{},{tabs:Object(I.a)(Object(I.a)({},e.tabs),{},Object(Hi.a)({},t.data.key,t.data))});case"GET_QUICK_LINKS_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{links:t.data});case"GET_TO_DO_DETAIL_SUCCESS":var b=e.todos.count;return t.data.forEach((function(e){b[e.status.toLowerCase()]=e.count})),Object(I.a)(Object(I.a)({},e),{},{todos:Object(I.a)(Object(I.a)({},e.todos),{},{count:b})});case"GET_TO_DO_SUCCESS":var h=e.todos.items;return t.data.todos.forEach((function(e){switch(h[e.id]=e,e.link_type){case"CHAT":h[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?h[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):h[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?h[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):h[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code)}})),Object(I.a)(Object(I.a)({},e),{},{todos:Object(I.a)(Object(I.a)({},e.todos),{},{isLoaded:!0,hasMore:t.data.todos.length===e.todos.limit,limit:e.todos.limit+e.todos.limit,items:h})});case"INCOMING_TO_DO":var E=e.todos.items;switch(E[t.data.id]=t.data,t.data.link_type){case"CHAT":E[t.data.id].link="/chat/".concat(t.data.data.channel.code,"/").concat(t.data.data.chat_message.code);break;case"POST":t.data.data.workspaces.length?E[t.data.id].link="/workspace/posts/".concat(t.data.data.workspaces[0].topic.id,"/").concat(t.data.data.workspaces[0].topic.name,"/post/").concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-")):E[t.data.id].link="/posts/".concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":t.data.data.workspaces.length?E[t.data.id].link="/workspace/posts/".concat(t.data.data.workspaces[0].topic.id,"/").concat(t.data.data.workspaces[0].topic.name,"/post/").concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"),"/").concat(t.data.data.comment.code):E[t.data.id].link="/posts/".concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"),"/").concat(t.data.data.comment.code)}return Object(I.a)(Object(I.a)({},e),{},{todos:Object(I.a)(Object(I.a)({},e.todos),{},{count:Object(I.a)(Object(I.a)({},e.todos.count),{},Object(Hi.a)({},t.data.status.toLowerCase(),e.todos.count[t.data.status.toLowerCase()]+1)),items:E})});case"INCOMING_UPDATE_TO_DO":var _=e.todos.items,g=e.todos.count;return"undefined"!==typeof _[t.data.id]&&(_[t.data.id].status!==t.data.status&&(g[t.data.status.toLowerCase()]+=1,g[_[t.data.id].status.toLowerCase()]-=1),_[t.data.id]=Object(I.a)(Object(I.a)({},_[t.data.id]),t.data)),Object(I.a)(Object(I.a)({},e),{},{todos:Object(I.a)(Object(I.a)({},e.todos),{},{count:g,items:_})});case"INCOMING_DONE_TO_DO":var O=e.todos.items,A=e.todos.count;return"undefined"!==typeof O[t.data.id]&&(O[t.data.id].status!==t.data.status&&(A[t.data.status.toLowerCase()]+=1,A[O[t.data.id].status.toLowerCase()]-=1),O[t.data.id]=t.data),Object(I.a)(Object(I.a)({},e),{},{todos:Object(I.a)(Object(I.a)({},e.todos),{},{count:A,items:O})});case"INCOMING_REMOVE_TO_DO":var v=e.todos.items,C=e.todos.count;return"undefined"!==typeof v[t.data.todo_id]&&(C[v[t.data.todo_id].status.toLowerCase()]-=1,delete v[t.data.todo_id]),Object(I.a)(Object(I.a)({},e),{},{todos:Object(I.a)(Object(I.a)({},e.todos),{},{count:C,items:v})});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{user:t.data});case"GET_NOTIFICATIONS_SUCCESS":var a=t.data.notifications;return Object(I.a)(Object(I.a)({},e),{},{notifications:Object(I.a)(Object(I.a)({},e.notifications),Vi(a,"id")),unreadCount:e.unreadCount+a.filter((function(e){return 0===e.is_read})).length});case"READ_ALL_NOTIFICATION_REDUCER":var n=Object(I.a)({},e.notifications);return Object.values(n).forEach((function(e){n[e.id].is_read=1})),Object(I.a)(Object(I.a)({},e),{},{notifications:n,unreadCount:0});case"READ_NOTIFICATION_REDUCER":var r=Object(I.a)({},e.notifications);return r[t.data.id].is_read=1,Object(I.a)(Object(I.a)({},e),{},{notifications:r,unreadCount:e.unreadCount-1});case"UNREAD_NOTIFICATION_REDUCER":var i=Object(I.a)({},e.notifications);return i[t.data.id].is_read=0,Object(I.a)(Object(I.a)({},e),{},{notifications:i,unreadCount:e.unreadCount+1});case"REMOVE_NOTIFICATION_REDUCER":var c=Object(I.a)({},e.notifications);return delete c[t.data.id],Object(I.a)(Object(I.a)({},e),{},{notifications:c});case"REMOVE_ALL_NOTIFICATION_REDUCER":return Object(I.a)(Object(I.a)({},e),{},{notifications:{}});case"INCOMING_POST":if(t.data.notification&&t.data.author.id!==e.user.id){var o={id:t.data.notification.id,type:"POST_CREATE",is_read:0,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.id,type:t.data.type,must_read:t.data.is_must_read,must_reply:t.data.is_must_reply,personalized_for_id:t.data.personalized_for_id,title:t.data.title,workspaces:t.data.workspaces,comment_body:null}};return Object(I.a)(Object(I.a)({},e),{},{notifications:Object(I.a)(Object(I.a)({},e.notifications),{},Object(Hi.a)({},o.id,o))})}return e;case"INCOMING_COMMENT":if(null===t.data.notification||t.data.author.id===e.user.id)return e;var l={id:t.data.notification.id,type:t.data.notification.type,is_read:0,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.post_id,type:"TOPIC_POST",must_read:0,must_reply:0,personalized_for_id:t.data.personalized_for_id,title:t.data.post_title,workspaces:t.data.workspaces,comment_body:t.data.body,comment_id:t.data.id}};return Object(I.a)(Object(I.a)({},e),{},{notifications:Object(I.a)(Object(I.a)({},e.notifications),{},Object(Hi.a)({},l.id,l))});case"SET_PUSH_NOTIFICATION":return Object(I.a)(Object(I.a)({},e),{},{hasSubscribed:t.data});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{user:t.data});case"SET_EDIT_POST_COMMENT":return Object(I.a)(Object(I.a)({},e),{},{editPostComment:t.data});case"ADD_COMMENT_QUOTE":var a=Object(I.a)({},e.commentQuotes);return Object.keys(e.commentQuotes).length>0&&e.commentQuotes.hasOwnProperty(t.data.id)?(delete(a=Object(I.a)({},e.commentQuotes))[t.data.id],a=Object(I.a)(Object(I.a)({},a),{},Object(Hi.a)({},t.data.id,t.data))):a=Object(I.a)(Object(I.a)({},e.commentQuotes),{},Object(Hi.a)({},t.data.id,t.data)),Object(I.a)(Object(I.a)({},e),{},{commentQuotes:a});case"CLEAR_COMMENT_QUOTE":var n=Object(I.a)({},e.commentQuotes);return delete n[t.data],Object(I.a)(Object(I.a)({},e),{},{commentQuotes:n});case"SET_PARENT_ID":return Object(I.a)(Object(I.a)({},e),{},{parentId:t.data});case"GET_COMPANY_POSTS_SUCCESS":var r={};return t.data.posts.forEach((function(t){e.companyPosts.posts[t.id]?r[t.id]=Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.id]),{},{p:t}):r[t.id]=t})),Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{prev_skip:t.data.prev_skip,next_skip:t.data.next_skip,total_take:t.data.total_take,has_more:t.data.total_take===t.data.next_skip-t.data.prev_skip,posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),r)})});case"INCOMING_MARK_AS_READ":return Object(I.a)(Object(I.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.result.post_id]&&{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.result.post_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.result.post_id]),{},{user_reads:[].concat(Object($.a)(e.companyPosts.posts[t.data.result.post_id].user_reads),Object($.a)(t.data.result.user_reads))})))})});case"INCOMING_POST":return Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.id,t.data))})});case"INCOMING_TO_DO":case"INCOMING_UPDATE_TO_DO":case"INCOMING_DONE_TO_DO":case"INCOMING_REMOVE_TO_DO":var i=e.companyPosts.posts;return"POST"===t.data.link_type&&t.data.data&&"undefined"!==typeof i[t.data.data.post.id]&&(i[t.data.data.post.id]=Object(I.a)(Object(I.a)({},i[t.data.data.post.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}})),Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:i})});case"INCOMING_UPDATED_POST":var c=e.companyPosts.posts;return t.data.is_personal&&!t.data.post_participant_data.all_participant_ids.some((function(t){return t===e.user.id}))?delete c[t.data.id]:c[t.data.id]=t.data,Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:c})});case"ADD_COMPANY_POST_SEARCH_RESULT":return Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{search:t.data.search,searchResults:t.data.search_result})});case"UPDATE_COMPANY_POST_FILTER_SORT":return Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{filter:t.data.filter,sort:t.data.sort?t.data.sort:e.companyPosts.sort,tag:t.data.tag})});case"INCOMING_POST_CLAP":return"undefined"===typeof e.companyPosts.posts[t.data.post_id]?e:Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.post_id]),{},{clap_count:t.data.clap_count?e.companyPosts.posts[t.data.post_id].clap_count+1:e.companyPosts.posts[t.data.post_id].clap_count-1,user_clap_count:t.data.clap_count})))})});case"STAR_POST_REDUCER":return"undefined"===typeof e.companyPosts.posts[t.data.post_id]?e:Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_favourite:!e.companyPosts.posts[t.data.post_id].is_favourite})))})});case"FETCH_RECENT_POSTS_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{recentPosts:Object(Hi.a)({},t.data.topic_id,{folderId:t.data.workspace_id,posts:Vi(t.data.posts,"id")})});case"INCOMING_FAVOURITE_ITEM":return Object(I.a)(Object(I.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.type_id)&&{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.type_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.type_id]),{},{is_favourite:t.data.is_favourite})))})});case"INCOMING_POST_MARK_DONE":return Object(I.a)(Object(I.a)(Object(I.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))})}),{},{recentPosts:Object(I.a)(Object(I.a)({},e.recentPosts),Object.keys(e.recentPosts).filter((function(a){return e.recentPosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(Hi.a)({},a,Object(I.a)(Object(I.a)({},e.recentPosts[a]),{},{posts:Object(I.a)(Object(I.a)({},e.recentPosts[a].posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.recentPosts[a].posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))}))})).reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),t)}),{}))});case"ADD_TO_WORKSPACE_POSTS":var o=Vi(t.data.posts,"id"),l=[];return e.drafts.length&&e.drafts.forEach((function(e){"draft_post"===e.data.type&&t.data.topic_id===e.data.topic_id&&l.push(Object(I.a)(Object(I.a)(Object(I.a)({},e.data),e.data.form),{},{draft_id:e.id}))})),l.length&&(l=Vi(l,"id")),Object(I.a)(Object(I.a)({},e),{},{posts:Object(I.a)(Object(I.a)(Object(I.a)({},e.posts),o),l)});case"GET_DRAFTS_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{drafts:t.data});case"INCOMING_POST_VIEWER":return Object(I.a)(Object(I.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.post_id]),{},{view_user_ids:[].concat(Object($.a)(e.companyPosts.posts[t.data.post_id].view_user_ids),[t.data.viewer.id]),is_unread:0})))})});case"ARCHIVE_POST_REDUCER":if(isNaN(t.data.topic_id))return Object(I.a)(Object(I.a)({},e),{},{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_archived:t.data.is_archived})))})});var s=Object(I.a)({},e.posts);return s[t.data.post_id].is_archived=t.data.is_archived,Object(I.a)(Object(I.a)({},e),{},{posts:s});case"INCOMING_READ_UNREAD_REDUCER":return Object(I.a)(Object(I.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(I.a)(Object(I.a)({},e.companyPosts),{},{flipper:!e.flipper,posts:Object(I.a)(Object(I.a)({},e.companyPosts.posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.companyPosts.posts[t.data.post_id]),{},{view_user_ids:0===t.data.unread?[].concat(Object($.a)(e.companyPosts.posts[t.data.post_id].view_user_ids),[t.data.user_id]):e.companyPosts.posts[t.data.post_id].view_user_ids.filter((function(e){return e!==t.data.user_id})),is_unread:t.data.unread,unread_count:0===t.data.unread?0:e.companyPosts.posts[t.data.post_id].unread_count})))})});case"INCOMING_COMMENT":var d=Object(I.a)({},e.companyPosts);return"POST_COMMENT_CREATE"===t.data.SOCKET_TYPE&&e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&(1===d.posts[t.data.post_id].is_archived&&(d.posts[t.data.post_id].is_archived=0),d.posts[t.data.post_id].users_responsible.some((function(e){return e.id===t.data.author.id}))||(d.posts[t.data.post_id].users_responsible=[].concat(Object($.a)(d.posts[t.data.post_id].users_responsible),[t.data.author]))),Object(I.a)(Object(I.a)({},e),{},{companyPosts:d});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCOMING_UPDATE_COMPANY_NAME":return Object(I.a)(Object(I.a)({},e),{},{driff:Object(I.a)(Object(I.a)({},e.driff),{},{company_name:t.data.company_name})});case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{sessionUser:t.data});case"GET_DRIFF_COMP_SETTINGS_SUCCESS":var a=e.driff.settings,n=e.driff.ANNOUNCEMENT_AT,r=e.driff.ANNOUNCEMENT_LINK;return t.data.settings.forEach((function(e){e.ANNOUNCEMENT_AT&&(n=e.ANNOUNCEMENT_AT),e.ANNOUNCEMENT_LINK&&(r=e.ANNOUNCEMENT_LINK),a=Object(I.a)(Object(I.a)({},a),e)})),Object.keys(a).forEach((function(e){a[e]="1"===a[e]||!0===a[e]})),a.maintenance_mode=!Object.values(a).some((function(e){return!0===e})),"password_login"===_("allow")&&(a.password_login=!0),Object(I.a)(Object(I.a)({},e),{},{driff:Object(I.a)(Object(I.a)({},e.driff),{},{isCompSettingsLoaded:!0,settings:a,ANNOUNCEMENT_LINK:r,ANNOUNCEMENT_AT:n})});case"GET_DRIFF_SETTINGS_SUCCESS":var i=e.driff;for(var c in t.data)if(t.data.hasOwnProperty(c)){var o=t.data[c],l=Object.keys(o)[0],s=o[l];switch(l){case"translation_updated_at":i="undefined"===typeof i.client_translation_updated_at?Object(I.a)(Object(I.a)({},i),{},{i18n:s?s.timestamp:1e9}):Object(I.a)(Object(I.a)({},i),{},{i18n:i.client_translation_updated_at<s.timestamp?s.timestamp:i.translation_updated_at});break;case"client_translation_updated_at":i="undefined"===typeof i.translation_updated_at?Object(I.a)(Object(I.a)({},i),{},{i18n:s?s.timestamp:1e9}):Object(I.a)(Object(I.a)({},i),{},{i18n:i.translation_updated_at<s.timestamp?s.timestamp:i.translation_updated_at});break;default:i=Object(I.a)(Object(I.a)({},i),{},Object(Hi.a)({},l,s))}}return Object(I.a)(Object(I.a)({},e),{},{driff:Object(I.a)(Object(I.a)({},i),{},{isSettingsLoaded:!0})});case"GET_USER_SETTINGS_SUCCESS":var d=e.user;for(var u in d.isLoaded=!0,t.data.settings)if(t.data.settings.hasOwnProperty(u)){var m=t.data.settings[u],p=Object.keys(m)[0],f=m[p];switch(p){case"CHAT_SETTINGS":"default"===f.chat_message_theme.preset||(f.old_chat_message_theme=f.chat_message_theme),delete f.chat_message_theme,d[p]=Object(I.a)(Object(I.a)({},d[p]),f);break;case"GENERAL_SETTINGS":d[p]=Object(I.a)(Object(I.a)(Object(I.a)({},d[p]),f),{},{language:null===f.language?"en":f.language});break;default:d[p]=f}}return Object(I.a)(Object(I.a)({},e),{},{user:d});case"UPDATE_USER_CHAT_SETTING":return Object(I.a)(Object(I.a)({},e),{},{user:Object(I.a)(Object(I.a)({},e.user),{},{CHAT_SETTINGS:Object(I.a)(Object(I.a)({},e.user.CHAT_SETTINGS),t.data)})});case"UPDATE_USER_GENERAL_SETTING":return Object(I.a)(Object(I.a)({},e),{},{user:Object(I.a)(Object(I.a)({},e.user),{},{GENERAL_SETTINGS:Object(I.a)(Object(I.a)({},e.user.GENERAL_SETTINGS),t.data)})});case"UPDATE_USER_SETTINGS":return Object(I.a)(Object(I.a)({},e),{},{user:Object(I.a)(Object(I.a)({},e.user),t.data)});case"UPDATE_READ_ANNOUNCEMENT":return Object(I.a)(Object(I.a)({},e),{},{user:Object(I.a)(Object(I.a)({},e.user),{},{READ_ANNOUNCEMENT:{timestamp:Math.floor(Date.now()/1e3)}})});case"UPDATE_COMPANY_POST_ANNOUNCEMENT":return Object(I.a)(Object(I.a)({},e),{},{driff:Object(I.a)(Object(I.a)({},e.driff),{},{ANNOUNCEMENT_LINK:t.data.ANNOUNCEMENT_LINK,ANNOUNCEMENT_AT:t.data.ANNOUNCEMENT_AT})});default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ac,t=arguments.length>1?arguments[1]:void 0;return t.type,e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCOMING_INTERNAL_USER":var a=Object(I.a)({contact:"",active:1},t.data);return delete a.SOCKET_TYPE,Object(I.a)(Object(I.a)({},e),{},{users:Object(I.a)(Object(I.a)({},e.users),{},Object(Hi.a)({},a.id,a)),mentions:Object(I.a)(Object(I.a)({},e.mentions),{},Object(Hi.a)({},a.id,a))});case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{user:t.data});case"GET_MENTION_USERS_SUCCESS":var n=e.mentions;return t.data.result.forEach((function(e){n[e.id]=Object(I.a)(Object(I.a)({},n[e.id]),e)})),Object(I.a)(Object(I.a)({},e),{},{mentions:n});case"GET_ONLINE_USERS_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{onlineUsers:t.data.result});case"GET_USERS_SUCCESS":var r=Object(I.a)({},e.users);return t.data.users.forEach((function(e){r[e.id]=Object(I.a)(Object(I.a)({},r[e.id]),e)})),Object(I.a)(Object(I.a)({},e),{},{users:r,getUserFilter:{hasMore:t.data.users.length===t.data.limit,limit:t.data.limit,skip:t.data.next_skip}});case"GET_USER_SUCCESS":var i=t.data,c=(i.CHAT_SETTINGS,i.GENERAL_SETTINGS,i.ORDER_CHANNEL,i.id),o=Object(G.a)(i,["CHAT_SETTINGS","GENERAL_SETTINGS","ORDER_CHANNEL","id"]),l=e.users[c];return l=l?Object(I.a)(Object(I.a)({},l),{},{userData:o}):o,Object(I.a)(Object(I.a)({},e),{},{users:Object(I.a)(Object(I.a)({},e.users),{},Object(Hi.a)({},c,Object(I.a)(Object(I.a)({id:c},l),{},{loaded:!0})))});case"UPDATE_USER_SUCCESS":var s=t.data,d=(s.CHAT_SETTINGS,s.GENERAL_SETTINGS,s.ORDER_CHANNEL,s.id),u=Object(G.a)(s,["CHAT_SETTINGS","GENERAL_SETTINGS","ORDER_CHANNEL","id"]);return Object(I.a)(Object(I.a)({},e),{},{users:Object(I.a)(Object(I.a)({},e.users),{},Object(Hi.a)({},d,Object(I.a)(Object(I.a)({id:d},e.users[d]),u)))});case"INCOMING_UPDATED_USER":var m=Object(I.a)({},e.users),p=Object(I.a)({},e.mentions);return Object.keys(e.users).length&&(m[t.data.id]=Object(I.a)(Object(I.a)({},m[t.data.id]),{},{id:t.data.id,first_name:t.data.first_name,middle_name:t.data.middle_name,last_name:t.data.last_name,name:t.data.name,email:t.data.email,active:t.data.active,profile_image_link:t.data.profile_image_link,contact:t.data.contact,company:t.data.company,designation:t.data.designation,partial_name:t.data.partian_name,import_from:t.data.import_from,place:t.data.place,address:t.data.address})),Object.keys(e.mentions).length&&(p[t.data.id]={id:t.data.id,first_name:t.data.first_name,name:t.data.name,profile_image_link:t.data.profile_image_link}),Object(I.a)(Object(I.a)({},e),{},{users:m,mentions:p});case"INCOMING_EXTERNAL_USER":var f=Object(I.a)({},e.users),b=Object(I.a)({},e.mentions);return Object.keys(e.users).length&&(f[t.data.current_user.id]=Object(I.a)(Object(I.a)({},t.data.current_user),{},{address:"",role:null,designation:"",is_favourite:!1,place:"",slug:null,contact:"",company:""})),Object.keys(e.mentions).length&&(b[t.data.current_user.id]={id:t.data.current_user.id,first_name:t.data.current_user.first_name,name:t.data.current_user.name,profile_image_link:t.data.current_user.profile_image_link}),Object(I.a)(Object(I.a)({},e),{},{users:f,mentions:b});case"GET_ROLES_SUCCESS":var h=Object(I.a)({},e.roles);return t.data.forEach((function(e){h[e.name]=e.id})),Object(I.a)(Object(I.a)({},e),{},{roles:h});case"INCOMING_USER_ROLE":return Object(I.a)(Object(I.a)({},e),{},{users:Object(I.a)(Object(I.a)({},e.users),{},Object(Hi.a)({},t.data.user_id,Object(I.a)(Object(I.a)({},e.users[t.data.user_id]),{},{role:Object(I.a)(Object(I.a)({},e.users[t.data.user_id].role),{},{name:t.data.role.name,display_name:"admin"===t.data.role.name?"Site Admin":"Employee"})})))});default:return e}},workspaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WORKSPACE_SEARCH":return Object(I.a)(Object(I.a)({},e),{},{search:t.data});case"ADD_USER_TO_REDUCERS":return Object(I.a)(Object(I.a)({},e),{},{user:t.data});case"INCOMING_UPDATED_USER":var a=Object(I.a)({},e.workspaces),n=Object(I.a)({},e.activeTopic),r=n.members.map((function(e){return e.id})).indexOf(t.data.id);return-1!==r&&Object.keys(n.members[r]).forEach((function(e){var a=t.data[e];n.members[r].hasOwnProperty(e)&&(n.members[r][e]=a)})),Object.values(a).forEach((function(e){var n=a[e.id].members.map((function(e){return e.id})).indexOf(t.data.id);-1!==n&&Object.keys(a[e.id].members[n]).forEach((function(r){var i=t.data[r];a[e.id].members[n].hasOwnProperty(r)&&(a[e.id].members[n][r]=i)}))})),Object(I.a)(Object(I.a)({},e),{},{flipper:!e.flipper,workspaces:a});case"GET_WORKSPACES_SUCCESS":var i=Object(I.a)({},e.workspaces),c=Object(I.a)({},e.folders);return t.data.workspaces.forEach((function(e){"FOLDER"===e.type?(c.hasOwnProperty(e.id)?c[e.id].workspace_ids=[].concat(Object($.a)(c[e.id].workspace_ids),Object($.a)(e.topics.map((function(e){return e.id})))):c[e.id]=Object(I.a)(Object(I.a)({},e),{},{workspace_ids:e.topics.map((function(e){return e.id}))}),e.topics.forEach((function(t){i[t.id]=Object(I.a)(Object(I.a)({},t),{},{channel:Object(I.a)(Object(I.a)({},t.channel),{},{loaded:!1}),is_lock:t.private,folder_id:e.id,folder_name:e.name,type:"WORKSPACE"})})),delete c[e.id].topics):"WORKSPACE"===e.type&&(i[e.id]=Object(I.a)(Object(I.a)({},e),{},{active:e.topic_detail.active,channel:Object(I.a)(Object(I.a)({},e.topic_detail.channel),{},{loaded:!1}),unread_chats:e.topic_detail.unread_chats,unread_posts:e.topic_detail.unread_posts,folder_id:null,folder_name:null}),delete i[e.id].topic_detail)})),Object(I.a)(Object(I.a)({},e),{},{workspaces:i,workspacesLoaded:!e.workspacesLoaded&&0===t.data.is_external||e.workspacesLoaded,externalWorkspacesLoaded:!e.externalWorkspacesLoaded&&1===t.data.is_external||e.externalWorkspacesLoaded,folders:c});case"INCOMING_WORKSPACE_FOLDER":var o=Object(I.a)({},e.folders);return e.workspacesLoaded&&(o[t.data.id]=Object(I.a)(Object(I.a)({},t.data),{},{unread_count:0,member_ids:[],members:[],workspace_ids:[]})),Object(I.a)(Object(I.a)({},e),{},{folders:o});case"INCOMING_WORKSPACE":var l=Object(I.a)({},e.workspaces),s=Object(I.a)({},e.folders);return e.workspacesLoaded&&(l[t.data.id]={id:t.data.id,name:t.data.topic.name,is_external:t.data.is_external,is_lock:t.data.is_lock,description:t.data.topic.description,unread_count:0,type:"WORKSPACE",key_id:t.data.key_id,active:1,unread_chats:0,unread_posts:0,folder_id:t.data.workspace?t.data.workspace.id:null,folder_name:t.data.workspace?t.data.workspace.name:null,member_ids:t.data.member_ids,members:t.data.members,channel:{code:t.data.channel.code,id:t.data.channel.id,loaded:!1},created_at:t.data.topic.created_at,updated_at:t.data.topic.created_at,primary_files:[]},null!==t.data.workspace&&s[t.data.workspace.id]&&(s[t.data.workspace.id].workspace_ids=[].concat(Object($.a)(s[t.data.workspace.id].workspace_ids),[t.data.id]))),Object(I.a)(Object(I.a)({},e),{},{workspaces:l,folders:s});case"INCOMING_UPDATED_WORKSPACE_FOLDER":var d=Object(I.a)({},e.workspaces),u=Object(I.a)({},e.folders),m=null,p=e.workspaceToDelete,f=e.folderToDelete,b=Object(I.a)({},e.search);if(b.results.length&&"WORKSPACE"===t.data.type&&(b.results=b.results.map((function(e){return e.topic.id===t.data.id?Object(I.a)(Object(I.a)({},e),{},{members:t.data.members,topic:Object(I.a)(Object(I.a)({},e.topic),{},{name:t.data.name,description:t.data.description,is_locked:1===t.data.private}),workspace:0===t.data.workspace_id?null:{id:t.data.workspace_id,name:t.data.current_workspace_folder_name}}):e}))),e.workspacesLoaded&&"WORKSPACE"===t.data.type&&d.hasOwnProperty(t.data.id)){var h=e.activeTopic?Object(I.a)({},e.activeTopic):null;if(m=Object(I.a)(Object(I.a)({},e.workspaces[t.data.id]),{},{name:t.data.name,member_ids:t.data.member_ids,members:t.data.members,description:t.data.description,updated_at:t.data.updated_at,is_lock:t.data.private,folder_id:0===t.data.workspace_id?null:t.data.workspace_id,folder_name:0===t.data.workspace_id?null:t.data.current_workspace_folder_name}),d[m.id]=m,e.activeTopic&&e.activeTopic.id===m.id&&(h=m),!t.data.member_ids.some((function(t){return t===e.user.id})))if(1===m.is_lock||"external"===e.user.type){if(delete d[m.id],Object.values(d).length&&(h=Object.values(d)[0].id===t.data.id?Object.values(d)[1]:Object.values(d)[0]),0!==t.data.workspace_id&&u.hasOwnProperty(t.data.workspace_id)){var E=!1;u[t.data.workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})).forEach((function(a){e.workspaces.hasOwnProperty(a)&&t.data.id!==a&&e.workspaces[a].member_ids.some((function(t){return t===e.user.id}))&&(E=!0)})),E||delete u[t.data.workspace_id]}}else if(e.activeTopic&&e.activeTopic.id===t.data.id){if(p=t.data.id,0!==t.data.workspace_id&&u.hasOwnProperty(t.data.workspace_id)){var _=!1;u[t.data.workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})).forEach((function(a){e.workspaces.hasOwnProperty(a)&&t.data.id!==a&&e.workspaces[a].member_ids.some((function(t){return t===e.user.id}))&&(_=!0)})),_||(f=t.data.workspace_id)}}else if(delete d[t.data.id],0!==t.data.workspace_id&&u.hasOwnProperty(t.data.workspace_id)){var g=!1;u[t.data.workspace_id].workspace_ids.forEach((function(a){e.workspaces.hasOwnProperty(a)&&t.data.id!==a&&e.workspaces[a].member_ids.some((function(t){return t===e.user.id}))&&(g=!0)})),g||delete u[t.data.workspace_id]}return 0!==t.data.workspace_id&&u.hasOwnProperty(t.data.workspace_id)?t.data.original_workspace_id!==t.data.workspace_id&&(u[t.data.workspace_id].workspace_ids=[].concat(Object($.a)(u[t.data.workspace_id].workspace_ids),[t.data.id]),0!==t.data.original_workspace_id&&(u[t.data.original_workspace_id].workspace_ids=u[t.data.original_workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})))):t.data.original_workspace_id!==t.data.workspace_id&&(u[t.data.original_workspace_id].workspace_ids=u[t.data.original_workspace_id].workspace_ids.filter((function(e){return e!==t.data.id}))),Object(I.a)(Object(I.a)({},e),{},{activeTopic:h,folders:u,workspaces:d,workspaceToDelete:p,folderToDelete:f,search:b})}return e.workspacesLoaded&&"FOLDER"===t.data.type?(u[t.data.id]&&(u[t.data.id]=Object(I.a)(Object(I.a)({},u[t.data.id]),{},{name:t.data.name,description:t.data.description,is_lock:t.data.is_lock,updated_at:t.data.updated_at}),u[t.data.id].workspace_ids.forEach((function(e){d[e].folder_name=t.data.name}))),Object(I.a)(Object(I.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.folder_id&&e.activeTopic.folder_id===t.data.id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{folder_name:t.data.name}):e.activeTopic,folders:u,workspaces:d})):Object(I.a)(Object(I.a)({},e),{},{search:b});case"SET_ACTIVE_TOPIC":var O=Object(I.a)({},e.workspaces),A=Object(I.a)({},e.folders);return e.workspaceToDelete&&delete O[e.workspaceToDelete],e.folderToDelete&&delete A[e.folderToDelete],Object(I.a)(Object(I.a)({},e),{},{workspaces:O,workspaceToDelete:null,folderToDelete:null,folders:A,activeTopic:t.data.hasOwnProperty("members")?t.data:e.workspaces.hasOwnProperty(t.data.id)?Object(I.a)({},e.workspaces[t.data.id]):e.activeTopic});case"SET_SELECTED_CHANNEL":return Object(I.a)(Object(I.a)({},e),{},{activeChannelId:"TOPIC"===t.data.type?t.data.id:e.activeChannelId});case"GET_WORKSPACE_CHANNELS_SUCCESS":var v=Object(I.a)({},e.workspaces);return t.data.forEach((function(e){v.hasOwnProperty(e.entity_id)&&(v[e.entity_id].channel.loaded=!0)})),Object(I.a)(Object(I.a)({},e),{},{workspaces:v});case"SET_ACTIVE_TAB":return Object(I.a)(Object(I.a)({},e),{},{activeTab:t.data});case"ADD_POST_SEARCH_RESULT":return Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id]),{},{search:t.data.search,searchResults:t.data.search_result})))});case"ADD_TO_WORKSPACE_POSTS":var C=Vi(t.data.posts,"id"),j=[];return e.drafts.length&&e.drafts.forEach((function(e){"draft_post"===e.data.type&&t.data.topic_id===e.data.topic_id&&j.push(Object(I.a)(Object(I.a)(Object(I.a)({},e.data),e.data.form),{},{draft_id:e.id}))})),j.length&&(j=Vi(j,"id")),e.workspacePosts.hasOwnProperty(t.data.topic_id)?Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(I.a)(Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id].posts),C),j)})))}):Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),{},Object(Hi.a)({},t.data.topic_id,{filter:"all",sort:"recent",tag:null,search:null,searchResults:[],count:null,posts:Object(I.a)(Object(I.a)({},C),j),post_ids:[].concat(Object($.a)(t.data.posts.map((function(e){return e.id}))),Object($.a)(e.drafts.map((function(e){return e.data.id}))))}))});case"UPDATE_WORKSPACE_POST_FILTER_SORT":return Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id]),{},{filter:t.data.filter,sort:t.data.sort?t.data.sort===e.workspacePosts[t.data.topic_id].sort?e.workspacePosts[t.data.topic_id].sort:t.data.sort:e.workspacePosts[t.data.topic_id].sort,tag:t.data.tag})))});case"JOIN_WORKSPACE_REDUCER":var k=Object(I.a)({},e.workspaces),y=Object(I.a)({},e.search),T=null;return Object.keys(k).length&&Object.values(k).forEach((function(e){e.channel.id===t.data.channel_id&&(k[e.id].members=[].concat(Object($.a)(k[e.id].members),Object($.a)(t.data.users)),k[e.id].member_ids=[].concat(Object($.a)(k[e.id].member_ids),Object($.a)(t.data.users.map((function(e){return e.id})))),T=k[e.id])})),y.results.length&&(y.results=y.results.map((function(e){return e.channel.id===t.data.channel_id?Object(I.a)(Object(I.a)({},e),{},{members:[].concat(Object($.a)(e.members),Object($.a)(t.data.users))}):e}))),Object(I.a)(Object(I.a)({},e),{},{workspaces:k,activeTopic:e.activeTopic&&e.activeTopic.channel.id===t.data.channel_id&&T?T:e.activeTopic,search:y});case"GET_DRAFTS_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{drafts:t.data});case"SAVE_DRAFT_SUCCESS":return"draft_post"===t.data.data.draft_type?Object(I.a)(Object(I.a)({},e),{},{drafts:[].concat(Object($.a)(e.drafts),[t.data]),workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),{},Object(Hi.a)({},t.data.data.topic_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.data.topic_id]),{},{posts:Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.data.topic_id].posts),{},Object(Hi.a)({},t.data.data.id,Object(I.a)(Object(I.a)(Object(I.a)(Object(I.a)({},t.data),t.data.data),t.data.data.form),{},{id:t.data.data.id,draft_id:t.data.id,form:t.data.data.form})))})))}):e;case"DELETE_DRAFT":var w=e.drafts.find((function(e){return e.id===t.data.draft_id})),N=e.workspacePosts[t.data.topic_id].posts;return delete N[w.data.timestamp],"draft_post"===t.data.draft_type?Object(I.a)(Object(I.a)({},e),{},{drafts:Object($.a)(e.drafts.filter((function(e){return e.id!==t.data.draft_id}))),workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:N})))}):e;case"REMOVE_POST":var S=Object(I.a)({},e.workspacePosts);return delete e.workspacePosts[t.data.topic_id].posts[t.data.post_id],Object(I.a)(Object(I.a)({},e),{},{workspacePosts:S});case"FETCH_COMMENTS_SUCCESS":var x={};return t.data.messages.length&&t.data.messages.forEach((function(e){x[e.id]=Object(I.a)(Object(I.a)({},e),{},{replies:Vi(e.replies,"id"),skip:e.replies.length,hasMore:10===e.replies.length,limit:10})})),Object(I.a)(Object(I.a)({},e),{},{postComments:Object(Hi.a)({},t.data.post_id,{skip:t.data.next_skip,hasMore:20===t.data.messages.length,comments:x})});case"ADD_COMMENT":var R=Object(I.a)({},e.postComments[t.data.post_id]);return R=t.data.parent_id?Object(I.a)(Object(I.a)({},R),{},{comments:Object(I.a)(Object(I.a)({},R.comments),{},Object(Hi.a)({},t.data.parent_id,Object(I.a)(Object(I.a)({},R.comments[t.data.parent_id]),{},{replies:Object(I.a)(Object(I.a)({},R.comments[t.data.parent_id].replies),{},Object(Hi.a)({},t.data.id,t.data))})))}):Object(I.a)(Object(I.a)({},R),{},{comments:Object(I.a)(Object(I.a)({},R.comments),{},Object(Hi.a)({},t.data.id,t.data))}),Object(I.a)(Object(I.a)({},e),{},{postComments:Object(I.a)(Object(I.a)({},e.postComments),{},Object(Hi.a)({},t.data.post_id,R))});case"STAR_POST_REDUCER":return t.data.topic_id?Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id].posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id].posts[t.data.post_id]),{},{is_favourite:!e.workspacePosts[t.data.topic_id].posts[t.data.post_id].is_favourite})))}))}):Object(I.a)({},e);case"INCOMING_FAVOURITE_ITEM":return Object(I.a)(Object(I.a)({},e),"post"===t.data.type&&{workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.type_id)})).map((function(a){return Object(Hi.a)({},a,Object(I.a)(Object(I.a)({},e.workspacePosts[a]),{},{posts:Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts),{},Object(Hi.a)({},t.data.type_id,Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts[t.data.type_id]),{},{is_favourite:t.data.is_favourite})))}))})).reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),t)}),{}))});case"INCOMING_POST_MARK_DONE":return Object(I.a)(Object(I.a)({},e),{},{flipper:!e.flipper,workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(Hi.a)({},a,Object(I.a)(Object(I.a)({},e.workspacePosts[a]),{},{posts:Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))}))})).reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),t)}),{}))});case"INCOMING_MARK_AS_READ":return Object(I.a)(Object(I.a)({},e),Object.keys(e.workspacePosts).filter((function(a){return"flipper"!==a&&e.workspacePosts[a]&&e.workspacePosts[a].posts[t.data.result.post_id]})).map((function(a){return Object(I.a)(Object(I.a)({},e.workspacePosts),{},{post:Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts),{},Object(Hi.a)({},t.data.result.post_id,Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts[t.data.result.post_id]),{},{user_reads:[].concat(Object($.a)(e.workspacePosts[a].posts[t.data.result.post_id].user_reads),Object($.a)(t.data.result.user_reads))})))})})).reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),t)}),{}));case"INCOMING_POST":var P=Object(I.a)({},e.workspacePosts),D=Object(I.a)({},e.workspaces),L=Object(I.a)({},e.folders),F=!1;return t.data.workspaces.forEach((function(a){P.hasOwnProperty(a.topic_id)&&(P[a.topic_id].posts[t.data.id]=t.data,1===P[a.topic_id].posts[t.data.id].is_must_read?P[a.topic_id].count.is_must_read=P[a.topic_id].count.is_must_read+1:1===P[a.topic_id].posts[t.data.id].is_must_reply?P[a.topic_id].count.is_must_reply=P[a.topic_id].count.is_must_reply+1:1===P[a.topic_id].posts[t.data.id].is_read_only&&(P[a.topic_id].count.is_read_only=P[a.topic_id].count.is_read_only+1)),t.data.author.id!==e.user.id&&"undefined"!==typeof D[a.topic_id]&&(D[a.topic_id].unread_posts=D[a.topic_id].unread_posts+1,e.activeTopic&&e.activeTopic.id===a.topic_id&&(F=!0),null!==a.workspace_id&&(L[a.workspace_id].unread_count=L[a.workspace_id].unread_count+1))})),Object(I.a)(Object(I.a)({},e),{},{workspacePosts:P,workspaces:D,activeTopic:F?Object(I.a)(Object(I.a)({},e.activeTopic),{},{unread_posts:e.activeTopic.unread_posts+1}):e.activeTopic});case"INCOMING_TO_DO":case"INCOMING_UPDATE_TO_DO":case"INCOMING_DONE_TO_DO":case"INCOMING_REMOVE_TO_DO":var M=Object(I.a)({},e.workspacePosts),U=Object(I.a)({},e.postComments);return"POST"===t.data.link_type&&t.data.data&&t.data.data.workspaces.forEach((function(e){"undefined"!==typeof M[e.topic.id]&&"undefined"!==typeof M[e.topic.id].posts[t.data.data.post.id]&&(M[e.topic.id].posts[t.data.data.post.id]=Object(I.a)(Object(I.a)({},M[e.topic.id].posts[t.data.data.post.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}}))})),"POST_COMMENT"===t.data.link_type&&t.data.data&&"undefined"!==typeof U[t.data.data.post.id]&&"undefined"!==typeof U[t.data.data.post.id].comments[t.data.data.comment.id]&&(U[t.data.data.post.id]=Object(I.a)(Object(I.a)({},U[t.data.data.post.id]),{},{comments:Object(I.a)(Object(I.a)({},U[t.data.data.post.id].comments),{},Object(Hi.a)({},t.data.data.comment.id,Object(I.a)(Object(I.a)({},U[t.data.data.post.id].comments[t.data.data.comment.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}})))})),Object(I.a)(Object(I.a)({},e),{},{postComments:U,workspacePosts:M});case"INCOMING_UPDATED_POST":var G=Object(I.a)({},e.workspacePosts);return t.data.recipient_ids.forEach((function(a){G.hasOwnProperty(a)&&(t.data.is_personal&&!t.data.post_participant_data.all_participant_ids.some((function(t){return t===e.user.id}))?delete G[a].posts[t.data.id]:G[a].posts[t.data.id]=t.data)})),Object(I.a)(Object(I.a)({},e),{},{workspacePosts:G});case"INCOMING_DELETED_POST":var B=Object(I.a)({},e.workspacePosts);return Object(I.a)(Object(I.a)({},e),{},{workspacePosts:B});case"INCOMING_COMMENT":var H=Object(I.a)({},e.postComments),W=Object(I.a)({},e.workspacePosts),Q=Object(I.a)({},e.workspaces),Y=e.activeTopic?Object(I.a)({},e.activeTopic):null;return t.data.workspaces.length&&"POST_COMMENT_CREATE"===t.data.SOCKET_TYPE&&t.data.workspaces.forEach((function(a){W.hasOwnProperty(a.topic_id)&&W[a.topic_id].posts.hasOwnProperty(t.data.post_id)&&(W[a.topic_id].posts[t.data.post_id].users_responsible.some((function(e){return e.id===t.data.author.id}))||(W[a.topic_id].posts[t.data.post_id].users_responsible=[].concat(Object($.a)(W[a.topic_id].posts[t.data.post_id].users_responsible),[t.data.author])),1===W[a.topic_id].posts[t.data.post_id].is_archived&&(W[a.topic_id].posts[t.data.post_id].is_archived=0),W[a.topic_id].posts[t.data.post_id].reply_count=W[a.topic_id].posts[t.data.post_id].reply_count+1,t.data.author.id!==e.user.id&&(W[a.topic_id].posts[t.data.post_id].unread_count=W[a.topic_id].posts[t.data.post_id].unread_count+1,Q.hasOwnProperty(a.topic_id)&&(Q[a.topic_id].unread_posts=Q[a.topic_id].unread_posts+1),Y&&Y.id===a.topic_id&&(Y.unread_posts=Y.unread_posts+1)))})),H.hasOwnProperty(t.data.post_id)&&(t.data.reference_id?t.data.parent_id?(delete H[t.data.post_id].comments[t.data.parent_id].replies[t.data.reference_id],H[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]=t.data):(delete H[t.data.post_id].comments[t.data.reference_id],H[t.data.post_id].comments[t.data.id]=t.data):t.data.parent_id?H[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]=t.data:H[t.data.post_id].comments[t.data.id]=t.data),Object(I.a)(Object(I.a)({},e),{},{postComments:H,workspacePosts:W,workspaces:Q,activeTopic:Y});case"ADD_PRIMARY_FILES":var z=Object(I.a)({},e.workspaces);return t.data.folder_id?z[t.data.folder_id].topics[t.data.id].primary_files=t.data.files:z[t.data.id].primary_files=t.data.files,Object(I.a)(Object(I.a)({},e),{},{workspaces:z,activeTopic:e.activeTopic.id===t.data.id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{primary_files:t.data.files}):e.activeTopic});case"UPLOADING_WORKSPACE_FILES_SUCCESS":var V=Object(I.a)({},e.workspaces),K=t.data.files.map((function(t){return Object(I.a)(Object(I.a)({},t),{},{uploader:e.user})}));return V.hasOwnProperty(t.data.topic_id)&&(V[t.data.topic_id].hasOwnProperty("primary_files")?V[t.data.topic_id].primary_files=Object($.a)(new Set([].concat(Object($.a)(V[t.data.topic_id].primary_files),Object($.a)(K)))):V[t.data.topic_id].primary_files=K),Object(I.a)(Object(I.a)({},e),{},{workspaces:V,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{primary_files:e.activeTopic.hasOwnProperty("primary_files")?Object($.a)(new Set([].concat(Object($.a)(e.activeTopic.primary_files),Object($.a)(K)))):K}):e.activeTopic});case"INCOMING_POST_CLAP":var q=Object(I.a)({},e.workspacePosts);return Object.values(q).forEach((function(e){e.posts.hasOwnProperty(t.data.post_id)&&(e.posts[t.data.post_id].clap_count=0===t.data.clap_count?e.posts[t.data.post_id].clap_count-1:e.posts[t.data.post_id].clap_count+1,e.posts[t.data.post_id].user_clap_count=t.data.clap_count)})),Object(I.a)(Object(I.a)({},e),{},{workspacePosts:q});case"INCOMING_COMMENT_CLAP":var J=Object(I.a)({},e.postComments);return J.hasOwnProperty(t.data.post_id)?(t.data.parent_message_id?(J[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_count=0===t.data.clap_count?J[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_count-1:J[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_count+1,J[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].user_clap_count=t.data.clap_count):(J[t.data.post_id].comments[t.data.message_id].clap_count=0===t.data.clap_count?J[t.data.post_id].comments[t.data.message_id].clap_count-1:J[t.data.post_id].comments[t.data.message_id].clap_count+1,J[t.data.post_id].comments[t.data.message_id].user_clap_count=t.data.clap_count),Object(I.a)(Object(I.a)({},e),{},{postComments:J})):e;case"FETCH_TIMELINE_SUCCESS":var Z=Object(I.a)({},e.workspaceTimeline);return Z.hasOwnProperty(t.data.topic_id)?Z[t.data.topic_id]=Object(I.a)(Object(I.a)({},Z[t.data.topic_id]),{},{hasMore:Object.keys(Z[t.data.topic_id].timeline).length+t.data.timeline.length===t.data.total_count,timeline:Object(I.a)(Object(I.a)({},Z[t.data.topic_id].timeline),Vi(t.data.timeline,"id")),total_items:t.data.total_count,maxPage:Math.ceil(t.data.total_count/10)}):Z[t.data.topic_id]={hasMore:t.data.total_count>10,timeline:Vi(t.data.timeline,"id"),total_items:t.data.total_count,page:1,maxPage:Math.ceil(t.data.total_count/10)},Object(I.a)(Object(I.a)({},e),{},{workspaceTimeline:Z});case"FETCH_WORKSPACE_MEMBERS_SUCCESS":var X=Object(I.a)({},e.workspaces);return X[t.data.id].members=t.data.members,Object(I.a)(Object(I.a)({},e),{},{workspaces:X,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{members:t.data.members}):e.activeTopic});case"FETCH_TAG_COUNTER_SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),{},Object(Hi.a)({},t.data.topic_id,Object(I.a)(Object(I.a)({},e.workspacePosts[t.data.topic_id]),{},{count:{is_must_reply:t.data.counters.filter((function(e){return"MUST_REPLY"===e.type}))[0].counter,is_must_read:t.data.counters.filter((function(e){return"MUST_READ"===e.type}))[0].counter,is_read_only:t.data.counters.filter((function(e){return"READ_ONLY"===e.type}))[0].counter}})))});case"INCOMING_POST_VIEWER":return Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(I.a)(Object(I.a)(Object(I.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(Hi.a)({},a,Object(I.a)(Object(I.a)({},e.workspacePosts[a]),{},{posts:Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{view_user_ids:[].concat(Object($.a)(e.workspacePosts[a].posts[t.data.post_id].view_user_ids),[t.data.viewer.id]),is_unread:0})))}))})).reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),t)}),{})),{},{flipper:!e.workspacePosts.flipper})});case"ARCHIVE_POST_REDUCER":if(isNaN(t.data.topic_id))return e;var ee=Object(I.a)({},e.workspacePosts);return ee[t.data.topic_id].posts[t.data.post_id].is_archived=t.data.is_archived,Object(I.a)(Object(I.a)({},e),{},{workspacePosts:ee});case"ARCHIVE_REDUCER":var te=Object(I.a)({},e.workspaces),ae=Object(I.a)({},e.folders),ne=Object(I.a)({},e.search);return te[t.data.topic_detail.id]&&(te[t.data.topic_detail.id].active=0),t.data.topic_detail.workspace_id&&0!==t.data.topic_detail.workspace_id&&ae[t.data.topic_detail.workspace_id]&&(ae[t.data.topic_detail.workspace_id].workspace_ids=ae[t.data.topic_detail.workspace_id].workspace_ids.filter((function(e){return e!==t.data.topic_detail.id}))),ne.results.length&&(ne.results=ne.results.map((function(e){return e.topic.id===t.data.topic_detail.id?Object(I.a)(Object(I.a)({},e),{},{is_archive:!0}):e}))),Object(I.a)(Object(I.a)({},e),{},{folders:ae,workspaces:te,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_detail.id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{active:0}):e.activeTopic,search:ne});case"UNARCHIVE_REDUCER":var re=Object(I.a)({},e.workspaces),ie=Object(I.a)({},e.search);return re.hasOwnProperty(t.data.topic_detail.id)&&(re[t.data.topic_detail.id].active=1),ie.results.length&&(ie.results=ie.results.map((function(e){return e.topic.id===t.data.topic_detail.id?Object(I.a)(Object(I.a)({},e),{},{is_archive:!1}):e}))),Object(I.a)(Object(I.a)({},e),{},{workspaces:re,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_detail.id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{active:1}):e.activeTopic});case"INCOMING_READ_UNREAD_REDUCER":return Object(I.a)(Object(I.a)({},e),{},{workspacePosts:Object(I.a)(Object(I.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(Hi.a)({},a,Object(I.a)(Object(I.a)({},e.workspacePosts[a]),{},{posts:Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts),{},Object(Hi.a)({},t.data.post_id,Object(I.a)(Object(I.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{view_user_ids:0===t.data.unread?[].concat(Object($.a)(e.workspacePosts[a].posts[t.data.post_id].view_user_ids),[t.data.user_id]):e.workspacePosts[a].posts[t.data.post_id].view_user_ids.filter((function(e){return e!==t.data.user_id})),is_unread:t.data.unread,unread_count:0===t.data.unread?0:e.workspacePosts[a].posts[t.data.post_id].unread_count})))}))})).reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),t)}),{})),activeTopic:Object(I.a)(Object(I.a)({},e.activeTopic),e.workspacePosts.hasOwnProperty(e.workspacePosts)&&e.workspacePosts[e.activeTopic.id].posts.hasOwnProperty(t.data.post_id)&&{unread_count:e.activeTopic.unread_count+(t.data.unread?1:-1),unread_posts:e.activeTopic.unread_posts+(t.data.unread?1:-1)})});case"MUST_READ_REDUCER":var ce=Object(I.a)({},e.workspacePosts);return ce[t.data.topic_id].posts[t.data.post_id].is_read_requirement=!0,Object(I.a)(Object(I.a)({},e),{},{workspacePosts:ce});case"INCOMING_TIMELINE":var oe=Object(I.a)({},e.workspaceTimeline);return oe.hasOwnProperty(t.data.workspace_data.topic_id)?(oe[t.data.workspace_data.topic_id].timeline[t.data.timeline_data.id]=t.data.timeline_data,oe[t.data.workspace_data.topic_id].total_items=oe[t.data.workspace_data.topic_id].total_items+1,Object(I.a)(Object(I.a)({},e),{},{workspaceTimeline:oe})):e;case"INCOMING_DELETED_POST_FILE":var le=Object(I.a)({},e.workspacePosts),se=Object(I.a)({},e.postComments);return t.data.connected_workspace.length&&Object.keys(le).length?(t.data.connected_workspace.forEach((function(e){le.hasOwnProperty(e.topic_id)&&le[e.topic_id].hasOwnProperty("posts")&&le[e.topic_id].posts.hasOwnProperty(t.data.post_id)&&(le[e.topic_id].posts[t.data.post_id].files=le[e.topic_id].posts[t.data.post_id].files.filter((function(e){return e.id!==t.data.file_id}))),t.data.message_id&&Object.keys(se).length&&se.hasOwnProperty(t.data.post_id)&&Object.values(se[t.data.post_id].comments).forEach((function(e){e.id===t.data.message_id?se[t.data.post_id].comments[t.data.message_id].files=se[t.data.post_id].comments[t.data.message_id].files.filter((function(e){return e.id!==t.data.file_id})):e.replies.hasOwnProperty(t.data.message_id)&&(se[t.data.post_id].comments[e.id].replies[t.data.message_id].files=se[t.data.post_id].comments[e.id].replies[t.data.message_id].files.filter((function(e){return e.id!==t.data.file_id})))}))})),Object(I.a)(Object(I.a)({},e),{},{workspacePosts:le,postComments:se})):e;case"INCOMING_DELETED_COMMENT":var de=Object(I.a)({},e.postComments);return de.hasOwnProperty(t.data.post_id)&&(t.data.parent_id?delete de[t.data.post_id].comments[t.data.parent_id].replies[t.data.message_id]:delete de[t.data.post_id].comments[t.data.message_id]),Object(I.a)(Object(I.a)({},e),{},{postComments:de});case"INCOMING_CHAT_MESSAGE":var ue=e.activeTopic?Object(I.a)({},e.activeTopic):null;if(t.data.is_read){var me=Object(I.a)({},e.workspaces);return Object.keys(me).length>0?(me.hasOwnProperty(t.data.workspace_id)&&(me[t.data.workspace_id].unread_chats=0,e.activeTopic&&e.activeTopic.id===t.data.workspace_id&&(ue.unread_chats=0)),Object(I.a)(Object(I.a)({},e),{},{workspaces:me,activeTopic:ue})):e}var pe=Object(I.a)({},e.workspaces);return Object.keys(pe).length>0?(pe.hasOwnProperty(t.data.workspace_id)&&(pe[t.data.workspace_id].unread_chats=pe[t.data.workspace_id].unread_chats+1,e.activeTopic&&e.activeTopic.id===t.data.workspace_id&&(ue.unread_chats=ue.unread_chats+1)),Object(I.a)(Object(I.a)({},e),{},{workspaces:pe,activeTopic:ue})):e;case"READ_CHANNEL_REDUCER":var fe=Object(I.a)({},e.workspaces),be=Object(I.a)({},e.activeTopic);return Object.keys(fe).length>0&&fe.hasOwnProperty(t.data.id)&&(fe[t.data.id].unread_chats=0,e.activeTopic&&e.activeTopic.id===t.data.id&&(be.unread_chats=0)),Object(I.a)(Object(I.a)({},e),{},{workspaces:fe,activeTopic:be});case"GET_WORKSPACE_SUCCESS":var he=Object(I.a)({},e.workspaces),Ee=Object(I.a)({},e.folders);return Object.keys(he).length>0?he.hasOwnProperty(t.data.topic_id)?e:(he[t.data.topic_id]=Object(I.a)(Object(I.a)({},t.data.workspace_data),{},{active:t.data.workspace_data.topic_detail.active,channel:t.data.workspace_data.topic_detail.channel,unread_chats:t.data.workspace_data.topic_detail.unread_chats,unread_count:t.data.workspace_data.topic_detail.unread_count,folder_id:t.data.workspace_id&&0!==t.data.workspace_id?t.data.workspace_id:null,folder_name:t.data.workspace_id&&0!==t.data.workspace_id?t.data.workspace_name:null}),delete he[t.data.topic_id].topic_detail,t.data.workspace_id&&0!==t.data.workspace_id&&Ee[t.data.workspace_id]&&(Ee[t.data.workspace_id].workspace_ids=[].concat(Object($.a)(Ee[t.data.workspace_id].workspace_ids),[t.data.topic_id])),Object(I.a)(Object(I.a)({},e),{},{workspaces:he,folders:Ee})):e;case"GET_FOLDER_SUCCESS":var _e=Object(I.a)({},e.folders);return _e[t.data.workspace_id]=Object(I.a)(Object(I.a)({},t.data.workspace_data),{},{workspace_ids:t.data.workspace_data.topics.map((function(e){return e.id}))}),Object(I.a)(Object(I.a)({},e),{},{folders:_e});case"UPDATE_WORKSPACE_COUNTER":var ge=Object(I.a)({},e.workspaces),Oe=Object(I.a)({},e.activeTopic);return Object.keys(ge).length>0&&(ge[t.data.topic_id].unread_posts=t.data.unread_posts,t.data.folder_id&&(ge[t.data.folder_id].unread_count=t.data.unread_count),e.activeTopic&&e.activeTopic.id===t.data.topic_id&&(Oe.unread_posts=t.data.unread_posts)),Object(I.a)(Object(I.a)({},e),{},{workspaces:ge,activeTopic:Oe});case"INCOMING_DELETED_FILES":var Ae=Object(I.a)({},e.workspaces);return Ae.hasOwnProperty(t.data.topic_id)&&1===t.data.is_primary&&Ae[t.data.topic_id].hasOwnProperty("primary_files")&&(Ae[t.data.topic_id].primary_files=Ae[t.data.topic_id].primary_files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e.id}))}))),Object(I.a)(Object(I.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{primary_files:e.activeTopic.hasOwnProperty("primary_files")?e.activeTopic.primary_files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e.id}))})):[]}):e.activeTopic,workspaces:Ae});case"LEAVE_WORKSPACE":var ve=Object(I.a)({},e.workspaces);return ve.hasOwnProperty(t.data.workspace_id)&&(ve[t.data.workspace_id].members=ve[t.data.workspace_id].members.filter((function(t){return t.id!==e.user.id})),ve[t.data.workspace_id].member_ids=ve[t.data.workspace_id].member_ids.filter((function(t){return t!==e.user.id}))),Object(I.a)(Object(I.a)({},e),{},{workspaces:ve,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.workspace_id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{members:e.activeTopic.members.filter((function(t){return t.id!==e.user.id})),member_ids:e.activeTopic.member_ids.filter((function(t){return t!==e.user.id}))}):e.activeTopic});case"INCOMING_WORKSPACE_ROLE":var Ce=Object(I.a)({},e.workspaces);return Ce.hasOwnProperty(t.data.topic_id)&&(Ce[t.data.topic_id].members=Ce[t.data.topic_id].members.map((function(e){return e.id===t.data.user_id?Object(I.a)(Object(I.a)({},e),{},{workspace_role:t.data.role}):e}))),Object(I.a)(Object(I.a)({},e),{},{workspaces:Ce,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(I.a)(Object(I.a)({},e.activeTopic),{},{members:e.activeTopic.members.map((function(e){return e.id===t.data.user_id?Object(I.a)(Object(I.a)({},e),{},{workspace_role:t.data.role}):e}))}):e.activeTopic});case"INCOMING_DELETED_WORKSPACE_FOLDER":var je=Object(I.a)({},e.folders),ke=Object(I.a)({},e.workspaces),ye=e.activeTopic?Object(I.a)({},e.activeTopic):null;return je.hasOwnProperty(t.data.id)&&(Object.values(ke).forEach((function(e){e.folder_id&&e.folder_id===t.data.id&&(ke[e.id].folder_id=null,ke[e.id].folder_name=null,ye&&ye.id===e.id&&(ye.folder_id=null,ye.folder_name=null))})),delete je[t.data.id]),Object(I.a)(Object(I.a)({},e),{},{activeTopic:ye,workspaces:ke,folders:je});case"SET_WORKSPACE_TO_DELETE":return Object(I.a)(Object(I.a)({},e),{},{workspaceToDelete:t.data});case"INCOMING_EXTERNAL_USER":var Te=Object(I.a)({},e.workspaces),we=null;return Te.hasOwnProperty(t.data.current_topic.id)&&(Te[t.data.current_topic.id].members=Te[t.data.current_topic.id].members.map((function(e){return e.id===t.data.current_user.id?Object(I.a)(Object(I.a)({},e),t.data.current_user):e})),e.activeTopic&&e.activeTopic.id===t.data.current_topic.id&&(we=Object(I.a)(Object(I.a)({},e.activeTopic),{},{members:e.activeTopic.members.map((function(e){return e.id===t.data.current_user.id?Object(I.a)(Object(I.a)({},e),t.data.current_user):e}))}))),Object(I.a)(Object(I.a)({},e),{},{workspaces:Te,activeTopic:we});case"UPDATE_WORKSPACE_TIMELINE_PAGE":var Ne=Object(I.a)({},e.workspaceTimeline);return Ne[t.data.id].page=t.data.page,Object(I.a)(Object(I.a)({},e),{},{workspaceTimeline:Ne});default:return e}}}),cc=function(e,t){var a=e;return"LOGOUT"===t.type&&(a={}),ic(a,t)};!function(){var e=_("logger");e&&("remove"===e?localStorage.removeItem("logger"):localStorage.setItem("logger",e))}(),!!["all","console"].includes(localStorage.getItem("logger"))||g(window.location.hostname)||"localhost"===window.location.hostname?window.console.log("turn on log"):(window.console.log("turn off log"),"undefined"!=typeof window.console&&(window.console={},window.console.log=function(){},window.console.info=function(){},window.console.warn=function(){},window.console.error=function(){}));var oc=[Bi.a],lc=Object(Gi.createLogger)({predicate:function(e,t){return!!["all","reducer","axios"].includes(localStorage.getItem("logger"))||g(window.location.hostname)||"localhost"===window.location.hostname},collapsed:!0});oc=[].concat(Object($.a)(oc),[lc,Fi.a.reduxMiddleware()]);var sc=Object(Mi.createStore)(cc,Object(Ui.composeWithDevTools)(Mi.applyMiddleware.apply(void 0,Object($.a)(oc))));L.sessionService.initSessionService(sc,{redirectPath:"/login"});var dc=sc;function uc(){var e=Object(s.a)(["\n  cursor: pointer;\n  padding: 0.5rem;\n  border-bottom: 1px solid rgba(0,0,0,0.125);\n  background-color: rgba(255,255,225,0.1);\n  border-radius: 6px;\n  display: inline-block;\n  \n  a {\n    text-decoration: none;\n    \n    span {\n      &.link {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        max-width: 350px;\n        overflow: hidden;\n        display: inline-block;\n        margin-right: 0.1rem;\n        padding: 0;\n        line-height: 1.2;\n        position: relative;\n        top: 4px;\n      } \n      &.preview-text { \n        font-weight: bold;       \n        color: #828282;\n      }     \n    }\n  }\n"]);return uc=function(){return e},e}var mc=m.a.div(uc()),pc=function(e){var t=e.className,a=void 0===t?"":t,n=e.link,i=dc.getState().files.googleDriveApiFiles,c=n.match(/^(https:\/\/(drive|docs)\.google\.com\/)(file|spreadsheets|document|presentation|forms)\/d\/([^\/]+)\/.*$/)[4],o=i[c],l=0;return o&&(l=1),r.a.createElement(mc,{className:"google-drive dropdown ".concat(a)},r.a.createElement(Se,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#fff",opacity:".8"}),r.a.createElement("a",{"data-google-file-id":c,"data-google-link-retrieve":l,href:n,target:"_blank",className:"gdrive-link"},"undefined"!==typeof o?r.a.createElement(r.a.Fragment,null,o.title):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"link"},"https://docs.google.com/spreadsheets/d/1d9P2soRGZnUN54bT9FGeSxSdW_lFQ9qmjdul5mfEJCc/edit?ts=58b67f25#gid=0"),r.a.createElement("span",{className:"preview-text"},"- Connect to preview"))))};function fc(){var e=Object(s.a)(["\n  margin: 10px;\n  border-radius: 8px;\n  background: #f0f0f0;\n  padding: 10px;\n  display: block;\n  .dark & {\n    background: #191c20;\n  }\n  .mention-name {\n    color: #7a1b8b;\n  }\n  button {\n    margin-right: 10px;\n  }\n"]);return fc=function(){return e},e}var bc=m.a.div(fc()),hc=function(e){var t=e.onAddUsers,a=e.onDoNothing,n=e.userIds,i=e.type,c=void 0===i?"post":i,l=fl()._t,s=Object(o.useSelector)((function(e){return e.users.users})),d=Object.values(s).filter((function(e){return n.some((function(t){return t===e.id}))})),u={addToChat:l("MENTION.ADD_TO_CHAT","Add to chat"),addToPost:l("MENTION.ADD_TO_POST","Add to post"),addToWorkspace:l("MENTION.ADD_TO_WORKSPACE","Add to workspace"),notChatMembers:l("MENTION.NOT_CHAT_MEMBERS","but they are not members of this chat"),notWorkspaceMembers:l("MENTION.NOT_WORKSPACE_MEMBERS","but they are not members of this workspace"),notPostRecipients:l("MENTION.NOT_POST_RECIPIENTS","but they are not recipients of this post"),doNothing:l("MENTION.DO_NOTHING","Do nothing"),youMentioned:l("MENTION.YOU_MENTIONED","You mentioned"),and:l("GENERAL.AND","and")},m=u.notPostRecipients,p=u.addToPost;return"chat"===c?(m=u.notChatMembers,p=u.addToChat):"workspace"===c&&(m=u.notWorkspaceMembers,p=u.addToWorkspace),r.a.createElement(bc,null,r.a.createElement("div",null,r.a.createElement("p",null,u.youMentioned,"\xa0",d.map((function(e,t){return t===d.length-1&&d.length>1?r.a.createElement("div",{className:"mention-data"},r.a.createElement("span",{key:t,className:"mention-normal"}," ",u.and,r.a.createElement("span",{className:"mention","data-denotation-char":"@","data-id":e.type_id,"data-value":e.name},r.a.createElement("span",{className:"mention-name pointer","data-mid":e.type_id,onClick:function(e){e.stopPropagation()}},r.a.createElement("span",{className:"ql-mention-denotation-char"},"@"),e.name)))):r.a.createElement("span",{key:t,className:"mention","data-denotation-char":"@","data-id":e.type_id,"data-value":e.name},r.a.createElement("span",{className:"mention-name pointer","data-mid":e.type_id,onClick:function(e){e.stopPropagation()}},r.a.createElement("span",{className:"ql-mention-denotation-char"},"@"),e.name,","))})),"\xa0",m)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){t(d)}},p),r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){a(d)}},u.doNothing)))};function Ec(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem 0;\n  border-bottom: 1px solid #ebebeb;\n"]);return Ec=function(){return e},e}var _c=m.a.div(Ec()),gc=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.type,i=e.todoReminder,c=Object(G.a)(e,["className","type","todoReminder"]),o=sd().localizeDate,l=fl()._t,s={reminderText:l("REMINDER.REMINDER_TEXT","A reminder is set for this ::type:: on ::date::",{type:function(){switch(n){case"POST":return l("REMINDER.TYPE_POST","post");case"POST_COMMENT":return l("REMINDER.TYPE_POST_COMMENT","comment");case"CHAT_MESSAGE":return l("REMINDER.TYPE_CHAT_MESSAGE","chat message")}}(),date:i.remind_at?o(i.remind_at.timestamp):i.reminder_at?o(i.reminder_at.timestamp):""})};return r.a.createElement(_c,Object.assign({className:"".concat(a)},c),r.a.createElement(Se,{className:"mr-2",height:"16",width:"16",icon:"clock"})," ",s.reminderText)})),Oc=function(){function e(){Object(ge.a)(this,e)}return Object(Oe.a)(e,null,[{key:"generate",value:function(t){return t=e.convertColon(t)}},{key:"convertContentByTag",value:function(e,t){for(var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.querySelectorAll(t),i=0,c=n.length;i<c;i++){if(n[i].querySelectorAll("a").length>=1)return;var o,l=/:(.*?):/i,s=n[i].innerHTML.replace(">http","> http"),d=s.split(" "),u=[],m=0,p=Object(_e.a)(d);try{for(p.s();!(o=p.n()).done;){var f=o.value;switch(f){case":S":f=":worried:"}if("\u263a\ufe0f\ufe0f"===f)f="\ud83d\ude0a";else if(l.test(f))switch(f){case":thinking_face:":f="\ud83e\udd14";break;case":relaxed:":f="\ud83d\ude0a";break;default:f=le(f)}else if(f.length<=4&&f.length>=2){var b=le(f);!0!==a?b!==f&&(f=b):m!==d.length-1&&b!==f&&(f=b)}if(!0!==a&&!0===Ae(f)){var h=/^(https:\/\/(drive|docs)\.google\.com\/)(file|spreadsheets|document|presentation|forms)\/d\/([^\/]+)\/.*$/,E=/^((http|https|ftp):\/\/)/;if(h.test(f))f=Object(Ee.renderToString)(r.a.createElement(pc,{link:f}));else if(E.test(f)){var _=se(f);f=_||'<a target="_blank" href="'.concat(f,'">').concat(f,"</a>")}else f.includes("href")||f.includes("src")||(f=le(de(f)))}u.push(f),m++}}catch(g){p.e(g)}finally{p.f()}n[i].innerHTML=u.join(" ")}}},{key:"convertColon",value:function(e){var t=document.createElement("div");return t.innerHTML=e,this.convertContentByTag(t,"span",!1),this.convertContentByTag(t,"div"),this.convertContentByTag(t,"p"),this.convertContentByTag(t,"li"),t.innerHTML}},{key:"parseEmoji",value:function(e){var t=document.createElement("div");return t.innerHTML=e,this.convertContentByTag(t,"span",!1),this.convertContentByTag(t,"div",!1),this.convertContentByTag(t,"p",!1),this.convertContentByTag(t,"li",!1),t.innerHTML}},{key:"parseToText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{imageVideo:!1},a=document.createElement("DIV");return t.imageVideo?a.innerHTML=e.replace(/<img[^>]*>/g,"::image::"):a.innerHTML=e,a.textContent||a.innerText||""}},{key:"parseToTextImageVideo",value:function(e){return this.parseToText(e,{imageVideo:!0}).replace("::image::",Object(Ee.renderToString)(r.a.createElement(xe,{className:"ml-1",icon:"image-video"})))}}]),e}();function Ac(){var e=Object(s.a)(['  \n  display: inline-block;\n  position: relative;\n  margin-left: 0.5rem;\n  \n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n  \n  &:before {\n    position: absolute;\n    left: -14px;\n    top: -2px;\n    bottom: 0;\n    width: 6px;\n    height: 100%;\n    background: #ffa341;\n    content: "";\n    border-radius: 6px 0 0 6px;\n  }\n  \n  .card-body {\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n    padding: 1rem;\n  }\n']);return Ac=function(){return e},e}function vc(){var e=Object(s.a)(["\n  display: block;\n"]);return vc=function(){return e},e}var Cc=Object(m.a)(ct)(vc()),jc=m.a.a(Ac()),kc=function(e){var t=Object(d.i)(),a=Object(o.useSelector)((function(e){return e.chat.chatQuotes})),i=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),c=Object(n.useState)(null),l=Object(p.a)(c,2),s=l[0],u=l[1],m=Object(n.useState)(null),f=Object(p.a)(m,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){if(Object.keys(a).length>0){var e=Object.values(a).filter((function(e){return e.channel_id===i.id}));if(e.length){u(e[0]),e=e[0];var n="";if(e.user){var c=document.createElement("div");c.innerHTML=e.body;for(var o=c.getElementsByTagName("img"),l=0;l<o.length;l++)n+=Object(Ee.renderToString)(r.a.createElement(Cc,{className:"image-quote",target:"_blank",href:o[0].getAttribute("src"),icon:"image-video"},"Photo"));for(var s=c.getElementsByTagName("video"),d=0;d<s.length;d++)n+=Object(Ee.renderToString)(r.a.createElement(Cc,{className:"video-quote",target:"_blank",href:s[0].getAttribute("player-source"),icon:"image-video"},"Video"));e.files&&e.files.forEach((function(e){"image"===e.type?n+=Object(Ee.renderToString)(r.a.createElement(Cc,{className:"image-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Photo")):"video"===e.type?n+=Object(Ee.renderToString)(r.a.createElement(Cc,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Video")):n+=Object(Ee.renderToString)(r.a.createElement(Cc,{target:"_blank",href:e.view_link,icon:"download"},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),n+=Oc.parseEmoji(e.body)}else if(e.body.startsWith("CHANNEL_UPDATE"))n=document.getElementById("bot-".concat(e.id)).outerHTML;else if(e.body.startsWith("POST_CREATE::")){var m=JSON.parse(e.body.replace("POST_CREATE::","")),p="";p=t&&t.workspaceId?t.folderId?"/workspace/posts/".concat(t.folderId,"/").concat(t.folderName,"/").concat(t.workspaceId,"/").concat(t.workspaceName,"/post/").concat(m.post.id,"/").concat(m.post.title):"/workspace/posts/".concat(t.workspaceId,"/").concat(t.workspaceName,"/post/").concat(m.post.id,"/").concat(m.post.title):"/posts/".concat(m.post.id,"/").concat(m.post.title);var f=Oc.parseToText(m.post.description);n=Object(Ee.renderToString)(r.a.createElement(jc,{href:p,className:"push-link","data-href":p,"data-has-link":"0","data-ctrl":"0"},r.a.createElement("b",null,m.author.first_name)," created the post ",r.a.createElement("b",null,'"',m.post.title,'"'),""!==f.trim()&&r.a.createElement("span",{className:"card card-body",dangerouslySetInnerHTML:{__html:f}})))}else n=e.body;h(n)}else u(null),h(null)}else u(null),h(null)}),[a,i]),[s,b]},yc=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current},Tc=function(e,t){var a=Object(o.useDispatch)(),r=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),i=Object(n.useRef)(e),c=yc(r),l=Object(o.useSelector)((function(e){return e.files.channelFiles}));Object(n.useEffect)((function(){i.current=e}));var s=function(){if(!1===l.hasOwnProperty(r.id)){var e={channel_id:r.id,skip:0,limit:100};a(za(e))}};Object(n.useEffect)((function(){}),[]),Object(n.useEffect)((function(){null!==c&&null!==r&&c&&c.id!==r.id&&(i.current(),t.current.focus(),s()),c||null===r||s()}),[r,c])};function wc(e,t){return y("SET_SELECTED_CHANNEL",e,t)}function Nc(e,t){return k(function(e){return"channel_date_updated"===(e=Object(I.a)({order_by:"channel_name",sort_by:"desc"},e)).order_by&&(e=Object(I.a)(Object(I.a)({},e),{},{order_by:"updated_at"})),F({method:"GET",url:"/v2/post-channels?".concat(C(e))})}(e),"GET_CHANNELS_START","GET_CHANNELS_SUCCESS","GET_CHANNELS_FAIL",t)}function Sc(e,t){return k(function(e){var t="/v2/post-channels/".concat(e.id);return F({method:"PUT",url:t,data:e,is_shared:!!e.is_shared})}(e),"UPDATE_CHANNEL_START","UPDATE_CHANNEL_SUCCESS","UPDATE_CHANNEL_FAIL",t)}function xc(e,t){return y("UPDATE_CHANNEL_REDUCER",e,t)}function Ic(e,t){return k(function(e){var t=e.channel_id,a=Object(G.a)(e,["channel_id"]);return F({method:"PUT",url:"/v2/read-notification-counter/all-chat?channel_id=".concat(t),is_shared:!!e.is_shared,data:a})}(e),"MARK_READ_CHANNEL_START","MARK_READ_CHANNEL_SUCCESS","MARK_READ_CHANNEL_FAIL",t)}function Rc(e,t){return k(function(e){var t=e.channel_id,a=Object(G.a)(e,["channel_id"]);return F({method:"PUT",url:"/v2/unread-notification-counter/all-chat?channel_id=".concat(t),is_shared:!!e.is_shared,data:a})}(e),"MARK_AS_UNREAD_CHANNEL_START","MARK_AS_UNREAD_CHANNEL_SUCCESS","MARK_AS_UNREAD_CHANNEL_FAIL",t)}function Pc(e,t){return k(function(e){var t="/v2/post-channels/".concat(e.code);return F({method:"GET",url:t})}(e),"GET_CHANNEL_START","GET_CHANNEL_SUCCESS","GET_CHANNEL_FAIL",t)}function Dc(e,t){return k(function(e){return F({method:"GET",url:"/v2/last-visit-channel",data:e})}(e),"GET_LAST_VISITED_CHANNEL_START","GET_LAST_VISITED_CHANNEL_SUCCESS","GET_LAST_VISITED_CHANNEL_FAILURE",t)}function Lc(e,t){return y("UPDATE_MEMBER_TIMESTAMP",e,t)}function Fc(e,t){return y("ADD_TO_CHANNELS",e,t)}function Mc(e,t){return k(function(e){var t=e.channel_id,a=e.skip,n=e.limit,r=e.topic_id,i=Object(G.a)(e,["channel_id","skip","limit","topic_id"]),c="/v2/post-channel-messages?channel_id=".concat(t,"&skip=").concat(a,"&limit=").concat(n);return e.is_shared_topic&&(c+="&topic_id=".concat(r)),F({method:"GET",url:c,is_shared:!!e.topic_id,data:i})}(e),"GET_CHAT_MESSAGES_START","GET_CHAT_MESSAGES_SUCCESS","GET_CHAT_MESSAGES_FAILURE",t)}function Uc(e,t){return y("MARK_ALL_MESSAGES_AS_READ",e,t)}function Gc(e,t){return k(function(e){return F({method:"POST",url:"/v2/post-channel-messages",data:e,is_shared:!!e.topic_id})}(e),"CREATE_CHAT_MESSAGE_START","CREATE_CHAT_MESSAGE_SUCCESS","CREATE_CHAT_MESSAGE_FAILURE",t)}function Bc(e,t){return k(function(e){var t="/v2/post-channel-messages/".concat(e.message_id);return F({method:"PUT",url:t,data:e,is_shared:!!e.topic_id})}(e),"UPDATE_CHAT_MESSAGE_START","UPDATE_CHAT_MESSAGE_SUCCESS","UPDATE_CHAT_MESSAGE_FAILURE",t)}function Hc(e,t){return y("INCOMING_CHAT_MESSAGE",e,t)}function Wc(e,t){return y("INCOMING_CHAT_MESSAGE_FROM_OTHERS",e,t)}function Qc(e,t){return y("INCOMING_ARCHIVED_CHANNEL",e,t)}function Yc(e,t){return k(function(e){return F({method:"POST",url:"/v2/post-message-react",data:e,is_shared:!!e.is_shared})}(e),"CHAT_REACTIONS_START","CHAT_REACTIONS_SUCCESS","CHAT_REACTIONS_FAILURE",t)}function zc(e,t){return y("INCOMING_CHAT_MESSAGE_REACTION",e,t)}function Vc(e,t){return y("SET_CHANNEL_HISTORICAL_POSITION",e,t)}function Kc(e,t){return y("INCOMING_UPDATED_CHAT_MESSAGE",e,t)}function qc(e,t){return y("SET_EDIT_CHAT_MESSAGE",e,t)}function Jc(e,t){return k(function(e){var t="/v2/post-channel-messages/".concat(e.message_id);return F({method:"DELETE",url:t,data:e,is_shared:!!e.is_shared})}(e),"DELETE_CHAT_MESSAGE_START","DELETE_CHAT_MESSAGE_SUCCESS","DELETE_CHAT_MESSAGE_FAILURE",t)}function Zc(e,t){return y("INCOMING_DELETED_CHAT_MESSAGE",e,t)}function Xc(e,t){return y("ON_CLICK_SEND_BUTTON",e,t)}function $c(e,t){return y("ADD_QUOTE",e,t)}function eo(e,t){return y("CLEAR_QUOTE",e,t)}function to(e,t){return k(function(e){return F({method:"POST",url:"/v2/set-reminder",data:e})}(e),"SET_CHAT_REMINDER_START","SET_CHAT_REMINDER_SUCCESS","SET_CHAT_REMINDER_FAILURE",t)}function ao(e,t){return k(function(e){return F({method:"GET",url:"/v1/drafts?draft_type=channel",data:e})}(e),"GET_CHANNEL_DRAFTS_START","GET_CHANNEL_DRAFTS_SUCCESS","GET_CHANNEL_DRAFTS_FAILURE",t)}function no(e,t){return k(function(e){return F({method:"POST",url:"/v2/chat-channel/create",data:e})}(e),"CREATE_NEW_CHAT_START","CREATE_NEW_CHAT_SUCCESS","CREATE_NEW_CHAT_FAILURE",t)}function ro(e,t){return y("RENAME_CHANNEL_KEY",e,t)}function io(e,t){return k(function(e){return F({method:"PUT",url:"/v2/chat-channel/update",data:e})}(e),"EDIT_CHANNEL_DETAIL_START","EDIT_CHANNEL_DETIL_SUCCESS","EDIT_CHANNEL_DETAIL_FAILURE",t)}function co(e,t){return y("INCOMING_UPDATED_CHANNEL_DETAIL",e,t)}function oo(e,t){return k(function(e){return F({method:"POST",url:"/v2/search-post-channels",data:e})}(e),"SEARCH_EXISTING_CHAT_START","SEARCH_EXISTING_CHAT_SUCCESS","SEARCH_EXISTING_CHAT_FAILURE",t)}function lo(e,t){return k(function(e){return F({method:"PUT",url:"/v2/bot-marked-completed",data:e})}(e),"MARK_REMINDER_COMPLETE_START","MARK_REMINDER_COMPLETE_SUCCESS","MARK_REMINDER_COMPLETE_FAILURE",t)}function so(e,t){return k(function(e){return F({method:"POST",url:"/v2/post-channel-members",data:e})}(e),"ADD_CHANNEL_MEMBERS_START","ADD_CHANNEL_MEMBERS_SUCCESS","ADD_CHANNEL_MEMBERS_FAILURE",t)}function uo(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/post-channel-members",data:e})}(e),"DELETE_CHANNEL_MEMBERS_START","DELETE_CHANNEL_MEMBERS_SUCCESS","DELETE_CHANNEL_MEMBERS_FAILURE",t)}function mo(e,t){return k(function(e){var t="/v2/post-channel-members?channel_id=".concat(e.channel_id);return F({method:"GET",url:t})}(e),"GET_CHAT_MEMBERS_START","GET_CHAT_MEMBERS_SUCCESS","GET_CHAT_MEMBERS_FAILURE",t)}function po(e,t){return y("UPDATE_CHANNEL_MEMBERS_TITLE",e,t)}function fo(e,t){return y("SAVE_LAST_VISITED_CHANNEL",e,t)}function bo(e,t){return y("UNREAD_CHANNEL_REDUCER",e,t)}function ho(e,t){return y("READ_CHANNEL_REDUCER",e,t)}function Eo(e,t){return k(function(e){return F({method:"GET",url:"/v2/workspace-channels?".concat(C(e))})}(e),"GET_WORKSPACE_CHANNELS_START","GET_WORKSPACE_CHANNELS_SUCCESS","GET_WORKSPACE_CHANNELS_FAIL",t)}function _o(e,t){return y("DELETE_POST_NOTIFICATION",e,t)}function go(e,t){return y("INCOMING_POST_NOTIFICATION_MESSAGE",e,t)}var Oo=function(e,t,a,r,i){var c=Object(o.useDispatch)(),l=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),s=Object(o.useSelector)((function(e){return e.chat.channelDrafts})),d=yc(l),u=Object(n.useRef)(e);Object(n.useEffect)((function(){u.current=e}));var m=function(){if(l&&Object.keys(s).length>0&&s.hasOwnProperty(l.id)){var e=Object(I.a)({},s[l.id]);u.current(e)}else u.current(null)},p=function(e){if(""!==r.trim()){var n={draft_type:t,type:t,created_at:{timestamp:Math.floor(Date.now()/1e3)}};"channel"===t&&(n=Object(I.a)(Object(I.a)({},n),{},{text:a,channel_id:e})),i?(n=Object(I.a)(Object(I.a)({},n),{},{draft_id:i}),console.log(n),c(Qr(n)),c(function(e,t){return y("ADD_TO_CHANNEL_DRAFTS",e,t)}(n))):c(Wr(n))}};Object(n.useEffect)((function(){return 0===Object.keys(s).length&&c(ao()),m(),function(){return p()}}),[]),Object(n.useEffect)((function(){null!==d&&null!==l&&d&&d.id!==l.id&&(p(d.id),m()),null===d&&null!==l&&m()}),[l,d,m,p])},Ao=function(e,t,a,r){var i=Object(n.useRef)(e);Object(n.useEffect)((function(){i.current=e}));var c=Object(o.useDispatch)(),l=Object(o.useSelector)((function(e){return e.global.modals})),s=Object(o.useSelector)((function(e){return e.global.dataFromInput}));Object(n.useEffect)((function(){null!==s&&(void 0!==s.sent&&!0===s.sent?(i.current(),c(Kr())):void 0!==s.sent&&!1===s.sent&&c(Kr()))}),[s]),Object(n.useEffect)((function(){if(Object.keys(l).length&&l.hasOwnProperty("file_upload")){var e={text:t,textOnly:a,quillContents:r};""!==a.trim()&&c(Vr(e))}}),[Object.keys(l).length,a])},vo=function(e){var t=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),a=Object(o.useSelector)((function(e){return e.session.user})),r=Object(n.useState)([]),i=Object(p.a)(r,2),c=i[0],l=i[1],s=yc(t),d=Object(n.useRef)(null),u=Object(n.useRef)(c);Object(n.useEffect)((function(){u.current=c}));var m=function(e){if(t.id===e.channel_id&&(clearTimeout(d.current),d.current=setTimeout((function(){console.log("clear",c),l([])}),3e3),e.user.id!==a.id))if(u.current.length){var n=!1;u.current.forEach((function(t){t.id===e.user.id&&(n=!0)})),n||l([].concat(Object($.a)(u.current),[e.user]))}else l([e.user])},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;l([]),t.is_shared?window[t.slug_owner]&&(e&&window[t.slug_owner].leave(t.slug_owner+".App.Channel."+e),window[t.slug_owner].private(t.slug_owner+".App.Channel."+t.id).listenForWhisper("typing",(function(e){m(e)}))):window.Echo&&(e&&window.Echo.leave(localStorage.getItem("slug")+".App.Channel."+e),window.Echo.private(localStorage.getItem("slug")+".App.Channel."+t.id).listenForWhisper("typing",(function(e){m(e)})))};if(Object(n.useEffect)((function(){null!==s&&null!==t&&s&&s.id!==t.id&&f(s.id),void 0!==s&&null!==s||null===t||f()}),[t,s,c]),c.length){var b=c.map((function(e){return e.first_name})).slice(0,3).join(", ");return c.length>3&&(b+="and others"),[c,b]}return[c,null]},Co=function(e){var t=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),a=0;return null!==t&&t.replies&&t.replies.length&&(a=t.replies.filter((function(e){return!e.is_read})).length),a},jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(o.useSelector)((function(e){return e.session.user})),a=Object(n.useState)(null),r=Object(p.a)(a,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){if(e.length>0){c(e.some((function(e){return e===t.id})))}else c(!1)}),[e]),i};function ko(e,t){return k(function(e){return F({method:"PATCH",url:"/v1/mark-done",data:e,is_shared:!!e.is_shared})}(e),"POST_MARK_DONE_START","POST_MARK_DONE_SUCCESS","POST_MARK_DONE_FAIL",t)}function yo(e,t){return k(function(e){return F({method:"POST",url:"/v2/post-toggle-archived",data:e,is_shared:!!e.is_shared})}(e),"POST_ARCHIVE_START","POST_ARCHIVE_SUCCESS","POST_ARCHIVE_FAIL",t)}function To(e,t){return y("REMOVE_POST",e,t)}function wo(e,t){return k(function(e){return F({method:"POST",url:"/v2/post-toggle-unread",data:e,is_shared:!!e.is_shared})}(e),"POST_TOGGLE_READ_START","POST_TOGGLE_READ_SUCCESS","POST_TOGGLE_READ_FAIL",t)}function No(e,t){return k(function(e){return F({method:"PATCH",url:"/v1/follows?post_id=".concat(e.post_id),data:e,is_shared:!!e.is_shared})}(e),"POST_FOLLOW_START","POST_FOLOW_SUCCESS","POST_FOLOW_FAIL",t)}function So(e,t){return k(function(e){return F({method:"DELETE",url:"/v1/follows?post_id=".concat(e.post_id),data:e,is_shared:!!e.is_shared})}(e),"POST_UNFOLLOW_START","POST_UNFOLOW_SUCCESS","POST_UNFOLOW_FAIL",t)}function xo(e,t){return k(function(e){return F({method:"POST",url:"/v1/snooze-post",data:e})}(e),"POST_SNOOZE_START","POST_SNOOZE_SUCCESS","POST_SNOOZE_FAIL",t)}function Io(e,t){return k(function(e){return F({method:"POST",url:"/v1/posts",data:e})}(e),"POST_CREATE_START","POST_CREATE_SUCCESS","POST_CREATE_FAIL",t)}function Ro(e,t){return k(function(e){return F({method:"POST",url:"/v2/company/posts",data:e})}(e),"POST_COMPANY_POSTS_START","POST_COMPANY_POSTS_SUCCESS","POST_COMPANY_POSTS_FAIL",t)}function Po(e,t){return k(function(e){var t="/v2/company/posts/".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"PUT_COMPANY_POSTS_START","PUT_COMPANY_POSTS_SUCCESS","PUT_COMPANY_POSTS_FAIL",t)}function Do(e,t){return k(function(e){return F({method:"POST",url:"/v1/messages",data:e})}(e),"POST_COMMENT_START","POST_COMMENT_SUCCESS","POST_COMMENT_FAIL",t)}function Lo(e,t){return k(function(e){return F({method:"GET",url:e.url})}(e),"FETCH_COMMENTS_START","FETCH_COMMENTS_SUCCESS","FETCH_COMMENTS_FAIL",t)}function Fo(e,t){return y("SET_EDIT_POST_COMMENT",e,t)}function Mo(e,t){return k(function(e){var t="/v1/messages/".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"UPDATE_COMMENT_START","UPDATE_COMMENT_SUCCESS","UPDATE_COMMENT_FAIL",t)}function Uo(e,t){return k(function(e){var t="/v1/posts/".concat(e.id);return F({method:"DELETE",url:t,data:e})}(e),"DELETE_POST_START","DELETE_POST_SUCCESS","DELETE_POST_FAIL",t)}function Go(e,t){return y("SET_PARENT_ID",e,t)}function Bo(e,t){return y("INCOMING_POST_MARK_DONE",e,t)}function Ho(e,t){return k(function(e){var t="/v1/posts/".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"UPADATE_POST_START","UPADATE_POST_SUCCESS","UPADATE_POST_FAIL",t)}function Wo(e,t){return y("INCOMING_POST",e,t)}function Qo(e,t){return y("INCOMING_UPDATED_POST",e,t)}function Yo(e,t){return y("INCOMING_DELETED_POST",e,t)}function zo(e,t){return y("INCOMING_COMMENT",e,t)}function Vo(e,t){return k(function(e){return F({method:"POST",url:"/v1/post-clap",data:e})}(e),"POST_CLAP_START","POST_CLAP_SUCCESS","POST_CLAP_FAIL",t)}function Ko(e,t){return k(function(e){var t="/messages/".concat(e.id,"/reactions");return F({method:"POST",url:t,data:e})}(e),"POST_COMMENT_CLAP_START","POST_COMMENT_CLAP_SUCCESS","POST_COMMENT_CLAP_FAIL",t)}function qo(e,t){return y("INCOMING_POST_CLAP",e,t)}function Jo(e,t){return y("INCOMING_COMMENT_CLAP",e,t)}function Zo(e,t){return k(function(e){var t="/v2/workspace-dashboard-recent-posts?topic_id=".concat(e.topic_id);return F({method:"GET",url:t,data:e})}(e),"FETCH_RECENT_POSTS_START","FETCH_RECENT_POSTS_SUCCESS","FETCH_RECENT_POSTS_FAIL",t)}function Xo(e,t){return k(function(e){var t="/v2/post-tags-entries?topic_id=".concat(e.topic_id);return F({method:"GET",url:t,data:e})}(e),"FETCH_TAG_COUNTER_START","FETCH_TAG_COUNTER_SUCCESS","FETCH_TAG_COUNTER_FAIL",t)}function $o(e,t){return k(function(e){var t=e.skip,a=void 0===t?0:t,n=e.limit,r=void 0===n?100:n,i=e.search,c=void 0===i?"":i,o=e.filters,l=void 0===o?[]:o,s="/v2/company/posts?&skip=".concat(a,"&limit=").concat(r);return""!==c&&(s+="&search=".concat(c)),l.length&&l.forEach((function(e,t){s+="&filter[".concat(t,"]=").concat(e)})),F({method:"GET",url:s,data:e})}(e),"GET_COMPANY_POSTS_START","GET_COMPANY_POSTS_SUCCESS","GET_COMPANY_POSTS_FAIL",t)}function el(e,t){return y("ADD_COMPANY_POST_SEARCH_RESULT",e,t)}function tl(e,t){return k(function(e){var t="/v1/posts?topic_id=".concat(e.topic_id,"&skip=0&limit=100");if(void 0!==e.search&&(t+="&search=".concat(e.search)),void 0!==e.filters)for(var a=0;a<e.filters.length;a++)t+="&filter[".concat(a,"]=").concat(e.filters[a]);return F({method:"GET",url:t,data:e})}(e),"GET_WORKSPACE_POSTS_START","GET_WORKSPACE_POSTS_SUCCESS","GET_WORKSPACE_POSTS_FAIL",t)}function al(e,t){return y("ADD_TO_WORKSPACE_POSTS",e,t)}function nl(e,t){return k(function(e){return F({method:"POST",url:"/v1/post-viewed",data:e})}(e),"POST_VISIT_START","POST_VISIT_SUCCESS","POST_VISIT_FAIL",t)}function rl(e,t){return y("INCOMING_POST_VIEWER",e,t)}function il(e,t){return y("INCOMING_READ_UNREAD_REDUCER",e,t)}function cl(e,t){return k(function(e){return F({method:"POST",url:"/v1/post-mark-as-read",data:e})}(e),"POST_VISIT_START","POST_VISIT_SUCCESS","POST_VISIT_FAIL",t)}function ol(e,t){return k(function(e){var t="/v1/messages/".concat(e.comment_id);return F({method:"DELETE",url:t})}(e),"DELETE_COMMENT_START","DELETE_COMMENT_SUCCESS","DELETE_COMMENT_FAIL",t)}function ll(e,t){return y("INCOMING_DELETED_COMMENT",e,t)}function sl(e,t){return k(function(e){return F({method:"GET",url:"/v1/posts/".concat(e.post_id),data:e})}(e),"GET_POST_START","GET_POST_SUCCESS","GET_POST_FAIL",t)}function dl(e,t){return y("INCOMING_MARK_AS_READ",e,t)}var ul=function(){var e=us(),t=Object(o.useDispatch)(),a=Object(d.i)(),r=Object(o.useSelector)((function(e){return e.workspaces})),i=r.flipper,c=r.workspacePosts,l=Object(o.useSelector)((function(e){return e.posts.recentPosts})),s=Object(o.useSelector)((function(e){return e.session.user})),u=Object(n.useState)(!1),m=Object(p.a)(u,2),f=m[0],b=m[1];Object(n.useEffect)((function(){if(void 0!==a.workspaceId&&!c.hasOwnProperty(a.workspaceId)&&!f){b(!0);var n={topic_id:parseInt(a.workspaceId)};e.getPosts(n,(function(n,r){if(b(!1),!n){var i=r.data.posts.map((function(e){return e.files}));i.length&&(i=i.flat()),e.getTagsCount(parseInt(a.workspaceId)),t(al({topic_id:parseInt(a.workspaceId),posts:r.data.posts,files:i}))}}));e.getPosts({filters:["post","archived"],topic_id:parseInt(a.workspaceId)},(function(e,n){if(b(!1),!e){var r=n.data.posts.map((function(e){return e.files}));r.length&&(r=r.flat()),t(al({topic_id:parseInt(a.workspaceId),posts:n.data.posts,filter:n.data.posts,files:r}))}}))}}),[a]);var h=null;if(Object.keys(l).length&&l.hasOwnProperty(a.workspaceId)&&(h=l[a.workspaceId].posts),Object.keys(c).length&&c.hasOwnProperty(a.workspaceId)){var E=c[a.workspaceId].filter,_=c[a.workspaceId].sort,g=c[a.workspaceId].tag,O=c[a.workspaceId].posts,A=c[a.workspaceId].search,v=c[a.workspaceId].searchResults,C=c[a.workspaceId].count,j=null,k={all:Object.values(O).length,my_posts:Object.values(O).filter((function(e){return e.author&&e.author.id===s.id})).length,starred:Object.values(O).filter((function(e){return e.is_favourite})).length,archived:Object.values(O).filter((function(e){return e.is_archived})).length,drafts:Object.values(O).filter((function(e){return"draft_post"===e.type})).length};if(O.hasOwnProperty(a.postId)&&(j=Object(I.a)({},O[a.postId])),E||g){var y=Object.values(O).filter((function(e){return E?"my_posts"===E?!!e.hasOwnProperty("author")&&e.author.id===s.id:"draft"===E?e.hasOwnProperty("draft_type"):"star"===E?e.is_favourite:"archive"===E?1===e.is_archived:"all"===E?!e.is_archived:void 0:!g||("is_must_reply"===g?e.is_must_reply&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_must_read"===g?e.is_must_read&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_read_only"!==g||e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type"))})).sort((function(e,t){return"favorite"===_?e.is_favourite===t.is_favourite?0:e.is_favourite?-1:1:"unread"===_?e.is_updated===t.is_updated?0:e.is_updated?1:-1:t.created_at.timestamp>e.created_at.timestamp?1:-1}));return C&&(C.is_must_reply=Object.values(O).filter((function(e){return e.is_must_reply&&e.is_must_reply&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,C.is_must_read=Object.values(O).filter((function(e){return e.is_must_read&&e.is_must_read&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,C.is_read_only=Object.values(O).filter((function(e){return e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length),v.length>0&&A?y=y.filter((function(e){return v.some((function(t){return e.id===t.id}))})):0===v.length&&A&&(y=[]),{actions:e,posts:y,filter:E,tag:g,sort:_,post:j,search:A,user:s,recentPosts:h,count:C,counters:k}}var T=Object.values(c[a.workspaceId].posts);return T=v.length&&A?T.filter((function(e){return v.some((function(t){return e.id===t.id}))})).filter((function(e){return!e.hasOwnProperty("draft_type")&&0===e.is_archived})).sort((function(e,t){return"favorite"===_?e.is_favourite===t.is_favourite?0:e.is_favourite?-1:1:"unread"===_?e.is_updated===t.is_updated?0:e.is_updated?1:-1:t.created_at.timestamp>e.created_at.timestamp?1:-1})):0===v.length&&A?[]:T.filter((function(e){return!e.hasOwnProperty("draft_type")&&0===e.is_archived})).sort((function(e,t){return"favorite"===_?e.is_favourite===t.is_favourite?0:e.is_favourite?-1:1:"unread"===_?e.is_updated===t.is_updated?0:e.is_updated?1:-1:t.created_at.timestamp>e.created_at.timestamp?1:-1})),{flipper:i,actions:e,posts:T,filter:null,tag:null,sort:null,post:j,search:A,user:s,recentPosts:h,count:C,counters:k}}return{flipper:i,actions:e,posts:null,filter:null,tag:null,sort:null,post:null,search:null,user:s,recentPosts:h,count:{is_must_reply:0,is_must_read:0,is_read_only:0},counters:{all:0,my_posts:0,starred:0,archived:0,drafts:0}}},ml={dict:"i18n",lang:"i18n_lang",name:"i18n_ver"},pl=!1,fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(o.useDispatch)(),a=Z(),r=a.registeredDriff,i=Sl(),c=i.driffSettings,l=i.generalSettings.language,s=i.setGeneralSetting,d=Object(o.useSelector)((function(e){return e.global})),u=d.i18n,m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],h=f[1],E="https://{{driffName}}.driff.io/api/lang",_=r?E.replace("{{driffName}}",r):E.replace("{{driffName}}.",""),g={main:(navigator.language||navigator.userLanguage).split("-")[0],exact:navigator.language||navigator.userLanguage};Object(n.useEffect)((function(){pl||!e.checked||e.authenticated&&null===l||(pl=!0,localStorage.removeItem("i18n.28082020"),localStorage.removeItem("i18n_lang.28082020"),ml.ver=c.i18n,localStorage.getItem(ml.name)!==ml.ver&&(localStorage.removeItem(ml.dict),localStorage.removeItem(ml.lang),localStorage.setItem(ml.name,ml.ver)),h(l?"".concat(_,"/").concat(l):"".concat(_,"/").concat(g.exact)))})),Object(n.useEffect)((function(){b&&t(Zr({url:b},(function(e,t){e&&console.log(e,b,"error loading dictionary file"),t&&(0===t.data.length?b==="".concat(_,"/").concat(g.exact)?h("".concat(_,"/").concat(g.main)):b==="".concat(_,"/").concat(g.main)&&h("".concat(_,"/en")):s({language:b.split("/").pop()}))})))}),[t,b,_]);var O=Object(n.useCallback)((function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=a;if(null!==e&&"undefined"!==typeof e[t]&&(r=e[t]),null!==n)for(var i in n)if(n.hasOwnProperty(i)){var c=new RegExp("::"+i+"::","ig");r=null===n[i]?r.replace(c,""):r.replace(c,n[i])}return S()?"** ".concat(r," **"):r})),A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object(o.useDispatch)(),i=Object(o.useSelector)((function(e){return e.global.i18n})),c=Object(n.useState)(t),l=Object(p.a)(c,2),s=l[0],d=l[1];return Object(n.useEffect)((function(){null!==i&&"undefined"!==typeof i[e]||r(Jr(Object(Hi.a)({},e,t))),d(O(i,e,t,a))}),[r,i,e,t,a]),s},C=Object(n.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="".concat(_,"/").concat(e);!1!==v(n,!1)&&(t(Zr({url:n},(function(e,t){e&&console.log(e),t&&a&&a()}))),s({language:e}))}),[]),j=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=[],n="You are about to add the following words to the dictionary files, continue?";n+="<table>",Object.keys(u).forEach((function(e){n+="<tr>",n+="<td>".concat(e,"</td>"),n+="<td>".concat(u[e],"</td>"),n+="</tr>",a.push(Object(Hi.a)({},e,u[e]))}));var r=function(){t(Xr(a,e))},i={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:n+="</table>",size:"lg",actions:{onSubmit:r}};t(Br(i))}),[u]);return Object(n.useEffect)((function(){localStorage.setItem(ml.dict,JSON.stringify(u))}),[u]),Object(n.useEffect)((function(){localStorage.setItem(ml.lang,l)}),[l]),{init:pl,_t:A,setLocale:C,uploadTranslationToServer:j}};function bl(e,t){return k(function(e){return M({method:"GET",url:"/comp-settings",data:e})}(e),"GET_DRIFF_COMP_SETTINGS_START","GET_DRIFF_COMP_SETTINGS_SUCCESS","GET_DRIFF_COMP_SETTINGS_FAIL",t)}function hl(e,t){return k(function(e){return F({method:"GET",url:"/v1/settings",data:e})}(e),"GET_DRIFF_SETTINGS_START","GET_DRIFF_SETTINGS_SUCCESS","GET_DRIFF_SETTINGS_FAIL",t)}function El(e,t){return k(function(e){return F({method:"GET",url:"/v2/user-settings",data:e})}(e),"GET_USER_SETTINGS_START","GET_USER_SETTINGS_SUCCESS","GET_USER_SETTINGS_FAIL",t)}function _l(e,t){return k(function(e){return F({method:"PUT",url:"/v2/user-settings",data:e})}(e),"UPDATE_SETTINGS_START","UPDATE_SETTINGS_SUCCESS","UPDATE_SETTINGS_FAILURE",t)}function gl(e,t){return y("UPDATE_USER_GENERAL_SETTING",e,t)}function Ol(e,t){return k(function(e){return F({method:"PUT",url:"/v2/company/update-name",data:e})}(e),"PUT_COMPANY_UPDATE_NAME_START","PUT_COMPANY_UPDATE_NAME_SUCCESS","PUT_COMPANY_UPDATE_NAME_FAIL",t)}function Al(e,t){return y("INCOMING_UPDATE_COMPANY_NAME",e,t)}function vl(e,t){return y("UPDATE_COMPANY_POST_ANNOUNCEMENT",e,t)}function Cl(e,t){return k(function(e){var t="/v2/notification-counter?skip=".concat(e.skip,"&limit=").concat(e.limit);return F({method:"GET",url:t,data:e})}(e),"GET_NOTIFICATIONS_START","GET_NOTIFICATIONS_SUCCESS","GET_NOTIFICATIONS_FAIL",t)}function jl(e,t){return k(function(e){var t="/v2/notification-counter/".concat(e.id);return F({method:"PATCH",url:t,data:e})}(e),"PATCH_NOTIFICATION_START","PATCH_NOTIFICATION_SUCCESS","PATCH_NOTIFICATION_FAIL",t)}function kl(e,t){return k(function(e){var t="/v2/unread-notification-counter?notification_id=".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"UNREAD_NOTIFICATION_START","UNREAD_NOTIFICATION_SUCCESS","UNREAD_NOTIFICATION_FAIL",t)}function yl(e,t){return k(function(e){return F({method:"PUT",url:"/v2/notification-counter-all-read",data:e})}(e),"READ_ALL_NOTIFICATION_START","READ_ALL_NOTIFICATION_SUCCESS","READ_ALL_NOTIFICATION_FAIL",t)}function Tl(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/notification-counter/".concat(e.id)})}(e),"DELETE_NOTIFICATION_START","DELETE_NOTIFICATION_SUCCESS","DELETE_NOTIFICATION_FAIL",t)}function wl(e,t){return k(F({method:"DELETE",url:"/v2/notification-counter-all-delete"}),"DELETE_ALL_NOTIFICATION_START","DELETE_ALL_NOTIFICATION_SUCCESS","DELETE_ALL_NOTIFICATION_FAIL",t)}function Nl(e,t){return y("SET_PUSH_NOTIFICATION",e,t)}var Sl=function(){var e=Object(o.useDispatch)(),t=cd(),a=Object(o.useSelector)((function(e){return e.settings})),i=a.driff,c=a.user,l=Object(o.useSelector)((function(e){return e.session})).user,s=Object(n.useState)(!1),d=Object(p.a)(s,2),u=d[0],m=d[1],f=Object(n.useState)(!1),b=Object(p.a)(f,2),h=b[0],E=b[1],_=Object(n.useState)(!1),g=Object(p.a)(_,2),O=g[0],A=g[1],v=Object(n.useCallback)((function(t){e(function(e,t){return y("UPDATE_USER_CHAT_SETTING",e,t)}(t,(function(){var a={disable_sound:"0",chat_settings:Object(I.a)(Object(I.a)({},c.CHAT_SETTINGS),t),general_settings:Object(I.a)({},c.GENERAL_SETTINGS)};e(_l(a))})))}),[e,c]),C=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(gl(t,(function(){var n={disable_sound:"0",chat_settings:Object(I.a)({},c.CHAT_SETTINGS),general_settings:Object(I.a)(Object(I.a)({},c.GENERAL_SETTINGS),t)};l&&e(_l(n,a))})))}),[e,c]),j=Object(n.useCallback)((function(){var t,a;e(_l({read_announcement:1})),e(y("UPDATE_READ_ANNOUNCEMENT",t,a))}),[e,c]),k=Object(n.useCallback)((function(){i.isSettingsLoaded||u||(m(!0),e(hl({},(function(){m(!1)}))))}),[e,i.isSettingsLoaded,m,u]),T=Object(n.useCallback)((function(){i.isCompSettingsLoaded||h||(E(!0),e(bl({},(function(){E(!1)}))))}),[e,i.isCompSettingsLoaded,E,h]),w=Object(n.useCallback)((function(){c.isLoaded||O||(A(!0),e(El(),(function(){A(!1)})))}),[e,!i.isSetting,A,O]),N=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=c.GENERAL_SETTINGS.personal_links;n.push(e),C({personal_links:n},(function(n,i){t.success(r.a.createElement(r.a.Fragment,null,"You personal link ",e.name," is successfully created!")),a(n,i)}))},S=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=c.GENERAL_SETTINGS.personal_links;n[e.index]=e,C({personal_links:n},(function(n,i){t.success(r.a.createElement(r.a.Fragment,null,"You personal link ",e.name," is successfully updated!")),a(n,i)}))},x=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=c.GENERAL_SETTINGS.personal_links;n.splice(e.index,1),C({personal_links:n},(function(n,i){t.success(r.a.createElement(r.a.Fragment,null,"You have deleted ",r.a.createElement("b",null,e.name)," personal link!")),a(n,i)}))},R=Object(n.useCallback)((function(e,t){P("personal_link_delete",e,t)}),[]),P=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};switch(t){case"personal_link_create":r={type:"personal_link_create_edit",mode:"create",item:a,actions:{create:N}};break;case"personal_link_edit":r={type:"personal_link_create_edit",mode:"edit",item:a,actions:{update:S,delete:R}};break;case"personal_link_delete":r={type:"confirmation",headerText:n.dictionary.removeLink,submitText:n.dictionary.remove,cancelText:n.dictionary.cancel,bodyText:n.dictionary.removeLinkBodyText,actions:{onSubmit:function(){x(a,n.callback)}}};break;case"modal":default:r=a}e(Br(r))}),[e]),D=Object(n.useCallback)((function(t){e(Nl(t))}),[e]);return{init:function(){T()},fetch:k,fetchUserSettings:w,updateCompanyName:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};i.company_name===a.company_name?t.success("No update made."):e(Ol(a,(function(e,i){e&&t.error(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,a.company_name)," can't be used.")),i&&t.success("You have updated the company name to ".concat(a.company_name)),n(e,i)})))},userSettings:c,driffSettings:i,chatSettings:c.CHAT_SETTINGS,generalSettings:Object(I.a)(Object(I.a)({},c.GENERAL_SETTINGS),{},{date_picker_format:c.GENERAL_SETTINGS.date_format.replace("YYYY","y").replace("DD","d"),time_picker_format:c.GENERAL_SETTINGS.time_format.replace("A","a")}),setChatSetting:v,setGeneralSetting:C,setPushSubscription:D,setReadAnnouncement:j,showModal:P}},xl=function(e){var t=Object(n.useCallback)((function(){"input"===document.activeElement.tagName.toLowerCase()||document.activeElement.classList.contains("ql-editor")&&!document.activeElement.classList.contains("chat-bubble")||document.getElementsByClassName("modal-open").length||e&&e.focus()}),[e]);Object(n.useEffect)((function(){return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}),[t])},Il=function(){var e=Object(o.useDispatch)(),t=Sl().chatSettings,a=fl()._t,i=cd(),c=Object(d.g)(),l=Object(o.useSelector)((function(e){return e.global.slugs})),s={toasterGeneraError:a("TOASTER.GENERAL_ERROR","An error has occurred try again!"),createChannel:a("TOASTER.CHANNEL_CREATE_SUCCESS","Channel ::channel_title:: is successfully created."),updateChannel:a("TOASTER.CHANNEL_UPDATE_SUCCESS","Channel ::channel_title:: is successfully modified.")},u=Object(n.useCallback)((function(e){return e.hasOwnProperty("is_shared")&&e.is_shared&&l.length?{is_shared:!0,token:l.filter((function(t){return t.slug_name===e.slug_owner}))[0].access_token,slug:l.filter((function(t){return t.slug_name===e.slug_owner}))[0].slug_name}:{}}),[l]),m=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Pc({code:t},a))}),[e]),p=Object(n.useCallback)((function(t,a){e(no(t,(function(e,n){e&&i.success(s.toasterGeneraError),n&&i.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:s.createChannel.replace("::channel_title::","<b>".concat(t.title,"</b>"))}})),a(e,n)})))}),[e]),f=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(I.a)({},t);p({title:"",type:"person",recipient_ids:t.recipient_ids},(function(t,r){if(t&&console.log(t),r){var i=Math.round(+new Date/1e3),c=Object(I.a)(Object(I.a)({},r.data.channel),{},{old_id:n.id,code:r.data.code,selected:!0,hasMore:!1,isFetching:!1,skip:0,replies:[],created_at:{timestamp:i},last_reply:null,title:r.data.channel.profile.name});e(ro(c,(function(e){e&&console.log(e),a(e,{data:c})})))}}))}),[e,p]),b=Object(n.useCallback)((function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r={is_pinned:t.is_pinned,is_muted:t.is_muted,is_archived:t.is_archived};r=Object(I.a)(Object(I.a)(Object(I.a)({},r),a),u(t)),e(Sc(r,(function(r){var i=Object(I.a)(Object(I.a)({},t),a);e(xc(i,(function(){n(r,{data:i})})))})))}),[e,l]),h=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_archived:!0};b(e,a,t)}),[b]),E=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_archived:!1,push_unarchived:1};b(e,a,t)}),[b]),_=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_pinned:!0};b(e,a,t)}),[b]),g=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_pinned:!1};b(e,a,t)}),[b]),O=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_muted:!0};b(e,a,t)}),[b]),A=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_muted:!1};b(e,a,t)}),[b]),v=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_hidden:!0};b(e,a,t)}),[b]),C=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_hidden:!1};b(e,a,t)}),[b]),j=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};"undefined"===typeof t?console.log(t,"channel not found"):t.hasOwnProperty("add_user")&&!0===t.add_user?f(Object(I.a)(Object(I.a)({},t),{},{selected:!0}),(function(e,t){var a=t.data;c.push("/chat/".concat(a.code))})):"DIRECT"===t.type&&2===t.members.length&&t.is_archived?(E(t,(function(t,n){var r=n.data;e(wc(n.data,(function(){a(r)})))})),c.push("/chat/".concat(t.code))):(e(wc(Object(I.a)(Object(I.a)({},t),{},{selected:!0}))),a(t),c.push("/chat/".concat(t.code)))}),[e,f,E]),T=Object(n.useCallback)((function(a){var n=a.skip,r=void 0===n?0:n,i=a.limit,c=void 0===i?20:i,o=Object(G.a)(a,["skip","limit"]),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},s=Object(I.a)(Object(I.a)({},o),{},{skip:r,limit:c,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()});e(Nc(s,l))}),[e,t.order_channel.order_by,t.order_channel.sort_by]),w=Object(n.useCallback)((function(a){var n=a.skip,r=void 0===n?0:n,i=a.limit,c=void 0===i?20:i,o=Object(G.a)(a,["skip","limit"]),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},s=Object(I.a)(Object(I.a)({},o),{},{skip:r,limit:c,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()});e(Nc(s,(function(e,t){e&&console.log(e),t&&t.data.results.length===c&&w(Object(I.a)(Object(I.a)({},s),{},{skip:s.skip+c})),l(e,t)})))}),[e,t.order_channel.order_by,t.order_channel.sort_by]),N=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(fo(t,a))}),[e]),S=Object(n.useCallback)((function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(Vc({channel_id:t,scrollPosition:a.scrollHeight-a.scrollTop},n))}),[e]),x=Object(n.useCallback)((function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return k(B(e),"GET_GLOBAL_RECIPIENTS_START","GET_GLOBAL_RECIPIENTS_SUCCESS","GET_GLOBAL_RECIPIENTS_FAILURE",t)}({},t))}),[e]),R=Object(n.useCallback)((function(t){e(ao({},t))}),[e]),P=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(mo({channel_id:t},a))}),[e]),D=Object(n.useCallback)((function(t,a){e(Ic(Object(I.a)({channel_id:t.id},u(t)),(function(n,r){a&&a(),n||"TOPIC"===t.type&&e(ho({id:t.entity_id,count:t.replies.filter((function(e){return!e.is_read})).length}))})))}),[e]),L=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Rc(Object(I.a)({channel_id:t.id},u(t)),a))}),[e]),F=Object(n.useCallback)((function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(oo({title:t,search_recipient_ids:a},n))}),[e]),M=Object(n.useCallback)((function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(so({channel_id:t,recipient_ids:a},n))}),[e]),U=Object(n.useCallback)((function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(uo({channel_id:t,recipient_ids:a},n))}),[e]),H=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(io(t,(function(e,n){e&&i.success(s.toasterGeneraError),n&&i.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:s.updateChannel.replace("::channel_title::","<b>".concat(t.title,"</b>"))}})),a(e,n)})))}),[e]),W=Object(n.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Dc({},(function(e,a){a?m(a.data.code,(function(e,a){if(a){var n=a.data;N(a.data,(function(){t(null,{data:n})}))}else t(e,null)})):t(e,null)})))}),[e,m,N]),Q=Object(n.useCallback)((function(t){t.skip,t.limit,Object(G.a)(t,["skip","limit"]);e(Eo({skip:0,limit:100}))}),[e]),Y=Object(n.useCallback)((function(t,a){var n={id:t.id,status:a};e(function(e,t){return y("SET_FETCHING_MESSAGES",e,t)}(n))}),[e]);return{create:p,createByUserChannel:f,fetchAll:w,fetch:T,fetchNoChannelUsers:x,fetchByCode:m,fetchDrafts:R,fetchMembersById:P,fetchLastVisited:W,fetchWorkspaceChannels:Q,saveHistoricalPosition:S,saveLastVisited:N,select:j,archive:h,unArchive:E,updateStatus:b,pin:_,unPin:g,mute:O,unMute:A,hide:v,unHide:C,markAsRead:D,markAsUnRead:L,searchExisting:F,addMembers:M,deleteMembers:U,update:H,fetchingMessages:Y}},Rl=!0,Pl=function(){var e=Object(o.useSelector)((function(e){return e.chat})),t=e.channels,a=e.selectedChannel,r=e.channelsLoaded,i=e.lastVisitedChannel,c=Il();return Object(n.useEffect)((function(){Rl&&(Rl=!1,c.fetchAll({skip:0,limit:100}),c.fetchAll({skip:0,limit:20,filter:"hidden"}),c.fetchAll({skip:0,limit:20,filter:"archived"}),c.fetchWorkspaceChannels({}))}),[]),{actions:c,channels:t,selectedChannel:a,lastVisitedChannel:i,channelsLoaded:r}},Dl=!0,Ll=function(){var e=Pl(),t=e.channels,a=e.actions,r=ds(),i=r.actions,c=Object(G.a)(r,["actions"]),o=Object(n.useRef)({});for(var l in t)if(t.hasOwnProperty(l)){var s=t[l];if("DIRECT"!==s.type)continue;if(o&&o.current.hasOwnProperty(s.profile.id))continue;o.current=Object(I.a)(Object(I.a)({},o.current),{},Object(Hi.a)({},s.profile.id,s.id))}var d=Object(n.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};try{a.select(t[o.current[e.id]],n)}catch(r){console.log("no channel from selected user")}}),[t,a]);return Object(n.useEffect)((function(){Dl&&(Dl=!1,a.fetchNoChannelUsers((function(e){e&&(Dl=!1)})))}),[]),Object(I.a)(Object(I.a)(Object(I.a)({},Pl()),c),{},{userActions:i,userChannels:o.current,selectUserChannel:d})},Fl=function(e,t){return k(function(e){return M({method:"POST",url:"/requests",data:e})}(e),"REQUEST_START","REQUEST_SUCCESS","REQUEST_FAILURE",t)},Ml=function(e,t){return k(function(e){return M({method:"POST",url:"/login",data:e})}(e),"LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE",t)},Ul=function(e,t){return k(function(){return F({method:"POST",url:"/logout"})}(e),"LOGOUT_START","LOGOUT_SUCCESS","LOGOUT_FAILURE",t)},Gl=function(e,t){return k(function(e){return M({method:"GET",actualUrl:"".concat(w({noSlug:!0}),"/auth/google?").concat(C(e))})}(e),"GOOGLE_LOGIN_START","GOOGLE_LOGIN_SUCCESS","GOOGLE_LOGIN_FAILURE",t)},Bl=function(e,t){return k(function(e){return M({method:"POST",actualUrl:"".concat(w({noSlug:!0}),"/auth/google/user"),data:e})}(e),"GOOGLE_AUTH_LOGIN_START","GOOGLE_AUTH_LOGIN_SUCCESS","GOOGLE_AUTH_LOGIN_FAILURE",t)};function Hl(e,t){return k(function(e){return F({method:"GET",url:"/v2/users-online",data:e})}(e),"GET_ONLINE_USERS_START","GET_ONLINE_USERS_SUCCESS","GET_ONLINE_USERS_FAIL",t)}function Wl(e,t){return k(function(e){return F({method:"GET",url:"/users/".concat(e.id)})}(e),"GET_USER_START","GET_USER_SUCCESS","GET_USER_FAILURE",t)}function Ql(e){return k(F({method:"GET",url:"/v2/mention/users"}),"GET_MENTION_USERS_START","GET_MENTION_USERS_SUCCESS","GET_MENTION_USERS_FAILURE",e)}function Yl(e,t){return k(function(e){return M({method:"POST",url:"/password/email",data:e})}(e),"RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE",t)}function zl(e,t){return k(function(e){return M({method:"POST",url:"/password/reset",data:e})}(e),"RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE",t)}function Vl(e,t){return k(function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),a=t.REACT_APP_apiProtocol,n=t.REACT_APP_apiBaseUrl,r="".concat(a).concat(e.driff,".").concat(n,"/check-email");return M({method:"PATCH",actualUrl:r,data:e})}(e),"CHECK_DRIFF_EMAIL_START","CHECK_DRIFF_EMAIL_SUCCESS","CHECK_DRIFF_EMAIL_FAILURE",t)}function Kl(e,t){return k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v1/users?".concat(C(e));return F({method:"GET",url:t})}(e),"GET_USERS_START","GET_USERS_SUCCESS","GET_USERS_FAIL",t)}function ql(e,t){return k(function(e){var t="/users/".concat(e.id);return F({method:"PUT",url:t,data:e})}(e),"UPDATE_USER_START","UPDATE_USER_SUCCESS","UPDATE_USER_FAIL",t)}function Jl(e,t){return k(function(e){var t="/users/".concat(e.id,"/upload-profile-image");return F({method:"POST",url:t,hasFile:!0,data:{file:e.file}})}(e),"UPDATE_PROFILE_IMAGE_START","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE",t)}function Zl(e,t){return y("INCOMING_UPDATED_USER",e,t)}function Xl(e,t){return k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v2/external-user-data";return M({method:"POST",url:t,data:e})}(e),"POST_EXTERNAL_USER_DATA_START","POST_EXTERNAL_USER_DATA_SUCCESS","POST_EXTERNAL_USER_DATA_FAILURE",t)}function $l(e,t){return k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v2/external-user-update";return M({method:"PUT",url:t,data:e})}(e),"PUT_EXTERNALUSER_UPDATE_START","PUT_EXTERNALUSER_UPDATE_SUCCESS","PUT_EXTERNALUSER_UPDATE_FAILURE",t)}function es(e,t){return k(function(e){return M({method:"POST",url:"/magic-link",data:e})}(e),"POST_MAGIC_LINK_START","POST_MAGIC_LINK_SUCCESS","POST_MAGIC_LINK_FAILURE",t)}function ts(e,t){return k(function(e){return M({method:"PUT",url:"/magic-link",data:e})}(e),"PUT_MAGIC_LINK_START","PUT_MAGIC_LINK_SUCCESS","PUT_MAGIC_LINK_FAILURE",t)}function as(e,t){return y("INCOMING_EXTERNAL_USER",e,t)}function ns(e,t){return k(function(e){return F({method:"POST",url:"/v2/internal-request-form",data:e})}(e),"PUT_MAGIC_LINK_START","PUT_MAGIC_LINK_SUCCESS","PUT_MAGIC_LINK_FAILURE",t)}function rs(e,t){return y("INCOMING_INTERNAL_USER",e,t)}function is(e,t){return k(function(e){return F({method:"PUT",url:"/v2/update-user-role",data:e})}(e),"PUT_USER_ROLE_START","PUT_USER_ROLE_SUCCESS","PUT_USER_ROLE_FAILURE",t)}function cs(e,t){return k(F({method:"GET",url:"/v2/roles"}),"GET_ROLES_START","GET_ROLES_SUCCESS","GET_ROLES_FAILURE",t)}function os(e,t){return y("INCOMING_USER_ROLE",e,t)}var ls=function(){var e=Object(o.useDispatch)(),t=Object(d.g)(),a=cd(),i=K(),c=Sl(),l=c.generalSettings.is_new,s=c.driffSettings,u=c.userSettings,m=c.setGeneralSetting,p=c.setReadAnnouncement,f=Object(o.useSelector)((function(e){return e.users})).getUserFilter,b=Object(o.useSelector)((function(e){return e.session})).user,h=Object(n.useCallback)((function(e){localStorage.setItem("userAuthToken",JSON.stringify(e)),localStorage.setItem("token",e.download_token),localStorage.setItem("atoken",e.auth_token)}),[]),E=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""!==t&&(t="/".concat(btoa(t))),"/authenticate/".concat(e.access_token).concat(t)}),[]),_=Object(n.useCallback)((function(e,t){var a="".concat(T()).concat(E(e,t));window.location.href="".concat(w({isDNS:!0}),"/auth-web/login?token=").concat(e.auth_token,"&redirect_link=").concat(a)}),[]),O=Object(n.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ml(t,(function(e,t){e&&a.error(r.a.createElement(r.a.Fragment,null,"Invalid email or password.")),n(e,t)})))}),[]),A=Object(n.useCallback)((function(e,t){h(e),_(e,t)}),[]),v=Object(n.useCallback)((function(){var t={slug:q()};if(g(window.location.hostname)){var n=window.location,r=n.hostname,i=n.port;t.redirect_ip_address="http://".concat(r,":").concat(i)}e(Gl(t,(function(e,t){e&&console.log(e),t&&(a.notify("Logging in via Google."),window.location.href=t.data.google_url)})))}),[]),C=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Vl({email:t,driff:localStorage.getItem("slug")},a))}),[]),j=Object(n.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(es({email:t},(function(e,i){e&&a.error(r.a.createElement(r.a.Fragment,null,"Not allowed for external users.")),i&&a.success(r.a.createElement(r.a.Fragment,null,"Link was sent to ",r.a.createElement("b",null,t))),n(e,i)})))}),[]),k=Object(n.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(ts({token:t},(function(e,t){e&&a.error(r.a.createElement(r.a.Fragment,null,"Token expired or not working.")),n(e,t)})))}),[]),y=Object(n.useCallback)((function(t){var a=t.skip,n=void 0===a?0:a,r=t.limit,i=void 0===r?f.limit:r,c=Object(G.a)(t,["skip","limit"]),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Kl(Object(I.a)(Object(I.a)({},c),{},{skip:n,limit:i}),o))}),[e,f.limit]),N=Object(n.useCallback)((function(){f.hasMore&&y(f.skip,f.limit)}),[y,f]),S=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Wl({id:t},a))}),[e]),x=Object(n.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=["id","first_name","last_name","middle_name","name","password","role_id","company","designation","skills","email","contact","place","address","house_number","country","zip_code","birthday","gender","timezone","language"],i={};r.forEach((function(e){i=Object(I.a)(Object(I.a)({},i),{},Object(Hi.a)({},e,t[e])),"password"===e&&(i=t[e]?Object(I.a)(Object(I.a)({},i),{},{type:2}):Object(I.a)(Object(I.a)({},i),{},{password:"",type:0}))})),e(ql(i,(function(e,t){e&&a.error("Saving profile information failed."),t&&(b.id===t.data.id&&L.sessionService.saveUser(Object(I.a)({},t.data)),a.success("Profile information saved.")),n(e,t)})))}),[e]),R=Object(n.useCallback)((function(e){switch(e){case"gripp":default:return[]}}),[]),P=Object(n.useCallback)((function(e){var t=["first_name","last_name","password","email"];switch(e){case"gripp":default:return t}}),[]),D=Object(n.useCallback)((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i={id:t.id,file:n};e(Jl(i,(function(e,n){e&&(a.error("Profile image upload failed."),r(e)),n&&(t.profile_image_id=parseInt(n.data.profile_media_id),x(t,r))})))}),[]),F=Object(n.useCallback)((function(t,n){e(Xl({state_code:t},(function(e,t){e&&a.error(r.a.createElement(r.a.Fragment,null,"Invalid code.")),n(e,t)})))}),[]),M=Object(n.useCallback)((function(t,a){e($l(t,(function(e,t){a(e,t)})))}),[]),U=Object(n.useCallback)((function(t,n){e(zl(t,(function(e,t){e&&(a.error(r.a.createElement(r.a.Fragment,null,"Invalid or expired token.")),n(e,t)),t&&(a.success(r.a.createElement(r.a.Fragment,null,"Password is successfully updated. You are being logged in!")),A(t.data))})))}),[]),B=Object(n.useCallback)((function(t,n){e(Yl({email:t},(function(e,i){e&&a.error("Email not found"),i&&a.success(r.a.createElement(r.a.Fragment,null,"Password reset link sent to ",r.a.createElement("b",null,t),". Please check.")),n(e,i)})))}),[]),H=Object(n.useCallback)((function(){var e="".concat(T(),"/logged-out");window.location.href="".concat(w({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}),[]),W=Object(n.useCallback)((function(t){e(Mr(!0)),e(Ul({},(function(n,r){localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),localStorage.removeItem("welcomeBanner"),L.sessionService.deleteSession().then((function(){return L.sessionService.deleteUser()})).then((function(){e(Mr(!1,(function(){a.success("You are logged out")})))})),t(n,r)})))}),[]),Q=Object(n.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};C(t.email,(function(i,c){c&&!c.data.status?e(Fl(t,(function(e,t){e&&a.error("User registration failed."),t&&a.success("Slug request sent. Please wait for admin to cross-check. You'll recieve further notification on your email.",{duration:1e4}),n(e,t)}))):(a.error("Email ".concat(t.email," is already taken")),n({field:{email:r.a.createElement(r.a.Fragment,null,t.email," is already taken.")}}))}))}),[]),Y=Object(n.useCallback)((function(){if(!localStorage.getItem("welcomeBanner")){localStorage.setItem("welcomeBanner","init");var e=i.getName();if(l)a.success(r.a.createElement(r.a.Fragment,null,"Welcome to ",r.a.createElement("b",null,e)," driff, ",b.first_name)),m({is_new:!1});else{if(s.ANNOUNCEMENT_AT&&s.ANNOUNCEMENT_LINK&&""!==s.ANNOUNCEMENT_LINK){var n=null;u.READ_ANNOUNCEMENT?u.READ_ANNOUNCEMENT.timestamp<s.ANNOUNCEMENT_AT.timestamp&&(n=s.ANNOUNCEMENT_LINK.split("posts/"),n="/posts/".concat(n[1]),p()):(n=s.ANNOUNCEMENT_LINK.split("posts/"),n="/posts/".concat(n[1]),p()),n&&t.push(n)}a.success(r.a.createElement(r.a.Fragment,null,"Welcome back, ",b.first_name))}}}),[b,i,l,s,u]),z=Object(n.useCallback)((function(t,a){e(ns(t,a))})),V=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(is(t,a))}),[]),J=Object(n.useCallback)((function(){e(cs())}),[]);return{checkCredentials:O,login:A,register:Q,googleLogin:v,storeLoginToken:h,processBackendLogin:_,requestPasswordReset:B,checkEmail:C,sendMagicLink:j,checkMagicLink:k,fetch:y,fetchStateCode:F,update:x,updateProfileImage:D,updateExternalUser:M,updatePassword:U,fetchById:S,fetchMore:N,getReadOnlyFields:R,getRequiredFields:P,processBackendLogout:H,logout:W,displayWelcomeBanner:Y,inviteAsInternalUsers:z,updateUserRole:V,fetchRoles:J}},ss=!0,ds=function(){var e=Object(o.useSelector)((function(e){return e.users})),t=e.users,a=e.getUserFilter,r=Object(o.useSelector)((function(e){return e.session})).user,i=ls();return Object(n.useEffect)((function(){ss&&(ss=!1,i.fetch({}))}),[]),{users:t,getUserFilter:a,loggedUser:r,actions:i}},us=function(){var e=Object(o.useDispatch)(),t=Object(d.h)(),a=Object(d.g)(),i=Object(d.i)(),c=cd(),l=Cd(),s=fl()._t,u=Object(o.useSelector)((function(e){return e.session.user})),m={headerRemoveDraftHeader:s("MODAL.REMOVE_DRAFT_HEADER","Remove post draft?"),headerRemovePostHeader:s("MODAL.REMOVE_POST_HEADER","Remove post?"),headerUnarchivePostHeader:s("MODAL.UNARCHIVE_POST_HEADER","Un-archive post?"),headerArchivePostHeader:s("MODAL.ARCHIVE_POST_HEADER","Archive post?"),buttonRemove:s("BUTTON.REMOVE","Remove"),buttonRemovePost:s("MODAL.REMOVE_POST","Remove draft"),buttonCancel:s("BUTTON.CANCEL","Cancel"),removeThisDraft:s("MODAL.REMOVE_THIS_DRAFT","Are you sure you want to remove this post draft?"),removeThisPost:s("MODAL.REMOVE_THIS_POST","Are you sure you want to remove this post?"),buttonArchive:s("BUTTON.ARCHIVE","Archive"),buttonUnarchive:s("BUTTON.UNARCHIVE","Un-archive"),unarchiveThisPost:s("MODAL.UNARCHIVE_THIS_POST","Are you sure you want to un-archive this post?"),archiveThisPost:s("MODAL.ARCHIVE_THIS_POST","Are you sure you want to archive this post?"),notificationStopFollow:s("NOTIFICATION.STOP_FOLLOW","You\u2019ve stopped to follow"),notificationStartFollow:s("NOTIFICATION.START_FOLLOW","You\u2019ve started to follow"),notificationError:s("NOTIFICATION.ERROR","An error has occurred try again!"),notificationYouMarked:s("NOTIFICATION.YOU_MARKED","You marked"),notificationYouUpdated:s("NOTIFICATION.YOU_UPDATED","You have updated"),notificationUnread:s("NOTIFICATION.UNREAD","as unread"),notificationRead:s("NOTIFICATION.READ","as read"),notificationDone:s("NOTIFICATION.DONE","as done"),notificationNotDone:s("NOTIFICATION.NOT_DONE","as not done"),notificationStar:s("NOTIFICATION.STAR","as starred"),notificationNotStar:s("NOTIFICATION.NOT_STAR","as not starred"),notificationRemoved:s("NOTIFICATION.REMOVED","is removed"),notificationActionFailed:s("NOTIFICATION.ACTION_FAILED","Action failed"),notificationCreatePost:s("NOTIFICATION.CREATE_POST","You have successfully created a post"),notificationReminderPost:s("NOTIFICATION.REMINDER_POST","You will be reminded about this post under"),itemPost:s("ITEM.POST","post"),todoLinks:s("SIDEBAR.TODO_LINKS","Reminders")},p=Object(n.useCallback)((function(t){if("draft_post"!==t.type){var a,n,o="undefined"!==typeof i.workspaceId?parseInt(i.workspaceId):null;e((a={type:"post",type_id:t.id},n=function(e,a){e&&c.error(r.a.createElement(r.a.Fragment,null,m.notificationActionFailed)),a&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationYouMarked,r.a.createElement("b",null,t.title)," ",t.is_favourite?m.notificationNotStar:m.notificationStar,"."))},k(H(a),"POST_FAVORITE_START","POST_FAVORITE_SUCCESS","POST_FAVORRITE_FAIL",n))),e(function(e,t){return y("STAR_POST_REDUCER",e,t)}({post_id:t.id,topic_id:o}))}}),[e,i]),f=Object(n.useCallback)((function(t){"draft_post"!==t.type&&(e(ko({post_id:t.id},(function(e,a){e&&c.error(r.a.createElement(r.a.Fragment,null,m.notificationActionFailed)),a&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationYouMarked,r.a.createElement("b",null,t.name," ",t.is_mark_done?m.notificationNotDone:m.notificationDone)))}))),e(Bo({post_id:t.id,is_done:!t.is_mark_done})))}),[e,i]),b=Object(n.useCallback)((function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("draft_post"===n.type){var i={type:"workspace_post_create_edit",mode:"create",item:{draft:n}};e(Br(i))}else r?"/posts"===r?a.push(r+"/".concat(n.id,"/").concat(ue(n.title))):a.push(r+"/post/".concat(n.id,"/").concat(ue(n.title))):a.push(t.pathname+"/post/".concat(n.id,"/").concat(ue(n.title)))}),[e,a,t]),h=Object(n.useCallback)((function(t){if("draft_post"===t.type){var n={type:"confirmation",headerText:m.headerRemoveDraftHeader,submitText:m.buttonRemove,cancelText:m.buttonCancel,bodyText:m.removeThisDraft,actions:{onSubmit:function(){e(Yr({draft_id:t.draft_id,type:t.type})),e(To({post_id:t.id,topic_id:parseInt(i.workspaceId)},(function(e,a){e?c.error(r.a.createElement(r.a.Fragment,null,m.notificationActionFailed)):a&&c.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t.title)," ",m.notificationRemoved,"."))})))}}};e(Br(n))}else{var o={type:"confirmation",headerText:1===t.is_archived?m.headerUnarchivePostHeader:m.headerArchivePostHeader,submitText:1===t.is_archived?m.buttonUnarchive:m.buttonArchive,cancelText:m.buttonCancel,bodyText:1===t.is_archived?m.unarchiveThisPost:m.archiveThisPost,actions:{onSubmit:function(){e(yo({post_id:t.id,is_archived:1===t.is_archived?0:1},(function(n,o){n?c.success(r.a.createElement(r.a.Fragment,null,"Action failed.")):o&&(t.is_archived?c.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t.title)," is restored.")):c.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t.title)," is archived.")),e(function(e,t){return y("ARCHIVE_POST_REDUCER",e,t)}({post_id:t.id,topic_id:parseInt(i.workspaceId),is_archived:1===t.is_archived?0:1})),i.hasOwnProperty("postId")&&a.goBack())})))}}};e(Br(o))}}),[e,i,a]),E=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={post_id:t.id,unread:0,topic_id:parseInt(i.workspaceId)},o=t.unread_count,l=function(l,s){l?c.success(r.a.createElement(r.a.Fragment,null,"Action failed.")):(n=Object(I.a)(Object(I.a)({},n),{},{folderId:i.hasOwnProperty("folderId")?parseInt(i.folderId):null,count:0===o?1:o}),s&&(a&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationYouMarked," ",r.a.createElement("b",null,t.title)," ",m.notificationRead,".")),e(il({post_id:t.id,unread:0,user_id:u.id}))))};e(wo(n,l))}),[e,i]),_=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={post_id:t.id,unread:1,topic_id:i.workspaceId},o=function(o,l){o?c.success(r.a.createElement(r.a.Fragment,null,"Action failed.")):(n=Object(I.a)(Object(I.a)({},n),{},{folderId:i.hasOwnProperty("folderId")?i.folderId:null}),l&&(a&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationYouMarked," ",r.a.createElement("b",null,t.title)," ",m.notificationUnread,".")),e(il({post_id:t.id,unread:1,user_id:u.id}))))};e(wo(n,o))}),[e,i]),g=Object(n.useCallback)((function(e){var a="".concat(N()).concat(t.pathname,"/post/").concat(e.id,"/").concat(ue(e.title));A(c,a)}),[e,t,N]),O=Object(n.useCallback)((function(t){var a={type:"snooze_post",post:t,topic_id:i.workspaceId};e(Br(a))}),[e,i]),v=Object(n.useCallback)((function(t){t.is_followed?e(So({post_id:t.id},(function(e,a){if(!e){var n="".concat(m.notificationStopFollow," ").concat(t.title);c.info(n)}}))):e(No({post_id:t.id},(function(e,a){if(!e){var n="".concat(m.notificationStartFollow," ").concat(t.title);c.info(n)}})))}),[e]),C=Object(n.useCallback)((function(t){var n={type:"confirmation",headerText:m.headerRemovePostHeader,submitText:m.buttonRemove,cancelText:m.buttonCancel,bodyText:m.removeThisPost,actions:{onSubmit:function(){e(Uo({id:t.id},(function(n,r){n||(e(To({post_id:t.id,topic_id:parseInt(i.workspaceId)})),i.hasOwnProperty("postId")&&a.goBack())})))}}};e(Br(n))}),[e,i]),j=Object(n.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={};switch(t){case"create_company":n={type:"company_post_create_edit",mode:"create",item:{post:a},action:{create:w}};break;case"edit_company":n={type:"company_post_create_edit",mode:"edit",item:{post:a},action:{update:x}};break;case"edit":n={type:"workspace_post_create_edit",mode:t,item:{post:a},action:{update:S}};break;default:n={type:"workspace_post_create_edit",mode:t,item:{post:a},action:{create:T}}}e(Br(n))}),[e]),T=Object(n.useCallback)((function(t){e(Io(t))}),[e]),w=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ro(t,(function(e,t){t&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationCreatePost)),a(e,t)})))}),[e]),S=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ho(t,(function(e,n){n&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationYouUpdated," ",t.title," ",m.itemPost)),a(e,n)})))}),[e]),x=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Po(t,(function(e,n){n&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationYouUpdated," ",t.title," ",m.itemPost)),a(e,n)})))}),[e]),R=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Vo(t,a))}),[e]),P=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Zo({topic_id:t},a))}),[e]),D=Object(n.useCallback)((function(t,a){e(Xo({topic_id:t},a))}),[e]),L=Object(n.useCallback)((function(t,a){e($o(t,a))}),[e]),F=Object(n.useCallback)((function(t,a){e(function(e,t){return y("UPDATE_COMPANY_POST_FILTER_SORT",e,t)}(t,a))}),[e]),M=Object(n.useCallback)((function(t,a){e(tl(t,a))}),[e]),U=Object(n.useCallback)((function(t){e(nl(t))}),[e]),G=Object(n.useCallback)((function(t){var a={post_id:t.id,personalized_for_id:null,mark_as_read:1};e(cl(a,(function(a,n){a||e(function(e,t){return y("MUST_READ_REDUCER",e,t)}({post_id:t.id,topic_id:i.workspaceId}))})))}),[e,i]),B=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};l.createForPost(t.id,e,(function(e,t){e&&c.error("".concat(m.notificationError)),t&&c.success(r.a.createElement(r.a.Fragment,null,m.notificationReminderPost," ",r.a.createElement("b",null,m.todoLinks),".")),n(e,t),a(e,t)}))},i={type:"todo_reminder",item:t,itemType:"POST",actions:{onSubmit:n}};e(Br(i))}),[e,i]);return{starPost:p,markPost:f,openPost:b,archivePost:h,markAsRead:E,markAsUnread:_,sharePost:g,snoozePost:O,followPost:v,trash:C,showModal:j,update:S,clap:R,getRecentPosts:P,getTagsCount:D,fetchCompanyPosts:L,setCompanyFilterPosts:F,getPosts:M,visit:U,markReadRequirement:G,remind:B}},ms=function(e){var t=Object(o.useDispatch)();Object(n.useEffect)((function(){var e,a;"undefined"!==typeof document.hidden?(e="visibilitychange",a="hidden"):"undefined"!==typeof document.msHidden?(e="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange",a="webkitHidden");var n=function(){document[a]?t(Pr({status:!1})):t(Pr({status:!0}))};return document.addEventListener(e,n,!1),function(){return document.removeEventListener(e,n,!1)}}),[])},ps=a(213),fs=function(e){Object(n.useEffect)((function(){L.sessionService.loadSession().then((function(e){var t=e.token,n=e.access_broadcast_token;window.io||(window.io=a(469)),window.Echo||(window.Echo=new ps.a({broadcaster:"socket.io",host:"https://driff.online",auth:{headers:{Authorization:t,"Driff-Broadcast-Token":n}}}))}))}),[])},bs=function(e,t,a){var r=Object(o.useSelector)((function(e){return e.workspaces.postComments})),i=Object(n.useState)(!1),c=Object(p.a)(i,2),l=c[0],s=c[1];if(e){if(r.hasOwnProperty(e.id))return Object(I.a)({},r[e.id]).comments;if(l)return null;s(!0);var d={url:"/v1/messages?post_id=".concat(e.id,"&skip=",0,"&limit=",20)};return t.fetchPostComments(d,(function(e,t){if(s(!1),!e){var a=t.data.messages.map((function(e){return e.replies.length?e.replies.map((function(e){return e.files})):e.files}));a.length&&(a=a.flat(2))}})),null}return null},hs=function(){var e=Object(o.useDispatch)(),t=Cd(),a=cd(),i=Object(n.useCallback)((function(t,a){e(Lo(t,a))}),[e]),c=Object(n.useCallback)((function(t){e(Fo(t))}),[e]),l=Object(n.useCallback)((function(t){e(function(e,t){return y("ADD_COMMENT",e,t)}(t))}),[e]),s=Object(n.useCallback)((function(t){e(Do(t))}),[e]),d=Object(n.useCallback)((function(t){e(Mo(t))}),[e]),u=Object(n.useCallback)((function(t){var a;e(y("ADD_COMMENT_QUOTE",t,a))}),[e]),m=Object(n.useCallback)((function(t){var a;e(y("CLEAR_COMMENT_QUOTE",t,a))}),[e]);return{add:l,addQuote:u,clap:Object(n.useCallback)((function(t){e(Ko(t))}),[e]),clearQuote:m,create:s,edit:d,fetchPostComments:i,setToEdit:c,remove:Object(n.useCallback)((function(t){console.log(t);var a={type:"confirmation",headerText:"Remove post comment?",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this comment?",actions:{onSubmit:function(){if(Object.keys(t.replies).length>0){var a={post_id:t.post_id,id:t.id,user_id:t.author.id,body:"<i>The comment has been removed by the author.</i>",post_file_ids:[],file_ids:[],mention_ids:[],personalized_for_id:null,parent_id:t.parent_id};e(Mo(a))}else e(ol({comment_id:t.id}))}}};e(Br(a))}),[e]),remind:Object(n.useCallback)((function(n,i){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.createForPostComment(n.id,e,(function(e,t){e&&a.error("An error has occurred try again!"),t&&a.success(r.a.createElement(r.a.Fragment,null,"You will be reminded about this comment under ",r.a.createElement("b",null,"To-dos & Reminders"),".")),i(e,t),c(e,t)}))},l={type:"todo_reminder",parentItem:i,item:n,itemType:"POST_COMMENT",actions:{onSubmit:o}};e(Br(l))}),[e])}};function Es(){var e=Object(s.a)(["\n  display: block;\n"]);return Es=function(){return e},e}var _s=Object(m.a)(ct)(Es()),gs=function(e){var t=Object(o.useSelector)((function(e){return e.posts.commentQuotes})),a=Object(n.useState)(null),i=Object(p.a)(a,2),c=i[0],l=i[1],s=Object(n.useState)(null),d=Object(p.a)(s,2),u=d[0],m=d[1];return Object(n.useEffect)((function(){if(Object.keys(t).length>0){var a=Object.values(t).filter((function(t){return t.id===e}));if(a.length){l(a[0]),a=a[0],console.log(a);var n="",i=document.createElement("div");i.innerHTML=a.body;for(var c=i.getElementsByTagName("img"),o=0;o<c.length;o++)n+=Object(Ee.renderToString)(r.a.createElement(_s,{className:"image-quote",target:"_blank",href:c[0].getAttribute("src"),icon:"image-video"},"Photo"));for(var s=i.getElementsByTagName("video"),d=0;d<s.length;d++)n+=Object(Ee.renderToString)(r.a.createElement(_s,{className:"video-quote",target:"_blank",href:s[0].getAttribute("player-source"),icon:"image-video"},"Video"));a.files&&a.files.forEach((function(e){"image"===e.type?n+=Object(Ee.renderToString)(r.a.createElement(_s,{className:"image-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Photo")):"video"===e.type?n+=Object(Ee.renderToString)(r.a.createElement(_s,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Video")):n+=Object(Ee.renderToString)(r.a.createElement(_s,{target:"_blank",href:e.view_link,icon:"download"},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),n+=Oc.parseEmoji(a.body),m(n)}else l(null),m(null)}else l(null),m(null)}),[t,e]),[c,u]},Os=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Sl(),a=t.generalSettings.active_topic,r=t.setGeneralSetting,i=cd(),c=Object(d.j)(),l=c.params,s=(c.path,c.url),u=Js(),m=Object(o.useSelector)((function(e){return e.workspaces})),f=m.activeChannelId,b=m.activeTopic,h=m.folders,E=m.workspaces,_=m.workspaceTimeline,g=m.workspacesLoaded,O=Object(o.useSelector)((function(e){return e.chat.channels})),A=Object(n.useState)(!1),v=Object(p.a)(A,2),C=v[0],j=v[1],k=Object(n.useState)(!1),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(!1),S=Object(p.a)(N,2),x=S[0],I=S[1],R=Object(n.useState)(!1),P=Object(p.a)(R,2),D=P[0],L=P[1],F=Object(n.useState)(!1),M=Object(p.a)(F,2),U=M[0],G=M[1];Object(n.useEffect)((function(){if(T||g||!e)g&&b&&O.hasOwnProperty(b.channel.id)&&s.startsWith("/workspace")&&u.selectChannel(O[b.channel.id]);else{w(!0);u.fetchWorkspaces({is_external:0},(function(e,t){w(!1),L(!0)})),u.fetchWorkspaces({is_external:1},(function(){return G(!0)})),u.fetchWorkspaceChannels({skip:0,limit:250})}return function(){u.clearChannel()}}),[]),Object(n.useEffect)((function(){if(Object.keys(E).length&&null===b&&e)if(l.hasOwnProperty("workspaceId")){if(E.hasOwnProperty(l.workspaceId))u.selectWorkspace(E[l.workspaceId]),r({active_topic:E[l.workspaceId]});else if(D&&U&&a)if(i.warning("This workspace cannot be found or accessed."),parseInt(l.workspaceId)===a.id){var t=Object.values(E).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));t.length&&(u.selectWorkspace(t[0]),u.redirectTo(t[0]))}else u.selectWorkspace(a),u.redirectTo(a)}else"search"!==l.page&&(a&&E.hasOwnProperty(a.id)?(u.selectWorkspace(E[a.id]),s.startsWith("/workspace")&&u.redirectTo(E[a.id])):s.startsWith("/workspace")&&localStorage.getItem("fromRegister")&&(console.log("trigger"),u.selectWorkspace(Object.values(E)[0]),u.redirectTo(Object.values(E)[0]),localStorage.removeItem("fromRegister")))}),[b,a,l,E,s,D,U,e]),Object(n.useEffect)((function(){b&&Object.keys(O).length&&e&&s.startsWith("/workspace")&&(O.hasOwnProperty(b.channel.id)?(f&&f!==b.channel.id||null===f)&&u.selectChannel(O[b.channel.id]):x||(I(!0),u.fetchChannel({code:b.channel.code},(function(){return I(!1)}))))}),[b,O,f,x,e,s]),Object(n.useEffect)((function(){if(!C&&b&&!b.hasOwnProperty("primary_files")&&s.startsWith("/workspace/dashboard/")&&e){j(!0);u.getPrimaryFiles(b.id,(function(e,t){if(setTimeout((function(){j(!1)}),300),!e){var a={id:b.id,folder_id:b.workspace_id,files:t.data};u.addPrimaryFilesToWorkspace(a)}}))}}),[C,b,s,e]);var B=null;return Object.keys(_).length&&b&&_[b.id]&&(B=_[b.id]),{folders:h,sortedWorkspaces:Object.values(E).sort((function(e,t){return e.name.localeCompare(t.name)})),workspaces:E,workspace:b,actions:u,workspacesLoaded:g,timeline:B}};function As(e,t){return k(function(e){var t="/v2/workspace?".concat(C(e));return F({method:"GET",url:t,data:e})}(e),"GET_WORKSPACES_START","GET_WORKSPACES_SUCCESS","GET_WORKSPACES_FAIL",t)}function vs(e,t){return k(function(e){return F({method:"POST",url:"/v2/workspace",data:e})}(e),"CREATE_WORKSPACE_START","CREATE_WORKSPACE_SUCCESS","CREATE_WORKSPACE_FAIL",t)}function Cs(e,t){return k(function(e){var t="/v2/workspace-dashboard-detail?topic_id=".concat(e.topic_id);return F({method:"GET",url:t,data:e})}(e),"GET_WORKSPACE_DETAIL_START","GET_WORKSPACE_DETAIL_SUCCESS","GET_WORKSPACE_DETAIL_FAIL",t)}function js(e,t){return k(function(e){var t="/v2/workspace/".concat(e.topic_id);return F({method:"PUT",url:t,data:e})}(e),"UPDATE_WORKSPACE_START","UPDATE_WORKSPACE_SUCCESS","UPDATE_WORKSPACE_FAIL",t)}function ks(e,t){return y("INCOMING_WORKSPACE_FOLDER",e,t)}function ys(e,t){return y("INCOMING_WORKSPACE",e,t)}function Ts(e,t){return y("INCOMING_UPDATED_WORKSPACE_FOLDER",e,t)}function ws(e,t){return y("INCOMING_MOVED_TOPIC",e,t)}function Ns(e,t){return y("SET_ACTIVE_TOPIC",e,t)}function Ss(e,t){return y("UPDATE_WORKSPACE_POST_FILTER_SORT",e,t)}function xs(e,t){return k(function(e){return F({method:"POST",url:"/v2/post-channel-members",data:e})}(e),"JOIN_WORKSPACE_START","JOIN_WORKSPACE_SUCCESS","JOIN_WORKSPACE_FAIL",t)}function Is(e,t){return y("JOIN_WORKSPACE_REDUCER",e,t)}function Rs(e,t){return y("ADD_POST_SEARCH_RESULT",e,t)}function Ps(e,t){return k(function(e){var t="/v2/workspace-primary-files?topic_id=".concat(e.topic_id);return F({method:"GET",url:t,data:e})}(e),"FETCH_WORKSPACE_PRIMARY_FILES_START","FETCH_WORKSPACE_PRIMARY_FILES_SUCCESS","FETCH_WORKSPACE_PRIMARY_FILES_FAIL",t)}function Ds(e,t){return k(function(e){var t="/v2/workspace-dashboard-members?topic_id=".concat(e.topic_id);return F({method:"GET",url:t,data:e})}(e),"FETCH_WORKSPACE_MEMBERS_START","FETCH_WORKSPACE_MEMBERS_SUCCESS","FETCH_WORKSPACE_MEMBERS_FAIL",t)}function Ls(e,t){return k(function(e){var t="/v2/workspace-dashboard-timeline?".concat(C(e));return F({method:"GET",url:t,data:e})}(e),"FETCH_TIMELINE_START","FETCH_TIMELINE_SUCCESS","FETCH_TIMELINE_FAIL",t)}function Fs(e,t){return y("INCOMING_TIMELINE",e,t)}function Ms(e,t){return k(function(e){var t="/v2/workspace/".concat(e.topic_id);return F({method:"GET",url:t,data:e})}(e),"GET_WORKSPACE_START","GET_WORKSPACE_SUCCESS","GET_WORKSPACE_FAIL",t)}function Us(e,t){return y("UPDATE_WORKSPACE_COUNTER",e,t)}function Gs(e,t){return y("ARCHIVE_REDUCER",e,t)}function Bs(e,t){return y("UNARCHIVE_REDUCER",e,t)}function Hs(e,t){return y("LEAVE_WORKSPACE",e,t)}function Ws(e,t){return k(function(e){return F({method:"POST",url:"/v2/workspace-role",data:e})}(e),"ADD_WORKSPACE_ROLE_START","ADD_WORKSPACE_ROLE_SUCCESS","ADD_WORKSPACE_ROLE_FAIL",t)}function Qs(e,t){return y("INCOMING_WORKSPACE_ROLE",e,t)}function Ys(e,t){return k(function(e){return F({method:"DELETE",url:"/v2/workspace-role",data:e})}(e),"DELETE_WORKSPACE_ROLE_START","DELETE_WORKSPACE_ROLE_SUCCESS","DELETE_WORKSPACE_ROLE_FAIL",t)}function zs(e,t){return k(function(e){var t="/v2/workspace/".concat(e.topic_id,"?is_folder=1");return F({method:"DELETE",url:t,data:e})}(e),"DELETE_WORKSPACE_FOLDER_START","DELETE_WORKSPACE_FOLDER_SUCCESS","DELETE_WORKSPACE_FOLDER_FAIL",t)}function Vs(e,t){return y("INCOMING_DELETED_WORKSPACE_FOLDER",e,t)}function Ks(e,t){return k(function(e){var t="/v2/workspace/".concat(e.folder_id,"?is_folder=1");return F({method:"GET",url:t,data:e})}(e),"GET_FOLDER_START","GET_FOLDER_SUCCESS","GET_FOLDER_FAIL",t)}function qs(e,t){return k(function(e){return F({method:"GET",url:"/v2/search-workspace?".concat(C(e))})}(e),"GET_ALL_WORKSPACE_START","GET_ALL_WORKSPACE_SUCCESS","GET_ALL_WORKSPACE_FAIL",t)}var Js=function(){var e=Object(o.useDispatch)(),t=Object(d.g)(),a=Sl().setGeneralSetting,r=Object(n.useCallback)((function(t,a){e(Cs({topic_id:t},a))}),[e]),i=Object(n.useCallback)((function(t,a){e(Ps({topic_id:t},a))}),[e]),c=Object(n.useCallback)((function(t){var a;e(y("ADD_PRIMARY_FILES",t,a))}),[e]),l=Object(n.useCallback)((function(t,a){e(Ds({topic_id:t},a))}),[e]),s=Object(n.useCallback)((function(t,a){e(Ls(t,a))}),[e]),u=Object(n.useCallback)((function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"workspace",r={mode:a,item:t};r="folder"===n?Object(I.a)(Object(I.a)({},r),{},{type:"workspace_folder"}):Object(I.a)(Object(I.a)({},r),{},{type:"workspace_create_edit"}),e(Br(r))}),[e]),m=Object(n.useCallback)((function(t,a){e(Eo(t,a))}),[e]),p=Object(n.useCallback)((function(t,a){e(As(t,a))}),[e]),f=Object(n.useCallback)((function(t,a){e(Pc(t,(function(t,n){if(a(),!t){var r=Object(I.a)(Object(I.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e(Fc(r))}})))}),[e]),b=Object(n.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ns(t,(function(e,r){a({active_topic:t}),n(e,r)})))}),[e]),h=Object(n.useCallback)((function(t,a){e(wc(t,a))}),[e]),E=Object(n.useCallback)((function(){var t,a;e(y("CLEAR_SELECTED_CHANNEL",t,a))}),[e]),_=Object(n.useCallback)((function(e){e.folder_id?t.push("/workspace/chat/".concat(e.folder_id,"/").concat(ue(e.folder_name),"/").concat(e.id,"/").concat(ue(e.name))):t.push("/workspace/chat/".concat(e.id,"/").concat(ue(e.name)))}),[]),g=Object(n.useCallback)((function(t,a){e(Ws(t,a))}),[e]),O=Object(n.useCallback)((function(t,a){e(Ys(t,a))}),[e]),A=Object(n.useCallback)((function(t){e(function(e,t){return y("UPDATE_WORKSPACE_TIMELINE_PAGE",e,t)}(t))}),[e]);return{addPrimaryFilesToWorkspace:c,addRole:g,deleteRole:O,clearChannel:E,fetchChannel:f,fetchWorkspaceChannels:m,fetchWorkspaces:p,getDetail:r,getMembers:l,getPrimaryFiles:i,getTimeline:s,join:Object(n.useCallback)((function(t,a){e(xs(t,a))}),[e]),redirectTo:_,selectChannel:h,selectWorkspace:b,showModal:u,updateTimelinePage:A}},Zs=function(){var e=Object(d.i)(),t=Xs(e),a=Object(o.useSelector)((function(e){return e.workspaces.activeTopic})),r=Object(o.useSelector)((function(e){return e.files.workspaceFiles})),i=Object(o.useSelector)((function(e){return e.files.googleDriveApiFiles})),c=Object(n.useState)(!1),l=Object(p.a)(c,2),s=l[0],u=l[1];Object(n.useEffect)((function(){if(!s&&a&&!r.hasOwnProperty(a.id)||!s&&a&&r.hasOwnProperty(a.id)&&!r[a.id].hasOwnProperty("loaded")){u(!0),t.getFiles({topic_id:a.id},(function(e,n){u(!1),t.getFolders({topic_id:a.id}),t.getFilesDetail(a.id),t.getFavoriteFiles(a.id),t.getPopularFiles(a.id),t.getEditedFiles(a.id),t.getTrashFiles(a.id),t.getGoogleDriveFiles(a.id),t.getGoogleDriveFolders(a.id)}))}if(!s&&a&&r.hasOwnProperty(a.id)&&e.hasOwnProperty("fileFolderId")&&r[a.id].folders.hasOwnProperty(e.fileFolderId)&&!r[a.id].folders[e.fileFolderId].hasOwnProperty("loaded")){u(!0);var n={topic_id:a.id,folder_id:parseInt(e.fileFolderId)};t.getFiles(n,(function(e,t){u(!1)}))}}),[s,a,r,e]);var m=[];Object.values(r).length&&r.hasOwnProperty(e.workspaceId)&&(e.hasOwnProperty("fileFolderId")&&r[a.id].folders.hasOwnProperty(e.fileFolderId)&&r[a.id].folders[e.fileFolderId].hasOwnProperty("files")?(m=Object.values(r[a.id].folders[e.fileFolderId].files).sort((function(e,t){return t>e?1:-1})),r[a.id].hasOwnProperty("search_results")&&r[a.id].search_results.length>0&&(m=r[a.id].search_results.sort((function(e,t){return t>e?1:-1})))):(m=Object.values(r[a.id].files).filter((function(e){return null===e.folder_id})).map((function(e){return e.id})).sort((function(e,t){return t>e?1:-1})),r[a.id].hasOwnProperty("search_results")&&r[a.id].search_results.length>0&&(m=r[a.id].search_results.sort((function(e,t){return t>e?1:-1})))));var f=a&&r[a.id];return{params:e,wsFiles:f?r[a.id]:null,actions:t,topic:a,fileIds:m,folders:f?r[a.id].folders:{},subFolders:f?Object.values(r[a.id].folders).filter((function(t){return t.parent_folder&&t.parent_folder.id==e.fileFolderId})):[],folder:f?r[a.id].folders[e.fileFolderId]:null,googleDriveApiFiles:i}},Xs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(o.useDispatch)(),a=cd(),i=Object(n.useRef)(""),c=fl(),l=c._t,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.includes("image")?r.a.createElement("i",{className:"fa fa-file-image-o text-instagram"}):e.includes("audio")?r.a.createElement("i",{className:"fa fa-file-audio-o text-dark"}):e.includes("video")?r.a.createElement("i",{className:"fa fa-file-video-o text-google"}):e.includes("pdf")?r.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"}):e.includes("zip")||e.includes("archive")||e.includes("x-rar")?r.a.createElement("i",{className:"fa fa-file-zip-o text-primary"}):e.includes("excel")||e.includes("spreadsheet")||e.includes("csv")||e.includes("numbers")||e.includes("xml")?r.a.createElement("i",{className:"fa fa-file-excel-o text-success"}):e.includes("powerpoint")||e.includes("presentation")?r.a.createElement("i",{className:"fa fa-file-powerpoint-o text-secondary"}):e.includes("word")||e.includes("document")?r.a.createElement("i",{className:"fa fa-file-word-o text-info"}):e.includes("script")?r.a.createElement("i",{className:"fa fa-file-code-o"}):r.a.createElement("i",{className:"fa fa-file-text-o text-warning"}):r.a.createElement("i",{className:"fa fa-file-text-o text-warning"})},d={buttonCancel:l("BUTTON.CANCEL","Cancel"),buttonRemove:l("BUTTON.REMOVE","Remove"),removeHeaderFolder:l("FILES.REMOVE_HEADER","Remove folder for everyone?"),removeBodyFolder:l("FILES.REMOVE_BODY","This folder will be moved to the recycle bin and will be permanently removed after thirty (30) days."),removeConfirmation:l("FILES.REMOVE_HEADER","This folder will be removed permanently.")},u=Object(n.useCallback)((function(e,a){t(Vn(e,a))}),[t]),m=Object(n.useCallback)((function(e,a){t(Kn(e,a))}),[t]),p=Object(n.useCallback)((function(e,a){t(qn(e,a))}),[t]),f=Object(n.useCallback)((function(e,a){t(Jn(e,a))}),[t]),b=Object(n.useCallback)((function(e,a){t(Zn(e,a))}),[t]),h=Object(n.useCallback)((function(e,a){t(Xn(e,a))}),[t]),E=Object(n.useCallback)((function(e,a){t($n(e,a))}),[t]),_=Object(n.useCallback)((function(e,a){t(er(e,a))}),[t]),g=Object(n.useCallback)((function(e,a){t(tr(e,a))}),[t]),O=Object(n.useCallback)((function(e,a){t(ar(e,a))}),[t]),v=Object(n.useCallback)((function(e,a){t(nr(e,a))}),[t]),C=Object(n.useCallback)((function(e,a){t(rr(e,a))}),[t]),j=Object(n.useCallback)((function(e,a){t(ir(e,a))}),[t]),k=Object(n.useCallback)((function(e,a){t(cr(e,a))}),[t]),y=Object(n.useCallback)((function(e,a){t(lr(e,a))}),[t]),T=Object(n.useCallback)((function(e,a){t($a(e,a))}),[t]),w=Object(n.useCallback)((function(e,a){t(Xa({topic_id:e},a))}),[t]),N=Object(n.useCallback)((function(e,a){t(Gn({workspace_id:e},a))}),[t]),S=Object(n.useCallback)((function(e,a){t(Bn({workspace_id:e},a))}),[t]),x=Object(n.useCallback)((function(e,a){t(Ir({},a))}),[t]),R=Object(n.useCallback)((function(e,a){t(Rr({workspace_id:e},a))}),[t]),P=Object(n.useCallback)((function(e,a){t(on({topic_id:e},a))}),[t]),D=Object(n.useCallback)((function(e,a){t(nn({topic_id:e},a))}),[t]),L=Object(n.useCallback)((function(e,a){t(an({topic_id:e},a))}),[t]),F=Object(n.useCallback)((function(e,a){t(en({topic_id:e},a))}),[t]),M=Object(n.useCallback)((function(e,a){t(un(e,a))}),[t]),U=Object(n.useCallback)((function(e,a){t(rn(e,a))}),[t]),G=Object(n.useCallback)((function(e,a){t(cn(e,a))}),[t]),B=Object(n.useCallback)((function(e,a){t(mn(e,a))}),[t]),H=Object(n.useCallback)((function(e,a){t(pn(e,a))}),[t]),W=Object(n.useCallback)((function(e,a,n){t(Un({link_id:e,link_type:"topic",attachment_type:"folder"===a.type?"FOLDER":"FILE",payload:a},n))}),[t]),Q=Object(n.useCallback)((function(e,a){t(Un({link_type:"company_drive",attachment_type:"folder"===e.type?"FOLDER":"FILE",payload:e},a))}),[t]),Y=Object(n.useCallback)((function(e,a,n){var r={type:"confirmation",headerText:d.removeHeaderFolder,submitText:d.buttonRemove,cancelText:d.buttonCancel,bodyText:d.removeBodyFolder,actions:{onSubmit:function(){var r={id:e.id,topic_id:a};e.is_archived&&(r=Object(I.a)(Object(I.a)({},r),{},{force_delete:1})),t(bn(r,n))}}};e.is_archived&&(r=Object(I.a)(Object(I.a)({},r),{},{bodyText:d.removeConfirmation})),t(Br(r))}),[t]),z=Object(n.useCallback)((function(e,a){var n={type:"confirmation",headerText:"Remove folder for everyone?",submitText:"Remove",cancelText:"Cancel",bodyText:"This folder will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:function(){var n={id:e.id};e.is_archived&&(n=Object(I.a)(Object(I.a)({},n),{},{force_delete:1})),t(lr(n,a))}}};e.is_archived&&(n=Object(I.a)(Object(I.a)({},n),{},{bodyText:"This folder will be removed permanently."})),t(Br(n))}),[t]),V=Object(n.useCallback)((function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(){var i={file_id:n.id,link_id:n.link_id,link_type:n.link_type,topic_id:e.workspaceId};r&&(i=Object(I.a)(Object(I.a)({},i),{},{force_delete:1})),t(_n(i,(function(e,t){a.info("You have removed ".concat(n.search,"."))})))},c={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"This file will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:i}};t(Br(c))}),[t,e]),K=Object(n.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force_delete:!1},i=function(){var i={file_id:e.id,link_id:e.link_id,link_type:e.link_type};r.force_delete&&(i=Object(I.a)(Object(I.a)({},i),{},{force_delete:1})),t(or(i,(function(t,r){a.info("You have removed ".concat(e.search,".")),n(t,r)})))},c={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"This file will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:i}};t(Br(c))}),[t,e]),q=Object(n.useCallback)((function(n,c){var o=n.search.split(".").slice(0,-1).join(".");""===o&&(o=n.search),i.current=o;var l={type:"single_input",preInputLabel:"Renaming the file will update the filename for everyone.",label:"Filename",defaultValue:o,title:"Rename file",labelPrimaryAction:"Rename file",onPrimaryAction:function(){t(gn({id:n.id,name:i.current,topic_id:e.workspaceId},(function(e,t){e&&a.error(r.a.createElement("span",null,"System failed to rename the ",r.a.createElement("b",null,n.search)," to ",i.current,".")),t&&a.success(r.a.createElement("span",null,"You renamed ",r.a.createElement("b",null,n.search)," to ",i.current,".")),c(e,t)})))},onChange:function(e){i.current=e.target.value.trim()},onClose:function(){i.current=""}};t(Br(l))}),[t]),J=Object(n.useCallback)((function(e,n){var c=e.search.split(".").slice(0,-1).join(".");""===c&&(c=e.search),i.current=c,t(Br({type:"single_input",defaultValue:c,title:"Update filename",preInputLabel:"Renaming the file will update the filename for everyone.",label:"Filename",labelPrimaryAction:"Rename file",onPrimaryAction:function(){var t=i.current,c=e.search.split(".");c.length>=2&&(t="".concat(t,".").concat(c.pop())),j({id:e.id,name:t},(function(t,c){t&&a.error(r.a.createElement("span",null,"System failed to rename the ",r.a.createElement("b",null,e.search)," to ",i.current,".")),c&&a.success(r.a.createElement("span",null,"You renamed ",r.a.createElement("b",null,e.search)," to ",i.current,".")),n(t,c)}))},onChange:function(e){i.current=e.target.value.trim()},onClose:function(){i.current=""}}))}),[t]),Z=Object(n.useCallback)((function(n,i){t(En({type_id:n.id,type:"file"},(function(i,c){if(i)a.error(r.a.createElement("div",null,"System failed to mark the file ",r.a.createElement("b",null,n.search)," ",n.is_favorite?"unfavorite":"as favorite"));else if(c){var o={file_id:n.id,topic_id:e.workspaceId,is_favorite:!n.is_favorite};e.hasOwnProperty("fileFolderId")&&(o=Object(I.a)(Object(I.a)({},o),{},{folder_id:e.fileFolderId})),t(kn(o,(function(){a.success(r.a.createElement(r.a.Fragment,null,"You have marked ",r.a.createElement("b",null,n.search)," ",n.is_favorite?"as favorite":"unfavorite"))})))}})))}),[t,e]),X=Object(n.useCallback)((function(e,a){t(tn({topic_id:e},a))}),[t]),$=Object(n.useCallback)((function(a,n){if(a.hasOwnProperty("payload_id")){var r=document.createElement("a");r.href=a.download_link.replace("/preview","/view"),r.target="_blank",r.click()}else{var i={workspace_id:e.workspaceId,file_id:a.id};t(qa(i,n))}}),[t,e]),ee=Object(n.useCallback)((function(e,a){if(e.hasOwnProperty("payload_id")){var n=document.createElement("a");n.href=e.download_link.replace("/preview","/view"),n.target="_blank",n.click()}else{var r={file_id:e.id};t(qa(r,a))}}),[t,e]),te=Object(n.useCallback)((function(a){var n={topic_id:e.workspaceId,search:a};t($a(n,(function(e,a){e||t(An(Object(I.a)(Object(I.a)({},n),{},{search_results:a.data.files})))})))}),[t,e]),ae=Object(n.useCallback)((function(e){var a={search:e};u(a,(function(e,n){e||t(ur(Object(I.a)(Object(I.a)({},a),{},{search_results:n.data.files})))}))}),[t,e]),ne=Object(n.useCallback)((function(){var a={topic_id:e.workspaceId};t(vn(a))}),[t,e]),re=Object(n.useCallback)((function(e){A(a,e)}),[]),ie=Object(n.useCallback)((function(){var a={type:"confirmation",headerText:"Empty trash",submitText:"Empty",cancelText:"Cancel",bodyText:"Are you sure you want to empty the trash?",actions:{onSubmit:function(){t(yn({topic_id:e.workspaceId}))}}};t(Br(a))}),[t,e]),ce=Object(n.useCallback)((function(){var e={type:"confirmation",headerText:"Empty trash",submitText:"Empty",cancelText:"Cancel",bodyText:"Are you sure you want to empty the trash?",actions:{onSubmit:function(){t(sr({}))}}};t(Br(e))}),[t,e]),oe=Object(n.useCallback)((function(a){var n={type:"move_files",file:a,topic_id:e.workspaceId,folder_id:null};e.hasOwnProperty("fileFolderId")&&(n=Object(I.a)(Object(I.a)({},n),{},{folder_id:e.fileFolderId})),t(Br(n))}),[t,e]),le=Object(n.useCallback)((function(n){var i={type:"move_company_files",dictionary:{headerText:"Move files",submitText:"Move",cancelText:"Cancel",bodyText:n.search},file:n,folder_id:null,actions:{onSubmit:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t(xr(e,(function(e,t){e&&a.error(r.a.createElement("div",null,"Failed to move ",r.a.createElement("b",null,n.search)," to folder ",r.a.createElement("strong",null,c.selectedFolder))),t&&a.success(r.a.createElement("div",null,r.a.createElement("strong",null,n.search)," has been moved to folder ",r.a.createElement("strong",null,c.selectedFolder))),i(e,t)})))}}};e.hasOwnProperty("folderId")&&(i=Object(I.a)(Object(I.a)({},i),{},{folder_id:e.folderId})),t(Br(i))}),[t,e]),se=Object(n.useCallback)((function(e){var a={type:"confirmation",headerText:"Download file",submitText:"Download",cancelText:"Cancel",bodyText:"Download ".concat(e.search,"?"),actions:{onSubmit:function(){if(e.hasOwnProperty("payload_id")){var t=document.createElement("a");t.href="https://drive.google.com/u/0/uc?export=download&id=".concat(e.payload_id),t.target="_blank",t.click()}else{var a=document.createElement("a");a.href=e.download_link,a.target="_blank",a.click()}}}};t(Br(a))}),[t,e]),de=function(e){return e?e<1e6?{size:e/1e3,unit:"KB"}:e<1e9?{size:e/1e6,unit:"MB"}:e<1e12?{size:e/1e9,unit:"GB"}:void 0:{size:0,unit:"KB"}},ue=Object(n.useCallback)((function(e){t(Ln(e))}),[t]),me=Object(n.useCallback)((function(e){t(dr(e))}),[t]),pe=Object(n.useCallback)((function(e){var n={type:"confirmation",headerText:"Remove Google attachment",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this file?",actions:{onSubmit:function(){var n={link_id:e.link_id,link_type:"topic_drive",attachment_type:e.attachment_type,attachment_id:e.id,payload:{id:e.payload_id,name:e.search,mime_type:e.mime_type}};t(Qn(n,(function(t,n){a.info("You have removed ".concat(e.search,"."))})))}}};t(Br(n))}),[t]),fe=Object(n.useCallback)((function(e){var n={type:"confirmation",headerText:"Remove Google folder",cancelText:"Cancel",submitText:"Remove",bodyText:"Are you sure you want to remove this folder?",actions:{onSubmit:function(){var n={link_id:e.link_id,link_type:"topic_drive",attachment_type:e.attachment_type,attachment_id:e.id,payload:{id:e.payload_id,name:e.search,mime_type:e.mime_type}};t(Qn(n,(function(t,n){a.info("You have removed ".concat(e.search,"."))})))}}};t(Br(n))}),[t]),be=Object(n.useCallback)((function(e){t(zn(e))}),[t]),he=Object(n.useCallback)((function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Tr(Object(I.a)(Object(I.a)({},a),{},{topic_id:e.workspaceId}),n))}),[t]),Ee=Object(n.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{notification:!0};t(wr(e,(function(t,i){i&&r.notification&&a.success("Item ".concat(e.search," is restored.")),n(t,i)})))}),[t]),_e=Object(n.useCallback)((function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Nr(Object(I.a)(Object(I.a)({},a),{},{topic_id:e.workspaceId,folder_id:a.id}),n))}),[t]),ge=Object(n.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Sr(Object(I.a)(Object(I.a)({},e),{},{folder_id:e.id}),a))}),[t]);return{addGoogleDriveFile:be,clearSearch:ne,copyLink:re,createFolder:M,download:se,favorite:Z,getFavoriteFiles:X,getFileIcon:s,getFiles:T,getFilesDetail:P,getFolders:U,getFoldersBreadcrumb:G,getPopularFiles:D,getEditedFiles:L,getTrashFiles:F,moveFile:oe,removeFile:V,removeFolder:Y,removeTrashFiles:ie,renameFile:q,search:te,updateFolder:B,uploadFiles:H,viewFiles:$,viewCompanyFiles:ee,getFileSizeUnit:de,getPrimaryFiles:w,getGoogleDriveFiles:N,getGoogleDriveFolders:S,unlinkGoogleAttachment:pe,unlinkGoogleFolder:fe,uploadWorkspaceGoogleDriveFile:W,uploadCompanyGoogleDriveFile:Q,uploadingFiles:ue,fetchCompanyFiles:u,fetchCompanyFavoriteFiles:m,fetchCompanyFilesDetail:p,fetchCompanyFolderBreadCrumbs:f,fetchCompanyFolders:b,fetchCompanyPopularFiles:h,fetchCompanyRecentEditedFiles:E,fetchCompanyTrashedFiles:_,createCompanyFolders:g,renameCompanyFile:J,moveCompanyFile:le,uploadingCompanyFiles:me,uploadCompanyFiles:O,uploadCompanyBulkFiles:v,viewCompanyFile:C,updateCompanyFiles:j,updateCompanyFolders:k,removeCompanyFile:K,removeAllCompanyTrashFiles:ce,removeCompanyFolder:z,deleteCompanyFolder:y,searchCompany:ae,restoreWorkspaceFile:he,restoreCompanyFile:Ee,restoreWorkspaceFolder:_e,restoreCompanyFolder:ge,getCompanyGoogleDriveFolders:x,getCompanyGoogleDriveFiles:R}},$s=a(51);function ed(){var e=Object(s.a)(["\n  word-break: break-word;\n"]);return ed=function(){return e},e}function td(){var e=Object(s.a)(["\n  margin-right: 10px;\n  min-width: 24px;\n"]);return td=function(){return e},e}function ad(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n"]);return ad=function(){return e},e}var nd=m.a.div(ad()),rd=Object(m.a)(Se)(td()),id=m.a.div(ed()),cd=function(){var e=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$s.c.success(r.a.createElement(nd,null,r.a.createElement(rd,{icon:"check",strokeWidth:"2"}),r.a.createElement(id,null,e)),t)}),[]),t=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$s.c.error(r.a.createElement(nd,null,r.a.createElement(rd,{icon:"alert-x",strokeWidth:"2"}),r.a.createElement(id,null,e)),t)}),[]),a=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$s.c.info(r.a.createElement(nd,null,r.a.createElement(rd,{icon:"info",strokeWidth:"2"}),r.a.createElement(id,null,e)),t)}),[]);return{success:e,error:t,warning:Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$s.c.warn(r.a.createElement(nd,null,r.a.createElement(rd,{icon:"warning",strokeWidth:"2"}),r.a.createElement(id,null,e)),t)}),[]),info:a,notify:Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object($s.c)(r.a.createElement(nd,null,r.a.createElement(id,null,e)),t)}),[])}},od=function(e){var t=Object(o.useSelector)((function(e){return e.notifications}));return{notifications:t.notifications,unreadCount:t.unreadCount}},ld=function(e){var t=Object(o.useDispatch)(),a=cd(),i=Object(n.useCallback)((function(e,a){t(Cl(e,a))}),[t]),c=Object(n.useCallback)((function(e){t(jl(e,(function(a,n){a||t(function(e,t){return y("READ_NOTIFICATION_REDUCER",e,t)}(e))})))}),[t]),l=Object(n.useCallback)((function(e){t(yl(e,(function(e,n){e?a.error(r.a.createElement(r.a.Fragment,null,"Action failed")):n&&(t(function(e,t){return y("READ_ALL_NOTIFICATION_REDUCER",e,t)}()),a.success(r.a.createElement(r.a.Fragment,null,"You marked all notifications read")))})))}),[t]),s=Object(n.useCallback)((function(e){t(kl(e,(function(a,n){a||t(function(e,t){return y("UNREAD_NOTIFICATION_REDUCER",e,t)}(e))})))}),[t]);return{get:i,read:c,readAll:l,remove:Object(n.useCallback)((function(e){t(Tl(e,(function(a,n){a||t(function(e,t){return y("REMOVE_NOTIFICATION_REDUCER",e,t)}(e))})))}),[t]),removeAll:Object(n.useCallback)((function(){t(wl(0,(function(e,a){e||t(function(e,t){return y("REMOVE_ALL_NOTIFICATION_REDUCER",e,t)}())})))}),[t]),selectWorkspace:Object(n.useCallback)((function(e,a){t(Ns(e,a))}),[t]),unread:s}},sd=(a(492),a(493),function(){var e=Sl().generalSettings,t=e.timezone,a=e.date_format,n=e.time_format,r=e.language;ec.a.locale(r),ec.a.tz.setDefault(t);return{fromNow:function(e){return ec()(ec()(e,"X").toDate()).locale(r).fromNow()},localizeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(a," ").concat(n),i=ec()(ec()(e,"X").toDate());return i.locale(r).format(t)},localizeTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(n),a=ec()(ec()(e,"X").toDate());return a.locale(r).format(t)},localizeChatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LL";ec.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",sameDay:"[Today]",lastWeek:"dddd",sameElse:t}}),ec.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",sameDay:"[vandaag]",lastWeek:"dddd",sameElse:t}});var a=ec()(ec()(e,"X").toDate());return a.locale(r).calendar()},todayOrYesterdayDate:function(e){return ec.a.updateLocale("en",{calendar:{lastDay:"[Yesterday] ".concat(n),sameDay:"[Today] ".concat(n),sameElse:"dddd[,] ".concat(n)}}),ec.a.updateLocale("nl",{calendar:{lastDay:"[gisteren] ".concat(n),sameDay:"[vandaag] ".concat(n),sameElse:"dddd[,] ".concat(n)}}),ec()(ec()(e,"X").toDate()).locale(r).calendar()},todoFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LL ".concat(n);ec.a.updateLocale("en",{calendar:{lastDay:"[Yesterday at] ".concat(n),nextDay:"[Tomorrow at] ".concat(n),sameDay:"[Today at] ".concat(n),nextWeek:"dddd [at] ".concat(n),lastWeek:"[Last] dddd [at] ".concat(n),sameElse:t}}),ec.a.updateLocale("nl",{calendar:{lastDay:"[gisteren om] ".concat(n),nextDay:"[morgen om] ".concat(n),sameDay:"[vandaag om] ".concat(n),nextWeek:"dddd [om] ".concat(n),lastWeek:"[afgelopen] dddd [om] ".concat(n),sameElse:t}});var a=ec()(ec()(e,"X").toDate());return a.locale(r).calendar()},todoFormatShortCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(a," ").concat(n);ec.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",nextDay:"[Tomorrow]",sameDay:"[Today]",nextWeek:"[Next] dddd",lastWeek:"[Last] dddd",sameElse:t}}),ec.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",nextDay:"[morgen]",sameDay:"[vandaag]",nextWeek:"[deze] dddd",lastWeek:"[afgelopen] dddd",sameElse:t}});var i=ec()(ec()(e,"X").toDate());return i.locale(r).calendar()},channelPreviewDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(a);ec.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",sameDay:"".concat(n),lastWeek:"dddd",sameElse:t}}),ec.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",sameDay:"".concat(n),nextWeek:"[deze] dddd",lastWeek:"[afgelopen] dddd",sameElse:t}});var i=ec()(ec()(e,"X").toDate());return i.locale(r).calendar()}}});function dd(e,t){return k(function(e){return F({method:"GET",url:"/v2/global-search?".concat(C(e))})}(e),"SEARCH_START","SEARCH_SUCCESS","SEARCH_FAIL",t)}var ud=function(){var e=Object(o.useDispatch)();return{search:Object(n.useCallback)((function(t,a){e(dd(t,a))}),[e]),saveSearchValue:Object(n.useCallback)((function(t,a){e(function(e,t){return y("SAVE_SEARCH_INPUT",e,t)}(t,a))}),[e]),updateTabPage:Object(n.useCallback)((function(t,a){e(function(e,t){return y("UPDATE_TAB",e,t)}(t,a))}),[e])}},md=function(){var e=Object(o.useSelector)((function(e){return e.global})),t=e.searching,a=e.searchCount,n=e.searchResults,r=e.searchValue,i=e.tabs;return{count:a,results:Object.values(n),value:r,searching:t,tabs:i}},pd=function(){var e=Object(o.useDispatch)(),t=Object(o.useSelector)((function(e){return e.global.isLoading})),a=Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Mr(!t,a))})),r=Object(n.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Mr(!0,t))})),i=Object(n.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Mr(!1,t))}));return{isActive:t,toggle:a,show:r,hide:i}},fd=function(){var e=Object(o.useDispatch)(),t=Object(d.g)(),a=Object(n.useCallback)((function(e,a){t.push("/chat/".concat(e.code))}),[]),r=Object(n.useCallback)((function(e,a,n){t.push("/chat/".concat(e.code,"/").concat(a.code))}),[]),i=Object(n.useCallback)((function(a){if(console.log(a),a.workspaces.length){var n={id:a.workspaces[0].topic.id,name:a.workspaces[0].topic.name,folder_id:a.workspaces[0].workspace?a.workspaces[0].workspace.id:null,folder_name:a.workspaces[0].workspace?a.workspaces[0].workspace.name:null};e(Ns(n)),n.folder_id?t.push("/workspace/files/".concat(n.folder_id,"/").concat(ue(n.folder_name),"/").concat(n.id,"/").concat(ue(n.name))):t.push("/workspace/files/".concat(n.id,"/").concat(ue(n.name)))}else t.push("/files")}),[]),c=Object(n.useCallback)((function(e){t.push("/profile/".concat(e.id,"/").concat(ue(e.name)))}),[]),l=Object(n.useCallback)((function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=a.post,i=a.workspace;i?(e(Ns(i)),i.folder_id?t.push("/workspace/posts/".concat(i.folder_id,"/").concat(ue(i.folder_name),"/").concat(i.id,"/").concat(ue(i.name),"/post/").concat(r.id,"/").concat(ue(r.title)),n):t.push("/workspace/posts/".concat(i.id,"/").concat(ue(i.name),"/post/").concat(r.id,"/").concat(ue(r.title)),n)):t.push("/posts/".concat(r.id,"/").concat(ue(r.title)),n)}),[]),s=Object(n.useCallback)((function(a){e(Ns(a)),a.folder_id?t.push("/workspace/chat/".concat(a.folder_id,"/").concat(ue(a.folder_name),"/").concat(a.id,"/").concat(ue(a.name))):t.push("/workspace/chat/".concat(a.id,"/").concat(ue(a.name)))}),[]);return{fetchWorkspaceAndRedirect:Object(n.useCallback)((function(a){e(Ms({topic_id:a.id},(function(n,r){var i;n||(e(Ns(a)),e(y("SET_WORKSPACE_TO_DELETE",a.id,i)),a.folder_id?t.push("/workspace/chat/".concat(a.folder_id,"/").concat(ue(a.folder_name),"/").concat(a.id,"/").concat(ue(a.name))):t.push("/workspace/chat/".concat(a.id,"/").concat(ue(a.name))))})))}),[]),toChannel:a,toChat:r,toFiles:i,toPeople:c,toPost:l,toWorkspace:s,toTodos:Object(n.useCallback)((function(){t.push("/todos")}),[])}},bd=function(){var e=Xs().addGoogleDriveFile,t="363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",a="AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",n=function(e){e.preventDefault(),window.gapi.auth2.getAuthInstance().signIn()},i=function(t,a,i){t?window.gapi.client.load("drive","v2",(function(){window.gapi.client.drive.files.get({fileId:i,includePermissionsForView:"published",supportsAllDrives:!0}).execute((function(t){t.error?(e({file_id:i,metadata:{title:r.a.createElement("span",{className:"link"},a.href)}}),a.innerHTML='<span class="link">'.concat(a.href,"</span>"),a.onclick=null):(e({file_id:i,metadata:t}),a.innerHTML=t.title,a.onclick=null)}))})):a.onclick=n};return{getFile:function(e,n){window.gapi.load("client:auth2",Object(D.a)(P.a.mark((function r(){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:window.gapi.client.init({clientId:t,apiKey:a,scope:"email https://www.googleapis.com/auth/drive.metadata.readonly",access_type:"offline"}).then(Object(D.a)(P.a.mark((function r(){var c;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.gapi.auth2.getAuthInstance();case 2:c=r.sent,window.gapi.auth.authorize({client_id:t,api_key:a,scope:"email https://www.googleapis.com/auth/drive.metadata.readonly",immediate:!0},(function(t){t.access_token?i(t.access_token,e,n):i(null,e,n)})),c.isSignedIn.listen((function(){i(c.isSignedIn.get(),e,n)}));case 5:case"end":return r.stop()}}),r)}))));case 1:case"end":return r.stop()}}),r)}))))}}},hd=!1,Ed=function(){var e=Object(d.i)(),t=us(),a=Object(o.useSelector)((function(e){return e.session.user})),r=Object(o.useSelector)((function(e){return e.posts.companyPosts})),i=r.flipper,c=r.limit,l=r.next_skip,s=r.has_more,u=r.posts,m=r.filter,f=r.tag,b=r.count,h=r.sort,E=r.search,_=r.searchResults,g=Object(n.useState)(null),O=Object(p.a)(g,2),A=O[0],v=O[1],C=function(e){s&&t.fetchCompanyPosts({skip:l,limit:c},e)};Object(n.useEffect)((function(){e.postId&&u[e.postId]?v(u[e.postId]):v(null)}),[e]),Object(n.useEffect)((function(){hd||(hd=!0,C(),t.fetchCompanyPosts({filters:["post","archived"]}))}),[]);var j=Object.values(u).filter((function(e){return m?"my_posts"===m?!!e.hasOwnProperty("author")&&e.author.id===a.id:"draft"===m?e.hasOwnProperty("draft_type"):"star"===m?e.is_favourite:"archive"===m?1===e.is_archived:"all"===m?!e.is_archived:void 0:!f||("is_must_reply"===f?e.is_must_reply&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_must_read"===f?e.is_must_read&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_read_only"!==f||e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type"))})).sort((function(e,t){return"favorite"===h?e.is_favourite===t.is_favourite?0:e.is_favourite?-1:1:"unread"===h?e.is_updated===t.is_updated?0:e.is_updated?1:-1:t.created_at.timestamp>e.created_at.timestamp?1:-1}));b&&(b.is_must_reply=Object.values(u).filter((function(e){return e.is_must_reply&&e.is_must_reply&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,b.is_must_read=Object.values(u).filter((function(e){return e.is_must_read&&e.is_must_read&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,b.is_read_only=Object.values(u).filter((function(e){return e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length),_.length>0&&E?j=j.filter((function(e){return _.some((function(t){return e.id===t.id}))})):0===_.length&&E&&(j=[]),b.is_must_reply=Object.values(u).filter((function(e){return e.is_must_reply&&e.is_must_reply&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,b.is_must_read=Object.values(u).filter((function(e){return e.is_must_read&&e.is_must_read&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,b.is_read_only=Object.values(u).filter((function(e){return 1===e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length;var k={all:Object.values(u).length,my_posts:Object.values(u).filter((function(e){return e.author&&e.author.id===a.id})).length,starred:Object.values(u).filter((function(e){return e.is_favourite})).length,archived:Object.values(u).filter((function(e){return e.is_archived})).length,drafts:Object.values(u).filter((function(e){return"draft_post"===e.type})).length};return{flipper:i,actions:t,fetchMore:C,posts:j,filter:m,tag:f,sort:h,post:A,search:E,user:a,count:b,counters:k}},_d=function(){var e=Object(d.i)(),t=Xs(e),a=Object(o.useSelector)((function(e){return e.workspaces.activeTopic})),r=Object(o.useSelector)((function(e){return e.files.companyFiles})),i=r.init,c=r.count,l=r.has_more,s=r.skip,u=r.limit,m=r.items,f=r.search_results,b=r.search_value,h=Object(o.useSelector)((function(e){return e.files.companyFolders})),E=h.init,_=h.has_more,g=h.skip,O=h.limit,A=h.items,v=Object(o.useSelector)((function(e){return e.files.companyFiles.recently_edited})),C=v.init,j=v.has_more,k=v.skip,y=v.limit,T=v.items,w=Object(o.useSelector)((function(e){return e.files.companyFiles.favorite_files})),N=w.init,S=w.has_more,x=w.skip,I=w.limit,R=w.items,P=Object(o.useSelector)((function(e){return e.files.companyFiles.popular_files})),D=P.init,L=P.has_more,F=P.skip,M=P.limit,U=P.items,G=Object(o.useSelector)((function(e){return e.files.companyFiles.trash_files})),B=G.init,H=G.has_more,W=G.skip,Q=G.limit,Y=G.items,z=Object(o.useSelector)((function(e){return e.files.companyFiles.google_files})),V=z.init,K=z.has_more,q=z.skip,J=z.limit,Z=(z.items,Object(o.useSelector)((function(e){return e.files.companyFolders.google_folders}))),X=Z.init,$=(Z.has_more,Z.skip),ee=Z.limit,te=(Z.items,Object(o.useSelector)((function(e){return e.files.googleDriveApiFiles}))),ae=Object(n.useState)(null),ne=Object(p.a)(ae,2),re=ne[0],ie=ne[1],ce=Object(n.useState)(!1),oe=Object(p.a)(ce,2),le=oe[0],se=oe[1],de=Object(n.useState)(!1),ue=Object(p.a)(de,2),me=ue[0],pe=ue[1],fe=Object(n.useState)(!1),be=Object(p.a)(fe,2),he=be[0],Ee=be[1],_e=Object(n.useState)(!1),ge=Object(p.a)(_e,2),Oe=ge[0],Ae=ge[1],ve=Object(n.useState)(!1),Ce=Object(p.a)(ve,2),je=Ce[0],ke=Ce[1],ye=Object(n.useState)(!1),Te=Object(p.a)(ye,2),we=Te[0],Ne=Te[1],Se=Object(n.useState)(!1),xe=Object(p.a)(Se,2),Ie=xe[0],Re=xe[1],Pe=Object(n.useState)(!1),De=Object(p.a)(Pe,2),Le=De[0],Fe=De[1],Me=Object(n.useState)(!1),Ue=Object(p.a)(Me,2),Ge=(Ue[0],Ue[1]),Be=function(){!me&&l&&(pe(!0),t.fetchCompanyFiles({skip:s,limit:u},(function(){pe(!1)})))},He=Object(n.useCallback)((function(){re&&!he&&(Ee(!0),re.has_more&&(pe(!0),t.fetchCompanyFiles({skip:re.skip,limit:re.limit,folder_id:re.id},(function(){Ee(!1)}))))}),[re,Ee]),We=function(){!je&&S&&(ke(!0),t.fetchCompanyFavoriteFiles({skip:x,limit:I},(function(){ke(!1)})))},Qe=function(){!we&&L&&(Ne(!0),t.fetchCompanyPopularFiles({skip:F,limit:M},(function(){Ne(!1)})))},Ye=function(){!Ie&&H&&(Re(!0),t.fetchCompanyTrashedFiles({skip:W,limit:Q},(function(){Re(!1)})))},ze=function(){!Le&&K&&(Fe(!0),t.getCompanyGoogleDriveFolders({skip:$,limit:ee},(function(){Fe(!1)})))},Ve=function(){!he&&K&&(Ge(!0),t.getCompanyGoogleDriveFiles({skip:q,limit:J},(function(){Ge(!1)})))};Object(n.useEffect)((function(){t.fetchCompanyFilesDetail(),i||Be(),E||!le&&_&&(se(!0),t.fetchCompanyFolders({skip:g,limit:O},(function(){se(!1)}))),X||ze(),V||Ve(),D||Qe(),N||We(),C||!Oe&&j&&(Ae(!0),t.fetchCompanyRecentEditedFiles({skip:k,limit:y},(function(){Ae(!1)}))),B||Ye()}),[]),Object(n.useEffect)((function(){!e.folderId||null!==re&&re.id===e.folderId?e.folderId||ie(null):"undefined"!==typeof A[e.folderId]?(t.fetchCompanyFolderBreadCrumbs({folder_id:e.folderId}),ie(A[e.folderId])):ie(null)})),Object(n.useEffect)((function(){re&&(re.init||He())}),[re]);var Ke=[];return Ke=""!==b?f.sort((function(e,t){return t>e?1:-1})):e.hasOwnProperty("folderId")&&A.hasOwnProperty(e.folderId)&&A[e.folderId].hasOwnProperty("files")?Object.values(A[e.folderId].files).sort((function(e,t){return t>e?1:-1})):Object.values(m).filter((function(e){return null===e.folder_id})).map((function(e){return e.id})).sort((function(e,t){return t>e?1:-1})),{params:e,isLoaded:i,files:{files:m,recently_edited:T,popular_files:U,favorite_files:R,trash_files:Y},fileCount:c,actions:t,topic:a,fileIds:Ke,folders:A,subFolders:re?re.subFolders:[],folder:re,googleDriveApiFiles:te,loadMore:{files:Be,popularFiles:Qe,favoriteFiles:We,trashFiles:Ye,googleDriveFiles:Ve,googleDriveFolders:ze}}},gd=function(){var e=Object(o.useDispatch)();return{fetchCompanyTimeline:Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Y(t,a))}),[]),fetchCompanyRecentPosts:Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(z(t,a))}),[]),fetchCompanyMembers:Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(V(t,a))}),[])}},Od=function(){var e=gd(),t=Object(o.useSelector)((function(e){return e.dashboard.timeline})),a=t.init,r=t.skip,i=t.limit,c=t.has_more,l=t.items,s=Object(o.useSelector)((function(e){return e.dashboard.members})),d=s.init,u=s.skip,m=s.limit,p=s.has_more,f=s.items,b=Object(o.useSelector)((function(e){return e.dashboard.recent_posts})),h=b.init,E=b.skip,_=b.limit,g=b.has_more,O=b.items,A=function(t){c&&e.fetchCompanyTimeline({skip:r,limit:i},t)},v=function(t){g&&e.fetchCompanyRecentPosts({skip:E,limit:_},t)},C=function(t){p&&e.fetchCompanyMembers({skip:u,limit:m},t)};return Object(n.useEffect)((function(){a||A(),d||C(),h||v()}),[]),{actions:e,fetchMoreTimeline:A,fetchMoreRecentPosts:v,fetchMoreMembers:C,timelineInit:a,timelineItems:l,recentPostsInit:h,recentPostsItems:O,membersInit:d,membersItems:f}},Ad=function(){var e=Object(o.useSelector)((function(e){return e.chat})),t=e.channels,a=e.lastVisitedChannel,r=Il(),i=Object(d.j)(),c=Object(d.g)(),l=i.params,s=i.url,u=function(){r.fetchLastVisited((function(e,t){t&&(r.select(Object(I.a)(Object(I.a)({},t.data),{},{hasMore:!0,skip:0,selected:!1,isFetching:!1})),c.location.pathname.startsWith("/chat")&&c.push("/chat/".concat(t.data.code)))}))};Object(n.useEffect)((function(){a?(r.select(t[a.id]),"/chat"===s&&"undefined"===typeof l.code&&c.push("/chat/".concat(a.code))):"undefined"===typeof l.code?u():r.fetchByCode(l.code,(function(e,t){if(e&&u(),t){var a=Object(I.a)(Object(I.a)({},t.data),{},{hasMore:!0,skip:0,selected:!1,isFetching:!1});r.select(a),r.setLastVisitedChannel(a)}}))}),[])},vd=function(){var e=Object(o.useDispatch)(),t=Object(n.useCallback)((function(t,a){e(qs(t,a))}),[e]),a=Object(n.useCallback)((function(t,a){e(function(e,t){return y("UPDATE_WORKSPACE_SEARCH",e,t)}(t,a))}),[e]);return{join:Object(n.useCallback)((function(t,a){e(xs(t,a))}),[e]),search:t,updateSearch:a}},Cd=function(){var e=Object(o.useDispatch)(),t=cd(),a=fl()._t,i={toasterGeneraError:a("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:a("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterUpdateTodo:a("TOASTER.TODO_UPDATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterDoneTodo:a("TOASTER.TODO_UNDONE_SUCCESS","You have mark ::todo_title:: as done."),toasterUnDoneTodo:a("TOASTER.TODO_UNDONE_SUCCESS","You have mark ::todo_title:: as undone."),toasterDeleteTodo:a("TOASTER.TODO_DELETE_SUCCESS","You have successfully deleted ::todo_title::."),modalConfirmationTodoRemoveHeader:a("MODAL_CONFIRMATION.TODO_REMOVE_HEADER","Remove reminder item?"),modalConfirmationTodoRemoveBody:a("MODAL_CONFIRMATION.TODO_REMOVE_BODY","Are you sure you want to remove this item?"),modalConfirmationTodoRemoveSubmit:a("MODAL_CONFIRMATION.TODO_REMOVE_SUBMIT","Remove"),modalConfirmationTodoRemoveCancel:a("MODAL_CONFIRMATION.TODO_REMOVE_CANCEL","Cancel")},c=Object(n.useCallback)((function(t,a){e(si(t,a))}),[]),l=Object(n.useCallback)((function(t,a){e(di(t,a))}),[]),s=Object(n.useCallback)((function(t,a){e(oi(t,a))}),[]),d=Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};s(e,(function(e,c){e&&t.error(i.toasterGeneraError),c&&t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterCreateTodo}})),n(e,c),a(e,c)}))},c={type:"todo_reminder",actions:{onSubmit:n}};e(Br(c))}),[e]),u=Object(n.useCallback)((function(t,a,n){e(oi(Object(I.a)(Object(I.a)({},a),{},{link_id:t,link_type:"POST"}),n))}),[]),m=Object(n.useCallback)((function(t,a,n){e(oi(Object(I.a)(Object(I.a)({},a),{},{link_id:t,link_type:"POST_COMMENT"}),n))}),[]),p=Object(n.useCallback)((function(t,a,n){e(oi(Object(I.a)(Object(I.a)({},a),{},{link_id:t,link_type:"CHAT"}),n))}),[]),f=Object(n.useCallback)((function(t,a){e(li(t,a))}),[]),b=Object(n.useCallback)((function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};f(Object(I.a)(Object(I.a)({},e),{},{id:a.id}),(function(e,a){e&&t.error(i.toasterGeneraError),a&&t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterUpdateTodo}})),c(e,a),n(e,a)}))},o={type:"todo_reminder",mode:"edit",item:Object(I.a)(Object(I.a)({},a),{},{body:a.description}),parentItem:a,itemType:a.link_type,actions:{onSubmit:c}};e(Br(o))}),[e]),h=Object(n.useCallback)((function(a,n){e(ui({todo_id:a.id},(function(e,c){c&&t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterDoneTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}})),n(e,c)})))}),[]),E=Object(n.useCallback)((function(a,n){e(ui(Object(I.a)({todo_id:a.id},"DONE"===a.status&&{undo:1}),(function(e,c){c&&("DONE"===c.data.status?t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterDoneTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}})):t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterUnDoneTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}}))),n(e,c)})))}),[]),_=Object(n.useCallback)((function(a,n){e(mi({todo_id:a.id},(function(e,c){c&&t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterDeleteTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}})),n(e,c)})))}),[]),g=Object(n.useCallback)((function(t,a){e(Br({type:"confirmation",headerText:i.modalConfirmationTodoRemoveHeader,submitText:i.modalConfirmationTodoRemoveSubmit,cancelText:i.modalConfirmationTodoRemoveCancel,bodyText:i.modalConfirmationTodoRemoveBody,actions:{onSubmit:function(){_(t,a)}}}))}),[e]);return{fetch:c,fetchDetail:l,create:s,createFromModal:d,createForPost:u,createForPostComment:m,createForChat:p,update:f,updateFromModal:b,markDone:h,toggleDone:E,remove:_,removeConfirmation:g}},jd=!1,kd=function(){var e=Object(o.useSelector)((function(e){return e.global.todos})),t=e.isLoaded,a=e.skip,r=e.limit,i=e.hasMore,c=e.items,l=e.count,s=Cd(),d=Object(n.useState)(!1),u=Object(p.a)(d,2),m=u[0],f=u[1],b=function(){!m&&i&&(f(!0),s.fetch({skip:a,limit:r},(function(){f(!1)})))};return Object(n.useEffect)((function(){jd||(jd=!0,s.fetchDetail({}),b())}),[]),{isLoaded:t,items:c,count:l,getSortedItems:function(e){var t=e.filter,a=void 0===t?"":t;return Object.values(c).sort((function(e,t){if(e.status!==t.status){if("DONE"===e.status)return 1;if("DONE"===t.status)return-1;if("OVERDUE"===e.status)return-1;if("OVERDUE"===t.status)return 1}return null!==t.remind_at&&null!==e.remind_at?t.remind_at.timestamp-e.remind_at.timestamp:"null"!==t.remind_at?-1:"null"!==e.remind_at?1:void 0})).filter((function(e){return!a||!(""!==a.search&&!e.title.toLowerCase().includes(a.search.toLowerCase().trim())&&!e.description.toLowerCase().includes(a.search.toLowerCase().trim()))&&(""!==a.status?e.status===a.status:"DONE"!==e.status)}))},action:Object(I.a)(Object(I.a)({},s),{},{loadMore:b})}},yd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{addressTo:[]},t=Object(o.useSelector)((function(e){return e.global})),a=t.recipients,r=Object(o.useSelector)((function(e){return e.workspaces})),i=r.workspaces,c=r.activeTopic,l=Object(o.useSelector)((function(e){return e.users})),s=l.users,d=a.sort((function(e,t){return e.name.localeCompare(t.name)})),u=d.find((function(e){return!0===e.main_department})),m=d.filter((function(e){return"TOPIC"===e.type})),f=d.filter((function(e){return"USER"===e.type&&1===e.active})).sort((function(e,t){return e.name.localeCompare(t.name)})),b=Object(n.useState)([]),h=Object(p.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)(!1),O=Object(p.a)(g,2),A=O[0],v=O[1],C=function(e){var t=Object.values(s).filter((function(e){return 1===e.active&&"internal"===e.type})).map((function(e){return e}));return Object($.a)(e.map((function(a){return Object(I.a)(Object(I.a)(Object(I.a)({},a),{},{icon:["TOPIC","DEPARTMENT"].includes(e.type)?"compass":"user-avatar"},{member_ids:t.map((function(e){return e.id})),members:t.map((function(e){return e}))}),{},{value:a.id,label:a.name})})))},j=function(){return[Object(I.a)(Object(I.a)(Object(I.a)({},m.filter((function(e){return e.type_id===c.id}))),c),{},{icon:"compass",value:c.id,label:c.name})]},k=function(){var e=Object.values(s).filter((function(e){return 1===e.active&&"internal"===e.type})).map((function(e){return e}));return[Object(I.a)(Object(I.a)({},u),{},{member_ids:e.map((function(e){return e.id})),members:e.map((function(e){return e})),icon:"home",value:u.id,label:u.name})]};Object(n.useEffect)((function(){if(!A&&u){v(!0);var e=[];m.forEach((function(t){"undefined"!==typeof i[t.type_id]&&"WORKSPACE"===i[t.type_id].type&&e.push(Object(I.a)(Object(I.a)(Object(I.a)({},t),i[t.type_id]),{},{icon:"compass",value:t.id,label:t.name}))}));var t=[];f.forEach((function(e){"undefined"!==typeof s[e.type_id]&&1===s[e.type_id].active&&t.push(Object(I.a)(Object(I.a)(Object(I.a)({},e),s),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"}))}));var a=Object.values(s).filter((function(e){return 1===e.active&&"internal"===e.type})).map((function(e){return e}));_([].concat(Object($.a)(u&&[Object(I.a)(Object(I.a)({},u),{},{member_ids:a.map((function(e){return e.id})),members:a.map((function(e){return e})),icon:"home",value:u.id,label:u.name})]),e,t))}}),[E,a,i,_]);var y=[],T=[],w=[],N=[],S=!1;return e.addressTo.forEach((function(e){w.push(e.id),["DEPARTMENT","TOPIC","WORKSPACE"].includes(e.type)&&(e.member_ids||console.log(e),N=[e.type_id],T=[].concat(Object($.a)(T),Object($.a)(e.member_ids))),"USER"===e.type&&(y.push(e.type_id),T=[].concat(Object($.a)(T),[e.type_id]),S||(S=!0))})),{options:E,user_ids:Object($.a)(new Set(T)),workspace_ids:N,responsible_ids:y,recipient_ids:w,is_personal:S,getAddressTo:C,getDefaultAddressTo:j,getDefaultAddressToAsCompany:k}};function Td(){var e=Object(s.a)(["\n  overflow: auto;\n\n  &.list-group {\n    max-height: 390px !important;\n    @media all and (max-width: 620px) {\n      max-height: 60vh !important;\n      max-height: calc(var(--vh, 1vh) * 100 - 196px) !important;\n    }\n  }\n\n"]);return Td=function(){return e},e}var wd=m.a.ul(Td()),Nd=function(e){var t=e.notifications,a=e.actions,n=e.history,i=e.dictionary,c=e.removeOverlay,l=fd(),s=fl()._t,d=Object(o.useSelector)((function(e){return e.session.user}));return 0===Object.keys(t).length?null:r.a.createElement(wd,{className:"list-group list-group-flush"},0===Object.values(t).length&&r.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},r.a.createElement("span",null,i.noNotificationsToShow)),Object.values(t).filter((function(e){return 0===e.is_read})).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},r.a.createElement("span",null,i.new)),Object.values(t).filter((function(e){return 0===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).map((function(e){return r.a.createElement(Id,{key:e.id,notification:e,actions:a,history:n,redirect:l,removeOverlay:c,_t:s,user:d})}))),Object.values(t).filter((function(e){return 1===e.is_read})).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},r.a.createElement("span",null,i.oldNotifications)),Object.values(t).filter((function(e){return 1===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).map((function(e){return r.a.createElement(Id,{key:e.id,notification:e,actions:a,history:n,redirect:l,removeOverlay:c,_t:s,user:d})}))))};function Sd(){var e=Object(s.a)(["\n  cursor: pointer;\n\n  .notification-container {\n    max-width: calc(100% - 60px);\n  }\n  .notification-title {\n    overflow: hidden;\n    display: block !important;\n    text-overflow: ellipsis;\n    width: calc(100% - 10px);\n    white-space: nowrap;\n    line-height: 1.1;\n  }\n  .list-group-item {\n    border: none;\n  }\n\n  .avatar {\n    margin-right: 1rem;\n  }\n  p {\n    margin: 0;\n  }\n"]);return Sd=function(){return e},e}var xd=m.a.li(Sd()),Id=function(e){var t=e.notification,a=e.actions,n=e.redirect,i=e.removeOverlay,c=e._t,o=e.user,l=sd().fromNow,s=function(e){if(e.preventDefault(),i(),0===t.is_read&&a.read({id:t.id}),"NEW_TODO"===t.type)n.toTodos();else{var r={id:t.data.post_id,title:t.data.title},c=null,o=null;t.data.workspaces&&t.data.workspaces.length&&(c={id:(c=t.data.workspaces[0]).topic_id,name:c.topic_name,folder_id:c.workspace_id?c.workspace_id:null,folder_name:c.workspace_name?c.workspace_name:null}),"POST_COMMENT"!==t.type&&"POST_MENTION"!==t.type||t.data.comment_id&&(o={focusOnMessage:t.data.comment_id}),n.toPost({workspace:c,post:r},o)}},d=function(e){e.preventDefault(),e.stopPropagation(),0===t.is_read?a.read({id:t.id}):a.unread({id:t.id})},u={post:c("NOTIFICATION.POST_POPUP","Shared a post"),comment:c("NOTIFICATION.COMMENT_POPUP","Made a comment in ::title::",{title:t.data.title}),mention:c("NOTIFICATION.MENTION_POPUP","Mentioned you in ::title::",{title:t.data.title}),reminder:c("NOTIFICATION.REMINDER_POPUP","You asked to be reminded about ::title::",{title:t.data.title})},m=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return r.a.createElement(xd,null,r.a.createElement("span",{className:"list-group-item d-flex hide-show-toggler"},r.a.createElement("div",null,null!==t.author&&r.a.createElement(Fe,{id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_link}),"NEW_TODO"===t.type&&r.a.createElement(Fe,{id:o.id,name:o.name,imageLink:o.profile_image_link})),function(){switch(t.type){case"POST_CREATE":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.post),r.a.createElement("span",{className:"text-muted small"},l(t.created_at.timestamp)));case"POST_COMMENT":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.comment),r.a.createElement("span",{className:"text-muted small"},l(t.created_at.timestamp)));case"POST_MENTION":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.mention),r.a.createElement("span",{className:"text-muted small"},l(t.created_at.timestamp)));case"NEW_TODO":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:s},r.a.createElement("span",null,o.name),r.a.createElement("p",{className:"notification-title text-link"},u.reminder),r.a.createElement("span",{className:"text-muted small"},l(t.created_at.timestamp)));default:return null}}(),r.a.createElement("div",{style:{minWidth:"10px"}},0===t.is_read?r.a.createElement(ke.a,{arrowSize:5,distance:10,onToggle:m,content:"Mark as read"},r.a.createElement("i",{onClick:d,className:"hide-show-toggler-item fa fa-circle-o font-size-11"})):r.a.createElement(ke.a,{arrowSize:5,distance:10,onToggle:m,content:"Mark as unread"},r.a.createElement("i",{onClick:d,className:"hide-show-toggler-item fa fa-check font-size-11"})))))};function Rd(){var e=Object(s.a)(["\n  .avatar {\n    margin-right: 1rem;\n  }\n  p {\n    margin: 0;\n  }\n\n  h6 {\n    .text-link {\n      color: #828282;\n      cursor: hand;\n      cursor: pointer;\n\n      &:hover {\n        color: #000;\n      }\n    }\n  }\n\n  .notification-body-wrapper {\n    .border-left-active {\n        border-left: 5px solid #822492 !important;\n    }\n    i {\n        left: 40px;\n        position: relative;\n    }\n    &:hover {\n      i {\n        opacity: 1;\n        visibility: visible;\n      }\n    }\n    i {\n      opacity: 0;\n      visibility: hidden;\n    }\n  }\n"]);return Rd=function(){return e},e}var Pd=m.a.div(Rd()),Dd=function(e){var t=e.notification,a=e.actions,i=e.history,c=e.redirect,o=e.user,l=e._t,s=sd().fromNow,d=function(e){if(e.preventDefault(),0===t.is_read&&a.read({id:t.id}),"NEW_TODO"===t.type)c.toTodos();else{var n={id:t.data.post_id,title:t.data.title},r=null,i=null;t.data.workspaces&&t.data.workspaces.length&&(r={id:(r=t.data.workspaces[0]).topic_id,name:r.topic_name,folder_id:r.workspace_id?r.workspace_id:null,folder_name:r.workspace_name?r.workspace_name:null}),"POST_COMMENT"!==t.type&&"POST_MENTION"!==t.type||t.data.comment_id&&(i={focusOnMessage:t.data.comment_id}),c.toPost({workspace:r,post:n},i)}},u=function(e){e.preventDefault(),e.stopPropagation(),0===t.is_read?a.read({id:t.id}):a.unread({id:t.id})},m=Object(n.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),i.push("/profile/".concat(t.author.id,"/").concat(ue(t.author.name)))}),[t.author]),p={notificationNewPost:l("NOTIFICATION.NEW_POST",'shared a <span class="'.concat(t.is_read?"text-link":"text-primary font-weight-bold text-link",'">post</span>')),notificationComment:l("NOTIFICATION.COMMENT",'made a <span class="'.concat(t.is_read?"text-link":"text-primary font-weight-bold text-link",'">comment</span> in <span class="text-link">').concat(t.data.title)),notificationMention:l("NOTIFICATION.MENTION",'<span class="'.concat(t.is_read?"text-link":"text-primary font-weight-bold text-link",'">mentioned</span> you in'))},f=Object(n.useCallback)((function(){switch(t.type){case"POST_CREATE":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:m,className:"author-name text-link"},t.author.name," "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:p.notificationNewPost}}));case"POST_COMMENT":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:m,className:"author-name text-link"},t.author.name," "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:p.notificationComment}}));case"POST_MENTION":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:m,className:"author-name text-link"},t.author.name)," ",r.a.createElement("span",{dangerouslySetInnerHTML:{__html:p.notificationMention}}),r.a.createElement("span",{className:"text-link",onClick:d}," ",t.data.title));case"NEW_TODO":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,l("NOTIFICATION.REMINDER","You asked to be reminded about ::title::",{title:t.data.title})));default:return null}}),[t]);return r.a.createElement(Pd,{className:"timeline-item"},r.a.createElement("div",null,t.author?r.a.createElement(Fe,{id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_link}):r.a.createElement(Fe,{id:o.id,name:o.name,imageLink:o.profile_image_link})),r.a.createElement("div",null,r.a.createElement("div",{onClick:d},r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",null,f()),r.a.createElement("span",{className:"text-muted font-weight-normal"},s(t.created_at.timestamp))),r.a.createElement("span",{className:"notification-body-wrapper"},r.a.createElement("div",{className:"notification-body mb-3 border p-3 border-radius-1 d-flex justify-content-between align-items-center mr-4 ".concat(0===t.is_read?"border-left-active":"")},r.a.createElement("div",null,"NEW_TODO"===t.type?r.a.createElement(r.a.Fragment,null,ce(t.data.description)):"POST_CREATE"===t.type?r.a.createElement(r.a.Fragment,null,t.data.title):r.a.createElement(r.a.Fragment,null,ce(t.data.comment_body))),r.a.createElement("div",null,0===t.is_read?r.a.createElement("i",{title:"Mark as read","data-toggle":"tooltip",onClick:u,className:"cursor-pointer fa fa-circle-o font-size-11"}):r.a.createElement("i",{title:"Mark as unread","data-toggle":"tooltip",onClick:u,className:"cursor-pointer fa fa-check font-size-11"})))))))};function Ld(){var e=Object(s.a)(["\n  .text-link {\n    color: #828282;\n    cursor: hand;\n    cursor: pointer;\n\n    &:hover {\n      color: #000;\n    }\n  }\n\n  .notification-title-wrapper {\n    background: #7a1b8b;\n    color: #fff;\n  }\n"]);return Ld=function(){return e},e}var Fd=m.a.div(Ld()),Md=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Object(d.g)(),c=ld(),o=od(c),l=o.notifications,s=o.unreadCount,u={container:Object(n.useRef)(null)},m=function(){u.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show")},p=Object(n.useCallback)((function(){m(),i.push("/notifications")}),[]),f=fl()._t,b={new:f("NOTIFICATION.NEW","New"),notifications:f("NOTIFICATION.NOTIFICATIONS","Notifications"),markAllAsRead:f("NOTIFICATION.MARK_ALL_AS_READ","Mark all as read"),viewAll:f("NOTIFICATION.VIEW_ALL","View all"),unreadNotifications:f("NOTIFICATION.UNREAD_NOTIFICATIONS","Unread notifications"),oldNotifications:f("NOTIFICATION.OLD_NOTIFICATIONS","Old notifications"),noNotificationsToShow:f("NOTIFICATION.NO_NOTIFICATIONS_TO_SHOW","There are no notifications to show.")};return r.a.createElement(Fd,{ref:u.container,className:"dropdown-menu dropdown-menu-right dropdown-menu-big notification-drop-down ".concat(a),styles:"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-252px, 38px, 0px);"},r.a.createElement("div",{className:"notification-title-wrapper p-4 text-center d-flex justify-content-between"},r.a.createElement("h6",{className:"mb-0"},b.notifications),s>0&&r.a.createElement("small",{className:"font-size-11 opacity-7"},s," ",b.unreadNotifications)),r.a.createElement("div",null,r.a.createElement(Nd,{notifications:l,actions:c,history:i,dictionary:b,removeOverlay:m})),r.a.createElement("div",{className:"p-2 text-right"},r.a.createElement("ul",{className:"list-inline small"},r.a.createElement("li",{className:"list-inline-item d-flex"},r.a.createElement("span",{className:"cursor-pointer text-link",onClick:p},b.viewAll),r.a.createElement("span",{className:"cursor-pointer ml-auto text-link",onClick:function(){c.readAll({})}},b.markAllAsRead)))))}));function Ud(){var e=Object(s.a)(["\n  @media (min-width: 400px) {\n    min-width: 360px;\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return Ud=function(){return e},e}var Gd=m.a.div(Ud()),Bd=function(e){var t=Object(n.useRef)(),a=ud(),i=md().value,c=Object(d.g)(),o=Object(n.useState)(i),l=Object(p.a)(o,2),s=l[0],u=l[1],m=function(){""!==s.trim()&&(t.current.classList.remove("show"),a.search({search:s,skip:0,limit:10}),a.saveSearchValue({value:s}),document.querySelector(".overlay").classList.remove("show"),c.push("/search"))},f={searchGlobalPopupPlaceholder:(0,fl()._t)("PLACEHOLDER.SEARCH_GLOBAL_POPUP","Search for anything in this Driff")};return r.a.createElement(Gd,{className:"dropdown-menu p-2 dropdown-menu-right",ref:t},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==i&&a.saveSearchValue({value:""}),u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&m()},value:s,type:"text",className:"form-control dropdown-search-input",placeholder:f.searchGlobalPopupPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0}),""!==s.trim()&&r.a.createElement("button",{onClick:function(){u(""),a.search({search:"",skip:0,limit:10}),a.saveSearchValue({value:""})},className:"btn-cross",type:"button"},r.a.createElement(Se,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:m},r.a.createElement(Se,{icon:"search"})))))};function Hd(){var e=Object(s.a)(["\n    display: flex;\n    align-items: center;\n    max-width: 24px;\n    .more-options-tooltip {\n        &.orientation-top, &.orientation-bottom, &.orientation-left, &.orientation-right {\n            left: 0;\n            top: 26px;\n        }\n    }\n"]);return Hd=function(){return e},e}var Wd=m.a.div(Hd()),Qd=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.history,c=e.parentFolder,o=e.workspaceID,l=Xs(),s=Object(n.useState)([]),u=Object(p.a)(s,2),m=u[0],f=u[1],b=Object(d.j)().url;Object(n.useEffect)((function(){c&&l.getFoldersBreadcrumb({folder_id:c.id,topic_id:o},(function(e,t){t&&f(t.data.folders)}))}),[c]);return r.a.createElement(Wd,{className:" ".concat(a)},r.a.createElement(au,{width:140},m.map((function(e){return r.a.createElement("div",{onClick:function(){return function(e){var t=b.split("/folder/")[0];i.push(t+"/folder/".concat(e.id,"/").concat(ue(e.search)))}(e)},className:"dropdown-item d-flex justify-content-between"},e.search)}))))}));function Yd(){var e=Object(s.a)(["\n  position: absolute;\n  will-change: transform;\n  top: 0px;\n  right: 0px;\n  transform: translate3d(5px, 59px, 0px);\n\n  .list-group-item {\n    color: #828282;\n  }\n"]);return Yd=function(){return e},e}var zd=m.a.div(Yd()),Vd=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.user,c=Object(d.g)(),o=ls().processBackendLogout,l={container:Object(n.useRef)(null)},s=Object(n.useCallback)((function(){l.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),c.push("/profile/".concat(i.id,"/").concat(ue(i.name),"/edit"))}),[i]),u=Object(n.useCallback)((function(){l.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),o()}),[]),m=Object(n.useCallback)((function(){l.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),c.push("/profile/".concat(i.id,"/").concat(ue(i.name),"/view"))}),[i]),p=Object(n.useCallback)((function(){l.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),c.push("/settings")}),[]),f=fl()._t,b={profile:f("PROFILE.PROFILE","Profile"),settings:f("PROFILE.SETTINGS","Settings"),signOut:f("PROFILE.SIGN_OUT","Sign out!")};return r.a.createElement(zd,{ref:l.container,className:"user-profile-dropdown dropdown-menu dropdown-menu-big ".concat(a),"x-placement":"bottom-end"},r.a.createElement("div",{className:"p-3 text-center"},r.a.createElement(Fe,{name:i.name,imageLink:i.profile_image_link,id:i.id,partialName:i.partial_name}),r.a.createElement("h6",{className:"d-flex align-items-center justify-content-center"},i.name,r.a.createElement("span",{className:"btn btn-primary btn-sm ml-2","data-toggle":"tooltip",title:"","data-original-title":"Edit profile",onClick:s},r.a.createElement(Se,{icon:"edit-2"})))),r.a.createElement("div",{className:"dropdown-menu-body"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement("span",{className:"cursor-pointer list-group-item",onClick:m},b.profile),r.a.createElement("span",{className:"cursor-pointer list-group-item",onClick:p},b.settings),r.a.createElement("span",{className:"cursor-pointer list-group-item text-danger",onClick:u},b.signOut))))}));function Kd(){var e=Object(s.a)(["\n  padding-left: 5px;\n  @media (max-width: 1200px) {\n    display: flex !important;\n    left: auto;\n    right: 0;\n    top: 0;\n    height: 45px;\n  }\n  > li {\n    position: relative;\n    .nav-link {\n      max-height: 45px;\n      padding: 10px 10px !important;\n      &.profile-button {\n        position: relative;\n        padding: 0 !important;\n        margin-left: 10px;\n        .avatar-overlay {\n          position: absolute;\n          width: 45px;\n          height: 45px;\n          z-index: 1;\n        }\n        .avatar {\n          position: relative;\n          z-index: 0;\n        }\n        @media all and (max-width: 700px) {\n          margin-left: 4px;\n        }\n      }\n      @media (max-width: 620px) {\n        svg {\n          stroke: #363636;\n          width: 16px !important;\n          height: 16px !important;\n        }\n        &:not(.profile-button) {\n          margin: 0 4px;\n          &:first-of-type {\n            margin-right: 0;\n          }\n        }\n      }\n      @media all and (max-width: 920px) {\n        &.dark-mode-switch {\n          display: none !important;\n        }\n      }\n      @media all and (max-width: 700px) {\n        padding: 10px 4px !important;\n      }\n    }\n    .user-profile-dropdown {\n      position: absolute;\n      right: 0;\n      left: auto;\n      top: -10px;\n    }\n  }\n"]);return Kd=function(){return e},e}var qd=m.a.ul(Kd()),Jd=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.dictionary,c=ds(),o=c.users,l=c.loggedUser,s=c.actions.fetchById,d=od().notifications,u=Sl(),m=u.generalSettings.dark_mode,f=u.setGeneralSetting,b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)({}),O=Object(p.a)(g,2),A=O[0],v=O[1],C={container:Object(n.useRef)(null)},j=function(e){var t=e.currentTarget.closest("ul").querySelector(".dropdown-menu.show"),a=e.currentTarget.parentElement.querySelector(".dropdown-menu");t&&t!==a&&t.classList.remove("show")},k=function(e){e.preventDefault(),j(e);var t=e.currentTarget.parentElement.querySelector(".dropdown-menu");_({current:t}),t&&t.classList.toggle("show"),document.querySelector(".overlay").classList.add("show"),"Search"===e.currentTarget.title&&document.querySelector(".dropdown-menu-right .dropdown-search-input").focus()};Object(n.useEffect)((function(){var e=document.body;"0"===m?e.classList.remove("dark"):e.classList.add("dark")}),[m]);return Object(n.useEffect)((function(){v(l)}),[l.profile_image_link]),Object(n.useEffect)((function(){var e=o[l.id]?o[l.id]:{};e.hasOwnProperty("loaded")?v(e):s(l.id)}),[]),X(E,(function(){var e=C.container.current.querySelector("ul .dropdown-menu.show");e&&(e.classList.remove("show"),_(null)),document.querySelector(".overlay").classList.remove("show")}),null!==E),r.a.createElement(qd,{ref:C.container,className:"header-profile-navigation navbar-nav ".concat(a)},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"/",className:"nav-link","data-toggle":"dropdown",onClick:k},r.a.createElement(Pi,{content:i.generalSearch},r.a.createElement(Se,{icon:"search"}))),r.a.createElement(Bd,null)),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"/",className:"nav-link ".concat(Object.values(d).filter((function(e){return 0===e.is_read})).length>0?"nav-link-notify":""),"data-toggle":"dropdown",onClick:k},r.a.createElement(Pi,{content:i.generalNotifications},r.a.createElement(Se,{icon:"bell"}))),r.a.createElement(Md,null)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/",className:"nav-link dark-mode-switch",onClick:function(e){e.preventDefault(),j(e),f({dark_mode:"0"===m?"1":"0"})}},r.a.createElement(Pi,{content:i.generalSwitchTheme},r.a.createElement(Se,{icon:"sun"}),r.a.createElement(Se,{icon:"moon"})))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"/",className:"nav-link profile-button","data-toggle":"dropdown",onClick:k},r.a.createElement(Pi,{content:l.name},r.a.createElement("div",{className:"avatar-overlay"}),r.a.createElement(Fe,{name:A.name,imageLink:A.profile_image_link,noDefaultClick:!0}))),r.a.createElement(Vd,{user:l})))}));function Zd(){var e=Object(s.a)(["\n  ",";\n  z-index: 30;\n  height: auto;\n  position: absolute;\n  cursor: pointer;\n  width: ","px;\n  background-color: #ffffff;\n  color: #4d4d4d;\n  border-radius: 8px;\n  padding: 8px 0;\n  box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n\n  .dark & {\n    color: #fff;\n  }\n\n  &.orientation-top {\n    bottom: -10px;\n  }\n  &.orientation-bottom {\n    top: calc(100% - 25px);\n    bottom: auto;\n  }\n  &.orientation-left {\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% + 25px);\n    right: auto;\n  }\n\n  button:hover {\n    color: #972c86;\n  }\n\n  > div {\n    text-align: left;\n    padding: 4px 24px;\n    cursor: pointer;\n\n    &.active,\n    &:hover {\n      background-color: #f0f0f0;\n      color: #7a1b8b;\n    }\n  }\n\n  > div:last-child {\n    border-bottom: none;\n  }\n"]);return Zd=function(){return e},e}function Xd(){var e=Object(s.a)(["\n  display: inline-flex;\n  position: relative;\n  width: 25px;\n\n  svg {\n    cursor: pointer;\n    width: 100%;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"]);return Xd=function(){return e},e}var $d=m.a.div(Xd()),eu=m.a.div(Zd(),(function(e){return e.hide&&"display: none"}),(function(e){return e.width})),tu=Object(n.forwardRef)((function(e,t){var a,i=e.className,c=void 0===i?"":i,o=(e.item,e.moreButton),l=void 0===o?"more-horizontal":o,s=e.children,d=void 0===s?"More Options":s,u=e.width,m=void 0===u?200:u,f=e.scrollRef,b=void 0===f?null:f,h=Object(G.a)(e,["className","item","moreButton","children","width","scrollRef"]),E={options:Object(n.useRef)(),container:Object(n.useRef)(),scrollRef:b},_=null,g=Object(n.useState)(!1),O=Object(p.a)(g,2),A=O[0],v=O[1],C=he(E.container,E.options,b,A).orientation,j=function(){_=setTimeout((function(){v(!1)}),600)},k=function(){clearTimeout(_)};return r.a.createElement($d,Object.assign((a={ref:t,className:"more-options ".concat(c),onClick:function(e){e.preventDefault(),e.stopPropagation(),v(!A)}},Object(Hi.a)(a,"ref",E.container),Object(Hi.a)(a,"onMouseEnter",k),a),h),r.a.createElement(Se,{onMouseLeave:j,"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":"Message options",icon:l}),A&&r.a.createElement(eu,{ref:E.options,width:m,hide:null===C.vertical||null===C.horizontal,className:"more-options-tooltip orientation-".concat(C.vertical," orientation-").concat(C.horizontal),onMouseLeave:j,onMouseEnter:k},d))})),au=r.a.memo(tu);function nu(){var e=Object(s.a)(["\n  width: ","%;\n"]);return nu=function(){return e},e}function ru(){var e=Object(s.a)(["\n  height: ","px;\n"]);return ru=function(){return e},e}var iu=m.a.div(ru(),(function(e){return e.height})),cu=m.a.div(nu(),(function(e){return e.progress})),ou=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.barClassName,i=void 0===n?"progress-bar-striped":n,c=e.height,o=void 0===c?10:c,l=e.amount,s=void 0===l?0:l,d=e.limit,u=s/(void 0===d?100:d)*100;return r.a.createElement(iu,{className:"progress ".concat(a),height:o},r.a.createElement(cu,{className:"progress-bar ".concat(i),role:"progressbar",progress:u}))}));function lu(){var e=Object(s.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n  }\n"]);return lu=function(){return e},e}var su=m.a.div(lu()),du=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,c=Object(d.j)().params,l=Object(o.useDispatch)(),s=Xs(),u=sd().fromNow,m=function(){l(qa({workspace_id:c.workspaceId,file_id:n.id}))};return r.a.createElement(su,{className:"attach-file-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(Fe,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_link,id:n.user.id})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},r.a.createElement("span",null,r.a.createElement("span",{className:"font-weight-normal"},n.user.name)," ",r.a.createElement("span",{onClick:m,className:"file-summary"},i.attachedFile)),r.a.createElement("span",{className:"text-muted font-weight-normal"},u(n.created_at.timestamp))),r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},r.a.createElement("span",{onClick:m,className:"timeline-file-icon"},s.getFileIcon(n.mime_type)," ",r.a.createElement("span",null,n.name)))))}));function uu(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return uu=function(){return e},e}function mu(){var e=Object(s.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return mu=function(){return e},e}var pu=m.a.div(mu()),fu=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},bu=Object(m.a)(ke.a)(uu()),hu=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,c=Object(d.g)(),o=sd(),l=o.fromNow,s=o.localizeDate,u=function(e){e.preventDefault(),c.push("/posts/".concat(n.id,"/").concat(n.title))};return r.a.createElement(pu,{className:"post-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(Fe,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_link,id:n.user.id})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},n.user.name," ",r.a.createElement("span",{className:"post-title",onClick:u,title:n.title},i.sharedThePost,' "',n.title,'"')),r.a.createElement(bu,{arrowSize:5,distance:10,onToggle:fu,content:"".concat(s(n.created_at.timestamp))},r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp)))),n.body.replace(/<\/?[^>]+(>|$)/g,"")&&r.a.createElement("span",{onClick:u},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},r.a.createElement(Se,{icon:"arrow-right"}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.body}}))),n.files&&n.files.length>=1&&r.a.createElement(r.a.Fragment,null,i.fileAttachments,":",r.a.createElement(ji,{attachedFiles:n.files}))))}));function Eu(){var e=Object(s.a)([""]);return Eu=function(){return e},e}var _u=m.a.div(Eu());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=sd().fromNow;return r.a.createElement(_u,{className:"timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(Fe,{name:n.user.name,imageLink:n.user.profile_image_link})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",null,n.user.name," ",r.a.createElement("a",{href:"#"},"shared a post")),r.a.createElement("span",{className:"text-muted font-weight-normal"},i(n.created_at.timestamp))),r.a.createElement("a",{href:"#"},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},n.body))))}));function gu(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return gu=function(){return e},e}function Ou(){var e=Object(s.a)(["\n  font-weight: bold;\n  .action-text {\n    margin: 0;\n    color: #505050;\n    .joined {\n      color: #00c851;\n      font-weight: bold;\n    }\n    .left {\n      color: #f44;\n      font-weight: bold;\n    }\n  }\n"]);return Ou=function(){return e},e}var Au=m.a.div(Ou()),vu=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},Cu=Object(m.a)(ke.a)(gu()),ju=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,c=sd(),l=c.fromNow,s=c.localizeDate,d=Object(o.useSelector)((function(e){return e.session.user})),u=Object(o.useSelector)((function(e){return e.global.recipients.filter((function(e){return"USER"===e.type}))})),m=Object(o.useSelector)((function(e){return e.users.users})),p=null;n.body.includes("CHANNEL_UPDATE")&&(p=JSON.parse(n.body.replace("CHANNEL_UPDATE::","")));var f=function(){if(!p){if(n.body.includes("NEW_ACCOUNT_ACTIVATED"))return"".concat(n.body.replace("NEW_ACCOUNT_ACTIVATED ","")," ").concat(i.isAddedToCompany);if(n.body.includes("POST_CREATE")){var e=JSON.parse(n.body.replace("POST_CREATE::",""));return r.a.createElement(r.a.Fragment,null,e.author.name," ",r.a.createElement("b",null,i.createdThePost," ",e.post.title))}return console.log(n),n.body}if(p.title&&""!==p.title)return"".concat(i.updatedWorkspaceTo," ").concat(p.title);0!==p.added_members.length||p.removed_members.length},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===p.author)return"";if(e){if(p.accepted_members&&p.accepted_members.length){var t=m[p.accepted_members[0]];return"".concat(t.name," ").concat(i.hasJoined)}var a=u.filter((function(e){return e.type_id===p.author.id&&p.added_members.includes(e.type_id)}))[0];if(a)return a.type_id===d.id?"".concat(i.youJoined,"."):"".concat(a.name," ").concat(i.hasJoined)}else if(p.accepted_members&&p.accepted_members.length);else{var n=u.filter((function(e){return p.added_members.includes(e.type_id)&&e.type_id!==p.author.id})).map((function(e){return e.name}));if(n.length)return n.join(", ")+" ".concat(i.isAdded,".")}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===p.author)return"";if(e){var t=u.filter((function(e){return e.type_id===p.author.id&&p.removed_members.includes(e.type_id)}))[0];if(t)return t.type_id===d.id?"".concat(i.youLeft,"."):"".concat(t.name," ").concat(i.hasLeft)}else{var a=u.filter((function(e){return p.removed_members.includes(e.type_id)&&e.type_id!==p.author.id})).map((function(e){return e.name}));if(a.length)return a.join(", ")+" ".concat(i.isRemoved,".")}};return n.body.includes("POST_CREATE")?r.a.createElement(r.a.Fragment,null):r.a.createElement(Au,{className:"member-timeline timeline-item ".concat(a)},r.a.createElement("div",null,null!==p?r.a.createElement(r.a.Fragment,null,p.author?r.a.createElement(Fe,{className:"mr-3",name:p.author.name,imageLink:p.author.profile_image_link,id:p.author.id}):r.a.createElement(Fe,{className:"mr-3",imageLink:null,isBot:!0})):r.a.createElement(Fe,{className:"mr-3",imageLink:null,isBot:!0})),null!==p?r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},p.author&&p.author.name," ",f()),r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp))),p.added_members.length||p.removed_members.length?r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},r.a.createElement("p",{className:"action-text"},p.added_members.length>0&&b(!0)),r.a.createElement("p",{className:"action-text"},p.added_members.length>0&&b()),r.a.createElement("p",{className:"action-text"},p.removed_members.length>0&&h(!0)),r.a.createElement("p",{className:"action-text"},p.removed_members.length>0&&h())):null):r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},f()),r.a.createElement(Cu,{arrowSize:5,distance:10,onToggle:vu,content:"".concat(s(n.created_at.timestamp))},r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp))))))}));function ku(){var e=Object(s.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return ku=function(){return e},e}var yu=m.a.div(ku()),Tu=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=sd().fromNow;return r.a.createElement(yu,{className:"topic-timeline timeline-item ".concat(a)},r.a.createElement("div",null,n.user&&r.a.createElement(Fe,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_link,id:n.user.id})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"action-text title font-weight-normal"},n.user.name," ",r.a.createElement("strong",null,"created ",n.name," workspace")),r.a.createElement("span",{className:"text-muted font-weight-normal"},i(n.created_at.timestamp)))))}));function wu(){var e=Object(s.a)(["\n\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n\n"]);return wu=function(){return e},e}var Nu=m.a.div(wu()),Su=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.init,i=e.timeline,c=e.dictionary;return r.a.createElement(Nu,{className:"timeline-panel card ".concat(a)},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},c.timeline),r.a.createElement("div",{className:"timeline"},n?r.a.createElement(r.a.Fragment,null,i&&Object.values(i).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).map((function(e){switch(e.tag){case"CHAT_BOT":return r.a.createElement(ju,{key:e.id,data:e.item,dictionary:c});case"POST":return r.a.createElement(hu,{key:e.id,data:e.item,dictionary:c});case"DOCUMENT":return r.a.createElement(du,{key:e.id,data:e.item,dictionary:c});case"TOPIC":return r.a.createElement(Tu,{key:e.id,data:e.item})}}))):r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))))}));function xu(){var e=Object(s.a)([""]);return xu=function(){return e},e}var Iu=m.a.div(xu()),Ru=Object(d.k)((function(e){var t=e.redirectTo,a=Object(n.useState)(5),i=Object(p.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(0),s=Object(p.a)(l,2),d=s[0],u=s[1],m=fl()._t,f={invalidDriffName:m("REDIRECT.INVALID_DRIFF_NAME","Invalid driff name detected"),redirectedTo:m("REDIRECT.REDIRECT_TO","You will automatically get redirected to"),in:m("REDIRECT.IN","in")};return Object(n.useEffect)((function(){0===c&&(window.location.href=t())}),[c]),Object(n.useEffect)((function(){document.body.classList.add("form-membership"),setInterval((function(){o((function(e){return e-1}))}),1e3),setInterval((function(){u((function(e){return e+1.2}))}),50)}),[]),r.a.createElement(Iu,{className:"redirect-panel form-wrapper"},r.a.createElement("div",{id:"logo"},r.a.createElement(xe,{icon:"driff-logo",width:"110",height:"80"})),r.a.createElement("h5",null,f.invalidDriffName),r.a.createElement("p",null,f.redirectedTo,r.a.createElement("br",null),r.a.createElement("a",{href:t()},t())," ",f.in," ",c,"s."),r.a.createElement(ou,{amount:d,limit:100}))})),Pu=a(545),Du=a(546),Lu=a(541),Fu=a(543),Mu=a(544),Uu=a(215),Gu=a(74),Bu=a(73),Hu=(a(494),a(495),Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.theme,c=void 0===i?"snow":i,o=e.placeholder,l=void 0===o?"":o,s=Object(G.a)(e,["className","theme","placeholder"]),d=fl()._t,u=""!==l?l:d("FORM.REACT_QUILL_PLACEHOLDER","Write great things here...");return r.a.createElement(te.a,Object.assign({className:"quill-editor ".concat(n),theme:c},s,{ref:t,placeholder:u}))}))),Wu=ee.Quill.import("blots/block");Wu.tagName="div",ee.Quill.register(Wu);var Qu=ee.Quill.import("modules/clipboard"),Yu=ee.Quill.import("delta"),zu=function(e){Object(Gu.a)(a,e);var t=Object(Bu.a)(a);function a(){return Object(ge.a)(this,a),t.apply(this,arguments)}return Object(Oe.a)(a,[{key:"onPaste",value:function(e){e.preventDefault();var t=this.quill.getSelection(),a=e.clipboardData.getData("text/plain"),n=(new Yu).retain(t.index).delete(t.length).insert(a),r=a.length+t.index;this.quill.updateContents(n),this.quill.setSelection(r,0),this.quill.scrollIntoView()}}]),a}(Qu);function Vu(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 0;\n  margin: 4px;\n  height: calc(100% - 8px);\n  background: white;\n  border: 1px solid white;\n  border-radius: 4px;\n  min-width: 40px;\n  width: 40px;\n  padding: 9px;\n  cursor: pointer;\n  right: 40px;\n  z-index: 9;\n  color: #cacaca;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8b;\n  }\n"]);return Vu=function(){return e},e}function Ku(){var e=Object(s.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    "," .mention {\n      color: #7a1b8b;\n    }\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n    \n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]);return Ku=function(){return e},e}function qu(){var e=Object(s.a)(["\n  ","\n"]);return qu=function(){return e},e}ee.Quill.register("modules/clipboard",zu,!0);var Ju=m.a.div(qu(),""),Zu=Object(m.a)(Hu)(Ku(),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"})),Xu=Object(m.a)(Se)(Vu()),$u=function(e){var t=e.selectedEmoji,i=e.onClearEmoji,c=e.selectedGif,l=e.onClearGif,s=e.dropAction,d=Object(o.useDispatch)(),u=Object(n.useRef)(),m=sd().localizeDate,f=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),b=Object(o.useSelector)((function(e){return e.global.slugs})),h=Object(o.useSelector)((function(e){return e.session.user})),E=Object(o.useSelector)((function(e){return e.chat.editChatMessage})),_=Object(o.useSelector)((function(e){return e.chat.sendButtonClicked})),g=Object(n.useState)(""),O=Object(p.a)(g,2),A=O[0],v=O[1],C=Object(n.useState)(""),j=Object(p.a)(C,2),k=j[0],T=j[1],w=Object(n.useState)([]),N=Object(p.a)(w,2),S=N[0],x=N[1],R=Object(n.useState)([]),P=Object(p.a)(R,2),D=P[0],L=P[1],F=Object(n.useState)([]),M=Object(p.a)(F,2),U=M[0],G=M[1],B=Object(n.useState)(!1),H=Object(p.a)(B,2),W=H[0],Q=H[1],Y=Object(n.useState)(null),z=Object(p.a)(Y,2),V=z[0],K=z[1],q=Object(n.useState)(null),J=Object(p.a)(q,2),Z=J[0],X=J[1],ee=kc(),te=Object(p.a)(ee,1)[0],ae=function(){var t=Math.floor(Date.now()/1e3),n=[],r=!1,i=a(37).generate(),c=f.members.map((function(e){return e.id}));if(S.ops&&S.ops.length>0){var o=S.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));(n=Object($.a)(new Set(o))).includes(NaN)&&(n=c.length?Object($.a)(new Set([].concat(Object($.a)(n.filter((function(e){return!isNaN(e)}))),Object($.a)(c)))):n.filter((function(e){return!isNaN(e)}))),S.ops.forEach((function(e){e.insert.image&&(r=!0)}))}if(""!==k.trim()||0!==n.length||r){var l={channel_id:f.id,body:A,mention_ids:n,file_ids:[],reference_id:i,reference_title:"DIRECT"===f.type&&2===f.members.length?"".concat(h.first_name," in a direct message"):f.title,topic_id:f.is_shared?f.entity_id:null,is_shared:f.is_shared?f.entity_id:null,token:b.length&&b.filter((function(e){return e.slug_name===f.slug_owner})).length?b.filter((function(e){return e.slug_name===f.slug_owner}))[0].access_token:null,slug:b.length&&b.filter((function(e){return e.slug_name===f.slug_owner})).length?b.filter((function(e){return e.slug_name===f.slug_owner}))[0].slug_name:null};te&&(te.user?l.quote={id:te.id,body:te.body,user_id:te.user.id,user:te.user,files:te.files}:l.quote={id:te.id,body:te.body,user_id:null,user:null,files:te.files});var s={message:A,body:A,mention_ids:n,user:h,original_body:A,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:t},updated_at:{timestamp:t},channel_id:f.id,reactions:[],id:i,reference_id:i,quote:te?l.quote:null,unfurls:[],g_date:m(t,"YYYY-MM-DD")};if(W||d(function(e,t){return y("ADD_CHAT_MESSAGE",e,t)}(s)),W){var u=Object(I.a)(Object(I.a)({},l),{},{message_id:V.id,reply_id:V.id});te&&(l.quote=te),d(Bc(u)),Q(!1),K(null)}else d(Gc(l));te&&d(eo(te)),Z&&(d(Yr({type:"channel",draft_id:Z})),d(function(e,t){return y("CLEAR_CHANNEL_DRAFT",e,t)}({channel_id:f.id})),X(null)),ne(),e.onSendCallback()}},ne=function(){if(T(""),v(""),x([]),u.current)try{u.current.getEditor().setContents([])}catch(e){console.log(e)}null!==E&&d(qc(null))},re=function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){if("PERSONAL_BOT"===f.type)return;var t=[h.id].concat(Object($.a)(f.members.map((function(e){return e.id}))),Object($.a)(U)),a=e.filter((function(e){var a=!1;return t.forEach((function(t){t===parseInt(e)&&(a=!0)})),!a}));L(a.length?a.map((function(e){return parseInt(e)})):[])}else G([]),L([])},ie=function(e){u.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),v(e.body),K(e),Q(!0),e.quote&&d($c(Object(I.a)(Object(I.a)({},e.quote),{},{channel_id:e.channel_id})))},ce=function(e){if(38===e.keyCode&&e.target.classList.contains("ql-editor")&&""===e.target.innerText.trim()&&!e.target.contains(document.querySelector(".ql-editor .anchor-blot"))){e.preventDefault();var t=f.replies.sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).filter((function(e){return f.is_shared&&b.length?b.filter((function(e){return e.slug_name===f.slug_owner}))[0].external_id&&"number"===typeof e.id&&!e.is_deleted:!e.is_deleted&&e.user&&e.user.id===h.id&&"number"===typeof e.id}))[0];"undefined"!==typeof t&&ie(t)}};Object(n.useEffect)((function(){u.current&&(window.innerWidth>620&&u.current.focus());var e=function(e){var t=[];if(e.clipboardData.items.length)for(var a=0;a<e.clipboardData.items.length;a++){var n=e.clipboardData.items[a];"file"===n.kind&&t.push(n.getAsFile(n.type))}t.length&&s(t)};return document.addEventListener("paste",e,!1),function(){return document.removeEventListener("paste",e,!1)}}),[]),Object(n.useEffect)((function(){return f&&f.replies.length&&document.addEventListener("keydown",ce,!1),function(){return document.removeEventListener("keydown",ce,!1)}}),[f]),Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&ne()};return W?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[W]),Object(n.useEffect)((function(){E&&!W&&null===V&&ie(E)}),[E]),Object(n.useEffect)((function(){if(t){var e=u.current.getEditor();u.current.focus();var a=e.getSelection().index;e.insertText(a,t.native),e.setSelection(a+2),i()}}),[t]),Object(n.useEffect)((function(){if(c){var e=u.current.getEditor();u.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",c.images.downsized.url),e.setSelection(t+5),l()}}),[c]),Object(n.useEffect)((function(){_&&(d(Xc(!1)),ae())}),[_]);Ao(ne,A,k,S),Tc(ne,u),Oo((function(e){null===e?X(null):(u.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.text),X(e.draft_id),v(e.text))}),"channel",A,k,Z);var oe=me("chat",ae,"top",u,"external"===h.type?f.members:[]),le=Object(p.a)(oe,2),se=le[0];le[1];return r.a.createElement(Ju,{className:"chat-input-wrapper"},D.length>0&&r.a.createElement(hc,{onAddUsers:function(e){var t={channel_id:f.id,recipient_ids:e.map((function(e){return e.id}))};d(so(t,(function(t,a){t||a&&G([].concat(Object($.a)(U),Object($.a)(e.map((function(e){return e.id})))))}))),L([])},onDoNothing:function(e){G(e.map((function(e){return e.type_id}))),L([])},userIds:D,type:"TOPIC"===f.type?"workspace":"chat"}),r.a.createElement(Zu,{className:"chat-input",modules:se,ref:u,onChange:function(e,t,a,n){if(null!==f){var r=n.getText(e);""===r.trim()&&W&&(Q(!1),K(null),null!==E&&d(qc(null))),v(e),T(r),x(n.getContents()),n.getContents().ops&&n.getContents().ops.length&&re(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id})));f.is_shared?window[f.slug_owner]&&window[f.slug_owner].private(f.slug_owner+".App.Channel.".concat(f.id)).whisper("typing",{user:{id:h.id,name:h.name,profile_image_link:h.profile_image_link,email:h.email},typing:!0,channel_id:f.id}):window.Echo.private(localStorage.getItem("slug")+".App.Channel.".concat(f.id)).whisper("typing",{user:{id:h.id,name:h.name,profile_image_link:h.profile_image_link,email:h.email},typing:!0,channel_id:f.id})}},editMode:W}),W&&r.a.createElement(Xu,{icon:"x",onClick:function(){Q(!1),K(null),ne()}}))},em=a(21),tm=a(40),am={option:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{color:t.isSelected&&"#ffffff",backgroundColor:t.isSelected?"#7a1b8b":"#ffffff",cursor:"pointer",transition:"all 0.15s ease","&:hover":{backgroundColor:t.isSelected?"#7a1b8b":"#8C3B9B",color:"#ffffff"}})},control:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{borderColor:t.isFocused?"#7a1b8b":"#cccccc",boxShadow:(t.isFocused,0),cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:t.isFocused?"#7a1b8b":"#cccccc"}})}},nm={option:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{color:t.isSelected&&"#000000",backgroundColor:t.isSelected?"#7a1b8b":"#000000",cursor:"pointer",transition:"all 0.15s ease","&:hover":{backgroundColor:t.isSelected?"#7a1b8b":"#000000",color:"#ffffff"}})},control:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{borderColor:t.isFocused?"#7a1b8b":"#ffffff14",boxShadow:(t.isFocused,0),backgroundColor:"#111417",cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:t.isFocused?"#7a1b8b":"#ffffff14"}})},multiValue:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{borderColor:(t.isFocused,"#000000"),boxShadow:(t.isFocused,0),backgroundColor:"#25282c",cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:(t.isFocused,"#fff")}})},multiValueLabel:function(e){return Object(I.a)(Object(I.a)({},e),{},{color:"#c7c7c7"})},menu:function(e){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:"#111417"})},dropdownItem:function(e){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:"red"})}};function rm(){var e=Object(s.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  color: #505050 !important;\n"]);return rm=function(){return e},e}function im(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: #deebff;\n  }\n  > div {\n    display: flex;\n    align-items: center;\n  }\n  \n  .workspaces {\n    display: block;\n    font-size: 12px;\n    width: 100%;\n  }\n"]);return im=function(){return e},e}var cm=m.a.div(im()),om=Object(m.a)(Fe)(rm()),lm=function(e){return r.a.createElement(cm,null,r.a.createElement(em.z.Option,e,e.data&&r.a.createElement(r.a.Fragment,null,r.a.createElement(om,{className:"react-select-avatar",key:e.data.id,imageLink:e.data.profile_image_link,name:e.data.name,partialName:e.data.partial_name}),r.a.createElement("div",null,e.children,e.data.workspaces&&e.data.workspaces.length&&r.a.createElement("span",{className:"workspaces"},e.data.workspaces&&e.data.workspaces.join(", "))))))},sm=function(e){var t=e.children,a=(e.selectProps,Object(G.a)(e,["children","selectProps"])),n=t.map((function(e,t){return 0===t?Object(I.a)(Object(I.a)({},e),{},{props:Object(I.a)(Object(I.a)({},e.props),{},{children:a.data.first_name})}):e}));return r.a.createElement(em.z.MultiValueContainer,a,n)},dm=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.isMulti,c=void 0===i||i,o=e.isClearable,l=void 0!==o&&o,s=Object(G.a)(e,["className","isMulti","isClearable"]),d=Sl().generalSettings.dark_mode;return r.a.createElement(tm.a,Object.assign({ref:t,className:"react-select-container ".concat(n),styles:"0"===d?am:nm,isMulti:c,isClearable:l,components:{Option:lm,MultiValueContainer:sm}},s))}));function um(){var e=Object(s.a)(['\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  font-size: 1rem;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-align: left;\n\n  input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    width: 100%;\n    left: 0px;\n    height: 100%;\n    z-index: 1;\n    top: 6px;\n  }\n\n  .checkmark {\n    height: 16px;\n    width: 16px;\n    background-color: #fff;\n    border-radius: 50%;\n    border: 1px solid #adb5bd;\n    position: relative;\n    margin-right: 14px;\n    transition: all 200ms ease;\n  }\n\n  &:hover {\n    input ~ .checkmark {\n      background-color: #972c86;\n      border-color: #972c86;\n      box-shadow: 0 0 0 0.2rem rgba(170, 102, 204, 0.3);\n    }\n\n    input:checked ~ .checkmark {\n      background-color: #972c86;\n      border-color: #972c86;\n    }\n\n    input ~ .checkmark:after {\n      background-color: #fff;\n    }\n  }\n\n  input:checked ~ .checkmark {\n    background-color: #fff;\n  }\n\n  .checkmark:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n\n  input:checked ~ .checkmark:after {\n    display: block;\n  }\n\n  .checkmark:after {\n    left: 3px;\n    top: 3px;\n    width: 8px;\n    height: 8px;\n    background-color: #972c86;\n    border-radius: 50%;\n    transition: all 200ms ease;\n  }\n']);return um=function(){return e},e}var mm=m.a.div(um()),pm=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,c=e.checked,o=void 0!==c&&c,l=e.onClick,s=e.name,d=e.value,u=e.readOnly,m=void 0===u?null:u,f=e.children,b=Object(G.a)(e,["className","checked","onClick","name","value","readOnly","children"]),h=Object(n.useState)(""),E=Object(p.a)(h,2),_=E[0],g=E[1],O=function(e){_.click(),l&&l(_)};return r.a.createElement(mm,{ref:t,className:"component-radio-input ".concat(i),onClick:function(e){return O()}},m?r.a.createElement("input",Object.assign({readOnly:!0,checked:o,name:s,value:d,ref:g,type:"radio"},b)):r.a.createElement("input",Object.assign({name:s,value:d,ref:g,type:"radio"},b)),r.a.createElement("span",{className:"checkmark"}),f)})),fm=(at.a.string,at.a.func,at.a.number,at.a.oneOfType,r.a.memo(pm));function bm(){var e=Object(s.a)([""]);return bm=function(){return e},e}function hm(){var e=Object(s.a)(["\n  .btn-cross {\n    position: absolute;\n    right: 45px;\n    opacity: 0;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n  .not-empty .btn-cross {\n    z-index: 9;\n    opacity: 1;\n  }\n"]);return hm=function(){return e},e}var Em=m.a.form(hm()),_m=Object(m.a)(Se)(bm()),gm=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,c=e.onChange,o=e.onClick,l=e.placeholder,s=void 0===l?"Search":l,d=e.value,u=void 0===d?"":d,m=e.onClickEmpty,p=e.closeButton,f=void 0!==p&&p,b=Object(n.useRef)();return Object(n.useEffect)((function(){""!==u&&b.current.classList.add("not-empty"),""===u&&b.current.classList.remove("not-empty")}),[c]),r.a.createElement(Em,{className:"".concat(i)},r.a.createElement("div",{ref:b,className:"input-group"},r.a.createElement("input",{ref:t,onChange:c,value:u,type:"text",className:"form-control",placeholder:s}),f&&r.a.createElement("button",{onClick:m,className:"btn-cross",type:"button"},r.a.createElement(_m,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:o,className:"btn btn-outline-light",type:"button"},r.a.createElement("i",{className:"ti-search"})))))})),Om=r.a.memo(gm);function Am(){var e=Object(s.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  color: #505050 !important;\n"]);return Am=function(){return e},e}function vm(){var e=Object(s.a)(["\n  width: 1rem;\n  height: 1rem;\n  margin-left: 5px;\n"]);return vm=function(){return e},e}function Cm(){var e=Object(s.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n"]);return Cm=function(){return e},e}function jm(){var e=Object(s.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]);return jm=function(){return e},e}var km=m.a.div(jm()),ym=Object(m.a)(Se)(Cm()),Tm=Object(m.a)(Se)(vm()),wm=Object(m.a)(Fe)(Am()),Nm=function(e){return r.a.createElement(km,null,r.a.createElement(em.z.Option,e,e.data&&r.a.createElement("span",{className:"d-flex justify-content-start align-items-center"},"user-avatar"===e.data.icon?r.a.createElement(wm,{className:"react-select-avatar mr-2",key:e.data.id,imageLink:e.data.profile_image_link,name:e.data.name,partialName:e.data.partial_name}):r.a.createElement(ym,{className:"mr-2",icon:e.data.icon?e.data.icon:"folder"}),e.children,1===e.data.is_lock&&r.a.createElement(Tm,{className:"ml-2",icon:"lock",strokeWidth:"2"}))))},Sm=function(e){var t=e.children,a=(e.selectProps,Object(G.a)(e,["children","selectProps"]));return r.a.createElement(em.z.MultiValueContainer,a,t)},xm=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.isMulti,c=void 0!==i&&i,o=e.isClearable,l=void 0!==o&&o,s=Object(G.a)(e,["className","isMulti","isClearable"]),d=Sl().generalSettings.dark_mode,u={Option:Nm};return c&&(u={Option:Nm,MultiValueContainer:Sm}),r.a.createElement(tm.a,Object.assign({ref:t,className:"react-select-container ".concat(n),styles:"0"===d?am:nm,isMulti:c,isClearable:l,components:u},s))})),Im=a(542);function Rm(){var e=Object(s.a)(["\n  left: 15px;\n  bottom: 65px;\n  \n  .common-picker-btn {\n    text-align: left;\n  }\n"]);return Rm=function(){return e},e}function Pm(){var e=Object(s.a)(["\n  padding: 5px;\n  display: flex;\n  justify-content: flex-end;\n"]);return Pm=function(){return e},e}function Dm(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  border: 1px solid #afb8bd;\n  border-radius: 5px;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Dm=function(){return e},e}function Lm(){var e=Object(s.a)(["\n  cursor: pointer;\n  border: 1px solid #afb8bd;\n  height: 1.5rem;\n  margin: -1px 8px;\n  width: 1.5rem;\n  padding: 5px;\n  border-radius: 8px;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  &:hover {\n    background: #afb8bd;\n    color: #ffffff;\n  }\n  &.feather-send {\n    border: 1px solid #7a1b8b;\n    background-color: #7a1b8b;\n    color: #fff;\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    &:hover {\n      background-color: #8c3b9b;\n    }\n  }\n"]);return Lm=function(){return e},e}function Fm(){var e=Object(s.a)(["\n  height: ","px;\n\n  &.description-input {\n    overflow: auto;\n    overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: 0;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n"]);return Fm=function(){return e},e}function Mm(){var e=Object(s.a)(["\n  display: flex;\n  align-items: baseline;\n  margin: 20px 0;\n  position: relative;\n  label {\n    white-space: nowrap;\n    margin: 0 20px 0 0;\n    min-width: 109px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  .description-wrapper {\n    margin-bottom: 25px;\n    min-height: 133px;\n    &.is-invalid {\n      border-color: #dc3545;\n      padding-right: calc(1.5em + 0.75rem);\n      background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");\n      background-repeat: no-repeat;\n      background-position: right 0.5rem top 0.5rem;\n      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n\n      .action-wrapper {\n        margin-right: -32px;\n      }\n    }\n    &.is-valid {\n      border-color: #28a745;\n      padding-right: calc(1.5em + 0.75rem);\n      background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");\n      background-repeat: no-repeat;\n      background-position: right 0.5rem top 0.5rem;\n      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n\n      .action-wrapper {\n        margin-right: -32px;\n      }\n    }\n  }\n  .invalid-feedback {\n    display: block;\n    top: 55px;\n    position: relative;\n    left: 0px;\n    @media (max-width: 620px) {\n      position: absolute;\n      right: 0;\n      bottom: -20px;\n      left: auto;\n      top: auto;\n      text-align: right;\n    }\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n    \n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n  .mention {\n    color: #7a1b8b;\n  }\n"]);return Mm=function(){return e},e}var Um=Object(m.a)(Lu.a)(Mm()),Gm=Object(m.a)(Hu)(Fm(),(function(e){return e.height})),Bm=Object(m.a)(Se)(Lm()),Hm=m.a.div(Dm()),Wm=m.a.div(Pm()),Qm=Object(m.a)(Qa)(Rm()),Ym=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onChange,c=e.showFileButton,o=void 0!==c&&c,l=e.onOpenFileDialog,s=e.defaultValue,d=void 0===s?"":s,u=(e.mode,e.valid),m=void 0===u?null:u,f=e.feedback,b=void 0===f?"":f,h=(e.height,e.members),E=void 0===h?[]:h,_=e.disableMention,g=void 0!==_&&_,O=e.disableBodyMention,A=void 0!==O&&O,v=e.mentionedUserIds,C=e.onAddUsers,j=e.onDoNothing,k=e.modal,y=void 0===k?"post":k,T=Object(G.a)(e,["className","onChange","showFileButton","onOpenFileDialog","defaultValue","mode","valid","feedback","height","members","disableMention","disableBodyMention","mentionedUserIds","onAddUsers","onDoNothing","modal"]),w=fl()._t,N=Object(n.useRef)(),S=Object(n.useRef)(),x={description:w("POST.DESCRIPTION","Description")},I=Object(n.useState)(!1),R=Object(p.a)(I,2),P=R[0],D=R[1],L=function(){D(!P)},F=me("description",(function(){}),"top",N,E,g),M=Object(p.a)(F,2),U=M[0];M[1];return r.a.createElement(Um,{className:"description-input ".concat(a)},r.a.createElement(Im.a,{for:"firstMessage"},x.description),r.a.createElement(Hm,{className:"description-wrapper ".concat(null===m?"":m?"is-valid":"is-invalid")},r.a.createElement(Gm,Object.assign({className:"description-input",modules:U,ref:N,onChange:i,height:80,defaultValue:d},T)),v.length>0&&!A&&r.a.createElement(hc,{onAddUsers:C,onDoNothing:j,userIds:v,baseOnId:!1,type:y}),r.a.createElement(Wm,{className:"action-wrapper"},r.a.createElement(Bm,{onClick:L,icon:"smile"}),o&&r.a.createElement(Bm,{onClick:l,icon:"paperclip"})),r.a.createElement(Xm,{valid:m},b)),!0===P&&r.a.createElement(Qm,{handleShowEmojiPicker:L,onSelectEmoji:function(e){var t=N.current.getEditor();N.current.focus();var a=t.getSelection().index;t.insertText(a,e.native),t.setSelection(a+2)},onSelectGif:function(e){console.log(e);var t=N.current.getEditor();N.current.focus();var a=t.getSelection().index;t.insertEmbed(a,"image",e.images.downsized.url),t.setSelection(a+5)},orientation:"top",ref:S}))}));function zm(){var e=Object(s.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  label {\n    cursor: pointer;\n    cursor: hand;\n  }\n"]);return zm=function(){return e},e}var Vm=m.a.div(zm()),Km=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.type,c=void 0===i?"":i,o=e.checked,l=void 0!==o&&o,s=e.name,d=e.onClick,u=e.children,m=Object(G.a)(e,["className","type","checked","name","onClick","children"]),p="";return""!==c&&(p="custom-checkbox-".concat(c," ")),r.a.createElement(Vm,{"data-name":s,className:"custom-control custom-checkbox ".concat(p).concat(n),onClick:d},r.a.createElement("input",Object.assign({ref:t,name:s,"data-name":s,type:"checkbox",className:"custom-control-input",checked:l,readOnly:!0},m)),r.a.createElement("label",{"data-name":s,className:"custom-control-label"},u))})),qm=r.a.memo(Km);function Jm(){var e=Object(s.a)([""]);return Jm=function(){return e},e}var Zm=m.a.div(Jm()),Xm=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.valid,i=e.children;return r.a.createElement(Zm,{className:"input-feedback ".concat(n?"valid":"invalid","-feedback ").concat(a)},i)}));function $m(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 0;\n  margin: 4px;\n  height: calc(100% - 8px);\n  background: white;\n  border: 1px solid white;\n  border-radius: 4px;\n  min-width: 40px;\n  width: 40px;\n  padding: 9px;\n  cursor: pointer;\n  right: 40px;\n  z-index: 9;\n  color: #cacaca;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8b;\n  }\n"]);return $m=function(){return e},e}function ep(){var e=Object(s.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    "," .mention {\n      color: #7a1b8b;\n    }\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n    \n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]);return ep=function(){return e},e}function tp(){var e=Object(s.a)(["\n  ","\n"]);return tp=function(){return e},e}var ap=m.a.div(tp(),""),np=Object(m.a)(Hu)(ep(),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"})),rp=Object(m.a)(Se)($m()),ip=function(e){var t=e.selectedEmoji,i=e.onClearEmoji,c=e.selectedGif,l=e.onClearGif,s=e.dropAction,d=e.sent,u=e.handleClearSent,m=e.post,f=e.parentId,b=e.commentActions,h=e.userMention,E=e.handleClearUserMention,_=e.commentId,g=e.members,O=Object(o.useDispatch)(),A=Object(n.useRef)(),v=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),C=Object(o.useSelector)((function(e){return e.session.user})),j=Object(o.useSelector)((function(e){return e.posts.editPostComment})),k=Object(n.useState)(""),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(""),S=Object(p.a)(N,2),x=S[0],R=S[1],P=Object(n.useState)([]),D=Object(p.a)(P,2),L=D[0],F=D[1],M=Object(n.useState)([]),U=Object(p.a)(M,2),G=U[0],B=U[1],H=Object(n.useState)([]),W=Object(p.a)(H,2),Q=W[0],Y=W[1],z=Object(n.useState)(!1),V=Object(p.a)(z,2),K=V[0],q=V[1],J=Object(n.useState)(null),Z=Object(p.a)(J,2),X=Z[0],ee=Z[1],te=Object(n.useState)(null),ae=Object(p.a)(te,2),ne=(ae[0],ae[1],gs(_)),re=Object(p.a)(ne,1)[0],ie=function(){var e=Math.floor(Date.now()/1e3),t=[],n=!1,r=a(37).generate(),i=v.members.map((function(e){return e.id}));if(L.ops&&L.ops.length>0){var c=L.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));(t=Object($.a)(new Set(c))).includes(NaN)&&(t=i.length?Object($.a)(new Set([].concat(Object($.a)(t.filter((function(e){return!isNaN(e)}))),Object($.a)(i)))):t.filter((function(e){return!isNaN(e)}))),L.ops.forEach((function(e){e.insert.image&&(n=!0)}))}if(""!==x.trim()||0!==t.length||n){var o={post_id:m.id,body:T,mention_ids:t,file_ids:[],post_file_ids:[],reference_id:r,personalized_for_id:null,parent_id:f,code_data:{base_link:"".concat("https://").concat(localStorage.getItem("slug"),".").concat("driff.io"),push_title:"".concat(C.name," replied in ").concat(m.title),post_id:m.id,post_title:m.title}};if(re&&(o.quote={id:re.id,body:re.body,user_id:re.author.id,user:re.author,files:re.files}),!K){var l={author:C,body:T,clap_count:0,code:e,created_at:{timestamp:e},files:[],id:r,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:t,original_body:T,parent_id:f,personalized_for_id:null,post_id:m.id,quote:re,reference_id:r,ref_quote:re,replies:{},todo_reminder:null,total_replies:0,total_unread_replies:0,updated_at:{timestamp:e},unfurls:[],user_clap_count:0};b.add(l)}K?(o=Object(I.a)(Object(I.a)({},o),{},{id:X.id,parent_id:X.parent_id,reference_id:null}),b.edit(o),q(!1),ee(null)):b.create(o),re&&b.clearQuote(_),ce()}},ce=function(){R(""),w(""),F([]),A.current&&A.current.getEditor().setContents([]),null!==j&&O(Fo(null))},oe=function(e){};Object(n.useEffect)((function(){h&&A.current.getEditor().clipboard.dangerouslyPasteHTML(0,h)}),[h]),Object(n.useEffect)((function(){A.current&&A.current.focus();var e=function(e){var t=[];if(e.clipboardData.items.length)for(var a=0;a<e.clipboardData.items.length;a++){var n=e.clipboardData.items[a];"file"===n.kind&&t.push(n.getAsFile(n.type))}t.length&&(s(t),O(Go(f)))};return document.addEventListener("paste",e,!1),function(){return document.removeEventListener("paste",e,!1)}}),[]),Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&ce()};return K?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[K]),Object(n.useEffect)((function(){var e;j&&!K&&null===X&&(e=j,A.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),w(e.body),ee(e),q(!0),e.quote&&O($c(Object(I.a)(Object(I.a)({},e.quote),{},{channel_id:e.channel_id}))))}),[j]),Object(n.useEffect)((function(){if(t){var e=A.current.getEditor();A.current.focus();var a=e.getSelection().index;e.insertText(a,t.native),e.setSelection(a+2),i()}}),[t]),Object(n.useEffect)((function(){if(c){var e=A.current.getEditor();A.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",c.images.downsized.url),e.setSelection(t+5),l()}}),[c]),Object(n.useEffect)((function(){d&&(ie(),u())}),[d]);Ao(ce,T,x,L),Tc(ce,A);var le=me("post_comment",ie,"top",A,g),se=Object(p.a)(le,2),de=se[0];se[1];return r.a.createElement(ap,{className:"chat-input-wrapper"},G.length>0&&r.a.createElement(hc,{onAddUsers:function(e){var t={channel_id:v.id,recipient_ids:e.map((function(e){return e.type_id}))};O(so(t,(function(t,a){t||a&&Y([].concat(Object($.a)(Q),Object($.a)(e.map((function(e){return e.type_id})))))}))),B([])},onDoNothing:function(e){Y(e.map((function(e){return e.type_id}))),B([])},userIds:G,type:"chat"}),r.a.createElement(np,{className:"chat-input",modules:de,ref:A,onChange:function(e,t,a,n){var r=n.getText(e);""===r.trim()&&h&&E(),""===r.trim()&&K&&(q(!1),ee(null),null!==j&&O(Fo(null))),w(e),R(r),F(n.getContents()),n.getContents().ops&&n.getContents().ops.length&&oe(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id})))},editMode:K}),K&&r.a.createElement(rp,{icon:"x",onClick:function(){q(!1),ee(null),ce()}}))};function cp(){var e=Object(s.a)(["\n    .form-control {\n        margin-bottom: 0 !important;\n        border-radius: 6px !important;\n    }\n            \n    .invalid-feedback {\n        text-align: left;\n    }\n"]);return cp=function(){return e},e}var op=m.a.div(cp()),lp=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.type,i=void 0===n?"text":n,c=e.name,o=e.onChange,l=e.defaultValue,s=void 0===l?"":l,d=e.isValid,u=void 0===d?null:d,m=e.feedback,p=void 0===m?null:m,f=Object(G.a)(e,["className","type","name","onChange","defaultValue","isValid","feedback"]);return r.a.createElement(op,{className:"form-group ".concat(a),isValid:u},r.a.createElement(Lu.a,null,r.a.createElement(Fu.a,Object.assign({name:c,onChange:o,defaultValue:s,type:i,valid:u,invalid:null===u?u:!u},f)),r.a.createElement(Xm,{valid:u},p)))}));function sp(){var e=Object(s.a)(["\n    .form-control {\n        margin-bottom: 0 !important;\n    }\n        \n    .input-group-text {\n      height: 36px;\n      border-width: 1px;\n      border-style: solid;\n      border-color: ",";      \n      border-left: none;\n      border-radius: 0 6px 6px 0 !important;\n    }\n        \n    .invalid-feedback {\n        text-align: left;\n    }\n"]);return sp=function(){return e},e}var dp=m.a.div(sp(),(function(e){return null===e.isValid?"#e9ecef":e.isValid?"#28a745":"#dc3545"})),up=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,c=e.name,o=void 0===c?"password":c,l=e.placeholder,s=void 0===l?"Password":l,d=e.onChange,u=e.defaultValue,m=void 0===u?"":u,f=e.isValid,b=void 0===f?null:f,h=e.feedback,E=void 0===h?null:h,_=Object(G.a)(e,["className","name","placeholder","onChange","defaultValue","isValid","feedback"]),g=Object(n.useState)(!1),O=Object(p.a)(g,2),A=O[0],v=O[1],C=Object(n.useCallback)((function(){v((function(e){return!e}))}),[v]);return r.a.createElement(dp,{className:"form-group ".concat(i),isValid:b},r.a.createElement(Lu.a,null,r.a.createElement(Fu.a,Object.assign({innerRef:t,name:o,onChange:d,placeholder:s,defaultValue:m,type:A?"text":"password",valid:b,invalid:null===b?b:!b},_,{required:!0})),r.a.createElement(Mu.a,{className:"btn-toggle",addonType:"append"},r.a.createElement(Uu.a,{className:"btn",onClick:C},r.a.createElement(Se,{icon:A?"eye-off":"eye"}))),r.a.createElement(Xm,{valid:b},E)))})),mp=r.a.memo(up);function pp(){var e=Object(s.a)(["\n  position: absolute;  \n  top: calc(50% - 12px);\n  right: 5px;\n  cursor: pointer;\n  color: #000;\n"]);return pp=function(){return e},e}function fp(){var e=Object(s.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    \n    &:focus {\n      border: none;      \n    }\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    "," .mention {\n      color: #7a1b8b;\n    }\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n    \n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]);return fp=function(){return e},e}function bp(){var e=Object(s.a)(["\n  &.chat-input-wrapper:focus-within  {\n    border: none;\n  }\n"]);return bp=function(){return e},e}var hp=m.a.div(bp()),Ep=Object(m.a)(Hu)(fp(),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"})),_p=Object(m.a)(Se)(pp()),gp=function(e){var t=e.selectedEmoji,i=e.onClearEmoji,c=e.selectedGif,l=e.onClearGif,s=e.dropAction,d=e.sent,u=e.handleClearSent,m=e.post,f=e.parentId,b=e.commentActions,h=e.userMention,E=e.handleClearUserMention,_=e.commentId,g=e.members,O=Object(o.useDispatch)(),A=Object(n.useRef)(),v=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),C=Object(o.useSelector)((function(e){return e.session.user})),j=Object(o.useSelector)((function(e){return e.posts.editPostComment})),k=Object(n.useState)(""),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(""),S=Object(p.a)(N,2),x=S[0],R=S[1],P=Object(n.useState)([]),D=Object(p.a)(P,2),L=D[0],F=D[1],M=Object(n.useState)([]),U=Object(p.a)(M,2),G=U[0],B=U[1],H=Object(n.useState)([]),W=Object(p.a)(H,2),Q=W[0],Y=W[1],z=Object(n.useState)(!1),V=Object(p.a)(z,2),K=V[0],q=V[1],J=Object(n.useState)(null),Z=Object(p.a)(J,2),X=Z[0],ee=Z[1],te=gs(_),ae=Object(p.a)(te,1)[0],ne=function(){var e=Math.floor(Date.now()/1e3),t=[],n=!1,r=a(37).generate(),i=m.users_responsible.map((function(e){return e.id}));if(L.ops&&L.ops.length>0){var c=L.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));(t=Object($.a)(new Set(c))).includes(NaN)&&(t=i.length?Object($.a)(new Set([].concat(Object($.a)(t.filter((function(e){return!isNaN(e)}))),Object($.a)(i)))):t.filter((function(e){return!isNaN(e)}))),L.ops.forEach((function(e){e.insert.image&&(n=!0)}))}if(""!==x.trim()||0!==t.length||n){var o={post_id:m.id,body:T,mention_ids:t,file_ids:[],post_file_ids:[],reference_id:r,personalized_for_id:null,parent_id:f,code_data:{base_link:"".concat("https://").concat(localStorage.getItem("slug"),".").concat("driff.io"),push_title:"".concat(C.name," replied in ").concat(m.title),post_id:m.id,post_title:m.title}};if(ae&&(o.quote={id:ae.id,body:ae.body,user_id:ae.author.id,user:ae.author,files:ae.files}),!K){var l={author:C,body:T,clap_count:0,code:e,created_at:{timestamp:e},files:[],id:r,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:t,original_body:T,parent_id:f,personalized_for_id:null,post_id:m.id,quote:ae,reference_id:r,ref_quote:ae,replies:{},total_replies:0,todo_reminder:null,total_unread_replies:0,updated_at:{timestamp:e},unfurls:[],user_clap_count:0};b.add(l)}K?(o=Object(I.a)(Object(I.a)({},o),{},{id:X.id,parent_id:X.parent_id,reference_id:null}),b.edit(o),q(!1),ee(null)):b.create(o),ae&&b.clearQuote(_),re()}},re=function(){R(""),w(""),F([]),A.current&&A.current.getEditor().setContents([]),null!==j&&O(Fo(null))},ie=function(e){};Object(n.useEffect)((function(){h&&A.current.getEditor().clipboard.dangerouslyPasteHTML(0,h)}),[h]),Object(n.useEffect)((function(){A.current&&A.current.focus();var e=function(e){var t=[];if(e.clipboardData.items.length)for(var a=0;a<e.clipboardData.items.length;a++){var n=e.clipboardData.items[a];"file"===n.kind&&t.push(n.getAsFile(n.type))}t.length&&(s(t),O(Go(f)))};return document.addEventListener("paste",e,!1),function(){return document.removeEventListener("paste",e,!1)}}),[]),Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&re()};return K?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[K]),Object(n.useEffect)((function(){var e;j&&!K&&null===X&&(e=j,A.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),w(e.body),ee(e),q(!0),e.quote&&O($c(Object(I.a)(Object(I.a)({},e.quote),{},{channel_id:e.channel_id}))))}),[j]),Object(n.useEffect)((function(){if(t){var e=A.current.getEditor();A.current.focus();var a=e.getSelection().index;e.insertText(a,t.native),e.setSelection(a+2),i()}}),[t]),Object(n.useEffect)((function(){if(c){var e=A.current.getEditor();A.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",c.images.downsized.url),e.setSelection(t+5),l()}}),[c]),Object(n.useEffect)((function(){d&&(ne(),u())}),[d]);Ao(re,T,x,L),Tc(re,A);var ce=me("post_comment",ne,"top",A,g),oe=Object(p.a)(ce,2),le=oe[0];oe[1];return r.a.createElement(hp,{className:"chat-input-wrapper"},G.length>0&&r.a.createElement(hc,{onAddUsers:function(e){v.id,e.map((function(e){return e.type_id}));Y([].concat(Object($.a)(Q),Object($.a)(e.map((function(e){return e.type_id}))))),B([])},onDoNothing:function(e){Y(e.map((function(e){return e.type_id}))),B([])},userIds:G,type:"chat",basedOnId:!1}),r.a.createElement(Ep,{className:"chat-input",modules:le,ref:A,onChange:function(e,t,a,n){var r=n.getText(e);""===r.trim()&&h&&E(),""===r.trim()&&K&&(q(!1),ee(null),null!==j&&O(Fo(null))),w(e),R(r),F(n.getContents()),n.getContents().ops&&n.getContents().ops.length&&ie(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id})))},editMode:K}),K&&r.a.createElement(_p,{icon:"x",onClick:function(){q(!1),ee(null),re()}}))};function Op(){var e=Object(s.a)(["\n  min-width: 1rem;\n  min-height: 1rem;\n  margin: -2px 10px 0 0;\n  border: none;\n"]);return Op=function(){return e},e}function Ap(){var e=Object(s.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]);return Ap=function(){return e},e}function vp(){var e=Object(s.a)(['\n  .dark & {\n    > div {\n      > div {\n        background-color: #25282c;\n        margin: 10px;\n        border-radius: 2px;\n        color: #fff;\n        \n        > div {\n          color: #c7c7c7;\n          \n          &[class$="indicatorContainer"] {\n            background: rgb(17, 20, 23);        \n          }\n        }\n      }\n    }\n    [class$="menu"] {\n      > div {        \n        > div {        \n          > div {\n            //background: rgb(17, 20, 23);\n          }\n        }      \n      }        \n    }\n  }\n']);return vp=function(){return e},e}var Cp=Object(m.a)(tm.a)(vp()),jp=m.a.div(Ap()),kp=Object(m.a)(Se)(Op()),yp=function(e){return r.a.createElement(jp,null,r.a.createElement(em.z.Option,e,e.data&&r.a.createElement(r.a.Fragment,null,r.a.createElement(kp,{icon:e.data.icon}),e.children)))},Tp=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=(e.postType,Object(G.a)(e,["className","postType"])),c=fl()._t,o={visibleAllInternal:c("POST.VISIBLE_ALL_INTERNAL","Visible to all internal members"),visibleAllWorkspace:c("POST.VISIBLE_ALL_WORKSPACE","Visible to all workspace members"),responsbileUsers:c("POST.VISIBLE_RESPONSIBLE_USERS","Visible to responsible users only")},l=Sl().generalSettings.dark_mode,s={Option:yp},d=[{icon:"unlock",value:!1,label:o.visibleAllWorkspace},{icon:"lock",value:!0,label:o.responsbileUsers}];return r.a.createElement(Cp,Object.assign({ref:t,className:"react-select-container ".concat(n),styles:"0"===l?am:nm,isMulti:!1,isClearable:!1,components:s,options:d},i))}));function wp(){var e=Object(s.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n  .input-group {\n    input {\n      margin-bottom: 0 !important;\n    }\n    \n    &.driff-name {\n      .input-group-text {\n        border-radius: 0 6px 6px 0;\n      }\n      .invalid-feedback {\n          text-align: left;\n      }\n    }\n  }\n"]);return wp=function(){return e},e}var Np=m.a.div(wp()),Sp=Object(d.k)((function(e){var t=e.className,a=void 0===t?"":t,i=e.setRegisteredDriff,c=K(),o=Object(d.g)(),l=Object(n.useState)(!1),s=Object(p.a)(l,2),u=s[0],m=s[1],f=Object(n.useState)({valid:{},message:{}}),b=Object(p.a)(f,2),h=b[0],E=b[1],_={name:Object(n.useRef)(null)},O=Object(n.useState)({name:""}),A=Object(p.a)(O,2),v=A[0],C=A[1],j=Object(n.useCallback)((function(e){e.persist(),C((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value.trim()))})),E((function(t){return Object(I.a)(Object(I.a)({},t),{},{valid:Object(I.a)(Object(I.a)({},t.valid),{},Object(Hi.a)({},e.target.name,void 0)),message:Object(I.a)(Object(I.a)({},t.message),{},Object(Hi.a)({},e.target.name,void 0))})}))}),[C]);Object(n.useEffect)((function(){document.body.classList.add("form-membership"),_.name.current.focus()}),[]);var k=fl()._t,y={continue:k("REGISTER.CONTINUE","Continue"),registerNewDriff:k("REGISTER.REGISTER_NEW_DRIFF","Register new driff"),yourDriff:k("REGISTER.YOUR_DRIFF","Your driff")};return r.a.createElement(Np,{className:"driff-register-panel fadeIn form-wrapper ".concat(a)},r.a.createElement("div",{id:"logo"},r.a.createElement(xe,{icon:"driff-logo",width:"110",height:"80"})),r.a.createElement("h5",null,y.yourDriff),r.a.createElement(Pu.a,null,r.a.createElement(Du.a,null,r.a.createElement(Lu.a,{className:"driff-name"},r.a.createElement(Fu.a,{ref:_.name,onChange:j,name:"name",type:"text",className:"form-control",placeholder:"driff",autoCapitalize:"none",valid:h.valid.name,invalid:"undefined"!==typeof h.valid.name?!h.valid.name:h.valid.name,required:!0,autoFocus:!0}),r.a.createElement(Mu.a,{addonType:"append"},r.a.createElement(Uu.a,null,".","driff.io")),r.a.createElement(Xm,{valid:h.valid.name},h.message.name))),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),u||!function(){var e={},t={};return""===v.name&&(e.name=!1,t.name="Driff is required."),E({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}())return null;m(!0),c.check(v.name,(function(e,t){m(!1),!e&&t.data.status||(E({valid:{name:!1},message:{name:r.a.createElement(r.a.Fragment,null,"Driff ",r.a.createElement("b",null,v.name)," does not exist.")}}),_.name.current.focus()),t&&t.data.status&&(E({valid:{name:!0},message:{}}),g(window.location.hostname)||"localhost"===window.location.hostname?(c.storeName(v.name,!0),i(v.name),o.push("/login")):window.location.href="".concat("https://").concat(v.name,".").concat("driff.io"))}))}},u&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",y.continue),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-outline-light btn-sm",onClick:function(){o.push("/driff-register")}},y.registerNewDriff)))})),xp=a(216),Ip=a.n(xp);function Rp(){var e=Object(s.a)(["\n  .form-control {\n    margin-bottom: 0 !important;\n  }\n  .invalid-feedback {\n    text-align: left;\n  }\n  .input-group-text {\n    height: 36px;\n  }\n"]);return Rp=function(){return e},e}function Pp(){var e=Object(s.a)(["\n  .btn {\n    .badge {\n      position: relative;\n      right: auto;\n      top: 0px;\n      left: 0.5rem;\n    }\n  }\n"]);return Pp=function(){return e},e}var Dp=m.a.form(Pp()),Lp=Object(m.a)(Du.a)(Rp()),Fp=r.a.memo((function(e){var t=e.dictionary,a=e.setRegisteredDriff,i=Object(d.g)(),c=Object(o.useDispatch)(),l=K(),s=Object(n.useState)(!1),u=Object(p.a)(s,2),m=u[0],f=u[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),E=h[0],_=h[1],O=Object(n.useState)("/login"),A=Object(p.a)(O,2),v=A[0],C=A[1],j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),k=j.REACT_APP_localDNSName,y=j.REACT_APP_apiProtocol,T={company_name:Object(n.useRef)(null),slug:Object(n.useRef)(null)},w=Object(n.useState)({}),N=Object(p.a)(w,2),S=N[0],x=N[1],R=Object(n.useState)({valid:{},message:{}}),P=Object(p.a)(R,2),D=P[0],L=P[1],F=Object(n.useCallback)((function(e){e.persist(),x((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value))})),L((function(t){return Object(I.a)(Object(I.a)({},t),{},{valid:Object(I.a)(Object(I.a)({},t.valid),{},Object(Hi.a)({},e.target.name,void 0)),message:Object(I.a)(Object(I.a)({},t.message),{},Object(Hi.a)({},e.target.name,void 0))})}))}),[x]),M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2?arguments[2]:void 0;x((function(t){return Object(I.a)(Object(I.a)({},t),{},{invitations:e})})),t(),a.closeModal()},U=Object(n.useCallback)((function(e){e.persist(),i.push("/login")}),[]),G=Object(n.useCallback)((function(e){e.preventDefault(),m||function(){var e={},a={};return"undefined"===typeof S.company_name||""===S.company_name?(e.company_name=!1,a.company_name=t.companyRequired):e.company_name=!0,"undefined"!==typeof S.slug&&""!==S.slug||(e.slug=!1,a.slug=t.driffRequired),"undefined"===typeof S.email||""===S.email?(e.email=!1,a.email=t.emailRequired):ie.test(S.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),"undefined"===typeof S.user_name||""===S.user_name?(e.user_name=!1,a.user_name=t.yourNameRequired):e.user_name=!0,"undefined"===typeof S.password||""===S.password?(e.password=!1,a.password=t.passwordRequired):e.password=!0,L({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()&&(f(!0),l.check(S.slug,(function(e,n){n.data.status?(f(!1),L({valid:{slug:!1},message:{slug:t.driffTaken}})):l.create(S,(function(e,t){f(!1),t&&(_(!0),g(window.location.hostname)||"localhost"===window.location.hostname?(l.storeName(S.slug,!0),a(S.slug)):C("".concat(y).concat(S.slug,".").concat(k,"/login")))}))})))}),[S]);return Object(n.useEffect)((function(){T.company_name.current&&T.company_name.current.focus()}),[]),Object(n.useEffect)((function(){var e=document.querySelector("h5.title");e&&(e.innerHTML=E?t.thankYou:t.driffRegistration)}),[E]),r.a.createElement(Dp,null,E?r.a.createElement(r.a.Fragment,null,"Your driff"," ",r.a.createElement("b",null,r.a.createElement("a",{href:v},S.slug,".",k))," ","is ready.",r.a.createElement("hr",null),r.a.createElement("a",{href:v,className:"btn btn-outline-light btn-sm"},t.signIn),r.a.createElement(Ip.a,{recycle:!1})):r.a.createElement(r.a.Fragment,null,r.a.createElement(lp,{ref:T.company_name,onChange:F,name:"company_name",isValid:D.valid.company_name,feedback:D.message.company_name,placeholder:t.companyName,innerRef:T.company_name,readOnly:m,autoFocus:!0}),r.a.createElement(Lp,null,r.a.createElement(Lu.a,{className:"driff-name"},r.a.createElement(Fu.a,{ref:T.slug,onChange:F,name:"slug",type:"text",placeholder:"driff",autocapitalize:"none",valid:D.valid.slug,invalid:"undefined"!==typeof D.valid.slug?!D.valid.slug:D.valid.slug,readOnly:m,required:!0,autoFocus:!0}),r.a.createElement(Mu.a,{addonType:"append"},r.a.createElement(Uu.a,null,".",k)),r.a.createElement(Xm,{valid:D.valid.slug},D.message.slug))),r.a.createElement(lp,{onChange:F,name:"email",isValid:D.valid.email,feedback:D.message.email,placeholder:t.yourEmail,type:"email",readOnly:m}),r.a.createElement(lp,{onChange:F,name:"user_name",isValid:D.valid.user_name,feedback:D.message.user_name,placeholder:t.yourName,innerRef:T.user_name,readOnly:m}),r.a.createElement(mp,{onChange:F,isValid:D.valid.password,feedback:D.message.password,readOnly:m,placeholder:t.password}),r.a.createElement("button",{className:"btn btn-outline-light btn-sm mb-4",onClick:function(e){if(e.preventDefault(),!m){var t={type:"driff_invite_users",invitations:"undefined"!==typeof S.invitations?S.invitations:[],onPrimaryAction:M};c(Br(t))}}},"undefined"!==typeof S.invitations?r.a.createElement(r.a.Fragment,null,t.invitedUsers," ",r.a.createElement("div",{className:"mr-2 d-sm-inline d-none"},r.a.createElement("div",{className:"badge badge-info text-white"},S.invitations.length))):r.a.createElement(r.a.Fragment,null,"+ ",t.inviteUser)),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:G},m&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.register),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-outline-light btn-sm",onClick:U},t.login)))}));function Mp(){var e=Object(s.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n  \n  .btn-magic-link {\n    background-color: #7a1b8b;\n    color: #fff;\n  }  \n"]);return Mp=function(){return e},e}var Up=m.a.form(Mp()),Gp=r.a.memo((function(e){var t=e.dictionary,a=Object(d.g)(),i=Object(o.useDispatch)(),c=Sl().driffSettings,s=ls(),u={email:Object(n.useRef)(),password:Object(n.useRef)()},m=Object(n.useState)({email:"",password:"",remember_me:!0}),f=Object(p.a)(m,2),b=f[0],g=f[1],O=Object(n.useState)({valid:{},message:{}}),A=Object(p.a)(O,2),v=A[0],C=A[1],j=Object(n.useCallback)((function(e){e.persist(),g((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.dataset.name,!t[e.target.dataset.name]))}))}),[g]),k=Object(n.useCallback)((function(e){e.persist(),g((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value.trim()))}))}),[g]),y=Object(n.useCallback)((function(){a.push("/magic-link")}),[]);return r.a.createElement(Up,{className:"fadeIn"},c.settings.password_login&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lp,{onChange:k,name:"email",isValid:v.valid.email,feedback:v.message.email,placeholder:t.email,innerRef:u.email,type:"email",autoFocus:!0}),r.a.createElement(mp,{ref:u.password,onChange:k,isValid:v.valid.password,feedback:v.message.password,placeholder:t.password}),r.a.createElement("div",{className:"form-group d-flex justify-content-between"},r.a.createElement(qm,{name:"remember_me",checked:b.remember_me,onClick:j},t.rememberMe),r.a.createElement(l.b,{to:"/reset-password"},t.resetPassword)),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(a){if(a.preventDefault(),function(){var e={},a={};return""===b.email?(e.email=!1,a.email=t.emailRequired):ie.test(b.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),""===b.password?(e.password=!1,a.password=t.passwordRequired):e.password=!0,C({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()){for(var n=function(){var e=new h.DeviceUUID,t="";return t=E.isMobile?"".concat(E.mobileVendor).concat(E.mobileModel,":").concat(E.osName).concat(E.osVersion):"".concat(E.osName).concat(E.osVersion),{serial:e.get(),device:t,browser:E.browserName}}(),r=Object(I.a)(Object(I.a)({},b),{},{serial:n.serial,device:n.device,browser:n.browser}),c=["first_name","slug","free_account","topic_id","topic_name","slug_from","invited_by","invited_by_id"],o=0;o<c.length;o++){var l=c[o],d=_(l)?_(l):"";d&&(r=Object(I.a)(Object(I.a)({},r),{},Object(Hi.a)({},l,d)))}i(Mr(!0)),s.checkCredentials(r,(function(t,a){if(t&&(i(Mr(!1)),C((function(e){return Object(I.a)(Object(I.a)({},e),{},{valid:{email:!1,password:!1}})})),u.email.current.focus()),a)if(a.data.message&&"need_verify_via_email"===a.data.message){var n={key:(new Date).getTime(),type:"modal",modal:"modal_login_verification",title:"Two-step verification",children:"",dataSet:a.data,callback:{handleVerify:(void 0).loginCodeVerify,handleResend:(void 0).loginCodeResend}};console.log(n)}else{var r="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/chat";s.login(a.data,r)}}))}else v.valid.email?v.valid.password||u.password.current.focus():u.email.current.focus()}},t.signIn)),(c.settings.google_login||c.settings.magic_link)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),r.a.createElement("ul",{className:"list-inline"},c.settings.magic_link&&r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{onClick:y,className:"btn btn-floating btn-magic-link"},r.a.createElement("i",{className:"fa fa-magic"}))),c.settings.google_login&&r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{onClick:s.googleLogin,className:"btn btn-floating btn-google"},r.a.createElement("i",{className:"fa fa-google"}))))),c.settings.sign_up&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.noAccount),r.a.createElement(l.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow)))}));function Bp(){var e=Object(s.a)(["\n  ",";\n"]);return Bp=function(){return e},e}var Hp=m.a.div(Bp(),(function(e){return!1===e.isLoading?"display: none; opacity: 0;":"opacity: ".concat(e.opacity,";")})),Wp=Object(n.forwardRef)((function(e,t){var a=pd().isActive,i=Object(n.useState)(1),c=Object(p.a)(i,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){!1===a?l(.8):o>.3&&setTimeout((function(){l(o+-.01)}),10)}),[a,o]),r.a.createElement(Hp,{className:"preloader",isLoading:a,opacity:o},r.a.createElement("div",{className:"preloader-icon"}))})),Qp=r.a.memo(Wp);function Yp(){var e=Object(s.a)([""]);return Yp=function(){return e},e}var zp=m.a.form(Yp()),Vp=r.a.memo((function(e){var t,a=e.dictionary,i=ls(),c=Object(n.useState)(!1),o=Object(p.a)(c,2),s=o[0],d=o[1],u={email:Object(n.useRef)(null)},m=Object(n.useState)({email:""}),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useState)({valid:{},message:{}}),_=Object(p.a)(E,2),g=_[0],O=_[1],A=Object(n.useCallback)((function(e){e.persist(),h((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value.trim()))}))}),[h]);return Object(n.useEffect)((function(){u.email.current.focus()}),[]),r.a.createElement(zp,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(lp,(t={innerRef:u.email,isValid:g.valid.email,feedback:g.message.email,placeholder:"Email",onChange:A,name:"email",type:"email"},Object(Hi.a)(t,"placeholder",a.email),Object(Hi.a)(t,"required",!0),Object(Hi.a)(t,"autoFocus",!0),t))),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),!function(e){var t={},n={};return""===b.email?(t.email=!1,n.email=a.emailRequired):ie.test(b.email)?t.email=!0:(t.email=!1,n.email=a.invalidEmail),O({valid:t,message:n}),!Object.values(t).some((function(e){return!1===e}))}()||s)return!1;d(!0),i.requestPasswordReset(b.email,(function(e,t){e&&O({valid:{email:!1},message:{email:a.emailNotFound}}),d(!1)}))}},s&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",a.submit),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},a.takeADifferentAction),r.a.createElement(l.b,{className:"btn btn-sm btn-outline-light mr-1-1",to:"/register"},a.registerNow)," ",a.or," ",r.a.createElement(l.b,{className:"btn btn-sm btn-outline-light ml-1",to:"/login"},a.login))}));function Kp(){var e=Object(s.a)([""]);return Kp=function(){return e},e}var qp=m.a.form(Kp()),Jp=r.a.memo((function(e){var t=e.dictionary,a=Object(d.g)(),i=(Object(o.useDispatch)(),Object(d.j)("/resetpassword/:token/:email")),c=ls(),s=(cd(),pd()),u={password:Object(n.useRef)()},m=Object(n.useState)({token:i.params.token,email:i.params.email,password:""}),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useState)({password:""}),_=Object(p.a)(E,2),g=(_[0],_[1]),O=Object(n.useState)({error:"",success:""}),A=Object(p.a)(O,2),v=(A[0],A[1]),C=function(e){h(Object(I.a)(Object(I.a)({},b),{},Object(Hi.a)({},e.target.name,e.target.value.trim())))};return r.a.createElement(qp,null,r.a.createElement(lp,{onChange:C,name:"email",type:"email",placeholder:"Email",value:b.email,readOnly:!0}),r.a.createElement(mp,{ref:u.password,onChange:C}),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),!function(){v({error:"",success:""});var e=!0,a={password:"",form:""};return""===b.password&&(e=!1,a=Object(I.a)(Object(I.a)({},a),{},{password:t.passwordRequired})),g(a),!0!==e&&""!==a.password&&u.password.current.focus(),e}())return!1;s.show(),c.updatePassword(b,(function(e,t){e&&(setTimeout((function(){a.push("/reset-password")}),5e3),s.hide())}))}},t.updatePassword),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{nClick:function(e){e.preventDefault(),c.googleLogin()},className:"btn btn-floating btn-google"},r.a.createElement("i",{className:"fa fa-google"})))),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.noAccount),r.a.createElement(l.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow))}));function Zp(){var e=Object(s.a)([""]);return Zp=function(){return e},e}var Xp=m.a.form(Zp()),$p=r.a.memo((function(e){var t=e.dictionary,a={first_name:Object(n.useRef)()},i=ls(),c=Object(n.useState)({}),o=Object(p.a)(c,2),s=o[0],d=o[1],u=Object(n.useState)(!1),m=Object(p.a)(u,2),f=m[0],b=m[1],h=Object(n.useState)({valid:{},message:{}}),E=Object(p.a)(h,2),_=E[0],g=E[1],O=Object(n.useCallback)((function(e){e.persist(),d((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value))})),g((function(t){return Object(I.a)(Object(I.a)({},t),{},{valid:Object(I.a)(Object(I.a)({},t.valid),{},Object(Hi.a)({},e.target.name,void 0)),message:Object(I.a)(Object(I.a)({},t.message),{},Object(Hi.a)({},e.target.name,void 0))})}))}),[d]),A=Object(n.useCallback)((function(e){e.preventDefault(),function(){var e={},a={};return"undefined"===typeof s.first_name||""===s.first_name?(e.first_name=!1,a.first_name=t.firstNameRequired):e.first_name=!0,"undefined"===typeof s.last_name||""===s.last_name?(e.last_name=!1,a.last_name=t.lastNameRequired):e.last_name=!0,"undefined"===typeof s.email||""===s.email?(e.email=!1,a.email=t.emailRequired):ie.test(s.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),"undefined"===typeof s.password||""===s.password?(e.password=!1,a.password=t.passwordRequired):e.password=!0,g({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()&&!f&&(b(!0),i.register(s,(function(e,t){if(b(!1),e.field){var a={},n={};Object.keys(e.field).forEach((function(t){console.log(t),a[t]=!1,n[t]=e.field[t]})),g({valid:a,message:n})}})))}),[s]);return Object(n.useEffect)((function(){a.first_name.current.focus()}),[]),r.a.createElement(Xp,null,r.a.createElement(lp,{onChange:O,name:"first_name",isValid:_.valid.first_name,feedback:_.message.first_name,placeholder:t.firstName,innerRef:a.first_name,autoFocus:!0}),r.a.createElement(lp,{onChange:O,name:"middle_name",isValid:_.valid.middle_name,feedback:_.message.middle_name,placeholder:t.middleName}),r.a.createElement(lp,{onChange:O,name:"last_name",isValid:_.valid.last_name,feedback:_.message.last_name,placeholder:t.lastName}),r.a.createElement(lp,{onChange:O,name:"email",isValid:_.valid.email,feedback:_.message.email,placeholder:t.email,type:"email"}),r.a.createElement(mp,{onChange:O,isValid:_.valid.password,feedback:_.message.password,placeholder:t.password}),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:A},f&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.register),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.haveAccount),r.a.createElement(l.b,{className:"btn btn-outline-light btn-sm",to:"/login"},t.signIn))}));function ef(){var e=Object(s.a)(["\n    .form-control {\n        margin-bottom: 0 !important;\n    }\n    .invalid-feedback {\n        text-align: left;\n    }\n    .input-group-text {\n      height: 36px;\n    }\n"]);return ef=function(){return e},e}function tf(){var e=Object(s.a)(["\n"]);return tf=function(){return e},e}var af=m.a.form(tf()),nf=m.a.div(ef()),rf=r.a.memo((function(e){var t=e.dictionary,a=Object(d.g)(),i=ls(),c=cd(),o=Object(n.useState)(!1),l=Object(p.a)(o,2),s=l[0],u=l[1],m={first_name:Object(n.useRef)()},f=Object(n.useState)({user_id:0,topic_id:0,first_name:"",last_name:"",email:"",password:""}),b=Object(p.a)(f,2),h=b[0],E=b[1],g=Object(n.useState)({valid:{},message:{}}),O=Object(p.a)(g,2),A=O[0],v=O[1],C=Object(n.useCallback)((function(e){e.persist(),E((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value))})),v((function(t){return Object(I.a)(Object(I.a)({},t),{},{valid:Object(I.a)(Object(I.a)({},t.valid),{},Object(Hi.a)({},e.target.name,void 0)),message:Object(I.a)(Object(I.a)({},t.message),{},Object(Hi.a)({},e.target.name,void 0))})}))}),[]);return Object(n.useEffect)((function(){i.fetchStateCode(_("state_code"),(function(t,n){if(t&&a.push("/login"),n)if(n.data.auth_login){c.success("Activation successful!");var r="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/chat";i.storeLoginToken(n.data.auth_login),i.processBackendLogin(n.data.auth_login,r)}else E((function(e){return Object(I.a)(Object(I.a)({},e),{},{user_id:n.data.user.id,topic_id:n.data.topic.id,email:n.data.user.email})})),m.first_name.current.focus()}))}),[]),r.a.createElement(af,null,r.a.createElement(nf,{className:"form-group"},r.a.createElement(lp,{innerRef:m.first_name,onChange:C,name:"first_name",placeholder:t.firstName,isValid:A.valid.first_name,feedback:A.message.first_name,required:!0,autoFocus:!0})),r.a.createElement(nf,{className:"form-group"},r.a.createElement(lp,{onChange:C,name:"middle_name",type:"text",placeholder:t.middleName,isValid:A.valid.middle_name,feedback:A.message.middle_name})),r.a.createElement(nf,{className:"form-group"},r.a.createElement(lp,{onChange:C,name:"last_name",type:"text",placeholder:t.lastName,isValid:A.valid.last_name,feedback:A.message.last_name})),r.a.createElement(nf,{className:"form-group text-left"},r.a.createElement(lp,{onChange:C,name:"last_name",type:"text",value:h.email,isValid:A.valid.email,feedback:A.message.email,readOnly:!0})),r.a.createElement(nf,{className:"form-group"},r.a.createElement(mp,{innerRef:m.password,name:"password",onChange:C,placeholder:t.password,isValid:A.valid.password,feedback:A.message.password,required:!0})),r.a.createElement("button",{className:"btn btn-primary btn-block mt-2",onClick:function(a){a.preventDefault(),function(){var e={},a={};return""===h.email?(e.email=!1,a.email=t.emailRequired):ie.test(h.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),""===h.first_name?(e.first_name=!1,a.first_name=t.firstNameRequired):e.first_name=!0,""!==h.middle_name&&(e.middle_name=!0),""===h.last_name?(e.last_name=!1,a.last_name=t.lastNameRequired):e.last_name=!0,""===h.password?(e.password=!1,a.password=t.passwordRequired):e.password=!0,v({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()&&!s&&(u(!0),i.updateExternalUser(h,(function(t,a){if(u(!1),a){c.success("Login successful!"),localStorage.setItem("fromRegister",!0);var n="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/chat";i.login(a.data.auth_login,n)}})))}},s&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.accept))}));a(496);function cf(){var e=Object(s.a)(["\n  box-sizing: border-box;\n  padding: 40px 0;\n  margin: 0 auto;\n  img {\n    max-width: 80vh;\n    max-height: 80vh;\n  }\n"]);return cf=function(){return e},e}function of(){var e=Object(s.a)(["\n  opacity: ",";\n  visibility: ",";\n\n  &:focus {\n    outline: none;\n  }\n"]);return of=function(){return e},e}function lf(){var e=Object(s.a)(["\n  &:focus {\n    outline: none;\n  }\n"]);return lf=function(){return e},e}function sf(){var e=Object(s.a)(['\n  position: relative;\n  top: 0;\n  margin: 0 auto;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: rgba(24, 24, 26, 0.5);\n\n  :before {\n    background-color: rgba(0, 0, 0, 0.8);\n    opacity: 0.5;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    content: "";\n    display: block;\n    z-index: -1;\n  }\n\n  .iframe {\n    width: 100%;\n    height: 100%;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n  }\n']);return sf=function(){return e},e}function df(){var e=Object(s.a)(["\n  width: 100%;\n  display: block;\n  font-size: 11px;\n  font-weight: normal;\n  text-align: left;\n  margin: 0 1rem 1rem;\n"]);return df=function(){return e},e}function uf(){var e=Object(s.a)(["\n  position: relative;\n  z-index: 1;\n  display: inline-block;\n  font-size: 16px;\n  font-weight: 500;\n  margin: 1rem 1rem 0;\n  color: #fff;\n\n  &:hover {\n    text-decoration: none;\n    color: #fff;\n  }\n"]);return uf=function(){return e},e}function mf(){var e=Object(s.a)(["\n  display: block;\n  text-align: left;\n  margin-bottom: 0;\n"]);return mf=function(){return e},e}function pf(){var e=Object(s.a)([""]);return pf=function(){return e},e}function ff(){var e=Object(s.a)(["\n  position: relative;\n  top: -3px;\n  margin-right: 5px;\n"]);return ff=function(){return e},e}function bf(){var e=Object(s.a)(["\n  &.component-image-text-link {\n    a {\n      display: block;\n      font-size: 1.5rem;\n      margin-top: -2.5rem;\n    }\n    .component-svg-image {\n      width: auto;\n      height: 80%;\n      filter: brightness(0) saturate(100%) invert(1);\n      &:hover {\n        filter: brightness(0) saturate(100%) invert(1);\n      }\n    }\n  }\n"]);return bf=function(){return e},e}function hf(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 99;\n  pointer-events: auto;\n  align-items: center;\n  justify-content: space-evenly;\n  font-size: 2.5rem;\n  color: #fff;\n  z-index: 9999;\n  .fas {\n    cursor: pointer;\n  }\n  .cannot-preview {\n    min-width: 40vw;\n    min-height: 40vh;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: #cccccc;\n    text-align: center;\n    p {\n      font-size: 1.1rem;\n      line-height: 1.4rem;\n      margin: 2rem 0 1.5rem 0;\n    }\n    svg {\n      width: 48px;\n      height: 48px;\n    }\n  }\n  .iframe.file {\n    min-width: 80vw;\n    min-height: 80vh;\n  }\n"]);return hf=function(){return e},e}var Ef=m.a.div(hf()),_f=(Object(m.a)(ct)(bf()),Object(m.a)(Se)(ff())),gf=Object(m.a)(Se)(pf()),Of=m.a.p(mf()),Af=m.a.a(uf()),vf=m.a.p(df()),Cf=m.a.div(sf()),jf=m.a.button(lf()),kf=m.a.button(of(),(function(e){return e.show?"1":"0"}),(function(e){return e.show?"visible":"hidden"})),yf=m.a.figure(cf()),Tf=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,c=Object(n.useRef)(),l=Object(o.useDispatch)(),s=Object(o.useSelector)((function(e){return e.files.channelFiles})),d=Object(o.useSelector)((function(e){return e.files.viewFiles})),u=Object(o.useSelector)((function(e){return e.files.workspaceFiles})),m=Object(o.useSelector)((function(e){return e.files.companyFiles.items})),f=sd().localizeDate,b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)([]),O=Object(p.a)(g,2),A=O[0],v=O[1];Object(n.useEffect)((function(){if(Object.keys(s).length&&s.hasOwnProperty(d.channel_id)&&(v(s[d.channel_id]),s[d.channel_id].forEach((function(e,t){e.file_id===d.file_id&&_(t)}))),Object.keys(u).length&&u.hasOwnProperty(d.workspace_id)){var e=Object.values(u[d.workspace_id].files);d.hasOwnProperty("files")&&(e=d.files),v(e),_(e.findIndex((function(e){return e.id===d.file_id})))}var t=Object.values(m);t.length&&!Object.keys(d).some((function(e){return["channel_id","workspace_id"].includes(e)}))&&(v(t),_(t.findIndex((function(e){return e.id===d.file_id}))))}),[]);var C={};X(c,(function(){l(qa(null))}),!0);var j=function(e){e.currentTarget.classList.remove("d-none"),e.currentTarget.removeAttribute("height")},k=function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(w({isDNS:!0}),"/file-view-attempt/").concat(S.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=a(123))},y=function(e){e.currentTarget.classList.remove("d-none"),e.currentTarget.removeAttribute("height")},T=function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(w({isDNS:!0}),"/file-view-attempt/").concat(S.file_id,"/").concat(localStorage.getItem("atoken"))):(document.querySelector('.file-item[data-index="'.concat(e.currentTarget.dataset.index,'"] img')).classList.remove("d-none"),document.querySelector('.file-item[data-index="'.concat(e.currentTarget.dataset.index,'"] video')).classList.add("d-none"))},N=function(e,t){e.preventDefault(),window.open(t.download_link,"_self").blur(),window.focus()},S=A[E];if(0!==A.length&&null!==E)return r.a.createElement(Ef,{className:"fileviewer-container ".concat(i),ref:c},r.a.createElement(Cf,{className:"iframe-img-container"},r.a.createElement(Of,null,r.a.createElement(Af,{onClick:function(e){return N(e,S)},href:S.download_link,download:S.filename,target:"_blank"},r.a.createElement(_f,{icon:"download"})," ",S.filename?S.filename:S.name)),S.created_at&&S.created_at.timestamp&&r.a.createElement(vf,null,f(S.created_at.timestamp)," \u25cf ",S.type.toLowerCase()),r.a.createElement("div",{className:"mfp-container mfp-s-ready mfp-image-holder"},r.a.createElement("div",{className:"mfp-content"},r.a.createElement("div",{className:"mfp-figure"},r.a.createElement(jf,{onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation(),l(qa(null))}(e)},title:"Close (Esc)",type:"button",className:"mfp-close"},"\xd7"),r.a.createElement(yf,null,function(e){switch(e.type.toLowerCase()){case"video":return r.a.createElement("div",{key:e.id,"data-index":e.id,className:"file-item mfp-img"},r.a.createElement("img",{className:"d-none",src:a(123),alt:"File not found."}),r.a.createElement("video",{"data-index":e.id,"data-attempt":0,ref:function(t){return C[e.id]=t},controls:!0,playsInline:!0,key:e.id,className:"file",autoPlay:!1,onLoadStart:y,onError:T,src:e.view_link}));case"image":return r.a.createElement("div",{key:e.id,"data-index":e.id,className:"file-item mfp-img"},r.a.createElement("img",{"data-index":e.id,"data-attempt":0,onLoad:j,onError:k,ref:function(t){return C[e.id]=t},key:e.id,className:"file",src:e.view_link,alt:"file preview"}));case"pdf":return r.a.createElement("div",{key:e.id,"data-index":e.id,className:"file-item mfp-img"},r.a.createElement("object",{data:e.view_link,width:"600",height:"400"},r.a.createElement("embed",{src:e.view_link,width:"600",height:"400"})));default:return r.a.createElement("div",{key:e.id,"data-index":e.id,className:"file-item mfp-img cannot-preview"},r.a.createElement(gf,{icon:"eye-off"}),r.a.createElement("p",null,"We can't preview this file type. ",r.a.createElement("br",null),"Try downloading the file to view it."),r.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return N(t,e)}},"Download ",e.search))}}(A[E]),r.a.createElement("figcaption",null,r.a.createElement("div",{className:"mfp-bottom-bar"},r.a.createElement("div",{className:"mfp-title"}),r.a.createElement("div",{className:"mfp-counter"},"".concat(E+1," of ").concat(A.length))))))),r.a.createElement("div",{className:"mfp-preloader"},"Loading..."),r.a.createElement(kf,{show:A.length>1,onClick:function(e){return function(){var e=A.length;_(0===E?e-1:E-1)}()},title:"Previous (Left arrow key)",type:"button",className:"mfp-arrow mfp-arrow-left mfp-prevent-close"}),r.a.createElement(kf,{show:A.length>1,onClick:function(e){return function(){var e=A.length;_(e-1===E?0:E+1)}()},title:"Next (Right arrow key)",type:"button",className:"mfp-arrow mfp-arrow-right mfp-prevent-close"}))))})),wf=a(551),Nf=a(547),Sf=a(548),xf=a(549),If=r.a.memo((function(e){var t=e.data,a=t.submitText,i=t.cancelText,c=t.headerText,l=t.bodyText,s=t.type,d=t.size,u=void 0===d?"m":d,m=e.data.actions.onSubmit,f=Object(o.useDispatch)(),b=Object(n.useState)(!0),h=Object(p.a)(b,2),E=h[0],_=h[1],g=function(){_(!E),f(Hr({type:s}))};return r.a.createElement(wf.a,{isOpen:E,toggle:g,size:u,centered:!0},r.a.createElement(lh,{toggle:g},c),r.a.createElement(Nf.a,{dangerouslySetInnerHTML:{__html:l}}),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{color:"primary",onClick:function(){g(),m()}},a)," ",r.a.createElement(xf.a,{outline:!0,color:"secondary",onClick:g},i)))}));function Rf(){var e=Object(s.a)(["\n  color: #ffffff !important;\n  height: 32px;\n  width: 32px;\n  &.feather-home {\n    background: #7a1b8b;\n  }\n  .chat-header-icon-left & {\n    height: 28px;\n    width: 28px;\n  }\n"]);return Rf=function(){return e},e}function Pf(){var e=Object(s.a)([""]);return Pf=function(){return e},e}function Df(){var e=Object(s.a)(["\n  line-height: 0;\n  > span {\n    font-size: 11px;\n    background-color: ",";\n    color: #fff;\n    display: inline-flex;\n    padding: 5px; \n    border-radius: 100%;\n    width: 30px;\n    height: 30px;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n  }\n  > svg {\n    padding: 6px;\n    background-color: ",";\n    border-radius: 50%;\n    &.dark {\n      background-color: ",";\n    }\n  }\n  .chat-header-icon-left & {\n    span {\n      width: 28px;\n      height: 28px;\n    }\n  }\n"]);return Df=function(){return e},e}var Lf=m.a.div(Df(),(function(e){return e.iconColor?e.iconColor:"#fff"}),(function(e){return e.iconColor,e.iconColor}),(function(e){return e.iconColor,e.iconColor})),Ff=Object(m.a)(Fe)(Pf()),Mf=Object(m.a)(Se)(Rf()),Uf=function(e){var t=e.replace(/\s/g,"");if("undefined"===typeof t)return"";for(var a=0,n=0;n<t.length;n++)a=t.charCodeAt(n)+((a<<5)-a);return"hsla(".concat(a%360,", ").concat(50,"%, ").concat(40,"%, 0.8)")},Gf=function(e){var t=e.className,a=void 0===t?"":t,n=e.channel;return r.a.createElement(Lf,{className:"pr-3 ".concat(a),type:n.type,iconColor:Uf(n.title.toLowerCase())},n.profile&&n.members.length>=1&&"DIRECT"===n.type&&r.a.createElement(Ff,{type:n.type,imageLink:n.profile.profile_image_link,userId:n.profile.id,id:n.profile.id,name:n.profile.name,partialName:n.profile.partial_name,noDefaultClick:!1}),"GROUP"===n.type&&r.a.createElement(Mf,{icon:"users",alt:n.title}),"COMPANY"===n.type&&r.a.createElement(Mf,{icon:"home",alt:n.title}),"POST"===n.type&&r.a.createElement(Mf,{icon:"users",alt:n.title}),"PERSONAL_BOT"===n.type&&r.a.createElement(Mf,{icon:"user",alt:n.title}),n.members.length>2&&"DIRECT"===n.type||"TOPIC"===n.type&&r.a.createElement("span",null,function(e){for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase();return t}(n.title).substring(0,3)))};function Bf(){var e=Object(s.a)(["\n  margin: 0 0 1.5rem !important;\n"]);return Bf=function(){return e},e}function Hf(){var e=Object(s.a)(["\n  justify-content: space-between;\n  .chosen-channel-title {\n    color: #7a1b8b;\n    font-weight: 600;\n  }\n"]);return Hf=function(){return e},e}function Wf(){var e=Object(s.a)(["\n  // width: 30px;\n  // height: 30px;\n  // min-width: 30px;\n"]);return Wf=function(){return e},e}function Qf(){var e=Object(s.a)(["\n  padding: 5px 0;\n  color: ",";\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  font-weight: ",";\n  :hover {\n    color: #972c86;\n    font-weight: 600;\n    .channel-icon {\n      border: ",";\n    }\n  }\n  .channel-icon {\n    border: ",";\n  }\n"]);return Qf=function(){return e},e}function Yf(){var e=Object(s.a)(["\n  label {\n    margin-top: 0.5rem;\n    font-weight: 600;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    height: 300px;\n    max-height: 300px;\n    overflow: auto;\n  }\n"]);return Yf=function(){return e},e}function zf(){var e=Object(s.a)(["\n  padding: 10px;\n"]);return zf=function(){return e},e}function Vf(){var e=Object(s.a)(["\n  cursor: pointer;\n  cursor: hand;\n  border: 1px solid #afb8bd;\n  height: 38px;\n  margin: -1px 8px;\n  width: 40px;\n  padding: 10px;\n  border-radius: 8px;\n\n  // &.feather-send {\n  //     border: 1px solid #7a1b8b;\n  //     background-color: #7a1b8b;\n  //     color: #fff;\n  // }\n"]);return Vf=function(){return e},e}var Kf=Object(m.a)(Se)(Vf()),qf=m.a.div(zf()),Jf=m.a.div(Yf()),Zf=m.a.li(Qf(),(function(e){return e.chosen?"#972c86":"#676767"}),(function(e){return e.chosen?"600":"500"}),(function(e){return e.chosen?"2px solid #972c86":"1px solid #972c86"}),(function(e){return e.chosen?"2px solid #972c86":"1px solid #ddd"})),Xf=Object(m.a)(Gf)(Wf()),$f=Object(m.a)(Sf.a)(Hf()),eb=Object(m.a)(Om)(Bf()),tb=r.a.memo((function(e){var t=e.data,i=t.type,c=t.message,l=Object(d.g)(),s=Object(o.useDispatch)(),u=Object(o.useSelector)((function(e){return e.chat.channels})),m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useState)(null),_=Object(p.a)(E,2),g=_[0],O=_[1],A=Object(n.useState)(!0),v=Object(p.a)(A,2),C=v[0],j=v[1],k=function(){j(!C),s(Hr({type:i}))},y=pe(u,b,{},""!==b),T=Object(p.a)(y,1)[0].filter((function(e){return!e.is_archived&&(""===b.trim()||!!e.title.toLowerCase().includes(b.toLowerCase()))})),w=fl()._t,N={recentChannels:w("CHAT.FORWARD.RECENT_CHANNELS","Recent channels"),transferMessageTo:w("CHAT.FORWARD.TRANSFER_MESSAGE_TO","Transfer the message to"),searchChannelPlaceholder:w("CHAT.FORWARD.SEARCH_CHANNEL_PLACEHOLDER","Search channel")};return r.a.createElement(wf.a,{isOpen:C,toggle:k,size:"lg",className:"chat-forward-modal",centered:!0},r.a.createElement(lh,{toggle:k},N.transferMessageTo),r.a.createElement(qf,null,r.a.createElement(eb,{onChange:function(e){h(e.target.value)},value:b,onClick:function(){},placeholder:N.searchChannelPlaceholder}),r.a.createElement(Jf,null,r.a.createElement("label",null,N.recentChannels),Object.keys(u).length>0&&r.a.createElement("ul",null,T.map((function(e){return r.a.createElement(Zf,{key:e.id,onClick:function(){return function(e){O(e)}(e)},chosen:g&&g.id===e.id},r.a.createElement(Xf,{className:"message-forward-popup",channel:e}),e.title)}))))),g&&r.a.createElement($f,null,r.a.createElement("span",{className:"chosen-channel-title"},g?g.title:null),r.a.createElement(Kf,{onClick:function(){var e={channel_id:g.id,body:c.body,mention_ids:[],file_ids:c.files.length?c.files.map((function(e){return e.file_id})):[],reference_id:a(37).generate(),reference_title:g.title,is_transferred:!0};s(Gc(e,(function(e,t){e||(s(wc(g)),l.push("/chat/".concat(g.code)))}))),k()},icon:"send",className:"bg-primary"})))})),ab=a(28),nb=a.n(ab),rb=a(71),ib=a.n(rb);function cb(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]);return cb=function(){return e},e}var ob=m.a.div(cb()),lb=r.a.memo((function(e){var t=e.data,a=t.type,i=t.message,c=fl()._t,l=Object(o.useDispatch)(),s=Object(o.useSelector)((function(e){return e.session.user})),d=cd(),u=Object(n.useState)(!1),m=Object(p.a)(u,2),f=m[0],b=m[1],h=Object(n.useState)("20m"),E=Object(p.a)(h,2),_=E[0],g=E[1],O=Object(n.useState)(new Date),A=Object(p.a)(O,2),v=A[0],C=A[1],j=Object(n.useState)(null),k=Object(p.a)(j,2),y=k[0],T=k[1],w=Object(n.useState)(!0),N=Object(p.a)(w,2),S=N[0],x=N[1],I={chatReminder:c("REMINDER.CHAT_REMINDER","Set a reminder"),oneHour:c("REMINDER.ONE_HOUR","1 hour"),threeHours:c("REMINDER.THREE_HOURS","3 hours"),tomorrow:c("REMINDER.TOMORROW","Tomorrow"),pickDateTime:c("REMINDER.PICK_DATE_TIME","Pick date and time"),snooze:c("REMINDER.SNOOZE","Snooze"),cancel:c("REMINDER.CANCEL","Cancel")},R=function(){x(!S),l(Hr({type:a}))},P=function(e,t){T(!1),g(t)};return r.a.createElement(wf.a,{isOpen:S,toggle:R,centered:!0,className:"chat-forward-modal"},r.a.createElement(lh,{toggle:R},I.chatReminder),r.a.createElement(Nf.a,null,r.a.createElement(ob,null,r.a.createElement(fm,{readOnly:!0,onClick:function(e){P(0,"1h")},checked:"1h"===_,value:"1h",name:"role"},I.oneHour),r.a.createElement(fm,{readOnly:!0,onClick:function(e){P(0,"3h")},checked:"3h"===_,value:"3h",name:"role"},I.threeHours),r.a.createElement(fm,{readOnly:!0,onClick:function(e){P(0,"tomorrow")},checked:"tomorrow"===_,value:"tomorrow",name:"role"},I.tomorrow),r.a.createElement(fm,{readOnly:!0,onClick:function(){g("pick_data"),T(!0)},checked:"pick_data"===_,value:"pick_data",name:"role"},I.pickDateTime),y&&r.a.createElement(ib.a,{minDate:new Date,onChange:function(e){C(e)},value:v,disableClock:!0}))),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{color:"primary",onClick:function(){if(!f){b(!0);var e={message_id:i.id,set_time:"pick_data"===_?nb.a.utc(new Date(v)).format("YYYY-MM-DD HH:mm:ss"):_};l(to(e,(function(){b(!1),R();var e="You",t="",a=new Date;switch(_){case"1h":a.setHours(a.getHours()+1),t="in an hour at ".concat(Wi(a)," today");break;case"3h":a.setHours(a.getHours()+3),t="in 3 hours at ".concat(Wi(a)," today");break;case"tomorrow":a.setDate(a.getDate()+1),t="at 9 AM tomorrow";break;case"pick_data":t="at ".concat(nb()(new Date(v)).format("YYYY-MM-DD HH:mm"));break;default:t=_+" at 9 AM"}var n=document.createElement("div");n.innerHTML=i.body,n.innerText.length>=15&&(n.innerText=n.innerText.substring(0,15)+"..."),s.id!==i.user.id&&(e=i.user.name),d.success(r.a.createElement(r.a.Fragment,null,'I will remind you about this message ("',r.a.createElement("b",null,n.innerText)," from ",e," in ",t,'")'))})))}}},f&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),I.snooze)," ",r.a.createElement(xf.a,{outline:!0,color:"secondary",onClick:R},I.cancel)))}));function sb(){var e=Object(s.a)([""]);return sb=function(){return e},e}function db(){var e=Object(s.a)(["\n  width: 100%;\n  margin-top: 15px;\n  ul {\n    margin: 0;\n    border: 1px solid #ddd;\n    padding: 10px 0;\n    align-items: center;\n    justify-content: ",";\n    display: flex;\n    overflow-x: auto;\n  }\n  li {\n    list-style: none;\n    padding: 0 10px;\n    border-radius: 8px;\n    position: relative;\n\n    img {\n      width: auto;\n      height: 160px;\n      border: 1px solid #ddd;\n      object-fit: cover;\n      border-radius: inherit;\n    }\n    span {\n      position: absolute;\n      top: -10px;\n      right: -6px;\n      display: none;\n      color: black;\n    }\n    span:hover {\n      color: #7a1b8b;\n      cursor: pointer;\n    }\n    .app-file-list {\n      height: 158px;\n      width: 158px;\n      margin-bottom: 0;\n    }\n    &:first-of-type {\n      padding-left: 15px;\n    }\n    &:last-of-type {\n      padding-right: 15px;\n    }\n    .remove-upload {\n      background: rgba(0, 0, 0, 0.8);\n      color: #ffffff;\n      border-radius: 50%;\n      position: absolute;\n      height: 20px;\n      width: 20px;\n      display: ",";\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      border: 2px solid #fff;\n      top: -8px;\n      right: 2px;\n      &:hover {\n        background: rgba(0, 0, 0, 1);\n      }\n      svg {\n        width: 12px;\n        height: 12px;\n      }\n    }\n  }\n  li:hover span {\n    display: ",';\n  }\n  &:after {\n    content: "";\n    width: 100px;\n  }\n']);return db=function(){return e},e}function ub(){var e=Object(s.a)(["\n  .ql-editor {\n    min-height: 100px;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0 2px 3px 0, rgba(0, 0, 0, 0.1) 0 1px 3px 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n    \n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]);return ub=function(){return e},e}var mb=Object(m.a)(Hu)(ub()),pb=m.a.div(db(),(function(e){return e.hasOneFile?"center":"flex-start"}),(function(e){return e.hasOneFile?"none":"flex"}),(function(e){return e.hasOneFile?"none":"block"})),fb=m.a.div(sb()),bb=function(e){var t=e.files,a=e.onRemoveFile;return r.a.createElement(pb,{hasOneFile:1===t.length},r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"remove-upload","aria-label":"close",onClick:function(){return function(e){a(e)}(e)}},r.a.createElement(Se,{icon:"x"})),"IMAGE"===e.type&&r.a.createElement("img",{alt:"file",src:e.src}),"IMAGE"!==e.type&&r.a.createElement(fb,{className:"card app-file-list"},r.a.createElement("div",{className:"app-file-icon"},r.a.createElement(xe,{icon:"document",width:"28",height:"32"})),r.a.createElement("div",{className:"p-2 small"},e.name)))}))))},hb=r.a.memo((function(e){var t=e.data,i=t.type,c=t.mode,l=t.droppedFiles,s=t.post,d=void 0===s?null:s,u=t.members,m=void 0===u?[]:u,f=Object(o.useDispatch)(),b=Object(n.useRef)(),h=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),E=Object(o.useSelector)((function(e){return e.session.user})),_=Object(o.useSelector)((function(e){return e.global.dataFromInput})),g=Object(o.useSelector)((function(e){return e.posts})),O=g.parentId,A=g.editPostComment,v=Object(n.useState)(!0),C=Object(p.a)(v,2),j=C[0],k=C[1],y=Object(n.useState)(!1),T=Object(p.a)(y,2),w=T[0],N=T[1],S=Object(n.useState)(l),x=Object(p.a)(S,2),R=x[0],L=x[1],F=Object(n.useState)([]),M=Object(p.a)(F,2),G=M[0],B=M[1],H=Object(n.useState)(!1),W=Object(p.a)(H,2),Q=W[0],Y=W[1],z=Object(n.useState)(""),V=Object(p.a)(z,2),K=V[0],q=V[1],J=Object(n.useState)(""),Z=Object(p.a)(J,2),X=Z[0],ee=Z[1],te=Object(n.useState)([]),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){null!==_&&(b.current.getEditor().clipboard.dangerouslyPasteHTML(0,_.text),q(_.text),ee(_.textOnly),re(_.quillContents),b.current.focus())}),[_]),Object(n.useEffect)((function(){"post"===c&&A&&L([].concat(Object($.a)(A.files.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{src:e.view_link})}))),Object($.a)(l)))}),[]);var ie=function(){k(!j),f(Hr({type:i})),f(Vr({sent:!1}))};function ce(){return(ce=Object(D.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R.filter((function(e){return"string"===typeof e.id})).length){e.next=5;break}return e.next=3,Promise.all(R.filter((function(e){return"string"===typeof e.id})).map((function(e){return U({user_id:E.id,file:e.bodyFormData,file_type:"private",folder_id:null})}))).then((function(e){B([].concat(Object($.a)(R.filter((function(e){return"string"!==typeof e.id}))),Object($.a)(e.map((function(e){return e.data})))))}));case 3:e.next=6;break;case 5:B(R);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){if(G.length&&G.length===R.length){var e=[],t=K,n=!1;if(ne.ops&&ne.ops.length>0){var r=ne.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));e=(e=Object($.a)(new Set(r))).includes(NaN)?Object($.a)(new Set([].concat(Object($.a)(e.filter((function(e){return!isNaN(e)}))),Object($.a)(h.members.map((function(e){return e.id})))))):e.filter((function(e){return!isNaN(e)})),ne.ops.forEach((function(e){e.insert.image&&(n=!0)}))}""!==X.trim()||0!==e.length||n||(t="<span></span>"),G.filter((function(e){return isNaN(e.id)})).length||Q||(!function(e,t){if("chat"===c)G.forEach((function(n,r){var c={};r===G.length-1?(c={channel_id:h.id,body:e,mention_ids:t,file_ids:[n.id],quote:null,reference_id:a(37).generate(),reference_title:h.title},setTimeout((function(){f(Gc(c))}),300),B([]),f(Vr({sent:!0})),f(Hr({type:i}))):(c={channel_id:h.id,body:"",mention_ids:[],file_ids:[n.id],quote:null,reference_id:a(37).generate(),reference_title:h.title},f(Gc(c)))}));else if("post"===c){var n={post_id:d.id,body:e,mention_ids:t,file_ids:G.map((function(e){return e.id})),reference_id:a(37).generate(),personalized_for_id:null,parent_id:O};B([]),f(Go(null)),f(Vr({sent:!0})),A?(n=Object(I.a)(Object(I.a)({},n),{},{id:A.id,file_ids:[].concat(Object($.a)(G.map((function(e){return e.id}))),Object($.a)(R.filter((function(e){return"string"!==typeof e.id})))),parent_id:A.parent_id,reference_id:null}),f(Mo(n)),f(Fo(null))):f(Do(n)),f(Hr({type:i}))}}(t,e),Y(!0))}}));var oe=Object(n.useState)(!1),le=Object(p.a)(oe,2),se=le[0],de=le[1];Object(n.useEffect)((function(){!0===se&&b.current&&setTimeout((function(){b.current.focus()}),300)}),[se]);var ue=me("chat_upload",(function(){}),"top",b,m),pe=Object(p.a)(ue,2),fe=pe[0];pe[1];return r.a.createElement(wf.a,{isOpen:j,toggle:ie,size:"lg",centered:!0},r.a.createElement(lh,{toggle:ie},"File upload"),r.a.createElement(Nf.a,null,r.a.createElement(mb,{ref:function(e){b.current=e,de(!0)},className:"chat-input",modules:fe,placeholder:"Add messadge. Type @ to mention someone.",readOnly:w,onChange:function(e,t,a,n){q(e),re(n.getContents()),ee(n.getText(e))}}),r.a.createElement(bb,{files:R,onRemoveFile:function(e){L(R.filter((function(t){return t.id!==e.id})))}})),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{color:"primary",onClick:function(){w||Q||(N(!0),function(){ce.apply(this,arguments)}())}},w&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Upload")," ",r.a.createElement(xf.a,{outline:!0,color:"secondary",onClick:ie},"Cancel")))}));function Eb(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  &.group-chat-input {\n    border: 1px solid #afb8bd;\n    border-radius: 5px;\n    max-height: 130px;\n    overflow: auto;\n    overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Eb=function(){return e},e}function _b(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  min-width: 550px;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return _b=function(){return e},e}function gb(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n  .form-group {\n    margin-bottom: 0;\n  }\n  label {\n    margin: 0 20px 0 0;\n    min-width: 530px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n"]);return gb=function(){return e},e}var Ob=Object(m.a)(Lu.a)(gb()),Ab=Object(m.a)(dm)(_b()),vb=Object(m.a)(Hu)(Eb()),Cb=function(e){var t=e.data,i=t.type,c=t.mode,l=Object(n.useRef)(),s=Object(n.useRef)(),u=Object(o.useDispatch)(),m=Object(d.g)(),f=fl()._t,b=Il(),h=b.searchExisting,E=b.create,_=b.update,g=sd().localizeDate,O=Object(o.useSelector)((function(e){return e.users.mentions})),A=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),v=Object(o.useSelector)((function(e){return e.session.user})),C=Object(o.useSelector)((function(e){return e.global.recipients})),j=Object(n.useState)(!0),k=Object(p.a)(j,2),y=k[0],T=k[1],w=Object(n.useState)(""),N=Object(p.a)(w,2),S=N[0],x=N[1],R=Object(n.useState)(""),P=Object(p.a)(R,2),D=P[0],L=P[1],F=Object(n.useState)(!1),M=Object(p.a)(F,2),U=M[0],G=M[1],B=Object(n.useState)(!1),H=Object(p.a)(B,2),W=H[0],Q=H[1],Y=Object(n.useState)(!1),z=Object(p.a)(Y,2),V=z[0],K=z[1],q=function(){T(!y),u(Hr({type:i}))},J={chatTitle:f("MODAL.CHAT_TITLE","Title"),people:f("MODAL.PEOPLE","People"),firstMessage:f("MODAL.FIRST_MESSAGE","First message"),newGroupChat:f("MODAL.NEW_GROUP_CHAT","New group chat"),editChat:f("MODAL.EDIT_CHAT","Edit chat"),createChat:f("MODAL.CREATE_CHAT","Create chat"),chatInfo:f("FOLDER_INFO","Create a group chat to quickly discuss any subject with multiple people. A group chat can hold an unlimited amount of members."),chatInfoEdit:f("FOLDER_INFO_EDIT","Edit the chat's title and members. A group chat can hold an unlimited amount of members."),feedbackChatTitleIsRequired:f("FEEDBACK.CHAT_TITLE_IS_REQUIRED","Chat title is required."),feedbackChatTitleIsUnique:f("FEEDBACK.CHAT_TITLE_IS_UNIQUE","Chat title is already taken."),feedbackChatMemberIsRequired:f("FEEDBACK.CHAT_MEMBER_IS_REQUIRED","You must assign atleast a member on this chat.")},Z=Object.values(O).filter((function(e){return"internal"===e.type})).map((function(e){return Object(I.a)(Object(I.a)({},e),{},{value:e.id,label:e.name})})),X=Z.filter((function(e){return e.value===v.id})),ee=Object(n.useState)({title:{value:"edit"===c?A.title:""},selectedUsers:{value:"edit"===c?A.members.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{value:e.id,label:e.first_name})})):X}}),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=be.a.debounce((function(){var e=C.filter((function(e){return"USER"===e.type})).filter((function(e){var t=!1;return ae.selectedUsers.value.forEach((function(a){a.id===e.type_id&&(t=!0)})),t})).map((function(e){return e.id}));if(e.length){Q(!0);h(ae.title.value,e,(function(e,t){Q(!1),e||(t.data.channel_id?G(!0):G(!1))}))}}),500),ie=me("group_chat"),ce=Object(p.a)(ie,2),oe=ce[0];ce[1];Object(n.useEffect)((function(){"edit"===c&&ne((function(e){return Object(I.a)(Object(I.a)({},e),{},{selectedUsers:{value:A.members.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{value:e.id,label:e.first_name})}))},title:{value:A.title}})}))}),[]),Object(n.useEffect)((function(){ae.selectedUsers.value.length&&re()}),[ae.title.value,ae.selectedUsers.value.length]),Object(n.useEffect)((function(){if(!W){var e=ae;""===e.title.value?(e.title.valid=!1,e.title.feedback=J.feedbackChatTitleIsRequired):!0===U?(e.title.valid=!1,e.title.feedback=J.feedbackChatTitleIsUnique):(e.title.valid=!0,e.title.feedback=null),0===e.selectedUsers.value.length?(e.selectedUsers.valid=!1,e.selectedUsers.feedback=J.feedbackChatMemberIsRequired):(e.selectedUsers.valid=!0,e.selectedUsers.feedback=null),ne(e)}}),[ae.title.value,ae.selectedUsers.value,U,W]);return r.a.createElement(wf.a,{isOpen:y,toggle:q,size:"lg",onOpened:function(){l&&l.current&&l.current.focus()},centered:!0},r.a.createElement(lh,{toggle:q},"edit"===c?J.editChat:J.newGroupChat),r.a.createElement(Nf.a,null,r.a.createElement(Ob,null,r.a.createElement("div",null,r.a.createElement(Im.a,{className:"modal-info mb-3"},"edit"===c?J.chatInfoEdit:J.chatInfo),r.a.createElement(Im.a,{className:"modal-label",for:"chat"},J.chatTitle),r.a.createElement(lp,{name:"title",style:{borderRadius:"5px"},defaultValue:ae.title.value,onChange:function(e){var t=e.target,a=t.name,n=t.value;ne((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},a,{value:n}))}))},innerRef:l,isValid:ae.title.valid,feedback:ae.title.feedback}))),r.a.createElement(Ob,null,r.a.createElement("div",null,r.a.createElement(Im.a,{className:"modal-label",for:"people"},J.people),r.a.createElement(Ab,{options:Z,value:ae.selectedUsers.value,onChange:function(e){ne(null===e?function(e){return Object(I.a)(Object(I.a)({},e),{},{selectedUsers:{value:X}})}:function(t){return Object(I.a)(Object(I.a)({},t),{},{selectedUsers:{value:e}})})}}))),"new"===c&&r.a.createElement(Ob,null,r.a.createElement("div",null,r.a.createElement(Im.a,{className:"modal-label",for:"firstMessage"},J.firstMessage),r.a.createElement(vb,{className:"group-chat-input",modules:oe,ref:s,onChange:function(e,t,a,n){var r=n.getText(e);x(e),L(r)}}))),r.a.createElement(Ob,null,r.a.createElement("button",{className:"btn btn-primary",disabled:W||Object.keys(ae).map((function(e){return ae[e].valid})).some((function(e){return!1===e})),onClick:function(){if(!V){if(K(!0),"edit"===c){var e=A.members.filter((function(e){return!ae.selectedUsers.value.some((function(t){return t.id===e.id}))})).map((function(e){return e.id})),t=ae.selectedUsers.value.filter((function(e){return!A.members.some((function(t){return t.id===e.id}))})).map((function(e){return e.id})),n={id:A.id,channel_id:A.id,channel_name:ae.title.value,remove_member_ids:e,add_member_ids:t,message_body:"CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:v.id,name:v.name,first_name:v.first_name,partial_name:v.partial_name,profile_image_link:v.profile_image_link},title:A.title===ae.title.value?"":ae.title.value,added_members:t,removed_members:e}))};A.members=ae.selectedUsers.value,A.title=ae.title.value,_(n,(function(){K(!1)}))}else{var r=a(37).generate(),i=Math.round(+new Date/1e3),o={id:r,body:S,code:r,editable:0,unfurls:[],quote:null,files:[],mention_html:null,reactions:[],is_deleted:!1,is_completed:!0,is_transferred:!1,is_read:!0,channel_id:r,g_date:g(i),created_at:{timestamp:i},updated_at:{timestamp:i},user:v},l={id:r,entity_id:0,type:"GROUP",title:ae.title.value,code:r,is_archived:!1,is_pinned:!1,is_hidden:!1,is_muted:!1,total_unread:0,profile:null,selected:!0,inviter:null,hasMore:!1,skip:0,isFetching:!1,members:[].concat(Object($.a)(ae.selectedUsers.value),[v]),replies:[o],created_at:{timestamp:i},updated_at:{timestamp:i},last_reply:{id:null,body:S,user:v,created_at:{timestamp:i}},reference_id:r},s={recipient_ids:C.filter((function(e){return"USER"===e.type})).filter((function(e){var t=!1;return ae.selectedUsers.value.forEach((function(a){a.id===e.type_id&&(t=!0)})),t})).map((function(e){return e.id})),title:ae.title.value};0!==D.trim().length&&(s=Object(I.a)(Object(I.a)({},s),{},{message_body:S}));var d=l;E(s,(function(e,t){if(K(!1),!e){var a=Object(I.a)(Object(I.a)({},l),{},{id:t.data.channel.id,old_id:d.id,code:t.data.code,members:t.data.channel.members?t.data.channel.members:l.members,profile:t.data.channel.profile,type:"GROUP",last_reply:t.data.channel.last_reply,replies:0!==D.trim().length?[Object(I.a)(Object(I.a)({},o),{},{id:t.data.last_reply.id,channel_id:t.data.channel.id,created_at:{timestamp:o.created_at.timestamp},updated_at:{timestamp:o.created_at.timestamp}})]:[],selected:!0,search:t.data.search});u(Fc(a)),u(wc(a)),m.push("/chat/".concat(t.data.code))}}))}q()}}},V&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===c?J.editChat:J.createChat))))},jb=a(219);a(524),a(525);function kb(){var e=Object(s.a)(["  \n"]);return kb=function(){return e},e}function yb(){var e=Object(s.a)(["\n  visibility: ",";\n  .reply-document-dropdown {\n    opacity: ",";\n    transition: opacity 200ms ease;\n    background: rgba(255, 255, 255, 0.9);\n    \n    .dark & {\n      background: rgba(25, 28, 32, 0.9);\n    }\n  }\n  .click-cancel-drop {\n    .dark & {    \n      background: #fff;    \n      color: #7a1b8b;    \n    }  \n  }\n"]);return yb=function(){return e},e}var Tb=m.a.section(yb(),(function(e){return e.hide?"hidden":"visible"}),(function(e){return e.hide?"0":"1"})),wb=Object(m.a)(Se)(kb()),Nb=Object(n.forwardRef)((function(e,t){e.attachedFiles;var a=e.onCancel,n=e.onDrop,i=e.noX,c=void 0!==i&&i,o=e.disableInput,l=void 0!==o&&o,s=e.openOnLoad,d=void 0!==s&&s,u=e.hide,m=(e.params,e.acceptType),p=void 0===m?"":m,f=cd(),b=fl()._t,h=e.placeholderText;h||(h=b("UPLOAD.DRAG_N_DROP_YOUR_FILES","Drag 'n' drop your files here."));var E=function(e){for(var t=e.acceptedFiles,a=e.rejectedFiles,i={timeOut:8e3,icon:"error"},c=0;c<t.length;c++){var o=t[c];0===o.size&&(f.error(r.a.createElement("span",null,"File ",r.a.createElement("b",null,o.name)," upload failed!",r.a.createElement("br",null),"Empty file detected."),i),delete t[c])}for(var l=0;l<a.length;l++){var s=a[l];f.error(r.a.createElement("span",null,"File ",r.a.createElement("b",null,s.name)," upload failed!",r.a.createElement("br",null),r.a.createElement("b",null,"Tip:")," Zip it and try again."),i)}n({acceptedFiles:t})},_=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg",".7z",".aac",".ai",".aif",".aifc",".aifc",".aiff",".aiff",".avi",".bmp",".bmp",".cab",".csv",".doc",".docx",".dot",".dotx",".eps",".epub",".flac",".flv",".gif",".ico",".jpg",".mj2",".mjp2",".mkv",".mng",".mov",".mp3",".mp4",".mpeg",".mpp",".mpt",".numbers",".odm",".odm",".odoc",".odp",".ods",".odt",".oga",".ogg",".otp",".ott",".pages",".pdf",".pea",".pez",".png",".pot",".pps",".ppt",".pptx",".pptz",".ps",".qt",".rar",".raw",".rtf",".spx",".stc",".svg",".tar",".tgz",".tif",".tiff",".tsv",".txt",".vcf",".wav",".webm",".webp",".wma",".wmv",".xla",".xlc",".xls",".xlsx",".xlt",".xlw",".xml",".zip"];return"imageOnly"===p&&(_=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg"]),r.a.createElement(jb.a,{ref:t,onDrop:function(e,t){return E({acceptedFiles:e,rejectedFiles:t})},onCancel:function(){return a()},onDragLeave:function(){return a()},onFileDialogCancel:a,hide:u,openOnload:d,noClick:l,accept:_},(function(e){var t=e.getRootProps,n=e.getInputProps,i=e.isDragActive;return r.a.createElement(Tb,{hide:u},r.a.createElement("div",Object.assign({},t(),{className:"reply-document-dropdown ".concat(i?"show-border":"no-border")}),r.a.createElement("input",n()),r.a.createElement("div",{className:"reply-dropzone"},r.a.createElement(wb,{icon:"upload-cloud"}),r.a.createElement("p",null,h))),!c&&r.a.createElement("button",{"aria-label":"close",className:"click-cancel-drop",onClick:a},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement(wb,{icon:"x"}))))}))}));function Sb(){var e=Object(s.a)(["\n  width: 1rem;\n  height: 1rem;\n"]);return Sb=function(){return e},e}function xb(){var e=Object(s.a)(["\n  .description-input {\n    height: ","px;\n    max-height: 300px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n  \n  .ql-toolbar {\n    bottom: 30px;\n    left: 40px;  \n  }\n  \n  .invalid-feedback {\n    position: absolute;\n    bottom: 0;\n    top: auto;\n  }\n"]);return xb=function(){return e},e}function Ib(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Ib=function(){return e},e}function Rb(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Rb=function(){return e},e}function Pb(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  .input-feedback {\n    margin-left: 130px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n  }\n\n  label {\n    margin: 0 20px 0 0;\n    min-width: 530px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  .files {\n    width: 320px;\n  }\n  .file-attachments {\n    position: relative;\n    max-width: 100%;\n    margin-left: 128px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n    ul {\n      margin-right: 128px;\n      margin-bottom: 0;\n      @media all and (max-width: 480px) {\n        padding-right: 40px;\n      }\n      li {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n  }\n  &.file-attachment-wrapper {\n    margin-top: 30px;\n    margin-bottom: -20px;\n  }\n  &.action-wrapper {\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n      display: flex;\n      width: 100%;\n\n      .btn-archive {\n        display: flex;\n        margin-left: auto;\n        text-decoration: underline;\n        color: #a7abc3;\n      }\n    }\n  }\n"]);return Pb=function(){return e},e}var Db=Object(m.a)(Lu.a)(Pb()),Lb=Object(m.a)(xm)(Rb()),Fb=Object(m.a)(dm)(Ib()),Mb=Object(m.a)(Ym)(xb(),(function(e){return e.height})),Ub=Object(m.a)(Se)(Sb()),Gb=r.a.memo((function(e){var t=e.data,i=t.type,c=t.mode,l=t.item,s=void 0===l?null:l,u=fl()._t,m=Object(d.g)(),f=Object(o.useDispatch)(),b=cd(),h=Object(n.useState)(!0),E=Object(p.a)(h,2),_=E[0],g=E[1],O=Object(o.useSelector)((function(e){return e.session.user})),A=Object(o.useSelector)((function(e){return e.users.users})),v=Object(o.useSelector)((function(e){return e.workspaces.workspaces})),C=Object(o.useSelector)((function(e){return e.workspaces.folders})),j=Object(n.useState)([]),k=Object(p.a)(j,2),y=k[0],T=k[1],w=Object(n.useState)(""),N=Object(p.a)(w,2),S=N[0],x=N[1],R=Object(n.useState)([]),P=Object(p.a)(R,2),D=P[0],L=P[1],F=Object(n.useState)({is_private:!1,has_folder:null!==s&&"WORKSPACE"===s.type&&null!==s.folder_id,name:"",selectedUsers:[],selectedFolder:null===s?null:"FOLDER"===s.type?{value:s.id,label:s.name}:s.folder_id?{value:s.folder_id,label:s.folder_name}:null,description:"",textOnly:""}),M=Object(p.a)(F,2),U=M[0],G=M[1],B=Object(n.useState)(!1),H=Object(p.a)(B,2),W=H[0],Q=H[1],Y=Object(n.useState)([]),z=Object(p.a)(Y,2),V=z[0],K=z[1],q=Object(n.useState)([]),J=Object(p.a)(q,2),Z=J[0],X=J[1],ee=Object(n.useState)(!1),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)({name:null,description:null,has_folder:null,team:null}),ce=Object(p.a)(re,2),oe=ce[0],le=ce[1],se=Object(n.useState)({name:"",description:"",folder:"",team:""}),de=Object(p.a)(se,2),me=de[0],pe=de[1],fe={container:Object(n.useRef)(null),workspace_name:Object(n.useRef)(null),dropZone:Object(n.useRef)(null)},be=Object(n.useState)([]),he=Object(p.a)(be,2),Ee=he[0],_e=he[1],ge=Object(n.useState)([]),Oe=Object(p.a)(ge,2),Ae=Oe[0],ve=Oe[1],Ce={createWorkspace:u("WORKSPACE.CREATE_WORKSPACE","Create workspace"),create:u("BUTTON.CREATE","Create"),updateWorkspace:u("WORKSPACE.UPDATE_WORKSPACE","Update workspace"),update:u("BUTTON.UPDATE","Update"),workspaceName:u("WORKSPACE.WORKSPACE_NAME","Name"),workspaceInfo:u("WORKSPACE.WORKSPACE_INFO","A workspace centers the team communication about a subject. A workspace can only be connected to one folder."),lockWorkspace:u("WORKSPACE.WORKSPACE_LOCK","Make workspace private"),lockWorkspaceText:u("WORKSPACE.WORKSPACE_LOCK.DESCRIPTION","When a workspace is private it is only visible to the members of the workspace."),archiveThisWorkspace:u("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unArchiveThisWorkspace:u("WORKSPACE.WORKSPACE_UNARCHIVE","Unarchive this workspace"),description:u("LABEL.DESCRIPTION","Description"),addToFolder:u("CHECKBOX.ADD_TO_FOLDER","Add to folder"),folder:u("LABEL.FOLDER","Folder"),team:u("LABEL.TEAM","Team"),archiveWorkspace:u("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:u("BUTTON.ARCHIVE","Archive"),unArchiveWorkspace:u("HEADER.UNARCHIVE_WORKSPACE","Unarchive workspace"),cancel:u("BUTTON.CANCEL","Cancel"),archiveBodyText:u("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unArchiveBodyText:u("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to unarchive this workspace?"),confirm:u("WORKSPACE.CONFIRM","Confirm"),lockedWorkspace:u("WORKSPACE.LOCKED_WORKSPACE","Private workspace"),lockedWorkspaceText:u("WORKSPACE.LOCKED_WORKSPACE_TEXT","Only members can view and search this workspace."),feedbackWorkspaceNameIsRequired:u("FEEDBACK.WORKSPACE_NAME_IS_REQUIRED","Workspace name is required."),feedbackWorkspaceNameAlreadyExists:u("FEEDBACK.WORKSPACE_NAME_ALREADY_EXISTS","Workspace name already exists."),feedbackWorkspaceDescriptionIsRequired:u("FEEDBACK.WORKSPACE_DESCRIPTION_IS_REQUIRED","Description is required."),toasterWorkspaceIsCreated:u("TOASTER.WORKSPACE_IS_CREATED","::workspace_name:: workspace is created.",{workspace_name:"<b>".concat(U.name,"</b>")})},je=Object(n.useCallback)((function(){return""===U.name?(pe((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:Ce.feedbackWorkspaceNameIsRequired})})),le((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:!1})})),!1):Object.values(v).some((function(e){return"edit"===c?e.id!==s.id&&e.name.toLowerCase()===U.name.toLowerCase():e.name.toLowerCase()===U.name.toLowerCase()}))?(pe((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:Ce.feedbackWorkspaceNameAlreadyExists})})),le((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:!0})})),!0):(pe((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:""})})),void le((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:!0})})))}),[U.name,U.has_folder,U.selectedFolder,v,le,pe]),ke=function(){g(!_),f(Hr({type:i}))},ye=function(e){var t=e.target.dataset.name,a=!U[t];G((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},t,a))}))},Te=Object.values(C).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return{value:e.id,label:r.a.createElement(r.a.Fragment,null,e.name," ",1===e.is_lock&&r.a.createElement(Ub,{icon:"lock",strokeWidth:"2"}))}})),we=Object(n.useCallback)((function(e,t,a,n){var r=n.getText(e);n.getContents().ops&&n.getContents().ops.length&&function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){var t=[O.id].concat(Object($.a)(U.selectedUsers.map((function(e){return e.id}))),Object($.a)(Ae)),a=e.filter((function(e){return!t.some((function(t){return t===e}))}));_e(a.length?a.map((function(e){return parseInt(e)})):[])}else ve([]),_e([])}(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id}))),G((function(t){return Object(I.a)(Object(I.a)({},t),{},{description:e,textOnly:r})})),""===r.trim()?(pe((function(e){return Object(I.a)(Object(I.a)({},e),{},{description:Ce.feedbackWorkspaceDescriptionIsRequired})})),le((function(e){return Object(I.a)(Object(I.a)({},e),{},{description:!1})}))):le((function(e){return Object(I.a)(Object(I.a)({},e),{},{description:!0})}))}),[G,pe,le,U.selectedUsers,Ee,Ae]),Ne=function(){Q(!1)},Se=function(){var e={type:"confirmation",headerText:Ce.archiveWorkspace,submitText:Ce.archive,cancelText:Ce.cancel,bodyText:Ce.archiveBodyText,actions:{onSubmit:xe}};0===s.active&&(e=Object(I.a)(Object(I.a)({},e),{},{headerText:Ce.unArchiveWorkspace,submitText:Ce.unArchiveWorkspace,bodyText:Ce.unArchiveBodyText})),f(Br(e))},xe=Object(n.useCallback)((function(){var e={id:s.channel.id,is_archived:1===s.active,is_muted:!1,is_pinned:!1,is_shared:s.is_external};e.is_archived||(e.push_unArchived=1),f(Sc(e)),b.success(r.a.createElement("span",null,r.a.createElement("b",null,s.name)," workspace is",1===s.active?r.a.createElement(r.a.Fragment,null," unarchived"):r.a.createElement(r.a.Fragment,null," archived"),null!==U.selectedFolder&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("b",null,U.selectedFolder.label)," under directory"),".")),ke()}),[]);Object(n.useEffect)((function(){var e=null;if(Object.values(A).length&&(e=Object(I.a)(Object(I.a)({},A[O.id]),{},{value:O.id,label:O.name})),"edit"===c){var t=[],a=void 0!==s.type&&"WORKSPACE"===s.type?1===s.is_lock:1===s.private;s.members.length&&(t=s.members.map((function(e){return{value:e.id,label:e.name,name:e.name,id:e.id,first_name:""===e.first_name?e.email:e.first_name,profile_image_link:e.profile_image_link}}))),G(Object(I.a)(Object(I.a)({},U),{},{has_folder:null!==s&&"WORKSPACE"===s.type&&null!==s.folder_id,selectedUsers:t,selectedFolder:s.folder_id?{value:s.folder_id,label:s.folder_name}:null,description:s.description,textOnly:s.description,name:s.name,is_private:a})),le({name:!0,folder:!0,team:!0}),s.hasOwnProperty("primary_files")&&X(s.primary_files)}else G((function(t){return Object(I.a)(Object(I.a)({},t),{},{selectedUsers:e?[e]:[],selectedFolder:null===s?null:{value:s.id,label:s.name},has_folder:null!==s&&"FOLDER"===s.type})})),le((function(t){return Object(I.a)(Object(I.a)({},t),{},{team:!!e||null,name:null})}))}),[]),Object(n.useEffect)((function(){var e=!0;U.has_folder&&null===U.selectedFolder&&(e=!1),le((function(t){return Object(I.a)(Object(I.a)({},t),{},{has_folder:e})})),je()}),[U.has_folder,U.selectedFolder]),Object(n.useEffect)((function(){var e=Object.values(A).map((function(e){return Object(I.a)(Object(I.a)({},e),{},{value:e.id,label:e.name})}));T(e)}),[Object.values(A).length]);return r.a.createElement(wf.a,{innerRef:fe.container,isOpen:_,toggle:ke,centered:!0,size:"lg",onOpened:function(){fe.workspace_name&&fe.workspace_name.current&&fe.workspace_name.current.focus()}},r.a.createElement(lh,{toggle:ke},"edit"===c?Ce.updateWorkspace:Ce.createWorkspace),r.a.createElement(Nf.a,{onDragOver:function(){Q(!0)}},r.a.createElement(Nb,{hide:!W,ref:fe.dropZone,onDragLeave:Ne,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var a=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,type:"IMAGE",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:O}):"video/mp4"===e.type?t.push({rawFile:e,type:"VIDEO",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:O}):t.push({rawFile:e,type:"DOC",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:O})})),K((function(e){return[].concat(Object($.a)(e),t)})),Ne()}(e.acceptedFiles)},onCancel:Ne,attachedFiles:V}),r.a.createElement(Db,{className:"modal-input mt-0"},r.a.createElement("div",null,r.a.createElement(Im.a,{className:"modal-info pb-3 pt-3"},Ce.workspaceInfo),r.a.createElement(Im.a,{className:"modal-label",for:"chat"},Ce.workspaceName),r.a.createElement(Fu.a,{name:"name",defaultValue:"edit"===c?s.name:"",onFocus:function(){pe((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:""})})),le((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:null})}))},onChange:function(e){e.persist(),G((function(t){return Object(I.a)(Object(I.a)({},t),{},{name:e.target.value.trim()})}))},onBlur:function(){je()},valid:oe.name,invalid:null!==oe.name&&!oe.name,innerRef:fe.workspace_name}),r.a.createElement(Xm,{valid:oe.name},me.name))),r.a.createElement(Db,{className:"modal-input"},r.a.createElement(Im.a,{for:"has_folder"}),r.a.createElement(qm,{type:"success",name:"has_folder",checked:U.has_folder,onClick:ye},Ce.addToFolder)),!0===U.has_folder&&r.a.createElement(Db,{className:"modal-input"},r.a.createElement(Im.a,{for:"people"},Ce.folder),r.a.createElement(Lb,{options:Te,value:U.selectedFolder,onChange:function(e){G((function(t){return Object(I.a)(Object(I.a)({},t),{},{selectedFolder:e})}))},isMulti:!1,isClearable:!0}),r.a.createElement(Xm,{valid:oe.has_folder},me.has_folder)),r.a.createElement(Db,{className:"modal-input"},r.a.createElement(Im.a,{for:"people"},Ce.team),r.a.createElement(Fb,{valid:oe.team,options:y,value:U.selectedUsers,inputValue:S,onChange:function(e){null===e?(G((function(e){return Object(I.a)(Object(I.a)({},e),{},{selectedUsers:[]})})),le((function(e){return Object(I.a)(Object(I.a)({},e),{},{team:"edit"===c})}))):(G((function(t){return Object(I.a)(Object(I.a)({},t),{},{selectedUsers:e})})),le((function(e){return Object(I.a)(Object(I.a)({},e),{},{team:!0})})))},onKeyDown:function(e){if("Enter"===e.key&&ie.test(S)){if(y.some((function(e){return e.email===S}))){var t=y.filter((function(e){return e.email===S}));t.length&&!U.selectedUsers.some((function(e){return e.email===S}))&&G((function(e){return Object(I.a)(Object(I.a)({},e),{},{selectedUsers:[].concat(Object($.a)(e.selectedUsers),[t[0]])})}))}else L((function(e){return[].concat(Object($.a)(e),[S])})),G((function(e){return Object(I.a)(Object(I.a)({},e),{},{selectedUsers:[].concat(Object($.a)(e.selectedUsers),[{id:a(37).generate(),label:S,value:S,name:S,first_name:S}])})}));x("")}},onInputChange:function(e){x(e)},filterOption:function(e,t){return!t||(-1!==e.label.toLowerCase().search(t.toLowerCase())||-1!==e.data.email.toLowerCase().search(t.toLowerCase()))},isSearchable:!0}),r.a.createElement(Xm,{valid:oe.user},me.user)),r.a.createElement(Mb,{className:"modal-description",height:window.innerHeight-660,required:!0,showFileButton:!0,onChange:we,onOpenFileDialog:function(){fe.dropZone.current&&fe.dropZone.current.open()},defaultValue:"edit"===c&&s?s.description:"",mode:c,valid:oe.description,feedback:me.description,disableBodyMention:!0,modal:"workspace",mentionedUserIds:Ee,onAddUsers:function(e){G(Object(I.a)(Object(I.a)({},U),{},{selectedUsers:[].concat(Object($.a)(e.map((function(e){return{id:e.id,value:e.id,label:e.name,name:e.name,first_name:e.first_name,profile_image_link:e.profile_image_link}}))),Object($.a)(U.selectedUsers))})),_e([])},onDoNothing:function(e){ve(e.map((function(e){return e.id}))),_e(Ee.filter((function(t){return!e.some((function(e){return e.id===t}))})))}}),(V.length>0||Z.length>0)&&r.a.createElement(Db,{className:"file-attachment-wrapper"},r.a.createElement(ji,{attachedFiles:[].concat(Object($.a)(V),Object($.a)(Z)),handleRemoveFile:function(e){X((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),K((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))}})),r.a.createElement(Db,{className:"action-wrapper"},r.a.createElement(Im.a,null),r.a.createElement(qm,{name:"is_private",checked:U.is_private,onClick:ye},Ce.lockWorkspace),r.a.createElement("div",{className:"lock-workspace-text-container pb-3"},r.a.createElement(Im.a,{className:"lock-workspace-text"},Ce.lockWorkspaceText)),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){if(!Object.values(oe).filter((function(e){return!e})).length){var e={name:U.name,description:U.description,is_external:0,member_ids:U.selectedUsers.filter((function(e){return"number"===typeof e.id})).map((function(e){return e.id})),is_lock:U.is_private?1:0,workspace_id:U.selectedFolder&&"number"===typeof U.selectedFolder.value&&U.has_folder?U.selectedFolder.value:0};if(D.length&&(e="edit"===c?Object(I.a)(Object(I.a)({},e),{},{new_external_emails:D,is_external:1}):Object(I.a)(Object(I.a)({},e),{},{external_emails:D,is_external:1})),"edit"===c){var t=s.members.filter((function(e){for(var t in U.selectedUsers)if(U.selectedUsers.hasOwnProperty(t)&&U.selectedUsers[t].id===e.id)return!1;return!0})).map((function(e){return e.id})),a=U.selectedUsers.filter((function(e){for(var t in s.members)if(s.members.hasOwnProperty(t)&&s.members[t].id===e.id)return!1;return!0})).map((function(e){return e.id}));((e=Object(I.a)(Object(I.a)({},e),{},{workspace_id:U.selectedFolder&&U.has_folder?U.selectedFolder.value:0,topic_id:s.id,remove_member_ids:t,new_member_ids:a.filter((function(e){return"number"===typeof e}))})).remove_member_ids.length||e.new_member_ids.length||s.name!==U.name)&&(e.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:O.id,name:O.name,first_name:O.first_name,partial_name:O.partial_name,profile_image_link:O.profile_image_link},title:U.name===s.name?"":U.name,added_members:a.filter((function(e){return"number"===typeof e})),removed_members:t})));var n=function(){ne(!0),ke();if(1===s.members.length&&0===U.selectedUsers.length&&1===s.is_lock){var a={id:s.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1,is_shared:s.is_external};f(Sc(a)),ke()}else t.some((function(e){return e===O.id}))&&f(Hs({workspace_id:s.id,channel_id:s.channel.id})),f(js(e,(function(e,t){if(!e){if(function(){var e=[];if(s.primary_files.length&&(e=s.primary_files.filter((function(e){return!Z.some((function(t){return t.id===e.id}))}))),e.length){var t={topic_id:s.id,is_primary:1,file_ids:e.map((function(e){return e.id}))};f(Fn(t))}}(),V.length){var a=new FormData;for(var n in V)a.append("files["+n+"]",V[n].rawFile);f(Ja({is_primary:1,topic_id:t.data.id,files:a}))}U.selectedFolder&&"number"===typeof U.selectedFolder.value?m.push("/workspace/dashboard/".concat(U.selectedFolder.value,"/").concat(ue(U.selectedFolder.label),"/").concat(t.data.id,"/").concat(ue(U.name))):m.push("/workspace/dashboard/".concat(t.data.id,"/").concat(ue(U.name)))}})))};s.is_lock!==e.is_lock&&1===e.is_lock?f(Br({type:"confirmation",headerText:Ce.lockedWorkspace,submitText:Ce.confirm,cancelText:Ce.cancel,bodyText:Ce.lockedWorkspaceText,actions:{onSubmit:n}})):n()}else{console.log(e,U);var i=function(){ne(!0),ke(),f(vs(e,(function(e,t){if(e&&(console.log(e),ne(!1),b.warning(r.a.createElement("span",null,"Workspace creation failed.",r.a.createElement("br",null),"Please try again."))),t){if(U.selectedFolder&&"number"===typeof U.selectedFolder.value?m.push("/workspace/dashboard/".concat(U.selectedFolder.value,"/").concat(ue(U.selectedFolder.label),"/").concat(t.data.id,"/").concat(ue(U.name)),{folder_id:U.selectedFolder.value,workspace_id:t.data.id}):m.push("/workspace/dashboard/".concat(t.data.id,"/").concat(ue(U.name)),{folder_id:null,workspace_id:t.data.id}),V.length){var a=new FormData;for(var n in V)a.append("files["+n+"]",V[n].rawFile);f(Ja({is_primary:1,topic_id:t.data.id,files:a}))}var i={id:t.data.id,name:t.data.topic.name,is_external:t.data.is_external,is_lock:t.data.is_lock,description:t.data.topic.description,unread_count:0,type:"WORKSPACE",key_id:t.data.key_id,active:1,unread_chats:0,unread_posts:0,folder_id:t.data.workspace?t.data.workspace.id:null,folder_name:t.data.workspace?t.data.workspace.name:null,member_ids:t.data.member_ids,members:t.data.members,channel:{code:t.data.channel.code,id:t.data.channel.id,loaded:!1},created_at:t.data.topic.created_at,updated_at:t.data.topic.created_at};f(Ns(i)),null!==U.selectedFolder?b.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:Ce.toasterWorkspaceIsCreated}})):b.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:u("TOASTER.WORKSPACE_UNDER_FOLDER_IS_CREATED","::workspace_name:: workspace is created under ::folder_name:: directory",{workspace_name:"<b>".concat(U.name,"</b>"),folder_name:"<b>".concat(U.selectedFolder.label,"</b>")})}}))}})))};1===e.is_lock?f(Br({type:"confirmation",headerText:Ce.lockedWorkspace,submitText:Ce.confirm,cancelText:Ce.cancel,bodyText:Ce.lockedWorkspaceText,actions:{onSubmit:i}})):i()}}}},ae&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===c?Ce.updateWorkspace:Ce.createWorkspace),"edit"===c&&r.a.createElement("div",{className:"action-archive-wrapper"},1===s.active?r.a.createElement("span",{onClick:Se,className:"btn-archive text-link mt-2 cursor-pointer"},Ce.archiveThisWorkspace):r.a.createElement("span",{onClick:Se,className:"btn-archive text-link mt-2 cursor-pointer"},Ce.unArchiveThisWorkspace)))))}));function Bb(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin: 5px 0 20px 0;\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  ","\n\n  .input-feedback {\n    margin-left: 130px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n  }\n\n  p {\n    max-width: 530px;\n    opacity: 0.8;\n  }\n\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.action-wrapper {\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n      display: flex;\n      width: 100%;\n\n      .btn-archive {\n        display: flex;\n        margin-left: auto;\n        text-decoration: underline;\n        color: #a7abc3;\n      }\n    }\n  }\n"]);return Bb=function(){return e},e}var Hb=Object(m.a)(Lu.a)(Bb(),""),Wb=r.a.memo((function(e){var t=e.data,a=t.type,i=t.mode,c=t.item,l=void 0===c?null:c,s=Object(d.g)(),u=fl()._t,m={createWorkspaceFolder:u("WORKSPACE.CREATE_WORKSPACE_FOLDER","Create folder"),updateWorkspaceFolder:u("WORKSPACE.UPDATE_WORKSPACE_FOLDER","Update folder"),removeWorkspaceFolder:u("WORKSPACE.DELETE_WORKSPACE_FOLDER","Remove folder"),folderName:u("FOLDER_NAME","Name"),folderInfo:u("FOLDER_INFO","Folders help to organize your workspaces. A workspace can only be connected to one folder."),lockWorkspaceFolder:u("WORKSPACE.WORKSPACE_FOLDER_LOCK","Make folder private"),lockWorkspaceFolderText:u("WORKSPACE.WORKSPACE_FOLDER_LOCK.DESCRIPTION","When a folder is private it is only visible to the members of the workspaces inside the folder."),description:u("DESCRIPTION","Description"),remove:u("WORKSPACE.REMOVE","Remove"),cancel:u("WORKSPACE.CANCEL","Cancel"),removeFolderText:u("WORKSPACE.REMOVE_FOLDER_TEXT","Workspaces in"),removeFolderText2:u("WORKSPACE.REMOVE_FOLDER_TEXT_2","will move back to the Workspaces sections in your sidebar. <br /><br />The workspaces in this folder will not be removed when you remove this folder."),confirm:u("WORKSPACE.CONFIRM","Confirm"),lockedFolder:u("WORKSPACE.LOCKED_FOLDER","Private folder"),lockedFolderText:u("WORKSPACE.LOCKED_FOLDER_TEXT","Only members can view and search this workspace.")},f=cd(),b=Object(n.useRef)(),h=Object(o.useDispatch)(),E=Object(o.useSelector)((function(e){return e.workspaces})),_=E.activeTopic,g=E.folders,O=Object(o.useSelector)((function(e){return e.workspaces.activeTab})),A=Object(n.useState)(!0),v=Object(p.a)(A,2),C=v[0],j=v[1],k=Object(n.useState)(!1),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)({is_private:!1,name:"",description:"",textOnly:"",workspace_id:null}),S=Object(p.a)(N,2),x=S[0],R=S[1],P=Object(n.useState)({name:null}),D=Object(p.a)(P,2),L=D[0],F=D[1],M=Object(n.useState)({name:""}),U=Object(p.a)(M,2),G=U[0],B=U[1],H=function(){j(!C),h(Hr({type:a}))},W=Object(n.useCallback)((function(e){var t=e.target.dataset.name;R((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},t,!e[t]))}))}),[R]);Object(n.useEffect)((function(){"edit"===i&&(console.log(l),R(Object(I.a)(Object(I.a)({},x),{},{name:l.name,description:l.description,textOnly:l.description,is_private:1===l.is_lock,workspace_id:l.id})))}),[]);var Q=Object(n.useCallback)((function(){F(Object(I.a)(Object(I.a)({},L),{},{name:""!==x.name})),"edit"===i?""===x.name?B(Object(I.a)(Object(I.a)({},G),{},{name:"Please provide a folder name."})):Object.values(g).filter((function(e){return e.name.toLowerCase()===x.name.toLowerCase()})).length?l.name!==x.name&&B(Object(I.a)(Object(I.a)({},G),{},{name:"Folder name already exists."})):B(Object(I.a)(Object(I.a)({},G),{},{name:""})):""===x.name?B(Object(I.a)(Object(I.a)({},G),{},{name:"Please provide a folder name."})):Object.values(g).filter((function(e){return e.name.toLowerCase()===x.name.toLowerCase()})).length?B(Object(I.a)(Object(I.a)({},G),{},{name:"Folder name already exists."})):B(Object(I.a)(Object(I.a)({},G),{},{name:""}))}),[x.name,L,F,G,B,g]),Y=Object(n.useCallback)((function(e){e.persist(),null!==L.name&&F((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:null})})),R((function(t){return Object(I.a)(Object(I.a)({},t),{},{name:e.target.value.trim()})})),Q()}),[L.name,F,R]),z=Object(n.useCallback)((function(){Q()}),[Q]),V=Object(n.useCallback)((function(){if(!T){var e={name:x.name,description:x.description,is_external:"extern"===O?1:0,is_folder:1,is_lock:x.is_private?1:0};if("edit"===i){e=Object(I.a)(Object(I.a)({},e),{},{workspace_id:x.workspace_id,topic_id:x.workspace_id});var t=function(){w(!0),h(js(e,(function(e,t){w(!1),e&&(console.log(e),f.error(r.a.createElement("span",null,"Folder update failed.",r.a.createElement("br",null),"Please try again."))),t&&(f.success(r.a.createElement("span",null,r.a.createElement("b",null,x.name)," folder is updated")),H())})))};l.is_lock!==e.is_lock&&1===e.is_lock?h(Br({type:"confirmation",headerText:m.lockedFolder,submitText:m.confirm,cancelText:m.cancel,bodyText:m.lockedFolderText,actions:{onSubmit:t}})):t()}else{var a=function(){w(!0),h(vs(e,(function(e,t){w(!1),e&&(console.log(e),f.error(r.a.createElement("span",null,"Folder creation failed.",r.a.createElement("br",null),"Please try again."))),t&&(f.success(r.a.createElement("span",null,r.a.createElement("b",null,x.name)," folder is created")),H())})))};1===e.is_lock?h(Br({type:"confirmation",headerText:m.lockedFolder,submitText:m.confirm,cancelText:m.cancel,bodyText:m.lockedFolderText,actions:{onSubmit:a}})):a()}}}),[h,H,O,x.description,x.is_private,x.name,L.name,R,i]),K=function(){h(zs({topic_id:l.id},(function(e,t){e||_&&_.folder_id===l.id&&s.push("/workspace/chat/".concat(_.id,"/").concat(ue(_.name)))}))),H()};return r.a.createElement(wf.a,{isOpen:C,toggle:H,size:"lg",onOpened:function(){b&&b.current&&b.current.focus()},centered:!0},r.a.createElement(lh,{toggle:H,className:"workspace-folder-header"},"edit"===i?"Edit  folder":"Create new folder"),r.a.createElement(Nf.a,null,r.a.createElement(Hb,{className:"modal-input"},r.a.createElement("div",null,r.a.createElement(Im.a,{className:"modal-info"},m.folderInfo),r.a.createElement(Im.a,{className:"modal-label",for:"folder"},m.folderName)),r.a.createElement("div",{className:"folder-searchbar-container"},r.a.createElement(Fu.a,{className:"folder-searchbar",defaultValue:"edit"===i?l.name:"",onChange:Y,onBlur:z,valid:L.name,invalid:null!==L.name&&!L.name,innerRef:b}),r.a.createElement(Xm,{valid:L.name},G.name))),r.a.createElement(Hb,{className:"action-wrapper",style:{marginTop:"40px"}},r.a.createElement("div",null,r.a.createElement(qm,{name:"is_private",checked:x.is_private,onClick:W},m.lockWorkspaceFolder),r.a.createElement("div",{className:"lock-workspace-folder-text-container"},r.a.createElement(Im.a,{className:"lock-workspace-text"},m.lockWorkspaceFolderText))),r.a.createElement("div",{className:"create-folder-btn"},r.a.createElement("button",{className:"btn btn-primary",disabled:null===L.name||!1===L.name,onClick:V},T&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===i?m.updateWorkspaceFolder:m.createWorkspaceFolder)),"edit"===i&&r.a.createElement("div",{className:"action-archive-wrapper"},r.a.createElement("span",{onClick:function(){var e={type:"confirmation",headerText:m.removeWorkspaceFolder,submitText:m.remove,cancelText:m.cancel,bodyText:"".concat(m.removeFolderText," <b>").concat(l.name,"</b> ").concat(m.removeFolderText2),actions:{onSubmit:K}};h(Br(e))},className:"btn-archive text-link mt-2 cursor-pointer"},m.removeWorkspaceFolder)))))}));function Qb(){var e=Object(s.a)([""]);return Qb=function(){return e},e}function Yb(){var e=Object(s.a)(["\n  .description-input {\n    height: ","px;\n    max-height: 300px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n"]);return Yb=function(){return e},e}function zb(){var e=Object(s.a)(["\n  cursor: pointer;\n  margin-bottom: 5px;\n  &:hover {\n    color: #972c86;\n  }\n  @media all and (max-width: 480px) {\n      margin-top: 40px;\n  }\n  svg {\n    transition: all 0.3s;\n    width: 15px;\n    margin-left: 5px;\n\n    &.ti-plus {\n      transform: rotate(-540deg);\n    }\n    &.rotate-in {\n      transform: rotate(0deg);\n    }\n  }\n"]);return zb=function(){return e},e}function Vb(){var e=Object(s.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"]);return Vb=function(){return e},e}function Kb(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Kb=function(){return e},e}function qb(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return qb=function(){return e},e}function Jb(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Jb=function(){return e},e}function Zb(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  label {\n    margin: 0 20px 0 0;\n    min-width: 530px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n\n  &.more-option {\n    width: 100%;\n    @media all and (max-width: 480px) {\n        margin-left: 0;\n        margin-right: 0;\n    }\n  }\n  &.schedule-post {\n    width: 100%;\n    label {\n      margin: 0 20px 0 0;\n    }\n    .feather {\n      color: #c7ced6;\n    }\n    .react-date-picker__wrapper {\n      border: thin solid #c8ced5;\n      border-radius: 4px;\n      color: #c7ced6;\n      .react-date-picker__inputGroup {\n        padding: 0 6px;\n      }\n    }\n    #placeholder {\n      color: #c7ced6;\n    }\n    input {\n      color: #505050;\n      &::-webkit-input-placeholder {\n        color: #c7ced6;\n      }\n    }\n  }\n  &.file-attachment-wrapper {\n    margin-top: 0;\n    margin-bottom: 20px;\n  }\n  .file-attachments {\n    position: relative;\n    max-width: 100%;\n    margin-left: 128px;\n    @media all and (max-width: 480px) {\n        margin-left: 0;\n    }\n    ul {\n      margin-right: 128px;\n      margin-bottom: 0;\n      @media all and (max-width: 480px) {\n        padding-right: 40px;\n      }\n      li {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n  }\n  .user-popup {    \n    cursor: pointer;\n    margin: 0 0.25rem;  \n  }\n  .workspace-popup {\n    cursor: pointer;\n    margin: 0 0.25rem;  \n  }\n  .user-list {\n    transition: all 0.5s ease;\n    position: absolute;\n    bottom: 22px;\n    right: 0;\n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    overflow-x: hidden;\n    width: 230px;\n    \n    .dark & {\n      background: #191c20;\n    }\n    \n    &.active,\n     &:hover {\n     padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;    \n    }\n    \n    img {\n      min-width: 28px;    \n    }\n    \n    .item-user-name {\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: block;    \n    }\n  }\n  .workspace-list {\n    position: absolute;\n    bottom: 22px;\n    right: 0;    \n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    width: 230px;    \n    \n    .dark & {\n      background: #191c20;\n    }\n    \n    &.active,\n     &:hover {\n     padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;    \n    }\n    \n    .item-workspace-name {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;    \n    }\n  }\n  .post-visibility-container {\n    width: 100%;\n  }\n"]);return Zb=function(){return e},e}var Xb=Object(m.a)(Lu.a)(Zb()),$b=(Object(m.a)(Tp)(Jb()),Object(m.a)(xm)(qb()),Object(m.a)(dm)(Kb()),m.a.div(Vb(),(function(e){return e.maxHeight}))),eh=m.a.div(zb()),th=Object(m.a)(Ym)(Yb(),(function(e){return e.height})),ah=Object(m.a)(xi)(Qb()),nh=function(e){var t=e.data,a=t.type,i=t.mode,c=t.item,l=void 0===c?{}:c,s=Object(n.useRef)(),d=Object(o.useDispatch)(),u=fl()._t,m=cd(),f=Object(o.useSelector)((function(e){return e.session.user})),b=Object(o.useSelector)((function(e){return e.global.recipients})).filter((function(e){return"USER"===e.type})),h=Object(n.useState)(!0),E=Object(p.a)(h,2),_=E[0],g=E[1],O=Object(o.useSelector)((function(e){return e.workspaces.activeTopic})),A=Object(n.useState)(null),v=Object(p.a)(A,2),C=v[0],j=v[1],k=Object(n.useState)(null),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(null),S=Object(p.a)(N,2),x=S[0],R=S[1],L=Object(n.useState)(!1),F=Object(p.a)(L,2),M=F[0],G=F[1],B=Object(n.useState)([]),H=Object(p.a)(B,2),W=H[0],Q=H[1],Y=Object(n.useState)([]),z=Object(p.a)(Y,2),V=z[0],K=z[1],q=Object(n.useState)(!1),J=Object(p.a)(q,2),Z=J[0],X=J[1],ee=Object(n.useState)(!1),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(p.a)(re,2),ce=ie[0],oe=ie[1],le=Object(n.useState)([]),se=Object(p.a)(le,2),de=se[0],ue=se[1],me=Object(n.useState)([]),pe=Object(p.a)(me,2),fe=pe[0],be=pe[1],he=Object(n.useState)({must_read:!1,reply_required:!1,no_reply:!1,is_private:!1,has_folder:!1,title:"",selectedAddressTo:[],body:"",textOnly:"",show_at:null,end_at:null}),Ee=Object(p.a)(he,2),_e=Ee[0],ge=Ee[1],Oe=yd({addressTo:_e.selectedAddressTo}),Ae=Oe.options,ve=Oe.getDefaultAddressTo,Ce=Oe.getAddressTo,je=Oe.user_ids,ke=Oe.responsible_ids,ye=Oe.recipient_ids,Te=Oe.is_personal,we=Oe.workspace_ids,Ne={createPost:u("POST.CREATE_POST","Create post"),createNewPost:u("POST.CREATE_NEW_POST","Create new post"),editPost:u("POST.EDIT_POST","Edit post"),postTitle:u("POST.TITLE","Title"),postInfo:u("POST_INFO","A post is a message that can contain text and images. It can be directed at one or more workspaces, and one or more people can be made responsible."),visibility:u("POST.VISIBILITY","Visibility"),workspace:u("POST.WORKSPACE","Workspace"),responsible:u("POST.RESPONSIBLE","Responsible"),addressed:u("POST.ADDRESSED","Addressed"),addressedTo:u("POST.ADDRESSED_TO","Addressed to"),addressedPeople:u("POST.ADDRESSED_PEOPLE","Addressed people"),addressedPeopleOnly:u("POST.ADDRESSED_PEOPLE_ONLY","Addressed people only"),description:u("POST.DESCRIPTION","Description"),saveAsDraft:u("POST.SAVE_AS_DRAFT","Save as draft"),moreOptions:u("POST.MORE_OPTIONS","More options"),replyRequired:u("POST.REPLY_REQUIRED","Reply required"),mustRead:u("POST.MUST_READ","Must read"),noReplies:u("POST.NO_REPLIES","No replies"),schedulePost:u("POST.SCHEDULE","Schedule"),updatePostButton:u("POST.UPDATE_BUTTON","Update post"),createPostButton:u("POST.CREATE_BUTTON","Create post"),save:u("POST.SAVE","Save"),discard:u("POST.DISCARD","Discard"),draftBody:u("POST.DRAFT_BODY","Not sure about the content? Save it as a draft."),postVisibilityInfo:u("POST.POST_VISIBILITY_INFO_SINGULAR_ALL",'This post will be visible to <span class="user-popup">::user_count::</span> in <span class="workspace-popup">::workspace_count::</span>',{user_count:1===je.length?u("POST.NUMBER_USER","1 user"):u("POST.NUMBER_USERS","::count:: users",{count:je.length}),workspace_count:1===we.length?u("POST.NUMBER_WORKSPACE","1 workspace"):u("POST.NUMBER_WORKSPACES","::count:: workspaces",{count:we.length})})},xe={reactQuillRef:Object(n.useRef)(null),more_options:Object(n.useRef)(null),dropzone:Object(n.useRef)(null),arrow:Object(n.useRef)(null),visibilityInfo:Object(n.useRef)(null)},Ie=function(){X(!Z),ne(!1)},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];X(!Z),ne(!0),e?De():x&&d(Yr({type:"draft_post",draft_id:x},(function(e,t){d(zr({topic_id:O.id,draft_type:"draft_post",draft_id:x},(function(e,t){m.success(r.a.createElement(r.a.Fragment,null,"Draft ",r.a.createElement("b",null,_e.title)," successfully removed."))})))}))),g(!_),d(Hr({type:a}))},Pe=function(){if("edit"===i){var e=l.post;if(_e.title!==e.title)return void Ie();if(_e.body!==e.body)return void Ie();if(_e.end_at!==e.end_at)return void Ie();if(_e.is_private!==e.is_personal)return void Ie();if(_e.must_read!==e.is_must_read)return void Ie();if(_e.no_reply!==e.is_must_reply)return void Ie();if(_e.reply_required!==e.is_must_reply)return void Ie();if(_e.show_at!==e.show_at)return void Ie();if(O&&(_e.selectedAddressTo.filter((function(e){return e.value!==f.id})).length||_e.selectedAddressTo.filter((function(e){return e.value!==O.id})).length))return void Ie()}else{if(""!==_e.title)return void Ie();if("<div><br></div>"!==_e.body)return void Ie();if(null!==_e.end_at)return void Ie();if(!1!==_e.has_folder)return void Ie();if(!1!==_e.is_private)return void Ie();if(!1!==_e.must_read)return void Ie();if(!1!==_e.no_reply)return void Ie();if(!1!==_e.reply_required)return void Ie();if(null!==_e.show_at)return void Ie();if(O&&(_e.selectedAddressTo.filter((function(e){return e.value!==f.id})).length||_e.selectedAddressTo.filter((function(e){return e.value!==O.id})).length))return void Ie()}Re(!1)},De=function(){if(""!==_e.title||""!==_e.body||_e.selectedAddressTo.length){var e=Math.floor(Date.now()/1e3),t={type:"draft_post",form:Object(I.a)(Object(I.a)({},_e),{},{must_read:_e.must_read?1:0,must_reply:_e.reply_required?1:0,read_only:_e.no_reply?1:0,personal:Te,users_responsible:ke}),timestamp:e,topic_id:O.id,id:e,is_must_read:_e.must_read?1:0,is_must_reply:_e.must_reply?1:0,is_read_only:_e.no_reply?1:0,created_at:{timestamp:e}};x?(t=Object(I.a)(Object(I.a)({},t),{},{draft_id:x}),d(Qr(t))):d(Wr(t))}},Le=Object(n.useCallback)((function(e){var t=e.target.dataset.name;switch(t){case"no_reply":ge((function(e){var a;return Object(I.a)(Object(I.a)({},e),{},(a={},Object(Hi.a)(a,t,!e[t]),Object(Hi.a)(a,"reply_required",!0!==!e[t]&&e.reply_required),a))}));break;case"reply_required":ge((function(e){var a;return Object(I.a)(Object(I.a)({},e),{},(a={},Object(Hi.a)(a,t,!e[t]),Object(Hi.a)(a,"no_reply",!0!==!e[t]&&e.no_reply),a))}));break;default:ge((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},t,!e[t]))}))}}),[ge]),Me=Object(n.useCallback)((function(e){ge((function(t){return Object(I.a)(Object(I.a)({},t),{},{show_at:e})}))}),[ge]),Ue=Object(n.useCallback)((function(e){ge((function(t){return Object(I.a)(Object(I.a)({},t),{},{end_at:e})}))}),[ge]),Ge=function(){G(!1)};function Be(e){return He.apply(this,arguments)}function He(){return(He=Object(D.a)(P.a.mark((function e(t){var a,n=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"create",e.next=3,Promise.all(W.map((function(e){return U({user_id:f.id,file:e.bodyFormData,file_type:"private",folder_id:null})}))).then((function(e){"edit"===a?(t=Object(I.a)(Object(I.a)({},t),{},{file_ids:[].concat(Object($.a)(e.map((function(e){return e.data.id}))),Object($.a)(t.file_ids))}),d(Ho(t))):(t=Object(I.a)(Object(I.a)({},t),{},{file_ids:e.map((function(e){return e.data.id}))}),d(Io(t)))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){null!==xe.more_options.current&&null===T&&null===x&&(w(xe.more_options.current.offsetHeight),j(!(null===l.post||!(l.post.is_read_only||l.post.is_must_read||l.post.is_must_reply))))}),[xe,w]),Object(n.useEffect)((function(){null!==O&&l.hasOwnProperty("draft")?(ge(l.draft.form),R(l.draft.draft_id)):null!==O&&"edit"!==i?ge(Object(I.a)(Object(I.a)({},_e),{},{selectedAddressTo:ve()})):"edit"===i&&l.hasOwnProperty("post")&&(ge(Object(I.a)(Object(I.a)({},_e),{},{body:l.post.body,textOnly:l.post.body,title:l.post.title,has_folder:O.hasOwnProperty("workspace_id"),no_reply:l.post.is_read_only,must_read:l.post.is_must_read,reply_required:l.post.is_must_reply,selectedAddressTo:Ce(l.post.recipients),file_ids:l.post.files.map((function(e){return e.id})),show_at:l.post.show_at,end_at:l.post.end_at})),(null!==l.post.end_at||null!==l.post.show_at||l.post.is_read_only||l.post.is_must_read||l.post.is_must_reply)&&(null!==xe.more_options.current&&w(xe.more_options.current.offsetHeight),j(!0)),K(l.post.files.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{rawFile:e})}))))}),[]),r.a.createElement(wf.a,{isOpen:_,toggle:Pe,centered:!0,size:"lg",onOpened:function(){s&&s.current&&s.current.focus()}},r.a.createElement(lh,{toggle:Pe},"edit"===i?Ne.editPost:Ne.createNewPost),r.a.createElement(Nf.a,null,r.a.createElement(wf.a,{isOpen:Z,toggle:Ie,onClosed:ae?Pe:void 0,centered:!0},r.a.createElement(lh,{toggle:Ie},Ne.saveAsDraft),r.a.createElement(Nf.a,null,Ne.draftBody),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{className:"btn-outline-secondary",onClick:function(){return Re(!1)}},Ne.discard),r.a.createElement(xf.a,{color:"primary",onClick:function(){return Re(!0)}},Ne.save))),r.a.createElement(Nb,{hide:!M,ref:xe.dropzone,onDragLeave:Ge,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var n=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,bodyFormData:a,type:"IMAGE",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:f}):"video/mp4"===e.type?t.push({rawFile:e,bodyFormData:a,type:"VIDEO",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:f}):t.push({rawFile:e,bodyFormData:a,type:"DOC",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:f})})),Q((function(e){return[].concat(Object($.a)(e),t)})),Ge()}(e.acceptedFiles)},onCancel:Ge,attachedFiles:W}),r.a.createElement(Xb,{className:"modal-input mt-0"},r.a.createElement("div",null,r.a.createElement(Im.a,{className:"modal-info pb-3"},Ne.postInfo),r.a.createElement(Im.a,{className:"modal-label",for:"post-title"},Ne.postTitle),r.a.createElement(Fu.a,{style:{borderRadius:"5px"},defaultValue:"edit"===i?_e.title:"",onChange:function(e){ge(Object(I.a)(Object(I.a)({},_e),{},{title:e.target.value}))},innerRef:s}))),r.a.createElement(Xb,{className:"modal-input"},r.a.createElement(Im.a,{className:"modal-label",for:"workspace"},Ne.addressedTo),r.a.createElement(xm,{options:Ae,value:_e.selectedAddressTo,onChange:function(e){ge(null===e?Object(I.a)(Object(I.a)({},_e),{},{selectedAddressTo:[]}):Object(I.a)(Object(I.a)({},_e),{},{selectedAddressTo:e}))},isMulti:!0,isClearable:!0})),r.a.createElement(th,{className:"modal-description",height:window.innerHeight-660,showFileButton:!0,onChange:function(e,t,a,n){var r=n.getText(e);n.getContents().ops&&n.getContents().ops.length&&function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){var t=[f.id].concat(Object($.a)(_e.selectedAddressTo.map((function(e){return e.id}))),Object($.a)(fe)),a=e.filter((function(e){return!t.some((function(t){return t===e}))}));ue(a.length?a.map((function(e){return parseInt(e)})):[])}else be([]),ue([])}(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id}))),ge(Object(I.a)(Object(I.a)({},_e),{},{body:e,textOnly:r}))},onOpenFileDialog:function(){xe.dropzone.current&&xe.dropzone.current.open()},defaultValue:l.hasOwnProperty("draft")?_e.body:"edit"===i?l.post.body:"",mode:i,required:!0,mentionedUserIds:de,onAddUsers:function(e){ge(Object(I.a)(Object(I.a)({},_e),{},{selectedAddressTo:[].concat(Object($.a)(e.map((function(e){return{id:e.id,value:e.id,label:e.name,name:e.name,first_name:e.first_name,profile_image_link:e.profile_image_link,type:"USER",icon:"user-avatar"}}))),Object($.a)(_e.selectedAddressTo))})),ue([])},onDoNothing:function(e){be(e.map((function(e){return e.id}))),ue(de.filter((function(t){return!e.some((function(e){return e.id===t}))})))}}),(W.length>0||V.length>0)&&r.a.createElement(Xb,{className:"file-attachment-wrapper"},r.a.createElement(ji,{attachedFiles:[].concat(Object($.a)(W),Object($.a)(V)),handleRemoveFile:function(e){K((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),Q((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))}})),r.a.createElement(Xb,{className:"modal-label more-option"},r.a.createElement(eh,{onClick:function(){j(!C)}},Ne.moreOptions,r.a.createElement(Se,{icon:"chevron-down",className:"sub-menu-arrow ti-angle-up ".concat(C?"ti-minus rotate-in":" ti-plus")})),r.a.createElement($b,{ref:xe.more_options,maxHeight:T,className:null===C?"":C?"enter-active":"leave-active"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(qm,{name:"must_read",checked:_e.must_read,onClick:Le,type:"danger"},Ne.mustRead),r.a.createElement(qm,{name:"reply_required",checked:_e.reply_required,onClick:Le,type:"warning"},Ne.replyRequired),r.a.createElement(qm,{name:"no_reply",checked:_e.no_reply,onClick:Le,type:"info"},Ne.noReplies)),r.a.createElement(Xb,{className:"schedule-post"},r.a.createElement(Im.a,null,Ne.schedulePost),r.a.createElement(Se,{className:"mr-2",width:18,icon:"calendar"}),r.a.createElement(ah,{className:"mr-2 start-date",onChange:Me,value:_e.show_at,minDate:new Date((new Date).setDate((new Date).getDate()+1))}),r.a.createElement(ah,{className:"end-date",onChange:Ue,value:_e.end_at,minDate:new Date((new Date).setDate((new Date).getDate()+1))})))),r.a.createElement(Xb,null,r.a.createElement("div",{className:"post-visibility-container",ref:function(e){if(e){xe.visibilityInfo.current=e;var t=e.querySelector(".user-popup:not([data-event='1'])");t&&(t.addEventListener("mouseenter",(function(){xe.visibilityInfo.current&&xe.visibilityInfo.current.querySelector(".user-list").classList.add("active")})),t.addEventListener("mouseout",(function(){xe.visibilityInfo.current&&xe.visibilityInfo.current.querySelector(".user-list").classList.remove("active")})),t.dataset.event="1"),(t=e.querySelector(".workspace-popup:not([data-event='1'])"))&&(t.addEventListener("mouseenter",(function(){xe.visibilityInfo.current&&xe.visibilityInfo.current.querySelector(".workspace-list").classList.add("active")})),t.addEventListener("mouseout",(function(){xe.visibilityInfo.current&&xe.visibilityInfo.current.querySelector(".workspace-list").classList.remove("active")})),t.dataset.event="1")}}},r.a.createElement("span",{className:"user-list"},b.filter((function(e){return je.includes(e.id)})).map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement("span",{title:e.email,className:"user-list-item d-flex justify-content-start align-items-center pt-2 pb-2"},r.a.createElement(Fe,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id}),r.a.createElement("span",{className:"item-user-name"},e.name)))}))),r.a.createElement("span",{className:"workspace-list"},_e.selectedAddressTo.filter((function(e){return we.includes(e.type_id)})).map((function(e){return r.a.createElement("span",{className:"d-flex justify-content-start align-items-center pt-2 pb-2",key:e.id},r.a.createElement("span",{className:"item-workspace-name"},e.name))}))),r.a.createElement("span",{className:"d-flex justify-content-end align-items-center",dangerouslySetInnerHTML:{__html:Ne.postVisibilityInfo}}))),r.a.createElement(Xb,null,r.a.createElement("button",{className:"btn btn-primary",disabled:0===_e.selectedAddressTo.length||""===_e.title,onClick:function(){if(!ce){oe(!0);var e={title:_e.title,body:_e.body,responsible_ids:ke,type:"post",personal:Te,recipient_ids:ye,must_read:_e.must_read?1:0,must_reply:_e.reply_required?1:0,read_only:_e.no_reply?1:0,show_at:_e.show_at?nb()(_e.show_at,"YYYY-MM-DD").format("YYYY-MM-DD"):_e.end_at?nb()(new Date).add(1,"day").format("YYYY-MM-DD"):null,end_at:_e.end_at?nb()(_e.end_at,"YYYY-MM-DD").format("YYYY-MM-DD"):null,tag_ids:[],file_ids:[],code_data:{base_link:"".concat("https://").concat(localStorage.getItem("slug"),".").concat("driff.io")}};x&&(d(Yr({type:"draft_post",draft_id:x},(function(){oe(!1),Re(!1)}))),d(Yr({type:"draft_post",draft_id:x},(function(){oe(!1),Re(!1)})))),"edit"===i?(e=Object(I.a)(Object(I.a)({},e),{},{id:l.post.id,file_ids:V.map((function(e){return e.id}))}),W.length?Be(e,"edit"):d(Ho(e,(function(){oe(!1)})))):W.length?Be(e,"create"):d(Io(e,(function(){oe(!1)}))),Re(!1)}}},ce&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===i?Ne.updatePostButton:Ne.createPostButton))))};function rh(){var e=Object(s.a)(["\n  width: 20px;\n  height: 20px;\n"]);return rh=function(){return e},e}function ih(){var e=Object(s.a)(["\n  font-size: 17px;\n  color: #505050;\n  font-weight: 600;\n\n  button:focus {\n    outline: none;\n  }\n"]);return ih=function(){return e},e}var ch=m.a.div(ih()),oh=Object(m.a)(Se)(rh()),lh=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.children,i=e.toggle,c=Object(G.a)(e,["className","children","toggle"]);return r.a.createElement(ch,Object.assign({className:"model-header-section modal-header ".concat(a)},c),r.a.createElement("h5",{className:"modal-title"},n),r.a.createElement("button",{type:"button",onClick:i,className:"close","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement(oh,{icon:"x"}))))}));function sh(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]);return sh=function(){return e},e}var dh=m.a.div(sh()),uh=r.a.memo((function(e){var t=e.data,a=t.type,i=t.post,c=t.topic_id,l=Object(o.useDispatch)(),s=cd(),d=new Date,u=d.getMinutes();d.setMinutes(u+1);var m=Object(n.useState)("20m"),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useState)(d),_=Object(p.a)(E,2),g=_[0],O=_[1],A=Object(n.useState)(null),v=Object(p.a)(A,2),C=v[0],j=v[1],k=Object(n.useState)(!0),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(!0),S=Object(p.a)(N,2),x=S[0],I=S[1],R=Object(n.useState)(!1),P=Object(p.a)(R,2),D=P[0],L=P[1],F=function(){I(!x),l(Hr({type:a}))},M=function(e,t){j(!1),h(t),w(!0)};return r.a.createElement(wf.a,{isOpen:x,toggle:F,centered:!0,className:"chat-forward-modal"},r.a.createElement(lh,{toggle:F},"Snooze post"),r.a.createElement(Nf.a,null,r.a.createElement(dh,null,r.a.createElement(fm,{readOnly:!0,onClick:function(e){M(0,"2m")},checked:"2m"===b,value:"2m",name:"role"},"2 minutes"),r.a.createElement(fm,{readOnly:!0,onClick:function(e){M(0,"20m")},checked:"20m"===b,value:"20m",name:"role"},"20 minutes"),r.a.createElement(fm,{readOnly:!0,onClick:function(e){M(0,"1h")},checked:"1h"===b,value:"1h",name:"role"},"1 hour"),r.a.createElement(fm,{readOnly:!0,onClick:function(e){M(0,"3h")},checked:"3h"===b,value:"3h",name:"role"},"3 hours"),r.a.createElement(fm,{readOnly:!0,onClick:function(e){M(0,"tomorrow")},checked:"tomorrow"===b,value:"tomorrow",name:"role"},"Tomorrow"),r.a.createElement(fm,{readOnly:!0,onClick:function(e){M(0,"next_week")},checked:"next_week"===b,value:"next_week",name:"role"},"Next Week"),r.a.createElement(fm,{readOnly:!0,onClick:function(e){h("pick_data"),j(!0),w(!0)},checked:"pick_data"===b,value:"pick_data",name:"role"},"Pick date and time"),C&&r.a.createElement(ib.a,{minDate:d,onChange:function(e){e>new Date?(O(e),w(!0)):w(!1)},value:g,disableClock:!0})),!1===T&&r.a.createElement("div",null,"Date time is invalid. Please select new date time.")),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{disabled:!T,color:"primary",onClick:function(e){if(!D){if(L(!0),"pick_data"===b){var t=new Date;if(!(g>t))return void w(!1);w(!0)}var a={post_id:i.id,set_time:"pick_data"===b?nb.a.utc(new Date(g)).format("YYYY-MM-DD HH:mm:ss"):b};l(xo(a,(function(e,t){if(L(!1),F(),!e){l(To({post_id:i.id,topic_id:c}));var a="",n=new Date;switch(b){case"2m":n.setMinutes(n.getMinutes()+2),a="for 2 minutes.";break;case"20m":n.setMinutes(n.getMinutes()+20),a="for 20 minutes.";break;case"1h":n.setHours(n.getHours()+1),a="for an hour.";break;case"3h":n.setHours(n.getHours()+3),a="for 3 hours";break;case"tomorrow":n.setDate(n.getDate()+1),a="for a day";break;case"next_week":n.setDate(n.getDate()+7),a="for a a week";break;case"pick_data":a="until ".concat(nb()(new Date(g)).format("YYYY-MM-DD HH:mm"));break;default:a=b+""}s.success("You snoozed this ".concat(i.title," ").concat(a))}})))}}},D&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Snooze")," ",r.a.createElement(xf.a,{outline:!0,color:"secondary",onClick:F},"Cancel")))}));function mh(){var e=Object(s.a)([""]);return mh=function(){return e},e}function ph(){var e=Object(s.a)([""]);return ph=function(){return e},e}var fh=Object(m.a)(wf.a)(ph()),bh=Object(m.a)(Du.a)(mh()),hh=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.title,c=e.type,l=e.defaultValue,s=void 0===l?"":l,d=e.preInputLabel,u=void 0===d?"":d,m=e.label,f=void 0===m?"":m,b=e.postInputLabel,h=void 0===b?"":b,E=e.onPrimaryAction,_=e.onChange,g=e.onClose,O=void 0===g?function(){}:g,A=e.labelClose,v=void 0===A?"Close":A,C=e.labelPrimaryAction,j=void 0===C?"Save":C,k=Object(G.a)(e,["className","title","type","defaultValue","preInputLabel","label","postInputLabel","onPrimaryAction","onChange","onClose","labelClose","labelPrimaryAction"]),y=Object(o.useDispatch)(),T={main:Object(n.useRef)(null),name:Object(n.useRef)(null)},w=Object(n.useState)(s),N=Object(p.a)(w,2),S=N[0],x=N[1],I=function(){y(Hr({type:c}))},R=Object(n.useRef)();return r.a.createElement(fh,Object.assign({ref:T.main,isOpen:!0,toggle:I,centered:!0,onOpened:function(){R&&R.current&&R.current.focus()},className:"single-input-modal ".concat(a)},k),r.a.createElement(lh,{toggle:I},i),r.a.createElement(Nf.a,null,""!==u&&r.a.createElement(Im.a,{className:"modal-info mb-3"},u),r.a.createElement(bh,null,""!==f&&r.a.createElement(Im.a,{className:"modal-label"},f),r.a.createElement(Fu.a,{innerRef:R,autoFocus:!0,defaultValue:s,onChange:function(e){x(e.target.value),_(e)}}),h)),r.a.createElement(Sf.a,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){O(),I()}},v),r.a.createElement("button",{disabled:""===S.trim(),type:"button",className:"btn btn-primary",onClick:function(){E(),I()}},j)))}));function Eh(){var e=Object(s.a)([""]);return Eh=function(){return e},e}var _h=Object(m.a)(wf.a)(Eh()),gh=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.type,c=e.file,l=e.topic_id,s=e.folder_id,d=Object(G.a)(e,["className","type","file","topic_id","folder_id"]),u=Object(o.useDispatch)(),m=cd(),f=Object(o.useSelector)((function(e){return e.files.workspaceFiles})),b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)(!1),O=Object(p.a)(g,2),A=O[0],v=O[1],C=Object.values(f[l].folders).filter((function(e){return"undefined"===typeof e.payload&&((!s||e.id!==s)&&!e.is_archived)})).map((function(e){return Object(I.a)(Object(I.a)({},e),{},{id:e.id,label:e.search})})),j=function(){u(Hr({type:i}))},k=Sl().generalSettings.dark_mode;return r.a.createElement(_h,Object.assign({isOpen:!0,toggle:j,centered:!0,className:"single-input-modal ".concat(a)},d),r.a.createElement(lh,{toggle:j},"Move the file"),r.a.createElement(Nf.a,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"pr-1 mb-3"},"Move"),r.a.createElement("div",{className:"folder-name mb-3"},c.search),r.a.createElement("span",{className:"pl-1 mb-3"},"to:")),r.a.createElement(Im.a,{className:"folder-name"},"Select a folder"),r.a.createElement(tm.a,{styles:"0"===k?am:nm,options:C,onChange:function(e){_(e)}})),r.a.createElement(Sf.a,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){j()}},"Cancel"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){if(!A){if(v(!0),E){u(Tn({file_id:c.id,topic_id:l,folder_id:E.id},(function(e,t){v(!1),e?m.success(r.a.createElement("div",null,"Failed to move ",r.a.createElement("b",null,c.search)," to folder ",r.a.createElement("strong",null,E.label))):m.success(r.a.createElement("div",null,r.a.createElement("strong",null,c.search)," has been moved to folder ",r.a.createElement("strong",null,E.label)))})))}j()}}},A&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Move File")))})),Oh=(a(526),a(218)),Ah=a.n(Oh);function vh(){var e=Object(s.a)(["\n  &.modal-dialog {\n    .modal-body {\n      padding: 0;\n\n      .cropper-view-box {\n        border-radius: 50%;\n      }\n    }\n  }\n"]);return vh=function(){return e},e}var Ch=Object(m.a)(wf.a)(vh()),jh=r.a.memo((function(e){var t=e.data,a=t.type,i=t.imageFile,c=t.handleSubmit,l=Object(o.useDispatch)(),s=Object(n.useState)(!0),d=Object(p.a)(s,2),u=d[0],m=d[1],f={cropper:Object(n.useState)(null)},b=function(){m(!u),l(Hr({type:a}))};return r.a.createElement(Ch,{isOpen:u,toggle:b,size:"lg",centered:!0},r.a.createElement(lh,{toggle:b},"Crop Image"),r.a.createElement(Nf.a,{style:{padding:0}},r.a.createElement(Ah.a,{style:{height:window.innerHeight-300,width:"100%"},aspectRatio:1,guides:!1,src:URL.createObjectURL(i),ref:f.cropper})),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{color:"primary",onClick:function(){var e=f.cropper.current.getCroppedCanvas().toDataURL("image/jpeg",.5);c(function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),i=r.length,c=new Uint8Array(i);i--;)c[i]=r.charCodeAt(i);return new File([c],t,{type:n,lastModified:Date.now()})}(e,i.name),e),b()}},"Save"),r.a.createElement(xf.a,{color:"secondary",onClick:b},"Discard")))}));function kh(){var e=Object(s.a)(["\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center; \n"]);return kh=function(){return e},e}var yh=m.a.span(kh()),Th=r.a.memo((function(e){var t=e.data,a=t.submitText,i=void 0===a?"Submit":a,c=t.cancelText,l=void 0===c?"Cancel":c,s=t.onPrimaryAction,d=t.hasLastName,u=void 0!==d&&d,m=t.invitations,f=void 0===m?[]:m,b=t.type,h=Object(n.useState)(f),E=Object(p.a)(h,2),_=E[0],g=E[1],O=Object(n.useState)({valid:{},message:{}}),A=Object(p.a)(O,2),v=A[0],C=A[1],j=(fl()._t,Object(o.useDispatch)()),k=Object(n.useState)(!0),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(!1),S=Object(p.a)(N,2),x=S[0],I=S[1],R=Object(n.useState)(!1),P=Object(p.a)(R,2),D=(P[0],P[1]),L=Object(n.useCallback)((function(e){e.persist();var t=e.currentTarget.dataset.id,a=e.currentTarget.name;g((function(n){return n[t][a]=e.target.value,n})),D((function(e){return!e}))}),[g,D]),F=Object(n.useCallback)((function(e){g((function(e){return u?e.push({first_name:"",last_name:"",email:""}):e.push({name:"",email:""}),e})),D((function(e){return!e}))}),[]),M=Object(n.useCallback)((function(e){var t=e.currentTarget.dataset.id;g((function(e){return e.splice(t,1),e})),D((function(e){return!e}))}),[g,D]),U=function(e){g((function(t){return t.splice(e,1),t}))},G=function(){w(!T),j(Hr({type:b}))};return Object(n.useEffect)((function(){for(var e=function(e){var t={};t=u?{first_name:"",last_name:"",email:""}:{name:"",email:""},g((function(e){return[].concat(Object($.a)(e),[t])}))},t=_.length;t<3;t++)e()}),[]),r.a.createElement(wf.a,{isOpen:T,toggle:G,size:"lg",centered:!0},r.a.createElement(lh,{toggle:G,className:"invited-users-modal"},"User invitations"),r.a.createElement(Nf.a,null,r.a.createElement("table",{className:"table table-responsive"},r.a.createElement("tr",null,u?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name")):r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,r.a.createElement(Se,{className:"cursor-pointer",icon:"circle-plus",onClick:F}))),_.map((function(e,t){return r.a.createElement("tr",{key:t},u?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(lp,{"data-id":t,placeholder:"First name",name:"first_name",value:e.first_name,isValid:v.valid[t]?v.valid[t].first_name:null,feedback:v.message[t]?v.message[t].first_name:null,onChange:L})),r.a.createElement("td",null,r.a.createElement(lp,{"data-id":t,placeholder:"Last name",name:"last_name",value:e.last_name,isValid:v.valid[t]?v.valid[t].last_name:null,feedback:v.message[t]?v.message[t].last_name:null,onChange:L}))):r.a.createElement("td",null,r.a.createElement(lp,{"data-id":t,placeholder:"Name",name:"name",value:e.name,isValid:v.valid[t]?v.valid[t].name:null,feedback:v.message[t]?v.message[t].name:null,onChange:L})),r.a.createElement("td",null,r.a.createElement(lp,{"data-id":t,placeholder:"Email",name:"email",value:e.email,type:"email",isValid:v.valid[t]?v.valid[t].email:null,feedback:v.message[t]?v.message[t].email:null,onChange:L})),r.a.createElement("td",null,r.a.createElement(Se,{"data-id":t,className:"cursor-pointer",icon:"x",onClick:M})))})),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(yh,{onClick:F},r.a.createElement(Se,{icon:"plus"})," ",r.a.createElement("span",null,"Add another")))))),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{color:"primary",onClick:function(){(function(){for(var e=!0,t={},a={},n=0;n<_.length;n++)u?""===_[n].first_name&&""===_[n].last_name&&""===_[n].email||("undefined"===typeof t[n]&&(t[n]={},a[n]={}),""===_[n].first_name?(t[n].first_name=!1,a[n].first_name="First name is required.",e=!1):t[n].first_name=!0,""===_[n].last_name?(t[n].last_name=!1,a[n].last_name="Last name is required.",e=!1):t[n].last_name=!0,""===_[n].email?(t[n].email=!1,a[n].email="Email is required.",e=!1):ie.test(_[n].email)?t[n].email=!0:(t[n].email=!1,a[n].email="Email is invalid format.",e=!1)):""===_[n].name&&""===_[n].email||("undefined"===typeof t[n]&&(t[n]={},a[n]={}),""===_[n].name?(t[n].name=!1,a[n].name="Name is required.",e=!1):t[n].name=!0,""===_[n].email?(t[n].email=!1,a[n].email="Email is required.",e=!1):ie.test(_[n].email)?t[n].email=!0:(t[n].email=!1,a[n].email="Email is invalid format.",e=!1));return C({valid:t,message:a}),e})()&&!x&&(I(!0),s(u?_.filter((function(e,t){return""!==e.first_name&&""!==e.last_name&&""!==e.email})):_.filter((function(e,t){return""!==e.name&&""!==e.email})),(function(){I(!1)}),{closeModal:G,deleteItemByIndex:U,invitationItems:_}))}},x&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),i)," ",r.a.createElement(xf.a,{outline:!0,color:"secondary",onClick:G},l)))}));function wh(){var e=Object(s.a)([""]);return wh=function(){return e},e}function Nh(){var e=Object(s.a)(["\n  .description-input {\n    height: ","px;\n    max-height: 300px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n"]);return Nh=function(){return e},e}function Sh(){var e=Object(s.a)(["\n  cursor: pointer;\n  margin-bottom: 5px;\n  &:hover {\n    color: #972c86;\n  }\n  @media all and (max-width: 480px) {\n      margin-top: 40px;\n  }\n  svg {\n    transition: all 0.3s;\n    width: 15px;\n    margin-left: 5px;\n\n    &.ti-plus {\n      transform: rotate(-540deg);\n    }\n    &.rotate-in {\n      transform: rotate(0deg);\n    }\n  }\n"]);return Sh=function(){return e},e}function xh(){var e=Object(s.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"]);return xh=function(){return e},e}function Ih(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Ih=function(){return e},e}function Rh(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Rh=function(){return e},e}function Ph(){var e=Object(s.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return Ph=function(){return e},e}function Dh(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  label {\n    margin: 0 20px 0 0;\n    min-width: 109px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n\n  &.more-option {\n    width: 100%;\n    @media all and (max-width: 480px) {\n        margin-left: 0;\n        margin-right: 0;\n    }\n  }\n  &.schedule-post {\n    width: 100%;\n    label {\n      margin: 0 20px 0 0;\n    }\n    .feather {\n      color: #c7ced6;\n    }\n    .react-date-picker__wrapper {\n      border: thin solid #c8ced5;\n      border-radius: 4px;\n      color: #c7ced6;\n      .react-date-picker__inputGroup {\n        padding: 0 6px;\n      }\n    }\n    #placeholder {\n      color: #c7ced6;\n    }\n    input {\n      color: #505050;\n      &::-webkit-input-placeholder {\n        color: #c7ced6;\n      }\n    }\n  }\n  &.file-attachment-wrapper {\n    margin-top: 0;\n    margin-bottom: 20px;\n  }\n  .file-attachments {\n    position: relative;\n    max-width: 100%;\n    margin-left: 128px;\n    @media all and (max-width: 480px) {\n        margin-left: 0;\n    }\n    ul {\n      margin-right: 128px;\n      margin-bottom: 0;\n      @media all and (max-width: 480px) {\n        padding-right: 40px;\n      }\n      li {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n  }  \n  .user-popup {\n    cursor: pointer;\n    margin: 0 0.25rem;  \n  }\n  .workspace-popup {\n    cursor: pointer;\n    margin: 0 0.25rem;\n  }\n  .user-list {\n    transition: all 0.5s ease;\n    position: absolute;\n    bottom: 22px;\n    right: 0;\n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    overflow-x: hidden;\n    width: 230px;\n    \n    .dark & {\n      background: #191c20;\n    }\n    \n    &.active,\n     &:hover {\n     padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;    \n    }\n    \n    img {\n      min-width: 28px;    \n    }\n    \n    .item-user-name {\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: block;    \n    }\n  }\n  .workspace-list {\n    position: absolute;\n    bottom: 22px;\n    right: 0;    \n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    width: 230px;    \n    \n    .dark & {\n      background: #191c20;\n    }\n    \n    &.active,\n     &:hover {\n     padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;    \n    }\n    \n    .item-workspace-name {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;    \n    }\n  }\n  .post-visibility-container {\n    width: 100%;\n  }\n"]);return Dh=function(){return e},e}var Lh=Object(m.a)(Lu.a)(Dh()),Fh=(Object(m.a)(Tp)(Ph()),Object(m.a)(xm)(Rh()),Object(m.a)(dm)(Ih()),m.a.div(xh(),(function(e){return e.maxHeight}))),Mh=m.a.div(Sh()),Uh=Object(m.a)(Ym)(Nh(),(function(e){return e.height})),Gh=Object(m.a)(xi)(wh()),Bh=r.a.memo((function(e){var t=e.data,a=t.type,i=t.mode,c=t.item,l=void 0===c?{}:c,s=t.action,d=Object(n.useRef)(),u=Object(o.useDispatch)(),m=fl()._t,f=cd(),b=Object(o.useSelector)((function(e){return e.session.user})),h=Object(o.useSelector)((function(e){return e.global.recipients})).find((function(e){return!0===e.main_department})),E=Object(o.useSelector)((function(e){return e.global.recipients})).filter((function(e){return"USER"===e.type})),_=Object(n.useState)(!1),g=Object(p.a)(_,2),O=g[0],A=g[1],v=Object(n.useState)(!0),C=Object(p.a)(v,2),j=C[0],k=C[1],y=Object(n.useState)(null),T=Object(p.a)(y,2),w=T[0],N=T[1],S=Object(n.useState)(null),x=Object(p.a)(S,2),R=x[0],L=x[1],F=Object(n.useState)(null),M=Object(p.a)(F,2),G=M[0],B=M[1],H=Object(n.useState)(!1),W=Object(p.a)(H,2),Q=W[0],Y=W[1],z=Object(n.useState)([]),V=Object(p.a)(z,2),K=V[0],q=V[1],J=Object(n.useState)([]),Z=Object(p.a)(J,2),X=Z[0],ee=Z[1],te=Object(n.useState)(!1),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(!1),ce=Object(p.a)(ie,2),oe=ce[0],le=ce[1],se=Object(n.useState)(!1),de=Object(p.a)(se,2),ue=de[0],me=de[1],pe=Object(n.useState)([]),fe=Object(p.a)(pe,2),be=fe[0],he=fe[1],Ee=Object(n.useState)([]),_e=Object(p.a)(Ee,2),ge=_e[0],Oe=_e[1],Ae=Object(n.useState)({must_read:!1,reply_required:!1,no_reply:!1,is_private:!1,has_folder:!1,title:"",selectedAddressTo:[],body:"",textOnly:"",show_at:null,end_at:null}),ve=Object(p.a)(Ae,2),Ce=ve[0],je=ve[1],ke=yd({addressTo:Ce.selectedAddressTo}),ye=ke.options,Te=ke.getDefaultAddressToAsCompany,we=ke.getAddressTo,Ne=ke.user_ids,xe=ke.responsible_ids,Ie=ke.recipient_ids,Re=ke.is_personal,Pe=ke.workspace_ids,De={createPost:m("POST.CREATE_POST","Create post"),createNewPost:m("POST.CREATE_NEW_POST","Create new post"),editPost:m("POST.EDIT_POST","Edit post"),postTitle:m("POST.TITLE","Title"),postInfo:m("POST_INFO","A post is a message that can contain text and images. It can be directed at one or more workspaces, and one or more people can be made responsible."),visibility:m("POST.VISIBILITY","Visibility"),workspace:m("POST.WORKSPACE","Workspace"),responsible:m("POST.RESPONSIBLE","Responsible"),addressed:m("POST.ADDRESSED","Addressed"),addressedTo:m("POST.ADDRESSED_TO","Addressed to"),addressedPeople:m("POST.ADDRESSED_PEOPLE","Addressed people"),addressedPeopleOnly:m("POST.ADDRESSED_PEOPLE_ONLY","Addressed people only"),description:m("POST.DESCRIPTION","Description"),saveAsDraft:m("POST.SAVE_AS_DRAFT","Save as draft"),moreOptions:m("POST.MORE_OPTIONS","More options"),replyRequired:m("POST.REPLY_REQUIRED","Reply required"),mustRead:m("POST.MUST_READ","Must read"),noReplies:m("POST.NO_REPLIES","No replies"),schedulePost:m("POST.SCHEDULE","Schedule"),updatePostButton:m("POST.UPDATE_BUTTON","Update post"),createPostButton:m("POST.CREATE_BUTTON","Create post"),save:m("POST.SAVE","Save"),discard:m("POST.DISCARD","Discard"),draftBody:m("POST.DRAFT_BODY","Not sure about the content? Save it as a draft."),postVisibilityInfo:m("POST.POST_VISIBILITY_INFO_SINGULAR_ALL",'This post will be visible to <span class="user-popup">::user_count::</span> in <span class="workspace-popup">::workspace_count::</span>',{user_count:1===Ne.length?m("POST.NUMBER_USER","1 user"):m("POST.NUMBER_USERS","::count:: users",{count:Ne.length}),workspace_count:1===Pe.length?m("POST.NUMBER_WORKSPACE","1 workspace"):m("POST.NUMBER_WORKSPACES","::count:: workspaces",{count:Pe.length})})},Le={reactQuillRef:Object(n.useRef)(null),more_options:Object(n.useRef)(null),dropzone:Object(n.useRef)(null),arrow:Object(n.useRef)(null),visibilityInfo:Object(n.useRef)(null)},Me=function(){re(!ne),le(!1)},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];re(!ne),le(!0),e?Be():G&&u(Yr({type:"draft_post",draft_id:G},(function(e,t){u(zr({draft_type:"draft_post",draft_id:G},(function(e,t){f.success(r.a.createElement(r.a.Fragment,null,"Draft ",r.a.createElement("b",null,Ce.title)," successfully removed."))})))}))),k(!j),u(Hr({type:a}))},Ge=function(){if("edit"===i){var e=l.post;if(Ce.title!==e.title)return void Me();if(Ce.body!==e.body)return void Me();if(Ce.end_at!==e.end_at)return void Me();if(Ce.is_private!==e.is_personal)return void Me();if(Ce.must_read!==e.is_must_read)return void Me();if(Ce.no_reply!==e.is_must_reply)return void Me();if(Ce.reply_required!==e.is_must_reply)return void Me();if(Ce.show_at!==e.show_at)return void Me()}else{if(""!==Ce.title)return void Me();if("<div><br></div>"!==Ce.body)return void Me();if(null!==Ce.end_at)return void Me();if(!1!==Ce.has_folder)return void Me();if(!1!==Ce.is_private)return void Me();if(!1!==Ce.must_read)return void Me();if(!1!==Ce.no_reply)return void Me();if(!1!==Ce.reply_required)return void Me();if(null!==Ce.show_at)return void Me()}Ue(!1)},Be=function(){if(""!==Ce.title||""!==Ce.body||Ce.selectedUsers.length){var e=Math.floor(Date.now()/1e3),t={type:"draft_post",form:Object(I.a)(Object(I.a)({},Ce),{},{must_read:Ce.must_read?1:0,must_reply:Ce.reply_required?1:0,read_only:Ce.no_reply?1:0,personal:Re,users_responsible:xe}),timestamp:e,id:e,is_must_read:Ce.must_read?1:0,is_must_reply:Ce.must_reply?1:0,is_read_only:Ce.no_reply?1:0,created_at:{timestamp:e}};G?(t=Object(I.a)(Object(I.a)({},t),{},{draft_id:G}),u(Qr(t))):u(Wr(t))}},He=Object(n.useCallback)((function(e){var t=e.target.dataset.name;switch(t){case"no_reply":je((function(e){var a;return Object(I.a)(Object(I.a)({},e),{},(a={},Object(Hi.a)(a,t,!e[t]),Object(Hi.a)(a,"reply_required",!0!==!e[t]&&e.reply_required),a))}));break;case"reply_required":je((function(e){var a;return Object(I.a)(Object(I.a)({},e),{},(a={},Object(Hi.a)(a,t,!e[t]),Object(Hi.a)(a,"no_reply",!0!==!e[t]&&e.no_reply),a))}));break;default:je((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},t,!e[t]))}))}}),[je]),We=Object(n.useCallback)((function(e){je((function(t){return Object(I.a)(Object(I.a)({},t),{},{show_at:e})}))}),[je]),Qe=Object(n.useCallback)((function(e){je((function(t){return Object(I.a)(Object(I.a)({},t),{},{end_at:e})}))}),[je]),Ye=function(){Y(!1)};function ze(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(D.a)(P.a.mark((function e(t){var a,n=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"create",e.next=3,Promise.all(K.map((function(e){return U({user_id:b.id,file:e.bodyFormData,file_type:"private",folder_id:null})}))).then((function(e){"edit"===a?(t=Object(I.a)(Object(I.a)({},t),{},{file_ids:[].concat(Object($.a)(e.map((function(e){return e.data.id}))),Object($.a)(t.file_ids))}),u(Ho(t,(function(){me(!1),Ue(!1)})))):(t=Object(I.a)(Object(I.a)({},t),{},{file_ids:e.map((function(e){return e.data.id}))}),u(Io(t,(function(){me(!1),Ue(!1)}))))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){null!==Le.more_options.current&&null===R&&null===G&&(L(Le.more_options.current.offsetHeight),N(!(null===l.post||!(l.post.is_read_only||l.post.is_must_read||l.post.is_must_reply))))}),[Le,L]),Object(n.useEffect)((function(){l.hasOwnProperty("draft")?(je(l.draft.form),B(l.draft.draft_id)):"edit"===i&&l.hasOwnProperty("post")&&(je(Object(I.a)(Object(I.a)({},Ce),{},{body:l.post.body,textOnly:l.post.body,title:l.post.title,has_folder:!0,no_reply:l.post.is_read_only,must_read:l.post.is_must_read,reply_required:l.post.is_must_reply,selectedAddressTo:we(l.post.recipients),file_ids:l.post.files.map((function(e){return e.id})),show_at:l.post.show_at,end_at:l.post.end_at})),(null!==l.post.end_at||null!==l.post.show_at||l.post.is_read_only||l.post.is_must_read||l.post.is_must_reply)&&(null!==Le.more_options.current&&L(Le.more_options.current.offsetHeight),N(!0)),ee(l.post.files.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{rawFile:e})}))))}),[]),Object(n.useEffect)((function(){!O&&h&&"edit"!==i&&(je(Object(I.a)(Object(I.a)({},Ce),{},{selectedAddressTo:Te()})),A(!0))}),[h]),r.a.createElement(wf.a,{isOpen:j,toggle:Ge,centered:!0,size:"lg",onOpened:function(){d&&d.current&&d.current.focus()}},r.a.createElement(lh,{toggle:Ge},"edit"===i?De.editPost:De.createNewPost),r.a.createElement(Nf.a,null,r.a.createElement(wf.a,{isOpen:ne,toggle:Me,onClosed:oe?Ge:void 0,centered:!0},r.a.createElement(lh,{toggle:Me},De.saveAsDraft),r.a.createElement(Nf.a,null,De.draftBody),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{className:"btn-outline-secondary",onClick:function(){return Ue(!1)}},De.discard),r.a.createElement(xf.a,{color:"primary",onClick:function(){return Ue(!0)}},De.save))),r.a.createElement(Nb,{hide:!Q,ref:Le.dropzone,onDragLeave:Ye,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var n=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,bodyFormData:a,type:"IMAGE",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:b}):"video/mp4"===e.type?t.push({rawFile:e,bodyFormData:a,type:"VIDEO",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:b}):t.push({rawFile:e,bodyFormData:a,type:"DOC",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:b})})),q((function(e){return[].concat(Object($.a)(e),t)})),Ye()}(e.acceptedFiles)},onCancel:Ye,attachedFiles:K}),r.a.createElement(Lh,{className:"modal-input mt-0"},r.a.createElement("div",null,r.a.createElement(Im.a,{className:"modal-info pb-3"},De.postInfo),r.a.createElement(Im.a,{className:"modal-label",for:"post-title"},De.postTitle),r.a.createElement(Fu.a,{style:{borderRadius:"5px"},value:Ce.title,onChange:function(e){je(Object(I.a)(Object(I.a)({},Ce),{},{title:e.target.value}))},innerRef:d}))),r.a.createElement(Lh,{className:"modal-input"},r.a.createElement(Im.a,{className:"modal-label",for:"workspace"},De.addressedTo),r.a.createElement(xm,{options:ye,value:Ce.selectedAddressTo,onChange:function(e){je(null===e?Object(I.a)(Object(I.a)({},Ce),{},{selectedAddressTo:[]}):Object(I.a)(Object(I.a)({},Ce),{},{selectedAddressTo:e}))},isMulti:!0,isClearable:!0})),r.a.createElement(Uh,{className:"modal-description",height:window.innerHeight-660,showFileButton:!0,onChange:function(e,t,a,n){var r=n.getText(e);n.getContents().ops&&n.getContents().ops.length&&function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){var t=[b.id].concat(Object($.a)(Ce.selectedAddressTo.map((function(e){return e.id}))),Object($.a)(ge)),a=e.filter((function(e){return!t.some((function(t){return t===e}))}));he(a.length?a.map((function(e){return parseInt(e)})):[])}else Oe([]),he([])}(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id}))),je(Object(I.a)(Object(I.a)({},Ce),{},{body:e,textOnly:r}))},onOpenFileDialog:function(){Le.dropzone.current&&Le.dropzone.current.open()},defaultValue:l.hasOwnProperty("draft")?Ce.body:"edit"===i?l.post.body:"",mode:i,required:!0,mentionedUserIds:be,onAddUsers:function(e){je(Object(I.a)(Object(I.a)({},Ce),{},{selectedAddressTo:[].concat(Object($.a)(e.map((function(e){return{id:e.id,value:e.id,label:e.name,name:e.name,first_name:e.first_name,profile_image_link:e.profile_image_link,type:"USER",icon:"user-avatar"}}))),Object($.a)(Ce.selectedAddressTo))})),he([])},onDoNothing:function(e){Oe(e.map((function(e){return e.id}))),he(be.filter((function(t){return!e.some((function(e){return e.id===t}))})))}}),(K.length>0||X.length>0)&&r.a.createElement(Lh,{className:"file-attachment-wrapper"},r.a.createElement(ji,{attachedFiles:[].concat(Object($.a)(K),Object($.a)(X)),handleRemoveFile:function(e){ee((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),q((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))}})),r.a.createElement(Lh,{className:"modal-label more-option"},r.a.createElement(Mh,{onClick:function(){N(!w)}},De.moreOptions,r.a.createElement(Se,{icon:"chevron-down",className:"sub-menu-arrow ti-angle-up ".concat(w?"ti-minus rotate-in":" ti-plus")})),r.a.createElement(Fh,{ref:Le.more_options,maxHeight:R,className:null===w?"":w?"enter-active":"leave-active"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(qm,{name:"must_read",checked:Ce.must_read,onClick:He,type:"danger"},De.mustRead),r.a.createElement(qm,{name:"reply_required",checked:Ce.reply_required,onClick:He,type:"warning"},De.replyRequired),r.a.createElement(qm,{name:"no_reply",checked:Ce.no_reply,onClick:He,type:"info"},De.noReplies)),r.a.createElement(Lh,{className:"schedule-post"},r.a.createElement(Im.a,null,De.schedulePost),r.a.createElement(Se,{className:"mr-2",width:18,icon:"calendar"}),r.a.createElement(Gh,{className:"mr-2 start-date",onChange:We,value:Ce.show_at,minDate:new Date((new Date).setDate((new Date).getDate()+1))}),r.a.createElement(Gh,{className:"end-date",onChange:Qe,value:Ce.end_at,minDate:new Date((new Date).setDate((new Date).getDate()+1))})))),r.a.createElement(Lh,null,r.a.createElement("div",{className:"post-visibility-container",ref:function(e){if(e){Le.visibilityInfo.current=e;var t=e.querySelector(".user-popup:not([data-event='1'])");t&&(t.addEventListener("mouseenter",(function(){Le.visibilityInfo.current&&Le.visibilityInfo.current.querySelector(".user-list").classList.add("active")})),t.addEventListener("mouseout",(function(){Le.visibilityInfo.current&&Le.visibilityInfo.current.querySelector(".user-list").classList.remove("active")})),t.dataset.event="1"),(t=e.querySelector(".workspace-popup:not([data-event='1'])"))&&(t.addEventListener("mouseenter",(function(){Le.visibilityInfo.current&&Le.visibilityInfo.current.querySelector(".workspace-list").classList.add("active")})),t.addEventListener("mouseout",(function(){Le.visibilityInfo.current&&Le.visibilityInfo.current.querySelector(".workspace-list").classList.remove("active")})),t.dataset.event="1")}}},r.a.createElement("span",{className:"user-list"},E.filter((function(e){return Ne.includes(e.id)})).map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement("span",{title:e.email,className:"user-list-item d-flex justify-content-start align-items-center pt-2 pb-2"},r.a.createElement(Fe,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id}),r.a.createElement("span",{className:"item-user-name"},e.name)))}))),r.a.createElement("span",{className:"workspace-list"},Ce.selectedAddressTo.filter((function(e){return Pe.includes(e.type_id)})).map((function(e){return r.a.createElement("span",{className:"d-flex justify-content-start align-items-center pt-2 pb-2",key:e.id},r.a.createElement("span",{className:"item-workspace-name"},e.name))}))),r.a.createElement("span",{className:"d-flex justify-content-end align-items-center",dangerouslySetInnerHTML:{__html:De.postVisibilityInfo}}))),r.a.createElement(Lh,null,r.a.createElement("button",{className:"btn btn-primary",disabled:0===Ce.selectedAddressTo.length||""===Ce.title,onClick:function(){if(!ue){me(!0);var e={title:Ce.title,body:Ce.body,responsible_ids:xe,type:"post",personal:Re,recipient_ids:Ie,must_read:Ce.must_read?1:0,must_reply:Ce.reply_required?1:0,read_only:Ce.no_reply?1:0,show_at:Ce.show_at?nb()(Ce.show_at,"YYYY-MM-DD").format("YYYY-MM-DD"):Ce.end_at?nb()(new Date).add(1,"day").format("YYYY-MM-DD"):null,end_at:Ce.end_at?nb()(Ce.end_at,"YYYY-MM-DD").format("YYYY-MM-DD"):null,tag_ids:[],file_ids:[],code_data:{base_link:"".concat("https://").concat(localStorage.getItem("slug"),".").concat("driff.io")}};G&&(u(Yr({type:"draft_post",draft_id:G},(function(){me(!1),Ue(!1)}))),u(Yr({type:"draft_post",draft_id:G},(function(){me(!1),Ue(!1)})))),"edit"===i?(e=Object(I.a)(Object(I.a)({},e),{},{id:l.post.id,file_ids:X.map((function(e){return e.id}))}),K.length?ze(e,"edit"):Ce.selectedAddressTo.length>1?u(Po(e,(function(){me(!1),Ue(!1)}))):s.update(e,(function(e,t){me(!1),t&&Ue(!1)}))):K.length?ze(e,"create"):Ce.selectedAddressTo.length>1?u(Io(e,(function(){me(!1),Ue(!1)}))):s.create(e,(function(e,t){me(!1),t&&Ue(!1)}))}}},ue&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===i?De.updatePostButton:De.createPostButton))))}));function Hh(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  label {\n    white-space: nowrap;\n    margin: 0 20px 0 0;\n    min-width: 125px;\n  }\n  \n  .form-group {\n    width: calc(100% - 145px);\n  }\n\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.action-wrapper {\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n        display: flex;\n        width: 100%;\n\n        .btn-archive {\n          display: flex;\n          margin-left: auto;\n          text-decoration: underline;\n          color: #a7abc3;\n        }\n    }\n  }\n"]);return Hh=function(){return e},e}var Wh=Object(m.a)(Lu.a)(Hh()),Qh=r.a.memo((function(e){var t=e.data,a=t.type,i=t.mode,c=t.item,l=void 0===c?null:c,s=t.actions,d=K(),u=fl()._t,m={linkCreateTitle:u("SHORTCUT.LINK_CREATE_TITLE","Add shortcut"),linkUpdateTitle:u("SHORTCUT.LINK_UPDATE_TITLE","Update shortcut"),linkRemoveTitle:u("SHORTCUT.LINK_REMOVE_TITLE","Remove shortcut"),createLink:u("SHORTCUT.CREATE_LINK","Add"),updateLink:u("SHORTCUT.UPDATE_LINK","Update"),removeLink:u("SHORTCUT.REMOVE_LINK","Remove"),name:u("SHORTCUT.NAME","Name"),webAddress:u("SHORTCUT.WEB_ADDRESS","Web address"),remove:u("SHORTCUT.REMOVE","Remove"),cancel:u("SHORTCUT.CANCEL","Cancel")};l&&(m=Object(I.a)(Object(I.a)({},m),{},{removeLinkBodyText:u("SHORTCUT.REMOVE_LINK_BODY_TEXT","Are you sure to remove ::name::?",{name:'<a href="'.concat(l.web_address,'" target="_blank">').concat(l.name,"</a>")})}));var f=Object(n.useRef)(),b=Object(o.useDispatch)(),h=Object(n.useState)(!0),E=Object(p.a)(h,2),_=E[0],g=E[1],O=Object(n.useState)({name:"",web_address:""}),A=Object(p.a)(O,2),v=A[0],C=A[1],j=Object(n.useState)(!1),k=Object(p.a)(j,2),y=k[0],T=k[1],w=Object(n.useState)({valid:{},message:{}}),N=Object(p.a)(w,2),S=N[0],x=N[1],R=Object(n.useCallback)((function(e){e.persist(),C((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value))})),x((function(t){return Object(I.a)(Object(I.a)({},t),{},{valid:Object(I.a)(Object(I.a)({},t.valid),{},Object(Hi.a)({},e.target.name,void 0)),message:Object(I.a)(Object(I.a)({},t.message),{},Object(Hi.a)({},e.target.name,void 0))})}))}),[]),P=function(){g(!_),b(Hr({type:a}))};Object(n.useEffect)((function(){console.log(l),console.log(i),"edit"===i&&C(Object(I.a)(Object(I.a)({},v),{},{name:l.name,web_address:l.web_address,index:l.index}))}),[]);return r.a.createElement(wf.a,{isOpen:_,toggle:P,size:"lg",onOpened:function(){f&&f.current&&f.current.focus()},centered:!0},r.a.createElement(lh,{toggle:P,className:"workspace-folder-header"},"edit"===i?m.linkUpdateTitle:m.linkCreateTitle),r.a.createElement(Nf.a,null,r.a.createElement(Wh,null,r.a.createElement("div",null,r.a.createElement(Im.a,{for:"folder"},m.webAddress)),r.a.createElement(lp,{name:"web_address",defaultValue:v.web_address,placeholder:"e.g. ".concat(d.getBaseUrl()),onChange:R,isValid:S.valid.web_address,feedback:S.message.web_address})),r.a.createElement(Wh,null,r.a.createElement("div",null,r.a.createElement(Im.a,{for:"folder"},m.name)),r.a.createElement(lp,{name:"name",defaultValue:v.name,placeholder:"e.g. ".concat(d.getName()," Driff website"),onChange:R,isValid:S.valid.name,feedback:S.message.name})),r.a.createElement(Wh,{className:"action-wrapper",style:{marginTop:"40px"}},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){if(function(){var e={},t={};return""===v.name?(e.name=!1,t.name="Name is required."):e.name=!0,""===v.web_address?(e.web_address=!1,t.web_address="Link is required."):e.web_address=!0,x({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}()&&!y)switch(T(!0),i){case"create":s.create(v,(function(){T(!1),P()}));break;case"edit":s.update(v,(function(){T(!1),P()}))}}},y&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===i?m.updateLink:m.createLink),"edit"===i&&r.a.createElement("div",{className:"action-archive-wrapper"},r.a.createElement("span",{onClick:function(){s.delete(v,{dictionary:m,callback:function(){P()}})},className:"btn-archive text-link mt-2 cursor-pointer"},m.removeLink)))))}));function Yh(){var e=Object(s.a)([""]);return Yh=function(){return e},e}var zh=Object(m.a)(wf.a)(Yh()),Vh=r.a.memo((function(e){var t=e.data,a=t.className,i=void 0===a?"":a,c=t.type,l=t.file,s=t.folder_id,d=t.dictionary,u=t.actions,m=_d().folders,f=Object(o.useDispatch)(),b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)(!1),O=Object(p.a)(g,2),A=O[0],v=O[1],C=function(){f(Hr({type:c}))},j=Object.values(m).filter((function(e){return"undefined"===typeof e.payload&&((!s||e.id!==s)&&!e.is_archived)})).map((function(e){return Object(I.a)(Object(I.a)({},e),{},{id:e.id,label:e.search})})),k=Sl().generalSettings.dark_mode;return r.a.createElement(zh,{isOpen:!0,toggle:C,centered:!0,className:"single-input-modal ".concat(i)},r.a.createElement(lh,{toggle:C},d.headerText),r.a.createElement(Nf.a,null,r.a.createElement("div",null,d.bodyText),r.a.createElement(tm.a,{styles:"0"===k?am:nm,options:j,onChange:function(e){_(e)}})),r.a.createElement(Sf.a,null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){A||null===E||(v(!0),u.onSubmit({name:l.search,file_id:l.id,folder_id:E.id},(function(){v(!1),C()}),{selectedFolder:E.label}))}},A&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),d.submitText),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){C()}},d.cancelText)))}));function Kh(){var e=Object(s.a)(["\n  display: block;\n"]);return Kh=function(){return e},e}function qh(){var e=Object(s.a)(["\n  width: 100%;\n  height: 150px;\n  border-radius: 6px;\n  border: 1px solid #e1e1e1;\n\n  &.description-input {\n    overflow: auto;\n    overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: 0;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n"]);return qh=function(){return e},e}function Jh(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]);return Jh=function(){return e},e}function Zh(){var e=Object(s.a)(["\n.invalid-feedback {\n  display: block;\n}\n"]);return Zh=function(){return e},e}var Xh=Object(m.a)(wf.a)(Zh()),$h=m.a.div(Jh()),eE=Object(m.a)(Hu)(qh()),tE=Object(m.a)(Xm)(Kh()),aE=r.a.memo((function(e){var t=e.data,a=t.type,i=t.item,c=t.parentItem,l=void 0===c?null:c,s=t.itemType,d=void 0===s?null:s,u=t.actions,m=Sl().generalSettings,f=m.date_picker_format,b=m.time_picker_format,h=m.language,E=fl()._t,_=Object(o.useDispatch)(),g=Object(n.useState)(0),O=Object(p.a)(g,2),A=O[0],v=O[1],C=Object(n.useState)(!1),j=Object(p.a)(C,2),k=j[0],y=j[1],T=Object(n.useState)({title:{value:"POST"===d?i.title:l?l.title:""},description:{value:i&&i.body?i.body.substring(0,50).split(" ").splice(-1,1).join(" "):""},set_time:{value:"1h"}}),w=Object(p.a)(T,2),N=w[0],S=w[1],x=i&&i.remind_at&&Math.round(+new Date/1e3)>i.remind_at.timestamp?nb.a.unix(i.remind_at.timestamp).toDate():nb()().add(1,"m").toDate(),R=Object(n.useState)(i&&i.remind_at?"pick_data":""),P=Object(p.a)(R,2),D=P[0],L=P[1],F=Object(n.useState)(i&&i.remind_at?nb.a.unix(i.remind_at.timestamp).toDate():nb()().add(20,"m").toDate()),M=Object(p.a)(F,2),U=M[0],G=M[1],B=Object(n.useState)(!(!i||!i.remind_at)||null),H=Object(p.a)(B,2),W=H[0],Q=H[1],Y=Object(n.useState)(!0),z=Object(p.a)(Y,2),V=z[0],K=z[1],q=Object(n.useState)(!1),J=Object(p.a)(q,2),Z=J[0],X=J[1],$={title:Object(n.useRef)(null)},ee={author:E("REMINDER.AUTHOR","Author"),title:E("REMINDER.TITLE","Title"),description:E("REMINDER.DESCRIPTION","Description"),remindMeOn:E("REMINDER.REMIND_ME_ON","Remind me in"),message:E("REMINDER.MESSAGE","Message"),oneHour:E("REMINDER.ONE_HOUR","1 hour"),threeHours:E("REMINDER.THREE_HOURS","3 hours"),tomorrow:E("REMINDER.TOMORROW","Tomorrow"),pickDateTime:E("REMINDER.PICK_DATE_TIME","Pick date and time"),snooze:E("REMINDER.SNOOZE","Remind me"),cancel:E("REMINDER.CANCEL","Cancel"),feedbackReminderDateFuture:E("FEEDBACK.REMINDER_DATE_MUST_BE_FUTURE","Reminder date must be in the future."),feedbackReminderDateOverdue:E("FEEDBACK.REMINDER_DATE_OVERDUE","Note: Reminder date is overdue."),reminderInfo:E("REMINDER.INFO","Reminders help to organize your thoughts and guide you through your day.")};ee.chatReminder=null===d?E("REMINDER.SET_A_REMINDER","New reminder"):E("REMINDER.SET_A_REMINDER_FOR_THIS_TYPE","Set a reminder for this ::type::",{type:d.toLowerCase().replace("_"," ")});var te=function(){K(!V),_(Hr({type:a}))},ae=function(e,t){Q(!1),L(D===t?"":t)};return r.a.createElement(Xh,{isOpen:V,toggle:te,size:"lg",className:"todo-reminder-modal",centered:!0},r.a.createElement(lh,{toggle:te},ee.chatReminder),r.a.createElement(Nf.a,{"data-set-update":A},null===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ee.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ee.title),r.a.createElement("div",{className:"col-12"},r.a.createElement(lp,{innerRef:function(e){e&&!Z&&($.title.current=e,setTimeout((function(){$.title.current.focus(),X(!0)}),500))},name:"title",defaultValue:N.title.value,placeholder:ee.title,onChange:function(e){var t=e.currentTarget,a=t.name,n=t.value;S((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},a,Object(I.a)(Object(I.a)({},e[a]),{},{value:n})))}))},isValid:N.title.valid,feedback:N.title.feedback,autoFocus:!0})),r.a.createElement("div",{className:"col-12 modal-label"},ee.description),r.a.createElement("div",{className:"col-12"},r.a.createElement(eE,{defaultValue:N.description.value,onChange:function(e,t,a,n){""!==n.getText(e).trim()&&S((function(t){return Object(I.a)(Object(I.a)({},t),{},{description:Object(I.a)(Object(I.a)({},t.description),{},{value:e})})}))},name:"description"})))),"POST"===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ee.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ee.author),r.a.createElement("div",{className:"col-12 mb-3"},i.author.name),r.a.createElement("div",{className:"col-12 modal-label"},ee.title),r.a.createElement("div",{className:"col-12 mb-3"},N.title.value),r.a.createElement("div",{className:"col-12 modal-label"},ee.description),r.a.createElement("div",{className:"col-12",dangerouslySetInnerHTML:{__html:Oc.parseEmoji(N.description.value)}}))),"CHAT"===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ee.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ee.author),r.a.createElement("div",{className:"col-12 mb-3"},i.user?i.user.name:"System"),r.a.createElement("div",{className:"col-12 modal-label"},ee.title),r.a.createElement("div",{className:"col-12 mb-3"},N.title.value),r.a.createElement("div",{className:"col-12 modal-label"},ee.message),r.a.createElement("div",{className:"col-12 mb-3",dangerouslySetInnerHTML:{__html:Oc.parseEmoji(N.description.value)}}))),"POST_COMMENT"===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ee.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ee.author),r.a.createElement("div",{className:"col-12 mb-3"},i.author.name),r.a.createElement("div",{className:"col-12 modal-label"},ee.title),r.a.createElement("div",{className:"col-12 mb-3"},N.title.value),r.a.createElement("div",{className:"col-12 modal-label"},ee.message),r.a.createElement("div",{className:"col-12 mb-3",dangerouslySetInnerHTML:{__html:Oc.parseEmoji(N.description.value)}}))),r.a.createElement("div",{className:"column mt-3"},r.a.createElement("div",{className:"col-12 col-lg-4 modal-label mb-1"},ee.remindMeOn),r.a.createElement("div",{className:"col-12 mb-3"},r.a.createElement($h,null,r.a.createElement(fm,{readOnly:!0,onClick:function(e){ae(0,"1h")},checked:"1h"===D,value:"1h",name:"role"},ee.oneHour),r.a.createElement(fm,{readOnly:!0,onClick:function(e){ae(0,"3h")},checked:"3h"===D,value:"3h",name:"role"},ee.threeHours),r.a.createElement(fm,{readOnly:!0,onClick:function(e){ae(0,"tomorrow")},checked:"tomorrow"===D,value:"tomorrow",name:"role"},ee.tomorrow),r.a.createElement(fm,{readOnly:!0,onClick:function(){L("pick_data"),Q(!0)},checked:"pick_data"===D,value:"pick_data",name:"role"},ee.pickDateTime),W&&r.a.createElement(Lu.a,null,r.a.createElement(ib.a,{minDate:x,onChange:function(e){G(e)},value:U,locale:h,format:"".concat(f," ").concat(b),disableClock:!0}),r.a.createElement(tE,{valid:N.set_time.valid},N.set_time.feedback)))))),r.a.createElement(Sf.a,null,r.a.createElement(xf.a,{outline:!0,color:"secondary",onClick:te},ee.cancel),r.a.createElement(xf.a,{color:"primary",onClick:function(){if(!k&&function(){var e=N;if(""===N.title.value.trim()?(e.title.valid=!1,e.title.feedback="Title is required."):(e.title.value=N.title.value.trim(),e.title.valid=!0,e.title.feedback=null),N.description.value)if("pick_data"===D){var t=new Date,a=new Date(U);a>t?(e.set_time.value=nb.a.utc(a).format("YYYY-MM-DD HH:mm:ss"),e.set_time.valid=!0,e.set_time.feedback=null):U.getTime()===a.getTime()?(e.set_time.value=nb.a.utc(a).format("YYYY-MM-DD HH:mm:ss"),e.set_time.valid=!0,e.set_time.feedback=ee.feedbackReminderDateOverdue):(e.set_time.valid=!1,e.set_time.feedback=ee.feedbackReminderDateFuture)}else e.set_time.value=D,e.set_time.valid=!0;return S(e),v((function(e){return e?0:1})),!Object.keys(e).map((function(t){return e[t].valid})).some((function(e){return!1===e}))}()){y(!0);var e={};Object.keys(N).forEach((function(t){"set_time"===t?""!==N[t].value&&(e[t]=N[t].value):e[t]=N[t].value})),u.onSubmit(e,(function(e,t){t&&te(),y(!1)}))}}},k&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),ee.snooze)," "))}));function nE(){var e=Object(s.a)(["\n  z-index: 7;\n"]);return nE=function(){return e},e}var rE=m.a.div(nE()),iE=r.a.memo((function(){var e=Object(n.useState)(0),t=Object(p.a)(e,2),a=t[0],i=t[1],c=Object(o.useSelector)((function(e){return e.global.modals})),l=Object(o.useSelector)((function(e){return e.files.viewFiles}));return Object(n.useEffect)((function(){Object.keys(c).length>0?i(document.documentElement.scrollTop):(window.scrollTo(0,a),i(0)),document.body.classList.remove("mobile-modal-open")}),[c]),Object.keys(c).length>0?r.a.createElement(rE,null,Object.values(c).map((function(e){switch(e.type){case"confirmation":return r.a.createElement(If,{key:e.type,data:e});case"forward":return r.a.createElement(tb,{key:e.type,data:e});case"reminder":return r.a.createElement(lb,{key:e.type,data:e});case"file_upload":return r.a.createElement(hb,{key:e.type,data:e});case"file_crop_upload":return r.a.createElement(jh,{key:e.type,data:e});case"chat_create_edit":return r.a.createElement(Cb,{key:e.type,data:e});case"workspace_folder":return r.a.createElement(Wb,{key:e.type,data:e});case"workspace_create_edit":return r.a.createElement(Gb,{key:e.type,data:e});case"company_post_create_edit":return r.a.createElement(Bh,{key:e.type,data:e});case"workspace_post_create_edit":return r.a.createElement(nh,{key:e.type,data:e});case"snooze_post":return r.a.createElement(uh,{key:e.type,data:e});case"driff_invite_users":return r.a.createElement(Th,{key:e.type,data:e});case"single_input":return r.a.createElement(hh,Object.assign({key:e.type},e));case"move_files":return r.a.createElement(gh,Object.assign({key:e.type},e));case"move_company_files":return r.a.createElement(Vh,{key:e.type,data:e});case"personal_link_create_edit":return r.a.createElement(Qh,{key:e.type,data:e});case"todo_reminder":return r.a.createElement(aE,{key:e.type,data:e});default:return null}}))):null!==l?r.a.createElement(rE,null,r.a.createElement(Tf,null)):null}));function cE(){var e=Object(s.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n  \n  .btn-magic-link {\n    background-color: #7a1b8b;\n    color: #fff;\n  }  \n"]);return cE=function(){return e},e}var oE=m.a.form(cE()),lE=r.a.memo((function(e){var t=e.dictionary,a=pd(),i=ls(),c={email:Object(n.useRef)(null)},o=Object(n.useState)({email:"",remember_me:!0}),s=Object(p.a)(o,2),d=s[0],u=s[1],m=Object(n.useState)({valid:{},message:{}}),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useCallback)((function(e){e.persist(),u((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.dataset.name,!t[e.target.dataset.name]))}))}),[u]),_=Object(n.useCallback)((function(e){e.persist(),u((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(Hi.a)({},e.target.name,e.target.value.trim()))})),h((function(t){return Object(I.a)(Object(I.a)({},t),{},{valid:Object(I.a)(Object(I.a)({},t.valid),{},Object(Hi.a)({},e.target.name,void 0)),message:Object(I.a)(Object(I.a)({},t.message),{},Object(Hi.a)({},e.target.name,void 0))})}))}),[u,h]);return r.a.createElement(oE,{className:"fadeIn"},r.a.createElement(lp,{onChange:_,name:"email",isValid:b.valid.email,feedback:b.message.email,placeholder:"Email",innerRef:c.email,type:"email",autoFocus:!0}),r.a.createElement("div",{className:"form-group d-flex justify-content-between"},r.a.createElement(qm,{name:"remember_me",checked:d.remember_me,onClick:E},t.rememberMe)),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault(),function(){var e={},a={};return""===d.email?(e.email=!1,a.email=t.emailRequired):ie.test(d.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),h({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()&&!a.isActive&&(a.show(),i.checkEmail(d.email,(function(e,n){n&&n.data.status?i.sendMagicLink(d.email,(function(e,n){a.hide(),e&&h({valid:{email:!1},message:{email:t.notAllowedForExternal}})})):(h({valid:{email:!1},message:{email:t.emailNotFound}}),a.hide())})))}},t.sendLink),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{onClick:i.googleLogin,className:"btn btn-floating btn-google"},r.a.createElement("i",{className:"fa fa-google"})))),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.takeADifferentAction),r.a.createElement(l.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow)," or ",r.a.createElement(l.b,{className:"btn btn-outline-light btn-sm",to:"/login"},t.login))}));function sE(){var e=Object(s.a)([""]);return sE=function(){return e},e}var dE=m.a.div(sE()),uE=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;Il();return r.a.createElement(dE,{className:"".concat(a)})})),mE=function(){var e=Object(o.useDispatch)(),t=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t,skip:0,limit:1e3},a);e($a(r,n))}),[e]),a=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t,skip:0,limit:1e3},a);e(Xa(r,n))}),[e]),r=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t,skip:0,limit:1e3},a);e(an(r,n))}),[e]),i=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t,skip:0,limit:1e3},a);e(tn(r,n))}),[e]),c=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t,skip:0,limit:1e3},a);e(en(r,n))}),[e]),l=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t,skip:0,limit:1e3},a);e(nn(r,n))}),[e]),s=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t,skip:0,limit:1e3},a);e(rn(r,n))}),[e]),d=Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={topic_id:t};e(on(n,a))}),[e]);return{create:Object(n.useCallback)((function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(I.a)({topic_id:t},a);e(ln(r,n))}),[e]),remove:Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={link_type:t.link_type,link_id:t.link_id,file_id:t.id};e(sn(n,a))}),[e]),restore:Object(n.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={link_type:t.link_type,link_id:t.link_id,file_id:t.id};e(dn(n,a))}),[e]),fetch:t,fetchPrimary:a,fetchRecentlyEdited:r,fetchImportant:i,fetchRemoved:c,fetchPopular:l,fetchStats:d,fetchFolders:s}};function pE(){var e=Object(s.a)([""]);return pE=function(){return e},e}var fE=m.a.div(pE()),bE=r.a.memo((function(e){var t=Object(d.i)(),a=e.className,n=void 0===a?"":a,i=mE(),c={};return _("search")&&(c.search=_("search")),_("skip")&&(c.skip=_("skip")),_("limit")&&(c.limit=_("limit")),i.fetchStats(t.workspaceId),i.fetch(t.workspaceId,c),i.fetchPopular(t.workspaceId,c),i.fetchImportant(t.workspaceId,c),i.fetchRecentlyEdited(t.workspaceId,c),i.fetchRemoved(t.workspaceId,c),i.fetchFolders(t.workspaceId,c),r.a.createElement(fE,{className:"".concat(n)})})),hE=function(e){var t=Object(o.useDispatch)(),a=Object(d.g)(),r=Object(d.j)("/authenticate/:token/:returnUrl?"),i=Object(d.j)("/magic-link/:token"),c=ls();Object(n.useEffect)((function(){if("/logged-out"===a.location.pathname&&(c.logout(),a.push("/login")),null!==i&&c.checkMagicLink(i.params.token,(function(e,t){t&&c.login(t.data,"/workspace/chat")})),null!==r){var n=localStorage.getItem("userAuthToken"),o=r.params.returnUrl?atob(r.params.returnUrl):"";if(!e.authenticated&&n){var l=JSON.parse(n);l.access_token!==r.params.token&&localStorage.removeItem("userAuthToken"),L.sessionService.saveSession({token:"".concat(l.token_type," ").concat(l.access_token),xsrf_token:"XSRF-TOKEN=".concat(l.access_token),access_broadcast_token:"".concat(l.access_broadcast_token),download_token:"".concat(l.download_token)}).then((function(){if(L.sessionService.saveUser(Object(I.a)({},l.user_auth)),"1"===localStorage.getItem("promptTrustDevice")){localStorage.removeItem("promptTrustDevice");var e={id:(new Date).getTime(),type:"modal",modal:"modal_dialog_yes_no",title:"Trust this device?",children:"",callback:{handleYes:(void 0).handleConfirmationDialogYes}};console.log(e)}r.params.returnUrl&&a.push(o)}))}}if(_("code")&&_("state")){var s=function(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].split("=");t[i[0]]=decodeURIComponent(i[1])}return t}(window.location.href);t(Bl(s,(function(e,t){console.log(e),t&&c.login(t.data,"/workspace/chat")})))}}),[r,t,a,e])};function EE(){var e=Object(s.a)([""]);return EE=function(){return e},e}var _E=m.a.div(EE()),gE=Object(d.k)((function(e){hE(e);var t=Object(d.g)(),a=Object(d.h)(),i=Sl().driffSettings,c=K(),o=fl()._t,l=e.setRegisteredDriff,s={magicLink:o("LOGIN.MAGIC_LINK","Magic link"),rememberMe:o("LOGIN.REMEMBER_ME","Remember me"),resetPassword:o("LOGIN.RESET_PASSWORD","Reset password"),signIn:o("LOGIN.SIGN_IN","Sign in"),loginSocialMedia:o("LOGIN.SOCIAL_MEDIA_LOGIN","Login with your social media account."),noAccount:o("LOGIN.NO_ACCOUNT","Don't have an account?"),registerNow:o("LOGIN.REGISTER_NOW","Register now!"),submit:o("RESET_PASSWORD.SUBMIT","Submit"),login:o("RESET_PASSWORD.LOGIN","Login!"),takeADifferentAction:o("RESET_PASSWORD.TAKE_A_DIFFERENT_ACTION","Take a different action."),updatePassword:o("UPDATE_PASSWORD.UPDATE_PASSWORD","Update password"),register:o("REGISTER.REGISTER","Register"),haveAccount:o("REGISTER.HAVE_ACCOUNT","Already have an account?"),password:o("REGISTER.PASSWORD","Password"),firstName:o("REGISTER.FIRST_NAME","First name"),middleName:o("REGISTER.MIDDLE_NAME","Middle name"),lastName:o("REGISTER.LAST_NAME","Last name"),accept:o("REGISTER.ACCEPT","Accept"),driffRegistration:o("DRIFF.DRIFF_REGISTRATION","Driff registration."),inviteUser:o("DRIFF.INVITE","Invite user"),companyName:o("DRIFF.COMPANY_NAME","Company name"),yourEmail:o("DRIFF.YOUR_EMAIL","Your email"),yourName:o("DRIFF.YOUR_NAME","Your name"),sendLink:o("MAGIC_LINK.SEND_LINK","Send link"),emailRequired:o("FEEDBACK.EMAIL_REQUIRED","Email is required."),passwordRequired:o("FEEDBACK.PASSWORD_REQUIRED","Password is required."),invalidEmail:o("FEEDBACK.INVALID_EMAIL","Invalid email format"),yourNameRequired:o("FEEDBACK.YOUR_NAME_REQUIRED","Your name is required."),firstNameRequired:o("FEEDBACK.FIRST_NAME_REQUIRED","First name is required."),lastNameRequired:o("FEEDBACK.LAST_NAME_REQUIRED","Last name is required."),companyRequired:o("FEEDBACK.COMPANY_REQUIRED","Company name is required."),driffRequired:o("FEEDBACK.DRIFF_REQUIRED","Driff is required."),driffTaken:o("FEEDBACK.DRIFF_TAKEN","Driff is already taken"),emailNotFound:o("FEEDBACK.EMAIL_NOT_FOUND","Email not found."),notAllowedForExternal:o("FEEDBACK.NOT_ALLOWED_FOR_EXTERNAL","Not allowed for external users."),thankYou:o("FEEDBACK.THANK_YOU","Thank you!"),or:o("RESET_PASSWORD.OR","or"),createAccount:o("LOGIN.CREATE_ACCOUNT","Create account"),authentication:o("LOGIN.AUTHENTICATION","Authentication"),email:o("LOGIN.EMAIL","Email"),invitedUsers:o("DRIFF.INVITED_USERS","Invited users")},u=Object(n.useState)(s.signIn),m=Object(p.a)(u,2),f=m[0],b=m[1];return Object(n.useEffect)((function(){document.querySelector("body").classList.add("form-membership")}),[]),Object(n.useEffect)((function(){switch(a.pathname){case"/magic-link":i.settings.magic_link?b(s.magicLink):t.push("/login");break;case"/driff-register":b(s.driffRegistration);break;case"/request-form":b("Accept your invitation to ".concat(c.getName()));break;case"/reset-password":i.settings.password_login?b(s.resetPassword):t.push("/login");break;case"/register":i.settings.sign_up?b(s.createAccount):t.push("/login");break;default:0===a.pathname.indexOf("/authenticate/")?b(s.authentication):0===a.pathname.indexOf("/resetpassword/")?b(s.updatePassword):b(s.signIn)}}),[a]),r.a.createElement(_E,{className:"form-wrapper fadeIn"},r.a.createElement("div",{id:"logo"},r.a.createElement(xe,{icon:"driff-logo",width:"110",height:"80"})),i.settings.maintenance_mode?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"title"},"Maintenance Mode")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"title"},f),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",render:function(){return r.a.createElement(Gp,Object.assign({dictionary:s},e))}}),r.a.createElement(d.b,{path:"/magic-link",render:function(){return r.a.createElement(lE,Object.assign({dictionary:s},e))}}),r.a.createElement(d.b,{path:"/resetpassword/:token/:email",render:function(){return r.a.createElement(Jp,Object.assign({dictionary:s},e))},exact:!0}),r.a.createElement(d.b,{path:"/reset-password",render:function(){return r.a.createElement(Vp,Object.assign({dictionary:s},e))}}),r.a.createElement(d.b,{path:"/register",render:function(){return r.a.createElement($p,Object.assign({dictionary:s},e))}}),r.a.createElement(d.b,{path:"/request-form",render:function(){return r.a.createElement(rf,Object.assign({dictionary:s},e))}}),r.a.createElement(d.b,{path:"/driff-register",render:function(){return r.a.createElement(Fp,Object.assign({dictionary:s,setRegisteredDriff:l},e))}}))))})),OE=function(e){var t=Object(o.useDispatch)(),a=Object(o.useSelector)((function(e){return e.files.pendingWorkspaceFilesUpload}));Object(n.useEffect)((function(){0!==Object.keys(a).length&&Object.values(a).forEach((function(e){var a;t(y("PROCESS_WORKSPACE_FILES_UPLOAD",e,a)),t(Za(e))}))}),[a])},AE=function(){var e=Object(o.useSelector)((function(e){return e.global.slugs})),t=Object(o.useDispatch)(),i=cd(),c=Cd(),l=Object(n.useCallback)((function(t){if(t&&t.is_shared&&e.length){var a=e.filter((function(e){return e.slug_name===t.slug_owner}))[0];return{is_shared_topic:1,topic_id:t.entity_id,is_shared:t.entity_id,token:a.access_token,slug:a.slug_name}}return{}}),[e]),s=Object(n.useCallback)((function(e,a){var n=a.skip,r=void 0===n?0:n,i=a.limit,c=void 0===i?20:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s=Object(I.a)({channel_id:e.id,skip:r,limit:c},l(e));t(Mc(s,o))}),[t]),d=Object(n.useCallback)((function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r={};t(Gc(r,n))}),[t]),u=Object(n.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Bc(e,a))}),[t]),m=Object(n.useCallback)((function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};t(Yc({message_id:e,react_type:a},n))}),[t]),p=Object(n.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Jc(Object(I.a)({message_id:e},l()),a))}),[t]),f=Object(n.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(lo({message_id:e},a))}),[t]),b=Object(n.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i={channel_id:e.current.id,body:n,mention_ids:[],file_ids:[],reference_id:a(37).generate(),reference_title:e.title,is_transferred:!0};t(Gc(i,r))})),h=function(e){t($c(e))},E=Object(n.useCallback)((function(e,t){A(i,"".concat(N(),"/chat/").concat(e.code,"/").concat(t.code))}),[]),_=Object(n.useCallback)((function(e){t(ri(e)),t(function(e,t){return y("REMOVE_UNFURL",e,t)}(e))}),[t]),g=Object(n.useCallback)((function(e){t(function(e,t){return y("SET_LAST_CHAT_VISIBILITY",e,t)}(e))}),[t]),O=Object(n.useCallback)((function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};c.createForChat(e.id,t,(function(e,t){e&&i.error("An error has occurred try again!"),t&&i.success(r.a.createElement(r.a.Fragment,null,"You will be reminded about this chat message under ",r.a.createElement("b",null,"To-dos & Reminders"),".")),a(e,t),n(e,t)}))},l={type:"todo_reminder",parentItem:a,item:e,itemType:"CHAT",actions:{onSubmit:o}};t(Br(l))}),[t]);return{channelActions:Il(),fetch:s,create:d,edit:u,react:m,remove:p,removeUnfurl:_,remind:O,markComplete:f,forward:b,setQuote:h,setEdit:function(e){if(t(qc(e)),e.quote){var a=Object(I.a)(Object(I.a)({},e.quote),{},{channel_id:e.channel_id});h(a)}},clipboardLink:E,setLastMessageVisiblility:g}},vE=a(61),CE=a(82),jE=a(104),kE=a.n(jE),yE=(a(528),a(127)),TE=a.n(yE),wE=a(128),NE=a.n(wE);function SE(){var e=Object(s.a)(["\n  .card {\n    margin-bottom: 0;\n    min-width: 180px;\n    @media (max-width: 380px) {\n      min-width: auto;\n    }\n  }\n  > img {\n    width: 30px;\n  }\n"]);return SE=function(){return e},e}function xE(){var e=Object(s.a)(["\n  border-radius: 8px;\n  cursor: pointer;\n  cursor: hand;\n\n  > img {\n    border: 1px solid #ddd;\n    border-radius: inherit;\n    object-fit: cover;\n    max-height: 150px;\n    min-height: 150px;\n    max-width: 200px;\n    min-width: 200px;\n    @media (max-width: 380px) {\n      min-width: auto;\n      min-height: auto;\n    }\n  }\n"]);return xE=function(){return e},e}function IE(){var e=Object(s.a)(["\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n"]);return IE=function(){return e},e}function RE(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  cursor: pointer;\n  cursor: hand;\n"]);return RE=function(){return e},e}function PE(){var e=Object(s.a)(["\n  background-image: url(",");\n  &.img-error {\n    background-image: none;\n    padding: 2.8rem 3rem;\n  }\n"]);return PE=function(){return e},e}function DE(){var e=Object(s.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return DE=function(){return e},e}function LE(){var e=Object(s.a)(["\n  position: relative;\n  border: 1px solid #ddd;\n  background-color: transparent;\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n  border-radius: 8px;\n"]);return LE=function(){return e},e}var FE=m.a.div(LE()),ME=m.a.div(DE()),UE=m.a.img(PE(),(function(e){return e.bgImg})),GE=(m.a.div(RE()),m.a.video(IE())),BE=m.a.div(xE()),HE=m.a.div(SE()),WE=Object(n.forwardRef)((function(e,t){var i=e.className,c=void 0===i?"":i,o=e.file,l=e.cbFilePreview,s=Object(G.a)(e,["className","file","cbFilePreview"]),d=Object(n.useRef)(),u=Object(n.useRef)(),m=(Object(n.useRef)(),function(e){l(e,o)}),p=Xs();return r.a.createElement(BE,Object.assign({ref:t,className:"file-pill ".concat(c)},s),"image"===o.type.toLowerCase()?r.a.createElement(r.a.Fragment,null,r.a.createElement(FE,{ref:d},r.a.createElement(ME,{className:"img-loader"})),r.a.createElement(UE,{ref:u,bgImg:o.view_link,"data-attempt":0,className:"d-none",onLoad:function(e){e.currentTarget.classList.remove("d-none"),e.currentTarget.removeAttribute("height"),d.current.classList.add("d-none")},onError:function(e){console.log(o,"image did not load"),"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(w({isDNS:!0}),"/file-view-attempt/").concat(o.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=a(123))},height:150,onClick:m,src:o.view_link,alt:o.filename,title:o.filename})):"video"===o.type.toLowerCase()?r.a.createElement(r.a.Fragment,null,r.a.createElement(GE,{"data-attempt":0,width:"320",height:"240",controls:!0,playsInline:!0,onLoadStart:function(e){},onError:function(e){console.log(e,"image did not load"),"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(w({isDNS:!0}),"/file-view-attempt/").concat(o.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp&&(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime()))}},r.a.createElement("source",{src:o.view_link,type:"video/mp4"}),"Your browser does not support the video tag.")):r.a.createElement(HE,{onClick:m},r.a.createElement("div",{className:"card app-file-list"},r.a.createElement("div",{className:"app-file-icon"},p.getFileIcon(o.type)),r.a.createElement("div",{className:"p-2 small"},r.a.createElement("div",null,o.filename)))))})),QE=r.a.memo(WE);function YE(){var e=Object(s.a)(['\n  display: flex;\n  align-items: center;\n  border: 10px solid #000;\n\n  :after {\n    content: "";\n    mask-image: ',";\n    background-color: #676767;\n    mask-repeat: no-repeat;\n    mask-size: 60%;\n    mask-position: center;\n    width: 20px;\n    height: 20px;\n    display: inline-block;\n  }\n"]);return YE=function(){return e},e}function zE(){var e=Object(s.a)([""]);return zE=function(){return e},e}function VE(){var e=Object(s.a)(["\n  display: flex;\n  flex-flow: column;\n"]);return VE=function(){return e},e}function KE(){var e=Object(s.a)(["\n  margin-bottom: 0.5rem;\n"]);return KE=function(){return e},e}function qE(){var e=Object(s.a)(["\n  position: relative;\n  z-index: 1;\n  border-radius: 8px;\n  color: #828282;\n"]);return qE=function(){return e},e}var JE=m.a.div(qE()),ZE=m.a.div(KE()),XE=m.a.div(VE()),$E=Object(m.a)(QE)(zE()),e_=m.a.a(YE(),(function(e){return e.show?"url(".concat(TE.a,")"):"url(".concat(NE.a,")")})),t_=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,c=e.files,l=e.reply,s=e.type,d=void 0===s?"chat":s,u=Object(G.a)(e,["className","files","reply","type"]),m=Object(o.useDispatch)(),f=Object(n.useState)(!0),b=Object(p.a)(f,2),h=b[0],E=b[1],_=function(e,t){if(e.stopPropagation(),"chat"===d){var a={channel_id:l.channel_id,file_id:t.file_id};m(qa(a))}};return r.a.createElement(JE,Object.assign({className:"message-files ".concat(i),filesLength:c.length,type:d},u),c.length>=1&&!1===("chat"===d&&1===c.length)&&r.a.createElement(e_,{onClick:function(){E(!h)},show:h},c.length>1?"".concat(c.length," files"):"1 file"),r.a.createElement(XE,null,h&&c.map((function(e,t){return 1===c.length&&"chat"===d?r.a.createElement($E,{key:t,cbFilePreview:_,file:e,"data-file-type":e.type}):r.a.createElement(ZE,{key:e.id},r.a.createElement($E,{cbFilePreview:_,file:e,"data-file-type":e.type}))}))))})),a_=r.a.memo(t_);function n_(){var e=Object(s.a)(["\n  font-size: .835rem;\n  .media, .media div {\n    width: 100%;\n  }\n  .description{\n    img {\n      display: none;\n    }\n  }\n"]);return n_=function(){return e},e}function r_(){var e=Object(s.a)(["\n  position: absolute;\n  right: 5px;\n  top: 10px;\n  z-index: 2;\n  cursor: pointer;\n"]);return r_=function(){return e},e}var i_=m.a.span(r_()),c_=m.a.blockquote(n_()),o_=function(e){var t=e.prio,a=Object(n.useState)("Medium"),i=Object(p.a)(a,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){o(4===t?"Critical":3===t?"High":2===t?"Medium":"Low")}),[t]),r.a.createElement("span",{className:"unfurl-priority"},r.a.createElement("strong",null,"Priority")," -- ",c)},l_=r.a.memo((function(e){var t=e.unfurlData,a=e.channelId,i=void 0===a?null:a,c=e.boardId,o=void 0===c?null:c,l=e.taskId,s=void 0===l?null:l,d=e.messageId,u=e.isAuthor,m=e.removeUnfurl,f=e.type,b=void 0===f?"chat":f,h=Object(n.useState)(!1),E=Object(p.a)(h,2),_=E[0],g=E[1];return Object(n.useEffect)((function(){var e=t.filter((function(e){return void 0===e.data.is_deleted}));if(e.length){e[0].data.url&&e[0].data.url.includes("driff.io")&&g(!0)}}),[]),t.filter((function(e){return void 0===e.data.is_deleted})).slice(0,1).map((function(e,t){return"PRIVATE CONTENT"===e.data.title||"NOT AUTHORIZED"===e.data.title?null:r.a.createElement(c_,{className:"blockquote component-un-furl",key:t},r.a.createElement("div",{className:"media media-".concat(e.data.type)},r.a.createElement("div",{className:"media-wrapper"},r.a.createElement("div",{className:"media-header"},!_&&r.a.createElement("p",null,r.a.createElement("img",{alt:"provider",className:"provider-icon",src:e.data.provider_icon}),r.a.createElement("a",{className:"provider-name",href:e.data.provider_url,title:e.data.provider_name,target:"_blank",rel:"noopener noreferrer"},e.data.provider_name),e.data.author_name?r.a.createElement("span",{className:"item-author-name"}," | ",e.data.author_name):"")),r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",{className:"item-title"},r.a.createElement("a",{href:e.data.url,title:e.data.title,target:"_blank",rel:"noopener noreferrer"},e.data.title)),r.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.data.description}})),e.data.task_status&&r.a.createElement("div",{className:"unfurl-task-data"},r.a.createElement("span",{className:"unfurl-status"},r.a.createElement("strong",null,"Status")," -- ",e.data.task_status," "),r.a.createElement(o_,{prio:e.data.task_priority}),r.a.createElement("br",null),e.data.task_participants&&e.data.task_participants.length?r.a.createElement("span",{className:"unfurl-assignees"},r.a.createElement("strong",null,"Assignees")," -- ",e.data.task_participants.map((function(e){return e.name})).join(", ")):null))),u&&r.a.createElement(i_,{onClick:function(t){return a=e.id,void m("task"===b?{unfurl_id:a,board_id:o,task_id:s,message_id:d,type:"task"}:{unfurl_id:a,channel_id:i,message_id:d,type:"chat"});var a}},r.a.createElement(Se,{icon:"x"})))}))}));function s_(){var e=Object(s.a)(["\n  display: none;\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"]);return s_=function(){return e},e}function d_(){var e=Object(s.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"]);return d_=function(){return e},e}function u_(){var e=Object(s.a)(["\n  display: block;\n  svg,\n  polyline,\n  circle,\n  g {\n    stroke: ",";\n  }\n"]);return u_=function(){return e},e}function m_(){var e=Object(s.a)(["\n  // position: absolute;\n  // left: ",";\n  // right: ",";\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n  }\n  .reply-date.updated {\n    // -webkit-transition: all 0.2s ease-in-out;\n    // -o-transition: all 0.2s ease-in-out;\n    // transition: all 0.2s ease-in-out;\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"]);return m_=function(){return e},e}function p_(){var e=Object(s.a)(["\n  ","\n\n  .reply-author {\n    // padding: ",";\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n    // ",";\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"]);return p_=function(){return e},e}function f_(){var e=Object(s.a)(["\n  //margin-top: 10px;\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"]);return f_=function(){return e},e}function b_(){var e=Object(s.a)(["\n  max-width: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 992px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"]);return b_=function(){return e},e}function h_(){var e=Object(s.a)(["\n  img {\n    cursor: pointer;\n    cursor: hand;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n    cursor: hand;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: #972c86;\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"]);return h_=function(){return e},e}function E_(){var e=Object(s.a)(["\n  position: relative;\n  top: -2px;\n  margin-right: -5px;\n  left: -3px;\n  filter: invert(25%) sepia(36%) saturate(4250%) hue-rotate(165deg) brightness(95%) contrast(101%);\n\n  &:hover {\n    filter: invert(25%) sepia(36%) saturate(4250%) hue-rotate(165deg) brightness(95%) contrast(101%);\n  }\n"]);return E_=function(){return e},e}function __(){var e=Object(s.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"]);return __=function(){return e},e}function g_(){var e=Object(s.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]);return g_=function(){return e},e}function O_(){var e=Object(s.a)(["\n  background: ",";\n  border-radius: 8px 8px 0 0;\n  margin: -7px -15px 10px -15px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  &:after {\n    ",";\n    border: 10px solid transparent;\n    ",";\n    position: absolute;\n    top: ",";\n    z-index: 12;\n    ",";\n    height: 5px;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n    &:dark {\n      ",";\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: -7px -7px 10px -7px;\n    padding: 7px;\n  }\n"]);return O_=function(){return e},e}function A_(){var e=Object(s.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: 7px 15px;\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  //min-height: 40px;\n  min-height: ",";\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n  ","\n\n  &:after {\n    content: ",";\n    border: 10px solid #0000;\n    position: absolute;\n    top: 8px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 30px 0;\n    text-align: right;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    align-items: center;\n    white-space: nowrap;\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  .mention {\n    font-weight: ",";\n    color: ",';\n    text-decoration: none;\n    &[data-value="All"],\n    &.is-author {\n      box-shadow: none;\n      padding: 0 4px;\n      border-radius: 8px;\n      text-decoration: underline;\n      display: inline-block;\n      width: auto;\n      height: auto;\n    }\n    a {\n      color: '," !important;\n      text-decoration: none;\n    }\n  }\n  a.call-button {\n    display: block;\n  }\n  .call-user {\n    min-width: 30px;\n    min-height: 30px;\n    height: 30px;\n    width: 30px;\n    border-radius: 50%;\n    margin-right: 5px;\n    display: inline-block;\n    background-size: contain;\n  }\n"]);return A_=function(){return e},e}var v_=m.a.div(A_(),(function(e){return e.isAuthor?e.theme.self.chat_bubble_background_color:e.theme.others.chat_bubble_background_color}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_text_color:e.theme.others.chat_bubble_text_color}),(function(e){return e.hasGif?"150px":"40px"}),(function(e){return!0===e.hideBg&&!e.isEmoticonOnly&&"\n        background: none;\n        padding: 0;\n    "}),(function(e){return e.showAvatar&&!1===e.hideBg&&"''"}),(function(e){return e.isAuthor?"right: -18px":"left: -18px"}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_background_color:"#0000"}),(function(e){return e.isAuthor?"#0000":e.theme.others.chat_bubble_background_color}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_link_color:e.theme.others.chat_bubble_link_color}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_hover_color:e.theme.others.chat_bubble_hover_color}),(function(e){return e.isAuthor?"#ffffff":e.theme.others.chat_bubble_name_text_color}),(function(e){return!0===e.isForwardedMessage&&"top: -40px;"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.showAvatar&&!1===e.hideBg?"#a7abc3":"#0000"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"}),(function(e){return e.isAuthor?"#ffffffe6":"#AAB0C8"}),(function(e){return e.isAuthor?"none":"bold"}),(function(e){return e.isAuthor?"#ffffff":"#7A1B8B"}),(function(e){return e.isAuthor?"#ffffff":"#7A1B8B"})),C_=m.a.div(O_(),(function(e){return e.isAuthor?e.theme.self.chat_bubble_quote_background_color:e.theme.others.chat_bubble_quote_background_color}),(function(e){return e.hasFiles?"210px":"auto"}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_quote_background_color:e.theme.others.chat_bubble_quote_background_color}),(function(e){return!e.isEmoticonOnly&&"content: ''"}),(function(e){return!e.isEmoticonOnly&&"content: ''"}),(function(e){return e.isAuthor?"border-left-color: "+e.theme.self.chat_bubble_quote_background_color:"border-right-color: "+e.theme.others.chat_bubble_quote_background_color}),(function(e){return e.showAvatar&&!e.isAuthor?"6px":"8px"}),(function(e){return e.isAuthor?"right: -18px":"left: -18px"}),(function(e){return e.isAuthor?"border-left-color: red !important;":"border-right-color: yellow !important;"})),j_=m.a.div(g_()),k_=m.a.div(__(),(function(e){return e.isAuthor?e.theme.self.chat_bubble_quote_text_color:e.theme.others.chat_bubble_quote_text_color}),(function(e){return e.isAuthor?"#ffffffe6":"#8C3B9B"})),y_=(Object(m.a)(Sa)(E_()),Object(m.a)(a_)(h_(),(function(e){return e.isAuthor?Object(CE.hexToCSSFilter)(e.theme.self.chat_bubble_link_color).filter:Object(CE.hexToCSSFilter)(e.theme.others.chat_bubble_link_color).filter}),(function(e){return e.isAuthor?Object(CE.hexToCSSFilter)(e.theme.self.chat_bubble_hover_color).filter:Object(CE.hexToCSSFilter)(e.theme.others.chat_bubble_hover_color).filter}),(function(e){return e.hasMessage&&""}))),T_=m.a.span(b_(),(function(e){return e.hasFiles?"200px":"auto"}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_link_color:e.theme.others.chat_bubble_link_color}),(function(e){return e.isAuthor?"#ffffff99":"#7a1b8b"}),(function(e){return e.isAuthor?"#FFF":"#828282"}),(function(e){return e.isAuthor?"#ffffff":"#7a1b8b"}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_link_color:e.theme.others.chat_bubble_link_color}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_hover_color:e.theme.others.chat_bubble_hover_color}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_hover_color:e.theme.others.chat_bubble_hover_color}),(function(e){return e.isAuthor?e.theme.self.chat_bubble_hover_color:e.theme.others.chat_bubble_hover_color})),w_=m.a.div(f_(),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"left":"right"})),N_=m.a.div(p_(),(function(e){return!e.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(e){return e.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-right-color: transparent;\n        border-right-color: #f0f0f0;\n        position: absolute;\n        top: 8px;\n        left: -18px;\n        z-index: 1;\n        ").concat((function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -18px;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(e){return e.isAuthor?"0 10px 0 40px":"0 40px 0 10px"}),(function(e){return e.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(e){return e.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(e){return e.isAuthor,"#ff4444"})),S_=m.a.div(m_(),(function(e){return e.isAuthor?"5px":"unset"}),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"0 10px 0 0":"0 0 0 10px"})),x_=Object(m.a)(ct)(u_(),(function(e){return e.isAuthor?"#ffffffe6":"#8C3B9B"})),I_=m.a.span(d_(),(function(e){return e.isAuthor?"right: 100%;":"left: 100%;"})),R_=m.a.span(s_()),P_=[.1,.2,.3,.4,.5,.6,.7,.8,.9],D_=r.a.memo((function(e){var t=e.reply,a=e.showAvatar,i=e.selectedChannel,c=e.showGifPlayer,o=e.isAuthor,l=e.addMessageRef,s=e.user,u=e.recipients,m=e.isLastChat,f=e.chatMessageActions,b=e.timeFormat,h=e.isBot,E=e.chatSettings,_=e.isLastChatVisible,g=e.dictionary,O=Object(d.g)(),A=Object(n.useState)(!1),v=Object(p.a)(A,2),C=v[0],j=v[1],k=Object(n.useState)(t.body),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(null),S=Object(p.a)(N,2),x=S[0],I=S[1],R=Object(n.useState)(""),P=Object(p.a)(R,2),D=P[0],L=P[1],F=Object(n.useState)(!1),M=Object(p.a)(F,2),U=M[0],G=M[1],B=Object(vE.b)({threshold:1}),H=Object(p.a)(B,2),W=H[0],Q=H[1],Y=Object(n.useRef)(),z=Object(vE.b)({threshold:P_,skip:!m}),V=Object(p.a)(z,3),K=V[0],q=(V[1],V[2]);Object(n.useEffect)((function(){m&&q&&(q.boundingClientRect.height-q.intersectionRect.height>=16?_&&f.setLastMessageVisiblility({status:!1}):_||f.setLastMessageVisiblility({status:!0}))}),[m,q,_]),Object(n.useEffect)((function(){l&&Q&&e.loadReplies()}),[l,Q]);var J=function(){f.markComplete(t.id)},Z=function(){var e=t.original_body.replace("You asked me to remind you ","OK! I\u2019ve removed the reminder "),a=e.replace(e.substr(0,e.search(" in ")+4,e),"");e=e.replace(" in ".concat(a),' in <a class="push" data-href="/chat/'.concat(t.quote.channel_code,'">#').concat(a,"</a>"));var n="/chat/".concat(t.quote.channel_code,"/").concat(t.quote.code);e=e.replace("this message",'<a class="push" href="'.concat(n,'">this message</a>')),f.edit({body:e,message_id:t.id,reply_id:t.id})},X=function(e){return e.preventDefault(),O.push(e.currentTarget.dataset.href),!1},$=function(e){if(null!=e.match(/<img/)){var t=/<img.*?src="(.*?)"/.exec(e);return null===t?e:t[1]}var a=/<a.*?href="(.*?)"/.exec(e);return null===a?e:a[1]};Object(n.useEffect)((function(){var e=Y.current.querySelector(".btn-action.btn-complete");e&&e.addEventListener("click",J,!0);var t=Y.current.querySelector(".btn-action.btn-delete");t&&t.addEventListener("click",Z,!0);var a=Y.current.querySelector("a.push");return a&&a.addEventListener("click",X,!0),function(){e&&e.removeEventListener("click",J,!0),t&&t.removeEventListener("click",Z,!0),a&&a.removeEventListener("click",X,!0)}}),[]);var ee=Object(n.useCallback)((function(){var e=!1,a=Oc.parseEmoji(t.body);if(t.is_deleted)a=g.chatRemoved;else if(t.created_at.timestamp!==t.updated_at.timestamp&&(a="".concat(a,"<span class='edited-message'>(edited)</span>")),13===a.length||2===a.length)if(a!==t.body)e=!0;else{var n=a.match(["\xa9|\xae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]"," "].join("|"));n&&1===n.length&&(e=!0)}G(e);var c="",l="";if(t.quote){var d=document.createElement("div");d.innerHTML=t.quote.body;for(var m=d.getElementsByTagName("img"),p=0;p<m.length;p++)c+=Object(Ee.renderToString)(r.a.createElement(x_,{className:"image-quote",target:"_blank",href:m[0].getAttribute("src"),icon:"image-video",isAuthor:o},"Photo"));for(var f=d.getElementsByTagName("video"),b=0;b<f.length;b++)c+=Object(Ee.renderToString)(r.a.createElement(x_,{className:"video-quote",target:"_blank",href:f[0].getAttribute("player-source"),icon:"image-video",isAuthor:o},"Video"));t.quote.files&&t.quote.files.forEach((function(e){"image"===e.type?c+=Object(Ee.renderToString)(r.a.createElement(x_,{className:"image-quote",target:"_blank",href:e.view_link,icon:"image-video",isAuthor:o},"Photo")):"video"===e.type?c+=Object(Ee.renderToString)(r.a.createElement(x_,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video",isAuthor:o},"Video")):c+=Object(Ee.renderToString)(r.a.createElement(x_,{target:"_blank",href:e.view_link,icon:"documents",isAuthor:o},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),c+=Oc.parseEmoji(t.quote.body),t.quote.user&&(l=s.id!==t.quote.user.id?t.quote.user.name:"You")}if(a.includes("ACCOUNT_DEACTIVATED")){var h=a.replace("ACCOUNT_DEACTIVATED ","");a="s"===h[h.length-1]?"".concat(g.update,": ").concat(h,"' ").concat(g.accountDeactivated,"."):"".concat(g.update,": ").concat(h,"'s ").concat(g.accountDeactivated,".")}else if(a.includes("NEW_ACCOUNT_ACTIVATED")){var E=a.replace("NEW_ACCOUNT_ACTIVATED ","");a="s"===E[E.length-1]?"".concat(g.update,": ").concat(E,"' ").concat(g.accountActivated,"."):"".concat(g.update,": ").concat(E,"'s ").concat(g.accountActivated,".")}if(c.includes("ACCOUNT_DEACTIVATED")){var _=c.replace("ACCOUNT_DEACTIVATED ","");c="s"===_[_.length-1]?"".concat(g.update,": ").concat(_,"' ").concat(g.accountDeactivated,"."):"".concat(g.update,": ").concat(_,"'s ").concat(g.accountDeactivated,".")}else if(c.includes("NEW_ACCOUNT_ACTIVATED")){var O=c.replace("NEW_ACCOUNT_ACTIVATED ","");c="s"===O[O.length-1]?"".concat(g.update,": ").concat(O,"' ").concat(g.accountActivated,"."):"".concat(g.update,": ").concat(O,"'s ").concat(g.accountActivated,".")}else if(c.includes("CHANNEL_UPDATE::")){var A=JSON.parse(t.quote.body.replace("CHANNEL_UPDATE::","")),v=u.find((function(e){return e.type_id===A.author.id}));v?A.author.id===s.id&&(v.name=g.you):v={name:g.someone};var C="";if(""!==A.title&&(C=r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{width:16,icon:"edit-3"})," ",v.name," ","TOPIC"===i.type?g.renameThisWorkspace:g.renameThisChat," ",r.a.createElement("b",null,"#",A.title),r.a.createElement("br",null))),A.added_members.length>=1){var j=u.filter((function(e){return A.added_members.includes(e.type_id)&&e.type_id!==s.id})).map((function(e){return e.name}));A.added_members.includes(s.id)&&A.author.id===s.id?(C=""===C?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,v.name)," ",g.joined," "):r.a.createElement(r.a.Fragment,null,C," ",g.andJoined),0!==j.length&&(C=r.a.createElement(r.a.Fragment,null,C," ",g.andAdded," ",r.a.createElement("b",null,j.join(", ")),r.a.createElement("br",null)))):(C=""===C?r.a.createElement(r.a.Fragment,null,v.name," ",g.added," "):r.a.createElement(r.a.Fragment,null,C," ",g.andAdded),A.added_members.includes(s.id)&&(C=0!==j.length?r.a.createElement(r.a.Fragment,null,C," ",r.a.createElement("b",null,g.youAnd," ")):r.a.createElement(r.a.Fragment,null,C," ",r.a.createElement("b",null,g.you))),0!==j.length&&(C=r.a.createElement(r.a.Fragment,null,C," ",r.a.createElement("b",null,j.join(", ")),r.a.createElement("br",null))))}if(A.removed_members.length>=1){var k=u.filter((function(e){return A.removed_members.includes(e.type_id)&&e.type_id!==s.id})).map((function(e){return e.name}));A.removed_members.includes(s.id)&&A.author.id===s.id?(C=""===C?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,v.name)," ",g.left," "):r.a.createElement(r.a.Fragment,null,C," ",g.andLeft),0!==k.length&&(C=r.a.createElement(r.a.Fragment,null,C," ",g.andRemoved," ",r.a.createElement("b",null,k.join(", ")),r.a.createElement("br",null)))):(C=""===C?r.a.createElement(r.a.Fragment,null,v.name," ",g.removed," "):r.a.createElement(r.a.Fragment,null,C," ",g.andRemoved),A.removed_members.includes(s.id)&&(C=0!==k.length?r.a.createElement(r.a.Fragment,null,C," ",r.a.createElement("b",null,g.youAnd," ")):r.a.createElement(r.a.Fragment,null,C," ",r.a.createElement("b",null,g.you))),0!==k.length&&(C=r.a.createElement(r.a.Fragment,null,C," ",r.a.createElement("b",null,k.join(", ")),r.a.createElement("br",null))))}c=Object(Ee.renderToString)(C)}else if(c.includes("POST_CREATE::")){var y=JSON.parse(t.quote.body.replace("POST_CREATE::","")),T=Oc.parseToText(y.post.description);c=Object(Ee.renderToString)(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,y.author.first_name)," ",g.createdThePost," ",r.a.createElement("b",null,'"',y.post.title,'"'),r.a.createElement("span",{className:"card card-body",style:{margin:0,padding:"10px"},dangerouslySetInnerHTML:{__html:T}})))}I(c),w(a),L(l)}),[t]);Object(n.useEffect)((function(){ee()}),[t.body,t.is_deleted]);var te=t.files.length>0,ae="<span></span>"!==t.body,ne=bd();return r.a.createElement(v_,{ref:Y,tabIndex:t.id,className:"chat-bubble ql-editor",showAvatar:a,isAuthor:o,hideBg:U||C||te&&"<span></span>"===T||te&&""===T,theme:E.chat_message_theme,hasGif:c},r.a.createElement(r.a.Fragment,null,t.is_transferred&&r.a.createElement(I_,{className:"small",isAuthor:o},r.a.createElement(Se,{icon:"corner-up-right"}),g.forwardedMessage),r.a.createElement(w_,{ref:l?W:null,className:"chat-content-clap",isAuthor:o},r.a.createElement(N_,{showAvatar:a,isAuthor:o,isEmoticonOnly:U,className:"chat-content animated slower"},t.quote&&t.quote.body&&!t.is_deleted&&(void 0!==t.quote.user_id||void 0!==t.quote.user)&&r.a.createElement(C_,{className:"quote-container",showAvatar:a,isEmoticonOnly:U,hasFiles:te,theme:E.chat_message_theme,onClick:function(){if(t.quote.channel_id);else{var e=document.querySelector(".chat-list-item-".concat(t.quote.id));e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},isAuthor:o},t.quote.user_id===s.id?r.a.createElement(j_,{theme:E.chat_message_theme,isAuthor:!0},"You"):r.a.createElement(j_,{theme:E.chat_message_theme,isAuthor:t.quote.user_id===s.id},D),r.a.createElement(k_,{className:"quote-content",theme:E.chat_message_theme,isAuthor:o,dangerouslySetInnerHTML:{__html:x}})),t.files.length>0&&!t.is_deleted&&r.a.createElement(y_,{hasMessage:ae,isAuthor:o,theme:E.chat_message_theme,files:t.files,reply:t,type:"chat"}),!o&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(R_,{className:"chat-name-not-author-mobile"},t.user.name)),r.a.createElement("span",{ref:m?K:null},r.a.createElement(T_,{ref:function(e){if(e&&(e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){var t=e;t.dataset.googleLinkRetrieve=1,ne.getFile(t,t.dataset.googleFileId)})),c)){var t=!1;Array.from(e.children).forEach((function(e){""!==e.innerHTML&&(t=!0)})),j(!t)}},hasFiles:te,theme:E.chat_message_theme,isAuthor:o,className:"reply-content ".concat(U?"emoticon-body":""," ").concat(t.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:c?{__html:oe(T)}:{__html:T}})),c&&function(e){var t=document.createElement("p");t.innerHTML=e;var a=t.querySelectorAll('img[src$=".gif"], a[href$=".gif"]'),n=[];return null!==a?(Array.prototype.forEach.call(a,(function(e){n.push(e)})),n):e}(T).map((function(e,t){var a=e.outerHTML;return r.a.createElement(kE.a,{key:t,className:"gifPlayer",gif:$(a),autoplay:!0})})),!0===(t.unfurls&&t.unfurls.length&&!t.is_deleted&&!c&&!h)&&r.a.createElement(l_,{unfurlData:t.unfurls,isAuthor:o,removeUnfurl:f.removeUnfurl,channelId:i.id,messageId:t.id,type:"chat"}),void 0!==t.unfurl_loading&&t.unfurl_loading&&r.a.createElement(Ce.a,{color:"#dedede",borderRadius:"10px",width:"100%",height:"150px",widthRandomness:0,heightRandomness:0}))),r.a.createElement(S_,{className:"chat-timestamp",isAuthor:o},r.a.createElement("span",{className:"reply-date created"},b.todayOrYesterdayDate(t.created_at.timestamp)))),e.children)})),L_=r.a.memo((function(e){var t=e.isAuthor,a=e.replyData,i=e.className,c=void 0===i?"":i,l=e.selectedChannel,s=e.dictionary,d=e.width,u=void 0===d?250:d,m=Object(n.useState)(!1),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(o.useDispatch)(),_=document.getElementById("infinite-scroll-chat-replies"),g=AE(),O=function(){g.remove(a.id)};return r.a.createElement(au,{width:u,className:c,scrollRef:_},r.a.createElement("div",{onClick:function(){return g.remind(a,l)}},s.remindMeAboutThis),t&&a.hasOwnProperty("is_transferred")&&!a.is_transferred&&r.a.createElement("div",{onClick:function(){g.setEdit(a)}},s.edit),r.a.createElement("div",{onClick:function(){g.setQuote(a)}},s.quote),t&&r.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:s.removeChat,submitText:s.remove,cancelText:s.cancel,bodyText:s.removeThisChat,actions:{onSubmit:O}};E(Br(e))}},s.remove),r.a.createElement("div",{onClick:function(e){e.stopPropagation(),g.clipboardLink(l,a),h(!b)}},s.copyMessageLink),r.a.createElement("div",{onClick:function(){E(Br({type:"forward",channel:l,message:a}))}},s.forward))}));function F_(){var e=Object(s.a)(['\n  .sepline {\n    font-weight: 600;\n    font-size: 0.85em;\n    color: #972c86;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: 100%;\n    margin: 10px auto 8px;\n    &::before,\n    &::after {\n      content: "";\n      position: absolute;\n      background-color: #972c86;\n      width: 100%;\n      height: 1px;\n      display: block;\n      clear: both;\n\n      @media only screen and (min-width: 1800px) {\n        max-width: 44%;\n      }\n\n      @media only screen and (max-width: 1799px) {\n        max-width: 42%;\n      }\n\n      @media only screen and (max-width: 1650px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1440px) {\n        max-width: 38%;\n      }\n\n      @media only screen and (max-width: 1360px) {\n        max-width: 36%;\n      }\n\n      @media only screen and (max-width: 1280px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1136px) {\n        max-width: 32%;\n      }\n\n      @media only screen and (max-width: 1080px) {\n        max-width: 30%;\n      }\n\n      @media only screen and (max-width: 1024px) {\n        max-width: 26%;\n      }\n\n      @media only screen and (max-width: 1000px) {\n        max-width: 24%;\n      }\n\n      @media only screen and (max-width: 996px) {\n        max-width: 20%;\n      }\n\n      @media only screen and (max-width: 640px) {\n        max-width: 35%;\n      }\n    }\n    &::before {\n      left: 0;\n    }\n    &::after {\n      right: 0;\n    }\n  }\n']);return F_=function(){return e},e}function M_(){var e=Object(s.a)(["\n  &.hide {\n    visibility: hidden;\n    opacity: 0;\n  }\n"]);return M_=function(){return e},e}var U_=m.a.div(M_()),G_=m.a.div(F_()),B_=function(e){return r.a.createElement(U_,{className:"new-message-sepline"},r.a.createElement(G_,null,r.a.createElement("span",{className:"sepline"},"New Message/s")))};function H_(){var e=Object(s.a)(['\n  &.orientation-top {\n    bottom: 25px;\n  }\n  &.orientation-bottom {\n    top: calc(100% + 5px);\n  }\n  &.orientation-left {\n    right: calc(100% - 25px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% - 25px);\n    right: auto;\n  }\n\n  @media (max-width: 576px) {\n    position: fixed;\n    justify-content: center;\n    display: flex;\n\n    &.orientation-top {\n      bottom: 100px;\n    }\n    &.orientation-bottom {\n      top: auto;\n      bottom: 100px;\n    }\n    &.orientation-left {\n      right: 0;\n      left: 0;\n    }\n    &.orientation-right {\n      left: 0;\n      right: 0;\n    }\n  }\n\n  .emoji-mart-bar {\n    display: none;\n  }\n\n  li {\n    &:before {\n      content: "" !important;\n      margin: 0 !important;\n      display: none !important;\n    }\n\n    padding-left: 0 !important;\n    text-align: left !important;\n    position: relative !important;\n    margin-left: 10px !important;\n  }\n']);return H_=function(){return e},e}function W_(){var e=Object(s.a)(["\n  ",";\n\n  &:hover {\n    filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);\n  }\n"]);return W_=function(){return e},e}function Q_(){var e=Object(s.a)(["\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n  padding: 0;\n  cursor: pointer;\n  position: relative;\n  @media (max-width: 620px) {\n    width: 20px;\n    height: 20px;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n"]);return Q_=function(){return e},e}var Y_=m.a.div(Q_()),z_=Object(m.a)(Se)(W_(),(function(e){return e.active&&"filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);"})),V_=Object(m.a)(ht)(H_()),K_=function(e){var t=e.reply,a=e.scrollRef,i=void 0===a?null:a,c=null,o=AE(),l={container:Object(n.useRef)(null),picker:Object(n.useRef)(null)},s=Object(n.useState)(!1),d=Object(p.a)(s,2),u=d[0],m=d[1],f=function(){return m(!u)},b=he(l.container,l.picker,i,u).orientation;return r.a.createElement(Y_,{className:"emoji-button-div",ref:l.container},r.a.createElement(z_,{icon:"smile",active:u,onClick:f}),u&&r.a.createElement(V_,{ref:l.picker,onMouseEnter:function(){clearTimeout(c)},onMouseLeave:function(){c=setTimeout((function(){m(!1)}),1e3)},className:"chat-reaction-picker",orientation:b,onSelectEmoji:function(e){f(),o.react(t.id,e.id)},show:u}))};function q_(){var e=Object(s.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  i {\n    color: #ddd;\n  }\n  :hover i {\n    color: #676767;\n    cursor: pointer;\n  }\n"]);return q_=function(){return e},e}var J_=m.a.span(q_()),Z_=r.a.memo((function(e){var t=e.unfurlData,a=e.channelId,n=e.replyId,i=e.isAuthor,c=e.deleteChatUnfurlAction,o=e.removeChatUnfurlAction;return t.filter((function(e){return void 0===e.data.is_deleted})).slice(0,1).map((function(e,t){return r.a.createElement("blockquote",{className:"blockquote component-un-furl",key:t},r.a.createElement("div",{className:"media media-".concat(e.data.type)},e.data.image&&!e.data.code?r.a.createElement("img",{className:"item-image",src:e.data.image,title:e.data.title,alt:e.data.title}):"",r.a.createElement("div",{className:"media-wrapper"},r.a.createElement("div",{className:"media-header"},r.a.createElement("p",null,r.a.createElement("img",{alt:"provider",className:"provider-icon",src:e.data.provider_icon}),r.a.createElement("a",{className:"provider-name",href:e.data.provider_url,title:e.data.provider_name,target:"_blank",rel:"noopener noreferrer"},e.data.provider_name),e.data.author_name?r.a.createElement("span",{className:"item-author-name"}," | ",e.data.author_name):"")),r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",{className:"item-title"},r.a.createElement("a",{href:e.data.url,title:e.data.title,target:"_blank",rel:"noopener noreferrer"},e.data.title)),r.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.data.description}})))),i&&r.a.createElement(J_,{onClick:function(t){return r=e.id,c({unfurl_id:r}),void o({unfurl_id:r,channel_id:a,reply_id:n});var r}},r.a.createElement("i",{className:"fas fa-times"})))}))}));function X_(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n  }\n"]);return X_=function(){return e},e}function $_(){var e=Object(s.a)(["\n  background: ",";\n  color: ",";\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  cursor: pointer;\n  position: relative;\n  :hover {\n    .chat-emoji-users-list {\n      visibility: visible;\n    }\n  }\n"]);return $_=function(){return e},e}var eg=m.a.div($_(),(function(e){return e.isAuthor?"rgb(157 57 173 / 93%)":"rgba(240, 240, 240, 0.8)"}),(function(e){return e.isAuthor?"#fff":"#505050"})),tg=Object(m.a)(Ge)(X_(),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"5px":"unset"})),ag=function(e){var t=e.type,a=e.count,n=e.reactions,i=e.isAuthor,c=e.reply,o=AE();return r.a.createElement(eg,{onClick:function(){o.react(c.id,t)},isAuthor:i,className:"chat-emoji"},r.a.createElement(mt.a,{emoji:t,size:20}),a>1?r.a.createElement("span",{className:"emoji-counter"}," ",a):null,r.a.createElement(tg,{className:"chat-emoji-users-list",isAuthor:i,users:n.map((function(e){return{id:e.user_id,name:e.user_name,profile_image_link:e.profile_image_link,partial_name:null}}))}))};function ng(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  top: 1px;\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n    padding: 5px 10px;\n  }\n"]);return ng=function(){return e},e}function rg(){var e=Object(s.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    position: relative;\n    z-index: 100;\n  }\n  li {\n    position: relative;\n    padding: 3px;\n    border-bottom: 1px solid;\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    :hover {\n      .chat-emoji-users-list {\n        visibility: visible;\n      }\n    }\n  }\n  li:last-child {\n    border: none;\n  }\n"]);return rg=function(){return e},e}var ig=m.a.div(rg()),cg=Object(m.a)(Ge)(ng(),(function(e){return e.isAuthor?"unset":"116%"}),(function(e){return e.isAuthor?"116%":"unset"})),og=function(e){var t=e.className,a=e.reactions,i=e.handleShowMoreEmojis,c=e.isAuthor,o=e.reply,l=e.chatReactionAction,s=Object(n.useRef)();X(s,i,!0);return r.a.createElement(ig,{className:t,ref:s},r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.type,onClick:function(){return function(e){var t={message_id:o.id,react_type:e};l(t,(function(e,t){console.log(t,"chat reaction response")}))}(e.type)}},r.a.createElement(mt.a,{emoji:e.type,size:16}),r.a.createElement("span",null,e.reactions.length),r.a.createElement(cg,{className:"chat-emoji-users-list",isAuthor:c,users:e.reactions.map((function(e){return{id:e.user_id,name:e.user_name,profile_image_link:e.profile_image_link,partial_name:null}}))}))}))))};function lg(){var e=Object(s.a)(["\n  position: absolute;\n  background: #dedede;\n  border-radius: 8px;\n  max-width: 100px;\n  min-width: 60px;\n  padding: 5px;\n  top: 100%;\n  right: ",";\n  left: ",";\n  margin-top: 5px;\n  //visibility: hidden;\n"]);return lg=function(){return e},e}function sg(){var e=Object(s.a)(["\n  background: #dedede;\n  padding: 2px 5px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  position: relative;\n  cursor: pointer;\n  // :hover {\n  //     .chat-reactions-list {\n  //         visibility: visible;\n  //     }\n  // }\n"]);return sg=function(){return e},e}function dg(){var e=Object(s.a)(["\n  // position: absolute;\n  //bottom: -20px;\n  margin-top: -8px;\n  display: inline-flex;\n  max-width: 90%;\n  z-index: 1;\n  flex-flow: ",";\n  align-self: ",";\n"]);return dg=function(){return e},e}var ug=m.a.div(dg(),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"flex-end":"flex-start"})),mg=m.a.div(sg()),pg=Object(m.a)(og)(lg(),(function(e){return e.isAuthor?"0":"unset"}),(function(e){return e.isAuthor?"unset":"0"})),fg=function(e){var t=e.reactions,a=e.isAuthor,i=e.chatReactionAction,c=e.reply,o=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(t.length),l=Object(n.useState)(!1),s=Object(p.a)(l,2),d=s[0],u=s[1],m=function(){return u(!d)},f=function(){return Object.entries(Ki(t,"react_type")).map((function(e){return{type:e[0],reactions:e[1]}}))},b=Object(n.useState)(f()),h=Object(p.a)(b,2),E=h[0],_=h[1];return Object(n.useEffect)((function(){_(f())}),[]),Object(n.useEffect)((function(){o!==t.length&&_(Object.entries(Ki(t,"react_type")).map((function(e){return{type:e[0],reactions:e[1]}})))}),[t,o]),r.a.createElement(ug,{isAuthor:a},E.slice(0,7).map((function(e){return r.a.createElement(ag,{userReacted:!1,key:e.type,type:e.type,count:e.reactions.length,reactions:e.reactions,isAuthor:a,chatReactionAction:i,reply:c})})),E.length>7&&r.a.createElement(mg,null,r.a.createElement("span",{onClick:m},"..."),d&&r.a.createElement(pg,{isAuthor:a,reactions:E.slice(7),className:"chat-reactions-list",handleShowMoreEmojis:m,chatReactionAction:i,reply:c})))};function bg(){var e=Object(s.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  z-index: 999;\n  ul {\n    max-height: 250px;\n\n    li {\n      display: flex;\n      text-align: left;\n\n      > span {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return bg=function(){return e},e}function hg(){var e=Object(s.a)(["\n    // position: absolute;\n    // right: ",";\n    // left: ",";\n    //top: 100%;\n    text-align: ",";\n    color: #a7abc3;\n    z-index: 2;\n    font-size: 11px;\n    position: absolute;\n    bottom: -18px;\n    white-space: nowrap;\n    ",";\n    span {\n        cursor: pointer;\n        &:hover {\n            color: #7A1B8B;\n            transition: color 0.3s;\n        }\n    }\n"]);return hg=function(){return e},e}var Eg=m.a.div(hg(),(function(e){return e.isAuthor?"0":"unset"}),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.isAuthor?"right: 0px":"left: 0px"})),_g=Object(m.a)(Ge)(bg(),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"5px":"unset"})),gg=function(e){var t=e.isPersonal,a=e.seenMembers,i=e.isAuthor,c=Object(n.useState)(!1),o=Object(p.a)(c,2),l=o[0],s=o[1],d=function(){return s(!l)};return r.a.createElement(Eg,e,t&&"seen",!t&&1===a.length&&"seen by ".concat(a.map((function(e){return e.first_name})).slice(0,1).toString()),!t&&a.length>1&&r.a.createElement(r.a.Fragment,null,"seen by"," ",a.map((function(e){return e.first_name})).slice(0,1).toString()," ","and",r.a.createElement("span",{onClick:d}," more")),!t&&a.length>1&&l&&r.a.createElement(_g,{className:"chat-seen-list",users:a,isAuthor:i,onShowList:d}))};function Og(){var e=Object(s.a)(["\n  color: #a7abc3;\n  font-style: italic;\n  font-size: 11px;\n  position: absolute;\n  top: 0;\n  left: calc(100% + 10px);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  white-space: nowrap;\n"]);return Og=function(){return e},e}function Ag(){var e=Object(s.a)(["\n  display: block;\n  max-width: ",";\n"]);return Ag=function(){return e},e}function vg(){var e=Object(s.a)(['\n  display: block;\n  \n  .push-link {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 25px;\n    margin-bottom: -25px;\n    \n    &:before {\n      position: absolute;\n      left: -14px;\n      top: -7px;\n      bottom: 0;\n      width: 6px;\n      height: calc(100% - 12px);\n      background: #ffa341;\n      content: "";\n      border-radius: 6px 0 0 6px;\n    }\n    \n    .card-body {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      padding: 1rem;\n    }\n    .open-post {\n      display: flex;\n      position: absolute;\n      right: 0;\n      bottom: -10px;\n      justify-content: center;\n      align-items: center;      \n      \n      svg {\n        margin-left: 0.5rem;\n        height: 16px;\n      }\n    }\n  }\n']);return vg=function(){return e},e}var Cg=m.a.span(vg()),jg=m.a.span(Ag(),(function(e){return e.isPostNotification?"400px":"100%"})),kg=m.a.div(Og()),yg=[.1,.2,.3,.4,.5,.6,.7,.8,.9],Tg=Object(n.forwardRef)((function(e,t){var a=e.reply,i=e.selectedChannel,c=e.chatName,o=e.isLastChat,l=e.chatMessageActions,s=e.recipients,u=e.user,m=e.timeFormat,f=e.isLastChatVisible,b=e.dictionary,h=Object(d.i)(),E=Object(d.g)(),_=Object(n.useState)(a.body),g=Object(p.a)(_,2),O=g[0],A=g[1],v=Object(vE.b)({threshold:yg,skip:!o}),C=Object(p.a)(v,3),j=C[0],k=(C[1],C[2]);Object(n.useEffect)((function(){o&&k&&(k.boundingClientRect.height-k.intersectionRect.height>=16?f&&l.setLastMessageVisiblility({status:!1}):f||l.setLastMessageVisiblility({status:!0}))}),[o,k,f]),Object(n.useEffect)((function(){if(a.body.includes("JOIN_CHANNEL")){var e=a.body.match(/\d+/g),t=s.filter((function(t){var a=!1;return e.forEach((function(e){parseInt(e)===t.type_id&&(a=!0)})),a})).map((function(e){return e.name}));"DIRECT"===i.type?A("<p><span class='channel-new-members'>".concat(t.join(", "),"</span><br> ").concat(b.joined," <span class='channel-title'>#").concat(c,"</span></p>")):A("<p><span class='channel-new-members'>".concat(t.join(", "),"</span><br> ").concat(b.joined," <span class='channel-title'>#").concat(i.title,"</span></p>"))}else if(a.body.includes("MEMBER_REMOVE_CHANNEL"))"DIRECT"===i.type?A("<p><span class='channel-new-members'>".concat(a.body.substr(a.body.indexOf(" ")),"</span><br> ").concat(b.left," <span class='channel-title'>#").concat(c,"</span></p>")):A("<p><span class='channel-new-members'>".concat(a.body.substr(a.body.indexOf(" ")),"</span><br> ").concat(b.left," <span class='channel-title'>#").concat(i.title,"</span></p>"));else if(a.body.includes("ACCOUNT_DEACTIVATED")){var n=a.body.replace("ACCOUNT_DEACTIVATED ","");"s"===n[n.length-1]?A("".concat(b.update,": ").concat(n,"' ").concat(b.accountDeactivated,".")):A("".concat(b.update,": ").concat(n,"'s ").concat(b.accountDeactivated,"."))}else if(a.body.includes("NEW_ACCOUNT_ACTIVATED")){var o=a.body.replace("NEW_ACCOUNT_ACTIVATED ","");"s"===o[o.length-1]?A("".concat(b.update,": ").concat(o,"' ").concat(b.accountActivated,".")):A("".concat(b.update,": ").concat(o,"'s ").concat(b.accountActivated,"."))}else if(a.body.includes("CHANNEL_UPDATE::")){var l=JSON.parse(a.body.replace("CHANNEL_UPDATE::","")),d=s.find((function(e){return l.author&&e.type_id===l.author.id}));d?l.author&&l.author.id===u.id&&(d.name=b.you):d={name:b.someone};var m="";if(""!==l.title&&(m=r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{width:16,icon:"edit-3"})," ",d.name," ","TOPIC"===i.type?b.renameThisWorkspace:b.renameThisChat," ",r.a.createElement("b",null,"#",l.title),r.a.createElement("br",null))),l.added_members.includes(u.id)&&l.added_members.length>=1){var p=s.filter((function(e){return l.added_members.includes(e.type_id)&&e.type_id!==u.id})).map((function(e){return e.name}));l.author&&l.author.id===u.id?(m=""===m?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,d.name)," ",b.joined," "):r.a.createElement(r.a.Fragment,null,m," ",b.andJoined),0!==p.length&&(m=r.a.createElement(r.a.Fragment,null,m," ",b.andAdded," ",r.a.createElement("b",null,p.join(", ")),r.a.createElement("br",null)))):(m=""===m?r.a.createElement(r.a.Fragment,null,d.name," ",b.added," "):r.a.createElement(r.a.Fragment,null,m," ",b.andAdded),l.added_members.includes(u.id)&&(m=0!==p.length?r.a.createElement(r.a.Fragment,null,m," ",r.a.createElement("b",null,b.youAnd," ")):r.a.createElement(r.a.Fragment,null,m," ",r.a.createElement("b",null,b.you))),0!==p.length&&(m=r.a.createElement(r.a.Fragment,null,m," ",r.a.createElement("b",null,p.join(", ")),r.a.createElement("br",null))))}if(l.removed_members.length>=1){var f=s.filter((function(e){return l.removed_members.includes(e.type_id)&&e.type_id!==u.id})).map((function(e){return e.name}));l.removed_members.includes(u.id)&&l.author&&l.author.id===u.id?(m=""===m?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,d.name)," ",b.left," "):r.a.createElement(r.a.Fragment,null,m," ",b.andLeft),0!==f.length&&(m=r.a.createElement(r.a.Fragment,null,m," ",b.andRemoved," ",r.a.createElement("b",null,f.join(", ")),r.a.createElement("br",null)))):(m=""===m?r.a.createElement(r.a.Fragment,null,d.name," ",b.removed," "):r.a.createElement(r.a.Fragment,null,m," ",b.andRemoved),l.removed_members.includes(u.id)&&(m=0!==f.length?r.a.createElement(r.a.Fragment,null,m," ",r.a.createElement("b",null,b.youAnd," ")):r.a.createElement(r.a.Fragment,null,m," ",r.a.createElement("b",null,b.you))),0!==f.length&&(m=r.a.createElement(r.a.Fragment,null,m," ",r.a.createElement("b",null,f.join(", ")),r.a.createElement("br",null))))}A(Object(Ee.renderToString)(m))}}),[]);var y=function(e){if(e.preventDefault(),"1"===e.currentTarget.dataset.ctrl){e.currentTarget.dataset.ctrl="0";var t=document.createElement("a");t.href=e.currentTarget.dataset.href,t.target="_blank",t.click()}else E.push(e.currentTarget.dataset.href)},T=function(e){17===e.which&&(e.currentTarget.dataset.ctrl="1")},w=function(e){e.currentTarget.dataset.ctrl="0"};return Object(n.useEffect)((function(){if(a.body.includes("POST_CREATE::")){var e=JSON.parse(a.body.replace("POST_CREATE::","")),t="";t=h&&h.workspaceId?h.folderId?"/workspace/posts/".concat(h.folderId,"/").concat(h.folderName,"/").concat(h.workspaceId,"/").concat(h.workspaceName,"/post/").concat(e.post.id,"/").concat(e.post.title):"/workspace/posts/".concat(h.workspaceId,"/").concat(h.workspaceName,"/post/").concat(e.post.id,"/").concat(e.post.title):"/posts/".concat(e.post.id,"/").concat(e.post.title);var n=Oc.parseToText(e.post.description);A(Object(Ee.renderToString)(r.a.createElement("a",{href:t,className:"push-link","data-href":t,"data-has-link":"0","data-ctrl":"0"},r.a.createElement("b",null,e.author.first_name)," ",b.createdThePost," ",r.a.createElement("b",null,'"',e.post.title,'"'),""!==n.trim()&&r.a.createElement("span",{className:"card card-body",dangerouslySetInnerHTML:{__html:n}}),r.a.createElement("span",{className:"open-post"},b.openPost," ",r.a.createElement(Se,{icon:"arrow-right"})))))}else if(a.body.includes("JOIN_CHANNEL")){var o=a.body.match(/\d+/g),l=s.filter((function(e){var t=!1;return o.forEach((function(a){parseInt(a)===e.type_id&&(t=!0)})),t})).map((function(e){return e.name}));"DIRECT"===i.type?A("<p><span class='channel-new-members'>".concat(l.join(", "),"</span><br> ").concat(b.joined," <span class='channel-title'>#").concat(c,"</span></p>")):A("<p><span class='channel-new-members'>".concat(l.join(", "),"</span><br> ").concat(b.joined," <span class='channel-title'>#").concat(i.title,"</span></p>"))}else if(a.body.includes("MEMBER_REMOVE_CHANNEL"))"DIRECT"===i.type?A("<p><span class='channel-new-members'>".concat(a.body.substr(a.body.indexOf(" ")),"</span><br> ").concat(b.left," <span class='channel-title'>#").concat(c,"</span></p>")):A("<p><span class='channel-new-members'>".concat(a.body.substr(a.body.indexOf(" ")),"</span><br> ").concat(b.left," <span class='channel-title'>#").concat(i.title,"</span></p>"));else if(a.body.includes("ACCOUNT_DEACTIVATED")){var d=a.body.replace("ACCOUNT_DEACTIVATED ","");"s"===d[d.length-1]?A("".concat(b.update,": ").concat(d,"' ").concat(b.accountDeactivated,".")):A("".concat(b.update,": ").concat(d,"'s ").concat(b.accountDeactivated,"."))}else if(a.body.includes("NEW_ACCOUNT_ACTIVATED")){var m=a.body.replace("NEW_ACCOUNT_ACTIVATED ","");"s"===m[m.length-1]?A("".concat(b.update,": ").concat(m,"' ").concat(b.accountActivated,".")):A("".concat(b.update,": ").concat(m,"'s ").concat(b.accountActivated,"."))}else if(a.body.includes("CHANNEL_UPDATE::")){var p=JSON.parse(a.body.replace("CHANNEL_UPDATE::","")),f=s.find((function(e){return p.author&&e.type_id===p.author.id}));f?p.author.id===u.id&&(f.name=b.you):f={name:b.someone};var E="";if(""!==p.title&&(E=r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{width:16,icon:"edit-3"})," ",f.name," ","TOPIC"===i.type?b.renameThisWorkspace:b.renameThisChat," ",r.a.createElement("b",null,"#",p.title),r.a.createElement("br",null))),p.added_members.length>=1){var _=s.filter((function(e){return p.added_members.includes(e.type_id)&&e.type_id!==u.id})).map((function(e){return e.name}));p.added_members.includes(u.id)&&p.author&&p.author.id===u.id?(E=""===E?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,f.name)," ",b.joined," "):r.a.createElement(r.a.Fragment,null,E," ",b.andJoined),0!==_.length&&(E=r.a.createElement(r.a.Fragment,null,E," ",b.andAdded," ",r.a.createElement("b",null,_.join(", ")),r.a.createElement("br",null)))):(E=""===E?r.a.createElement(r.a.Fragment,null,f.name," ",b.added," "):r.a.createElement(r.a.Fragment,null,E," ",b.andAdded),p.added_members.includes(u.id)&&(E=0!==_.length?r.a.createElement(r.a.Fragment,null,E," ",r.a.createElement("b",null,b.youAnd," ")):r.a.createElement(r.a.Fragment,null,E," ",r.a.createElement("b",null,b.you))),0!==_.length&&(E=r.a.createElement(r.a.Fragment,null,E," ",r.a.createElement("b",null,_.join(", ")),r.a.createElement("br",null))))}if(p.removed_members.length>=1){var g=s.filter((function(e){return p.removed_members.includes(e.type_id)&&e.type_id!==u.id})).map((function(e){return e.name}));p.removed_members.includes(u.id)&&p.author&&p.author.id===u.id?(E=""===E?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,f.name)," ",b.left," "):r.a.createElement(r.a.Fragment,null,E," ",b.andLeft),0!==g.length&&(E=r.a.createElement(r.a.Fragment,null,E," ",b.andRemoved," ",r.a.createElement("b",null,g.join(", ")),r.a.createElement("br",null)))):(E=""===E?r.a.createElement(r.a.Fragment,null,f.name," ",b.removed," "):r.a.createElement(r.a.Fragment,null,E," ",b.andRemoved),p.removed_members.includes(u.id)&&(E=0!==g.length?r.a.createElement(r.a.Fragment,null,E," ",r.a.createElement("b",null,b.youAnd," ")):r.a.createElement(r.a.Fragment,null,E," ",r.a.createElement("b",null,b.you))),0!==g.length&&(E=r.a.createElement(r.a.Fragment,null,E," ",r.a.createElement("b",null,g.join(", ")),r.a.createElement("br",null))))}A(Object(Ee.renderToString)(E))}}),[s,s.length,c,a.body,i.title,i.type]),Object(n.useEffect)((function(){O&&document.querySelectorAll('.push-link[data-has-link="0"]').forEach((function(e){e.addEventListener("click",y),e.dataset.hasLink="1",e.addEventListener("keydown",T),e.addEventListener("keyup",w)}))}),[O]),r.a.createElement(Cg,{ref:o?j:null},r.a.createElement(jg,{ref:t,id:"bot-".concat(a.id),dangerouslySetInnerHTML:{__html:O},isPostNotification:a.body.includes("POST_CREATE::")}),r.a.createElement(kg,{className:"chat-timestamp",isAuthor:!1},r.a.createElement("span",{className:"reply-date created"},m.localizeTime(a.created_at.timestamp))))})),wg=r.a.memo(Tg);function Ng(){var e=Object(s.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  svg {\n    max-width: 100%;\n    width: 100%;\n    max-height: 40%;\n    margin: auto;\n  }\n"]);return Ng=function(){return e},e}function Sg(){var e=Object(s.a)(["\n  align-self: flex-start;\n  width: 21px !important;\n  height: 21px !important;\n  margin-top: ",";\n\n  img {\n    width: 21px !important;\n    height: 21px !important;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n  .pixel-avatar {\n    padding-top: 2px !important;\n  }\n"]);return Sg=function(){return e},e}function xg(){var e=Object(s.a)(["\n  width: 100%;\n  ul {\n    margin: 0;\n  }\n"]);return xg=function(){return e},e}function Ig(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  &.initial-load {\n    position: absolute;\n    top: 45%;\n    left: 45%;\n    transform: translate(-45%, -45%);\n  }\n"]);return Ig=function(){return e},e}function Rg(){var e=Object(s.a)(["\n  color: red;\n  margin: 0 10px;\n"]);return Rg=function(){return e},e}function Pg(){var e=Object(s.a)(["\n  position: relative;\n  display: inline-flex;\n  border-radius: 8px;\n  background: #f4f4f4f4;\n  text-align: left;\n  min-width: 100px;\n  max-width: 100%;\n  padding: 7px 15px;\n  line-height: 1.5rem;\n  float: left;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: ",";\n  .chat-options {\n    visibility: hidden;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n"]);return Pg=function(){return e},e}function Dg(){var e=Object(s.a)(["\n  //width: 100%;\n  //overflow: hidden;\n  max-width: 75%;\n  position: relative;\n  flex-flow: column;\n  display: inherit;\n  ",";\n  > img {\n    // max-height: ",";\n    max-height: 300px;\n    max-width: 100%;\n    width: auto;\n    object-fit: cover;\n  }\n  .edited-message {\n    color: #aab0c8;\n    font-style: italic;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    margin: 0 10px;\n    height: 25px;\n    white-space: nowrap;\n    ",";\n  }\n  .chat-options {\n    visibility: hidden;\n  }\n  .chat-options.active {\n    visibility: visible;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 768px) {\n    max-width: calc(100% - 110px);\n  }\n\n  @media (max-width: 620px) {\n    ",";\n    ",";\n  }\n"]);return Dg=function(){return e},e}function Lg(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n  margin: 5px;\n  max-width: 25px;\n\n  .more-options-tooltip {\n    &.orientation-bottom {\n      top: calc(100% - 35px);\n    }\n\n    &.orientation-top {\n    }\n\n    &.orientation-right {\n      left: calc(100% + 10px);\n    }\n    &.orientation-left {\n    }\n  }\n  @media (max-width: 620px) {\n    margin-right: 0;\n  }\n"]);return Lg=function(){return e},e}function Fg(){var e=Object(s.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n  button {\n    margin: 5px;\n  }\n"]);return Fg=function(){return e},e}function Mg(){var e=Object(s.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n"]);return Mg=function(){return e},e}function Ug(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  //align-items: ",";\n  justify-content: flex-end;\n  flex-flow: column;\n  flex-flow: ",";\n  margin-left: ",";\n  ",";\n  margin-top: ",";\n  margin-top: ",";\n  @media (max-width: 620px) {\n    margin-top: ",";\n    margin-top: ",";\n    ",";\n    ",";\n    ",";\n  }\n  ","\n"]);return Ug=function(){return e},e}function Gg(){var e=Object(s.a)(["\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #a7abc3;\n  padding: 26px 0 14px 0;\n  position: sticky;\n  top: 0;\n  span {\n    padding: 4px 8px;\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 6px;\n    margin: 0 4px;\n    background: #f0f0f0;\n  }\n  &[stuck] {\n    &:before,\n    &:after {\n      display: none;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 14px 0 10px 0;\n  }\n"]);return Gg=function(){return e},e}function Bg(){var e=Object(s.a)(["\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: 5px;\n  text-align: center;\n  .chat-actions-container {\n    opacity: 0;\n  }\n  &:hover {\n    .chat-actions-container {\n      opacity: 1;\n    }\n  }\n"]);return Bg=function(){return e},e}function Hg(){var e=Object(s.a)(["\n  background: transparent;\n  background-repeat: repeat;\n  height: calc(100% - 181px);\n  overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  z-index: 1;\n  > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .chat-message-options svg {\n    fill: currentColor;\n  }\n  &.is-processed {\n    opacity: 0;\n  }\n  .mention {\n    background: transparent;\n    display: inline-block;\n    width: auto;\n    height: auto;\n    padding: 0;\n  }\n  .mention.is-author {\n    background: transparent;\n    padding: 0;\n  }\n"]);return Hg=function(){return e},e}var Wg=m.a.div(Hg()),Qg=m.a.li(Bg()),Yg=m.a.div(Gg()),zg=m.a.div(Ug(),(function(e){return e.isAuthor?"flex-end":"flex-start"}),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor||e.showAvatar?"0":"22px"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 15px;"}),(function(e){return e.showAvatar&&"36px"}),(function(e){return e.showAvatar&&e.isAuthor&&"20px"}),(function(e){return e.showAvatar&&"12px"}),(function(e){return e.showAvatar&&e.isAuthor&&"8px"}),(function(e){return!e.showAvatar&&!e.isAuthor&&!e.isBot&&"margin-left: 0"}),(function(e){return!0===e.isAuthor&&!e.showAvatar&&"position: relative; right: 0px;"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 0px;"}),(function(e){return!e.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(e){return e.showAvatar&&"content: '';"}),";\n        border: 10px solid transparent;\n        border-right-color: transparent;\n        border-right-color: #f0f0f0;\n        position: absolute;\n        top: ").concat((function(e){return e.showAvatar&&!e.isAuthor?"42px":"8px"}),";;\n        left: 20px;\n        z-index: 1;\n        ").concat((function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -20px;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n    }")})),Vg=m.a.div(Mg(),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),Kg=m.a.div(Fg(),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),qg=Object(m.a)(L_)(Lg()),Jg=m.a.div(Dg(),(function(e){return!0===!e.isAuthor&&"margin-left: 18px"}),(function(e){return e.maxImgHeight>300?"".concat(e.maxImgHeight,"px;"):"300px"}),(function(e){return e.isAuthor?"right: 100%;":"left: 100%"}),(function(e){return!e.showAvatar&&!e.isAuthor&&"margin-left: 0"}),(function(e){return!0===!e.isAuthor&&"margin-left: 0"})),Zg=m.a.div(Pg(),(function(e){return e.isAuthor?"row":"row-reverse"})),Xg=m.a.span(Rg()),$g=m.a.div(Ig()),eO=m.a.div(xg()),tO=Object(m.a)(Fe)(Sg(),(function(e){return!0===e.isForwardedMessage?"25px":"4px"})),aO=m.a.div(Ng()),nO=function(e){Object(Gu.a)(a,e);var t=Object(Bu.a)(a);function a(e){var n;return Object(ge.a)(this,a),(n=t.call(this,e)).attachedImgEventListener=function(){document.querySelectorAll(".anchor-blot").forEach((function(e){e.getAttribute("src")&&(e.addEventListener("mousedown",(function(t){window.open(e.getAttribute("src"),"_blank")})),e.classList.remove("anchor-blot"))}))},n.attachedClickListenerToChatUrl=function(){document.querySelectorAll(".chat-url").forEach((function(e){var t=e.dataset.cid,a=e.dataset.mid;t&&(e.addEventListener("mousedown",(function(e){if(a){n.props.history.push("/chat/".concat(t,"/").concat(a));var r=document.querySelector(".code-".concat(a));r&&setTimeout((function(){r.scrollIntoView(!1),r.focus(),r.classList.add("bounceIn"),setTimeout((function(){r.classList.remove("bounceIn")}),200)}),200)}else n.props.history.push("/chat/".concat(t))})),e.classList.remove("chat-url"))}))},n.loadReplies=function(){console.log("load more");var e=n.props,t=e.selectedChannel,a=e.chatMessageActions,r=n.scrollComponent.current;if(!t.isFetching&&t.hasMore){console.log("load more trigger"),a.channelActions.fetchingMessages(t,!0);var i={skip:0,limit:20};"undefined"!==typeof t.replies&&(i={skip:0===t.skip&&t.replies.length?t.replies.length:t.skip,limit:20}),0===t.skip&&(r.scrollTop=r.scrollHeight),a.fetch(t,i,(function(e,i){if(e)a.channelActions.fetchingMessages(t,!1);else{if(0===t.replies.length||0===t.skip){r.scrollTop=r.scrollHeight;var c=r.scrollHeight;console.log("initial load",r.scrollHeight),setTimeout((function(){c<r.scrollHeight&&(r.scrollTop=r.scrollHeight)}),1e3)}!0===n.state.initializing&&n.setState({initializing:!1})}}))}},n.handleReadChannel=function(){if(n.props.unreadCount>0||n.props.selectedChannel.total_unread>0){var e=n.props,t=e.selectedChannel;e.chatMessageActions.channelActions.markAsRead(t)}},n.handleResendMessage=function(e){n.props.createChatMessageV2Action(e,(function(t,a){t&&n.props.onFailedMessageSend(e)}))},n.handleRemoveReply=function(e){n.props.cbOnRemoveReply(e)},n.handleEditReply=function(e){n.props.onEditReply(e)},n.handleQuoteReply=function(e){n.props.onSelectQuote(e)},n.handleLoadMoreRefChange=function(e,t){n.setState({loadMoreInView:e})},n.handleMessageRefChange=function(e,t,a){var r=n.scrollComponent.current;e&&r&&r.scrollTop<.5*r.scrollHeight&&n.loadReplies()},n.handleShowSeenUsers=function(){return n.setState({showSeenUsers:!n.state.showSeenUsers})},n.filterSeenMembers=function(){return n.props.selectedChannel.members.filter((function(e){return 2===n.props.selectedChannel.members.length?!(!n.props.selectedChannel.last_reply||!n.props.selectedChannel.last_reply.user)&&(n.props.selectedChannel.last_reply.user.id===n.props.user.id?!(n.props.user.id===e.id):!(n.props.selectedChannel.last_reply.user.id===e.id)):(!n.props.selectedChannel.last_reply||!n.props.selectedChannel.last_reply.user||n.props.selectedChannel.last_reply.user.id!==e.id)&&n.props.user.id!==e.id})).filter((function(e){return!!e.last_visited_at&&e.last_visited_at.timestamp>=n.props.selectedChannel.last_reply.created_at.timestamp}))},n.getLoadRef=function(e){var t=n.props.selectedChannel,a=!1;if(t.replies.length&&!t.isFetching){var r=Object($.a)(t.replies.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))),i=r.findIndex((function(t){return t.id===e}));i<Math.round(r.length/2)&&i%2===0&&(a=!0)}return a},n.state={hasArrowUpListener:!1,initializing:!1,loadMoreInView:!1,fetchingReplies:!1},n.scrollComponent=r.a.createRef(),n.infiniteScroll=r.a.createRef(),n}return Object(Oe.a)(a,[{key:"componentWillUnmount",value:function(){var e=this.scrollComponent.current;console.log("save historical position"),this.props.chatMessageActions.channelActions.saveHistoricalPosition(this.props.selectedChannel.id,e),document.removeEventListener("keydown",this.handleEditOnArrowUp,!1)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedChannel,a=e.historicalPositions,n=this.scrollComponent.current;a.length&&a.forEach((function(e){e.channel_id===t.id&&n&&(n.scrollTop=n.scrollHeight-e.scrollPosition)})),t.hasMore&&this.loadReplies(),t.is_read&&this.handleReadChannel()}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var a=this.props.selectedChannel,n=this.scrollComponent.current;return e.selectedChannel&&n&&a.replies.length>20&e.selectedChannel.replies.length<a.replies.length&&a.replies.length-e.selectedChannel.replies.length>=2?n.scrollHeight-n.scrollTop:null}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.selectedChannel,i=n.historicalPositions,c=n.user,o=document.querySelectorAll('.mention[data-id="'.concat(c.id,'"]'));o.length&&o.forEach((function(e){e.classList.add("is-author")}));var l=this.scrollComponent.current;this.props.selectedChannel&&e.selectedChannel.id!==r.id&&(r.hasMore&&0===r.skip&&this.loadReplies(),this.handleReadChannel(),i.length&&i.forEach((function(e){e.channel_id===r.id&&l&&(console.log("scroll to this",l.scrollHeight-e.scrollPosition,e.scrollPosition),l.scrollTop=l.scrollHeight-e.scrollPosition)}))),r&&e.selectedChannel.id===this.props.selectedChannel.id&&(null!==a&&r.replies.length!==e.selectedChannel.replies.length&&(r.replies.length-e.selectedChannel.replies.length===1?r.last_reply&&r.last_reply.user&&r.last_reply.user.id!==this.props.user.id&&(this.props.isLastChatVisible||(l.scrollTop=l.scrollHeight-a)):l.scrollTop=l.scrollHeight-a),r.replies.length&&r.replies.length-e.selectedChannel.replies.length===1&&(r.last_reply&&r.last_reply.user&&r.last_reply.user.id===this.props.user.id?l&&(l.scrollTop=l.scrollHeight):this.props.isLastChatVisible&&this.props.isBrowserActive&&(1===r.is_read&&this.handleReadChannel(),l&&(l.scrollTop=l.scrollHeight)))),this.props.unreadCount>0&&this.props.isLastChatVisible&&this.handleReadChannel()}},{key:"render",value:function(){var e=this,t=this.props.selectedChannel,a=0,n=[];return t.replies&&t.replies.length&&(n=Object.entries(Object(fe.groupBy)(t.replies.map((function(t){return t.hasOwnProperty("g_date")?t:Object(I.a)(Object(I.a)({},t),{},{g_date:e.props.timeFormat.localizeDate(t.created_at.timestamp,"YYYY-MM-DD")})})),"g_date")).map((function(e){return{key:e[0],replies:e[1]}})).sort((function(e,t){return e.key.localeCompare(t.key)}))),r.a.createElement(Wg,{ref:this.scrollComponent,id:"component-chat-thread",className:"component-chat-thread messages ".concat(this.props.className),tabIndex:"2","data-init":1,"data-channel-id":t.id},t.isFetching&&t.hasMore&&0===t.replies.length&&0===t.skip&&r.a.createElement($g,{className:"initial-load"},r.a.createElement(dt,null)),r.a.createElement(eO,{ref:this.infiniteScroll,className:"infinite-scroll",id:"infinite-scroll-chat-replies"},t.replies&&t.replies.length>=20&&r.a.createElement(vE.a,{as:"div",onChange:function(t,a){return e.handleLoadMoreRefChange(t,a)}},r.a.createElement("span",{className:"intersection-load-more-ref"})),r.a.createElement("ul",null,t.isFetching&&!(t.hasMore&&0===t.replies.length)&&r.a.createElement($g,null,r.a.createElement(dt,null)),t.replies&&t.replies.length?n.map((function(n,i){return r.a.createElement("div",{key:n.key},r.a.createElement(Yg,{className:"timestamp-container"},r.a.createElement("span",null,e.props.timeFormat.localizeChatDate(n.replies[0].created_at.timestamp,"ddd, MMM DD, YYYY"))),n.replies.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})).map((function(i,c,o){var l=!!i.user&&(t.is_shared&&e.props.sharedSlugs.length?e.props.sharedSlugs.filter((function(e){return e.slug_name===t.slug_owner}))[0].external_id===i.user.id:i.user.id===e.props.user.id),s=!1,d=!1,u=!1,m=!1,p=!1;if(i.user){i.created_at.timestamp&&(0===c&&(d=!0,s=!0),0!==c&&e.props.timeFormat.localizeDate(o[c-1].created_at.timestamp,"D")!==e.props.timeFormat.localizeDate(i.created_at.timestamp,"D")&&(d=!0,s=!0),0!==c&&i.created_at.timestamp-o[c-1].created_at.timestamp>600&&(s=!0)),0!==c&&!0===o[c-1].is_read&&!1===i.is_read&&(p=!0),0!==c&&null===o[c-1].user&&(s=!0),a!==i.user.id&&(s=!0,a=i.user.id),"undefined"!==typeof i.body&&null!==i.body&&null!==i.body.match(/\.(gif)/g)&&(u=!0);m=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot"].includes(i.user.code)}else if(0!==c){var f=n.replies[c-1];if(f.body===i.body&&Math.abs(i.created_at.timestamp-f.created_at.timestamp)<=10)return r.a.createElement(r.a.Fragment,null)}return r.a.createElement(Qg,{key:i.id,"data-message-id":i.id,"data-code":i.code,"data-timestamp":i.created_at.timestamp,className:"chat-list chat-list-item-".concat(i.id," code-").concat(i.code),showTimestamp:d},i.user&&p&&e.props.unreadCount>0&&r.a.createElement(B_,null),i.user&&r.a.createElement(zg,{isAuthor:l,className:"chat-reply-list-item chat-reply-list-item-".concat(i.id," ").concat(l?"chat-right":"chat-left"),"data-message-id":i.id,showAvatar:s,isBot:m},i.message_failed?r.a.createElement(Xg,null,r.a.createElement("i",{className:"fas fa-times-circle",onClick:function(t){return e.handleResendMessage(i.payload)}})):null,r.a.createElement(Jg,{isAuthor:l,showAvatar:s,className:"chat-bubble-quote-div"},r.a.createElement(D_,{chatMessageActions:e.props.chatMessageActions,timeFormat:e.props.timeFormat,recipients:e.props.recipients,user:e.props.user,reply:i,showAvatar:s,selectedChannel:e.props.selectedChannel,showGifPlayer:u,isAuthor:l,addMessageRef:e.getLoadRef(i.id),isLastChat:Object($.a)(t.replies.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})))[t.replies.length-1].id===i.id,loadReplies:e.loadReplies,isBot:m,chatSettings:e.props.settings,isLastChatVisible:e.props.isLastChatVisible,dictionary:e.props.dictionary},r.a.createElement(Vg,{isAuthor:l,className:"chat-actions-container"},r.a.createElement(K_,{isAuthor:l,scrollRef:e.infiniteScroll.current,reply:i}),!isNaN(i.id)&&!i.is_deleted&&r.a.createElement(qg,{dictionary:e.props.dictionary,className:"chat-message-options",selectedChannel:e.props.selectedChannel,isAuthor:l,replyData:i}))),i.reactions.length>0&&r.a.createElement(fg,{reactions:i.reactions,isAuthor:l,reply:i,loggedUser:e.props.user,chatReactionAction:e.props.chatReactionV2Action}),t.last_reply&&t.last_reply.id===i.id&&e.filterSeenMembers().length>0&&r.a.createElement(gg,{isAuthor:l,onClick:e.handleShowSeenUsers,seenMembers:e.filterSeenMembers(),isPersonal:2===e.props.selectedChannel.members.length})),!l&&s&&r.a.createElement(tO,{isForwardedMessage:i.is_transferred,id:i.user.id,imageLink:i.user.profile_image_link,name:i.user.name,isBot:m})),null===i.user&&r.a.createElement(zg,{className:"chat-reply-list-item system-reply-list-item chat-reply-list-item-".concat(i.id),"data-message-id":i.id,isAuthor:!1},r.a.createElement(Jg,{isAuthor:l,showAvatar:s,className:"chat-bubble-quote-div"},r.a.createElement(Zg,{className:"system-message",isAuthor:!1},r.a.createElement(wg,{recipients:e.props.recipients,user:e.props.user,chatMessageActions:e.props.chatMessageActions,timeFormat:e.props.timeFormat,selectedChannel:e.props.selectedChannel,reply:i,chatName:e.props.chatName,addMessageRef:e.getLoadRef(i.id),isLastChat:Object($.a)(t.replies.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})))[t.replies.length-1].id===i.id,isLastChatVisible:e.props.isLastChatVisible,dictionary:e.props.dictionary}),i.unfurls.length?r.a.createElement(Z_,{unfurlData:i.unfurls,isAuthor:!1,deleteChatUnfurlAction:e.props.deleteChatUnfurlAction,removeChatUnfurlAction:e.props.removeChatUnfurlAction,channelId:e.props.selectedChannel.id,replyId:i.id}):null,r.a.createElement(Kg,{isAuthor:l,className:"chat-actions-container"},r.a.createElement(K_,{isAuthor:l,scrollRef:e.infiniteScroll.current,reply:i}),!isNaN(i.id)&&!i.is_deleted&&r.a.createElement(qg,{dictionary:e.props.dictionary,scrollRef:e.scrollComponent,replyData:i,className:"chat-message-options",selectedChannel:e.props.selectedChannel,isAuthor:l}))),i.reactions.length>0&&r.a.createElement(fg,{reactions:i.reactions,reply:i,isAuthor:!1,loggedUser:e.props.user,chatReactionAction:e.props.chatReactionV2Action}))))})))})):null,!this.state.initializing&&!t.isFetching&&t.replies&&t.replies.length<1&&r.a.createElement(aO,{className:"no-reply-container"},r.a.createElement(Ie,{icon:3})))))}}]),a}(r.a.PureComponent);var rO=Object(d.k)(Object(o.connect)((function(e){var t=e.global,a=t.isBrowserActive,n=t.recipients,r=t.slugs,i=e.session.user,c=e.users.onlineUsers,o=e.chat,l=o.historicalPositions,s=o.isLastChatVisible;return{user:i,settings:e.settings.user.CHAT_SETTINGS,sharedSlugs:r,onlineUsers:c,isBrowserActive:a,historicalPositions:l,recipients:n,isLastChatVisible:s}}),null)(nO));function iO(){var e=Object(s.a)(["\n  cursor: pointer;\n  outline: none;\n  padding: 10px;\n  transition: all 0.3s ease;\n  flex: ",";\n  order: ",";\n  text-align: center;\n  :hover {\n    background-color: #7a1b8b;\n  }\n"]);return iO=function(){return e},e}var cO=m.a.div(iO(),E.isMobile?"1 1 50%":null,E.isMobile?"3":null),oO=function(e){return r.a.createElement(cO,{className:"jump-to",onClick:function(){var e=document.querySelector(".intersection-bottom-ref");e&&e.scrollIntoView(!1)}},"Jump")};function lO(){var e=Object(s.a)(["\n  cursor: pointer;\n  outline: none;\n  padding: 10px;\n  transition: all 0.3s ease;\n  order: ",";\n  flex: ",";\n  border-right: ",";\n  text-align: center;\n  :hover {\n    background-color: #7a1b8b;\n  }\n  > svg {\n    width: 1rem;\n  }\n"]);return lO=function(){return e},e}var sO=m.a.div(lO(),E.isMobile?"2":null,E.isMobile?"1 1 50%":null,E.isMobile?"1px solid #7a1b8b":null),dO=r.a.memo((function(e){var t=e.channel,a=Object(o.useDispatch)();return r.a.createElement(sO,{className:"mark-read",onClick:function(e){a(Ic({channel_id:t.id},(function(e,n){e||"TOPIC"===t.type&&a(ho({id:t.entity_id,count:t.replies.filter((function(e){return!e.is_read})).length}))}))),a(Uc({channel_id:t.id}))}},"Mark as read")}));function uO(){var e=Object(s.a)(["\n  padding: 10px 20px;\n  order: ",";\n  flex: 1;\n  border-bottom: ",";\n  text-align: center;\n"]);return uO=function(){return e},e}var mO=m.a.div(uO(),E.isMobile?"1":null,E.isMobile?"1px solid #017180":null),pO=r.a.memo((function(e){var t=Co();return r.a.createElement(mO,{className:"unread-counter-message"},"You have ",t," new message/s")}));function fO(){var e=Object(s.a)(["\n  font-weight: 600;\n  font-size: 0.75em;\n  position: absolute;\n  top: 11%;\n  left: 0;\n  right: 0;\n  z-index: 9999;\n  width: 80%;\n  max-width: 100%;\n  margin: 0 auto;\n  background-color: rgb(122, 27, 139, 0.8);\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  color: #fff;\n  overflow: hidden;\n  margin: 0 auto;\n  > div {\n    min-width: 130px;\n  }\n"]);return fO=function(){return e},e}var bO=m.a.div(fO()),hO=function(e){var t=e.channel;return Object(o.useSelector)((function(e){return e.chat.isLastChatVisible})).isLastChatVisible?null:r.a.createElement(bO,{className:"chat-unread-floatbar"},r.a.createElement(oO,null),r.a.createElement(pO,null),r.a.createElement(dO,{channel:t}))};function EO(){var e=Object(s.a)(["\n  flex: 1;\n"]);return EO=function(){return e},e}function _O(){var e=Object(s.a)(["\n  width: 100%;\n"]);return _O=function(){return e},e}var gO=m.a.div(_O()),OO=m.a.div(EO()),AO=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,c=e.selectedChannel,l=e.isWorkspace,s=void 0!==l&&l,d=Object(o.useDispatch)(),u=AE(),m=sd(),f=Object(n.useState)(!1),b=Object(p.a)(f,2),h=b[0],E=b[1],_=Co(),g={dropZoneRef:Object(n.useRef)()},O=function(){E(!1)},A=function(e){var t=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var r=a(37).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push(Object(I.a)(Object(I.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):"video/mp4"===e.type?t.push(Object(I.a)(Object(I.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):t.push(Object(I.a)(Object(I.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:n,name:e.name?e.name:e.path}))})),O();var n={type:"file_upload",droppedFiles:t,mode:"chat",members:c?c.members:[]};d(Br(n))},v=fl()._t,C={remindMeAboutThis:v("TODO.REMIND_ME_ABOUT_THIS","Remind me about this"),quote:v("CHAT.QUOTE","Quote"),copyMessageLink:v("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:v("CHAT.FORWARD","Forward"),edit:v("CHAT.EDIT","Edit"),remove:v("CHAT.REMOVE","Remove"),removeChat:v("MODAL.REMOVE_CHAT","Remove chat"),cancel:v("MODAL.CANCEL","Cancel"),removeThisChat:v("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:v("SYSTEM.UPDATE","Update"),accountActivated:v("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:v("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:v("SYSTEM.REMOVED","removed"),andRemoved:v("SYSTEM.AND_REMOVED","and removed"),you:v("SYSTEM.YOU","You"),youAnd:v("SYSTEM.YOU_AND","You and"),joined:v("SYSTEM.JOINED","joined"),andJoined:v("SYSTEM.AND_JOINED","and joined"),left:v("SYSTEM.LEFT","left"),andLeft:v("SYSTEM.AND_LEFT","and left"),createdThePost:v("SYSTEM.CREATED_THE_POST","created the post"),openPost:v("SYSTEM.OPEN_POST","Open post"),someone:v("SYSTEM.SOMEONE","Someone"),added:v("SYSTEM.ADDED","added"),andAdded:v("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:v("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:v("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:v("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:v("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:v("CHAT.WORKSPACE","Workspace")};return xl(document.querySelector(".chat-footer .ql-editor")),r.a.createElement(gO,{className:"chat-content ".concat(i),onDragOver:function(){E(!0)}},r.a.createElement(Nb,{hide:!h,ref:g.dropZoneRef,onDragLeave:O,onDrop:function(e){var t=e.acceptedFiles;A(t)},onCancel:O}),!s&&r.a.createElement(pA,{dictionary:C,channel:c}),null!==c&&_>0&&r.a.createElement(hO,{channel:c}),null!==c?r.a.createElement(rO,{selectedChannel:c,chatMessageActions:u,timeFormat:m,dictionary:C,unreadCount:_}):r.a.createElement(OO,null),r.a.createElement(ZO,{onShowFileDialog:function(){g.dropZoneRef.current&&g.dropZoneRef.current.open()},dropAction:A}))}));function vO(){var e=Object(s.a)([""]);return vO=function(){return e},e}function CO(){var e=Object(s.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n  \n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n  \n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return CO=function(){return e},e}var jO=m.a.div(CO()),kO=Object(m.a)(Se)(vO()),yO=function(e){var t=kc(),a=Object(p.a)(t,2),n=a[0],i=a[1],c=Object(o.useDispatch)();return n?r.a.createElement(jO,null,r.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:n.user?n.user.name:""}}),r.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:n.body?i:""}}),r.a.createElement("span",{className:"quote-clear-container",onClick:function(){c(eo(n))}},r.a.createElement(kO,{icon:"x"}))):null};function TO(){var e=Object(s.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: #972c86;\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]);return TO=function(){return e},e}function wO(){var e=Object(s.a)(["\n  margin-left: 10px !important;\n"]);return wO=function(){return e},e}function NO(){var e=Object(s.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar.avatar-sm {\n    height: 26px !important;\n    width: 26px !important;\n    //margin-top: 30px;\n  }\n"]);return NO=function(){return e},e}var SO=m.a.div(NO(),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),xO=m.a.div(wO()),IO=m.a.div(TO()),RO=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=vo(),i=Object(p.a)(n,2),c=i[0];i[1];return r.a.createElement(SO,{users:c.length,className:"component-chat-indicator ".concat(a)},c.length>2?r.a.createElement(IO,null,"".concat(c.length-2,"+")):null,c.map((function(e,t){return t<=1?r.a.createElement(Fe,{key:t,className:"xs",imageLink:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),r.a.createElement(xO,{className:"typing-indicator"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)))}));function PO(){var e=Object(s.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]);return PO=function(){return e},e}var DO=m.a.div(PO()),LO=function(e){var t=e.className,a=void 0===t?"":t,n=e.channel,i=fl()._t,c=Object(o.useSelector)((function(e){return e.workspaces.workspaces})),l={lockedLabel:i("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace.")};return r.a.createElement(r.a.Fragment,null,n&&!n.is_archived&&c.hasOwnProperty(n.entity_id)&&1===c[n.entity_id].is_lock&&1===c[n.entity_id].active&&r.a.createElement(DO,{className:"locked-label ".concat(a)},l.lockedLabel))};function FO(){var e=Object(s.a)(["\n  right: 100px;\n  bottom: 80px;\n  \n  .common-picker-btn {\n    text-align: right;\n  }\n"]);return FO=function(){return e},e}function MO(){var e=Object(s.a)(["\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"]);return MO=function(){return e},e}function UO(){var e=Object(s.a)([""]);return UO=function(){return e},e}function GO(){var e=Object(s.a)(["\n  width: 20px;\n  position: absolute;\n"]);return GO=function(){return e},e}function BO(){var e=Object(s.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  padding-right: 80px;\n  margin-right: 8px;\n  min-height: 48px;\n  .feather-send,\n  .feather-smile {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    margin: 4px;\n    height: calc(100% - 8px);\n    max-height: 38px;\n    background: #7a1b8b;\n    border-radius: 4px;\n    min-width: 40px;\n    width: 40px;\n    padding: 10px;\n    cursor: pointer;\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    right: 44px;\n    margin: 4px 0;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-send:hover {\n    background-color: #7a1b8bcc;\n  }\n"]);return BO=function(){return e},e}function HO(){var e=Object(s.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]);return HO=function(){return e},e}function WO(){var e=Object(s.a)(["\n  position: relative;\n  z-index: 1;\n  .feather-paperclip {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 46px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    &:hover {\n      background-color: #e1e1e1;\n    }\n  }\n"]);return WO=function(){return e},e}var QO=m.a.div(WO()),YO=m.a.div(HO()),zO=m.a.div(BO()),VO=Object(m.a)(Se)(GO()),KO=Object(m.a)(Se)(UO()),qO=m.a.div(MO()),JO=Object(m.a)(Qa)(FO()),ZO=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onShowFileDialog,c=e.dropAction,l=sd().localizeChatDate,s=Object(o.useDispatch)(),d=cd(),u={picker:Object(n.useRef)()},m=Object(n.useState)(!1),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useState)(null),_=Object(p.a)(E,2),g=_[0],O=_[1],A=Object(n.useState)(null),v=Object(p.a)(A,2),C=v[0],j=v[1],k=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),y=Object(o.useSelector)((function(e){return e.session.user})),T=function(){s(Xc(!0))},w=function(){h(!b)},N=fl()._t,S={unarchiveThisWorkspace:N("WORKSPACE.WORKSPACE_UNARCHIVE","Unarchive this workspace"),unarchiveWorkspace:N("HEADER.UNARCHIVE_WORKSPACE","Unarchive workspace"),cancel:N("BUTTON.CANCEL","Cancel"),unarchiveBodyText:N("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to unarchive this workspace?")},x=function(){var e={id:k.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};s(Sc(e)),d.success(r.a.createElement("span",null,r.a.createElement("b",null,"TOPIC"===k.type?"".concat(k.title," workspace is unarchived."):"".concat(k.title," channel is unarchived."))))},I=jo(k&&k.members.length?k.members.map((function(e){return e.id})):[]);return r.a.createElement(QO,{className:"chat-footer ".concat(a)},r.a.createElement(RO,null),r.a.createElement(LO,{channel:k}),I&&r.a.createElement(qO,{className:"d-flex align-items-end"},k&&k.is_archived?r.a.createElement(YO,null,r.a.createElement(VO,{icon:"archive"}),r.a.createElement("h4",null,"TOPIC"===k.type?"This is an archived workspace":"This is an archived channel"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){s(Br({type:"confirmation",cancelText:S.cancel,headerText:S.unarchiveWorkspace,submitText:S.unarchiveWorkspace,bodyText:S.unarchiveBodyText,actions:{onSubmit:x}}))}},"TOPIC"===k.type?"Un-archive workspace":"Un-archive channel")):r.a.createElement(r.a.Fragment,null,r.a.createElement(zO,{className:"flex-grow-1 chat-input-footer"},k&&!k.is_archived&&r.a.createElement(qO,{className:"d-flex pr-2 pl-2"},r.a.createElement(yO,null)),r.a.createElement($u,{selectedGif:C,onSendCallback:function(){h(!1)},onClearGif:function(){j(null)},selectedEmoji:g,onClearEmoji:function(){O(null)},dropAction:c}),r.a.createElement(KO,{className:"".concat(b?"active":""),onClick:w,icon:"smile"}),r.a.createElement(KO,{onClick:T,icon:"send"})),r.a.createElement(ke.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Attach files"},r.a.createElement(KO,{onClick:i,icon:"paperclip"}))),!0===b&&r.a.createElement(JO,{handleSend:T,handleShowEmojiPicker:w,onSelectEmoji:function(e){O(e)},onSelectGif:function(e){j(e)},orientation:"top",ref:u.picker})),!1===I&&null!==k&&r.a.createElement(qO,{className:"channel-viewing"},r.a.createElement("div",{className:"channel-name"},"You are viewing #",k.title),r.a.createElement("div",{className:"channel-create"},"Created by ",k.creator.name," on ",l(k.created_at.timestamp)),r.a.createElement("div",{className:"channel-action"},r.a.createElement("button",{onClick:function(){s(xs({channel_id:k.id,recipient_ids:[y.id]},(function(e,t){e||d.success(r.a.createElement(r.a.Fragment,null,"You have joined ",r.a.createElement("b",null,"#",k.title)))})))}},"Join workspace chat"))))}));function XO(){var e=Object(s.a)(["\n  height: 2rem !important;\n  width: 2rem !important;\n  margin-left: ",";\n"]);return XO=function(){return e},e}function $O(){var e=Object(s.a)(["\n  .people-list {\n    right: 0;\n  }\n"]);return $O=function(){return e},e}var eA=m.a.div($O()),tA=Object(m.a)(Fe)(XO(),(function(e){return e.firstUser?"0":"-0.5rem"})),aA=r.a.memo((function(e){var t=e.members,a=e.classNames,n=void 0===a?"":a,i=t.slice(0,5),c=t.slice(5);return r.a.createElement(eA,{className:"d-flex ".concat(n)},i.map((function(e,t){return r.a.createElement(tA,{id:e.id,firstUser:0===t,className:"chat-members",key:e.id,name:e.name?e.name:e.email,imageLink:e.profile_image_link,hasAccepted:e.has_accepted})})),null!=c.length&&c[0]&&r.a.createElement(Ve,{recipients:c}))}));function nA(){var e=Object(s.a)(["\n  margin-top: 5px;\n  border: 1px solid #e1e1e1;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]);return nA=function(){return e},e}function rA(){var e=Object(s.a)(["\n  color: #7a1b8b;\n  height: 24px;\n  width: 24px;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]);return rA=function(){return e},e}function iA(){var e=Object(s.a)(["\n  @media (min-width: 991.99px) {\n    display: none;\n  }\n  color: #7a1b8b;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  display: flex;\n  align-items: center;\n  margin-right: 12px;\n  span {\n    line-height: 0;\n  }\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]);return iA=function(){return e},e}function cA(){var e=Object(s.a)([""]);return cA=function(){return e},e}function oA(){var e=Object(s.a)(["\n  position: relative;\n  z-index: 2;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .chat-header-left {\n    display: flex;\n    align-items: center;\n    @media (min-width: 767.98px) {\n      width: 33.333333%;\n    }\n    .chat-header-icon {\n      @media (max-width: 991.99px) {\n        display: none;\n      }\n    }\n  }\n  .chat-header-title {\n    font-size: 15px;\n    font-weight: 500;\n    margin: 0;\n    width: 33.333333%;\n    text-align: center;\n  }\n  .chat-header-right {\n    @media (min-width: 767.98px) {\n      width: 33.333333%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n"]);return oA=function(){return e},e}var lA=m.a.div(oA()),sA=Object(m.a)(Se)(cA()),dA=m.a.div(iA()),uA=Object(m.a)(Se)(rA()),mA=Object(m.a)(au)(nA()),pA=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.channel,c=e.dictionary,l=Object(o.useSelector)((function(e){return e.global})).unreadCounter,s=Object(o.useDispatch)(),u=Object(d.j)(),m=Object(d.g)(),f=Il(),b=Object(n.useState)("chat"),h=Object(p.a)(b,2),E=(h[0],h[1]),_=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),g=function(){f.archive(i)};return Object(n.useEffect)((function(){E(u.path.split("/").filter((function(e){return 0!==e.length}))[0])}),[u.path,E]),null===i?null:r.a.createElement(lA,{className:"chat-header border-bottom ".concat(a)},r.a.createElement("div",{className:"chat-header-left"},r.a.createElement(dA,{className:"chat-back-button",onClick:function(){document.body.classList.remove("m-chat-channel-closed")}},r.a.createElement(uA,{icon:"chevron-left"}),r.a.createElement("span",null,l.chat_message+l.workspace_chat_message)),r.a.createElement(Gf,{className:"chat-header-icon",channel:i})),r.a.createElement("h2",{className:"chat-header-title"},"TOPIC"===_.type?r.a.createElement(r.a.Fragment,null,c.workspace," > ",r.a.createElement("a",{onClick:function(e){e.preventDefault(),m.push(e.target.href)},href:"/chat/".concat(_.entity_id,"/").concat(_.title.toLowerCase().replaceAll(" ","-"))},_.title)):_.title),r.a.createElement("div",{className:"chat-header-right"},r.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(i.type)&&r.a.createElement("li",null,r.a.createElement(aA,{members:i.members})),(!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(i.type)||!1===["DIRECT","PERSONAL_BOT","COMPANY","TOPIC"].includes(i.type)&&!i.is_archived)&&r.a.createElement("li",{className:"ml-2 d-sm-inline d-none"},r.a.createElement(mA,{role:"tabList"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(i.type)&&r.a.createElement("div",{onClick:function(){i.is_archived?f.unArchive(i):s(Br({type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:g}}))}},r.a.createElement(sA,{icon:i.is_archived?"rotate-ccw":"trash-2"}),i.is_archived?"Restore":"Archive"),!1===["DIRECT","PERSONAL_BOT","COMPANY","TOPIC"].includes(i.type)&&!i.is_archived&&r.a.createElement("div",{onClick:function(){s(Br({type:"chat_create_edit",mode:"edit"}))}},r.a.createElement(sA,{icon:"edit-3"}),c.edit))))))}));function fA(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]);return fA=function(){return e},e}function bA(){var e=Object(s.a)(["\n  ","\n"]);return bA=function(){return e},e}function hA(){var e=Object(s.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]);return hA=function(){return e},e}var EA=m.a.div(hA()),_A=m.a.div(bA(),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),gA=m.a.div(fA()),OA=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.reply;return r.a.createElement(EA,{className:"message-item ".concat(a," ").concat(!0===n.author?"me":"them")},r.a.createElement(_A,{className:"message-item-content",isAuthor:n.author},!1===n.author&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gA,{className:"avatar avatar-sm"},r.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),n.message),r.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))}));function AA(){var e=Object(s.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]);return AA=function(){return e},e}var vA=m.a.div(AA());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(vA,{className:"messages ".concat(a),tabIndex:"2"},r.a.createElement(OA,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),r.a.createElement(OA,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),r.a.createElement(OA,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),r.a.createElement("div",{className:"message-item me"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item"},r.a.createElement("div",{className:"message-item-content d-flex"},r.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),r.a.createElement("div",null,r.a.createElement("div",null,"important_documents.pdf ",r.a.createElement("i",{className:"text-muted small"},"(50KB)")),r.a.createElement("ul",{className:"list-inline small"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"Download")),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"View"))))),r.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item me"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item me message-media"},r.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item message-item-divider"},r.a.createElement("span",null,"Today")),r.a.createElement("div",{className:"message-item"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))}));function CA(){var e=Object(s.a)(["\n  .more-options-tooltip {\n    &.orientation-left {\n      right: calc(100% - 20px);\n    }\n    &.orientation-bottom {\n      top: 100%;\n    }\n    &.orientation-top {\n      bottom: 20px;\n    }\n  }\n"]);return CA=function(){return e},e}var jA=Object(m.a)(au)(CA()),kA=r.a.memo((function(e){var t=e.selectedChannel,a=e.channel,n=Object(o.useDispatch)(),i=Il(),c=document.getElementById("pills-contact"),l=fl()._t,s={mute:l("CHAT.MUTE","Mute"),unmute:l("CHAT.UNMUTE","Unmute"),hide:l("CHAT.HIDE","Hide"),unhide:l("CHAT.UNHIDE","Unhide"),favorite:l("FAVORITE","Favorite"),unfavorite:l("UNFAVORITE","Unfavorite"),markAsUnread:l("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:l("POST.MARK_AS_READ","Mark as read"),unarchive:l("CHAT.UNARCHIVE","Un-archive"),archive:l("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:l("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this chat?"),chatArchiveConfirmation:l("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this chat?"),cancel:l("BUTTON.CANCEL","Cancel"),headerArchive:l("HEADER.ARCHIVE","Chat Archive"),headerUnarchive:l("HEADER.UNARCHIVE","Chat Un-archive")},d=function(){a.is_archived?i.unArchive(a):i.archive(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(jA,{channel:a,scrollRef:c},r.a.createElement("div",{onClick:function(){a.is_pinned?i.unPin(a):i.pin(a)}},a.is_pinned?s.unfavorite:s.favorite),r.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===a.total_unread&&a.is_read?i.markAsUnRead(a):i.markAsRead(a)}(e)}},0===a.total_unread&&a.is_read?s.markAsUnread:s.markAsRead),r.a.createElement("div",{onClick:function(){a.is_muted?i.unMute(a):i.mute(a)}},a.is_muted?s.unmute:s.mute),"PERSONAL_BOT"!==a.type&&r.a.createElement("div",{onClick:function(){a.is_hidden?i.unHide(a):i.hide(a),a.total_unread>0&&i.markAsRead(a),t.id,a.id}},a.is_hidden?s.unhide:s.hide),("PERSONAL_BOT"!==a.type||"COMPANY"!==a.type)&&r.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:s.headerArchive,submitText:s.archive,cancelText:s.cancel,bodyText:s.chatArchiveConfirmation,actions:{onSubmit:d}};a.is_archived&&(e=Object(I.a)(Object(I.a)({},e),{},{headerText:s.headerUnarchive,submitText:s.unarchive,bodyText:s.chatUnarchiveConfirmation})),n(Br(e))}},a.is_archived?s.unarchive:s.archive)))}));function yA(){var e=Object(s.a)(["\n  color: #363636;;\n  ",";\n"]);return yA=function(){return e},e}var TA=m.a.h6(yA(),(function(e){return e.channel.total_unread&&"color: #7a1b8b"})),wA=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.search,i=void 0===n?"":n,c=e.channel;return r.a.createElement(TA,{className:"mb-1 ".concat(a),channel:c},function(e){if(""===i)return e;var t=e.split(new RegExp("(".concat(i,")"),"gi"));return r.a.createElement("span",null,t.map((function(e){return e.toLowerCase()===i.toLowerCase()?r.a.createElement("b",null,e):e})))}(c.title))}));function NA(){var e=Object(s.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]);return NA=function(){return e},e}function SA(){var e=Object(s.a)(["\n  position: relative;\n  top: -3px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]);return SA=function(){return e},e}function xA(){var e=Object(s.a)(["\n  position: relative;\n  top: 4px;\n  display: flex;\n  flex-direction: row-reverse;\n"]);return xA=function(){return e},e}function IA(){var e=Object(s.a)(["\n  ","\n  display: initial;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n"]);return IA=function(){return e},e}var RA=m.a.div(IA(),""),PA=m.a.div(xA()),DA=Object(m.a)(Se)(SA()),LA=m.a.span(NA()),FA=r.a.memo((function(e){var t=e.channel,a=sd().channelPreviewDate;return r.a.createElement(RA,{className:"chat-timestamp"},r.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:t.last_reply?a(t.last_reply.created_at.timestamp):""}}),(!t.is_read||t.total_unread>0)&&r.a.createElement(LA,{className:"badge badge-primary badge-pill ml-auto ".concat(t.is_read||0!==t.total_unread?"":"unread")},t.total_unread>0?t.total_unread:t.is_read?null:"0"),r.a.createElement(PA,null,t.is_pinned&&r.a.createElement(DA,{icon:"star"}),t.is_muted&&r.a.createElement(DA,{icon:"volume-x",className:"".concat(t.is_pinned&&"mr-1")})))}));function MA(){var e=Object(s.a)(["\n  max-width: 12px;\n"]);return MA=function(){return e},e}function UA(){var e=Object(s.a)(["\n  min-width: 200px;\n  text-overflow: ellipsis;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n"]);return UA=function(){return e},e}function GA(){var e=Object(s.a)([""]);return GA=function(){return e},e}function BA(){var e=Object(s.a)([""]);return BA=function(){return e},e}function HA(){var e=Object(s.a)([""]);return HA=function(){return e},e}function WA(){var e=Object(s.a)(["\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n"]);return WA=function(){return e},e}var QA=m.a.span(WA()),YA=m.a.span(HA()),zA=m.a.span(BA()),VA=m.a.span(GA()),KA=m.a.div(UA()),qA=Object(m.a)(xe)(MA()),JA=r.a.memo((function(e){var t=e.channel,a=e.drafts,n=e.dictionary,i=Object(o.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})),c=Object(o.useSelector)((function(e){return e.session.user})),l=!1,s="",d="";if(t.last_reply&&i.preview_message){t.last_reply.is_deleted?d='<span class="is-deleted">'+n.messageRemoved+"</span>":(d=Oc.parseEmoji(t.last_reply.body),d=Object(Ee.renderToString)(r.a.createElement(YA,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:d}})),d=ce(d)),(""===t.last_reply.body||t.last_reply.files&&t.last_reply.files.length||t.replies.length&&t.replies[t.replies.length-1].files.length||t.last_reply.body.match(/<img/))&&(l=!0);var u=(s+=d).replace(/\s/g,"");l&&(s=Object(Ee.renderToString)(r.a.createElement(qA,{icon:"image-video"}))+s),t.last_reply.user?(t.last_reply.user&&t.last_reply.user.id===c.id?!u&&l&&(s+="Photo"):s=Object(Ee.renderToString)(r.a.createElement(VA,{className:"last-reply-name"},t.last_reply.user.first_name,":"))+" "+s,s=(s=s.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")):s="System message update...","undefined"!==typeof a[t.id]&&(a[t.id].text&&"<div><br></div>"!==a[t.id].text?s="DRAFT:&nbsp;".concat(Object(Ee.renderToString)(r.a.createElement(zA,{dangerouslySetInnerHTML:{__html:a[t.id].text.replace(/(<([^>]+)>)/gi," ")}}))):a[t.id].reply_quote&&(s="QUOTE:&nbsp;".concat(a[t.id].reply_quote.body,"&nbsp;~").concat(a[t.id].reply_quote.user.name)))}return r.a.createElement(QA,{className:"small text-muted "},r.a.createElement(KA,{isUnread:t.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:s}}))}));function ZA(){var e=Object(s.a)(["\n  position: relative;\n"]);return ZA=function(){return e},e}function XA(){var e=Object(s.a)(["\n  padding-right: 64px;\n"]);return XA=function(){return e},e}function $A(){var e=Object(s.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  .more-options {\n    position: relative;\n    opacity: 0;\n    z-index: -1;\n  }\n  &:hover {\n    .more-options {\n      opacity: 1;\n      z-index: 1;\n      &.active {\n        color: #4d4d4d !important;\n      }\n    }\n    .chat-timestamp {\n      opacity: 0;\n      visibility: hidden;\n    }\n    h6 {\n      color: #7a1b8b;\n    }\n  }\n  h6 {\n    ",";\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: #7a1b8b;\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: -24px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    position: absolute;\n    right: 0;\n    display: flex;\n    flex-direction: column;\n    white-space: nowrap;\n    transition: opacity 0.3s ease;\n    top: 0;\n    justify-content: center;\n    height: 100%;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n"]);return $A=function(){return e},e}var ev=m.a.li($A(),(function(e){return e.selected&&"color: #7A1B8B"}),(function(e){return e.selected&&"content: ''"})),tv=m.a.div(XA()),av=m.a.div(ZA()),nv=function(e){var t=e.className,a=void 0===t?"":t,n=e.search,i=void 0===n?"":n,c=e.channel,o=e.selectedChannel,l=e.channelDrafts,s=e.dictionary,d=Il();return r.a.createElement(ev,{className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(a),selected:null!==o&&c.id===o.id,onClick:function(){if(document.body.classList.add("m-chat-channel-closed"),null!==o){var e=document.getElementById("component-chat-thread");e&&d.saveHistoricalPosition(o.id,e)}d.select(Object(I.a)(Object(I.a)({},c),{},{selected:!0}))}},r.a.createElement(Gf,{channel:c}),r.a.createElement(tv,{className:"flex-grow-1"},r.a.createElement(wA,{channel:c,search:i}),r.a.createElement(JA,{channel:c,drafts:l,dictionary:s}),!!c.is_archived&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Di,{badgeClassName:"bg-warning-bright",label:"Archived"})),c.is_hidden&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Di,{label:"Hidden"}))),r.a.createElement(av,{className:"text-right ml-auto"},r.a.createElement(FA,{className:"chat-date-icons",channel:c,isRead:c.is_read}),"TOPIC"!==c.type&&r.a.createElement(kA,{selectedChannel:o,channel:c})))};function rv(){var e=Object(s.a)(["\n  font-weight: 300;\n  padding-bottom: 16px;\n  margin: 24px 0 6px 0;\n  border-bottom: 1px solid #ebebeb;\n"]);return rv=function(){return e},e}function iv(){var e=Object(s.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n"]);return iv=function(){return e},e}function cv(){var e=Object(s.a)([""]);return cv=function(){return e},e}var ov=m.a.div(cv()),lv=m.a.ul(iv()),sv=m.a.h4(rv()),dv=function(e){var t=e.className,a=void 0===t?"":t,n=e.search,i=e.channels,c=e.selectedChannel,l=e.workspace,s=e.dictionary,d=pe(i,n,{},l),u=Object(p.a)(d,1)[0],m=Object(o.useSelector)((function(e){return e.chat.channelDrafts}));return r.a.createElement(ov,{className:"chat-lists ".concat(a)},r.a.createElement(lv,{className:"list-group list-group-flush"},u.map((function(e,t,a){var i="";if(0!==t){var o=a[t-1],l=e;"PERSONAL_BOT"===o.type&&"PERSONAL_BOT"!==l.type?i=(l.is_relevant,s.chats):o.is_relevant&&!l.is_relevant?o.add_user||o.add_open_topic||!l.add_user&&!l.add_open_topic||(i=s.contacts):o.is_relevant||l.is_relevant||o.add_user||o.add_open_topic||!l.add_user&&!l.add_open_topic||(i=s.contacts)}else i="PERSONAL_BOT"===e.type?s.personalBot:e.is_relevant&&e.add_user?s.chats:e.add_user||e.add_open_topic?s.contacts:s.chats;return r.a.createElement(r.a.Fragment,{key:e.id},""!==n&&""!==i&&r.a.createElement(sv,null,i),r.a.createElement(nv,{channel:e,selectedChannel:c,channelDrafts:m,dictionary:s,search:n}))})),!0===l&&0===u.length?r.a.createElement("li",null,r.a.createElement("h4",null,s.nothingToSeeHere)):0===u.length&&""!==n&&r.a.createElement("li",null,r.a.createElement("h4",null,s.noMatchingChats))))};function uv(){var e=Object(s.a)([""]);return uv=function(){return e},e}var mv=m.a.li(uv()),pv=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.channel,i=void 0===n?null:n,c=e.onChannelClick,o=void 0===c?null:c,l=Object(G.a)(e,["className","channel","onChannelClick"]);return r.a.createElement(mv,Object.assign({className:"chat-contact-list-item list-group-item d-flex align-items-center pl-0 pr-0 pb-3 pt-3 ".concat(a),onClick:function(e){e.preventDefault(),o&&o(i)}},l),r.a.createElement("div",{className:"pr-3"},r.a.createElement(Gf,{channel:i})),r.a.createElement("div",null,r.a.createElement("h6",{className:"mb-1"},i.title),r.a.createElement("div",{className:"small text-muted"})),r.a.createElement("div",{className:"text-right ml-auto"},r.a.createElement(Se,{icon:"message-circle"})))}));function fv(){var e=Object(s.a)(["\n  padding-right: 24px;\n  li {\n    cursor: pointer;\n  }\n"]);return fv=function(){return e},e}function bv(){var e=Object(s.a)(["\n  .channel-number-new-group-wrapper {\n    padding-right: 24px;\n  }\n"]);return bv=function(){return e},e}var hv=m.a.div(bv()),Ev=m.a.ul(fv()),_v=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.channels,c=e.selectedChannel,l=e.userChannels,s=e.search,u=Object(o.useDispatch)(),m=Object(d.g)(),p=Il(),f=Object(o.useSelector)((function(e){return e.session.user})),b=Object(n.useCallback)((function(e){p.select(e,(function(e){document.body.classList.add("m-chat-channel-closed"),m.push("/chat/".concat(e.code))}))}),[m,p]);Object(n.useEffect)((function(){var e=document.getElementById("component-chat-thread");e&&u(Vc({channel_id:c.id,scrollPosition:e.scrollHeight-e.scrollTop}))}),[u,c]);var h=[],E=Object.values(i).sort((function(e,t){return e.created_at>t.created_at})).filter((function(e){if(["TOPIC","POST","GROUP","COMPANY","PERSONAL_BOT"].includes(e.type))return!1;if(1===e.members.length&&!0!==e.add_user)return!1;var t=e.members.find((function(e){return e.id!==f.id}));return"undefined"!==typeof t&&(!h.includes(t.id)&&(h.push(t.id),!!Object.values(l).includes(e.id)&&(""===s||(-1!==e.title.toLowerCase().indexOf(s.toLowerCase())||e.members.filter((function(e){return e.id!==f.id})).some((function(e){return-1!==e.email.toLowerCase().search(s.toLowerCase())||-1!==e.name.toLowerCase().search(s.toLowerCase())}))))))})).sort((function(e,t){return e.title.localeCompare(t.title)}));return r.a.createElement(hv,{className:"chat-lists ".concat(a)},r.a.createElement("div",{className:"d-flex align-items-center channel-number-new-group-wrapper"}),r.a.createElement(Ev,{className:"list-group list-group-flush"},E.map((function(e){return r.a.createElement(pv,{key:e.id,onChannelClick:b,channel:e})}))))}));function gv(){var e=Object(s.a)(['\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 992px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n']);return gv=function(){return e},e}var Ov=m.a.div(gv()),Av=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.pill,c=void 0===i?"pills-home":i,l=e.search,s=e.channels,d=e.userChannels,u=e.selectedChannel,m=e.dictionary,p=e.resetFilter,f=Object(o.useDispatch)();return Object(n.useEffect)((function(){f(ao())}),[]),r.a.createElement(Ov,{className:"chat-sidebar-content ".concat(a),tabIndex:"1"},r.a.createElement("div",{className:"tab-content pt-3",id:"pills-tabContent"},r.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===c&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},r.a.createElement(dv,{search:l,workspace:null,channels:s,selectedChannel:u,dictionary:m})),r.a.createElement("div",{className:"tab-panel fade ".concat("pills-contact"===c&&"show active"),id:"pills-contact",role:"tabpanel","aria-labelledby":"pills-contact-tab"},r.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:p},r.a.createElement(Se,{className:"mr-1",icon:"x",width:11,height:11,onClick:p})," Direct chats"),r.a.createElement(_v,{search:l,channels:s,userChannels:d,selectedChannel:u,dictionary:m})),r.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===c&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},r.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:p},r.a.createElement(Se,{className:"mr-1",icon:"x",width:11,height:11,onClick:p})," Workspace chats"),r.a.createElement(dv,{search:l,workspace:!0,channels:s,selectedChannel:u,dictionary:m}))))}));function vv(){var e=Object(s.a)(["\n  border: 1px solid #e1e1e1;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]);return vv=function(){return e},e}function Cv(){var e=Object(s.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]);return Cv=function(){return e},e}function jv(){var e=Object(s.a)(["\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: #7a1b8b;\n            color: #ffffff;\n            border-color: #7a1b8b;\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n"]);return jv=function(){return e},e}var kv=m.a.div(jv()),yv=Object(m.a)(Om)(Cv()),Tv=Object(m.a)(au)(vv()),wv=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.channels,c=e.userChannels,l=e.selectedChannel,s=Object(o.useDispatch)(),d=Sl(),u=d.chatSettings,m=d.setChatSetting,f=Object(n.useState)(""),b=Object(p.a)(f,2),h=b[0],E=b[1],_=Object(n.useState)(""),g=Object(p.a)(_,2),O=g[0],A=g[1],v=Object(n.useState)(u.chat_filter),C=Object(p.a)(v,2),j=C[0],k=C[1],y={container:Object(n.useRef)(null),navTab:Object(n.useRef)(null)};Object(n.useEffect)((function(){var e=setTimeout((function(){return E(O)}),300);return function(){return clearTimeout(e)}}),[O]);var T=function(){k("pills-home")},w=Object(n.useCallback)((function(e){j===e.target.getAttribute("aria-controls")?T():k(e.target.getAttribute("aria-controls"))}),[k,j]),N=fl()._t,S={chats:N("CHAT.CHATS","Chats"),contacts:N("CHAT.CONTACTS","Contacts"),workspaceChats:N("CHAT.WORKSPACE_CHATS","Workspace chats"),recentChats:N("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:N("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:N("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:N("CHAT.RECENT","Recent"),favorite:N("CHAT.FAVORITE","Favorite"),hidden:N("CHAT.HIDDEN","Hidden"),pinned:N("CHAT.PINNED","Pinned"),startNew:N("CHAT.START_NEW","Start new"),viewOpenWorkspace:N("CHAT.VIEW_OPEN_WORKSPACE","View open workspace"),archived:N("CHAT.ARCHIVED","Archived"),nothingToSeeHere:N("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:N("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:N("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:N("CHAT.PERSONAL_BOT","Personal bot")};return Object(n.useEffect)((function(){u.chat_filter!==j&&m({chat_filter:j})}),[u.chat_filter,j]),r.a.createElement(kv,{ref:y.container,className:"chat-sidebar ".concat(a)},r.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start"},r.a.createElement(yv,{onChange:function(e){A(e.target.value)},value:O,onClickEmpty:function(){E(""),A("")},closeButton:"true",className:"chat-search",placeholder:S.searchChatPlaceholder}),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2",style:{height:"38px"}},r.a.createElement(Tv,{ref:y.navTab,role:"tabList"},r.a.createElement("div",{className:"option-filter ".concat("pills-home"===j?"active":""),onClick:w,"aria-controls":"pills-home","aria-selected":"false"},S.chats),r.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===j?"active":""),onClick:w,"aria-controls":"pills-workspace","aria-selected":"false"},S.workspaceChats),r.a.createElement("div",{className:"d-flex",onClick:function(){s(Br({type:"chat_create_edit",mode:"new"}))}},r.a.createElement(Se,{className:"mr-2",width:14,height:14,icon:"plus"})," ",S.newGroupChat)))),r.a.createElement(Av,{pill:j,search:h,channels:i,userChannels:c,selectedChannel:l,dictionary:S,resetFilter:T}))}));function Nv(){var e=Object(s.a)(["\n  .chat-sidebar-panel {\n    max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    @media (min-width: 1920px) {\n      max-width: calc(100% - 540px);\n    }\n  }\n  @media (max-width: 1450px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 45%;\n      max-width: 45%;\n    }\n    .chat-content-panel {\n      flex: 0 0 55%;\n      max-width: 55%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n"]);return Nv=function(){return e},e}var Sv=m.a.div(Nv()),xv=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=Ll(),i=n.channels,c=n.userChannels,o=n.selectedChannel;return Ad(),r.a.createElement(Sv,{className:"company-chat ".concat(a)},r.a.createElement("div",{className:"row no-gutters chat-block"},r.a.createElement(wv,{className:"col-lg-4 chat-sidebar-panel",channels:i,userChannels:c,selectedChannel:o}),r.a.createElement(AO,{className:"col-lg-8 chat-content-panel",selectedChannel:o})))}));function Iv(){var e=Object(s.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"]);return Iv=function(){return e},e}function Rv(){var e=Object(s.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]);return Rv=function(){return e},e}function Pv(){var e=Object(s.a)(["\n  border-left: 5px solid #822492;\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n  \n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return Pv=function(){return e},e}var Dv=m.a.div(Pv()),Lv=m.a.div(Rv()),Fv=m.a.div(Iv(),(function(e){return e.height})),Mv=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onEditClick,c=e.workspace,o=e.isMember,l=e.isExternal,s=e.dictionary,d=Object(n.useState)(""),u=Object(p.a)(d,2),m=u[0],f=u[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)(140),O=Object(p.a)(g,2),A=O[0],v=O[1],C={description:Object(n.useRef)(null)},j=Object(n.useCallback)((function(e){e.preventDefault(),_((function(e){return!e}))}),[_]);return Object(n.useEffect)((function(){C.description.current&&(!0===E?setTimeout((function(){C.description.current.style.overflow=""}),[300]):!1===E&&(C.description.current.style.overflow="hidden"))}),[E,C.description.current]),Object(n.useEffect)((function(){c&&m!==c.description&&(f(c.description),_(null),C.description.current=null)}),[c]),r.a.createElement(Dv,{className:"dashboard-about-workspace card ".concat(a)},r.a.createElement("div",{className:"bg-overlay ".concat(null===E?"":!0===E?"show":"hide")}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},s.aboutThisWorkspace," ",!0===o&&!l&&1===c.active&&r.a.createElement(Se,{icon:"edit",onClick:i})),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Lv,{className:null===E?"":!0===E?"show":"hide"},r.a.createElement(Fv,{ref:function(e){null===C.description.current&&e&&(C.description.current=e,e.clientHeight>140?(v(e.clientHeight),_(!1)):_(null))},height:A,className:"dashboard-description ".concat(null===E?"":!0===E?"show":"hide"),dangerouslySetInnerHTML:{__html:c.description}}),null!==E&&r.a.createElement("div",{onClick:j,className:"btn-toggle-show cursor-pointer mt-2"},E?s.showLess:s.showMore))),c&&c.primary_files&&c.primary_files.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("span",null,s.fileAttachments,":"),r.a.createElement(ji,{attachedFiles:c.primary_files,workspace:c,type:"workspace",showDelete:!1}))))}));function Uv(){var e=Object(s.a)(["\n  .avatar {\n    cursor: pointer;\n    height: 2.5rem !important;\n    width: 2.5rem !important;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: ","px;    \n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Uv=function(){return e},e}var Gv=m.a.div(Uv(),(function(e){return e.userNameMaxWidth})),Bv=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.loggedUser,c=e.onNameClick,o=void 0===c?null:c,l=e.onChatClick,s=void 0===l?null:l,d=e.user,u=e.dictionary,m=e.showOptions,f=void 0!==m&&m,b=e.onUpdateRole,h=void 0===b?null:b,E=e.roles,_=Object(n.useState)(320),g=Object(p.a)(_,2),O=g[0],A=g[1],v={cardBody:Object(n.useRef)(null),content:Object(n.useRef)(null)},C=function(){o&&o(d)},j=function(e){var t={user_id:d.id,role_id:E[e]};h(t)},k=function(){if(v.content.current){var e=v.content.current.clientWidth-150,t=v.content.current.querySelector(".button-wrapper");t&&(e-=t.clientWidth),(t=v.content.current.querySelector(".avatar"))&&(e-=t.clientWidth),(t=v.content.current.querySelector(".label-wrapper"))&&(e-=t.clientWidth),A(e)}};return Object(n.useEffect)((function(){window.addEventListener("resize",k),k()}),[]),r.a.createElement(Gv,{className:"workspace-user-item-list col-12 col-md-6 ".concat(a),userNameMaxWidth:O},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card border",key:d.id},r.a.createElement("div",{className:"card-body",ref:v.cardBody},r.a.createElement("div",{ref:v.content,className:"d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement(Fe,{id:d.id,name:d.name?d.name:d.email,hasAccepted:d.has_accepted,onClick:C,noDefaultClick:!0,imageLink:d.profile_image_link?d.profile_image_link:""}),r.a.createElement("div",{className:"user-info-wrapper ml-3"},d.hasOwnProperty("has_accepted")&&!d.has_accepted?r.a.createElement("h6",{className:"user-name mb-1 "},r.a.createElement(Pi,{content:d.email},r.a.createElement("div",{className:"mr-2 people-text-truncate"},d.email)),r.a.createElement(Di,{label:u.peopleInvited,badgeClassName:"badge badge-info text-white"})):r.a.createElement("h6",{className:"user-name mb-1 ",onClick:C},r.a.createElement(Pi,{content:d.email},r.a.createElement("div",{className:"mr-2"},d.name)),r.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===d.type&&r.a.createElement(Di,{label:u.peopleExternal,badgeClassName:"badge badge-info text-white"}),1!==d.active&&r.a.createElement(Di,{label:"Inactive",badgeClassName:"badge badge-light text-white"}))),d.role&&r.a.createElement("span",{className:"small text-muted"},d.role.display_name))),null!==s&&"external"!==i.type&&r.a.createElement("div",{className:"button-wrapper"},f&&"external"!==d.type&&"owner"!==d.role.name&&r.a.createElement(au,{className:"mr-2",width:240,moreButton:"more-horizontal",scrollRef:v.cardBody.current},"employee"===d.role.name&&r.a.createElement("div",{onClick:function(){return j("admin")}},u.assignAsAdmin),"admin"===d.role.name&&r.a.createElement("div",{onClick:function(){return j("employee")}},u.assignAsEmployee)),""!==d.contact&&i.id!==d.id&&r.a.createElement("a",{href:"tel:".concat(d.contact.replace(/ /g,"").replace(/-/g,""))},r.a.createElement(Se,{className:"mr-2",icon:"phone"})),"external"!==d.type&&i.id!==d.id&&r.a.createElement(Se,{onClick:function(){s&&s(d)},icon:"message-circle"})))))))}));function Hv(){var e=Object(s.a)(["\n  padding: 16px 0 !important;\n  .card-title {\n    position: relative;\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .more-options {\n    display: none;\n  }\n  .avatar {\n    cursor: pointer;\n    height: 2.5rem;\n    width: 2.5rem;\n  }\n  .profile-name {\n    cursor: pointer;\n    margin-bottom: 4px;\n  }\n  > .more-options svg {\n    width: auto;\n  }\n  .more-options-tooltip {\n    display: none;\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &:hover {\n    .more-options-tooltip {\n      display: block;\n    }\n  }\n"]);return Hv=function(){return e},e}var Wv=m.a.li(Hv()),Qv=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.member,i=e.parentRef,c=e.onEditClick,o=e.hideOptions,l=e.actions,s=e.workspace_id,u=e.dictionary,m=Object(d.g)(),p=function(e){var t={topic_id:s,user_id:n.id,role:e};l.addRole(t)},f=function(){var e={topic_id:s,user_id:n.id};l.deleteRole(e)};return r.a.createElement(Wv,{className:"team-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(a)},r.a.createElement("div",{className:"d-flex align-items-center "},r.a.createElement("div",{className:"pr-3"},r.a.createElement(Fe,{id:n.id,name:n.name,imageLink:n.profile_image_link,partialName:n.partial_name,noDefaultClick:!n.has_accepted,hasAccepted:n.has_accepted})),r.a.createElement("div",null,r.a.createElement("h6",{className:"profile-name",onClick:function(){n.has_accepted&&m.push("/profile/".concat(n.id,"/").concat(n.name))}},n.has_accepted?n.name:n.email),n.designation&&r.a.createElement("small",{className:"text-muted"},n.designation))),r.a.createElement("div",{className:"ml-auto"},n.workspace_role&&""!==n.workspace_role&&r.a.createElement(Di,{badgeClassName:"TEAM_LEAD"===n.workspace_role?"badge-success text-white":"badge-warning text-white",label:"TEAM_LEAD"===n.workspace_role?"Team lead":"Approver"}),"external"===n.type&&r.a.createElement(Di,{badgeClassName:"badge-info text-white",label:n.has_accepted?u.peopleExternal:u.peopleInvited})),!o&&r.a.createElement(au,{moreButton:"more-horizontal",scrollRef:i},""!==n.workspace_role&&"TEAM_LEAD"===n.workspace_role&&r.a.createElement("div",{onClick:f},u.revokeAsTeamLead),"TEAM_LEAD"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return p("team_lead")}},u.assignAsTeamLead),"APPROVER"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return p("approver")}},u.assignAsApprover),""!==n.workspace_role&&"APPROVER"===n.workspace_role&&r.a.createElement("div",{onClick:f},u.revokeAsApprover),r.a.createElement("div",{onClick:c},u.remove)))}));function Yv(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Yv=function(){return e},e}function zv(){var e=Object(s.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return zv=function(){return e},e}var Vv=m.a.div(zv()),Kv=(m.a.div(Yv()),r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,c=e.onEditClick,o=e.isExternal,l=e.isMember,s=e.dictionary,d=e.actions,u=Object(n.useState)(null),m=Object(p.a)(u,2),f=m[0],b=m[1],h=Object(n.useCallback)((function(e){null===f&&b(e)}),[]),E=l&&o||0===i.active,_=i.members.filter((function(e){return 1===e.active||!e.has_accepted}));return r.a.createElement(Vv,{className:"dashboard-team card ".concat(a)},r.a.createElement("div",{ref:h,className:"card-body"},r.a.createElement("h5",{className:"card-title"},s.team," ",!0===l&&!o&&1===i.active&&r.a.createElement(Se,{onClick:c,icon:"plus"})),0===_.length?r.a.createElement(r.a.Fragment,null,s.emptyTeam):r.a.createElement("ul",{className:"list-group list-group-flush"},_.map((function(e){return r.a.createElement(Qv,{key:e.id,member:e,parentRef:f,onEditClick:c,hideOptions:E,actions:d,workspace_id:i.id,dictionary:s})})))))})));function qv(){var e=Object(s.a)(["\n  cursor: pointer;\n\n  .done {\n    text-decoration: line-through;\n    color: #00c851;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .user-name {\n    cursor: pointer;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n  }\n  .recent-post-timestamp {\n    @media only screen and (max-width: 480px) {\n      display: none !important;\n    }\n  }\n"]);return qv=function(){return e},e}var Jv=m.a.li(qv()),Zv=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.post,i=e.postActions,c=e.onOpenPost,o=e.disableOptions,l=sd().localizeChatDate,s=function(e){c(n)};return r.a.createElement(Jv,{className:"recent-post-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(a),onClick:s},r.a.createElement("div",{className:"custom-control custom-checkbox custom-checkbox-success mr-2"},r.a.createElement(qm,{name:"mark_done",checked:n.is_mark_done,onClick:function(e){e.stopPropagation(),o||i.markPost(n)},disabled:o})),r.a.createElement("div",{className:"flex-grow-1 min-width-0",onClick:s},r.a.createElement("div",{className:"mb-1 d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"app-list-title ".concat(n.is_mark_done?"done":""," text-truncate")},n.title),r.a.createElement("div",{className:"pl-3 d-flex recent-post-timestamp align-items-center ".concat(n.is_mark_done?"done":"")},l(n.created_at.timestamp)))))}));function Xv(){var e=Object(s.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n"]);return Xv=function(){return e},e}var $v=m.a.div(Xv()),eC=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.activeSort,i=void 0===n?null:n,c=e.workspace,l=e.search,s=e.dictionary,d=Object(o.useDispatch)(),u=function(e){d(Ss({topic_id:c.id,sort:e.target.dataset.value}))},m={label:s.sortBy,items:[{value:"favorite",label:s.starredFavorite,onClick:u},{value:"recent",label:s.recent,onClick:u},{value:"unread",label:s.unread,onClick:u}]};return r.a.createElement($v,{className:"post-filter-search-panel app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(wi,{value:i,dropdown:m}))),r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(Se,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement(OC,{search:l,placeholder:s.searchPost})))}));function tC(){var e=Object(s.a)(["\n  width: 16px;\n"]);return tC=function(){return e},e}function aC(){var e=Object(s.a)(["\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #363636;\n    font-weight: 500;\n\n    &.has-unread {\n      font-weight: 500;\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n  }\n\n  &:hover {\n    .more-options {\n      display: flex;\n    }\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8;\n    font-weight: 400;\n  }\n"]);return aC=function(){return e},e}var nC=m.a.li(aC()),rC=Object(m.a)(Se)(tC()),iC=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.post,i=e.postActions,c=e.dictionary,l=e.disableOptions,s=Object(o.useSelector)((function(e){return e.session.user})),d=Object(o.useSelector)((function(e){return e.workspaces.flipper})),u=i.starPost,m=(i.markPost,i.openPost),p=i.archivePost,f=i.markAsRead,b=i.markAsUnread,h=i.sharePost,E=i.followPost,_=i.remind,g=i.showModal;return r.a.createElement(nC,{"data-toggle":d?"1":"0",className:"list-group-item post-item-panel ".concat(a),onClick:function(){return m(n)}},r.a.createElement("div",null),r.a.createElement("div",{className:"flex-grow-1 min-width-0"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"app-list-title text-truncate\n                            ".concat(n.unread_count>0||1===n.is_unread?"text-primary has-unread":"","\n                            ").concat(n.is_mark_done?"text-success":"")},r.a.createElement("span",null,n.title),r.a.createElement("div",{className:"text-truncate post-partialBody"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:Oc.parseEmoji(n.partial_body)}}))),r.a.createElement("div",{className:"pl-3 d-flex align-items-center"},0!==n.unread_count&&r.a.createElement("div",{className:"ml-2 mr-2 badge badge-primary badge-pill"},n.unread_count),r.a.createElement(EC,{post:n,dictionary:c}),n.users_responsible.length>0&&r.a.createElement(aA,{members:n.users_responsible,classNames:"mr-2"}),!l&&r.a.createElement(rC,{className:"btn btn-outline-light ml-2",icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),p(n)}})))),"draft_post"!==n.type&&!l&&r.a.createElement(au,{className:"ml-2",item:n,width:220,moreButton:"more-horizontal"},null===n.todo_reminder&&r.a.createElement("div",{onClick:function(){return _(n)}},c.remindMeAboutThis),n.author&&n.author.id===s.id&&r.a.createElement("div",{onClick:function(){return g("edit",n)}},c.editPost),0===n.is_unread?r.a.createElement("div",{onClick:function(){return b(n,!0)}},c.markAsUnread):r.a.createElement("div",{onClick:function(){return f(n,!0)}},c.markAsRead),r.a.createElement("div",{onClick:function(){return h(n)}},c.share),n.author.id!==s.id&&r.a.createElement("div",{onClick:function(){return E(n)}},n.is_followed?c.unFollow:c.follow),r.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),l||u(n)}},n.is_favourite?c.unStar:c.star)))}));function cC(){var e=Object(s.a)([""]);return cC=function(){return e},e}function oC(){var e=Object(s.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 768px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    margin-bottom: 0px !important;\n  }\n"]);return oC=function(){return e},e}var lC=m.a.div(oC()),sC=m.a.div(cC()),dC=r.a.memo((function(e){var t=e.workspace,a=e.isMember,n=e.filter,i=e.tag,c=e.count,o=e.counters,l=e.postActions,s=e.onGoBack,d=e.dictionary,u=e.disableOptions;return r.a.createElement(lC,{className:"col-md-3 app-sidebar bottom-modal-mobile"},r.a.createElement(sC,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"bottom-modal-mobile_inner"},r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},a&&r.a.createElement("div",{className:"card-body create-new-post-wrapper"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){l.showModal("create")},disabled:u},d.createNewPost)),r.a.createElement(pC,{workspace:t,filter:n,tag:i,onGoBack:s,counters:o,dictionary:d}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-0"},d.category)),r.a.createElement(hC,{count:c,workspace:t,tag:i,onGoBack:s,dictionary:d}))))}));function uC(){var e=Object(s.a)(["\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n"]);return uC=function(){return e},e}var mC=m.a.div(uC()),pC=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=e.filter,c=void 0===i?"all":i,l=e.onGoBack,s=e.counters,d=e.dictionary,u=Object(o.useDispatch)(),m=function(e){if(e.target.dataset.value===c)l();else{var t={topic_id:n.id,filter:e.target.dataset.value,tag:null};u(Ss(t)),l()}document.body.classList.remove("mobile-modal-open")};return r.a.createElement(mC,{className:"post-filter-item list-group list-group-flush ".concat(a)},r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"all"===c?"active":""),"data-value":"all",onClick:m},r.a.createElement(Se,{className:"mr-2",icon:"book-open"}),d.all,r.a.createElement("span",{className:"small ml-auto"},s.all>0&&s.all)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"my_posts"===c?"active":""),"data-value":"my_posts",onClick:m},r.a.createElement(Se,{className:"mr-2",icon:"send"}),d.myPosts,r.a.createElement("span",{className:"small ml-auto"},s.my_posts>0&&s.my_posts)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"star"===c?"active":""),"data-value":"star",onClick:m},r.a.createElement(Se,{className:"mr-2",icon:"star"}),d.starred,r.a.createElement("span",{className:"small ml-auto"},s.starred>0&&s.starred)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"archive"===c?"active":""),"data-value":"archive",onClick:m},r.a.createElement(Se,{className:"mr-2",icon:"archive"}),d.archived,r.a.createElement("span",{className:"small ml-auto"},s.archived>0&&s.archived)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"draft"===c?"active":""),"data-value":"draft",onClick:m},r.a.createElement(Se,{className:"mr-2",icon:"edit-3"}),d.drafts,r.a.createElement("span",{className:"small ml-auto"},s.drafts>0&&s.drafts)))}));function fC(){var e=Object(s.a)(["\n  a {\n    cursor: pointer;\n  }\n"]);return fC=function(){return e},e}var bC=m.a.div(fC()),hC=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=e.tag,c=e.count,l=e.onGoBack,s=e.dictionary,d=Object(o.useDispatch)(),u=function(e){var t={topic_id:n.id,tag:e.target.dataset.value,filter:null};i===e.target.dataset.value&&(t=Object(I.a)(Object(I.a)({},t),{},{tag:null,filter:"all"})),d(Ss(t)),l(),document.body.classList.remove("mobile-modal-open")};return r.a.createElement(bC,{className:"list-group list-group-flush ".concat(a)},r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_must_reply"===i?"active":""),"data-value":"is_must_reply",onClick:u},r.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),s.replyRequired,r.a.createElement("span",{className:"small ml-auto"},c&&c.is_must_reply>0&&c.is_must_reply)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_must_read"===i?"active":""),"data-value":"is_must_read",onClick:u},r.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),s.mustRead,r.a.createElement("span",{className:"small ml-auto"},c&&c.is_must_read>0&&c.is_must_read)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_read_only"===i?"active":""),"data-value":"is_read_only",onClick:u},r.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),s.noReplies,r.a.createElement("span",{className:"small ml-auto"},c&&c.is_read_only>0&&c.is_read_only)))})),EC=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isBadgePill,i=void 0!==n&&n,c=e.post,o=e.dictionary;return r.a.createElement(r.a.Fragment,null,(c.is_must_read||c.is_must_reply||c.is_read_only||"draft_post"===c.type||0!==c.is_archived||!0===c.is_personal)&&r.a.createElement(r.a.Fragment,null,!0===c.is_personal&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(i?"badge-pill":"")},o.private)),1===c.is_archived&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(i?"badge-pill":"")},o.archived)),"draft_post"===c.type&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(i?"badge-pill":"")},o.draft)),c.is_must_read&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-danger ".concat(i?"badge-pill":"")},o.mustRead)),c.is_must_reply&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-warning ".concat(i?"badge-pill":"")},o.replyRequired)),c.is_read_only&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-info ".concat(i?"badge-pill":"")},o.noReplies))))}));function _C(){var e=Object(s.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return _C=function(){return e},e}var gC=m.a.div(_C()),OC=r.a.memo((function(e){var t=e.search,a=e.placeholder,i=Object(o.useDispatch)(),c=Object(d.i)(),l=Object(n.useState)(null===t?"":t),s=Object(p.a)(l,2),u=s[0],m=s[1],f=parseInt(c.workspaceId),b=function(){m(""),i(Rs({topic_id:f,search:null,search_result:[]}))},h=function(){i(tl({topic_id:f,search:u},(function(e,t){e||i(Rs({topic_id:f,search:u,search_result:t.data.posts}))})))};return r.a.createElement(gC,{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:a,value:u,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&h()},onChange:function(e){""===e.target.value.trim()&&""!==u&&b(),m(e.target.value)}}),r.a.createElement("div",{className:"input-group-append"},""!==u.trim()&&r.a.createElement("button",{onClick:b,className:"btn-cross",type:"button"},r.a.createElement(Se,{icon:"x"})),r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:h},r.a.createElement("i",{className:"ti-search"}))))}));function AC(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return AC=function(){return e},e}function vC(){var e=Object(s.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]);return vC=function(){return e},e}function CC(){var e=Object(s.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]);return CC=function(){return e},e}function jC(){var e=Object(s.a)(["\n  width: 100%;\n  padding: 0.5rem 1.5rem;\n  .seen-indicator,\n  .post-reaction {\n    cursor: pointer;\n  }\n  .clap-true {\n    color: #f44;\n    fill: #f44;\n  }\n"]);return jC=function(){return e},e}function kC(){var e=Object(s.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]);return kC=function(){return e},e}function yC(){var e=Object(s.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  \n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 0.5rem;\n    \n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;  \n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n      \n      &:hover {\n        opacity: 1;\n        max-height: 165px;  \n      }\n      \n      .dark & {\n        background-color: #191c20;  \n      }\n      \n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      \n        .avatar {\n          img {\n            min-width: 28px;\n          }\n        }\n      \n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;      \n        }\n      }\n    }\n  }\n  \n  .user-reads-container {         \n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }                  \n  }  \n"]);return yC=function(){return e},e}function TC(){var e=Object(s.a)(["\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]);return TC=function(){return e},e}var wC=m.a.div(TC()),NC=m.a.div(yC()),SC=Object(m.a)(au)(kC()),xC=m.a.div(jC()),IC=Object(m.a)(ji)(CC()),RC=Object(m.a)(Se)(vC()),PC=m.a.div(AC()),DC=r.a.memo((function(e){var t=e.post,i=e.postActions,c=e.user,l=e.onGoBack,s=e.workspace,u=e.isMember,m=e.dictionary,f=e.disableOptions,b=e.readByUsers,h=i.markAsRead,E=i.markAsUnread,_=i.sharePost,g=i.followPost,O=i.remind,A=Object(o.useDispatch)(),v=Object(d.g)(),C=b.some((function(e){return e.id===c.id})),j=Object(n.useState)(!1),k=Object(p.a)(j,2),y=k[0],T=k[1],w=Object(n.useState)({user_clap_count:t.user_clap_count,clap_count:t.clap_count}),N=Object(p.a)(w,2),S=N[0],x=N[1],R=hs(),P=bs(t,R,s),D={dropZoneRef:Object(n.useRef)(null)},L=function(e){A(Go(e)),D.dropZoneRef.current&&D.dropZoneRef.current.open()},F=function(){T(!1)},M=function(e){var n=[];e.forEach((function(e){var t=new FormData;t.append("file",e);var r=a(37).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?n.push(Object(I.a)(Object(I.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):"video/mp4"===e.type?n.push(Object(I.a)(Object(I.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):n.push(Object(I.a)(Object(I.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:t,name:e.name?e.name:e.path}))})),F();var r={type:"file_upload",droppedFiles:n,mode:"post",post:t,members:s?s.members:[]};A(Br(r))};Object(n.useEffect)((function(){t.view_user_ids.some((function(e){return e===c.id}))||i.visit({post_id:t.id,personalized_for_id:null}),(1===t.is_unread||t.unread_count>0||!t.is_updated)&&i.markAsRead(t)}),[]);return r.a.createElement(r.a.Fragment,null,null!==t.todo_reminder&&r.a.createElement(gc,{todoReminder:t.todo_reminder,type:"POST"}),r.a.createElement(wC,{className:"card-header d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(RC,{className:"close mr-2",icon:"arrow-left",onClick:function(){l()}})),r.a.createElement("li",null,r.a.createElement("h5",{ref:D.title,className:"post-title mb-0"},r.a.createElement("span",null,t.title)),r.a.createElement("div",{className:"author-name"},r.a.createElement(Pi,{content:t.author.name},m.by," ",r.a.createElement("span",{onClick:function(){v.push("/profile/".concat(t.author.id,"/").concat(ue(t.author.name)))},className:"cursor-pointer"},t.author.first_name)))))),r.a.createElement("div",null,t.author.id!==c.id&&t.is_must_read&&!C&&r.a.createElement(PC,{className:"d-sm-inline d-none"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){i.markReadRequirement(t)},disabled:f},m.markAsRead)),t.author.id===c.id&&!f&&r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},r.a.createElement("a",{onClick:function(){return i.showModal("edit",t)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},r.a.createElement(RC,{icon:"edit-3"})))),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return i.trash(t)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},r.a.createElement(RC,{icon:"trash"}))),r.a.createElement("li",null,r.a.createElement(SC,{className:"ml-2",item:t,width:220,moreButton:"more-horizontal"},r.a.createElement("div",{onClick:function(){return O(t)}},m.remindMeAboutThis),0===t.is_unread?r.a.createElement("div",{onClick:function(){return E(t,!0)}},m.markAsUnread):r.a.createElement("div",{onClick:function(){return h(t,!0)}},m.markAsRead),r.a.createElement("div",{onClick:function(){return _(t)}},m.share),t.author.id!==c.id&&r.a.createElement("div",{onClick:function(){return g(t)}},t.is_followed?m.unFollow:m.follow)))),t.author.id!==c.id&&r.a.createElement("div",null,r.a.createElement(SC,{className:"ml-2",item:t,width:170,moreButton:"more-horizontal"},null===t.todo_reminder&&r.a.createElement("div",{onClick:function(){return O(t)}},m.remindMeAboutThis),r.a.createElement("div",{onClick:function(){return h(t,!0)}},m.markAsRead),r.a.createElement("div",{onClick:function(){return E(t,!0)}},m.markAsUnread),r.a.createElement("div",{onClick:function(){return _(t)}},m.share),t.author.id!==c.id&&r.a.createElement("div",{onClick:function(){return g(t)}},t.is_followed?m.unFollow:m.follow))))),r.a.createElement(NC,{onDragOver:function(){T(!0)}},r.a.createElement(Nb,{hide:!y,ref:D.dropZoneRef,onDragLeave:F,onDrop:function(e){var t=e.acceptedFiles;M(t)},onCancel:F}),r.a.createElement(lj,{post:t,postActions:i,isAuthor:t.author.id===c.id,dictionary:m,disableOptions:f}),r.a.createElement("hr",{className:"m-0"}),r.a.createElement(xC,{className:"d-flex align-items-center"},r.a.createElement("div",null,r.a.createElement(RC,{className:S.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"heart",onClick:function(){x((function(e){return{user_clap_count:e.user_clap_count?0:1,clap_count:e.user_clap_count?e.clap_count-1:e.clap_count+1}}));var e={post_id:t.id,id:null,clap:0===t.user_clap_count?1:0,personalized_for_id:null};i.clap(e)}}),S.clap_count),r.a.createElement("div",{className:"ml-auto text-muted"},b.length>0&&r.a.createElement("div",{className:"user-reads-container"},C&&r.a.createElement("span",{className:"mr-2"},r.a.createElement(RC,{className:"mr-2",icon:"check"})," ",m.alreadyReadThis),r.a.createElement("span",{className:"no-readers"},m.readByNumberofUsers),r.a.createElement("span",{className:"hover read-users-container"},b.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(Fe,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),r.a.createElement(RC,{className:"mr-2",icon:"message-square"}),t.reply_count,r.a.createElement(RC,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),t.view_user_ids.length)),t.files.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},m.files),r.a.createElement(IC,{attachedFiles:t.files,type:"workspace",post:t})),r.a.createElement("hr",{className:"m-0"})),P&&Object.keys(P).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(uj,{comments:P,post:t,user:c,commentActions:R,onShowFileDialog:L,dropAction:M,workspace:s,isMember:u,dictionary:m,disableOptions:f}),r.a.createElement("hr",{className:"m-0"})),r.a.createElement(ej,{post:t,commentActions:R,onShowFileDialog:L,dropAction:M,workspace:s,isMember:u,disableOptions:f})))}));function LC(){var e=Object(s.a)(["\n  margin-right: 6px;\n  width: 20px;\n"]);return LC=function(){return e},e}function FC(){var e=Object(s.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]);return FC=function(){return e},e}function MC(){var e=Object(s.a)(["\n  padding: 5px 45px;\n"]);return MC=function(){return e},e}function UC(){var e=Object(s.a)(["\n  right: 130px;\n  bottom: 75px;\n  \n  .common-picker-btn {\n    text-align: right;\n  }\n"]);return UC=function(){return e},e}function GC(){var e=Object(s.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n"]);return GC=function(){return e},e}function BC(){var e=Object(s.a)(["\n  // width: 100%;\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  svg.feather-send {\n    margin-left: 8px;\n  }\n  svg.feather-paperclip {\n    margin-left: 0;\n    margin-right: 0;\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    div:nth-child(4) {\n      order: 1;\n      margin-right: 8px;\n    }\n    div:nth-child(2) { order: 3; }\n    svg:nth-child(3) { order: 3; }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"]);return BC=function(){return e},e}function HC(){var e=Object(s.a)(["\n"]);return HC=function(){return e},e}function WC(){var e=Object(s.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  padding-right: 80px;\n  margin-right: 8px;\n  min-height: 48px;\n  .feather-send,\n  .feather-smile {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    margin: 4px;\n    height: calc(100% - 8px);\n    max-height: 38px;\n    background: #7a1b8b;\n    border-radius: 4px;\n    min-width: 40px;\n    width: 40px;\n    padding: 10px;\n    cursor: pointer;\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    right: 44px;\n    margin: 4px 0;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-send:hover {\n    background-color: #7a1b8bcc;\n  }\n"]);return WC=function(){return e},e}function QC(){var e=Object(s.a)(["\n  position: relative;\n  > div > svg:first-child {\n    margin-left: 0 !important;\n  }\n  flex: unset;\n  \n  .feather-paperclip {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 46px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    &:hover {\n      background-color: #e1e1e1;\n    }\n  }  \n"]);return QC=function(){return e},e}var YC=m.a.div(QC()),zC=m.a.div(WC()),VC=Object(m.a)(Se)(HC()),KC=m.a.div(BC()),qC=m.a.div(GC()),JC=Object(m.a)(Qa)(UC()),ZC=m.a.div(MC()),XC=m.a.div(FC()),$C=Object(m.a)(Se)(LC()),ej=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onShowFileDialog,c=e.dropAction,l=e.post,s=e.parentId,d=void 0===s?null:s,u=e.commentActions,m=e.userMention,f=void 0===m?null:m,b=e.handleClearUserMention,h=void 0===b?null:b,E=e.commentId,_=void 0===E?null:E,g=e.innerRef,O=void 0===g?null:g,A=e.workspace,v=e.isMember,C=e.disableOptions,j=Object(o.useDispatch)(),k={picker:Object(n.useRef)()},y=Object(n.useState)(!1),T=Object(p.a)(y,2),w=T[0],N=T[1],S=Object(n.useState)(null),x=Object(p.a)(S,2),I=x[0],R=x[1],P=Object(n.useState)(null),D=Object(p.a)(P,2),L=D[0],F=D[1],M=Object(n.useState)(!1),U=Object(p.a)(M,2),G=U[0],B=U[1],H=Object(o.useSelector)((function(e){return e.session.user})),W=Object(o.useSelector)((function(e){return e.posts.editPostComment})),Q=Object(n.useCallback)((function(){B(!0)}),[B]),Y=Object(n.useCallback)((function(){B(!1)}),[B]),z=function(){N(!w)},V=cd(),K=fl()._t,q={unarchiveThisWorkspace:K("WORKSPACE.WORKSPACE_UNARCHIVE","Unarchive this workspace"),unarchiveWorkspace:K("HEADER.UNARCHIVE_WORKSPACE","Unarchive workspace"),cancel:K("BUTTON.CANCEL","Cancel"),unarchiveBodyText:K("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to unarchive this workspace?"),workspaceIsUnarchived:K("TOASTER.WORKSPACE_IS_UNARCHIVED","workpace is unarchived"),thisIsAnArchivedWorkspace:K("FOOTER.THIS_IS_AN_ARCHIVED_WORKSPACE","This is an archived workpace"),noReplyAllowed:K("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:K("TOOLTIP.ATTACH_FILES","Attach files"),youAreViewing:K("FOOTER.YOU_ARE_VIEWING","You are viewing"),joinWorkspace:K("BUTTON.JOIN_WORKSPACE","Join workspace")},J=function(){var e={id:A.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};j(Sc(e)),V.success(r.a.createElement("span",null,r.a.createElement("b",null,A.name," ",q.workspaceIsUnarchived,".")))};return r.a.createElement(YC,{className:"post-detail-footer card-body ".concat(a)},C&&r.a.createElement(XC,null,r.a.createElement($C,{icon:"archive"}),r.a.createElement("h4",null,q.thisIsAnArchivedWorkspace),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){j(Br({type:"confirmation",cancelText:q.cancel,headerText:q.unarchiveWorkspace,submitText:q.unarchiveWorkspace,bodyText:q.unarchiveBodyText,actions:{onSubmit:J}}))}},q.unarchiveWorkspace)),r.a.createElement(KC,{className:"d-flex pr-2 pl-2"},r.a.createElement(Kk,{commentActions:u,commentId:_})),v&&!C&&r.a.createElement(r.a.Fragment,null,r.a.createElement(KC,{className:"d-flex align-items-end"},l.is_read_only?r.a.createElement(qC,{className:"d-flex align-items-center"},r.a.createElement("div",{className:"alert alert-warning"},q.noReplyAllowed)):r.a.createElement(r.a.Fragment,null,r.a.createElement(zC,{ref:O,className:"flex-grow-1 chat-input-footer"},r.a.createElement(ip,{handleClearSent:Y,sent:G,commentId:_,userMention:f,handleClearUserMention:h,commentActions:u,parentId:d,post:l,selectedGif:L,onClearGif:function(){F(null)},selectedEmoji:I,onClearEmoji:function(){R(null)},dropAction:c,members:A?A.members:[]}),r.a.createElement(VC,{className:"".concat(w?"active":""),onClick:z,icon:"smile"}),r.a.createElement(VC,{onClick:Q,icon:"send"})),r.a.createElement(ke.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:q.attachFiles},r.a.createElement(VC,{onClick:function(){return i(d)},icon:"paperclip"}))),!0===w&&r.a.createElement(JC,{handleShowEmojiPicker:z,onSelectEmoji:function(e){R(e)},onSelectGif:function(e){F(e)},orientation:"top",ref:k.picker})),W&&W.files.length>0&&r.a.createElement(ZC,null,W.files.map((function(e){return e.name})).join(", ")),r.a.createElement(KC,null)),!1===v&&null!==A&&!C&&r.a.createElement(KC,{className:"channel-viewing"},r.a.createElement("div",{className:"channel-name"},q.youAreViewing," #",A.name),r.a.createElement("div",{className:"channel-action"},r.a.createElement("button",{onClick:function(){j(xs({channel_id:A.channel.id,recipient_ids:[H.id]},(function(e,t){})))}},q.joinWorkspace))))}));function tj(){var e=Object(s.a)(["\n  width: 16px;\n  cursor: pointer;\n"]);return tj=function(){return e},e}function aj(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return aj=function(){return e},e}function nj(){var e=Object(s.a)(["\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n"]);return nj=function(){return e},e}var rj=m.a.div(nj()),ij=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},cj=Object(m.a)(ke.a)(aj()),oj=Object(m.a)(Se)(tj()),lj=r.a.memo((function(e){var t=e.post,a=e.postActions,i=e.dictionary,c=e.disableOptions,o=Object(n.useState)(t.is_favourite),l=Object(p.a)(o,2),s=l[0],d=l[1],u=sd(),m=u.fromNow,f=u.localizeDate,b=bd();return r.a.createElement(rj,{className:"card-body"},r.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},r.a.createElement("div",{className:"d-flex align-items-center"},t.users_responsible.length>0&&r.a.createElement(aA,{members:t.users_responsible})),r.a.createElement("div",{className:"ml-auto d-flex align-items-center text-muted"},r.a.createElement(EC,{post:t,isBadgePill:!0,dictionary:i}),t.files.length>0&&r.a.createElement(oj,{className:"mr-2",icon:"paperclip"}),r.a.createElement(oj,{className:"mr-2",onClick:function(){c||(a.starPost(t),d(!s))},icon:"star",fill:s?"#ffc107":"none",stroke:s?"#ffc107":"currentcolor"}),!c&&r.a.createElement(oj,{className:"mr-2",onClick:function(){a.archivePost(t)},icon:"archive"}),r.a.createElement(cj,{arrowSize:5,distance:10,onToggle:ij,content:"".concat(f(t.created_at.timestamp))},r.a.createElement("span",{className:"text-muted"},m(t.created_at.timestamp))))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{ref:function(e){e&&e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){var t=e;t.dataset.googleLinkRetrieve=1,b.getFile(t,t.dataset.googleFileId)}))},dangerouslySetInnerHTML:{__html:Oc.parseEmoji(t.body)}})))}));function sj(){var e=Object(s.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return sj=function(){return e},e}var dj=m.a.div(sj()),uj=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.comments,i=e.post,c=e.user,o=e.commentActions,l=e.onShowFileDialog,s=e.dropAction,d=e.workspace,u=e.isMember,m=e.dictionary,p=e.disableOptions;return r.a.createElement(dj,{className:"post-comments card-body ".concat(a)},n&&r.a.createElement("ul",null,Object.values(n).map((function(e){return r.a.createElement(Gk,{key:e.id,comment:e,post:i,user:c,commentActions:o,onShowFileDialog:l,dropAction:s,workspace:d,isMember:u,dictionary:m,disableOptions:p})}))))})),mj=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isBadgePill,i=void 0!==n&&n,c=e.post,o=e.dictionary;return r.a.createElement(r.a.Fragment,null,(c.is_must_read||c.is_must_reply||c.is_read_only||"draft_post"===c.type||0!==c.is_archived||!0===c.is_personal)&&r.a.createElement(r.a.Fragment,null,!0===c.is_personal&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(i?"badge-pill":"")},o.private)),1===c.is_archived&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(i?"badge-pill":"")},o.archived)),"draft_post"===c.type&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(i?"badge-pill":"")},o.draft)),c.is_must_read&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-danger ".concat(i?"badge-pill":"")},o.mustRead)),c.is_must_reply&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-warning ".concat(i?"badge-pill":"")},o.replyRequired)),c.is_read_only&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-info ".concat(i?"badge-pill":"")},o.noReplies))))}));function pj(){var e=Object(s.a)(["\n  width: 16px;\n  cursor: pointer;\n"]);return pj=function(){return e},e}function fj(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return fj=function(){return e},e}function bj(){var e=Object(s.a)(["\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n"]);return bj=function(){return e},e}var hj=m.a.div(bj()),Ej=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},_j=Object(m.a)(ke.a)(fj()),gj=Object(m.a)(Se)(pj()),Oj=r.a.memo((function(e){var t=e.post,a=e.postActions,i=e.dictionary,c=e.disableOptions,o=Object(n.useState)(t.is_favourite),l=Object(p.a)(o,2),s=l[0],d=l[1],u=sd(),m=u.localizeDate,f=u.fromNow,b=bd();return r.a.createElement(hj,{className:"card-body"},r.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},r.a.createElement("div",{className:"d-flex align-items-center"},t.users_responsible.length>0&&r.a.createElement(ki,{users:t.users_responsible})),r.a.createElement("div",{className:"ml-auto d-flex align-items-center text-muted"},r.a.createElement(mj,{post:t,isBadgePill:!0,dictionary:i}),t.files.length>0&&r.a.createElement(gj,{className:"mr-2",icon:"paperclip"}),r.a.createElement(gj,{className:"mr-2",onClick:function(){c||(a.starPost(t),d(!s))},icon:"star",fill:s?"#ffc107":"none",stroke:s?"#ffc107":"currentcolor"}),!c&&r.a.createElement(gj,{className:"mr-2",onClick:function(){a.archivePost(t)},icon:"archive"}),r.a.createElement("div",{className:"time-stamp"},r.a.createElement(_j,{arrowSize:5,distance:10,onToggle:Ej,content:"".concat(m(t.created_at.timestamp))},r.a.createElement("span",{className:"text-muted"},f(t.created_at.timestamp)))))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{ref:function(e){e&&e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){var t=e;t.dataset.googleLinkRetrieve=1,b.getFile(t,t.dataset.googleFileId)}))},dangerouslySetInnerHTML:{__html:Oc.parseEmoji(t.body)}})))}));function Aj(){var e=Object(s.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return Aj=function(){return e},e}var vj=m.a.div(Aj()),Cj=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.comments,i=e.post,c=e.user,o=e.commentActions,l=e.onShowFileDialog,s=e.dropAction,d=e.workspace,u=e.isMember,m=void 0===u||u,p=e.dictionary,f=e.disableOptions,b=void 0!==f&&f;return r.a.createElement(vj,{className:"post-comments card-body ".concat(a)},n&&r.a.createElement("ul",null,Object.values(n).map((function(e){return r.a.createElement(Gk,{key:e.id,comment:e,post:i,user:c,commentActions:o,onShowFileDialog:l,dropAction:s,workspace:d,isMember:m,dictionary:p,disableOptions:b,isCompanyPost:!0})}))))}));function jj(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return jj=function(){return e},e}function kj(){var e=Object(s.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]);return kj=function(){return e},e}function yj(){var e=Object(s.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]);return yj=function(){return e},e}function Tj(){var e=Object(s.a)(["\n  width: 100%;\n  padding: 0.5rem 1.5rem;\n  .seen-indicator,\n  .post-reaction {\n    cursor: pointer;\n  }\n  .clap-true {\n    color: #f44;\n    fill: #f44;\n  }\n"]);return Tj=function(){return e},e}function wj(){var e=Object(s.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 28px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]);return wj=function(){return e},e}function Nj(){var e=Object(s.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  \n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 0.5rem;\n    \n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;  \n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n      \n      &:hover {\n        opacity: 1;\n        max-height: 165px;  \n      }\n      \n      .dark & {\n        background-color: #191c20;  \n      }\n      \n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      \n        .avatar {\n          img {\n            min-width: 28px;\n          }\n        }\n      \n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;      \n        }\n      }\n    }\n  }\n  \n  .user-reads-container {         \n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }                  \n  }  \n"]);return Nj=function(){return e},e}function Sj(){var e=Object(s.a)(["\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]);return Sj=function(){return e},e}var xj=m.a.div(Sj()),Ij=m.a.div(Nj()),Rj=Object(m.a)(au)(wj()),Pj=m.a.div(Tj()),Dj=Object(m.a)(ji)(yj()),Lj=Object(m.a)(Se)(kj()),Fj=m.a.div(jj()),Mj=r.a.memo((function(e){var t=Object(o.useDispatch)(),i=Object(d.g)(),c=hs(),l=e.post,s=e.postActions,u=e.user,m=e.onGoBack,f=e.dictionary,b=e.readByUsers,h=void 0===b?[]:b,E=s.markAsRead,_=s.markAsUnread,g=s.sharePost,O=s.followPost,A=s.remind,v=bs(l,c),C=h.some((function(e){return e.id===u.id})),j=Object(n.useState)(!1),k=Object(p.a)(j,2),y=k[0],T=k[1],w=Object(n.useState)({user_clap_count:l.user_clap_count,clap_count:l.clap_count}),N=Object(p.a)(w,2),S=N[0],x=N[1],R={dropZoneRef:Object(n.useRef)(null)},P=function(e){t(Go(e)),R.dropZoneRef.current&&R.dropZoneRef.current.open()},D=function(){T(!1)},L=function(e){var n=[];e.forEach((function(e){var t=new FormData;t.append("file",e);var r=a(37).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?n.push(Object(I.a)(Object(I.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):"video/mp4"===e.type?n.push(Object(I.a)(Object(I.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):n.push(Object(I.a)(Object(I.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:t,name:e.name?e.name:e.path}))})),D(),t(Br({type:"file_upload",droppedFiles:n,mode:"post",post:l}))};return Object(n.useEffect)((function(){l.view_user_ids.some((function(e){return e===u.id}))||s.visit({post_id:l.id,personalized_for_id:null}),(1===l.is_unread||l.unread_count>0||!l.is_updated)&&s.markAsRead(l)}),[]),r.a.createElement(r.a.Fragment,null,null!==l.todo_reminder&&r.a.createElement(gc,{todoReminder:l.todo_reminder,type:"POST"}),r.a.createElement(xj,{className:"card-header d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Lj,{className:"close mr-2",icon:"arrow-left",onClick:function(){m()}})),r.a.createElement("li",null,r.a.createElement("h5",{ref:R.title,className:"post-title mb-0"},r.a.createElement("span",null,l.title)),r.a.createElement("div",{className:"author-name"},r.a.createElement(Pi,{content:l.author.name},f.by," ",r.a.createElement("span",{onClick:function(){i.push("/profile/".concat(l.author.id,"/").concat(ue(l.author.name)))},className:"cursor-pointer"},l.author.first_name)))))),r.a.createElement("div",null,l.author.id!==u.id&&l.is_must_read&&!C&&r.a.createElement(Fj,{className:"d-sm-inline d-none"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){s.markReadRequirement(l)}},f.markAsRead)),l.author.id===u.id&&r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},r.a.createElement("a",{onClick:function(){return s.showModal("edit_company",l)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},r.a.createElement(Lj,{icon:"edit-3"})))),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return s.trash(l)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},r.a.createElement(Lj,{icon:"trash"})))),r.a.createElement("div",null,r.a.createElement(Rj,{className:"ml-2",item:l,width:220,moreButton:"more-horizontal"},null===l.todo_reminder&&r.a.createElement("div",{onClick:function(){return A(l)}},f.remindMeAboutThis),0===l.is_unread?r.a.createElement("div",{onClick:function(){return _(l,!0)}},f.markAsUnread):r.a.createElement("div",{onClick:function(){return E(l,!0)}},f.markAsRead),r.a.createElement("div",{onClick:function(){return g(l)}},f.share),l.author.id!==u.id&&r.a.createElement("div",{onClick:function(){return O(l)}},l.is_followed?f.unFollow:f.follow))))),r.a.createElement(Ij,{onDragOver:function(){T(!0)}},r.a.createElement(Nb,{hide:!y,ref:R.dropZoneRef,onDragLeave:D,onDrop:function(e){var t=e.acceptedFiles;L(t)},onCancel:D}),r.a.createElement(Oj,{post:l,postActions:s,isAuthor:l.author.id===u.id,dictionary:f}),r.a.createElement("hr",{className:"m-0"}),r.a.createElement(Pj,{className:"d-flex align-items-center"},r.a.createElement("div",null,r.a.createElement(Lj,{className:S.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"heart",onClick:function(){x((function(e){return{user_clap_count:e.user_clap_count?0:1,clap_count:e.user_clap_count?e.clap_count-1:e.clap_count+1}}));var e={post_id:l.id,id:null,clap:0===l.user_clap_count?1:0,personalized_for_id:null};s.clap(e)}}),S.clap_count),r.a.createElement("div",{className:"readers-container ml-auto text-muted"},h.length>0&&r.a.createElement("div",{className:"user-reads-container"},C&&r.a.createElement("span",{className:"mr-2"},r.a.createElement(Lj,{className:"mr-2",icon:"check"})," ",f.alreadyReadThis),r.a.createElement("span",{className:"no-readers"},f.readByNumberofUsers),r.a.createElement("span",{className:"hover read-users-container"},h.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(Fe,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),r.a.createElement(Lj,{className:"mr-2",icon:"message-square"}),l.reply_count,r.a.createElement(Lj,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),l.view_user_ids.length)),l.files.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},f.files),r.a.createElement(Dj,{attachedFiles:l.files,type:"company",post:l})),r.a.createElement("hr",{className:"m-0"})),v&&Object.keys(v).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Cj,{comments:v,post:l,user:u,commentActions:c,onShowFileDialog:P,dropAction:L,dictionary:f}),r.a.createElement("hr",{className:"m-0"})),r.a.createElement($j,{isMember:!0,post:l,commentActions:c,onShowFileDialog:P,dropAction:L})))}));function Uj(){var e=Object(s.a)(["\n  padding: 5px 45px;\n"]);return Uj=function(){return e},e}function Gj(){var e=Object(s.a)(["\n  right: 130px;\n  bottom: 75px;\n  \n  .common-picker-btn {\n    text-align: right;\n  }\n"]);return Gj=function(){return e},e}function Bj(){var e=Object(s.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n"]);return Bj=function(){return e},e}function Hj(){var e=Object(s.a)(["\n  // width: 100%;\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  svg.feather-send {\n    margin-left: 8px;\n  }\n  svg.feather-paperclip {\n    margin-left: 0;\n    margin-right: 0;\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    div:nth-child(4) {\n      order: 1;\n      margin-right: 8px;\n    }\n    div:nth-child(2) { order: 3; }\n    svg:nth-child(3) { order: 3; }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"]);return Hj=function(){return e},e}function Wj(){var e=Object(s.a)(["\n"]);return Wj=function(){return e},e}function Qj(){var e=Object(s.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  padding-right: 80px;\n  margin-right: 8px;\n  min-height: 48px;\n  .feather-send,\n  .feather-smile {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    margin: 4px;\n    height: calc(100% - 8px);\n    max-height: 38px;\n    background: #7a1b8b;\n    border-radius: 4px;\n    min-width: 40px;\n    width: 40px;\n    padding: 10px;\n    cursor: pointer;\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    right: 44px;\n    margin: 4px 0;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-send:hover {\n    background-color: #7a1b8bcc;\n  }\n"]);return Qj=function(){return e},e}function Yj(){var e=Object(s.a)(["\n  position: relative;\n  > div > svg:first-child {\n    margin-left: 0 !important;\n  }\n  flex: unset;\n  \n  .feather-paperclip {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 46px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    &:hover {\n      background-color: #e1e1e1;\n    }\n  }  \n"]);return Yj=function(){return e},e}var zj=m.a.div(Yj()),Vj=m.a.div(Qj()),Kj=Object(m.a)(Se)(Wj()),qj=m.a.div(Hj()),Jj=m.a.div(Bj()),Zj=Object(m.a)(Qa)(Gj()),Xj=m.a.div(Uj()),$j=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onShowFileDialog,c=e.dropAction,l=e.post,s=e.parentId,d=void 0===s?null:s,u=e.commentActions,m=e.userMention,f=void 0===m?null:m,b=e.handleClearUserMention,h=void 0===b?null:b,E=e.commentId,_=void 0===E?null:E,g=e.innerRef,O=void 0===g?null:g,A=e.isMember,v={picker:Object(n.useRef)()},C=Object(n.useState)(!1),j=Object(p.a)(C,2),k=j[0],y=j[1],T=Object(n.useState)(null),w=Object(p.a)(T,2),N=w[0],S=w[1],x=Object(n.useState)(null),I=Object(p.a)(x,2),R=I[0],P=I[1],D=Object(n.useState)(!1),L=Object(p.a)(D,2),F=L[0],M=L[1],U=Object(o.useSelector)((function(e){return e.posts.editPostComment})),G=Object(n.useCallback)((function(){M(!0)}),[M]),B=Object(n.useCallback)((function(){M(!1)}),[M]),H=function(){y(!k)},W=fl()._t,Q={noReplyAllowed:W("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:W("TOOLTIP.ATTACH_FILES","Attach files")};return r.a.createElement(zj,{className:"company-post-detail-footer card-body ".concat(a)},r.a.createElement(qj,{className:"d-flex pr-2 pl-2"},r.a.createElement(Kk,{commentActions:u,commentId:_})),A&&r.a.createElement(r.a.Fragment,null,r.a.createElement(qj,{className:"d-flex align-items-end"},l.is_read_only?r.a.createElement(Jj,{className:"d-flex align-items-center"},r.a.createElement("div",{className:"alert alert-warning"},Q.noReplyAllowed)):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vj,{ref:O,className:"flex-grow-1 chat-input-footer"},r.a.createElement(gp,{handleClearSent:B,sent:F,commentId:_,userMention:f,handleClearUserMention:h,commentActions:u,parentId:d,post:l,selectedGif:R,onClearGif:function(){P(null)},selectedEmoji:N,onClearEmoji:function(){S(null)},dropAction:c,members:l.members}),r.a.createElement(Kj,{className:"".concat(k?"active":""),onClick:H,icon:"smile"}),r.a.createElement(Kj,{onClick:G,icon:"send"})),r.a.createElement(ke.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:Q.attachFiles},r.a.createElement(Kj,{onClick:function(){return i(d)},icon:"paperclip"}))),!0===k&&r.a.createElement(Zj,{handleShowEmojiPicker:H,onSelectEmoji:function(e){S(e)},onSelectGif:function(e){P(e)},orientation:"top",ref:v.picker})),U&&U.files.length>0&&r.a.createElement(Xj,null,U.files.map((function(e){return e.name})).join(", ")),r.a.createElement(qj,null)))}));function ek(){var e=Object(s.a)(["\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n"]);return ek=function(){return e},e}var tk=m.a.div(ek()),ak=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.filter,c=void 0===i?"all":i,o=e.onGoBack,l=e.counters,s=e.dictionary,d=us().setCompanyFilterPosts,u=Object(n.useCallback)((function(e){if(e.persist(),e.target.dataset.value===c)o();else{var t={filter:e.target.dataset.value,tag:null};d(t),o()}document.body.classList.remove("mobile-modal-open")}),[c,o]);return r.a.createElement(tk,{className:"post-filter-item list-group list-group-flush ".concat(a)},r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"all"===c?"active":""),"data-value":"all",onClick:u},r.a.createElement(Se,{className:"mr-2",icon:"book-open"}),s.all,r.a.createElement("span",{className:"small ml-auto"},l.all>0&&l.all)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"my_posts"===c?"active":""),"data-value":"my_posts",onClick:u},r.a.createElement(Se,{className:"mr-2",icon:"send"}),s.myPosts,r.a.createElement("span",{className:"small ml-auto"},l.my_posts>0&&l.my_posts)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"star"===c?"active":""),"data-value":"star",onClick:u},r.a.createElement(Se,{className:"mr-2",icon:"star"}),s.starred,r.a.createElement("span",{className:"small ml-auto"},l.starred>0&&l.starred)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"archive"===c?"active":""),"data-value":"archive",onClick:u},r.a.createElement(Se,{className:"mr-2",icon:"archive"}),s.archived,r.a.createElement("span",{className:"small ml-auto"},l.archived>0&&l.archived)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"draft"===c?"active":""),"data-value":"draft",onClick:u},r.a.createElement(Se,{className:"mr-2",icon:"edit-3"}),s.drafts,r.a.createElement("span",{className:"small ml-auto"},l.drafts>0&&l.drafts)))}));function nk(){var e=Object(s.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n"]);return nk=function(){return e},e}var rk=m.a.div(nk()),ik=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.activeSort,c=void 0===i?null:i,o=e.search,l=e.dictionary,s=us().setCompanyFilterPosts,d=Object(n.useCallback)((function(e){e.persist(),s({sort:e.target.dataset.value})})),u={label:l.sortBy,items:[{value:"favorite",label:l.starredFavorite,onClick:d},{value:"recent",label:l.recent,onClick:d},{value:"unread",label:l.unread,onClick:d}]};return r.a.createElement(rk,{className:"post-filter-search-panel app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(wi,{value:c,dropdown:u}))),r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(Se,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement(hk,{search:o,placeholder:l.searchPost})))}));function ck(){var e=Object(s.a)(["\n  a {\n    cursor: pointer;\n  }\n"]);return ck=function(){return e},e}var ok=m.a.div(ck()),lk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=(e.workspace,e.tag),c=e.count,o=e.onGoBack,l=e.dictionary,s=us().setCompanyFilterPosts,d=Object(n.useCallback)((function(e){e.persist();var t={tag:e.target.dataset.value,filter:null};i===e.target.dataset.value&&(t=Object(I.a)(Object(I.a)({},t),{},{tag:null,filter:"all"})),s(t),o(),document.body.classList.remove("mobile-modal-open")}),[]);return r.a.createElement(ok,{className:"list-group list-group-flush ".concat(a)},r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_must_reply"===i?"active":""),"data-value":"is_must_reply",onClick:d},r.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),l.replyRequired,r.a.createElement("span",{className:"small ml-auto"},c&&c.is_must_reply>0&&c.is_must_reply)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_must_read"===i?"active":""),"data-value":"is_must_read",onClick:d},r.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),l.mustRead,r.a.createElement("span",{className:"small ml-auto"},c&&c.is_must_read>0&&c.is_must_read)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_read_only"===i?"active":""),"data-value":"is_read_only",onClick:d},r.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),l.noReplies,r.a.createElement("span",{className:"small ml-auto"},c&&c.is_read_only>0&&c.is_read_only)))}));function sk(){var e=Object(s.a)(["\n  width: 16px;\n"]);return sk=function(){return e},e}function dk(){var e=Object(s.a)(["\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #363636;\n    font-weight: 500;\n\n    &.has-unread {\n      font-weight: 500;\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n  }\n\n  &:hover {\n    .more-options {\n      display: flex;\n    }\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n"]);return dk=function(){return e},e}var uk=m.a.li(dk()),mk=Object(m.a)(Se)(sk()),pk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.post,i=e.postActions,c=e.dictionary,l=e.disableOptions,s=Object(o.useSelector)((function(e){return e.session.user})),d=Object(o.useSelector)((function(e){return e.workspaces.flipper})),u=i.starPost,m=(i.markPost,i.openPost),p=i.archivePost,f=i.markAsRead,b=i.markAsUnread,h=i.sharePost,E=i.followPost,_=i.remind,g=i.showModal;return r.a.createElement(uk,{"data-toggle":d?"1":"0",className:"list-group-item post-item-panel ".concat(a),onClick:function(){return m(n,"/posts")}},r.a.createElement("div",{className:"flex-grow-1 min-width-0"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"app-list-title text-truncate\n                            ".concat(n.unread_count>0||1===n.is_unread?"text-primary has-unread":"","\n                            ")},r.a.createElement("span",null,n.title),r.a.createElement("div",{className:"text-truncate post-partialBody"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:Oc.parseEmoji(n.partial_body)}}))),r.a.createElement("div",{className:"pl-3 d-flex align-items-center"},0!==n.unread_count&&r.a.createElement("div",{className:"ml-2 mr-2 badge badge-primary badge-pill"},n.unread_count),r.a.createElement(mj,{post:n,dictionary:c}),n.users_responsible&&n.users_responsible.length>0&&r.a.createElement(aA,{members:n.users_responsible,classNames:"mr-2"}),!l&&r.a.createElement(mk,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),p(n)}})))),"draft_post"!==n.type&&!l&&r.a.createElement(au,{className:"ml-2",item:n,width:220,moreButton:"more-horizontal"},null===n.todo_reminder&&r.a.createElement("div",{onClick:function(){return _(n)}},c.remindMeAboutThis),n.author&&n.author.id===s.id&&r.a.createElement("div",{onClick:function(){return g("edit_company",n)}},c.editPost),0===n.is_unread?r.a.createElement("div",{onClick:function(){return b(n,!0)}},c.markAsUnread):r.a.createElement("div",{onClick:function(){return f(n,!0)}},c.markAsRead),r.a.createElement("div",{onClick:function(){return h(n)}},c.share),n.author&&n.author.id!==s.id&&r.a.createElement("div",{onClick:function(){return E(n)}},n.is_followed?c.unFollow:c.follow),r.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),l||u(n)}},n.is_favourite?c.unStar:c.star)))}));function fk(){var e=Object(s.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return fk=function(){return e},e}var bk=m.a.div(fk()),hk=r.a.memo((function(e){var t=e.search,a=e.placeholder,i=Object(o.useDispatch)(),c=Object(n.useState)(null===t?"":t),l=Object(p.a)(c,2),s=l[0],d=l[1],u=function(){d(""),i(el({search:null,search_result:[]}))},m=function(){i($o({search:s},(function(e,t){e||i(el({search:s,search_result:t.data.posts}))})))};return r.a.createElement(bk,{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:a,value:s,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&m()},onChange:function(e){""===e.target.value.trim()&&""!==s&&u(),d(e.target.value)}}),""!==s.trim()&&r.a.createElement("button",{onClick:u,className:"btn-cross",type:"button"},r.a.createElement(Se,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:m},r.a.createElement("i",{className:"ti-search"}))))}));function Ek(){var e=Object(s.a)([""]);return Ek=function(){return e},e}function _k(){var e=Object(s.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 768px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    margin-bottom: 0px !important;\n  }\n"]);return _k=function(){return e},e}var gk=m.a.div(_k()),Ok=m.a.div(Ek()),Ak=r.a.memo((function(e){var t=e.workspace,a=e.filter,n=e.tag,i=e.count,c=e.counters,o=e.postActions,l=e.onGoBack,s=e.dictionary,d=e.disableOptions;return r.a.createElement(gk,{className:"col-md-3 app-sidebar bottom-modal-mobile"},r.a.createElement(Ok,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"bottom-modal-mobile_inner"},r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},r.a.createElement("div",{className:"card-body create-new-post-wrapper"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){o.showModal("create_company")},disabled:d},s.createNewPost)),r.a.createElement(ak,{filter:a,tag:n,onGoBack:l,counters:c,dictionary:s}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-0"},s.category)),r.a.createElement(lk,{count:i,workspace:t,tag:n,onGoBack:l,dictionary:s}))))}));function vk(){var e=Object(s.a)(["\n  width: 16px;\n"]);return vk=function(){return e},e}function Ck(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return Ck=function(){return e},e}function jk(){var e=Object(s.a)([""]);return jk=function(){return e},e}function kk(){var e=Object(s.a)([""]);return kk=function(){return e},e}function yk(){var e=Object(s.a)([""]);return yk=function(){return e},e}function Tk(){var e=Object(s.a)(["\n  .more-options {\n    margin-left: auto;\n    width: 28px;\n    height: 28px;\n    padding: 6px 0 0 5px;\n    svg {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]);return Tk=function(){return e},e}function wk(){var e=Object(s.a)(["\n  .comment-reaction {\n    cursor: pointer;\n  }\n  .clap-true {\n    color: #f44;\n    fill: #f44;\n  }\n"]);return wk=function(){return e},e}function Nk(){var e=Object(s.a)(["\n  overflow: initial;\n  z-index: 10;\n"]);return Nk=function(){return e},e}function Sk(){var e=Object(s.a)(['\n  margin-bottom: 1rem;\n  overflow: initial;\n\n  .mention {\n    font-weight: bold;\n    color: #7a1b8b;\n    &[data-value="All"],\n    &[data-id="','"] {\n      font-weight: normal;\n      box-shadow: none;\n      padding: 0 4px;\n      border-radius: 8px;\n      text-decoration: underline;\n      display: inline-block;\n      width: auto;\n      height: auto;\n    }\n  }\n\n  .quote {\n    border-radius: 6px;\n    margin: 0 auto 0.5rem;\n    width: 95%;\n    position: relative;\n    padding: 1rem;\n\n    &.border-side {\n      border-left: 5px solid #822492;\n    }\n\n    > * {\n      margin-bottom: 0;\n    }\n  }\n\n  .quote-author {\n    margin-top: 2rem;\n    font-style: italic;\n    margin-left: 2.5%;\n  }\n\n  .files {\n    margin-bottom: 1rem;\n\n    li {\n      display: inline-block;\n\n      &:not(:last-child) {\n        margin-right: 1rem;\n      }\n\n      .feather-paperclip {\n        margin-right: 0.5rem;\n      }\n    }\n  }\n']);return Sk=function(){return e},e}var xk=m.a.li(Sk(),(function(e){return e.userId})),Ik=m.a.li(Nk()),Rk=m.a.div(wk()),Pk=m.a.div(Tk()),Dk=m.a.div(yk()),Lk=Object(m.a)(ej)(kk()),Fk=Object(m.a)($j)(jk()),Mk=m.a.span(Ck()),Uk=Object(m.a)(Se)(vk()),Gk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.comment,c=e.post,o=e.type,l=void 0===o?"main":o,s=e.user,u=e.commentActions,m=e.parentId,f=e.onShowFileDialog,b=e.dropAction,h=e.parentShowInput,E=void 0===h?null:h,_=e.workspace,g=e.isMember,O=e.dictionary,A=e.disableOptions,v=e.isCompanyPost,C=void 0!==v&&v,j={input:Object(n.useRef)(null),body:Object(n.useRef)(null),main:Object(n.useRef)(null)},k=Object(d.g)(),y=bd(),T=Object(n.useState)(null),w=Object(p.a)(T,2),N=w[0],S=w[1],x=Object(n.useState)(null),I=Object(p.a)(x,2),R=I[0],P=I[1],D=Object(n.useState)(null),L=Object(p.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)({user_clap_count:i.user_clap_count,clap_count:i.clap_count}),G=Object(p.a)(U,2),B=G[0],H=G[1],W=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log(e),E?E(e):S("number"!==typeof e?i.id:e),Y()}),[S]),Q=Object(n.useCallback)((function(){P(null)}),[]),Y=Object(n.useCallback)((function(){null!==N&&null!==j.input.current&&(j.input.current.querySelector(".ql-editor").scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),j.input.current.querySelector(".ql-editor").focus())}),[N,j.input.current]),z=sd().fromNow;return Object(n.useEffect)((function(){Y()}),[Y]),Object(n.useEffect)((function(){"object"===typeof k.location.state&&k.location.state&&k.location.state.focusOnMessage===i.id&&j.body.current&&(j.body.current.scrollIntoView(),j.main.current.classList.add("bounceIn"),k.push(k.location.pathname,null))}),[k.location.state]),Object(n.useEffect)((function(){return null!==i.body.match(/\.(gif)/g)&&M(!0),function(){k.push(k.location.pathname,null)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(xk,{ref:j.main,className:"comment card border fadeBottom ".concat(a," animated"),userId:s.id},null!==i.todo_reminder&&r.a.createElement(gc,{todoReminder:i.todo_reminder,type:"POST_COMMENT"}),i.quote&&r.a.createElement(r.a.Fragment,null,i.quote.user&&r.a.createElement("div",{className:"quote-author"},i.quote.user.name),r.a.createElement("div",{className:"quote border border-side",dangerouslySetInnerHTML:{__html:i.quote.body}})),r.a.createElement(Rk,{ref:j.body,className:"card-body",type:l},r.a.createElement(Pk,{className:"d-flex"},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement(Fe,{className:"mr-2",id:i.author.id,name:i.author.name,imageLink:i.author.profile_image_link}),r.a.createElement("span",null,i.author.first_name),r.a.createElement("span",{className:"text-muted ml-1"},z(i.created_at.timestamp))),!c.is_read_only&&!A&&r.a.createElement(au,{scrollRef:j.body.current,moreButton:"more-horizontal"},null===i.todo_reminder&&r.a.createElement("div",{onClick:function(){return u.remind(i,c)}},O.remindMeAboutThis),s.id===i.author.id&&r.a.createElement("div",{onClick:function(){return u.setToEdit(i)}},O.editReply),r.a.createElement("div",{onClick:function(){E?E(i.id):(S(i.id),Y()),u.addQuote(i)}},O.quote),s.id!==i.author.id&&r.a.createElement("div",{onClick:function(){P('<p class="mention-data"><span class="mention" data-index="0" data-denotation-char="@" data-id="'.concat(i.author.id,'" data-value="').concat(i.author.name,'">\n        <span contenteditable="false"><span class="ql-mention-denotation-char">@</span>').concat(i.author.name,"</span></span></p> ")),S(!0)}},O.mentionUser),s.id===i.author.id&&r.a.createElement("div",{onClick:function(){return u.remove(i)}},O.removeReply))),r.a.createElement(Dk,{ref:function(e){e&&e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){var t=e;t.dataset.googleLinkRetrieve=1,y.getFile(t,t.dataset.googleFileId)}))},className:"mt-2 mb-3",dangerouslySetInnerHTML:{__html:Oc.parseEmoji(i.body)}}),F&&function(e){var t=[];return e.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi,(function(e){Ae(e)&&t.push(e)})),t}(i.body).map((function(e,t){return r.a.createElement(kE.a,{key:t,className:"gifPlayer",gif:e,autoplay:!0})})),i.files.length>=1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h6",null,O.files),r.a.createElement(ji,{attachedFiles:i.files,type:"workspace",comment:i})),r.a.createElement("div",{className:"d-flex align-items-center justify-content-start"},r.a.createElement(Uk,{className:B.user_clap_count?"mr-2 comment-reaction clap-true":"mr-2 comment-reaction clap-false",icon:"heart",onClick:function(){if(!A){H((function(e){return{user_clap_count:e.user_clap_count?0:1,clap_count:e.user_clap_count?e.clap_count-1:e.clap_count+1}}));var e={id:i.id,reaction:"clap",counter:0===i.user_clap_count?1:0};u.clap(e)}}}),B.clap_count>0?B.clap_count:null,!c.is_read_only&&!A&&r.a.createElement(Mk,{className:"ml-3",onClick:W},O.comment)))),"main"===l&&Object.values(i.replies).length>0&&r.a.createElement(Wk,{parentShowInput:W,comments:i.replies,post:c,user:s,commentActions:u,parentId:"main"===l?i.id:null,onShowFileDialog:f,dropAction:b,workspace:_,isMember:g,dictionary:O,disableOptions:A,isCompanyPost:C}),null!==N&&r.a.createElement(Ik,{className:"card"},C?r.a.createElement(Fk,{innerRef:j.input,user:s,commentId:N,post:c,parentId:"main"===l?i.id:m,commentActions:u,userMention:R,handleClearUserMention:Q,onShowFileDialog:f,dropAction:b,workspace:_,isMember:g,disableOptions:A}):r.a.createElement(Lk,{innerRef:j.input,user:s,commentId:N,post:c,parentId:"main"===l?i.id:m,commentActions:u,userMention:R,handleClearUserMention:Q,onShowFileDialog:f,dropAction:b,workspace:_,isMember:g,disableOptions:A})))}));function Bk(){var e=Object(s.a)(["\n  width: 95%;\n"]);return Bk=function(){return e},e}var Hk=m.a.ul(Bk()),Wk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.comments,i=e.post,c=e.commentActions,o=e.parentId,l=e.user,s=e.onShowFileDialog,d=e.dropAction,u=e.parentShowInput,m=e.workspace,p=e.isMember,f=e.dictionary,b=e.disableOptions;return n&&r.a.createElement(Hk,{className:"sub-comments ".concat(a)},Object.values(n).map((function(e){return r.a.createElement(Gk,{key:e.id,comment:e,type:"sub",post:i,user:l,parentShowInput:function(){u(e.id)},commentActions:c,parentId:o,onShowFileDialog:s,dropAction:d,workspace:m,isMember:p,dictionary:f,disableOptions:b})})))}));function Qk(){var e=Object(s.a)([""]);return Qk=function(){return e},e}function Yk(){var e=Object(s.a)(["\n  padding: 0 10px 10px;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  border-left: 2px solid #972c86;\n  margin-left: 30px;\n  margin-bottom: 10px;\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: -35px;\n    top: calc(50% - 10px);\n    background-color: #fff;\n    cursor: pointer;\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return Yk=function(){return e},e}var zk=m.a.div(Yk()),Vk=Object(m.a)(Se)(Qk()),Kk=function(e){var t=e.commentActions,a=e.commentId,n=gs(a),i=Object(p.a)(n,2),c=i[0],o=i[1];return c?r.a.createElement(zk,null,r.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:c.user?c.user.name:""}}),r.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:c.body?o.split("</p>")[0]:""}}),r.a.createElement("span",{className:"quote-clear-container",onClick:function(){t.clearQuote(a)}},r.a.createElement(Vk,{icon:"x"}))):null};function qk(){var e=Object(s.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    cursor: hand;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]);return qk=function(){return e},e}var Jk=m.a.div(qk()),Zk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.posts,c=e.dictionary,o=e.disableOptions,l=us(),s=Object(d.j)(),u=Object(n.useState)(null),m=Object(p.a)(u,2),f=m[0],b=m[1],h=Object(n.useCallback)((function(e){null===f&&b(e)}),[]),E=function(e){l.openPost(e,s.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(n.useEffect)((function(){s.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(s.params.workspaceId)}),[s.params.workspaceId]),r.a.createElement(Jk,{className:"recent-posts card ".concat(a)},r.a.createElement("div",{ref:h,className:"card-body"},r.a.createElement("h5",{className:"card-title"},c.recentPosts," ",r.a.createElement(Se,{icon:"refresh-ccw",onClick:function(){s.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(s.params.workspaceId)}})),i&&Object.keys(i).length?r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(i).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return r.a.createElement(Zv,{key:e.id,post:e,parentRef:f,postActions:l,onOpenPost:E,disableOptions:o})}))):r.a.createElement("span",{className:"medium text-muted"},c.noRecentPosts)))}));function Xk(){var e=Object(s.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return Xk=function(){return e},e}var $k=m.a.div(Xk()),ey=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onEditClick,c=e.dictionary,o=e.actions,l=Object(n.useState)(null),s=Object(p.a)(l,2),d=s[0],u=s[1],m=ds().users,f=Object(n.useCallback)((function(e){null===d&&u(e)}),[]);return r.a.createElement($k,{className:"dashboard-team card ".concat(a)},r.a.createElement("div",{ref:f,className:"card-body"},r.a.createElement("h5",{className:"card-title"},c.team),r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(m).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return r.a.createElement(Qv,{key:e.id,member:e,hideOptions:!0,parentRef:d,onEditClick:i,actions:o,dictionary:c})})))))}));function ty(){var e=Object(s.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]);return ty=function(){return e},e}var ay=m.a.div(ty()),ny=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.posts,c=e.dictionary,o=e.disableOptions,l=us(),s=Object(d.j)(),u=Object(n.useState)(null),m=Object(p.a)(u,2),f=m[0],b=m[1],h=Object(n.useCallback)((function(e){null===f&&b(e)}),[]),E=function(e){l.openPost(e,s.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(n.useEffect)((function(){s.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(s.params.workspaceId)}),[s.params.workspaceId]),r.a.createElement(ay,{className:"recent-posts card ".concat(a)},r.a.createElement("div",{ref:h,className:"card-body"},r.a.createElement("h5",{className:"card-title"},c.recentPosts," ",r.a.createElement(Se,{icon:"refresh-ccw",onClick:function(){s.params.hasOwnProperty("workspaceId")&&l.getRecentPosts(s.params.workspaceId)}})),i&&Object.keys(i).length?r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(i).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return r.a.createElement(Zv,{key:e.id,post:e,parentRef:f,postActions:l,onOpenPost:E,disableOptions:o})}))):r.a.createElement("span",{className:"medium text-muted"},c.noRecentPosts)))}));function ry(){var e=Object(s.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"]);return ry=function(){return e},e}var iy=m.a.div(ry()),cy=r.a.memo((function(e){var t,a=e.className,n=void 0===a?"":a,i=e.match,c=e.actions,o=i.params,l=fl()._t,s=Od(),d=s.timelineInit,u=s.timelineItems,m=s.recentPostsInit,p=(s.recentPostsItems,s.membersInit,s.membersItems,Ed().posts),f=window.innerWidth,b=(t={aboutThisWorkspace:l("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:l("TEAM","Team"),timeline:l("TIMELINE","Timeline"),noRecentPosts:l("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:l("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:l("FILE_ATTACHMENTS","File attachments"),attachedFile:l("ATTACHED_A_FILE","attached a file"),sharedThePost:l("SHARED_THE_POST","shared the post"),hasJoined:l("TIMELINE.HAS_JOINED","has joined"),hasLeft:l("TIMELINE.HAS_LEFT","has left"),youJoined:l("TIMELINE.YOU_JOINED","You joined"),youLeft:l("TIMELINE.YOU_LEFT","You left"),isAdded:l("TIMELINE.IS_ADDED","is added"),isRemoved:l("TIMELINE.IS_REMOVED","is removed"),createdThePost:l("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:l("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),isAddedToCompany:l("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company")},Object(Hi.a)(t,"updatedWorkspaceTo",l("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to")),Object(Hi.a)(t,"revokeAsTeamLead",l("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead")),Object(Hi.a)(t,"revokeAsApprover",l("TEAM.REVOKE_APPROVER","Revoke as approver")),Object(Hi.a)(t,"assignAsTeamLead",l("TEAM.REVOKE_TEAM_LEAD","Assign as team lead")),Object(Hi.a)(t,"assignAsApprover",l("TEAM.REVOKE_APPROVER","Assign as approver")),Object(Hi.a)(t,"remove",l("TEAM.REMOVE","Remove")),t);return r.a.createElement(iy,{className:"container-fluid h-100 fadeIn ".concat(n)},r.a.createElement("div",{className:"row"},f>620?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Su,{init:d,timeline:u,actions:c,params:o,dictionary:b})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(ey,{dictionary:b}),r.a.createElement(ny,{posts:p,dictionary:b}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ey,{dictionary:b}),r.a.createElement(ny,{init:m,posts:p,dictionary:b}),r.a.createElement(Su,{init:d,timeline:u,actions:c,params:o,dictionary:b})))))}));function oy(){var e=Object(s.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return oy=function(){return e},e}var ly=Object(m.a)(au)(oy()),sy=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.file,c=e.scrollRef,o=void 0===c?null:c,l=e.actions,s=e.forceDelete,d=e.disableOptions,u=cd();return r.a.createElement(ly,{className:"file-options ".concat(a),moreButton:"more-horizontal",file:i,scrollRef:o},r.a.createElement("div",{onClick:function(){l.viewCompanyFiles(i)}},"View Details"),r.a.createElement("div",{onClick:function(){l.download(i)}},"Download"),s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){l.restoreCompanyFile(i,(function(e,t){t&&(i.folder_id&&"undefined"!==typeof n[i.folder_id]?u.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("b",null,i.search)," is restored to #",n[i.folder_id].search," folder.")):u.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("span",{className:"font-weight-bold"},i.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){l.copyLink(i.view_link)}},"Share"),r.a.createElement("div",{onClick:function(){l.favorite(i)}},i.is_favorite?"Unfavorite":"Favorite"),r.a.createElement("div",{onClick:function(){l.moveCompanyFile(i)}},"Move to"),r.a.createElement("div",{onClick:function(){l.renameCompanyFile(i)}},"Rename")),!d&&r.a.createElement("div",{onClick:function(){i.hasOwnProperty("payload_id")?l.unlinkGoogleAttachment(i):l.removeCompanyFile(i,(function(){}),{forceDelete:s})}},"Remove"))}));function dy(){var e=Object(s.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return dy=function(){return e},e}function uy(){var e=Object(s.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: .8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]);return uy=function(){return e},e}var my=m.a.div(uy()),py=Object(m.a)(Se)(dy()),fy=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folders,c=e.file,o=e.actions,l=e.forceDelete,s=void 0!==l&&l,d=e.disableOptions,u=o.getFileSizeUnit(c.hasOwnProperty("size")&&"number"===typeof c.size?c.size:0),m=Object(n.useState)(c.is_favorite),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useState)("undefined"===typeof c.name?c.search:c.name),_=Object(p.a)(E,2),g=_[0],O=_[1],A=Object(n.useCallback)((function(){o.viewCompanyFiles(c)}),[c]),v=Object(n.useCallback)((function(){h((function(e){return!e})),o.favorite(c)}),[c,h]);return Object(n.useEffect)((function(){O("undefined"===typeof c.name?c.search:c.name)}),[c.name,c.search]),r.a.createElement(my,{className:"file-list-item cursor-pointer ".concat(a),onClick:A},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"string"===typeof c.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===b&&r.a.createElement(py,{icon:"star"}),o.getFileIcon(c.mime_type),"number"===typeof c.id&&r.a.createElement(sy,{file:c,folders:i,actions:Object(I.a)(Object(I.a)({},o),{},{favorite:v}),forceDelete:s,disableOptions:d}),"string"===typeof c.id&&r.a.createElement(ou,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(Pi,{content:g},r.a.createElement("div",{className:"file-name"},c.hasOwnProperty("payload_id")&&r.a.createElement(Se,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),g)),r.a.createElement("div",{className:"text-muted"},u.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],u.unit))))}));function by(){var e=Object(s.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return by=function(){return e},e}function hy(){var e=Object(s.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return hy=function(){return e},e}var Ey=m.a.div(hy()),_y=Object(m.a)(Se)(by()),gy=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.actions,c=e.history,o=e.params,l=e.handleAddEditFolder,s=e.disableOptions,u=Object(d.j)(),m=u.path,p=u.url;return r.a.createElement(Ey,{className:"file-list-item cursor-pointer ".concat(a),onClick:function(e){if(e.preventDefault(),n.hasOwnProperty("payload"))window.open(n.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===m){var t=p.split("/folder/")[0];c.push(t+"/folder/".concat(n.id,"/").concat(ue(n.search)))}else c.push(c.location.pathname+"/folder/".concat(n.id,"/").concat(ue(n.search)))}},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"app-file-icon"},n.hasOwnProperty("payload")&&r.a.createElement(_y,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),r.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!s&&r.a.createElement(ow,{folder:n,actions:i,history:c,params:o,handleAddEditFolder:l})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(Pi,{content:n.search},r.a.createElement("div",{className:"file-name"},n.search)))))}));function Oy(){var e=Object(s.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return Oy=function(){return e},e}function Ay(){var e=Object(s.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return Ay=function(){return e},e}function vy(){var e=Object(s.a)(["\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n"]);return vy=function(){return e},e}function Cy(){var e=Object(s.a)(["\n  \n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n    \n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  \n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n    \n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return Cy=function(){return e},e}var jy=m.a.div(Cy()),ky=Object(m.a)(au)(vy()),yy=m.a.div(Ay()),Ty=m.a.div(Oy()),wy=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,c=e.dropZoneRef,l=e.filter,s=e.search,d=e.files,u=e.handleAddEditFolder,m=e.actions,f=e.params,b=e.folders,h=e.folder,E=e.fileIds,_=e.history,g=e.subFolders,O=e.dictionary,A=e.disableOptions,v=e.loadMore,C=e.isLoaded,j=document.querySelector(".app-content-body"),k=Object(o.useSelector)((function(e){return e.session.user})),y={files:Object(n.useRef)(null),btnLoadMore:Object(n.useRef)(null)},T=Object(n.useState)(!1),w=Object(p.a)(T,2),N=w[0],S=w[1],x=function(){c.current&&c.current.open()},R=function(){S(!1)},P=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&y.btnLoadMore.current&&y.btnLoadMore.current.click()};return Object(n.useEffect)((function(){if(y.files.current){var e=y.files.current;e&&"0"===e.dataset.loaded&&(v.files(),e.dataset.loaded="1",y.files.current.addEventListener("scroll",P,!1))}}),[y.files.current]),r.a.createElement(jy,{className:"files-body card app-content-body ".concat(i),onDragOver:function(){["recent","important","removed"].includes(l)||N||S(!0)}},r.a.createElement("span",{className:"d-none",ref:y.btnLoadMore,onClick:v.files},"Load more"),!A&&r.a.createElement(Nb,{ref:c,hide:!N,onDragLeave:R,onDrop:function(e){!function(e){S(!1);var t=Math.floor(Date.now()/1e3),n=new FormData;for(var r in e)e.hasOwnProperty(r)&&(e[r].reference_id=a(37).generate(),n.append("files["+r+"]",e[r]));var i={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:h?h.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:k.id,view_link:null,uploading:!0}})),folder_id:h?h.id:null};m.uploadingCompanyFiles(i);var c={is_primary:0,files:n};f.folderId&&(c=Object(I.a)(Object(I.a)({},c),{},{folder_id:f.folderId})),m.uploadCompanyBulkFiles(c)}(e.acceptedFiles)},onCancel:R,params:f}),r.a.createElement("div",{ref:y.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof d&&r.a.createElement(r.a.Fragment,null,h&&"removed"!==l&&!A&&r.a.createElement(ky,{moreButton:"settings"},r.a.createElement("div",{onClick:function(){u(h,"update")}},O.editFolder),r.a.createElement("div",{onClick:function(){if(h){m.removeFolder(h,(function(e,t){if(!e&&t){var a=_.location.pathname.split("/folder/")[0];_.push(a)}}))}}},O.removeFolder)),"removed"===l&&d&&d.hasOwnProperty("trash_files")&&(Object.keys(d.trash_files).length>0||Object.values(b).filter((function(e){return e.is_archived})).length>0)&&r.a.createElement(Se,{icon:"trash",onClick:m.removeAllCompanyTrashFiles}),""===l&&r.a.createElement(r.a.Fragment,null,"undefined"===typeof f.folderId&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},O.allFiles),h&&r.a.createElement(xy,{folder:h,history:_,dictionary:O,folders:b}),r.a.createElement("div",{className:"row"},f.hasOwnProperty("folderId")?g.filter((function(e){return!e.is_archived})).map((function(e){return r.a.createElement(gy,{key:e.id,actions:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:_,params:f,handleAddEditFolder:u})})):Object.values(b).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return r.a.createElement(gy,{key:e.id,actions:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:_,params:f,handleAddEditFolder:u})}))),"undefined"!==typeof f.folderId?r.a.createElement(r.a.Fragment,null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},h.search),r.a.createElement("div",{className:"row"},d&&E.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(fy,{key:e,scrollRef:j,actions:m,folders:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],disableOptions:A}):null}))),d&&0===E.length&&r.a.createElement(yy,null,r.a.createElement(Ie,{icon:4,height:282}),r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:x,disabled:A},O.uploadFiles))):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},d&&E.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(fy,{key:e,scrollRef:j,actions:m,folders:b,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],disableOptions:A}):null}))),d&&d.popular_files.length>0&&r.a.createElement(pw,{search:s,scrollRef:j,files:Object.values(d.files).filter((function(e){return d.popular_files.includes(e.id)})),actions:m,disableOptions:A}),d&&d.recently_edited.length>0&&r.a.createElement(hw,{search:s,scrollRef:j,files:Object.values(d.files).filter((function(e){return d.recently_edited.includes(e.id)})),actions:m,disableOptions:A}),C&&0===d.popular_files.length&&0===d.recently_edited.length&&0===E.length&&0===Object.values(b).filter((function(e){return!0!==e.is_archived})).length&&0===g.length&&r.a.createElement(yy,null,r.a.createElement(Ie,{icon:4,height:282}),r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:x,disabled:A},O.uploadFiles)),!C&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(hw,{search:s,scrollRef:j,files:Object.values(d.files).filter((function(e){return d.recently_edited.includes(e.id)})),actions:m,disableOptions:A}),!(d&&d.recently_edited.length>0)&&r.a.createElement(yy,null,r.a.createElement(Ie,{icon:4,height:282}))),"important"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(dw,{search:s,scrollRef:j,files:Object.values(d.files).filter((function(e){return d.favorite_files.includes(e.id)})),actions:m,dictionary:O}),!(d&&d.hasOwnProperty("favorite_files")&&d.favorite_files.length>0)&&r.a.createElement(yy,null,r.a.createElement(Ie,{icon:4,height:282}),r.a.createElement(Ty,null,r.a.createElement("p",null,"No favorite files."),r.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gw,{scrollRef:j,search:s,files:d.trash_files,actions:m,params:f,folders:b,subFolders:g,handleAddEditFolder:u,folder:h,disableOptions:A}),!(d&&d.hasOwnProperty("trash_files")&&Object.keys(d.trash_files).length>0)&&!(Object.values(b).some((function(e){return e.is_archived}))||g.some((function(e){return e.is_archived})))&&r.a.createElement(yy,null,r.a.createElement(Ie,{icon:4,height:282}))))))}));function Ny(){var e=Object(s.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return Ny=function(){return e},e}var Sy=m.a.div(Ny()),xy=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,c=e.history,o=e.dictionary,l=e.folders,s=e.workspaceID,u=Object(d.j)().url,m=Object(n.useState)(!1),f=Object(p.a)(m,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){i.parent_folder&&Object.values(l).forEach((function(e){e.id===i.parent_folder.id&&(e.parent_folder?h(!0):h(!1))})),i.parent_folder||h(!1)}),[i]),r.a.createElement(Sy,{className:"files-breadcrumb d-flex ".concat(a)},r.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},r.a.createElement("li",{onClick:function(){var e=c.location.pathname.split("/folder/")[0];c.push(e)}},o.allFiles),r.a.createElement(Se,{width:12,icon:"chevron-right"}),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(Qd,{parentFolder:i.parent_folder,workspaceID:s,history:c})),r.a.createElement(Se,{width:12,icon:"chevron-right"})),i.parent_folder&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:function(){return function(e){var t=u.split("/folder/")[0];c.push(t+"/folder/".concat(e.id,"/").concat(ue(e.name)))}(i.parent_folder)}},i.parent_folder.name),r.a.createElement(Se,{width:12,icon:"chevron-right"})),r.a.createElement("div",null,i.search)))}));function Iy(){var e=Object(s.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return Iy=function(){return e},e}var Ry=m.a.div(Iy()),Py=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.dropZoneRef,i=e.onSearchChange,c=e.onSearch,o=e.onEnter,l=e.handleAddEditFolder,s=e.folders,d=e.history,u=e.params,m=e.clearFilter,p=e.dictionary,f=e.onClickEmpty,b=e.value,h=function(e){if(m(),s.hasOwnProperty(e.target.dataset.value)){var t=s[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):u.hasOwnProperty("folderId")?d.push(d.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(ue(t.search))):d.push("/files/folder/".concat(t.id,"/").concat(ue(t.search)))}},E={label:r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{className:"mr-1",icon:"plus"})," ",p.add),items:[{value:"folder",label:p.folder,onClick:function(){return l("add")}},{value:"file",label:p.file,onClick:function(){n.current&&n.current.open()}}]},_={label:p.folders,items:Object.values(s).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:h}}))};return r.a.createElement(Ry,{className:"files-header app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(wi,{dropdown:E})),r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(wi,{dropdown:_}))),r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(Se,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:i,value:b,onKeyDown:o,className:"form-control",placeholder:p.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==b.trim()&&r.a.createElement("button",{onClick:f,className:"btn-cross",type:"button"},r.a.createElement(Se,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:c},r.a.createElement(Se,{icon:"search"}))))))}));function Dy(){var e=Object(s.a)(["\n  width: 15px;\n"]);return Dy=function(){return e},e}function Ly(){var e=Object(s.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return Ly=function(){return e},e}function Fy(){var e=Object(s.a)([""]);return Fy=function(){return e},e}function My(){var e=Object(s.a)(["\n  text-align: left;\n    @media (max-width: 768px) {\n        .card {\n            margin-bottom: 0;\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: 0;\n            display: flex;\n            .card-body {\n                order: 2;\n            }\n            .app-sidebar-menu {\n                order: 1;\n                display: flex;\n                flex-direction: column;\n\n                .card-body {\n                    order: 1;\n                    border-bottom: 1px solid #ebebeb;\n                }\n                .list-group {\n                    order: 2;\n                    border-bottom: 1px solid #ebebeb;\n                }\n            }\n        }\n        .folder-list {\n            display: none !important;\n        }\n    }\n"]);return My=function(){return e},e}var Uy=m.a.div(My()),Gy=m.a.div(Fy()),By=m.a.span(Ly(),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),Hy=Object(m.a)(Se)(Dy()),Wy=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isMember,i=e.actions,c=e.filterFile,o=e.filter,l=void 0===o?"all":o,s=e.dropZoneRef,d=e.storageLimit,u=void 0===d?25:d,m=e.wsFiles,p=e.folders,f=e.activeFolder,b=e.clearFilter,h=e.params,E=e.disableOptions,_=fl()._t,g=i.getFileSizeUnit(m.storage),O=0===m.storage?0:m.storage<1e8?1e8:m.storage,A={uploadFiles:_("FILE.UPLOAD_FILES","Upload files"),allFiles:_("FILES.ALL_FILES","All files"),recentlyEdited:_("FILES.RECENTLY_EDITED","Recently edited"),favorite:_("FILE.FAVORITE","Favorite"),removed:_("FILES.REMOVED","Removed"),storageStatus:_("FILES.STORAGE_STATUS","Storage Status"),usedOf:_("FILE.USED_OF","used of"),gigabyte:_("FILE.GIGABYTE","GB")};return r.a.createElement(Uy,{className:"file-sidebar bottom-modal-mobile ".concat(a)},r.a.createElement(Gy,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===n&&r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:E},A.uploadFiles),r.a.createElement("form",{className:"d-none",id:"file-upload"},r.a.createElement("input",{type:"file",multiple:""}))),r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement(By,{onClick:c,"data-filter":"",active:""===l,className:"list-group-item d-flex align-items-center"},r.a.createElement(Hy,{className:"mr-2",icon:"folder"}),A.allFiles,r.a.createElement("span",{className:"small ml-auto"},m&&m.count>0?m.count:null)),p&&Object.values(p).filter((function(e){return!e.is_archived})).length>0&&!0===n&&r.a.createElement(By,{className:"d-flex align-items-center folder-list"},r.a.createElement("ul",null,Object.values(p).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return r.a.createElement(LT,{key:e.id,clearFilter:b,folders:p,params:h,folder:e,activeFolder:f})})))),r.a.createElement(BT,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){i.uploadWorkspaceGoogleDriveFile(h.workspaceId,e)}))},disableOptions:E}),r.a.createElement(By,{onClick:c,"data-filter":"recent",active:"recent"===l,className:"list-group-item d-flex align-items-center"},r.a.createElement(Hy,{className:"mr-2",icon:"monitor"}),A.recentlyEdited),r.a.createElement(By,{onClick:c,"data-filter":"important",active:"important"===l,className:"list-group-item d-flex align-items-center"},r.a.createElement(Hy,{className:"mr-2",icon:"star"}),A.favorite,r.a.createElement("span",{className:"small ml-auto"},m&&m.stars>0?m.stars:null)),r.a.createElement(By,{onClick:c,"data-filter":"removed",active:"removed"===l,className:"list-group-item d-flex align-items-center"},r.a.createElement(Hy,{className:"mr-2",icon:"trash"}),A.removed,r.a.createElement("span",{className:"small ml-auto"},m&&m.trash>0?m.trash:null))),"undefined"!==typeof m&&null!==m&&r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-4"},A.storageStatus),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"mr-3"},r.a.createElement(Se,{icon:"database"})),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement(ou,{amount:O,limit:1e9*u}),r.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},g.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],g.unit," ",A.usedOf," ",u,A.gigabyte)))))))}));function Qy(){var e=Object(s.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]);return Qy=function(){return e},e}function Yy(){var e=Object(s.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: .8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]);return Yy=function(){return e},e}var zy=m.a.div(Yy()),Vy=Object(m.a)(Se)(Qy()),Ky=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folders,c=e.file,o=e.actions,l=e.isMember,s=e.forceDelete,d=void 0!==s&&s,u=e.disableOptions,m=o.getFileSizeUnit(c.hasOwnProperty("size")&&"number"===typeof c.size?c.size:0),f=Object(n.useState)(c.is_favorite),b=Object(p.a)(f,2),h=b[0],E=b[1],_=Object(n.useCallback)((function(){o.viewFiles(c)}),[c]),g=Object(n.useCallback)((function(){E((function(e){return!e})),o.favorite(c)}),[c,E]);return r.a.createElement(zy,{className:"file-list-item cursor-pointer ".concat(a),onClick:_},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"string"===typeof c.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===h&&r.a.createElement(Vy,{icon:"star"}),o.getFileIcon(c.mime_type),"number"===typeof c.id&&r.a.createElement(yT,{file:c,folders:i,actions:Object(I.a)(Object(I.a)({},o),{},{favorite:g}),isMember:l,forceDelete:d,disableOptions:u}),"string"===typeof c.id&&r.a.createElement(ou,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(Pi,{content:c.name?c.name:c.search},r.a.createElement("div",{className:"file-name"},c.hasOwnProperty("payload_id")&&r.a.createElement(Se,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),c.name?c.name:c.search)),r.a.createElement("div",{className:"text-muted"},m.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],m.unit))))}));function qy(){var e=Object(s.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return qy=function(){return e},e}function Jy(){var e=Object(s.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return Jy=function(){return e},e}var Zy=m.a.div(Jy()),Xy=Object(m.a)(Se)(qy()),$y=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.actions,c=e.isMember,o=e.history,l=e.params,s=e.handleAddEditFolder,u=e.disableOptions,m=Object(d.j)(),p=m.path,f=m.url;return r.a.createElement(Zy,{className:"file-list-item cursor-pointer ".concat(a),onClick:function(e){if(e.preventDefault(),n.hasOwnProperty("payload"))window.open(n.payload.url,"_blank");else if("/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===p){var t=f.split("/folder/")[0];o.push(t+"/folder/".concat(n.id,"/").concat(ue(n.search)))}else o.push(o.location.pathname+"/folder/".concat(n.id,"/").concat(ue(n.search)))}},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"app-file-icon"},n.hasOwnProperty("payload")&&r.a.createElement(Xy,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),r.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!u&&r.a.createElement(NT,{folder:n,actions:i,isMember:c,history:o,params:l,handleAddEditFolder:s})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(Pi,{content:n.search},r.a.createElement("div",{className:"file-name"},n.search)))))}));function eT(){var e=Object(s.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return eT=function(){return e},e}function tT(){var e=Object(s.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return tT=function(){return e},e}function aT(){var e=Object(s.a)(["\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n"]);return aT=function(){return e},e}function nT(){var e=Object(s.a)(["\n  .card-body {\n    position: relative;\n    overflow: visible !important;\n    padding-bottom: 12px;\n    min-height: 100px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return nT=function(){return e},e}var rT=m.a.div(nT()),iT=Object(m.a)(au)(aT()),cT=m.a.div(tT()),oT=m.a.div(eT()),lT=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,c=e.dropZoneRef,l=e.filter,s=e.search,d=e.wsFiles,u=e.isMember,m=e.handleAddEditFolder,f=e.actions,b=e.params,h=e.folders,E=e.folder,_=e.fileIds,g=e.history,O=e.subFolders,A=e.dictionary,v=e.disableOptions,C=cd(),j=document.querySelector(".app-content-body"),k=Object(o.useSelector)((function(e){return e.session.user})),y=Object(n.useState)(!1),T=Object(p.a)(y,2),w=T[0],N=T[1],S=function(){c.current&&c.current.open()},x=function(){N(!1)};return Object(n.useEffect)((function(){w&&N(!1)}),[d]),Object(n.useEffect)((function(){w&&!u&&C.warning("You are not a member of this workspace.")}),[w]),r.a.createElement(rT,{className:"files-body card app-content-body ".concat(i),onDragOver:function(){["recent","important","removed"].includes(l)||w||N(!0)}},!v&&r.a.createElement(Nb,{ref:c,hide:!(w&&!0===u),onDragLeave:x,onDrop:function(e){!function(e){N(!1);var t=Math.floor(Date.now()/1e3),n={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:E?E.id:null,id:a(37).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:k.id,view_link:null,uploading:!0}})),folder_id:E?E.id:null,topic_id:parseInt(b.workspaceId),workspace_id:b.hasOwnProperty("folderId")?parseInt(b.fileFolderId):null};f.uploadingFiles(n);var r=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].ref_id=a(37).generate(),r.append("files["+i+"]",e[i]));var c={is_primary:0,topic_id:b.workspaceId,files:r};b.fileFolderId&&(c=Object(I.a)(Object(I.a)({},c),{},{folder_id:b.fileFolderId})),f.uploadFiles(c)}(e.acceptedFiles)},onCancel:x,params:b}),r.a.createElement("div",{className:"card-body"},E&&u&&"removed"!==l&&!v&&r.a.createElement(iT,{moreButton:"settings"},r.a.createElement("div",{onClick:function(){m(E,"update")}},A.editFolder),r.a.createElement("div",{onClick:function(){if(E){f.removeFolder(E,b.workspaceId,(function(e,t){if(!e&&t){var a=g.location.pathname.split("/folder/")[0];g.push(a)}}))}}},A.removeFolder)),"removed"===l&&d&&d.hasOwnProperty("trash_files")&&(Object.keys(d.trash_files).length>0||Object.values(h).filter((function(e){return e.is_archived})).length>0)&&r.a.createElement(Se,{icon:"trash",onClick:f.removeTrashFiles}),""===l&&r.a.createElement(r.a.Fragment,null,"undefined"===typeof b.fileFolderId&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},A.allFiles),E&&E.search&&r.a.createElement(QT,{folder:E,history:g,dictionary:A,folders:h,workspaceID:b.workspaceId}),r.a.createElement("div",{className:"row"},b.hasOwnProperty("fileFolderId")?O.filter((function(e){return!e.is_archived})).map((function(e){return r.a.createElement($y,{key:e.id,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:v,folder:e,history:g,isMember:u,params:b,handleAddEditFolder:m})})):Object.values(h).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return r.a.createElement($y,{key:e.id,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:v,folder:e,history:g,isMember:u,params:b,handleAddEditFolder:m})}))),"undefined"!==typeof b.fileFolderId?r.a.createElement(r.a.Fragment,null,E?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},E.search),r.a.createElement("div",{className:"row"},d&&_.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(Ky,{key:e,isMember:u,scrollRef:j,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],folders:h,disableOptions:v}):null}))),d&&0===_.length&&r.a.createElement(cT,null,r.a.createElement(Ie,{icon:4,height:282}),u&&r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:S,disabled:v},A.uploadFiles))):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},_.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(Ky,{key:e,isMember:u,scrollRef:j,actions:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],folders:h,disableOptions:v}):null}))),d.popular_files.length>0&&r.a.createElement(ET,{search:s,scrollRef:j,wsFiles:d,actions:f,folders:h,disableOptions:v}),d.recently_edited.length>0&&r.a.createElement(OT,{search:s,scrollRef:j,wsFiles:d,actions:f,folders:h,disableOptions:v})),0===_.length&&0===d.popular_files.length&&0===d.recently_edited.length&&r.a.createElement(cT,null,r.a.createElement(Ie,{icon:4,height:282}),u&&r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:S,disabled:v},A.uploadFiles))),"recent"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(OT,{search:s,scrollRef:j,wsFiles:d,actions:f,folders:h,disableOptions:v}),!(d&&d.recently_edited.length>0)&&r.a.createElement(cT,null,r.a.createElement(Ie,{icon:4,height:282}))),"important"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fT,{search:s,scrollRef:j,wsFiles:d,folders:h,actions:f}),!(d&&d.hasOwnProperty("favorite_files")&&d.favorite_files.length>0)&&r.a.createElement(cT,null,r.a.createElement(Ie,{icon:4,height:282}),r.a.createElement(oT,null,r.a.createElement("p",null,"No favorite files."),r.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(CT,{scrollRef:j,search:s,wsFiles:d,actions:f,isMember:u,params:b,folders:h,subFolders:O,handleAddEditFolder:m,folder:E,disableOptions:v}),!(d&&d.hasOwnProperty("trash_files")&&Object.keys(d.trash_files).length>0)&&!(Object.values(h).some((function(e){return e.is_archived}))||O.some((function(e){return e.is_archived})))&&r.a.createElement(cT,null,r.a.createElement(Ie,{icon:4,height:282})))))}));function sT(){var e=Object(s.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return sT=function(){return e},e}var dT=m.a.div(sT()),uT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isMember,i=e.dropZoneRef,c=e.onSearchChange,o=e.onSearch,l=e.onEnter,s=e.wsFiles,d=e.handleAddEditFolder,u=e.folders,m=e.history,p=e.params,f=e.clearFilter,b=e.dictionary,h=e.disableOptions,E=e.onClickEmpty,_=e.value,g=function(e){if(f(),s.folders.hasOwnProperty(e.target.dataset.value)){var t=s.folders[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):p.hasOwnProperty("fileFolderId")?m.push(m.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(ue(t.search))):m.push(m.location.pathname+"/folder/".concat(t.id,"/").concat(ue(t.search)))}},O={label:r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{className:"mr-1",icon:"plus"})," ",b.add),items:[{value:"folder",label:b.folder,onClick:function(){return d("add")}},{value:"file",label:b.file,onClick:function(){i.current&&i.current.open()}}]},A={label:b.folders,items:s&&Object.values(u).length?Object.values(u).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:g}})):[]};return r.a.createElement(dT,{className:"files-header app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("ul",{className:"list-inline"},!0===n&&!h&&r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(wi,{dropdown:O})),!0===n&&Object.values(u).filter((function(e){return!e.is_archived})).length>=1&&r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(wi,{dropdown:A}))),r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(Se,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:c,onKeyDown:l,value:_,className:"form-control",placeholder:b.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==_.trim()&&r.a.createElement("button",{onClick:E,className:"btn-cross",type:"button"},r.a.createElement(Se,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:o},r.a.createElement(Se,{icon:"search"}))))))}));function mT(){var e=Object(s.a)([""]);return mT=function(){return e},e}var pT=m.a.div(mT()),fT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,c=e.actions;return r.a.createElement(pT,{className:"important-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),r.a.createElement("div",{className:"row"},i&&i.favorite_files.length>0&&i.favorite_files.map((function(e){return r.a.createElement(Ky,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:n,file:i.files[e],actions:c})}))))}));function bT(){var e=Object(s.a)([""]);return bT=function(){return e},e}var hT=m.a.div(bT()),ET=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,c=e.actions,o=e.disableOptions;return r.a.createElement(hT,{className:"popular-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),r.a.createElement("div",{className:"row"},i&&i.popular_files.length>0&&i.popular_files.map((function(e){return r.a.createElement(Ky,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:c,folders:n,disableOptions:o})}))))}));function _T(){var e=Object(s.a)([""]);return _T=function(){return e},e}var gT=m.a.div(_T()),OT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,c=e.actions,o=e.disableOptions;return r.a.createElement(gT,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),r.a.createElement("div",{className:"row"},i&&i.recently_edited.length>0&&i.recently_edited.map((function(e){return i.files.hasOwnProperty(e)?r.a.createElement(Ky,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:c,folders:n,disableOptions:o}):null}))))}));function AT(){var e=Object(s.a)([""]);return AT=function(){return e},e}var vT=m.a.div(AT()),CT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.actions,i=e.wsFiles,c=e.isMember,o=e.folders,l=e.subFolders,s=e.folder,u=e.params,m=e.handleAddEditFolder,p=e.disableOptions,f=Object(d.g)();return r.a.createElement(vT,{className:"remove-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),s&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},s.search),r.a.createElement("div",{className:"row"},u.hasOwnProperty("fileFolderId")?l.filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement($y,{key:e.id,actions:n,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:f,isMember:c,params:u,handleAddEditFolder:m,disableOptions:p})})):Object.values(o).filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement($y,{key:e.id,actions:n,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:f,isMember:c,params:u,handleAddEditFolder:m,disableOptions:p})}))),r.a.createElement("div",{className:"row"},u.hasOwnProperty("fileFolderId")?i&&Object.values(i.trash_files).length>0&&Object.values(i.trash_files).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})).map((function(e){return r.a.createElement(Ky,{key:e.id,isMember:c,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:n,folders:o,disableOptions:p})})):i&&Object.values(i.trash_files).length>0&&Object.values(i.trash_files).map((function(e){return"undefined"!==typeof e?r.a.createElement(Ky,{key:e.id,isMember:c,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:n,folders:o,disableOptions:p}):null}))))}));function jT(){var e=Object(s.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return jT=function(){return e},e}var kT=Object(m.a)(au)(jT()),yT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.file,c=e.scrollRef,o=void 0===c?null:c,l=e.actions,s=e.isMember,d=e.forceDelete,u=e.disableOptions,m=cd();return r.a.createElement(kT,{className:"file-options ".concat(a),moreButton:"more-horizontal",file:i,scrollRef:o},r.a.createElement("div",{onClick:function(){l.viewFiles(i)}},"View Details"),r.a.createElement("div",{onClick:function(){l.favorite(i)}},i.is_favorite?"Unfavorite":"Favorite"),r.a.createElement("div",{onClick:function(){l.copyLink(i.view_link)}},"Share"),r.a.createElement("div",{onClick:function(){l.download(i)}},"Download"),r.a.createElement("div",{onClick:function(){s?l.moveFile(i):m.warning(r.a.createElement(r.a.Fragment,null,"You are ",r.a.createElement("b",null,"not")," a member of this workspace."))}},"Move to"),r.a.createElement("div",{onClick:function(){s?l.renameFile(i):m.warning("You are not a member of this workspace.")}},"Rename"),d&&r.a.createElement("div",{onClick:function(){l.restoreWorkspaceFile(i,(function(e,t){t&&(i.folder_id&&"undefined"!==typeof n[i.folder_id]?m.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("b",null,i.search)," is restored to #",n[i.folder_id].search," folder.")):m.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("span",{className:"font-weight-bold"},i.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),!u&&r.a.createElement("div",{onClick:function(){s?i.hasOwnProperty("payload_id")?l.unlinkGoogleAttachment(i):l.removeFile(i,d):m.warning("You are not a member of this workspace.")}},"Remove"))}));function TT(){var e=Object(s.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return TT=function(){return e},e}var wT=Object(m.a)(au)(TT()),NT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.scrollRef,c=void 0===i?null:i,o=e.actions,l=e.isMember,s=e.history,d=e.params,u=e.handleAddEditFolder,m=cd();return r.a.createElement(wT,{className:"file-options ".concat(a),moreButton:"more-horizontal",folder:n,scrollRef:c},!n.hasOwnProperty("payload")&&r.a.createElement("div",{onClick:function(){l?u(n,"edit"):m.warning("You are not a member of this workspace.")}},"Rename"),n.is_archived&&r.a.createElement("div",{onClick:function(){console.log(n),o.restoreWorkspaceFolder(n,(function(e,t){t&&(n.parent_folder?m.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #$",n.parent_folder," folder.")):m.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),r.a.createElement("div",{onClick:function(){if(l)if(n.hasOwnProperty("payload"))o.unlinkGoogleFolder(n);else{o.removeFolder(n,d.workspaceId,(function(e,t){if(!e&&t){var a=s.location.pathname.split("/folder/")[0];s.push(a)}}))}else m.warning("You are not a member of this workspace.")}},"Remove"))})),ST=function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.folders,c=e.activeFolder,o=e.clearFilter,l=e.params;return r.a.createElement(LT,{className:a,clearFilter:o,folders:i,params:l,folder:n,activeFolder:c})};function xT(){var e=Object(s.a)(["\n  margin-right: 10px;\n  width: 10px;\n"]);return xT=function(){return e},e}function IT(){var e=Object(s.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return IT=function(){return e},e}function RT(){var e=Object(s.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n    \n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return RT=function(){return e},e}var PT=m.a.li(RT(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),DT=m.a.ul(IT(),(function(e){return e.maxHeight})),LT=(Object(m.a)(Se)(xT()),function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,c=e.folders,o=e.activeFolder,l=e.clearFilter,s=Object(d.g)(),u=Object(d.j)(),m=u.params,f=u.path,b=u.url,h={container:Object(n.useRef)(null),arrow:Object(n.useRef)(null),nav:Object(n.useRef)(null)},E=Object(n.useState)(null),_=Object(p.a)(E,2),g=_[0],O=_[1],A=Object(n.useState)(null),v=Object(p.a)(A,2),C=v[0],j=v[1],k=Object(n.useState)(!1),y=Object(p.a)(k,2),T=(y[0],y[1]);return Object(n.useEffect)((function(){null!==h.nav.current&&j(h.nav.current.scrollHeight)}),[h.nav.current,C]),Object(n.useEffect)((function(){o&&o.parent_folder&&o.parent_folder.id===i.id&&O(!0)}),[m,T,o]),r.a.createElement(PT,{ref:h.container,className:"folder-list fadeIn ".concat(a),selected:!!o&&o.id==i.id},r.a.createElement("a",{onClick:function(){if(i.hasOwnProperty("payload"))window.open(i.payload.url,"_blank");else{if(l(),"/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===f||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===f){var e=b.split("/folder/")[0];s.push(e+"/folder/".concat(i.id,"/").concat(ue(i.search)))}else s.push(s.location.pathname+"/folder/".concat(i.id,"/").concat(ue(i.search)));O((function(e){return!e}))}}},i.search,i.hasOwnProperty("payload")&&r.a.createElement(Se,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(c).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(g?"ti-minus rotate-in":"ti-plus")})),Object.values(c).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement(DT,{ref:h.nav,maxHeight:C,className:g?"enter-active":"leave-active"},g&&Object.values(c).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).map((function(e){return r.a.createElement(ST,{key:e.id,clearFilter:l,params:m,folderHeight:C,activeFolder:o,folders:c,folder:e})}))))}),FT=a(107),MT=a.n(FT);function UT(){var e=Object(s.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"]);return UT=function(){return e},e}var GT=m.a.div(UT(),(function(e){return e.disabled?".5":"1"})),BT=function(e){var t=e.className,a=void 0===t?"":t,i=e.onChange,c=e.disableOptions,o=fl()._t,l=Object(n.useState)(!1),s=Object(p.a)(l,2),d=s[0],u=s[1],m=function(e){console.log("oauth token:",e),null===localStorage.getItem("gdrive")&&localStorage.setItem("gdrive",e)},f={linkGoogleDrive:o("FILE.LINK_GOOGLE_DRIVE","Link your Google Drive first"),gDriveAttachFile:o("FILE.ATTACH_GOOGLE_DRIVE_FILE","Attach a file"),gDriveAttachFolder:o("FILE.ATTACH_GOOGLE_DRIVE_FOLDER","Attach a folder")};return r.a.createElement(GT,{className:"google-drive dropdown ".concat(a),onClick:function(){c||u(!d)},disabled:c},r.a.createElement(Se,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"})," Google Drive",r.a.createElement("div",{className:"dropdown-menu ".concat(d?"show":"")},null===localStorage.getItem("gdrive")?r.a.createElement(MT.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return i(e)},onAuthenticate:function(e){return m(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,viewId:"DOCS"},r.a.createElement("div",{className:"link-div"},f.linkGoogleDrive)):r.a.createElement(r.a.Fragment,null,r.a.createElement(MT.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return i(e)},onAuthenticate:function(e){return m(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"DOCS"},r.a.createElement("div",{className:"dropdown-item"},f.gDriveAttachFile)),r.a.createElement(MT.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return console.log("on change:",e)},onAuthenticate:function(e){return m(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"FOLDERS",createPicker:function(e,t){var a=e.picker.ViewId.FOLDERS,n=new e.picker.DocsView(a).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0);console.log("AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA"),(new window.google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA").setCallback((function(e){i(e),console.log("Custom picker is ready!",e)})).build().setVisible(!0)}},r.a.createElement("div",{className:"dropdown-item"},f.gDriveAttachFolder)))))};function HT(){var e=Object(s.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return HT=function(){return e},e}var WT=m.a.div(HT()),QT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,c=e.history,o=e.dictionary,l=e.folders,s=e.workspaceID,u=Object(d.j)().url,m=Object(n.useState)(!1),f=Object(p.a)(m,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){i.parent_folder&&Object.values(l).forEach((function(e){e.id===i.parent_folder.id&&(e.parent_folder?h(!0):h(!1))})),i.parent_folder||h(!1)}),[i]),r.a.createElement(WT,{className:"files-breadcrumb d-flex ".concat(a)},r.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},r.a.createElement("li",{onClick:function(){var e=c.location.pathname.split("/folder/")[0];c.push(e)}},o.allFiles),r.a.createElement(Se,{width:12,icon:"chevron-right"}),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(Qd,{parentFolder:i.parent_folder,workspaceID:s,history:c})),r.a.createElement(Se,{width:12,icon:"chevron-right"})),i.parent_folder&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:function(){return function(e){var t=u.split("/folder/")[0];c.push(t+"/folder/".concat(e.id,"/").concat(ue(e.name)))}(i.parent_folder)}},i.parent_folder.name),r.a.createElement(Se,{width:12,icon:"chevron-right"})),r.a.createElement("div",null,i.search)))}));function YT(){var e=Object(s.a)(["\n  width: 15px;\n"]);return YT=function(){return e},e}function zT(){var e=Object(s.a)(["\n  cursor: pointer;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return zT=function(){return e},e}function VT(){var e=Object(s.a)([""]);return VT=function(){return e},e}function KT(){var e=Object(s.a)(["\n  text-align: left;\n    @media (max-width: 768px) {\n        .card {\n            margin-bottom: 0;\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: 0;\n            display: flex;\n            .card-body {\n                order: 2;\n            }\n            .app-sidebar-menu {\n                order: 1;\n                display: flex;\n                flex-direction: column;\n\n                .card-body {\n                    order: 1;\n                    border-bottom: 1px solid #ebebeb;\n                }\n                .list-group {\n                    order: 2;\n                    border-bottom: 1px solid #ebebeb;\n                }\n            }\n        }\n        .folder-list {\n            display: none !important;\n        }\n    }\n"]);return KT=function(){return e},e}var qT=m.a.div(KT()),JT=m.a.div(VT()),ZT=m.a.span(zT(),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),XT=Object(m.a)(Se)(YT()),$T=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.actions,i=e.filterFile,c=e.filter,o=void 0===c?"all":c,l=e.dropZoneRef,s=e.storageLimit,d=void 0===s?25:s,u=e.fileCount,m=e.folders,p=e.activeFolder,f=e.clearFilter,b=e.params,h=e.disableOptions,E=fl()._t,_=n.getFileSizeUnit(u.storage),g=0===u.storage?0:u.storage<1e8?1e8:u.storage,O={uploadFiles:E("FILE.UPLOAD_FILES","Upload files"),allFiles:E("FILES.ALL_FILES","All files"),recentlyEdited:E("FILES.RECENTLY_EDITED","Recently edited"),favorite:E("FILE.FAVORITE","Favorite"),removed:E("FILES.REMOVED","Removed"),storageStatus:E("FILES.STORAGE_STATUS","Storage Status"),usedOf:E("FILE.USED_OF","used of"),gigabyte:E("FILE.GIGABYTE","GB")};return r.a.createElement(qT,{className:"file-sidebar bottom-modal-mobile ".concat(a)},r.a.createElement(JT,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"card bottom-modal-mobile_inner"},r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){l.current&&l.current.open()},disabled:h},O.uploadFiles),r.a.createElement("form",{className:"d-none",id:"file-upload"},r.a.createElement("input",{type:"file",multiple:""}))),r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement(ZT,{onClick:i,"data-filter":"",active:""===o,className:"list-group-item d-flex align-items-center"},r.a.createElement(XT,{className:"mr-2",icon:"folder"}),O.allFiles,r.a.createElement("span",{className:"small ml-auto"},u.all>0?u.all:null)),m&&Object.values(m).filter((function(e){return!e.is_archived})).length>0&&r.a.createElement(ZT,{className:"d-flex align-items-center folder-list"},r.a.createElement("ul",null,Object.values(m).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return r.a.createElement(rw,{key:e.id,clearFilter:f,folders:m,params:b,folder:e,activeFolder:p})})))),r.a.createElement(BT,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){n.uploadCompanyGoogleDriveFile(e)}))},disableOptions:h}),r.a.createElement(ZT,{onClick:i,"data-filter":"recent",active:"recent"===o,className:"list-group-item d-flex align-items-center"},r.a.createElement(XT,{className:"mr-2",icon:"monitor"}),O.recentlyEdited),r.a.createElement(ZT,{onClick:i,"data-filter":"important",active:"important"===o,className:"list-group-item d-flex align-items-center"},r.a.createElement(XT,{className:"mr-2",icon:"star"}),O.favorite,r.a.createElement("span",{className:"small ml-auto"},u.stars>0?u.stars:null)),r.a.createElement(ZT,{onClick:i,"data-filter":"removed",active:"removed"===o,className:"list-group-item d-flex align-items-center"},r.a.createElement(XT,{className:"mr-2",icon:"trash"}),O.removed,r.a.createElement("span",{className:"small ml-auto"},u.trash>0?u.trash:null))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-4"},O.storageStatus),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"mr-3"},r.a.createElement(Se,{icon:"database"})),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement(ou,{amount:g,limit:1e9*d}),r.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},_.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],_.unit," ",O.usedOf," ",d,O.gigabyte)))))))}));function ew(){var e=Object(s.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return ew=function(){return e},e}function tw(){var e=Object(s.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n    \n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return tw=function(){return e},e}var aw=m.a.li(tw(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),nw=m.a.ul(ew(),(function(e){return e.maxHeight})),rw=function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,c=e.folders,o=e.activeFolder,l=e.clearFilter,s=Object(d.g)(),u=Object(d.j)(),m=u.params,f=u.path,b=u.url,h={container:Object(n.useRef)(null),arrow:Object(n.useRef)(null),nav:Object(n.useRef)(null)},E=Object(n.useState)(null),_=Object(p.a)(E,2),g=_[0],O=_[1],A=Object(n.useState)(null),v=Object(p.a)(A,2),C=v[0],j=v[1];return Object(n.useEffect)((function(){null!==h.nav.current&&j(h.nav.current.scrollHeight)}),[h.nav.current,C]),Object(n.useEffect)((function(){o&&o.parent_folder&&o.parent_folder.id===i.id&&O(!0)}),[m,o]),r.a.createElement(aw,{ref:h.container,className:"folder-list fadeIn ".concat(a),selected:!!o&&o.id===i.id},r.a.createElement("a",{onClick:function(){if(i.hasOwnProperty("payload"))window.open(i.payload.url,"_blank");else{if(l(),"/files/folder/:folderId/:folderName"===f){var e=b.split("/folder/")[0];s.push(e+"/folder/".concat(i.id,"/").concat(ue(i.search)))}else s.push("/files/folder/".concat(i.id,"/").concat(ue(i.search)));O((function(e){return!e}))}}},i.search,i.hasOwnProperty("payload")&&r.a.createElement(Se,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(c).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(g?"ti-minus rotate-in":"ti-plus")})),Object.values(c).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement(nw,{ref:h.nav,maxHeight:C,className:g?"enter-active":"leave-active"},g&&Object.values(c).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).map((function(e){return r.a.createElement(Ow,{key:e.id,clearFilter:l,params:m,folderHeight:C,activeFolder:o,folders:c,folder:e})}))))};function iw(){var e=Object(s.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return iw=function(){return e},e}var cw=Object(m.a)(au)(iw()),ow=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.scrollRef,c=void 0===i?null:i,o=e.actions,l=e.history,s=e.handleAddEditFolder,d=cd();return r.a.createElement(cw,{className:"file-options ".concat(a),moreButton:"more-horizontal",folder:n,scrollRef:c},!n.hasOwnProperty("payload")&&!n.is_archived&&r.a.createElement("div",{onClick:function(){s(n,"edit")}},"Rename"),n.is_archived&&r.a.createElement("div",{onClick:function(){o.restoreCompanyFolder(n,(function(e,t){t&&(n.parent_folder?d.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #$",n.parent_folder," folder.")):d.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),r.a.createElement("div",{onClick:function(){if(n.hasOwnProperty("payload"))o.unlinkGoogleFolder(n);else{o.removeCompanyFolder(n,(function(e,t){if(!e&&t){var a=l.location.pathname.split("/folder/")[0];l.push(a),d.info(r.a.createElement(r.a.Fragment,null,"You have removed ",r.a.createElement("b",null,n.search),"."))}}))}}},"Remove"))}));function lw(){var e=Object(s.a)([""]);return lw=function(){return e},e}var sw=m.a.div(lw()),dw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.files,c=e.actions,o=e.dictionary;return r.a.createElement(sw,{className:"important-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},o.favoriteTitle),r.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return r.a.createElement(Ky,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:n,actions:c})}))))}));function uw(){var e=Object(s.a)([""]);return uw=function(){return e},e}var mw=m.a.div(uw()),pw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.files,c=e.actions,o=e.disableOptions;return r.a.createElement(mw,{className:"popular-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),r.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return r.a.createElement(fy,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:c,folders:n,disableOptions:o})}))))}));function fw(){var e=Object(s.a)([""]);return fw=function(){return e},e}var bw=m.a.div(fw()),hw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.files,c=e.actions,o=e.disableOptions;return r.a.createElement(bw,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),r.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return r.a.createElement(fy,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:n,actions:c,disableOptions:o})}))))}));function Ew(){var e=Object(s.a)([""]);return Ew=function(){return e},e}var _w=m.a.div(Ew()),gw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.actions,i=e.files,c=e.folders,o=e.subFolders,l=e.folder,s=e.params,u=e.handleAddEditFolder,m=e.disableOptions,p=Object(d.g)();return r.a.createElement(_w,{className:"remove-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),l&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},l.search),r.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?o.filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement(gy,{key:e.id,actions:n,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:s,handleAddEditFolder:u,disableOptions:m})})):Object.values(c).filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement(gy,{key:e.id,actions:n,folders:c,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,params:s,handleAddEditFolder:u,disableOptions:m})}))),r.a.createElement("div",{className:"row"},s.hasOwnProperty("folderId")?i&&Object.values(i).length>0&&Object.values(i).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})).map((function(e){return r.a.createElement(fy,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:n,folders:c,disableOptions:m})})):i&&Object.values(i).length>0&&Object.values(i).map((function(e){return"undefined"!==typeof e?r.a.createElement(fy,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:c,actions:n,disableOptions:m}):null}))))})),Ow=function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.folders,c=e.activeFolder,o=e.clearFilter,l=e.params;return r.a.createElement(rw,{className:a,clearFilter:o,folders:i,params:l,folder:n,activeFolder:c})};function Aw(){var e=Object(s.a)(["\n  padding-top: 10px;\n"]);return Aw=function(){return e},e}function vw(){var e=Object(s.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]);return vw=function(){return e},e}var Cw=m.a.div(vw()),jw=m.a.div(Aw()),kw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isMember,c=e.workspace,l=Object(o.useDispatch)(),s=Object(d.g)(),u=fl()._t,m=_d(),f=m.params,b=m.isLoaded,h=m.files,E=m.fileCount,_=m.actions,g=m.fileIds,O=m.folders,A=m.folder,v=m.subFolders,C=m.loadMore,j=Object(n.useState)(""),k=Object(p.a)(j,2),y=k[0],T=k[1],w=Object(n.useState)(""),N=Object(p.a)(w,2),S=N[0],x=N[1],R={dropZone:Object(n.useRef)(null)},P=!1;c&&0===c.active&&(P=!0);var D=Object(n.useCallback)((function(e){""===e.target.value&&F(),x(e.target.value)}),[x]),L=function(){_.searchCompany(S)},F=function(){x(""),_.clearSearch()},M=Object(n.useCallback)((function(e){"Enter"===e.key&&L()}),[L]),U={createFolder:u("FILE.CREATE_FOLDER","Create folder"),create:u("FILE.CREATE","Create"),updateFolder:u("FILE.UPDATE_FOLDER","Update folder"),update:u("FILE.UPDATE","Update"),editFolder:u("FILE.EDIT_FOLDER","Edit folder"),removeFolder:u("FILE.REMOVE_FOLDER","Remove folder"),add:u("FILE.ADD","Add"),favorite:u("FILE.FAVORITE","Favorite"),favoriteTitle:u("FILE.FAVORITE_TITLE","Favorite"),file:u("FILE.FILE","File"),folder:u("FILE.FOLDER","Folder"),folders:u("FILE.FOLDERS","Folders"),allFiles:u("FILES.ALL_FILES","All files"),recentlyEdited:u("FILES.RECENTLY_EDITED","Recently edited"),removed:u("FILES.REMOVED","Removed"),searchInputPlaceholder:u("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:u("FILE.UPLOAD_FILES","Upload files")},G=Object(n.useRef)(""),B=function(){G.current=""},H=function(e){G.current=e.target.value.trim()},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=function(){var e={name:G.current};f.hasOwnProperty("folderId")&&(e=Object(I.a)(Object(I.a)({},e),{},{folder_id:f.folderId})),_.createCompanyFolders(e,(function(e,t){if(!e)if(f.hasOwnProperty("folderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(ue(t.data.folder.search)))}else s.push(s.location.pathname+"/folder/".concat(t.data.folder.id,"/").concat(ue(t.data.folder.search)))}))},n=function(){_.updateCompanyFolders({id:e.id,name:G.current,is_archived:!0},(function(e,t){if(!e&&f.hasOwnProperty("folderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(ue(t.data.folder.search)))}}))},i={type:"single_input",defaultValue:"",label:"Folder name",postInputLabel:null===A?"":r.a.createElement(jw,null,"The folder will be created inside ",r.a.createElement("b",null,"#",A.search)),onChange:H,onClose:B};"add"===t?i=Object(I.a)(Object(I.a)({},i),{},{title:U.createFolder,preInputLabel:"Folders help to organize your files. A file can only be connected to one folder.",labelPrimaryAction:U.create,onPrimaryAction:a}):(G.current=e.search,i=Object(I.a)(Object(I.a)({},i),{},{defaultValue:e.search,title:"Rename folder",preInputLabel:"Renaming the folder will update the folder name for everyone.",labelPrimaryAction:"Rename folder",onPrimaryAction:n})),l(Br(i))},Q=Object(n.useCallback)((function(){T("")}),[T]);return Object(n.useEffect)((function(){A&&A.is_archived&&"removed"!==y&&T("removed")}),[A,y,T]),r.a.createElement(Cw,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("div",{className:"row app-block"},r.a.createElement($T,{init:b,actions:_,isMember:i,clearFilter:Q,params:f,dropZoneRef:R.dropZone,className:"col-lg-3",filterFile:function(e){if(f.hasOwnProperty("folderId")){var t=s.location.pathname.split("/folder/")[0];s.push(t)}T(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:y,fileCount:E,folders:O,activeFolder:A,dictionary:U,disableOptions:P}),r.a.createElement("div",{className:"col-md-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(Py,{isMember:i,clearFilter:Q,dropZoneRef:R.dropZone,history:s,params:f,onSearch:L,onSearchChange:D,onEnter:M,files:h,handleAddEditFolder:W,folders:O,dictionary:U,disableOptions:P,onClickEmpty:F,value:S}),r.a.createElement(wy,{dropZoneRef:R.dropZone,isLoaded:b,loadMore:C,filter:y,search:S,folders:O,folder:A,fileIds:g,subFolders:v,history:s,actions:_,params:f,files:h,handleAddEditFolder:W,dictionary:U,disableOptions:P}))))}));function yw(){var e=Object(s.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  svg {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return yw=function(){return e},e}function Tw(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;    \n  &.page-todos {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;    \n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 4px;\n          display: flex;\n          align-items: center;\n          height: 40px;          \n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n"]);return Tw=function(){return e},e}var ww=m.a.div(Tw()),Nw=m.a.h2(yw()),Sw=r.a.memo((function(){var e=Object(d.j)(),t=Object(o.useSelector)((function(e){return e.settings})),a=t.driff,i=t.user.GENERAL_SETTINGS.dark_mode,c=Object(o.useSelector)((function(e){return e.global.unreadCounter})),l=fl()._t,s={pageTitleDashboard:l("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:l("PAGE_TITLE.POSTS","Posts"),pageTitleChat:l("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:l("PAGE_TITLE.FILES","Files"),pageTitleNotifications:l("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:l("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:l("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:l("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:l("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:l("PAGE_TITLE.TODOS","To-dos & Reminders"),generalSearch:l("GENERAL.SEARCH","Search"),generalNotifications:l("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:l("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===i?l("SETTINGS.DARK_MODE","dark mode"):l("SETTINGS.LIGHT_MODE","light mode")})},u=Object(o.useDispatch)(),m=Object(n.useState)(s.pageTitleDashboard),f=Object(p.a)(m,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){var t=document.body;switch(["people","workspace","post","posts","notifications","settings"].includes(e.params.page)?t.classList.remove("stretch-layout"):t.classList.add("stretch-layout"),e.params.page){case"posts":h(s.pageTitlePosts);break;case"chat":h(s.pageTitleChat);break;case"files":h(s.pageTitleFiles);break;case"notifications":h(s.pageTitleNotifications);break;case"people":h(s.pageTitlePeople);break;case"profile":h(s.pageTitleProfile);break;case"search":h(s.pageTitleSearch);break;case"settings":h(s.pageTitleSettings);break;case"todos":h(s.pageTitleTodos);break;default:h(s.pageTitleDashboard)}c.chat_message>=1||c.unread_channel>0?document.title="".concat(b," \u2039 * ").concat(a.company_name," @ Driff"):document.title="".concat(b," \u2039 ").concat(a.company_name," @ Driff")}),[e.params.page,u,b]),r.a.createElement(ww,{className:"page-".concat(e.params.page)},r.a.createElement("div",{className:"navbar-left"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("div",{className:"navbar-wrap"},r.a.createElement("div",{className:"navbar-top"},r.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},r.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},r.a.createElement(Se,{icon:"menu"}))),r.a.createElement("li",{className:"nav-item nav-item-folder"},r.a.createElement(Nw,{className:"current-title"},b))),"todos"!==e.params.page&&r.a.createElement("div",{className:"navbar-bottom"},r.a.createElement("div",{className:"navbar-main"},r.a.createElement(iN,{dictionary:s})))))),r.a.createElement("div",null,r.a.createElement(Jd,{dictionary:s})))}));function xw(){var e=Object(s.a)(["\n  max-width: 350px;\n  margin-bottom: 1rem;\n"]);return xw=function(){return e},e}function Iw(){var e=Object(s.a)([""]);return Iw=function(){return e},e}var Rw=m.a.div(Iw()),Pw=Object(m.a)(Om)(xw()),Dw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Ll(),c=i.users,o=i.loggedUser,l=i.userChannels,s=i.selectUserChannel,u=Object(d.g)(),m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],h=f[1],E={search:Object(n.useRef)()},_=Object(n.useCallback)((function(e){u.push("/profile/".concat(e.id,"/").concat(e.name))}),[u]),g=Object(n.useCallback)((function(e){s(e,(function(e){u.push("/chat/".concat(e.code))}))}),[u,s]);Object(n.useEffect)((function(){E.search.current.focus()}),[]);var O=Object.values(c).sort((function(e,t){return e.name.localeCompare(t.name)})).filter((function(e){return!!l.hasOwnProperty(e.id)&&("internal"===e.type&&(1===e.active&&(""===b||""===b||-1!==e.name.toLowerCase().search(b.toLowerCase())||-1!==e.email.toLowerCase().search(b.toLowerCase()))))})),A=fl()._t,v={searchPeoplePlaceholder:A("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:A("PEOPLE.EXTERNAL","External"),peopleInvited:A("PEOPLE.INVITED","Invited")};return r.a.createElement(Rw,{className:"workspace-people container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(Pw,{ref:E.search,value:b,closeButton:"true",onClickEmpty:function(){h("")},placeholder:v.searchPeoplePlaceholder,onChange:function(e){h(e.target.value)},autoFocus:!0}),r.a.createElement("div",{className:"row"},O.map((function(e){return r.a.createElement(Bv,{loggedUser:o,key:e.id,user:e,onNameClick:_,onChatClick:g,dictionary:v})}))))))}));function Lw(){var e=Object(s.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return Lw=function(){return e},e}function Fw(){var e=Object(s.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]);return Fw=function(){return e},e}function Mw(){var e=Object(s.a)(["\n  text-align: left;\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    \n    .app-lists {    \n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n"]);return Mw=function(){return e},e}var Uw=m.a.div(Mw()),Gw=m.a.div(Fw()),Bw=m.a.div(Lw()),Hw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Object(d.i)(),c=Object(d.g)(),o={posts:Object(n.useRef)(null),btnLoadMore:Object(n.useRef)(null)},l=Ed(),s=l.actions,u=l.fetchMore,m=l.posts,f=l.filter,b=l.tag,h=l.sort,E=l.post,_=l.user,g=l.search,O=l.count,A=l.counters,v=E?Object.values(E.user_reads).sort((function(e,t){return e.name.localeCompare(t.name)})):[],C=Object(n.useState)(!1),j=Object(p.a)(C,2),k=j[0],y=j[1],T=Object(n.useCallback)((function(){i.hasOwnProperty("postId")&&c.push("/posts")}),[i,c]),w=fl()._t,N={createNewPost:w("POST.CREATE_NEW_POST","Create new post"),all:w("POST.ALL","All"),myPosts:w("POST.MY_POSTS","My posts"),starred:w("POST.STARRED","Starred"),archived:w("POST.ARCHIVED","Archived"),draft:w("POST.DRAFT","Draft"),drafts:w("POST.DRAFTS","Drafts"),category:w("POST.CATEGORY","Category"),replyRequired:w("POST.REPLY_REQUIRED","Reply required"),mustRead:w("POST.MUST_READ","Must read"),noReplies:w("POST.NO_REPLIES","No replies"),sortBy:w("POST.SORT_BY","Sort by"),starredFavorite:w("POST.STARRED_FAVORITE","Starred / Favorite"),recent:w("POST.RECENT","Recent"),unread:w("POST.UNREAD","Unread"),searchPost:w("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:w("POST.MARK_AS_READ","Mark as read"),markAsUnread:w("POST.MARK_AS_UNREAD","Mark as unread"),share:w("POST.SHARE","Share"),snooze:w("POST.SNOOZE","Snooze"),follow:w("POST.FOLLOW","Follow"),unFollow:w("POST.UNFOLLOW","Unfollow"),files:w("POST.FILES","Files"),comment:w("POST.COMMENT","Comment"),editPost:w("POST.EDIT_POST","Edit post"),editReply:w("POST.EDIT_REPLY","Edit reply"),removeReply:w("POST.REMOVE_REPLY","Remove reply"),quote:w("POST.QUOTE","Quote"),mentionUser:w("POST.MENTION_USER","Mention user"),remindMeAboutThis:w("TODO.REMIND_ME_ABOUT_THIS","Remind me about this"),searchResult:w("POST.SEARCH_RESULT","Search Result:"),searchResults:w("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:w("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:w("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:w("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:w("POST.PRIVATE","Private"),by:w("POST.BY","by"),star:w("POST.STAR","Mark with star"),unStar:w("POST.UNSTAR","Unmark star"),alreadyReadThis:w("POST.ALREADY_READ_THIS","I've read this"),readByNumberofUsers:1===v?w("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_name::",{user_name:v[0].first_name}):w("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:v.length})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};k||(y(!0),u((function(t,a){y(!1),e(t,a)})))},x=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&o.btnLoadMore.current&&o.btnLoadMore.current.click()};return Object(n.useEffect)((function(){var e=o.posts.current;e&&"0"===e.dataset.loaded&&(!function(){var e=o.posts.current;e.scrollHeight>e.querySelector(".list-group").scrollHeight&&S()}(),e.dataset.loaded="1",o.posts.current.addEventListener("scroll",x,!1))}),[o.posts.current]),null===m?r.a.createElement(r.a.Fragment,null):r.a.createElement(Uw,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("span",{className:"d-none",ref:o.btnLoadMore,onClick:S},"Load more"),r.a.createElement("div",{className:"row app-block"},r.a.createElement(Ak,{filter:f,tag:b,postActions:s,count:O,counters:A,onGoBack:T,dictionary:N}),r.a.createElement("div",{className:"col-md-9 app-content"},r.a.createElement("div",{className:"app-content-overlay"}),!E&&r.a.createElement(ik,{activeSort:h,search:g,dictionary:N}),0===m.length&&null===g?r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement(Bw,null,r.a.createElement(Ie,{icon:3,height:252}),r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){s.showModal("create_company")}},N.createNewPost))):r.a.createElement(r.a.Fragment,null,E?r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement(Gw,{className:"fadeBottom"},r.a.createElement(Mj,{readByUsers:v,post:E,postActions:s,user:_,history:c,onGoBack:T,dictionary:N}))):r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement("div",{ref:o.posts,className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":k},null!==g&&r.a.createElement(r.a.Fragment,null,0===m.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},N.searchNoResult," ",g):1===m.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},N.searchResult," ",g):r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},N.searchResults," ",g)),r.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},m&&m.map((function(e){return r.a.createElement(pk,{key:e.id,post:e,postActions:s,dictionary:N})})))))))))})),Ww=a(552);function Qw(){var e=Object(s.a)([""]);return Qw=function(){return e},e}var Yw=m.a.img(Qw()),zw=r.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.countryAbbr,c=void 0===i?"nl":i,o=Object(G.a)(e,["className","countryAbbr"]),l=c;null===c&&(l="nl");var s="";switch(l.toLocaleLowerCase()){case"en":case"uk":s=a(195);break;case"nl":s=a(196);break;case"de":s=a(531);break;default:s=a(196)}return r.a.createElement(Yw,Object.assign({className:"flag ".concat(n),src:s,alt:"flag"},o))}));function Vw(){var e=Object(s.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n']);return Vw=function(){return e},e}var Kw=m.a.div(Vw()),qw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Object(o.useDispatch)(),c=cd(),l=Object(o.useSelector)((function(e){return e.session})).user,s=Sl(),d=s.generalSettings,u=d.language,m=d.timezone,p=d.date_format,f=d.time_format,b=d.dark_mode,h=d.notifications_on,E=s.chatSettings,_=E.order_channel,g=E.sound_enabled,O=E.preview_message,A=s.userSettings.isLoaded,v=s.setChatSetting,C=s.setGeneralSetting,j=s.setPushSubscription,k=fl(),y=k._t,T=k.setLocale,w=k.uploadTranslationToServer,N={chatSettingsTitle:y("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:y("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:y("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:y("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:y("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:y("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:y("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),localizationSettingsTitle:y("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:y("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:y("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:y("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format")},S=[{value:"channel_date_updated",label:N.sortChannelRecentActivityValue},{value:"channel_name",label:N.sortChannelNameValue}],x=[{value:"en",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(zw,{countryAbbr:"en",className:"mr-2",width:"18"}),y("LANGUAGE.ENGLISH","English"))},{value:"nl",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(zw,{countryAbbr:"nl",className:"mr-2",width:"18"}),y("LANGUAGE.DUTCH","Dutch"))},{value:"de",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(zw,{countryAbbr:"de",className:"mr-2",width:"18"}),y("LANGUAGE.GERMAN","German"))}],I=ec.a.tz.names().map((function(e){return{value:e,label:e}})),R=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],P=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],D=Object(n.useCallback)((function(e){e.persist();var t=e.target,a=t.name,n=t.checked,i=t.dataset;v(Object(Hi.a)({},a,n)),c.success(r.a.createElement("span",null,i.successMessage))}),[v]),L=Object(n.useCallback)((function(e){e.persist();var t=e.target,a=t.name,n=t.dataset;C(Object(Hi.a)({},a,"0"===b?"1":"0")),c.success(r.a.createElement("span",null,n.successMessage))}),[v]),F=Object(n.useCallback)((function(e){e.persist();var t=e.target,a=t.name,n=t.dataset;if(h){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),j(!1),i(ci({user_id:l.id}))}else j(null);C(Object(Hi.a)({},a,!h)),c.success(r.a.createElement("span",null,n.successMessage))}),[C]),M=Object(n.useCallback)((function(e){C({timezone:e.value}),c.success(r.a.createElement("span",null,"You have successfully updated Timezone"))}),[]),U=Object(n.useCallback)((function(e){C({date_format:e.value}),c.success(r.a.createElement("span",null,"You have successfully updated Date format"))}),[]),G=Object(n.useCallback)((function(e){C({time_format:e.value}),c.success(r.a.createElement("span",null,"You have successfully updated Time format"))}),[]);return r.a.createElement(Kw,{className:"profile-settings ".concat(a)},A?r.a.createElement(r.a.Fragment,null,"owner"===l.role.name&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center mb-0"},"System Settings ",r.a.createElement(Se,{className:"cursor-pointer",icon:"settings",onClick:function(){var e=document.createElement("a");e.href="https://".concat(q(),".driff.io/admin"),e.target="_blank",e.click()}})))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},N.chatSettingsTitle),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement(Ww.a,{className:"cursor-pointer text-muted",checked:g,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:D,"data-success-message":"".concat(g?"Chats are now muted!":"Chat sound is enabled!"),label:r.a.createElement("span",null,N.soundLabel)}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement(Ww.a,{className:"cursor-pointer text-muted",checked:O,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:D,"data-success-message":"You have turn ".concat(O?"OFF":"ON"," preview in chat messages!"),label:r.a.createElement("span",null,N.previewMessageLabel)}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},N.sortChannelLabel),r.a.createElement("div",{className:"col-7"},r.a.createElement(tm.a,{styles:"0"===b?am:nm,value:S.find((function(e){return e.value===_.order_by})),onChange:function(e){v({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),c.success(r.a.createElement("span",null,"You have successfully sort channel"))},options:S}))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},N.localizationSettingsTitle),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},N.languageLabel),r.a.createElement("div",{className:"col-7"},r.a.createElement(tm.a,{styles:"0"===b?am:nm,value:x.find((function(e){return e.value===u})),onChange:function(e){T(e.value),c.success(r.a.createElement("span",null,"You have successfully updated Language"))},options:x}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},N.timezoneLabel),r.a.createElement("div",{className:"col-7"},r.a.createElement(tm.a,{styles:"0"===b?am:nm,value:I.find((function(e){return e.value===m})),onChange:M,options:I}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},N.dateTimeFormatLabel),r.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},r.a.createElement("div",{className:"row"},r.a.createElement(tm.a,{styles:"0"===b?am:nm,className:"col-6",value:R.find((function(e){return e.value===p})),onChange:U,options:R}),r.a.createElement(tm.a,{styles:"0"===b?am:nm,className:"col-6",value:P.find((function(e){return e.value===f})),onChange:G,options:P})))),(l.email.includes("rt@")||["rtuerlings@zuid.com","joules@makedevelopment.com"].includes(l.email))&&r.a.createElement("div",{className:"row mb-2 mt-4"},r.a.createElement("div",{className:"col-12 text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){w((function(){var e=document.createElement("a");e.href="https://".concat(q(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},"Notifications"),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(Ww.a,{className:"cursor-pointer text-muted",checked:h,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(h?"Notifications disabled":"Notifications enabled"),onChange:F,label:r.a.createElement("span",null,N.allowNotifications)}))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},"Extra settings"),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(Ww.a,{className:"cursor-pointer text-muted",checked:"1"===b,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(b?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:L,label:r.a.createElement("span",null,"Dark mode")})))))):r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))}));function Jw(){var e=Object(s.a)(["\n  .row-settings {\n    justify-content: center;\n  }\n"]);return Jw=function(){return e},e}var Zw=m.a.div(Jw()),Xw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(Zw,{className:"container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row row-settings"},r.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},r.a.createElement(qw,null))))}));function $w(){var e=Object(s.a)(['  \n  color: #828282;\n  margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  &.active {\n    color: #363636;\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 6px;\n    height: 6px;\n    background: #28a745;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']);return $w=function(){return e},e}function eN(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n  }\n"]);return eN=function(){return e},e}function tN(){var e=Object(s.a)([""]);return tN=function(){return e},e}var aN=m.a.div(tN()),nN=m.a.ul(eN()),rN=Object(m.a)(ut)($w()),iN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.dictionary,i=Object(o.useSelector)((function(e){return e.global.unreadCounter})),c=Object(o.useSelector)((function(e){return e.chat.lastVisitedChannel}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(aN,{className:"".concat(a)},r.a.createElement(nN,{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(rN,{to:"/dashboard"},n.pageTitleDashboard)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(rN,{to:null!==c&&c.hasOwnProperty("code")?"/chat/".concat(c.code):"/chat"},n.pageTitleChat," ",r.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},i.chat_message+i.chat_reminder_message>0?i.chat_message+i.chat_reminder_message:i.unread_channel>0?i.unread_channel:null))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(rN,{to:"/posts"},n.pageTitlePosts)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(rN,{to:"/files"},n.pageTitleFiles)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(rN,{to:"/people"},n.pageTitlePeople)))))}));function cN(){var e=Object(s.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .row-user-profile-panel {\n    justify-content: center;\n\n    .avatar {\n      width: 68px;\n      height: 68px;\n    }\n\n    input.designation {\n      &::-webkit-input-placeholder {\n        font-size: 12px;\n      }\n      &:-ms-input-placeholder {\n        font-size: 12px;\n      }\n      &::placeholder {\n        font-size: 12px;\n      }\n    }\n\n    .col-label {\n      max-width: 130px;\n\n      @media only screen and (min-width: 1200px) {\n        max-width: 180px;\n      }\n    }\n  }\n\n  .close {\n    border-radius: 100%;\n    padding: 2px;\n  }\n\n  label {\n    padding: 5px 10px;\n    border-radius: 6px;\n    width: 100%;\n  }\n\n  .btn-toggle {\n    &:hover {\n      .input-group-text {\n        border: 1px solid #e1e1e1;\n        background: #fff;\n        color: #7a1b8b;\n      }\n    }\n    .input-group-text {\n      border: 1px solid #7a1b8b;\n      background: #7a1b8b;\n      color: #fff;\n    }\n    svg {\n      cursor: pointer;\n    }\n  }\n\n  .avatar-container {\n    cursor: pointer;\n    position: relative;\n    width: 68px;\n    height: 68px;\n    margin: 0 auto;\n\n    .btn {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      background-color: #fff;\n      border-radius: 50px 50px 50px 50px;\n      height: 25px;\n      width: 25px;\n      padding: 5px;\n    }\n  }\n\n  .form-group {\n    &.designation {\n      margin: 0 auto;\n    }\n  }\n"]);return cN=function(){return e},e}var oN=m.a.div(cN()),lN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Object(d.g)(),c=Object(o.useDispatch)(),l=cd(),s=ds(),u=s.users,m=s.loggedUser,f=ls(),b=f.checkEmail,h=f.fetchById,E=f.getReadOnlyFields,_=f.getRequiredFields,g=f.update,O=f.updateProfileImage,A=u[e.match.params.id],v=A&&m.id===A.id,C=E(A?A.import_from:""),j=_(A?A.import_from:""),k=Object(n.useState)(!1),y=Object(p.a)(k,2),T=y[0],w=y[1],N=Object(n.useState)(!1),S=Object(p.a)(N,2),x=S[0],R=S[1],P=Object(n.useState)(!1),D=Object(p.a)(P,2),L=D[0],F=D[1],M=Object(n.useState)(!1),U=Object(p.a)(M,2),G=U[0],B=U[1],H=Object(n.useState)(A&&A.loaded?A:{}),W=Object(p.a)(H,2),Q=W[0],Y=W[1],z=Object(n.useState)({valid:{},feedbackState:{},feedbackText:{}}),V=Object(p.a)(z,2),K=V[0],q=V[1],J={dropZoneRef:Object(n.useRef)(null),first_name:Object(n.useRef)(null),password:Object(n.useRef)(null)},Z=fl()._t,X={information:Z("PROFILE.INFORMATION","Information"),firstName:Z("PROFILE.FIRST_NAME","First name:"),middleName:Z("PROFILE.MIDDLE_NAME","Middle name:"),lastName:Z("PROFILE.LAST_NAME","Last name:"),password:Z("PROFILE.PASSWORD","Password:"),position:Z("PROFILE.POSITION","Position:"),city:Z("PROFILE.CITY","City:"),address:Z("PROFILE.ADDRESS","Address:"),phone:Z("PROFILE.Phone","Phone:"),email:Z("PROFILE.EMAIL","Email:"),edit:Z("BUTTON.EDIT","Edit"),saveChanges:Z("BUTTON.SAVE_CHANGES","Save changes"),cancel:Z("BUTTON.Cancel","Cancel"),clickToChangePassword:Z("PROFILE.CLICK_TO_CHANGE_PASSWORD","Click to change your password")},$=Object(n.useCallback)((function(e){if("boolean"===typeof e)return e?"is-valid":"is-invalid"}),[]),ee=Object(n.useCallback)((function(){F((function(e){return!e}))}),[F]),te=Object(n.useCallback)((function(){R((function(e){return!e}))}),[R]);Object(n.useEffect)((function(){L&&J.password.current&&J.password.current.focus()}),[L,J.password]);var ae=Object(n.useCallback)((function(){w((function(e){return!e})),Y(Object(I.a)({},A)),q({valid:{},feedbackState:{},feedbackText:{}}),F(!1)}),[A,Y,F,w]);Object(n.useEffect)((function(){T&&J.first_name.current&&J.first_name.current.focus()}),[T,J.first_name]);var ne=Object(n.useCallback)((function(e){if(null!==e.target){var t=e.target,a=t.name,n=t.value;Y((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(Hi.a)({},a,n.trim()))}))}}),[]),re=Object(n.useCallback)((function(e){if(null!==e.target){var t=e.target,a=t.name,n=t.value;if(A[a]===Q[a])return void q((function(e){return{valid:Object(I.a)(Object(I.a)({},e.valid),{},Object(Hi.a)({},a,void 0)),feedbackState:Object(I.a)(Object(I.a)({},e.feedbackState),{},Object(Hi.a)({},a,void 0)),feedbackText:Object(I.a)(Object(I.a)({},e.feedbackText),{},Object(Hi.a)({},a,void 0))}}));"email"===a?j.includes(a)&&""===n.trim()?q((function(e){return{valid:Object(I.a)(Object(I.a)({},e.valid),{},Object(Hi.a)({},a,!1)),feedbackState:Object(I.a)(Object(I.a)({},e.feedbackState),{},Object(Hi.a)({},a,!1)),feedbackText:Object(I.a)(Object(I.a)({},e.feedbackText),{},Object(Hi.a)({},a,"Email is required"))}})):""===n.trim()||ie.test(n.trim())?b(Q.email,(function(e,t){t&&(t.data.status?q((function(e){return{valid:Object(I.a)(Object(I.a)({},e.valid),{},Object(Hi.a)({},a,!1)),feedbackState:Object(I.a)(Object(I.a)({},e.feedbackState),{},Object(Hi.a)({},a,!1)),feedbackText:Object(I.a)(Object(I.a)({},e.feedbackText),{},Object(Hi.a)({},a,"Email is already taken"))}})):q((function(e){return{valid:Object(I.a)(Object(I.a)({},e.valid),{},Object(Hi.a)({},a,!0)),feedbackState:Object(I.a)({},e.feedbackState),feedbackText:Object(I.a)({},e.feedbackText)}})))})):q((function(e){return{valid:Object(I.a)(Object(I.a)({},e.valid),{},Object(Hi.a)({},a,!1)),feedbackState:Object(I.a)(Object(I.a)({},e.feedbackState),{},Object(Hi.a)({},a,!1)),feedbackText:Object(I.a)(Object(I.a)({},e.feedbackText),{},Object(Hi.a)({},a,"Invalid email format"))}})):j.includes(a)?q((function(e){return{valid:Object(I.a)(Object(I.a)({},e.valid),{},Object(Hi.a)({},a,""!==n.trim())),feedbackState:Object(I.a)(Object(I.a)({},e.feedbackState),{},Object(Hi.a)({},a,""!==n.trim())),feedbackText:Object(I.a)(Object(I.a)({},e.feedbackText),{},Object(Hi.a)({},a,""===n.trim()?"Field is required.":""))}})):q((function(e){return{valid:Object(I.a)(Object(I.a)({},e.valid),{},Object(Hi.a)({},a,!0)),feedbackState:e.feedbackState,feedbackText:e.feedbackText}}))}}),[A,Q,j]),ce=Object(n.useCallback)((function(){!1===Object.values(K.valid).find((function(e){return!1===e}))?l.error("Some fields require your attention."):!0===Object.values(K.valid).find((function(e){return!0===e}))?Q.profile_image_link!==A.profile_image_link?O(Q,K.feedbackText.profile_image_link,(function(e,t){t&&w(!1)})):g(Q,(function(e,t){t&&w(!1)})):(l.info("Nothing was updated."),w(!1))}),[Q,K,g,w]),oe=Object(n.useCallback)((function(){G||B(!0)}),[G,B]),le=Object(n.useCallback)((function(){B(!1)}),[B]),se=Object(n.useCallback)((function(e,t){Y((function(e){return Object(I.a)(Object(I.a)({},e),{},{profile_image_link:t})})),q((function(t){return{valid:Object(I.a)(Object(I.a)({},t.valid),{},{profile_image_link:!0}),feedbackState:Object(I.a)({},t.feedbackState),feedbackText:Object(I.a)(Object(I.a)({},t.feedbackText),{},{profile_image_link:e})}})),w(!0),l.info(r.a.createElement(r.a.Fragment,null,"Click the ",r.a.createElement("b",null,"Save Changes")," button to update your profile image."))}),[]),de=Object(n.useCallback)((function(e){0===e.length?l.error("File type not allowed. Please use an image file."):e.length>1&&l.warning("Multiple files detected. First selected image will be used.");var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:se};c(Br(t,(function(){le()})))}),[se,le]),me=Object(n.useCallback)((function(){window.location.href="mailto:".concat(A.email)}),[A]);return Object(n.useEffect)((function(){var t=u[e.match.params.id]?u[e.match.params.id]:{};t.hasOwnProperty("loaded")?Q.id!==t.id&&Y(t):h(e.match.params.id)}),[e.match.params.id,u,Y]),Object(n.useEffect)((function(){"edit"===e.match.params.mode&&Q.id&&m.id===Q.id&&(i.push("/profile/".concat(Q.id,"/").concat(ue(Q.name))),w(!0)),"view"===e.match.params.mode&&Q.id&&m.id===Q.id&&(i.push("/profile/".concat(Q.id,"/").concat(ue(Q.name))),w(!1))}),[Q,e.match.params.mode]),Q.id?r.a.createElement(oN,{className:"user-profile-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row row-user-profile-panel"},r.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body text-center",onDragOver:oe},v&&r.a.createElement(Nb,{acceptType:"imageOnly",hide:!G,ref:J.dropZoneRef,onDragLeave:le,onDrop:function(e){var t=e.acceptedFiles;de(t)},onCancel:le}),r.a.createElement("div",{className:"avatar-container",onClick:function(){T||w(!0),J.dropZoneRef.current.open()}},r.a.createElement(Fe,{imageLink:Q.profile_image_link,name:Q.name?Q.name:Q.email,noDefaultClick:!0}),v&&r.a.createElement("span",{className:"btn btn-outline-light btn-sm"},r.a.createElement(Se,{icon:"pencil"}))),T?r.a.createElement("h5",{className:"mb-1 mt-2"},Q.first_name," ",Q.middle_name," ",Q.last_name):r.a.createElement("h5",{className:"mb-1 mt-2"},A.first_name," ",A.middle_name," ",A.last_name),T&&!C.includes("designation")?r.a.createElement("p",{className:"text-muted small d-flex align-items-center mt-2"},r.a.createElement(lp,{placeholder:"Job Title eg. Manager, Team Leader, Designer",className:"designation",name:"designation",onChange:ne,onBlur:re,defaultValue:A.designation,isValid:K.feedbackState.designation,valid:K.feedbackText.designation})):r.a.createElement("p",{className:"text-muted small"},A.designation))),r.a.createElement("div",{className:"card"},T?r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},"Information"),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.firstName),r.a.createElement("div",{className:"col col-form"},C.includes("first_name")?r.a.createElement(Im.a,null,A.first_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fu.a,{className:$(K.valid.first_name),innerRef:J.first_name,name:"first_name",onChange:ne,onBlur:re,defaultValue:A.first_name}),r.a.createElement(Xm,{valid:K.feedbackState.first_name},K.feedbackText.first_name)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.middleName),r.a.createElement("div",{className:"col col-form"},C.includes("middle_name")?r.a.createElement(Im.a,null,A.middle_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fu.a,{className:$(K.valid.middle_name),name:"middle_name",onChange:ne,onBlur:re,defaultValue:A.middle_name}),r.a.createElement(Xm,{valid:K.feedbackState.middle_name},K.feedbackText.middle_name)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.lastName),r.a.createElement("div",{className:"col col-form"},C.includes("last_name")?r.a.createElement(Im.a,null,A.last_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fu.a,{className:$(K.valid.last_name),name:"last_name",onChange:ne,onBlur:re,defaultValue:A.last_name}),r.a.createElement(Xm,{valid:K.feedbackState.last_name},K.feedbackText.last_name)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.password),r.a.createElement("div",{className:"col col-form"},C.includes("password")?r.a.createElement(Im.a,null,"*****"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Im.a,{onClick:ee,className:"cursor-pointer mb-0 ".concat(L?"d-none":"")},X.clickToChangePassword),r.a.createElement(Du.a,{className:"form-group-password mb-0 ".concat(L?"":"d-none")},r.a.createElement(Lu.a,null,r.a.createElement(Fu.a,{className:$(K.valid.password),innerRef:J.password,name:"password",onChange:ne,onBlur:re,defaultValue:"",type:x?"text":"password"}),r.a.createElement(Mu.a,{className:"btn-toggle",addonType:"append"},r.a.createElement(Uu.a,{className:"btn",onClick:te},r.a.createElement(Se,{icon:x?"eye-off":"eye"})))),r.a.createElement(Xm,{valid:K.feedbackState.password},K.feedbackText.password))))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.city),r.a.createElement("div",{className:"col col-form"},C.includes("place")?r.a.createElement(Im.a,null,A.place):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fu.a,{className:$(K.valid.place),name:"place",onChange:ne,onBlur:re,defaultValue:A.place}),r.a.createElement(Xm,{valid:K.feedbackState.place},K.feedbackText.place)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.address),r.a.createElement("div",{className:"col col-form"},C.includes("address")?r.a.createElement(Im.a,null,A.address):r.a.createElement(r.a.Fragment,null,r.a.createElement(lp,{name:"address",onChange:ne,onBlur:re,defaultValue:A.address,isValid:K.feedbackState.address,feedback:K.feedbackText.address})))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.phone),r.a.createElement("div",{className:"col col-form"},C.includes("contact")?r.a.createElement(Im.a,null,A.contact):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fu.a,{className:$(K.valid.contact),name:"contact",onChange:ne,onBlur:re,defaultValue:A.contact}),r.a.createElement(Xm,{valid:K.feedbackState.contact},K.feedbackText.contact)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.email),r.a.createElement("div",{className:"col col-form"},C.includes("email")?r.a.createElement(Im.a,null,A.email):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fu.a,{type:"email",className:$(K.valid.email),name:"email",onChange:ne,onBlur:re,defaultValue:A.email}),r.a.createElement(Xm,{valid:K.feedbackState.email},K.feedbackText.email)))),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center mt-0"},r.a.createElement("div",null,"\xa0"),r.a.createElement("div",null,r.a.createElement("span",{onClick:ce,className:"btn btn-primary mr-2"},X.saveChanges),r.a.createElement("span",{onClick:ae,className:"btn btn-outline-light"},X.cancel)))):r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},X.information,v&&r.a.createElement("span",{onClick:ae,className:"btn btn-outline-light btn-sm"},r.a.createElement(Se,{className:"mr-2",icon:"edit-2"})," ",X.edit)),A.first_name&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.firstName),r.a.createElement("div",{className:"col col-form"},A.first_name)),A.middle_name&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.middleName),r.a.createElement("div",{className:"col col-form"},A.middle_name)),A.last_name&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.lastName),r.a.createElement("div",{className:"col col-form"},A.last_name)),A.id===m.id&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.password),r.a.createElement("div",{className:"col col-form"},"*****")),A.role&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.position),r.a.createElement("div",{className:"col col-form"},A.role.name)),A.place&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.city),r.a.createElement("div",{className:"col col-form"},A.place)),A.address&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.address),r.a.createElement("div",{className:"col col-form"},A.address)),A.contact&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.phone),r.a.createElement("div",{className:"col col-form"},A.contact)),A.email&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},X.email),r.a.createElement("div",{className:"col col-form cursor-pointer",onClick:me},A.email))))))):r.a.createElement(r.a.Fragment,null)}));function sN(){var e=Object(s.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;    \n      color: #972C86\n    }\n  }\n"]);return sN=function(){return e},e}var dN=m.a.div(sN()),uN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=Object(o.useSelector)((function(e){return e.session.user})),i=Object(d.g)(),c=ld(),l=od().notifications,s=fl()._t,u=fd(),m={new:s("NOTIFICATION.NEW","New"),markAllAsRead:s("NOTIFICATION.MARK_ALL_AS_READ","Mark all as read"),oldNotifications:s("NOTIFICATION.OLD_NOTIFICATIONS","Old notifications"),noNotificationsToShow:s("NOTIFICATION.NO_NOTIFICATIONS_TO_SHOW","There are no notifications to show.")},p=Object.values(l).filter((function(e){return 0===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})),f=Object.values(l).filter((function(e){return 1===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}));return r.a.createElement(dN,{className:"user-profile-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row row-user-profile-panel justify-content-center"},r.a.createElement("div",{className:"col-md-6"},p.length>0&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},r.a.createElement("div",null,m.new),r.a.createElement("div",null,r.a.createElement("span",{className:"cursor-pointer",onClick:c.readAll},r.a.createElement("i",{className:"hide-show-toggler-item fa fa-check font-size-16 mr-2"}),m.markAllAsRead))),r.a.createElement("div",{className:"timeline"},p.map((function(e){return r.a.createElement(Dd,{key:e.id,notification:e,actions:c,history:i,redirect:u,user:n,_t:s})}))))),f.length>0&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},r.a.createElement("div",null,m.oldNotifications),r.a.createElement("div",null)),r.a.createElement("div",{className:"timeline"},f.map((function(e){return r.a.createElement(Dd,{key:e.id,notification:e,actions:c,history:i,redirect:u,user:n,_t:s})}))))),0===p.length&&0===f.length&&r.a.createElement("div",{className:"card empty-notification"},r.a.createElement("h4",null,m.noNotificationsToShow),r.a.createElement("div",{className:"card-body d-flex justify-content-center align-items-center"},r.a.createElement(Ie,{icon:1,height:330}))))))}));function mN(){var e=Object(s.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return mN=function(){return e},e}var pN=m.a.div(mN()),fN=function(e){var t=e.actions,a=e.clearTab,i=e.value,c=Object(n.useState)(i),o=Object(p.a)(c,2),l=o[0],s=o[1],d=function(){""!==l.trim()&&(a(),t.search({search:l,skip:0,limit:10}),t.saveSearchValue({value:l}))};Object(n.useEffect)((function(){s(i)}),[i]);var u={searchGlobalPlaceholder:(0,fl()._t)("PLACEHOLDER.SEARCH_GLOBAL","Search for anything in this Driff")};return r.a.createElement(pN,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("div",null,r.a.createElement("h2",{className:"mb-4 text-center"},"What do you want to find?"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==i&&(a(),t.saveSearchValue({value:""})),s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&d()},type:"text",className:"form-control",placeholder:u.searchGlobalPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:l}),""!==l.trim()&&r.a.createElement("button",{onClick:function(){s(""),a(),t.search({search:"",skip:0,limit:10}),t.saveSearchValue({value:""})},className:"btn-cross",type:"button"},r.a.createElement(Se,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:d},r.a.createElement(Se,{icon:"search"}))))))))},bN=function(e){var t=e.activeTab,a=e.onSelectTab,n=e.tabs;return r.a.createElement("ul",{className:"nav nav-pills mb-4",role:"tablist"},n.hasOwnProperty("CHANNEL")&&Object.keys(n.CHANNEL).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("channel"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"channel",role:"tab","aria-controls":"clasic","aria-selected":"true"},"Chat channel")),n.hasOwnProperty("CHAT")&&Object.keys(n.CHAT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("chat"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"chat",role:"tab","aria-controls":"clasic","aria-selected":"true"},"Message")),n.hasOwnProperty("COMMENT")&&Object.keys(n.COMMENT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("comment"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"comment",role:"tab","aria-controls":"clasic","aria-selected":"true"},"Comment")),n.hasOwnProperty("DOCUMENT")&&Object.keys(n.DOCUMENT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("document"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"document",role:"tab","aria-controls":"articles","aria-selected":"false"},"Files")),n.hasOwnProperty("PEOPLE")&&Object.keys(n.PEOPLE).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("people"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"people",role:"tab","aria-controls":"users","aria-selected":"false"},"People")),n.hasOwnProperty("POST")&&Object.keys(n.POST).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("post"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"post",role:"tab","aria-controls":"photos","aria-selected":"false"},"Posts")),n.hasOwnProperty("WORKSPACE")&&Object.keys(n.WORKSPACE).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("workspace"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"workspace",role:"tab","aria-controls":"photos","aria-selected":"false"},"Workspace")))},hN=function(e){var t=e.activeTab,a=e.tabs,n=e.redirect;return r.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"channel"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("CHANNEL")&&r.a.createElement(EN,{channels:a.CHANNEL.items,page:a.CHANNEL.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"chat"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("CHAT")&&r.a.createElement(gN,{chats:a.CHAT.items,page:a.CHAT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"comment"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("COMMENT")&&r.a.createElement(CN,{comments:a.COMMENT.items,page:a.COMMENT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"document"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("DOCUMENT")&&r.a.createElement(xN,{files:a.DOCUMENT.items,page:a.DOCUMENT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"people"===t)&&"active show"),id:"users",role:"tabpanel"},a.hasOwnProperty("PEOPLE")&&r.a.createElement(SN,{people:a.PEOPLE.items,page:a.PEOPLE.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"post"===t)&&"active show"),id:"photos",role:"tabpanel"},a.hasOwnProperty("POST")&&r.a.createElement(RN,{posts:a.POST.items,page:a.POST.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"workspace"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("WORKSPACE")&&r.a.createElement(MN,{workspaces:a.WORKSPACE.items,page:a.WORKSPACE.page,redirect:n})))},EN=function(e){var t=e.channels,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return e.data?r.a.createElement(_N,{key:e.id,data:e.data,redirect:n}):null})))},_N=function(e){var t=e.data,a=e.redirect,n=t.channel;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("h5",{onClick:function(){a.toChannel(n)}},n.title))},gN=function(e){var t=e.chats,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).filter((function(e){return e.data&&null!==e.data.message})).map((function(e){return r.a.createElement(vN,{key:e.id,data:e.data,redirect:n})})))};function ON(){var e=Object(s.a)(["\n    display: flex;\n    width: 100%;\n    p {\n        margin: 0;\n    }\n"]);return ON=function(){return e},e}var AN=m.a.li(ON()),vN=function(e){var t=e.data,a=e.redirect,n=t.channel,i=t.message;return r.a.createElement(AN,{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("div",null,r.a.createElement(Fe,{id:i.user.id,name:i.user.name,imageLink:i.user.profile_image_link})),r.a.createElement("div",{className:"ml-2",onClick:function(){a.toChat(n,i)}},r.a.createElement("p",null,i.user.name),r.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:i.body}})))},CN=function(e){var t=e.comments,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return r.a.createElement(wN,{key:e.id,comment:e,redirect:n})})))};function jN(){var e=Object(s.a)(["\n  img {\n    max-height: 200px;\n    padding: 20px;\n    margin-top: 20px;\n    float: right;\n  }\n  p {\n    display: none;\n    &:nth-child(1),\n    &:nth-child(2),\n    &:nth-child(3),\n    &:nth-child(4),\n    &:nth-child(5) {\n      display: block;\n    }\n  }\n"]);return jN=function(){return e},e}function kN(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]);return kN=function(){return e},e}var yN=m.a.li(kN()),TN=m.a.div(jN()),wN=function(e){var t=e.comment,a=e.redirect,n=t.data;return r.a.createElement(yN,{className:"list-group-item p-l-0 p-r-0",onClick:function(){if(null!==n)if(n.workspaces.length){var e={id:n.workspaces[0].topic.id,name:n.workspaces[0].topic.name,folder_id:n.workspaces[0].workspace?n.workspaces[0].workspace.id:null,folder_name:n.workspaces[0].workspace?n.workspaces[0].workspace.name:null};a.toPost({workspace:e,post:n.post},{focusOnMessage:n.comment.id})}else a.toPost({workspace:null,post:n.post},{focusOnMessage:n.comment.id})}},null!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Fe,{id:n.comment.author.id,name:n.comment.author.name,imageLink:n.comment.author.profile_image_link})),r.a.createElement("div",{className:"ml-2"},r.a.createElement("p",null,n.comment.author.name),r.a.createElement(TN,{className:"text-muted",dangerouslySetInnerHTML:{__html:n.comment.body}}))),null===n&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:t.search_body}})))},NN=function(e){var t=e.user,a=e.redirect;return r.a.createElement("li",{className:"list-group-item p-l-r-0"},r.a.createElement("div",{className:"media",onClick:function(){a.toPeople(t)}},r.a.createElement(Fe,{id:t.id,name:t.name,imageLink:t.profile_image_link,className:"mr-2"}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",{className:"m-0"},t.name))))},SN=function(e){var t=e.page,a=e.people,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.keys(a).length>0&&Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(NN,{key:e.id,user:e.data,redirect:n})})))},xN=function(e){var t=e.files,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return r.a.createElement(IN,{key:e.data.id,file:e.data,redirect:n})})))},IN=function(e){var t=e.file,a=e.redirect;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("label",{onClick:function(){a.toFiles(t)}},t.name))},RN=function(e){var t=e.page,a=e.posts,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(PN,{key:e.id,data:e.data,redirect:n})})))},PN=function(e){var t=e.data,a=e.redirect,n=t.post,i=t.workspaces,c=sd().localizeChatDate;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("div",{onClick:function(){var e=null;i.length&&(e={id:i[0].topic.id,name:i[0].topic.name,folder_id:i[0].workspace?i[0].workspace.id:null,folder_name:i[0].workspace?i[0].workspace.name:null}),console.log("trigger"),a.toPost({post:n,workspace:e})}},r.a.createElement("h5",null,n.title),r.a.createElement("div",{className:"text-muted font-size-13"},r.a.createElement("div",null,c(n.created_at.timestamp)))))},DN=a(72),LN=a.n(DN),FN=function(e){var t=e.actions,a=e.activeTab,i=e.tabs,c=e.value,o=Object(n.useState)(!1),l=Object(p.a)(o,2),s=l[0],d=l[1],u=function(e,n){var r=a;"workspace"===a?r="topic":"people"===a&&(r="user"),d(!0),t.search({search:c,skip:e,limit:n,tag:r},(function(e,t){d(!1)}))};if(Object(n.useEffect)((function(){if(a&&!s){var e=i[a.toUpperCase()].page,t=i[a.toUpperCase()].count;(1===e&&t<10&&i[a.toUpperCase()].total_count>10||1===e&&0===t)&&u(t,10)}}),[i,a,s]),a&&i[a.toUpperCase()].maxPage<=1||null===a)return null;var m=i[a.toUpperCase()].page,f=i[a.toUpperCase()].maxPage;return r.a.createElement("nav",{className:"mt-3"},r.a.createElement(LN.a,{forcePage:m-1,previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:f,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1,r=i[a.toUpperCase()].items.slice(n>1?10*n-10:0,10*n),c=i[a.toUpperCase()].count;10!==r.length&&u(c,10*n);var o=Object(I.a)(Object(I.a)({},i[a.toUpperCase()]),{},{page:n,key:a.toUpperCase()});t.updateTabPage(o)},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},MN=function(e){var t=e.page,a=e.workspaces,n=e.redirect,i=Object(o.useSelector)((function(e){return e.workspaces.workspaces}));return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(UN,{key:e.id,data:e.data,redirect:n,workspaces:i})})))},UN=function(e){var t=e.data,a=e.redirect,n=e.workspaces,i=t.topic,c=t.workspace;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("h5",{onClick:function(){var e={id:i.id,name:i.name,folder_id:c?c.id:null,folder_name:c?c.name:null};n.hasOwnProperty(i.id)?a.toWorkspace(e):a.fetchWorkspaceAndRedirect(e)}},i.name))};function GN(){var e=Object(s.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"]);return GN=function(){return e},e}var BN=m.a.div(GN()),HN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=fd(),c=ud(),o=md(),l=o.count,s=o.results,d=o.searching,u=o.tabs,m=o.value,f=Object(n.useState)(null),b=Object(p.a)(f,2),h=b[0],E=b[1];Object(n.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),function(){return document.getElementById("main").removeAttribute("style")}}),[]),Object(n.useEffect)((function(){if(Object.keys(u).length&&null===h){var e=Object.keys(u)[0];E(e.toLowerCase())}else 0===Object.keys(u).length&&null!==h&&E(null)}),[u,h]);return r.a.createElement(BN,{className:"user-search-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(fN,{actions:c,value:m,clearTab:function(){return E(null)}}),""!==m&&r.a.createElement("h4",{className:"mb-5"},r.a.createElement(Se,{icon:"search"}),d&&r.a.createElement("span",null,"Searching ",r.a.createElement("span",{className:"text-primary"},"\u201c",m,"\u201d")),!d&&r.a.createElement("span",null,l," results found for: ",r.a.createElement("span",{className:"text-primary"},"\u201c",m,"\u201d"))),r.a.createElement(bN,{activeTab:h,onSelectTab:function(e){e.currentTarget.dataset.value!==h&&E(e.currentTarget.dataset.value)},tabs:u}),r.a.createElement(hN,{activeTab:h,results:s,tabs:u,redirect:i}),l>0&&r.a.createElement(FN,{activeTab:h,tabs:u,actions:c,value:m}))))))}));function WN(){var e=Object(s.a)(["\n  max-width: 350px;\n  margin-bottom: 1rem;\n"]);return WN=function(){return e},e}function QN(){var e=Object(s.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n"]);return QN=function(){return e},e}var YN=m.a.div(QN()),zN=Object(m.a)(Om)(WN()),VN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Ll(),c=i.users,l=i.userActions,s=i.loggedUser,u=i.selectUserChannel,m=Object(o.useSelector)((function(e){return e.users.roles})),f=Object(d.g)(),b=Object(o.useDispatch)(),h=Object(n.useState)(""),E=Object(p.a)(h,2),_=E[0],g=E[1],O=Object(n.useState)(!1),A=Object(p.a)(O,2),v=A[0],C=A[1],j={search:Object(n.useRef)()},k=Object(n.useCallback)((function(e){f.push("/profile/".concat(e.id,"/").concat(e.name))}),[f]),y=Object(n.useCallback)((function(e){u(e,(function(e){f.push("/chat/".concat(e.code))}))}),[f,u]),T=Object.values(c).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email)&&(!(!v&&1!==e.active)&&(""===_||-1!==e.name.toLowerCase().search(_.toLowerCase())||-1!==e.email.toLowerCase().search(_.toLowerCase())))})).sort((function(e,t){return e.name.localeCompare(t.name)})),w=fl()._t,N={searchPeoplePlaceholder:w("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:w("PEOPLE.EXTERNAL","External"),peopleInvited:w("PEOPLE.INVITED","Invited"),assignAsAdmin:w("PEOPLE.ASSIGN_AS_ADMIN","Assign as administrator"),assignAsEmployee:w("PEOPLE.ASSIGN_AS_EMPLOYEE","Assign as employee")},S=cd();return Object(n.useEffect)((function(){j.search.current.focus()}),[]),r.a.createElement(YN,{className:"workspace-people container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"people-header"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(zN,{ref:j.search,value:_,closeButton:"true",onClickEmpty:function(){g("")},placeholder:"Search by name or email",onChange:function(e){g(e.target.value)},autoFocus:!0}),r.a.createElement(Ww.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:v,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:function(){C((function(e){var t=!e;return t?S.success("Showing inactive members"):S.success("Showing active members only"),t}))},"data-success-message":"".concat(v?"Inactive users are shown":"Inactive users are no longer visible"),label:r.a.createElement("span",null,"Show inactive members")})),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){b(Br({type:"driff_invite_users",hasLastName:!0,invitations:[],onPrimaryAction:function(e,t,a){0===e.length&&a.closeModal();var n=0;e.forEach((function(i,o){Object.values(c).some((function(e){return e.email===i.email}))?(S.error(r.a.createElement(r.a.Fragment,null,"Email ",r.a.createElement("b",null,i.email)," is already taken!")),o===e.length-1&&(n===e.length&&a.closeModal(),t())):l.inviteAsInternalUsers({email:i.email,first_name:i.first_name,last_name:i.last_name},(function(r,c){r&&(S.error("Something went wrong with ".concat(i.first_name," ").concat(i.last_name)),a.deleteItemByIndex(a.invitationItems.findIndex((function(e){return e.email===i.email})))),c&&(n+=1,a.deleteItemByIndex(a.invitationItems.findIndex((function(e){return e.email===i.email}))),S.success("You have invited ".concat(i.first_name," ").concat(i.last_name))),o===e.length-1&&(n===e.length&&a.closeModal(),t())}))}))}}))}},r.a.createElement(Se,{className:"mr-2",icon:"user-plus"})," Invite users"))),r.a.createElement("div",{className:"row"},T.map((function(e){return r.a.createElement(Bv,{loggedUser:s,key:e.id,user:e,onNameClick:k,onChatClick:y,dictionary:N,onUpdateRole:l.updateUserRole,showOptions:"admin"===s.role.name||"owner"===s.role.name,roles:m})}))))))}));function KN(){var e=Object(s.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]);return KN=function(){return e},e}var qN=m.a.div(KN()),JN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=kd(),c=i.getSortedItems,o=i.action,l=i.isLoaded,s=i.count,d=fl()._t,u={searchInputPlaceholder:d("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:d("REMINDER.CREATE_NEW_TODO_ITEM","New reminder"),typePost:d("REMINDER.TYPE_POST","Post"),typeChat:d("REMINDER.TYPE_CHAT","Chat"),typePostComment:d("REMINDER.TYPE_POST_COMMENT","Post comment"),statusAll:d("REMINDER.STATUS_ALL","All"),statusOverdue:d("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcoming:d("REMINDER.STATUS_UPCOMING","Upcoming"),statusDone:d("REMINDER.STATUS_DONE","Done"),emptyText:d("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:d("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFound:d("REMINDER.NO_ITEMS_FOUND","No items found."),actionReschedule:d("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:d("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:d("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:d("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:d("REMINDER.ACTION_REMOVE","Remove")},m=Object(n.useState)(""),f=Object(p.a)(m,2),b=f[0],h=f[1],E=Object(n.useState)(""),_=Object(p.a)(E,2),g=_[0],O=_[1];return r.a.createElement(qN,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("div",{className:"row app-block"},r.a.createElement(nS,{className:"col-md-3",dictionary:u,todoActions:o,setFilter:h,filter:b,count:s}),r.a.createElement("div",{className:"col-md-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(cS,{dictionary:u,onSearchChange:function(e){O(e.target.value)},clearSearch:function(){O("")},searchValue:g}),r.a.createElement(mS,{isLoaded:l,todoItems:c({filter:{status:b,search:g}}),dictionary:u,todoActions:o,filter:b}))))}));function ZN(){var e=Object(s.a)(["\n  width: 15px;\n"]);return ZN=function(){return e},e}function XN(){var e=Object(s.a)(["\n  cursor: pointer;\n  \n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n    \n  &:hover,\n  &.active {\n    background-color: #7a1b8b;\n    border-color: #7a1b8b;\n    color: #fff;\n    \n    .dark & {\n      background: #ffffff14 !important;\n      border-color: #ffffff14 !important;\n    }  \n  }\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return XN=function(){return e},e}function $N(){var e=Object(s.a)(["\n"]);return $N=function(){return e},e}var eS=m.a.div($N()),tS=m.a.span(XN()),aS=Object(m.a)(Se)(ZN()),nS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.dictionary,i=e.todoActions,c=e.setFilter,o=e.filter;e.count;return r.a.createElement(eS,{className:"todo-sidebar bottom-modal-mobile ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return i.createFromModal()}},n.createNewTodoItem)),r.a.createElement("div",null,r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement(tS,{onClick:function(){return c("")},className:"list-group-item d-flex align-items-center ".concat(""===o?"active":"")},r.a.createElement(aS,{className:"mr-2",icon:"list"}),n.statusAll),r.a.createElement(tS,{onClick:function(){return c("OVERDUE"===o?"":"OVERDUE")},className:"list-group-item d-flex align-items-center ".concat("OVERDUE"===o?"active":"")},r.a.createElement(aS,{className:"mr-2",icon:"alert-circle"}),n.statusOverdue," "),r.a.createElement(tS,{onClick:function(){return c("NEW"===o?"":"NEW")},className:"list-group-item d-flex align-items-center ".concat("NEW"===o?"active":"")},r.a.createElement(aS,{className:"mr-2",icon:"clock"}),n.statusUpcoming," "),r.a.createElement(tS,{onClick:function(){return c("DONE"===o?"":"DONE")},className:"list-group-item d-flex align-items-center ".concat("DONE"===o?"active":"")},r.a.createElement(aS,{className:"mr-2",icon:"check"}),n.statusDone," "))))))}));function rS(){var e=Object(s.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return rS=function(){return e},e}var iS=m.a.div(rS()),cS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.clearSearch,i=e.onEnter,c=e.dictionary,o=e.onSearchChange,l=(e.onClickEmpty,e.searchValue);return r.a.createElement(iS,{className:"todos-header app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light"},r.a.createElement(Se,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onKeyDown:i,onChange:o,value:l,className:"form-control",placeholder:c.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==l.trim()&&r.a.createElement("button",{onClick:n,className:"btn-cross",type:"button"},r.a.createElement(Se,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},r.a.createElement(Se,{icon:"search"}))))))}));function oS(){var e=Object(s.a)(["\n"]);return oS=function(){return e},e}m.a.li(oS());function lS(){var e=Object(s.a)(["\n  padding: 5rem 0;\n  max-width: 750px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n  h5 {\n    margin-top: 2rem;\n    margin-bottom: 0;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return lS=function(){return e},e}function sS(){var e=Object(s.a)(["\n.list-group {\n  .list-group-item {  \n    padding: 0.75rem 1.5rem 0 0.75rem;\n    \n    > a {\n      display: block;\n      width: 100%;\n      \n      .badge-todo-type {\n        border: 1px solid #000;\n      }\n    }\n  }\n}\n\nli.link-title {\n  border-radius: 6px;\n  font-weight: 500;\n  font-size: 11px;\n  text-transform: uppercase;\n  line-height: 1.2;\n  \n  &:not(:nth-child(1)) {\n    margin-top: 2rem;  \n  }\n}\n\n.text-success {\n  text-decoration: line-through;\n}\n\n.todo-title {\n  svg {\n    height: 16px;\n  }\n}\n"]);return sS=function(){return e},e}var dS=m.a.div(sS()),uS=m.a.div(lS()),mS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.dictionary,c=e.filter,o=e.isLoaded,l=e.loadMore,s=e.todoActions,u=e.todoItems,m={files:Object(n.useRef)(null),btnLoadMore:Object(n.useRef)(null)},p=Object(d.g)(),f=sd(),b=f.todoFormat,h=f.todoFormatShortCode,E=Sl().generalSettings.dark_mode,_=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&m.btnLoadMore.current&&m.btnLoadMore.current.click()},g=function(e){return"OVERDUE"===e.status?"badge-warning":"1"===E?"badge-dark":"badge-light"};return Object(n.useEffect)((function(){if(m.files.current){var e=m.files.current;e&&"0"===e.dataset.loaded&&(l.files(),e.dataset.loaded="1",m.files.current.addEventListener("scroll",_,!1))}}),[m.files.current]),r.a.createElement(dS,{className:"todos-body card app-content-body ".concat(a)},r.a.createElement("span",{className:"d-none",ref:m.btnLoadMore},"Load more"),r.a.createElement("div",{className:"card-body app-lists","data-loaded":0},o?0!==u.length?r.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},u.map((function(e,t){var a="";if(0===t)switch(e.status){case"OVERDUE":a=i.statusOverdue;break;case"NEW":a=i.statusUpcoming;break;case"DONE":a=i.statusDone}else if(u[t-1].status!==e.status)switch(e.status){case"OVERDUE":a=i.statusOverdue;break;case"NEW":a=i.statusUpcoming;break;case"DONE":a=i.statusDone}return r.a.createElement(r.a.Fragment,{key:t},""!==a&&r.a.createElement("li",{className:"list-group-item link-title"},r.a.createElement("div",null,r.a.createElement("h6",{className:"mt-3 mb-0 font-size-11 text-uppercase"},a))),r.a.createElement("li",{className:"pl-0 list-group-item"},r.a.createElement("a",{className:"DONE"===e.status?"text-success":"",href:e.link,target:"_blank","data-link":e.link,onClick:function(t){t.preventDefault(),e.link_type?function(e){e.preventDefault(),p.push(e.currentTarget.dataset.link)}(t):s.updateFromModal(e)}},r.a.createElement("span",{className:"d-flex justify-content-between w-100 align-items-center"},r.a.createElement("span",{className:"d-flex"},r.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success mr-2"},r.a.createElement(Pi,{content:"DONE"===e.status?i.actionMarkAsUndone:i.actionMarkAsDone},r.a.createElement(qm,{name:"test",checked:"DONE"===e.status,onClick:function(t){t.preventDefault(),t.stopPropagation(),s.toggleDone(e)}}))),r.a.createElement("span",{className:"mr-3 d-flex justify-content-center align-items-center"},r.a.createElement("span",{className:"todo-title mr-2"},e.title),r.a.createElement("span",{className:"todo-title",dangerouslySetInnerHTML:{__html:Oc.parseToTextImageVideo(e.description)}}))),r.a.createElement("span",{className:"action d-flex justify-content-center align-items-center"},r.a.createElement("span",{className:"mr-3 align-items-center d-flex"},null!==e.link_type&&r.a.createElement("span",{className:"badge badge-white badge-todo-type text-black mr-3"},function(e){switch(e.link_type){case"POST":return i.typePost;case"CHAT":return i.typeChat;case"POST_COMMENT":return i.typePostComment}}(e)),e.remind_at&&r.a.createElement(Pi,{content:b(e.remind_at.timestamp)},r.a.createElement("span",{className:"badge ".concat(g(e)," text-white mr-3")},h(e.remind_at.timestamp))),null!==e.author&&r.a.createElement(Fe,{key:e.author.id,name:e.author.name,imageLink:e.author.profile_image_link,id:e.author.id})),r.a.createElement(au,{className:"ml-2",item:e,width:170,moreButton:"more-horizontal"},r.a.createElement("div",{onClick:function(){return s.updateFromModal(e)}},i.actionEdit),r.a.createElement("div",{onClick:function(){return s.removeConfirmation(e)}},i.actionRemove)))))))}))):r.a.createElement(r.a.Fragment,null,""===c?r.a.createElement(uS,null,r.a.createElement(Ie,{icon:1,height:282}),r.a.createElement("h5",null,i.emptyText),r.a.createElement("button",{onClick:function(){return s.createFromModal()},className:"btn btn-primary"},i.emptyButtonText)):r.a.createElement(uS,null,r.a.createElement(Ie,{icon:1,height:282}),r.a.createElement("h5",null,i.noItemsFound))):r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))}));function pS(){var e=Object(s.a)(["\n  padding-bottom: ",";\n"]);return pS=function(){return e},e}var fS=m.a.div(pS(),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),bS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal;e.match;return r.a.createElement(fS,{className:"main-content ".concat(a),isOnWorkspace:"workspace"===e.match.params.page},r.a.createElement(d.d,null,r.a.createElement(d.b,Object.assign({},e,{component:lN,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile"]})),r.a.createElement(d.b,Object.assign({},e,{component:uN,path:["/notifications"]})),r.a.createElement(d.b,Object.assign({},e,{component:HN,path:["/search"]})),!n&&r.a.createElement(d.b,Object.assign({},e,{component:cy,path:["/dashboard"]})),!n&&r.a.createElement(d.b,Object.assign({},e,{component:Hw,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!n&&r.a.createElement(d.b,Object.assign({},e,{component:xv,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),r.a.createElement(d.b,Object.assign({},e,{render:function(e){return r.a.createElement(kw,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!n&&r.a.createElement(d.b,Object.assign({},e,{component:Dw,path:["/people"]})),!n&&r.a.createElement(d.b,Object.assign({},e,{component:VN,path:["/system/people"]})),r.a.createElement(d.b,Object.assign({},e,{component:Xw,path:["/settings"]})),r.a.createElement(d.b,Object.assign({},e,{component:JN,path:["/todos"]})),r.a.createElement(d.a,{from:"*",to:{pathname:"/chat",state:{from:e.location}}})))}));function hS(){var e=Object(s.a)(["\n  z-index: 1 !important;\n"]);return hS=function(){return e},e}var ES=m.a.footer(hS());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(ES,{className:"".concat(a)},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),r.a.createElement("div",null,r.a.createElement("nav",{className:"nav"},r.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),r.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),r.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))}));function _S(){var e=Object(s.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return _S=function(){return e},e}function gS(){var e=Object(s.a)(["\n  position: relative;\n  padding-bottom: 0 !important;\n  overflow: hidden;\n"]);return gS=function(){return e},e}var OS=m.a.div(gS()),AS=m.a.div(_S()),vS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal,i=fl()._t,c={createWorkspace:i("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:i("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},l=Object(o.useDispatch)();ds();var s=Os(),u=s.actions,m=s.timeline,p=s.workspaces,f=s.workspacesLoaded,b=s.workspace,h=jo(b&&b.member_ids.length?b.member_ids:[]);return r.a.createElement(OS,{className:"main-content h-100 ".concat(a)},f?r.a.createElement(r.a.Fragment,null,Object.keys(p).length>=1?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{render:function(e){return r.a.createElement(mI,Object.assign({isExternal:n},e))},path:["/workspace/search"]}),r.a.createElement(d.b,{render:function(){return r.a.createElement(JS,Object.assign({},e,{workspace:b,isMember:h,actions:u,workspaceTimeline:m}))},path:["/workspace/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/dashboard/:workspaceId/:workspaceName","/workspace/dashboard"]}),r.a.createElement(d.b,{exact:!0,render:function(){return r.a.createElement(cI,Object.assign({},e,{workspace:b,isMember:h}))},path:["/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/posts/:workspaceId/:workspaceName","/workspace/posts"]}),r.a.createElement(d.b,{render:function(){return r.a.createElement(TS,Object.assign({},e,{workspace:b}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/chat"]}),r.a.createElement(d.b,Object.assign({exact:!0},e,{render:function(e){return r.a.createElement(tx,Object.assign({},e,{workspace:b,isMember:h}))},path:["/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/files/:workspaceId/:workspaceName","/workspace/files"]})),r.a.createElement(d.b,{render:function(){return r.a.createElement($x,Object.assign({},e,{workspace:b,isMember:h}))},path:["/workspace/people/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/people/:workspaceId/:workspaceName","/workspace/people"]}),r.a.createElement(d.b,Object.assign({},e,{component:sI,path:["/workspace/settings/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/settings/:workspaceId/:workspaceName","/workspace/settings"]})),r.a.createElement(d.a,{from:"*",to:{pathname:"/workspace",state:{from:e.location}}}))):r.a.createElement(AS,null,r.a.createElement("div",null,r.a.createElement(Ie,{height:275,icon:1}),r.a.createElement("h5",null,c.sidebarTextCreateWorkspace),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){l(Br({type:"workspace_create_edit",mode:"add"}))}},c.createWorkspace)))):r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))}));function CS(){var e=Object(s.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]);return CS=function(){return e},e}function jS(){var e=Object(s.a)([""]);return jS=function(){return e},e}var kS=m.a.div(jS()),yS=m.a.div(CS()),TS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=Object(o.useSelector)((function(e){return e.chat.selectedChannel}));return r.a.createElement(kS,{className:"workspace-chat container-fluid ".concat(a)},r.a.createElement(yS,{className:"row no-gutters chat-block"},r.a.createElement(AO,{className:"col-lg-12",isWorkspace:"true",selectedChannel:n})))}));function wS(){var e=Object(s.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n"]);return wS=function(){return e},e}var NS=m.a.div(wS()),SS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,c=Object(d.j)().params,l=Object(o.useDispatch)(),s=Xs(),u=sd().fromNow,m=function(){console.log(n,c),l(qa({workspace_id:c.workspaceId,file_id:n.id}))};return r.a.createElement(NS,{className:"attach-file-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(Fe,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_link,id:n.user.id})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},r.a.createElement("span",null,r.a.createElement("span",{className:"font-weight-normal"},n.user.name)," ",r.a.createElement("span",{onClick:m,className:"file-summary"},i.attachedFile)),r.a.createElement("span",{className:"text-muted font-weight-normal"},u(n.created_at.timestamp))),r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},r.a.createElement("span",{onClick:m,className:"timeline-file-icon"},s.getFileIcon(n.mime_type)," ",r.a.createElement("span",null,n.name)))))}));function xS(){var e=Object(s.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n    \n    svg {\n      cursor:pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return xS=function(){return e},e}var IS=m.a.div(xS()),RS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,c=Object(d.g)(),o=Object(d.j)().params,l=sd().fromNow,s=function(e){e.preventDefault(),c.push("/workspace/posts/".concat(o.workspaceId,"/").concat(o.workspaceName,"/post/").concat(n.id,"/").concat(n.title))};return r.a.createElement(IS,{className:"post-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(Fe,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_link,id:n.user.id})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},n.user.name," ",r.a.createElement("span",{className:"post-title",onClick:s,title:n.title},i.sharedThePost,' "',n.title,'"')),r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp))),n.body.replace(/<\/?[^>]+(>|$)/g,"")&&r.a.createElement("span",{onClick:s},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},r.a.createElement(Se,{icon:"arrow-right"}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.body}}))),n.files&&n.files.length>=1&&r.a.createElement(r.a.Fragment,null,i.fileAttachments,":",r.a.createElement(ji,{attachedFiles:n.files}))))}));function PS(){var e=Object(s.a)([""]);return PS=function(){return e},e}var DS=m.a.div(PS());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=sd().fromNow;return r.a.createElement(DS,{className:"timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(Fe,{name:n.user.name,imageLink:n.user.profile_image_link})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",null,n.user.name," ",r.a.createElement("a",{href:"#"},"shared a post")),r.a.createElement("span",{className:"text-muted font-weight-normal"},i(n.created_at.timestamp))),r.a.createElement("a",{href:"#"},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},n.body))))}));function LS(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return LS=function(){return e},e}function FS(){var e=Object(s.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]);return FS=function(){return e},e}var MS=m.a.div(FS()),US=Object(m.a)(ke.a)(LS()),GS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,c=sd(),l=c.fromNow,s=c.localizeDate,d=Object(o.useSelector)((function(e){return e.session.user})),u=Object(o.useSelector)((function(e){return e.global.recipients.filter((function(e){return"USER"===e.type}))})),m=null;n.body.includes("CHANNEL_UPDATE")&&(m=JSON.parse(n.body.replace("CHANNEL_UPDATE::","")));var p=function(){if(""!==m.title)return"".concat(i.updatedWorkspaceTo," ").concat(m.title);0!==m.added_members.length||m.removed_members.length},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===m.author)return"";if(e){var t=u.filter((function(e){return e.type_id===m.author.id&&m.added_members.includes(e.type_id)}))[0];if(t)return t.type_id===d.id?"".concat(i.youJoined,"."):"".concat(t.name," ").concat(i.hasJoined)}else{var a=u.filter((function(e){return m.added_members.includes(e.type_id)&&e.type_id!==m.author.id})).map((function(e){return e.name}));if(a.length)return a.join(", ")+" ".concat(i.isAdded,".")}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===m.author)return"";if(e){var t=u.filter((function(e){return e.type_id===m.author.id&&m.removed_members.includes(e.type_id)}))[0];if(t)return t.type_id===d.id?"".concat(i.youLeft,"."):"".concat(t.name," ").concat(i.hasLeft)}else{var a=u.filter((function(e){return m.removed_members.includes(e.type_id)&&e.type_id!==m.author.id})).map((function(e){return e.name}));if(a.length)return a.join(", ")+" ".concat(i.isRemoved,".")}};return null===m?null:r.a.createElement(MS,{className:"member-timeline timeline-item ".concat(a)},r.a.createElement("div",null,null!==m?r.a.createElement(r.a.Fragment,null,m.author?r.a.createElement(Fe,{className:"mr-3",name:m.author.name,imageLink:m.author.profile_image_link,id:m.author.id}):r.a.createElement(Fe,{className:"mr-3",imageLink:null,isBot:!0})):r.a.createElement(Fe,{className:"mr-3",imageLink:null,isBot:!0})),r.a.createElement("div",null,null!==m?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},m.author&&m.author.name," ",p()),r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp))),m.added_members.length||m.removed_members.length?r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},r.a.createElement("p",{className:"action-text"},m.added_members.length>0&&f(!0)),r.a.createElement("p",{className:"action-text"},m.added_members.length>0&&f()),r.a.createElement("p",{className:"action-text"},m.removed_members.length>0&&b(!0)),r.a.createElement("p",{className:"action-text"},m.removed_members.length>0&&b())):null):r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},p()),r.a.createElement(US,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(s(n.created_at.timestamp))},r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp)))))))}));function BS(){var e=Object(s.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return BS=function(){return e},e}var HS=m.a.div(BS()),WS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=sd().fromNow;return r.a.createElement(HS,{className:"topic-timeline timeline-item ".concat(a)},r.a.createElement("div",null,n.user&&r.a.createElement(Fe,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_link,id:n.user.id})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"action-text title font-weight-normal"},n.user.name," ",r.a.createElement("strong",null,"created ",n.name," workspace")),r.a.createElement("span",{className:"text-muted font-weight-normal"},i(n.created_at.timestamp)))))})),QS=function(e){var t=e.actions,a=e.workspace,i=e.workspaceTimeline,c=i.page,o=i.maxPage,l=i.timeline,s=Object(n.useState)([]),d=Object(p.a)(s,2),u=(d[0],d[1]);Object(n.useEffect)((function(){o>1&&u(Array.from(Array(o),(function(e,t){return t+1})))}),[Object.keys(i.timeline).length]);var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;t.getTimeline({topic_id:a.id,skip:e,limit:n})};return r.a.createElement("nav",{className:"mt-3"},r.a.createElement(LN.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:o,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1;n!==c&&(t.updateTimelinePage({id:a.id,page:n}),i.total_items!==Object.keys(l).length&&Object.keys(l).length<=10*n&&(10*n-Object.keys(l).length>0?m(Object.keys(l).length,10*n):m(Object.keys(l).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))};function YS(){var e=Object(s.a)(["\n\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n\n"]);return YS=function(){return e},e}var zS=m.a.div(YS()),VS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspaceTimeline,c=e.actions,o=e.workspace,l=e.dictionary,s=Object(n.useState)(!1),d=Object(p.a)(s,2),u=d[0],m=d[1];return Object(n.useEffect)((function(){i||!o||u||(m(!0),c.getTimeline({topic_id:o.id,skip:0,limit:10},(function(){m(!1)})))}),[i,o,u]),r.a.createElement(zS,{className:"timeline-panel card ".concat(a)},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},l.timeline),r.a.createElement("div",{className:"timeline"},i&&Object.values(i.timeline).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(i.page>1?10*i.page-10:0,10*i.page).map((function(e){switch(e.tag){case"CHAT_BOT":return r.a.createElement(GS,{key:e.id,data:e.item,dictionary:l});case"POST":return r.a.createElement(RS,{key:e.id,data:e.item,dictionary:l});case"DOCUMENT":return r.a.createElement(SS,{key:e.id,data:e.item,dictionary:l});case"TOPIC":return r.a.createElement(WS,{key:e.id,data:e.item})}})))),i&&i.total_items>10&&r.a.createElement(QS,{workspaceTimeline:i,actions:c,workspace:o}))}));function KS(){var e=Object(s.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"]);return KS=function(){return e},e}var qS=m.a.div(KS()),JS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal,i=e.isMember,c=e.match,o=e.actions,l=e.workspaceTimeline,s=e.workspace,d=c.params,u=fl()._t,m=ul().recentPosts,p=window.innerWidth,f=function(){o.showModal(s,"edit","workspace")},b={aboutThisWorkspace:u("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:u("TEAM","Team"),timeline:u("TIMELINE","Timeline"),noRecentPosts:u("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:u("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:u("FILE_ATTACHMENTS","File attachments"),peopleExternal:u("PEOPLE.EXTERNAL","External"),peopleInvited:u("PEOPLE.INVITED","Invited"),emptyTeam:u("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:u("DASHBOARD.SHOW_MORE","Show more"),showLess:u("DASHBOARD.SHOW_LESS","Show less"),attachedFile:u("ATTACHED_A_FILE","attached a file"),sharedThePost:u("SHARED_THE_POST","shared the post"),hasJoined:u("TIMELINE.HAS_JOINED","has joined"),hasLeft:u("TIMELINE.HAS_LEFT","has left"),youJoined:u("TIMELINE.YOU_JOINED","You joined"),youLeft:u("TIMELINE.YOU_LEFT","You left"),isAdded:u("TIMELINE.IS_ADDED","is added"),isRemoved:u("TIMELINE.IS_REMOVED","is removed"),createdThePost:u("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:u("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:u("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:u("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:u("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:u("TEAM.REVOKE_APPROVER","Assign as approver"),remove:u("TEAM.REMOVE","Remove")},h=!1;return s&&0===s.active&&(h=!0),r.a.createElement(qS,{className:"container-fluid fadeIn ".concat(a)},r.a.createElement("div",{className:"row"},null===s?r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):r.a.createElement(r.a.Fragment,null,p>620?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Mv,{isMember:i,workspace:s,onEditClick:f,isExternal:n,dictionary:b}),r.a.createElement(VS,{workspaceTimeline:l,actions:o,workspace:s,dictionary:b})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Kv,{workspace:s,actions:o,onEditClick:f,isMember:i,isExternal:n,dictionary:b}),r.a.createElement(Zk,{posts:m,dictionary:b,disableOptions:h}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Mv,{isMember:i,workspace:s,onEditClick:f,isExternal:n,dictionary:b}),r.a.createElement(Kv,{workspace:s,onEditClick:f,isMember:i,isExternal:n,dictionary:b}),r.a.createElement(Zk,{posts:m,dictionary:b,disableOptions:h}),r.a.createElement(VS,{workspaceTimeline:l,actions:o,params:d,dictionary:b}))))))}));function ZS(){var e=Object(s.a)(["\n  padding-top: 10px;\n"]);return ZS=function(){return e},e}function XS(){var e=Object(s.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]);return XS=function(){return e},e}var $S=m.a.div(XS()),ex=m.a.div(ZS()),tx=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isMember,c=e.workspace,l=Object(o.useDispatch)(),s=Object(d.g)(),u=fl()._t,m=Zs(),f=m.params,b=m.wsFiles,h=m.actions,E=m.topic,_=m.fileIds,g=m.folders,O=m.folder,A=m.subFolders,v=Object(n.useState)(""),C=Object(p.a)(v,2),j=C[0],k=C[1],y=Object(n.useState)(""),T=Object(p.a)(y,2),w=T[0],N=T[1],S={dropZone:Object(n.useRef)(null)},x=!1;c&&0===c.active&&(x=!0);var R=Object(n.useCallback)((function(e){""===e.target.value&&D(),N(e.target.value)}),[N]),P=function(){h.search(w)},D=function(){N(""),h.clearSearch()},L=Object(n.useCallback)((function(e){"Enter"===e.key&&P()}),[P]),F={createFolder:u("CREATE_FOLDER","Create folder"),create:u("CREATE","Create"),updateFolder:u("UPDATE_FOLDER","Update folder"),update:u("UPDATE","Update"),editFolder:u("EDIT_FOLDER","Edit folder"),removeFolder:u("REMOVE_FOLDER","Remove folder"),renameFolder:u("RENAME.FOLDER","Rename folder"),folderInfo:u("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:u("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:u("ADD","Add"),favorite:u("FAVORITE","Favorite"),file:u("FILE","File"),folder:u("FOLDER","Folder"),folderName:u("FOLDER_NAME","Folder name"),folders:u("FOLDERS","Folders"),allFiles:u("FILES.ALL_FILES","All files"),recentlyEdited:u("FILES.RECENTLY_EDITED","Recently edited"),removed:u("FILES.REMOVED","Removed"),searchInputPlaceholder:u("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:u("UPLOAD_FILES","Upload files")},M=Object(n.useRef)(""),U=function(){M.current=""},G=function(e){M.current=e.target.value.trim()},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=function(){if(E){var e={topic_id:E.id,name:M.current};f.hasOwnProperty("fileFolderId")&&(e=Object(I.a)(Object(I.a)({},e),{},{folder_id:f.fileFolderId})),h.createFolder(e,(function(e,t){if(!e)if(f.hasOwnProperty("fileFolderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(ue(t.data.folder.search)))}else s.push(s.location.pathname+"/folder/".concat(t.data.folder.id,"/").concat(ue(t.data.folder.search)))}))}},n=function(){if(E){h.updateFolder({id:e.id,topic_id:E.id,name:M.current},(function(e,t){if(!e&&f.hasOwnProperty("fileFolderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(ue(t.data.folder.search)))}}))}},i={type:"single_input",defaultValue:"",label:F.folderName,postInputLabel:null===O?"":r.a.createElement(ex,null,"The folder will be created inside ",r.a.createElement("b",null,"#",O.search)),onChange:G,onClose:U};"add"===t?i=Object(I.a)(Object(I.a)({},i),{},{title:F.createFolder,preInputLabel:F.folderInfo,labelPrimaryAction:F.create,onPrimaryAction:a}):(M.current=e.search,i=Object(I.a)(Object(I.a)({},i),{},{defaultValue:e.search,title:F.renameFolder,preInputLabel:F.renameFolderInfo,labelPrimaryAction:F.renameFolder,onPrimaryAction:n})),l(Br(i))},H=Object(n.useCallback)((function(){k("")}),[k]);return Object(n.useEffect)((function(){O&&O.is_archived&&"removed"!==j&&k("removed")}),[O,j,k]),r.a.createElement($S,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("div",{className:"row app-block"},"undefined"===typeof b||null===b?r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Wy,{actions:h,isMember:i,clearFilter:H,params:f,dropZoneRef:S.dropZone,className:"col-lg-3",filterFile:function(e){if(f.hasOwnProperty("fileFolderId")){var t=s.location.pathname.split("/folder/")[0];s.push(t)}k(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:j,wsFiles:b,folders:g,activeFolder:O,dictionary:F,disableOptions:x}),r.a.createElement("div",{className:"col-md-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(uT,{isMember:i,clearFilter:H,dropZoneRef:S.dropZone,history:s,params:f,onSearch:P,onSearchChange:R,onEnter:L,wsFiles:b,handleAddEditFolder:B,folders:g,dictionary:F,disableOptions:x,onClickEmpty:D,value:w}),r.a.createElement(lT,{dropZoneRef:S.dropZone,filter:j,search:w,folders:g,folder:O,fileIds:_,isMember:i,subFolders:A,history:s,actions:h,params:f,wsFiles:b,handleAddEditFolder:B,dictionary:F,disableOptions:x})))))})),ax=a(550);function nx(){var e=Object(s.a)(["\n  width: 12px !important;\n"]);return nx=function(){return e},e}function rx(){var e=Object(s.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return rx=function(){return e},e}var ix=m.a.li(rx(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),cx=Object(m.a)(Se)(nx()),ox=function(e){var t=e.className,a=void 0===t?"":t,i=e.actions,c=e.onResetFocus,l=e.onShowTopics,s=e.selected,u=e.showTopics,m=e.topic,p=e.triggerFocus,f=Object(o.useDispatch)(),b=Object(o.useSelector)((function(e){return e.chat.selectedChannel})),h=Object(n.useRef)(),E=Object(d.g)(),_=Object(d.j)(),g=_.params,O=_.url.startsWith("/workspace");Object(n.useEffect)((function(){"object"===typeof E.location.state&&E.location.state&&E.location.state.workspace_id===m.id&&(l(m.id),E.push(E.location.pathname,null))}),[E.location.state]),Object(n.useEffect)((function(){p&&p===m.id&&h.current&&u&&(setTimeout((function(){h.current.scrollIntoView(!0)}),1e3),c())}),[h,u,p,m]);var A=m.unread_chats+m.unread_posts;return r.a.createElement(ix,{ref:h,className:"topic-list ".concat(a),onClick:function(){if(document.body.classList.remove("navigation-show"),b){var e=document.getElementById("component-chat-thread");e&&(console.log(e.scrollHeight-e.scrollTop,"save this scroll"),f(Vc({channel_id:b.id,scrollPosition:e.scrollHeight-e.scrollTop})))}s&&O||(i.selectWorkspace(m),i.redirectTo(m))},selected:s&&O&&"search"!==g.page},r.a.createElement("div",{className:"topic-text-container"},r.a.createElement("a",{href:m.folder_id?"/workspace/chat/".concat(m.folder_id,"/").concat(ue(m.folder_name),"/").concat(m.id,"/").concat(ue(m.name)):"/workspace/chat/".concat(m.id,"/").concat(ue(m.name)),onClick:function(e){return e.preventDefault(e)}},r.a.createElement("span",{className:"topic-text"},m.name),1===m.is_lock&&r.a.createElement(cx,{icon:"lock",strokeWidth:"2"}),1===m.is_shared&&r.a.createElement(cx,{icon:"share",strokeWidth:"3"}),A>0&&r.a.createElement(ax.a,{color:"danger"},A))))};function lx(){var e=Object(s.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return lx=function(){return e},e}function sx(){var e=Object(s.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return sx=function(){return e},e}function dx(){var e=Object(s.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return dx=function(){return e},e}function ux(){var e=Object(s.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"]);return ux=function(){return e},e}var mx=m.a.li(ux(),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),px=Object(m.a)(Se)(dx()),fx=m.a.ul(sx(),(function(e){return e.maxHeight})),bx=Object(m.a)(Se)(lx()),hx=function(e){var t=e.className,a=void 0===t?"":t,i=e.actions,c=e.show,l=void 0===c||c,s=e.folder,d=e.history,u=e.workspace,m=e.workspaces,f=Object(o.useDispatch)(),b={container:Object(n.useRef)(),arrow:Object(n.useRef)(),nav:Object(n.useRef)()},h=Sl(),E=h.generalSettings.workspace_open_folder,_=h.setGeneralSetting,g=Object(n.useState)(null),O=Object(p.a)(g,2),A=O[0],v=O[1],C=Object(n.useState)(0),j=Object(p.a)(C,2),k=j[0],y=j[1],T=Object(n.useState)(!1),w=Object(p.a)(T,2),N=w[0],S=w[1],x=Object(n.useState)(null),R=Object(p.a)(x,2),P=R[0],D=R[1];Object(n.useEffect)((function(){if(null!==b.nav.current){var e=5*window.innerHeight;e=e<b.nav.current.offsetHeight?b.nav.current.offsetHeight:e,y(e)}}),[b.nav,k]),Object(n.useEffect)((function(){null===A&&null!==k&&v(N||E.hasOwnProperty(s.id))}),[A,s.id,N,k,E]),Object(n.useEffect)((function(){m.length&&null!==u&&S(s.workspace_ids.some((function(e){return e===u.id})))}),[u,m,s.workspace_ids]);var L=function(e){null!==A&&!1!==A||(_({workspace_open_folder:Object(I.a)(Object(I.a)({},E),{},Object(Hi.a)({},s.id,s.id))}),v((function(e){return!e}))),D(e)},F=function(){D(null)};return r.a.createElement(mx,{ref:b.container,className:"workspace-list fadeIn ".concat(a," ").concat(A&&"folder-open"),selected:N,show:l},r.a.createElement("a",{className:"".concat("ARCHIVE_FOLDER"===s.type?"archived-folder":""),onClick:function(e){e.preventDefault(),A?(delete E[s.id],_({workspace_open_folder:E})):_({workspace_open_folder:Object(I.a)(Object(I.a)({},E),{},Object(Hi.a)({},s.id,s.id))}),v((function(e){return!e}))}},r.a.createElement("div",null,s.name,0!==s.is_lock&&r.a.createElement(px,{icon:"lock",strokeWidth:"2"}),"ARCHIVE_FOLDER"===s.type&&r.a.createElement(px,{icon:"archive"}),s.unread_count>0&&r.a.createElement(ax.a,{className:"".concat(A?"leave-active":"enter-active"),color:"danger"},s.unread_count)),"FOLDER"===s.type&&r.a.createElement(bx,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),f(Br({mode:"edit",item:s,type:"workspace_folder"}))}}),r.a.createElement("i",{ref:b.arrow,className:"sub-menu-arrow ti-angle-up ".concat(A?"ti-minus rotate-in":"ti-plus")})),r.a.createElement(fx,{ref:b.nav,maxHeight:k,className:null===A?"":A?"enter-active":"leave-active"},s.workspace_ids.length>0&&Object.keys(m).length>0&&m.map((function(e){return r.a.createElement(ox,{key:e.id,topic:e,onShowTopics:L,onResetFocus:F,triggerFocus:P,showTopics:A,history:d,selected:u&&u.id===e.id,actions:i})})),r.a.createElement("li",{className:"nav-action",onClick:function(){f(Br({type:"workspace_create_edit",mode:"create",item:s}))}},r.a.createElement(Se,{icon:"circle-plus"})," New workspace")))};function Ex(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Ex=function(){return e},e}function _x(){var e=Object(s.a)(["\n  position: relative;\n  display: inline-block;\n  margin-left: 6px;\n  margin-right: 30px;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n"]);return _x=function(){return e},e}var gx=m.a.div(_x()),Ox=Object(m.a)(ke.a)(Ex()),Ax=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=cd(),c=fl()._t,l={archiveThisWorkspace:c("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:c("WORKSPACE.WORKSPACE_UNARCHIVE","Unarchive this workspace"),archiveWorkspace:c("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:c("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:c("HEADER.UNARCHIVE_WORKSPACE","Unarchive workspace"),cancel:c("BUTTON.CANCEL","Cancel"),archiveBodyText:c("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:c("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to unarchive this workspace?")},s=Object(n.useRef)(),d=Object(o.useDispatch)(),u=Object(o.useSelector)((function(e){return e.workspaces.activeTopic})),m=Object(o.useSelector)((function(e){return e.workspaces.folders})),f=Object(n.useState)(!1),b=Object(p.a)(f,2),h=b[0],E=b[1],_=Object(n.useCallback)((function(){E(!h)}),[h]),g=function(e){O(e.target.dataset.name)},O=function(e){var t={mode:"edit",item:u};t="folder"===e?Object(I.a)(Object(I.a)({},t),{},{type:"workspace_folder",item:m[u.folder_id]}):Object(I.a)(Object(I.a)({},t),{},{type:"workspace_create_edit"}),d(Br(t))},A=function(){var e={id:u.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:u.is_external,push_unarchived:1};d(Sc(e)),i.success(r.a.createElement("span",null,r.a.createElement("b",null,u.name," workspace is unarchived.")))};return X(s,_,h),jo(u?u.member_ids:[])?r.a.createElement(gx,{className:"nav-item ".concat(a),ref:s},r.a.createElement("div",null,r.a.createElement("span",{className:"dropdown-toggle ".concat(h?"show":""),"data-toggle":"dropdown",onClick:function(){u&&null!==u.folder_id||u&&0===u.active?_():O("workspace")}},r.a.createElement(Ox,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Workspace settings"},r.a.createElement(Se,{icon:"pencil"}))),r.a.createElement("div",{className:"dropdown-menu ".concat(h?"show":"")},1===u.active?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:g},"Folder settings"),r.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:g},"Workspace settings")):r.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){d(Br({type:"confirmation",cancelText:l.cancel,headerText:l.unarchiveWorkspace,submitText:l.unarchiveWorkspace,bodyText:l.unarchiveBodyText,actions:{onSubmit:A}}))}},"Un-archive workspace")))):null}));function vx(){var e=Object(s.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return vx=function(){return e},e}function Cx(){var e=Object(s.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"]);return Cx=function(){return e},e}var jx=m.a.li(Cx(),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),kx=Object(m.a)(Se)(vx()),yx=function(e){var t=e.className,a=void 0===t?"":t,i=e.actions,c=e.show,o=void 0===c||c,l=e.workspace,s=e.activeTopic,d={container:Object(n.useRef)(null)},u=l.unread_chats+l.unread_posts;return r.a.createElement(jx,{ref:d.container,className:"workspace-list workspace-list-external fadeIn ".concat(a),selected:s&&s.id===l.id,show:o},r.a.createElement("a",{onClick:function(){i.redirectTo(l),s&&s.id===l.id||i.selectWorkspace(l)}},r.a.createElement("div",null,l.name,0!==l.is_lock&&r.a.createElement(kx,{icon:"lock",strokeWidth:"2"}),0===l.is_active&&r.a.createElement(kx,{icon:"archive"}),u>0&&r.a.createElement(ax.a,{color:"danger"},u))))};function Tx(){var e=Object(s.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n"]);return Tx=function(){return e},e}function wx(){var e=Object(s.a)(["\n  cursor: pointer;\n  cursor: hand;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return wx=function(){return e},e}function Nx(){var e=Object(s.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  svg {\n    color: #64625c;\n  }\n  .feather-lock,\n  .feather-share {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return Nx=function(){return e},e}function Sx(){var e=Object(s.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]);return Sx=function(){return e},e}function xx(){var e=Object(s.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return xx=function(){return e},e}function Ix(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]);return Ix=function(){return e},e}function Rx(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  @media (max-width: 992px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 768px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n"]);return Rx=function(){return e},e}var Px=m.a.div(Rx()),Dx=m.a.ul(Ix()),Lx=m.a.h2(xx()),Fx=m.a.span(Sx()),Mx=m.a.h3(Nx()),Ux=m.a.h3(wx()),Gx=Object(m.a)(Se)(Tx()),Bx=function(e){var t=e.isExternal,a=cd(),i=Object(o.useDispatch)(),c=Object(d.j)(),l=Object(o.useSelector)((function(e){return e.workspaces})),s=l.activeTopic,u=l.folders,m=Object(o.useSelector)((function(e){return e.settings})),p=m.driff,f=m.user.GENERAL_SETTINGS.dark_mode,b=Object(o.useSelector)((function(e){return e.session.user})),h=fl()._t,E={searchWorkspaceSearchTitle:h("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),pageTitleWorkspaceDashboard:h("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:h("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:h("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:h("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:h("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:h("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:h("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:h("PAGE_TITLE.WORKSPACE_SEARCH","Search"),pageTitleSettings:h("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:h("PAGE_TITLE.TODOS","To-dos & Reminders"),generalSearch:h("GENERAL.SEARCH","Search"),generalNotifications:h("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:h("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===f?h("SETTINGS.DARK_MODE","dark mode"):h("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:h("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:h("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:h("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:h("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:h("WORKSPACE.STATUS_ARCHIVED","Archived"),toasterJoinWorkspace:h("TOASTER.JOIN_WORKSPACE","You have joined ::topic_name::",{topic_name:s?"<b>#{activeTopic.name}</b>":""})},_=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};return Object(n.useEffect)((function(){var e=document.body,t="";switch(c.params.page){case"posts":t=E.pageTitleWorkspacePosts;break;case"chat":t=E.pageTitleWorkspaceChat;break;case"files":t=E.pageTitleWorkspaceFiles;break;case"people":t=E.pageTitleWorkspacePeople;break;case"settings":t=E.pageTitleSettings;break;default:t=E.pageTitleWorkspaceDashboard}[E.pageTitleWorkspaceDashboard,E.pageTitleWorkspacePosts,E.pageTitleWorkspaceFiles,E.pageTitleWorkspacePeople].includes(t)?e.classList.remove("stretch-layout"):e.classList.add("stretch-layout"),s&&(s.unread_chats>=1||s.unread_posts>0?document.title="".concat(t," \u2039 * ").concat(s.name," \u2014 ").concat(p.company_name," @ Driff"):document.title="".concat(t," \u2039 ").concat(s.name," \u2014 ").concat(p.company_name," @ Driff"))}),[c.params.page,i,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Px,{className:"navbar-left"},r.a.createElement(Dx,{className:"navbar-nav"},"search"===c.params.page?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},r.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:_},r.a.createElement(Se,{icon:"menu"}))),r.a.createElement("li",{className:"nav-item nav-item-folder"},r.a.createElement(Lx,null,E.searchWorkspaceSearchTitle))):s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-wrap"},r.a.createElement("div",{className:"navbar-top"},r.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},r.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:_},r.a.createElement(Se,{icon:"menu"}))),null===s.folder_id?r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item nav-item-folder"},r.a.createElement(Lx,null,"Workspaces")),r.a.createElement("li",{className:"nav-item-chevron"},r.a.createElement(Se,{icon:"chevron-right"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Mx,{className:"current-title"},r.a.createElement(Fx,null,s.name,1===s.is_shared&&r.a.createElement(Gx,{icon:"share",strokeWidth:"3"})))),1===s.is_lock&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-light text-white ml-1"},E.statusWorkspacePrivate)),0===s.active&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-light text-white ml-1"},E.statusWorkspaceArchived)),r.a.createElement("li",{className:"nav-item"},!t&&r.a.createElement(Ax,null))):r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item nav-item-folder"},r.a.createElement(Lx,null,r.a.createElement(Fx,null,s.folder_name,u.hasOwnProperty(s.folder_id)&&1===u[s.folder_id].is_lock&&r.a.createElement(Gx,{icon:"lock",strokeWidth:"2"})," "))),r.a.createElement("li",{className:"nav-item-chevron"},r.a.createElement(Se,{icon:"chevron-right"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Mx,{className:"current-title"},r.a.createElement(Fx,null,s.name,1===s.is_shared&&r.a.createElement(Gx,{icon:"share",strokeWidth:"3"})))),1===s.is_lock&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-light text-white ml-1"},E.statusWorkspacePrivate)),0===s.active&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-light text-white ml-1"},E.statusWorkspaceArchived)),r.a.createElement("li",{className:"nav-item"},!t&&r.a.createElement(Ax,null)))),r.a.createElement("div",{className:"navbar-bottom"},r.a.createElement(d.b,Object.assign({},e,{exact:!0,render:function(e){return r.a.createElement(Kx,Object.assign({},e,{workspace:s}))},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:page"]})))),r.a.createElement("li",{className:"nav-item-last"},r.a.createElement("div",{className:"nav-item-avatars-wrap"},r.a.createElement(aA,{members:s.members})),s.member_ids.includes(b.id)&&!t?r.a.createElement("button",{onClick:function(){i(Br({type:"workspace_create_edit",mode:"edit",item:s}))},className:"btn btn-primary",disabled:0===s.active},r.a.createElement(Se,{icon:"user-plus"}),E.actionWorkspaceInvite):t?null:r.a.createElement("button",{onClick:function(){i(xs({channel_id:s.channel.id,recipient_ids:[b.id]},(function(e,t){e||a.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:E.toasterJoinWorkspace}}))})))},className:"btn btn-primary",disabled:0===s.active},r.a.createElement(Se,{icon:"user-plus"}),E.actionWorkspaceJoin))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ux,{onClick:function(){i(Br({type:"workspace_create_edit",mode:"create"}))}},E.actionWorkspaceNewWorkspace," ",r.a.createElement(Se,{className:"ml-2",icon:"circle-plus"})))))),r.a.createElement("div",null,r.a.createElement(Jd,{dictionary:E})))};function Hx(){var e=Object(s.a)(['\n  color: #828282;\n  margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  &.active {\n    color: #363636;\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 6px;\n    height: 6px;\n    background: #28a745;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']);return Hx=function(){return e},e}function Wx(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n  }\n"]);return Wx=function(){return e},e}function Qx(){var e=Object(s.a)([""]);return Qx=function(){return e},e}var Yx=m.a.div(Qx()),zx=m.a.ul(Wx()),Vx=Object(m.a)(ut)(Hx()),Kx=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=e.match.url;i="/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path?i.split("/post/")[0].replace("/workspace/".concat(e.match.params.page),""):"/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path?i.split("/folder/")[0].replace("/workspace/".concat(e.match.params.page),""):i.replace("/workspace/".concat(e.match.params.page),"");var c=fl()._t,o={pageTitleDashboard:c("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:c("PAGE_TITLE.POSTS","Posts"),pageTitleChat:c("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:c("PAGE_TITLE.FILES","Files"),pageTitlePeople:c("PAGE_TITLE.PEOPLE","People")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yx,{className:"".concat(a)},r.a.createElement(zx,{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(Vx,{isSub:!0,to:"/workspace/dashboard".concat(i)},o.pageTitleDashboard)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Vx,{isSub:!0,to:"/workspace/chat".concat(i)},o.pageTitleChat,null!==n&&n.unread_chats>0&&r.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},n.unread_chats))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Vx,{isSub:!0,to:"/workspace/posts".concat(i)},o.pageTitlePosts,null!==n&&n.unread_posts>0&&r.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},n.unread_posts))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Vx,{isSub:!0,to:"/workspace/files".concat(i)},o.pageTitleFiles)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Vx,{isSub:!0,to:"/workspace/people".concat(i)},o.pageTitlePeople)))))}));function qx(){var e=Object(s.a)(["\n  max-width: 350px;\n"]);return qx=function(){return e},e}function Jx(){var e=Object(s.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n"]);return Jx=function(){return e},e}var Zx=m.a.div(Jx()),Xx=Object(m.a)(Om)(qx()),$x=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,c=Object(o.useDispatch)(),l=Ll(),s=l.selectUserChannel,u=l.loggedUser,m=Object(o.useSelector)((function(e){return e.workspaces})).activeTopic,f=Object(d.g)(),b=Object(n.useState)(""),h=Object(p.a)(b,2),E=h[0],_=h[1],g={search:Object(n.useRef)()},O=Object(n.useCallback)((function(e){f.push("/profile/".concat(e.id,"/").concat(ue(e.name)))}),[f]),A=Object(n.useCallback)((function(e){s(e,(function(e){f.push("/chat/".concat(e.code))}))}),[f,s]);Object(n.useEffect)((function(){g.search.current.focus()}),[]);var v=[];i&&(v=i.members);var C=v.filter((function(e){return""===E||-1!==e.name.toLowerCase().search(E.toLowerCase())||-1!==e.email.toLowerCase().search(E.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)})),j=fl()._t,k={searchPeoplePlaceholder:j("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:j("PEOPLE.EXTERNAL","External"),peopleInvited:j("PEOPLE.INVITED","Invited"),peopleManage:j("PEOPLE.MANAGE","Manage People")};return xl(g.search.current),r.a.createElement(Zx,{className:"workspace-people fadeIn container-fluid ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"people-header"},r.a.createElement(Xx,{ref:g.search,value:E,closeButton:"true",onClickEmpty:function(){_("")},placeholder:k.searchPeoplePlaceholder,onChange:function(e){_(e.target.value)},autoFocus:!0}),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){c(Br({type:"workspace_create_edit",mode:"edit",item:m}))}},r.a.createElement(Se,{className:"mr-2",icon:"user-plus"})," ",k.peopleManage))),r.a.createElement("div",{className:"row"},C.map((function(e){return r.a.createElement(Bv,{key:e.id,loggedUser:u,user:e,onNameClick:O,onChatClick:A,dictionary:k})}))))))}));function eI(){var e=Object(s.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return eI=function(){return e},e}function tI(){var e=Object(s.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]);return tI=function(){return e},e}function aI(){var e=Object(s.a)(["\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n  }\n"]);return aI=function(){return e},e}var nI=m.a.div(aI()),rI=m.a.div(tI()),iI=m.a.div(eI()),cI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,c=e.isMember,o=Object(d.i)(),l=Object(d.g)(),s=ul(),u=s.actions,m=s.posts,p=s.filter,f=s.tag,b=s.sort,h=s.post,E=s.user,_=s.search,g=s.count,O=s.counters,A=h?Object.values(h.user_reads).sort((function(e,t){return e.name.localeCompare(t.name)})):[],v=Object(n.useCallback)((function(){if(o.hasOwnProperty("postId")){var e=l.location.pathname.split("/post/")[0];l.push(e)}}),[o,l]);Object(n.useEffect)((function(){o.hasOwnProperty("workspaceId")&&u.getRecentPosts(o.workspaceId)}),[o.workspaceId]);var C=fl()._t,j={createNewPost:C("POST.CREATE_NEW_POST","Create new post"),all:C("POST.ALL","All"),myPosts:C("POST.MY_POSTS","My posts"),starred:C("POST.STARRED","Starred"),archived:C("POST.ARCHIVED","Archived"),draft:C("POST.DRAFT","Draft"),drafts:C("POST.DRAFTS","Drafts"),category:C("POST.CATEGORY","Category"),replyRequired:C("POST.REPLY_REQUIRED","Reply required"),mustRead:C("POST.MUST_READ","Must read"),noReplies:C("POST.NO_REPLIES","No replies"),sortBy:C("POST.SORT_BY","Sort by"),starredFavorite:C("POST.STARRED_FAVORITE","Starred / Favorite"),recent:C("POST.RECENT","Recent"),unread:C("POST.UNREAD","Unread"),searchPost:C("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:C("POST.MARK_AS_READ","Mark as read"),markAsUnread:C("POST.MARK_AS_UNREAD","Mark as unread"),share:C("POST.SHARE","Share"),snooze:C("POST.SNOOZE","Snooze"),follow:C("POST.FOLLOW","Follow"),unFollow:C("POST.UNFOLLOW","Unfollow"),files:C("POST.FILES","Files"),comment:C("POST.COMMENT","Comment"),editPost:C("POST.EDIT_POST","Edit post"),editReply:C("POST.EDIT_REPLY","Edit reply"),removeReply:C("POST.REMOVE_REPLY","Remove reply"),quote:C("POST.QUOTE","Quote"),mentionUser:C("POST.MENTION_USER","Mention user"),remindMeAboutThis:C("TODO.REMIND_ME_ABOUT_THIS","Remind me about this"),searchResult:C("POST.SEARCH_RESULT","Search Result:"),searchResults:C("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:C("POST.NO_SEARCH_RESULT","No result found:"),private:C("POST.PRIVATE","Private"),by:C("POST.BY","by"),star:C("POST.STAR","Mark with star"),unStar:C("POST.UNSTAR","Unmark star"),alreadyReadThis:C("POST.ALREADY_READ_THIS","I've read this"),readByNumberofUsers:1===A?C("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_name::",{user_name:A[0].first_name}):C("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:A.length})},k=!1;return i&&0===i.active&&(k=!0),null===m?r.a.createElement(r.a.Fragment,null):r.a.createElement(nI,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("div",{className:"row app-block"},r.a.createElement(dC,{disableOptions:k,isMember:c,workspace:i,filter:p,tag:f,postActions:u,count:g,counters:O,onGoBack:v,dictionary:j}),r.a.createElement("div",{className:"col-md-9 app-content"},r.a.createElement("div",{className:"app-content-overlay"}),!h&&r.a.createElement(eC,{activeSort:b,workspace:i,search:_,dictionary:j}),0===m.length&&null===_?r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement(iI,null,r.a.createElement(Ie,{icon:3,height:252}),c&&r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){u.showModal("create")},disabled:k},j.createNewPost))):r.a.createElement(r.a.Fragment,null,h?r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement(rI,{className:"fadeBottom"},r.a.createElement(DC,{readByUsers:A,post:h,postActions:u,user:E,history:l,onGoBack:v,workspace:i,isMember:c,dictionary:j,disableOptions:k}))):r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement("div",{className:"app-lists",tabIndex:"1"},null!==_&&r.a.createElement(r.a.Fragment,null,0===m.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},j.searchNoResult," ",_):1===m.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},j.searchResult," ",_):r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},j.searchResults," ",_)),r.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},m&&m.map((function(e){return r.a.createElement(iC,{key:e.id,post:e,postActions:u,dictionary:j,disableOptions:k})})))))))))}));function oI(){var e=Object(s.a)([""]);return oI=function(){return e},e}var lI=m.a.div(oI()),sI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(lI,{className:"container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}));function dI(){var e=Object(s.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"]);return dI=function(){return e},e}var uI=m.a.div(dI()),mI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=fd(),c=vd(),l=Object(o.useSelector)((function(e){return e.workspaces.search})),s=Object(o.useSelector)((function(e){return e.session.user})),d=l.count,u=l.maxPage,m=l.page,p=l.results,f=l.searching,b=l.value;Object(n.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===b&&(c.search({search:"",skip:0,limit:25},(function(e,t){e?c.updateSearch(Object(I.a)(Object(I.a)({},l),{},{searching:!1})):c.updateSearch(Object(I.a)(Object(I.a)({},l),{},{searching:!1,count:t.data.total_count,results:t.data.workspaces,maxPage:Math.ceil(t.data.total_count/25)}))})),c.updateSearch(Object(I.a)(Object(I.a)({},l),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var h=fl()._t,E={labelResultsFor:h("LABEL.RESULTS_FOR","results found for: "),labelSearching:h("LABEL.SEARCHING","Searching "),sidebarWorkspaces:h("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:h("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:h("BUTTON.PREV_PAGE","Previous")};return r.a.createElement(uI,{className:"user-search-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(TI,{actions:c,search:l}),""!==b?r.a.createElement("h4",{className:"mb-5"},r.a.createElement(Se,{icon:"search"}),f&&r.a.createElement("span",null,E.labelSearching,r.a.createElement("span",{className:"text-primary"},"\u201c",b,"\u201d")),!f&&r.a.createElement("span",null,d," ",E.labelResultsFor,r.a.createElement("span",{className:"text-primary"},"\u201c",b,"\u201d"))):r.a.createElement("h4",{className:"mb-5"},p.length>0&&r.a.createElement("span",null,d," ",E.sidebarWorkspaces)),p.length>0&&r.a.createElement(vI,{user:s,actions:c,page:m,results:p,redirect:i}),d>25&&r.a.createElement("nav",{className:"mt-3"},r.a.createElement(LN.a,{previousLabel:E.buttonPrevPage,nextLabel:E.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:u,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t=e.selected+1;p.length===d?c.updateSearch(Object(I.a)(Object(I.a)({},l),{},{page:t})):(p.length<25*t&&c.search({search:b,skip:p.length,limit:25*t-p.length},(function(e,a){e?c.updateSearch(Object(I.a)(Object(I.a)({},l),{},{searching:!1})):c.updateSearch(Object(I.a)(Object(I.a)({},l),{},{searching:!1,count:a.data.total_count,results:[].concat(Object($.a)(a.data.workspaces),Object($.a)(p)),maxPage:Math.ceil(a.data.total_count/25),page:t}))})),c.updateSearch(Object(I.a)(Object(I.a)({},l),{},{value:b,searching:!0,page:t})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))}));function pI(){var e=Object(s.a)(["\n    width: 0.8rem;\n    height: 0.8rem;\n    stroke-width: 3px;\n    margin-right: 3px;\n    margin-bottom: 0.1rem;\n"]);return pI=function(){return e},e}function fI(){var e=Object(s.a)(["\n    width: 1rem;\n    height: 1rem;\n    stroke-width: 2px;\n"]);return fI=function(){return e},e}function bI(){var e=Object(s.a)(["\n   margin-left: auto;\n   display: none;\n"]);return bI=function(){return e},e}function hI(){var e=Object(s.a)(["\n    position: relative;\n    display: flex;\n    align-items: center;\n    :hover {\n        button {\n            display: inline-flex;\n        }\n    }\n"]);return hI=function(){return e},e}var EI=m.a.li(hI()),_I=m.a.button(bI()),gI=Object(m.a)(Se)(fI()),OI=Object(m.a)(Se)(pI()),AI=function(e){var t=e.dictionary,a=e.onJoinWorkspace,n=e.onLeaveWorkspace,i=e.item,c=e.redirect,o=e.workspaces,l=i.topic,s=i.workspace,d=jo(i.members.map((function(e){return e.id})));return r.a.createElement(EI,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:l.id,name:l.name,folder_id:s?s.id:null,folder_name:s?s.name:null};o.hasOwnProperty(l.id)?c.toWorkspace(e):c.fetchWorkspaceAndRedirect(e)}},r.a.createElement("div",{className:"workspace-search-detail"},r.a.createElement("div",{className:"workspace-title-status"},r.a.createElement("h5",null,l.name),l.is_locked&&r.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelPrivate),l.is_archive&&r.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelArchived),!l.is_archive&&!l.is_locked&&r.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelOpen)),r.a.createElement("ul",{className:"workspace-detail-lists"},d&&r.a.createElement("li",{className:"text-success"},r.a.createElement(gI,{icon:"check"}),t.labelJoined),r.a.createElement("li",null,i.members.length," ",1===i.members.length?t.member:t.members),r.a.createElement("li",null,r.a.createElement(OI,{icon:"folder"}),s?s.name:"Workspaces"),r.a.createElement("li",null,ce(l.description)))),d?r.a.createElement(_I,{onClick:function(e){e.stopPropagation(),n(i)},className:"btn btn-primary join-button"},t.buttonLeave):r.a.createElement(_I,{onClick:function(e){e.stopPropagation(),a(i)},className:"btn btn-primary join-button"},r.a.createElement(Se,{icon:"user-plus"}),t.buttonJoin))},vI=function(e){var t=e.actions,a=e.page,n=e.results,i=e.redirect,c=e.user,l=Object(o.useDispatch)(),s=Object(o.useSelector)((function(e){return e.workspaces.workspaces})),d=cd(),u=fl()._t,m={labelArchived:u("LABEL.ARCHIVED","Archived"),labelPrivate:u("LABEL.PRIVATE","Private"),labelOpen:u("LABEL.OPEN","Open"),labelJoined:u("LABEL.JOINED","Joined"),sidebarWorkspaces:u("SIDEBAR.WORKSPACES","Workspaces"),member:u("LABEL.MEMBER","member"),members:u("LABEL.MEMBERS","members"),buttonJoin:u("BUTTON.JOIN","Join"),buttonLeave:u("BUTTON.LEAVE","Leave"),leaveWorkspace:u("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:u("TOASTER.JOIN_WORKSPACE","You have joined #")},p=function(e){var a={channel_id:e.channel.id,recipient_ids:[c.id]};t.join(a,(function(t,a){t||(!function(e){var t={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};s.hasOwnProperty(e.topic.id)?(console.log("to workspace",e),i.toWorkspace(t)):(console.log("fetch workspace",e),i.fetchWorkspaceAndRedirect(t))}(e),d.success(r.a.createElement(r.a.Fragment,null,m.joinWorkspace,r.a.createElement("b",null,e.topic.name))))}))},f=function(e){if(1===e.members.length&&e.topic.is_locked){var t={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};l(Sc(t))}else{var a={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[c.id]};a.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:c.id,name:c.name,first_name:c.first_name,partial_name:c.partial_name,profile_image_link:c.profile_image_link},title:"",added_members:[],removed_members:[c.id]}));l(Hs({workspace_id:e.topic.id,channel_id:e.channel.id},(function(t,a){t||d.success(r.a.createElement(r.a.Fragment,null,m.leaveWorkspace,r.a.createElement("b",null,e.topic.name)))}))),l(js(a))}};return r.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},r.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},r.a.createElement("ul",{className:"list-group list-group-flush"},n.sort((function(e,t){return e.topic.name.localeCompare(t.topic.name)})).slice(a>1?25*a-25:0,25*a).map((function(e){return r.a.createElement(AI,{key:e.topic.id,dictionary:m,onJoinWorkspace:p,onLeaveWorkspace:f,item:e,redirect:i,workspaces:s})})))))};function CI(){var e=Object(s.a)(["\n  stroke-width: 2px;\n"]);return CI=function(){return e},e}function jI(){var e=Object(s.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"]);return jI=function(){return e},e}var kI=m.a.div(jI(),""),yI=Object(m.a)(Se)(CI()),TI=function(e){var t=e.actions,a=e.search,i=a.value,c=a.searching,o=Object(n.useState)(i),l=Object(p.a)(o,2),s=l[0],d=l[1],u=function(){t.search({search:s,skip:0,limit:25},(function(e,n){e?t.updateSearch(Object(I.a)(Object(I.a)({},a),{},{searching:!1})):t.updateSearch(Object(I.a)(Object(I.a)({},a),{},{value:s,searching:!1,count:n.data.total_count,results:n.data.workspaces,maxPage:Math.ceil(n.data.total_count/25),page:1}))})),t.updateSearch(Object(I.a)(Object(I.a)({},a),{},{value:s,searching:!0}))},m=function(){t.updateSearch({results:[],searching:!0,value:"",page:1,maxPage:1,count:0}),t.search({search:"",skip:0,limit:25},(function(e,n){e?t.updateSearch(Object(I.a)(Object(I.a)({},a),{},{searching:!1,value:""})):t.updateSearch(Object(I.a)(Object(I.a)({},a),{},{value:"",searching:!1,count:n.data.total_count,results:n.data.workspaces,maxPage:Math.ceil(n.data.total_count/25)}))})),d("")};Object(n.useEffect)((function(){d(i)}),[i]);var f=fl()._t,b={searchWorkspaceSearchPlaceholder:f("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:f("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace")};return r.a.createElement(kI,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("h2",{className:"mb-4 text-center"},b.searchWorkspaceSearchTitle),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-wrap"},r.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==i?m():d(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||c||u()},type:"text",className:"form-control",placeholder:b.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:s}),""!==s.trim()&&r.a.createElement("button",{className:"btn-cross",type:"button",onClick:m},r.a.createElement(yI,{icon:"x"}))),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:u},r.a.createElement(Se,{icon:"search"})))))))};function wI(){var e=Object(s.a)([""]);return wI=function(){return e},e}var NI=m.a.div(wI()),SI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal;return r.a.createElement(NI,{className:"header ".concat(a)},r.a.createElement(d.d,null,r.a.createElement(d.b,{render:function(){return r.a.createElement(Bx,Object.assign({isExternal:n},e))},path:["/workspace/:page"]}),r.a.createElement(d.b,{render:function(){return r.a.createElement(Sw,Object.assign({isExternal:n},e))},path:["/:page"]})))}));function xI(){var e=Object(s.a)([""]);return xI=function(){return e},e}var II=m.a.div(xI()),RI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.showNotificationBar;return r.a.createElement(II,{className:"navigation ".concat(a," ").concat(n&&"notification-bar")},r.a.createElement(d.b,{exact:!0,render:function(){return r.a.createElement(ER,e)},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people","/:page"]}))}));function PI(){var e=Object(s.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return PI=function(){return e},e}function DI(){var e=Object(s.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return DI=function(){return e},e}function LI(){var e=Object(s.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n  li.personal-link {\n    min-height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      min-height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n      \n      &.shorcut-title {\n        padding-left: 0.5rem;\n        font-weight: 500;      \n      }\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n  li.shorcut-title-link {\n    padding:0;\n    \n    .shorcut-title {\n      background: #ffffff10;    \n    }  \n  }\n"]);return LI=function(){return e},e}function FI(){var e=Object(s.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s ease;\n  > a {\n    position: relative;\n    font-weight: ",";    \n    display: flex;\n    color: #fff;\n    height: 40px;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n  .quick-links {\n    .feather-pencil {\n      display: none;\n    }\n    &:hover {\n      .sub-menu-arrow {\n        margin-left: ",";\n      }\n      .feather-pencil {\n        display: ",";\n      }\n    }\n  }\n"]);return FI=function(){return e},e}var MI=m.a.li(FI(),(function(e){return e.selected?"600":"400"}),(function(e){return e.showEditIcon?"10px":"auto"}),(function(e){return e.showEditIcon?"block":"none"})),UI=m.a.ul(LI(),(function(e){return e.maxHeight})),GI=Object(m.a)(Se)(DI()),BI=Object(m.a)(Se)(PI()),HI=function(e){var t=e.className,a=void 0===t?"":t,i=e.links,c=e.user,o=e.dictionary,l=Sl(),s=l.generalSettings,d=l.showModal,u=new RegExp("^(http|https)://"),m={container:Object(n.useRef)(),arrow:Object(n.useRef)(),nav:Object(n.useRef)()},f=Object(n.useState)(!1),b=Object(p.a)(f,2),h=b[0],E=b[1],_=Object(n.useState)(0),g=Object(p.a)(_,2),O=g[0],A=g[1],v=function(e){var t=e.currentTarget.dataset.index;d("personal_link_edit",Object(I.a)(Object(I.a)({},s.personal_links[t]),{},{index:t}))};return Object(n.useEffect)((function(){if(null!==m.nav.current){var e=5*window.innerHeight;e=e<m.nav.current.offsetHeight?m.nav.current.offsetHeight:e,A(e)}}),[m.nav,O]),r.a.createElement(MI,{ref:m.container,className:"fadeIn ".concat(a," ").concat(h&&"folder-open"),selected:h,showEditIcon:c&&c.role&&("admin"===c.role.name||"owner"===c.role.name)},r.a.createElement("a",{className:"quick-links",href:"/",onClick:function(e){e.preventDefault(),E((function(e){return!e}))}},r.a.createElement(GI,{icon:"link"}),r.a.createElement("div",null,o.shortcuts),c&&c.role&&("admin"===c.role.name||"owner"===c.role.name)&&r.a.createElement(BI,{icon:"pencil",onClick:function(){window.open("".concat("https://").concat(localStorage.getItem("slug"),".driff.io/admin/quick-links"),"_blank")}}),r.a.createElement("i",{ref:m.arrow,className:"sub-menu-arrow ti-angle-up ".concat(h?"ti-minus rotate-in":"ti-plus")})),r.a.createElement(UI,{ref:m.nav,maxHeight:O,className:h?"enter-active":"leave-active"},r.a.createElement("li",{className:"personal-link shorcut-title-link"},r.a.createElement("div",{className:"shorcut-title"},o.personalLinks)),s.personal_links.map((function(e,t){return r.a.createElement("li",{key:t,className:"personal-link"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("a",{href:u.test(e.web_address)?e.web_address:"https://".concat(e.web_address),target:"_blank",rel:"noopener noreferrer"},e.name)),r.a.createElement("div",{className:"action"},r.a.createElement(Se,{className:"cursor-pointer","data-index":t,icon:"pencil",onClick:v}))))})),s.personal_links.length<5&&r.a.createElement("li",{className:"personal-link nav-action cursor-pointer",onClick:function(){d("personal_link_create")}},r.a.createElement("div",{className:"justify-content-start"},r.a.createElement(Se,{icon:"circle-plus",width:24,height:24})," ",o.addPersonalShortcut)),i.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:e.id},0===t&&r.a.createElement("li",{className:"personal-link shorcut-title-link pt-2"},r.a.createElement("div",{className:"shorcut-title"},o.companyLinks)),r.a.createElement(YI,{link:e,className:"quick-links"}))}))))};function WI(){var e=Object(s.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  div {\n    position: relative;\n    height: 40px;\n    display: inline-flex;\n    align-items: center;\n    svg {\n      margin-left: 6px;\n    }\n    a {\n      display: block;\n      background-color: transparent;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return WI=function(){return e},e}var QI=m.a.li(WI(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),YI=function(e){var t=e.className,a=void 0===t?"":t,n=e.link;return r.a.createElement(QI,{className:"topic-list ".concat(a)},r.a.createElement("div",null,r.a.createElement("a",{href:n.link,target:"_blank"},n.menu_name)))};function zI(){var e=Object(s.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return zI=function(){return e},e}function VI(){var e=Object(s.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  li {\n    height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return VI=function(){return e},e}function KI(){var e=Object(s.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n"]);return KI=function(){return e},e}m.a.li(KI(),(function(e){return e.selected?"600":"400"})),m.a.ul(VI(),(function(e){return e.maxHeight})),Object(m.a)(Se)(zI());function qI(){var e=Object(s.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return qI=function(){return e},e}function JI(){var e=Object(s.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n"]);return JI=function(){return e},e}m.a.li(JI(),(function(e){return e.selected?"600":"400"})),Object(m.a)(Se)(qI());function ZI(){var e=Object(s.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return ZI=function(){return e},e}function XI(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return XI=function(){return e},e}function $I(){var e=Object(s.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 15px;\n  height: 40px;\n  width: calc(100% - 30px);\n  justify-content: center;\n  align-items: center;\n  color: #ffffff !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]);return $I=function(){return e},e}function eR(){var e=Object(s.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return eR=function(){return e},e}function tR(){var e=Object(s.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]);return tR=function(){return e},e}function aR(){var e=Object(s.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]);return aR=function(){return e},e}function nR(){var e=Object(s.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]);return nR=function(){return e},e}function rR(){var e=Object(s.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n"]);return rR=function(){return e},e}function iR(){var e=Object(s.a)(["\n  width: 84px;\n  height: 36px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]);return iR=function(){return e},e}function cR(){var e=Object(s.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 15px 0 30px 0;\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 10px 0 20px 0;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n    .badge {\n      position: absolute;\n      width: 6px;\n      height: 6px;\n      padding: 0;\n      background: #28a745;\n      right: -12px;\n      top: -12px;\n      z-index: 9;\n    }\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]);return cR=function(){return e},e}var oR=m.a.div(cR()),lR=Object(m.a)(xe)(iR()),sR=Object(m.a)(Se)(rR()),dR=Object(m.a)(Se)(nR()),uR=Object(m.a)(ut)(aR()),mR=m.a.div(tR()),pR=Object(m.a)(Se)(eR()),fR=m.a.button($I()),bR=Object(m.a)(ke.a)(XI()),hR=m.a.div(ZI()),ER=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isExternal,c=Object(d.g)(),l=Object(o.useDispatch)(),s=kd().count,u=Os(!0),m=u.actions,f=u.folders,b=u.sortedWorkspaces,h=u.workspaces,E=u.workspace,_=u.workspacesLoaded,g=Sl(),O=g.updateCompanyName,A=g.driffSettings,v=g.generalSettings,C=fl()._t,j={allWorkspaces:C("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),people:C("SIDEBAR.PEOPLE","All People"),workspace:C("SIDEBAR.WORKSPACE","Workspace"),workspaces:C("SIDEBAR.WORKSPACES","Workspaces"),chats:C("SIDEBAR.CHATS","Chats"),yourWorkspaces:C("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:C("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:C("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:C("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:C("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:C("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:C("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:C("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:C("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:C("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:C("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:C("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:C("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:C("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},k=Object(o.useSelector)((function(e){return e.session.user})),y=Object(o.useSelector)((function(e){return e.chat})).lastVisitedChannel,T=Object(o.useSelector)((function(e){return e.global})),w=T.links,N=T.unreadCounter,S=Object(n.useState)(!1),x=Object(p.a)(S,2),I=x[0],R=x[1],P=Object(n.useState)(A.company_name),D=Object(p.a)(P,2),L=D[0],F=D[1],M=Object(n.useState)(null),U=Object(p.a)(M,2),G=U[0],B=U[1],H={companyName:Object(n.useRef)(null)},W=function(){l(Br({type:"workspace_create_edit",mode:"create"}))},Q=function(){document.body.classList.remove("navigation-show")},Y=function(){R((function(e){var t=!e;return t||A.company_name===L||O({company_name:L}),t}))};return Object(n.useEffect)((function(){l(ti()),l(ii())}),[]),Object(n.useEffect)((function(){G&&(m.selectWorkspace(G),m.redirectTo(G))}),[G]),Object(n.useEffect)((function(){var e=Object.values(h);if(null===v.active_topic&&e.length&&null===G){var t=e.sort((function(e,t){return t.updated_at.timestamp>e.updated_at.timestamp?1:-1})).find((function(e){return"WORKSPACE"===e.type&&1===e.active}));B(t)}}),[v.active_topic,G,h,B]),Object(n.useEffect)((function(){H.companyName.current&&H.companyName.current.select()}),[I]),r.a.createElement(oR,{className:"navigation-menu-tab ".concat(a)},r.a.createElement("div",null,r.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},r.a.createElement("div",{className:"driff-logo"},r.a.createElement(lR,{icon:"driff-logo","data-link":"/",onClick:function(e){e.preventDefault(),e.target.dataset.link?l(Fr({mode:3})):l(Fr({mode:2})),c.push(e.target.dataset.link)}})))),r.a.createElement("div",{className:"flex navigation-menu-tab-header-options"},r.a.createElement("ul",null,!i&&r.a.createElement("li",{onClick:Q,className:"driff-company-name ".concat(I?"active":"")},I?r.a.createElement(mR,{className:"active"},r.a.createElement(pR,{icon:"home"}),r.a.createElement("input",{ref:H.companyName,defaultValue:A.company_name,onChange:function(e){F(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:Y()}},name:"company-name",autoFocus:!0})):r.a.createElement(uR,{active:["dashboard","posts","chat","files","people"].includes(e.match.params.page),to:null!==y&&y.hasOwnProperty("code")?"/chat/".concat(y.code):"/chat"},r.a.createElement(pR,{icon:"home"}),A.company_name,r.a.createElement("div",null,(N.chat_message>=1||N.unread_channel>0)&&r.a.createElement(ax.a,{"data-count":N.chat_message},"\xa0"))),k.role&&["owner","admin"].includes(k.role.name)&&r.a.createElement(r.a.Fragment,null,I?r.a.createElement(Se,{className:"action",onClick:Y,icon:"save"}):r.a.createElement(Se,{className:"action",onClick:Y,icon:"pencil"}))),r.a.createElement("li",null,r.a.createElement(uR,{to:"/todos",active:["/todos"].includes(e.location.pathname)},r.a.createElement(pR,{icon:"check"}),r.a.createElement("div",null,j.todoLinks),r.a.createElement("div",null,0!==s.overdue&&r.a.createElement(ax.a,{"data-count":s.overdue},"\xa0")))),r.a.createElement("li",{onClick:Q},r.a.createElement(uR,{to:"/workspace/search",active:["/workspace/search"].includes(e.location.pathname)},r.a.createElement(pR,{icon:"compass"}),r.a.createElement("div",null,j.allWorkspaces))),"internal"===k.type&&r.a.createElement("li",null,r.a.createElement(uR,{to:"/system/people",active:["/system/people"].includes(e.location.pathname)},r.a.createElement(pR,{icon:"user"}),r.a.createElement("div",null,j.people))),r.a.createElement(HI,{links:w,user:k,dictionary:j}))),r.a.createElement("div",{className:"your-workspaces-title"},j.yourWorkspaces,!i&&r.a.createElement(bR,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"New folder"},r.a.createElement(sR,{onClick:function(){l(Br({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),r.a.createElement("div",{className:"navigation-menu-group"},r.a.createElement("div",{id:"elements",className:"open"},_&&0===Object.values(f).length&&0===Object.values(h).length?r.a.createElement(hR,null,r.a.createElement("div",null,r.a.createElement(Ie,{height:200,icon:2}),r.a.createElement("h5",null,j.sidebarTextCreateWorkspace),r.a.createElement("button",{className:"btn btn-primary mt-2",onClick:W},j.createWorkspace))):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,!i&&Object.values(f).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return r.a.createElement(hx,{key:e.key_id,actions:m,folder:e,history:c,show:!0,workspace:E,workspaces:b.filter((function(t){return 1===t.active&&e.workspace_ids.some((function(e){return e===t.id}))}))})})),!i&&Object.values(h).length>0&&r.a.createElement(hx,{actions:m,history:c,show:!0,workspace:E,workspaces:b.filter((function(e){return 1===e.active&&null===e.folder_id})),folder:{id:"general_internal",is_lock:0,name:j.workspacesFolder,type:"GENERAL_FOLDER",workspace_ids:Object.values(h).filter((function(e){return null===e.folder_id&&1===e.active})).map((function(e){return e.id})),unread_count:0}}),i&&Object.keys(h).length>0&&Object.values(h).map((function(e){return r.a.createElement(yx,{key:e.key_id,actions:m,workspace:e,activeTopic:E})})))))),!i&&!(0===Object.values(f).length&&0===Object.values(h).length)&&r.a.createElement("div",null,r.a.createElement(fR,{onClick:W,className:"btn btn-outline-light",type:"button"},r.a.createElement("div",null,r.a.createElement(dR,{icon:"circle-plus"}),j.addNewWorkspace))))}));function _R(){var e=Object(s.a)([""]);return _R=function(){return e},e}var gR=m.a.div(_R()),OR=r.a.memo((function(){return r.a.createElement(gR,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),AR=a(63),vR=a.n(AR),CR=a(37),jR=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(i=CR.generate()),vR.a.create(e,{body:t,icon:null!==a?a:"./assets/icons/favicon.ico?v=1",timeout:r,tag:e,onClick:function(){window.focus(),n&&n(),this.close()}})},kR=function(e){Object(Gu.a)(a,e);var t=Object(Bu.a)(a);function a(e){return Object(ge.a)(this,a),t.call(this,e)}return Object(Oe.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getOnlineUsers(),setInterval((function(){e.props.getOnlineUsers()}),3e4),this.props.addUserToReducers({id:this.props.user.id,name:this.props.user.name,partial_name:this.props.user.partial_name,profile_image_link:this.props.user.profile_image_link,type:this.props.user.type}),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".Driff.User.").concat(this.props.user.id)).listen(".todo-notification",(function(t){switch(console.log("todo notification",t),t.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(t);break;case"UPDATE_TODO":e.props.incomingUpdateToDo(t);break;case"DONE_TODO":e.props.incomingDoneToDo(t);break;case"DELETE_TODO":e.props.incomingRemoveToDo(t);break;case"REMIND_TODO":e.props.incomingUpdateToDo(t);break;case"ADVANCE_REMIND_TODO":if(E.isSafari&&e.props.notificationsOn){jR("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var a="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?a=t.data.workspaces.length?t.data.workspaces[0].workspace?"/workspace/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(ue(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(ue(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(ue(t.data.post.title)):"/workspace/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(ue(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(ue(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(ue(t.data.post.title)):"CHAT"===t.link_type&&(a="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==a&&e.props.history.push(a)}else e.props.history.push("/todos")}))}break;default:return null}})).listen(".workspace-role-notification",(function(t){console.log("workspace role",t),e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(console.log("google attachment",t),t.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;default:return null}})).listen(".workspace-folder-notification",(function(t){switch(console.log(t,"folder"),t.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(t);break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(t),"/workspace/files"===e.props.match.url&&e.props.location.pathname.includes(t.folder.id)&&e.props.location.pathname.includes(t.topic_id)){var a=e.props.location.pathname.split("/folder/")[0];e.props.history.push(a)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(t);break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(t);break;default:return null}})).listen(".workspace-file-notification",(function(t){switch(console.log(t,"file","line 170"),t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){console.log(t,"timeline"),e.props.incomingTimeline(t)})).listen(".upload-bulk-private-workspace-files",(function(t){console.log(t,"files bulk"),e.props.incomingFiles(t)})).listen(".favourite-notification",(function(t){switch(console.log(t,"favourite-notification"),t.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(t);break;default:return null}})).listen(".unread-post",(function(t){console.log(t,"unread-post"),e.props.incomingReadUnreadReducer(t)})).listen(".post-notification",(function(t){switch(console.log(t,"post-notif"),t.SOCKET_TYPE){case"POST_CREATE":e.props.user.id!==t.author.id&&E.isSafari&&e.props.notificationsOn&&jR("".concat(t.author.first_name," shared a post"),t.title,t.author.profile_image_link,null),null!==t.show_at&&(e.props.user.id,t.author.id),e.props.incomingPost(t),t.workspace_ids&&t.workspace_ids.length>=1&&e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"}),"undefined"===typeof t.channel_messages&&console.log(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,e.props.incomingPostNotificationMessage(t.system_message)}));break;case"POST_UPDATE":e.props.incomingUpdatedPost(t),t.channel_messages&&t.post_participant_data&&(t.post_participant_data.all_participant_ids.some((function(t){return t===e.props.user.id}))?t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!0,t.system_message.is_completed=!1,t.system_message.user=null,e.props.incomingPostNotificationMessage(t.system_message)})):e.props.deletePostNotification(t.channel_messages),t.post_participant_data.from_company||(e.props.incomingPost(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!0,t.system_message.is_completed=!1,t.system_message.user=null,e.props.incomingPostNotificationMessage(t.system_message)}))));break;case"POST_DELETE":e.props.incomingDeletedPost(t);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(t);break;case"POST_CLAP_TOGGLE":e.props.incomingPostClap(t);break;case"MARKED_DONE":e.props.incomingPostMarkDone(t);break;default:return null}})).listen(".post-comment-notification",(function(t){switch(console.log(t,"comment-notif"),t.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(e.props.incomingComment(t),t.workspaces&&t.workspaces.length>=1&&e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"}),t.author.id!==e.props.user.id){if(E.isSafari&&e.props.notificationsOn){var a="";(a=t.workspaces.length?t.workspaces[0].workspace_id?"/workspace/posts/".concat(t.workspaces[0].workspace_id,"/").concat(ue(t.workspaces[0].workspace_name),"/").concat(t.workspaces[0].topic_id,"/").concat(ue(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(ue(t.post_title)):"/workspace/posts/".concat(t.workspaces[0].topic_id,"/").concat(ue(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(ue(t.post_title)):"/posts/".concat(t.post_id,"/").concat(ue(t.post_title)))===e.props.location.pathname&&e.props.isBrowserActive||jR("".concat(t.author.first_name," replied in a post"),ce(t.body),t.author.profile_image_link,(function(){return e.props.history.push(a,{focusOnMessage:t.id})}))}t.workspaces.forEach((function(t){e.props.getWorkspace({topic_id:t.topic_id},(function(a,n){a||e.props.updateWorkspaceCounter({folder_id:t.workspace_id,topic_id:t.topic_id,unread_count:n.data.workspace_data.unread_count,unread_posts:n.data.workspace_data.topic_detail.unread_posts,unread_chats:n.data.workspace_data.topic_detail.unread_chats})}))}))}break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(t);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(t);break;case"POST_COMMENT_CLAP_TOGGLE":e.props.incomingCommentClap(t);break;default:return null}})).listen(".chat-notification",(function(t){console.log(t,"chat-notification");var a=e.props,n=a.user,r=a.selectedChannel,i=a.isBrowserActive;switch(t.SOCKET_TYPE){case"CHAT_CREATE":var c=Object(I.a)({},t),o=Object($.a)(new Set(function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiBaseUrl:"driff.online/api",REACT_APP_apiDNSName:"driff.online",REACT_APP_apiProtocol:"https://",REACT_APP_apiVersion:"v2",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_ENV:"production",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_localDNSName:"driff.io",REACT_APP_localDNSProtocol:"https://",REACT_APP_mockServerBaseUrl:"driff.online/api",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_socketAddress:"https://driff.online",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api"}),a=t.REACT_APP_apiDNSName,n=t.REACT_APP_localDNSName,r=[];return e.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi,(function(e){Ae(e)&&r.push(e)})),r.filter((function(e){return!e.includes(a)&&e.includes(n)&&!e.includes("/profile/")})).length?[r.filter((function(e){return!e.includes(a)&&e.includes(n)}))[0]]:[]}(t.body)));if(o.length&&e.props.generateUnfurl({type:"chat",message_id:c.id,link_url:o[0]},(function(t,a){a?e.props.generateUnfurlReducer({unfurls:a.data.unfurls,channel_id:c.channel_id,message_id:c.id}):console.log(t)})),c.user.id===n.id||c.is_muted||e.props.soundPlay(),e.props.user.id!==c.user.id&&(delete c.reference_id,c.g_date=e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===c.channel_id&&(c.is_read=!0)),e.props.incomingChatMessage(c),delete t.SOCKET_TYPE,delete t.socket,t.user.id!==n.id&&!t.is_muted&&e.props.notificationsOn&&E.isSafari&&(!e.props.location.pathname.includes("/chat/")||r.code!==t.channel_code||!i)){jR("".concat(t.user.first_name," ").concat(t.reference_title?"in #".concat(t.reference_title):"in a direct message"),"".concat(t.user.first_name,": ").concat(ce(t.body)),t.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(t.channel_code,"/").concat(t.code))}))}if(void 0===t.workspace_id||null===t.workspace_id||0===t.workspace_id){var l={};l="CHAT_REMINDER_MESSAGE"===t.entity_type?{count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:{count:1,entity_type:"CHAT_MESSAGE"},e.props.setGeneralChat(l)}else e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(t);break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(t);break;default:return null}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.Broadcast")).listen(".user-role-notification",(function(t){console.log(t,"updated role"),e.props.incomingUserRole(t),t.user_id===e.props.user.id&&e.props.getUser({id:e.props.user.id},(function(e,t){e||L.sessionService.saveUser(Object(I.a)({},t.data))}))})).listen(".company-announcement",(function(t){e.props.updateCompanyPostAnnouncement(t)})).listen(".company-request-form-notification",(function(t){switch(console.log(t,"company-request-form-notification"),t.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(t)}})).listen(".company-notification",(function(t){switch(console.log(t,"company-notification"),t.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(t)}})).listen(".company-file-notification",(function(t){switch(console.log(t,"company file"),t.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(t);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(t);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(t);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(t);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(t);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(t);break;default:return null}})).listen(".company-folder-notification",(function(t){switch(console.log(t,"company folder"),t.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(t);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(t);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(t);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(t);break;default:return null}})).listen(".delete-workspace",(function(t){console.log("deleted folder",t),e.props.incomingDeletedWorkspaceFolder(t)})).listen(".workspace-role-notification",(function(t){console.log("workspace role",t),e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(console.log("google attachment",t),t.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(t);break;default:return null}})).listen(".user-activated",(function(e){console.log(e,"new user")})).listen(".external-user-notification",(function(t){console.log(t,"new external user"),e.props.incomingExternalUser(t)})).listen(".user-notification",(function(t){switch(console.log(t,"user notif"),t.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(t);break;default:return null}})).listen(".post-notification",(function(t){switch(console.log(t,"post notif broadcast"),t.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){console.log(t,"timeline"),e.props.incomingTimeline(t)})).listen(".upload-bulk-workspace-files",(function(t){console.log(t,"files bulk"),e.props.incomingFiles(t)})).listen(".workspace-file-notification",(function(t){switch(console.log(t,"file","line 506"),t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".new-workspace",(function(t){console.log(t,"new workspace"),void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(a,n){a||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,a){if(!t){var n=Object(I.a)(Object(I.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(n)}}))):e.props.incomingWorkspaceFolder(Object(I.a)(Object(I.a)({},t.workspace),{},{key_id:t.key_id,type:t.type}))})).listen(".update-workspace",(function(t){if(console.log(t,"update workspace"),e.props.incomingUpdatedWorkspaceFolder(t),"WORKSPACE"===t.type){if(t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(a,n){a||e.props.getWorkspace({topic_id:t.id})})));if(t.remove_member_ids.length>0){if(t.remove_member_ids.some((function(t){return t===e.props.user.id}))&&("external"===e.props.user.type||1===t.private)&&Object.keys(e.props.workspaces).length){var a=Object.values(e.props.workspaces)[0];a.folder_id?e.props.history.push("/workspace/chat/".concat(a.folder_id,"/").concat(ue(a.folder_name),"/").concat(a.id,"/").concat(ue(a.name))):e.props.history.push("/workspace/chat/".concat(a.id,"/").concat(ue(a.name)))}if(e.props.selectedChannel&&e.props.selectedChannel.id===t.system_message.channel_id){var n=Object.values(e.props.channels).filter((function(t){var a=t.members.map((function(e){return e.id})).some((function(t){return t===e.props.user.id}));return"TOPIC"===t.type&&a&&!t.is_hidden}));if(n.length>0&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)){var r=n[0];e.props.setSelectedChannel(r),e.props.history.push("/chat/".concat(r.code))}}}}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&"/workspace"===e.props.match.path){var i=e.props.location.pathname;i=i.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(i,"/").concat(t.id,"/").concat(ue(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/workspace/".concat(i,"/").concat(t.workspace_id,"/").concat(ue(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(ue(t.name)))}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.User.").concat(this.props.user.id)).listen(".post-require-author-notify",(function(e){console.log(e,".post-read-require")})).listen(".post-read-require",(function(t){console.log(t,".post-read-require"),e.props.incomingMarkAsRead(t)})).listen(".new-lock-workspace",(function(t){console.log(t,"new workspace lock"),void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(a,n){a||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,a){if(!t){var n=Object(I.a)(Object(I.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(n)}}))):e.props.incomingWorkspaceFolder(Object(I.a)(Object(I.a)({},t.workspace),{},{key_id:t.key_id,type:t.type}))})).listen(".update-lock-workspace",(function(t){if(console.log(t,"update lock workspace"),e.props.incomingUpdatedWorkspaceFolder(t),"WORKSPACE"===t.type){if(t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(a,n){a||e.props.getWorkspace({topic_id:t.id})})));if(t.remove_member_ids.length>0){if(t.remove_member_ids.some((function(t){return t===e.props.user.id}))&&("external"===e.props.user.type||1===t.private)&&Object.keys(e.props.workspaces).length){var a=Object.values(e.props.workspaces)[0];a.folder_id?e.props.history.push("/workspace/chat/".concat(a.folder_id,"/").concat(ue(a.folder_name),"/").concat(a.id,"/").concat(ue(a.name))):e.props.history.push("/workspace/chat/".concat(a.id,"/").concat(ue(a.name)))}if(e.props.selectedChannel&&e.props.selectedChannel.id===t.system_message.channel_id){var n=Object.values(e.props.channels).filter((function(t){var a=t.members.map((function(e){return e.id})).some((function(t){return t===e.props.user.id}));return"TOPIC"===t.type&&a&&!t.is_hidden}));if(n.length>0&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)){var r=n[0];e.props.setSelectedChannel(r),e.props.history.push("/chat/".concat(r.code))}}}}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&"/workspace"===e.props.match.path){var i=e.props.location.pathname;i=i.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(i,"/").concat(t.id,"/").concat(ue(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/workspace/".concat(i,"/").concat(t.workspace_id,"/").concat(ue(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(ue(t.name)))}})).listen(".users-online",(function(t){console.log(t,"users-online"),e.props.currentOnlineUsers(t.current_users_online.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(t){console.log(t,"post view");var a={post_id:t.post_id,viewer:t.user};e.props.incomingPostViewer(a)})).listen(".updated-post-visitors",(function(e){console.log(e,"comment post view")})).listen(".move-private-topic-workspace",(function(t){console.log(t,"move workspace private"),e.props.incomingMovedTopic(t)})).listen(".update-channel-name",(function(t){console.log(t,"updated channel name");var a=Object(I.a)(Object(I.a)({},t),{},{message:Object(I.a)(Object(I.a)({},t.message),{},{g_date:e.props.localizeDate(t.message.created_at.timestamp),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(a)})).listen(".member-update-timestamp",(function(t){e.props.setMemberTimestamp(t)})).listen(".new-added-member-chat",(function(t){if(console.log("new chat member",t),t.id){var a=JSON.parse(t.body.replace("CHANNEL_UPDATE::","")),n=Object(I.a)(Object(I.a)({},t),{},{is_deleted:!1,reactions:[],last_reply:null,body:t.body,created_at:t.created_at,updated_at:t.created_at,files:[],id:t.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:t.channel_id,code:t.code}),r={users:Object.values(e.props.users).filter((function(e){return a.added_members.some((function(t){return t===e.id}))})).map((function(e){return Object(I.a)(Object(I.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:t.channel_id,data:t,message:n};e.props.channels.hasOwnProperty(t.channel_id)||a.author.id===e.props.user.id?e.props.joinWorkspaceReducer(r):(e.props.getChannel({code:t.channel_code},(function(t,a){if(!t){var n=Object(I.a)(Object(I.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===a.data.is_archived,isFetching:!1});e.props.addToChannels(n)}})),t.workspace_data&&(t.workspace_data.workspace&&!e.props.folders.hasOwnProperty(t.workspace_data.workspace.id)?e.props.getWorkspaceFolder({folder_id:t.workspace_data.workspace.id},(function(a,n){a||e.props.getWorkspace({topic_id:t.workspace_data.topic.id})})):e.props.getWorkspace({topic_id:t.workspace_data.topic.id})))}})).listen(".archived-chat-channel",(function(t){if(console.log(t,"archived chat",e.props),t.channel_data.topic_detail)if("UNARCHIVED"===t.channel_data.status)e.props.incomingUnArchivedWorkspaceChannel(t.channel_data);else{if(e.props.activeTopic&&e.props.activeTopic.id===t.channel_data.topic_detail.id){var a=null;if(null!==t.channel_data.topic_detail.workspace_id||0!==t.channel_data.topic_detail.workspace_id)if(e.props.folders.hasOwnProperty(t.channel_data.topic_detail.workspace_id)&&e.props.folders[t.channel_data.topic_detail.workspace_id].workspace_ids.length>1){var n=Object.values(e.props.workspaces).filter((function(a){return e.props.folders[t.channel_data.topic_detail.workspace_id].workspace_ids.some((function(e){return e===a.id}))})).sort((function(e,t){return e.name.localeCompare(t.name)}));console.log(n,"other workspaces"),a=n[0].id===e.props.activeTopic.id?n[1]:n[0]}else{var r=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));r.length&&(a=r[0])}else{var i=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));i.length&&(a=i[0])}a&&(e.props.workspaceActions.selectWorkspace(a),e.props.workspaceActions.redirectTo(a))}e.props.incomingArchivedWorkspaceChannel(t.channel_data)}else e.props.incomingArchivedChannel(t.channel_data)})).listen(".new-chat-channel",(function(t){console.log(t,"chat channel"),t.channel_data.creator_by.id!==e.props.user.id&&e.props.getChannel({code:t.channel_data.code},(function(t,a){if(!t){var n=Object(I.a)(Object(I.a)({},a.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1});e.props.addToChannels(n)}}))})).listen(".chat-message-react",(function(t){console.log(t),e.props.incomingChatMessageReaction(Object(I.a)(Object(I.a)({},t),{},{user_name:t.name}))})).listen(".updated-notification-counter",(function(t){console.log(t,"updated counter"),e.props.setUnreadNotificationCounterEntries(t)}))}},{key:"render",value:function(){return null}}]),a}(n.Component);var yR=Object(o.connect)((function(e){var t=e.session.user,a=e.settings.userSettings,n=e.chat,r=n.channels,i=n.selectedChannel,c=n.isLastChatVisible,o=e.workspaces,l=o.workspaces,s=o.workspacePosts,d=o.folders,u=o.activeTopic,m=o.workspacesLoaded,p=e.global.isBrowserActive,f=e.users,b=f.mentions;return{user:t,users:f.users,settings:a,channels:r,selectedChannel:i,isBrowserActive:p,workspacePosts:s,folders:d,mentions:b,activeTopic:u,workspacesLoaded:m,workspaces:l,isLastChatVisible:c}}),(function(e){return{addToChannels:Object(Mi.bindActionCreators)(Fc,e),addUserToReducers:Object(Mi.bindActionCreators)(qr,e),getChannel:Object(Mi.bindActionCreators)(Pc,e),setBrowserTabStatus:Object(Mi.bindActionCreators)(Pr,e),getOnlineUsers:Object(Mi.bindActionCreators)(Hl,e),getConnectedSlugs:Object(Mi.bindActionCreators)(Dr,e),getUser:Object(Mi.bindActionCreators)(Wl,e),setMemberTimestamp:Object(Mi.bindActionCreators)(Lc,e),setAllMessagesAsRead:Object(Mi.bindActionCreators)(Uc,e),incomingChatMessage:Object(Mi.bindActionCreators)(Hc,e),incomingChatMessageFromOthers:Object(Mi.bindActionCreators)(Wc,e),addFilesToChannelAction:Object(Mi.bindActionCreators)(Va,e),deleteFilesFromChannelAction:Object(Mi.bindActionCreators)(Ka,e),generateUnfurl:Object(Mi.bindActionCreators)(Ur,e),generateUnfurlReducer:Object(Mi.bindActionCreators)(Gr,e),setChannel:Object(Mi.bindActionCreators)(xc,e),incomingArchivedChannel:Object(Mi.bindActionCreators)(Qc,e),incomingChatMessageReaction:Object(Mi.bindActionCreators)(zc,e),incomingUpdatedChatMessage:Object(Mi.bindActionCreators)(Kc,e),incomingDeletedChatMessage:Object(Mi.bindActionCreators)(Zc,e),incomingUpdatedChannelDetail:Object(Mi.bindActionCreators)(co,e),getChannelMembers:Object(Mi.bindActionCreators)(mo,e),updateChannelMembersTitle:Object(Mi.bindActionCreators)(po,e),incomingWorkspaceFolder:Object(Mi.bindActionCreators)(ks,e),incomingWorkspace:Object(Mi.bindActionCreators)(ys,e),incomingUpdatedWorkspaceFolder:Object(Mi.bindActionCreators)(Ts,e),incomingMovedTopic:Object(Mi.bindActionCreators)(ws,e),setGeneralChat:Object(Mi.bindActionCreators)(ai,e),setUnreadNotificationCounterEntries:Object(Mi.bindActionCreators)(ni,e),incomingPost:Object(Mi.bindActionCreators)(Wo,e),incomingPostClap:Object(Mi.bindActionCreators)(qo,e),incomingDeletedPost:Object(Mi.bindActionCreators)(Yo,e),incomingComment:Object(Mi.bindActionCreators)(zo,e),incomingCommentClap:Object(Mi.bindActionCreators)(Jo,e),incomingFolder:Object(Mi.bindActionCreators)(fn,e),incomingDeletedFolder:Object(Mi.bindActionCreators)(hn,e),incomingFile:Object(Mi.bindActionCreators)(On,e),incomingFiles:Object(Mi.bindActionCreators)(jn,e),incomingDeletedFile:Object(Mi.bindActionCreators)(Cn,e),incomingMovedFile:Object(Mi.bindActionCreators)(wn,e),incomingRestoreFile:Object(Mi.bindActionCreators)(Nn,e),incomingRestoreFolder:Object(Mi.bindActionCreators)(Sn,e),incomingEmptyTrash:Object(Mi.bindActionCreators)(xn,e),incomingCompanyFolder:Object(Mi.bindActionCreators)(mr,e),incomingCompanyUpdatedFolder:Object(Mi.bindActionCreators)(pr,e),incomingCompanyDeletedFolder:Object(Mi.bindActionCreators)(fr,e),incomingCompanyFile:Object(Mi.bindActionCreators)(br,e),incomingCompanyFiles:Object(Mi.bindActionCreators)(hr,e),incomingCompanyDeletedFile:Object(Mi.bindActionCreators)(Er,e),incomingCompanyMovedFile:Object(Mi.bindActionCreators)(_r,e),incomingCompanyEmptyTrash:Object(Mi.bindActionCreators)(gr,e),incomingCompanyRemovedFile:Object(Mi.bindActionCreators)(Or,e),incomingCompanyMoveFile:Object(Mi.bindActionCreators)(Ar,e),incomingCompanyRestoreFile:Object(Mi.bindActionCreators)(vr,e),incomingCompanyRestoreFolder:Object(Mi.bindActionCreators)(Cr,e),incomingCompanyRemovedFolder:Object(Mi.bindActionCreators)(jr,e),incomingCompanyDeletedFiles:Object(Mi.bindActionCreators)(kr,e),incomingCompanyUpdatedFile:Object(Mi.bindActionCreators)(yr,e),incomingPostViewer:Object(Mi.bindActionCreators)(rl,e),incomingUpdatedPost:Object(Mi.bindActionCreators)(Qo,e),incomingTimeline:Object(Mi.bindActionCreators)(Fs,e),incomingDeletedPostFile:Object(Mi.bindActionCreators)(Rn,e),incomingDeletedComment:Object(Mi.bindActionCreators)(ll,e),incomingUpdatedUser:Object(Mi.bindActionCreators)(Zl,e),unreadChannelReducer:Object(Mi.bindActionCreators)(bo,e),incomingRemovedFile:Object(Mi.bindActionCreators)(Pn,e),incomingRemovedFolder:Object(Mi.bindActionCreators)(Dn,e),getWorkspace:Object(Mi.bindActionCreators)(Ms,e),setSelectedChannel:Object(Mi.bindActionCreators)(wc,e),incomingArchivedWorkspaceChannel:Object(Mi.bindActionCreators)(Gs,e),incomingUnArchivedWorkspaceChannel:Object(Mi.bindActionCreators)(Bs,e),updateWorkspaceCounter:Object(Mi.bindActionCreators)(Us,e),fetchPost:Object(Mi.bindActionCreators)(sl,e),incomingDeletedFiles:Object(Mi.bindActionCreators)(Mn,e),incomingGoogleFile:Object(Mi.bindActionCreators)(Hn,e),incomingGoogleFolder:Object(Mi.bindActionCreators)(Wn,e),joinWorkspaceReducer:Object(Mi.bindActionCreators)(Is,e),incomingDeletedGoogleFile:Object(Mi.bindActionCreators)(Yn,e),incomingWorkspaceRole:Object(Mi.bindActionCreators)(Qs,e),incomingDeletedWorkspaceFolder:Object(Mi.bindActionCreators)(Vs,e),incomingExternalUser:Object(Mi.bindActionCreators)(as,e),getWorkspaceFolder:Object(Mi.bindActionCreators)(Ks,e),incomingUpdateCompanyName:Object(Mi.bindActionCreators)(Al,e),incomingInternalUser:Object(Mi.bindActionCreators)(rs,e),incomingToDo:Object(Mi.bindActionCreators)(pi,e),incomingUpdateToDo:Object(Mi.bindActionCreators)(fi,e),incomingDoneToDo:Object(Mi.bindActionCreators)(bi,e),incomingRemoveToDo:Object(Mi.bindActionCreators)(hi,e),incomingPostMarkDone:Object(Mi.bindActionCreators)(Bo,e),incomingFavouriteItem:Object(Mi.bindActionCreators)(Ei,e),incomingReadUnreadReducer:Object(Mi.bindActionCreators)(il,e),updateCompanyPostAnnouncement:Object(Mi.bindActionCreators)(vl,e),incomingUserRole:Object(Mi.bindActionCreators)(os,e),deletePostNotification:Object(Mi.bindActionCreators)(_o,e),incomingPostNotificationMessage:Object(Mi.bindActionCreators)(go,e),incomingMarkAsRead:Object(Mi.bindActionCreators)(dl,e)}}))(Object(d.k)(kR)),TR="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function wR(){return(wR=Object(D.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NR(){return navigator.serviceWorker.register("/sw.js")}function SR(){return(SR=Object(D.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TR});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xR="serviceWorker"in navigator&&"PushManager"in window;function IR(){var e=Object(n.useState)("undefined"!==typeof Notification&&Notification.permission),t=Object(p.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),c=Object(p.a)(i,2),l=c[0],s=c[1],d=Object(n.useState)(null),u=Object(p.a)(d,2),m=u[0],f=u[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)(!0),O=Object(p.a)(g,2),A=O[0],v=O[1],C=Object(n.useState)(null),j=Object(p.a)(C,2),k=j[0],y=j[1],T=Object(n.useState)(null),w=Object(p.a)(T,2),N=w[0],S=w[1],x=Object(n.useState)(localStorage.getItem("remindNotification")),I=Object(p.a)(x,2),R=I[0],L=I[1],F=Object(n.useState)(!1),M=Object(p.a)(F,2),U=M[0],G=M[1],B=Object(o.useDispatch)(),H=Object(o.useSelector)((function(e){return e.notifications.hasSubscribed})),W=function(){v(!0),_(!1),y(!0),function(){return SR.apply(this,arguments)}().then((function(e){s(e),B(ei(e,(function(e,t){if(console.log("subscribed",t),e)return y(!1),v(!1),void _(e);y(!1),f(t.data.id)}))),v(!1)})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),_(e),v(!1)}))};Object(n.useEffect)((function(){xR&&(v(!0),_(!1),NR().then((function(){v(!1)}))),G(!0)}),[]),Object(n.useEffect)((function(){v(!0),_(!1),S(!0),function(){var e=Object(D.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:t=e.sent,console.log(t,"existing subscription"),B(Nl(!!t)),s(t),S(!1),v(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){null===l&&null===k&&!1===N&&W()}),[l,k,N,B]),Object(n.useEffect)((function(){console.log(xR,H),xR&&null===H&&(console.log("trigger resubscribe"),NR().then((function(){"granted"===a&&(console.log("resubscribed"),B(Nl(!0)),W())})))}),[H,a]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),L(e)},onClickAskUserPermission:function(){v(!0),_(!1),function(){return wR.apply(this,arguments)}().then((function(e){r(e),"granted"!==e?(_({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),s(!1)):W(),v(!1)}))},onClickSubscribeToPushNotification:W,onClickSendSubscriptionToPushServer:function(){v(!0),_(!1),B(ei(l,(function(e,t){if(e)return v(!1),void _(e);f(t.data.id)})))},pushServerSubscriptionId:m,onClickSendNotification:function(){v(!0),_(!1),B($r({sub_id:m},(function(e,t){v(!1),e&&_(e)})))},userConsent:a,pushNotificationSupported:xR,userSubscription:l,error:E,loading:A,showNotificationBar:"default"===a&&null===l&&(null===R||R<Math.floor(Date.now()/1e3)),mounted:U}}function RR(){var e=Object(s.a)(["\n    text-decoration: underline;\n    cursor: pointer;\n"]);return RR=function(){return e},e}function PR(){var e=Object(s.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  .feather {\n      cursor: pointer;\n  }\n"]);return PR=function(){return e},e}var DR=m.a.div(PR()),LR=m.a.span(RR()),FR=function(e){var t=e.onClickAskUserPermission,a=e.onClickRemindLater;return r.a.createElement(DR,null,r.a.createElement("p",null,"Please enable notification to get real-time updates. ",r.a.createElement(LR,{onClick:t},"Enable notification")),r.a.createElement(Se,{icon:"x",onClick:a}))};function MR(){var e=Object(s.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"]);return MR=function(){return e},e}function UR(){var e=Object(s.a)([""]);return UR=function(){return e},e}var GR=m.a.div(UR()),BR=m.a.audio(MR()),HR=r.a.memo((function(e){OE(e),ms(),fs();var t=IR(),i=t.mounted,c=t.showNotificationBar,l=t.onClickAskUserPermission,s=t.onClickRemindLater,u=Object(d.j)().path,m=ls(),p=m.displayWelcomeBanner,f=m.fetchRoles,b=Object(o.useSelector)((function(e){return e.session.user})),h=cd(),E=sd().localizeDate,_=Js(),g={audio:Object(n.useRef)(null)},O=Object(o.useDispatch)(),A=Object(o.useSelector)((function(e){return e.files.files})),v=Object(o.useSelector)((function(e){return e.notifications.notifications})),C=Sl(),j=C.driffSettings.isCompSettingsLoaded,k=C.chatSettings.sound_enabled,y=C.generalSettings.notifications_on,N=Object(d.g)(),S="external"===b.type;return Object(n.useEffect)((function(){if("/logout"===u){var e="".concat(T(),"/logged-out");window.location.href="".concat(w({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[u,O,N]),Object(n.useEffect)((function(){document.body.classList.remove("form-membership"),O(Lr()),O(Ql()),O(Kl()),O(Dr()),0===Object.keys(A).length&&O(Ya({sort:"desc"})),0===Object.keys(v).length&&O(Cl({skip:0,limit:100})),f()}),[]),Object(n.useEffect)((function(){b.id&&j&&p()}),[b,j]),r.a.createElement(r.a.Fragment,null,r.a.createElement(BR,{ref:g.audio,controls:!0},r.a.createElement("source",{src:a(532),type:"audio/ogg"}),r.a.createElement("source",{src:a(533),type:"audio/mpeg"}),r.a.createElement("source",{src:a(534),type:"audio/m4r"}),"Your browser does not support the audio element."),c&&i&&r.a.createElement(FR,{onClickAskUserPermission:l,onClickRemindLater:s}),i&&r.a.createElement(SI,{isExternal:S}),i&&r.a.createElement(GR,{id:"main"},r.a.createElement(d.b,{render:function(e){return r.a.createElement(RI,Object.assign({isExternal:S},e,{showNotificationBar:c}))},path:["/:page"]}),r.a.createElement(d.d,null,r.a.createElement(d.b,{render:function(e){return r.a.createElement(vS,Object.assign({isExternal:S},e))},path:["/workspace"]}),r.a.createElement(d.b,{render:function(e){return r.a.createElement(bS,Object.assign({},e,{isExternal:S}))},path:["/:page"]}))),r.a.createElement(OR,null),void 0!==b.id&&void 0!==window.Echo&&r.a.createElement(yR,{localizeDate:E,toaster:h,soundPlay:function(){if(k&&g.audio.current){var e=g.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){e.name}))}},workspaceActions:_,notificationsOn:y}))})),WR=function(e){var t=e.children,a=Object(G.a)(e,["children"]),i=Sl(),c=i.init,l=i.fetch,s=i.fetchUserSettings,u=i.userSettings,m=i.driffSettings;c();var p=Object(d.g)(),f=Object(o.useSelector)((function(e){return e.session})),b=Object(o.useSelector)((function(e){return e.global.i18nLoaded}));return Object(n.useEffect)((function(){f.checked&&f.authenticated&&(l(),s())}),[f.checked,f.authenticated,s,m.isSettingsLoaded]),f.checked&&b?f.authenticated&&!u.isLoaded?null:f.authenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,null,r.a.createElement(d.b,Object.assign({},a,{component:gE,path:"/logged-out",exact:!0})),r.a.createElement(d.b,Object.assign({},a,{component:bE,path:["/test/files/workspace/:workspaceId"]}),t),r.a.createElement(d.b,Object.assign({},a,{component:uE,path:["/test/chat"]}),t),r.a.createElement(d.b,Object.assign({},a,{component:HR,path:["/notifications","/profile","/dashboard","/posts","/chat","/files","/people","/search","/settings","/system/people","/todos"]}),t),r.a.createElement(d.b,Object.assign({},a,{component:HR,path:["/workspace/chat","/workspace/:page"]}),t),r.a.createElement(d.a,{path:"*",to:{pathname:"/chat",state:{from:p.location}}}))):r.a.createElement(d.d,null,r.a.createElement(d.b,Object.assign({},a,{component:gE,path:["/driff-register","/register","/magic-link","/resetpassword/:token/:email","/reset-password","/login","/authenticate/:token/:returnUrl?","/request-form","/magic-link/:token"],exact:!0}),t),r.a.createElement(d.a,{from:"*",to:{pathname:"/login",state:{from:p.location}}})):null};function QR(){var e=Object(s.a)(["\n  body & {\n    &.form-wrapper {\n      margin: 50px auto;\n      max-width: 860px;\n      width: 98%;\n      background-color: transparent;\n      box-shadow: none;\n      @media (max-width: 576px) {\n        width: auto;\n        margin: 0 20px;\n        padding: 32px;\n      }\n      h2 {\n        margin: 0 0 20px 0;\n        font-size: 24px;\n        text-align: left;\n        min-height: 80px;\n        color: #000000;\n        font-weight: 700;\n        line-height: 1.4;\n        @media (max-width: 576px) {\n          font-size: 24px;\n          min-height: auto;\n        }\n      }\n      p {\n        text-align: left;\n      }\n\n      .col-sm-6 {\n        padding: 60px 40px;\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n        background: #ffffff;\n        @media (max-width: 576px) {\n          padding: 30px 20px;\n          border-radius: 0;\n          border-bottom-left-radius: 4px;\n          border-bottom-right-radius: 4px;\n        }\n        .btn {\n          width: 100%;\n          text-align: center;\n          justify-content: center;\n          margin-bottom: 0 !important;\n          font-size: 18px;\n          height: 44px;\n          font-weight: bold;\n          color: #4d075a;\n          &:hover {\n            background-color: #7a1b8b;\n            border-color: #7a1b8b;\n            color: #ffffff;\n          }\n        }\n        border: 1px solid #ddd;\n        border-left: 0;\n\n        @media (max-width: 576px) {\n          border: 1px solid #ddd;\n          border-top: 0;\n        }\n        &.col-set-up {\n          background-color: #4d075a;\n          border: 0;\n          border-radius: 0;\n          border-top-left-radius: 4px;\n          border-bottom-left-radius: 4px;\n          h2 {\n            color: #fff;\n          }\n          p {\n            color: #fff;\n          }\n          @media (max-width: 576px) {\n            border-radius: 0;\n            border-top-left-radius: 4px;\n            border-top-right-radius: 4px;\n          }\n          .btn.btn-outline-light {\n            background-color: #fff;\n            &:hover {\n              background-color: rgba(255, 255, 255, 0.2) !important;\n              border-color: rgba(255, 255, 255, 0.2) !important;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .input-group {\n    input {\n      margin-bottom: 0 !important;\n    }\n    &.driff-name {\n      .input-group-text {\n        border-radius: 0 6px 6px 0;\n      }\n      .invalid-feedback {\n        text-align: left;\n      }\n    }\n  }\n"]);return QR=function(){return e},e}var YR=m.a.div(QR()),zR=Object(d.k)((function(e){var t=e.className,a=void 0===t?"":t;return Object(n.useEffect)((function(){document.body.classList.add("form-membership")}),[]),r.a.createElement(YR,{className:"driff-register-panel fadeIn form-wrapper ".concat(a)},r.a.createElement("div",{id:"logo"},r.a.createElement(xe,{icon:"driff-logo",width:"110",height:"80"})),r.a.createElement(Pu.a,{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-6 col-set-up"},r.a.createElement("h2",null,"Setup a new Driff"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet"),r.a.createElement(l.b,{className:"btn btn-outline-light mt-4 mb-4",to:"/driff-register"},"+ Create a Driff")),r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement("h2",null,"Is your team already using Driff?"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet"),r.a.createElement(l.b,{className:"btn btn-outline-light mt-4 mb-4",to:"/driff"},"Sign in to Driff"))))}));a(535);function VR(){var e=Object(s.a)(["\n  min-height: 100%;\n  .Toastify__toast {\n    border-radius: 8px;\n  }\n"]);return VR=function(){return e},e}var KR=m.a.div(VR());var qR,JR=r.a.memo((function(){var e=ls(),t=e.logout,a=e.processBackendLogout,i=Sl().driffSettings,c=Z(),l=c.actions,s=c.redirected,m=c.registeredDriff,p=c.setRegisteredDriff,f=Object(d.h)(),b=Object(o.useSelector)((function(e){return e.session}));return fl(b),Object(n.useEffect)((function(){b.checked&&b.authenticated&&"121020200140"!==function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}("site_ver")&&(!function(e,t,a){var n="";if(a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3),n="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"}("site_ver","121020200140"),t(),a());var e=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),i.settings.maintenance_mode?r.a.createElement(KR,{className:"App"},r.a.createElement(gE,{setRegisteredDriff:p})):r.a.createElement(KR,{className:"App"},r.a.createElement($s.b,{transition:$s.a,position:"top-center",autoClose:2e3,pauseOnHover:!1}),r.a.createElement(Qp,null),"/driff"===f.pathname?r.a.createElement(Sp,{setRegisteredDriff:p}):"/driff-register"===f.pathname?r.a.createElement(d.b,{render:function(){return r.a.createElement(gE,{setRegisteredDriff:p})},path:"/driff-register",exact:!0}):r.a.createElement(r.a.Fragment,null,!0===s?r.a.createElement(Ru,{redirectTo:l.getBaseUrl}):null===m?r.a.createElement(zR,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,null,r.a.createElement(u.a,null,r.a.createElement(WR,{path:"*"}))))),r.a.createElement(iE,null))}));a(536),a(537);c.a.render((qR=dc,r.a.createElement(o.Provider,{store:qR},r.a.createElement(l.a,null,r.a.createElement(JR,null)))),document.getElementById("root"))},81:function(e){e.exports=JSON.parse('{"a":{"version":"01051320201125AM","requirement":"normal"}}')},99:function(e,t,a){e.exports=a.p+"static/media/gripp-bot.078c64fa.png"}},[[220,1,2]]]);