(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[13],{703:function(e,t){e.exports="data:image/png;base64,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"},716:function(e,t,n){"use strict";n.r(t);var a,i,c,l,r,s,o,u,m,d,b,p,f,E,g,O,h,v=n(9),j=n(0),N=n.n(j),L=n(10),A=n(5),_=n(41),k=n(11),D=L.a.ul(a||(a=Object(v.a)(["\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n  li {\n    cursor: pointer;\n  }\n  &.list-group .list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n"]))),I=function(e){var t=Object(k.cb)()._t,n={automation:t("ADMIN.FILTER_AUTOMATION","Automation"),quickLinks:t("ADMIN.FILTER_QUICKLINKS","Quick links"),settings:t("ADMIN.FILTER_SETTINGS","Settings"),huddleBots:t("ADMIN.FILTER_HUDDLE","Huddle bots"),subscription:t("ADMIN.FILTER_SUBSCRIPTION","Subscription"),contact:t("ADMIN.FILTER_CONTACT","Contact"),support:t("ADMIN.FILTER_SUPPORT","Support desk")},a=Object(k.a)().setAdminFilter,i=Object(_.g)(),c=Object(A.d)((function(e){return e.admin.filters})),l=function(e){e.persist(),a({filter:"quick-links"===e.target.dataset.value?"quick_links":e.target.dataset.value}),i.push("/admin-settings/".concat(e.target.dataset.value)),document.body.classList.remove("mobile-modal-open")};return N.a.createElement(D,{className:"list-group list-group-flush"},N.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(c.automation?"active":""),"data-value":"automation",onClick:l},n.automation),N.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(c.quick_links?"active":""),"data-value":"quick-links",onClick:l},n.quickLinks),N.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(c.settings?"active":""),"data-value":"settings",onClick:l},n.settings),N.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(c.bots?"active":""),"data-value":"bots",onClick:l},n.huddleBots),N.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(c.subscription?"active":""),"data-value":"subscription",onClick:l},n.subscription),N.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(c.contact?"active":""),"data-value":"contact",onClick:l},n.contact),N.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(c.support?"active":""),"data-value":"support",onClick:l},n.support))},C=L.a.div(i||(i=Object(v.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]))),T=function(e){return N.a.createElement(C,{className:"col-md-3 app-sidebar bottom-modal-mobile"},N.a.createElement("div",{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),N.a.createElement("div",{className:"bottom-modal-mobile_inner"},N.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},N.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},N.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},N.a.createElement("h4",null,"Admin menu"))),N.a.createElement(I,null))))},w=n(8),S=n(1),y=n(6),x=n(75),q=n(54),U=L.a.div(c||(c=Object(v.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]))),B=function(){var e=Object(k.cb)()._t,t=Object(k.X)(),n={loginSettings:e("ADMIN.LOGIN_SETTINGS","Login settings"),googleLogin:e("ADMIN.GOOGLE_LOGIN","Google login"),magicLink:e("ADMIN.MAGIC_LINK","Magic link"),signUp:e("ADMIN.SIGN_UP","Sign up"),passwordLogin:e("ADMIN.PASSWORD_LOGIN","Password login"),saveLogin:e("ADMIN.SAVE_LOGIN","Save login"),enable:e("LABEL.ENABLE","Enable"),disable:e("LABEL.DISABLE","Disable"),loginSettingsUpdated:e("TOAST.LOGIN_SETTINGS_SUCCESS","Login settings updated")},a=Object(j.useRef)(!0),i=Object(A.d)((function(e){return e.settings.user.GENERAL_SETTINGS})).dark_mode,c=Object(A.d)((function(e){return e.admin.login})),l=Object(A.d)((function(e){return e.admin.loginFetched})),r=Object(A.d)((function(e){return e.admin.filters})),s=Object(k.a)(),o=s.fetchLoginSettings,u=s.updateLoginSettings,m=s.setAdminFilter,d=Object(j.useState)(Object(S.a)({},c)),b=Object(y.a)(d,2),p=b[0],f=b[1],E=Object(j.useState)(!1),g=Object(y.a)(E,2),O=g[0],h=g[1];Object(j.useEffect)((function(){return m({filters:Object(S.a)(Object(S.a)({},r),{},{settings:!0})}),l||o({}),function(){a.current=!1}}),[]),Object(j.useEffect)((function(){f(c)}),[c]);var v=[{value:!1,label:n.disable},{value:!0,label:n.enable}],L=v.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:"google_login"})})),_=v.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:"magic_link"})})),D=v.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:"sign_up"})})),I=v.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:"password_login"})})),C=function(e){f(Object(S.a)(Object(S.a)({},p),{},Object(w.a)({},e.name,e.value)))};return N.a.createElement(U,null,N.a.createElement("h4",{className:"mb-3"},n.loginSettings),N.a.createElement("div",null,N.a.createElement("label",null,n.googleLogin),N.a.createElement(x.a,{styles:"0"===i?q.b:q.a,value:L.find((function(e){return e.value===p.google_login})),onChange:C,options:L})),N.a.createElement("div",null,N.a.createElement("label",null,n.magicLink),N.a.createElement(x.a,{styles:"0"===i?q.b:q.a,value:_.find((function(e){return e.value===p.magic_link})),onChange:C,options:_})),N.a.createElement("div",null,N.a.createElement("label",null,n.signUp),N.a.createElement(x.a,{styles:"0"===i?q.b:q.a,value:D.find((function(e){return e.value===p.sign_up})),onChange:C,options:D})),N.a.createElement("div",null,N.a.createElement("label",null,n.passwordLogin),N.a.createElement(x.a,{styles:"0"===i?q.b:q.a,value:I.find((function(e){return e.value===p.password_login})),onChange:C,options:I})),N.a.createElement("div",{className:"mt-2"},N.a.createElement("button",{className:"btn btn-primary",onClick:function(){h(!0),u(p,(function(e,i){a.current&&h(!1),e||t.success(n.loginSettingsUpdated)}))},disabled:O||!l},n.saveLogin)))},F=n(7),M=n(627),W=function(e){return/(?:(?:ht|f)tp(?:s?):\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |/.,*:;=]|%[a-f\d]{2})*)?/gi.test(e)},R=L.a.div(l||(l=Object(v.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  table {\n    width: 100%;\n    border-spacing: 1rem;\n    th,\n    td {\n      padding: 5px 15px;\n    }\n  }\n  col.col1 {\n    width: 20%;\n  }\n  col.col2 {\n    width: 50%;\n  }\n"]))),G=function(){var e=Object(k.cb)()._t,t=Object(k.X)(),n={quickLinks:e("ADMIN.QUICK_LINKS_SETTINGS","Quick links settings"),saveQuickLinks:e("ADMIN.SAVE_QUICK_LINKS","Save quick links"),quickLinksUpdated:e("ADMIN.QUICK_LINKS_UPDATED","Quick links updated"),menuName:e("ADMIN.MENU_NAME","Menu name"),link:e("ADMIN.LINK","Link")},a=Object(j.useRef)(!0),i=Object(A.d)((function(e){return e.global.links})),c=Object(A.d)((function(e){return e.global.linksFetched})),l=Object(A.d)((function(e){return e.admin.filters})),r=Object(k.a)(),s=r.setAdminFilter,o=r.updateQuickLinks,u=r.createQuickLinks,m=Object(j.useState)(c&&i.length?Array.from(i):Array.from(Array(10),(function(){return{id:null,menu_name:"",link:""}}))),d=Object(y.a)(m,2),b=d[0],p=d[1],f=Object(j.useState)(!1),E=Object(y.a)(f,2),g=E[0],O=E[1];Object(j.useEffect)((function(){return s({filters:Object(S.a)(Object(S.a)({},l),{},{quick_links:!0})}),function(){a.current=!1}}),[]),Object(j.useEffect)((function(){p([].concat(Object(F.a)(i),Object(F.a)(b)).slice(0,10))}),[i]);return N.a.createElement(R,null,N.a.createElement("h4",{className:"mb-3"},n.quickLinks),N.a.createElement("div",null,N.a.createElement("table",null,N.a.createElement("colgroup",null,N.a.createElement("col",{className:"col1"}),N.a.createElement("col",{className:"col2"})),N.a.createElement("thead",null,N.a.createElement("tr",null,N.a.createElement("th",null,n.menuName),N.a.createElement("th",null,n.link))),N.a.createElement("tbody",null,b.map((function(e,t){return N.a.createElement("tr",{key:t},N.a.createElement("td",null,N.a.createElement(M.a,{className:"w-100",value:e.menu_name,onChange:function(e){return function(e,t){var n=Object(F.a)(b);n[t].menu_name=e.target.value,p(n)}(e,t)},disabled:g||!c,type:"url"})),N.a.createElement("td",null,N.a.createElement(M.a,{className:"w-100",value:e.link,onChange:function(e){return function(e,t){var n=Object(F.a)(b);n[t].link=e.target.value,p(n)}(e,t)},disabled:g||!c,type:"url"})))}))))),N.a.createElement("div",{className:"mt-2"},N.a.createElement("button",{className:"btn btn-primary",onClick:function(){O(!0);var e={quick_links:b.filter((function(e){return null!==e.id})).map((function(e){return""!==e.menu_name.trim()&&""!==e.link.trim()?e:Object(S.a)(Object(S.a)({},e),{},{menu_name:"",link:""})}))};if(o(e,(function(e,i){a.current&&O(!1),e||t.success(n.quickLinksUpdated)})),b.filter((function(e){return null===e.id})).length){var i={quick_links:b.filter((function(e){return null===e.id})).map((function(e){return{menu_name:e.menu_name,link:e.link}}))};u(i)}},disabled:!!g||!c||!!b.filter((function(e){return""!==e.link.trim()})).some((function(e){return!1===W(e.link)}))||!!b.some((function(e){return""===e.menu_name.trim()&&""!==e.link.trim()}))||!!b.some((function(e){return""!==e.menu_name.trim()&&""===e.link.trim()}))},n.saveQuickLinks)))},V=n(264),H=n.n(V),P=n(20),K=n(13),Y=n(94),Z=L.a.div(r||(r=Object(v.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n  }\n"]))),Q=Object(L.a)(H.a)(s||(s=Object(v.a)(["\n  .dark & {\n    input,\n    select {\n      color: #fff;\n    }\n    option {\n      color: #000;\n    }\n  }\n  .react-time-picker__inputGroup__minute {\n    width: 18px !important;\n  }\n"]))),z=function(e){return(e<10?"0":"")+e},J=function(e){var t=Object(k.cb)()._t,n={huddleBot:t("HUDDLE.Question","Question"),huddleBotCreated:t("HUDDLE.HUDDLE_CREATED","Huddle bot created."),huddleBotUpdated:t("HUDDLE.HUDDLE_UPDATED","Huddle bot updated."),huddleBotFailed:t("HUDDLE.HUDDLE_FAILED","Huddle bot failed."),channels:t("HUDDLE.CHANNELS","Channels"),questions:t("HUDDLE.QUESTIONS","Questions"),startAt:t("HUDDLE.START_AT","Start at"),publishAt:t("HUDDLE.PUBLISH_AT","Publish at"),delete:t("HUDDLE.DELETE","Delete"),update:t("HUDDLE.UPDATE","Update"),create:t("HUDDLE.CREATE","Create"),cancel:t("HUDDLE.CANCEL","Cancel"),confirmationText:t("HUDDLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this huddle bot?"),deleteHuddle:t("HUDDLE.DELETE_HUDDLE","Delete huddle"),huddleLabel:t("ADMIN.HUDDLE_LABEL","Huddle bot")},a=Object(k.y)(),i=Object(k.X)(),c=Object(A.c)(),l=Object(A.d)((function(e){return e.chat.bots})),r=Object(A.d)((function(e){return e.chat.huddleBot})),s=l.channels,o=l.loaded,u=Object(A.d)((function(e){return e.admin.filters})),m=[{question:""},{question:""},{question:""},{question:""},{question:""}],d=new Date,b=z(d.getHours())+":"+z(d.getMinutes()),p=d.getTimezoneOffset()/60,f=Object(j.useState)([]),E=Object(y.a)(f,2),g=E[0],O=E[1],h=Object(j.useState)({set_start_at:b,set_publish_at:b,channel_id:null,user_bot_id:r?r.id:null,questions:m,introduction_message:"",closing_message:""}),v=Object(y.a)(h,2),L=v[0],_=v[1],D=s.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{value:e.id,label:e.name,icon:"compass"})}));Object(j.useEffect)((function(){if(c(Object(Y.i)({filters:Object(S.a)(Object(S.a)({},u),{},{bots:!0})})),!o){a.fetchUserBots({},(function(e,t){e||t.data.user_bots&&0===t.data.user_bots.length&&a.createUserBot({bot_name:"Huddle"})}))}}),[]);var I=function(e){_(Object(S.a)(Object(S.a)({},L),{},{questions:L.questions.map((function(t,n){return n===parseInt(e.target.dataset.name)?Object(S.a)(Object(S.a)({},t),{},{question:e.target.value}):t}))}))},C=function(e){_(Object(S.a)(Object(S.a)({},L),{},Object(w.a)({},e.target.dataset.name,e.target.value)))},T=function(){_({set_start_at:b,set_publish_at:b,channel_id:null,user_bot_id:r.id,questions:m})},x=L.questions.filter((function(e){return""===e.question.trim()})).length===L.questions.length||null===L.channel_id;return N.a.createElement(Z,null,r&&N.a.createElement("div",{className:"card-body"},N.a.createElement("h4",{className:"mb-3"},n.huddleLabel),N.a.createElement("div",{className:"mb-2"},N.a.createElement("label",null,n.channels),N.a.createElement(P.d,{options:D,value:g,onChange:function(e){if(null===e)O([]),_(Object(S.a)(Object(S.a)({},L),{},{set_start_at:b,set_publish_at:b,channel_id:null,user_bot_id:r.id,questions:m}));else if(O(e),e.huddle){var t=parseInt(e.huddle.publish_at.time.substr(0,2))-p,n=parseInt(e.huddle.start_at.time.substr(0,2))-p;_(Object(S.a)(Object(S.a)({},L),{},{introduction_message:e.huddle.introduction_message,closing_message:e.huddle.closing_message,channel_id:e.value,questions:e.huddle.questions,user_bot_id:r.id,set_publish_at:z(t>23?24-t:t)+":"+e.huddle.publish_at.time.substr(3,2),set_start_at:z(n>23?24-n:n)+":"+e.huddle.start_at.time.substr(3,2)}))}else _(Object(S.a)(Object(S.a)({},L),{},{channel_id:e.value,questions:m}))},isMulti:!1,isClearable:!0})),N.a.createElement("div",{className:"mb-2"},N.a.createElement("label",null,n.startAt),N.a.createElement("br",null),N.a.createElement(Q,{className:"react-datetime-picker start_at",onChange:function(e){_(Object(S.a)(Object(S.a)({},L),{},{set_start_at:e}))},value:L.set_start_at,disableClock:!0})),N.a.createElement("div",{className:"mb-2"},N.a.createElement("label",null,n.publishAt),N.a.createElement("br",null),N.a.createElement(Q,{className:"react-datetime-picker publish_at",onChange:function(e){_(Object(S.a)(Object(S.a)({},L),{},{set_publish_at:e}))},value:L.set_publish_at,disableClock:!0})),N.a.createElement("div",{className:"mb-2"},N.a.createElement("label",null,"Welcome message"),N.a.createElement("div",{className:"mb-2"},N.a.createElement("div",{className:"input-group"},N.a.createElement("input",{onChange:C,"data-name":"introduction_message",type:"text",className:"form-control",placeholder:"Welcome message","aria-describedby":"button-addon1",autoFocus:!0,value:L.introduction_message})))),N.a.createElement("div",{className:"mb-2"},N.a.createElement("label",null,"Thank you message"),N.a.createElement("div",{className:"mb-2"},N.a.createElement("div",{className:"input-group"},N.a.createElement("input",{onChange:C,"data-name":"closing_message",type:"text",className:"form-control",placeholder:"Thank you message","aria-describedby":"button-addon1",autoFocus:!0,value:L.closing_message})))),N.a.createElement("div",{className:"mb-2"},N.a.createElement("label",null,n.questions),L.questions.map((function(e,t){return N.a.createElement("div",{className:"mb-2",key:t},N.a.createElement("div",{className:"input-group"},N.a.createElement("input",{onChange:I,"data-name":t,type:"text",className:"form-control",placeholder:"Question","aria-describedby":"button-addon1",autoFocus:!0,value:e.question})))})),N.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=parseInt(L.set_publish_at.substr(0,2))+p,t=parseInt(L.set_start_at.substr(0,2))+p,c=L.set_publish_at.substr(3,2),l=L.set_start_at.substr(3,2),s=Object(S.a)(Object(S.a)({},L),{},{questions:L.questions.filter((function(e){return""!==e.question.trim()})),user_bot_id:r.id,set_publish_at:z(e>=0?e:24+e)+":"+c,set_start_at:z(t>=0?t:24+t)+":"+l}),o=function(e,t){e?i.error(n.huddleBotFailed):(g.huddle?i.success(n.huddleBotUpdated):i.success(n.huddleBotCreated),T(),O([]))};g.huddle?(s=Object(S.a)(Object(S.a)({},s),{},{huddle_id:g.huddle.id,update_questions:s.questions,new_questions:[],remove_question_ids:[]}),a.update(s,o)):a.create(s,o)},disabled:x},g.huddle?n.update:n.create),g.huddle&&N.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){var e=function(e,t){e||(T(),O([]))},t={type:"confirmation",headerText:n.deleteHuddle,submitText:n.delete,cancelText:n.cancel,bodyText:n.confirmationText,actions:{onSubmit:function(){return a.remove({huddle_id:g.huddle.id},e)}}};c(Object(K.a)(t))},disabled:x},n.delete))))},X=n(15),$=n(18),ee=L.a.div(o||(o=Object(v.a)(["\n  .admin-bot-card {\n    padding: 1rem;\n  }\n  button {\n    padding: 8px;\n  }\n  .create-btn {\n    padding: 15px;\n  }\n"]))),te=L.a.div(u||(u=Object(v.a)(["\n  display: flex;\n  align-items: center;\n"]))),ne=L.a.div(m||(m=Object(v.a)(["\n  display: flex;\n  flex-flow: column;\n  h5 {\n    margin: 0;\n  }\n"]))),ae=function(){var e=Object(k.cb)()._t,t=Object(A.c)(),n=Object(k.X)(),a=Object(k.a)(),i=a.setAdminFilter,c=a.fetchUserBot,l=a.removeUserBot,r=Object(j.useRef)(!0),s={adminBotLabel:e("ADMIN.AUTOMATION_LABEL_ADMIN_BOT","Admin bot"),deleteBotBody:e("MODAL.DELETE_BOT_CONFIRMATION","Are you sure you want to delete this bot?"),buttonCancel:e("BUTTON.CANCEL","Cancel"),buttonRemove:e("BUTTON.REMOVE","Remove")},o=Object(A.d)((function(e){return e.admin.filters})),u=Object(A.d)((function(e){return e.admin.automation})).bots;Object(j.useEffect)((function(){return c(),i({filters:Object(S.a)(Object(S.a)({},o),{},{automation:!0})}),function(){r.current=!1}}),[]);return N.a.createElement(ee,null,N.a.createElement("h5",{className:"mb-3"},s.adminBotLabel),N.a.createElement("div",{className:"mb-3"},N.a.createElement("button",{className:"btn btn-primary create-btn",onClick:function(){t(Object(K.a)({type:"create_bot"}))}},"Create new bot")),N.a.createElement("div",{className:"row"},u.length>0&&u.map((function(a){return N.a.createElement("div",{className:"col-12 col-md-6",key:a.id},N.a.createElement("div",{className:"card border"},N.a.createElement("div",{className:"card-body admin-bot-card"},N.a.createElement(te,{className:"mb-2"},N.a.createElement("div",null,N.a.createElement(X.a,{isBot:!0,imageLink:a.image_path,name:a.name,noDefaultClick:!0,showSlider:!1})),N.a.createElement(ne,null,N.a.createElement("h5",null,a.name),N.a.createElement("span",null,a.channel_connected.length," Channels connected"))),N.a.createElement("div",null,N.a.createElement("button",{className:"btn btn-danger mr-2",onClick:function(){return function(n){var a={type:"confirmation",headerText:e("MODAL.DELETE_BOT_HEADER","Delete ::name::",{name:n.name}),submitText:s.buttonRemove,cancelText:s.buttonCancel,bodyText:s.deleteBotBody,actions:{onSubmit:function(){l({id:n.id})}}};t(Object(K.a)(a))}(a)}},N.a.createElement(X.s,{icon:"x"})),N.a.createElement("button",{className:"btn btn-primary mr-2",onClick:function(){return function(e){var n={type:"update_bot",item:e};t(Object(K.a)(n))}(a)}},N.a.createElement(X.s,{icon:"edit"})),N.a.createElement("button",{className:"btn btn-info mr-2"},N.a.createElement(X.s,{icon:"upload"})),N.a.createElement("button",{className:"btn btn-light mr-2",onClick:function(){return function(e){Object($.b)(n,e.url_webhook)}(a)}},N.a.createElement(X.s,{icon:"link"}))))))}))))},ie=L.a.div(d||(d=Object(v.a)([""]))),ce=function(){var e=Object(k.cb)()._t,t=Object(k.a)().setAdminFilter,n=Object(j.useRef)(!0),a={grippLabel:e("ADMIN.GRIPP_LABEL","Gripp")},i=Object(A.d)((function(e){return e.admin.filters}));return Object(j.useEffect)((function(){return t({filters:Object(S.a)(Object(S.a)({},i),{},{automation:!0})}),function(){n.current=!1}}),[]),N.a.createElement(ie,null,N.a.createElement("h5",{className:"mb-3"},a.grippLabel))},le=L.a.div(b||(b=Object(v.a)([""]))),re=function(){var e=Object(k.cb)()._t,t=Object(k.a)().setAdminFilter,n=Object(j.useRef)(!0),a={bitrixLabel:e("ADMIN.BITRIX_LABEL","Import Bitrix")},i=Object(A.d)((function(e){return e.admin.filters}));return Object(j.useEffect)((function(){return t({filters:Object(S.a)(Object(S.a)({},i),{},{automation:!0})}),function(){n.current=!1}}),[]),N.a.createElement(le,null,N.a.createElement("h5",{className:"mb-3"},a.bitrixLabel))},se=n(703),oe=n.n(se),ue=L.a.div(p||(p=Object(v.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n  .card-body {\n    height: 125px;\n    cursor: pointer;\n    .icon-gripp-logo,\n    .bitrix-icon {\n      width: 100%;\n      height: 100%;\n    }\n    .feather-admin-bot {\n      width: 48px;\n      height: 48px;\n      margin-right: 5px;\n    }\n  }\n  .card-body.admin-bot {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    h4 {\n      margin: 0;\n    }\n  }\n"]))),me=function(){var e=Object(k.cb)()._t,t=Object(_.g)(),n=Object(k.a)().setAdminFilter,a=Object(j.useRef)(!0),i={automationLabel:e("ADMIN.AUTOMATION_LABEL","Automation")},c=Object(A.d)((function(e){return e.admin.filters}));Object(j.useEffect)((function(){return n({filters:Object(S.a)(Object(S.a)({},c),{},{automation:!0})}),function(){a.current=!1}}),[]);var l=function(e){t.push("/admin-settings/automation/".concat(e))};return N.a.createElement(ue,null,N.a.createElement("h4",{className:"mb-3"},i.automationLabel),N.a.createElement("div",{className:"row"},N.a.createElement("div",{className:"col-12 col-md-4"},N.a.createElement("div",{className:"card border",onClick:function(){return l("gripp")}},N.a.createElement("div",{className:"card-body"},N.a.createElement(X.r,{icon:"gripp-logo"})))),N.a.createElement("div",{className:"col-12 col-md-4"},N.a.createElement("div",{className:"card border",onClick:function(){return l("admin-bot")}},N.a.createElement("div",{className:"card-body admin-bot"},N.a.createElement(X.s,{icon:"admin-bot",viewBox:"0 0 54 54"}),N.a.createElement("h4",null,"Admin bot")))),N.a.createElement("div",{className:"col-12 col-md-4"},N.a.createElement("div",{className:"card border",onClick:function(){return l("bitrix")}},N.a.createElement("div",{className:"card-body"},N.a.createElement("img",{className:"bitrix-icon",src:oe.a,alt:"bitrix"}))))),N.a.createElement(_.d,null,N.a.createElement(_.b,{component:ae,path:["/admin-settings/automation/admin-bot"]}),N.a.createElement(_.b,{component:ce,path:["/admin-settings/automation/gripp"]}),N.a.createElement(_.b,{component:re,path:["/admin-settings/automation/bitrix"]})))},de=L.a.div(f||(f=Object(v.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]))),be=function(){var e=Object(k.cb)()._t,t=Object(k.a)().setAdminFilter,n=Object(j.useRef)(!0),a={contactLabel:e("ADMIN.CONTACT_LABEL","Contact")},i=Object(A.d)((function(e){return e.admin.filters}));return Object(j.useEffect)((function(){return t({filters:Object(S.a)(Object(S.a)({},i),{},{contact:!0})}),function(){n.current=!1}}),[]),N.a.createElement(de,null,N.a.createElement("h4",{className:"mb-3"},a.contactLabel))},pe=L.a.div(E||(E=Object(v.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]))),fe=function(){var e=Object(k.cb)()._t,t=Object(k.a)().setAdminFilter,n=Object(j.useRef)(!0),a={supportLabel:e("ADMIN.SUPPORT_LABEL","Support desk")},i=Object(A.d)((function(e){return e.admin.filters}));return Object(j.useEffect)((function(){return t({filters:Object(S.a)(Object(S.a)({},i),{},{support:!0})}),function(){n.current=!1}}),[]),N.a.createElement(pe,null,N.a.createElement("h4",{className:"mb-3"},a.supportLabel))},Ee=L.a.div(g||(g=Object(v.a)(["\n  padding: 1rem;\n  > div {\n    margin-bottom: 1rem;\n  }\n"]))),ge=function(){var e=Object(k.cb)()._t,t=Object(k.a)().setAdminFilter,n=Object(j.useRef)(!0),a={subscriptionLabel:e("ADMIN.SUBSCRIPTION_LABEL","Subscription")},i=Object(A.d)((function(e){return e.admin.filters}));return Object(j.useEffect)((function(){return t({filters:Object(S.a)(Object(S.a)({},i),{},{subscription:!0})}),function(){n.current=!1}}),[]),N.a.createElement(Ee,null,N.a.createElement("h4",{className:"mb-3"},a.subscriptionLabel))},Oe=L.a.div(O||(O=Object(v.a)(["\n  overflow: visible !important;\n  height: 100%;\n"]))),he=function(e){return N.a.createElement(Oe,{className:"card"},N.a.createElement(_.d,null,N.a.createElement(_.b,Object.assign({},e,{component:me,path:["/admin-settings/automation","/admin-settings/automation/:subpage"]})),N.a.createElement(_.b,Object.assign({},e,{component:B,path:["/admin-settings/settings"]})),N.a.createElement(_.b,Object.assign({},e,{component:G,path:["/admin-settings/quick-links"]})),N.a.createElement(_.b,Object.assign({},e,{component:J,path:["/admin-settings/bots"]})),N.a.createElement(_.b,Object.assign({},e,{component:ge,path:["/admin-settings/subscription"]})),N.a.createElement(_.b,Object.assign({},e,{component:be,path:["/admin-settings/contact"]})),N.a.createElement(_.b,Object.assign({},e,{component:fe,path:["/admin-settings/support"]})),N.a.createElement(_.a,{from:"*",to:{pathname:"/admin-settings/settings"}})))},ve=L.a.div(h||(h=Object(v.a)(["\n  overflow: hidden auto;\n  .app-block {\n    overflow: inherit;\n    .app-content {\n      height: auto;\n    }\n  }\n"])));t.default=function(e){return N.a.createElement(ve,{className:"container-fluid h-100 fadeIn"},N.a.createElement("div",{className:"row app-block"},N.a.createElement(T,null),N.a.createElement("div",{className:"col-lg-9 app-content mb-4"},N.a.createElement("div",{className:"app-content-overlay"}),N.a.createElement(he,null))))}}}]);