(this.webpackJsonpdriff=this.webpackJsonpdriff||[]).push([[0],{141:function(e,t,a){e.exports=a.p+"static/media/gripp-bot.078c64fa.png"},171:function(e,t,a){e.exports=a.p+"static/media/text.bf6e5a52.svg"},174:function(e,t,a){e.exports=a.p+"static/media/arrow_down_r_secundary.ac4ec86d.svg"},175:function(e,t,a){e.exports=a.p+"static/media/white-arrow-right.56dfb481.svg"},179:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAKL0lEQVR4Xu3d63MT1x3G8UcSkleSZckG3AIFl2BZDtjhFggQE0hJwiW002mnnTR90T+vM206aTppyoQQaMG3GIOxZeMbvpD4JoOktSzpWPJKfdGGMilwwNaR9nf0+7x+9EIzX6+ktbTrKBaLRTBWYk7ZgLGN4LCYEhwWU4LDYkpwWEwJDospwWExJTgspgSHxZTgsJgSHBZTgsNiSnBYTAkOiynBYTElOCymBIfFlOCwmBIcFlOCw2JKcFhMCQ6LKbFFNqgG8ccxjI2OYGFhEblcDtnsGtw1huxhTxQsC8WChS1bXKivD2Lnzl14fX87agyv7KHaclTj7woT8ceIxRYQW1rC0tIS0uksfLV1cLlcsoe+lHw+j/VcFqFQENu2bceOnbuwp2mv7GFaqZqwhBAAgLv9PZiemYXhDcgeUjJmMo7WSDMOHz0BADCMlz8aUlUVYS3HYrj1r+soOt2yqXKZdBrbtgZx4dIvZFPStA/rs0//jHjcRLC+QTYtG8uykM9lcPz4W2gOt8rmJGkblmkmMTjQj7mFZXg8Htm8IlZXEmhvb8fho8dlU3K0DEsIgS8+/yvgtGdQT1tbE2jbH0E4ckCr917ahWWaSXz55dWSfcIrl4C/Bu+f/1A2I0OrE6RCCHz6l0/IRQUAi0uP8PVXV2QzMrQKKzp0F3Uh+7xJfxX+2gBmH36HyYlR2ZQEbcK63deN4ZEx2czWgqEGdHb1PDnnRpkWYT2cnUZ0aBiBQJ1sanuBQB2++3ZGNrM9LcLq7+sl+xL4LN1d3eSPWuTDEkLAXM3IZqT4A0GYyceyma2RDwsA6upCsgk5d+/0yya2Rj6s0ZFB2YSk5eVHWI7Ny2a2RT6smdlZ2YQkwxfALOHnRj6sRMKUTUhyuVyIx+OymW2RDksIAbenRjYjazm2LJvYFumwspk0fD6/bMYqgHRY6+uWbMIqhHRYzL44LKYEh8WU4LCYEhwWU4LDYkpwWEwJDospwWExJTgspgSHxZTgsJgSHBZTgsNiSnBYTAkOiylBOqzZ2QeyCWn59QJGovdkM1siG1Z35w0MDY3IZqTVBUPo/aaP5K+iyYY1Pj6JYKheNiMvGGrA2hqHVRZdnTcAZ/Vcov7aVXrXzSIZ1sT4Ay2uLPOyzJVVZDKrspmtkAyrUNDq6pZSgboQQOwpkwwLDodswSqMZFhFan++m0bv+ZIMy4FqO2LRe74kw2L2x2GRwC+FTAl+KWQM4LCYKhwWU4LDYkpwWEwJkmE56X1I2hTLssjd0YxkWOGWfUilVmQzbaznsnC77X9Tz6eRDOvU22fhKBZkM238+jcfwclHrPKIRFpgJuheB/1lra4kZRNbIvs1zLdOdiCbzSCepPUFuFeRMuN4/4MPSN4rmvQ9oYUQmJocw+i4fr/WcbuKOPfeBfj8NK9jT/aIBQCGYeC15giG74+T+9T0PCtmEh/97mPgv8+PKrLvsb5nGAZWV/S5n47PWwPDMEhHBR3CAgCvV4/76ZiJONra2mQzErQI681jx2Am6X9C9HprsL/toGxGghZhNYdb4ffRfukAgD1Nu2UTMrQICwAaGxtlE1sT2RT27QvLZmRoE9ZPdu8h/XLY3taGH/14l2xGBunTDU9rDrfC5XLh7sCQbGo7ZjKBcOSSbEaKNkcsANixczdyuZxsZjutkX3kTy/8kFZhGYaBgrUmm9lKKrWCw0dPyGbkaBUWAFy8eBmWRePOq5Zlwb3Fod3RCjqGVd+wFSJL4x/TRWsNH//+D7IZSdqFBQAdHR1Imfb+hLhiJtHS0iKbkaVlWHtfC6OpaY9sVlGN2xtw6Mhx2YwsLcMCgOMn3obLYd/3Wj9774JsQpq2Yfl8fpy/+HPbnX5Ir6bw5tHDshl52pwgfRbDMOD3upG30YHLa7ixp2mvbEaetkes771//kPbfDdeZFM4/c4Z2UwL2odlGAba3ziAfD4vmyp39uy7Wv0/8EW0DwsAGrdvR6FQ2dfDYrEIt1u/E6HPUxVhwVH5a5cVi0X4/T7ZTBvVEZYtVLjsMuOwmBIcVtlU15VMOKyy4ZdCxjaNwyoTuhcy2BgOq0wcDiCdzshm2qiKsMykCUeFLwPodLpQKFT+7H+5VEVYc3Nz8Hgq/zP8VColm2ijKsJaWIzJJmUxPaXf5ZaeR/uwlhbn4Nrils3KYn5+EWOjw7KZFrQOSwiB619fQ21tQDYti0CwHkOD92QzLWgd1t3+HniMWtmsrNYLzv/cLF1zpC8V+Tzzcw/R1XkL6wUnPB77XcY6l8th147tOH3mnGxKllZhCSEwMTaMwcEheP32vsu9mYijsXEr2t84pOVXlbUISwgBAOi6eR3JVFY2t5UVM4mjRw4iHDkAEL/u6NPIh/Vwdho3b3bC66P/Jbp0ysTJUyfRHG6VTW2PbFgjw/cwPj6ORNxEsL5BNifDTCYQqvPj0JGj2Psa3QuxkQtLCIG+3k48eDCNupA+Qf1QOmWiuXkvDh46BqfLRe4lkkxYQggszH+LGzf+iaDGQT1LeF8TwpEDpOIiEdYnf/oj1nKWFu+jNiqfz0NkUni7o4PEezDbhlWwLNwb6MeDB5PIrRdhGF7ZQ6qCmYxj184dCLe02Po9mO3CEkKgYFm49tUVrOULcDr1uJVJqa0k44hEmp9cDdBuL5O2CmtpcR5dt26i6LTHP42pCPhrcPrMOVvFZYuwbvd1YWhwBF5/rS3/BUNBNpNBLidw+NBBHDpyTDZXrmJhFSwLw9EBzMzM4NGjhFbnoirJTMaxbWs9du/ejaaf7kN9w1bZQ5SoSFhCCFy7+g+IXAEOR2W/MqyznFjFL3/1W6AC78HKHtbtvm5Eo/dRFwzJpqxEzGQckZZmnOo4K5uWTNnCMs0k/v75ZygUnfD5aN41lLJMJo3Ceh6XLl/Gtm3q7ztUtrCufPE3ZMS6bMYUq3E7EGl9XflJ1rJ8g7S3+xYex1dkM1YGa/kient6cLuvWzbdFKVHrMmJUdzu64PD5YHbzeem7MSyLBStNXScfgc7d5X+0uXKjlimmcTtvj54DD9HZUMulwtbPD5809uLxflvZfNXpiyswYF+eAx+k253VtGJ7q5OTE9NyKavRElY01MTmJyakc2YDTgcDhSdHvT29CCTTsvmL63k77FG70dxp78fhs8ev+VjL8/psPDB+Yvw+Tb/k7mSHrEKloWJ8TGOiqh1C+jv60WhBLflK2lYw9EBrGZo3YiS/Y/T6cLswzkMRwdkU6mShjUUjaKmprz/k2Kl5fPXYnh4GPNzD2XTFypZWNNTE4BD61vzVA2PUYu7d+7IZi9UsrBmZ6b568MaWV5+hExm458SSxJWIv4Y8wsLshkjpC7UgPm5jZ84LUlYszNTMLz8SVA30egQMumN3V9702EVChZiMXtcMY+VVlbkMT52XzZ7pk2HlUmnsLjEYemopsbA8nJsQ+e1Nh2WaSbgcvGnQV0tLMaQSiVls//zb0dxchP3PBCcAAAAAElFTkSuQmCC"},212:function(e,t,a){e.exports=a.p+"static/media/gripp-logo.127a836d.svg"},213:function(e,t,a){e.exports=a.p+"static/media/driff-logo.cf17324f.svg"},216:function(e,t,a){e.exports=a.p+"static/media/active.31fee911.svg"},217:function(e,t,a){e.exports=a.p+"static/media/secundary.4f7f3ab6.svg"},257:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABkaSURBVHic7d3Nr213Xcfx7zn2Fou09N4YBAYkmmBpG8Nj5G9wQIo4Nk5wokBCNKZ/gIOGYEwAdSCJMQwNSOPAqSMTCCqGQHlINDKQtmq5fZDaS+lxcHt7n87Z37X3Xg/ftb6v1x+w1i/3JvfzvufsvdbJP378j88e+ewnYo2+/6OX4yOf+VY88/y1pY/Cwr73p78ev/TWe2e/79MPfnj2e3LT269+bfZ7PvP8tXjo01+f/b7086FfuT++8gePxgP33TP6tV964i/j9MoXvxTf+cMvjH7xOfzqO+6Lv/ujX1vkH34AmMrU4//SE1+M04gIEQAANcwx/hFxPQAiRAAALG2u8Y+4JQAiRAAALGXO8Y+4IwAiRAAAzG3u8Y84JwAiRAAAzGWJ8Y+4IAAiRAAATG2p8Y/YEQARIgAAprLk+EckARAhAgBgbEuPf8SAAIgQAQAwlgrjHzEwACJEAAAcq8r4R+wRABEiAAAOVWn8I/YMgAgRAAD7qjb+EQcEQIQIAIChKo5/xIEBECECACBTdfwjjgiACBEAABepPP4RRwZAhAgAgDtVH/+IEQIgQgQAwA1rGP+IkQIgQgQAwFrGP2LEAIgQAQD0tabxjxg5ACJEAAD9rG38IyYIgAgRAEAfaxz/iIkCIEIEALB9ax3/iAkDIEIEALBdax7/iIkDIEIEALA9ax//iBkCIEIEALAdWxj/iJkCIEIEALB+Wxn/iBkDIEIEALBeWxr/iJkDIEIEALA+Wxv/iAUCIEIEALAeWxz/iIUCIEIEAFDfVsc/YsEAiBABANS15fGPWDgAIkQAAPVsffwjCgRAhAgAoI4O4x9RJAAiRAAAy+sy/hGFAiBCBACwnE7jH1EsACJEAADz6zb+EQUDIEIEADCfjuMfUTQAIkQAANPrOv4RhQMgQgQAMJ3O4x9RPAAiRAAA4+s+/hErCIAIEQDAeIz/dasIgAgRAMDxjP9NqwmACBEAwOGM/+1WFQARIgCA/Rn/u60uACJEAADDGf/zrTIAIkQAADnjf7HVBkCECADgYsZ/t1UHQIQIAOBuxj93+trD7176DEcTAQDcYPxzlz70aJze9+XPhQhYlggAGIfxz1360KNx5Sufi9PL77wSImB5IgDgOMY/d2P8Tx54y/XPAIiAGkQAwGGMf+7SB2+Of8QtHwIUATWIAID9GP/cpQ8+Glf+9ub4R9zxLQARUIMIABjG+OfOG/+Ic74GKAJqEAEAuxn/3EXjH3HBcwBEQA0iAOB8xj+3a/wjdjwISATUIAIAbmf8c9n4RyRPAhQBNYgAgOuMf27I+EcMeBSwCKhBBADdGf/c0PGPGPguABFQgwgAujL+uX3GP2KPlwGJgBpEANCN8c/tO/4Re74NUATUIAKALox/7pDxjzjgdcAioAYRAGyd8c8dOv4RBwRAhAioQgQAW2X8c8eMf8SBARAhAqoQAcDWGP/cseMfcUQARIiAKkQAsBXGPzfG+EccGQARIqAKEQCsnfHPjTX+ESMEQIQIqEIEAGtl/HNjjn/ESAEQIQKqEAHA2hj/3NjjHzFiAESIgCpEALAWxj83xfhHjBwAESKgChEAVGf8c1ONf0TE6RNP/nD0i4qAGkQAUJXxz005/hGvB4AI2E0EAIzH+OemHv+I138FIAJyIgDgeMY/N8f4R9zyGQARkBMBAIcz/rm5xj/ijg8BioCcCADYn/HPzTn+Eed8C0AE5EQAwHDGP3fpA4/MOv4RF3wNUATkRABAzvjnLn3gkbjy1c/POv4RO54DIAJyIgDgYsY/t9T4RyQPAhIBOREAcDfjn1ty/CMGPAlQBOREAMBNxj+39PhHDHwUsAjIiQAA4z9EhfGP2ONdACIgJwKAzox/rsr4R+z5MiARkBMBQEfGP1dp/CMOeBugCMiJAKAT45+rNv4RB74OWATkRADQgfHPVRz/iAMDIEIEDCECgC0z/rmq4x9xRABEiIAhRACwRcY/V3n8I44MgAgRMIQIALbE+Oeqj3/ECAEQIQKGEAHAFhj/3KUPPBKXZ36xzyFGCYAIETCECADWzPjnboz/6VvvX/ooqdECIEIEDCECgDUy/rk1jX/EyAEQIQKGEAHAmhj/3NrGP2KCAIgQAUOIAGANjH9ujeMfMVEARIiAIUQAUJnxz611/CMmDIAIETCECAAqMv65NY//tVfPpg2ACBEwhAgAKjH+ubWP/+/8+VPTB0CECBhCBAAVGP/cFsb/77/53DwBECEChhABwJKMf24r4x8x8WcA7iQCciIAWILxz21p/CNmDoAIETCECADmZPxzl97/8KbGP2KBAIgQAUOIAGAOxj936f0Px+Wvfn5T4x+xUABEiIAhRAAwJeOf2+r4RywYABEiYAgRAEzB+Oe2PP4RCwdAhAgYQgQAYzL+ua2Pf0SBAIgQAUOIAGAMxj/XYfwjigRAhAgYQgQAxzD+uS7jH1EoACJEwBAiADiE8c91Gv+IYgEQIQKGEAHAPox/rtv4RxQMgAgRMIQIAIYw/rmO4x9RNAAiRMAQIgDYxfjnuo5/ROEAiBABQ4gA4DzGP9d5/COKB0CECBhCBAC3Mv657uMfsYIAiBABQ4gAIML4D2H8r1tFAESIgCFEAPRm/HPG/6bVBECECBhCBEBPxj9n/G+3qgCIEAFDiADoxfjnjP/dVhcAESJgCBEAPRj/nPE/3yoDIEIEDCECYNuMf874X2y1ARAhAoYQAbBNxj9n/HdbdQBEiIAhRABsi/HPGf/c6gMgQgQMIQJgG4x/zvgPs4kAiBABQ4gAWDfjnzP+w20mACJEwBAiANbJ+OeM/342FQARImAIEQDrYvxzxn9/mwuACBEwhAiAdTD+uUvve4/xP8AmAyBCBAwhAqA245+79L73xOUnv2D8D7DZAIgQAUOIAKjJ+OeM/3E2HQARImCILUTAm+/9uaWPAqMx/jnjf7zNB0CECBhi7RFw/30CgG0w/jnjP44WARAhAoZYcwTAFhj/nPEfT5sAiBABQ4gAWIbxzxn/cbUKgAgRMIQIgHkZ/5zxH1+7AIgQAUOIAJiH8c9d/56/8R9bywCIEAFDiACYlvHPvTH+Dxr/sbUNgAgRMIQIgGkY/5zxn1brAIgQAUOIABiX8c8Z/+m1D4AIETCECIBxGP+c8Z+HAHidCMiJADiO8c8Z//kIgFuIgJwIgMMY/5zxn5cAuIMIyIkA2I/xzxn/+QmAc4iAnAiAYYx/zvgvQwBcQATkRADsZvxzxn85AmAHEZATAXA+458z/ssSAAkRkBMBcDvjnzP+yxMAA4iAnAiA64x/zvjXIAAGEgE5EUB3xj9n/OsQAHsQATkRQFfGP2f8axEAexIBORFAN8Y/Z/zrEQAHEAE5EUAXxj9n/GsSAAcSATkRwNYZ/9yl9z5k/IsSAEcQATkRwFYZ/9yl9z4Ul5/8M+NflAA4kgjIiQC2xvjnjH99AmAEIiAnAtiKt953j/FPGP91EAAjEQE5EcAW/Py9p8Z/B+O/HgJgRCIgJwLgbsZ/ed3GP0IAjE4E5EQA3GT8l9dx/CMEwCREQE4EgPGvoOv4RwiAyYiAnAigM+O/vM7jHyEAJiUCciKAjoz/8rqPf4QAmJwIyIkAOjH+yzP+1wmAGYiAnAigA+O/PON/kwCYiQjIiQC2zPgvz/jfTgDMSATkRABbZPyXZ/zvJgBmJgJyIoAtMf7LM/7nEwALEAE5EcAWGP/lGf+LCYCFiICcCGDNjP/yjP9uAmBBIiAnAlgj4788458TAAsTATkRwJoY/+UZ/2EEQAEiICcCWAPjvzzjP5wAKEIE5EQAlRn/5Rn//QiAQkRATgRQkfFfnvHfnwAoRgTkRACVGP/lGf/DCICCREBOBFCB8V+e8T+cAChKBOREAEsy/ssz/scRAIWJgJwIYAnGf3nG/3gn3/uPZ8+WPgS7ve2Be+PkZPzrvvKTV+KFH10d/8IL+MVfflucnE7wh5R4+sEPz35Pbnr71a/Nf9Ozs3jt2W2MzsmD98fJm+5d+hgHufbqWfz4f3+69DFW7eTq1asCAA4kAJa1SADARvgVAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaOjku/HQ2dKHAADm5ScAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDJ1evXj1b+hCwVk8/+OGlj9Da269+bekjwGr5CQAANCQAAKAhAQAADQkAAGhIAABAQwIAABoSAADQkAAAgIYEAAA0JAAAoCEBAAANCQAAaEgAAEBDAgAAGhIAANCQAACAhgQAADQkAACgIQEAAA0JAABoSAAAQEMCAAAaEgAA0JAAAICGBAAANCQAAKAhAQAADQkAAGjonmeev7b0GVbt8i9cinvvOVn6GAc5e+VanF19celjjOL0bVciTtb598C6nL12Fv/9788ufYxRPPCOB+NNb37T6Nc9O4t49gXbUt09D33660ufYbV+431X4q9/7+Glj3GQ166+GD9+7Pfjp//6vaWPcrS3PP7xeMvjv7v0MWji5PQk/usv/iaufPFLSx/laP/z8Lvjvi9/Li6/88qo1z05ifirf3g6nnjyh6Nel3H5FcCBboz/Gv/3b/zhOI989hPx3Md/e+ljHO30qR/Ey7/1qfjxfz43+rUff+xd8fhj7xr9uoxHABzA+Ndg/FmSCMiJgNoEwJ6Mfw3GnwpEQE4E1CUA9mD8azD+VCICciKgJgEwkPGvwfhTkQjIiYB6BMAAxr8G409lIiAnAmoRAAnjX4PxZw1EQE4E1CEAdjD+NRh/1kQE5ERADQLgAsa/BuPPGomAnAhYngA4h/GvwfizZiIgJwKWJQDuYPxrMP5sgQjIiYDlCIBbGP8ajD9bIgJyImAZAuB1xr8G488WiYCcCJifAAjjX4XxZ8tEQE4EzKt9ABj/Gow/HYiAnAiYT+sAMP41GH86EQE5ETCPtgFg/Gsw/nQkAnIiYHotA8D412D86UwE5ETAtNoFgPGvwfiDCBhCBEynVQAY/xqMP9wkAnIiYBptAsD412D84W4iICcCxtciAIx/DVON/wsvvxr/d+210a8LcxIBOREwrs0HgPGvYcrx/9iffDuef/nV0a8NcxMBOREwnk0HgPGvYerx/8a/vTj6tWEpIiAnAsax2QAw/jUYf9ifCMiJgONtMgBWP/4f/YTx38H404EIyImA42wuADYx/t/87tJHOZrxh+OJgJwIONymAsD412D8YTwiICcCDrOZADD+NRh/GJ8IyImA/W0iAIx/DcYfpiMCciJgP6sPAONfg/GH6YmAnAgYbtUBYPxrMP4wHxGQEwHDrDYAjH8Nxh/mJwJyIiC3ygAw/jUYf1iOCMiJgN1WFwDGvwbjD8sTATkRcLFVBYDxr8H4Qx0iICcCzreaADD+NRh/qEcE5ETA3VYRAMa/BuMPdYmAnAi4XfkAMP41GH+oTwTkRMBNpQPA+Ndg/GE9REBOBFxXNgCMfw3GH9ZHBOREQNEAMP41GH9YLxGQ6x4B5QJg1eP/vPHPGH+YjwjIdY6AUgGw+vF/zPjvYvxhfiIg1zUCygSA8a/B+MP2iIBcxwgoEQDGvwbjD9slAnLdImDxADD+NRh/GObFl38W3//Ry0sf4yAiINcpAhYNAONfg/GH4X5y7Wfxkc98SwQsTAQcb7EAMP41GH/Y3zPPXxMBBYiA4ywSAMa/BuMPhxMBNYiAw80eAKsf/49+0vjvYPzpRATUIAIOM2sAbGL8/+WppY9yNOMP4xEBNYiA/c0WAMa/BuMP4xMBNYiA/cwSAMa/BuMP0xEBNYiA4SYPAONfg/GH6YmAGkTAMJMGgPGvwfjDfERADSIgN1kAGP8ajD/MTwTUIAJ2myQAjH8Nxh+WIwJqEAEXGz0AjH8Nxh+WJwJqEAHnGzUAjH8Nxh/qEAE1iIC7jRYAxr8G4w/1iIAaRMDtRgkA41+D8Ye6REANIuCmowPA+Ndg/KE+EVCDCLjuqAAw/jUYf1gPEVCDCDgiAIx/DcYf1kcE1NA9Ag4KAONfg/GH9RIBNXSOgL0DwPjXYPxh/URADV0jYK8AMP41GH/YDhFQQ8cIGBwAxr8G4w/bIwJq6BYBgwLA+Ndg/GG7REANnSIgDQDjX4Pxh+0TATV0iYCdAWD8azD+0IcIqKFDBFwYAMa/BuMP/YiAGrYeAecGgPGvwfhDXyKghi1HwF0BYPxrMP6ACKhhqxFwWwCsfvx/81PGfwfjD+sjAmrYYgS8EQCbGP9//s7SRzma8QfuJAJq2FoEnEYY/yqMP3AREVDDliLg1PjXYPyBjAioYSsRcGr8l2f8gaFEQA1biIBT478s4w/sSwTUsPYI2Pt1wEsz/jnjD9snAmpYcwSsKgCMf874Qx8ioIa1RsBqAsD454w/9CMCalhjBKwiAIx/zvhDXyKghrVFQPkAMP454w+IgBrWFAGlA+DshZeMf8L4AzeIgBrWEgFlA+DshZfiuY9+0vjvYPyBO4mAGtYQASUDwPjnjD9wERFQQ/UIKBcAxj9n/IGMCKihcgSUCgDjnzP+wFAioIaqEVAmAIx/zvgD+xIBNVSMgBIBYPxzxh84lAiooVoELB4Axj9n/IFjiYAaKkXAogFg/HPGHxiLCKihSgQsFgDGP2f8gbGJgBoqRMAiAWD8c8YfmIoIqGHpCJg9AIx/zvgDUxMBNSwZAbMGgPHPGX9gLiKghqUiYLYAOHvhpXjOi312Mv7A3ERADUtEwCwB8Mb4/9O357jdpIw/sDUioIa5I2DyADD+OeMPLE0E1DBnBEwaAMY/Z/yBKkRADXNFwGQBYPxzxh+oRgTUMEcETBIAxj9n/IGqREANU0fA6AFg/HPGH6hOBNQwZQSMGgDGP2f8gbUQATVMFQGjBYDxzxl/YG1EQA1TRMAoAWD8c8YfWCsRUMPYEXB0ABj/nPEH1k4E1DBmBBwVAMY/Z/yBrRABNYwVAQcHgPHPGX9ga0RADWNEwEEBYPxzxh/YKhFQw7ERsHcAGP+c8Qe2TgTUcEwE7BUAxj9n/IEuREANh0bA4AAw/jnjD3QjAmo4JAIGBYDxzxl/oCsRUMO+EZAGgPHPGX+gOxFQwz4RsDMAjH/O+ANcJwJqGBoBFwaA8c8Zf4DbiYAahkTAuQFg/HPGH+B8IqCGLALuCgDjnzP+ALuJgBp2RcBtAWD8c8YfYBgRUMNFEfBGABj/nPEH2I8IqOG8CDiNeH38P2b8dzH+AIcRATXcGQGnb4z/N4z/RYw/wHFEQA23RsCp8d/N+AOMQwTUcCMCTo3/xYw/wLhEQA2nT/1g/9cBV2P8AdZFBNSw6gAw/gDrJAKWt9oAMP4A6yYClrXKADD+ANsgApazugAw/gDbIgKWsaoAMP4A2yQC5reaADD+ANsmAua1igAw/gA9iID5lA8A4w/QiwiYR+kAMP4APYmA6ZUNAOMP0JsImFbJADD+AESIgCmVCwDjD8CtRMA0SgWA8QfgPCJgfGUCwPgDsIsIGFeJADD+AAwhAsazeAAYfwD2IQLGsWgAGH8ADiECjrdYABh/AI4hAo6zSAAYfwDGIAION3sAGH8AxiQCDjNrABh/AKYgAvY3WwAYfwCmJAL2M0sAGH8A5iAChps8AIw/AHMSAcNMGgDGH4AliIDcZAFg/AFYkgjYbZIAMP4AVCACLjZ6ABh/ACoRAecbNQCMPwAViYC7jRYAxh+AykTA7UYJAOMPwBqIgJuODgDjD8CaiIDrjgoA4w/AGomAIwLA+AOwZt0j4KAAMP4AbEHnCNg7AIw/AFvSNQL2CgDjD8AWdYyAwQFg/AHYsm4RMCgAjD8AHXSKgDQAjD8AnXSJgJ0BYPwB6KhDBFwYAMYfgM62HgHnBoDxB4BtR8BdAWD8AeCmrUbAbQFg/AHgbluMgDcCwPgDwMW2FgGnEcYfAIbYUgScGn8AGG4rEfD/e+n9oFIHAacAAAAASUVORK5CYII="},258:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAiESURBVHic7dkxEcJQAAXBhIkLBj/UkYAqagQgBAWIoIiD4OL/4nYVvPJm3vpabucCAKRcZg8AAMYTAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAjarvt99gYAYLD1OI5z9ggAYCwXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAEbY/nd/YGAGCw7f35zd4AAAzmAgCAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAoD+jxw59wgOPLQAAAABJRU5ErkJggg=="},272:function(e,t,a){e.exports=a.p+"static/media/active.bd6fafbb.svg"},273:function(e,t,a){e.exports=a.p+"static/media/driff_logo.5de4243a.svg"},300:function(e,t,a){e.exports=a(616)},431:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAylJREFUaAXtmUty2zAMhpMufZTkGl00l4ici1XpneIu2smikzNk7X6gBBYiQZmR6FrtGDMUKAD88TBEPXxzU0PH43HHOE5sM4FordDOw0oEh9QoKPSQrVCFy11rhO+ZNcK7TKgCF6ZKqUbKQXrVeZFj9KIulWfGKELB4feZsiQQNGiSvghK9lGOjXq7q1oQV559QjiP1U4kdqF0wadUIOej4TdPN5Fh2I3GE7l7IoZCrjIVYvfLM/ZkcS3Kp9QgPY/GdiJGUC8ymVidzG9TgZxbw1vI2rhlHY2erOF/OKcuB6mNULP0wOoEcKR3naxyAIhe3IoXtxQEbyJc5IB1YSMTAOh5EUi6CKAvAW44TPay1FbOMXtgvHm6oowF3wf8cPxaNBwcBKM5m6KOlWnts/uQBlIEqVUAtFcweCydympxquwAjf1/FgcaBeCxhCq78r9fAX6Hn4zPzT0DGh464IGaOgCxH2D/HJs5ADJu0czjxbfaAWCTknC+E1B4oFUOQOgHmHA8WLBR/rHdNAGwJWn3FEBkbkms88VzwPsxdWGTkiwG1YUA2pLsVV7i2Ms9+aGkz+QYK71kSkegxo7KF7HgXheNPLSjb72iTQG3peqaOxBAnDybbNySqb4UwEk5ALMlW+1AIwDILVkzB+IIMFuycH00dTA6Sa/w4EMzbcZBtSVb9vB7KhpTsh+nbK/6awX+qQrQ3DtGz7C0/UYn2o4xufxtBpv8FQhQNkb7rm1jnsw3kwBReS2iwR6YhK8QKlB+8QQIpGN4LSKy7IkW2YQukgARzLWI3LyLT2zowhcU+MeeO9dmKkExeoZHsUXW+mm+nmg7RnWLNA9gCSABL26RJf6ariH48KEcbqlZiwAavoOO4Mvff0tZAywXWallim86JbxUPgYeWapvdo4HuWjt60B0ykRuUtkXzhrnFkTmNWtW2+BH3tKkjTzqERa3zdR5CpDqz35OAPK/0OIWu3gCWiECmWsx+bXcFttMApqIcIKqbrFNJpAksyfIYottPgFNhkDnWizmofab5kQrd3Z3F9t04F5wJPLIkL8aXhnt/27wnF5lZ6jAb5EVJTnDQksDAAAAAElFTkSuQmCC"},432:function(e,t,a){e.exports=a.p+"static/media/active.cbaeb23f.svg"},433:function(e,t,a){e.exports=a.p+"static/media/inactive.9db7215d.svg"},434:function(e,t,a){e.exports=a.p+"static/media/active.b22bf3a2.svg"},435:function(e,t,a){e.exports=a.p+"static/media/inactive.a77c2a87.svg"},436:function(e,t,a){e.exports=a.p+"static/media/inactive.07223cf3.svg"},437:function(e,t,a){e.exports=a.p+"static/media/department.fc475178.svg"},438:function(e,t,a){e.exports=a.p+"static/media/requests-active.45b2f4f7.svg"},439:function(e,t,a){e.exports=a.p+"static/media/task-menu-secundary.7365c9ec.svg"},440:function(e,t,a){e.exports=a.p+"static/media/inactive.8084315e.svg"},441:function(e,t,a){e.exports=a.p+"static/media/logo.d0b06377.svg"},442:function(e,t,a){e.exports=a.p+"static/media/inactive.dc54ddc8.svg"},443:function(e,t,a){e.exports=a.p+"static/media/inactive.c6daa980.svg"},444:function(e,t,a){e.exports=a.p+"static/media/active.e0f8fbcf.svg"},445:function(e,t,a){e.exports=a.p+"static/media/inactive.bc75fa82.svg"},446:function(e,t,a){e.exports=a.p+"static/media/active.ee83a5a4.svg"},447:function(e,t,a){e.exports=a.p+"static/media/poll_l_active.ae1e22d9.svg"},448:function(e,t,a){e.exports=a.p+"static/media/inactive.8fffcb8d.svg"},449:function(e,t,a){e.exports=a.p+"static/media/inactive.fc04f109.svg"},450:function(e,t,a){e.exports=a.p+"static/media/secundary.0c1a3d93.svg"},451:function(e,t,a){e.exports=a.p+"static/media/inactive.5a464073.svg"},452:function(e,t,a){e.exports=a.p+"static/media/inactive.0d732f3e.svg"},453:function(e,t,a){e.exports=a.p+"static/media/closed-eye.d4d23ef8.svg"},454:function(e,t,a){e.exports=a.p+"static/media/open-eye.7668c668.svg"},455:function(e,t,a){e.exports=a.p+"static/media/edit-secundary.ef3aadbb.svg"},456:function(e,t,a){e.exports=a.p+"static/media/secundary.1419358c.svg"},457:function(e,t,a){e.exports=a.p+"static/media/active.bddfba8b.svg"},458:function(e,t,a){e.exports=a.p+"static/media/active.eab6983d.svg"},459:function(e,t,a){e.exports=a.p+"static/media/active.d4880dcd.svg"},460:function(e,t,a){e.exports=a.p+"static/media/tail-spin.7258e2eb.svg"},461:function(e,t,a){e.exports=a.p+"static/media/quarternary.cd84b124.svg"},462:function(e,t,a){e.exports=a.p+"static/media/chat-icon-active.bdb463e4.svg"},463:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABECAYAAAA1DeP1AAAAAXNSR0IArs4c6QAACp5JREFUeAHtXN2rHVcVn5mEID4INUnxNvhJS/JHKAh58TGCLTSaW4ooIqUiFW7x4RAOiBQs+FGhrz2pEVIFQRBE8iwIPqoJamsIckOSIhQRLffM9Pex1syc3DuTJiCcuae7Tvaevdfnb6+99p6Zcy2KD4oQKMdwuPLklWO337wxr5t6uymKLVxFUZol2w3v8T/et32iw/3KWIl7UpC+LGpSa3yIn/QUFLJBa/nouJefNGEDx0hX676RDdTFe9ZJtyyL3bJsFiePPTq7+MZT7x4Fz2C59be35hjcSQPKUOJ7GwrRIOkbaXHsvXeM/LWGG9h7EL/7LM/c6ZhAkX5LZj+LbenAykmR0xoHCKCiXspQba6tJXzb3btNMS9W/HewlMW2FMoAO8tZzktGCnlICBoqkrM0tHeF+aZLGQLQcs1vhzxzdDQuykGx09Zv3WETBykTVd00xRItOQ02RQZqjVFG9DliRL9N9tGIgMytRFi1BEKklFJ0iWZFtVLAfquksWF49CQPuSzTctzvPg2049GXchIMCqjsNOWQh7pY5GS/lmWeGNvTjwzbjP4t8o4CkQptPLSFQjtsRwlC60y2xQDpMUsylLzpTNboEj+dIQ9yiKINTdGCh93iz77g4K3G2EBZDf+QAz3u573lkKeNhp6sUSBaRekQOwIMNvvG2mn1FiVmjAaQNulY21kydv330kg+9ZFBNeU4AgQa2n0eytJSok4wSQ9o1Jdjca/xsEnj0U8Z9wUijaDyTJYv/OE7uJte+fq5VxoDEMsFsCmfwZX7JcuYUVAKPYfX9CCwxRkxWedy4eh4RMB5xqEDjs1em9wTKw2mPZcMQcjlQTfGgSAFGLDrR91CwpHJFTrurb1ot1gf8u4DRD8/JBjME1MtTKSc09w1FBXKyvfJEcmYS0IZ2VljklgQAEZE5gi29RiAenRpEACW3Mp0P92A0FlCQNAngYKpDR9HgWBGcFSAS4mS+WK6JXNEgpA1PRoFgs7n2cGATBcEWk7H6ce9NcdGgRCTWDMiECERSmSeWmFuWEmU8E27CBwZBcIR4QTT30anBkDaKxAYFbiWPI7jXJFLfRSIJMraeaK9S/mTqRnNzhMdCLxnGQcCyCkqUGUI8X6qpebTLYzXBTdyB6E/o0CQIBnzkZx9Uy2c/RYELg2AwYtlHAg82q4URAMFTbbE0qDzjAb6kpE++vTJY7UcDwCM52RhwPOFY0JRQSDeb0TI8YwC1N45pgtEJks+aCkiFBmO8fGIqMpdoRfIsY0D1u5UoVA8hPOc5H5EjAKB1zYLb5leT2qzb6KlzQ0EA5fOEuHLaLJ84uRjs7/eucV3qnqtjwPI4vTxj80mioMyRD9JOiK8NEaBeApfgOD0i3FN1f/WbkaBI1wLA0ujRAJ1GQWilXBIGpz73Df8zOE8QffGc8QhASDdyORoEAIURgnKRgHB/NC9nUI05PcX9G/W0shnDURBt0wYDxsGhD8Od1/hvIO8j13DWB2ef+my9gtERB6u8kXTRuUI5YQWBEaGAeFUb1SOaKOAkdHLEwRioyKi3TUiKpQj+DCJoojgb6X+8vatOU5d+K1Uid9KYTXxqZOXyIygT2XoCDS15kTXW3M4kNdlfb0pj8x/+Otv/DzYD6yePffjpxGuM8g5XeP0r/2dRuqlCfVbbvtmCbpyVlnroi268IBYlotHHj81e+OiTsT7dFoe8wTlhs1BpYgIEHZq/EJGjvcBCFBIr0SjOgDCPpzGZg2j8V95ZtksLz9/7tWzoWdf9dUvvXIWIFyGzDMEIUHXLMX+TgDsOACAs3yfoL58jJZ+r3XI2YLOnbffvDnfpyw6WhAJMGRwPdBuFi8NRQLuAoAVMNpZAAfajAZFhPoDVfRlmOVMCZh67wKVHFTqZXOBwLaOEmbIaftgWQsKIwRCCJb60CYwK7o0XhR7NR4QB0pOlmRRhi5566XBSLBzNAQlHG7b0UdzPHOsbRhpWqSzDWFWSsaDy5KzgaE0pgPB/a1c0khXX0/qTxm+t6xav4k6SGtnJyMLFPBTPqIZEeFODuTXbhEEIdtQ1TIaDDy59V6A0ogEJ0O6qopL6D6wQM+lNMx85IdhjAQYmb+M6wDqnE36Pn+CRf6h0kYU9eCiDgECBrHlu0k6a4dgSYCQS4H3/dlLQ91nEGgY7inuGn5Hdf6nv3ru6pBRr/3iuauA/TyIr5GHvDIMNR21PtuTTlp+AhJj0knLHTG0Z6iIn/kF8tn2BJva54hQrC60TVIW3/vtNznyfyuv//J57iqjO8uY8s9/5WUACJdos+x2PcTDSHU0BwjgIfgsAYRn21HQLYEhgevSr1llpMIht10P2UewSJd8hEPRl0DkjXCCYAIyhaItELbKIRgsB0cM11KAa669tNJ35wi+mU4AQjDkrf/b6rLa7ecVOoXQH7R7NXK8jAgeS+bYhYSgw+HCcCsXoljjf2q8TKbdclCHLFg/8pY9EzvpxUdv0WZRjjj6kROzvX/fxW2FIzaIIOxDH/7ojATrXE596uOzG/+4AXfKbe0WVbn4zCc+OfvjgNHODQCO2z5Pr3A2IyLwGOA8ZN2Pf+37jSOBAAACpgEgcPPV75beNQ6Zw0Pu5HJg9BAEbadBnDliiPdQ9efS4LdPgsI0kEtjoyLCyZIgIBoiUbLNslFA8DlEmwEjIqKBNctmLQ3sFo4KLwklS+PgiLiIN1Tv/Pfu3NsQMML2+cixE/rrt6Bby+rJi1eO/fnmW3Os+W0nwnJx9NSnZ38aeUOl3NDLD46NWBrv/OfuHBl0h+tGmbQpdu68679+W0sEwqhrN29g8mB3zDQA2fnfP//OUX643lcwxfy9B95kMU9w59DuoZOolgbWjhDlgB+89FS2vU/SmnXslUtHQusUQp5/mThQ6iPFQhMd9E6YzYLkSpZAaIsgKCLYK8Jy8E0PSdahcHZxOQGiDvsH7T5+8onZ7TvX4R9P0OAsi8Vjx0/P/gVeAdGGCYUGIFSw7kW2clm0M2z7h+yO3LHyew+CwNIC0b1x8vphdl334tDuTV5M4sPYLSAkENx9wYyIZ7/4E3yj4JajQHK0ZMT0DiUEjac112hUxfVl1cx/8/q3R98+ffaZHzyNnWqGZHeaXzWos5vdbkL6dlFH3rvuDkfZD5IHLkqWKUBLBCKchb2DpLLV74arxpDGINCRptyr6zP1sr78hS//aPC7xueeefls0zSX8Qf48V2DvN3s2uFOj5dsd592WTdtDV7UD1MMBGeZlxzyTCQoeRzttigrTMNEl0b0+C1vOfxdo2kuyNlWd08/POnk8g1UB0DXT5tXbc1oeWggEMq7LcKtYV1EaLYBmYHC1hoJKoFLEGUkzGYtHtRDBS9V5Ij1WrZBZ7/vLd9ftzgmvRDofMYlkXxdjaU2+IZqyBb2KyIQ9n7Ts+KEFeUMpMG610uNnA0/07Nfr83CCX0GaI4MftcAWpc40yk/I4/3qctg9h1OnZwMUpF/VT9PxXTsQYuAOFU9Oiuq5iUYgQ+pNs6z4bXvdq8/TmaZSJPWvBUmpbiGsfO/+9m3Br9r/P61F64WVYXvGqCFaMpI3axztlN2BwptAi0nQwk6bcT/MUZVvnQCZ4UHBeED+h4C7wH7aeACmWuKggAAAABJRU5ErkJggg=="},464:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABECAYAAAA85kOPAAAAAXNSR0IArs4c6QAADFhJREFUeAHtnGtsHUcVx2fX13FS+rQT59EU20mEkErEJ74glKa0inSjNq5bpaiAUHiUPK+TEiFIX1xogZZHW+rGqdMETBLRUueBBMqVSlGaIPEFtRJCahEi2E1SHPJsQlPq2neX///Mnt299vX1dZ6Dkk03s4+ZuXN+8z9nZncnNebKJgTy+dBPo/DSJ5fbcS63u27wYO/3gjBcbnwThMZsvjHTuC7fc++HmcsNhtr7wOKXJ31wYP9vAmMWhJ4HKqHBn28cGDrMLGudUkwYht5jt3U8FBpvTegZz/hed31m1oPthYUDatD5SFcsXn91MBj+FgqZHxAHKg1Agsf4zVPNc1fVOwXmsc8+95NiGKw16EHubHDoe4XJmZa28wUn94Vt1w6dOVXA73xa6o+AEAw6g4BOb93Rfl1JwDkfvXEudaBhSzw/AsKGChqTPVbs3fVsdnfdudTNsss/33kDoLwqUAg+ggL4thOQBzLtYl6nwMDPGxgBVS2QtYF7YTfZo8W+c4Kz9r6uyeF7wR64y6cIhNDFjRhfeMZrXvi7WX7jw86BIRPrRjxg49HayK3Q+Oy/g7fPCg5iyrT3zwy9BuM/aYMsIdidUBCAeb5zUsPEuzki8bedUowoRXoTLRMghMMdiHhOOAZwMMzipKotd/cLM8PBcG/ghTerMhhPiqw1ggNXenH23Lmf27hx6aBW6hQYqxg0DRAsEOlJGEC5R8fGZP+1vzo4a+7a0Dw09ME+uOfHRBkRiBiQrbN7zidWfTGfv3VIoTB1Cgw9R4HwWDZRCo54rsDCMPvOGHDgPnMGwmBf4HktUIuog3UIYFTF38Fx15btua/k8x4vl2xOgRHFoPUKh0qhMXI9gqK9DVfIHugtr5xV93R9PPjQ7AtMcBPdRdUiKWqTa174s20725fBRe3PlmBxTjEEkd4jBUVw4pjAc+wwNPvPPoxWqZizqrVrbrE4tBfmT1coadC8Bj95ctuO1WuGsSg5ZTZntkcWrMfInFIIW2dVgwmZyWI4VSBI7TBrY49XMM3NbcE7B28uFgd/j5GnXqCgPFPWaZWGI9//Ltwnj0sVN+dcyboP3ClSDo2aNrupDS5VIAS7l8w9kDfMBgd6XwmKg39AfoEiyiiBgsKev64aKCTmFhhRSNLL2tPtHQsHbiQcPB7YnldAUJDAksnaPNy7XhSCeixAncShTt88sGVH7gkaXc3mFBhGWhoauY91A8LCRjgfbWlqC30/hkNV2V1dJUktILmPR1Nv+dbt7c/Ymqr72y0wKfehMuyeGEI4s5oBx/MK1IrcR9xhSqCcKROIloWLBYFvvrp1R+75pJbqjpwCIwby2QjGJT1eagjhSKAFnAQAYg7KFIFEpvxReSjva9u2535RWkN1Z06BoQvxSdcanPT8cFM6AKemqaXNg1tpjIlhwiKNL5jKLs7lnq368SH9O06BETegYthC9joSXiu3EU7mphbEHI5WSZDVh0SBHAbZo/1m19nAcQoMe1oUAxh0DXGtUcAQFuFMnDkbQzndyiolVpzGHgzlhw8H44bjFBgNqKIcqIDv7Qmn0kY4HyGcaCgXmFIugmwVmO0/Mj44ToERo0BBXEgVUIlKdI9wrp0xOxqttHziXgRdxIPnoaPVw3EKjHWjUoPoItVshFM/w7ThabrAdy10RVWeuiTh9FUJxykw6aHWqscO3dWAYZ6OjvaBKdNNm+fpaGXhWEDWLfEKIrv/aHFXdozRyikwiQE0iMO2NaxaMAqncZpBzDEyCYzr5AOovPSmmoJscKIynAoxfzzNOT95c3c8F4o7RZO82B3ic4ZndRGm1mX4Al0CteZDLgGi7qTXea732GS4XaY+01aA0oZb4JhiMMGLDKdhPE67l6gI1+3QTOM1PwBFxks5AWLvDb+uw7qkcKsPTg7+YDgUnjsGJooDQMIYo0HTukNkPGHhHhUiQZbHBCQwtLymvEdl8Ry7KkfKyEgFtwqX4NaIzSkwcJ1+NURStM4alRgY34cpoiim0WQuDZL55LtUBCUuJ6AIMqqTX63KbG6BMeEWCyLpYTXWpomKeJ7cI5wkWOs9DM+pPBZEugyPAa/s6winwEyf0PgoVPMkHFyUk+5xjQ0WnDVSnqfUTSL3YD55ThLFJIpLytuHVPzGca/G++ne7rXfLyOYK5euEBgnAQou3rg+5fHb1v8YQl2CCN4gkuTd1GqA+BpLRsOllbQdHpmdH7go3UT2+o4FPi2xAPd9r9/44ZapmcZH9Xsxy7qy1aQbUvvHhocB5CE0/ipZjiHGIweMSXaew2gWlOs2UMoxLkng430BYOEwrx0V7LDKiRvyXQN4nzkdvj/hjb/tfpXVubSVBN8AK5looBgC69V4OeccAC3XXaHwnB/cmcpMNVYX8+MPAVkQ9jz6WwMrcnzJJSDalpI1eOhFmMD/rKFqMI3jZdl4zA0JYWje2G1wUY45T8BtnVRZBREU1cKykbsZM53VuLaVKAbGdovBNDoynGkpBGswDVVj6T72j0KxxotSGG8EBnJoiiql/ujcNShsTwmY+glzHsSlQjwXjJSTVoZ1IUCJMimg2FAJvBaCXCME/gGEOCWQlGu6CAZNLN241u0YlnWFeJFMqdCg2F2Y1bpVYdqcpjb5lFFavOLZ/a0dGPeoJgtKlbR15+oR7ahY0UW4WaIY/h5XR06uabYve8pDgVnVL95J2yBQCAa7uqGoMZ3JkeMRYNiuGI7BKgJsaVdib0c9Per6FJYptzHoxmoR1dg4VS7vpb5WFgwbRThToBx89iww+OpOSNyjkSXb21d+8Q6yjNhsnNHyjDhUj2AfkfdSXxgVDBtGOFP9Jnzx47di7W07ixW3QAANEIu4eIfr8scyZrhaRH1xpB+r9MW9XxEMmyJwsAQDIArS4xIfGCOiHXm47Cvs6x0TTlxGykYjFdXo4DYmGLaZo88MwMHzTbwEQ3ob92isHOM14dDbleEMjzGqIAe5lM5jKjWQcLg+BVP5ku82qgKFM3Bw/6jK0bdmnMNIjIpUV+l3L9W9qhSjjSOcJqxPwaNCHHMS5dg5DwzOnjlUHk6sGD5PidJsENf6XUrHBYYNJxwsxulJlJJyJw7lHIYB53QZOAqDgdyWt/ldAqJtGT+Y1s4vYyTapPFBDZRUDNZRK8ye6qdykvUpWsa+3SecaGatrXEoHReY9kWdy/BxazNcwrcuRHVwyIaRMEqn+BYWP08E2eOp9Sl6nWlS3iEaqaZUDSZ3Z+caGLoBi7ns+nJ9umYARS2cqIkTxUbb+IFr2SP9dpWBjTEWijyxM+//4wRPAa5u3fBtjChPl+1xAWHexWpKrNu3RouLEBPOo5UHsj5FRyWrGM2rv+JWOqZi2hdt+A6U8kOND/Z1AY1GfIAtODoRZGpuv2bGrAUAUyAcApCU9+UcELAEQ9xNXzfwOu6zPhe3imBWt3Y+UQyL+RhK2lAi8b0jQcab/8ueFa9zfcoNM+bYZV8p420sISD7ilPUEinJQsOJg9uoYNoXrX+mGITfElWg7XGwVKPwUcyv9eZ39+T+qnbJ4h2sT8F6/WTBIG6KMvB3Ati6mc5rtLxL6Qgw/ISC0QdB1qyWgIocNEAEz17nsecd9Gr8eZt+vfKt4cbI4h2sTwlrIrfCZM4GZuSU8haKjTP2eHgdLpyXgOE/419zV+fPMU9ZJr2LFmpvx4YY01tXl5m3uWflP0YzgHCmN/r2wXOYUrReVQ/rdXGLweTzezLH3+jchn/+ssT6PpVhXUhSGuB5f/f9ifOef2l531jGEM5MwGFAFrgon66X12z9Y9V0ae4LmK6vd9WefP2tl9DY+9iTdk+gyJzDmDfrMt4tm3bef6japhJO05SaNlOTijkpd9Lfqra+i5nPzy9+ecKbh4s7sQ7/HpE3fl2G4qiHJUB65i+ZiRNu6exZKf/jg/E0kHBaGnw7WlGBusvv4C+sOhhPfRcrr39y4NjjmKfcITKPGqs9Kakf/rluYs2tG19ceuxsG0U4pgHK4QpuDuWEI8pEjT6+ZTm4+WjmUpljoHHa4BiS7//p6kn1t2/41YqT59p2LgCswUJAgHgKbE5QKRjZHtnTvfab51r3hSjvrWxd/y568TqBkepJuNBrk2r9O+E+712IH3a9Tt944WZVii7NQrB95fraqQsvVyjsNH9KbeM6gHkKs9VTcKn/4NXlj66aOXvR0z33/tf1Xr2Q7fsf/xe+9igIS1UAAAAASUVORK5CYII="},465:function(e,t,a){e.exports=a.p+"static/media/secundary.d29a5c71.svg"},466:function(e,t,a){e.exports=a.p+"static/media/secundary.af28936c.svg"},467:function(e,t,a){e.exports=a.p+"static/media/secundary.ae061e44.svg"},468:function(e,t,a){e.exports=a.p+"static/media/secundary.25601864.svg"},469:function(e,t,a){e.exports=a.p+"static/media/secundary.c178f518.svg"},470:function(e,t,a){e.exports=a.p+"static/media/send-secundary.7055e754.svg"},471:function(e,t,a){e.exports=a.p+"static/media/google-logo.8084f354.svg"},472:function(e,t,a){e.exports=a.p+"static/media/download_r_secundary.8f8976be.svg"},473:function(e,t,a){e.exports=a.p+"static/media/secundary.a5f0bb1d.svg"},474:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABzCAYAAADdVU0oAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAACIuSURBVHhe7Z0HYFRV9sa/9N4TUmgJEghVYAVRERHsyIooiq7giuuq64ruWhYWVl3ssrpiWQtiW8EOYm8rCirSFaRJJ6EE0nuf//nO5CYvI2SNJv81zv2Fx9x5c999k5nz3XPOvfe9+LgEWCyWw+Jb/2ixWA6DFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjF0gx2qUkLqaur00cfHx+Yj45lwuembPDc53z+Q8pOPOsQPj9cXUvrYAXSAvhRUSBO43SWCZ//kDIxxx9p/+HKxHkM8fX1bfLc0nrYEKuFeBouH03ZabhHKlNgzmM863A7kpdi2dQzZUvbYj1IC+BHVVtb22CgfCROo6+oqEBJSQkKCwtRU1MDf39/REZGIiIiAgEBAfDz89NjzMfOY6qqqlBWVoa8vFwUFRWLR/CR+pGIjY1FSEgIAgMDm9RnmRs9B7EepO2wAmkBxjBND0/DNCEXhZGZuQcLFizERx99iH379qpAKIrExCSMHDkK559/Prp27apGT4Om2A4cOICPP/4Yr776Cnbs2I7i4hJp2UdEFY4ePXriwgsvxEknjUBcXByCg4MbzkehmffDshVI22AF0gL4URkDdYqD3uK+++7Dc889K4Lw1x6fr1dWVmpZjpRylW5jxozBnXfehfDwcBHGR7jxxpvE4xSpaOhtysvL1dgphurqavUuMTFxmDVrFkaMGIGgoCBtm+c174P1rUDaBiuQFsCPyhliccvJycE555yD7Oz9Yqx+4jWq5flY9RhJSUk4dOgglixZioULF0h9t6BCQ0NFKOeIoJ5RIVA4Q4cOxUUXXYxevXrpudavX4+XX34JK1euFJEFyB4fXHXV1ZgyZYqKhOKkOIgJ2yxtgHxhlh+IGKVLwibdpHd3lZaWukaNGunq0qWTq0OHBNfUqVNdmZmZLun1XSIkrWce9+3b57rrrju1XqdOKa7k5A7ymOw68cRhrm+//VbbY13zyI3trFq1SuvwmLS0VNcTTzzhknCuyfuwtB1WIC3ACMQY8QMPPOBKSUlyJSYmuB5//DFXSUlxE8P1LNOwFy58wyWexdWxY7Jr7Nixrvz8/AZhmHadx/D5zp07XWPGnK3H9OyZrs+NgFiH78vSNtgQqwXwoxLD1DJzhUGDBqKsrFRyg5F4/PHHNXQi5iM1oZjJD1gWg8bixYsxd+5cPPXUXEREhOt+bs7E23kMyxs2bMCECReitLQEZ5xxJv71r8f0dWLyEEvrYwXSAvhRMfbn9uabb+KKK36n+cGXX36Fzp07NyTPxIjDE5M3EL7urE/43Fk2UFgPP/ywJOv3IioqGsuWfSXJe4zWsaNYbYedKGwhxmiXL/9KEuwg9OyZgYSEhAZx0FCNOEyZmDI9EF8zm3mNmGPMa+YYwuHiE044Qc7DgYAaZGdnax2n4Cytj/10fyTbtu3Qnjs9PV0f6VU8Dd2zbOpw435iyqaes0yc5fj4ePEeUTqUzJDLiqPtsZ9wCzFGXFtbo48cpuU+Y6wUgcGzbOqx7DR8Ytolpi1Th4/cOE8SEhKkr0kSr4/Oc1haHyuQFuA06ri4WC3v2rW7YW7EiMAYNQ3dCIL7WDYhlpm7MG3y0RxDzDEGljkwUFhYJGWgQ4eE79WxtD5WIC2AxkgDpxEPGTJEDLYCmzZt1N7ciISv0dANTnGwTA43WkXMseYcxNTh4549e1BUVISKimoJ7Xro687jLa2PFUgLMQY5atQpYsQ+Osw7b94Lmjg7RWCM2pSbE4ezzHrGuxhxkeLiYrz00ku6JCU+Pu57AwOWtsEKpIWYnj0tLQ1nnHGWji7Nnj1bFypy3RShwTrFYcrGoJ2G7zRwlj09B+FCSA4rf/LJJ3K+QFx77RQVihGdad/S+liBtBBjlDTeqVOnSuIcgMrKClxyySXIzc1VYzUGezhxcDucCA5X5sYFj0uWLME999wtz4Fu3brh17/+dZP3YWk7rEBaiDFcGnHPnj3FcO/lXmRnH8Dll0/WR+MhWMccw32eIjB47jdleiSK4+abb9brRRhW3X///Xp9CXGew9I2WIG0AGOMTiPmSt6ZM2/X8ubNm3D99X/C/v37NdEmTiM+nAhMmY/O/fQcS5cuxY033iD5R6FeDzJ79kPo3buP1jHHWNoWu9SkBfCj8jR8PnLfiy++iNtuu0U9xaBBx+DBBx9ESkpKg8Gb+txMuOXcb8qE4lixYgWuvPL3Gr5FR8fikUceweDBg3UuhDiPYXvmWEvrYgXSAvhRmeFclo1Rmv3z5s3DnXferiNagwcfKyKZrfMVZuSKOHMR5/GmzLDKLExkO7ywas6cp0R0g1QcrGfeA9uiII1oLK2PFUgLMImxyTG4OcucD3nuuedw1113itG7PQlX+XJRIY3ZGDQ/cpZNW6ZMz7F9+3acddaZupzEx8dPh3aPPvpoFZk5HzFtcR/LfLS0PjYHaQFOAyXOcIv7acSTJk3C9OkzuBdr1qySxP1yvSSXUBhOb+EUCsW1bt06nHmmWxy1tXV45ZVX0L9//yZiIkYczrYsbYMVyI+ARmmM04jDGDvnRSZOnIi//GWq7lu//htcdtllKhIKyvT2TuNmKLV27VqMHz9ejvcTsdTozR/69evX4DlYn3iez9mOpfWxAmkhnsbKMjeTZ3CjSCZPnoypU/+qnmDduq/Vs3Co1tQxRk3RrF69WnKOCdIG2wPeeusdFYcRk8F5br5mMPssrY8VSAsxxuhprCxzMwbNxJkimTbtr+IhatWTUAS8Z5aB4li+fDkuuGA8n0k7/li06E307t2rQRzOds35PPdb2g4rkBZCg/xvxmrKRiQzZvwNVVXV2Lhxg4ZRXHDoFIefn6/UDdKwqnfv3kf0HHw0Zed+S9thR7FaAD8qbiZZPpKxskzMcybgzzzzDGbO/LtehZiR0Qs33HCTzrxL6i0hGcWxQPZnaKhGgXiew7NNZx2Tp1haHyuQFsCPij0/H01YRY4kDrOfW3V1FZ5++hncffdd4i38dAEiL7biWi56Dt4PyxlWkSOVneIwx3CztD42xGohNFIapSkbwzX7TdlpsNwfGBiko1k33HCj5iQUh59fU3FwMyNUTkGw7BQEy9zM+aw42g7rQVqAMVJ+ZMYwzcdnjNUYLjF1iNnPqwLnzJmDhx56SBLyRQ3iIM62zLlMu6YtU3aOmtkQq+2wAmkB/KhouHw8nLE6xeFZZh3COQ+GaXl5eQ0XPXkKzZzDiIM0dz7ThqX1sQJpAfyozJWD5rkxTM8yMUZt9tOgWTaGb17zrM/N8xxm/+HEaMRnaX3cn7DlB/NjxWHKPN54CPMaMfWJMXjPOkZYTnHwuTnO0vpYgfwInAbpNGJTNsZ+uP00bmLqmNf4aPZ7CsizfDiRWtoGG2K1EOYPngbtLBNjuEfa/9/KxHga4tmWZ9mGWG2HFYjF0gxWIF6Eq86FsuIKZO/JR614p+j4cMQkRMA/0HqgI2EF8guBX6MJ044ExfHa7E+x9rOtcEnd4PBAjLtmOAaccBQCg/lXrCye2CS9HUNRVFXUIHdfIfZuPYSCQyWoKK1qyFE8+W5NFr75Yjv8gvzgH+SrCyhfmPUh1izdirpad75jaYr1IO2Y6qoavP3o5/hi4Tfw9fcDv8iMoV0x4S+nIiSCf+yz0aPwa/5g3kp8OH+l1JV+UV5yycZQi+3MeHIikrvE1te2GKwHaaewWystKMeKdzciKCwQ/sH+CJBt84o9eOT618WTVDbxJHW1LhQXlKko6lx16HtcGpJS40RULgSGBuCj11drm5amWIG0UxgSZW7OVg/AfCIyLkwEQqH4ITsrD+8/u1w8g/uaecL65RQNf+Rbj+kQgXG/PxFVNbWokTbWfLEVZSUV9bUtBiuQdgpHpPZuyxFv4A6VMoamYtz1w1FZWaPe5PN3N6C8uLK+tjuUKhOB1DHq8vNFdEI44hIjJFEPQq2IplRey9yZ465sacAKpJ3CScTcA8Xw8fPR5fOR8WHoe3w3dEiNrc8tarHl60zU1riTb4ZYKhARg4/kJuHRoQgODUS3PikqHj/xPJk7DmpdSyNWIO2UOnEdhYcoEKBGwqcICbF8RSxDTstwi0D2f/35dk3Atb7Uqaiq1uScogoJCwIv9U3rkSheyL18ZbcVyPfwKoEwaa2trkVVaRUqiipQWdy4VVdUqxG1FxhiFReWw+UvHkTed7Ak2qRLz0RUVVZLnuGDPduyUVHu/pMMvLtKtfzudfKNu0Q8AUHuS3sTkqNUUMxLckRwlqb8Iod56ySsKNxbgP3r9iJ/dwGK9hWiJKcYZQXlqCqv1q1GjIW9Kf/jBxAQEoCAsECERIUgKjkScWlxSOqVhJiOUQiT3jlIelx3/Z8HZZJfPHDNyyjIK0GliPvaf5yH9KM7SoKej5mTn9ffh/fX+vvcS5GQEo08Mf4Hpy/AoexChEWG4Prbz0Vy51isX7UTs+98E4FBAeicGo8ZsybUn8FCfpEeJH93Hp4e/SQ+mvkBVs1fie8+2YLMb/YhZ2cuCvYXoTS/DBUllSgvkk0MjeXi3FLkZ4moNmdjy9Jt+PLfK/DqzW/g0XFz8ci4p7BgxtvYuXI3yqXX/jnA0agayTOYb3AUi3kFoaH7h/jX7+cFWm6vWClepUo6Be7jtx4Y6K96D5EknR0E2yuv/wNAlkZ+kQLhKE5wTCjKJZQqyy1HrVhFUGQwYlLj0HlQZ3QfkY4eI3ug35i+6DO6l5ZTB3dF/FHxCIoIQk1lnQihEtWVtfAJ8NXZ6S0Sz7988yI8csEz+ODBz1B0sLjJPMP/O3Jqhkx8Bz7+Yuji/eji/AP84CebWyBi9vXvkR6z1sUhYXkiYgoIdE8sFkuoqfVkP8VlacovMsRinlEmHqE0pxS+YuD+wdKrBvnDT3pNP39fSVJlY0X9T5BPgB8Dj6uprGkIwwokNNu1ag92rM5EXma+JMG+aki+YoAB0t4x447G8RcfoxN1/20d1E+B+QYxXoKUimHfccULKC+v1FGsaY9ejBQJkQrzSnHL757VodsaSdBvfWwiUrrEYdfWbMyeuQglJRWIig2VUOoihEunseKLrXjsgXcRJJ9RWnoSpt/Bm9hZDL9ID8IeNCIpEkl9k9FBktbYrrGIlOdhYhjBYhTVYvxZ3+xFVVm1CidQDDxIQo1Q8TqsFy/5R0rvJGScnI5TrhuBSY+Ox8RHxuNX4waIh5Hjq2o1+f1i/mo8N+V1HJTQzQyntjaFIvS3n/4S8+//GDs37NfRK0JBV9fUqGA5KkUDp3w4alXF/fLDOQ9zcRX/Mq7bg7i9BfXMNvJyxRNKmYKKTYjQupZGfpECaRaxrzemvYmF097Cvye/qCI5EvQYgZLsRnaIQOqvOuOUa4Zh0uzzcNyFg0RYgWqA+7fn4PkbFmK3CE4T/1aEBrz49bVYvOBrrFq8Ba88+imqxNANOvokjzRwVYdsFG61eBTKlcvYGXIReplaaY91/Zl/iDfi3EhWZq5aQZ38JCZHa11LI14nEFddHbK3HkJNbS3yDxSIQH5YYsoQKkB66aQeHTDqqmG48M6zEZMcpcOjJQXlmDf9bRzc0fqeJF7O4c8hWQkV46RswiwNCeV34flp9BQzKS4s07oUT5x4w0DxkIq8f9ajoOhxuJCROcyuXQfF5Uq5tg4dO9vFip54n0DESJiDsLvl6I+7D24Z7JmPGtwFE0QkHSQcY3sMbeb97R0dDaPxtgYU5TGn9MTlt47GxX86BROmnKyhFOEZ6Cn4/k2IRfbuydUQk+FUx7SEBoFUyfvj7HudhFhM0Nl2RUUVsvbSg1AgtUhMsh7EE68TCC1Le1K3Rsx/PwqK44LbzpL8JVgTd4rjqzfWobrCPXvdUpiMa47h0BdvU9qxWzx6D05FaERQ/V43+nvUb4ZN67PU4NlEz74d9XhCAZsQy90xAAWFpbpQ0Uc+i+iYMHRIbBQIBVVYVKaPrSX49oj3CYTGRCOR/+rEUH4qCV1iMH7GaTqbTdF9uWAdcvYW8AQNaDgk4Ywa6RFCsMryamz/di9Wf/IdSosrGsSycfVuPDx9IZ67/wPke8x003vwNOZUVZU12LHtgIZXXD6S0a+zjtoRCoM5Ex8ZsjFfWvrpJvU+3Hr17YzQUA4Vu/OV9z78Grfe8SrmvbwUlfK+vRXvE4hYk/SZ9T1p/b6fSNqAjkjunqChFnObrav2iBAk/JFzManO2VuIr97ZgP+8sArrPtuGEi4RcQiIS1xWfLQJD/zpNTw/6wO8P3+FGikF9fGCNcjamYONa3fjm6921h/hxm3wHK1yN8a1VHk5xSoOXjAVLp7NDD/zHCocPhUPU1Rcjs+WbmQch4rqGpw0orfW45KUtd/swpPPfIw9WTl4471VOpTsrXitB2lN/CSMGT7hVyoQhi+blu9BpYRZFMfiF9fgvt/OwxuPLMFH81di3qyP8NB1r6G8/toLGuT2b/fjlUcX6zXiTJh11a14D3qE4qJy3cc5nMROTXME+o9a+V04VM3RqrWrdriXmIhIM/p3RmBw41+/LZN8w33tCDQH2bQpS2fX2XZkVCh69EjRnGTDpkzc+89FCAnlDLsLw47LQHCw27N4I17pQRheaRzeCiGWoWPPBAlbJHySJvP2F6K0oAyblu3Cf15cLcbtCx8REQXEy11zDxZhlYRSFNCGFbvw2IxFOpmpPbz8xCVH6ihTiYijvLzKnS+JIXN41sAQyYRMHNmip1i2ZHPDqNbI0/uDfwzUCT0Nf+X9Bwrw6mvL3HXl54ILjkdmZi4effJD3HLHK/yINMmPiQ3HFZNGIjjICsS7qDes1vQkgSGB8JFenKIrkRyCiwn37chRA2TI0/uEVEyeORoV0mtzGHbFx5vw3L0f4Ilb31LDpThomMxQehzdSb1S5o5DKONqXGmTeUKAQyB8/7qxfTl+25Z9yM4uaAiv0o5K1OXsBl5my7Ypqpz8YhSXigeTMp/PfX4xpt4yH0u+2KQi5LL41K4JuPfvFyMqMlRF5a14nUD4ZXMpOI2DPTqHRFsFMUwdgZITcIEgy2GxITpDzd5/o3iK5+/9EAHBfmrEmdsPYf3ynRoS6Qw3m5D3RPHEJ0VJMz7Y+d0B9yiSCIDhEXMSJzR4HsP5mddfXqYi5Sz60GE9dTGigYME5eKtzOJG/RDkH8XBdislB6mR1qokNIuKDsUfrzwd9912MRLiIvV9eDNeJ5Bqies5ksQwi4bSWt8/l59ojC8/vAkC7zM1YHg6Uvsko6ysUoXC5ef0MO6e3KWGGd8xGp2OStBwh7lDer9OCBJDpxh2iEDUu8h75HAsL4t1ogm6PBYWlmLb1v36nIIfM3awhlcUaV5eCVas3IZVa7a7Z8+lvmmTyXr/fl0x9uzBuO6qM/HQfb/Fk/+8AmeOGvC98Mxb8TqB1EqewB7c9NitRVFeqeQa4h2kZV7+Gh4TojdSuPzvozHu6uFI6RavybT6CvnUewzsjJsevBA3PTAehQWl2qPTk5w0ur9O7pVJCJSbU6z7+V657iovp8h9snrcHsRt7PSKrMdQbMb0+fjjH57ElVc+jqvl8e67F2DL1n0qCK1PbycbBX0orxgXjBuKU0/uj+5pTcMyixcKxBicxu+tGD6sWbwVdb4iPGmyY3qCXu/N5jm5d9K4AZh406moYR4ghskwaNS4geiWkYT9e/KQc7BYPQzXfXXvnaJGunXjPsk/KhsMn/Mse3bnuMM4hSJ3n8/9+1AobsMvLqlUwy/gRF9NrX7LtXIc6/L1AUen6kpeinVvdj5WiHfhoIC3h1OHwyu7i4YRLLP9RDivsfrjzait5UVMdegzNFWXwxM1OrHgLEm4OYzKXpzhV5fuiXru777d6zZgEUBaRrIm4jov8vkWvcBJBS2Gz+O+k0ScQ8DMKYqLKZ5GL0IB0ODVm8jPgAGpOOaY7hh91iBMuXY0hg/vjWrJQViHo1PnnTNERUlRz5m3WMXoSeb+PMx8+A3MePB1Kec6xOk9eJdA5PvldR78EwaKhCOtwZrF36lXYO8cEReKLj0StUc2FEoe8NpTn+sQr0+AD0aOHYgw8Sw09G3iKXgrUOYfvQd2gb/U4TUbG9dnaY/PrZq5jXxT2dmF+HLpJslpqnSijwaunkPOwYWG4REh+o3yvRx/Qgauufp0TLrkJJx4Qi8Ei3dip8BjIiJDMLBfmoZjHN3KKy7FRoZgHsx66l189e12rPp2B+57+l2dS/E2vEsgApdwiF2KmYjltYL32Ls9B4vmfKFGyoHU0b89XnMPA69q/HjBWpQUl6k3oDiHndG3wbMwwVYhyDfRKTVeE+k1y7eLYDiuVIdESeJHntHfPdIlYpj/wlLMmDoPsySv0BE4OZYe6aabx2LsuCGa+FOIL776BeWjo1kUKz0bj+d56AfixIscM7Cbeh56rXc//dr9hh30y+iEQsmFCsW7DOiVisDWGvFrR3idQIiKg4byEwXCxPzZu94Tg5SeWQy/Q+cY9BnSteEajArp6Re/9TWWvL9eDNw9enTlX89GdGyjgGjMDIsY+uRLe9n7C/Dis5+JQTNcc2H4qL4YM24wBg3prmuiKID9B/LrDZ5tQttLSIjCsYPTRTS+mrdkHypCqRg3vRQFUS69vwpRyvRSQYEBOPuUQeClVQy9Vn+7C0UlTa+3v2j0UMy9fTKemnkZJpw5BAH1Cx+9Ca8SCI2DiwK5XoplH15t9yM0QqMrzC3BM3e8h9zsIk2gOVN+6V9Ol9ApWPMJ3kXklSc/wwevrnLnBXKqEWcPQI9+ndRLED5mHN1Zl3z4B/hjwfwv8cAdC0VMklPIO+RdR44Z2h0xMeG47IqR+P01p2HAoDT07NURPXqmaEhnwjBqPVa8Qmqq5DbSLgW3flOWvhe+X3og7qNI9bp1P18kJ0a798lWUFqOrAN5+r4M4aHByEhLRp+jOiIsJMjt9bwMr/Mg7hCrPkkXQ+JPS+Acyq6NBzDntnewc/MBMS2XTu5Nnn4GgkIDsX7lLrz572WYPX0BVny2RXtn1jluVC+MvnBIw3UbhAZ30un90LlbgniEWuQVlCD7YJF6ibDwIPzuD6fqMnQKKSo6DMNH9MG1152FG248B78eO0Qn9tQj1Hssttevbxd3OCbf7Nr1u9zXjIhASsokqZdflWLgcxIaEoguHeN1dM1ffoede+2tRz3xMoFIbykC0ZEf2XgdxA/VB4/jjRKWLPpGwo53kLX9kBphoBjyxBtORVKXWDz8tzfw9L3v4cPXV+FgdqGGSLz37TmXHIfzLh2GUCk7oUYpgD/ePAZjzh+C7hkp6CJiGTaiN6bdej66dWs6L8FyaGgQwsKCdMkKhUej1z9nUE+P9GQVJcW/K+tQ/fUcFAbDMQkuZb8RaaB4rYzuvPWo7Je2t+w6oPstjXiZQNzLz7kUhIYl2at7ZzMwROEw7oblO0UY72LR3C90lInDo4ldYnDFjLPQb2g3VRxv4sbemPMZ0fHhOPbknphyyzkYNWbA98ThJCklGudOOA43Th+Lv952PiZfeQo6dYlr8Aye0ANwObyGbhoyNf4eMeJpKuk1ZNeBXPFGKhD33As7BeYnZpbcT37/dAnJauR1CifrYL7utzTidQJhb0px0Fi0Cz8Meh9bSbAP7i3AN0u3Y+7MdyVRfQc7Nu5zr6oN8sfA4en4453n4qg+KXpREu+WfsW00Rh98VBcev1puOme8bjkDyORmp7YZJHhkVDvIJ4hLDxYDNh9SeyR4O/AxYb8HegZQiRXMISHBcOXupLDi8sq3MPP4iHozYyg+EMoitjocN3H0KtI6lua4nUCqSyvct/fSsrBkUFqPFyfRUEU5ZbiwO48bFy+C6//awlm//k1PHvP+5Jr7NfRIc5X8PLXq24bg0l/PhWRMVzp6jZkXtra51ddcdYFgzHo+O56C50fIowfh3gEXddFo3epoAzBQe51YNzPb1e9pfyYJJ2iYGhFNMSLCNUOg0Kzd1b8Pl4nECpDe1LpYrnAcOvqPfjPS6vx0qz/4MEpr+Lu382TBPxtrPpkM8olsWW4RENMSovHlSKM6+47D937ddTl6P8r6EFKmXTLt0ehm0tlid7dRCyfRs/cgjXYCVTWSM5CLTMHqRcuBygoHn4etfVexNIUrxOIGgnjDzGIooJSvHDPR/jghRVYt2w7igrLEBTmr7cu5dAtJ/xGnDsA05+YiD//43z06N+p8TY6/0No1OWVVW7DlrLzlqGcqzC3FYVomL8H4aid25fwxw1L9IBmuNibrxw8El4lEPaYnXt0QHRiBKrEe1RzZa8YCTfOSnN/3+OPwoVTTsb0OZdg2uO/wdmThqJDx+gjJsz/C+hByqvMKJYLQQ7RMvTiNeaUBcXD3Ia3+2F9Cko9SL2g2E5+can7TyLIa1xmb2mKd3kQMYJwyRtufuZiXPfIePzhH2Nx3UPjMW3uRNzy/KWY9uRvMOnm0zDklF46bOucs/hZIYbN0SkaPMUdJom5gZOguiixPmSih6AQ3B2BHCqCMTkIPceB/CKtSzElxUXqfksjXhdiEd7yv2uvJKQP6IRUeUzqEoMIEY5zzuHnDD1HSXlFvUAkkvKna3DDCcGSCgm/WEu8hbkvFsMqIxr+EA5hb9t7SMOvKvEyvbom635LI14pkPaO8QgMr9jzBzluqlBQXKbDznw9MT5KR7XoOdV7cGvUks7Yf709S1f1VtTUomuSvfWoJ1Yg7RAuUS8WT6GGL+VgRw6yI+uQDvtyPVeX5DiEiEDcwhDvId+2UyClFZXYtO+gDv36BPgiLSm+/hWLwQqkvSKGzqtaTJhlWLZ+h3yrPjo7Pmxgen2+IeKor8cwi4Lh6NamPQc0R+Eyk4wuiegQE8EmLA6sQNop9ARmM5OVxaXlWPvdHl3Czm1I3zT4M6+qD8ncOYgg1UvKK/H0+1+CfxmX+ce44wc0tGNpxAqkHcKJv4pqTvy5UCmegEvRCb1HsSTvXA+WnBCFyLAQNXr+ER0OY9NzMGfh1YvfZWVjzS735b4VUn9E/+7ahqUpViDtECbpFVyEKK6AInGHTLX493vLdI6DHuGi045FSP3EH0XCETreppTiOVRYiunPv4VASeb9/f1x6cjBSIqJ0rqWpliBtEMoCXMJLnML3r7ng682aE5B2fCm1acd2xsB9cPWvOSWS2NYn7nJg4sW42BRiTz3QWFNjQjk2CbX0FsasQJpp5gEnQn5noN5eHTBp3r9eXlNNSadfhwiHFcAcvlJSEigCMJ9A4icEvffBamoq8VTV41HSqz1HkfCCqQdQsPneisKhNeXP//+MuSIR6gWr9IxMRbnjRjY5PrxAD8/HJPeWUOvSgnFqqQeL7K6/aKzcFyvNOs9msEKpB1C40+Kj9J8giIplMSc16nUSHnGJWciPLjp9eMUwLgTBmDSKcdiQPdOOOe4ozHnmotwrjwGB/xMl9P8TPhF/p30Xzq8zvyT1Zsx7cmF7sWIso8e4c/nj8L4kwbBXzzG4eDFUzyWrwfVr8eyNI8VSDuEX1hJWQWuf/RV7Nifg8S4KFw95kQM63NUu1lP1l6wAmmn8GvjWipO+IUGByLUi//ITVtiBWKxNIP1xxZLM1iBWCzNYAVisTSDFYjF0gxWIBZLM1iBWCzNYAVisTSDFYjFckSA/wP+p4hyIrinvAAAAABJRU5ErkJggg=="},475:function(e,t,a){e.exports=a.p+"static/media/secundary.48d69966.svg"},476:function(e,t,a){e.exports=a.p+"static/media/secundary.3b1c40f4.svg"},477:function(e,t,a){e.exports=a.p+"static/media/inactive.ee187bcc.svg"},478:function(e,t,a){e.exports=a.p+"static/media/quarternary.1b7d2236.svg"},479:function(e,t,a){e.exports=a.p+"static/media/secundary.67ccb83e.svg"},480:function(e,t,a){e.exports=a.p+"static/media/active.e1900b4f.svg"},481:function(e,t,a){e.exports=a.p+"static/media/inactive.b3fbfb33.svg"},482:function(e,t,a){e.exports=a.p+"static/media/heart-white.8e297fd4.svg"},483:function(e,t,a){e.exports=a.p+"static/media/active.93995dee.svg"},484:function(e,t,a){e.exports=a.p+"static/media/favourites-menu-inactive.76c9d847.svg"},485:function(e,t,a){e.exports=a.p+"static/media/inactive.b0611f9f.svg"},545:function(e,t,a){e.exports=a.p+"static/media/workspace.1147193a.svg"},566:function(e,t){},588:function(e,t,a){},596:function(e,t,a){e.exports=a.p+"static/media/company_chat.b868171a.svg"},605:function(e,t,a){},606:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAh+SURBVHic7dmxDQIxAARBP3KE9BEZDdDLV0d5dPN0YQc7U8GFK90xxrgHAJDy2D0AAFhPAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBoXuPcvQEAWOz4jc+9ewQAsJYLAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACC5vv72r0BAFhsntdz9wYAYDEXAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAE/QFDUgh36a0p6AAAAABJRU5ErkJggg=="},610:function(e,t,a){e.exports=a.p+"static/media/appointed.4a7182ca.ogg"},611:function(e,t,a){e.exports=a.p+"static/media/appointed.d46d7db1.mp3"},612:function(e,t,a){e.exports=a.p+"static/media/appointed.b1ef26b6.m4r"},615:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(31),o=a.n(i),c=a(630),s=a(59),l=a(6),d=a(291),u=a(11),m=a(115),p=a.n(m),f=a(2),b=a(43),h=a(264),E=a(3),_=a(5),O=a(117),g=a.n(O),v=a(265),A=(a(266),a(39)),j=function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]===e)return decodeURIComponent(n[1])}return null},C=function(e){var t={},a=document.createElement("a");a.href=e;for(var n=a.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].split("=");t[i[0]]=decodeURIComponent(i[1])}return t},T=function(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)};function y(e,t,a){var n=document.createElement("textarea");n.style.position="fixed",n.style.top=0,n.style.left=0,n.style.opacity=0,n.style.width="2em",n.style.height="2em",n.style.padding=0,n.style.border="none",n.style.outline="none",n.style.boxShadow="none",n.style.background="transparent",n.value=t,document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")&&e.info(a)}catch(i){e.error(r.a.createElement(r.a.Fragment,null,"Oops, unable to copy ",r.a.createElement("b",null,t))),console.error("Fallback: Oops, unable to copy",i)}document.body.removeChild(n)}var S=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Link copied to the clipboard.";navigator.clipboard?navigator.clipboard.writeText(t).then((function(){e.info(a)}),(function(a){e.error(r.a.createElement(r.a.Fragment,null,"Oops, unable to copy ",r.a.createElement("b",null,t))),console.error("Async: Could not copy text: ",a)})):y(e,t,a)},k=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var a=new XMLHttpRequest;return a.open("HEAD",e,t),a.setRequestHeader("Access-Control-Allow-Origin","*"),a.setRequestHeader("Accept","application/json"),a.send(),0!==a.status&&a.status}catch(n){return console.log(n),!1}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!1===t.encode?Object.entries(e).map((function(e){var t=Object(_.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&"):Object.entries(e).map((function(e){var t=Object(_.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(encodeURIComponent(n))})).join("&")},N=a(267),x=a(8),R=a(1),I=a(14),P=a(30),D=a(36),L=a.n(D),F=a(51),M=function(){var e=Ya(),t=window.location.protocol,a=window.location.port&&80!==window.location.port?":".concat(window.location.port):"";return T(window.location.hostname)||"localhost"===window.location.hostname?"".concat(t,"//").concat(window.location.hostname).concat(a):e?"".concat(t,"//").concat(e,".").concat("drevv.com").concat(a):"".concat(t,"//").concat("drevv.com").concat(a)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ya(),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),n=(a.REACT_APP_ENV,a.REACT_APP_apiProtocol),r=a.REACT_APP_apiBaseUrl,i=a.REACT_APP_apiDNSName,o=a.REACT_APP_mockServerBaseUrl,c=n;if("undefined"!==typeof e.noSlug&&!0===e.noSlug||(c+="".concat(t,".")),"undefined"!==typeof e.isDNS&&!0===e.isDNS)c+=i;else if("undefined"!==typeof e.isMockBased&&!0===e.isMockBased)c+=o;else{if(e.is_shared&&e.token)return"".concat(n).concat(e.slug,".").concat(r);c+=r}return c},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ya(),a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),n=a.REACT_APP_ENV,r=a.REACT_APP_localDNSProtocol,i=a.REACT_APP_localDNSName,o=r;switch(n){case"local":return"".concat(r).concat(i);case"development":case"production":return"undefined"!==typeof e.noSlug&&!0===e.noSlug||(o+="".concat(t,".")),o+=i;default:return}},H=function(){return"translation-off"!==localStorage.getItem("logger")&&(!!["all","translation"].includes(localStorage.getItem("logger"))||(T(window.location.hostname)||"localhost"===window.location.hostname))},B=function(){var e=Ya();return"https://{{driffName}}.driff.io/api".replace("{{driffName}}",e)},W=function(){var e=Object(F.a)(L.a.mark((function e(t){var a,n,r,i,o,c,s,l,d,u,m,p,f,b,h,E,_,O,v,A;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=function(e){if(m){for(var t=new FormData,r=0,o=Object.keys(i);r<o.length;r++){var c=o[r];t.append(c,i[c])}i=t}return g()({method:a,url:l?"".concat(U({isMockBased:!0})).concat(n):v,data:i,responseType:d,crossDomain:!0,headers:{"Access-Control-Allow-Origin":"*",crossorigin:!0,"Content-Type":m?"multipart/form-data":"application/json",Authorization:f&&i.token?"Bearer ".concat(i.token):e.token,"Accept-Language":E,"X-Timezone-Offset":_,"X-Timezone-Name":O},onUploadProgress:h.onUploadProgress,config:h})},a=t.method,n=t.url,r=t.data,i=void 0===r?null:r,o=t.register,c=void 0!==o&&o,s=t.mockServer,l=void 0!==s&&s,d=t.responseType,u=t.hasFile,m=void 0!==u&&u,p=t.is_shared,f=void 0!==p&&p,b=t.config,h=void 0===b?{timeout:5e3}:b,E=navigator.language||navigator.userLanguage,_=(new Date).getTimezoneOffset(),O=Intl.DateTimeFormat().resolvedOptions().timeZone,localStorage.getItem("loggedInUser.language")&&(E=localStorage.getItem("loggedInUser.language")),localStorage.getItem("loggedInUser.timezoneOffset")&&(_=localStorage.getItem("loggedInUser.timezoneOffset")),localStorage.getItem("loggedInUser.timezoneName")&&(O=localStorage.getItem("loggedInUser.timezoneName")),v=c?"".concat(U({noSlug:!0})).concat(n):f?"".concat(U({is_shared:!0,token:i.token,slug:i.slug})).concat(n):"".concat(U()).concat(n),e.abrupt("return",P.sessionService.loadSession().catch((function(e){throw e})).then((function(e){return A(e)})).then((function(e){return e})).catch((function(e){throw e})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(F.a)(L.a.mark((function e(t){var a,n,r,i,o,c,s,l,d,u,m,p,f,b,h,E,_,O,v,A;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=function(){var e=u?"".concat(U({isMockBased:!0})).concat(n):v;if(i)e=i;else{var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),r=t.REACT_APP_apiProtocol,o=t.REACT_APP_apiBaseUrl;"/announcement"===n&&(e="".concat(r).concat(o,"/announcement"))}var s={method:a,url:e,data:c,responseType:p,crossDomain:!0,headers:{"Access-Control-Allow-Origin":"*",crossorigin:!0,"Content-Type":"application/json","Accept-Language":_,"X-Timezone-Offset":O},config:E};return b&&(s=Object(R.a)(Object(R.a)({},s),{},{headers:Object(R.a)(Object(R.a)({},s.headers),{},{Authorization:b})})),g()(s)},a=t.method,n=t.url,r=t.actualUrl,i=void 0===r?null:r,o=t.data,c=void 0===o?null:o,s=t.register,l=void 0!==s&&s,d=t.mockServer,u=void 0!==d&&d,m=t.responseType,p=void 0===m?"json":m,f=t.token,b=void 0===f?null:f,h=t.config,E=void 0===h?{timeout:5e3}:h,_=navigator.language||navigator.userLanguage,O=(new Date).getTimezoneOffset(),localStorage.getItem("loggedInUser.language")&&(_=localStorage.getItem("loggedInUser.language")),localStorage.getItem("loggedInUser.timezoneOffset")&&(O=localStorage.getItem("loggedInUser.timezoneOffset")),v=l?"".concat(U({noSlug:!0})).concat(n):"".concat(U()).concat(n),e.abrupt("return",A().then((function(e){return e})).catch((function(e){throw e})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function V(e){return"channel_date_updated"===(e=Object(R.a)({order_by:"channel_name",sort_by:"desc"},e)).order_by&&(e=Object(R.a)(Object(R.a)({},e),{},{order_by:"updated_at"})),W({method:"GET",url:"/v2/post-channels?".concat(w(e))})}function Q(e){var t="/v2/post-channels/".concat(e.id);return W({method:"PUT",url:t,data:e,is_shared:!!e.is_shared,is_translate:!!e.is_translate})}function K(e){var t="/v2/global-recipients?".concat(w(e));return W({method:"GET",url:t,data:e})}function z(e){var t="/v1/files?file_type=".concat(e.file_type);e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),e.channel_id&&(t+="&channel_id=".concat(e.channel_id)),e.fileOption&&("remove_on_download"===e.fileOption.value?t+="&remove_on_download=1":t+="&remove_automatically=1");var a=Object.assign({method:"POST",url:t,data:e.file},e.options?e.options:{});return W(a)}function q(e){var t="/v1/bulk-files?file_type=".concat(e.file_type);e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),e.fileOption&&("remove_on_download"===e.fileOption.value?t+="&remove_on_download=1":t+="&remove_automatically=1");var a=Object.assign({method:"POST",url:t,data:e.files},e.options?e.options:{});return W(a)}function J(e){var t="/v2/to-do?".concat(w(e));return W({method:"GET",url:t,data:e})}function Z(e){return W({method:"GET",url:"/v2/workspace-files?".concat(w(e))})}function X(e){return W({method:"POST",url:"/v1/favourites",data:e})}function $(e){var t=e.skip,a=void 0===t?0:t,n=e.limit,r=void 0===n?25:n,i=e.search,o=void 0===i?"":i,c=e.filters,s=void 0===c?[]:c,l="/v2/company/posts?&skip=".concat(a,"&limit=").concat(r);return""!==o&&(l+="&search=".concat(o)),s.length&&s.forEach((function(e,t){l+="&filter[".concat(t,"]=").concat(e)})),W({method:"GET",url:l,data:e})}function ee(e){return W({method:"GET",url:"/v1/posts/".concat(e.post_id),data:e})}var te=function(e,t){return Ia(function(e){return Y({method:"POST",url:"/requests",data:e})}(e),"REQUEST_START","REQUEST_SUCCESS","REQUEST_FAILURE",t)},ae=function(e,t){return Ia(function(e){return Y({method:"POST",url:"/login",data:e})}(e),"LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE",t)},ne=function(e,t){return Ia(function(){return W({method:"POST",url:"/logout"})}(e),"LOGOUT_START","LOGOUT_SUCCESS","LOGOUT_FAILURE",t)},re=function(e,t){return Ia(function(e){return Y({method:"GET",actualUrl:"".concat(U({noSlug:!0}),"/auth/google?").concat(w(e))})}(e),"GOOGLE_LOGIN_START","GOOGLE_LOGIN_SUCCESS","GOOGLE_LOGIN_FAILURE",t)},ie=function(e,t){return Ia(function(e){return Y({method:"POST",actualUrl:"".concat(U({noSlug:!0}),"/auth/google/user"),data:e})}(e),"GOOGLE_AUTH_LOGIN_START","GOOGLE_AUTH_LOGIN_SUCCESS","GOOGLE_AUTH_LOGIN_FAILURE",t)};function oe(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/users-online",data:e})}(e),"GET_ONLINE_USERS_START","GET_ONLINE_USERS_SUCCESS","GET_ONLINE_USERS_FAIL",t)}function ce(e,t){return Ia(function(e){return W({method:"GET",url:"/users/".concat(e.id)})}(e),"GET_USER_START","GET_USER_SUCCESS","GET_USER_FAILURE",t)}function se(e,t){return Ia(function(e){return Y({method:"POST",url:"/password/email",data:e})}(e),"RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE",t)}function le(e,t){return Ia(function(e){return Y({method:"POST",url:"/password/reset",data:e})}(e),"RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE",t)}function de(e,t){return Ia(function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),a=t.REACT_APP_apiProtocol,n=t.REACT_APP_apiBaseUrl,r="".concat(a).concat(e.driff,".").concat(n,"/check-email");return Y({method:"PATCH",actualUrl:r,data:e})}(e),"CHECK_DRIFF_EMAIL_START","CHECK_DRIFF_EMAIL_SUCCESS","CHECK_DRIFF_EMAIL_FAILURE",t)}function ue(e,t){return Ia(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v1/users?".concat(w(e));return W({method:"GET",url:t})}(e),"GET_USERS_START","GET_USERS_SUCCESS","GET_USERS_FAIL",t)}function me(e,t){return Ia(function(e){var t="/users/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"UPDATE_USER_START","UPDATE_USER_SUCCESS","UPDATE_USER_FAIL",t)}function pe(e,t){return Ia(function(e){var t="/users/".concat(e.id,"/upload-profile-image");return W({method:"POST",url:t,hasFile:!0,data:{file:e.file}})}(e),"UPDATE_PROFILE_IMAGE_START","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE",t)}function fe(e,t){return Pa("INCOMING_UPDATED_USER",e,t)}function be(e,t){return Ia(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v2/external-user-data";return Y({method:"POST",url:t,data:e})}(e),"POST_EXTERNAL_USER_DATA_START","POST_EXTERNAL_USER_DATA_SUCCESS","POST_EXTERNAL_USER_DATA_FAILURE",t)}function he(e,t){return Ia(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/v2/external-user-update";return Y({method:"PUT",url:t,data:e})}(e),"PUT_EXTERNALUSER_UPDATE_START","PUT_EXTERNALUSER_UPDATE_SUCCESS","PUT_EXTERNALUSER_UPDATE_FAILURE",t)}function Ee(e,t){return Ia(function(e){return Y({method:"POST",url:"/magic-link",data:e})}(e),"POST_MAGIC_LINK_START","POST_MAGIC_LINK_SUCCESS","POST_MAGIC_LINK_FAILURE",t)}function _e(e,t){return Ia(function(e){return Y({method:"PUT",url:"/magic-link",data:e})}(e),"PUT_MAGIC_LINK_START","PUT_MAGIC_LINK_SUCCESS","PUT_MAGIC_LINK_FAILURE",t)}function Oe(e,t){return Pa("INCOMING_EXTERNAL_USER",e,t)}function ge(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/internal-request-form",data:e})}(e),"PUT_MAGIC_LINK_START","PUT_MAGIC_LINK_SUCCESS","PUT_MAGIC_LINK_FAILURE",t)}function ve(e,t){return Pa("INCOMING_INTERNAL_USER",e,t)}function Ae(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/update-user-role",data:e})}(e),"PUT_USER_ROLE_START","PUT_USER_ROLE_SUCCESS","PUT_USER_ROLE_FAILURE",t)}function je(e,t){return Ia(W({method:"GET",url:"/v2/roles"}),"GET_ROLES_START","GET_ROLES_SUCCESS","GET_ROLES_FAILURE",t)}function Ce(e,t){return Pa("INCOMING_USER_ROLE",e,t)}function Te(e,t){return Ia(function(){var e="/v1/users?filter=external";return W({method:"GET",url:e})}(e),"GET_EXTERNAL_USERS_START","GET_EXTERNAL_USERS_SUCCESS","GET_EXTERNAL_USERS_FAILURE",t)}function ye(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/archived-user",data:e})}(e),"ARCHIVE_USER_START","ARCHIVE_USER_SUCCESS","ARCHIVE_USER_FAILURE",t)}function Se(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/un-archived-user",data:e})}(e),"UNARCHIVE_USER_START","UNARCHIVE_USER_SUCCESS","UNARCHIVE_USER_FAILURE",t)}function ke(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/activate-user",data:e})}(e),"ACTIVATE_USER_START","ACTIVATE_USER_SUCCESS","ACTIVATE_USER_FAILURE",t)}function we(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/deactivate-user",data:e})}(e),"DEACTIVATE_USER_START","DEACTIVATE_USER_SUCCESS","DEACTIVATE_USER_FAILURE",t)}function Ne(e,t){return Ia(function(){var e="/v1/users?filter=archive";return W({method:"GET",url:e})}(e),"GET_ARCHIVED_USERS_START","GET_ARCHIVED_USERS_SUCCESS","GET_ARCHIVED_USERS_FAILURE",t)}function xe(e,t){return Pa("INCOMING_ARCHIVED_USER",e,t)}function Re(e,t){return Pa("INCOMING_UNARCHIVED_USER",e,t)}function Ie(e,t){return Pa("INCOMING_DEACTIVATED_USER",e,t)}function Pe(e,t){return Pa("INCOMING_ACTIVATED_USER",e,t)}function De(e,t){return Pa("INCOMING_ONLINE_USERS",e,t)}function Le(e,t){return Ia(function(e){var t="/users/".concat(e.id,"/user-type");return W({method:"PUT",url:t,data:e})}(e),"UPDATE_USER_TYPE_START","UPDATE_USER_TYPE_SUCCESS","UPDATE_USER_TYPE_FAILURE",t)}function Fe(e,t){return Pa("SET_BROWSER_TAB_STATUS",e,t)}function Me(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/connected-slugs",data:e})}(e),"GET_CONNECTED_SLUGS_START","GET_CONNECTED_SLUGS_SUCCESS","GET_CONNECTED_SLUGS_FAIL",t)}function Ue(e,t){return Ia(function(e){return W({method:"GET",url:"/v1/recipients?is_shared_topic=1",data:e})}(e),"GET_ALL_RECIPIENTS_START","GET_ALL_RECIPIENTS_SUCCESS","GET_ALL_RECIPIENTS_FAIL",t)}function Ge(e,t){return Pa("SET_NAV_MODE",e,t)}function He(e,t){return Pa("TOGGLE_LOADING",e,t)}function Be(e,t){return Ia(function(e){var t="/v2/post-message-unfurl";return"task"===e.type&&(t="/v2/task-comment-unfurl"),W({method:"POST",url:t,data:e})}(e),"GENERATE_UNFURL_START","GENERATE_UNFURL_SUCCESS","GENERATE_UNFURL_FAILURE",t)}function We(e,t){return Pa("GENERATE_UNFURL_REDUCER",e,t)}function Ye(e,t){return Pa("ADD_TO_MODALS",e,t)}function Ve(e,t){return Pa("CLEAR_MODAL",e,t)}function Qe(e,t){return Ia(function(e){return W({method:"POST",url:"/v1/drafts?draft_type=".concat(e.type),data:e})}(e),"SAVE_DRAFT_START","SAVE_DRAFT_SUCCESS","SAVE_DRAFT_FAILURE",t)}function Ke(e,t){return Ia(function(e){return W({method:"PUT",url:"/v1/drafts/".concat(e.draft_id,"?draft_type=").concat(e.type),data:e})}(e),"UPDATE_DRAFT_START","UPDATE_DRAFT_SUCCESS","UPDATE_DRAFT_FAILURE",t)}function ze(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v1/drafts/".concat(e.draft_id,"?draft_type=").concat(e.type)})}(e),"DELETE_DRAFT_START","DELETE_DRAFT_SUCCESS","DELETE_DRAFT_FAILURE",t)}function qe(e,t){return Pa("DELETE_DRAFT",e,t)}function Je(e,t){return Pa("SAVE_INPUT_DATA",e,t)}function Ze(e,t){return Pa("CLEAR_INPUT_DATA",e,t)}function Xe(e,t){return Pa("ADD_USER_TO_REDUCERS",e,t)}function $e(e,t){return Ia(function(e){return Y({method:"GET",actualUrl:e.url})}(e),"GET_TRANSLATION_OBJECT_START","GET_TRANSLATION_OBJECT_SUCCESS","GET_TRANSLATION_OBJECT_FAIL",t)}function et(e,t){return Ia(function(e){return Y({method:"POST",actualUrl:"".concat(B(),"/generate-translation-raw"),data:{raws:e}})}(e),"POST_GENERATE_TRANSLATION_RAW_START","POST_GENERATE_TRANSLATION_RAW_SUCCESS","POST_GENERATE_TRANSLATION_RAW_FAIL",t)}var tt=function(e,t){return Ia(function(e){var t="/v2/push-api-notification?subscription_id=".concat(e.sub_id);return W({method:"GET",url:t,data:e})}(e),"GET_PUSH_NOTIFICATION_START","GET_PUSH_NOTIFICATION_SUCCESS","GET_PUSH_NOTIFICATION_FAILURE",t)},at=function(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/push-api-notification",data:e})}(e),"SUBSCRIBE_PUSH_NOTIFICATIONS_START","SUBSCRIBE_PUSH_NOTIFICATIONS_SUCCESS","SUBSCRIBE_PUSH_NOTIFICATIONS_FAILURE",t)};function nt(e,t){return Ia(function(e){var t="/v2/notification-counter-entries?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_UNREAD_NOTIFICATION_COUNTER_START","GET_UNREAD_NOTIFICATION_COUNTER_SUCCESS","GET_UNREAD_NOTIFICATION_COUNTER_FAIL",t)}function rt(e,t){return Pa("UPDATE_GENERAL_CHAT_NOTIFICATION",e,t)}function it(e,t){return Pa("UPDATE_UNREAD_LIST_COUNTER",e,t)}function ot(e,t){return Ia(W({method:"GET",url:"/v1/drafts"}),"GET_DRAFTS_START","GET_DRAFTS_SUCCESS","GET_DRAFTS_FAIL",t)}function ct(e,t){return Ia(function(e){var t="";return t="task"===e.type?"/v2/task-comment-unfurl/".concat(e.unfurl_id):"/v2/post-message-unfurl/".concat(e.unfurl_id),W({method:"DELETE",url:t})}(e),"DELETE_UNFURL_START","DELETE_UNFURL_SUCCESS","DELETE_UNFURL_FAIL",t)}function st(e,t){return Ia(W({method:"GET",url:"/v2/quick-link"}),"GET_QUICK_LINKS_START","GET_QUICK_LINKS_SUCCESS","GET_QUICK_LINKS_FAIL",t)}function lt(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/push-api-notification?delete_all_subscription=".concat(e.user_id)})}(e),"DELETE_PUSH_SUBSCRIPTION_START","DELETE_PUSH_SUBSCRIPTION_SUCCESS","DELETE_PUSH_SUBSCRIPTION_FAILURE",t)}function dt(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/to-do",data:e})}(e),"POST_TO_DO_START","POST_TO_DO_SUCCESS","POST_TO_DO_FAILURE",t)}function ut(e,t){return Ia(function(e){var t="/v2/to-do/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"PUT_TO_DO_START","PUT_TO_DO_SUCCESS","PUT_TO_DO_FAILURE",t)}function mt(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/to-do-detail",data:e})}(e),"GET_TO_DO_DETAIL_START","GET_TO_DO_DETAIL_SUCCESS","GET_TO_DO_DETAIL_FAILURE",t)}function pt(e,t){return Ia(function(e){var t="/v2/done-to-do?".concat(w(e));return W({method:"PUT",url:t,data:e})}(e),"PUT_DONE_TO_DO_START","PUT_DONE_TO_DO_SUCCESS","PUT_DONE_TO_DO_FAILURE",t)}function ft(e,t){return Ia(function(e){var t="/v2/remove-to-do?".concat(w(e));return W({method:"DELETE",url:t,data:e})}(e),"DEL_REMOVE_TO_DO_START","DEL_REMOVE_TO_DO_SUCCESS","DEL_REMOVE_TO_DO_FAILURE",t)}function bt(e,t){return Pa("INCOMING_TO_DO",e,t)}function ht(e,t){return Pa("INCOMING_UPDATE_TO_DO",e,t)}function Et(e,t){return Pa("INCOMING_DONE_TO_DO",e,t)}function _t(e,t){return Pa("INCOMING_REMOVE_TO_DO",e,t)}function Ot(e,t){return Pa("INCOMING_FAVOURITE_ITEM",e,t)}function gt(e,t){return Ia(function(e){var t="/v2/re-fetch-module/channel?message_id=".concat(e.message_id);return W({method:"POST",url:t,data:e})}(e),"REFETCH_MESSAGES_START","REFETCH_MESSAGES_SUCCESS","REFETCH_MESSAGES_FAIL",t)}function vt(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/re-fetch-module/other-channel-messages",data:e})}(e),"REFETCH_OTHER_MESSAGES_START","REFETCH_OTHER_MESSAGES_SUCCESS","REFETCH_OTHER_MESSAGES_FAIL",t)}function At(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/re-fetch-module/get-last-reply",data:e})}(e),"GET_LATEST_REPLY_START","GET_LATEST_REPLY_SUCCESS","GET_LATEST_REPLY_FAIL",t)}function jt(e,t){return Ia(W({method:"GET",url:"/v2/announcement-release"}),"GET_RELEASE_ANNOUNCEMENTS_START","GET_RELEASE_ANNOUNCEMENTS_SUCCESS","GET_RELEASE_ANNOUNCEMENTS_FAIL",t)}function Ct(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/announcement-release",data:e})}(e),"CREATE_RELEASE_ANNOUNCEMENTS_START","CREATE_RELEASE_ANNOUNCEMENTS_SUCCESS","CREATE_RELEASE_ANNOUNCEMENTS_FAIL",t)}function Tt(e,t){return Ia(function(e){var t="/v2/announcement-release/".concat(e.id);return W({method:"DELETE",url:t,data:e})}(e),"DELETE_RELEASE_ANNOUNCEMENTS_START","DELETE_RELEASE_ANNOUNCEMENTS_SUCCESS","DELETE_RELEASE_ANNOUNCEMENTS_FAIL",t)}function yt(e,t){return Ia(function(e){var t="/v2/announcement-release/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"UPDATE_RELEASE_ANNOUNCEMENTS_START","UPDATE_RELEASE_ANNOUNCEMENTS_SUCCESS","UPDATE_RELEASE_ANNOUNCEMENTS_FAIL",t)}function St(e,t){return Pa("INCOMING_UPDATED_ANNOUNCEMENT",e,t)}function kt(e,t){return Pa("INCOMING_CREATED_ANNOUNCEMENT",e,t)}function wt(e,t){return Pa("INCOMING_DELETED_ANNOUNCEMENT",e,t)}function Nt(e,t){return Pa("SET_PROFILE_SLIDER",e,t)}function xt(e,t){return Pa("SET_IDLE_STATUS",e,t)}var Rt=a(7),It=a(10),Pt=a(178),Dt=a(268),Lt=a(269),Ft=a(270),Mt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ut=/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|gif|png)/g,Gt=/(?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)(?:(?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)(?:jpg|gif|png)$/,Ht=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},Bt=function(e){return Object(Ft.toArray)(e).reduce((function(e,t){return"string"===typeof t?e+t:e+t.props.children}),"")},Wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.toLowerCase().replace(/\s|\//g,t)},Yt=function(e){var t=e.getHours(),a=e.getMinutes(),n=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+n},Vt=function(){return Math.round(+new Date/1e3)},Qt=a(118),Kt=a(29),zt=a.n(Kt);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(Qt.a)(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;r instanceof Array&&t>0?r.flat(t-1,a):a.push(r)}}catch(i){n.e(i)}finally{n.f()}return a}}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=[],n=function(n){null===t?a.includes(e[n])||a.push(e[n]):"undefined"===typeof a.filter((function(a){return a[t]===e[n][t]}))[0]&&a.push(e[n])},r=0;r<this.length;r++)n(r);return a}});var qt=function(e,t){return e.reduce((function(e,a){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},a[t],a))}),{})},Jt=function(e,t){return e.reduce((function(e,a){var n=a[t];return e[n]||(e[n]=[]),e[n].push(a),e}),{})},Zt=function(e,t){return Array.from(e.reduce((function(e,a){return a&&a[t]&&e.set(a[t],a),e}),new Map).values())},Xt={user:null,companyChannel:null,channels:{},selectedChannel:null,startNewChannels:{},channelDrafts:{},unreadChatCount:0,historicalPositions:[],editChatMessage:null,sendButtonClicked:!1,chatQuotes:{},channelsLoaded:!1,lastVisitedChannel:null,isLastChatVisible:!1,lastReceivedMessage:null,chatSidebarSearch:"",channelRange:{},channelDraftsLoaded:!1,bots:{loaded:!1,channels:[],user_bots:[]},huddleBots:[],huddleBot:null,editHuddle:null,fetch:{skip:0,limit:25,fetching:!1,hasMore:!1},skipIds:[],hasUnpublishedAnswers:[],searchArchivedChannels:!1},$t=new Date,ea=$t.getDate(),ta=$t.getFullYear(),aa=$t.getMonth(),na={0:{maxDate:31},1:{maxDate:ta%4===0&&ta%100!==0||ta%400===0?29:28},2:{maxDate:31},3:{maxDate:30},4:{maxDate:31},5:{maxDate:30},6:{maxDate:31},7:{maxDate:31},8:{maxDate:30},9:{maxDate:31},10:{maxDate:30},11:{maxDate:31}},ra=function(e,t){return na[e].maxDate>=t},ia=function(e){return 0===e.getDay()||6===e.getDay()},oa=function(e,t){var a=e;return a.setDate(e.getDate()+t),a},ca={timeline:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}},members:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}},recent_posts:{init:!1,skip:0,limit:1e3,has_more:!0,items:{}}},sa={user:null,files:{},channelFiles:{},viewFiles:null,pendingWorkspaceFilesUpload:{},progressWorkspaceFilesUpload:{},workspaceFiles:{},googleDriveApiFiles:{},companyFiles:{init:!1,search_results:[],search_value:"",count:{all:0,stars:0,trash:0,storage:0},has_more:!0,skip:0,limit:100,items:{},favorite_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},popular_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},recently_edited:{init:!1,has_more:!0,skip:0,limit:100,items:[]},google_files:{init:!1,has_more:!0,skip:0,limit:100,items:[]},trash_files:{init:!1,has_more:!0,skip:0,limit:100,items:{}}},companyFolders:{init:!1,has_more:!0,skip:0,limit:100,items:{},google_folders:{init:!1,has_more:!0,skip:0,limit:100,items:[]}},gifBlobs:{},fileBlobs:{},fileThumbnailBlobs:{}},la={user:null,i18nLoaded:!1,recipients:[],isLoading:!1,isBrowserActive:!0,modals:{},slugs:[],navMode:2,dataFromInput:null,isIdle:!1,unreadCounter:{chat_message:0,workspace_post:0,workspace_chat_message:0,chat_reminder_message:0,unread_channel:0,unread_posts:0,general_post:0,generate_post_comment:0},socketMounted:!1,searchValue:"",searchResults:{},searchCount:0,searching:!1,tabs:{},links:[],todos:{isLoaded:!1,hasMore:!0,skip:0,limit:25,count:{new:0,today:0,all:0,overdue:0,done:0,assigned_to_others:0,added_by_others:0},done:{hasMore:!0,skip:0,limit:10},overdue:{hasMore:!0,skip:0,limit:25},items:{},doneRecently:[]},releases:{timestamp:null,items:[]}},da={user:null,notifications:{},unreadCount:0,hasSubscribed:!0},ua={user:{},companyPosts:{flipper:!0,limit:25,prev_skip:0,next_skip:0,total_take:0,has_more:!0,posts:{},filter:"inbox",sort:"recent",tag:null,postListTag:null,count:{},search:"",searchResults:[],unreadPosts:0},archived:{skip:0,has_more:!0,limit:25},favourites:{skip:0,has_more:!0,limit:25},myPosts:{skip:0,has_more:!0,limit:25},posts:{},postsLists:[],drafts:[],totalPostsCount:0,unreadPostsCount:0,editPostComment:null,commentQuotes:{},parentId:null,recentPosts:{},clearApprovingState:null,changeRequestedComment:null,commentType:null,commentDrafts:[]},ma=a(21),pa=a.n(ma),fa={sessionUser:null,driff:{i18n:1605864545,isSettingsLoaded:!1,isCompSettingsLoaded:!1,company_name:"ZUID Creatives",settings:{maintenance_mode:!1,google_login:!0,magic_link:!0,password_login:!0,sign_up:!0},ANNOUNCEMENT_AT:null,ANNOUNCEMENT_LINK:null,READ_RELEASE_UPDATES:null},user:{isLoaded:!1,CHAT_SETTINGS:{chat_filter:"pills-home",sound_enabled:!0,open_topic_channels:[],order_channel:{order_by:"channel_date_updated",sort_by:"DESC"},preview_message:!0,chat_message_theme:{preset:"default",self:{chat_bubble_focus_border_color:"rgba(151,44,134,0.25)",chat_bubble_text_color:"#ffffff",chat_bubble_background_color:"#7A1B8B",chat_bubble_link_color:"#ffffff",chat_bubble_hover_color:"#fff",chat_bubble_quote_background_color:"#8C3B9B",chat_bubble_quote_text_color:"#ffffffe6",chat_bubble_quote_link_color:"#FF4445",chat_bubble_quote_hover_color:"#7a1b8b"},others:{chat_bubble_focus_border_color:"rgba(151,44,134,0.25)",chat_bubble_name_text_color:"#AAB0C8",chat_bubble_text_color:"#000000",chat_bubble_background_color:"#F0F0F0",chat_bubble_link_color:"#8C3B9B",chat_bubble_hover_color:"#0056b3",chat_bubble_quote_background_color:"#E4E4E4",chat_bubble_quote_text_color:"#000000",chat_bubble_quote_link_color:"#FF4445",chat_bubble_quote_hover_color:"#0056b3"}},virtualization:!1,translate:!1},GENERAL_SETTINGS:{daily_digest:!0,notification_sound:"appointed",is_new:!0,timezone:pa.a.tz.guess(),dark_mode:"0",log_rocket:"0",sentry:"0",language:null,active_topic:null,workspace_open_folder:{},date_format:"DD-MM-YYYY",time_format:"HH:mm",personal_links:[],notifications_on:!0,order_channel:{order_by:"channel_date_updated",sort_by:"DESC"},translated_channels:[],chat_language:"en"},READ_ANNOUNCEMENT:null,ORDER_CHANNEL:{order_by:"channel_date_updated",sort_by:"DESC"}},isLoaded:!1},ba={tags:{}},ha={user:null,users:{},getUserFilter:{hasMore:!1,limit:1e3,skip:0},viewedProfile:null,onlineUsers:[],mentions:{},roles:{},externalUsers:[],archivedUsers:[],profileSlider:null},Ea={flipper:!0,user:{},workspaces:{},activeTopic:null,activeTab:"intern",favoriteWorkspacesLoaded:!1,workspacesLoaded:!1,externalWorkspacesLoaded:!1,workspacePosts:{},postComments:{},drafts:[],workspaceTimeline:{},workspace:{},folders:{},activeChannel:null,workspaceToDelete:null,folderToDelete:null,isOnClientChat:null,search:{results:[],searching:!1,filterBy:"all",value:"",page:1,maxPage:1,count:0,hasMore:!1,counters:{all:0,new:0,nonMember:0,external:0,private:0,archived:0,member:0,favourites:0},filters:{private:{checked:!1,label:"Private",key:"private"},archived:{checked:!1,label:"Archived",key:"archived"},nonMember:{checked:!1,label:"Non member",key:"nonMember"},new:{checked:!1,label:"New",key:"new"},external:{checked:!1,label:"External",key:"external"}}},workspaceReminders:{}},_a=Object(It.combineReducers)({session:P.sessionReducer,chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SIDEBAR_SEARCH":return Object(R.a)(Object(R.a)({},e),{},{chatSidebarSearch:t.data.value});case"GET_GLOBAL_RECIPIENTS_SUCCESS":var a=Object(R.a)({},e.channels);return t.data.result.filter((function(e){return!!e.id&&!("DIRECT"!==e.type||!e.profile)})).forEach((function(t){"DIRECT"===t.type&&(t.members=[Object(R.a)({},t.profile),{id:e.user.id,name:e.user.name,profile_image_link:e.user.profile_image_link,profile_image_thumbnail_link:e.user.profile_image_thumbnail_link?e.user.profile_image_thumbnail_link:e.user.profile_image_link,email:e.user.email}],t.title=t.profile.name,t.replies=[],t.recipient_ids=[t.id],t.add_user=!0),"TOPIC"===t.type&&(t.members=t.channel_members,t.replies=[],t.add_open_topic=!0,null===t.channel_code?t.recipient_ids=[t.id]:(t.hasMore=!0,t.code=t.channel_code,t.entity_id=t.channel_id,t.read_only=!0)),a[t.key_id]=Object(R.a)(Object(R.a)(Object(R.a)({},a[t.key_id]),t),{},{id:t.key_id,is_pinned:!1,is_hidden:!1,is_archived:!1})})),Object(R.a)(Object(R.a)({},e),{},{channels:a});case"RENAME_CHANNEL_KEY":var n=Object(R.a)({},e.channels);delete n[t.data.old_id],delete t.data.old_id;var r=Object(R.a)(Object(R.a)({},t.data),{},{selected:!0}),i=Object(R.a)({},e.selectedChannel);return t.data.selected&&i&&(n[i.id].selected=!1),Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},n),{},Object(x.a)({},r.id,r)),selectedChannel:r,lastVisitedChannel:r});case"ADD_CHANNELS":var o=Object(R.a)({},e.channels),c={};return t.data.channels.filter((function(e){return null!==e.id})).filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){o.hasOwnProperty(e.id)?c[e.id]=Object(R.a)(Object(R.a)(Object(R.a)({},"undefined"!==typeof c[e.id]&&c[e.id]),e),{},{replies:o[e.id].replies,hasMore:!0,skip:0,isFetching:!1}):c[e.id]=Object(R.a)(Object(R.a)(Object(R.a)({},"undefined"!==typeof c[e.id]&&c[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1})})),Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},e.channels),c),fetch:{skip:t.data.channels.length+e.fetch.skip,limit:25,fetching:!1,hasMore:25===t.data.channels.length},channelsLoaded:!0});case"SEARCH_CHANNELS_SUCCESS":var s=Object(R.a)({},e.channels);return t.data.results.length>0&&t.data.results.filter((function(e){return null!==e.id})).filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){s.hasOwnProperty(e.id)||(s[e.id]=Object(R.a)(Object(R.a)(Object(R.a)({},"undefined"!==typeof s[e.id]&&s[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1}))})),Object(R.a)(Object(R.a)({},e),{},{channels:s});case"GET_WORKSPACE_CHANNELS_SUCCESS":var l=Object(R.a)({},e.channels);return t.data.filter((function(t){return!(e.selectedChannel&&e.selectedChannel.id===t.id)})).forEach((function(e){l[e.id]=Object(R.a)(Object(R.a)(Object(R.a)({},l[e.id]),e),{},{hasMore:!0,skip:0,replies:[],selected:!1,isFetching:!1})})),Object(R.a)(Object(R.a)({},e),{},{channels:l});case"GET_CHANNEL_SUCCESS":var d=e.channels[t.data.id];return"undefined"===typeof d&&(d=Object(R.a)(Object(R.a)({},t.data),{},{hasMore:!0,skip:0,isFetching:!1})),Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.id,d))});case"GET_WORKSPACES_SUCCESS":return e;case"UPDATE_CHANNEL_REDUCER":var u=Object(R.a)(Object(R.a)({},e.channels[t.data.id]),t.data);return Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.id,u)),companyChannel:e.companyChannel&&e.companyChannel.id===t.data.id?Object(R.a)(Object(R.a)({},e.companyChannel),t.data):e.companyChannel,selectedChannel:e.selectedChannel&&e.selectedChannel.id===u.id?u:e.selectedChannel});case"SET_SELECTED_CHANNEL":var m=Object(R.a)({},e.channels[t.data.id]),p=Object(R.a)({},e.channels);return e.selectedChannel&&(p[e.selectedChannel.id]&&(p[e.selectedChannel.id].selected=!1),p[t.data.id]&&(p[t.data.id].selected=!0)),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:m,channels:p,lastVisitedChannel:m});case"UPDATE_MEMBER_TIMESTAMP":var f=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(f=Object(R.a)({},e.channels[t.data.channel_id]),f=Object(R.a)(Object(R.a)({},f),{},{is_read:!0,total_unread:e.user&&e.user.id===t.data.member_id?0:f.total_unread,members:f.members.map((function(e){return e.id===t.data.member_id?Object(R.a)(Object(R.a)({},e),{},{last_visited_at:{timestamp:t.data.timestamp+3}}):e})),replies:t.data.member_id===e.user.id&&f.replies?f.replies.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{is_read:!0})})):f.replies})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==f?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,f)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===parseInt(t.data.channel_id)?f:e.selectedChannel});case"ADD_TO_CHANNELS":return Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.id,t.data))});case"GET_CHAT_MESSAGES_SUCCESS":var b=Object(R.a)({},e.channels[t.data.channel_id]),h=[].concat(Object(Rt.a)(t.data.results.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{is_read:!0,body:e.body.replace(/<[/]?img src=\"data:image[^>]*>/gi,""),channel_id:t.data.channel_id,is_fancy:!1})}))),Object(Rt.a)(b.replies)),E=Zt(h,"id");return b=Object(R.a)(Object(R.a)({},b),{},{replies:E.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp===0?e.id-t.id:e.created_at.timestamp-t.created_at.timestamp})),read_only:t.data.read_only,hasMore:20===t.data.results.length,skip:0===b.skip&&b.replies.length?b.replies.length+20:b.skip+20,isFetching:!1}),Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,b))},b&&e.selectedChannel&&{selectedChannel:b.id===e.selectedChannel.id?b:e.selectedChannel});case"MARK_ALL_MESSAGES_AS_READ":var _=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(_=Object(R.a)({},e.channels[t.data.channel_id]),_=Object(R.a)(Object(R.a)({},_),{},{replies:_.replies.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{is_read:!0})}))})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==_?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,_)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)({},_):e.selectedChannel});case"UPDATE_UNREAD_CHAT_REPLIES":return Object(R.a)(Object(R.a)({},e),{},{selectedChannel:t.data.id===e.selectedChannel.id?t.data:e.selectedChannel,channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.id,t.data)),unreadChatCount:e.unreadChatCount>0?e.unreadChatCount-t.data.minus_count:e.unreadChatCount});case"ADD_CHAT_MESSAGE":var O=Object(R.a)({},e.channels[t.data.channel_id]);return O=Object(R.a)(Object(R.a)({},O),{},{replies:[].concat(Object(Rt.a)(O.replies),[t.data]),last_reply:t.data}),Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,O)),selectedChannel:e.selectedChannel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:[].concat(Object(Rt.a)(e.selectedChannel.replies),[t.data]),last_reply:t.data}):e.selectedChannel});case"SET_TRANSLATED_BODY":var g=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(g=Object(R.a)({},e.channels[t.data.channel_id]),g=Object(R.a)(Object(R.a)({},g),{},{is_hidden:!1,last_reply:g.last_reply&&g.last_reply.id===t.data.id?t.data:g.last_reply,replies:g.replies.map((function(e){return e.id===t.data.id?t.data:e}))})),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:e.selectedChannel&&g&&e.selectedChannel.id===g.id?g:e.selectedChannel,channels:null!==g?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,g)):e.channels});case"SET_FANCY_LINK":var v=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(v=Object(R.a)({},e.channels[t.data.channel_id]),v=Object(R.a)(Object(R.a)({},v),{},{is_hidden:!1,last_reply:v.last_reply&&v.last_reply.id===t.data.id?t.data:v.last_reply,replies:v.replies.map((function(e){return e.id===t.data.id?t.data:e}))})),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:e.selectedChannel&&v&&e.selectedChannel.id===v.id?v:e.selectedChannel,channels:null!==v?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,v)):e.channels});case"SET_CHANNEL_TRANSLATE_STATE":var A=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.id)&&(A=Object(R.a)({},e.channels[t.data.id]),A=Object(R.a)(Object(R.a)({},A),{},{is_translate:t.data.is_translate})),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:e.selectedChannel&&A&&e.selectedChannel.id===A.id?A:e.selectedChannel,channels:null!==A?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.id,A)):e.channels});case"RESET_TRANSLATED_BODY":var j=Object(R.a)({},e.channels[t.data.channel_id]);return console.log(j),e;case"INCOMING_CHAT_MESSAGE":var C=!1,T=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&((T=Object(R.a)({},e.channels[t.data.channel_id])).id===t.data.channel_id&&t.data.user.id===e.user.id&&t.data.reference_id&&(C=T.replies.some((function(e){return e.reference_id===t.data.reference_id}))),T=Object(R.a)(Object(R.a)({},T),{},{is_hidden:!1,replies:C?T.replies.map((function(e){return e.id===t.data.reference_id?Object(R.a)(Object(R.a)({},e),{},{id:t.data.id,created_at:t.data.created_at,updated_at:t.data.created_at}):Object(R.a)(Object(R.a)({},e),{},{is_read:!0})})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp===0?e.id-t.id:e.created_at.timestamp-t.created_at.timestamp})):[].concat(Object(Rt.a)(T.replies),[t.data]).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp===0?e.id-t.id:e.created_at.timestamp-t.created_at.timestamp})),last_visited_at_timestamp:Vt(),last_reply:t.data,total_unread:t.data.is_read?0:T.total_unread+1})),Object(R.a)(Object(R.a)({},e),{},{lastReceivedMessage:t.data,selectedChannel:e.selectedChannel&&T&&e.selectedChannel.id===T.id?T:e.selectedChannel,channels:null!==T?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,T)):e.channels});case"INCOMING_CHAT_MESSAGE_FROM_OTHERS":var y=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.reply.channel_id)&&(y=Object(R.a)({},e.channels[t.data.reply.channel_id]),y=Object(R.a)(Object(R.a)({},y),{},{replies:[].concat(Object(Rt.a)(y.replies),[t.data.reply]),is_hidden:!1,last_reply:t.data.last_reply,total_unread:e.selectedChannel&&e.selectedChannel.id===t.data.reply.channel_id?y.total_unread:y.total_unread+1})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==y?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.reply.channel_id,y)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.reply.channel_id&&e.selectedChannel.replies?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:[].concat(Object(Rt.a)(e.selectedChannel.replies),[t.data.reply]),last_reply:t.data.last_reply?t.data.last_reply:e.selectedChannel.last_reply}):e.selectedChannel});case"GENERATE_UNFURL_REDUCER":if(t.data.channel_id){var S=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(S=Object(R.a)({},e.channels[t.data.channel_id]),S=Object(R.a)(Object(R.a)({},S),{},{replies:S.replies.map((function(e){return e.id===t.data.message_id?Object(R.a)(Object(R.a)({},e),{},{unfurls:t.data.unfurls,unfurl_loading:!1}):e}))})),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.id===t.data.message_id?Object(R.a)(Object(R.a)({},e),{},{unfurls:t.data.unfurls,unfurl_loading:!1}):e}))}):e.selectedChannel,channels:null!==S?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,S)):e.channels})}return e;case"INCOMING_ARCHIVED_CHANNEL":var k=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(k=Object(R.a)({},e.channels[t.data.channel_id]),k=Object(R.a)(Object(R.a)({},k),{},{is_archived:"ARCHIVED"===t.data.status})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==k?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,k)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{is_archived:"ARCHIVED"===t.data.status}):e.selectedChannel});case"ARCHIVE_REDUCER":var w="ARCHIVED"===t.data.status;return Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)({},Object.values(e.channels).map((function(e){return w?t.data.topic_detail?e.entity_id===t.data.topic_detail.id?Object(R.a)(Object(R.a)({},e),{},{is_archived:!0}):e:t.data.channel_id===e.id?Object(R.a)(Object(R.a)({},e),{},{is_archived:!0}):e:e})).reduce((function(e,t){return e[t.id]=t,e}),{})),selectedChannel:e.selectedChannel&&t.data.topic_detail&&t.data.topic_detail.id===e.selectedChannel.entity_id||e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{is_archived:"ARCHIVED"===t.data.status}):e.selectedChannel});case"UNARCHIVE_REDUCER":var N=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(N=Object(R.a)({},e.channels[t.data.channel_id]),N=Object(R.a)(Object(R.a)({},N),{},{is_archived:"UNARCHIVED"!==t.data.status})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==N?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,N)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{is_archived:"UNARCHIVED"!==t.data.status}):e.selectedChannel});case"INCOMING_CHAT_MESSAGE_REACTION":var I=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(I=Object(R.a)({},e.channels[t.data.channel_id]),I=Object(R.a)(Object(R.a)({},I),{},{replies:I.replies.map((function(e){if(e.id===t.data.message_id){if("CREATED"===t.data.status){var a=e.reactions.filter((function(e){return e.id!==t.data.id}));return Object.assign({},e,{reactions:[].concat(Object(Rt.a)(a),[t.data])})}return Object.assign({},e,{reactions:e.reactions.filter((function(e){return e.id!==t.data.id}))})}return e}))})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==I?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,I)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)({},I):e.selectedChannel});case"SET_CHANNEL_HISTORICAL_POSITION":var P=!1;return e.historicalPositions.length?(e.historicalPositions.forEach((function(e){e.channel_id===t.data.channel_id&&(P=!0)})),P?Object(R.a)(Object(R.a)({},e),{},{historicalPositions:e.historicalPositions.map((function(e){return e.channel_id===t.data.channel_id?t.data:e}))}):Object(R.a)(Object(R.a)({},e),{},{historicalPositions:[].concat(Object(Rt.a)(e.historicalPositions),[t.data])})):Object(R.a)(Object(R.a)({},e),{},{historicalPositions:[t.data]});case"INCOMING_UPDATED_CHAT_MESSAGE":var D=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(D=Object(R.a)({},e.channels[t.data.channel_id]),D=Object(R.a)(Object(R.a)({},D),{},{replies:D.replies.map((function(e){return e.id===t.data.id?Object(R.a)(Object(R.a)({},e),{},{body:t.data.body,updated_at:t.data.updated_at}):e})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})),last_reply:D.last_reply&&D.last_reply.id===t.data.id?Object(R.a)(Object(R.a)({},D.last_reply),{},{body:t.data.body}):D.last_reply})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==D?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,D)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)({},D):e.selectedChannel});case"SET_EDIT_CHAT_MESSAGE":return Object(R.a)(Object(R.a)({},e),{},{editChatMessage:t.data});case"INCOMING_DELETED_CHAT_MESSAGE":var L=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(L=Object(R.a)({},e.channels[t.data.channel_id]),L=Object(R.a)(Object(R.a)({},L),{},{replies:L.replies.map((function(e){return e.id===t.data.id?Object(R.a)(Object(R.a)({},e),{},{is_deleted:!0,body:"The chat message has been deleted",files:[]}):e})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})),last_reply:L.last_reply.id===t.data.id?Object(R.a)(Object(R.a)({},L.last_reply),{},{body:"The chat message has been deleted",is_deleted:!0}):L.last_reply})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==L?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,L)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)({},L):e.selectedChannel});case"ON_CLICK_SEND_BUTTON":return Object(R.a)(Object(R.a)({},e),{},{sendButtonClicked:t.data});case"ADD_QUOTE":var F=e.chatQuotes;return Object.keys(e.chatQuotes).length>0&&e.chatQuotes.hasOwnProperty(t.data.channel_id)?(delete(F=Object(R.a)({},e.chatQuotes))[t.data.channel_id],F=Object(R.a)(Object(R.a)({},F),{},Object(x.a)({},t.data.channel_id,t.data))):F=Object(R.a)(Object(R.a)({},e.chatQuotes),{},Object(x.a)({},t.data.channel_id,t.data)),Object(R.a)(Object(R.a)({},e),{},{chatQuotes:F});case"CLEAR_QUOTE":var M=Object(R.a)({},e.chatQuotes);return delete M[t.data.channel_id],Object(R.a)(Object(R.a)({},e),{},{chatQuotes:M});case"SAVE_DRAFT_SUCCESS":var U=Object(R.a)({},e.channelDrafts);return"channel"===t.data.data.draft_type&&(U[t.data.data.channel_id]=Object(R.a)(Object(R.a)({},t.data.data),{},{draft_id:t.data.id})),Object(R.a)(Object(R.a)({},e),{},{channelDrafts:U});case"ADD_TO_CHANNEL_DRAFTS":var G=e.channelDrafts;return Object.keys(e.channelDrafts).length>0&&e.channelDrafts.hasOwnProperty(t.data.channel_id)?(delete(G=Object(R.a)({},e.channelDrafts))[t.data.channel_id],G=Object(R.a)(Object(R.a)({},G),{},Object(x.a)({},t.data.channel_id,t.data))):G=Object(R.a)(Object(R.a)({},G),{},Object(x.a)({},t.data.channel_id,t.data)),Object(R.a)(Object(R.a)({},e),{},{channelDrafts:G});case"CLEAR_CHANNEL_DRAFT":var H=Object(R.a)({},e.channelDrafts);return delete H[t.data.channel_id],Object(R.a)(Object(R.a)({},e),{},{channelDrafts:H});case"GET_CHANNEL_DRAFTS_SUCCESS":var B=e.channelDrafts;return t.data.filter((function(e){return"channel"===e.data.type})).forEach((function(e){B[e.data.channel_id]=Object(R.a)(Object(R.a)({},e.data),{},{draft_id:e.id})})),Object(R.a)(Object(R.a)({},e),{},{channelDrafts:B,channelDraftsLoaded:!0});case"INCOMING_UPDATED_CHANNEL_DETAIL":var W=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.id)&&(W=Object(R.a)({},e.channels[t.data.id]),W=Object(R.a)(Object(R.a)(Object(R.a)({},W),t.data),{},{replies:[].concat(Object(Rt.a)(W.replies),[t.data.message]).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==W?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.id,W)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(R.a)({},W):e.selectedChannel});case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{user:t.data,channels:Object(R.a)({},Object.values(e.channels).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{isFetching:!1})})).reduce((function(e,t){return e[t.id]=t,e}),{})),selectedChannel:e.selectedChannel?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{isFetching:!1}):e.selectedChannel});case"UPDATE_CHAT_MESSAGE_REMINDER_COMPLETE":var Y=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(Y=Object(R.a)({},e.channels[t.data.channel_id]),Y=Object(R.a)(Object(R.a)({},Y),{},{replies:Y.replies.map((function(e){if(e.id===t.data.message_id){e.original_body&&(e.body=e.original_body);var a=e.body.replace(e.body.substr(0,e.body.search(" in ")+4,e.body),"");e.body=e.body.replace(" in ".concat(a),' in <a class="push" data-href="/chat/'.concat(e.quote.channel_code,'">#').concat(a,"</a>"));var n="/chat/".concat(e.quote.channel_code,"/").concat(e.quote.code);return e.body=e.body.replace("this message",'<a class="push" data-href="'.concat(n,'">this message</a>')),e.body='<span class="completed">'.concat(e.body,"</span><br/> ").concat(e.original_body.replace("You asked me to remind you","OK! I\u2019ve marked the reminder")," as complete."),e}return e}))})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==Y?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,Y)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)({},Y):e.selectedChannel});case"UPDATE_CHANNEL_MEMBERS_TITLE":var V=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(V=Object(R.a)({},e.channels[t.data.channel_id]),V=Object(R.a)(Object(R.a)({},V),{},{members:t.data.members,title:t.data.title})),Object(R.a)(Object(R.a)({},e),{},{channels:null!==V?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,V)):e.channels,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)({},V):e.selectedChannel});case"SAVE_LAST_VISITED_CHANNEL":var Q=e.channels[t.data.id];return"undefined"===typeof Q&&(Q=t.data),Object(R.a)(Object(R.a)({},e),{},{lastVisitedChannel:Q});case"RESTORE_LAST_VISITED_CHANNEL":var K=Object(R.a)({},e.channels[t.data.channel_id]);return Object(R.a)(Object(R.a)({},e),{},{selectedChannel:K.hasOwnProperty("id")?K:e.selectedChannel});case"CLEAR_SELECTED_CHANNEL":return Object(R.a)(Object(R.a)({},e),e.lastVisitedChannel&&{selectedChannel:e.lastVisitedChannel?Object(R.a)({},e.channels[e.lastVisitedChannel.id]):null});case"JOIN_WORKSPACE_REDUCER":var z=Object(R.a)({},e.channels),q=e.selectedChannel?Object(R.a)({},e.selectedChannel):null;if(Object.keys(z).length&&z.hasOwnProperty(t.data.channel_id)){var J=Object(R.a)(Object(R.a)({},z[t.data.channel_id]),{},{members:[].concat(Object(Rt.a)(z[t.data.channel_id].members),Object(Rt.a)(t.data.users)),replies:[].concat(Object(Rt.a)(z[t.data.channel_id].replies),[t.data.message])});z[t.data.channel_id].members=[].concat(Object(Rt.a)(z[t.data.channel_id].members),Object(Rt.a)(t.data.users)),z[t.data.channel_id].replies=[].concat(Object(Rt.a)(z[t.data.channel_id].replies),[t.data.message]),q&&J.id===q.id&&(q=J)}return Object(R.a)(Object(R.a)({},e),{},{channels:z,selectedChannel:q});case"UNREAD_CHANNEL_REDUCER":var Z=Object(R.a)({},e.channels);return Z.hasOwnProperty(t.data.channel_id)&&(Z=Object(R.a)(Object(R.a)({},Z),{},Object(x.a)({},t.data.channel_id,Object(R.a)(Object(R.a)({},Z[t.data.channel_id]),{},{is_read:!1})))),Object(R.a)(Object(R.a)({},e),{},{channels:Z,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{is_read:!1}):e.selectedChannel});case"UPDATE_UNREAD_LIST_COUNTER":var X=Object(R.a)({},e.channels),$=Object(R.a)({},e.selectedChannel);return"UNREAD_CHANNEL"===t.data.entity_group_type?(X.hasOwnProperty(t.data.entity_id)&&(X[t.data.entity_id].is_read=!1,e.selectedChannel&&e.selectedChannel.id===t.data.entity_id&&($.is_read=!1)),Object(R.a)(Object(R.a)({},e),{},{channels:X,selectedChannel:$})):e;case"INCOMING_UPDATED_WORKSPACE_FOLDER":var ee=[];return"WORKSPACE"===t.data.type&&t.data.team_channel&&e.channels[t.data.team_channel.id]&&(ee=e.channels[t.data.team_channel.id].replies.filter((function(e){return e.body.startsWith("POST_CREATE::")&&!e.shared_with_client}))),Object(R.a)(Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)(Object(R.a)({},e.channels),"WORKSPACE"===t.data.type&&e.channels[t.data.channel.id]&&Object(x.a)({},t.data.channel.id,Object(R.a)(Object(R.a)(Object(R.a)({},e.channels[t.data.channel.id]),t.data.system_message&&{replies:[].concat(Object(Rt.a)(e.channels[t.data.channel.id].replies.filter((function(e){return!(e.body.startsWith("POST_CREATE::")&&t.data.is_shared&&!e.shared_with_client)}))),[Object(R.a)(Object(R.a)({},t.data.system_message),{},{created_at:t.data.updated_at,editable:!1,is_read:!0,is_deleted:!1,files:[],reactions:[],unfurls:[]})],Object(Rt.a)(ee))}),{},{icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))}))),"WORKSPACE"===t.data.type&&t.data.team_channel&&e.channels[t.data.team_channel.id]&&Object(x.a)({},t.data.team_channel.id,Object(R.a)(Object(R.a)({},e.channels[t.data.team_channel.id]),{},{replies:"WORKSPACE"===t.data.type&&e.channels[t.data.channel.id]&&t.data.is_shared?[].concat(Object(Rt.a)(e.channels[t.data.team_channel.id].replies),Object(Rt.a)(e.channels[t.data.channel.id].replies.filter((function(e){return e.body.startsWith("POST_CREATE::")&&!e.shared_with_client})))):e.channels[t.data.team_channel.id].replies.filter((function(e){return!e.body.startsWith("POST_CREATE::")})),icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.filter((function(e){return"external"!==e.type})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))})))},e.selectedChannel&&e.selectedChannel.id===t.data.channel.id&&{selectedChannel:Object(R.a)(Object(R.a)(Object(R.a)({},e.selectedChannel),t.data.system_message&&{replies:[].concat(Object(Rt.a)(e.channels[t.data.channel.id].replies.filter((function(e){return!(e.body.startsWith("POST_CREATE::")&&t.data.is_shared&&!e.shared_with_client)}))),[Object(R.a)(Object(R.a)({},t.data.system_message),{},{created_at:t.data.updated_at,editable:!1,is_read:!0,is_deleted:!1,files:[],reactions:[],unfurls:[]})],Object(Rt.a)(ee))}),{},{icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))})}),e.selectedChannel&&t.data.team_channel&&e.selectedChannel.id===t.data.team_channel.id&&{selectedChannel:Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:"WORKSPACE"===t.data.type&&e.channels[t.data.channel.id]&&t.data.is_shared?[].concat(Object(Rt.a)(e.selectedChannel.replies),Object(Rt.a)(e.channels[t.data.channel.id].replies.filter((function(e){return e.body.startsWith("POST_CREATE::")&&!e.shared_with_client})))):e.selectedChannel.replies.filter((function(e){return!e.body.startsWith("POST_CREATE::")})),icon_link:t.data.channel.icon_link,title:t.data.name,members:t.data.members.filter((function(e){return"external"!==e.type})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null})}))})});case"REMOVE_UNFURL":var te=Object(R.a)({},e.channels),ae=null;return"chat"===t.data.type&&te.hasOwnProperty(t.data.channel_id)&&(ae=Object(R.a)(Object(R.a)({},te[t.data.channel_id]),{},{replies:te[t.data.channel_id].replies.map((function(e){return e.id===t.data.message_id?Object(R.a)(Object(R.a)({},e),{},{unfurls:e.unfurls.filter((function(e){return e.id!==t.data.unfurl_id}))}):e}))}),te[t.data.channel_id]=ae),Object(R.a)(Object(R.a)({},e),{},{channels:te,selectedChannel:e.selectedChannel&&ae&&ae.id===e.selectedChannel.id?ae:e.selectedChannel});case"LEAVE_WORKSPACE":var ne=Object(R.a)({},e.channels);return ne.hasOwnProperty(t.data.channel_id)&&(ne[t.data.channel_id].members=ne[t.data.channel_id].members.filter((function(t){return t.id!==e.user.id}))),Object(R.a)(Object(R.a)({},e),{},{channels:ne,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{members:e.selectedChannel.members.filter((function(t){return t.id!==e.user.id}))}):e.selectedChannel});case"INCOMING_EXTERNAL_USER":var re=e.selectedChannel?Object(R.a)({},e.selectedChannel):null,ie=Object(R.a)({},e.channels);return re&&(ie[(re=Object(R.a)(Object(R.a)({},re),{},{members:re.members.map((function(e){return e.id===t.data.current_user.id?Object(R.a)(Object(R.a)({},e),t.data.current_user):e}))})).id]=re),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:re,channels:ie});case"SET_FETCHING_MESSAGES":var oe=Object(R.a)({},e.channels);return oe.hasOwnProperty(t.data.id)&&(oe[t.data.id].isFetching=t.data.status),Object(R.a)(Object(R.a)({},e),{},{channels:oe,selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{isFetching:t.data.status}):e.selectedChannel});case"SET_LAST_CHAT_VISIBILITY":return e.isLastChatVisible!==t.data.status?Object(R.a)(Object(R.a)({},e),{},{isLastChatVisible:t.data.status}):e;case"DELETE_POST_NOTIFICATION":var ce=Object(R.a)({},e.channels),se=e.selectedChannel?Object(R.a)({},e.selectedChannel):null;return t.data.forEach((function(e){ce.hasOwnProperty(e.channel.id)&&ce[e.channel.id].replies.length&&(ce[e.channel.id].replies=ce[e.channel.id].replies.filter((function(t){return t.id!==e.system_message.id}))),se&&se.id===e.channel.id&&se.replies.length&&(se.replies=se.replies.filter((function(t){return t.id!==e.system_message.id})))})),Object(R.a)(Object(R.a)({},e),{},{channels:ce,selectedChannel:se});case"INCOMING_POST_NOTIFICATION_MESSAGE":var le=Object(R.a)({},e.channels);return Object.keys(le).length&&le.hasOwnProperty(t.data.channel_id)&&(le=Object(R.a)({},Object.values(e.channels).map((function(e){return e.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e),{},{is_hidden:!1,last_reply:t.data,replies:e.replies.some((function(e){return e.id===t.data.id}))?e.replies.map((function(e){return e.id===t.data.id?t.data:e})):[].concat(Object(Rt.a)(e.replies),[t.data])}):!t.data.new_post&&t.data.topic&&"TOPIC"===e.type&&e.entity_id===t.data.topic.id?Object(R.a)(Object(R.a)({},e),{},{replies:e.replies.filter((function(e){return e.id!==t.data.id}))}):e})).reduce((function(e,t){return e[t.id]=t,e}),{}))),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:e.selectedChannel&&le[e.selectedChannel.id]?Object(R.a)(Object(R.a)({},le[e.selectedChannel.id]),{},{selected:!0}):e.selectedChannel,channels:le});case"REFETCH_MESSAGES_SUCCESS":var de=Object(R.a)({},e.channels),ue=null;if(t.data.channel_detail&&de.hasOwnProperty(t.data.channel_detail.id)){var me=[].concat(Object(Rt.a)(de[t.data.channel_detail.id].replies),Object(Rt.a)(t.data.current_latest_messages.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{channel_id:t.data.channel_detail.id})}))));ue=Object(R.a)(Object(R.a)({},t.data.channel_detail),{},{icon_link:de[t.data.channel_detail.id].icon_link,replies:Zt(me,"id").sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})),hasMore:de[t.data.channel_detail.id].hasMore,skip:de[t.data.channel_detail.id].skip,isFetching:!1}),de[t.data.channel_detail.id]=ue}return Object(R.a)(Object(R.a)({},e),{},{channels:de,selectedChannel:e.selectedChannel&&ue&&e.selectedChannel.id===ue.id?ue:e.selectedChannel});case"REFETCH_OTHER_MESSAGES_SUCCESS":var pe=t.data.filter((function(e){return e.count_message>0})),fe=Object(R.a)({},e.channels);return pe.forEach((function(e){if(fe.hasOwnProperty(e.channel_id)){var t=Object.values(e.messages).map((function(t){return Object(R.a)(Object(R.a)({},t),{},{channel_id:e.channel_id})})),a=[].concat(Object(Rt.a)(fe[e.channel_id].replies),Object(Rt.a)(t));fe[e.channel_id].replies=Zt(a,"id").sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))}})),Object(R.a)(Object(R.a)({},e),{},{channels:fe,selectedChannel:e.selectedChannel&&fe.hasOwnProperty(e.selectedChannel.id)?fe[e.selectedChannel.id]:e.selectedChannel});case"GET_CHANNEL_DETAIL_SUCCESS":var be=Object(R.a)({},e.channels);return be.hasOwnProperty(t.data.id)&&(be[t.data.id]=Object(R.a)(Object(R.a)({},t.data),{},{icon_link:be[t.data.id].icon_link,replies:be[t.data.id].replies,hasMore:be[t.data.id].hasMore,skip:be[t.data.id].skip,isFetching:!1})),Object(R.a)(Object(R.a)({},e),{},{channels:be});case"GET_LATEST_REPLY_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{lastReceivedMessage:t.data.latest_reply?{id:t.data.latest_reply.reply_id,channel_id:t.data.latest_reply.channel_id}:e.lastReceivedMessage});case"SET_CHANNEL_RANGE":return Object(R.a)(Object(R.a)({},e),{},{channelRange:Object(R.a)(Object(R.a)({},e.channelRange),{},Object(x.a)({},t.data.id,t.data.range))});case"GET_SELECT_CHANNEL_SUCCESS":if(t.data){var he=Object(R.a)({},e.channels),Ee=Object(R.a)(Object(R.a)({},t.data),{},{hasMore:!0,skip:0,selected:!0,isFetching:!1});return he=Object(R.a)(Object(R.a)({},he),{},Object(x.a)({},Ee.id,Ee)),Object(R.a)(Object(R.a)({},e),{},{channels:he,lastVisitedChannel:Ee,selectedChannel:Ee})}return e;case"GET_LAST_CHANNEL_SUCCESS":if(t.data){var _e=Object(R.a)({},e.channels),Oe=Object(R.a)(Object(R.a)({},t.data),{},{replies:t.data.replies.length?t.data.replies.sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})):[],hasMore:20===t.data.replies.length,skip:t.data.replies.length,selected:!0,isFetching:!1});return _e=Object(R.a)(Object(R.a)({},_e),{},Object(x.a)({},Oe.id,Oe)),Object(R.a)(Object(R.a)({},e),{},{channels:_e,lastVisitedChannel:Oe,selectedChannel:Oe})}return e;case"INCOMING_IMPORTANT_CHAT":return Object(R.a)(Object(R.a)(Object(R.a)({},e),e.selectedChannel&&e.selectedChannel.id===t.data.channel.id&&{selectedChannel:Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.id===t.data.chat_message.id?Object(R.a)(Object(R.a)({},e),t.data.chat_message):e}))})}),"undefined"!==typeof e.channels[t.data.channel.id]&&{channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel.id,Object(R.a)(Object(R.a)({},e.channels[t.data.channel.id]),{},{replies:e.channels[t.data.channel.id].replies.map((function(e){return e.id===t.data.chat_message.id?Object(R.a)(Object(R.a)({},e),t.data.chat_message):e}))})))});case"GET_CHAT_STAR_SUCCESS":return Object(R.a)(Object(R.a)(Object(R.a)({},e),e.selectedChannel&&-1!==e.selectedChannel.replies.findIndex((function(e){return e.id===t.data.chat_message_id}))&&{selectedChannel:Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.id===t.data.chat_message_id?Object(R.a)(Object(R.a)({},e),{},{star_users:t.data.users}):e}))})}),{},{channels:Object(R.a)({},Object.values(e.channels).map((function(a){return-1!==e.channels[a.id].replies.findIndex((function(e){return e.id===t.data.chat_message_id}))?Object(R.a)(Object(R.a)({},e.channels[a.id]),{},{replies:e.channels[a.id].replies.map((function(e){return e.id===t.data.chat_message_id?Object(R.a)(Object(R.a)({},e),{},{star_users:t.data.users}):e}))}):a})).reduce((function(e,t){return e[t.id]=t,e}),{}))});case"INCOMING_CHAT_STAR":return Object(R.a)(Object(R.a)(Object(R.a)({},e),e.selectedChannel&&e.selectedChannel.id===t.data.channel.id&&{selectedChannel:Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(a){return a.id===t.data.chat.id?Object(R.a)(Object(R.a)(Object(R.a)({},a),e.user.id===t.data.author.id&&{i_starred:1===t.data.star}),{},{star_count:1===t.data.star?a.star_count+1:a.star_count-1},"undefined"===typeof e.star_users?Object(R.a)({},1===t.data.star?{star_users:[t.data.author]}:{star_users:[]}):Object(R.a)({},1===t.data.star?{star_users:[e.star_users,t.data.author]}:{star_users:e.star_users.filter((function(e){return e.id!==t.data.author.id}))})):a}))})}),"undefined"!==typeof e.channels[t.data.channel.id]&&{channels:Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel.id,Object(R.a)(Object(R.a)({},e.channels[t.data.channel.id]),{},{replies:e.channels[t.data.channel.id].replies.map((function(a){return a.id===t.data.chat.id?Object(R.a)(Object(R.a)(Object(R.a)({},a),e.user.id===t.data.author.id&&{i_starred:1===t.data.star}),{},{star_count:1===t.data.star?a.star_count+1:a.star_count-1},"undefined"===typeof e.star_users?Object(R.a)({},1===t.data.star?{star_users:[t.data.author]}:{star_users:[]}):Object(R.a)({},1===t.data.star?{star_users:[e.star_users,t.data.author]}:{star_users:e.star_users.filter((function(e){return e.id!==t.data.author.id}))})):a}))})))});case"INCOMING_ARCHIVED_USER":return Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)({},Object.values(e.channels).map((function(e){return t.data.channel_ids.some((function(t){return t===e.id}))?Object(R.a)(Object(R.a)({},e),{},{members:e.members.filter((function(e){return e.id!==t.data.user.id}))}):e})).reduce((function(e,t){return e[t.id]=t,e}),{}))});case"INCOMING_UNARCHIVED_USER":return Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)({},Object.values(e.channels).map((function(e){return t.data.connected_channel_ids.some((function(t){return t===e.id}))?Object(R.a)(Object(R.a)({},e),{},{members:[].concat(Object(Rt.a)(e.members),[Object(R.a)(Object(R.a)({},t.data.profile),{},{last_visited_at:{timestamp:Math.floor(Date.now()/1e3)}})])}):e})).reduce((function(e,t){return e[t.id]=t,e}),{}))});case"GET_USER_BOTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{bots:{channels:t.data.channels.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{huddle:e.huddleBots.some((function(e){return e.channel.id===t.id}))?e.huddleBots.find((function(e){return e.channel.id===t.id})):null})})),user_bots:t.data.user_bots,loaded:!0},huddleBot:t.data.user_bots&&t.data.user_bots.length>0?t.data.user_bots[0]:null});case"GET_HUDDLE_CHATBOT_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{huddleBots:t.data.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{showToday:!1,questions:e.questions.sort((function(e,t){return e.id-t.id})).map((function(t,a){return Object(R.a)(Object(R.a)({},t),{},{isFirstQuestion:0===a,isLastQuestion:e.questions.length===a+1,answer:null,original_answer:null})}))})})),bots:Object(R.a)(Object(R.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return t.data.some((function(t){return t.channel.id===e.id}))?Object(R.a)(Object(R.a)({},e),{},{huddle:t.data.find((function(t){return t.channel.id===e.id}))}):e}))})});case"INCOMING_HUDDLE_BOT":return Object(R.a)(Object(R.a)({},e),{},{huddleBots:[].concat(Object(Rt.a)(e.huddleBots),[t.data]),bots:Object(R.a)(Object(R.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return t.data.channel.id===e.id?Object(R.a)(Object(R.a)({},e),{},{huddle:t.data}):e}))})});case"INCOMING_UPDATED_HUDDLE_BOT":return Object(R.a)(Object(R.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel.id?Object(R.a)(Object(R.a)({},e),t.data):e})),bots:Object(R.a)(Object(R.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return t.data.channel.id===e.id?Object(R.a)(Object(R.a)({},e),{},{huddle:e.huddle?Object(R.a)(Object(R.a)({},e.huddle),t.data):t.data}):e}))})});case"INCOMING_DELETED_HUDDLE_BOT":return Object(R.a)(Object(R.a)({},e),{},{huddleBots:e.huddleBots.filter((function(e){return e.id!==t.data.id})),bots:Object(R.a)(Object(R.a)({},e.bots),{},{channels:e.bots.channels.map((function(e){return e.huddle&&e.huddle.id===t.data.id?Object(R.a)(Object(R.a)({},e),{},{huddle:null}):e}))})});case"SAVE_HUDDLE_ANSWER":return Object(R.a)(Object(R.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e),{},{questions:e.questions.map((function(e){return e.id===t.data.question_id?Object(R.a)(Object(R.a)({},e),{},{answer:t.data.answer,original_answer:t.data.answer}):e}))}):e}))});case"POST_USER_BOTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{huddleBot:t.data,user_bots:[].concat(Object(Rt.a)(e.bots.user_bots),[t.data])});case"CLEAR_HUDDLE":return Object(R.a)(Object(R.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{questions:e.questions.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{answer:null})}))})}))});case"INCOMING_HUDDLE_ANSWERS":var ge=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel.id)&&(ge=Object(R.a)({},e.channels[t.data.channel.id]),ge=Object(R.a)(Object(R.a)({},ge),{},{replies:ge.replies.map((function(e){return e.id===t.data.message.id?Object(R.a)(Object(R.a)({},e),{},{huddle_log:t.data.huddle_log,body:t.data.message.body}):e})).filter((function(e){return!t.data.skip_message_ids||!t.data.skip_message_ids.some((function(t){return t===e.id}))}))})),Object(R.a)(Object(R.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(Rt.a)(e.hasUnpublishedAnswers),[t.data.channel.id]),selectedChannel:e.selectedChannel&&ge&&e.selectedChannel.id===ge.id?ge:e.selectedChannel,channels:null!==ge?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel.id,ge)):e.channels,huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel.id?Object(R.a)(Object(R.a)({},e),{},{huddle_log:Object(R.a)(Object(R.a)({},t.data.huddle_log),{},{huddle_id:e.id}),questions:e.questions.map((function(e){var a=t.data.huddle_answers.find((function(t){return t.huddle_question_id===e.id}));return a?Object(R.a)(Object(R.a)({},e),{},{answer:a.answer,original_answer:a.answer,answer_id:a.id}):e}))}):e})),skipIds:t.data.skip_message_ids?e.skipIds.filter((function(e){return!t.data.skip_message_ids.some((function(t){return t===e.id}))})):e.skipIds});case"ADD_HUDDLE_LOG":var ve=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(ve=Object(R.a)({},e.channels[t.data.channel_id]),ve=Object(R.a)(Object(R.a)({},ve),{},{replies:ve.replies.map((function(e){return e.id===t.data.message_id?Object(R.a)(Object(R.a)({},e),{},{huddle_log:t.data.huddle_log}):e}))})),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:e.selectedChannel&&ve&&e.selectedChannel.id===ve.id?ve:e.selectedChannel,channels:null!==ve?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel_id,ve)):e.channels,huddleBots:e.huddleBots.map((function(e){return e.channel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e),{},{questions:e.questions.map((function(e){var a=t.data.huddle_answers.find((function(t){return t.huddle_question_id===e.id}));return a?Object(R.a)(Object(R.a)({},e),{},{answer:a.answer,original_answer:a.answer,answer_id:a.id}):e}))}):e}))});case"SET_EDIT_HUDDLE_ANSWERS":var Ae=e.huddleBots.find((function(e){return e.channel.id===t.data.channel_id}));return Object(R.a)(Object(R.a)({},e),{},{editHuddle:Ae?Object(R.a)(Object(R.a)({},Ae),{},{questions:Ae.questions.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{answer:null})}))}):null});case"UPDATE_HUDDLE_ANSWER":return Object(R.a)(Object(R.a)({},e),{},{editHuddle:Object(R.a)(Object(R.a)({},e.editHuddle),{},{questions:e.editHuddle.questions.map((function(e){return e.id===t.data.question_id?Object(R.a)(Object(R.a)({},e),{},{answer:t.data.answer}):e}))})});case"CLEAR_EDIT_HUDDLE":return Object(R.a)(Object(R.a)({},e),{},{editHuddle:null});case"CLEAR_UNPUBLISHED_HUDDLE_ANSWER":var je=null,Ce=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel_id)&&(je=Object(R.a)({},e.channels[t.data.channel_id]),je=Object(R.a)(Object(R.a)({},je),{},{replies:je.replies.filter((function(e){return!t.data.huddle_deleted_message_ids.some((function(t){return t===e.id}))}))})),e.channels[t.data.huddle_channel_id]&&(Ce=Object(R.a)({},e.channels[t.data.huddle_channel_id]),Ce=Object(R.a)(Object(R.a)({},Ce),{},{replies:Ce.replies.filter((function(e){return!t.data.huddle_deleted_message_ids.some((function(t){return t===e.id}))}))})),Object(R.a)(Object(R.a)({},e),{},{selectedChannel:e.selectedChannel&&je&&e.selectedChannel.id===je.id?je:e.selectedChannel&&Ce&&e.selectedChannel.id===Ce.id?Ce:e.selectedChannel,channels:Object(R.a)(Object(R.a)(Object(R.a)({},e.channels),je&&Object(x.a)({},t.data.channel_id,je)),Ce&&Object(x.a)({},t.data.huddle_channel_id,Ce))});case"INCOMING_HUDDLE_SKIP":var Te=null;return Object.keys(e.channels).length>0&&e.channels.hasOwnProperty(t.data.channel.id)&&(Te=Object(R.a)({},e.channels[t.data.channel.id]),Te=Object(R.a)(Object(R.a)({},Te),{},{replies:[].concat(Object(Rt.a)(Te.replies),[t.data.message])})),Object(R.a)(Object(R.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(Rt.a)(e.hasUnpublishedAnswers),[t.data.channel.id]),selectedChannel:e.selectedChannel&&Te&&e.selectedChannel.id===Te.id?Te:e.selectedChannel,channels:null!==Te?Object(R.a)(Object(R.a)({},e.channels),{},Object(x.a)({},t.data.channel.id,Te)):e.channels});case"ADD_SKIP_ID":return Object(R.a)(Object(R.a)({},e),{},{skipIds:[].concat(Object(Rt.a)(e.skipIds),[t.data]),hasUnpublishedAnswers:e.hasUnpublishedAnswers.filter((function(e){return e!==t.data.channel_id}))});case"ADJUST_HUDDLE_DATE":return Object(R.a)(Object(R.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){if(e.repeat_select_monthly){if(ea<=3){if(ra(0===aa?11:aa-1,e.repeat_select_monthly)){var t=new Date(0===aa?ta-1:ta,0===aa?11:aa-1,e.repeat_select_monthly);if(ia(t)){var a=oa(t,0===t.getDay()?1:2);return a.getMonth()===aa?Object(R.a)(Object(R.a)({},e),{},{showToday:a.getDate()===ea}):Object(R.a)(Object(R.a)({},e),{},{showToday:!1})}return Object(R.a)(Object(R.a)({},e),{},{showToday:!1})}var n=new Date(ta,aa,1);if(ia(n)){var r=oa(n,0===n.getDay()?1:2);return Object(R.a)(Object(R.a)({},e),{},{showToday:r.getDate()===ea})}return Object(R.a)(Object(R.a)({},e),{},{showToday:n.getDate()===ea})}if(ea>3&&ra(aa,e.repeat_select_monthly)){var i=new Date(ta,aa,e.repeat_select_monthly);if(ia(i)){var o=oa(i,0===i.getDay()?1:2);return o.getMonth()===aa?Object(R.a)(Object(R.a)({},e),{},{showToday:o.getDate()===ea}):Object(R.a)(Object(R.a)({},e),{},{showToday:!1})}return Object(R.a)(Object(R.a)({},e),{},{showToday:e.repeat_select_monthly===ea})}return Object(R.a)(Object(R.a)({},e),{},{showToday:!1})}if(e.repeat_select_yearly){var c=parseInt(e.repeat_select_yearly.substr(0,4)),s=parseInt(e.repeat_select_yearly.substr(5,2))-1,l=parseInt(e.repeat_select_yearly.substr(8,2)),d=new Date(c,s,l);if(11!==s||30!==l&&31!==l){if(ia(d)){var u=oa(d,0===d.getDay()?1:2);return Object(R.a)(Object(R.a)({},e),{},{showToday:u.getDate()===ea&&u.getMonth()===aa})}return Object(R.a)(Object(R.a)({},e),{},{showToday:d.getDate()===ea&&s===aa})}if(ia(d)){var m=oa(d,0===d.getDay()?1:2);return Object(R.a)(Object(R.a)({},e),{},{showToday:m.getDate()===ea&&m.getMonth()===aa})}return Object(R.a)(Object(R.a)({},e),{},{showToday:d.getDate()===ea&&s===aa})}return e}))});case"GET_SKIPPED_ANSWERS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(Rt.a)(e.hasUnpublishedAnswers),Object(Rt.a)(t.data.map((function(e){return e.channel_id}))))});case"ADD_HAS_UNPUBLISHED_ANSWERS":return Object(R.a)(Object(R.a)({},e),{},{hasUnpublishedAnswers:[].concat(Object(Rt.a)(e.hasUnpublishedAnswers),[t.data.channel_id])});case"CLEAR_HAS_UNPUBLISHED_ANSWERS":return Object(R.a)(Object(R.a)({},e),{},{hasUnpublishedAnswers:[]});case"GET_UNPUBLISHED_ANSWERS_SUCCESS":if(t.data.length){var ye=t.data[0].huddle_log,Se=t.data[0].huddle_answers;return Object(R.a)(Object(R.a)({},e),{},{huddleBots:e.huddleBots.map((function(e){return e.id===ye.huddle_id?Object(R.a)(Object(R.a)({},e),{},{huddle_log:Object(R.a)(Object(R.a)({},ye),{},{message_id:ye.connected_message_id}),questions:e.questions.map((function(e){var t=Se.find((function(t){return t.huddle_question_id===e.id}));return t?Object(R.a)(Object(R.a)({},e),{},{answer_id:t.id,answer:t.answer,original_answer:t.answer}):e}))}):e}))})}return e;case"SET_SEARCH_ARCHIVED_CHANNELS":return Object(R.a)(Object(R.a)({},e),{},{searchArchivedChannels:t.data});case"GET_COMPANY_CHANNEL_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{companyChannel:t.data});case"UPDATE_COMPANY_CHANNEL":return Object(R.a)(Object(R.a)({},e),{},{companyChannel:Object(R.a)(Object(R.a)({},e.companyChannel),t.data),channels:Object(R.a)(Object(R.a)({},e.channels),e.channels[t.data.id]&&Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.channels[t.data.id]),t.data))),selectedChannel:e.selectedChannel&&e.selectedChannel.id===t.data.id?Object(R.a)(Object(R.a)({},e.selectedChannel),t.data):e.selectedChannel});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)(Object(R.a)({},e.channels),t.data.files.reduce((function(t,a){return e.channels[a.channel_id]&&(t[a.channel_id]=Object(R.a)(Object(R.a)({},e.channels[a.channel_id]),{},{replies:e.channels[a.channel_id].replies.map((function(e){return e.files.some((function(e){return e.file_id===a.file_id}))?Object(R.a)(Object(R.a)({},e),{},{files:e.files.map((function(e){return e.file_id===a.file_id?Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()},file_type:"trashed"}):e}))}):e}))})),t}),{})),selectedChannel:e.selectedChannel&&t.data.files.some((function(t){return t.channel_id===e.selectedChannel.id}))?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.files.some((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))}))?Object(R.a)(Object(R.a)({},e),{},{files:e.files.map((function(e){return t.data.files.some((function(t){return e.file_id===t.file_id}))?Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()},file_type:"trashed"}):e}))}):e}))}):e.selectedChannel});case"INCOMING_REMOVED_FILE_AFTER_DOWNLOAD":return Object(R.a)(Object(R.a)({},e),{},{channels:Object(R.a)({},Object.values(e.channels).reduce((function(e,a){return e[a.id]=Object(R.a)(Object(R.a)({},a),{},{replies:a.replies.map((function(e){return e.files.some((function(e){return e.file_id===t.data.file_id}))?Object(R.a)(Object(R.a)({},e),{},{files:e.files.map((function(e){return e.file_id===t.data.file_id?Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()},file_type:"trashed"}):e}))}):e}))}),e}),{})),selectedChannel:e.selectedChannel?Object(R.a)(Object(R.a)({},e.selectedChannel),{},{replies:e.selectedChannel.replies.map((function(e){return e.files.some((function(e){return e.file_id===t.data.file_id}))?Object(R.a)(Object(R.a)({},e),{},{files:e.files.map((function(e){return e.file_id===t.data.file_id?Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()},file_type:"trashed"}):e}))}):e}))}):e.selectedChannel});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMPANY_DASHBOARD_TIMELINE_SUCCESS":var a=e.timeline;return a.init=!0,a.skip+=a.limit,t.data.timeline.forEach((function(e){a.items[e.id]=e})),Object(R.a)({},e);case"GET_COMPANY_DASHBOARD_RECENT_POST_SUCCESS":var n=e.recent_posts;return n.init=!0,n.skip+=n.limit,t.data.recent_posts.forEach((function(e){n.items[e.id]=e})),Object(R.a)(Object(R.a)({},e),{},{recent_posts:n});case"GET_COMPANY_DASHBOARD_MEMBERS_SUCCESS":var r=e.members;return r.init=!0,r.skip+=r.limit,t.data.members.forEach((function(e){r.items[e.id]=e})),Object(R.a)(Object(R.a)({},e),{},{members:r});default:return e}},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{user:t.data});case"INCOMING_COMPANY_FOLDER":return Object(R.a)(Object(R.a)({},e),{},{companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{items:Object(R.a)(Object(R.a)({},e.companyFolders.items),{},Object(x.a)({},t.data.folder.id,Object(R.a)(Object(R.a)({},t.data.folder),{},{files:[],has_more:!0,init:!1,skip:100,limit:100})))})});case"INCOMING_COMPANY_UPDATED_FOLDER":var a=e.companyFolders.items;return a[t.data.folder.id]&&(a[t.data.folder.id]=Object(R.a)(Object(R.a)({},a[t.data.folder.id]),t.data.folder)),Object(R.a)(Object(R.a)({},e),{},{companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{items:a})});case"INCOMING_COMPANY_DELETED_FOLDER":var n=e.companyFolders.items;n[t.data.folder.id]&&(n[t.data.folder.id].is_archived=!0),t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof n[e]&&(n[e].is_archived=!0)}));var r=e.companyFiles;return t.data.connected_file_ids.forEach((function(e){"undefined"!==typeof r.items[e]&&(r.count={all:r.count.all-1,stars:r.count.stars-(r.items[e].is_favorite?1:0),trash:r.count.trash+1,storage:r.count.storage-r.items[e].size},r.trash_files.items[e]=r.items[e])})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:r,companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{items:n})});case"INCOMING_COMPANY_MOVE_FILE":var i=e.companyFolders.items;if(i[t.data.folder_id]?i[t.data.folder_id].files.push(t.data.file_id):i[t.data.folder_id]={init:!1,skip:0,limit:100,files:[t.data.file_id]},t.data.original_folder_id&&i[t.data.original_folder_id]){var o=i[t.data.original_folder_id].files.indexOf(t.data.folder_id);o>-1&&i[t.data.original_folder_id].files.splice(o,1)}return Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{items:Object(R.a)(Object(R.a)({},e.companyFiles.items),"undefined"!==typeof e.companyFiles.items[t.data.file_id]&&Object(x.a)({},t.data.file_id,Object(R.a)(Object(R.a)({},e.companyFiles.items[t.data.file_id]),{},{folder_id:t.data.folder_id})))}),companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{items:i})});case"COMPANY_FILE_UPDATE":case"INCOMING_COMPANY_UPDATED_FILE":var c=e.companyFiles.items;return c[t.data.file.id]&&(c[t.data.file.id]=t.data.file),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{items:c})});case"INCOMING_COMPANY_RESTORE_FOLDER":var s=e.companyFolders.items;t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof s[e]&&(s[e].is_archived=!1)}));var l=e.companyFiles.trash_files.items,d=e.companyFiles.items,u=0,m=0,p=0;return t.data.connected_file_ids.forEach((function(e){"undefined"!==typeof l[e]&&(u+=1,m+=l[e].is_favorite?1:0,p+=l[e].size,d[e]=l[e],delete l[e])})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{count:Object(R.a)(Object(R.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all+u,stars:e.companyFiles.count.stars+m,trash:e.companyFiles.count.trash-u,storage:e.companyFiles.count.storage+p}),items:Object(R.a)(Object(R.a)({},e.companyFiles.items),{},{items:d}),trash_files:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files),{},{items:l})}),companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{items:s})});case"INCOMING_COMPANY_RESTORE_FILE":var f=e.companyFiles.trash_files.items;return"undefined"===typeof f[t.data.file.id]?e:(delete f[t.data.file.id],Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{count:Object(R.a)(Object(R.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all+1,stars:t.data.file.is_favorite?e.companyFiles.count.stars+1:e.companyFiles.count.stars,trash:e.companyFiles.count.trash-1,storage:e.companyFiles.count.storage+t.data.file.size}),items:Object(R.a)(Object(R.a)({},e.companyFiles.items),{},Object(x.a)({},t.data.file.id,t.data.file)),trash_files:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files),{},{items:f})})}));case"INCOMING_REMOVED_COMPANY_FILE":var b=e.companyFiles.items;if("undefined"===typeof b[t.data.file_id])return"undefined"!==typeof e.companyFiles.trash_files.items[t.data.file_id]?(delete(b=e.companyFiles.trash_files.items)[t.data.file_id],Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{count:Object(R.a)(Object(R.a)({},e.companyFiles.count),{},{trash:e.companyFiles.count.trash-1}),trash_files:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files),{},{items:b})})})):e;var h=b[t.data.file_id];return delete b[t.data.file_id],Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{count:Object(R.a)(Object(R.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all-1,stars:h.is_favorite?e.companyFiles.count.stars-1:e.companyFiles.count.stars,trash:e.companyFiles.count.trash+1,storage:e.companyFiles.count.storage-h.size}),items:b,favorite_files:Object(R.a)(Object(R.a)({},e.companyFiles.favorite_files),{},{items:e.companyFiles.favorite_files.items.filter((function(e){return e!==h.id}))}),popular_files:Object(R.a)(Object(R.a)({},e.companyFiles.popular_files),{},{items:e.companyFiles.popular_files.items.filter((function(e){return e!==h.id}))}),recently_edited:Object(R.a)(Object(R.a)({},e.companyFiles.recently_edited),{},{items:e.companyFiles.recently_edited.items.filter((function(e){return e!==h.id}))}),trash_files:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files),{},{items:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files.items),{},Object(x.a)({},t.data.file_id,h))})})});case"INCOMING_COMPANY_EMPTY_TRASH":var E=e.companyFiles.items,_=e.companyFiles.trash_files.items,O=0,g=0,v=0,A=0;t.data.deleted_file_ids.forEach((function(e){E[e]&&(O+=1,g+=E[e].size,E[e].is_favorite&&(v+=1),delete E[e]),_[e]&&(A+=1,delete _[e])}));var j=e.companyFolders.items;return t.data.deleted_folder_ids.forEach((function(e){j[e]&&delete j[e]})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{count:Object(R.a)(Object(R.a)({},e.companyFiles.count),{},{all:e.companyFiles.count.all-O,stars:e.companyFiles.count.stars-v,trash:e.companyFiles.count.trash-A,storage:e.companyFiles.count.trash-g}),items:E,trash_files:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files),{},{items:_})}),companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{items:j})});case"ADD_COMPANY_FILE_SEARCH_RESULTS":return Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{items:Object(R.a)(Object(R.a)({},e.companyFiles.items),qt(t.data.search_results,"id")),search_results:t.data.search_results.map((function(e){return e.id})),search_value:t.data.search})});case"UPLOAD_COMPANY_FILES_REDUCER":var C=e.companyFolders,T=e.companyFiles.items;return t.data.files.forEach((function(e){T[e.id]=e,t.data.folder_id&&"undefined"!==typeof C.items[t.data.folder_id]&&!C.items[t.data.folder_id].files.includes(e.id)&&C.items[t.data.folder_id].files.push(e.id)})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{items:T}),companyFolders:C});case"INCOMING_COMPANY_FILES":var y=e.companyFolders,S=e.companyFiles,k=Object.values(S.items).filter((function(e){return e.uploading}));return t.data.files.forEach((function(e){var t=k.find((function(t){return t.size===e.size&&t.search===e.search}));if(t&&"undefined"!==typeof S.items[t.id]&&(delete S.items[t.id],e.folder_id)){var a=y.items[e.folder_id].files.findIndex((function(e){return e===t.id}));-1!==a&&y.items[e.folder_id].files.splice(a,1)}S.items[e.id]=e,S.count.all+=1,S.count.storage+=e.size,S.count.stars+=e.is_favorite?1:0,"undefined"===typeof y.items[e.folder_id]||y.items[e.folder_id].files.includes(e.id)||y.items[e.folder_id].files.push(e.id)})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:S,companyFolders:y});case"GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_SUCCESS":var w=e.companyFolders.items;return t.data.attachments.forEach((function(e){w[e.id]={id:e.id,is_archived:!1,parent_folder:null,search:e.payload.name,payload:e.payload,created_at:{timestamp:e.payload.lastEditedUtc},updated_at:{timestamp:e.payload.lastEditedUtc},link_type:e.link_type,link_id:e.link_index_id,attachment_type:e.attachment_type,files:[],subFolders:[]}})),Object(R.a)(Object(R.a)({},e),{},{companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{google_folders:Object(R.a)(Object(R.a)({},e.companyFolders.google_folders),{},{init:!0,skip:e.companyFolders.google_folders.skip+e.companyFolders.google_folders.limit,has_more:t.data.attachments.length===e.companyFolders.google_folders.limit}),items:w})});case"GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_SUCCESS":var N=Object(R.a)({},e.companyFiles),I=e.companyFiles.google_files.items,P=t.data.attachments.map((function(e){return I.includes(e.id)||I.push(e.id),{created_at:{timestamp:e.payload.lastEditedUtc},download_link:e.payload.embedUrl,folder_id:null,id:e.id,payload_id:e.payload.id,is_favorite:!1,link_id:t.data.topic_id,link_index_id:0,link_type:"TOPIC",mime_type:e.payload.mimeType,search:e.payload.name,size:e.payload.sizeBytes,type:e.payload.type,attachment_type:e.attachment_type}}));return N.items=Object(R.a)(Object(R.a)({},N.items),qt(P,"id")),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},N),{},{google_files:{init:!0,skip:e.companyFiles.google_files.skip+e.companyFiles.google_files.limit,has_more:P.length===e.companyFiles.google_files.limit,items:I}})});case"GET_COMPANY_FILES_SUCCESS":var D=e.companyFiles,L=e.companyFolders.items;return t.data.files.forEach((function(e){D.items[e.id],D.items[e.id]=e,e.folder_id&&L[e.folder_id]&&(L[e.folder_id].files.includes(e.id)||L[e.folder_id].files.push(e.id))})),t.data.folder_id&&"undefined"!==typeof L[t.data.folder_id]&&(L[t.data.folder_id]=Object(R.a)(Object(R.a)({},L[t.data.folder_id]),{},{init:!1,has_more:t.data.files.length===L[t.data.folder_id].limit,skip:L[t.data.folder_id].skip+L[t.data.folder_id].limit})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)(Object(R.a)({},e.companyFiles),D),{},{init:!0,skip:e.companyFiles.skip+e.companyFiles.limit,has_more:t.data.files.length===e.companyFiles.limit}),companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{items:L})});case"GET_COMPANY_FOLDERS_SUCCESS":var F=e.companyFolders.items;return t.data.folders.forEach((function(e){F[e.id]=Object(R.a)(Object(R.a)({},e),{},{init:!1,has_more:!0,skip:0,limit:100,files:[],subFolders:[]}),e.parent_folder&&"undefined"!==typeof F[e.parent_folder.id]&&(F[e.parent_folder.id].subFolders.some((function(t){return t.id===e.id}))||F[e.parent_folder.id].subFolders.push(e))})),Object(R.a)(Object(R.a)({},e),{},{companyFolders:Object(R.a)(Object(R.a)({},e.companyFolders),{},{init:!0,skip:e.companyFolders.skip+e.companyFolders.limit,has_more:t.data.folders.length===e.companyFolders.limit,items:F})});case"GET_COMPANY_FILES_DETAIL_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{count:{all:t.data.total_file_count,storage:t.data.total_storage,stars:t.data.total_file_stars,trash:t.data.total_file_trash}})});case"GET_COMPANY_FAVORITE_FILES_SUCCESS":var M=e.companyFiles.items;t.data.files.forEach((function(e){M[e.id]=e}));var U=e.companyFiles.favorite_files.items;return t.data.files.forEach((function(e){U.includes(e.id)||U.push(e.id)})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{items:M,favorite_files:Object(R.a)(Object(R.a)({},e.companyFiles.favorite_files),{},{has_more:t.data.files.length===e.companyFiles.favorite_files.limit,skip:e.companyFiles.favorite_files.skip+e.companyFiles.favorite_files.limit,items:U})})});case"GET_COMPANY_POPULAR_FILES_SUCCESS":var G=e.companyFiles.items;t.data.files.forEach((function(e){G[e.id]=e}));var H=e.companyFiles.popular_files.items;return t.data.files.forEach((function(e){H.includes(e.id)||H.push(e.id)})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{items:G,popular_files:Object(R.a)(Object(R.a)({},e.companyFiles.popular_files),{},{has_more:t.data.files.length===e.companyFiles.popular_files.limit,skip:e.companyFiles.popular_files.skip+e.companyFiles.popular_files.limit,items:H})})});case"GET_COMPANY_RECENT_EDITED_FILES_SUCCESS":var B=e.companyFiles.items;t.data.files.forEach((function(e){B[e.id]=e}));var W=e.companyFiles.recently_edited.items;return t.data.files.forEach((function(e){W.includes(e.id)||W.push(e.id)})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{items:B,recently_edited:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files),{},{has_more:t.data.files.length===e.companyFiles.recently_edited.limit,skip:e.companyFiles.recently_edited.skip+e.companyFiles.recently_edited.limit,items:W})})});case"GET_COMPANY_TRASHED_FILES_SUCCESS":var Y=e.companyFiles.trash_files.items;return t.data.files.forEach((function(e){Y[e.id]=e})),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{trash_files:Object(R.a)(Object(R.a)({},e.companyFiles.trash_files),{},{has_more:t.data.files.length===e.companyFiles.trash_files.limit,skip:e.companyFiles.trash_files.skip+e.companyFiles.trash_files.limit,items:Y})})});case"GET_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{files:qt(t.data.files,"id")});case"GET_CHANNEL_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{channelFiles:Object(R.a)(Object(R.a)({},e.channelFiles),{},Object(x.a)({},t.data.channel_id,Object(Rt.a)("undefined"===typeof e.channelFiles[t.data.channel_id]?Object.values(t.data.results).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})):Object.values(t.data.results).filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp})))))});case"INCOMING_CHAT_MESSAGE":return Object(R.a)(Object(R.a)({},e),t.data.files.length&&"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(R.a)(Object(R.a)({},e.channelFiles),{},Object(x.a)({},t.data.channel_id,[].concat(Object(Rt.a)(e.channelFiles[t.data.channel_id]),Object(Rt.a)(t.data.files.filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"ADD_CHANNEL_FILES":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(R.a)(Object(R.a)({},e.channelFiles),{},Object(x.a)({},t.data.channel_id,[].concat(Object(Rt.a)(e.channelFiles[t.data.channel_id]),Object(Rt.a)(t.data.files.filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"GET_CHAT_MESSAGES_SUCCESS":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(R.a)(Object(R.a)({},e.channelFiles),{},Object(x.a)({},t.data.channel_id,[].concat(Object(Rt.a)(e.channelFiles[t.data.channel_id]),Object(Rt.a)(t.data.results.map((function(e){return e.files})).reduce((function(e,t){return[].concat(Object(Rt.a)(e),Object(Rt.a)(t))}),[]).filter((function(a){return!e.channelFiles[t.data.channel_id].some((function(e){return e.file_id===a.file_id}))})).sort((function(e,t){return e.created_at.timestamp-t.created_at.timestamp}))))))});case"INCOMING_DELETED_CHAT_MESSAGE":case"DELETE_CHANNEL_FILES":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.channelFiles[t.data.channel_id]&&{channelFiles:Object(R.a)(Object(R.a)({},e.channelFiles),{},Object(x.a)({},t.data.channel_id,e.channelFiles[t.data.channel_id].filter((function(e){return!t.data.file_ids.includes(e.file_id)}))))});case"SET_VIEW_FILES":return Object(R.a)(Object(R.a)({},e),{},{viewFiles:t.data,channelFiles:Object(R.a)(Object(R.a)({},e.channelFiles),null!==t.data&&"undefined"!==typeof t.data.channel_id&&"undefined"!==typeof t.data.files&&Object(x.a)({},t.data.channel_id,"undefined"===typeof e.channelFiles[t.data.channel_id]?t.data.files:[].concat(Object(Rt.a)(e.channelFiles[t.data.channel_id].filter((function(e){return!t.data.files.some((function(t){return t.id===e.id}))}))),Object(Rt.a)(t.data.files))))});case"PREPARE_WORKSPACE_FILES_UPLOAD":return Object(R.a)(Object(R.a)({},e),{},{pendingWorkspaceFilesUpload:Object(R.a)(Object(R.a)({},e.pendingWorkspaceFilesUpload),{},Object(x.a)({},t.data.workspace_id,t.data))});case"PROCESS_WORKSPACE_FILES_UPLOAD":var V=e.pendingWorkspaceFilesUpload;return delete e.pendingWorkspaceFilesUpload[t.data.workspace_id],Object(R.a)(Object(R.a)({},e),{},{pendingWorkspaceFilesUpload:V,progressWorkspaceFilesUpload:Object(R.a)(Object(R.a)({},e.progressWorkspaceFilesUpload),{},Object(x.a)({},t.data.workspace_id,t.data))});case"UPLOADING_WORKSPACE_FILES_SUCCESS":var Q=e.progressWorkspaceFilesUpload;return delete e.progressWorkspaceFilesUpload[t.data.workspace_id],Object(R.a)(Object(R.a)({},e),{},{progressWorkspaceFilesUpload:Q});case"ADD_PRIMARY_FILES":var K=Object(R.a)({},e.workspaceFiles);return K=K.hasOwnProperty(t.data.id)?Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},K[t.data.id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),K[t.data.id].files)})):Object(R.a)(Object(R.a)({},K),{},Object(x.a)({},t.data.id,{files:qt(t.data.files,"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],team_chat:[],client_chat:[],private_post:[],client_post:[],trash_files:{},search_results:[],search_value:""})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:K});case"ADD_TO_WORKSPACE_POSTS":if(t.data.files.length){var z=Object(R.a)({},e.workspaceFiles);return z=z.hasOwnProperty(t.data.topic_id)?Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},z[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),z[t.data.topic_id].files)})):Object(R.a)(Object(R.a)({},z),{},Object(x.a)({},t.data.topic_id,{files:qt(t.data.files,"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],team_chat:[],client_chat:[],private_post:[],client_post:[],trash_files:{},search_results:[],search_value:""})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:z})}return e;case"GET_WORKSPACE_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(x.a)({},t.data.topic_id,Object(R.a)({},"undefined"===typeof e.workspaceFiles[t.data.topic_id]?{files:qt(t.data.files,"id"),folders:Object(R.a)({},t.data.folder_id&&Object(x.a)({},t.data.folder_id,{loaded:!0,files:t.data.files.filter((function(e){return e.folder_id===t.data.folder_id})).map((function(e){return e.id}))})),storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],team_chat:[],client_chat:[],private_post:[],client_post:[],trash_files:{},search_results:[],search_value:"",loaded:!0}:Object(R.a)(Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id]),t.data.folder_id&&e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id]&&{folders:Object(x.a)({},t.data.folder_id,Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id]),{},{loaded:!0,files:Object(Rt.a)(new Set([].concat(Object(Rt.a)(e.workspaceFiles[t.data.topic_id].folders[t.data.folder_id].files),Object(Rt.a)(t.data.files.filter((function(e){return e.folder_id===t.data.folder_id})).map((function(e){return e.id}))))))}))}),{},{loaded:!0,files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files)})))});case"GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_SUCCESS":var q=Object(R.a)({},e.workspaceFiles);if(q.hasOwnProperty(t.data.topic_id)){var J=t.data.attachments.map((function(e){return{created_at:{timestamp:e.payload.lastEditedUtc},download_link:e.payload.embedUrl,folder_id:null,id:e.id,payload_id:e.payload.id,is_favorite:!1,link_id:t.data.topic_id,link_index_id:0,link_type:"TOPIC",mime_type:e.payload.mimeType,search:e.payload.name,size:e.payload.sizeBytes,type:e.payload.type,attachment_type:e.attachment_type}}));q[t.data.topic_id].files=Object(R.a)(Object(R.a)({},q[t.data.topic_id].files),qt(J,"id"))}return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:q});case"GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_SUCCESS":var Z=Object(R.a)({},e.workspaceFiles);return Z.hasOwnProperty(t.data.topic_id)&&Z[t.data.topic_id].hasOwnProperty("folders")&&t.data.attachments.map((function(e){Z[e.link_id].folders[e.id]={id:e.id,is_archived:!1,parent_folder:null,search:e.payload.name,payload:e.payload,created_at:{timestamp:e.payload.lastEditedUtc},updated_at:{timestamp:e.payload.lastEditedUtc},files:[],link_type:e.link_type,link_id:e.link_index_id,attachment_type:e.attachment_type}})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Z});case"INCOMING_GOOGLE_FILE":var X=Object(R.a)({},e.workspaceFiles),$=Object(R.a)({},e.companyFiles);return"TOPIC"===t.data.link_type&&X.hasOwnProperty(t.data.link_id)&&X[t.data.link_id].hasOwnProperty("folders")&&(X[t.data.link_id].files[t.data.id]={created_at:t.data.created_at,user_id:t.data.user_id,folder_id:null,download_link:t.data.payload.embedUrl,id:t.data.id,payload_id:t.data.payload.id,is_favorite:!1,link_id:parseInt(t.data.link_id),link_index_id:0,link_type:"TOPIC",mime_type:t.data.payload.mimeType,search:t.data.payload.name,size:t.data.payload.sizeBytes,type:t.data.payload.type,payload:t.data.payload}),"COMPANY_DRIVE"===t.data.link_type&&($.google_files.items.includes(t.data.id)||$.google_files.items.push(t.data.id),"undefined"===typeof $.items[t.data.id]&&($.items=Object(R.a)(Object(R.a)({},$.items),{},Object(x.a)({},t.data.id,{id:t.data.id,created_at:t.data.created_at,download_link:t.data.payload.embedUrl,folder_id:null,payload_id:t.data.payload.id,is_favorite:!1,link_id:parseInt(t.data.link_id),link_index_id:0,link_type:t.data.link_type,mime_type:t.data.payload.mimeType,search:t.data.payload.name,size:t.data.payload.sizeBytes,type:t.data.payload.type,attachment_type:t.data.attachment_type,payload:t.data.payload})))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:X,companyFiles:$});case"INCOMING_GOOGLE_FOLDER":var ee=Object(R.a)({},e.workspaceFiles);return ee.hasOwnProperty(t.data.link_id)&&ee[t.data.link_id].hasOwnProperty("folders")&&(ee[t.data.link_id].folders[t.data.id]={id:t.data.id,is_archived:!1,parent_folder:null,search:t.data.payload.name,payload:t.data.payload,created_at:t.data.created_at,updated_at:t.data.updated_at,files:[]}),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:ee});case"GET_WORKSPACE_FILE_DETAILS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id]?e.workspaceFiles[t.data.topic_id]:{}),{},{storage:t.data.total_storage,count:t.data.total_file_count,stars:t.data.total_file_stars,trash:t.data.total_file_trash}))});case"GET_WORKSPACE_TRASH_FILES_SUCCESS":var te=Object(R.a)({},e.workspaceFiles);return te=te.hasOwnProperty(t.data.topic_id)?Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},te[t.data.topic_id]),{},{trash_files:qt(t.data.files,"id")})):Object(R.a)(Object(R.a)({},te),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},te[t.data.topic_id]),{},{trash_files:qt(t.data.files,"id")}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:te});case"GET_WORKSPACE_FAVORITE_FILES_SUCCESS":var ae=Object(R.a)({},e.workspaceFiles);return ae=ae.hasOwnProperty(t.data.topic_id)?Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},ae[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),ae[t.data.topic_id].files),favorite_files:t.data.files.map((function(e){return e.id}))})):Object(R.a)(Object(R.a)({},ae),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},ae[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),ae[t.data.topic_id].files),favorite_files:t.data.files.map((function(e){return e.id}))}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:ae});case"GET_WORKSPACE_POPULAR_FILES_SUCCESS":var ne=Object(R.a)({},e.workspaceFiles);return ne=ne.hasOwnProperty(t.data.topic_id)?Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},ne[t.data.topic_id]),{},{popular_files:t.data.files.map((function(e){return e.id}))})):Object(R.a)(Object(R.a)({},ne),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},ne[t.data.topic_id]),{},{popular_files:t.data.files.map((function(e){return e.id}))}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:ne});case"GET_WORKSPACE_RECENT_EDIT_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(x.a)({},t.data.topic_id,Object(R.a)({},"undefined"===typeof e.workspaceFiles[t.data.topic_id]?{recently_edited:Object(Rt.a)(new Set(t.data.files.map((function(e){return e.id}))))}:Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id]),{},{recently_edited:Object(Rt.a)(new Set(e.workspaceFiles[t.data.topic_id].recently_edited.concat(t.data.files.map((function(e){return e.id})))))})))});case"GET_WORKSPACE_FOLDER_SUCCESS":var re=Object(R.a)({},e.workspaceFiles),ie=t.data.folders.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{files:[]})}));return re=re.hasOwnProperty(t.data.topic_id)?Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},re[t.data.topic_id]),{},{folders:Object(R.a)(Object(R.a)({},qt(ie,"id")),re[t.data.topic_id].folders)})):Object(R.a)(Object(R.a)({},re),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},re[t.data.topic_id]),{},{folders:qt(ie,"id")}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:re});case"INCOMING_FOLDER":var oe=Object(R.a)({},e.workspaceFiles);return oe.hasOwnProperty(t.data.topic_id)&&oe[t.data.topic_id].hasOwnProperty("folders")?(oe=Object(R.a)(Object(R.a)({},oe),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},oe[t.data.topic_id]),{},{folders:Object(R.a)(Object(R.a)({},oe[t.data.topic_id].folders),{},Object(x.a)({},t.data.folder.id,Object(R.a)(Object(R.a)({},t.data.folder),{},{loaded:!0,files:[]})))}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:oe})):e;case"INCOMING_DELETED_FOLDER":if("undefined"===typeof e.workspaceFiles[t.data.topic_id])return e;var ce=Object(R.a)({},e.workspaceFiles);return t.data.connected_folder_ids.forEach((function(e){"undefined"!==typeof ce[t.data.topic_id].folders[e]&&(ce[t.data.topic_id].folders[e].is_archived=!0)})),t.data.connected_file_ids.forEach((function(e){if("undefined"!==typeof ce[t.data.topic_id].files[e]){if(ce[t.data.topic_id].trash_files[e]=ce[t.data.topic_id].files[e],ce[t.data.topic_id].count-=1,ce[t.data.topic_id].trash+=1,ce[t.data.topic_id].files[e].is_favorite){ce[t.data.topic_id].stars-=1;var a=ce[t.data.topic_id].favorite_files.indexOf(e);-1!==a&&ce[t.data.topic_id].favorite_files.splice(a,1)}delete ce[t.data.topic_id].files[e]}})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:ce});case"INCOMING_REMOVED_FOLDER":var se=Object(R.a)({},e.workspaceFiles);return se.hasOwnProperty(t.data.topic_id)&&se[t.data.topic_id].hasOwnProperty("folders")?(delete se[t.data.topic_id].folders[t.data.folder.id],Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:se})):e;case"INCOMING_FILE":var le=Object(R.a)({},e.workspaceFiles);return le.hasOwnProperty(t.data.topic_id)?(le=Object(R.a)(Object(R.a)({},le),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},le[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},le[t.data.topic_id].files),{},Object(x.a)({},t.data.file.id,t.data.file))}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:le})):e;case"INCOMING_FILES":var de=Object(R.a)({},e.workspaceFiles);if(de.hasOwnProperty(t.data.topic_id)){var ue=function(e,t){return e+t};return de[t.data.topic_id].hasOwnProperty("folders")&&t.data.folder_id&&de[t.data.topic_id].folders.hasOwnProperty(t.data.folder_id)&&(de[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object(Rt.a)(de[t.data.topic_id].folders[t.data.folder_id].files),Object(Rt.a)(t.data.files.map((function(e){return e.id}))))),de[t.data.topic_id].files=Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),de[t.data.topic_id].files),Object.values(de[t.data.topic_id].files).map((function(e){"string"===typeof e.id&&t.data.files.forEach((function(a){a.size===e.size&&a.search===e.search&&delete de[t.data.topic_id].files[e.id]}))})),de[t.data.topic_id].count=Object.keys(de[t.data.topic_id].files).length,de[t.data.topic_id].storage=Object.values(de[t.data.topic_id].files).filter((function(e){return"number"===typeof e.size})).map((function(e){return e.size})).reduce(ue),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:de})}return e;case"UPLOAD_FILES_REDUCER":var me=Object(R.a)({},e.workspaceFiles);return me.hasOwnProperty(t.data.topic_id)?(me[t.data.topic_id].hasOwnProperty("folders")&&t.data.folder_id&&(me[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object(Rt.a)(me[t.data.topic_id].folders[t.data.folder_id].files),Object(Rt.a)(t.data.files.map((function(e){return e.id}))))),me[t.data.topic_id].files=Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),me[t.data.topic_id].files),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:me})):e;case"ADD_FILE_SEARCH_RESULTS":var pe=Object(R.a)({},e.workspaceFiles);return pe.hasOwnProperty(t.data.topic_id)&&(pe=Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},pe[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.search_results,"id")),pe[t.data.topic_id].files),search_results:t.data.search_results.map((function(e){return e.id})),search_value:t.data.search}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:pe});case"CLEAR_FILE_SEARCH_RESULTS":var fe=Object(R.a)({},e.workspaceFiles);return fe.hasOwnProperty(t.data.topic_id)&&(fe=Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},fe[t.data.topic_id]),{},{search_results:[],search_value:""}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:fe});case"INCOMING_DELETED_FILE":if("undefined"===typeof e.workspaceFiles[t.data.topic_id]||"undefined"===typeof e.workspaceFiles[t.data.topic_id].files[t.data.file_id])return e;var be=e.workspaceFiles[t.data.topic_id],he=be.files[t.data.file_id];if(be.storage-=he.size,be.count-=1,be.trash+=1,be.trash_files[t.data.file_id]=he,be.recently_edited.filter((function(e){return e!==he.id})),he.folder_id&&be.folders[he.folder_id]){var Ee=be.folders[he.folder_id].files.findIndex((function(e){return e.id===he.id}));-1!==Ee&&be.folders[he.folder_id].files.splice(Ee,1)}return delete be.files[he.id],Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),{},Object(x.a)({},t.data.topic_id,be))});case"INCOMING_DELETED_FILES":var _e=Object(R.a)({},e.workspaceFiles);if(_e.hasOwnProperty(t.data.topic_id)){_e[t.data.topic_id].count=_e[t.data.topic_id].count-t.data.deleted_file_ids.length,_e[t.data.topic_id].trash=_e[t.data.topic_id].trash+t.data.deleted_file_ids.length;var Oe=Object.values(_e[t.data.topic_id].files).filter((function(e){return t.data.deleted_file_ids.some((function(t){return t===e.id}))}));return _e[t.data.topic_id].trash_files=Object(R.a)(Object(R.a)({},qt(Oe,"id")),_e[t.data.topic_id].trash_files),t.data.deleted_file_ids.map((function(e){delete _e[t.data.topic_id].files[e]})),_e[t.data.topic_id].hasOwnProperty("folders")?(Object.values(_e[t.data.topic_id].folders).forEach((function(e){e.hasOwnProperty("files")&&_e[t.data.topic_id].folders[e.id].files.length&&(_e[t.data.topic_id].folders[e.id].files=_e[t.data.topic_id].folders[e.id].files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e}))})))})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:_e})):Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:_e})}return e;case"INCOMING_REMOVED_FILE":var ge=Object(R.a)({},e.workspaceFiles);return"undefined"===typeof ge[t.data.topic_id]?e:(delete ge[t.data.topic_id].trash_files[t.data.file_id],ge[t.data.topic_id].trash-=1,Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:ge}));case"ADD_REMOVE_FAVORITE":if(t.data.topic_id){var ve=Object(R.a)({},e.workspaceFiles);return ve[t.data.topic_id].files[t.data.file_id].is_favorite=t.data.is_favorite,ve=Object(R.a)(Object(R.a)({},ve),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},ve[t.data.topic_id]),{},{stars:t.data.is_favorite?ve[t.data.topic_id].stars+1:ve[t.data.topic_id].stars-1,favorite_files:t.data.is_favorite?[].concat(Object(Rt.a)(ve[t.data.topic_id].favorite_files),[t.data.file_id]):ve[t.data.topic_id].favorite_files.filter((function(e){return e!==t.data.file_id}))}))),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:ve})}var Ae=Object(R.a)({},e.companyFiles.items);return Ae[t.data.file_id]&&(Ae[t.data.file_id].is_favorite=t.data.is_favorite),Object(R.a)(Object(R.a)({},e),{},{companyFiles:Object(R.a)(Object(R.a)({},e.companyFiles),{},{count:Object(R.a)(Object(R.a)({},e.companyFiles.count),{},{stars:t.data.is_favorite?e.companyFiles.count.stars+1:e.companyFiles.count.stars-1}),items:Ae,favorite_files:Object(R.a)(Object(R.a)({},e.companyFiles.favorite_files),{},{items:t.data.is_favorite?[].concat(Object(Rt.a)(e.companyFiles.favorite_files.items),[t.data.file_id]):e.companyFiles.favorite_files.items.filter((function(e){return e!==t.data.file_id}))})})});case"INCOMING_RESTORE_FOLDER":if("undefined"===typeof e.workspaceFiles[t.data.topic_id])return e;var je=e.workspaceFiles[t.data.topic_id];return t.data.connected_folder_ids.forEach((function(e){je.folders[e].is_archived=!1})),t.data.connected_file_ids.forEach((function(e){je.trash_files[e]&&(je.files[e]=je.trash_files[e],je.count+=1,je.trash-=1,je.storage+=je.trash_files[e].size,je.trash_files[e].is_favorite&&!je.favorite_files.includes(e)&&(je.stars+=1,je.favorite_files.push(e)),delete je.trash_files[e])})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),{},Object(x.a)({},t.data.topic_id,je))});case"INCOMING_RESTORE_FILE":if("undefined"===typeof e.workspaceFiles[t.data.topic.id])return e;var Ce=e.workspaceFiles[t.data.topic.id];return Ce.trash_files[t.data.file.id]&&(Ce.files[t.data.file.id]=t.data.file,delete Ce.trash_files[t.data.file.id]),t.data.folder&&Ce.folders[t.data.folder.id]&&!Ce.folders[t.data.folder.id].files.includes(t.data.file.id)&&Ce.folders[t.data.folder.id].files.push(t.data.file.id),t.data.file.is_favorite&&!Ce.favorite_files.includes(t.data.file.id)&&(Ce.favorite_files.push(t.data.file.id),Ce.stars+=1),Ce.trash-=1,Ce.count+=1,Ce.storage+=t.data.file.size,Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),{},Object(x.a)({},t.data.topic.id,Ce))});case"INCOMING_MOVED_FILE":var Te=Object(R.a)({},e.workspaceFiles);return Te.hasOwnProperty(t.data.topic_id)?(Te[t.data.topic_id].files[t.data.file_id].folder_id=t.data.folder_id,Te[t.data.topic_id].folders.hasOwnProperty(t.data.original_folder_id)&&Te[t.data.topic_id].folders[t.data.original_folder_id].hasOwnProperty("files")&&(Te[t.data.topic_id].folders[t.data.original_folder_id].files=Te[t.data.topic_id].folders[t.data.original_folder_id].files.filter((function(e){return e!==t.data.file_id}))),Te[t.data.topic_id].folders.hasOwnProperty(t.data.folder_id)&&Te[t.data.topic_id].folders[t.data.folder_id].hasOwnProperty("loaded")?(Te[t.data.topic_id].folders[t.data.folder_id].files=[].concat(Object(Rt.a)(Te[t.data.topic_id].folders[t.data.folder_id].files),[t.data.file_id]),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Te})):Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Te})):e;case"INCOMING_EMPTY_TRASH":var ye=Object(R.a)({},e.workspaceFiles);if(ye.hasOwnProperty(t.data.topic_id)&&ye[t.data.topic_id].hasOwnProperty("trash_files")){var Se=function(e,t){return e+t},ke=0;return t.data.deleted_file_ids.length&&(ke=Object.values(e.workspaceFiles[t.data.topic_id].trash_files).filter((function(e){return"undefined"!==typeof e})).filter((function(e){return t.data.deleted_file_ids.some((function(t){return t===e.id}))})).map((function(e){return e.size})).reduce(Se)),ye[t.data.topic_id].trash_files={},ye[t.data.topic_id].trash=0,ye[t.data.topic_id].storage=ye[t.data.topic_id].storage-ke,Object.values(ye[t.data.topic_id].folders).forEach((function(e){e.is_archived&&delete ye[t.data.topic_id].folders[e.id]})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:ye})}return e;case"FETCH_TIMELINE_SUCCESS":var we=Object(R.a)({},e.workspaceFiles);return we.hasOwnProperty(t.data.topic_id)?we[t.data.topic_id].files=Object(R.a)(Object(R.a)({},qt(t.data.timeline.filter((function(e){return"DOCUMENT"===e.tag})).map((function(e){return e.item})),"id")),we[t.data.topic_id].files):we=Object(R.a)(Object(R.a)({},we),{},Object(x.a)({},t.data.topic_id,{files:qt(t.data.timeline.filter((function(e){return"DOCUMENT"===e.tag})).map((function(e){return e.item})),"id"),folders:{},storage:0,count:0,stars:0,trash:0,popular_files:[],recently_edited:[],favorite_files:[],trash_files:{},search_results:[],search_value:""})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:we});case"INCOMING_COMMENT":var Ne=Object(R.a)({},e.workspaceFiles);return t.data.workspaces.length&&t.data.files.length?((1===t.data.files[0].shared_with_client||"internal"===e.user.type&&0===t.data.files[0].shared_with_client)&&t.data.workspaces.forEach((function(e){Ne.hasOwnProperty(e.topic_id)&&(Ne[e.topic_id].files=Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),Ne[e.topic_id].files))})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Ne})):e;case"INCOMING_POST":var xe=Object(R.a)({},e.workspaceFiles);return t.data.files.length?(t.data.recipient_ids.forEach((function(e){xe.hasOwnProperty(e)&&(xe[e].files=Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),xe[e].files))})),Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:xe})):e;case"INCOMING_DELETED_POST_FILE":var Re=Object(R.a)({},e.workspaceFiles);return t.data.connected_workspace.length&&Object.keys(Re).length?(t.data.connected_workspace.forEach((function(e){Re.hasOwnProperty(e.topic_id)&&Re[e.topic_id].hasOwnProperty("files")&&delete Re[e.topic_id].files[t.data.file_id]})),e):e;case"ADD_GOOGLE_DRIVE_FILE":return Object(R.a)(Object(R.a)({},e),{},{googleDriveApiFiles:Object(R.a)(Object(R.a)({},e.googleDriveApiFiles),{},Object(x.a)({},t.data.file_id,t.data.metadata))});case"INCOMING_DELETED_GOOGLE_FILE":var Ie=Object(R.a)({},e.workspaceFiles),Pe=Object(R.a)({},e.companyFiles);if(t.data.data_type){var De={id:t.data.data_type.topic.id,name:t.data.data_type.topic.name,folder_id:t.data.data_type.workspace?t.data.data_type.workspace.id:null,folder_name:t.data.data_type.workspace?t.data.data_type.workspace.name:null};Ie.hasOwnProperty(De.id)&&(Ie[De.id].files.hasOwnProperty(t.data.attachment_id)?delete Ie[De.id].files[t.data.attachment_id]:Ie[De.id].folders.hasOwnProperty(t.data.attachment_id)&&delete Ie[De.id].folders[t.data.attachment_id])}else{var Le=Pe.google_files.items.findIndex((function(e){return e===t.data.attachment_id}));-1!==Le&&Pe.google_files.items.splice(Le,1),"undefined"!==typeof Pe.items[t.data.attachment_id]&&delete Pe.items[t.data.attachment_id]}return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Ie,companyFiles:Pe});case"INCOMING_GIF_DATA":return Object(R.a)(Object(R.a)({},e),{},{gifBlobs:Object(R.a)(Object(R.a)({},e.gifBlobs),{},Object(x.a)({},t.data.id,t.data.src))});case"INCOMING_FILE_DATA":return Object(R.a)(Object(R.a)({},e),{},{fileBlobs:Object(R.a)(Object(R.a)({},e.fileBlobs),{},Object(x.a)({},t.data.id,t.data.src))});case"INCOMING_FILE_THUMBNAIL_DATA":return Object(R.a)(Object(R.a)({},e),{},{fileThumbnailBlobs:Object(R.a)(Object(R.a)({},e.fileThumbnailBlobs),{},Object(x.a)({},t.data.id,t.data.src))});case"GET_TEAM_CHAT_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),team_chat:[].concat(Object(Rt.a)(e.workspaceFiles[t.data.topic_id].team_chat),Object(Rt.a)(t.data.files.map((function(e){return e.id}))))})))});case"GET_CLIENT_CHAT_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),client_chat:[].concat(Object(Rt.a)(e.workspaceFiles[t.data.topic_id].client_chat),Object(Rt.a)(t.data.files.map((function(e){return e.id}))))})))});case"GET_CLIENT_POST_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),client_post:[].concat(Object(Rt.a)(e.workspaceFiles[t.data.topic_id].client_post),Object(Rt.a)(t.data.files.map((function(e){return e.id}))))})))});case"GET_PRIVATE_POST_FILES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),e.workspaceFiles[t.data.topic_id]&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceFiles[t.data.topic_id]),{},{files:Object(R.a)(Object(R.a)({},qt(t.data.files,"id")),e.workspaceFiles[t.data.topic_id].files),private_post:[].concat(Object(Rt.a)(e.workspaceFiles[t.data.topic_id].private_post),Object(Rt.a)(t.data.files.map((function(e){return e.id}))))})))});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(R.a)(Object(R.a)({},e),{},{workspaceFiles:Object(R.a)(Object(R.a)({},e.workspaceFiles),t.data.files.reduce((function(a,n){return e.workspaceFiles[n.topic_id]&&(a[n.topic_id]=Object(R.a)(Object(R.a)({},e.workspaceFiles[n.topic_id]),{},{files:Object(R.a)({},Object.values(e.workspaceFiles[n.topic_id].files).reduce((function(e,a){return t.data.files.some((function(e){return e.file_id===a.id}))||(e[a.id]=Object(R.a)({},a)),e}),{})),recently_edited:e.workspaceFiles[n.topic_id].recently_edited.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e}))})),favorite_files:e.workspaceFiles[n.topic_id].favorite_files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e}))})),popular_files:e.workspaceFiles[n.topic_id].popular_files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e}))}))})),a}),{}))});default:return e}},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BROWSER_TAB_STATUS":return Object(R.a)(Object(R.a)({},e),{},{isBrowserActive:t.data.status});case"GET_ALL_RECIPIENTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{recipients:t.data.recipients.filter((function(e){return"string"===typeof e.name||e.name instanceof String||(console.log(e.name),!1)}))});case"SET_NAV_MODE":return Object(R.a)(Object(R.a)({},e),{},{navMode:t.data.mode});case"TOGGLE_LOADING":return Object(R.a)(Object(R.a)({},e),{},{isLoading:"undefined"!==typeof t.data?t.data:!e.isLoading});case"ADD_TO_MODALS":return Object(R.a)(Object(R.a)({},e),{},{modals:Object(R.a)(Object(R.a)({},e.modals),{},Object(x.a)({},t.data.type,t.data))});case"CLEAR_MODAL":var a=Object(R.a)({},e.modals);return delete a[t.data.type],Object(R.a)(Object(R.a)({},e),{},{modals:a});case"SAVE_INPUT_DATA":return Object(R.a)(Object(R.a)({},e),{},{dataFromInput:t.data});case"CLEAR_INPUT_DATA":return Object(R.a)(Object(R.a)({},e),{},{dataFromInput:null});case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{user:t.data,socketMounted:!0});case"GET_TRANSLATION_OBJECT_SUCCESS":return localStorage.setItem("i18n",JSON.stringify(t.data)),Object(R.a)(Object(R.a)({},e),{},{i18nLoaded:!0});case"GET_UNREAD_NOTIFICATION_COUNTER_SUCCESS":var n=e.unreadCounter;for(var r in t.data){var i=t.data[r];n=Object(R.a)(Object(R.a)({},n),{},Object(x.a)({},i.entity_type.toLowerCase(),i.count))}return Object(R.a)(Object(R.a)({},e),{},{unreadCounter:n});case"UPDATE_GENERAL_CHAT_NOTIFICATION":var o=t.data.entity_type?t.data.entity_type.toLowerCase():"";return Object(R.a)(Object(R.a)({},e),""!==o&&{unreadCounter:Object(R.a)(Object(R.a)({},e.unreadCounter),{},Object(x.a)({},o,e.unreadCounter[o]+t.data.count))});case"UPDATE_UNREAD_LIST_COUNTER":var c=e.unreadCounter;for(var s in t.data.result){var l=t.data.result[s];c=Object(R.a)(Object(R.a)({},c),{},Object(x.a)({},l.entity_type.toLowerCase(),l.count))}return Object(R.a)(Object(R.a)({},e),{},{unreadCounter:c});case"SEARCH_SUCCESS":var d=Object(R.a)({},e.tabs);if(t.data.hasOwnProperty("count_category")){var u=Object.keys(t.data.count_category);u.sort((function(e,t){return e.localeCompare(t)})).map((function(e){var a=t.data.result.filter((function(t){return t.type===e}));t.data.count_category[e]>0&&(d[e]={count:a.length,total_count:t.data.count_category[e],page:1,items:a,maxPage:Math.ceil(t.data.count_category[e]/10)})}))}else if(t.data.result.length){var m=t.data.result[0].type,p=t.data.result.filter((function(e){return e.type===m}));d[m].count=p.length+d[m].count,d[m].items=[].concat(Object(Rt.a)(d[m].items),Object(Rt.a)(t.data.result))}return Object(R.a)(Object(R.a)({},e),{},{searchResults:t.data.result.length?Object(R.a)(Object(R.a)({},e.searchResults),qt(t.data.result,"id")):{},searchCount:t.data.hasOwnProperty("count_category")?t.data.total_result:e.searchCount,searching:!1,tabs:d});case"SAVE_SEARCH_INPUT":return Object(R.a)(Object(R.a)({},e),{},{searchValue:t.data.value,searchCount:0,searchResults:{},searching:""!==t.data.value,tabs:{}});case"UPDATE_TAB":return Object(R.a)(Object(R.a)({},e),{},{tabs:Object(R.a)(Object(R.a)({},e.tabs),{},Object(x.a)({},t.data.key,t.data))});case"GET_QUICK_LINKS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{links:t.data});case"GET_TO_DO_DETAIL_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{count:t.data.reduce((function(e,t){return e[t.status.toLowerCase()]=t.count,e}),{})})});case"GET_WORKSPACE_REMINDERS_SUCCESS":var f=e.todos.items;return t.data.todos.forEach((function(e){switch(f[e.id]=e,e.link_type){case"CHAT":f[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?f[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):f[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?f[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):f[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code);break;default:return null}})),Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{items:Object(R.a)(Object(R.a)({},f),e.todos.items)})});case"GET_TO_DO_SUCCESS":var b=e.todos.items;t.data.todos.forEach((function(e){switch(b[e.id]=e,e.link_type){case"CHAT":b[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?b[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):b[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?b[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):b[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code)}}));var h=t.data.today_todos.map((function(e){return e.link_type?"CHAT"===e.link_type?Object(R.a)(Object(R.a)({},e),{},{link:"/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code)}):"POST"===e.link_type?Object(R.a)(Object(R.a)({},e),{},{link:e.data.workspaces.length?"/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):"/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"))}):"POST_COMMENT"===e.link_type?Object(R.a)(Object(R.a)({},e),{},{link:e.data.workspaces.length?"/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):"/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code)}):void 0:Object(R.a)(Object(R.a)({},e),{},{link:null})}));return Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{isLoaded:!0,hasMore:t.data.todos.length===e.todos.limit,skip:e.todos.skip+t.data.todos.length,items:b,doneRecently:h})});case"GET_DONE_TO_DO_SUCCESS":var E=e.todos.items;return t.data.todos.forEach((function(e){switch(E[e.id]=e,e.link_type){case"CHAT":E[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?E[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):E[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?E[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):E[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code);break;default:return}})),Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{done:{limit:10,hasMore:t.data.todos.length===e.todos.done.limit,skip:e.todos.done.skip+t.data.todos.length}})});case"GET_OVERDUE_TO_DO_SUCCESS":var _=e.todos.items;return t.data.todos.forEach((function(e){switch(_[e.id]=e,e.link_type){case"CHAT":_[e.id].link="/chat/".concat(e.data.channel.code,"/").concat(e.data.chat_message.code);break;case"POST":e.data.workspaces.length?_[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-")):_[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":e.data.workspaces.length?_[e.id].link="/workspace/posts/".concat(e.data.workspaces[0].topic.id,"/").concat(e.data.workspaces[0].topic.name,"/post/").concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code):_[e.id].link="/posts/".concat(e.data.post.id,"/").concat(e.data.post.title.toLowerCase().replace(" ","-"),"/").concat(e.data.comment.code);break;default:return}})),Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{overdue:Object(R.a)(Object(R.a)({},e.todos.overdue.limit),{},{hasMore:t.data.todos.length===e.todos.overdue.limit,skip:e.todos.overdue.skip+t.data.todos.length})})});case"INCOMING_TO_DO":var O=e.todos.items;switch(O[t.data.id]=t.data,t.data.link_type){case"CHAT":O[t.data.id].link="/chat/".concat(t.data.data.channel.code,"/").concat(t.data.data.chat_message.code);break;case"POST":t.data.data.workspaces.length?O[t.data.id].link="/workspace/posts/".concat(t.data.data.workspaces[0].topic.id,"/").concat(t.data.data.workspaces[0].topic.name,"/post/").concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-")):O[t.data.id].link="/posts/".concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"));break;case"POST_COMMENT":t.data.data.workspaces.length?O[t.data.id].link="/workspace/posts/".concat(t.data.data.workspaces[0].topic.id,"/").concat(t.data.data.workspaces[0].topic.name,"/post/").concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"),"/").concat(t.data.data.comment.code):O[t.data.id].link="/posts/".concat(t.data.data.post.id,"/").concat(t.data.data.post.title.toLowerCase().replace(" ","-"),"/").concat(t.data.data.comment.code)}return Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{items:O})});case"INCOMING_UPDATE_TO_DO":var g=e.todos.items;return"undefined"!==typeof g[t.data.id]&&(g[t.data.id]=Object(R.a)(Object(R.a)({},g[t.data.id]),t.data)),Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{items:g})});case"INCOMING_DONE_TO_DO":var v=e.todos.items,A=null;return"undefined"!==typeof v[t.data.id]&&(v[t.data.id].status,t.data.status,A=Object(R.a)(Object(R.a)({},v[t.data.id]),{},{status:t.data.status,updated_at:t.data.updated_at}),v[t.data.id]=A),Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{items:v,doneRecently:[].concat(Object(Rt.a)(e.todos.doneRecently),[A])})});case"INCOMING_REMOVE_TO_DO":var j=e.todos.items;return"undefined"!==typeof j[t.data.todo_id]&&delete j[t.data.todo_id],Object(R.a)(Object(R.a)({},e),{},{todos:Object(R.a)(Object(R.a)({},e.todos),{},{items:j})});case"GET_UNREAD_POST_ENTRIES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{unreadCounter:Object(R.a)(Object(R.a)({},e.unreadCounter),{},{general_post:t.data.result,unread_posts:t.data.result})});case"GET_UNREAD_POST_COMMENTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{unreadCounter:Object(R.a)(Object(R.a)({},e.unreadCounter),{},{generate_post_comment:t.data.result})});case"READ_ALL_POSTS":if(t.data.topic_id)return e;var C=Object(R.a)({},e.unreadCounter);return C=Object(R.a)(Object(R.a)({},C),{},{general_post:0,unread_posts:0,workspace_post:0,generate_post_comment:0}),Object(R.a)(Object(R.a)({},e),{},{unreadCounter:C});case"ARCHIVE_ALL_POSTS":if(t.data.topic_id)return e;var T=Object(R.a)({},e.unreadCounter);return T=Object(R.a)(Object(R.a)({},T),{},{general_post:0,unread_posts:0,workspace_post:0}),Object(R.a)(Object(R.a)({},e),{},{unreadCounter:T});case"GET_RELEASE_ANNOUNCEMENTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{releases:{timestamp:t.data.READ_RELEASE_UPDATES.timestamp,items:[].concat(Object(Rt.a)(e.releases.items.filter((function(e){return e.draft_type}))),Object(Rt.a)(t.data.items))}});case"INCOMING_UPDATED_ANNOUNCEMENT":return Object(R.a)(Object(R.a)({},e),{},{releases:Object(R.a)(Object(R.a)({},e.releases),{},{items:e.releases.items.map((function(e){return e.id===t.data.id?Object(R.a)(Object(R.a)({},e),{},{action_text:t.data.action_text,body:t.data.body}):e}))})});case"INCOMING_CREATED_ANNOUNCEMENT":return Object(R.a)(Object(R.a)({},e),{},{releases:Object(R.a)(Object(R.a)({},e.releases),{},{items:[Object(R.a)({},t.data)].concat(Object(Rt.a)(e.releases.items))})});case"INCOMING_DELETED_ANNOUNCEMENT":return Object(R.a)(Object(R.a)({},e),{},{releases:Object(R.a)(Object(R.a)({},e.releases),{},{items:e.releases.items.filter((function(e){return e.id!==t.data.id}))})});case"SAVE_DRAFT_SUCCESS":if("release"===t.data.data.draft_type){var y=Object(R.a)(Object(R.a)({draft_id:t.data.id},t.data.data),{},{created_at:{timestamp:Math.floor(Date.now()/1e3)}});return Object(R.a)(Object(R.a)({},e),{},{releases:Object(R.a)(Object(R.a)({},e.releases),{},{items:[y].concat(Object(Rt.a)(e.releases.items))})})}return e;case"GET_DRAFTS_SUCCESS":var S=t.data.filter((function(e){return"release"===e.data.draft_type})).map((function(e){return Object(R.a)(Object(R.a)({},e.data),{},{draft_id:e.id,action_text:e.data.title,body:e.data.description,created_at:{timestamp:Math.floor(Date.now()/1e3)}})}));return Object(R.a)(Object(R.a)({},e),{},{releases:Object(R.a)(Object(R.a)({},e.releases),{},{items:[].concat(Object(Rt.a)(S),Object(Rt.a)(e.releases.items))})});case"UPDATE_DRAFT_SUCCESS":if("release"===t.data.data.draft_type){var k=Object(R.a)(Object(R.a)({draft_id:t.data.id},t.data.data),{},{created_at:{timestamp:Math.floor(Date.now()/1e3)}});return Object(R.a)(Object(R.a)({},e),{},{releases:Object(R.a)(Object(R.a)({},e.releases),{},{items:e.releases.items.map((function(e){return e.draft_id&&e.draft_id===parseInt(t.data.id)?k:e}))})})}return e;case"SET_IDLE_STATUS":return Object(R.a)(Object(R.a)({},e),{},{isIdle:t.data});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{user:t.data});case"GET_NOTIFICATIONS_SUCCESS":var a=t.data.notifications;return Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),qt(a,"id")),unreadCount:e.unreadCount+a.filter((function(e){return 0===e.is_read})).length});case"READ_ALL_NOTIFICATION_REDUCER":var n=Object(R.a)({},e.notifications);return Object.values(n).forEach((function(e){n[e.id].is_read=1})),Object(R.a)(Object(R.a)({},e),{},{notifications:n,unreadCount:0});case"READ_NOTIFICATION_REDUCER":var r=Object(R.a)({},e.notifications);return r[t.data.id].is_read=1,Object(R.a)(Object(R.a)({},e),{},{notifications:r,unreadCount:e.unreadCount-1});case"UNREAD_NOTIFICATION_REDUCER":var i=Object(R.a)({},e.notifications);return i[t.data.id].is_read=0,Object(R.a)(Object(R.a)({},e),{},{notifications:i,unreadCount:e.unreadCount+1});case"REMOVE_NOTIFICATION_REDUCER":var o=Object(R.a)({},e.notifications);return delete o[t.data.id],Object(R.a)(Object(R.a)({},e),{},{notifications:o});case"REMOVE_ALL_NOTIFICATION_REDUCER":return Object(R.a)(Object(R.a)({},e),{},{notifications:{}});case"INCOMING_POST_APPROVAL":return Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),t.data.notification_approval&&Object(x.a)({},t.data.notification_approval.id,{id:t.data.notification_approval.id,type:t.data.notification_approval.type,is_read:0,created_at:t.data.created_at?t.data.created_at:t.data.user_approved.updated_at,author:t.data.user_approved,data:{post_id:t.data.post.id,type:"POST",must_read:!1,must_reply:!1,personalized_for_id:null,title:t.data.post.title,workspaces:t.data.workspaces.map((function(e){return{topic_id:e.topic.id,topic_name:e.topic.name,workspace_id:e.workspace?e.workspace.id:null,workspace_name:e.workspace?e.workspace.name:null}})),comment_body:null}}))});case"INCOMING_POST":var c={};if(t.data.notification&&t.data.author.id!==e.user.id){var s={id:t.data.notification.id,type:"POST_CREATE",is_read:0,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.id,type:t.data.type,must_read:t.data.is_must_read,must_reply:t.data.is_must_reply,personalized_for_id:t.data.personalized_for_id,title:t.data.title,workspaces:t.data.workspaces,comment_body:null}};return t.data.notification_approval&&(c={id:t.data.notification_approval.id,type:t.data.notification_approval.type,is_read:0,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.id,type:t.data.type,must_read:t.data.is_must_read,must_reply:t.data.is_must_reply,personalized_for_id:t.data.personalized_for_id,title:t.data.title,workspaces:t.data.workspaces,comment_body:null}}),Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),{},Object(x.a)({},s.id,s),t.data.notification_approval&&Object(x.a)({},c.id,c))})}return e;case"INCOMING_COMMENT":if(null===t.data.notification||t.data.author.id===e.user.id)return e;var l={id:t.data.notification.id,type:t.data.notification.type,is_read:0,created_at:t.data.created_at,author:t.data.author,data:{post_id:t.data.post_id,type:"TOPIC_POST",must_read:0,must_reply:0,personalized_for_id:t.data.personalized_for_id,title:t.data.post_title,workspaces:t.data.workspaces,comment_body:t.data.body,comment_id:t.data.id}};return Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),{},Object(x.a)({},l.id,l))});case"SET_PUSH_NOTIFICATION":return Object(R.a)(Object(R.a)({},e),{},{hasSubscribed:t.data});case"INCOMING_REMINDER_NOTIFICATION":if(t.data.notification){var d=Object(R.a)(Object(R.a)({},t.data.notification),{},{is_read:0,author:null,created_at:t.data.created_at,data:{id:t.data.id,title:t.data.title,description:t.data.description,created_at:t.data.created_at,remind_at:t.data.remind_at}});return Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),{},Object(x.a)({},d.id,d))})}return e;case"INCOMING_CLOSE_POST":if(t.data.notification){var u=Object(R.a)(Object(R.a)({},t.data.notification),{},{is_read:0,author:t.data.initiator,created_at:{timestamp:Math.round(+new Date/1e3)},data:{post_id:t.data.post.id,title:t.data.post.title,description:"",created_at:{timestamp:Math.round(+new Date/1e3)},workspaces:t.data.workspaces.map((function(e){return{topic_id:e.topic.id,topic_name:e.topic.name,workspace_id:e.workspace?e.workspace.id:null,workspace_name:e.workspace?e.workspace.name:null}}))}});return Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),{},Object(x.a)({},u.id,u))})}return e;case"INCOMING_UPDATED_WORKSPACE_FOLDER":if("WORKSPACE"===t.data.type&&e.user&&e.user.id!==t.data.user_id&&t.data.new_member_ids.some((function(t){return t===e.user.id}))){var m=t.data.members.find((function(e){return e.id===t.data.user_id}));return Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),{},Object(x.a)({},t.data.notification_id[0],{author:m,created_at:{timestamp:Vt()},data:{description:t.data.description,id:t.data.id,title:t.data.name,workspace_folder_id:t.data.workspace_id,workspace_folder_name:t.data.current_workspace_folder_name},id:t.data.notification_id[0],is_read:0,type:"WORKSPACE_ADD_MEMBER"}))})}return e;case"INCOMING_WORKSPACE":if(e.user&&e.user.id===t.data.channel.user_id)return e;var p=t.data.members.find((function(e){return e.id===t.data.channel.user_id}));return Object(R.a)(Object(R.a)({},e),{},{notifications:Object(R.a)(Object(R.a)({},e.notifications),{},Object(x.a)({},t.data.notification_id[0],{author:p,created_at:{timestamp:Vt()},data:{description:t.data.topic.description,id:t.data.topic.id,title:t.data.topic.name,workspace_folder_id:t.data.workspace?t.data.workspace.id:0,workspace_folder_name:t.data.workspace?t.data.workspace.name:""},id:t.data.notification_id[0],is_read:0,type:"WORKSPACE_ADD_MEMBER"}))});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{user:t.data});case"SET_EDIT_POST_COMMENT":var a=Object(R.a)({},e.commentQuotes);return Object.keys(e.commentQuotes).length>0&&e.editPostComment&&null===t.data&&delete(a=Object(R.a)({},e.commentQuotes))[e.editPostComment.id],Object(R.a)(Object(R.a)({},e),{},{editPostComment:t.data,commentQuotes:a});case"ADD_COMMENT_QUOTE":var n=Object(R.a)({},e.commentQuotes);return Object.keys(e.commentQuotes).length>0&&e.commentQuotes.hasOwnProperty(t.data.id)?(delete(n=Object(R.a)({},e.commentQuotes))[t.data.id],n=Object(R.a)(Object(R.a)({},n),{},Object(x.a)({},t.data.id,t.data))):n=Object(R.a)(Object(R.a)({},e.commentQuotes),{},Object(x.a)({},t.data.id,t.data)),Object(R.a)(Object(R.a)({},e),{},{commentQuotes:n});case"CLEAR_COMMENT_QUOTE":var r=Object(R.a)({},e.commentQuotes);return delete r[t.data],Object(R.a)(Object(R.a)({},e),{},{commentQuotes:r});case"SET_PARENT_ID":return Object(R.a)(Object(R.a)({},e),{},{parentId:t.data});case"GET_COMPANY_POSTS_SUCCESS":var i=t.data.posts.filter((function(e){return 1===e.is_archived})).length>0&&t.data.posts.filter((function(e){return 1===e.is_archived})).length===t.data.posts.length,o=t.data.posts.filter((function(e){return e.is_favourite})).length===t.data.posts.length,c=t.data.posts.filter((function(t){return t.author&&t.author.id===e.user.id})).length===t.data.posts.length;return Object(R.a)(Object(R.a)({},e),{},{archived:Object(R.a)(Object(R.a)({},e.archived),i&&{limit:25,skip:t.data.next_skip,has_more:t.data.total_take===e.archived.limit}),favourites:Object(R.a)(Object(R.a)({},e.favourites),o&&{limit:25,skip:t.data.next_skip,has_more:t.data.total_take===e.favourites.limit}),myPosts:Object(R.a)(Object(R.a)({},e.myPosts),c&&{limit:25,skip:t.data.next_skip,has_more:t.data.total_take===e.myPosts.limit}),companyPosts:Object(R.a)(Object(R.a)(Object(R.a)({},e.companyPosts),!i&&{prev_skip:t.data.prev_skip,next_skip:t.data.next_skip,total_take:t.data.total_take,has_more:t.data.total_take===e.companyPosts.limit}),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,a){return e.companyPosts.posts[a.id]?t[a.id]=Object(R.a)(Object(R.a)({clap_user_ids:[]},e.companyPosts.posts[a.id]),a):t[a.id]=Object(R.a)({clap_user_ids:[]},a),t}),{}))})});case"SEARCH_COMPANY_POSTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,a){return e.companyPosts.posts[a.id]?t[a.id]=Object(R.a)(Object(R.a)({clap_user_ids:[]},e.companyPosts.posts[a.id]),a):t[a.id]=Object(R.a)({clap_user_ids:[]},a),t}),{}))})});case"ADD_POST_REACT":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{clap_user_ids:[].concat(Object(Rt.a)(e.companyPosts.posts[t.data.post_id].clap_user_ids),[e.user.id]),clap_count:e.companyPosts.posts[t.data.post_id].clap_count+1,user_clap_count:1})))})});case"REMOVE_POST_REACT":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{clap_user_ids:e.companyPosts.posts[t.data.post_id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.companyPosts.posts[t.data.post_id].clap_count-1,user_clap_count:0})))})});case"GET_POST_CLAP_HOVER_SUCCESS":var s=t.data.claps.map((function(e){return e.user_id}));return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{clap_user_ids:Object(Rt.a)(s),fetchedReact:!0})))})});case"INCOMING_MARK_AS_READ":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.result.post_id]&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.result.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.result.post_id]),{},{user_reads:t.data.result.user_reads})))})});case"INCOMING_POST":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.id,t.data))})});case"INCOMING_TO_DO":case"INCOMING_UPDATE_TO_DO":case"INCOMING_DONE_TO_DO":case"INCOMING_REMOVE_TO_DO":var l=e.companyPosts.posts;return"POST"===t.data.link_type&&t.data.data&&"undefined"!==typeof l[t.data.data.post.id]&&(l[t.data.data.post.id]=Object(R.a)(Object(R.a)({},l[t.data.data.post.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}})),Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:l})});case"INCOMING_UPDATED_POST":var d=Object(R.a)({},e.companyPosts.posts);return t.data.is_personal&&!t.data.post_participant_data.all_participant_ids.some((function(t){return t===e.user.id}))?delete d[t.data.id]:d.hasOwnProperty(t.data.id)?d[t.data.id]=Object(R.a)(Object(R.a)({},t.data),{},{clap_user_ids:d[t.data.id].clap_user_ids}):d[t.data.id]=Object(R.a)(Object(R.a)({},t.data),{},{clap_user_ids:[]}),Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:d})});case"ADD_COMPANY_POST_SEARCH_RESULT":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{search:t.data.search,searchResults:t.data.search_result,filter:"all"})});case"UPDATE_COMPANY_POST_FILTER_SORT":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{filter:t.data.filter,tag:t.data.tag,postListTag:t.data.postListTag})});case"INCOMING_POST_CLAP":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),1===t.data.clap_count?{clap_count:e.companyPosts.posts[t.data.post_id].clap_count+1,clap_user_ids:[].concat(Object(Rt.a)(e.companyPosts.posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))),[t.data.author.id]),user_clap_count:t.data.author.id===e.user.id?1:e.companyPosts.posts[t.data.post_id].user_clap_count}:{clap_count:e.companyPosts.posts[t.data.post_id].clap_count-1,clap_user_ids:e.companyPosts.posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id})),user_clap_count:t.data.author.id===e.user.id?0:e.companyPosts.posts[t.data.post_id].user_clap_count})))})});case"STAR_POST_REDUCER":return"undefined"===typeof e.companyPosts.posts[t.data.post_id]?e:Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_favourite:!e.companyPosts.posts[t.data.post_id].is_favourite})))})});case"FETCH_RECENT_POSTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{recentPosts:Object(x.a)({},t.data.topic_id,{folderId:t.data.workspace_id,posts:qt(t.data.posts,"id")})});case"INCOMING_FAVOURITE_ITEM":return Object(R.a)(Object(R.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.type_id)&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.type_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.type_id]),{},{is_favourite:t.data.is_favourite})))})});case"INCOMING_POST_MARK_DONE":return Object(R.a)(Object(R.a)(Object(R.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))})}),{},{recentPosts:Object(R.a)(Object(R.a)({},e.recentPosts),Object.keys(e.recentPosts).filter((function(a){return e.recentPosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.recentPosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.recentPosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.recentPosts[a].posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}))});case"GET_DRAFTS_SUCCESS":var u=t.data.filter((function(e){return"draft_post"===e.data.type})).map((function(e){return Object.assign({},e,Object(R.a)(Object(R.a)({},e.data),{},{post_id:e.data.id,draft_id:e.id,updated_at:e.data.created_at,is_unread:0,unread_count:0,is_close:!1,approval_label:null}))})),m=[],p=t.data.filter((function(e){return"comment"===e.data.type}));return u.length&&(m=qt(u,"post_id")),Object(R.a)(Object(R.a)({},e),{},{drafts:u,companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),m)}),commentDrafts:p});case"DELETE_DRAFT":if("draft_post"===t.data.draft_type){var f=Object(Rt.a)(e.drafts.filter((function(e){return e.draft_id!==t.data.draft_id}))),b=Object(R.a)({},e.companyPosts);return delete b.posts[t.data.post_id],Object(R.a)(Object(R.a)({},e),{},{drafts:f,companyPosts:b})}return e;case"SAVE_DRAFT_SUCCESS":if("draft_post"===t.data.data.draft_type){var h=Object(R.a)(Object(R.a)(Object(R.a)({},t.data),t.data.data),{},{id:t.data.data.id,post_id:t.data.data.id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,approval_label:null});return Object(R.a)(Object(R.a)({},e),{},{drafts:[].concat(Object(Rt.a)(e.drafts),[h]),companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},h.id,h))})})}return"comment"===t.data.data.draft_type?Object(R.a)(Object(R.a)({},e),{},{commentDrafts:[].concat(Object(Rt.a)(e.commentDrafts),[t.data])}):e;case"REMOVE_COMMENT_DRAFT":return Object(R.a)(Object(R.a)({},e),{},{commentDrafts:e.commentDrafts.filter((function(e){return e.id!==t.data.id}))});case"UPDATE_DRAFT_SUCCESS":if("draft_post"===t.data.data.type){var E=Object(R.a)({},e.companyPosts);return E.posts[t.data.data.id]=Object(R.a)(Object(R.a)(Object(R.a)({},E.posts[t.data.data.post_id]),t.data.data),{},{id:t.data.data.post_id,post_id:t.data.data.post_id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,approval_label:null}),Object(R.a)(Object(R.a)({},e),{},{companyPosts:E})}return"comment"===t.data.data.draft_type?Object(R.a)(Object(R.a)({},e),{},{commentDrafts:e.commentDrafts.map((function(e){return e.id===parseInt(t.data.id)?Object(R.a)(Object(R.a)({},t.data),{},{id:parseInt(t.data.id)}):e}))}):e;case"INCOMING_POST_VIEWER":return Object(R.a)(Object(R.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{view_user_ids:[].concat(Object(Rt.a)(e.companyPosts.posts[t.data.post_id].view_user_ids),[t.data.viewer.id])})))})});case"ARCHIVE_POST_REDUCER":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),Object.values(e.companyPosts.posts).length>0&&Object(R.a)({},Object.values(e.companyPosts.posts).reduce((function(e,a){return e[a.id]=Object(R.a)(Object(R.a)({},a),{},{is_archived:a.id===t.data.post_id?t.data.is_archived:a.is_archived}),e}),{})))})});case"INCOMING_POST_TOGGLE_FOLLOW":return Object(R.a)(Object(R.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{flipper:!e.flipper,posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_followed:t.data.is_followed})))})});case"INCOMING_READ_UNREAD_REDUCER":return Object(R.a)(Object(R.a)({},e),e.companyPosts.posts.hasOwnProperty(t.data.post_id)&&{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{flipper:!e.flipper,posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{is_unread:t.data.unread,unread_count:0===t.data.unread?0:e.companyPosts.posts[t.data.post_id].unread_count})))})});case"INCOMING_COMMENT":if("POST_COMMENT_CREATE"===t.data.SOCKET_TYPE){var _=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null===e.ip_address})).length===t.data.users_approval.length,O=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,g=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,v=t.data.users_approval.some((function(t){return t.id===e.user.id}));return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.post_id]&&Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{unread_count:t.data.author.id!==e.user.id?e.companyPosts.posts[t.data.post_id].unread_count+1:e.companyPosts.posts[t.data.post_id].unread_count,updated_at:t.data.updated_at,reply_count:e.companyPosts.posts[t.data.post_id].reply_count+1,has_replied:t.data.author.id===e.user.id,post_approval_label:g?"ACCEPTED":O?"REQUEST_UPDATE":v&&_?"NEED_ACTION":e.companyPosts.posts[t.data.post_id].author.id===t.data.author.id&&_?"REQUEST_APPROVAL":e.companyPosts.posts[t.data.post_id].post_approval_label})))})})}return e;case"GET_UNREAD_POST_ENTRIES_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{unreadPosts:t.data.result})});case"INCOMING_DELETED_POST":var A=Object(R.a)({},e.companyPosts);return delete A.posts[t.data.id],Object(R.a)(Object(R.a)({},e),{},{companyPosts:A});case"READ_ALL_POSTS":if(t.data.topic_id)return e;var j=Object(R.a)({},e.companyPosts);return Object.keys(j.posts).length&&Object.values(j.posts).forEach((function(e){j.posts[e.id].is_read=!0,j.posts[e.id].is_updated=!0,j.posts[e.id].unread_count=0,j.posts[e.id].is_unread=0})),Object(R.a)(Object(R.a)({},e),{},{companyPosts:j});case"ARCHIVE_ALL_POSTS":if(t.data.topic_id)return e;var C=Object(R.a)({},e.companyPosts);return Object.keys(C.posts).length&&Object.values(C.posts).forEach((function(e){C.posts[e.id].is_archived=1,C.posts[e.id].unread_count=0})),Object(R.a)(Object(R.a)({},e),{},{companyPosts:C});case"ADD_USER_TO_POST_RECIPIENTS":var T=Object(R.a)({},e.companyPosts);return T.posts.hasOwnProperty(t.data.post_id)&&(T.posts[t.data.post_id].hasOwnProperty("to_add")?T.posts[t.data.post_id].to_add=[].concat(Object(Rt.a)(T.posts[t.data.post_id].to_add),Object(Rt.a)(t.data.recipient_ids)):T.posts[t.data.post_id].to_add=Object(Rt.a)(t.data.recipient_ids),T.posts[t.data.post_id].recipients=[].concat(Object(Rt.a)(T.posts[t.data.post_id].recipients),Object(Rt.a)(t.data.recipients)),T.posts[t.data.post_id].recipient_ids=[].concat(Object(Rt.a)(T.posts[t.data.post_id].recipient_ids),Object(Rt.a)(t.data.recipient_ids))),Object(R.a)(Object(R.a)({},e),{},{companyPosts:T});case"REMOVE_USER_TO_POST_RECIPIENTS":var y=Object(R.a)({},e.companyPosts);if(y.posts.hasOwnProperty(t.data.post_id)){var S=y.posts[t.data.post_id].recipient_ids.filter((function(e){return!t.data.remove_recipient_ids.includes(e)})),k=y.posts[t.data.post_id].recipients.filter((function(e){return!t.data.remove_recipient_ids.includes(e.id)}));y.posts[t.data.post_id].recipient_ids=S,y.posts[t.data.post_id].recipients=k}return Object(R.a)(Object(R.a)({},e),{},{companyPosts:y});case"REFETCH_POSTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,a){return e.companyPosts.posts[a.id]?t[a.id]=Object(R.a)(Object(R.a)({clap_user_ids:[]},e.companyPosts.posts[a.id]),a):t[a.id]=Object(R.a)({clap_user_ids:[]},a),t}),{}))})});case"GET_UNARCHIVE_POST_DETAIL_SUCCESS":case"GET_POST_DETAIL_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},t.data),{},{clap_user_ids:[]})))})});case"UPDATE_POST_FILES":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),"undefined"!==typeof e.companyPosts.posts[t.data.post_id]&&Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{files:e.companyPosts.posts[t.data.post_id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))})});case"INCOMING_READ_SELECTED_POSTS":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),t.data.post_ids.reduce((function(t,a){return e.companyPosts.posts[a]&&(t[a]=Object(R.a)(Object(R.a)({},e.companyPosts.posts[a]),{},{is_read:!0,unread_count:0,is_unread:0})),t}),{}))})});case"INCOMING_ARCHIVED_SELECTED_POSTS":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),t.data.post_ids.reduce((function(t,a){return e.companyPosts.posts[a]&&(t[a]=Object(R.a)(Object(R.a)({},e.companyPosts.posts[a]),{},{is_archived:1,unread_count:0,is_unread:0})),t}),{}))})});case"INCOMING_POST_APPROVAL":var w=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,N=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,I=!t.data.users_approval.some((function(e){return null===e.ip_address}));return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),"undefined"!==typeof e.companyPosts.posts[t.data.post.id]&&Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post.id]),{},{post_approval_label:N?"ACCEPTED":w?"REQUEST_UPDATE":!I||w||N?t.data.user_approved.id===e.user.id?null:e.companyPosts.posts[t.data.post.id].post_approval_label:"SPLIT",users_approval:e.companyPosts.posts[t.data.post.id].users_approval.map((function(e){return e.id===t.data.user_approved.id?Object(R.a)(Object(R.a)({},e),t.data.user_approved):e}))})))})});case"INCOMING_COMMENT_APPROVAL":var P=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,D=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,L=!t.data.users_approval.some((function(e){return null===e.ip_address}));return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.post.id]&&Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post.id]),{},{post_approval_label:D?"ACCEPTED":P?"REQUEST_UPDATE":!L||P||D?t.data.user_approved.id===e.user.id?null:e.companyPosts.posts[t.data.post.id].post_approval_label:"SPLIT"})))})});case"SET_POSTREAD":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.postId]&&Object(x.a)({},t.data.postId,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.postId]),{},{post_reads:Object(Rt.a)(t.data.readPosts)})))})});case"CLEAR_COMMENT_APPROVING_STATE":return Object(R.a)(Object(R.a)({},e),{},{clearApprovingState:t.data});case"SET_CHANGE_REQUESTED_COMMENT":return Object(R.a)(Object(R.a)({},e),{},{changeRequestedComment:t.data});case"INCOMING_CLOSE_POST":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),e.companyPosts.posts[t.data.post.id]&&Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post.id]),{},{is_close:t.data.is_close})))})});case"GET_UNREAD_COMPANY_POSTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),t.data.posts.reduce((function(t,a){return e.companyPosts.posts[a.id]?t[a.id]=Object(R.a)(Object(R.a)({clap_user_ids:[]},e.companyPosts.posts[a.id]),a):t[a.id]=Object(R.a)({clap_user_ids:[]},a),t}),{}))})});case"POST_LIST_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{postsLists:Object(Rt.a)(t.data)});case"POST_LIST_CONNECT":var F=Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{post_list_connect:[{id:t.data.link_id}]});return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,F))})});case"POST_LIST_DISCONNECT":var M=Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post_id]),{},{post_list_connect:[]});return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),{},Object(x.a)({},t.data.post_id,M))})});case"REMOVE_POST":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)({},Object.keys(e.companyPosts.posts).filter((function(e){return parseInt(e)!==t.data.id})).reduce((function(t,a){return t[a]=Object(R.a)({},e.companyPosts.posts[a]),t}),{}))})});case"INCOMING_POST_REQUIRED":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),"undefined"!==typeof e.companyPosts.posts[t.data.post.id]&&Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.companyPosts.posts[t.data.post.id]),{},{required_users:t.data.required_users,user_reads:t.data.user_reads})))})});case"SET_POST_COMMENT_TYPE":return Object(R.a)(Object(R.a)({},e),{},{commentType:t.data});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),t.data.files.reduce((function(a,n){if(n.post_id&&e.companyPosts.posts[n.post_id]){var r=0===e.companyPosts.posts[n.post_id].files.length?[]:e.companyPosts.posts[n.post_id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()}})}));a[n.post_id]=Object(R.a)(Object(R.a)({},e.companyPosts.posts[n.post_id]),{},{files:e.companyPosts.posts[n.post_id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:r})}return a}),{}))})});case"INCOMING_REMOVED_FILE_AFTER_DOWNLOAD":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)(Object(R.a)({},e.companyPosts.posts),Object.values(e.companyPosts.posts).reduce((function(a,n){return n.files.some((function(e){return e.file_id===t.data.file_id}))?a[n.id]=Object(R.a)(Object(R.a)({},e.companyPosts.posts[n.id]),{},{files:e.companyPosts.posts[n.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):a[n.id]=Object(R.a)({},e.companyPosts.posts[n.id]),a}),{}))})});case"REMOVE_DRAFT_POST":return Object(R.a)(Object(R.a)({},e),{},{companyPosts:Object(R.a)(Object(R.a)({},e.companyPosts),{},{posts:Object(R.a)({},Object.values(e.companyPosts.posts).reduce((function(a,n){return n.id!==t.data.post_id&&(a[n.id]=Object(R.a)({},e.companyPosts.posts[n.id])),a}),{}))})});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCOMING_UPDATE_COMPANY_NAME":return Object(R.a)(Object(R.a)({},e),{},{driff:Object(R.a)(Object(R.a)({},e.driff),{},{company_name:t.data.company_name})});case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{sessionUser:t.data});case"GET_DRIFF_COMP_SETTINGS_SUCCESS":console.log(t.data);var a=e.driff.settings,n=e.driff.ANNOUNCEMENT_AT,r=e.driff.ANNOUNCEMENT_LINK,i=e.driff.READ_RELEASE_UPDATES;return t.data.settings.forEach((function(e){e.ANNOUNCEMENT_AT&&(n=e.ANNOUNCEMENT_AT),e.ANNOUNCEMENT_LINK&&(r=e.ANNOUNCEMENT_LINK),e.READ_RELEASE_UPDATES&&(i=e.READ_RELEASE_UPDATES),a=Object(R.a)(Object(R.a)({},a),e)})),Object.keys(a).forEach((function(e){a[e]="1"===a[e]||!0===a[e]})),a.maintenance_mode=!Object.values(a).some((function(e){return!0===e})),"password_login"===j("allow")&&(a.password_login=!0),Object(R.a)(Object(R.a)({},e),{},{driff:Object(R.a)(Object(R.a)({},e.driff),{},{isCompSettingsLoaded:!0,settings:a,ANNOUNCEMENT_LINK:r,ANNOUNCEMENT_AT:n,READ_RELEASE_UPDATES:i})});case"GET_DRIFF_SETTINGS_SUCCESS":var o=e.driff;for(var c in t.data)if(t.data.hasOwnProperty(c)){var s=t.data[c],l=Object.keys(s)[0],d=s[l];switch(l){case"translation_updated_at":o="undefined"===typeof o.client_translation_updated_at?Object(R.a)(Object(R.a)({},o),{},{i18n:d?d.timestamp:1e9}):Object(R.a)(Object(R.a)({},o),{},{i18n:o.client_translation_updated_at<d.timestamp?d.timestamp:o.translation_updated_at});break;case"client_translation_updated_at":o="undefined"===typeof o.translation_updated_at?Object(R.a)(Object(R.a)({},o),{},{i18n:d?d.timestamp:1e9}):Object(R.a)(Object(R.a)({},o),{},{i18n:o.translation_updated_at<d.timestamp?d.timestamp:o.translation_updated_at});break;default:o=Object(R.a)(Object(R.a)({},o),{},Object(x.a)({},l,d))}}return Object(R.a)(Object(R.a)({},e),{},{driff:Object(R.a)(Object(R.a)({},o),{},{isSettingsLoaded:!0})});case"GET_USER_SETTINGS_SUCCESS":var u=e.user;for(var m in u.isLoaded=!0,t.data.settings)if(t.data.settings.hasOwnProperty(m)){var p=t.data.settings[m],f=Object.keys(p)[0],b=p[f];switch(f){case"CHAT_SETTINGS":"default"===b.chat_message_theme.preset||(b.old_chat_message_theme=b.chat_message_theme),delete b.chat_message_theme,u[f]=Object(R.a)(Object(R.a)({},u[f]),b);break;case"GENERAL_SETTINGS":u[f]=Object(R.a)(Object(R.a)(Object(R.a)({},u[f]),b),{},{language:null===b.language?"en":b.language});break;default:u[f]=b}}return Object(R.a)(Object(R.a)({},e),{},{user:u});case"UPDATE_USER_CHAT_SETTING":return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{CHAT_SETTINGS:Object(R.a)(Object(R.a)({},e.user.CHAT_SETTINGS),t.data)})});case"UPDATE_USER_GENERAL_SETTING":return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{GENERAL_SETTINGS:Object(R.a)(Object(R.a)({},e.user.GENERAL_SETTINGS),t.data)})});case"UPDATE_USER_SETTINGS":return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),t.data)});case"UPDATE_READ_ANNOUNCEMENT":return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{READ_ANNOUNCEMENT:{timestamp:Math.floor(Date.now()/1e3)}})});case"UPDATE_COMPANY_POST_ANNOUNCEMENT":return Object(R.a)(Object(R.a)({},e),{},{driff:Object(R.a)(Object(R.a)({},e.driff),{},{ANNOUNCEMENT_LINK:t.data.ANNOUNCEMENT_LINK,ANNOUNCEMENT_AT:t.data.ANNOUNCEMENT_AT})});case"UPDATE_WORKSPACE_SETTING":return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{GENERAL_SETTINGS:Object(R.a)(Object(R.a)({},e.user.GENERAL_SETTINGS),t.data),ORDER_CHANNEL:Object(R.a)({},t.data.order_channel)})});case"INCOMING_CREATED_ANNOUNCEMENT":return t.data.major_release?Object(R.a)(Object(R.a)({},e),{},{driff:Object(R.a)(Object(R.a)({},e.driff),{},{READ_RELEASE_UPDATES:{timestamp:t.data.created_at.timestamp}})}):e;case"GET_RELEASE_ANNOUNCEMENTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{user:Object(R.a)(Object(R.a)({},e.user),{},{READ_RELEASE_UPDATES:{timestamp:t.data.READ_RELEASE_UPDATES.timestamp}})});default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;return t.type,e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCOMING_INTERNAL_USER":var a=Object(R.a)({contact:"",active:1},t.data);return delete a.SOCKET_TYPE,Object(R.a)(Object(R.a)({},e),{},{users:Object(R.a)(Object(R.a)({},e.users),{},Object(x.a)({},a.id,Object(R.a)(Object(R.a)({},a),{},{name:a.name.toString()}))),mentions:Object(R.a)(Object(R.a)({},e.mentions),{},Object(x.a)({},a.id,a))});case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{user:t.data});case"GET_MENTION_USERS_SUCCESS":var n=e.mentions;return t.data.result.forEach((function(e){n[e.id]=Object(R.a)(Object(R.a)({},n[e.id]),e)})),Object(R.a)(Object(R.a)({},e),{},{mentions:n});case"GET_ONLINE_USERS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{onlineUsers:t.data.result});case"GET_USERS_SUCCESS":var r=Object(R.a)({},e.users),i=Object(R.a)({},e.mentions);return t.data.users.forEach((function(e){r[e.id]=Object(R.a)(Object(R.a)(Object(R.a)({},r[e.id]),e),{},{name:e.name.toString()}),i[e.id]=Object(R.a)(Object(R.a)({},i[e.id]),e)})),Object(R.a)(Object(R.a)({},e),{},{users:r,mentions:i,getUserFilter:{hasMore:t.data.users.length===t.data.limit,limit:t.data.limit,skip:t.data.next_skip}});case"GET_EXTERNAL_USERS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{externalUsers:t.data.users});case"GET_USER_SUCCESS":var o=t.data,c=(o.CHAT_SETTINGS,o.GENERAL_SETTINGS,o.ORDER_CHANNEL,o.id),s=Object(I.a)(o,["CHAT_SETTINGS","GENERAL_SETTINGS","ORDER_CHANNEL","id"]),l=e.users[c];return l=l?Object(R.a)(Object(R.a)({},l),{},{userData:s}):s,Object(R.a)(Object(R.a)({},e),{},{users:Object(R.a)(Object(R.a)({},e.users),{},Object(x.a)({},c,Object(R.a)(Object(R.a)({id:c},l),{},{name:l.name.toString(),loaded:!0})))});case"UPDATE_USER_SUCCESS":var d=t.data,u=(d.CHAT_SETTINGS,d.GENERAL_SETTINGS,d.ORDER_CHANNEL,d.id),m=Object(I.a)(d,["CHAT_SETTINGS","GENERAL_SETTINGS","ORDER_CHANNEL","id"]);return Object(R.a)(Object(R.a)({},e),{},{users:Object(R.a)(Object(R.a)({},e.users),{},Object(x.a)({},u,Object(R.a)(Object(R.a)(Object(R.a)({id:u},e.users[u]),m),{},{name:m.name.toString()})))});case"INCOMING_UPDATED_USER":var p=Object(R.a)({},e.users),f=Object(R.a)({},e.mentions);return Object.keys(e.users).length&&(p[t.data.id]=Object(R.a)(Object(R.a)(Object(R.a)({},p[t.data.id]),t.data),{},{id:t.data.id,first_name:t.data.first_name,middle_name:t.data.middle_name,last_name:t.data.last_name,name:t.data.name.toString(),email:t.data.email,active:t.data.active,profile_image_link:t.data.profile_image_link,contact:t.data.contact,company:t.data.company,designation:t.data.designation,partial_name:t.data.partian_name,import_from:t.data.import_from,place:t.data.place,address:t.data.address})),Object.keys(e.mentions).length&&(f[t.data.id]={id:t.data.id,first_name:t.data.first_name,name:t.data.name,profile_image_link:t.data.profile_image_link}),Object(R.a)(Object(R.a)({},e),{},{users:p,mentions:f});case"INCOMING_EXTERNAL_USER":var b=Object(R.a)({},e.users),h=Object(R.a)({},e.mentions);return Object.keys(e.users).length&&(b[t.data.current_user.id]=Object(R.a)(Object(R.a)({},t.data.current_user),{},{name:t.data.current_user.name.toString(),address:"",role:null,designation:"",is_favourite:!1,place:"",slug:null,contact:"",company:""})),Object.keys(e.mentions).length&&(h[t.data.current_user.id]={id:t.data.current_user.id,first_name:t.data.current_user.first_name,name:t.data.current_user.name,profile_image_link:t.data.current_user.profile_image_link}),Object(R.a)(Object(R.a)({},e),{},{users:b,mentions:h});case"GET_ROLES_SUCCESS":var E=Object(R.a)({},e.roles);return t.data.forEach((function(e){E[e.name]=e.id})),Object(R.a)(Object(R.a)({},e),{},{roles:E});case"INCOMING_USER_ROLE":return Object(R.a)(Object(R.a)({},e),{},{users:Object(R.a)(Object(R.a)({},e.users),{},Object(x.a)({},t.data.user_id,Object(R.a)(Object(R.a)({},e.users[t.data.user_id]),{},{role:Object(R.a)(Object(R.a)({},e.users[t.data.user_id].role),{},{name:t.data.role.name,display_name:"admin"===t.data.role.name?"Site Admin":"Employee"})})))});case"GET_ARCHIVED_USERS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{archivedUsers:t.data.users});case"INCOMING_ARCHIVED_USER":var _=Object(R.a)({},e.users);_[t.data.user.id].active=0;var O=Object(R.a)({},e.mentions);return delete O[t.data.user.id],Object(R.a)(Object(R.a)({},e),{},{mentions:O,users:_});case"INCOMING_UNARCHIVED_USER":var g=Object(R.a)({},e.users);g[t.data.profile.id]=t.data.profile;var v=Object(R.a)({},e.mentions);return v[t.data.profile.id]=t.data.profile,Object(R.a)(Object(R.a)({},e),{},{archivedUsers:e.archivedUsers.filter((function(e){return e.id!==t.data.profile.id})),mentions:v,users:g});case"INCOMING_DEACTIVATED_USER":var A=Object(R.a)({},e.users);A[t.data.user_id].active=0,A[t.data.user_id].deactivate=!0;var j=Object(R.a)({},e.mentions);return delete j[t.data.user_id],Object(R.a)(Object(R.a)({},e),{},{mentions:j,users:A});case"INCOMING_ACTIVATED_USER":var C=Object(R.a)({},e.users);C[t.data.user.id]=Object(R.a)(Object(R.a)({},t.data.user),{},{deactivate:!1});var T=Object(R.a)({},e.mentions);return T[t.data.user.id]=t.data.user,Object(R.a)(Object(R.a)({},e),{},{mentions:T,users:C,archivedUsers:e.archivedUsers.filter((function(e){return e.id!==t.data.user.id}))});case"INCOMING_ONLINE_USERS":return Object(R.a)(Object(R.a)({},e),{},{onlineUsers:t.data.result});case"SET_PROFILE_SLIDER":return Object(R.a)(Object(R.a)({},e),{},{profileSlider:t.data.id&&e.users[t.data.id]?e.users[t.data.id]:null});default:return e}},workspaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WORKSPACE_SEARCH":return Object(R.a)(Object(R.a)({},e),{},{search:Object(R.a)(Object(R.a)({},e.search),t.data)});case"ADD_USER_TO_REDUCERS":return Object(R.a)(Object(R.a)({},e),{},{user:t.data});case"INCOMING_UPDATED_USER":var a=e.activeTopic;if(a&&a.members.some((function(e){return e.id===t.data.id}))){var n=a.members.map((function(e){return e.id===t.data.id?Object(R.a)(Object(R.a)({},e),{},{active:t.data.active?t.data.active:e.active,email:t.data.email?t.data.email:e.email,name:t.data.name?t.data.name:e.name,profile_image_link:t.data.profile_image_link?t.data.profile_image_link:e.profile_image_link,profile_image_thumbnail_link:t.data.profile_image_thumbnail_link?t.data.profile_image_thumbnail_link:e.profile_image_thumbnail_link,type:t.data.type?t.data.type:e.type,designation:t.data.designation?t.data.designation:e.designation,contact:t.data.contact?t.data.contact:e.contact,external_company_name:t.data.external_company_name?t.data.external_company_name:e.external_company_name}):e})),r="internal"===t.data.type&&n.filter((function(e){return"external"===e.type})).length>0;a=Object(R.a)(Object(R.a)({},a),{},{is_shared:"external"===t.data.type||r,members:n})}return Object(R.a)(Object(R.a)({},e),{},{flipper:!e.flipper,workspaces:Object.values(e.workspaces).reduce((function(e,a){var n=a.members.some((function(e){return e.id===t.data.id}))?a.members.map((function(e){return e.id===t.data.id?Object(R.a)(Object(R.a)({},e),{},{active:t.data.active?t.data.active:e.active,email:t.data.email?t.data.email:e.email,name:t.data.name?t.data.name:e.name,profile_image_link:t.data.profile_image_link?t.data.profile_image_link:e.profile_image_link,profile_image_thumbnail_link:t.data.profile_image_thumbnail_link?t.data.profile_image_thumbnail_link:e.profile_image_thumbnail_link,type:t.data.type?t.data.type:e.type,designation:t.data.designation?t.data.designation:e.designation,contact:t.data.contact?t.data.contact:e.contact,external_company_name:t.data.external_company_name?t.data.external_company_name:e.external_company_name}):e})):a.members,r="internal"===t.data.type&&n.filter((function(e){return"external"===e.type})).length>0;return e[a.id]=Object(R.a)(Object(R.a)({},a),{},{members:n,is_shared:"external"===t.data.type||r}),e}),{}),activeTopic:a});case"GET_WORKSPACES_SUCCESS":var i=Object(R.a)({},e.workspaces),o=Object(R.a)({},e.folders);return t.data.workspaces.forEach((function(e){"FOLDER"===e.type?(o.hasOwnProperty(e.id)?o[e.id].workspace_ids=[].concat(Object(Rt.a)(o[e.id].workspace_ids),Object(Rt.a)(e.topics.map((function(e){return e.id})))):o[e.id]=Object(R.a)(Object(R.a)({},e),{},{workspace_ids:e.topics.map((function(e){return e.id}))}),e.topics.forEach((function(t){i[t.id]=Object(R.a)(Object(R.a)({},t),{},{channel:Object(R.a)(Object(R.a)({},t.channel),{},{loaded:!1}),is_lock:t.private,folder_id:e.id,folder_name:e.name,team_channel:t.team_channel,is_favourite:t.is_favourite,type:"WORKSPACE"})})),delete o[e.id].topics):"WORKSPACE"===e.type&&(i[e.id]=Object(R.a)(Object(R.a)({},e),{},{is_favourite:e.topic_detail.is_favourite,is_shared:e.topic_detail.is_shared,active:e.topic_detail.active,channel:Object(R.a)(Object(R.a)({},e.topic_detail.channel),{},{loaded:!1}),unread_chats:e.topic_detail.unread_chats,unread_posts:e.topic_detail.unread_posts,folder_id:null,folder_name:null,team_channel:e.topic_detail.team_channel,team_unread_chats:e.topic_detail.team_unread_chats,workspace_counter_entries:e.topic_detail.workspace_counter_entries}),delete i[e.id].topic_detail)})),Object(R.a)(Object(R.a)({},e),{},{workspaces:i,workspacesLoaded:!0,externalWorkspacesLoaded:!0,folders:o,isOnClientChat:e.activeChannel&&i[e.activeChannel.entity_id]&&i[e.activeChannel.entity_id].team_channel.code&&i[e.activeChannel.entity_id].channel.id===e.activeChannel.id?{code:i[e.activeChannel.entity_id].team_channel.code,id:i[e.activeChannel.entity_id].team_channel.id}:null});case"GET_FAVORITE_WORKSPACES_SUCCESS":var c=Object(R.a)({},e.workspaces),s=Object(R.a)({},e.folders);return t.data.workspaces.forEach((function(e){"FOLDER"===e.type?(s.hasOwnProperty(e.id)?s[e.id].workspace_ids=[].concat(Object(Rt.a)(s[e.id].workspace_ids),Object(Rt.a)(e.topics.map((function(e){return e.id})))):s[e.id]=Object(R.a)(Object(R.a)({},e),{},{workspace_ids:e.topics.map((function(e){return e.id}))}),e.topics.forEach((function(t){c[t.id]=Object(R.a)(Object(R.a)({},t),{},{channel:Object(R.a)(Object(R.a)({},t.channel),{},{loaded:!1}),is_lock:t.private,folder_id:e.id,folder_name:e.name,team_channel:t.team_channel,is_favourite:t.is_favourite,type:"WORKSPACE"})})),delete s[e.id].topics):"WORKSPACE"===e.type&&(c[e.id]=Object(R.a)(Object(R.a)({},e),{},{is_favourite:e.topic_detail.is_favourite,is_shared:e.topic_detail.is_shared,active:e.topic_detail.active,channel:Object(R.a)(Object(R.a)({},e.topic_detail.channel),{},{loaded:!1}),unread_chats:e.topic_detail.unread_chats,unread_posts:e.topic_detail.unread_posts,folder_id:null,folder_name:null,team_channel:e.topic_detail.team_channel,team_unread_chats:e.topic_detail.team_unread_chats,workspace_counter_entries:e.topic_detail.workspace_counter_entries}),delete c[e.id].topic_detail)})),Object(R.a)(Object(R.a)({},e),{},{workspaces:c,folders:s,favoriteWorkspacesLoaded:!0});case"GET_WORKSPACE_SUCCESS":var l=Object(R.a)(Object(R.a)({},t.data.workspace_data),{},{channel:t.data.workspace_data.topic_detail.channel,team_channel:t.data.workspace_data.topic_detail.team_channel,team_unread_chats:t.data.workspace_data.topic_detail.team_unread_chats,unread_chats:t.data.workspace_data.topic_detail.unread_chats,unread_posts:t.data.workspace_data.topic_detail.unread_posts,folder_id:t.data.workspace_id,folder_name:t.data.workspace_name});return Object(R.a)(Object(R.a)({},e),{},{workspaces:Object(R.a)(Object(R.a)({},e.workspaces),{},Object(x.a)({},l.id,l)),activeTopic:l});case"INCOMING_WORKSPACE_FOLDER":var d=Object(R.a)({},e.folders);return e.workspacesLoaded&&(d[t.data.id]=Object(R.a)(Object(R.a)({},t.data),{},{unread_count:0,member_ids:[],members:[],workspace_ids:[]})),Object(R.a)(Object(R.a)({},e),{},{folders:d});case"INCOMING_WORKSPACE":var u=Object(R.a)({},e.workspaces),m=Object(R.a)({},e.folders);return e.workspacesLoaded&&(u[t.data.id]={id:t.data.id,name:t.data.topic.name,is_external:t.data.is_external,is_lock:t.data.is_lock,description:t.data.topic.description,unread_count:0,type:"WORKSPACE",key_id:t.data.key_id,active:1,unread_chats:0,unread_posts:0,folder_id:t.data.workspace?t.data.workspace.id:null,folder_name:t.data.workspace?t.data.workspace.name:null,member_ids:t.data.member_ids,members:t.data.members,team_unread_chats:0,channel:{code:t.data.channel.code,id:t.data.channel.id,icon_link:null,loaded:!1},team_channel:{code:t.data.members.filter((function(e){return"external"===e.type})).length>0&&t.data.team_channel.code?t.data.team_channel.code:null,id:t.data.members.filter((function(e){return"external"===e.type})).length>0&&t.data.team_channel.ud?t.data.team_channel.id:null,icon_link:null},created_at:t.data.topic.created_at,updated_at:t.data.topic.created_at,primary_files:[],is_shared:t.data.members.filter((function(e){return"external"===e.type})).length>0},null!==t.data.workspace&&m[t.data.workspace.id]&&(m[t.data.workspace.id].workspace_ids=[].concat(Object(Rt.a)(m[t.data.workspace.id].workspace_ids),[t.data.id]))),Object(R.a)(Object(R.a)({},e),{},{workspaces:u,folders:m});case"INCOMING_UPDATED_WORKSPACE_FOLDER":var p=Object(R.a)({},e.workspaces),f=Object(R.a)({},e.folders),b=null,h=e.workspaceToDelete,E=e.folderToDelete,O=Object(R.a)({},e.search);if(O.results.length&&"WORKSPACE"===t.data.type&&(O.results=O.results.map((function(e){return e.topic.id===t.data.id?Object(R.a)(Object(R.a)(Object(R.a)({},e),t.data),{},{members:t.data.members,topic:Object(R.a)(Object(R.a)({},e.topic),{},{name:t.data.name,description:t.data.description,is_locked:1===t.data.private}),workspace:0===t.data.workspace_id?null:{id:t.data.workspace_id,name:t.data.current_workspace_folder_name}}):e}))),e.workspacesLoaded&&"WORKSPACE"===t.data.type&&p.hasOwnProperty(t.data.id)){var g=e.activeTopic?Object(R.a)({},e.activeTopic):null;if(b=Object(R.a)(Object(R.a)(Object(R.a)({},e.workspaces[t.data.id]),t.data),{},{is_lock:t.data.private,folder_id:0===t.data.workspace_id?null:t.data.workspace_id,folder_name:0===t.data.workspace_id?null:t.data.current_workspace_folder_name}),p[b.id]=b,e.activeTopic&&e.activeTopic.id===b.id&&(g=b),!t.data.member_ids.some((function(t){return t===e.user.id})))if(1===b.is_lock||"external"===e.user.type){if(delete p[b.id],0!==t.data.workspace_id&&f.hasOwnProperty(t.data.workspace_id)){var v=!1;f[t.data.workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})).forEach((function(a){e.workspaces.hasOwnProperty(a)&&t.data.id!==a&&e.workspaces[a].member_ids.some((function(t){return t===e.user.id}))&&(v=!0)})),v||delete f[t.data.workspace_id]}}else if(e.activeTopic&&e.activeTopic.id===t.data.id){if(h=t.data.id,0!==t.data.workspace_id&&f.hasOwnProperty(t.data.workspace_id)){var A=!1;f[t.data.workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})).forEach((function(a){e.workspaces.hasOwnProperty(a)&&t.data.id!==a&&e.workspaces[a].member_ids.some((function(t){return t===e.user.id}))&&(A=!0)})),A||(E=t.data.workspace_id)}}else if(delete p[t.data.id],0!==t.data.workspace_id&&f.hasOwnProperty(t.data.workspace_id)){var j=!1;f[t.data.workspace_id].workspace_ids.forEach((function(a){e.workspaces.hasOwnProperty(a)&&t.data.id!==a&&e.workspaces[a].member_ids.some((function(t){return t===e.user.id}))&&(j=!0)})),j||delete f[t.data.workspace_id]}return 0!==t.data.workspace_id&&f.hasOwnProperty(t.data.workspace_id)?t.data.original_workspace_id!==t.data.workspace_id&&(f[t.data.workspace_id].workspace_ids=[].concat(Object(Rt.a)(f[t.data.workspace_id].workspace_ids),[t.data.id]),0!==t.data.original_workspace_id&&(f[t.data.original_workspace_id].workspace_ids=f[t.data.original_workspace_id].workspace_ids.filter((function(e){return e!==t.data.id})))):t.data.original_workspace_id!==t.data.workspace_id&&f[t.data.original_workspace_id]&&(f[t.data.original_workspace_id].workspace_ids=f[t.data.original_workspace_id].workspace_ids.filter((function(e){return e!==t.data.id}))),Object(R.a)(Object(R.a)({},e),{},{activeTopic:g,folders:f,workspaces:p,workspaceToDelete:h,folderToDelete:E,search:O})}return e.workspacesLoaded&&"FOLDER"===t.data.type?(f[t.data.id]&&(f[t.data.id]=Object(R.a)(Object(R.a)({},f[t.data.id]),{},{name:t.data.name,description:t.data.description,is_lock:t.data.is_lock,updated_at:t.data.updated_at}),f[t.data.id].workspace_ids.forEach((function(e){p[e].folder_name=t.data.name}))),Object(R.a)(Object(R.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.folder_id&&e.activeTopic.folder_id===t.data.id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{folder_name:t.data.name}):e.activeTopic,folders:f,workspaces:p})):Object(R.a)(Object(R.a)({},e),{},{search:O});case"SET_ACTIVE_TOPIC":var C=Object(R.a)({},e.workspaces),T=Object(R.a)({},e.folders);return e.workspaceToDelete&&delete C[e.workspaceToDelete],e.folderToDelete&&delete T[e.folderToDelete],Object(R.a)(Object(R.a)({},e),{},{workspaces:C,workspaceToDelete:null,folderToDelete:null,folders:T,activeTopic:t.data.hasOwnProperty("members")?t.data:e.workspaces.hasOwnProperty(t.data.id)?Object(R.a)({},e.workspaces[t.data.id]):e.activeTopic});case"GET_LAST_CHANNEL_SUCCESS":return t.data?Object(R.a)(Object(R.a)({},e),{},{activeChannel:{id:t.data.id,entity_id:t.data.entity_id,type:t.data.type},isOnClientChat:"TOPIC"===t.data.type&&e.workspaces[t.data.entity_id]&&e.workspaces[t.data.entity_id].team_channel.code&&e.workspaces[t.data.entity_id].channel.id===t.data.id?{code:e.workspaces[t.data.entity_id].team_channel.code,id:e.workspaces[t.data.entity_id].team_channel.id}:null}):e;case"GET_SELECT_CHANNEL_SUCCESS":case"SET_SELECTED_CHANNEL":return Object(R.a)(Object(R.a)({},e),{},{activeChannel:{id:t.data.id,entity_id:t.data.entity_id,type:t.data.type},isOnClientChat:"TOPIC"===t.data.type&&e.workspaces[t.data.entity_id]&&e.workspaces[t.data.entity_id].team_channel.code&&e.workspaces[t.data.entity_id].channel.id===t.data.id?{code:e.workspaces[t.data.entity_id].team_channel.code,id:e.workspaces[t.data.entity_id].team_channel.id}:null});case"GET_WORKSPACE_CHANNELS_SUCCESS":var y=Object(R.a)({},e.workspaces);return t.data.forEach((function(e){y.hasOwnProperty(e.entity_id)&&(y[e.entity_id].channel.loaded=!0)})),Object(R.a)(Object(R.a)({},e),{},{workspaces:y});case"SET_ACTIVE_TAB":return Object(R.a)(Object(R.a)({},e),{},{activeTab:t.data});case"ADD_POST_SEARCH_RESULT":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{search:t.data.search,searchResults:t.data.search_result,filter:"all"})))});case"ADD_TO_WORKSPACE_POSTS":var S=qt(t.data.posts.map((function(e){return Object.assign({},e,{clap_user_ids:[]})})),"id"),k=[];return e.drafts.length&&(k=qt(e.drafts,"post_id")),e.workspacePosts.hasOwnProperty(t.data.topic_id)?Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{filters:Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].filters),t.data.filters),posts:Object(R.a)(Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts),S),k)})))}):Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),{},Object(x.a)({},t.data.topic_id,{filters:t.data.filters,filter:"all",sort:"recent",tag:null,search:"",searchResults:[],count:null,posts:Object(R.a)(Object(R.a)({},S),k),post_ids:[].concat(Object(Rt.a)(t.data.posts.map((function(e){return e.id}))),Object(Rt.a)(e.drafts.map((function(e){return e.data.id}))))}))});case"UPDATE_WORKSPACE_POST_FILTER_SORT":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),e.workspacePosts[t.data.topic_id]&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{filter:t.data.filter,tag:t.data.tag,postListTag:t.data.postListTag})))});case"JOIN_WORKSPACE_REDUCER":var w=Object(R.a)({},e.workspaces),N=Object(R.a)({},e.search),I=null;return Object.keys(w).length&&Object.values(w).forEach((function(e){e.channel.id&&e.channel.id===t.data.channel_id&&(w[e.id].members=[].concat(Object(Rt.a)(w[e.id].members),Object(Rt.a)(t.data.users)),w[e.id].member_ids=[].concat(Object(Rt.a)(w[e.id].member_ids),Object(Rt.a)(t.data.users.map((function(e){return e.id})))),I=w[e.id])})),N.results.length&&(N.results=N.results.map((function(e){return e.channel.id===t.data.channel_id?Object(R.a)(Object(R.a)({},e),{},{members:[].concat(Object(Rt.a)(e.members),Object(Rt.a)(t.data.users))}):e}))),Object(R.a)(Object(R.a)({},e),{},{workspaces:w,activeTopic:e.activeTopic&&e.activeTopic.channel.id===t.data.channel_id&&I?I:e.activeTopic,search:N});case"GET_DRAFTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{drafts:t.data.filter((function(e){return"draft_post"===e.data.type})).map((function(e){return Object.assign({},e,Object(R.a)(Object(R.a)({},e.data),{},{draft_id:e.id,post_id:e.data.id,updated_at:e.data.created_at,is_unread:0,unread_count:0,is_close:!1,post_approval_label:null}))}))});case"SAVE_DRAFT_SUCCESS":if("draft_post"===t.data.data.draft_type&&t.data.data.topic_id){var P=Object(R.a)(Object(R.a)(Object(R.a)({},t.data),t.data.data),{},{id:t.data.data.id,post_id:t.data.data.id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,post_approval_label:null});return Object(R.a)(Object(R.a)({},e),{},{drafts:[].concat(Object(Rt.a)(e.drafts),[P]),workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),{},Object(x.a)({},t.data.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.data.topic_id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.data.topic_id].posts),{},Object(x.a)({},P.id,P))})))})}return e;case"UPDATE_DRAFT_SUCCESS":if("draft_post"===t.data.data.draft_type&&t.data.data.topic_id&&e.workspacePosts[t.data.data.topic_id]){var D=Object(R.a)({},e.workspacePosts);return D[t.data.data.topic_id].posts[t.data.data.id]=Object(R.a)(Object(R.a)(Object(R.a)({},D[t.data.data.topic_id].posts[t.data.data.post_id]),t.data.data),{},{id:t.data.data.post_id,post_id:t.data.data.post_id,draft_id:t.data.id,is_unread:0,unread_count:0,is_close:!1,post_approval_label:null}),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:D})}return e;case"DELETE_DRAFT":if("draft_post"===t.data.draft_type&&t.data.topic_id&&e.workspacePosts[t.data.topic_id]){var L=Object(Rt.a)(e.drafts.filter((function(e){return e.draft_id!==t.data.draft_id}))),F=Object(R.a)({},e.workspacePosts[t.data.topic_id].posts);return delete F[t.data.post_id],Object(R.a)(Object(R.a)({},e),{},{drafts:L,workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:F})))})}return e;case"FETCH_COMMENTS_SUCCESS":var M=Object(R.a)({},e.postComments),U={};return t.data.messages.length&&t.data.messages.forEach((function(e){U[e.id]=Object(R.a)(Object(R.a)({},e),{},{clap_user_ids:[],replies:qt(e.replies.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{clap_user_ids:[]})})),"id"),skip:e.replies.length,hasMore:10===e.replies.length,limit:10})})),M[t.data.post_id]=Object(R.a)(Object(R.a)({},"undefined"!==typeof M[t.data.post_id]&&M[t.data.post_id]),{},{skip:t.data.next_skip,hasMore:20===t.data.messages.length,comments:Object(R.a)(Object(R.a)({},U),"undefined"!==typeof M[t.data.post_id]&&M[t.data.post_id].comments)}),Object(R.a)(Object(R.a)({},e),{},{postComments:M});case"REFETCH_POST_COMMENTS_SUCCESS":var G=Object(R.a)({},e.postComments),H={};return t.data.messages.length&&t.data.messages.forEach((function(e){H[e.id]=Object(R.a)(Object(R.a)({},e),{},{clap_user_ids:[],replies:qt(e.replies.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{clap_user_ids:[]})})),"id"),skip:e.replies.length,hasMore:10===e.replies.length,limit:10})})),G[t.data.post_id]=Object(R.a)(Object(R.a)({},"undefined"!==typeof G[t.data.post_id]&&G[t.data.post_id]),{},{skip:t.data.next_skip,hasMore:20===t.data.messages.length,comments:Object(R.a)(Object(R.a)({},H),"undefined"!==typeof G[t.data.post_id]&&G[t.data.post_id].comments)}),Object(R.a)(Object(R.a)({},e),{},{postComments:G});case"ADD_COMMENT_REACT":return Object(R.a)(Object(R.a)({},e),{},{postComments:Object(R.a)(Object(R.a)({},e.postComments),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id]),t.data.parent_id?{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.parent_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]),{},{clap_user_ids:[].concat(Object(Rt.a)(e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_user_ids),[e.user.id]),clap_count:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_count+1,user_clap_count:1})))})))}:Object(R.a)({},e.postComments[t.data.post_id]&&{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.id]),{},{clap_user_ids:[].concat(Object(Rt.a)(e.postComments[t.data.post_id].comments[t.data.id].clap_user_ids),[e.user.id]),clap_count:e.postComments[t.data.post_id].comments[t.data.id].clap_count+1,user_clap_count:1})))}))))});case"REMOVE_COMMENT_REACT":return Object(R.a)(Object(R.a)({},e),{},{postComments:Object(R.a)(Object(R.a)({},e.postComments),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id]),t.data.parent_id&&e.postComments[t.data.post_id]?{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.parent_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]),{},{clap_user_ids:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].clap_count-1,user_clap_count:0})))})))}:Object(R.a)({},e.postComments[t.data.post_id]&&{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.id]),{},{clap_user_ids:e.postComments[t.data.post_id].comments[t.data.id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.postComments[t.data.post_id].comments[t.data.id].clap_count-1,user_clap_count:0})))}))))});case"GET_REPLY_CLAP_HOVER_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{postComments:Object(R.a)(Object(R.a)({},e.postComments),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id]),t.data.parent_id&&e.postComments[t.data.post_id]?{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.parent_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(x.a)({},t.data.message_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.message_id]),{},{clap_user_ids:t.data.claps.map((function(e){return e.user_id})),fetchedReact:!0})))})))}:Object(R.a)({},e.postComments[t.data.post_id]&&{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.message_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.message_id]),{},{clap_user_ids:t.data.claps.map((function(e){return e.user_id})),fetchedReact:!0})))}))))});case"ADD_POST_REACT":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{clap_user_ids:[].concat(Object(Rt.a)(e.workspacePosts[a].posts[t.data.post_id].clap_user_ids),[e.user.id]),clap_count:e.workspacePosts[a].posts[t.data.post_id].clap_count+1,user_clap_count:1})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}))});case"REMOVE_POST_REACT":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{clap_user_ids:e.workspacePosts[a].posts[t.data.post_id].clap_user_ids.filter((function(t){return t!==e.user.id})),clap_count:e.workspacePosts[a].posts[t.data.post_id].clap_count-1,user_clap_count:0})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}))});case"GET_POST_CLAP_HOVER_SUCCESS":var B=t.data.claps.map((function(e){return e.user_id}));return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{fetchedReact:!0,clap_user_ids:B})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}))});case"ADD_COMMENT":var W=Object(R.a)({},e.postComments[t.data.post_id]);return W=t.data.parent_id?Object(R.a)(Object(R.a)({},W),{},{comments:Object(R.a)(Object(R.a)({},W.comments),{},Object(x.a)({},t.data.parent_id,Object(R.a)(Object(R.a)({},W.comments[t.data.parent_id]),{},{replies:Object(R.a)(Object(R.a)({},W.comments[t.data.parent_id].replies),{},Object(x.a)({},t.data.id,t.data))})))}):Object(R.a)(Object(R.a)({},W),{},{comments:Object(R.a)(Object(R.a)({},W.comments),{},Object(x.a)({},t.data.id,t.data))}),Object(R.a)(Object(R.a)({},e),{},{postComments:Object(R.a)(Object(R.a)({},e.postComments),{},Object(x.a)({},t.data.post_id,W))});case"STAR_POST_REDUCER":return t.data.topic_id?Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts[t.data.post_id]),{},{is_favourite:!e.workspacePosts[t.data.topic_id].posts[t.data.post_id].is_favourite})))}))}):Object(R.a)({},e);case"INCOMING_FAVOURITE_ITEM":return Object(R.a)(Object(R.a)({},e),"post"===t.data.type&&{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.type_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.type_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.type_id]),{},{is_favourite:t.data.is_favourite})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}))});case"INCOMING_POST_MARK_DONE":return Object(R.a)(Object(R.a)({},e),{},{flipper:!e.flipper,workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{is_mark_done:t.data.is_done})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}))});case"INCOMING_MARK_AS_READ":return Object(R.a)(Object(R.a)({},e),Object.keys(e.workspacePosts).filter((function(a){return"flipper"!==a&&e.workspacePosts[a]&&e.workspacePosts[a].posts[t.data.result.post_id]})).map((function(a){return Object(R.a)(Object(R.a)({},e.workspacePosts),{},{post:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.result.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.result.post_id]),{},{user_reads:t.data.result.user_reads})))})})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}));case"INCOMING_POST":var Y=Object(R.a)({},e.workspacePosts),V=Object(R.a)({},e.workspaces),Q=Object(R.a)({},e.folders),K=!1;return t.data.workspaces.forEach((function(a){Y.hasOwnProperty(a.topic_id)&&(Y[a.topic_id].posts[t.data.id]=t.data,1===Y[a.topic_id].posts[t.data.id].is_must_read?Y[a.topic_id].count.is_must_read=Y[a.topic_id].count.is_must_read+1:1===Y[a.topic_id].posts[t.data.id].is_must_reply?Y[a.topic_id].count.is_must_reply=Y[a.topic_id].count.is_must_reply+1:1===Y[a.topic_id].posts[t.data.id].is_read_only&&(Y[a.topic_id].count.is_read_only=Y[a.topic_id].count.is_read_only+1)),t.data.author.id!==e.user.id&&"undefined"!==typeof V[a.topic_id]&&(V[a.topic_id].unread_posts=V[a.topic_id].unread_posts+1,e.activeTopic&&e.activeTopic.id===a.topic_id&&(K=!0),null!==a.workspace_id&&(Q[a.workspace_id].unread_count=Q[a.workspace_id].unread_count+1))})),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Y,workspaces:V,activeTopic:K?Object(R.a)(Object(R.a)({},e.activeTopic),{},{unread_posts:e.activeTopic.unread_posts+1}):e.activeTopic});case"INCOMING_TO_DO":case"INCOMING_UPDATE_TO_DO":case"INCOMING_DONE_TO_DO":case"INCOMING_REMOVE_TO_DO":var z=Object(R.a)({},e.workspacePosts),q=Object(R.a)({},e.postComments);return"POST"===t.data.link_type&&t.data.data&&t.data.data.workspaces.forEach((function(e){"undefined"!==typeof z[e.topic.id]&&"undefined"!==typeof z[e.topic.id].posts[t.data.data.post.id]&&(z[e.topic.id].posts[t.data.data.post.id]=Object(R.a)(Object(R.a)({},z[e.topic.id].posts[t.data.data.post.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}}))})),"POST_COMMENT"===t.data.link_type&&t.data.data&&"undefined"!==typeof q[t.data.data.post.id]&&"undefined"!==typeof q[t.data.data.post.id].comments[t.data.data.comment.id]&&(q[t.data.data.post.id]=Object(R.a)(Object(R.a)({},q[t.data.data.post.id]),{},{comments:Object(R.a)(Object(R.a)({},q[t.data.data.post.id].comments),{},Object(x.a)({},t.data.data.comment.id,Object(R.a)(Object(R.a)({},q[t.data.data.post.id].comments[t.data.data.comment.id]),{},{todo_reminder:"INCOMING_REMOVE_TO_DO"===t.type?null:{id:t.data.id,remind_at:t.data.remind_at,status:t.data.status}})))})),Object(R.a)(Object(R.a)({},e),{},{postComments:q,workspacePosts:z});case"INCOMING_UPDATED_POST":var J=Object(R.a)({},e.workspacePosts);return t.data.recipient_ids.forEach((function(a){J.hasOwnProperty(a)&&(t.data.is_personal&&!t.data.post_participant_data.all_participant_ids.some((function(t){return t===e.user.id}))?delete J[a].posts[t.data.id]:J[a].posts.hasOwnProperty(t.data.id)?J[a].posts[t.data.id]=Object(R.a)(Object(R.a)({},t.data),{},{clap_user_ids:J[a].posts[t.data.id].clap_user_ids}):J[a].posts[t.data.id]=Object(R.a)(Object(R.a)({},t.data),{},{clap_user_ids:[]}))})),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:J});case"INCOMING_DELETED_POST":var Z=Object(R.a)({},e.workspacePosts);return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Z});case"INCOMING_COMMENT":var X="POST_COMMENT_CREATE"===t.data.SOCKET_TYPE,$=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null===e.ip_address})).length===t.data.users_approval.length,ee=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,te=t.data.users_approval.length>0&&t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,ae=t.data.users_approval.some((function(t){return t.id===e.user.id}));return Object(R.a)(Object(R.a)({},e),{},{postComments:Object(R.a)(Object(R.a)({},e.postComments),e.postComments[t.data.post_id]&&Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id]),{},{comments:Object(R.a)(Object(R.a)(Object(R.a)({},Object.keys(e.postComments[t.data.post_id].comments).reduce((function(a,n){return t.data.parent_id?a[n]=Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[n]),{},{replies:Object(R.a)({},Object.keys(e.postComments[t.data.post_id].comments[n].replies).reduce((function(a,r){return t.data.reference_id&&r===t.data.reference_id?a[t.data.id]=Object(R.a)(Object(R.a)({},t.data),{},{clap_user_ids:[]}):parseInt(r)===t.data.id?a[r]=Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[n].replies[r]),{},{body:t.data.body,updated_at:t.data.updated_at,quote:t.data.quote}):a[r]=e.postComments[t.data.post_id].comments[n].replies[r],a}),{}))}):t.data.reference_id&&n===t.data.reference_id?a[t.data.id]=t.data:parseInt(n)===t.data.id?a[n]=Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[n]),{},{body:t.data.body,updated_at:t.data.updated_at,quote:t.data.quote}):a[n]=e.postComments[t.data.post_id].comments[n],a}),{})),e.user.id!==t.data.author.id&&X&&Object(R.a)(Object(R.a)({},t.data.parent_id&&e.postComments[t.data.post_id].comments[t.data.parent_id]&&Object(x.a)({},t.data.parent_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(x.a)({},t.data.id,t.data))}))),!t.data.parent_id&&Object(x.a)({},t.data.id,t.data))),!t.data.hasOwnProperty("reference_id")&&Object(R.a)(Object(R.a)({},t.data.parent_id&&e.postComments[t.data.post_id].comments[t.data.parent_id]&&Object(x.a)({},t.data.parent_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(x.a)({},t.data.id,t.data))}))),!t.data.parent_id&&Object(x.a)({},t.data.id,t.data)))}))),workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.reduce((function(a,n){return e.workspacePosts[n.topic_id]&&(a[n.topic_id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic_id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic_id].posts),e.workspacePosts[n.topic_id].posts[t.data.post_id]&&Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic_id].posts[t.data.post_id]),{},{post_approval_label:te?"ACCEPTED":ee?"REQUEST_UPDATE":ae&&$?"NEED_ACTION":e.workspacePosts[n.topic_id].posts[t.data.post_id].author.id===t.data.author.id&&$?"REQUEST_APPROVAL":e.workspacePosts[n.topic_id].posts[t.data.post_id].post_approval_label,reply_count:X?e.workspacePosts[n.topic_id].posts[t.data.post_id].reply_count+1:e.workspacePosts[n.topic_id].posts[t.data.post_id].reply_count,updated_at:X?t.data.updated_at:e.workspacePosts[n.topic_id].posts[t.data.post_id].updated_at,has_replied:!(!X||t.data.author.id!==e.user.id)||e.workspacePosts[n.topic_id].posts[t.data.post_id].has_replied,unread_count:X&&t.data.author.id!==e.user.id?e.workspacePosts[n.topic_id].posts[t.data.post_id].unread_count+1:e.workspacePosts[n.topic_id].posts[t.data.post_id].unread_count})))})),a}),{}))});case"ADD_PRIMARY_FILES":return Object(R.a)(Object(R.a)({},e),{},{workspaces:Object(R.a)(Object(R.a)(Object(R.a)({},e.workspaces),t.data.folder_id&&e.workspaces[t.data.folder_id]&&e.workspaces[t.data.folder_id].topics[t.data.id]&&Object(x.a)({},t.data.folder_id,Object(R.a)(Object(R.a)({},e.workspaces[t.data.folder_id]),{},{topics:Object(R.a)(Object(R.a)({},e.workspaces[t.data.folder_id].topics),{},Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.workspaces[t.data.folder_id].topics[t.data.id]),{},{primary_files:t.data.files})))}))),e.workspaces[t.data.id]&&Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.workspaces[t.data.id]),{},{primary_files:t.data.files}))),activeTopic:e.activeTopic.id===t.data.id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{primary_files:t.data.files}):e.activeTopic});case"UPLOADING_WORKSPACE_FILES_SUCCESS":var ne=Object(R.a)({},e.workspaces),re=t.data.files.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{uploader:e.user})}));return ne.hasOwnProperty(t.data.topic_id)&&(ne[t.data.topic_id].hasOwnProperty("primary_files")?ne[t.data.topic_id].primary_files=Object(Rt.a)(new Set([].concat(Object(Rt.a)(ne[t.data.topic_id].primary_files),Object(Rt.a)(re)))):ne[t.data.topic_id].primary_files=re),Object(R.a)(Object(R.a)({},e),{},{workspaces:ne,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{primary_files:e.activeTopic.hasOwnProperty("primary_files")?Object(Rt.a)(new Set([].concat(Object(Rt.a)(e.activeTopic.primary_files),Object(Rt.a)(re)))):re}):e.activeTopic});case"INCOMING_POST_CLAP":var ie=Object.keys(e.workspacePosts);return Object(R.a)(Object(R.a)({},e),ie.length&&{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),ie.reduce((function(a,n){return a=Object(R.a)(Object(R.a)({},a),{},Object(x.a)({},n,"undefined"===typeof e.workspacePosts[n].posts||"undefined"===typeof e.workspacePosts[n].posts[t.data.post_id]?e.workspacePosts[n]:Object(R.a)(Object(R.a)({},e.workspacePosts[n]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[n].posts[t.data.post_id]),1===t.data.clap_count?{clap_count:e.workspacePosts[n].posts[t.data.post_id].clap_count+1,clap_user_ids:[].concat(Object(Rt.a)(e.workspacePosts[n].posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))),[t.data.author.id]),user_clap_count:t.data.author.id===e.user.id?1:e.workspacePosts[n].posts[t.data.post_id].user_clap_count}:{clap_count:e.workspacePosts[n].posts[t.data.post_id].clap_count-1,clap_user_ids:e.workspacePosts[n].posts[t.data.post_id].clap_user_ids.filter((function(e){return e!==t.data.author.id})),user_clap_count:t.data.author.id===e.user.id?0:e.workspacePosts[n].posts[t.data.post_id].user_clap_count})))})))}),{}))});case"INCOMING_COMMENT_CLAP":return Object(R.a)(Object(R.a)({},e),"undefined"!==typeof e.postComments[t.data.post_id]&&(t.data.parent_message_id?"undefined"!==typeof e.postComments[t.data.post_id].comments[t.data.parent_message_id]&&"undefined"!==typeof e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id]:"undefined"!==typeof e.postComments[t.data.post_id].comments[t.data.message_id])&&{postComments:Object(R.a)(Object(R.a)({},e.postComments),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id]),t.data.parent_message_id?{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.parent_message_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_message_id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies),{},Object(x.a)({},t.data.message_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id]),{},{user_clap_count:t.data.clap_count,clap_count:e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_count+(1===t.data.clap_count?1:-1),clap_user_ids:1===t.data.clap_count?[].concat(Object(Rt.a)(e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_user_ids),[t.data.author.id]):e.postComments[t.data.post_id].comments[t.data.parent_message_id].replies[t.data.message_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))})))})))}:{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),{},Object(x.a)({},t.data.message_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.message_id]),{},{user_clap_count:t.data.clap_count,clap_count:e.postComments[t.data.post_id].comments[t.data.message_id].clap_count+(1===t.data.clap_count?1:-1),clap_user_ids:1===t.data.clap_count?[].concat(Object(Rt.a)(e.postComments[t.data.post_id].comments[t.data.message_id].clap_user_ids),[t.data.author.id]):e.postComments[t.data.post_id].comments[t.data.message_id].clap_user_ids.filter((function(e){return e!==t.data.author.id}))})))})))});case"FETCH_TIMELINE_SUCCESS":return console.log(t.data.timeline),Object(R.a)(Object(R.a)({},e),{},{workspaceTimeline:Object(R.a)(Object(R.a)({},e.workspaceTimeline),{},Object(x.a)({},t.data.topic_id,Object(R.a)({},"undefined"===typeof e.workspaceTimeline[t.data.topic_id]?{hasMore:t.data.total_count>10,timeline:t.data.timeline.reduce((function(e,t){return e[t.id]=t,e}),{}),total_items:t.data.total_count,page:1,maxPage:Math.ceil(t.data.total_count/10)}:Object(R.a)(Object(R.a)({},e.workspaceTimeline[t.data.topic_id]),{},{hasMore:Object.keys(e.workspaceTimeline[t.data.topic_id].timeline).length+t.data.timeline.length===t.data.total_count,timeline:Object(R.a)(Object(R.a)({},e.workspaceTimeline[t.data.topic_id].timeline),t.data.timeline.reduce((function(e,t){return e[t.id]=t,e}),{})),total_items:t.data.total_count,maxPage:Math.ceil(t.data.total_count/10)}))))});case"FETCH_WORKSPACE_MEMBERS_SUCCESS":var oe=Object(R.a)({},e.workspaces);return oe[t.data.id].members=t.data.members,Object(R.a)(Object(R.a)({},e),{},{workspaces:oe,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{members:t.data.members}):e.activeTopic});case"FETCH_TAG_COUNTER_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{count:{is_must_reply:t.data.counters.filter((function(e){return"MUST_REPLY"===e.type}))[0].counter,is_must_read:t.data.counters.filter((function(e){return"MUST_READ"===e.type}))[0].counter,is_read_only:t.data.counters.filter((function(e){return"READ_ONLY"===e.type}))[0].counter}})))});case"INCOMING_POST_VIEWER":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.post_id]),e.workspacePosts[a].posts[t.data.post_id].view_user_ids&&{view_user_ids:[].concat(Object(Rt.a)(e.workspacePosts[a].posts[t.data.post_id].view_user_ids),[t.data.viewer.id])})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{}))});case"ARCHIVE_POST_REDUCER":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).length>0&&Object(R.a)({},Object.keys(e.workspacePosts).reduce((function(a,n){return a[n]=Object(R.a)(Object(R.a)({},e.workspacePosts[n]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n].posts),Object.values(e.workspacePosts[n].posts).length>0&&Object(R.a)({},Object.values(e.workspacePosts[n].posts).reduce((function(e,a){return e[a.id]=Object(R.a)(Object(R.a)({},a),{},{is_archived:a.id===t.data.post_id?t.data.is_archived:a.is_archived}),e}),{})))}),a}),{})))});case"ARCHIVE_REDUCER":var ce=Object(R.a)({},e.workspaces),se=Object(R.a)({},e.folders),le=Object(R.a)({},e.search);return ce[t.data.topic_detail.id]&&(ce[t.data.topic_detail.id].active=0),t.data.topic_detail.workspace_id&&0!==t.data.topic_detail.workspace_id&&se[t.data.topic_detail.workspace_id]&&(se[t.data.topic_detail.workspace_id].workspace_ids=se[t.data.topic_detail.workspace_id].workspace_ids.filter((function(e){return e!==t.data.topic_detail.id}))),le.results.length&&(le.results=le.results.map((function(e){return e.topic.id===t.data.topic_detail.id?Object(R.a)(Object(R.a)({},e),{},{topic:Object(R.a)(Object(R.a)({},e.topic),{},{is_archive:!0})}):e}))),Object(R.a)(Object(R.a)({},e),{},{folders:se,workspaces:ce,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_detail.id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{active:0}):e.activeTopic,search:le});case"UNARCHIVE_REDUCER":var de=Object(R.a)({},e.workspaces),ue=Object(R.a)({},e.search);return de.hasOwnProperty(t.data.topic_detail.id)&&(de[t.data.topic_detail.id].active=1),ue.results.length&&(ue.results=ue.results.map((function(e){return e.topic.id===t.data.topic_detail.id?Object(R.a)(Object(R.a)({},e),{},{topic:Object(R.a)(Object(R.a)({},e.topic),{},{is_archive:!1})}):e}))),Object(R.a)(Object(R.a)({},e),{},{search:ue,workspaces:de,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_detail.id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{active:1}):e.activeTopic});case"INCOMING_POST_TOGGLE_FOLLOW":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{is_followed:t.data.is_followed})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{})),activeTopic:Object(R.a)(Object(R.a)({},e.activeTopic),e.workspacePosts.hasOwnProperty(e.workspacePosts)&&e.workspacePosts[e.activeTopic.id].posts.hasOwnProperty(t.data.post_id)&&{is_followed:!1})});case"INCOMING_READ_UNREAD_REDUCER":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).filter((function(a){return e.workspacePosts[a].posts&&e.workspacePosts[a].posts.hasOwnProperty(t.data.post_id)})).map((function(a){return Object(x.a)({},a,Object(R.a)(Object(R.a)({},e.workspacePosts[a]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[a].posts[t.data.post_id]),{},{is_unread:t.data.unread,unread_count:0===t.data.unread?0:e.workspacePosts[a].posts[t.data.post_id].unread_count})))}))})).reduce((function(e,t){return Object(R.a)(Object(R.a)({},e),t)}),{})),activeTopic:Object(R.a)(Object(R.a)({},e.activeTopic),e.activeTopic&&e.workspacePosts.hasOwnProperty(e.activeTopic.id)&&e.workspacePosts[e.activeTopic.id].posts.hasOwnProperty(t.data.post_id)&&{unread_count:e.activeTopic.unread_count+(t.data.unread?1:-1),unread_posts:e.activeTopic.unread_posts+(t.data.unread?1:-1)})});case"INCOMING_TIMELINE":var me=Object(R.a)({},e.workspaceTimeline);return me.hasOwnProperty(t.data.workspace_data.topic_id)?(me[t.data.workspace_data.topic_id].timeline[t.data.timeline_data.id]=t.data.timeline_data,me[t.data.workspace_data.topic_id].total_items=me[t.data.workspace_data.topic_id].total_items+1,Object(R.a)(Object(R.a)({},e),{},{workspaceTimeline:me})):e;case"INCOMING_DELETED_POST_FILE":var pe=Object(R.a)({},e.workspacePosts),fe=Object(R.a)({},e.postComments);return t.data.connected_workspace.length&&Object.keys(pe).length?(t.data.connected_workspace.forEach((function(e){pe.hasOwnProperty(e.topic_id)&&pe[e.topic_id].hasOwnProperty("posts")&&pe[e.topic_id].posts.hasOwnProperty(t.data.post_id)&&(pe[e.topic_id].posts[t.data.post_id].files=pe[e.topic_id].posts[t.data.post_id].files.filter((function(e){return e.id!==t.data.file_id}))),t.data.message_id&&Object.keys(fe).length&&fe.hasOwnProperty(t.data.post_id)&&Object.values(fe[t.data.post_id].comments).forEach((function(e){e.id===t.data.message_id?fe[t.data.post_id].comments[t.data.message_id].files=fe[t.data.post_id].comments[t.data.message_id].files.filter((function(e){return e.id!==t.data.file_id})):e.replies.hasOwnProperty(t.data.message_id)&&(fe[t.data.post_id].comments[e.id].replies[t.data.message_id].files=fe[t.data.post_id].comments[e.id].replies[t.data.message_id].files.filter((function(e){return e.id!==t.data.file_id})))}))})),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:pe,postComments:fe})):e;case"INCOMING_DELETED_COMMENT":var be=Object(R.a)({},e.postComments);return be.hasOwnProperty(t.data.post_id)&&(t.data.parent_id?delete be[t.data.post_id].comments[t.data.parent_id].replies[t.data.message_id]:delete be[t.data.post_id].comments[t.data.message_id]),Object(R.a)(Object(R.a)({},e),{},{postComments:be});case"INCOMING_CHAT_MESSAGE":var he=e.activeTopic?Object(R.a)({},e.activeTopic):null;if(t.data.is_read){var Ee=Object(R.a)({},e.workspaces);return Object.keys(Ee).length>0?(Ee.hasOwnProperty(t.data.workspace_id)&&e.activeTopic&&e.activeTopic.id===t.data.workspace_id&&(e.activeTopic.team_channel&&e.activeTopic.team_channel.id===t.data.channel_id?(he.team_unread_chats=0,Ee[t.data.workspace_id].team_unread_chats=0):(Ee[t.data.workspace_id].unread_chats=0,he.unread_chats=0)),Object(R.a)(Object(R.a)({},e),{},{workspaces:Ee,activeTopic:he})):e}var _e=Object(R.a)({},e.workspaces);return Object.keys(_e).length>0?(_e.hasOwnProperty(t.data.workspace_id)&&e.activeTopic&&e.activeTopic.id===t.data.workspace_id&&(e.activeTopic.team_channel&&e.activeTopic.team_channel.id===t.data.channel_id?(he.team_unread_chats=he.team_unread_chats+1,_e[t.data.workspace_id].team_unread_chats=_e[t.data.workspace_id].team_unread_chats+1):(he.unread_chats=he.unread_chats+1,_e[t.data.workspace_id].unread_chats=_e[t.data.workspace_id].unread_chats+1)),Object(R.a)(Object(R.a)({},e),{},{workspaces:_e,activeTopic:he})):e;case"READ_CHANNEL_REDUCER":return Object(R.a)(Object(R.a)({},e),{},{workspaces:Object(R.a)({},Object.values(e.workspaces).map((function(e){return e.id===t.data.id?Object(R.a)(Object(R.a)({},e),{},{team_unread_chats:t.data.channel_id===e.team_channel.id?0:e.team_unread_chats,unread_chats:t.data.channel_id===e.channel.id?0:e.unread_chats}):e})).reduce((function(e,t){return e[t.id]=t,e}),{})),activeTopic:e.activeTopic&&e.activeTopic.id===t.data.id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{team_unread_chats:t.data.channel_id===e.activeTopic.team_channel.id?0:e.activeTopic.team_unread_chats,unread_chats:t.data.channel_id===e.activeTopic.channel.id?0:e.activeTopic.unread_chats}):e.activeTopic});case"GET_FOLDER_SUCCESS":var Oe=Object(R.a)({},e.folders);return Oe[t.data.workspace_id]=Object(R.a)(Object(R.a)({},t.data.workspace_data),{},{workspace_ids:t.data.workspace_data.topics.map((function(e){return e.id}))}),Object(R.a)(Object(R.a)({},e),{},{folders:Oe});case"UPDATE_WORKSPACE_COUNTER":var ge=Object(R.a)({},e.workspaces),ve=Object(R.a)({},e.activeTopic);return Object.keys(ge).length>0&&(ge[t.data.topic_id].unread_posts=t.data.unread_posts,t.data.folder_id,e.activeTopic&&e.activeTopic.id===t.data.topic_id&&(ve.unread_posts=t.data.unread_posts)),Object(R.a)(Object(R.a)({},e),{},{workspaces:ge,activeTopic:ve});case"INCOMING_DELETED_FILES":var Ae=Object(R.a)({},e.workspaces);return Ae.hasOwnProperty(t.data.topic_id)&&1===t.data.is_primary&&Ae[t.data.topic_id].hasOwnProperty("primary_files")&&(Ae[t.data.topic_id].primary_files=Ae[t.data.topic_id].primary_files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e.id}))}))),Object(R.a)(Object(R.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{primary_files:e.activeTopic.hasOwnProperty("primary_files")?e.activeTopic.primary_files.filter((function(e){return!t.data.deleted_file_ids.some((function(t){return t===e.id}))})):[]}):e.activeTopic,workspaces:Ae});case"LEAVE_WORKSPACE":var je=Object(R.a)({},e.workspaces);return je.hasOwnProperty(t.data.workspace_id)&&(je[t.data.workspace_id].members=je[t.data.workspace_id].members.filter((function(t){return t.id!==e.user.id})),je[t.data.workspace_id].member_ids=je[t.data.workspace_id].member_ids.filter((function(t){return t!==e.user.id}))),Object(R.a)(Object(R.a)({},e),{},{workspaces:je,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.workspace_id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{members:e.activeTopic.members.filter((function(t){return t.id!==e.user.id})),member_ids:e.activeTopic.member_ids.filter((function(t){return t!==e.user.id}))}):e.activeTopic});case"INCOMING_WORKSPACE_ROLE":var Ce=Object(R.a)({},e.workspaces);return Ce.hasOwnProperty(t.data.topic_id)&&(Ce[t.data.topic_id].members=Ce[t.data.topic_id].members.map((function(e){return e.id===t.data.user_id?Object(R.a)(Object(R.a)({},e),{},{workspace_role:t.data.role}):e}))),Object(R.a)(Object(R.a)({},e),{},{workspaces:Ce,activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{members:e.activeTopic.members.map((function(e){return e.id===t.data.user_id?Object(R.a)(Object(R.a)({},e),{},{workspace_role:t.data.role}):e}))}):e.activeTopic});case"INCOMING_DELETED_WORKSPACE_FOLDER":var Te=Object(R.a)({},e.folders),ye=Object(R.a)({},e.workspaces),Se=e.activeTopic?Object(R.a)({},e.activeTopic):null;return Te.hasOwnProperty(t.data.id)&&(Object.values(ye).forEach((function(e){e.folder_id&&e.folder_id===t.data.id&&(ye[e.id].folder_id=null,ye[e.id].folder_name=null,Se&&Se.id===e.id&&(Se.folder_id=null,Se.folder_name=null))})),delete Te[t.data.id]),Object(R.a)(Object(R.a)({},e),{},{activeTopic:Se,workspaces:ye,folders:Te});case"SET_WORKSPACE_TO_DELETE":return Object(R.a)(Object(R.a)({},e),{},{workspaceToDelete:t.data});case"INCOMING_EXTERNAL_USER":var ke=Object(R.a)({},e.workspaces),we=null;return ke.hasOwnProperty(t.data.current_topic.id)&&(ke[t.data.current_topic.id].members=ke[t.data.current_topic.id].members.map((function(e){return e.id===t.data.current_user.id?Object(R.a)(Object(R.a)({},e),t.data.current_user):e})),e.activeTopic&&e.activeTopic.id===t.data.current_topic.id&&(we=Object(R.a)(Object(R.a)({},e.activeTopic),{},{members:e.activeTopic.members.map((function(e){return e.id===t.data.current_user.id?Object(R.a)(Object(R.a)({},e),t.data.current_user):e}))}))),Object(R.a)(Object(R.a)({},e),{},{workspaces:ke,activeTopic:we});case"UPDATE_WORKSPACE_TIMELINE_PAGE":var Ne=Object(R.a)({},e.workspaceTimeline);return Ne[t.data.id].page=t.data.page,Object(R.a)(Object(R.a)({},e),{},{workspaceTimeline:Ne});case"READ_ALL_POSTS":var xe=Object(R.a)({},e.workspacePosts),Re=Object(R.a)({},e.workspaces),Ie=e.activeTopic?Object(R.a)({},e.activeTopic):null;return t.data.topic_id&&xe.hasOwnProperty(t.data.topic_id)?(Object.values(xe[t.data.topic_id].posts).forEach((function(e){xe[t.data.topic_id].posts[e.id].is_read=!0,xe[t.data.topic_id].posts[e.id].is_updated=!0,xe[t.data.topic_id].posts[e.id].unread_count=0,xe[t.data.topic_id].posts[e.id].is_unread=0})),Re[t.data.topic_id].unread_posts=0,Ie&&Ie.id===t.data.topic_id&&(Ie.unread_posts=0),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:xe,workspaces:Re,activeTopic:Ie})):e;case"ARCHIVE_ALL_POSTS":var Pe=Object(R.a)({},e.workspacePosts);return t.data.topic_id&&Pe.hasOwnProperty(t.data.topic_id)?(Object.values(Pe[t.data.topic_id].posts).forEach((function(e){Pe[t.data.topic_id].posts[e.id].is_archived=1,Pe[t.data.topic_id].posts[e.id].unread_count=0})),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Pe})):e;case"GET_UNARCHIVE_POST_DETAIL_SUCCESS":case"GET_POST_DETAIL_SUCCESS":var De=Object(R.a)({},e.workspacePosts),Le=Object(R.a)(Object(R.a)({},t.data),{},{clap_user_ids:[]});return t.data.workspaces.forEach((function(e){De.hasOwnProperty(e.topic_id)?De[e.topic_id].posts[Le.id]=Le:De[e.topic_id]={filters:{},filter:"all",sort:"recent",tag:null,search:"",searchResults:[],count:null,posts:Object(x.a)({},Le.id,Le),post_ids:[Le.id]}})),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:De});case"UPDATE_POST_FILES":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.topic_id&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts[t.data.post_id]),{},{files:e.workspacePosts[t.data.topic_id].posts[t.data.post_id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))})))});case"UPDATE_COMMENT_FILES":return Object(R.a)(Object(R.a)({},e),{},{postComments:Object(R.a)(Object(R.a)({},e.postComments),t.data.post_id&&Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id]),{},{comments:Object(R.a)(Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments),t.data.parent_id&&Object(x.a)({},t.data.parent_id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies),{},Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id]),{},{files:e.postComments[t.data.post_id].comments[t.data.parent_id].replies[t.data.id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))}))),null===t.data.parent_id&&Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post_id].comments[t.data.id]),{},{files:e.postComments[t.data.post_id].comments[t.data.id].files.map((function(e){return e.id===t.data.file.id?t.data.file:e}))})))})))});case"INCOMING_IMPORTANT_COMMENT":return Object(R.a)(Object(R.a)({},e),e.postComments[t.data.post.id]&&{postComments:Object(R.a)(Object(R.a)({},e.postComments),{},Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id]),{},{comments:Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments),e.postComments[t.data.post.id].comments[t.data.comment.id]&&Object(x.a)({},t.data.comment.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id]),{},{is_important:!e.postComments[t.data.post.id].comments[t.data.comment.id].is_important})))})))});case"INCOMING_READ_SELECTED_POSTS":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.topic_id&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts),t.data.post_ids.reduce((function(a,n){return e.workspacePosts[t.data.topic_id].posts[n]&&(a[n]=Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts[n]),{},{is_read:!0,unread_count:0,is_unread:0})),a}),{}))})))});case"INCOMING_ARCHIVED_SELECTED_POSTS":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.topic_id&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts),t.data.post_ids.reduce((function(a,n){return e.workspacePosts[t.data.topic_id].posts[n]&&(a[n]=Object(R.a)(Object(R.a)({},e.workspacePosts[t.data.topic_id].posts[n]),{},{is_archived:1,unread_count:0,is_unread:0})),a}),{}))})))});case"UPDATE_WORKSPACE_POST_COUNT":return Object(R.a)(Object(R.a)({},e),{},{activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{unread_posts:t.data.count}):e.activeTopic,workspaces:Object(R.a)(Object(R.a)({},e.workspaces),e.workspaces[t.data.topic_id]&&Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaces[t.data.topic_id]),{},{unread_posts:t.data.count})))});case"INCOMING_POST_APPROVAL":var Fe=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,Me=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,Ue=!t.data.users_approval.some((function(e){return null===e.ip_address}));return console.log("allusers agreed",Me,"all uses disagree",Fe),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.reduce((function(a,n){return e.workspacePosts[n.topic.id]&&(a[n.topic.id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts),{},Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts[t.data.post.id]),{},{post_approval_label:Me?"ACCEPTED":Fe?"REQUEST_UPDATE":!Ue||Fe||Me?t.data.user_approved.id===e.user.id?null:e.workspacePosts[n.topic.id].posts[t.data.post.id].post_approval_label:"SPLIT",users_approval:e.workspacePosts[n.topic.id].posts[t.data.post.id].users_approval.map((function(e){return e.id===t.data.user_approved.id?Object(R.a)(Object(R.a)({},e),t.data.user_approved):e}))})))})),a}),{})))});case"INCOMING_COMMENT_APPROVAL":var Ge=t.data.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===t.data.users_approval.length,He=t.data.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===t.data.users_approval.length,Be=!t.data.users_approval.some((function(e){return null===e.ip_address}));return Object(R.a)(Object(R.a)({},e),{},{postComments:Object(R.a)(Object(R.a)({},e.postComments),e.postComments[t.data.post.id]&&Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id]),{},{comments:Object(R.a)(Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments),e.postComments[t.data.post.id].comments[t.data.comment.id]&&Object(x.a)({},t.data.comment.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id]),{},{users_approval:e.postComments[t.data.post.id].comments[t.data.comment.id].users_approval.length>1?e.postComments[t.data.post.id].comments[t.data.comment.id].users_approval.map((function(e){return e.id===t.data.user_approved.id?Object(R.a)(Object(R.a)({},e),t.data.user_approved):e})):[],replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id].replies),t.data.transferred_comment&&e.postComments[t.data.post.id].comments[t.data.comment.id].replies[t.data.transferred_comment.id]&&Object(x.a)({},t.data.transferred_comment.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[t.data.comment.id].replies[t.data.transferred_comment.id]),{},{users_approval:[Object(R.a)(Object(R.a)({},t.data.user_approved),{},{created_at:t.data.created_at})]})))}))),!e.postComments[t.data.post.id].comments.hasOwnProperty(t.data.comment.id)&&Object(R.a)({},Object.keys(e.postComments[t.data.post.id].comments).reduce((function(a,n){return a[n]=Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[n]),e.postComments[t.data.post.id].comments[n].replies[t.data.comment.id]&&{replies:Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[n].replies),{},Object(x.a)({},t.data.comment.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[n].replies[t.data.comment.id]),{},{users_approval:[]})),t.data.transferred_comment&&e.postComments[t.data.post.id].comments[n].replies[t.data.transferred_comment.id]&&Object(x.a)({},t.data.transferred_comment.id,Object(R.a)(Object(R.a)({},e.postComments[t.data.post.id].comments[n].replies[t.data.transferred_comment.id]),{},{users_approval:[Object(R.a)(Object(R.a)({},t.data.user_approved),{},{created_at:t.data.created_at})]})))}),a}),{})))}))),workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.reduce((function(a,n){return e.workspacePosts[n.topic.id]&&(a[n.topic.id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts),{},Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts[t.data.post.id]),{},{post_approval_label:He?"ACCEPTED":Ge?"REQUEST_UPDATE":!Be||Ge||He?t.data.user_approved.id===e.user.id?null:e.workspacePosts[n.topic.id].posts[t.data.post.id].post_approval_label:"SPLIT"})))})),a}),{})))});case"INCOMING_ARCHIVED_USER":var We=Object(R.a)({},e.workspaces);return t.data.topic_ids.forEach((function(e){We[e].members=We[e].members.filter((function(e){return e.id!==t.data.user.id}))})),Object(R.a)(Object(R.a)({},e),{},{workspaces:We});case"INCOMING_UNARCHIVED_USER":var Ye=Object(R.a)({},e.workspaces);return t.data.connected_topic_ids.forEach((function(e){Ye[e].members=[].concat(Object(Rt.a)(Ye[e].members),[t.data.profile])})),Object(R.a)(Object(R.a)({},e),{},{workspaces:Ye});case"SET_POSTREAD":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)({},Object.keys(e.workspacePosts).reduce((function(a,n){return"flipper"!==n&&(a[n]=Object(R.a)(Object(R.a)({},e.workspacePosts[n]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n].posts),e.workspacePosts[n].posts[t.data.postId]&&Object(x.a)({},t.data.postId,Object(R.a)(Object(R.a)({},e.workspacePosts[n].posts[t.data.postId]),{},{post_reads:Object(Rt.a)(t.data.readPosts)})))})),a}),{}))});case"INCOMING_CLOSE_POST":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.reduce((function(a,n){return e.workspacePosts[n.topic.id]&&(a[n.topic.id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts),{},Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts[t.data.post.id]),{},{is_close:t.data.is_close})))})),a}),{})))});case"ADD_USER_TO_POST_RECIPIENTS":var Ve=Object(R.a)({},e.workspacePosts);return t.data.hasOwnProperty("topic_id")&&Ve.hasOwnProperty(t.data.topic_id)&&Ve[t.data.topic_id].posts.hasOwnProperty(t.data.post_id)&&(Ve[t.data.topic_id].posts[t.data.post_id].hasOwnProperty("to_add")?Ve[t.data.topic_id].posts[t.data.post_id].to_add=[].concat(Object(Rt.a)(Ve[t.data.topic_id].posts[t.data.post_id].to_add),Object(Rt.a)(t.data.recipient_ids)):Ve[t.data.topic_id].posts[t.data.post_id].to_add=Object(Rt.a)(t.data.recipient_ids),Ve[t.data.topic_id].posts[t.data.post_id].recipients=[].concat(Object(Rt.a)(Ve[t.data.topic_id].posts[t.data.post_id].recipients),Object(Rt.a)(t.data.recipients)),Ve[t.data.topic_id].posts[t.data.post_id].recipient_ids=[].concat(Object(Rt.a)(Ve[t.data.topic_id].posts[t.data.post_id].recipient_ids),Object(Rt.a)(t.data.recipient_ids))),Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Ve});case"REMOVE_USER_TO_POST_RECIPIENTS":var Qe=Object(R.a)({},e.workspacePosts);if(t.data.hasOwnProperty("topic_id")&&Qe.hasOwnProperty(t.data.topic_id)&&Qe[t.data.topic_id].posts.hasOwnProperty(t.data.post_id)){var Ke=Qe[t.data.topic_id].posts[t.data.post_id].recipient_ids.filter((function(e){return!t.data.remove_recipient_ids.includes(e)})),ze=Qe[t.data.topic_id].posts[t.data.post_id].recipients.filter((function(e){return!t.data.remove_recipient_ids.includes(e.id)}));Qe[t.data.topic_id].posts[t.data.post_id].recipients=ze,Qe[t.data.topic_id].posts[t.data.post_id].recipient_ids=Ke}return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Qe});case"REMOVE_POST":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.recipients.filter((function(e){return"TOPIC"===e.type})).reduce((function(a,n){return e.workspacePosts[n.id]&&(a[n.id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.id]),{},{posts:Object(R.a)({},Object.keys(e.workspacePosts[n.id].posts).filter((function(e){return parseInt(e)!==t.data.id})).reduce((function(t,a){return t[a]=Object(R.a)({},e.workspacePosts[n.id].posts[a]),t}),{}))})),a}),{}))});case"POST_LIST_CONNECT":var qe=Object.entries(e.workspacePosts).reduce((function(e,a){var n=Object(_.a)(a,2),r=n[0],i=n[1];return i.posts.hasOwnProperty(t.data.post_id)?e[r]=Object(R.a)(Object(R.a)({},i),{},{posts:Object(R.a)(Object(R.a)({},i.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},i.posts[t.data.post_id]),{},{post_list_connect:[{id:t.data.link_id}]})))}):e[r]=i,e}),{});return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:qe});case"POST_LIST_DISCONNECT":var Je=Object.entries(e.workspacePosts).reduce((function(e,a){var n=Object(_.a)(a,2),r=n[0],i=n[1];return i.posts.hasOwnProperty(t.data.post_id)?e[r]=Object(R.a)(Object(R.a)({},i),{},{posts:Object(R.a)(Object(R.a)({},i.posts),{},Object(x.a)({},t.data.post_id,Object(R.a)(Object(R.a)({},i.posts[t.data.post_id]),{},{post_list_connect:[]})))}):e[r]=i,e}),{});return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Je});case"INCOMING_POST_REQUIRED":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.length>0&&Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.workspaces.reduce((function(a,n){return e.workspacePosts[n.topic.id]&&e.workspacePosts[n.topic.id].posts[t.data.post.id]&&(a[n.topic.id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts),{},Object(x.a)({},t.data.post.id,Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic.id].posts[t.data.post.id]),{},{required_users:t.data.required_users,user_reads:t.data.user_reads})))})),a}),{})))});case"INCOMING_TEAM_CHANNEL":return Object(R.a)(Object(R.a)({},e),{},{workspaces:Object(R.a)({},Object.values(e.workspaces).map((function(e){return e.id===t.data.workspace_id?Object(R.a)(Object(R.a)({},e),{},{team_channel:{id:t.data.team_channel.id,code:t.data.team_channel.code,icon_link:null}}):e})).reduce((function(e,t){return e[t.id]=t,e}),{})),activeTopic:e.activeTopic&&e.activeTopic.id===t.data.workspace_id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{team_channel:{id:t.data.team_channel.id,code:t.data.team_channel.code,icon_link:null}}):e.activeTopic});case"INCOMING_FAVOURITE_WORKSPACE":return Object(R.a)(Object(R.a)({},e),{},{search:Object(R.a)(Object(R.a)({},e.search),{},{results:e.search.results.map((function(e){return e.topic.id===t.data.topic_id.id?Object(R.a)(Object(R.a)({},e),{},{topic:Object(R.a)(Object(R.a)({},e.topic),{},{is_favourite:"WORKSPACE_FAVOURITE"===t.data.SOCKET_TYPE})}):e}))}),workspaces:Object(R.a)({},Object.values(e.workspaces).reduce((function(e,a){return e[a.id]=Object(R.a)(Object(R.a)({},a),{},{is_favourite:a.id===t.data.topic_id.id?"WORKSPACE_FAVOURITE"===t.data.SOCKET_TYPE:a.is_favourite}),e}),{})),activeTopic:e.activeTopic&&e.activeTopic.id===t.data.topic_id.id?Object(R.a)(Object(R.a)({},e.activeTopic),{},{is_favourite:"WORKSPACE_FAVOURITE"===t.data.SOCKET_TYPE}):e.activeTopic});case"GET_WORKSPACE_FILTER_COUNT_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{search:Object(R.a)(Object(R.a)({},e.search),{},{counters:t.data.reduce((function(e,t){return"NON_MEMBER"===t.entity_type?e.nonMember=t.count:e[t.entity_type.toLowerCase()]=t.count,e}),{})})});case"REMOVE_DRAFT_POST":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).reduce((function(a,n){return e.workspacePosts[n]&&(a[n]=Object(R.a)(Object(R.a)({},e.workspacePosts[n]),{},{posts:Object(R.a)({},Object.values(e.workspacePosts[n].posts).reduce((function(a,r){return r.id!==t.data.post_id&&(a[r.id]=Object(R.a)({},e.workspacePosts[n].posts[r.id])),a}),{}))})),a}),{}))});case"INCOMING_REMOVED_FILE_AUTOMATICALLY":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),t.data.files.reduce((function(a,n){return e.workspacePosts[n.topic_id]&&(a[n.topic_id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic_id]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic_id].posts),t.data.files.reduce((function(a,r){if(r.post_id&&e.workspacePosts[n.topic_id].posts[r.post_id]){var i=0===e.workspacePosts[n.topic_id].posts[r.post_id].files.length?[]:e.workspacePosts[n.topic_id].posts[r.post_id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()}})}));a[r.post_id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n.topic_id].posts[r.post_id]),{},{files:e.workspacePosts[n.topic_id].posts[r.post_id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:i})}return a}),{}))})),a}),{})),postComments:Object(R.a)(Object(R.a)({},e.postComments),Object.keys(e.postComments).reduce((function(a,n){return a[n]=Object(R.a)(Object(R.a)({},e.postComments[n]),{},{comments:Object(R.a)(Object(R.a)({},e.postComments[n].comments),Object.values(e.postComments[n].comments).reduce((function(a,r){if(r.files.some((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))}))){var i=0===e.postComments[n].comments[r.id].files.length?[]:e.postComments[n].comments[r.id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()}})}));a[r.id]=Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id]),{},{files:e.postComments[n].comments[r.id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:i})}else a[r.id]=Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id].replies),Object.values(e.postComments[n].comments[r.id].replies).reduce((function(a,i){if(i.files.some((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))}))){var o=0===e.postComments[n].comments[r.id].replies[i.id].files.length?[]:e.postComments[n].comments[r.id].replies[i.id].files.filter((function(e){return t.data.files.some((function(t){return t.file_id===e.file_id}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{deleted_at:{timestamp:Vt()}})}));a[i.id]=Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id].replies[i.id]),{},{files:e.postComments[n].comments[r.id].replies[i.id].files.filter((function(e){return!t.data.files.some((function(t){return t.file_id===e.file_id}))})),files_trashed:o})}else a[i.id]=Object(R.a)({},e.postComments[n].comments[r.id].replies[i.id]);return a}),{}))});return a}),{}))}),a}),{}))});case"INCOMING_REMOVED_FILE_AFTER_DOWNLOAD":return Object(R.a)(Object(R.a)({},e),{},{workspacePosts:Object(R.a)(Object(R.a)({},e.workspacePosts),Object.keys(e.workspacePosts).reduce((function(a,n){return e.workspacePosts[n]&&(a[n]=Object(R.a)(Object(R.a)({},e.workspacePosts[n]),{},{posts:Object(R.a)(Object(R.a)({},e.workspacePosts[n].posts),Object.values(e.workspacePosts[n].posts).reduce((function(a,r){return r.files.some((function(e){return e.file_id===t.data.file_id}))?a[r.id]=Object(R.a)(Object(R.a)({},e.workspacePosts[n].posts[r.id]),{},{files:e.workspacePosts[n].posts[r.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):a[r.id]=Object(R.a)({},e.workspacePosts[n].posts[r.id]),a}),{}))})),a}),{})),postComments:Object(R.a)(Object(R.a)({},e.postComments),Object.keys(e.postComments).reduce((function(a,n){return a[n]=Object(R.a)(Object(R.a)({},e.postComments[n]),{},{comments:Object(R.a)(Object(R.a)({},e.postComments[n].comments),Object.values(e.postComments[n].comments).reduce((function(a,r){return r.files.some((function(e){return e.file_id===t.data.file_id}))?a[r.id]=Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id]),{},{files:e.postComments[n].comments[r.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):a[r.id]=Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id]),{},{replies:Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id].replies),Object.values(e.postComments[n].comments[r.id].replies).reduce((function(a,i){return i.files.some((function(e){return e.file_id===t.data.file_id}))?a[i.id]=Object(R.a)(Object(R.a)({},e.postComments[n].comments[r.id].replies[i.id]),{},{files:e.postComments[n].comments[r.id].replies[i.id].files.filter((function(e){return e.file_id!==t.data.file_id}))}):a[i.id]=Object(R.a)({},e.postComments[n].comments[r.id].replies[i.id]),a}),{}))}),a}),{}))}),a}),{}))});case"GET_FAVORITE_WORKSPACE_COUNTERS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{workspaces:Object(R.a)(Object(R.a)({},e.workspaces),t.data.length>0&&Object(R.a)({},t.data.reduce((function(t,a){return t[a.topic_id]=Object(R.a)(Object(R.a)({},e.workspaces[a.topic_id]),{},{workspace_counter_entries:a.workspace_counter_entries}),t}),{})))});case"GET_WORKSPACE_REMINDERS_CALLBACK":return Object(R.a)(Object(R.a)({},e),{},{workspaceReminders:Object(R.a)(Object(R.a)({},e.workspaceReminders),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceReminders[t.data.topic_id]&&Object(R.a)(Object(R.a)({},e.workspaceReminders[t.data.topic_id]),{},{hasMore:t.data.todos.length===t.data.limit,skip:e.workspaceReminders[t.data.topic_id].skip+t.data.todos.length,reminderIds:[].concat(Object(Rt.a)(e.workspaceReminders[t.data.topic_id].reminderIds),Object(Rt.a)(t.data.todos.map((function(e){return e.id}))))})),!e.workspaceReminders[t.data.topic_id]&&{skip:t.data.todos.length,hasMore:t.data.todos.length===t.data.limit,reminderIds:Object(Rt.a)(t.data.todos.map((function(e){return e.id}))),done:{limit:10,hasMore:!0,skip:0},overdue:{limit:25,hasMore:!0,skip:0},count:{all:0,overdue:0,today:0,new:0}})))});case"GET_DONE_WORKSPACE_REMINDERS_CALLBACK":return Object(R.a)(Object(R.a)({},e),{},{workspaceReminders:Object(R.a)(Object(R.a)({},e.workspaceReminders),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceReminders[t.data.topic_id]&&Object(R.a)(Object(R.a)({},e.workspaceReminders[t.data.topic_id]),{},{reminderIds:[].concat(Object(Rt.a)(e.workspaceReminders[t.data.topic_id].reminderIds),Object(Rt.a)(t.data.todos.map((function(e){return e.id})))),done:{limit:10,hasMore:t.data.todos.length===t.data.limit,skip:e.workspaceReminders[t.data.topic_id].done.skip+t.data.todos.length}})),!e.workspaceReminders[t.data.topic_id]&&{hasMore:!0,skip:0,done:{limit:10,skip:t.data.todos.length,hasMore:t.data.todos.length===t.data.limit},reminderIds:Object(Rt.a)(t.data.todos.map((function(e){return e.id}))),count:{all:0,overdue:0,today:0,new:0}})))});case"GET_OVERDUE_WORKSPACE_REMINDERS_CALLBACK":return Object(R.a)(Object(R.a)({},e),{},{workspaceReminders:Object(R.a)(Object(R.a)({},e.workspaceReminders),{},Object(x.a)({},t.data.topic_id,Object(R.a)(Object(R.a)({},e.workspaceReminders[t.data.topic_id]&&Object(R.a)(Object(R.a)({},e.workspaceReminders[t.data.topic_id]),{},{reminderIds:[].concat(Object(Rt.a)(e.workspaceReminders[t.data.topic_id].reminderIds),Object(Rt.a)(t.data.todos.map((function(e){return e.id})))),overdue:{limit:25,hasMore:t.data.todos.length===t.data.limit,skip:e.workspaceReminders[t.data.topic_id].overdue.skip+t.data.todos.length}})),!e.workspaceReminders[t.data.topic_id]&&{hasMore:!0,skip:0,overdue:{limit:25,skip:t.data.todos.length,hasMore:t.data.todos.length===t.data.limit},reminderIds:Object(Rt.a)(t.data.todos.map((function(e){return e.id}))),count:{all:0,overdue:0,today:0,new:0}})))});case"UPDATE_WORKSPACE_REMINDERS_COUNT":return Object(R.a)(Object(R.a)({},e),{},{workspaceReminders:Object(R.a)(Object(R.a)(Object(R.a)({},e.workspaceReminders),e.workspaceReminders[t.data.id]&&Object(x.a)({},t.data.id,Object(R.a)(Object(R.a)({},e.workspaceReminders[t.data.id]),{},{count:t.data.count.reduce((function(e,t){return e[t.status.toLowerCase()]=t.count,e}),{})}))),"undefined"===typeof e.workspaceReminders[t.data.id]&&Object(x.a)({},t.data.id,{skip:0,hasMore:!0,reminderIds:[],done:{limit:10,skip:0,hasMore:!0},overdue:{limit:25,skip:0,hasMore:!0},count:t.data.count.reduce((function(e,t){return e[t.status.toLowerCase()]=t.count,e}),{})}))});default:return e}}}),Oa=function(e,t){var a=e;return"LOGOUT"===t.type&&(a={}),_a(a,t)},ga=a(184),va=a(271),Aa={key:"root",storage:a.n(va).a,whitelist:["chat"]};!function(){var e=j("logger");e&&("remove"===e?localStorage.removeItem("logger"):localStorage.setItem("logger",e))}(),!!["all","console"].includes(localStorage.getItem("logger"))||T(window.location.hostname)||"localhost"===window.location.hostname?window.console.log("turn on log"):window.console.log("turn off log");var ja=[Lt.a],Ca=Object(Dt.createLogger)({predicate:function(e,t){return!!["all","reducer","axios"].includes(localStorage.getItem("logger"))||T(window.location.hostname)||"localhost"===window.location.hostname},collapsed:!0});ja=[].concat(Object(Rt.a)(ja),[Ca,p.a.reduxMiddleware()]);var Ta=Object(ga.a)(Aa,Oa),ya=!!localStorage.getItem("persistence"),Sa=null;Sa=ya?Object(It.createStore)(Ta,Object(Pt.composeWithDevTools)(It.applyMiddleware.apply(void 0,Object(Rt.a)(ja)))):Object(It.createStore)(Oa,Object(Pt.composeWithDevTools)(It.applyMiddleware.apply(void 0,Object(Rt.a)(ja))));var ka=Object(ga.b)(Sa);P.sessionService.initSessionService(Sa,{redirectPath:"/login"});var wa=function(){return{store:Sa,persistor:ka,persistenceOn:ya}},Na=["skip","limit"],xa=function(){localStorage.getItem("userAuthToken")&&["nilo@makedevelopment.com","joules@makedevelopment.com","jessryll@makedevelopment.com"].includes(JSON.parse(localStorage.getItem("userAuthToken")).user_auth.email)&&console.log("error")},Ra=function(){var e=Object(l.useDispatch)(),t=Object(b.g)(),a=Op(),n=Wa(),i=am(),o=i.generalSettings.is_new,c=i.driffSettings,s=i.userSettings,d=i.setGeneralSetting,u=i.setReadAnnouncement,m=wa(),p=m.persistor,f=m.persistenceOn,h=vs()._t,E=Object(l.useSelector)((function(e){return e.users.getUserFilter})),_=Object(l.useSelector)((function(e){return e.session})).user,O=function(e){localStorage.setItem("userAuthToken",JSON.stringify(e)),localStorage.setItem("token",e.download_token),localStorage.setItem("atoken",e.auth_token)},g=function(e,t){var a="".concat(M()).concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""!==t&&(t="/".concat(btoa(t))),"/authenticate/".concat(e.access_token).concat(t)}(e,t));window.location.href="".concat(U({isDNS:!0}),"/auth-web/login?token=").concat(e.auth_token,"&redirect_link=").concat(a)},v=function(e,t){O(e),g(e,t)},A=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(de({email:t,driff:localStorage.getItem("slug")},a))},j=function(t){var a=t.skip,n=void 0===a?0:a,r=t.limit,i=void 0===r?E.limit:r,o=Object(I.a)(t,Na),c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(ue(Object(R.a)(Object(R.a)({},o),{},{skip:n,limit:i}),c))},C=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=["id","first_name","last_name","middle_name","name","password","role_id","company","company_name","designation","skills","email","contact","place","address","house_number","country","zip_code","birthday","gender","timezone","language","change_email"],i={};r.forEach((function(e){i=Object(R.a)(Object(R.a)({},i),{},Object(x.a)({},e,t[e])),"password"===e&&(i=t[e]?Object(R.a)(Object(R.a)({},i),{},{type:2}):Object(R.a)(Object(R.a)({},i),{},{password:"",type:0}))})),e(me(i,(function(e,t){e&&a.error("Saving profile information failed."),t&&(_.id===t.data.id&&P.sessionService.saveUser(Object(R.a)({},t.data)),a.success("Profile information saved.")),n(e,t)})))};return{checkCredentials:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(ae(t,(function(e,t){e&&a.error(r.a.createElement(r.a.Fragment,null,"Invalid email or password.")),n(e,t)})))},login:v,register:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};A(t.email,(function(i,o){o&&!o.data.status?e(te(t,(function(e,t){e&&a.error("User registration failed."),t&&a.success("Slug request sent. Please wait for admin to cross-check. You'll recieve further notification on your email.",{duration:1e4}),n(e,t)}))):(a.error("Email ".concat(t.email," is already taken")),n({field:{email:r.a.createElement(r.a.Fragment,null,t.email," is already taken.")}}))}))},googleLogin:function(){var t={slug:Ya()};if(T(window.location.hostname)){var n=window.location,r=n.hostname,i=n.port;t.redirect_ip_address="http://".concat(r,":").concat(i)}e(re(t,(function(e,t){e&&console.log(e),t&&(a.notify("Logging in via Google."),window.location.href=t.data.google_url)})))},storeLoginToken:O,processBackendLogin:g,requestPasswordReset:function(t,n){e(se({email:t},(function(e,i){e&&a.error("Email not found"),i&&a.success(r.a.createElement(r.a.Fragment,null,"Password reset link sent to ",r.a.createElement("b",null,t),". Please check.")),n(e,i)})))},checkEmail:A,sendMagicLink:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ee({email:t},(function(e,i){e&&a.error(r.a.createElement(r.a.Fragment,null,"Not allowed for external users.")),i&&a.success(r.a.createElement(r.a.Fragment,null,"Link was sent to ",r.a.createElement("b",null,t))),n(e,i)})))},checkMagicLink:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(_e({token:t},(function(e,t){e&&a.error(r.a.createElement(r.a.Fragment,null,"Token expired or not working.")),n(e,t)})))},fetch:j,fetchStateCode:function(t,n){e(be({state_code:t},(function(e,t){e&&a.error(r.a.createElement(r.a.Fragment,null,"Invalid code.")),n(e,t)})))},update:C,updateProfileImage:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i={id:t.id,file:n};e(pe(i,(function(e,n){e&&(a.error("Profile image upload failed."),r(e)),n&&(t.profile_image_id=parseInt(n.data.profile_media_id),C(t,r))})))},updateExternalUser:function(t,a){e(he(t,(function(e,t){a(e,t)})))},updatePassword:function(t,n){e(le(t,(function(e,t){e&&(a.error(r.a.createElement(r.a.Fragment,null,"Invalid or expired token.")),n(e,t)),t&&(a.success(r.a.createElement(r.a.Fragment,null,"Password is successfully updated. You are being logged in!")),v(t.data))})))},fetchById:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(ce({id:t},a))},fetchMore:function(){E.hasMore&&j(E.skip,E.limit)},getReadOnlyFields:function(e){switch(e){case"gripp":default:return[]}},getRequiredFields:function(e){var t=["first_name","last_name","password","email"];switch(e){case"gripp":default:return t}},processBackendLogout:function(){f&&(p.purge(),localStorage.removeItem("persist:root"));var e="".concat(M(),"/logged-out");window.location.href="".concat(U({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)},logout:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};f&&(p.purge(),localStorage.removeItem("persist:root")),e(He(!0)),e(ne({},(function(n,r){f&&(p.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),localStorage.removeItem("welcomeBanner"),P.sessionService.deleteSession().then((function(){return P.sessionService.deleteUser()})).then((function(){e(He(!1,(function(){a.success("You are logged out")})))})).then((function(){return t(n,r)}))})))},displayWelcomeBanner:function(){if(!localStorage.getItem("welcomeBanner")){localStorage.setItem("welcomeBanner","init");var e=n.getName();if(o)a.success(r.a.createElement(r.a.Fragment,null,"Welcome to ",r.a.createElement("b",null,e)," driff, ",_.first_name)),d({is_new:!1});else{if(c.ANNOUNCEMENT_AT&&c.ANNOUNCEMENT_LINK&&""!==c.ANNOUNCEMENT_LINK){var i=null;s.READ_ANNOUNCEMENT?s.READ_ANNOUNCEMENT.timestamp<c.ANNOUNCEMENT_AT.timestamp&&(i=c.ANNOUNCEMENT_LINK.split("posts/"),i="/posts/".concat(i[1]),u()):(i=c.ANNOUNCEMENT_LINK.split("posts/"),i="/posts/".concat(i[1]),u()),i&&t.push(i)}a.success(r.a.createElement(r.a.Fragment,null,"Welcome back, ",_.first_name))}}},inviteAsInternalUsers:function(t,a){e(ge(t,a))},updateUserRole:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ae(t,a))},fetchRoles:function(){e(je())},archive:function(t,a){e(ye(t,a))},unarchive:function(t,a){e(Se(t,a))},activate:function(t,a){e(ke(t,a))},deactivate:function(t,a){e(we(t,a))},fetchArchivedUsers:function(){e(Ne())},updateType:function(t,n){e(Le({id:t.id,type:n},(function(e,t){e||a.success("".concat(h("TOASTER.CHANGE_USER_TYPE","Change user type to ::type::",{type:n})))})))}}};function Ia(e,t,a,n,i){return function(o){o({type:t}),e.then((function(e){200===e.status||201===e.status||204===e.status?(o({type:a,data:e.data}),i&&i(null,e)):o({type:n,error:e})})).catch((function(e){if(e.response){if(422===e.response.status||403===e.response.status){for(var t=Object.entries(e.response.data.errors),a="",c=0,s=t.length;c<s;c++)for(var l=t[c],d=0,u=l[1].length;d<u;d++){var m=l[1][d];a+="".concat(m)}N.toastr.warning("Something went wrong",{component:function(){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})}})}401===e.response.status&&(console.log(e),xa()),o({type:n,error:e}),i&&i(e)}else console.log(e),xa()}))}}function Pa(e,t,a){return function(n){n({type:e,data:t}),a&&a()}}var Da,La=function(e,t){return Ia(Y({method:"POST",url:"/register",register:!0,data:e}),"REGISTER_DRIFF_START","REGISTER_DRIFF_SUCCESS","REGISTER_DRIFF_FAILURE",t)},Fa=function(e,t){return Ia((a=e,Y({method:"PATCH",actualUrl:"".concat(U({noSlug:!0}),"/check-slug?slug=").concat(a)})),"CHECK_DRIFF_START","CHECK_DRIFF_SUCCESS","CHECK_DRIFF_FAILURE",t);var a},Ma=function(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/dashboard-timeline/?".concat(w(e))})}(e),"GET_COMPANY_DASHBOARD_TIMELINE_START","GET_COMPANY_DASHBOARD_TIMELINE_SUCCESS","GET_COMPANY_DASHBOARD_TIMELINE_FAILURE",t)},Ua=function(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/dashboard-recent-posts/?".concat(w(e))})}(e),"GET_COMPANY_DASHBOARD_RECENT_POST_START","GET_COMPANY_DASHBOARD_RECENT_POST_SUCCESS","GET_COMPANY_DASHBOARD_RECENT_POST_FAILURE",t)},Ga=function(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/dashboard-members/?".concat(w(e))})}(e),"GET_COMPANY_DASHBOARD_MEMBERS_START","GET_COMPANY_DASHBOARD_MEMBERS_SUCCESS","GET_COMPANY_DASHBOARD_MEMBERS_FAILURE",t)},Ha=function(e,t){return Ia(function(e){return Y({method:"PATCH",url:"/update-driff-version",data:{data:{version:e.version,requirement:e.requirement}}})}(e),"CHECK_DRIFF_START","CHECK_DRIFF_SUCCESS","CHECK_DRIFF_FAILURE",t)},Ba=a(71),Wa=function(){var e=Object(l.useDispatch)(),t=Op(),a=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Fa(t,a))},n=function(){localStorage.removeItem("slug")};return{checkUpdateVersion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(localStorage.getItem("site_ver")){var a=parseFloat(localStorage.getItem("site_ver").substr(2)),n=parseFloat(Ba.a.version.substr(2));a<n&&e(Ha({version:Ba.a.version,requirement:Ba.a.requirement},(function(e,a){a&&localStorage.setItem("site_ver",JSON.parse(a.config.data).data.version),t(e,a)})))}else localStorage.setItem("site_ver",Ba.a.version)},check:a,create:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(La(a,(function(e,a){e&&t.error("Something went wrong!"),a&&t.success("Driff successfully created."),n(e,a)})))},getBaseUrl:function(){return T(window.location.hostname)?"".concat("https://").concat(window.location.hostname):"localhost"===window.location.hostname?"".concat("https://","localhost"):"".concat("https://").concat("drevv.com")},getName:function(){var e=localStorage.getItem("slug");if(e)return e;var t=window.location.host.split(".");return 3===t.length?(localStorage.setItem("slug",t[0]),t[0]):null},getByHostname:function(){if(T(window.location.hostname)||"localhost"===window.location.hostname)return null;if("drevv.com"===window.location.hostname)return null;var e=window.location.hostname.split(".");return e.length>=3&&e[0]},storeName:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?localStorage.setItem("slug",e):a(e,(function(t,a){a&&a.status?localStorage.setItem("slug",e):n()}))},unStoreName:n}},Ya=function(){var e=j("driff");if(e)return e;if(e=localStorage.getItem("slug"))return e;if(T(window.location.hostname))return null;if("drevv.com"===window.location.hostname)return null;var t=window.location.hostname.split(".");return t.length>=3?t[0]:"localhost"===t[0]&&null},Va=!1,Qa=function(){var e=Wa(),t=Object(n.useState)(e.getName()),a=Object(_.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(e.getName()),c=Object(_.a)(o,2),s=c[0],l=c[1],d=M(),u={faviconState:Object(n.useRef)(!1)};return Object(n.useEffect)((function(){if(!Va){if(A.isIOS){var t=document.createElement("link");t.href="".concat(d,"/assets/icons/favicon.png"),t.rel="apple-touch-icon",document.getElementsByTagName("head")[0].appendChild(t)}if(Va=!0,s)e.check(s,(function(t,a){a&&a.data.status||(e.unStoreName(),i(!0))}));else{var a=e.getByHostname();!1===a?i(!0):null!==a?e.check(a,(function(t,n){n&&n.data.status?(e.storeName(a,!0),l(a)):(e.unStoreName(),i(!0))})):i(!1)}}}),[]),{actions:e,redirected:r,registeredDriff:s,setRegisteredDriff:l,updateFaviconState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(u.faviconState.current!==e){u.faviconState.current=e;var t=document.querySelector("link[rel*='icon shortcut']")||document.createElement("link");t.type="image/x-icon",t.rel="shortcut icon",t.href="".concat(d,e?"/assets/icons/favicon-active.png":"/assets/icons/favicon.png"),document.getElementsByTagName("head")[0].appendChild(t)}}}},Ka=function(e,t,a){var r=Object(n.useRef)(t);Object(n.useEffect)((function(){r.current=t}));var i=function(t){e.current&&!e.current.contains(t.target)&&r.current()},o=function(e){27===e.keyCode&&r.current()};Object(n.useEffect)((function(){if(a)return document.addEventListener("click",i),document.addEventListener("keydown",o),function(){document.removeEventListener("click",i),document.removeEventListener("keydown",o)}}),[a])},za=a(65),qa=a.n(za),Ja=a(179),Za=a.n(Ja),Xa=a(272),$a=a.n(Xa),en=a(140),tn=a.n(en),an=a(24),nn=a.n(an),rn=a(141),on=a.n(rn),cn=a(273),sn=a.n(cn),ln=["className","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"],dn=["className","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"],un=["className","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","icon"],mn=E.a.svg(Da||(Da=Object(f.a)(["\n  ",";\n"])),(function(e){return"undefined"!==typeof e.rotate&&"transform: rotate(".concat(e.rotate,"deg);")})),pn=r.a.memo(r.a.forwardRef((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.width,o=void 0===i?24:i,c=e.height,s=void 0===c?24:c,l=e.viewBox,d=void 0===l?"0 0 24 24":l,u=e.fill,m=void 0===u?"none":u,p=e.stroke,f=void 0===p?"currentColor":p,b=e.strokeWidth,h=void 0===b?"2":b,E=e.strokeLinecap,_=void 0===E?"round":E,O=e.strokeLinejoin,g=void 0===O?"round":O,v=e.icon,A=Object(I.a)(e,ln),j="";switch(v){case"help-circle":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));break;case"cpu":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),r.a.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}),r.a.createElement("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),r.a.createElement("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),r.a.createElement("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),r.a.createElement("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),r.a.createElement("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),r.a.createElement("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),r.a.createElement("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),r.a.createElement("line",{x1:"1",y1:"14",x2:"4",y2:"14"}));break;case"clock":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polyline",{points:"12 6 12 12 16 14"}));break;case"phone":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}));break;case"sun":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"5"}),r.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),r.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),r.a.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),r.a.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),r.a.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),r.a.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),r.a.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),r.a.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}));break;case"compass":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}));break;case"home":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}));break;case"calendar":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}));break;case"book-open":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),r.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}));break;case"check":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"20 6 9 17 4 12"}));break;case"chevron-down":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"6 9 12 15 18 9"}));break;case"chevron-left":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"15 18 9 12 15 6"}));break;case"chevron-right":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"9 18 15 12 9 6"}));break;case"pencil":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}));break;case"circle":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}));break;case"circle-plus":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}));break;case"lock":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}));break;case"unlock":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}));break;case"user-plus":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),r.a.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),r.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}));break;case"user":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.a.createElement("circle",{cx:"12",cy:"7",r:"4"}));break;case"users":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),r.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}));break;case"inbox":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),r.a.createElement("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}));break;case"eye":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}));break;case"eye-off":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));break;case"star":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));break;case"volume-x":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),r.a.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),r.a.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"}));break;case"volume-2":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),r.a.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}));break;case"volume":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}));break;case"menu":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}));break;case"upload-cloud":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"16 16 12 12 8 16"}),r.a.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),r.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),r.a.createElement("polyline",{points:"16 16 12 12 8 16"}));break;case"monitor":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21"}));break;case"corner-up-right":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"15 14 20 9 15 4"}),r.a.createElement("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"}));break;case"corner-up-left":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"9 14 4 9 9 4"}),r.a.createElement("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"}));break;case"arrow-left":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r.a.createElement("polyline",{points:"12 19 5 12 12 5"}));break;case"arrow-right":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.a.createElement("polyline",{points:"12 5 19 12 12 19"}));break;case"arrow-down":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.a.createElement("polyline",{points:"19 12 12 19 5 12"}));break;case"arrow-up":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),r.a.createElement("polyline",{points:"5 12 12 5 19 12"}));break;case"download":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.a.createElement("polyline",{points:"7 10 12 15 17 10"}),r.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}));break;case"start":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));break;case"mail":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),r.a.createElement("polyline",{points:"22,6 12,13 2,6"}));break;case"database":h="1",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),r.a.createElement("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),r.a.createElement("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}));break;case"rotate-ccw":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"1 4 1 10 7 10"}),r.a.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}));break;case"refresh-ccw":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"1 4 1 10 7 10"}),r.a.createElement("polyline",{points:"23 20 23 14 17 14"}),r.a.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}));break;case"refresh-cw":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"23 4 23 10 17 10"}),r.a.createElement("polyline",{points:"1 20 1 14 7 14"}),r.a.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}));break;case"share":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"18",cy:"5",r:"3"}),r.a.createElement("circle",{cx:"6",cy:"12",r:"3"}),r.a.createElement("circle",{cx:"18",cy:"19",r:"3"}),r.a.createElement("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),r.a.createElement("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}));break;case"link":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),r.a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}));break;case"play":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}));break;case"plus":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}));break;case"x":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));break;case"trash":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"3 6 5 6 21 6"}),r.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}));break;case"trash-2":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"3 6 5 6 21 6"}),r.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),r.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),r.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}));break;case"edit":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}));break;case"edit-2":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}));break;case"edit-3":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M12 20h9"}),r.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}));break;case"search":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),r.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}));break;case"image":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.a.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),r.a.createElement("polyline",{points:"21 15 16 10 5 21"}));break;case"heart":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}));break;case"video":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),r.a.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}));break;case"video-off":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}),r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));break;case"meet":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Group"},r.a.createElement("g",null,r.a.createElement("polygon",{id:"Path",fill:"#A7A7A7",fillRule:"nonzero",points:"12.9375 9.5 15.1669318 12.0729167 18.1647727 14.0072222 18.6875 9.51583333 18.1647727 5.12472222 15.1094318 6.82416667"}),r.a.createElement("path",{d:"M0,13.5902778 L0,17.4166667 C0,18.2914583 0.701761364,19 1.56818182,19 L5.35795455,19 L6.14204545,16.1077778 L5.35795455,13.5902778 L2.75738636,12.7986111 L0,13.5902778 Z",id:"Path",fill:"#949494",fillRule:"nonzero"}),r.a.createElement("polygon",{id:"Path",fill:"#9C9C9C",fillRule:"nonzero",points:"5.35795455 0 0 5.40972222 2.75738636 6.20138889 5.35795455 5.40972222 6.12897727 2.92652778"}),r.a.createElement("polygon",{id:"Path",fill:"#DADADA",fillRule:"nonzero",points:"5.35795455 5.40972222 0 5.40972222 0 13.5902778 5.35795455 13.5902778"}),r.a.createElement("path",{d:"M21.5886364,2.29055556 L18.1647727,5.12472222 L18.1647727,14.0072222 L21.6043182,16.8545833 C22.1192045,17.2609722 22.8719318,16.8902083 22.8719318,16.2291667 L22.8719318,2.90277778 C22.8719318,2.23381944 22.1022159,1.86701389 21.5886364,2.29055556 Z M12.9375,9.5 L12.9375,13.5902778 L5.35795455,13.5902778 L5.35795455,19 L16.5965909,19 C17.4630114,19 18.1647727,18.2914583 18.1647727,17.4166667 L18.1647727,14.0072222 L12.9375,9.5 Z",id:"Shape",fill:"#CACACA",fillRule:"nonzero"}),r.a.createElement("path",{d:"M16.5965909,0 L5.35795455,0 L5.35795455,5.40972222 L12.9375,5.40972222 L12.9375,9.5 L18.1647727,5.12736111 L18.1647727,1.58333333 C18.1647727,0.708541667 17.4630114,0 16.5965909,0 Z",id:"Path",fill:"#E1E1E1",fillRule:"nonzero"})))));break;case"save":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),r.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),r.a.createElement("polyline",{points:"7 3 7 8 15 8"}));break;case"smile":h="0",o="16",s="16",d="0 0 16 16",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M0,8a8,8,0,1,1,8,8A8.01,8.01,0,0,1,0,8ZM1.143,8A6.857,6.857,0,1,0,8,1.143,6.865,6.865,0,0,0,1.143,8Zm4.785,2.731L5.9,10.706a.572.572,0,0,1,.748-.865,2.3,2.3,0,0,0,2.713,0l.032-.025a.571.571,0,0,1,.683.915,3.411,3.411,0,0,1-4.144,0ZM9.715,6.857A1.143,1.143,0,1,1,10.858,8,1.143,1.143,0,0,1,9.715,6.857ZM4,6.857A1.143,1.143,0,1,1,5.143,8,1.143,1.143,0,0,1,4,6.857Z",fill:"currentColor"}));break;case"paperclip":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}));break;case"send-post":h="0",o="16.696",s="16",d="0 0 16.696 16",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M6.446,15.974a.522.522,0,0,1-.359-.5V12.252l2.83.967L7.029,15.787a.52.52,0,0,1-.42.213A.514.514,0,0,1,6.446,15.974Zm7.646-2.089L6.8,11.393l7.17-8.64L4.7,10.677.353,9.19a.522.522,0,0,1-.072-.957L15.933.059a.523.523,0,0,1,.758.54L14.777,13.469a.521.521,0,0,1-.517.445A.541.541,0,0,1,14.092,13.885Z",transform:"translate(0 0)",fill:"currentColor"}));break;case"send":h="0",o="16.696",s="16",d="0 0 16.696 16",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M6.446,15.974a.522.522,0,0,1-.359-.5V12.252l2.83.967L7.029,15.787a.52.52,0,0,1-.42.213A.514.514,0,0,1,6.446,15.974Zm7.646-2.089L6.8,11.393l7.17-8.64L4.7,10.677.353,9.19a.522.522,0,0,1-.072-.957L15.933.059a.523.523,0,0,1,.758.54L14.777,13.469a.521.521,0,0,1-.517.445A.541.541,0,0,1,14.092,13.885Z",transform:"translate(0 0)"}));break;case"folder":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}));break;case"folder-plus":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),r.a.createElement("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),r.a.createElement("line",{x1:"9",y1:"14",x2:"15",y2:"14"}));break;case"file":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.a.createElement("polyline",{points:"13 2 13 9 20 9"}));break;case"file-minus":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.a.createElement("polyline",{points:"14 2 14 8 20 8"}),r.a.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}));break;case"file-text":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.a.createElement("polyline",{points:"14 2 14 8 20 8"}),r.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.a.createElement("polyline",{points:"10 9 9 9 8 9"}));break;case"moon":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}));break;case"bell":h="2",j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),r.a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}));break;case"bar-chart-2":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),r.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),r.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}));break;case"command":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}));break;case"message-square":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}));break;case"message-circle":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}));break;case"settings":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),r.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}));break;case"log-out":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.a.createElement("polyline",{points:"16 17 21 12 16 7"}),r.a.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}));break;case"more-horizontal":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"19",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"5",cy:"12",r:"1"}));break;case"more-vertical":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"19",r:"1"}));break;case"archive":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),r.a.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),r.a.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"}));break;case"gdrive":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"m323.303 31h-133.799c-5.361 0-10.313 2.856-12.993 7.5s-2.681 10.356 0 15l143.042 247.5h168.726l-151.998-262.515c-2.68-4.629-7.632-7.485-12.978-7.485z"}),r.a.createElement("path",{d:"m154.034 75.947-152.011 262.538c-2.622 4.512-2.695 10.049-.22 14.648l64.805 120c2.578 4.775 7.544 7.793 12.979 7.866h.22c5.347 0 10.313-2.856 12.993-7.5l145.494-251.757z"}),r.a.createElement("path",{d:"m509.88 338.31c-2.695-4.526-7.588-7.31-12.876-7.31h-286.41l-86.678 150h308.284c5.508 0 10.576-3.018 13.198-7.866l64.805-120c2.504-4.658 2.387-10.283-.323-14.824z"}));break;case"info":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}));break;case"warning":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));break;case"alert-x":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),r.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}));break;case"list":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),r.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),r.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),r.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}));break;case"alert-circle":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}));break;case"thumbs-up":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}));break;case"sliders":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),r.a.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),r.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),r.a.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),r.a.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),r.a.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),r.a.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),r.a.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}));break;case"gift":j=r.a.createElement(r.a.Fragment,null,r.a.createElement("polyline",{points:"20 12 20 22 4 22 4 12"}),r.a.createElement("rect",{x:"2",y:"7",width:"20",height:"5"}),r.a.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),r.a.createElement("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),r.a.createElement("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"}));break;default:console.log("".concat(v," not found"))}return r.a.createElement(mn,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:s,viewBox:d,fill:m,stroke:f,strokeWidth:h,strokeLinecap:_,strokeLinejoin:g,className:"feather feather-".concat(v," ").concat(n)},A),j)}))),fn=r.a.memo(r.a.forwardRef((function(e,t){var n=e.className,i=void 0===n?"":n,o=e.width,c=void 0===o?24:o,s=e.height,l=void 0===s?24:s,d=e.fill,u=void 0===d?"none":d,m=e.stroke,p=void 0===m?"currentColor":m,f=e.strokeWidth,b=void 0===f?"1":f,h=e.strokeLinecap,E=void 0===h?"round":h,_=e.strokeLinejoin,O=void 0===_?"round":_,g=e.icon,v=Object(I.a)(e,dn);if("gripp-logo"===g)return r.a.createElement("img",{alt:"gripp logo",className:"icon-".concat(g," ").concat(i),width:c,height:l,src:a(212)});var A="",j="";switch(g){case"archive":j="0 0 48 48",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0%",y1:"7.77940102%",x2:"100%",y2:"92.220599%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),r.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),r.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),r.a.createElement("g",{id:"_icon/archive/l/active",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M39,20.5 C39.7796961,20.5 40.4204487,21.0948881 40.4931334,21.85554 L40.5,22 L40.5,37.4285714 C40.5,39.5999931 38.8250623,41.3885867 36.7004613,41.4949924 L36.5,41.5 L11.5,41.5 C9.3484916,41.5 7.6083567,39.777207 7.50486965,37.630981 L7.5,37.4285714 L7.5,22 C7.5,21.1715729 8.17157288,20.5 9,20.5 C9.77969612,20.5 10.4204487,21.0948881 10.4931334,21.85554 L10.5,22 L10.5,37.4285714 C10.5,37.9895449 10.8983759,38.4367012 11.3927122,38.4938289 L11.5,38.5 L36.5,38.5 C37.006502,38.5 37.4386447,38.0902419 37.4940126,37.5469373 L37.5,37.4285714 L37.5,22 C37.5,21.1715729 38.1715729,20.5 39,20.5 Z M29.5,22 C30.8807119,22 32,23.1192881 32,24.5 C32,25.8807119 30.8807119,27 29.5,27 L18.5,27 C17.1192881,27 16,25.8807119 16,24.5 C16,23.1192881 17.1192881,22 18.5,22 L29.5,22 Z M38.6,7.5 C40.7539105,7.5 42.5,9.24608948 42.5,11.4 L42.5,11.4 L42.5,14.6 C42.5,16.7539105 40.7539105,18.5 38.6,18.5 L38.6,18.5 L9.4,18.5 C7.24608948,18.5 5.5,16.7539105 5.5,14.6 L5.5,14.6 L5.5,11.4 C5.5,9.24608948 7.24608948,7.5 9.4,7.5 L9.4,7.5 Z M38.6,10.5 L9.4,10.5 C8.90294373,10.5 8.5,10.9029437 8.5,11.4 L8.5,11.4 L8.5,14.6 C8.5,15.0970563 8.90294373,15.5 9.4,15.5 L9.4,15.5 L38.6,15.5 C39.0970563,15.5 39.5,15.0970563 39.5,14.6 L39.5,14.6 L39.5,11.4 C39.5,10.9029437 39.0970563,10.5 38.6,10.5 L38.6,10.5 Z",id:"Combined-Shape",fill:"url(#linearGradient-1)",fillRule:"nonzero"})));break;case"reply":j="0 0 41 31",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"-1.11022302e-14%",y1:"1.72254642e-14%",x2:"100%",y2:"100%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),r.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),r.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),r.a.createElement("g",{id:"E---Notifications",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"E1---01a-Notifications---Overview",transform:"translate(-42.000000, -1381.000000)",fill:"url(#linearGradient-1)",fillRule:"nonzero"},r.a.createElement("g",{id:"Group-13",transform:"translate(20.000000, 1364.000000)"},r.a.createElement("g",{id:"Group-24-Copy-3",transform:"translate(11.000000, 0.000000)"},r.a.createElement("g",{id:"_icon/reply/l/active",transform:"translate(8.000000, 9.000000)"},r.a.createElement("path",{d:"M20.5,37 C20.5,38.309747 18.9390974,38.990409 17.9793234,38.0991902 L3.97932335,25.0991902 C3.35630446,24.5206727 3.3381597,23.54052 3.93933983,22.9393398 L17.9393398,8.93933983 C18.8842871,7.99439254 20.5,8.66364272 20.5,10 L20.5,19.3691406 C20.5,20.1975677 19.8284271,20.8691406 19,20.8691406 C18.1715729,20.8691406 17.5,20.1975677 17.5,19.3691406 L17.5,13.6213203 L7.16133128,23.9599891 L17.5,33.5601814 L17.5,24.5 C17.5,23.6715729 18.1715729,23 19,23 L34.2221177,23 C39.3466003,23 43.5008143,27.154214 43.5008143,32.2786967 C43.5008143,32.6274968 43.4811465,32.9760194 43.4419044,33.322605 C43.3487014,34.1457725 42.6058364,34.7375257 41.7826689,34.6443227 C40.9595014,34.5511198 40.3677483,33.8082547 40.4609512,32.9850873 C40.4875055,32.7505601 40.5008143,32.5147223 40.5008143,32.2786967 C40.5008143,28.8110682 37.6897461,26 34.2221177,26 L20.5,26 L20.5,37 Z",id:"Path"})))))));break;case"document":j="0 0 1536 1792",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M1468 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28H96q-40 0-68-28t-28-68V96q0-40 28-68T96 0h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528V640H992q-40 0-68-28t-28-68V128H128v1536h1280zM384 800q0-14 9-23t23-9h704q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64zm736 224q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704zm0 256q14 0 23 9t9 23v64q0 14-9 23t-23 9H416q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h704z",fill:"#626262"}));break;case"image-video":j="0 0 448 512",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"currentColor",d:"M128 192a32 32 0 1 0-32-32 32 32 0 0 0 32 32zM416 32H32A32 32 0 0 0 0 64v384a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 320H64V96h320zM268.8 209.07a16 16 0 0 0-25.6 0l-49.32 65.75L173.31 244a16 16 0 0 0-26.62 0L96 320h256z"}));break;case"pin":j="0 0 24 24",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{id:"_icon/pin/r/secundary",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M15.7692308,8.70635677 C18.2871227,9.7169252 20,11.7084386 20,14 L4,14 C4,11.7084386 5.71287732,9.7169252 8.23076923,8.70635677 L8.23076923,2 L15.7692308,2 L15.7692308,8.70635677 Z",id:"Combined-Shape",stroke:"#972C86",strokeWidth:"2"}),r.a.createElement("path",{d:"M10.5,17.4019238 L13.5,22.5980762",id:"Line-2",stroke:"#972C86",strokeWidth:"2",transform:"translate(12.000000, 20.000000) rotate(30.000000) translate(-12.000000, -20.000000)"})));break;case"mute":j="0 0 24 24",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M6.092 15H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h4l5.293-5.293A1 1 0 0 1 16 4.414V6.5m0 5.5v7.558a1 1 0 0 1-1.713.701l-4.04-4.104"}),r.a.createElement("path",{d:"M6 19.818L21 7"}));break;case"driff-logo":j="0 0 465 355",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"100%",y2:"100%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#972C86",offset:"0%"}),r.a.createElement("stop",{stopColor:"#794997",offset:"40%"}),r.a.createElement("stop",{stopColor:"#007180",offset:"100%"}))),r.a.createElement("g",{id:"Symbols,-Styles-&-Typography",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"logo/gradient",fill:"url(#linearGradient-1)"},r.a.createElement("path",{d:"M444.876694,189.762858 C444.876694,184.355858 449.260694,179.972858 454.666694,179.972858 C460.073694,179.972858 464.456694,184.355858 464.456694,189.762858 C464.456694,195.169858 460.073694,199.552858 454.666694,199.552858 C449.260694,199.552858 444.876694,195.169858 444.876694,189.762858 Z M153.753094,95.3067584 C175.403094,118.181758 181.133094,149.458758 172.867094,179.417758 C162.355094,217.514758 130.210094,243.101758 94.2370945,256.022758 C81.8950945,260.454758 68.7470945,263.670758 55.6180945,264.438758 C51.9980945,264.651758 48.0080945,264.726758 44.5210945,263.619758 C38.5750945,261.731758 37.1550945,256.791758 37.3080945,251.188758 C38.6900945,200.786758 39.9310945,150.357758 39.2580945,99.9347584 C39.1110945,88.9087584 56.2120945,88.9397584 56.3580945,99.9347584 C56.4540945,107.041758 56.5080945,114.149758 56.5260945,121.256758 C56.5970945,149.275758 56.1930945,177.294758 55.5860945,205.306758 C55.3590945,215.758758 55.1000945,226.208758 54.8160945,236.659758 C54.7190945,240.186758 54.7800945,243.789758 54.6920945,247.366758 C55.0770945,247.351758 55.4610945,247.349758 55.8460945,247.325758 C56.9890945,247.254758 58.1310945,247.153758 59.2700945,247.033758 C59.8690945,246.970758 60.4650945,246.892758 61.0640945,246.826758 C61.0780945,246.824758 61.0870945,246.822758 61.1010945,246.820758 C67.0860945,245.854758 72.9920945,244.635758 78.8330945,242.998758 C82.2310945,242.046758 85.5960945,240.981758 88.9230945,239.806758 C92.5540945,238.524758 95.8140945,237.227758 98.1920945,236.172758 C129.822094,222.134758 155.397094,196.918758 159.092094,160.933758 C159.473094,157.220758 159.705094,153.475758 159.607094,149.741758 C159.573094,148.469758 159.502094,147.199758 159.396094,145.931758 C159.352094,145.409758 159.121094,143.665758 159.076094,143.216758 C158.206094,138.036758 156.832094,133.068758 155.028094,128.124758 C154.464094,126.577758 154.802094,127.518758 154.783094,127.474758 C154.475094,126.772758 154.162094,126.074758 153.836094,125.381758 C153.217094,124.070758 152.560094,122.778758 151.866094,121.506758 C150.370094,118.763758 148.702094,116.114758 146.875094,113.578758 C146.704094,113.341758 146.048094,112.473758 145.807094,112.148758 C145.547094,111.835758 144.858094,110.989758 144.647094,110.738758 C143.602094,109.499758 142.518094,108.294758 141.399094,107.123758 C138.961094,104.572758 136.350094,102.198758 133.608094,99.9767584 C132.620094,99.1757584 133.820094,100.088758 132.413094,99.0617584 C131.623094,98.4847584 130.829094,97.9137584 130.022094,97.3607584 C128.481094,96.3017584 126.905094,95.2937584 125.301094,94.3317584 C121.761094,92.2077584 118.082094,90.3107584 114.305094,88.6447584 C106.927094,85.3897584 96.8400945,82.5727584 88.0410945,80.9087584 C62.7140945,76.1177584 36.1160945,77.7367584 10.7810945,81.5557584 C6.19809447,82.2467584 1.60809447,80.4727584 0.26409447,75.5837584 C-0.85490553,71.5117584 1.66609447,65.7547584 6.23509447,65.0657584 C14.6450945,63.7987584 23.0840945,62.7127584 31.5590945,61.9977584 C73.4210945,58.4627584 123.117094,62.9357584 153.753094,95.3067584 Z M333.321994,31.2604584 C333.606994,31.4904584 334.527994,32.0314584 333.321994,31.2604584 Z M334.095994,27.7654584 C334.627994,27.2394584 334.361994,27.4264584 334.095994,27.7654584 Z M249.691994,203.864458 C249.443994,203.615458 249.509994,203.683458 249.691994,203.864458 Z M436.655994,129.367458 C437.285994,128.286458 437.764994,127.117458 438.367994,126.027458 C442.031994,115.884458 458.325994,120.367458 454.787994,130.746458 C452.063994,138.737458 446.559994,146.098458 440.028994,151.345458 C430.246994,159.202458 418.730994,162.384458 406.891994,162.450458 C424.394994,193.161458 428.839994,231.853458 425.059994,266.436458 C423.288994,282.647458 419.952994,298.578458 413.287994,313.520458 C409.426994,322.175458 403.979994,331.211458 395.923994,336.574458 C388.955994,341.213458 378.923994,341.649458 375.738994,332.433458 C373.563994,326.142458 373.676994,318.677458 373.412994,312.093458 C372.350994,285.709458 373.186994,259.211458 373.805994,232.826458 C374.225994,214.956458 374.736994,197.089458 375.218994,179.221458 C367.471994,181.876458 359.245994,182.902458 350.967994,182.712458 C357.273994,196.084458 359.724994,211.191458 361.287994,225.745458 C362.961994,241.332458 363.400994,257.319458 361.845994,272.935458 C359.969994,291.775458 355.275994,310.275458 346.877994,327.295458 C342.381994,336.404458 336.004994,347.965458 326.451994,352.659458 C303.822994,363.778458 308.115994,317.102458 308.192994,306.912458 C308.442994,274.095458 309.858994,241.293458 310.746994,208.489458 C308.053994,209.346458 305.195994,209.757458 302.165994,209.566458 C291.027994,208.866458 284.320994,199.906458 280.508994,190.346458 C278.996994,195.094458 277.265994,199.765458 275.230994,204.311458 C269.782994,216.478458 260.200994,226.809458 245.809994,221.313458 C228.482994,214.696458 230.620994,194.017458 233.734994,179.302458 C235.047994,173.095458 236.726994,166.977458 238.406994,160.861458 C234.410994,163.548458 230.113994,165.784458 225.586994,167.445458 C224.622994,167.798458 223.619994,168.134458 222.588994,168.450458 C220.597994,179.747458 216.214994,190.878458 210.729994,200.440458 C201.734994,216.124458 187.267994,230.038458 168.803994,232.928458 C164.223994,233.644458 159.624994,231.825458 158.285994,226.956458 C157.161994,222.866458 159.691994,217.153458 164.257994,216.439458 C179.022994,214.128458 189.164994,204.002458 196.441994,190.965458 C199.862994,184.837458 202.660994,177.722458 204.455994,170.708458 C198.452994,170.186458 192.829994,168.103458 188.802994,163.517458 C179.845994,153.314458 182.949994,136.882458 195.312994,131.090458 C202.736994,127.612458 211.388994,127.373458 217.316994,133.682458 C221.362994,137.989458 222.913994,144.000458 223.475994,149.798458 C225.670994,148.780458 227.801994,147.585458 229.843994,146.162458 C232.128994,144.571458 234.750994,142.140458 236.909994,139.799458 C237.804994,138.828458 238.668994,137.824458 239.490994,136.791458 C239.433994,136.826458 240.850994,134.900458 241.059994,134.591458 C242.228994,132.864458 243.316994,131.076458 244.570994,128.877458 C248.140994,120.314458 261.033994,120.908458 261.365994,131.149458 C261.924994,148.399458 254.269994,165.623458 250.577994,182.225458 C249.812994,185.666458 249.044994,189.649458 248.799994,192.360458 C248.646994,194.059458 248.544994,195.765458 248.567994,197.471458 C248.577994,198.124458 248.881994,200.836458 248.777994,200.553458 C248.953994,201.285458 249.328994,202.640458 249.489994,203.238458 C249.616994,203.531458 249.911994,204.058458 250.760994,204.834458 C250.958994,204.966458 251.487994,205.219458 251.672994,205.320458 C252.312994,205.528458 253.216994,205.794458 254.222994,205.741458 C254.807994,205.189458 255.364994,204.620458 255.915994,204.002458 C256.287994,203.450458 256.662994,202.904458 257.014994,202.339458 C260.348994,197.002458 261.339994,193.911458 263.308994,187.944458 C267.601994,174.939458 270.355994,161.411458 272.677994,147.932458 C273.440994,143.508458 274.131994,139.071458 274.768994,134.626458 C275.010994,131.769458 275.364994,128.932458 275.907994,126.148458 C277.745994,116.723458 293.812994,118.898458 292.702994,128.421458 C292.512994,130.043458 292.294994,131.661458 292.085994,133.281458 C291.971994,134.548458 291.860994,135.813458 291.783994,137.083458 C291.199994,146.751458 291.374994,156.527458 292.413994,166.157458 C292.841994,170.123458 293.661994,175.049458 295.002994,179.862458 C296.324994,184.603458 296.767994,186.311458 299.517994,190.154458 C298.822994,189.152458 300.582994,191.252458 301.108994,191.765458 C301.352994,191.929458 301.629994,192.093458 301.941994,192.344458 C302.087994,192.364458 302.293994,192.394458 303.467994,192.532458 C303.576994,192.531458 303.985994,192.498458 305.065994,192.323458 C305.536994,192.222458 305.991994,192.061458 306.504994,191.892458 C308.553994,190.898458 309.724994,189.982458 311.193994,188.624458 C311.863994,150.579458 311.556994,112.518458 312.813994,74.4844584 C313.316994,59.2584584 313.647994,43.7244584 316.314994,28.6854584 C317.046994,24.5594584 318.077994,19.9304584 321.057994,16.7904584 C324.931994,12.7104584 331.755994,12.4964584 336.827994,14.0924584 C349.853994,18.1894584 355.887994,33.4004584 358.826994,45.4454584 C363.165994,63.2274584 363.393994,82.2544584 361.170994,100.353458 C359.156994,116.744458 355.617994,132.948458 350.629994,148.691458 C348.874994,154.227458 346.964994,159.826458 344.789994,165.334458 C345.292994,165.384458 345.915994,165.437458 346.821994,165.512458 C356.378994,166.310458 362.627994,165.766458 371.248994,162.586458 C372.674994,162.060458 374.179994,161.334458 375.704994,160.468458 C375.835994,155.176458 375.968994,149.885458 376.084994,144.592458 C376.909994,106.512458 376.835994,68.1944584 379.932994,30.2094584 C380.568994,22.4124584 380.114994,9.87645843 386.019994,3.70245843 C392.629994,-3.20754157 403.239994,0.625458433 408.973994,6.47345843 C417.126994,14.7894584 421.047994,27.1224584 423.278994,38.2564584 C427.015994,56.9064584 426.812994,76.2114584 424.729994,95.0474584 C422.865994,111.895458 419.328994,129.871458 411.568994,145.336458 C412.771994,145.204458 413.964994,145.021458 415.140994,144.767458 C418.362994,144.072458 421.380994,143.057458 423.407994,141.954458 C425.981994,140.554458 428.009994,139.257458 429.128994,138.276458 C430.896994,136.723458 432.519994,135.064458 434.038994,133.272458 C434.136994,133.136458 434.777994,132.316458 435.272994,131.578458 C435.756994,130.856458 436.218994,130.118458 436.655994,129.367458 Z M286.000694,108.552958 C280.593694,108.552958 276.210694,104.169958 276.210694,98.7629584 C276.210694,93.3559584 280.593694,88.9729584 286.000694,88.9729584 C291.406694,88.9729584 295.790694,93.3559584 295.790694,98.7629584 C295.790694,104.169958 291.406694,108.552958 286.000694,108.552958 Z M403.610994,117.324458 C407.748994,101.065458 409.287994,84.0154584 409.082994,67.2664584 C408.922994,54.2534584 407.281994,39.0804584 402.513994,27.8884584 C401.619994,25.7874584 400.550994,23.7344584 399.342994,21.7974584 C398.951994,21.1684584 398.535994,20.5494584 398.102994,19.9444584 C398.082994,20.0814584 398.060994,20.2194584 398.040994,20.3564584 C398.121994,19.8454584 397.865994,21.6784584 397.812994,22.1344584 C397.673994,23.3284584 397.548994,24.5234584 397.431994,25.7204584 C396.126994,39.0824584 395.641994,52.5344584 395.164994,65.9474584 C394.242994,91.8624584 393.488994,117.797458 392.829994,143.737458 C392.858994,143.743458 392.886994,143.750458 392.915994,143.757458 C397.993994,135.681458 401.267994,126.533458 403.610994,117.324458 Z M409.164994,237.372458 C408.530994,221.198458 405.442994,205.057458 400.261994,189.727458 C398.131994,183.419458 395.578994,176.862458 392.173994,170.877458 C391.565994,197.384458 391.035994,223.891458 390.529994,250.383458 C390.104994,272.657458 389.414994,295.100458 390.772994,317.356458 C390.789994,317.621458 390.809994,317.886458 390.826994,318.152458 C390.970994,317.980458 391.121994,317.813458 391.262994,317.639458 C391.443994,317.385458 392.063994,316.560458 392.249994,316.284458 C407.054994,294.325458 410.184994,263.408458 409.164994,237.372458 Z M325.581994,330.019458 C341.569994,307.133458 345.937994,277.182458 345.595994,249.932458 C345.420994,235.871458 344.354994,221.711458 341.277994,207.965458 C339.927994,201.933458 338.308994,195.765458 335.632994,190.170458 C335.134994,189.129458 334.593994,188.089458 334.022994,187.076458 C333.247994,188.308458 332.453994,189.527458 331.624994,190.718458 C330.515994,192.309458 329.324994,193.906458 328.052994,195.460458 C327.844994,206.883458 327.591994,218.305458 327.249994,229.730458 C326.364994,259.176458 325.033994,288.662458 325.289994,318.127458 C325.324994,322.091458 325.398994,326.058458 325.581994,330.019458 Z M330.316994,63.9294584 C329.493994,82.5774584 329.219994,101.249458 329.007994,119.913458 C328.857994,133.195458 328.728994,146.473458 328.573994,159.749458 C339.359994,133.114458 346.020994,103.494458 345.305994,74.6894584 C344.971994,61.2674584 343.545994,46.1514584 336.233994,34.5804584 C335.061994,32.7254584 335.820994,33.8184584 334.409994,32.3014584 C334.067994,31.9324584 333.681994,31.5784584 333.278994,31.2324584 C333.251994,31.2154584 333.216994,31.1924584 333.181994,31.1684584 C332.219994,35.3394584 332.128994,37.5334584 331.682994,42.3754584 C331.022994,49.5444584 330.633994,56.7374584 330.316994,63.9294584 Z M204,152.583252 C206.04248,152.69458 207.356934,150.950665 207.356934,149.293811 C207.356934,147.636957 206.340576,145.364502 204,145.364502 C201.659424,145.364502 200.484619,147.343146 200.484619,149 C200.484619,150.656854 201.95752,152.471924 204,152.583252 Z",id:"Combined-Shape"}))));break;case"driff-logo2":j="0 0 45 33",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{id:"Welcome",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"logo.d0b06377",fill:"#FFFFFF",fillRule:"nonzero"},r.a.createElement("path",{d:"M43.1029448,17.6718104 C43.1029448,17.1682795 43.5276991,16.7601093 44.0514724,16.7601093 C44.5753425,16.7601093 45,17.1682795 45,17.6718104 C45,18.1753414 44.5753425,18.5835116 44.0514724,18.5835116 C43.5276991,18.5835116 43.1029448,18.1753414 43.1029448,17.6718104 Z M14.896737,8.87551435 C16.9943492,11.0057661 17.5495139,13.9184605 16.7486427,16.7084151 C15.7301624,20.2562272 12.615717,22.6390361 9.13038677,23.842314 C7.93460252,24.2550474 6.66072702,24.5545398 5.38869239,24.6260604 C5.03796001,24.6458962 4.6513793,24.6528806 4.31353295,24.5497904 C3.73744049,24.373969 3.59986038,23.9139277 3.61468416,23.3921441 C3.74858254,18.6984195 3.8688198,14.0021805 3.80361458,9.30650037 C3.78937213,8.27969573 5.4462435,8.28258263 5.46038906,9.30650037 C5.46969025,9.96834511 5.47492217,10.630283 5.47666615,11.2921278 C5.48354515,13.9014185 5.44440264,16.5107092 5.38559199,19.119348 C5.36359855,20.0926984 5.33850472,21.0658626 5.3109887,22.0391199 C5.30159062,22.3675745 5.30750075,22.7031066 5.29897466,23.0362174 C5.33627631,23.0348205 5.37348107,23.0346343 5.41078272,23.0323993 C5.52152501,23.0257873 5.63217042,23.0163816 5.74252516,23.0052066 C5.80056071,22.9993396 5.8583056,22.9920758 5.91634115,22.9859295 C5.91769758,22.9857433 5.91856956,22.985557 5.91992599,22.9853708 C6.49979706,22.8954113 7.07201402,22.781891 7.63793331,22.6294441 C7.96715668,22.5407884 8.29318277,22.4416095 8.61552714,22.3321867 C8.96732528,22.2127995 9.28317819,22.0920154 9.51357642,21.9937677 C12.5781247,20.6864682 15.0560199,18.3382091 15.4140188,14.9870786 C15.4509329,14.6413026 15.4734108,14.2925467 15.4639158,13.9448151 C15.4606217,13.8263591 15.4537427,13.7080894 15.4434726,13.5900059 C15.4392096,13.5413943 15.4168286,13.378983 15.4124686,13.3371695 C15.3281766,12.8547781 15.1950533,12.3921293 15.0202685,11.9317155 C14.965624,11.78765 14.9983719,11.8752813 14.996531,11.8711838 C14.9666897,11.8058095 14.936364,11.7408077 14.9047787,11.6762716 C14.8448054,11.5541837 14.7811504,11.4338652 14.7139105,11.3154092 C14.568967,11.0599653 14.4073588,10.8132751 14.2303455,10.5771082 C14.2137778,10.5550374 14.1502196,10.4742042 14.1268698,10.4439384 C14.101679,10.41479 14.0349236,10.3360056 14.0144804,10.312631 C13.9132331,10.1972482 13.8082071,10.0850317 13.6997901,9.97598142 C13.4635787,9.73841761 13.2106057,9.51733705 12.9449404,9.31041165 C12.8492157,9.23581791 12.9654805,9.3208417 12.82916,9.22520158 C12.7526189,9.17146801 12.6756903,9.1182932 12.5975022,9.06679466 C12.4481987,8.96817448 12.2955042,8.87430371 12.1400968,8.78471673 C11.7971154,8.58691762 11.4406667,8.41025805 11.074723,8.25511053 C10.3598878,7.95198618 9.38258466,7.68965091 8.53007246,7.53468965 C6.07620536,7.08852413 3.49919438,7.23929474 1.04455218,7.59494202 C0.600517238,7.65929192 0.155804087,7.49408682 0.0255874257,7.03879497 C-0.0828295713,6.65958688 0.161423556,6.12346188 0.604102072,6.05929823 C1.41892508,5.94130789 2.23655782,5.84017331 3.05767851,5.77358839 C7.11357872,5.44438883 11.9284947,5.86094036 14.896737,8.87551435 Z M42.3064625,12.0474429 C42.3675016,11.9467739 42.4139107,11.8379099 42.4723338,11.7364029 C42.8273292,10.7918283 44.4060124,11.2093111 44.0632248,12.1758633 C43.7993036,12.9200313 43.2660353,13.60553 42.6332637,14.0941609 C41.6855112,14.82585 40.569756,15.1221761 39.4227061,15.1283224 C41.1185262,17.9883077 41.5491907,21.5915296 41.1829563,24.8120977 C41.0113687,26.3217594 40.6881524,27.8053459 40.0423979,29.1968311 C39.6683156,30.0028345 39.14057,30.8443189 38.3600451,31.3437523 C37.6849337,31.7757627 36.7129594,31.8163656 36.404373,30.9581186 C36.1936429,30.3722644 36.2045912,29.6770806 36.1790129,29.0639406 C36.0761185,26.6069105 36.1571164,24.1392641 36.2170897,21.6821409 C36.2577824,20.0179836 36.3072918,18.3541056 36.3539916,16.6901346 C35.6034049,16.9373834 34.8064092,17.0329305 34.0043753,17.0152366 C34.6153472,18.2605143 34.8528182,19.6673651 35.0042532,21.0227174 C35.1664427,22.4742687 35.2089763,23.9630702 35.0583164,25.4173221 C34.8765556,27.1718114 34.4217662,28.894638 33.6081058,30.4796384 C33.1725001,31.327921 32.5546492,32.4045479 31.6290839,32.8416802 C29.436619,33.8771455 29.8525566,29.5304075 29.8600169,28.581456 C29.8842387,25.5253479 30.0214313,22.4706368 30.1074673,19.4157393 C29.8465495,19.4955481 29.5696454,19.5338228 29.2760766,19.5160358 C28.1969447,19.4508477 27.547121,18.6164409 27.1777862,17.7261586 C27.0312925,18.1683197 26.8635804,18.6033102 26.6664145,19.0266599 C26.138572,20.159721 25.2101969,21.1218032 23.8158904,20.6099841 C22.1371225,19.9937709 22.3442678,18.0680233 22.6459751,16.6976777 C22.7731883,16.1196461 22.9358622,15.5499027 23.098633,14.9803456 C22.711471,15.2305745 22.2951458,15.4388037 21.8565366,15.5934856 C21.7631371,15.626359 21.6659591,15.6576492 21.5660682,15.687077 C21.3731654,16.7391187 20.9485079,17.7757015 20.4170805,18.6661701 C19.5455784,20.1267545 18.1439084,21.4225063 16.3549795,21.6916398 C15.9112353,21.7583178 15.4656501,21.5889221 15.3359179,21.1354927 C15.2270165,20.7546084 15.4721416,20.2225809 15.9145294,20.1560891 C17.3450719,19.9408755 18.3277038,18.997884 19.0327534,17.7838035 C19.3642052,17.2131288 19.6352961,16.550539 19.809209,15.897355 C19.227594,15.8487433 18.6827961,15.6547624 18.2926306,15.2276876 C17.4248102,14.2775255 17.7255487,12.747283 18.9233675,12.2078986 C19.6426596,11.8840072 20.4809293,11.8617501 21.0552778,12.4492806 C21.4472842,12.8503732 21.5975566,13.4101521 21.6520073,13.9500953 C21.8646751,13.8552933 22.0711422,13.744008 22.2689862,13.61149 C22.4903739,13.463327 22.7444127,13.2369382 22.9535926,13.0189308 C23.0403068,12.9285057 23.1240175,12.8350075 23.203659,12.7388085 C23.1981364,12.7420679 23.3354258,12.5627077 23.3556753,12.5339319 C23.4689367,12.3731037 23.5743501,12.2065948 23.6958469,12.0018113 C24.0417349,11.2043754 25.2909042,11.2596921 25.3230708,12.213393 C25.3772308,13.8198124 24.6355578,15.4238105 24.2778495,16.9698843 C24.2037307,17.2903301 24.1293212,17.66125 24.1055837,17.9137139 C24.09076,18.0719346 24.0808775,18.2308071 24.0831059,18.3896797 C24.0840747,18.4504908 24.1135285,18.7030479 24.1034522,18.6766933 C24.1205044,18.7448613 24.1568372,18.8710467 24.172436,18.9267359 C24.1847407,18.9540218 24.2133225,19.0030991 24.2955799,19.0753647 C24.3147636,19.0876573 24.3660171,19.1112181 24.3839412,19.1206238 C24.4459492,19.1399939 24.5335354,19.1647654 24.6310041,19.1598297 C24.6876832,19.1084243 24.7416495,19.0554357 24.7950345,18.997884 C24.8310766,18.9464786 24.8674093,18.8956319 24.9015137,18.8430159 C25.2245363,18.3460037 25.3205517,18.058152 25.511323,17.5024706 C25.9272606,16.29137 26.1940885,15.0315648 26.419061,13.7763226 C26.4929861,13.3643343 26.5599353,12.9511353 26.6216525,12.5371913 C26.6450993,12.271131 26.6793974,12.0069332 26.7320073,11.7476711 C26.9100863,10.8699608 28.4667761,11.0725093 28.3592311,11.9593459 C28.3408225,12.1103959 28.3197011,12.2610734 28.2994516,12.4119371 C28.2884064,12.5299275 28.2776519,12.6477315 28.2701916,12.7660013 C28.2136094,13.6663411 28.2305647,14.5767385 28.3312307,15.4735396 C28.3726985,15.8428764 28.4521461,16.3016139 28.5820721,16.7498282 C28.7101573,17.1913374 28.7530784,17.3503962 29.0195187,17.7082785 C28.952182,17.6149665 29.1227038,17.8105306 29.1736666,17.8583041 C29.1973071,17.8735767 29.2241449,17.8888493 29.2543738,17.9122239 C29.2685193,17.9140864 29.2884781,17.9168802 29.4022239,17.9297316 C29.4127847,17.9296384 29.4524116,17.9265653 29.55705,17.9102683 C29.602684,17.9008626 29.6467677,17.8858693 29.696471,17.8701311 C29.8949932,17.7775641 30.0084484,17.6922609 30.150776,17.5657961 C30.2156905,14.0228265 30.1859461,10.478367 30.3077336,6.93642183 C30.3564679,5.518489 30.3885376,4.07187344 30.6469363,2.67135513 C30.7178579,2.28711824 30.8177488,1.85603909 31.1064733,1.56362421 C31.481815,1.1836711 32.1429746,1.16374219 32.6343875,1.3123709 C33.8964427,1.69390714 34.4810613,3.11044309 34.7658133,4.23214287 C35.1862078,5.88810514 35.2082981,7.66000898 34.9929174,9.34549208 C34.7977862,10.8719164 34.4549017,12.3809262 33.9716274,13.8470051 C33.80159,14.3625493 33.616535,14.8839604 33.405805,15.3968971 C33.4545393,15.4015534 33.5149002,15.4064891 33.6026801,15.4134735 C34.528633,15.4877879 35.1340823,15.4371274 35.9693486,15.1409875 C36.10751,15.0920034 36.2533255,15.0243941 36.4010788,14.9437472 C36.4137711,14.4509256 36.4266571,13.9581972 36.437896,13.4652826 C36.5178281,9.91905364 36.5106585,6.35066079 36.8107187,2.81327878 C36.8723391,2.08717723 36.8283522,0.919752701 37.4004723,0.344794257 C38.040898,-0.298704748 39.0688733,0.0582462923 39.6244256,0.602845739 C40.4143486,1.37727956 40.7942441,2.52579956 41.0103998,3.56266178 C41.372468,5.29945721 41.3527999,7.09725001 41.1509835,8.85136684 C40.9703853,10.4203496 40.6276946,12.0943783 39.8758484,13.5345682 C39.992404,13.5222756 40.1079906,13.5052335 40.2219302,13.4815796 C40.5341014,13.4168572 40.8265076,13.3223346 41.0228983,13.2196168 C41.2722865,13.0892408 41.4687741,12.9684567 41.5771911,12.8771003 C41.748488,12.732476 41.9057363,12.5779804 42.0529082,12.411099 C42.0624032,12.3984339 42.124508,12.3220708 42.1724673,12.253344 C42.2193608,12.1861072 42.2641228,12.1173803 42.3064625,12.0474429 Z M27.7098627,10.1090768 C27.1859926,10.1090768 26.7613351,9.70090655 26.7613351,9.1973756 C26.7613351,8.69384461 27.1859926,8.28567441 27.7098627,8.28567441 C28.233636,8.28567441 28.6583903,8.69384461 28.6583903,9.1973756 C28.6583903,9.70090655 28.233636,10.1090768 27.7098627,10.1090768 Z M39.1048185,10.9259294 C39.5057386,9.41179763 39.6548483,7.82400345 39.6349864,6.26424009 C39.6194844,5.05239457 39.4604922,3.63939741 38.998533,2.59713389 C38.9119157,2.40147667 38.8083431,2.21028949 38.6913031,2.02990489 C38.6534201,1.97132879 38.613115,1.91368394 38.5711627,1.85734285 C38.569225,1.87010108 38.5670935,1.88295244 38.5651557,1.89571067 C38.5730036,1.8481234 38.5482004,2.01882292 38.5430654,2.06128827 C38.529598,2.17248043 38.5174871,2.28376571 38.5061513,2.39523725 C38.3797132,3.63958366 38.3327229,4.89231139 38.2865076,6.14140721 C38.1971774,8.55476129 38.1241243,10.9699778 38.0602755,13.3856601 C38.0630852,13.3862188 38.0657981,13.3868707 38.0686078,13.3875226 C38.560602,12.6354389 38.8778114,11.7835245 39.1048185,10.9259294 Z M39.6429311,22.1054906 C39.5815045,20.5992746 39.2823162,19.0961317 38.7803426,17.6685138 C38.5739725,17.0810765 38.326619,16.4704509 37.9967174,15.9130932 C37.9378098,18.3815777 37.8864595,20.8500623 37.8374345,23.3171499 C37.7962573,25.3914331 37.729405,27.4814545 37.8609781,29.5540615 C37.8626252,29.5787398 37.864563,29.6034181 37.86621,29.6281896 C37.8801618,29.6121719 37.8947918,29.5966199 37.9084529,29.5804161 C37.9259896,29.5567621 37.9860598,29.4799334 38.0040808,29.4542307 C39.4384987,27.4092821 39.7417563,24.5301129 39.6429311,22.1054906 Z M31.5447918,30.733313 C33.0938275,28.6020368 33.5170317,25.8128272 33.4838962,23.2751502 C33.4669409,21.9657089 33.3636589,20.6470481 33.0655364,19.3669414 C32.9347384,18.8052068 32.7778777,18.2308071 32.5186071,17.7097685 C32.4703571,17.6128246 32.4179411,17.5159738 32.3626184,17.4216374 C32.2875306,17.5363683 32.210602,17.6498886 32.1302824,17.7608014 C32.0228343,17.9089645 31.9074414,18.0576863 31.7842006,18.2024038 C31.764048,19.2661793 31.7395355,20.3298618 31.7064,21.3938236 C31.6206547,24.1360047 31.4916975,26.8819109 31.5165007,29.6258614 C31.5198918,29.9950119 31.5270614,30.3644418 31.5447918,30.733313 Z M32.0035537,5.95347943 C31.9238153,7.6900886 31.8972682,9.42893277 31.8767281,11.167032 C31.8621949,12.4039283 31.8496965,13.6404522 31.8346789,14.8767897 C32.8797064,12.3963851 33.5250733,9.6380001 33.4557989,6.95551261 C33.4234385,5.70557865 33.285277,4.29788966 32.5768364,3.22033148 C32.4632844,3.0475832 32.5368219,3.14936965 32.4001138,3.00809788 C32.3669783,2.97373447 32.3295798,2.94076795 32.2905341,2.90854644 C32.2879182,2.9069633 32.2845271,2.90482141 32.2811361,2.90258639 C32.1879304,3.29101394 32.1791136,3.49533185 32.1359018,3.94624679 C32.0719562,4.61386536 32.034267,5.28371896 32.0035537,5.95347943 Z M19.7650289,14.2094314 C19.9629195,14.2197989 20.0902735,14.0573955 20.0902735,13.9030997 C20.0902735,13.7488039 19.9918013,13.5371798 19.7650289,13.5371798 C19.5382566,13.5371798 19.4244328,13.7214425 19.4244328,13.8757383 C19.4244328,14.0300341 19.5671384,14.1990639 19.7650289,14.2094314 Z",id:"Combined-Shape"}))));break;default:console.log("".concat(g," not found"))}return r.a.createElement(mn,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:l,viewBox:j,fill:u,stroke:p,strokeWidth:b,"stroke-linecap":E,strokeLinejoin:O,className:"icon-".concat(g," ").concat(i)},v),A)}))),bn=r.a.memo(r.a.forwardRef((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.width,o=void 0===i?"100%":i,c=e.height,s=void 0===c?"100%":c,l=e.fill,d=void 0===l?"none":l,u=e.stroke,m=void 0===u?"":u,p=e.strokeWidth,f=void 0===p?"":p,b=e.strokeLinecap,h=void 0===b?"":b,E=e.strokeLinejoin,_=void 0===E?"":E,O=e.icon,g=Object(I.a)(e,un),v=O,A="",j="0 0 ".concat(o," ").concat(s);switch("undefined"===typeof v&&(v=Math.floor(4*Math.random())+1),v){case 1:j="0 0 483 421",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-358 -223)"},r.a.createElement("g",{transform:"translate(358 414)",opacity:"0.346"},r.a.createElement("path",{d:"M.121-123.043C4.174-68.048,221.6,38.1,261.962-13.992s1.559-149.85-83.029-174.883S-3.931-178.038.121-123.043Z",transform:"translate(278) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M244.079,158.351c3.4-46.641,185.885-136.662,219.762-92.485s25.3,137.1-45.692,158.329S240.678,204.992,244.079,158.351Z",fill:"#dde3e9",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(387 223)"},r.a.createElement("g",{transform:"translate(15)"},r.a.createElement("rect",{width:"324",height:"283",rx:"8",fill:"#f2f2f2"}),r.a.createElement("path",{d:"M8,0H316a8,8,0,0,1,8,8V22H0V8A8,8,0,0,1,8,0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(9 10)"},r.a.createElement("circle",{cx:"4",cy:"4",r:"4",fill:"#f2f2f2"}),r.a.createElement("circle",{cx:"4",cy:"4",r:"4",transform:"translate(12)",fill:"#f2f2f2"}),r.a.createElement("circle",{cx:"4",cy:"4",r:"4",transform:"translate(24)",fill:"#f2f2f2"})),r.a.createElement("g",{transform:"translate(16 43)"},r.a.createElement("g",{transform:"translate(222 89)"},r.a.createElement("rect",{width:"70",height:"135",rx:"8",fill:"#fff"}),r.a.createElement("g",{transform:"translate(18 18)"},r.a.createElement("rect",{width:"34",height:"17.284",rx:"4",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 22.602)",fill:"#cca8d2"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 44.54)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 88.415)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"16.619",rx:"4",transform:"translate(0 66.477)",fill:"#c5cfd6"}))),r.a.createElement("g",{transform:"translate(222)"},r.a.createElement("rect",{width:"70",height:"64.113",rx:"8",fill:"#fff"}),r.a.createElement("g",{transform:"translate(10 11.873)"},r.a.createElement("circle",{cx:"16",cy:"16",r:"16",transform:"translate(9)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"50",height:"6",rx:"3",transform:"translate(0 36)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"34",height:"6",rx:"3",transform:"translate(8 46)",fill:"#dde3e9"}))),r.a.createElement("rect",{width:"214",height:"37.201",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 11.16)"},r.a.createElement("rect",{width:"156",height:"5.58",rx:"2.79",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"5.58",rx:"2.79",transform:"translate(0 9.3)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 11.601)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"})),r.a.createElement("g",{transform:"translate(0 43.534)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(0 80.735)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#afb9c5"}))),r.a.createElement("g",{transform:"translate(0 192.339)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(0 155.138)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(0 117.936)"},r.a.createElement("rect",{width:"214",height:"30.869",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 9.261)"},r.a.createElement("rect",{width:"156",height:"4.63",rx:"2.315",fill:"#dde3e9"}),r.a.createElement("rect",{width:"104.712",height:"4.63",rx:"2.315",transform:"translate(0 7.717)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(184.13 8.435)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))))),r.a.createElement("g",{transform:"translate(425 92) rotate(180)"},r.a.createElement("g",{transform:"translate(425 -0.798) rotate(-180)"},r.a.createElement("g",{transform:"translate(38.024 13.84) rotate(-8)"},r.a.createElement("g",{transform:"translate(38.515 22.058)"},r.a.createElement("path",{d:"M27.205,6.5c4.133,7.685,3.642,27.18-1.7,28.554-2.13.548-6.668-.794-11.287-3.571l2.9,20.461H0l5.893-27.4C2.606,20.692.382,15.976.754,10.691,1.825-4.536,23.072-1.186,27.205,6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M58.959,20.186A22.392,22.392,0,0,0,51.8,19.4a12.264,12.264,0,0,0,.872-6.213,18.9,18.9,0,0,0-2.02-5.617,7.682,7.682,0,0,0-1.494-2.323,5.107,5.107,0,0,0-2.418-1.3,6.484,6.484,0,0,0-2.785,0c-.4.085-.768.27-1.165.372s-.6-.149-.9-.4a5.1,5.1,0,0,0-2.654-1.027,6.859,6.859,0,0,0-3.02.361A5.913,5.913,0,0,0,33.7,4.858a4.207,4.207,0,0,0-.754,1.152c-.073.175-.085.279-.26.343s-.351.061-.518.118a6.517,6.517,0,0,0-3.75,3.391,10.728,10.728,0,0,0-.59,4.417c.057,1.841,1.724,6.646,3.282,8.4a10.478,10.478,0,0,0,5.41,3.048,15.43,15.43,0,0,0-2.827,5.259A25.684,25.684,0,0,0,32.4,37.374a20.8,20.8,0,0,0,.321,6.3,6.826,6.826,0,0,0,3.059,4.444,14.628,14.628,0,0,0,2.355,1.1A15.528,15.528,0,0,0,40.558,50a4.877,4.877,0,0,0,4.608-.983,8.634,8.634,0,0,0,1.239-1.57c.115-.2.184-.328.045-.522a3.738,3.738,0,0,0-.652-.592,6.127,6.127,0,0,1-2.173-4.06c-.194-1.667.255-3.818,1.879-4.545,2-.9,4.213.133,6,1.093a9.781,9.781,0,0,1,4.751-6.291c2.7-1.353,5.792-1.512,8.564-2.673a5.111,5.111,0,0,0,1.99-1.263,2.566,2.566,0,0,0,.572-.933,1.508,1.508,0,0,0-.4-1.172C65.793,24.636,61.3,20.9,58.959,20.186Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 137.187)"},r.a.createElement("path",{d:"M92.3,0l52.758,87.842,39.553,74.263h8.519L126.858,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(177.5 140.715)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M173.626,150.214l16.429-4.95q-10.8-32.147-26.467-70.753T129.93,0h-46.4a725.656,725.656,0,0,0,42.4,82.538A558.652,558.652,0,0,0,173.626,150.214Z",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M88.833,0C83.853,30.868,74.25,70.306,73.343,71.524Q72.437,72.741,8.087,93.3l1.84,7.482Q86.665,89.756,90.8,83.673C94.926,77.59,115.551,29.531,123.54,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("path",{d:"M23.167,86.834l3.241,12.05q57.4,5.013,70.335-7.245T126.237,0H81.989Q71.5,65,70.262,67.731T23.167,86.834Z",fill:"#7a1b8b",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(27.562 85.114) rotate(80)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(3.93 77.259) rotate(-8)"},r.a.createElement("path",{d:"M48.322,52.553l15.568.058q-25.606,57.212-26.7,59.911c-1.645,4.048,1.836,10.213,3.325,13.526-4.849,2.154-4.332-5.824-10.448-3-5.583,2.579-9.83,7.252-16.28,3.3-.793-.486-1.662-2.315.438-3.745,5.231-3.561,12.769-9.794,13.787-11.846q2.083-4.2,20.313-58.206ZM180.36,39.046c-3.145,2.6-6.336,5.483-5.776,6.873s3.485.872,3.97,3.009q.485,2.137-14.241.694l-22.776,8.966L136.5,46.1l28.07-3.8a61.441,61.441,0,0,1,15.5-6.3C181.394,35.964,183.505,36.443,180.36,39.046Z",fill:"#997659",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.805,6.848l12.213-.259c5.341,26.6,23.114,42.144,59.082,33.209l7.872,34.169c-33.7,7.356-64.784-3.578-74.12-39.729C90.434,24.88,88.317,15.106,87.805,6.848Z",transform:"translate(4.09 -10.945) rotate(5)",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M84.941,0l.009.011,18.468,4.2c0,31.184,9.892,51.207,15.131,74.068l.177.78H68.85c-.7,8.012-1.134,16.248-1.359,24.706H30.145Q42.839,36.7,83.731,0h1.21Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M76.719,34.066q-1.928,29.479,2.268,44.993H68.85a241.428,241.428,0,0,1,7.785-44.7Z",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(73.688 -0.631) rotate(-7)"},r.a.createElement("g",{transform:"translate(38.515 -22.058)"},r.a.createElement("path",{d:"M27.205-6.5c4.133-7.685,3.642-27.18-1.7-28.554-2.13-.548-6.668.794-11.287,3.571l2.9-20.461H0l5.893,27.4C2.606-20.693.382-15.976.754-10.691,1.825,4.536,23.072,1.186,27.205-6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M55.963-19.7c-2.256.369-8.331.623-9.451.623-.716,0-1.492-.163-1.916.493-.347.537-.22,1.445-.324,2.068-.12.724-.291,1.439-.464,2.151a21.843,21.843,0,0,1-2.277,5.77A17.762,17.762,0,0,1,33.106-.984,27.117,27.117,0,0,1,20.313.771C15.722.4,11.566-1.112,7.231-2.535A27.48,27.48,0,0,0-5.548-3.762C-9.9-3.1-13.19-.741-16.862,1.493a21.115,21.115,0,0,1-12.5,3.439A24.1,24.1,0,0,1-40.761.619,18.57,18.57,0,0,1-48.113-7.7c-1.608-3.89-1.607-8.16,1.038-11.6,3.833-4.983,10.95-6.272,16.871-6.144a32.3,32.3,0,0,1,10.021,1.832c4.312,1.513,8.038,4.078,12.072,6.158a31.458,31.458,0,0,0,5.9,2.356c1.99.561,3.951.818,5.753-.382a27.184,27.184,0,0,1,5.8-3.31,18.731,18.731,0,0,1,6.537-1.171c4.337.033,8.612,1.382,12.824,2.284,3.435.736,7.11,1.47,10.612.762,1.461-.3,3.6-.905,4.123-2.42C34.552-20.939,31.063-31.9,33.568-39.944c1.352-4.342,9.476-9.419,12.635-7.136,2,1.446.786,3.345,0,4.6-1.506,2.4-2.021,5.484.765,7.155,2.4,1.441,4.93-1.981,4.978-1.978.661.052,6.368,3.272,10.3,7.972,3.88-.229,4.468,2.323,3.542,4.41S59.081-20.21,55.963-19.7Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 -137.985)"},r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M80.832-108.06l3.256-12.089c37.082-4.334,61.513.9,70.1,9.074q8.587,8.178,15.258,88.532L145.309,11.928c-32.188-24.291-12.822-104.05-13.642-105.872S111.3-97.172,80.832-108.06Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 8.398, -125.914)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(143.09 -111.732) rotate(-20)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M92.3,0,55.56-87.842,19.451-162.106H27.97L121.178,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(17.04 -140.715)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M22.712-146.678l18.93-3.536C56.279-128.783,117.534-40.908,124.25,0H82.107C59.679-29.572,36.664-124.893,22.712-146.678Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(24.357 -53.066) rotate(-7)"},r.a.createElement("path",{d:"M36.619-57.883l14.568-2.87q-21.976-40.664-23.571-43.1c-2.392-3.66-.16-10.367.664-13.9-5.172-1.2-3.132,6.534-9.677,4.92-5.974-1.473-11.039-5.253-16.61-.155-.685.627-1.186,2.586,1.149,3.591,5.817,2.5,14.412,7.191,15.806,9.011Q21.8-96.667,36.619-57.883Zm144.093,21.7c-2.291-3.322-4.55-6.918-3.634-8.082s3.567.121,4.614-1.772q1.047-1.893-13.408-4.529L148.992-65.252l-8.226,10.463,25.761,11.233A60.987,60.987,0,0,0,179.6-33.376C180.856-32.978,183-32.858,180.713-36.18Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.667-6.995,93.7-5.416c14.463-11.68,22.607-42.07,31.854-45.378,8.743-3.127,20.33,1.653,34.05,7.939l5.179-9.242c-11.658-14.948-38.049-29.024-49.744-23.329C96.341-66.322,88.909-28.612,87.667-6.995Z",transform:"translate(4.06 10.845) rotate(-5)",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M63.985-80.471h54.4c2.486,0,2.017,3.564,1.658,5.362C115.891-54.356,99.7-31.985,99.7-2.443L84.013,0C71.035-20.724,66.547-46.239,63.985-80.471Z",fill:"#dde3e9",fillRule:"evenodd"}),r.a.createElement("path",{d:"M85.833,0h3.38q21.128-71.51,11.649-95.294H51.9a176.356,176.356,0,0,0,6.662,35.84Q41.927-89.248,30.6-102.353l-11.4,2.217Q30.212-32.3,83,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(124.465 120.816) rotate(-14)"},r.a.createElement("path",{d:"M50.828,54.607l-.007.016s.007-.025.007-.016",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.823,54.614a.043.043,0,0,0,0,.005c0-.005.009-.02,0-.005",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.858,54.53c-.007.02-.016.039-.024.059l.012-.028c-.1.26-.038.091.012-.031",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.836,54.59l-.012.028c-.029.056.012-.028.012-.028",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.825,54.614Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.824,54.615v0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.819,54.622c-.006.012.028-.046,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M50.824,54.615l0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"100",height:"66",rx:"4",transform:"translate(0.575 0.818)",fill:"#571563"}),r.a.createElement("g",{transform:"translate(9.058 20.093)"},r.a.createElement("path",{d:"M29.312,0,.471,47H58.152Z",fill:"rgba(0,0,0,0.2)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M59.047,12.589,33.551,47H84.544Z",fill:"rgba(0,0,0,0.2)",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9.5",cy:"9.5",r:"9.5",transform:"translate(69.517 14.142)",fill:"#fff"})))));break;case 2:j="0 0 483 434.869",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-358 -209.131)"},r.a.createElement("g",{transform:"translate(512 209)",opacity:"0.5"},r.a.createElement("path",{d:"M1.908,2.672C.335,4.243.946,9.824.913,11.89c-.051,3.216.149,6.4.418,9.606.18,2.145,1.2,22.618,4.021,21.045,1.593-.886.594-6.808.591-8.681-.006-4.164-.18-8.319-.457-12.474A109.174,109.174,0,0,1,5.215,9.851c.036-.943.919-11.412-3.307-7.179",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M70.409.149C56.9.256,43.388.923,29.881,1.331c-6.5.2-12.995.446-19.487.807-2.212.123-6.957-.585-8.8.593C-2.5,5.348,4.1,5.96,5.859,5.9,32.59,4.927,59.329,3.65,86.082,3.59c13.124-.029,26.241.344,39.365.261,5.017-.032,10.573-2.193,11.84,3.646,1.43,6.59-.213,13.927-.66,20.548a116.174,116.174,0,0,0,.007,13.166c.128,2.829-.2,6.018.3,8.794.481,2.674,2.4,4.277,4.166,1.282,1.053-1.79.529-6.209.6-8.282.094-2.792.006-5.584.006-8.377,0-6.817.962-13.607.834-20.422-.082-4.395-.315-12.362-5.858-13.418-6.1-1.163-13.607.006-19.853-.065C101.344.546,85.892.028,70.409.149",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M33.174,42.786q-7.643,0-15.287.115c-4.37.072-11.24-.839-15.308.725C-.2,44.7-.944,47.8,2.58,48.633c3.843.9,9.636-.573,13.657-.644,20.164-.356,40.522-.82,60.658.455,18.868,1.195,38.1,2.353,56.994,1.092,1.59-.106,9.7-.429,6-3.468-2.158-1.774-10.907-.607-13.712-.692-9.894-.3-19.8-.365-29.69-.74C86.722,44.265,77,43.168,67.238,42.9c-11.345-.316-22.716-.11-34.065-.11",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M28.075,13.8c7.942.347,15.8,11.865,7.764,17.431-7.539,5.223-21.667-.5-17.475-10.629-.6,1.464.762-1.591.779-1.611a21.789,21.789,0,0,1,3.211-2.719,12.686,12.686,0,0,1,3.651-2.2c.89-.279.75.77,2.07-.267M24.207,9.65C20.49,11.1,18.794,12.738,16.239,15.7c-1.768,2.05-4.021,3.129-4,5.9,0,.613.792,1.287.928,1.878.188.816-.03,1.862.119,2.729C14.824,35.156,25.5,38.174,33.317,36.484c6.808-1.472,11.9-8.007,10.323-15.114C42.052,14.216,31.444,6.819,24.207,9.65",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M20.9,22.143c0,3.219,5.085,3.219,5.085,0,0-3.183-5.085-3.319-5.085,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M27.258,21.491c0,2.558,4.041,2.558,4.041,0,0-2.529-4.041-2.637-4.041,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M28.51,26.767c-1.294.5-2.935-.534-4,.146-1.881,1.2,0,2.294,1.013,2.778,4.54,2.179,5.348-3.829,2.984-2.924",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M97.85,19.632h0m-19.772-2.89c-3.4.767-6.267,3.941-9.959,3.516-2.829-.325-4.745-3.056-7.538-3.452-3.573-.508-13.3,7.643-8.185,9.041,2.983.816,4.638-4.635,7.273-4.925,2.085-.229,4.92,2.327,7.08,2.691,4.03.679,6.8-1.541,10.335-2.972,3.844-1.556,6.032-.155,9.375,1.574,2.639,1.365,5.124,2.253,8.144,1.69,2.834-.528,6.394-3.442,9.247-3.143,2.794.293,4.788,3.209,7.662,3.479,1.185.111,2.949.515,2.749-1.313-.159-1.464-1.793-1.216-2.814-1.748-2.628-1.368-5.086-3.792-8.257-3.585-2.386.156-4.557,1.832-6.756,2.634-7.2,2.626-11.248-5.081-18.356-3.487",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M84.092,63.111c-13.889.127-27.824.334-41.674,1.447-3.283.264-36.81,3.429-36.747,3.657.118.422,4.43,1.066,4.4,1.166q-.436-1.081-1.993-.895c31.8,0,63.494-2.847,95.334-2.335,8,.128,16.03.075,24.025.327,2,.063,6.941,1.494,8.509.592,4.114-2.365-3.36-2.638-4.6-2.738-15.669-1.253-31.546-1.379-47.259-1.222",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M1.556,69.859c-2.076,2.082-.164,9.571-.083,12.385.118,4.069.021,8.168.378,12.226a82.7,82.7,0,0,0,2.256,14.074c.67,2.478,3.022,6.416,3.953,1.914.665-3.216-.345-7.482-.7-10.759a126.813,126.813,0,0,1-.6-13.112c-.016-3.838-.09-7.691-.4-11.517-.163-1.986-1.163-8.832-4.8-5.212",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M53.794,108c-9.856.169-19.733.4-29.572,1.017-4.033.253-8.062.629-12.08,1.055-.82.087-9.895.455-5.84,3.8,1.83,1.512,9.359-.578,11.846-.8,4.182-.367,8.364-.6,12.558-.782,9.718-.413,19.467-.777,29.195-.608,17.766.308,35.419.446,53.19.05,2.525-.056,22.306.472,22.978-2.155.541-2.117-6.533-1.146-7.822-1.107-4.732.141-9.464.108-14.2.084-20.051-.1-40.219-.9-60.255-.561",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M132.719,66.347c.313,8.775,1.807,17.54,2.285,26.342.218,4.024.475,8.043.672,12.068.064,1.3-.46,4.427,1.076,5.174,2.106,1.024,2.39-1.04,2.784-2.436,1.139-4.033.369-9.271.265-13.414-.1-4.011-.107-8.03-.4-12.034-.3-4.091-1.127-8.1-1.509-12.18-.162-1.724.4-4.593-1.427-5.663a2.509,2.509,0,0,0-3.744,2.142",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M35.845,80.944l.112.087-.112-.087m-8.376-2.6c3.123.892,5.688.56,8.672,2.833,2.473,1.885,5.01,4.643,5.831,7.692,1.9,7.043-4.53,10.9-10.554,10.978-6.17.077-15.3-1.354-14.986-9.262.242-6.076,4.679-12,11.037-12.241m.22-3.98c-8.1.4-14.632,9.5-14.562,17.154.085,9.279,10.6,11.669,18.067,11.734,8.429.072,16.835-5.748,14.576-15.227-1.81-7.595-10.292-14.066-18.081-13.661",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M19.542,86.822c0,2.587,4.088,2.587,4.088,0,0-2.558-4.088-2.668-4.088,0",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M28.117,85.687c0,2.608,4.121,2.608,4.121,0,0-2.578-4.121-2.689-4.121,0",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M23.39,91.589c-2.661,2.657,6.687,7.314,8.891,3.618,1.811-3.035-2.132-2.029-3.529-2.193-1.519-.179-4.122-2.661-5.362-1.425",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M98.124,85.74h0m-35.1-4.325c-2.694.505-11.536,3.488-11.655,6.685-.218,5.81,8.441-.141,10.322-.905,5.108-2.076,7.792,2.159,12.923,2.382,4.457.194,8.554-3.62,12.753-3.169,4.4.472,6.514,5.152,11.592,2.667,2.686-1.314,2.619-3.34-.4-3.531-1.823-.115-3.075.638-4.975-.146-2.972-1.226-4.169-3.222-7.725-2.9-2.684.239-5.109,1.752-7.729,2.337-6,1.34-9.325-4.5-15.108-3.415",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M118.818,88.263h0m.68-2.419c.03.013.233.295,0,0M116.409,84h0m.067-.023c.6.358,5.414,3.651,1.917,4.426-1.775.394-3.244-3.179-1.917-4.426m-1.594-3.648c-7.713,3.517.587,16.1,6.64,10.989,2.547-2.152,2.882-6.5.4-8.742-1.485-1.343-5.029-3.167-7.045-2.246",fill:"#69a1ac",fillRule:"evenodd"}),r.a.createElement("path",{d:"M42.477,129.921c-9.625,0-19.334-.2-28.945.371-1.618.1-7.78-.212-8.613,1.479-1.525,3.093,4.816,1.557,5.737,1.465,19.138-1.916,39.129-.814,58.33-.267,15.7.446,31.323.724,47.008,1.533q6.184.319,12.362.7c1.343.081,4.722.971,5.005-1.174.262-1.985-3.954-1.537-5.007-1.592q-12.562-.661-25.116-1.374c-20.152-1.136-40.576-1.141-60.761-1.137",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M4.609,133.36c-1.8,1.787-.955,8.611-1.005,10.866-.088,3.945-.274,7.886-.357,11.83-.087,4.122.034,8.263.278,12.378.1,1.728,1.521,10.08,3.754,5.3,1-2.136-.024-8.085-.009-10.505.027-4.4.265-8.791.484-13.189.188-3.781.2-7.566.361-11.348.052-1.206.195-9.044-3.5-5.333",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M134.98,168.6c-9.367.96-18.883.506-28.286,1.215-8.1.611-16.2.861-24.323,1.033-18.4.388-36.824.767-55.167,2.3-4.18.349-8.356.72-12.547.907-2.1.094-10.893-.86-11.548,1.349-1.116,3.764,8.291,2.274,10.32,2.215,4.462-.129,8.9-.451,13.352-.79,18.7-1.425,37.478-1.851,56.221-2.443,10.194-.322,20.317-1.068,30.488-1.746,5.07-.338,10.153-.349,15.222-.677,1.326-.086,6.021.083,6.975-.984.656-.733.821-2.522-.708-2.379",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M131.8,134c.321,8.983.829,17.957,1.132,26.94.091,2.7-.725,7.542.78,9.924,2.418,3.83,4.306-.223,4.749-2.61,1.4-7.533-.1-15.855-.5-23.434-.149-2.892.749-9.327-.648-11.915-1.331-2.465-5.636-2.218-5.517,1.1",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M116.079,146.793c3.588.972,4.113,8.774.064,9.351-6.027.859-3.391-7.743-.064-9.351m-1.005-3.1c-1.095-.034-3.621-.336-4.3.555-.565.746.006,2.319-.06,3.029-.237,2.538-2.3,4-1.378,7a7.321,7.321,0,0,0,4.347,4.652c10.785,3.728,10.654-17.111,1.387-15.236",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M17.7,145.091l-.08.1.08-.1m8.471-4.507-.127-1.083c5.848,2.76,10.5,7.9,8.559,14.787-1.482,5.258-6.834,7.123-11.821,5.825-5.52-1.437-8.158-5.988-6.67-11.575.687-2.578,2.8-6.042,5.521-6.871,1.269-.386,4.075.6,4.537-1.083M22.753,138.4a8.344,8.344,0,0,0-4.126,1.559,6.738,6.738,0,0,1,4.126-1.559m.042-3.4c-3.654.112-6.048,2.324-8.216,4.98-.68.834-2.98,3.045-2.7,4.168.225.888.814,2.187,2.055,1.2-6.5,12.95,10.288,24,20.535,14.99,9.563-8.4.075-25.729-11.68-25.335",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M19.476,147.035a1.339,1.339,0,0,0,2.677,0,1.339,1.339,0,0,0-2.677,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M24.044,147.329a1.361,1.361,0,0,0,2.72,0,1.361,1.361,0,0,0-2.72,0",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M26.117,153.484c-1.273.1-5.931-.329-6.748.786-1.366,1.863.814,1.927,1.885,2.129.965.181,5.159.079,5.75-.778.522-.757.4-2.246-.887-2.136",fill:"#ddc8e1",fillRule:"evenodd"}),r.a.createElement("path",{d:"M82.241,148.653h0m-17.6-1.287c-2.867.211-5.3,1.86-8.038,2.518-2.926.7-4.193-.59-6.854-1.436a6.47,6.47,0,0,0-6.962,1.358c-1.261,1.071-4.026,3.537-3.238,5.44,1.8,4.355,5.888-2.731,7.809-3.06,3-.514,5.662,2.106,9.118,1.356,3.131-.679,5.909-2.829,9.18-2.852,2.735-.019,5.312,1.477,8.012,1.839,4.121.553,6.828-.91,10.638-2,3.3-.942,5.621.3,8.728,1.345,1.42.477,6.159,2.213,5.287-.934-.247-.889-6.492-2.479-7.46-2.785-3.414-1.079-5.577-.658-8.829.582a13.379,13.379,0,0,1-7.9.969c-3.2-.627-6.118-2.6-9.488-2.344",fill:"#ddc8e1",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(358 414)",opacity:"0.346"},r.a.createElement("path",{d:"M.121-123.043C4.174-68.048,221.6,38.1,261.962-13.992s1.559-149.85-83.029-174.883S-3.931-178.038.121-123.043Z",transform:"translate(278) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M244.079,158.351c3.4-46.641,185.885-136.662,219.762-92.485s25.3,137.1-45.692,158.329S240.678,204.992,244.079,158.351Z",fill:"#dde3e9",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(381 314)"},r.a.createElement("g",{transform:"translate(425) rotate(180)"},r.a.createElement("g",{transform:"translate(425 -0.798) rotate(-180)"},r.a.createElement("g",{transform:"translate(38.024 13.84) rotate(-8)"},r.a.createElement("g",{transform:"translate(38.515 22.058)"},r.a.createElement("path",{d:"M27.205,6.5c4.133,7.685,3.642,27.18-1.7,28.554-2.13.548-6.668-.794-11.287-3.571l2.9,20.461H0l5.893-27.4C2.606,20.692.382,15.976.754,10.691,1.825-4.536,23.072-1.186,27.205,6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M58.959,20.186A22.392,22.392,0,0,0,51.8,19.4a12.264,12.264,0,0,0,.872-6.213,18.9,18.9,0,0,0-2.02-5.617,7.682,7.682,0,0,0-1.494-2.323,5.107,5.107,0,0,0-2.418-1.3,6.484,6.484,0,0,0-2.785,0c-.4.085-.768.27-1.165.372s-.6-.149-.9-.4a5.1,5.1,0,0,0-2.654-1.027,6.859,6.859,0,0,0-3.02.361A5.913,5.913,0,0,0,33.7,4.858a4.207,4.207,0,0,0-.754,1.152c-.073.175-.085.279-.26.343s-.351.061-.518.118a6.517,6.517,0,0,0-3.75,3.391,10.728,10.728,0,0,0-.59,4.417c.057,1.841,1.724,6.646,3.282,8.4a10.478,10.478,0,0,0,5.41,3.048,15.43,15.43,0,0,0-2.827,5.259A25.684,25.684,0,0,0,32.4,37.374a20.8,20.8,0,0,0,.321,6.3,6.826,6.826,0,0,0,3.059,4.444,14.628,14.628,0,0,0,2.355,1.1A15.528,15.528,0,0,0,40.558,50a4.877,4.877,0,0,0,4.608-.983,8.634,8.634,0,0,0,1.239-1.57c.115-.2.184-.328.045-.522a3.738,3.738,0,0,0-.652-.592,6.127,6.127,0,0,1-2.173-4.06c-.194-1.667.255-3.818,1.879-4.545,2-.9,4.213.133,6,1.093a9.781,9.781,0,0,1,4.751-6.291c2.7-1.353,5.792-1.512,8.564-2.673a5.111,5.111,0,0,0,1.99-1.263,2.566,2.566,0,0,0,.572-.933,1.508,1.508,0,0,0-.4-1.172C65.793,24.636,61.3,20.9,58.959,20.186Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 137.187)"},r.a.createElement("path",{d:"M92.3,0l52.758,87.842,39.553,74.263h8.519L126.858,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(177.5 140.715)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M173.626,150.214l16.429-4.95q-10.8-32.147-26.467-70.753T129.93,0h-46.4a725.656,725.656,0,0,0,42.4,82.538A558.652,558.652,0,0,0,173.626,150.214Z",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M88.833,0C83.853,30.868,74.25,70.306,73.343,71.524Q72.437,72.741,8.087,93.3l1.84,7.482Q86.665,89.756,90.8,83.673C94.926,77.59,115.551,29.531,123.54,0Z",fill:"#915b3c",fillRule:"evenodd"}),r.a.createElement("path",{d:"M23.167,86.834l3.241,12.05q57.4,5.013,70.335-7.245T126.237,0H81.989Q71.5,65,70.262,67.731T23.167,86.834Z",fill:"#7a1b8b",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(27.562 85.114) rotate(80)"},r.a.createElement("path",{d:"M1.66,18.4A13.363,13.363,0,0,0,.7,22.474,34.889,34.889,0,0,0,1.34,28H41.1q1.55-5.088-1.789-5.493t-5.548-.733l-18.206-8.06a1,1,0,0,0-1.319.51l-.009.021-1.072,2.582h0a12.746,12.746,0,0,1-5.024,1.432,10.389,10.389,0,0,1-3.8-1.023h0A2,2,0,0,0,1.7,18.287Q1.681,18.344,1.66,18.4Z",fill:"#e4e4e4",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(3.93 77.259) rotate(-8)"},r.a.createElement("path",{d:"M48.322,52.553l15.568.058q-25.606,57.212-26.7,59.911c-1.645,4.048,1.836,10.213,3.325,13.526-4.849,2.154-4.332-5.824-10.448-3-5.583,2.579-9.83,7.252-16.28,3.3-.793-.486-1.662-2.315.438-3.745,5.231-3.561,12.769-9.794,13.787-11.846q2.083-4.2,20.313-58.206ZM180.36,39.046c-3.145,2.6-6.336,5.483-5.776,6.873s3.485.872,3.97,3.009q.485,2.137-14.241.694l-22.776,8.966L136.5,46.1l28.07-3.8a61.441,61.441,0,0,1,15.5-6.3C181.394,35.964,183.505,36.443,180.36,39.046Z",fill:"#997659",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.805,6.848l12.213-.259c5.341,26.6,23.114,42.144,59.082,33.209l7.872,34.169c-33.7,7.356-64.784-3.578-74.12-39.729C90.434,24.88,88.317,15.106,87.805,6.848Z",transform:"translate(4.09 -10.945) rotate(5)",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M84.941,0l.009.011,18.468,4.2c0,31.184,9.892,51.207,15.131,74.068l.177.78H68.85c-.7,8.012-1.134,16.248-1.359,24.706H30.145Q42.839,36.7,83.731,0h1.21Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M76.719,34.066q-1.928,29.479,2.268,44.993H68.85a241.428,241.428,0,0,1,7.785-44.7Z",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}))),r.a.createElement("g",{transform:"translate(73.688 -0.631) rotate(-7)"},r.a.createElement("g",{transform:"translate(38.515 -22.058)"},r.a.createElement("path",{d:"M27.205-6.5c4.133-7.685,3.642-27.18-1.7-28.554-2.13-.548-6.668.794-11.287,3.571l2.9-20.461H0l5.893,27.4C2.606-20.693.382-15.976.754-10.691,1.825,4.536,23.072,1.186,27.205-6.5Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M55.963-19.7c-2.256.369-8.331.623-9.451.623-.716,0-1.492-.163-1.916.493-.347.537-.22,1.445-.324,2.068-.12.724-.291,1.439-.464,2.151a21.843,21.843,0,0,1-2.277,5.77A17.762,17.762,0,0,1,33.106-.984,27.117,27.117,0,0,1,20.313.771C15.722.4,11.566-1.112,7.231-2.535A27.48,27.48,0,0,0-5.548-3.762C-9.9-3.1-13.19-.741-16.862,1.493a21.115,21.115,0,0,1-12.5,3.439A24.1,24.1,0,0,1-40.761.619,18.57,18.57,0,0,1-48.113-7.7c-1.608-3.89-1.607-8.16,1.038-11.6,3.833-4.983,10.95-6.272,16.871-6.144a32.3,32.3,0,0,1,10.021,1.832c4.312,1.513,8.038,4.078,12.072,6.158a31.458,31.458,0,0,0,5.9,2.356c1.99.561,3.951.818,5.753-.382a27.184,27.184,0,0,1,5.8-3.31,18.731,18.731,0,0,1,6.537-1.171c4.337.033,8.612,1.382,12.824,2.284,3.435.736,7.11,1.47,10.612.762,1.461-.3,3.6-.905,4.123-2.42C34.552-20.939,31.063-31.9,33.568-39.944c1.352-4.342,9.476-9.419,12.635-7.136,2,1.446.786,3.345,0,4.6-1.506,2.4-2.021,5.484.765,7.155,2.4,1.441,4.93-1.981,4.978-1.978.661.052,6.368,3.272,10.3,7.972,3.88-.229,4.468,2.323,3.542,4.41S59.081-20.21,55.963-19.7Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 -137.985)"},r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M147.082,6.97C133.562-4.06,138.9-101,138-102.223q-.6-.812-64.354-13.723l1.85-7.506q74.6,3.565,78.934,9.1,6.21,7.927,15.218,88.773Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 4.164, -124.48)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M80.832-108.06l3.256-12.089c37.082-4.334,61.513.9,70.1,9.074q8.587,8.178,15.258,88.532L145.309,11.928c-32.188-24.291-12.822-104.05-13.642-105.872S111.3-97.172,80.832-108.06Z",transform:"matrix(0.574, 0.819, -0.819, 0.574, 8.398, -125.914)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(143.09 -111.732) rotate(-20)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M92.3,0,55.56-87.842,19.451-162.106H27.97L121.178,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(17.04 -140.715)"},r.a.createElement("path",{d:"M1.66-18.4A13.363,13.363,0,0,1,.7-22.474,34.889,34.889,0,0,1,1.34-28H41.1q1.55,5.088-1.789,5.493t-5.548.733l-18.206,8.06a1,1,0,0,1-1.319-.51l-.009-.021-1.072-2.582h0a12.746,12.746,0,0,0-5.024-1.432,10.389,10.389,0,0,0-3.8,1.023h0A2,2,0,0,1,1.7-18.287Q1.681-18.344,1.66-18.4Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M22.712-146.678l18.93-3.536C56.279-128.783,117.534-40.908,124.25,0H82.107C59.679-29.572,36.664-124.893,22.712-146.678Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(24.357 -53.066) rotate(-7)"},r.a.createElement("path",{d:"M36.619-57.883l14.568-2.87q-21.976-40.664-23.571-43.1c-2.392-3.66-.16-10.367.664-13.9-5.172-1.2-3.132,6.534-9.677,4.92-5.974-1.473-11.039-5.253-16.61-.155-.685.627-1.186,2.586,1.149,3.591,5.817,2.5,14.412,7.191,15.806,9.011Q21.8-96.667,36.619-57.883Zm144.093,21.7c-2.291-3.322-4.55-6.918-3.634-8.082s3.567.121,4.614-1.772q1.047-1.893-13.408-4.529L148.992-65.252l-8.226,10.463,25.761,11.233A60.987,60.987,0,0,0,179.6-33.376C180.856-32.978,183-32.858,180.713-36.18Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M87.667-6.995,93.7-5.416c14.463-11.68,22.607-42.07,31.854-45.378,8.743-3.127,20.33,1.653,34.05,7.939l5.179-9.242c-11.658-14.948-38.049-29.024-49.744-23.329C96.341-66.322,88.909-28.612,87.667-6.995Z",transform:"translate(4.06 10.845) rotate(-5)",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M63.985-80.471h54.4c2.486,0,2.017,3.564,1.658,5.362C115.891-54.356,99.7-31.985,99.7-2.443L84.013,0C71.035-20.724,66.547-46.239,63.985-80.471Z",fill:"#dde3e9",fillRule:"evenodd"}),r.a.createElement("path",{d:"M85.833,0h3.38q21.128-71.51,11.649-95.294H51.9a176.356,176.356,0,0,0,6.662,35.84Q41.927-89.248,30.6-102.353l-11.4,2.217Q30.212-32.3,83,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))))));break;case 3:j="0 0 412.064 498.67",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-397.936 -271)"},r.a.createElement("g",{transform:"translate(499 271)"},r.a.createElement("g",{transform:"translate(86 90)"},r.a.createElement("rect",{width:"225",height:"47",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 14.1)"},r.a.createElement("rect",{width:"167",height:"7.05",rx:"3",fill:"#dde3e9"}),r.a.createElement("rect",{width:"112.096",height:"7.05",rx:"3",transform:"translate(0 11.75)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(193.954 16.5)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(225 46) rotate(180)"},r.a.createElement("rect",{width:"225",height:"39",rx:"4",transform:"translate(0 -39)",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 -11.7)"},r.a.createElement("rect",{width:"167",height:"5.85",rx:"2.925",transform:"translate(0 -5.85)",fill:"#dde3e9"}),r.a.createElement("rect",{width:"112.096",height:"5.85",rx:"2.925",transform:"translate(0 -15.6)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(193.954 -12.5)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",transform:"translate(0 -14)",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 -10)",fill:"#f2f2f2"}))),r.a.createElement("g",{transform:"translate(86)"},r.a.createElement("rect",{width:"225",height:"39",rx:"4",fill:"#fff"}),r.a.createElement("g",{transform:"translate(9 11.7)"},r.a.createElement("rect",{width:"167",height:"5.85",rx:"2.925",fill:"#dde3e9"}),r.a.createElement("rect",{width:"112.096",height:"5.85",rx:"2.925",transform:"translate(0 9.75)",fill:"#dde3e9"})),r.a.createElement("g",{transform:"translate(193.954 12.5)"},r.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:"#dde3e9"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"3",transform:"translate(4 4)",fill:"#f2f2f2"})))),r.a.createElement("g",{transform:"translate(390 366)"},r.a.createElement("ellipse",{cx:"99.89",cy:"99.802",rx:"99.89",ry:"99.802",transform:"translate(33.626 47.431)",fill:"#cca8d2"}),r.a.createElement("g",{transform:"translate(-15.824 -15.81)"},r.a.createElement("g",{transform:"translate(81.18)"},r.a.createElement("g",{transform:"translate(53.46 30.69)"},r.a.createElement("path",{d:"M37.762,9.043C43.5,19.736,42.817,46.86,35.4,48.771c-2.957.762-9.256-1.105-15.668-4.97L23.76,72.27H0L8.179,34.144C3.617,28.79.53,22.228,1.046,14.875,2.533-6.311,32.025-1.651,37.762,9.043Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M59.814,69.6c-2.982-13.267-11.478-22.311-10.18-28.241a8.994,8.994,0,0,1,6.916-7.375q2.906-11.756,18.745-10C91.134,25.744,100.8,32.321,96.626,46.8c-3.838,0-8.47-1.388-14.877.99Q78.7,48.917,77.388,54.8H74.493q-4.215-6.987-8.311-5.135t-1.862,9L62.894,69.6Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 184.691)"},r.a.createElement("path",{d:"M205.075-9.724c-18.849,15.378-11.4,150.547-12.655,152.246q-.838,1.133-89.722,19.127l2.58,10.466q104-4.963,110.051-12.683,8.657-11.052,21.208-123.775Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 5.817, 173.565)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M205.075-9.724c-18.849,15.378-11.4,150.547-12.655,152.246q-.838,1.133-89.722,19.127l2.58,10.466q104-4.963,110.051-12.683,8.657-11.052,21.208-123.775Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 5.817, 173.565)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M112.72,150.654l4.54,16.857c51.7,6.047,85.763-1.243,97.734-12.645q11.971-11.4,21.265-123.438L202.6-16.638C157.729,17.228,184.739,128.437,183.6,130.978S155.2,135.476,112.72,150.654Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 11.72, 175.566)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"matrix(0.94, 0.342, -0.342, 0.94, 199.519, 155.769)"},r.a.createElement("path",{d:"M2.648,24.528A20.278,20.278,0,0,0,.99,30.99a47.27,47.27,0,0,0,.892,7.62H57.72q2.177-7.016-2.513-7.575t-7.791-1.01L21.45,18.738a.99.99,0,0,0-1.3.513l0,.009L18.477,23.2h0a18.157,18.157,0,0,1-7.055,1.975A16.342,16.342,0,0,1,5.306,23.43h0a1.98,1.98,0,0,0-2.616,1Q2.667,24.477,2.648,24.528Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M128.7,0,77.471,122.466,27.122,226H39L168.967,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(23.76 196.179)"},r.a.createElement("path",{d:"M2.648,24.528A20.278,20.278,0,0,0,.99,30.99a47.27,47.27,0,0,0,.892,7.62H57.72q2.177-7.016-2.513-7.575t-7.791-1.01L21.45,18.738a.99.99,0,0,0-1.3.513l0,.009L18.477,23.2h0a18.157,18.157,0,0,1-7.055,1.975A16.342,16.342,0,0,1,5.306,23.43h0a1.98,1.98,0,0,0-2.616,1Q2.667,24.477,2.648,24.528Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M31.669,204.492l26.4,4.929C78.473,179.543,163.885,57.032,173.25,0H114.488C83.214,41.228,51.123,174.119,31.669,204.492Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(21.78 80.988)"},r.a.createElement("path",{d:"M50.993,81.18,71.28,85.205q-30.6,57.032-32.823,60.454c-3.331,5.133-.223,14.54.925,19.494-7.2,1.676-4.362-9.164-13.476-6.9-8.319,2.066-15.373,7.368-23.13.217-.954-.879-1.652-3.627,1.6-5.036,8.1-3.511,20.069-10.086,22.01-12.638Q30.356,135.575,50.993,81.18ZM251.646,50.743c-3.19,4.659-6.335,9.7-5.061,11.336s4.967-.169,6.425,2.486q1.459,2.655-18.67,6.352l-26.866,20.6L196.02,76.841l35.872-15.754a85,85,0,0,1,18.2-14.278C251.846,46.252,254.836,46.084,251.646,50.743Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M122.047,9.778l8.4-2.209c20.151,16.393,31.519,59.02,44.4,63.667,12.178,4.394,28.31-2.3,47.412-11.1l7.22,12.965c-16.222,20.953-52.962,40.67-69.254,32.674C134.178,92.988,123.8,40.1,122.047,9.778Z",transform:"translate(5.687 -15.1) rotate(5)",fill:"#571563",fillRule:"evenodd"}),r.a.createElement("path",{d:"M89.1,112.86h75.746c3.461,0,2.809-5,2.309-7.52C161.38,76.234,138.839,44.858,138.839,3.426L116.99,0C98.918,29.065,92.669,64.85,89.1,112.86Z",fill:"#dde3e9",fillRule:"evenodd"}),r.a.createElement("path",{d:"M119.524,0h4.707q29.422,100.292,16.222,133.65H72.27c1.079-16.272,4.538-33.481,9.275-50.26q-23.162,41.781-38.938,60.16L26.73,140.44Q42.071,45.3,115.581,0Z",fill:"#7a1b8b",fillRule:"evenodd"}))))));break;case 4:j="0 0 543 350",A=r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{transform:"translate(-328 -277)"},r.a.createElement("g",{transform:"translate(328 280)",opacity:"0.346"},r.a.createElement("path",{d:"M.218-189.873C7.506-105.008,398.558,58.791,471.155-21.592s2.8-231.24-149.333-269.871S-7.07-274.738.218-189.873Z",transform:"translate(500) rotate(180)",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M166.125,255C171.49,195.106,459.341,79.51,512.779,136.238S552.692,312.285,440.7,339.547,160.76,314.887,166.125,255Z",fill:"#dde3e9",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(556 277)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(688 277)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(688 374)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(556 374)"},r.a.createElement("path",{d:"M48.007,51.986c0,.01-.008.02-.014.032.006-.01.014-.05.014-.032",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52a.087.087,0,0,0,0,.01c0-.01.018-.04,0-.01",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.067,51.832c-.014.04-.032.078-.048.118.008-.02.016-.036.024-.056-.208.52-.076.182.024-.062",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48.022,51.953,48,52.009c-.058.112.024-.056.024-.056",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52h0v0Z",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52s0,0,0,0,0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M47.99,52.016c-.012.024.056-.092,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("path",{d:"M48,52l0,0s0,0,0,0",fill:"#c5cfd6",fillRule:"evenodd"}),r.a.createElement("rect",{width:"95",height:"63",rx:"4",fill:"#dde3e9"}),r.a.createElement("g",{transform:"translate(8 18)"},r.a.createElement("path",{d:"M28,0,0,45H56Z",fill:"#cca8d2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M55.5,12,31,45H80Z",fill:"#c5cfd6",fillRule:"evenodd"})),r.a.createElement("circle",{cx:"9",cy:"9",r:"9",transform:"translate(65 12)",fill:"#fff"})),r.a.createElement("g",{transform:"translate(347 262)"},r.a.createElement("g",{transform:"translate(66)"},r.a.createElement("g",{transform:"translate(43.625 25.145)"},r.a.createElement("path",{d:"M30.815,7.409C35.5,16.17,34.94,38.394,28.89,39.96c-2.413.624-7.553-.905-12.785-4.071l3.284,23.325H0L6.674,27.976C2.952,23.589.433,18.212.854,12.188,2.067-5.171,26.134-1.352,30.815,7.409Z",fill:"#b28b67",fillRule:"evenodd"})),r.a.createElement("path",{d:"M45.914,32.888C50.335,14.65,75.35,25.973,80.163,22.9c1.052,6.621-2.341,11.96-14.271,10.929-2.633,1.476-4.506,4.246-6.761,7.879a4.8,4.8,0,0,0-1.772-.336,4.871,4.871,0,0,0-3.387,8.348c-1.121,1.588-2.378,3.249-3.819,4.963-5.37-3.235-9.365-12.656-4.256-21.758Z",fill:"#191847",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(0 152)"},r.a.createElement("path",{d:"M167.879-7.871c-15.458,12.606-9.49,123.24-10.521,124.632q-.688.928-73.526,15.746l2.1,8.564q85.212-4.167,90.174-10.492,7.1-9.056,17.5-101.336Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 4.598, 142.033)",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M167.879-7.871c-15.458,12.606-9.49,123.24-10.521,124.632q-.688.928-73.526,15.746l2.1,8.564q85.212-4.167,90.174-10.492,7.1-9.056,17.5-101.336Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 4.598, 142.033)",fill:"rgba(0,0,0,0.1)",fillRule:"evenodd"}),r.a.createElement("path",{d:"M92.028,123.5l3.7,13.793c42.352,4.9,70.264-1.1,80.083-10.448q9.819-9.345,17.545-101.06L165.835-13.524c-36.8,27.766-14.782,118.767-15.722,120.848S126.842,111.035,92.028,123.5Z",transform:"matrix(0.574, -0.819, 0.819, 0.574, 9.439, 143.65)",fill:"#2f3676",fillRule:"evenodd"}),r.a.createElement("g",{transform:"matrix(0.94, 0.342, -0.342, 0.94, 163.189, 127.749)"},r.a.createElement("path",{d:"M1.949,20.7A15.68,15.68,0,0,0,.8,25.511a39.684,39.684,0,0,0,.72,6.273H46.553q1.755-5.775-2.027-6.236t-6.284-.832l-20.7-9.185a1.043,1.043,0,0,0-1.376.53l-.01.024L14.9,19.1h0a14.414,14.414,0,0,1-5.69,1.626A12.059,12.059,0,0,1,4.745,19.5h0A2.086,2.086,0,0,0,2,20.572Q1.972,20.634,1.949,20.7Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M105.256,0l-41.9,100.419-41.178,84.9H31.9L138.188,0Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("g",{transform:"translate(19.432 160.861)"},r.a.createElement("path",{d:"M1.949,20.7A15.68,15.68,0,0,0,.8,25.511a39.684,39.684,0,0,0,.72,6.273H46.553q1.755-5.775-2.027-6.236t-6.284-.832l-20.7-9.185a1.043,1.043,0,0,0-1.376.53l-.01.024L14.9,19.1h0a14.414,14.414,0,0,1-5.69,1.626A12.059,12.059,0,0,1,4.745,19.5h0A2.086,2.086,0,0,0,2,20.572Q1.972,20.634,1.949,20.7Z",fill:"#e4e4e4",fillRule:"evenodd"})),r.a.createElement("path",{d:"M25.9,167.678l21.587,4.042C64.178,147.22,134.032,46.764,141.691,0H93.632C68.056,33.806,41.81,142.773,25.9,167.678Z",fill:"#5c63ab",fillRule:"evenodd"})),r.a.createElement("g",{transform:"translate(18 67)"},r.a.createElement("path",{d:"M152.091,55.858l25.791,18.916a69.471,69.471,0,0,1,17.532,7.037c1.109,1.009,2.448,3.052-2.149,2.7l-.614-.046c-4.407-.319-8.864-.4-9.47,1.094-.634,1.566,2.148,3.44.866,5.553q-1.282,2.113-12.117-10.6L146.39,69.935Zm50.4-69.569c-3.049,3.455-6.1,7.226-5.231,8.675s4.043.357,4.961,2.651Q203.137-.089,186.452.9L162.624,14.91,154.8,1.89,185.446-7.3a69.441,69.441,0,0,1,16.178-9.75C203.1-17.326,205.538-17.165,202.489-13.71Z",fill:"#b28b67",fillRule:"evenodd"}),r.a.createElement("path",{d:"M102.684,12.647C123.02,34.277,147.827,48.389,181.662,60.9l-7.519,15.013c-34.913-3.278-53.577-5.9-68.2-27.565C102.269,42.913,95.708,24.2,91.777,14.484Z",transform:"matrix(0.966, 0.259, -0.259, 0.966, 16.119, -33.877)",fill:"#6c147c",fillRule:"evenodd"}),r.a.createElement("path",{d:"M72.768,92.064h62.257Q113.872,27.626,113.414,3.611c-.016-.816-1.525-2.254-2.192-2.066Q103.9,3.611,95.546,0C80.787,23.709,75.683,52.9,72.768,92.064Z",fill:"#f2f2f2",fillRule:"evenodd"}),r.a.createElement("path",{d:"M181.05-7.268l3.3,16.453C159.109,25.4,133.554,37.956,111.162,36.172c9.724,41.659,9.276,75.763-12.191,75.763h-33.2C60.5,76.545,74.36,27.477,87.206,2.727A4.379,4.379,0,0,1,91.2,0h9.646l.013.038C118.7.184,147.658,3.439,181.05-7.268Z",fill:"#7a1b8b",fillRule:"evenodd"})))));break;default:console.log("".concat(O," not found"))}return r.a.createElement(mn,Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:s,viewBox:j,fill:d,stroke:m,strokeWidth:f,"stroke-linecap":h,strokeLinejoin:_,className:"icon-".concat(O," ").concat(n)},g),A)})));function hn(){var e=Object(f.a)(["\n  opacity: ",";\n  width: ",";\n"]);return hn=function(){return e},e}function En(){var e=Object(f.a)([""]);return En=function(){return e},e}var _n=E.a.div(En()),On=Object(E.a)(pn)(hn(),(function(e){return e.loading?"0":"1"}),(function(e){return e.loading?"1px !important":"1rem"})),gn=function(e){var t,a,i,o,c,s,l,d=e.id,u=e.onShowPopup,m=e.orientation,p=e.profile,f=e.classNames,b=void 0===f?"":f,h=sm(),E=h.loggedUser,O=h.selectUserChannel,g=h.users,v=Object(n.useState)(!1),A=Object(_.a)(v,2),j=A[0],C=A[1],T=Object(n.useRef)(null),y=vs()._t,S={companyName:y("PROFILE.COMPANY_NAME","Company name"),information:y("PROFILE.INFORMATION","Information"),firstName:y("PROFILE.FIRST_NAME","First name:"),middleName:y("PROFILE.MIDDLE_NAME","Middle name:"),lastName:y("PROFILE.LAST_NAME","Last name:"),password:y("PROFILE.PASSWORD","Password:"),position:y("PROFILE.POSITION","Position:"),city:y("PROFILE.CITY","City:"),address:y("PROFILE.ADDRESS","Address:"),phone:y("PROFILE.Phone","Phone:"),email:y("PROFILE.EMAIL","Email:"),external:y("PROFILE.EXTERNAL","External")},k=null;k=p?Object(R.a)({},p):Object(R.a)({},g[d]);return Ka(T,u,!0),r.a.createElement(_n,{className:"profile-slider ".concat(b," ").concat(m?"".concat(m.vertical," ").concat(m.horizontal):""),ref:T},r.a.createElement(pn,{onClick:function(e){e.stopPropagation(),e.preventDefault(),u()},icon:"x"}),r.a.createElement("div",{className:"avatar-wrapper"},k&&r.a.createElement(kn,{id:k.id,type:"USER",imageLink:k.profile_image_link,name:k.name,fromSlider:!0,forceThumbnail:!1}),r.a.createElement("h5",null,null===(t=k)||void 0===t?void 0:t.name),r.a.createElement("span",{className:"text-muted small"},null===(a=k)||void 0===a?void 0:a.designation),k&&"internal"===k.type&&E.id!==k.id&&"internal"===E.type&&r.a.createElement("button",{className:"ml-1 btn btn-outline-light",onClick:function(e){e.stopPropagation(),e.preventDefault(),C(!0);j||O(k,(function(){C(!1),u()}))}},j&&r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),r.a.createElement(On,{icon:"message-circle",loading:j})),k&&"external"===k.type&&"internal"===E.type&&r.a.createElement("span",{className:"badge badge-info text-white mt-2"},S.external)),r.a.createElement("div",{className:"information-wrapper"},r.a.createElement("div",{className:"info-x"},r.a.createElement("span",null,S.information)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"labels-wrapper"},r.a.createElement("label",null,S.firstName),r.a.createElement("label",null,S.lastName),r.a.createElement("label",null,S.position),"internal"===E.type&&r.a.createElement("label",null,S.email)),r.a.createElement("div",{className:"info-details"},r.a.createElement("span",null,null===(i=k)||void 0===i?void 0:i.first_name),r.a.createElement("span",null,null===(o=k)||void 0===o?void 0:o.last_name),r.a.createElement("span",null,(null===(c=k)||void 0===c?void 0:c.role)&&(null===(s=k)||void 0===s?void 0:s.role.display_name)),"internal"===E.type&&r.a.createElement("span",null,null===(l=k)||void 0===l?void 0:l.email)))))},vn=a(631);function An(){var e=Object(f.a)(["\n  color: #fff !important;\n  background: ",";\n  font-size: 11px;\n  line-height: 0;\n  display: flex;\n  margin: auto;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  align-items: center;\n  justify-content: center;\n"]);return An=function(){return e},e}function jn(){var e=Object(f.a)(["\n  display: ",";\n  object-fit: cover;\n"]);return jn=function(){return e},e}function Cn(){var e=Object(f.a)(["\n  position: relative;\n  cursor: pointer;\n  line-height: 0;\n  .react-skeleton-load {\n    display: flex;\n    margin: auto;\n    text-align: center;\n    width: 100% !important;\n    height: 100% !important;\n    object-fit: cover;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n  // .slide-enter.slide-enter-done {\n  //   opacity: 1;\n  //   transform: scale(1) translateY(0);\n  //   transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  // }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n\n  .fade-appear {\n    opacity: 0;\n  }\n  .fade-appear.fade-appear-active {\n    opacity: 1;\n    transition: opacity 500ms linear;\n  }\n  .fade-enter {\n    opacity: 1;\n  }\n  // .fade-enter.fade-enter-done {\n  //   opacity: 1;\n  //   transition: opacity 500ms linear;\n  // }\n  .fade-exit {\n    opacity: 1;\n  }\n  .fade-exit.fade-exit-active {\n    opacity: 0;\n    transition: opacity 500ms linear;\n  }\n  .fade-exit-done {\n    opacity: 0;\n  }\n"]);return Cn=function(){return e},e}var Tn=E.a.div(Cn()),yn=E.a.img(jn(),(function(e){return e.show?"inherit":"none"})),Sn=E.a.span(An(),(function(e){return e.avatarColor?e.avatarColor:"white"})),kn=function(e){var t=e.className,a=void 0===t?"":t,i=e.imageLink,o=e.id,c=e.name,s=void 0===c?"":c,d=e.children,u=e.type,m=void 0===u?"USER":u,p=e.userId,f=e.onClick,h=void 0===f?null:f,E=e.noDefaultClick,O=void 0!==E&&E,g=e.isBot,v=void 0!==g&&g,A=e.isHuddleBot,j=void 0!==A&&A,C=e.forceThumbnail,T=void 0===C||C,y=e.fromSlider,S=void 0!==y&&y,k=e.showSlider,w=void 0===k||k,N=e.tooltipName,x=void 0===N?null:N,R=Object(I.a)(e,["className","imageLink","id","name","children","type","userId","onClick","noDefaultClick","isBot","isHuddleBot","forceThumbnail","fromSlider","showSlider","tooltipName"]),P=Object(n.useRef)(null),D=Object(b.g)(),L=Object(l.useDispatch)(),F=Object(l.useSelector)((function(e){return e.users.onlineUsers})).some((function(e){return e.user_id===p})),M=Object(n.useState)(!1),U=Object(_.a)(M,2),G=U[0],H=U[1],B=Object(n.useState)(!1),W=Object(_.a)(B,2),Y=W[0],V=W[1],Q=Object(n.useState)(!1),K=Object(_.a)(Q,2),z=K[0],q=K[1],J=Object(n.useState)(null),Z=Object(_.a)(J,2),X=Z[0],$=Z[1],ee=function(e){if("undefined"===typeof e)return"";for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);return"hsl(".concat(t%360,", ").concat(50,"%, ").concat(40,"%)")},te=function(){H(!0)};Object(n.useEffect)((function(){null==i&&s&&H(!0)}),[]);var ae=function(e){O||(e.stopPropagation(),e.preventDefault(),h?h(e):!w||S||v?"USER"===m?D.push("/profile/".concat(o,"/").concat(Wt(s))):"TOPIC"===m&&D.push("/topic/".concat(o,"/").concat(Wt(s))):document.body.clientWidth<=414?L(Nt({id:o})):function(){var e=P.current.getBoundingClientRect(),t=e.bottom,a=e.left;q((function(e){return!e}));var n=null,r=null;n=document.body.clientHeight-t<230?"top":"bottom",r=document.body.clientWidth-a<530?"left":"right",$({vertical:n,horizontal:r})}())},ne=function(){H(!0),V(!0)},re=function(e){if("undefined"===typeof e)return"";for(var t="",a=e.split(" "),n=0;n<a.length;n++)t+=a[n].substring(0,1).toUpperCase();return t.substring(0,2)};return T&&i&&!i.includes("thumbnail")&&(i+="&need_thumbnail=1"),r.a.createElement(Tn,Object.assign({},R,{className:"avatar avatar-md ".concat(F?"avatar-state-success":""," ").concat(G?"ico-avatar-loaded":""," ").concat(a),ref:P}),!1===G&&r.a.createElement(tn.a,{borderRadius:"50%",widthRandomness:0,heightRandomness:0}),r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:function(){S||document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:x||s},v?r.a.createElement(yn,{show:G,className:"rounded-circle",onLoad:te,onError:ne,src:j?sn.a:on.a,alt:s}):null==i?r.a.createElement(Sn,{className:"rounded-circle",avatarColor:ee(s),onClick:ae},re(s)):"Gripp Offerte Bot"===s?r.a.createElement(yn,{show:G,className:"rounded-circle",onLoad:te,onError:ne,src:on.a,alt:s}):!1===Y?r.a.createElement(yn,{show:G,className:"rounded-circle",onLoad:te,onError:ne,src:i,alt:s,onClick:ae}):r.a.createElement(Sn,{className:"rounded-circle",avatarColor:ee(s),onClick:ae},re(s))),z&&r.a.createElement(vn.a,{appear:!0,in:z,timeout:300,classNames:"slide"},r.a.createElement(gn,Object.assign({},e,{onShowPopup:function(){q((function(e){return!e})),$(null),document.body.clientWidth<=414&&L(Nt({id:null}))},showPopup:z,orientation:X}))),d)};function wn(){var e=Object(f.a)(["\n  ul {\n    margin: 0;\n    list-style: none;\n    box-shadow: 0 0 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n    z-index: 5;\n    overflow: auto;\n    padding: 8px 8px;\n    cursor: pointer;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    max-height: 260px;\n  }\n\n  li {\n    white-space: nowrap;\n    margin-bottom: 10px;\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n    cursor: pointer;\n    padding-bottom: 5px;\n\n    span {\n      font-weight: 400;\n    }\n\n    &:hover {\n      span {\n        color: #972c86;\n      }\n    }\n    &:last-child {\n      border: none;\n      padding: 0;\n      margin: 0;\n    }\n  }\n  .ico-avatar {\n    margin-right: 10px;\n  }\n  div.ico-avatar img {\n    width: 100%;\n    height: 100%;\n  }\n  span {\n    font-weight: 600;\n    color: #676767;\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n  // .slide-enter.slide-enter-done {\n  //   opacity: 1;\n  //   transform: scale(1) translateY(0);\n  //   transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  // }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]);return wn=function(){return e},e}var Nn=E.a.div(wn()),xn=function(e){var t=e.users,a=e.className,i=e.onShowList,o=Object(n.useRef)(),c=Object(n.useState)(!1),s=Object(_.a)(c,2),l=s[0],d=s[1],u=Object(n.useState)(null),m=Object(_.a)(u,2),p=m[0],f=m[1],b=function(e,t){e.preventDefault(),e.stopPropagation(),d(!0),f(t)};Ka(o,(function(){i&&i()}),!0);return r.a.createElement(Nn,{className:"component-user-list-pop-up-container ".concat(a),ref:o},r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:e.id,onClick:function(t){return b(t,e)}},r.a.createElement(kn,{size:"xs",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,userId:e.id,name:e.name?e.name:e.email,partialName:e.partial_name,hasAccepted:e.has_accepted,id:e.id,showSlider:!1,onClick:function(t){return b(t,e)}}),r.a.createElement("span",{className:"user-list-name",onClick:function(t){return b(t,e)}},e.name?e.name:e.email))}))),l&&r.a.createElement(vn.a,{appear:!0,in:l,timeout:300,classNames:"slide"},r.a.createElement(gn,{id:p?p.id:null,onShowPopup:function(){return d((function(e){return!e}))},showPopup:l,orientation:{vertical:"bottom",horizontal:"left"}})))};function Rn(){var e=Object(f.a)(["\n  position: absolute;\n  top: 100%;\n  padding-top: 8px;\n  max-width: 250px;\n  z-index: 999;\n  ul li > span {\n    padding-left: 8px;\n    text-overflow: ellipsis;\n    max-width: 80%;\n    overflow: hidden;\n  }\n"]);return Rn=function(){return e},e}function In(){var e=Object(f.a)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n  border-radius: 50%;\n  background: #ffffff;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #dee2e6;\n  font-size: 11px;\n  cursor: pointer;\n"]);return In=function(){return e},e}function Pn(){var e=Object(f.a)(["\n  display: inline-block;\n  height: 2rem;\n  width: 2rem;\n  margin-left: -0.5rem;\n  position: relative;\n  @media all and (max-width: 920px) {\n  }\n"]);return Pn=function(){return e},e}var Dn=E.a.div(Pn()),Ln=E.a.span(In()),Fn=Object(E.a)(xn)(Rn()),Mn=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.recipients,o=Object(n.useState)(!1),c=Object(_.a)(o,2),s=c[0],l=c[1];return r.a.createElement(Dn,{className:"plus-recipient-component ".concat(a)},r.a.createElement(Ln,{onClick:function(e){e.preventDefault(),e.stopPropagation(),l(!s)},className:"total-people-circle"},r.a.createElement("span",null,"+"),i.length),s&&r.a.createElement(Fn,{className:"people-list",users:i,onShowList:function(){return l(!s)}}))})),Un=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.value,o=Object(I.a)(e,["className","value"]);return r.a.createElement("span",Object.assign({ref:t,className:"badge-growing "+n},o),r.a.createElement("i",{className:"badge-growing-value"},i))}));r.a.memo(Un);function Gn(){var e=Object(f.a)([""]);return Gn=function(){return e},e}Un.defaultProps={className:""};var Hn=E.a.div(Gn());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(Hn,{className:"".concat(a)})}));function Bn(){var e=Object(f.a)(["\n  ",";\n  display: inline-block;\n  width: ",";\n  height: ",";\n  -webkit-mask-image: url(",");\n  mask-image: url(",");\n  mask-size: contain;\n  mask-repeat: no-repeat;\n  mask-position: center;\n  ","\n"]);return Bn=function(){return e},e}var Wn=a(213),Yn=E.a.i(Bn(),(function(e){return e.rotate&&"transform: rotate(".concat(e.rotate,"deg);")}),(function(e){return e.width?e.width:"18px"}),(function(e){return e.height?e.height:"18px"}),(function(e){return e.src}),(function(e){return e.src}),(function(e){return e.bgColor&&"background-color: ".concat(e.bgColor,";")})),Vn=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.dataTip,o=void 0===i?"":i,c=(e.rotate,e.type),s=Object(I.a)(e,["className","dataTip","rotate","type"]);return r.a.createElement(Yn,Object.assign({ref:t,alt:"".concat(c," icon"),className:"icon-".concat(c," ").concat(n),src:function(e){switch(e){case"driff-logo":return Wn;default:return e}}(c),"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":o},s))})),Qn=(r.a.memo(Vn),a(4)),Kn=a.n(Qn);function zn(){var e=Object(f.a)(["\n  justify-content: center;\n"]);return zn=function(){return e},e}var qn=E.a.span(zn()),Jn=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.rotate,o=void 0===i?"":i,c=e.iconPosition,s=void 0===c?"left":c,l=e.children,d=e.href,u=e.icon,m=e.clickHandler,p=e.onClick,f=e.iconLeft,b=e.iconRight,h=e.iconLeftRotate,E=e.iconRightRotate,_=e.iconLeftOnClick,O=e.iconRightOnClick,g=e.iconRightDataSet,v=e.iconLeftDataSet,A=e.dataSet,j=e.target,C=void 0===j?null:j,T=e.dataTip,y=void 0===T?"":T,S=e.style,k=void 0===S?null:S,w=function(e){e.stopPropagation(),e.preventDefault(),d&&(m?m(d):window.open(e.target.href,"_blank")),p&&(A?p(e,A):p(e))};return r.a.createElement(qn,{ref:t,style:k,className:"img-lnk component-image-text-link ".concat(n),onClick:function(e){return function(e){w(e)}(e)},"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":y},f&&r.a.createElement(fn,{className:"svg-icon-left",onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),_?v?_(e,v):_(e):w(e)}(e)},icon:f,rotate:h,dataSet:v}),r.a.createElement("a",{target:C,href:d,onClick:function(e){return w(e)}},("right"===s||"both"===s)&&u&&r.a.createElement(fn,{className:"svg-icon-right",icon:u,rotate:o}),l,("left"===s||"both"===s)&&u&&r.a.createElement(fn,{className:"svg-icon-left",icon:u,rotate:o})),b&&r.a.createElement(fn,{className:"svg-icon-right",onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),O?g?O(e,g):O(e):w(e)}(e)},icon:b,rotate:E,dataSet:g}))})),Zn=(Kn.a.string,Kn.a.func,Kn.a.number,Kn.a.oneOfType,Kn.a.object,Jn);function Xn(){var e=Object(f.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return Xn=function(){return e},e}var $n=E.a.div(Xn()),er=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a;return r.a.createElement($n,{className:"loading ".concat(n)})})),tr=r.a.memo(er),ar=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.active,i=void 0===n?null:n,o=e.isSub,c=void 0!==o&&o,s=Object(I.a)(e,["className","active","isSub"]),l=Object(b.h)(),d=!0===i?"active":"";return null===i&&(d=""===d&&0===l.pathname.indexOf(e.to)?"active":c||0!==e.to.indexOf("/".concat(l.pathname.split("/")[1]))?l.pathname===e.to?"active":"":"active"),r.a.createElement(u.b,Object.assign({},s,{className:"".concat(a," ").concat(d)}),e.children)})),nr=a(81);a(215);function rr(){var e=Object(f.a)(["\n  ","\n  position: absolute;\n  z-index: 9999;\n  background-color: transparent;\n\n  &.orientation-top {\n    bottom: -10px;\n  }\n  &.orientation-bottom {\n    top: calc(100% - 25px);\n    bottom: auto;\n  }\n  &.orientation-left {\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% + 25px);\n    right: auto;\n  }\n"]);return rr=function(){return e},e}var ir=E.a.div(rr(),(function(e){return e.hide&&"display: none;"})),or=r.a.forwardRef((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.orientation,o=e.onSelectEmoji,c=Object(I.a)(e,["className","orientation","onSelectEmoji"]);return r.a.createElement(ir,Object.assign({ref:t,hide:null===i.vertical||null===i.horizontal,className:"picker-emoji orientation-".concat(i.vertical," orientation-").concat(i.horizontal," ").concat(n)},c),r.a.createElement(nr.b,{title:"Emoji",set:"apple",onSelect:o,theme:"light",showPreview:!1,showSkinTones:!1,i18n:{search:"Search",clear:"Clear",emojilist:"List of emoji",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}}))})),cr=r.a.memo(or);function sr(){var e=Object(f.a)(["\n  transform: ",";\n"]);return sr=function(){return e},e}var lr=a(431),dr=a(174),ur=a(432),mr=a(433),pr=a(434),fr=a(435),br=a(436),hr=a(437),Er=a(438),_r=a(439),Or=a(440),gr=a(213),vr=a(441),Ar=a(216),jr=a(442),Cr=a(443),Tr=a(444),yr=a(175),Sr=a(445),kr=a(446),wr=a(447),Nr=a(448),xr=a(449),Rr=a(450),Ir=a(451),Pr=a(452),Dr=a(453),Lr=a(454),Fr=a(455),Mr=a(456),Ur=a(457),Gr=a(458),Hr=a(459),Br=a(216),Wr=a(460),Yr=a(461),Vr=a(212),Qr=a(462),Kr=a(463),zr=a(464),qr=a(465),Jr=a(466),Zr=a(467),Xr=a(468),$r=a(469),ei=a(470),ti=a(471),ai=a(472),ni=a(473),ri=a(217),ii=a(217),oi=a(474),ci=a(475),si=a(476),li=a(477),di=a(478),ui=a(479),mi=a(480),pi=a(481),fi=a(141),bi=a(482),hi=a(483),Ei=a(484),_i=a(485),Oi=E.a.img(sr(),(function(e){return e.rotate?"rotate(".concat(e.rotate,"deg)"):"rotate(0deg)"})),gi=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.dataTip,o=void 0===i?"":i,c=e.rotate,s=e.icon,l=e.onClick,d=e.dataSet,u=Object(I.a)(e,["className","dataTip","rotate","icon","onClick","dataSet"]),m=function(e){l&&(d?l(e,d):l(e))};return r.a.createElement(Oi,Object.assign({ref:t,alt:"".concat(s," icon"),className:"icon-".concat(s," ").concat(n),src:function(e){switch(e){case"arrow":return lr;case"arrow-down":return dr;case"topics":case"topic":return ur;case"person":case"people":return mr;case"documents":return pr;case"tags":return fr;case"templates":return br;case"requests":return Er;case"tasks":return _r;case"settings":return Or;case"team":case"departments":return hr;case"logo":return gr;case"logo-transparent":return vr;case"communications":return Ar;case"favorites":return jr;case"notifications":return Cr;case"active-notification":return Tr;case"arrow-transparent":return yr;case"search":return Sr;case"close":return kr;case"poll":return wr;case"recent":return Nr;case"more":return xr;case"owner":return Ir;case"enlarge":return Pr;case"closed-eye":return Dr;case"opened-eye":return Lr;case"edit":return Fr;case"check":return Mr;case"clap":return Ur;case"mention":return Gr;case"post":return Hr;case"multi-post":case"multi_post":return Br;case"tail-spin":return Wr;case"circle":return Yr;case"gripp-logo":return Vr;case"chat":return Qr;case"dock":return Kr;case"expand":return zr;case"clipboard":return qr;case"trash":return Jr;case"logout":return Zr;case"lock":return Xr;case"unlock":return $r;case"more-menu":return Rr;case"send":return ei;case"google-login":return ti;case"download":return ai;case"plus":return ni;case"comment":return ri;case"quote":return ii;case"heart-driff":return oi;case"prio-critical":return ci;case"prio-high":return si;case"prio-medium":return li;case"prio-low":return di;case"cross":return ui;case"personal-bot":return mi;case"share":return pi;case"gripp-bot":return fi;case"heart-white":return bi;case"link":return hi;case"menu-favourites":return Ei;case"new-chat":return _i;default:return e}}(s),rotate:c,onClick:function(e){return m(e)},"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":o},u))})),vi=(r.a.memo(gi),a(275)),Ai=a.n(vi);a(529);function ji(){var e=Object(f.a)(["\n  position: relative;\n  background-color: #fff;\n\n  .selectDiv {\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 10px;\n    padding: 10px;\n  }\n\n  .selectInputDiv {\n    margin: 15px 15px 20px;\n    padding: 0.5em 1em;\n    width: calc(100% - 30px);\n    box-sizing: border-box;\n    font-family: inherit;\n    font-size: 15px;\n    font-weight: 300;\n    border: 1px solid #cacaca;\n    border-radius: 10px;\n  }\n\n  .attributionDiv {\n    text-align: right;\n    text-transform: uppercase;\n    font-size: 12px;\n    font-weight: bold;\n    padding: 5px 16px;\n    letter-spacing: 0.25px;\n  }\n"]);return ji=function(){return e},e}var Ci=E.a.div(ji()),Ti=r.a.forwardRef((function(e,t){var a=e.className,i=void 0===a?"":a;Object(n.useEffect)((function(){var a=function t(a){27===a.keyCode&&(e.handleShowGifPicker(),document.removeEventListener("keydown",t,!1))},n=function a(n){if(t){var r=document.querySelector(".picker-btn");t.current.contains(n.target)||n.target.contains(r)||(e.handleShowGifPicker(),document.removeEventListener("mousedown",a,!1))}};return document.querySelector(".selectInputDiv").focus(),document.addEventListener("mousedown",n,!1),document.addEventListener("keydown",a,!1),function(){document.removeEventListener("mousedown",n,!1),document.removeEventListener("keydown",a,!1)}}),[]);return r.a.createElement(Ci,{className:"picker-gif ".concat(i),ref:t,orientation:e.orientation},r.a.createElement(Ai.a,{theme:{select:"selectDiv",selectInput:"selectInputDiv",attribution:"attributionDiv"},onEntrySelect:function(t){e.onSelectGif(t)},requestKey:"na6sHnThmVFEFGTlKXlEkM5qtpx8kYUu",placeholder:"Search GIFs Here.."}))}));function yi(){var e=Object(f.a)([""]);return yi=function(){return e},e}function Si(){var e=Object(f.a)([""]);return Si=function(){return e},e}function ki(){var e=Object(f.a)(["\n  cursor: hand;\n\n  svg {\n    position: relative;\n    top: 1px;\n  }\n"]);return ki=function(){return e},e}function wi(){var e=Object(f.a)(["\n  position: absolute;\n  bottom: ",";\n  right: 5px;\n  top: ",";\n  z-index: 9999;\n  background-color: transparent;\n"]);return wi=function(){return e},e}var Ni=E.a.div(wi(),(function(e){return"top"===e.orientation?"75px":null}),(function(e){return"bottom"===e.orientation?"75px":null})),xi=E.a.div(ki()),Ri=Object(E.a)(nr.b)(Si()),Ii=Object(E.a)(Ti)(yi()),Pi=r.a.forwardRef((function(e,t){var a=e.className,i=void 0===a?"":a,o=e.handleShowEmojiPicker,c=e.handleShowGifPicker,s=Object(n.useState)(!1),l=Object(_.a)(s,2),d=l[0],u=l[1];return Ka(t,o,!0),Ka(t,c,!0),r.a.createElement(Ni,{ref:t,orientation:e.orientation,className:"common-picker ".concat(i),onMouseLeave:function(){e.onMouseLeave&&e.onMouseLeave()}},!1===d?r.a.createElement(Ri,{className:"emoji-picker",title:"Emoji",set:"apple",onSelect:e.onSelectEmoji,theme:"light",showSkinTones:!1,showPreview:!1,i18n:{search:"Search",clear:"Clear",emojilist:"List of emoji",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}}):r.a.createElement(Ii,{handleShowGifPicker:c,onSelectGif:e.onSelectGif,orientation:e.orientation}),r.a.createElement("div",{className:"block mt-2 common-picker-btn"},r.a.createElement(xi,{onClick:function(){u(!d)},className:"btn btn-primary"},"Switch to",!1===d?r.a.createElement(r.a.Fragment,null," Gif"):r.a.createElement(r.a.Fragment,null," Emoji"),r.a.createElement(pn,{className:"ml-2",icon:"play"}))))}));function Di(e,t){return Pa("ADD_CHANNEL_FILES",e,t)}function Li(e,t){return Pa("DELETE_CHANNEL_FILES",e,t)}function Fi(e,t){return Pa("SET_VIEW_FILES",e,t)}function Mi(e,t){return Pa("PREPARE_WORKSPACE_FILES_UPLOAD",e,t)}function Ui(e,t){return Ia(function(e){var t="/v2/workspace-bulk-files?topic_id=".concat(e.topic_id,"&is_primary=").concat(e.is_primary);return W({method:"POST",url:t,data:e.files})}(e),"UPLOADING_WORKSPACE_FILES_START","UPLOADING_WORKSPACE_FILES_SUCCESS","UPLOADING_WORKSPACE_FILES_FAILURE",t)}function Gi(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-primary-files?".concat(w(e))})}(e),"GET_WORKSPACE_PRIMARY_FILES_START","GET_WORKSPACE_PRIMARY_FILES_SUCCESS","GET_WORKSPACE_PRIMARY_FILES_FAIL",t)}function Hi(e,t){return Ia(Z(e),"GET_WORKSPACE_FILES_START","GET_WORKSPACE_FILES_SUCCESS","GET_WORKSPACE_FILES_FAIL",t)}function Bi(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-trash-files?".concat(w(e))})}(e),"GET_WORKSPACE_TRASH_FILES_START","GET_WORKSPACE_TRASH_FILES_SUCCESS","GET_WORKSPACE_TRASH_FILES_FAIL",t)}function Wi(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-favorite-files?".concat(w(e))})}(e),"GET_WORKSPACE_FAVORITE_FILES_START","GET_WORKSPACE_FAVORITE_FILES_SUCCESS","GET_WORKSPACE_FAVORITE_FILES_FAIL",t)}function Yi(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-recent-edited-files?".concat(w(e))})}(e),"GET_WORKSPACE_RECENT_EDIT_FILES_START","GET_WORKSPACE_RECENT_EDIT_FILES_SUCCESS","GET_WORKSPACE_RECENT_EDIT_FILES_FAIL",t)}function Vi(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-popular-files?".concat(w(e))})}(e),"GET_WORKSPACE_POPULAR_FILES_START","GET_WORKSPACE_POPULAR_FILES_SUCCESS","GET_WORKSPACE_POPULAR_FILES_FAIL",t)}function Qi(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-folders?".concat(w(e))})}(e),"GET_WORKSPACE_FOLDER_START","GET_WORKSPACE_FOLDER_SUCCESS","GET_WORKSPACE_FOLDER_FAIL",t)}function Ki(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-folder-breadcrumbs?".concat(w(e))})}(e),"GET_WORKSPACE_FOLDERS_BREADCRUMB_START","GET_WORKSPACE_FOLDERS_BREADCRUMB_SUCCESS","GET_WORKSPACE_FOLDERS_BREADCRUMB_FAIL",t)}function zi(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-files-detail?".concat(w(e))})}(e),"GET_WORKSPACE_FILE_DETAILS_START","GET_WORKSPACE_FILE_DETAILS_SUCCESS","GET_WORKSPACE_FILE_DETAILS_FAIL",t)}function qi(e,t){return Ia(function(e){var t="/v2/workspace-files?topic_id=".concat(e.topic_id);return W({method:"POST",url:t,data:e})}(e),"UPLOAD_WORKSPACE_FILE_START","UPLOAD_WORKSPACE_FILE_SUCCESS","UPLOAD_WORKSPACE_FILE_FAIL",t)}function Ji(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/workspace-delete-files",data:e})}(e),"DELETE_WORKSPACE_FILE_START","DELETE_WORKSPACE_FILE_SUCCESS","DELETE_WORKSPACE_FILE_FAIL",t)}function Zi(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/workspace-restore-file",data:e})}(e),"RESTORE_WORKSPACE_FILE_START","RESTORE_WORKSPACE_FILE_SUCCESS","RESTORE_WORKSPACE_FILE_FAIL",t)}function Xi(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/workspace-folders",data:e})}(e),"ADD_FOLDER_START","ADD_FOLDER_SUCCESS","ADD_FOLDER_FAIL",t)}function $i(e,t){return Ia(function(e){var t="/v2/workspace-folders/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"UPDATE_FOLDER_START","UPDATE_FOLDER_SUCCESS","UPDATE_FOLDER_FAIL",t)}function eo(e,t){return Ia(function(e){var t="/v2/workspace-bulk-files?topic_id=".concat(e.topic_id,"&is_primary=0");return e.folder_id&&(t+="&folder_id=".concat(e.folder_id)),W({method:"POST",url:t,data:e.files})}(e),"UPLOAD_WORKSPACE_FILES_START","UPLOAD_WORKSPACE_FILES_SUCCESS","UPLOAD_WORKSPACE_FILES_FAIL",t)}function to(e,t){return Pa("INCOMING_FOLDER",e,t)}function ao(e,t){return Ia(function(e){var t="/v2/workspace-folders/".concat(e.id,"?topic_id=").concat(e.topic_id);return e.force_delete&&(t+="&force_delete=1"),W({method:"DELETE",url:t,data:e})}(e),"DELETE_FOLDER_START","DELETE_FOLDER_SUCCESS","DELETE_FOLDER_FAIL",t)}function no(e,t){return Pa("INCOMING_DELETED_FOLDER",e,t)}function ro(e,t){return Ia(X(e),"FAVORITE_FILE_START","FAVORITE_FILE_SUCCESS","FAVORITE_FILE_FAIL",t)}function io(e,t){return Ia(function(e){var t="/v2/workspace-files/".concat(e.file_id,"?topic_id=").concat(e.topic_id);return e.force_delete&&(t+="&force_delete=1"),W({method:"DELETE",url:t,data:e})}(e),"DELETE_FILE_START","DELETE_FILE_SUCCESS","DELETE_FILE_FAIL",t)}function oo(e,t){return Ia(function(e){var t="/v2/workspace-files/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"UPDATE_FILENAME_START","UPDATE_FILENAME_SUCCESS","UPDATE_FILENAME_FAIL",t)}function co(e,t){return Pa("INCOMING_FILE",e,t)}function so(e,t){return Pa("ADD_FILE_SEARCH_RESULTS",e,t)}function lo(e,t){return Pa("CLEAR_FILE_SEARCH_RESULTS",e,t)}function uo(e,t){return Pa("INCOMING_DELETED_FILE",e,t)}function mo(e,t){return Pa("INCOMING_FILES",e,t)}function po(e,t){return Pa("ADD_REMOVE_FAVORITE",e,t)}function fo(e,t){return Ia(function(e){var t="/v2/workspace-delete-all-trash-files?topic_id=".concat(e.topic_id);return W({method:"DELETE",url:t,data:e})}(e),"DELETE_TRASH_START","DELETE_TRASH_SUCCESS","DELETE_TRASH_FAIL",t)}function bo(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/workspace-file-move",data:e})}(e),"MOVE_FILE_START","MOVE_FILE_SUCCESS","MOVE_FILE_FAIL",t)}function ho(e,t){return Pa("INCOMING_MOVED_FILE",e,t)}function Eo(e,t){return Pa("INCOMING_RESTORE_FILE",e,t)}function _o(e,t){return Pa("INCOMING_RESTORE_FOLDER",e,t)}function Oo(e,t){return Pa("INCOMING_EMPTY_TRASH",e,t)}function go(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/post-delete-attachment?".concat(w(e)),data:e})}(e),"DELETE_POST_FILE_START","DELETE_POST_FILE_SUCCESS","DELETE_POST_FILE_FAIL",t)}function vo(e,t){return Pa("INCOMING_DELETED_POST_FILE",e,t)}function Ao(e,t){return Pa("INCOMING_REMOVED_FILE",e,t)}function jo(e,t){return Pa("INCOMING_REMOVED_FOLDER",e,t)}function Co(e,t){return Pa("UPLOAD_FILES_REDUCER",e,t)}function To(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/workspace-bulk-files",data:e})}(e),"DELETE_WORKSPACE_FILES_START","DELETE_WORKSPACE_FILES_SUCCESS","DELETE_WORKSPACE_FILES_FAIL",t)}function yo(e,t){return Pa("INCOMING_DELETED_FILES",e,t)}function So(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/google-attachments",data:e})}(e),"POST_GOOGLE_ATTACHMENTS_START","POST_GOOGLE_ATTACHMENTS_SUCCESS","POST_GOOGLE_ATTACHMENTS_FAIL",t)}function ko(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-google-attachments?topic_id=".concat(e.workspace_id,"&attachment_type=FILE"),data:e})}(e),"GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_START","GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_SUCCESS","GET_WORKSPACE_GOOGLE_FILE_ATTACHMENTS_FAIL",t)}function wo(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-google-attachments?topic_id=".concat(e.workspace_id,"&attachment_type=FOLDER"),data:e})}(e),"GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_START","GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_SUCCESS","GET_WORKSPACE_GOOGLE_FOLDER_ATTACHMENTS_FAIL",t)}function No(e,t){return Pa("INCOMING_GOOGLE_FILE",e,t)}function xo(e,t){return Pa("INCOMING_GOOGLE_FOLDER",e,t)}function Ro(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/google-attachments",data:e})}(e),"DELETE_GOOGLE_ATTACHMENTS_START","DELETE_GOOGLE_ATTACHMENTS_SUCCESS","DELETE_GOOGLE_ATTACHMENTS_FAIL",t)}function Io(e,t){return Pa("INCOMING_DELETED_GOOGLE_FILE",e,t)}function Po(e,t){return Pa("ADD_GOOGLE_DRIVE_FILE",e,t)}function Do(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/files?".concat(w(e))})}(e),"GET_COMPANY_FILES_START","GET_COMPANY_FILES_SUCCESS","GET_COMPANY_FILES_FAIL",t)}function Lo(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/favorite-files?".concat(w(e))})}(e),"GET_COMPANY_FAVORITE_FILES_START","GET_COMPANY_FAVORITE_FILES_SUCCESS","GET_COMPANY_FAVORITE_FILES_FAIL",t)}function Fo(e,t){return Ia(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W({method:"GET",url:"/v2/company/files-detail?".concat(w(e))})}(e),"GET_COMPANY_FILES_DETAIL_START","GET_COMPANY_FILES_DETAIL_SUCCESS","GET_COMPANY_FILES_DETAIL_FAIL",t)}function Mo(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/folder-breadcrumbs?".concat(w(e))})}(e),"GET_COMPANY_FOLDER_BREAD_CRUMBS_START","GET_COMPANY_FOLDER_BREAD_CRUMBS_SUCCESS","GET_COMPANY_FOLDER_BREAD_CRUMBS_FAIL",t)}function Uo(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/folders?".concat(w(e))})}(e),"GET_COMPANY_FOLDERS_START","GET_COMPANY_FOLDERS_SUCCESS","GET_COMPANY_FOLDERS_FAIL",t)}function Go(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/popular-files?".concat(w(e))})}(e),"GET_COMPANY_POPULAR_FILES_START","GET_COMPANY_POPULAR_FILES_SUCCESS","GET_COMPANY_POPULAR_FILES_FAIL",t)}function Ho(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/recent-edited-files?".concat(w(e))})}(e),"GET_COMPANY_RECENT_EDITED_FILES_START","GET_COMPANY_RECENT_EDITED_FILES_SUCCESS","GET_COMPANY_RECENT_EDITED_FILES_FAIL",t)}function Bo(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/trashed-files?".concat(w(e))})}(e),"GET_COMPANY_TRASHED_FILES_START","GET_COMPANY_TRASHED_FILES_SUCCESS","GET_COMPANY_TRASHED_FILES_FAIL",t)}function Wo(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/company/folders",data:e})}(e),"POST_COMPANY_FOLDERS_START","POST_COMPANY_FOLDERS_SUCCESS","POST_COMPANY_FOLDERS_FAIL",t)}function Yo(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/company/upload-files",data:e,hasFile:!0})}(e),"POST_COMPANY_UPLOAD_FILES_START","POST_COMPANY_UPLOAD_FILES_SUCCESS","POST_COMPANY_UPLOAD_FILES_FAIL",t)}function Vo(e,t){return Ia(function(e){var t="/v2/company/upload-bulk-files";return e.folder_id&&(t+="?folder_id=".concat(e.folder_id)),W({method:"POST",url:t,data:e.files})}(e),"POST_COMPANY_UPLOAD_BULK_FILES_START","POST_COMPANY_UPLOAD_BULK_FILES_SUCCESS","POST_COMPANY_UPLOAD_UPLOAD_BULK_FILES_FAIL",t)}function Qo(e,t){return Ia(function(e){return W({method:"PATCH",url:"/v2/company/file-viewed?".concat(w(e))})}(e),"PATCH_COMPANY_FILE_VIEWED_START","PATCH_COMPANY_FILE_VIEWED_SUCCESS","PATCH_COMPANY_FILE_VIEWED_FAIL",t)}function Ko(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/company/files/".concat(e.id),data:e})}(e),"PUT_COMPANY_FILES_START","PUT_COMPANY_FILES_SUCCESS","PUT_COMPANY_FILES_FAIL",t)}function zo(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/company/folders/".concat(e.id),data:e})}(e),"PUT_COMPANY_FOLDERS_START","PUT_COMPANY_FOLDERS_SUCCESS","PUT_COMPANY_FOLDERS_FAIL",t)}function qo(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/company/files/".concat(e.file_id),data:e})}(e),"DELETE_COMPANY_FILES_START","DELETE_COMPANY_FILES_SUCCESS","DELETE_COMPANY_FILES_FAIL",t)}function Jo(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/company/folders/".concat(e.id),data:e})}(e),"DELETE_COMPANY_FOLDERS_START","DELETE_COMPANY_FOLDERS_SUCCESS","DELETE_COMPANY_FOLDERS_FAIL",t)}function Zo(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/company/delete-all-trash-files?".concat(w(e))})}(e),"DELETED_COMPANY_DELETE_START","DELETED_COMPANY_DELETE_SUCCESS","DELETED_COMPANY_DELETE_FAIL",t)}function Xo(e,t){return Pa("UPLOAD_COMPANY_FILES_REDUCER",e,t)}function $o(e,t){return Pa("ADD_COMPANY_FILE_SEARCH_RESULTS",e,t)}function ec(e,t){return Pa("INCOMING_COMPANY_FOLDER",e,t)}function tc(e,t){return Pa("INCOMING_COMPANY_UPDATED_FOLDER",e,t)}function ac(e,t){return Pa("INCOMING_COMPANY_DELETED_FOLDER",e,t)}function nc(e,t){return Pa("INCOMING_COMPANY_FILE",e,t)}function rc(e,t){return Pa("INCOMING_COMPANY_FILES",e,t)}function ic(e,t){return Pa("INCOMING_DELETED_FILE",e,t)}function oc(e,t){return Pa("INCOMING_COMPANY_MOVED_FILE",e,t)}function cc(e,t){return Pa("INCOMING_COMPANY_EMPTY_TRASH",e,t)}function sc(e,t){return Pa("INCOMING_REMOVED_COMPANY_FILE",e,t)}function lc(e,t){return Pa("INCOMING_COMPANY_MOVE_FILE",e,t)}function dc(e,t){return Pa("INCOMING_COMPANY_RESTORE_FILE",e,t)}function uc(e,t){return Pa("INCOMING_COMPANY_RESTORE_FOLDER",e,t)}function mc(e,t){return Pa("INCOMING_REMOVED_COMPANY_FOLDER",e,t)}function pc(e,t){return Pa("INCOMING_COMPANY_DELETED_FILES",e,t)}function fc(e,t){return Pa("INCOMING_COMPANY_UPDATED_FILE",e,t)}function bc(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/workspace-restore-file",data:e})}(e),"PUT_WORKSPACE_RESTORE_FILE_START","PUT_WORKSPACE_RESTORE_FILE_SUCCESS","PUT_WORKSPACE_RESTORE_FILE_FAIL",t)}function hc(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/company/restore-file",data:e})}(e),"PUT_COMPANY_RESTORE_FILE_START","PUT_COMPANY_RESTORE_FILE_SUCCESS","PUT_COMPANY_RESTORE_FILE_FAIL",t)}function Ec(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/workspace-restore-folder",data:e})}(e),"PUT_WORKSPACE_RESTORE_FOLDER_START","PUT_WORKSPACE_RESTORE_FOLDER_SUCCESS","PUT_WORKSPACE_RESTORE_FOLDER_FAIL",t)}function _c(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/company/restore-folder",data:e})}(e),"PUT_COMPANY_RESTORE_FOLDER_START","PUT_COMPANY_RESTORE_FOLDER_SUCCESS","PUT_COMPANY_RESTORE_FOLDER_FAIL",t)}function Oc(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/company/file-move/?".concat(w(e)),data:e})}(e),"PUT_COMPANY_FILE_MOVE_START","PUT_COMPANY_FILE_MOVE_SUCCESS","PUT_COMPANY_FILE_MOVE_FAIL",t)}function gc(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/google-attachments?attachment_type=FOLDER",data:e})}(e),"GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_START","GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_SUCCESS","GET_COMPANY_GOOGLE_ATTACHMENTS_FOLDER_FAIL",t)}function vc(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/company/google-attachments?attachment_type=FILE",data:e})}(e),"GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_START","GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_SUCCESS","GET_COMPANY_GOOGLE_ATTACHMENTS_FILE_FAIL",t)}function Ac(e,t){return Pa("INCOMING_GIF_DATA",e,t)}function jc(e,t){return Pa("INCOMING_FILE_DATA",e,t)}function Cc(e,t){return Pa("INCOMING_FILE_THUMBNAIL_DATA",e,t)}function Tc(e,t){return Ia(Z(e),"GET_TEAM_CHAT_FILES_START","GET_TEAM_CHAT_FILES_SUCCESS","GET_TEAM_CHAT_FILES_FAIL",t)}function yc(e,t){return Ia(Z(e),"GET_CLIENT_CHAT_FILES_START","GET_CLIENT_CHAT_FILES_SUCCESS","GET_CLIENT_CHAT_FILES_FAIL",t)}function Sc(e,t){return Ia(Z(e),"GET_CLIENT_POST_FILES_START","GET_CLIENT_POST_FILES_SUCCESS","GET_CLIENT_POST_FILES_FAIL",t)}function kc(e,t){return Ia(Z(e),"GET_PRIVATE_POST_FILES_START","GET_PRIVATE_POST_FILES_SUCCESS","GET_PRIVATE_POST_FILES_FAIL",t)}function wc(e,t){return Ia(function(e){return W({method:"POST",url:"/v1/download-file/".concat(e.file_id),data:e})}(e),"REMOVE_FILE_DOWNLOAD_START","REMOVE_FILE_DOWNLOAD_SUCCESS","REMOVE_FILE_DOWNLOAD_FAIL",t)}function Nc(e,t){return Pa("INCOMING_REMOVED_FILE_AFTER_DOWNLOAD",e,t)}function xc(e,t){return Pa("INCOMING_REMOVED_FILE_AUTOMATICALLY",e,t)}function Rc(){var e=Object(f.a)(["\n  padding-right: 16px;\n  ","\n  &:hover {\n    cursor: ",";\n    color: ",";\n\n    svg.feather-trash-2 {\n      color: #505050;\n    }\n  }\n  @media all and (max-width: 460px) {\n    width: 100%;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  svg {\n    &.feather-trash-2 {\n      position: absolute;\n      margin-left: 5px;\n      width: 11px;\n      top: -1px;\n      right: 0;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n"]);return Rc=function(){return e},e}function Ic(){var e=Object(f.a)(["\n  width: 10px;\n  height: 10px;\n  margin-right: 10px;\n"]);return Ic=function(){return e},e}function Pc(){var e=Object(f.a)(["\n  ","\n  position: absolute;\n  z-index: 1000;\n  background-color: #fff;\n  padding: 10px 10px 5px;\n  border: 1px solid #e1e1e1;\n  border-radius: 8px;\n\n  &.orientation-top {\n    top: ","px;\n  }\n  &.orientation-bottom {\n    top: ",";\n  }\n  &.orientation-left {\n    right: 30px;\n    left: auto;\n  }\n  &.orientation-right {\n    left: 30px;\n    right: auto;\n  }\n\n  .fa {\n    font-size: 42px;\n  }\n  .file {\n    max-width: 200px;\n    max-height: 200px;\n    display: block;\n    border: 1px solid #e1e1e1;\n    border-radius: 8px;\n  }\n  .file-name {\n    display: block;\n  }\n  .file-delete {\n    margin-top: 10px;\n    cursor: pointer;\n    cursor: hand;\n    display: inline-block;\n    font-weight: bold;\n\n    &:hover {\n      color: #f44;\n    }\n\n    svg {\n      width: 11px;\n      height: 11px;\n      position: relative;\n      top: -1px;\n      margin-right: 5px;\n    }\n  }\n"]);return Pc=function(){return e},e}function Dc(){var e=Object(f.a)(["\n  position: relative;\n  transition: all 0.3;\n\n  ul {\n    padding: 0;\n\n    li {\n      list-style: none;\n      position: relative;\n    }\n  }\n"]);return Dc=function(){return e},e}var Lc,Fc=E.a.div(Dc()),Mc=E.a.span(Pc(),(function(e){return e.hide&&"display: none;"}),(function(e){return e.offsetTop-(e.clientHeight+20)}),(function(e){return e.offsetTop})),Uc=Object(E.a)(pn)(Ic()),Gc=E.a.li(Rc(),(function(e){return e.isDeleted&&"text-decoration: line-through;"}),(function(e){return e.isDeleted?"inherit":"pointer"}),(function(e){return e.isDeleted?"inherit":"#972c86"}),(function(e){return e.isDeleted?"inherit":"#972c86"})),Hc=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.attachedFiles,o=e.handleRemoveFile,c=e.scrollRef,s=void 0===c?null:c,d=e.type,u=void 0===d?"modal":d,m=e.comment,p=void 0===m?null:m,f=e.showDelete,h=void 0===f||f,E=Object(l.useDispatch)(),O=Object(b.i)(),g=Object(n.useState)(null),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(l.useSelector)((function(e){return e.session})).user,T={main:Object(n.useRef)(null),tooltip:Object(n.useRef)(null)},y=function(e){var t=e.currentTarget.dataset.targetIndex;if(!i[t].deleted_at)if("modal"===u)null!==A&&A.file.id===i[t].id?S(e):j({file:i[t],offsetTop:e.currentTarget.offsetTop+20});else{var a={file_id:i[t].id,files:i};E(Fi(a))}},S=function(){j(null)},k=function(e){if(e.preventDefault(),e.stopPropagation(),"modal"===u)o(e.currentTarget.dataset.fileId),j(null);else if(O.hasOwnProperty("postId")){var t=e.currentTarget.dataset.fileId,a={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this file?",actions:{onSubmit:function(){E(go({file_id:t,post_id:O.postId,message_id:p?p.id:null}))}}};E(Ye(a))}},w=fs(T.main,T.tooltip,s,null!==A).orientation;return Ka(T.main,S,null!==A),r.a.createElement(Fc,{ref:T.main,className:"file-attachments ".concat(a),onMouseLeave:function(){setTimeout((function(){j(null)}),500)}},r.a.createElement("ul",{className:"files"},i.map((function(e,t){return r.a.createElement(Gc,{"data-target-index":t,key:t,onClick:y,title:e.search?e.search:e.name,isDeleted:e.deleted_at},r.a.createElement(Uc,{icon:"paperclip"}),e.search?e.search:e.name,!e.deleted_at&&h&&("modal"===u||C.id===e.uploader.id)&&r.a.createElement(pn,{"data-file-id":e.id,onClick:k,icon:"trash-2"}))}))),null!==A&&r.a.createElement(Mc,{ref:T.tooltip,hide:null===w.horizontal||null===w.vertical,className:"tool-tip orientation-".concat(w.horizontal," orientation-").concat(w.vertical),clientHeight:w.clientHeight,offsetTop:A.offsetTop},r.a.createElement("a",{target:"_blank",href:A.file.src},function(e){switch(e.type){case"IMAGE":return e.hasOwnProperty("src")?r.a.createElement("img",{className:"file",src:e.src,alt:e.name}):r.a.createElement("img",{className:"file",src:e.view_link,alt:e.name});case"VIDEO":return e.hasOwnProperty("src")?r.a.createElement("video",{className:"file",controls:!0,playsInline:!0,autoPlay:!1,src:e.src}):r.a.createElement("video",{className:"file",controls:!0,playsInline:!0,autoPlay:!1,src:e.view_link});default:if(e.rawFile)switch(e.rawFile.type){case"application/x-zip-compressed":return r.a.createElement("i",{className:"fa fa-file-zip-o text-primary"});case"application/pdf":return r.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"});case"text/plain":return r.a.createElement("i",{className:"fa fa-file-text-o text-warning"});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return r.a.createElement("i",{className:"fa fa-file-excel-o text-success"});default:return r.a.createElement("i",{className:"fa fa-file text-warning"})}else switch(e.type){case"application/x-zip-compressed":return r.a.createElement("i",{className:"fa fa-file-zip-o text-primary"});case"application/pdf":return r.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"});case"text/plain":return r.a.createElement("i",{className:"fa fa-file-text-o text-warning"});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return r.a.createElement("i",{className:"fa fa-file-excel-o text-success"});default:return r.a.createElement("i",{className:"fa fa-file text-warning"})}}}(A.file),r.a.createElement("span",{className:"file-name"},A.file.name)),h&&r.a.createElement("span",{className:"file-delete","data-file-id":A.file.id,onClick:k},r.a.createElement(pn,{icon:"trash-2"})," Delete")))})),Bc=E.a.div(Lc||(Lc=Object(f.a)(["\n  position: relative;\n\n  .dropdown-toggle {\n    color: #212529 !important;\n\n    .dark & {\n      color: #c7c7c7 !important;\n    }\n\n    &:after {\n      margin-left: 10px;\n    }\n\n    &.show {\n      background: #afb8bd;\n      border-color: #afb8bd;\n      box-shadow: 0 0 0 0.2rem rgba(175, 184, 189, 0.4);\n    }\n    &:focus {\n      box-shadow: 0 0 0 0.2rem rgba(175, 184, 189, 0.4);\n    }\n  }\n  .dropdown-item {\n    cursor: pointer;\n  }\n"]))),Wc=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.value,o=void 0===i?null:i,c=e.dropdown,s=Object(n.useRef)(),l=Object(n.useState)(!1),d=Object(_.a)(l,2),u=d[0],m=d[1],p=function(){m(!u)};Ka(s,p,u);var f=c.items.find((function(e){return e.value===o}));return r.a.createElement(Bc,{className:"button-dropdown ".concat(a),ref:s},r.a.createElement("span",{className:"btn btn-outline-light dropdown-toggle d-flex justify-content-between ".concat(u?"show":""," ").concat(null!==o?"active":""),"data-toggle":"dropdown",onClick:p},c.label," ",f?f.label:""),r.a.createElement("div",{className:"dropdown-menu ".concat(u?"show":"")},c.items.map((function(e){return r.a.createElement("span",{className:"dropdown-item d-flex justify-content-between ".concat(o===e.value?"active":""),key:e.value,"data-value":e.value,onClick:function(t){e.onClick(t),p()}},e.label)}))))})),Yc=a(276),Vc=a.n(Yc),Qc=function(e){var t=e.className,a=void 0===t?"":t,i=e.calendarIcon,o=void 0===i?null:i,c=e.clearIcon,s=void 0===c?null:c,l=e.dayPlaceholder,d=void 0===l?"dd":l,u=e.monthPlaceholder,m=void 0===u?"mm":u,p=e.yearPlaceholder,f=void 0===p?"yy":p,b=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(b.current){var e=b.current;e.onOutsideAction=function(t){e.wrapper&&!e.wrapper.contains(t.target)&&e.closeCalendar()}}})),r.a.createElement(Vc.a,Object.assign({className:"react-datetime-picker ".concat(a),ref:b,calendarIcon:o,clearIcon:s,dayPlaceholder:d,monthPlaceholder:m,yearPlaceholder:f},e))};function Kc(){var e=Object(f.a)([""]);return Kc=function(){return e},e}var zc=Object(E.a)(nn.a)(Kc()),qc=r.a.memo((function(e){var t=e.arrowSize,a=void 0===t?5:t,n=e.distance,i=void 0===n?10:n,o=e.content,c=e.children,s=e.direction,l=void 0===s?"up-middle":s,d=Object(I.a)(e,["arrowSize","distance","content","children","direction"]);return r.a.createElement(zc,Object.assign({direction:l,arrowSize:a,distance:i,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:o,zIndex:2e3},d),c)})),Jc=function(e){var t=e.className,a=void 0===t?"":t,n=e.label,i=e.badgeClassName,o=void 0===i?"badge-light text-white":i;return r.a.createElement("div",{className:"badge-wrapper mr-3 d-sm-inline d-none ".concat(a," ")},r.a.createElement("div",{className:"badge ".concat(o)},n))};function Zc(){var e=Object(f.a)(["\n  cursor: pointer;\n  padding: 0.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  background-color: rgba(255, 255, 225, 0.1);\n  border-radius: 6px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: #f8f8f8;\n  color: #696969 !important;\n  a {\n    text-decoration: none;\n    color: #696969 !important;\n    &.gdrive-link {\n      display: flex;\n    }\n\n    span {\n      &.link {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        max-width: calc(100% - 140px);\n        overflow: hidden;\n        display: inline-block;\n        margin-right: 0.1rem;\n        padding: 0;\n        line-height: 1.8;\n        position: relative;\n      }\n      &.preview-text {\n        font-weight: bold;\n        color: #696969 !important;\n      }\n    }\n  }\n"]);return Zc=function(){return e},e}E.a.div(Zc());var Xc,$c=E.a.a(Xc||(Xc=Object(f.a)(["\nborder-radius: 5px !important;\nbackground-color: #FFF !important;\nbox-shadow: 0 1px 1px 0 rgba(0,0,0,0.11) !important; \ntext-decoration: none !important;\ndisplay: inline-block;\nheight: auto !important;\npadding:5px 10px;\nmargin-bottom: 5px;\ncolor: #000 !important;\nfont-family: Inter !important;\nfont-size: 13px !important;\nletter-spacing: 0 !important;\nline-height: 21px !important;\nmargin-right: 1pt;\nmargin-left: 1pt;\n::before { content : url(",");  display: inline-block;vertical-align: middle;line-height: normal; padding-right: .3em;}\n"])),(function(e){return e.favlink})),es=function(e){var t=e.link,a=e.title;return r.a.createElement($c,{href:"".concat(t),target:"_blank",favlink:"https://www.google.com/s2/favicons?domain="+t},a)};function ts(){var e=Object(f.a)(["\n  margin: 10px;\n  border-radius: 8px;\n  background: #f0f0f0;\n  padding: 10px;\n  display: block;\n  .dark & {\n    background: #191c20;\n  }\n  .mention-name {\n    color: #7a1b8b;\n  }\n  button {\n    margin-right: 10px;\n  }\n"]);return ts=function(){return e},e}var as=E.a.div(ts()),ns=function(e){var t=e.onAddUsers,a=e.onDoNothing,n=e.userIds,i=e.type,o=void 0===i?"post":i,c=e.basedOnUserId,s=void 0!==c&&c,d=e.userMentionOnly,u=void 0!==d&&d,m=vs()._t,p="external"===Object(l.useSelector)((function(e){return e.session.user})).type,f=Object(l.useSelector)((function(e){return e.users.mentions})),b=Object(l.useSelector)((function(e){return e.global.recipients})),h=Object(Rt.a)(b).filter((function(e){return!u||"USER"===e.type})).map((function(e){return"USER"===e.type?Object(R.a)(Object(R.a)({},e),{},{type:f[e.type_id]?f[e.type_id].type:"internal"}):e})),E=Object.values(h).filter((function(e){return s?n.some((function(t){return t===e.type_id})):n.some((function(t){return t===e.id}))})),_={addToChat:m("MENTION.ADD_TO_CHAT","Add to chat"),addToPost:m("MENTION.ADD_TO_POST","Add to post"),addToWorkspace:m("MENTION.ADD_TO_WORKSPACE","Add to workspace"),notChatMembers:m("MENTION.NOT_CHAT_MEMBERS","but they are not members of this chat"),notWorkspaceMembers:m("MENTION.NOT_WORKSPACE_MEMBERS","but they are not members of this workspace"),notPostRecipients:m("MENTION.NOT_POST_RECIPIENTS","but they are not recipients of this post"),doNothing:m("MENTION.DO_NOTHING","Do nothing"),youMentioned:m("MENTION.YOU_MENTIONED","You mentioned"),and:m("GENERAL.AND","and")},O=_.notPostRecipients,g=_.addToPost;return"chat"===o?(O=_.notChatMembers,g=_.addToChat):"workspace"===o&&(O=_.notWorkspaceMembers,g=_.addToWorkspace),p?null:r.a.createElement(as,null,r.a.createElement("div",null,r.a.createElement("p",null,_.youMentioned,"\xa0",E.map((function(e,t){var a="WORKSPACE"===e.type||"TOPIC"===e.type?"/":"@";return t===E.length-1&&E.length>1?r.a.createElement("div",{className:"mention-data"},r.a.createElement("span",{key:t,className:"mention-normal"}," ",_.and,r.a.createElement("span",{className:"mention","data-denotation-char":"@","data-id":e.type_id,"data-value":e.name},r.a.createElement("span",{className:"mention-name pointer","data-mid":e.type_id,onClick:function(e){e.stopPropagation()}},r.a.createElement("span",{className:"ql-mention-denotation-char"},a),e.name)))):r.a.createElement("span",{key:t,className:"mention","data-denotation-char":"@","data-id":e.type_id,"data-value":e.name},r.a.createElement("span",{className:"mention-name pointer","data-mid":e.type_id,onClick:function(e){e.stopPropagation()}},r.a.createElement("span",{className:"ql-mention-denotation-char"},a),e.name,","))})),"\xa0",O)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){t(E)}},g),r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){a(E)}},_.doNothing)))};function rs(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem 0;\n  border-bottom: 1px solid #ebebeb;\n"]);return rs=function(){return e},e}var is=E.a.div(rs()),os=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.type,i=e.todoReminder,o=Object(I.a)(e,["className","type","todoReminder"]),c=Ap().localizeDate,s=vs()._t,l={reminderText:s("REMINDER.REMINDER_TEXT","A reminder is set for this ::type:: on ::date::",{type:function(){switch(n){case"POST":return s("REMINDER.TYPE_POST","post");case"POST_COMMENT":return s("REMINDER.TYPE_POST_COMMENT","comment");case"CHAT_MESSAGE":return s("REMINDER.TYPE_CHAT_MESSAGE","chat message")}}(),date:i.remind_at?c(i.remind_at.timestamp):i.reminder_at?c(i.reminder_at.timestamp):""})};return r.a.createElement(is,Object.assign({className:"".concat(a)},o),r.a.createElement(pn,{className:"mr-2",height:"16",width:"16",icon:"clock"})," ",l.reminderText)})),cs=a(277),ss=a.n(cs),ls=(a(228),r.a.memo((function(e){var t=e.body,a=e.autoPlay,i=void 0===a||a,o=Object(I.a)(e,["body","autoPlay"]),c=pp(),s=c.gifBlobs,l=c.actions.setGifSrc,d=Object(n.useState)({}),u=Object(_.a)(d,2),m=u[0],p=u[1];Object(n.useEffect)((function(){var e=t.match(Ut);e&&e.forEach((function(e){var t,a=e.replace("&amp;rid=giphy.gif","&rid=giphy.gif"),n=a.substring(a.indexOf("cid")+4);n=n.substring(0,n.length-"&rid=giphy.gif".length),s[(t={id:n,src:a}).id]?(t=Object(R.a)(Object(R.a)({},t),{},{blob:s[t.id]}),p((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},t.id,t))}))):(l({id:t.id,src:""}),fetch(t.src).then((function(e){return e.blob()})).then((function(e){var a=URL.createObjectURL(e);l({id:t.id,src:a}),p((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},t.id,Object(R.a)(Object(R.a)({},t),{},{blob:a})))}))}),(function(e){console.log(e,"error")})))}))}),[]);var f=Object.values(m);return r.a.createElement(r.a.Fragment,null,!f.some((function(e){return"undefined"===typeof e.blob}))&&f.map((function(e){return r.a.createElement(ss.a,Object.assign({className:"blob-gif-player gif-player",key:e.id,gif:e.blob,autoplay:i},o))})))}))),ds=function(e){var t=e.dictionary,a=e.formRef,n=e.selectedAddressTo,i=e.workspaceIds,o=e.userOptions;return r.a.createElement("div",{className:"post-visibility-container",ref:function(e){var t,n;if(e){a.visibilityInfo.current=e;var r=e.querySelector(".user-popup:not([data-event='1'])");r&&(r.addEventListener("mouseover",(function(){if(a.visibilityInfo.current){var e=a.visibilityInfo.current.querySelector(".user-list"),n=a.visibilityInfo.current.querySelector(".user-popup");t=setTimeout((function(){n.matches(":hover")&&e.classList.add("active")}),1e3)}})),r.addEventListener("mouseout",(function(){a.visibilityInfo.current&&(a.visibilityInfo.current.querySelector(".user-list").classList.remove("active"),clearTimeout(t))})),r.dataset.event="1");var i=e.querySelector(".workspace-popup:not([data-event='1'])");i&&(i.addEventListener("mouseover",(function(){if(a.visibilityInfo.current){var e=a.visibilityInfo.current.querySelector(".workspace-list"),t=a.visibilityInfo.current.querySelector(".workspace-popup");n=setTimeout((function(){t.matches(":hover")&&e.classList.add("active")}),1e3)}})),i.addEventListener("mouseout",(function(){a.visibilityInfo.current&&(a.visibilityInfo.current.querySelector(".workspace-list").classList.remove("active"),clearTimeout(n))})),i.dataset.event="1")}}},r.a.createElement("span",{className:"user-list"},o.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement("span",{title:e.email,className:"user-list-item d-flex justify-content-start align-items-center pt-2 pb-2"},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id}),r.a.createElement("span",{className:"item-user-name"},e.name)))}))),r.a.createElement("span",{className:"workspace-list"},n.filter((function(e){return i.includes(e.type_id)})).map((function(e){return r.a.createElement("span",{className:"d-flex justify-content-start align-items-center pt-2 pb-2",key:e.id},r.a.createElement("span",{className:"item-workspace-name"},e.name))}))),r.a.createElement("span",{className:"d-flex align-items-center post-info",dangerouslySetInnerHTML:{__html:t.postVisibilityInfo}}))},us=a(16),ms=function(e){var t=e.mode,i=e.callback,o=void 0===i?null:i,c=e.removeMention,s=void 0===c?null:c,d=e.mentionOrientation,u=void 0===d?"top":d,m=e.quillRef,p=e.members,f=void 0===p?[]:p,b=e.workspaces,h=void 0===b?[]:b,E=e.disableMention,O=void 0!==E&&E,g=e.setInlineImages,v=void 0===g?null:g,j=e.prioMentionIds,C=void 0===j?[]:j,T=e.post,y=void 0===T?null:T,S=e.setImageLoading,k=void 0===S?null:S,w=Object(n.useState)({}),N=Object(_.a)(w,2),x=N[0],I=N[1],P=Object(n.useState)([]),D=Object(_.a)(P,2),L=D[0],F=D[1],M=Object(l.useSelector)((function(e){return e.global.recipients})),U=Object(l.useSelector)((function(e){return e.users.mentions})),G=Object(l.useSelector)((function(e){return e.session.user})),H=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),B=Ss(H),W=Ss(y),Y=Object(n.useRef)(o),V=Object(n.useRef)(s);Object(n.useEffect)((function(){Y.current=o,V.current=s}));var Q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),K=Q.REACT_APP_apiProtocol,q=Q.REACT_APP_localDNSName,J=function(){if(0!==Object.keys(U).length){var e={id:a(40).generate(),profile_image_link:a(545),value:"All",name:"All users in this channel",class:"all-pic",show_line:!1},n=[],i=[],o=C;n=f.length?[].concat(Object(Rt.a)(f.sort((function(e,t){return C.length?o.some((function(t){return t===e.id}))&&o.some((function(e){return e===t.id}))?0:o.some((function(t){return t===e.id}))?-1:1:0})).map((function(e,t){var a=M.find((function(t){return"USER"===t.type&&e.id===t.type_id}));return Object.assign({},e,{value:e.first_name,id:a?a.id:e.id,name:e.name,type:e.type,type_id:e.id,user_id:e.id,class:"user-pic",profile_image_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link?e.profile_image_link:Za.a,link:"".concat(K).concat(localStorage.getItem("slug"),".").concat(q,"/profile/").concat(e.id,"/").concat(Wt(e.name)),show_line:C.length===t+1})}))),[e]):[].concat(Object(Rt.a)(Object.values(U).sort((function(e,t){return C.length?o.some((function(t){return t===e.id}))&&o.some((function(e){return e===t.id}))?0:o.some((function(t){return t===e.id}))?-1:1:0})).map((function(e,t){var a=M.find((function(t){return"USER"===t.type&&e.id===t.type_id}));return Object.assign({},e,{value:e.first_name,id:a?a.id:e.id,name:e.name,type:e.type,type_id:e.id,user_id:e.id,class:"user-pic all-users",profile_image_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link?e.profile_image_link:Za.a,link:"".concat(K).concat(localStorage.getItem("slug"),".").concat(q,"/profile/").concat(e.id,"/").concat(Wt(e.name)),show_line:C.length===t+1})}))),[e]),Object.keys(h).length&&(i=Object(Rt.a)(Object.entries(h).map((function(e,t){var a=Object(_.a)(e,2),n=(a[0],a[1]);return Object.assign({},n,Object(R.a)(Object(R.a)({},n),{},{value:n.name,name:n.name,id:n.id,type:"TOPIC",type_id:n.id,icon:"compass",profile_image_link:$a.a,link:"".concat(K).concat(localStorage.getItem("slug"),".").concat(q,"/workspace/chat/").concat(n.id,"/").concat(Wt(n.name))}))})))),O?(n=[],i=[]):(F(n),F(i));var c={magicUrl:!0,clipboard:{allowed:{tags:["a","b","strong","u","s","i","p","br","ul","ol","li","div","span"],attributes:["href","rel","target","class"]}},mention:{allowedChars:/^[A-Za-z\s\xc5\xc4\xd6\xe5\xe4\xf6\xeb]*$/,defaultMenuOrientation:u,spaceAfterInsert:!0,fixMentionsToQuill:!1,mentionDenotationChars:["@","/"],minChars:0,dataAttributes:["id","value","denotationChar","link","target","disabled","type_id","type","show_line"],source:function(e,t,a){var r;if("@"===a&&(r=n),"/"===a&&(r=i),0===e.length)t(r,e);else{var o,c=[];for(o=0;o<r.length;o++)~r[o].value.toLowerCase().indexOf(e.toLowerCase())&&c.push(r[o]);t(c,e)}},renderItem:function(e,t){var a={position:"relative",width:"30px",height:"30px",minWidth:"30px",minHeight:"30px",borderRadius:"50%",marginRight:"10px",zIndex:"1",pointerEvents:"auto",border:"none",overflow:"hidden",cursor:"pointer"};return"string"===typeof e.id&&(a={position:"relative",width:"24px",height:"24px",minWidth:"24px",minHeight:"24px",borderRadius:"50%",marginRight:"10px",zIndex:1,pointerEvents:"auto",border:"none",overflow:"hidden",cursor:"pointer"}),Object(us.renderToString)(r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:e.class,style:a},"WORKSPACE"===e.type||"TOPIC"===e.type?r.a.createElement(pn,{icon:"compass",width:24,height:24,strokeWidth:"3"}):r.a.createElement("img",{src:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,style:{width:"100%",height:"100%",position:"absolute",left:0,top:0},alt:e.value})),"\xa0"," ",r.a.createElement("span",{style:{width:"auto",lineHeight:1.35}},e.name," ","external"===e.type&&"internal"===G.type&&r.a.createElement(pn,{icon:"share",width:14,height:14,strokeWidth:"3"}))))}},toolbar:["bold","italic","image","link"],keyboard:{bindings:{tab:!1,handleBackspace:{key:8,metaKey:!(!A.osName.includes("Mac")||"chat"===t),handler:function(e,a){0===e.index&&0===e.length||(0===e.length?this.quill.deleteText(e.index-1,1,za.Quill.sources.USER):this.quill.deleteText(e,za.Quill.sources.USER),"post_comment"===t&&V.current())}},handleEnter:{key:13,metaKey:!(!A.osName.includes("Mac")||"chat"===t),ctrlKey:!(!A.osName.includes("Windows")&&!A.osName.includes("Linux")||"chat"===t),handler:function(){Y.current()}},linebreak:{key:13,metaKey:!0,handler:function(e,a){A.osName.includes("Mac")&&"chat"===t&&(m.current.getEditor().insertEmbed(e.index+1,"block",!0,"user"),m.current.getEditor().setSelection(e.index+1,za.Quill.sources.SILENT))}},disableUnderline:{key:85,ctrlKey:!0,handler:function(){console.warn("copy paste pressed")}}}}};"chat"===t||(c=Object(R.a)(Object(R.a)({},c),{},{imageUploader:{upload:function(e){if(v)return k&&k(!0),new Promise((function(t,a){var n=new FormData;n.append("file",e),z({user_id:G.id,file:n,file_type:"private",folder_id:null}).then((function(e){v&&v((function(t){return[].concat(Object(Rt.a)(t),[e.data])})),k&&k(!1),t(e.data.thumbnail_link)})).catch((function(e){a("Upload failed"),k&&k(!1),console.error("Error:",e)}))}))}}})),I(c)}};Object(n.useEffect)((function(){J()}),[]),Object(n.useEffect)((function(){Object.keys(U).length&&Object.keys(U).length+1!==L.length&&J()}),[Object.keys(U).length,L.length]),Object(n.useEffect)((function(){"chat"===t&&H&&B&&B.id!==H.id&&J()}),[t,H,B]),Object(n.useEffect)((function(){"post_comment"===t&&y&&"undefined"===typeof W&&J()}),[t,y,W]),Object(n.useEffect)((function(){J()}),[M.length,f.length,C.length]);return{modules:x,formats:["background","bold","color","font","code","italic","link","size","strike","script","blockquote","header","indent","list","align","direction","image","video"]}},ps=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=Object(l.useSelector)((function(e){return e.session.user})),i=Object(l.useSelector)((function(e){return e.chat.searchArchivedChannels})),o=am(),c=o.chatSettings,s=[],d=Object.values(e).filter((function(e){var o=e.members.some((function(e){return e.id===r.id}));if("DIRECT"===e.type&&2===e.members.length){var c=e.members.find((function(e){return e.id!==r.id}));if(c&&s.includes(c))return!1;c&&s.push(c)}if("undefined"===typeof e.add_user&&(e.add_user=!1),"undefined"===typeof e.add_open_topic&&(e.add_open_topic=!o),a.type&&"DIRECT"===a.type){if("DIRECT"!==e.type&&"PERSON"!==e.type)return!1;if(2!==e.members.length)return!1}return!(n&&("TOPIC"!==e.type||!o))&&(e.is_relevant=0,t.length>=5&&"DIRECT"===e.type&&e.members.filter((function(e){return e.id!==r.id})).some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())}))&&(e.is_relevant=1),""===t?!(e.is_hidden||!0===e.is_archived||e.add_user||e.add_open_topic):"DIRECT"===e.type&&2===e.members.length?e.members.filter((function(e){return e.id!==r.id})).some((function(a){return(-1!==a.email.toLowerCase().search(t.toLowerCase())||-1!==a.name.toLowerCase().search(t.toLowerCase()))&&(!!i||!e.is_archived)})):!(-1===e.search.toLowerCase().search(t.toLowerCase())&&-1===e.title.toLowerCase().search(t.toLowerCase())&&!e.members.filter((function(e){return e.id!==r.id})).some((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(-1!==t.toLowerCase())})))&&(!!i||!e.is_archived))})).sort((function(e,a){var n;if(0!==(n=a.is_relevant-e.is_relevant))return n;if((e.add_user||e.add_open_topic)&&!a.add_user&&!a.add_open_topic)return 1;if((a.add_user||a.add_open_topic)&&!e.add_user&&!e.add_open_topic)return-1;if(0!==n)return n;if(""!==t){if("DIRECT"!==e.type||"DIRECT"!==a.type){if("DIRECT"===e.type)return-1;if("DIRECT"===a.type)return 1}if(!e.last_reply&&!a.last_reply&&("DIRECT"===e.type||"DIRECT"===a.type)){if("DIRECT"===e.type)return-1;if("DIRECT"===a.type)return 1}}if(t.length>2){if((a.is_hidden||!0===a.is_archived)&&!e.is_hidden&&!0!==a.is_archived)return-1;if((e.is_hidden||!0===e.is_archived)&&!a.is_hidden&&!0!==a.is_archived)return 1}if("channel_date_updated"===c.order_channel.order_by){if(e.last_reply&&a.last_reply)return e.last_reply.created_at.timestamp===a.last_reply.created_at.timestamp?e.title.localeCompare(a.title):a.last_reply.created_at.timestamp-e.last_reply.created_at.timestamp;if(e.last_reply&&!a.last_reply)return-1;if(!e.last_reply&&a.last_reply)return 1;if(!e.last_reply&&!a.last_reply)return e.title.localeCompare(a.title)}return"channel_name"===c.order_channel.order_by?e.title.localeCompare(a.title):void 0}));return{sortedChannels:d,favoriteChannels:d.filter((function(e){return e.is_pinned})),searchArchivedChannels:i}},fs=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.horizontal,c=void 0===o?0:o,s=Object(n.useState)({vertical:null,horizontal:null,clientHeight:null}),l=Object(_.a)(s,2),d=l[0],u=l[1],m=function(){if(!e)return null;var n=e.current.getBoundingClientRect();return a?a.clientHeight-n.y>t.current.clientHeight/2?"bottom":"top":n.y-t.current.clientHeight<t.current.clientHeight?"bottom":"top"},p=function(){if(!e)return null;var t=e.current.getBoundingClientRect(),n=window.innerWidth/2,r=0;return a&&(r=a.parentElement.getBoundingClientRect().x,n=a.parentElement.clientWidth/2),r+=c,t.x-r<n?"right":"left"},f=zt.a.debounce((function(){t.current&&u({vertical:m(),horizontal:p(),clientHeight:t.current.clientHeight})}),100);return Object(n.useEffect)((function(){if(r)return f(),a&&a.addEventListener("scroll",f),function(){a&&a.removeEventListener("scroll",f)}}),[r,a,p,m,t,e]),Object(n.useEffect)((function(){r&&0===d.clientHeight&&f()}),[r,d]),{orientation:d}},bs=a(69),hs=a(70),Es=function(){function e(){Object(bs.a)(this,e)}return Object(hs.a)(e,null,[{key:"generate",value:function(t){return t=e.convertColon(t)}},{key:"convertContentByTag",value:function(e,t){for(var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.querySelectorAll(t),r=0,i=n.length;r<i;r++){var o=/:(.*?):/i,c=n[r].innerHTML,s=[];c.startsWith('<span class="ql-mention-denotation-char">')||(s=c.split(" "));var l,d=[],u=0,m=!1,p=!1,f=Object(Qt.a)(s);try{for(f.s();!(l=f.n()).done;){var b=l.value;if("<span"!==b)if(b.endsWith("</a></span></span>"))m=!1,d.push(b),u++;else if(!m||0!==b.length&&(b.startsWith("http")||b.length<=3))if("<a"!==b)if(b.endsWith("</a>"))p=!1,d.push(b),u++;else if(p)d.push(b),u++;else{switch(b){case":S":b=":worried:"}if("\u263a\ufe0f\ufe0f"===b)b="\ud83d\ude0a";else if(o.test(b))switch(b){case":thinking_face:":b="\ud83e\udd14";break;case":relaxed:":b="\ud83d\ude0a";break;default:b=Bt(b)}else if(b.length<=4&&b.length>=2){var h=Bt(b);!0!==a?h!==b&&(b=h):u!==s.length-1&&h!==b&&(b=h)}d.push(b),u++}else p=!0,d.push(b),u++;else d.push(b),u++;else m=!0,d.push(b),u++}}catch(E){f.e(E)}finally{f.f()}n[r].innerHTML=d.join(" ")}}},{key:"convertColon",value:function(e){var t=document.createElement("div");return t.innerHTML=e,this.convertContentByTag(t,"span",!1),this.convertContentByTag(t,"div"),this.convertContentByTag(t,"p"),this.convertContentByTag(t,"li"),t.innerHTML}},{key:"parseEmoji",value:function(e){if(null===e)return"";var t=document.createElement("div");return t.innerHTML=e,this.convertContentByTag(t,"span",!1),this.convertContentByTag(t,"div",!1),this.convertContentByTag(t,"p",!1),this.convertContentByTag(t,"li",!1),t.innerHTML}},{key:"parseToText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{imageVideo:!1},a=document.createElement("DIV");return t.imageVideo?a.innerHTML=e.replace(/<img[^>]*>/g,"::image::"):a.innerHTML=e,a.textContent||a.innerText||""}},{key:"parseToTextImageVideo",value:function(e){return this.parseToText(e,{imageVideo:!0}).replace("::image::",Object(us.renderToString)(r.a.createElement(fn,{className:"ml-1",icon:"image-video"})))}}]),e}(),_s={dict:"i18n",lang:"i18n_lang",name:"i18n_ver"},Os=!1,gs=function(){var e=Object(l.useDispatch)(),t=Object(l.useSelector)((function(e){return e.session})),a=Qa().registeredDriff,r=am(),i=r.driffSettings,o=r.generalSettings.language,c=r.setGeneralSetting,s=localStorage.getItem("i18n")?JSON.parse(localStorage.getItem("i18n")):{},d=localStorage.getItem("i18new")?JSON.parse(localStorage.getItem("i18new")):{},u=Object(n.useState)(""),m=Object(_.a)(u,2),p=m[0],f=m[1],b=a?"https://{{driffName}}.driff.io/api/lang".replace("{{driffName}}",a):"https://{{driffName}}.driff.io/api/lang".replace("{{driffName}}.",""),h={main:(navigator.language||navigator.userLanguage).split("-")[0],exact:navigator.language||navigator.userLanguage};Object(n.useEffect)((function(){Os||!t.checked||t.authenticated&&null===o||(Os=!0,localStorage.removeItem("i18n.28082020"),localStorage.removeItem("i18n_lang.28082020"),_s.ver=i.i18n,localStorage.getItem(_s.name)!==_s.ver&&(localStorage.removeItem(_s.dict),localStorage.removeItem(_s.lang),localStorage.setItem(_s.name,_s.ver)),f(o?"".concat(b,"/").concat(o):"".concat(b,"/").concat(h.exact)))})),Object(n.useEffect)((function(){p&&e($e({url:p},(function(e,t){e&&console.log(e,p,"error loading dictionary file"),t&&(0===t.data.length?p==="".concat(b,"/").concat(h.exact)?f("".concat(b,"/").concat(h.main)):p==="".concat(b,"/").concat(h.main)&&f("".concat(b,"/en")):c({language:p.split("/").pop()}))})))}),[e,p,b]);var E=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=a;if(null!==s&&"undefined"!==typeof s[e])r=s[e];else if(null!==s&&"undefined"===typeof s[e]&&!d.hasOwnProperty(e)&&t.authenticated&&t.user&&["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(t.user.email)){var i=Object(R.a)(Object(R.a)({},d),{},Object(x.a)({},e,a));localStorage.setItem("i18new",JSON.stringify(i))}if(null!==n)for(var o in n)if(n.hasOwnProperty(o)){var c=new RegExp("::"+o+"::","ig");r=null===n[o]?r.replace(c,""):r.replace(c,n[o])}return H()?"** ".concat(r," **"):r};return Object(n.useEffect)((function(){localStorage.setItem(_s.lang,o)}),[o]),{init:Os,_t:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return E(e,t,a)},setLocale:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="".concat(b,"/").concat(t);!1!==k(n,!1)&&(e($e({url:n},(function(e,t){e&&console.log(e),t&&a&&a()}))),c({language:t}))},uploadTranslationToServer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=[],n="You are about to add the following words to the dictionary files, continue?";n+="<table>",Object.keys(d).forEach((function(e){n+="<tr>",n+="<td>".concat(e,"</td>"),n+="<td>".concat(d[e],"</td>"),n+="</tr>",a.push(Object(x.a)({},e,d[e]))}));var r=function(){e(et(a,t))},i={type:"confirmation",headerText:"Translation - Add",submitText:"Add",cancelText:"Cancel",bodyText:n+="</table>",size:"lg",actions:{onSubmit:r}};e(Ye(i))}}},vs=gs;function As(){var e=Object(f.a)(['\n  display: inline-block;\n  position: relative;\n  margin-left: 0.5rem;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  &:before {\n    position: absolute;\n    left: -14px;\n    top: -2px;\n    bottom: 0;\n    width: 6px;\n    height: 100%;\n    background: linear-gradient(180deg, rgba(106, 36, 126, 1) 0%, rgba(216, 64, 113, 1) 100%);\n    content: "";\n    border-radius: 6px 0 0 6px;\n  }\n\n  .card-body {\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n    padding: 1rem;\n  }\n']);return As=function(){return e},e}function js(){var e=Object(f.a)(["\n  display: block;\n"]);return js=function(){return e},e}var Cs=Object(E.a)(Zn)(js()),Ts=E.a.a(As()),ys=function(e){var t=Object(b.i)(),a=gs()._t,i=Object(l.useSelector)((function(e){return e.chat.chatQuotes})),o=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),c=Object(n.useState)(null),s=Object(_.a)(c,2),d=s[0],u=s[1],m=Object(n.useState)(null),p=Object(_.a)(m,2),f=p[0],h=p[1];return Object(n.useEffect)((function(){if(Object.keys(i).length>0){var e=Object.values(i).filter((function(e){return e.channel_id===o.id}));if(e.length){u(e[0]),e=e[0];var n="";if(e.user&&(e.body.startsWith('{"Welk punt geef je ons"')||e.body.startsWith("ZAP_SUBMIT::"))){try{var c=JSON.parse(e.body.replace("ZAP_SUBMIT::",""));n="<span class='zap-submit'>",n+="<span>Hoi, ".concat(c.project_manager," Bedrijf ").concat(c.company_name," heeft een NPS review achtergelaten voor project: ").concat(c.project_name,"</span><div><br/></div>"),Object.keys(c).filter((function(e){return"submission_id"!==e})).forEach((function(e){var t;""!==c[e]&&(n+='<span class="data-key">'.concat(e,'</span> : <span class="data-value">').concat(isNaN(c[e])?"true"===(t=c[e]).toLowerCase()?"\ud83d\udc4d":"false"===t.toLowerCase()?"\ud83d\udc4e":t:function(e){for(var t="",a=1;a<=10;a++)t+=Object(us.renderToString)(r.a.createElement(pn,{width:16,icon:"star",fill:a<=e?"#ffc107":"none"}));return t}(parseInt(c[e])),"</span><br/>"))})),n+="</span>"}catch(O){return e.body}}else if(e.user){var s=document.createElement("div");s.innerHTML=e.body;for(var l=s.getElementsByTagName("img"),d=0;d<l.length;d++)n+=Object(us.renderToString)(r.a.createElement(Cs,{className:"image-quote",target:"_blank",href:l[0].getAttribute("src"),icon:"image-video"},"Photo"));for(var m=s.getElementsByTagName("video"),p=0;p<m.length;p++)n+=Object(us.renderToString)(r.a.createElement(Cs,{className:"video-quote",target:"_blank",href:m[0].getAttribute("player-source"),icon:"image-video"},"Video"));e.files&&e.files.forEach((function(e){"image"===e.type?n+=Object(us.renderToString)(r.a.createElement(Cs,{className:"image-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Photo")):"video"===e.type?n+=Object(us.renderToString)(r.a.createElement(Cs,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Video")):n+=Object(us.renderToString)(r.a.createElement(Cs,{target:"_blank",href:e.view_link,icon:"download"},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),n+=Es.parseEmoji(e.body)}else if(e.body.startsWith("CHANNEL_UPDATE"))n=document.getElementById("bot-".concat(e.id)).outerHTML;else if(e.body.startsWith("POST_CREATE::")){if(""!==e.body.replace("POST_CREATE::","").trim()){var f=JSON.parse(e.body.replace("POST_CREATE::","")),b="";b=t&&t.workspaceId?t.folderId?"/workspace/posts/".concat(t.folderId,"/").concat(t.folderName,"/").concat(t.workspaceId,"/").concat(t.workspaceName,"/post/").concat(f.post.id,"/").concat(f.post.title):"/workspace/posts/".concat(t.workspaceId,"/").concat(t.workspaceName,"/post/").concat(f.post.id,"/").concat(f.post.title):"/posts/".concat(f.post.id,"/").concat(f.post.title);var E=Es.parseToText(f.post.description);n=Object(us.renderToString)(r.a.createElement(Ts,{href:b,className:"push-link","data-href":b,"data-has-link":"0","data-ctrl":"0"},r.a.createElement("b",null,f.author.first_name)," created the post ",r.a.createElement("b",null,'"',f.post.title,'"'),""!==E.trim()&&r.a.createElement("span",{className:"card card-body",dangerouslySetInnerHTML:{__html:E}})))}}else if(e.body.startsWith("UPLOAD_BULK::")){var _=JSON.parse(e.body.replace("UPLOAD_BULK::",""));n=_.files&&1===_.files.length?a("SYSTEM.USER_UPLOADED_FILE",'<span class="chat-file-notification">::name:: uploaded <b>::filename::</b></span>',{name:_.author.first_name,filename:_.files[0].search}):a("SYSTEM.USER_UPLOADED_FILES",'<span class="chat-file-notification">::name:: uploaded ::count::  <b>files</b></span>',{name:_.author.first_name,count:_.files.length})}else n=e.body;h(n)}else u(null),h(null)}else u(null),h(null)}),[i,o,a]),[d,f]},Ss=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current},ks=function(e,t){var a=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),r=Object(n.useRef)(e),i=Ss(a);Object(n.useEffect)((function(){r.current=e}));Object(n.useEffect)((function(){null!==i&&null!==a&&i&&i.id!==a.id&&(r.current(),t.current.focus())}),[a,i])};function ws(e,t){return Pa("SET_SELECTED_CHANNEL",e,t)}function Ns(e,t){return Ia(V(e),"GET_CHANNELS_START","GET_CHANNELS_SUCCESS","GET_CHANNELS_FAIL",t)}function xs(e,t){return Ia(Q(e),"UPDATE_CHANNEL_START","UPDATE_CHANNEL_SUCCESS","UPDATE_CHANNEL_FAIL",t)}function Rs(e,t){return Pa("UPDATE_CHANNEL_REDUCER",e,t)}function Is(e,t){return Ia(function(e){var t=e.channel_id,a=Object(I.a)(e,["channel_id"]);return W({method:"PUT",url:"/v2/read-notification-counter/all-chat?channel_id=".concat(t),is_shared:!!e.is_shared,data:a})}(e),"MARK_READ_CHANNEL_START","MARK_READ_CHANNEL_SUCCESS","MARK_READ_CHANNEL_FAIL",t)}function Ps(e,t){return Ia(function(e){var t=e.channel_id,a=Object(I.a)(e,["channel_id"]);return W({method:"PUT",url:"/v2/unread-notification-counter/all-chat?channel_id=".concat(t),is_shared:!!e.is_shared,data:a})}(e),"MARK_AS_UNREAD_CHANNEL_START","MARK_AS_UNREAD_CHANNEL_SUCCESS","MARK_AS_UNREAD_CHANNEL_FAIL",t)}function Ds(e,t){return Ia(function(e){var t="/v2/post-channels/".concat(e.code);return W({method:"GET",url:t})}(e),"GET_CHANNEL_START","GET_CHANNEL_SUCCESS","GET_CHANNEL_FAIL",t)}function Ls(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/last-visit-channel",data:e})}(e),"GET_LAST_VISITED_CHANNEL_START","GET_LAST_VISITED_CHANNEL_SUCCESS","GET_LAST_VISITED_CHANNEL_FAILURE",t)}function Fs(e,t){return Pa("UPDATE_MEMBER_TIMESTAMP",e,t)}function Ms(e,t){return Pa("ADD_TO_CHANNELS",e,t)}function Us(e,t){return Ia(function(e){var t="/v2/post-channel-messages?".concat(w(e));return W({method:"GET",url:t})}(e),"GET_CHAT_MESSAGES_START","GET_CHAT_MESSAGES_SUCCESS","GET_CHAT_MESSAGES_FAILURE",t)}function Gs(e,t){return Pa("MARK_ALL_MESSAGES_AS_READ",e,t)}function Hs(e,t){return Pa("ADD_CHAT_MESSAGE",e,t)}function Bs(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-channel-messages",data:e,is_shared:!!e.topic_id})}(e),"CREATE_CHAT_MESSAGE_START","CREATE_CHAT_MESSAGE_SUCCESS","CREATE_CHAT_MESSAGE_FAILURE",t)}function Ws(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-channel-messages-translate",data:e})}(e),"TRANSLATE_CHAT_MESSAGE_START","TRANSLATE_CHAT_MESSAGE_SUCCESS","TRANSLATE_CHAT_MESSAGE_FAILURE",t)}function Ys(e,t){return Ia(function(e){var t="/v2/post-channel-messages/".concat(e.message_id);return W({method:"PUT",url:t,data:e,is_shared:!!e.topic_id})}(e),"UPDATE_CHAT_MESSAGE_START","UPDATE_CHAT_MESSAGE_SUCCESS","UPDATE_CHAT_MESSAGE_FAILURE",t)}function Vs(e,t){return Pa("INCOMING_CHAT_MESSAGE",e,t)}function Qs(e,t){return Pa("INCOMING_CHAT_MESSAGE_FROM_OTHERS",e,t)}function Ks(e,t){return Pa("INCOMING_ARCHIVED_CHANNEL",e,t)}function zs(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-message-react",data:e,is_shared:!!e.is_shared})}(e),"CHAT_REACTIONS_START","CHAT_REACTIONS_SUCCESS","CHAT_REACTIONS_FAILURE",t)}function qs(e,t){return Pa("INCOMING_CHAT_MESSAGE_REACTION",e,t)}function Js(e,t){return Pa("SET_CHANNEL_HISTORICAL_POSITION",e,t)}function Zs(e,t){return Pa("INCOMING_UPDATED_CHAT_MESSAGE",e,t)}function Xs(e,t){return Pa("SET_EDIT_CHAT_MESSAGE",e,t)}function $s(e,t){return Ia(function(e){var t="/v2/post-channel-messages/".concat(e.message_id);return W({method:"DELETE",url:t,data:e,is_shared:!!e.is_shared})}(e),"DELETE_CHAT_MESSAGE_START","DELETE_CHAT_MESSAGE_SUCCESS","DELETE_CHAT_MESSAGE_FAILURE",t)}function el(e,t){return Pa("INCOMING_DELETED_CHAT_MESSAGE",e,t)}function tl(e,t){return Pa("ON_CLICK_SEND_BUTTON",e,t)}function al(e,t){return Pa("ADD_QUOTE",e,t)}function nl(e,t){return Pa("CLEAR_QUOTE",e,t)}function rl(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/set-reminder",data:e})}(e),"SET_CHAT_REMINDER_START","SET_CHAT_REMINDER_SUCCESS","SET_CHAT_REMINDER_FAILURE",t)}function il(e,t){return Ia(function(e){return W({method:"GET",url:"/v1/drafts?draft_type=channel",data:e})}(e),"GET_CHANNEL_DRAFTS_START","GET_CHANNEL_DRAFTS_SUCCESS","GET_CHANNEL_DRAFTS_FAILURE",t)}function ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Ia(K(e),"GET_GLOBAL_RECIPIENTS_START","GET_GLOBAL_RECIPIENTS_SUCCESS","GET_GLOBAL_RECIPIENTS_FAILURE",t)}function cl(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/chat-channel/create",data:e})}(e),"CREATE_NEW_CHAT_START","CREATE_NEW_CHAT_SUCCESS","CREATE_NEW_CHAT_FAILURE",t)}function sl(e,t){return Pa("RENAME_CHANNEL_KEY",e,t)}function ll(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/chat-channel/update",data:e})}(e),"EDIT_CHANNEL_DETAIL_START","EDIT_CHANNEL_DETIL_SUCCESS","EDIT_CHANNEL_DETAIL_FAILURE",t)}function dl(e,t){return Pa("INCOMING_UPDATED_CHANNEL_DETAIL",e,t)}function ul(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/search-post-channels",data:e})}(e),"SEARCH_EXISTING_CHAT_START","SEARCH_EXISTING_CHAT_SUCCESS","SEARCH_EXISTING_CHAT_FAILURE",t)}function ml(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/bot-marked-completed",data:e})}(e),"MARK_REMINDER_COMPLETE_START","MARK_REMINDER_COMPLETE_SUCCESS","MARK_REMINDER_COMPLETE_FAILURE",t)}function pl(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-channel-members",data:e})}(e),"ADD_CHANNEL_MEMBERS_START","ADD_CHANNEL_MEMBERS_SUCCESS","ADD_CHANNEL_MEMBERS_FAILURE",t)}function fl(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/post-channel-members",data:e})}(e),"DELETE_CHANNEL_MEMBERS_START","DELETE_CHANNEL_MEMBERS_SUCCESS","DELETE_CHANNEL_MEMBERS_FAILURE",t)}function bl(e,t){return Ia(function(e){var t="/v2/post-channel-members?channel_id=".concat(e.channel_id);return W({method:"GET",url:t})}(e),"GET_CHAT_MEMBERS_START","GET_CHAT_MEMBERS_SUCCESS","GET_CHAT_MEMBERS_FAILURE",t)}function hl(e,t){return Pa("UPDATE_CHANNEL_MEMBERS_TITLE",e,t)}function El(e,t){return Pa("SAVE_LAST_VISITED_CHANNEL",e,t)}function _l(e,t){return Pa("UNREAD_CHANNEL_REDUCER",e,t)}function Ol(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-channels?".concat(w(e))})}(e),"GET_WORKSPACE_CHANNELS_START","GET_WORKSPACE_CHANNELS_SUCCESS","GET_WORKSPACE_CHANNELS_FAIL",t)}function gl(e,t){return Pa("DELETE_POST_NOTIFICATION",e,t)}function vl(e,t){return Pa("INCOMING_POST_NOTIFICATION_MESSAGE",e,t)}function Al(e,t){return Ia(function(e){var t="/v2/post-channels/".concat(e.id);return W({method:"GET",url:t})}(e),"GET_CHANNEL_DETAIL_START","GET_CHANNEL_DETAIL_SUCCESS","GET_CHANNEL_DETAIL_FAIL",t)}function jl(e,t){return Pa("SET_SIDEBAR_SEARCH",e,t)}function Cl(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/last-visit-channel?need_detail=11",data:e})}(e),"GET_LAST_CHANNEL_START","GET_LAST_CHANNEL_SUCCESS","GET_LAST_CHANNEL_FAIL",t)}function Tl(e,t){return Ia(function(e){var t="/v2/post-channels/".concat(e.code);return W({method:"GET",url:t})}(e),"GET_SELECT_CHANNEL_START","GET_SELECT_CHANNEL_SUCCESS","GET_SELECT_CHANNEL_FAIL",t)}function yl(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/set-message-important",data:e})}(e),"PUT_IMPORTANT_CHAT_START","PUT_IMPORTANT_CHAT_SUCCESS","PUT_IMPORTANT_CHAT_FAIL",t)}function Sl(e,t){return Pa("INCOMING_IMPORTANT_CHAT",e,t)}function kl(e,t){return Ia(function(e){var t="/v2/get-channel-last-reply?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_CHANNEL_LAST_REPLY_START","GET_CHANNEL_LAST_REPLY_SUCCESS","GET_CHANNEL_LAST_REPLY_FAIL",t)}function wl(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/chat-star",data:e})}(e),"PUT_CHAT_STAR_START","PUT_CHAT_STAR_SUCCESS","PUT_CHAT_STAR_FAIL",t)}function Nl(e,t){return Ia(function(e){var t="/v2/chat-star?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_CHAT_STAR_START","GET_CHAT_STAR_SUCCESS","GET_CHAT_STAR_FAIL",t)}function xl(e,t){return Pa("INCOMING_CHAT_STAR",e,t)}function Rl(e,t){return Ia(function(e){var t="/v2/huddle-chatbot?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_HUDDLE_CHATBOT_START","GET_HUDDLE_CHATBOT_SUCCESS","GET_HUDDLE_CHATBOT_FAIL",t)}function Il(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/huddle-chatbot",data:e})}(e),"POST_HUDDLE_CHATBOT_START","POST_HUDDLE_CHATBOT_SUCCESS","POST_HUDDLE_CHATBOT_FAIL",t)}function Pl(e,t){return Ia(function(e){var t="/v2/huddle-chatbot/".concat(e.huddle_id);return W({method:"PUT",url:t,data:e})}(e),"PUT_HUDDLE_CHATBOT_START","PUT_HUDDLE_CHATBOT_SUCCESS","PUT_HUDDLE_CHATBOT_FAIL",t)}function Dl(e,t){return Ia(function(e){var t="/v2/huddle-chatbot/".concat(e.huddle_id);return W({method:"DELETE",url:t,data:e})}(e),"DELETE_HUDDLE_CHATBOT_START","DELETE_HUDDLE_CHATBOT_SUCCESS","DELETE_HUDDLE_CHATBOT_FAIL",t)}function Ll(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/huddle-answer",data:e})}(e),"POST_HUDDLE_ANSWER_START","POST_HUDDLE_ANSWER_SUCCESS","POST_HUDDLE_ANSWER_FAIL",t)}function Fl(e,t){return Ia(function(e){var t="/v2/user-bots?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_USER_BOTS_START","GET_USER_BOTS_SUCCESS","GET_USER_BOTS_FAIL",t)}function Ml(e,t){return Pa("INCOMING_HUDDLE_BOT",e,t)}function Ul(e,t){return Pa("SAVE_HUDDLE_ANSWER",e,t)}function Gl(e,t){return Pa("INCOMING_UPDATED_HUDDLE_BOT",e,t)}function Hl(e,t){return Pa("INCOMING_DELETED_HUDDLE_BOT",e,t)}function Bl(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/user-bots",data:e})}(e),"POST_USER_BOTS_START","POST_USER_BOTS_SUCCESS","POST_USER_BOTS_FAIL",t)}function Wl(e,t){return Pa("INCOMING_HUDDLE_ANSWERS",e,t)}function Yl(e,t){return Ia(function(e){var t="/v2/get-huddle-answer?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_UNPUBLISHED_ANSWERS_START","GET_UNPUBLISHED_ANSWERS_SUCCESS","GET_UNPUBLISHED_ANSWERS_FAIL",t)}function Vl(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/update-huddle-answer",data:e})}(e),"PUT_UNPUBLISHED_ANSWERS_START","PUT_UNPUBLISHED_ANSWERS_SUCCESS","PUT_UNPUBLISHED_ANSWERS_FAIL",t)}function Ql(e,t){return Pa("ADD_HUDDLE_LOG",e,t)}function Kl(e,t){return Pa("CLEAR_EDIT_HUDDLE",e,t)}function zl(e,t){return Pa("UPDATE_HUDDLE_ANSWER",e,t)}function ql(e,t){return Pa("CLEAR_UNPUBLISHED_HUDDLE_ANSWER",e,t)}function Jl(e,t){return Pa("ADD_CHANNELS",e,t)}function Zl(e,t){return Ia(V(e),"SEARCH_CHANNELS_START","SEARCH_CHANNELS_SUCCESS","SEARCH_CHANNELS_FAIL",t)}function Xl(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/huddle-chatbot-skip",data:e})}(e),"POST_SKIP_HUDDLE_START","POST_SKIP_HUDDLE_SUCCESS","POST_SKIP_HUDDLE_FAIL",t)}function $l(e,t){return Pa("INCOMING_HUDDLE_SKIP",e,t)}function ed(e,t){return Pa("ADJUST_HUDDLE_DATE",e,t)}function td(e,t){return Ia(function(e){var t="/v2/get-skip-answer?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_SKIPPED_ANSWERS_START","GET_SKIPPED_ANSWERS_SUCCESS","GET_SKIPPED_ANSWERS_FAIL",t)}function ad(e,t){return Ia(W({method:"GET",url:"/v2/company-post-channel"}),"GET_COMPANY_CHANNEL_START","GET_COMPANY_CHANNEL_SUCCESS","GET_COMPANY_CHANNEL_FAILURE",t)}var nd=function(e,t,a,r,i){var o=Object(l.useDispatch)(),c=Object(l.useSelector)((function(e){return e.chat})),s=c.selectedChannel,d=c.channelDraftsLoaded,u=c.channelDrafts,m=Ss(s),p=Object(n.useRef)(e);Object(n.useEffect)((function(){p.current=e}));var f=function(){if(s&&Object.keys(u).length>0&&u.hasOwnProperty(s.id)){var e=Object(R.a)({},u[s.id]);p.current(e)}else p.current(null)},b=function(e){if(""===r.trim()){if(!i)return;o(ze({type:"channel",draft_id:i}))}var n={draft_type:t,type:t,created_at:{timestamp:Math.floor(Date.now()/1e3)}};"channel"===t&&(n=Object(R.a)(Object(R.a)({},n),{},{text:a,channel_id:e})),i?(n=Object(R.a)(Object(R.a)({},n),{},{draft_id:i}),o(Ke(n)),o(function(e,t){return Pa("ADD_TO_CHANNEL_DRAFTS",e,t)}(n))):o(Qe(n))};Object(n.useEffect)((function(){return 0!==Object.keys(u).length||d||o(il()),f(),function(){return b()}}),[]),Object(n.useEffect)((function(){null!==m&&null!==s&&m&&m.id!==s.id&&(b(m.id),f()),null===m&&null!==s&&f()}),[s,m,f,b])},rd=function(e,t,a,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=Object(n.useRef)(e);Object(n.useEffect)((function(){o.current=e}));var c=Object(l.useDispatch)(),s=Object(l.useSelector)((function(e){return e.global.modals})),d=Object(l.useSelector)((function(e){return e.global.dataFromInput}));Object(n.useEffect)((function(){null!==d&&(void 0!==d.sent&&!0===d.sent?(o.current(),c(Ze())):void 0!==d.sent&&!1===d.sent&&c(Ze()))}),[d]),Object(n.useEffect)((function(){if(Object.keys(s).length&&s.hasOwnProperty("file_upload")&&!d){var e={text:t,textOnly:a,quillContents:r,approvers:i};(""!==a.trim()||i.length)&&c(Je(e))}}),[Object.keys(s).length,a,i,d])},id=function(e){var t=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),a=Object(l.useSelector)((function(e){return e.session.user})),r=Object(n.useState)([]),i=Object(_.a)(r,2),o=i[0],c=i[1],s=Ss(t),d=Object(n.useRef)(null),u=Object(n.useRef)(o);Object(n.useEffect)((function(){u.current=o}));var m=function(e){if(t.id===e.channel_id&&(clearTimeout(d.current),d.current=setTimeout((function(){console.log("clear",o),c([])}),3e3),e.user.id!==a.id))if(u.current.length){var n=!1;u.current.forEach((function(t){t.id===e.user.id&&(n=!0)})),n||c([].concat(Object(Rt.a)(u.current),[e.user]))}else c([e.user])},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c([]),window.Echo&&(e&&window.Echo.leave(localStorage.getItem("slug")+".App.Channel."+e),window.Echo.private(localStorage.getItem("slug")+".App.Channel."+t.id).listenForWhisper("typing",(function(e){m(e)})))};if(Object(n.useEffect)((function(){null!==s&&null!==t&&s&&s.id!==t.id&&p(s.id),void 0!==s&&null!==s||null===t||p()}),[t,s,o]),o.length){var f=o.map((function(e){return e.first_name})).slice(0,3).join(", ");return o.length>3&&(f+="and others"),[o,f]}return[o,null]},od=function(e){var t=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),a=0;return null!==t&&t.replies&&t.replies.length&&(a=t.replies.filter((function(e){return!e.is_read})).length),a},cd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(l.useSelector)((function(e){return e.session.user})),a=!!e.length&&e.some((function(e){return e===t.id}));return a};function sd(e,t){return Ia(W({method:"GET",url:"/v2/user-post-list"}),"POST_LIST_START","POST_LIST_SUCCESS","POST_LIST_FAIL",t)}function ld(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/user-post-list",data:e})}(e),"POST_LIST_CREATE_START","POST_LIST_CREATE_SUCCESS","POST_LIST_CREATE_FAIL",t)}function dd(e,t){return Ia(function(e,t){return W({method:"PUT",url:"/v2/user-post-list/".concat(t),data:e})}(e,e.id),"POST_LIST_UPDATE_START","POST_LIST_UPDATE_SUCCESS","POST_LIST_UPDATE_FAIL",t)}function ud(e,t){return Ia((a=e.id,W({method:"DELETE",url:"/v2/user-post-list/".concat(a)})),"POST_LIST_DELETE_START","POST_LIST_DELETE_SUCCESS","POST_LIST_DELETE_FAIL",t);var a}function md(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-list-connect",data:e})}(e),"POST_LIST_CONNECT_START","POST_LIST_CONNECT_SUCCESS","POST_LIST_CONNECT_FAIL",t)}function pd(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/post-list-disconnected",data:e})}(e),"POST_LIST_DISCONNECT_START","POST_LIST_DISCONNECT_SUCCESS","POST_LIST_DISCONNECT_FAIL",t)}function fd(e,t){return Pa("POST_LIST_CONNECT",e,t)}function bd(e,t){return Pa("POST_LIST_DISCONNECT",e,t)}function hd(e,t){return Ia(function(e){return W({method:"PATCH",url:"/v1/mark-done",data:e,is_shared:!!e.is_shared})}(e),"POST_MARK_DONE_START","POST_MARK_DONE_SUCCESS","POST_MARK_DONE_FAIL",t)}function Ed(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-toggle-archived",data:e,is_shared:!!e.is_shared})}(e),"POST_ARCHIVE_START","POST_ARCHIVE_SUCCESS","POST_ARCHIVE_FAIL",t)}function _d(e,t){return Pa("REMOVE_POST",e,t)}function Od(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-toggle-unread",data:e,is_shared:!!e.is_shared})}(e),"POST_TOGGLE_READ_START","POST_TOGGLE_READ_SUCCESS","POST_TOGGLE_READ_FAIL",t)}function gd(e,t){return Ia(function(e){return W({method:"PATCH",url:"/v1/follows?post_id=".concat(e.post_id),data:e,is_shared:!!e.is_shared})}(e),"POST_FOLLOW_START","POST_FOLOW_SUCCESS","POST_FOLOW_FAIL",t)}function vd(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v1/follows?post_id=".concat(e.post_id),data:e,is_shared:!!e.is_shared})}(e),"POST_UNFOLLOW_START","POST_UNFOLOW_SUCCESS","POST_UNFOLOW_FAIL",t)}function Ad(e,t){return Pa("INCOMING_POST_TOGGLE_FOLLOW",e,t)}function jd(e,t){return Ia(function(e){return W({method:"POST",url:"/v1/snooze-post",data:e})}(e),"POST_SNOOZE_START","POST_SNOOZE_SUCCESS","POST_SNOOZE_FAIL",t)}function Cd(e,t){return Ia(function(e){return W({method:"POST",url:"/v1/posts",data:e})}(e),"POST_CREATE_START","POST_CREATE_SUCCESS","POST_CREATE_FAIL",t)}function Td(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/company/posts",data:e})}(e),"POST_COMPANY_POSTS_START","POST_COMPANY_POSTS_SUCCESS","POST_COMPANY_POSTS_FAIL",t)}function yd(e,t){return Ia(function(e){var t="/v2/company/posts/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"PUT_COMPANY_POSTS_START","PUT_COMPANY_POSTS_SUCCESS","PUT_COMPANY_POSTS_FAIL",t)}function Sd(e,t){return Ia(function(e){return W({method:"POST",url:"/v1/messages",data:e})}(e),"POST_COMMENT_START","POST_COMMENT_SUCCESS","POST_COMMENT_FAIL",t)}function kd(e,t){return Ia(function(e){return W({method:"GET",url:e.url})}(e),"FETCH_COMMENTS_START","FETCH_COMMENTS_SUCCESS","FETCH_COMMENTS_FAIL",t)}function wd(e,t){return Pa("SET_EDIT_POST_COMMENT",e,t)}function Nd(e,t){return Ia(function(e){var t="/v1/messages/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"UPDATE_COMMENT_START","UPDATE_COMMENT_SUCCESS","UPDATE_COMMENT_FAIL",t)}function xd(e,t){return Pa("ADD_COMMENT",e,t)}function Rd(e,t){return Ia(function(e){var t="/v1/posts/".concat(e.id);return W({method:"DELETE",url:t,data:e})}(e),"DELETE_POST_START","DELETE_POST_SUCCESS","DELETE_POST_FAIL",t)}function Id(e,t){return Pa("SET_PARENT_ID",e,t)}function Pd(e,t){return Pa("INCOMING_POST_MARK_DONE",e,t)}function Dd(e,t){return Ia(function(e){var t="/v1/posts/".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"UPADATE_POST_START","UPADATE_POST_SUCCESS","UPADATE_POST_FAIL",t)}function Ld(e,t){return Pa("INCOMING_POST",e,t)}function Fd(e,t){return Pa("INCOMING_UPDATED_POST",e,t)}function Md(e,t){return Pa("INCOMING_DELETED_POST",e,t)}function Ud(e,t){return Pa("INCOMING_COMMENT",e,t)}function Gd(e,t){return Ia(function(e){return W({method:"POST",url:"/v1/post-clap",data:e})}(e),"POST_CLAP_START","POST_CLAP_SUCCESS","POST_CLAP_FAIL",t)}function Hd(e,t){return Ia(function(e){var t="/messages/".concat(e.id,"/reactions");return W({method:"POST",url:t,data:e})}(e),"POST_COMMENT_CLAP_START","POST_COMMENT_CLAP_SUCCESS","POST_COMMENT_CLAP_FAIL",t)}function Bd(e,t){return Pa("INCOMING_POST_CLAP",e,t)}function Wd(e,t){return Pa("INCOMING_COMMENT_CLAP",e,t)}function Yd(e,t){return Ia(function(e){var t="/v2/workspace-dashboard-recent-posts?topic_id=".concat(e.topic_id);return W({method:"GET",url:t,data:e})}(e),"FETCH_RECENT_POSTS_START","FETCH_RECENT_POSTS_SUCCESS","FETCH_RECENT_POSTS_FAIL",t)}function Vd(e,t){return Ia(function(e){var t="/v2/post-tags-entries?topic_id=".concat(e.topic_id);return W({method:"GET",url:t,data:e})}(e),"FETCH_TAG_COUNTER_START","FETCH_TAG_COUNTER_SUCCESS","FETCH_TAG_COUNTER_FAIL",t)}function Qd(e,t){return Pa("ADD_COMPANY_POST_SEARCH_RESULT",e,t)}function Kd(e,t){return Pa("UPDATE_COMPANY_POST_FILTER_SORT",e,t)}function zd(e,t){return Ia(function(e){var t=e.skip,a=void 0===t?0:t,n=e.limit,r=void 0===n?25:n,i="/v1/posts?topic_id=".concat(e.topic_id,"&skip=").concat(a,"&limit=").concat(r);if(void 0!==e.search&&(i+="&search=".concat(e.search)),void 0!==e.filters)for(var o=0;o<e.filters.length;o++)i+="&filter[".concat(o,"]=").concat(e.filters[o]);return W({method:"GET",url:i,data:e})}(e),"GET_WORKSPACE_POSTS_START","GET_WORKSPACE_POSTS_SUCCESS","GET_WORKSPACE_POSTS_FAIL",t)}function qd(e,t){return Pa("ADD_TO_WORKSPACE_POSTS",e,t)}function Jd(e,t){return Ia(function(e){return W({method:"POST",url:"/v1/post-viewed",data:e})}(e),"POST_VISIT_START","POST_VISIT_SUCCESS","POST_VISIT_FAIL",t)}function Zd(e,t){return Pa("INCOMING_POST_VIEWER",e,t)}function Xd(e,t){return Pa("ARCHIVE_POST_REDUCER",e,t)}function $d(e,t){return Pa("INCOMING_READ_UNREAD_REDUCER",e,t)}function eu(e,t){return Ia(function(e){var t="/v1/messages/".concat(e.comment_id);return W({method:"DELETE",url:t})}(e),"DELETE_COMMENT_START","DELETE_COMMENT_SUCCESS","DELETE_COMMENT_FAIL",t)}function tu(e,t){return Pa("INCOMING_DELETED_COMMENT",e,t)}function au(e,t){return Ia(ee(e),"GET_POST_START","GET_POST_SUCCESS","GET_POST_FAIL",t)}function nu(e,t){return Pa("INCOMING_MARK_AS_READ",e,t)}function ru(e,t){return Ia(function(e){return W({method:"GET",url:"/v1/post-clap-hover/?".concat(w(e)),data:e})}(e),"GET_POST_CLAP_HOVER_START","GET_POST_CLAP_HOVER_SUCCESS","GET_POST_CLAP_HOVER_FAIL",t)}function iu(e,t){return Ia(function(e){return W({method:"GET",url:"/v1/reply-clap-hover/?".concat(w(e)),data:e})}(e),"GET_REPLY_CLAP_HOVER_START","GET_REPLY_CLAP_HOVER_SUCCESS","GET_REPLY_CLAP_HOVER_FAIL",t)}function ou(e,t){return Ia(W({method:"GET",url:"/v2/post-unread-entries"}),"GET_UNREAD_POST_ENTRIES_START","GET_UNREAD_POST_ENTRIES_SUCCESS","GET_UNREAD_POST_ENTRIES_FAIL",t)}function cu(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/marked-post-read/all",data:e})}(e),"MARK_ALL_POSTS_AS_READ_START","MARK_ALL_POSTS_AS_READ_SUCCESS","MARK_ALL_POSTS_AS_READ_FAIL",t)}function su(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/archived-post/all",data:e})}(e),"ARCHIVE_ALL_POSTS_START","ARCHIVE_ALL_POSTS_SUCCESS","ARCHIVE_ALL_POSTS_FAIL",t)}function lu(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/add-post-recipients",data:e})}(e),"ADD_POST_RECIPIENTS_START","ADD_POST_RECIPIENTS_SUCCESS","ADD_POST_RECIPIENTS_FAIL",t)}function du(e,t){return Pa("ADD_USER_TO_POST_RECIPIENTS",e,t)}function uu(e,t){return Pa("REMOVE_USER_TO_POST_RECIPIENTS",e,t)}function mu(e,t){return Pa("INCOMING_POST_RECIPIENTS",e,t)}function pu(e,t){return Ia(W({method:"POST",url:"/v2/re-fetch-module/posts"}),"REFETCH_POSTS_START","REFETCH_POSTS_SUCCESS","REFETCH_POSTS_FAIL",t)}function fu(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/re-fetch-module/get-comments?current_post_id=".concat(e.post_id)})}(e),"REFETCH_POST_COMMENTS_START","REFETCH_POST_COMMENTS_SUCCESS","REFETCH_POST_COMMENTS_FAIL",t)}function bu(e,t){return Ia(W({method:"GET",url:"/v2/post-unread-comments-entries"}),"GET_UNREAD_POST_COMMENTS_START","GET_UNREAD_POST_COMMENTS_SUCCESS","GET_UNREAD_POST_COMMENTS_FAIL",t)}function hu(e,t){return Pa("ADD_POST_REACT",e,t)}function Eu(e,t){return Pa("REMOVE_POST_REACT",e,t)}function _u(e,t){return Pa("ADD_COMMENT_REACT",e,t)}function Ou(e,t){return Pa("REMOVE_COMMENT_REACT",e,t)}function gu(e,t){return Ia(ee(e),"GET_POST_DETAIL_START","GET_POST_DETAIL_SUCCESS","GET_POST_DETAIL_FAIL",t)}function vu(e,t){return Pa("UPDATE_POST_FILES",e,t)}function Au(e,t){return Pa("UPDATE_COMMENT_FILES",e,t)}function ju(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/set-important-comment",data:e})}(e),"PUT_COMMENT_START","PUT_COMMENT_SUCCESS","PUT_COMMENT_FAIL",t)}function Cu(e,t){return Pa("INCOMING_IMPORTANT_COMMENT",e,t)}function Tu(e,t){return Pa("INCOMING_READ_SELECTED_POSTS",e,t)}function yu(e,t){return Pa("INCOMING_ARCHIVED_SELECTED_POSTS",e,t)}function Su(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-approve",data:e})}(e),"POST_APPROVE_START","POST_APPROVE_SUCCESS","POST_APPROVE_FAIL",t)}function ku(e,t){return Pa("INCOMING_POST_APPROVAL",e,t)}function wu(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-comment-approve",data:e})}(e),"COMMENT_APPROVE_START","COMMENT_APPROVE_SUCCESS","COMMENT_APPROVE_FAIL",t)}function Nu(e,t){return Pa("INCOMING_COMMENT_APPROVAL",e,t)}function xu(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/get-post-read/?".concat(w(e)),data:e})}(e),"GET_POSTREAD_START","GET_POSTREAD_SUCCESS","GET_POSTREAD_FAIL",t)}function Ru(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-close",data:e})}(e),"POST_CLOSE_START","POST_CLOSE_SUCCESS","POST_CLOSE_FAIL",t)}function Iu(e,t){return Pa("INCOMING_CLOSE_POST",e,t)}function Pu(e,t){return Ia(ee(e),"GET_UNARCHIVE_POST_DETAIL_START","GET_UNARCHIVE_POST_DETAIL_SUCCESS","GET_UNARCHIVE_POST_DETAIL_FAIL",t)}function Du(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-required",data:e})}(e),"POST_REQUIRED_START","POST_REQUIRED_SUCCESS","POST_REQUIRED_FAIL",t)}function Lu(e,t){return Pa("INCOMING_POST_REQUIRED",e,t)}function Fu(e,t){return Pa("SET_POST_COMMENT_TYPE",e,t)}function Mu(e,t){return Pa("REMOVE_DRAFT_POST",e,t)}var Uu=function(){var e=$m(),t=Object(l.useDispatch)(),a=Object(b.i)(),r=Object(l.useSelector)((function(e){return e.workspaces})),i=r.flipper,o=r.workspacePosts,c=Object(l.useSelector)((function(e){return e.posts.recentPosts})),s=Object(l.useSelector)((function(e){return e.session.user})),d=Object(l.useSelector)((function(e){return e.posts})).postsLists,u=Object(n.useState)(!1),m=Object(_.a)(u,2),p=m[0],f=m[1];Object(n.useEffect)((function(){if(void 0!==a.workspaceId&&!o.hasOwnProperty(a.workspaceId)&&!p){f(!0),a.postId&&e.fetchPostDetail({post_id:parseInt(a.postId)});var n={topic_id:parseInt(a.workspaceId)};e.getPosts(n,(function(n,r){if(f(!1),!n){var i=r.data.posts.map((function(e){return e.files}));i.length&&(i=i.flat()),e.getTagsCount(parseInt(a.workspaceId)),t(qd({topic_id:parseInt(a.workspaceId),posts:r.data.posts,files:i,filters:{all:{active:!0,skip:r.data.next_skip,hasMore:r.data.total_take===r.data.posts.length}}}))}})),e.fetchPostList();e.getPosts({filters:["post","archived"],topic_id:parseInt(a.workspaceId)},(function(e,n){if(f(!1),!e){var r=n.data.posts.map((function(e){return e.files}));r.length&&(r=r.flat()),t(qd({topic_id:parseInt(a.workspaceId),posts:n.data.posts,filter:n.data.posts,files:r,filters:{archived:{active:!1,skip:n.data.next_skip,hasMore:25===n.data.total_take}}}))}}));e.getPosts({filters:["green_dot"],topic_id:parseInt(a.workspaceId),skip:0,limit:100},(function(e,n){if(f(!1),!e){var r=n.data.posts.map((function(e){return e.files}));r.length&&(r=r.flat()),t(qd({topic_id:parseInt(a.workspaceId),posts:n.data.posts,filter:n.data.posts,files:r}))}}))}}),[a]);var h=null,E=[],O=null,g=null,v=null,A="recent",j=null,C="",T={is_must_reply:0,is_must_read:0,is_read_only:0,is_unread:0,is_close:0},y={all:0,my_posts:0,starred:0,archived:0,drafts:0,new_reply:0},S=null;if(Object.keys(c).length&&c.hasOwnProperty(a.workspaceId)&&(h=c[a.workspaceId].posts),Object.keys(o).length&&o.hasOwnProperty(a.workspaceId)){var k=o[a.workspaceId],w=k.filter,N=k.sort,x=k.tag,R=k.postListTag,I=k.posts,P=k.search,D=k.searchResults,L=k.filters;C=P,A=N,O=w,S=L,g=x,v=R,y={drafts:Object.values(I).filter((function(e){return"draft_post"===e.type})).length},I.hasOwnProperty(a.postId)&&(j=I[a.postId]),E=Object.values(I),D.length>0&&P?E=E.filter((function(e){return D.some((function(t){return e.id===t.id}))})):0===D.length&&P&&(E=[]),E=E.filter((function(e){return O?"all"===O||("inbox"===O?""!==P||(!(e.hasOwnProperty("draft_type")||1===e.is_archived||e.author.id===s.id)||e.author.id===s.id&&e.reply_count>0&&1!==e.is_archived):"my_posts"===O?!(!e.hasOwnProperty("author")||e.hasOwnProperty("draft_type"))&&e.author.id===s.id:"draft"===O?e.hasOwnProperty("draft_type"):"star"===O?e.is_favourite&&!e.hasOwnProperty("draft_type"):"archive"===O?1===e.is_archived&&!e.hasOwnProperty("draft_type"):void 0):g?"is_must_reply"===g?e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===s.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===s.id&&e.is_must_reply:"is_must_read"===g?e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===s.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===s.id&&e.is_must_read:"is_read_only"===g?e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_unread"===x?e.is_unread&&!e.hasOwnProperty("draft_type")||e.unread_count>0&&!e.hasOwnProperty("draft_type"):"is_close"===x?e.is_close&&!e.hasOwnProperty("draft_type"):!!isNaN(parseInt(g))||e.post_list_connect.length>0&&e.post_list_connect[0].id===parseInt(x):!v||(!!isNaN(parseInt(v))||e.post_list_connect.length>0&&e.post_list_connect[0].id===parseInt(v))})).sort((function(e,t){return t.updated_at.timestamp>e.updated_at.timestamp?1:-1})),T={is_must_reply:Object.values(I).filter((function(e){return e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===s.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===s.id&&e.is_must_reply})).length,is_must_read:Object.values(I).filter((function(e){return e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===s.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===s.id&&e.is_must_read})).length,is_read_only:Object.values(I).filter((function(e){return e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,is_unread:Object.values(I).filter((function(e){return e.is_unread&&!e.hasOwnProperty("draft_type")||e.unread_count>0&&!e.hasOwnProperty("draft_type")})).length,is_close:Object.values(I).filter((function(e){return e.is_close&&!e.hasOwnProperty("draft_type")})).length}}return{flipper:i,actions:e,posts:E,filter:O,tag:g,postListTag:v,sort:A,post:j,search:C,user:s,recentPosts:h,count:T,counters:y,filters:S,postLists:d}};function Gu(e,t){return Ia(function(e){return Y({method:"GET",url:"/comp-settings",data:e})}(e),"GET_DRIFF_COMP_SETTINGS_START","GET_DRIFF_COMP_SETTINGS_SUCCESS","GET_DRIFF_COMP_SETTINGS_FAIL",t)}function Hu(e,t){return Ia(function(e){return W({method:"GET",url:"/v1/settings",data:e})}(e),"GET_DRIFF_SETTINGS_START","GET_DRIFF_SETTINGS_SUCCESS","GET_DRIFF_SETTINGS_FAIL",t)}function Bu(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/user-settings",data:e})}(e),"GET_USER_SETTINGS_START","GET_USER_SETTINGS_SUCCESS","GET_USER_SETTINGS_FAIL",t)}function Wu(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/user-settings",data:e})}(e),"UPDATE_SETTINGS_START","UPDATE_SETTINGS_SUCCESS","UPDATE_SETTINGS_FAILURE",t)}function Yu(e,t){return Pa("UPDATE_USER_GENERAL_SETTING",e,t)}function Vu(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/company/update-name",data:e})}(e),"PUT_COMPANY_UPDATE_NAME_START","PUT_COMPANY_UPDATE_NAME_SUCCESS","PUT_COMPANY_UPDATE_NAME_FAIL",t)}function Qu(e,t){return Pa("INCOMING_UPDATE_COMPANY_NAME",e,t)}function Ku(e,t){return Pa("UPDATE_COMPANY_POST_ANNOUNCEMENT",e,t)}function zu(e,t){return Ia(function(e){var t="/v2/notification-counter?skip=".concat(e.skip,"&limit=").concat(e.limit);return W({method:"GET",url:t,data:e})}(e),"GET_NOTIFICATIONS_START","GET_NOTIFICATIONS_SUCCESS","GET_NOTIFICATIONS_FAIL",t)}function qu(e,t){return Ia(function(e){var t="/v2/notification-counter/".concat(e.id);return W({method:"PATCH",url:t,data:e})}(e),"PATCH_NOTIFICATION_START","PATCH_NOTIFICATION_SUCCESS","PATCH_NOTIFICATION_FAIL",t)}function Ju(e,t){return Ia(function(e){var t="/v2/unread-notification-counter?notification_id=".concat(e.id);return W({method:"PUT",url:t,data:e})}(e),"UNREAD_NOTIFICATION_START","UNREAD_NOTIFICATION_SUCCESS","UNREAD_NOTIFICATION_FAIL",t)}function Zu(e,t){return Ia(function(e){return W({method:"PUT",url:"/v2/notification-counter-all-read",data:e})}(e),"READ_ALL_NOTIFICATION_START","READ_ALL_NOTIFICATION_SUCCESS","READ_ALL_NOTIFICATION_FAIL",t)}function Xu(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/notification-counter/".concat(e.id)})}(e),"DELETE_NOTIFICATION_START","DELETE_NOTIFICATION_SUCCESS","DELETE_NOTIFICATION_FAIL",t)}function $u(e,t){return Ia(W({method:"DELETE",url:"/v2/notification-counter-all-delete"}),"DELETE_ALL_NOTIFICATION_START","DELETE_ALL_NOTIFICATION_SUCCESS","DELETE_ALL_NOTIFICATION_FAIL",t)}function em(e,t){return Pa("SET_PUSH_NOTIFICATION",e,t)}function tm(e,t){return Pa("INCOMING_REMINDER_NOTIFICATION",e,t)}var am=function(){var e=Object(l.useDispatch)(),t=Op(),a=Object(l.useSelector)((function(e){return e.settings})),i=a.driff,o=a.user,c=Object(l.useSelector)((function(e){return e.session})).user,s=Object(n.useState)(!1),d=Object(_.a)(s,2),u=d[0],m=d[1],p=Object(n.useState)(!1),f=Object(_.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(!1),O=Object(_.a)(E,2),g=O[0],v=O[1],A=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Yu(t,(function(){var n={disable_sound:"0",chat_settings:Object(R.a)({},o.CHAT_SETTINGS),general_settings:Object(R.a)(Object(R.a)({},o.GENERAL_SETTINGS),t)};c&&e(Wu(n,a))})))},j=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=o.GENERAL_SETTINGS.personal_links;n.push(e),A({personal_links:n},(function(n,i){t.success(r.a.createElement(r.a.Fragment,null,"You personal link ",e.name," is successfully created!")),a(n,i)}))},C=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=o.GENERAL_SETTINGS.personal_links;n[e.index]=e,A({personal_links:n},(function(n,i){t.success(r.a.createElement(r.a.Fragment,null,"You personal link ",e.name," is successfully updated!")),a(n,i)}))},T=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=o.GENERAL_SETTINGS.personal_links;n.splice(e.index,1),A({personal_links:n},(function(n,i){t.success(r.a.createElement(r.a.Fragment,null,"You have deleted ",r.a.createElement("b",null,e.name)," personal link!")),a(n,i)}))},y=function(e,t){S("personal_link_delete",e,t)},S=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};switch(t){case"personal_link_create":r={type:"personal_link_create_edit",mode:"create",item:a,actions:{create:j}};break;case"personal_link_edit":r={type:"personal_link_create_edit",mode:"edit",item:a,actions:{update:C,delete:y}};break;case"personal_link_delete":r={type:"confirmation",headerText:n.dictionary.removeLink,submitText:n.dictionary.remove,cancelText:n.dictionary.cancel,bodyText:n.dictionary.removeLinkBodyText,actions:{onSubmit:function(){T(a,n.callback)}}};break;case"modal":default:r=a}e(Ye(r))};return{init:function(){i.isCompSettingsLoaded||b||(h(!0),e(Gu({},(function(){h(!1)}))))},fetch:function(){i.isSettingsLoaded||u||(m(!0),e(Hu({},(function(){m(!1)}))))},fetchUserSettings:function(){o.isLoaded||g||(v(!0),e(Bu(),(function(){v(!1)})))},updateCompanyName:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};i.company_name===a.company_name?t.success("No update made."):e(Vu(a,(function(e,i){e&&t.error(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,a.company_name)," can't be used.")),i&&t.success("You have updated the company name to ".concat(a.company_name)),n(e,i)})))},userSettings:o,driffSettings:i,chatSettings:o.CHAT_SETTINGS,generalSettings:Object(R.a)(Object(R.a)({},o.GENERAL_SETTINGS),{},{date_picker_format:o.GENERAL_SETTINGS.date_format.replace("YYYY","y").replace("DD","d"),time_picker_format:o.GENERAL_SETTINGS.time_format.replace("A","a")}),setChatSetting:function(t){e(function(e,t){return Pa("UPDATE_USER_CHAT_SETTING",e,t)}(t,(function(){var a={disable_sound:"0",chat_settings:Object(R.a)(Object(R.a)({},o.CHAT_SETTINGS),t),general_settings:Object(R.a)({},o.GENERAL_SETTINGS)};e(Wu(a))})))},setGeneralSetting:A,setPushSubscription:function(t){e(em(t))},setReadAnnouncement:function(){var t,a;e(Wu({read_announcement:1})),e(Pa("UPDATE_READ_ANNOUNCEMENT",t,a))},showModal:S,loggedUser:c,setWorkspaceSetting:function(t){e(function(e,t){return Pa("UPDATE_WORKSPACE_SETTING",e,t)}(t,(function(){var a=Object(R.a)(Object(R.a)({},o),{},{general_settings:Object(R.a)(Object(R.a)({},o.GENERAL_SETTINGS),t),order_channel:Object(R.a)({},t.order_channel)});e(Wu(a))})))}}},nm=function(e){var t=function(t){t.metaKey||t.ctrlKey||17===t.keyCode||17===t.which||"input"===document.activeElement.tagName.toLowerCase()||document.activeElement.classList.contains("ql-editor")&&!document.activeElement.classList.contains("chat-bubble")||document.getElementsByClassName("modal-open").length||e&&e.focus()};Object(n.useEffect)((function(){return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}),[t])},rm=function(){var e=Object(l.useDispatch)(),t=am().chatSettings,a=vs()._t,n=Op(),i=Object(b.g)(),o={toasterGeneraError:a("TOASTER.GENERAL_ERROR","An error has occurred try again!"),createChannel:a("TOASTER.CHANNEL_CREATE_SUCCESS","Channel ::channel_title:: is successfully created."),updateChannel:a("TOASTER.CHANNEL_UPDATE_SUCCESS","Channel ::channel_title:: is successfully modified.")},c=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ds({code:t},a))},s=function(t,a){e(cl(t,(function(e,i){if(e&&n.success(o.toasterGeneraError),i){var c=void 0!==t.channel_name?t.channel_name:"DIRECT"===i.data.entity_type&&i.data.channel.profile?i.data.channel.profile.name:"";n.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:o.createChannel.replace("::channel_title::","<b>".concat(c,"</b>"))}}))}a(e,i)})))},d=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(R.a)({},t);s({title:"",type:"person",recipient_ids:t.recipient_ids},(function(t,r){if(t&&console.log(t),r){var o=Math.round(+new Date/1e3),c=Object(R.a)(Object(R.a)({},r.data.channel),{},{old_id:n.id,code:r.data.code,selected:!0,hasMore:!1,isFetching:!1,skip:0,replies:[],created_at:{timestamp:o},last_reply:null,title:r.data.channel.profile.name});e(sl(c,(function(){i.push("/chat/".concat(c.code)),e(ws(c)),a&&a(c)})))}}))},u=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r={is_pinned:t.is_pinned,is_muted:t.is_muted,is_archived:t.is_archived};r=Object(R.a)(Object(R.a)({},r),a),e(xs(r,(function(r){var i=Object(R.a)(Object(R.a)({},t),a);e(Rs(i,(function(){n(r,{data:i})})))})))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_archived:!1,push_unarchived:1};u(e,a,t)},p=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(El(t,a))},f=function(e){return"string"===typeof e?Wt(e.toLowerCase()):""},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e(Cl({},(function(e,a){e||(t&&t(),i.location.pathname.startsWith("/chat")&&i.push("/chat/".concat(a.data.code)))})))};return{create:s,createByUserChannel:d,fetchAll:function a(n){var r=n.skip,i=void 0===r?0:r,o=n.limit,c=void 0===o?20:o,s=Object(I.a)(n,["skip","limit"]),l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},d=Object(R.a)(Object(R.a)({},s),{},{skip:i,limit:c,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()});e(Ns(d,(function(e,t){e&&console.log(e),t&&t.data.results.length===c&&a(Object(R.a)(Object(R.a)({},d),{},{skip:d.skip+c})),l(e,t)})))},fetch:function(a){var n=a.skip,r=void 0===n?0:n,i=a.limit,o=void 0===i?20:i,c=Object(I.a)(a,["skip","limit"]),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},l=Object(R.a)(Object(R.a)({},c),{},{skip:r,limit:o,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()});e(Ns(l,s))},fetchNoChannelUsers:function(t){e(ol({},t))},fetchByCode:c,fetchDrafts:function(t){e(il({},t))},fetchMembersById:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(bl({channel_id:t},a))},fetchLastChannel:h,fetchLastVisited:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(Ls({},(function(e,a){a?c(a.data.code,(function(e,a){if(a){var n=a.data;p(a.data,(function(){t(null,{data:n})}))}else t(e,null)})):t(e,null)})))},fetchSelectChannel:function(t,a){e(Tl({code:t},(function(e,t){e?h():t&&t.data&&(i.push("/chat/".concat(t.data.code)),a&&a())})))},fetchUnpublishedAnswers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=function(a,n){if(!a){var r=n.data.find((function(e){return!e.huddle_log.published}));r&&e(Ql(Object(R.a)(Object(R.a)({},t),{},{message_id:r.huddle_log.connected_message_id,huddle_log:Object(R.a)(Object(R.a)({},r.huddle_log),{},{message_id:r.huddle_log.connected_message_id}),huddle_answers:r.huddle_answers})))}};e(Yl(t,a))},fetchWorkspaceChannels:function(t){t.skip,t.limit,Object(I.a)(t,["skip","limit"]);e(Ol({skip:0,limit:100}))},saveHistoricalPosition:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(Js({channel_id:t,scrollPosition:a.scrollHeight-a.scrollTop},n))},saveLastVisited:p,select:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};"undefined"===typeof t?console.log(t,"channel not found"):t.hasOwnProperty("add_user")&&!0===t.add_user?(console.log(t,"selected user create new channel"),d(Object(R.a)(Object(R.a)({},t),{},{selected:!0}))):"DIRECT"===t.type&&2===t.members.length&&t.is_archived?(m(t,(function(t,n){var r=n.data;e(ws(n.data,(function(){a(r)})))})),i.push("/chat/".concat(t.code))):(e(ws(Object(R.a)(Object(R.a)({},t),{},{selected:!0}))),a(t))},archive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_archived:!0};u(e,a,t)},unArchive:m,updateStatus:u,pin:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_pinned:!0};u(e,a,t)},unPin:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_pinned:!1};u(e,a,t)},mute:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_muted:!0};u(e,a,t)},unMute:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_muted:!1};u(e,a,t)},hide:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_hidden:!0,is_hide:!0};u(e,a,t)},unHide:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={id:e.id,is_hidden:!1,is_hide:!1};u(e,a,t)},markAsRead:function(t,a){e(Is({channel_id:t.id},(function(n,r){a&&a(),n||"TOPIC"===t.type&&e(function(e,t){return Pa("READ_CHANNEL_REDUCER",e,t)}({id:t.entity_id,channel_id:t.id,count:t.replies.filter((function(e){return!e.is_read})).length}))})))},markAsUnRead:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ps({channel_id:t.id},a))},searchExisting:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(ul({title:t,search_recipient_ids:a},n))},addMembers:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(pl({channel_id:t,recipient_ids:a},n))},deleteMembers:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(fl({channel_id:t,recipient_ids:a},n))},update:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(ll(t,(function(e,i){if(e&&n.success(o.toasterGeneraError),i){var c=void 0!==t.channel_name?t.channel_name:"DIRECT"===i.data.entity_type?i.data.profile.name:"";n.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:o.updateChannel.replace("::channel_title::","<b>".concat(c,"</b>"))}}))}a(e,i)})))},fetchingMessages:function(t,a){var n={id:t.id,status:a};e(function(e,t){return Pa("SET_FETCHING_MESSAGES",e,t)}(n))},getChannelLink:function(e){return e.workspace_folder?"/workspace/chat/".concat(e.workspace_folder.id,"/").concat(f(e.workspace_folder.name),"/").concat(e.entity_id,"/").concat(f(e.title)):"/workspace/chat/".concat(e.entity_id,"/").concat(f(e.title))},getUrlTitle:f,setSidebarSearch:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(jl(t,a))},fetchChannelLastReply:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(kl({channel_id:t},a))},loadMore:function(a){var n=a.skip,r=void 0===n?0:n,i=a.limit,o=void 0===i?25:i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},s={skip:r,limit:o,order_by:t.order_channel.order_by,sort_by:t.order_channel.sort_by.toLowerCase()};e(Ns(s,(function(t,a){c&&c(),t||e(Jl({channels:a.data.results}))})))},search:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Zl(t,a))},searchArchivedChannels:function(t){var a;e(Pa("SET_SEARCH_ARCHIVED_CHANNELS",t,a))}}},im=!0,om=function(){var e=Object(l.useSelector)((function(e){return e.chat})),t=e.channels,a=e.selectedChannel,r=e.channelsLoaded,i=e.lastVisitedChannel,o=e.chatSidebarSearch,c=rm();return Object(n.useEffect)((function(){im&&(im=!1)}),[]),{actions:c,channels:t,selectedChannel:a,lastVisitedChannel:i,channelsLoaded:r,chatSidebarSearch:o}},cm=!0,sm=function(){var e=om(),t=e.channels,a=e.actions,r=lm(),i=r.actions,o=r.loggedUser,c=Object(I.a)(r,["actions","loggedUser"]),s=Object.values(t).filter((function(e){return e.add_user})),d=Object(l.useSelector)((function(e){return e.global.recipients})),u=Object(n.useRef)(null),m=Object(b.g)(),p=Object(b.j)();return Object(n.useEffect)((function(){cm&&(cm=!1)}),[]),Object(R.a)(Object(R.a)(Object(R.a)({},om()),c),{},{loggedUser:o,userActions:i,userChannels:s,selectUserChannel:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=s.find((function(t){return t.profile.id===e.id}));if(r)a.createByUserChannel(r,n);else{var i=Object.values(t).find((function(t){return t.profile&&t.profile.id===e.id&&"DIRECT"===t.type}));if(i)a.select(i),m.push("/chat/".concat(i.code)),n&&n(i);else{var c=function(e,t){u.current=null,e||(t.data.channel_code&&a.fetchSelectChannel(t.data.channel_code),t.data&&n&&n({id:t.data.channel_id,code:t.data.channel_code}))},l=[e.id,o.id],p=d.filter((function(e){return"USER"===e.type&&l.some((function(t){return e.type_id===t}))}));p=Zt(p,"type_id"),console.log(p,"select user channel - search"),p.length&&2===p.length&&!u.current&&(u.current=!0,a.searchExisting("",p.map((function(e){return e.id})),c))}}},history:m,match:p})},lm=function(){var e=Object(l.useSelector)((function(e){return e.users}));return{users:e.users,getUserFilter:e.getUserFilter,loggedUser:Object(l.useSelector)((function(e){return e.session})).user,actions:Ra()}};function dm(e,t){return Ia(function(e){"channel_date_updated"===e.order_by&&(e=Object(R.a)(Object(R.a)({},e),{},{order_by:"updated_at"}));var t="/v2/workspace?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_WORKSPACES_START","GET_WORKSPACES_SUCCESS","GET_WORKSPACES_FAIL",t)}function um(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/workspace",data:e})}(e),"CREATE_WORKSPACE_START","CREATE_WORKSPACE_SUCCESS","CREATE_WORKSPACE_FAIL",t)}function mm(e,t){return Ia(function(e){var t="/v2/workspace-dashboard-detail?topic_id=".concat(e.topic_id);return W({method:"GET",url:t,data:e})}(e),"GET_WORKSPACE_DETAIL_START","GET_WORKSPACE_DETAIL_SUCCESS","GET_WORKSPACE_DETAIL_FAIL",t)}function pm(e,t){return Ia(function(e){var t="/v2/workspace/".concat(e.topic_id);return W({method:"PUT",url:t,data:e})}(e),"UPDATE_WORKSPACE_START","UPDATE_WORKSPACE_SUCCESS","UPDATE_WORKSPACE_FAIL",t)}function fm(e,t){return Pa("INCOMING_WORKSPACE_FOLDER",e,t)}function bm(e,t){return Pa("INCOMING_WORKSPACE",e,t)}function hm(e,t){return Pa("INCOMING_UPDATED_WORKSPACE_FOLDER",e,t)}function Em(e,t){return Pa("INCOMING_MOVED_TOPIC",e,t)}function _m(e,t){return Pa("SET_ACTIVE_TOPIC",e,t)}function Om(e,t){return Pa("UPDATE_WORKSPACE_POST_FILTER_SORT",e,t)}function gm(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/post-channel-members",data:e})}(e),"JOIN_WORKSPACE_START","JOIN_WORKSPACE_SUCCESS","JOIN_WORKSPACE_FAIL",t)}function vm(e,t){return Pa("JOIN_WORKSPACE_REDUCER",e,t)}function Am(e,t){return Pa("ADD_POST_SEARCH_RESULT",e,t)}function jm(e,t){return Ia(function(e){var t="/v2/workspace-primary-files?topic_id=".concat(e.topic_id);return W({method:"GET",url:t,data:e})}(e),"FETCH_WORKSPACE_PRIMARY_FILES_START","FETCH_WORKSPACE_PRIMARY_FILES_SUCCESS","FETCH_WORKSPACE_PRIMARY_FILES_FAIL",t)}function Cm(e,t){return Ia(function(e){var t="/v2/workspace-dashboard-members?topic_id=".concat(e.topic_id);return W({method:"GET",url:t,data:e})}(e),"FETCH_WORKSPACE_MEMBERS_START","FETCH_WORKSPACE_MEMBERS_SUCCESS","FETCH_WORKSPACE_MEMBERS_FAIL",t)}function Tm(e,t){return Ia(function(e){var t="/v2/workspace-dashboard-timeline?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"FETCH_TIMELINE_START","FETCH_TIMELINE_SUCCESS","FETCH_TIMELINE_FAIL",t)}function ym(e,t){return Pa("INCOMING_TIMELINE",e,t)}function Sm(e,t){return Ia(function(e){var t="/v2/workspace/".concat(e.topic_id);return W({method:"GET",url:t,data:e})}(e),"GET_WORKSPACE_START","GET_WORKSPACE_SUCCESS","GET_WORKSPACE_FAIL",t)}function km(e,t){return Pa("UPDATE_WORKSPACE_COUNTER",e,t)}function wm(e,t){return Pa("ARCHIVE_REDUCER",e,t)}function Nm(e,t){return Pa("UNARCHIVE_REDUCER",e,t)}function xm(e,t){return Pa("LEAVE_WORKSPACE",e,t)}function Rm(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/workspace-role",data:e})}(e),"ADD_WORKSPACE_ROLE_START","ADD_WORKSPACE_ROLE_SUCCESS","ADD_WORKSPACE_ROLE_FAIL",t)}function Im(e,t){return Pa("INCOMING_WORKSPACE_ROLE",e,t)}function Pm(e,t){return Pa("SET_WORKSPACE_TO_DELETE",e,t)}function Dm(e,t){return Ia(function(e){return W({method:"DELETE",url:"/v2/workspace-role",data:e})}(e),"DELETE_WORKSPACE_ROLE_START","DELETE_WORKSPACE_ROLE_SUCCESS","DELETE_WORKSPACE_ROLE_FAIL",t)}function Lm(e,t){return Ia(function(e){var t="/v2/workspace/".concat(e.topic_id,"?is_folder=1");return W({method:"DELETE",url:t,data:e})}(e),"DELETE_WORKSPACE_FOLDER_START","DELETE_WORKSPACE_FOLDER_SUCCESS","DELETE_WORKSPACE_FOLDER_FAIL",t)}function Fm(e,t){return Pa("INCOMING_DELETED_WORKSPACE_FOLDER",e,t)}function Mm(e,t){return Ia(function(e){var t="/v2/workspace/".concat(e.folder_id,"?is_folder=1");return W({method:"GET",url:t,data:e})}(e),"GET_FOLDER_START","GET_FOLDER_SUCCESS","GET_FOLDER_FAIL",t)}function Um(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/search-workspace?".concat(w(e))})}(e),"GET_ALL_WORKSPACE_START","GET_ALL_WORKSPACE_SUCCESS","GET_ALL_WORKSPACE_FAIL",t)}function Gm(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/post-unread-entries?topic_id=".concat(e.topic_id)})}(e),"GET_UNREAD_WORKSPACE_POSTS_ENTRIES_START","GET_UNREAD_WORKSPACE_POSTS_ENTRIES_SUCCESS","GET_UNREAD_WORKSPACE_POSTS_ENTRIES_FAIL",t)}function Hm(e,t){return Pa("UPDATE_WORKSPACE_POST_COUNT",e,t)}function Bm(e,t){return Ia(function(e){return W({method:"POST",url:"/v2/resend-emails",data:e})}(e),"POST_RESEND_INVITE_START","POST_RESEND_INVITE_SUCCESS","POST_RESEND_INVITE_FAIL",t)}function Wm(e,t){return Ia(function(e){var t="/v2/workspace/".concat(e.id,"/team-channel");return W({method:"POST",url:t})}(e),"CREATE_TEAM_CHANNEL_START","CREATE_TEAM_CHANNEL_SUCCESS","CREATE_TEAM_CHANNEL_FAIL",t)}function Ym(e,t){return Pa("INCOMING_TEAM_CHANNEL",e,t)}function Vm(e,t){return Ia(function(e){var t="/v2/workspace/".concat(e.id,"/favourite");return W({method:"POST",url:t,data:e})}(e),"FAVOURITE_WORKSPACE_START","FAVOURITE_WORKSPACE_SUCCESS","FAVOURITE_WORKSPACE_FAIL",t)}function Qm(e,t){return Pa("INCOMING_FAVOURITE_WORKSPACE",e,t)}function Km(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-counter-entries",data:e})}(e),"GET_WORKSPACE_FILTER_COUNT_START","GET_WORKSPACE_FILTER_COUNT_SUCCESS","GET_WORKSPACE_FILTER_COUNT_FAIL",t)}function zm(e,t){return Ia(function(e){var t="/v2/to-do?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_WORKSPACE_REMINDERS_START","GET_WORKSPACE_REMINDERS_SUCCESS","GET_WORKSPACE_REMINDERS_FAIL",t)}function qm(e,t){return Ia(function(e){var t="/v2/to-do-detail?".concat(w(e));return W({method:"GET",url:t,data:e})}(e),"GET_WORKSPACE_REMINDERS_COUNT_START","GET_WORKSPACE_REMINDERS_COUNT_SUCCESS","GET_WORKSPACE_REMINDERS_COUNT_FAIL",t)}function Jm(e,t){return Pa("UPDATE_WORKSPACE_REMINDERS_COUNT",e,t)}function Zm(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-favourite-entries",data:e})}(e),"GET_FAVORITE_WORKSPACE_COUNTERS_START","GET_FAVORITE_WORKSPACE_COUNTERS_SUCCESS","GET_FAVORITE_WORKSPACE_COUNTERS_FAIL",t)}function Xm(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/workspace-favourites",data:e})}(e),"GET_FAVORITE_WORKSPACES_START","GET_FAVORITE_WORKSPACES_SUCCESS","GET_FAVORITE_WORKSPACES_FAIL",t)}var $m=function(){var e=Object(l.useDispatch)(),t=Object(b.h)(),a=Object(b.g)(),n=Object(b.i)(),i=Op(),o=Up(),c=vs()._t,s=Object(l.useSelector)((function(e){return e.session.user})),d={headerRemoveDraftHeader:c("MODAL.REMOVE_DRAFT_HEADER","Remove post draft?"),headerRemovePostHeader:c("MODAL.REMOVE_POST_HEADER","Remove post?"),headerUnarchivePostHeader:c("MODAL.UNARCHIVE_POST_HEADER","Un-archive post?"),headerArchivePostHeader:c("MODAL.ARCHIVE_POST_HEADER","Archive post?"),buttonRemove:c("BUTTON.REMOVE","Remove"),buttonRemovePost:c("MODAL.REMOVE_POST","Remove draft"),buttonCancel:c("BUTTON.CANCEL","Cancel"),removeThisDraft:c("MODAL.REMOVE_THIS_DRAFT","Are you sure you want to remove this post draft?"),removeThisPost:c("MODAL.REMOVE_THIS_POST","Are you sure you want to remove this post?"),buttonArchive:c("BUTTON.ARCHIVE","Archive"),buttonUnarchive:c("BUTTON.UNARCHIVE","Un-archive"),unarchiveThisPost:c("MODAL.UNARCHIVE_THIS_POST","Are you sure you want to un-archive this post?"),archiveThisPost:c("MODAL.ARCHIVE_THIS_POST","Are you sure you want to archive this post?"),notificationStopFollow:c("NOTIFICATION.STOP_FOLLOW","You\u2019ve stopped to follow"),notificationStartFollow:c("NOTIFICATION.START_FOLLOW","You\u2019ve started to follow"),notificationError:c("NOTIFICATION.ERROR","An error has occurred try again!"),notificationYouMarked:c("NOTIFICATION.YOU_MARKED","You marked"),notificationYouUpdated:c("NOTIFICATION.YOU_UPDATED","You have updated"),notificationUnread:c("NOTIFICATION.UNREAD","as unread"),notificationRead:c("NOTIFICATION.READ","as read"),notificationDone:c("NOTIFICATION.DONE","as done"),notificationNotDone:c("NOTIFICATION.NOT_DONE","as not done"),notificationStar:c("NOTIFICATION.STAR","as starred"),notificationNotStar:c("NOTIFICATION.NOT_STAR","as not starred"),notificationRemoved:c("NOTIFICATION.REMOVED","is removed"),notificationActionFailed:c("NOTIFICATION.ACTION_FAILED","Action failed"),notificationCreatePost:c("NOTIFICATION.CREATE_POST","You have successfully created a post"),notificationReminderPost:c("NOTIFICATION.REMINDER_POST","You will be reminded about this post under"),itemPost:c("ITEM.POST","post"),todoLinks:c("SIDEBAR.TODO_LINKS","Reminders"),accept:c("POST.ACCEPT","Accept"),acceptThisPost:c("POST.ACCEPT_THIS_POST","Accept this post?"),acceptThisPostText:c("POST.ACCEPT_THIS_POST_TEXT","Are you sure you want to accept? Please refer to the General condition for more details"),acceptCondition:c("POST.ACCEPT_GENERAL_CONDITION","You accept the final design provided to you. Zuid will now proceed on the next steps. Any additional changes on the design will be subject for re-estimation and additional work which will be considered as a separate project."),snoozeThisPost:c("MODAL.SNOOZE_THIS_POST","Are you sure you want to snooze this post?"),buttonSnooze:c("BUTTON.SNOOZE","Snooze"),headerSnoozePost:c("MODAL.SNOOZE_POST","Snooze post"),postArchivedMuted:c("TOASTER.POST_ARCHIVED_MUTED","is archived. Comments for this post will be muted for 48 hours."),reminderAlreadyExists:c("TOASTER.REMINDER_EXISTS","Reminder already exists"),toasterGeneraError:c("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:c("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>.")},u=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={post_id:t.id,unread:0,topic_id:parseInt(n.workspaceId)},c=t.unread_count,l=function(l,u){l?i.success(r.a.createElement(r.a.Fragment,null,"Action failed.")):(o=Object(R.a)(Object(R.a)({},o),{},{folderId:n.hasOwnProperty("folderId")?parseInt(n.folderId):null,count:0===c?1:c}),u&&(t.recipients.some((function(e){return"TOPIC"===e.type}))&&e(Zm()),a&&i.success(r.a.createElement(r.a.Fragment,null,d.notificationYouMarked," ",r.a.createElement("b",null,t.title)," ",d.notificationRead,".")),e($d({post_id:t.id,unread:0,user_id:s.id}))))};e(Od(o,l))},m=function(t){e(Cd(t))},p=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Td(t,(function(e,t){t&&i.success(r.a.createElement(r.a.Fragment,null,d.notificationCreatePost)),a(e,t)})))},f=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Dd(t,(function(e,n){n&&i.success(r.a.createElement(r.a.Fragment,null,d.notificationYouUpdated," ",t.title," ",d.itemPost)),a(e,n)})))},h=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(yd(t,(function(e,n){n&&i.success(r.a.createElement(r.a.Fragment,null,d.notificationYouUpdated," ",t.title," ",d.itemPost)),a(e,n)})))},E=function(t,a){e(Su(t,a))},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(wu(t,a))},O=function(t,a,n){var r={post_id:t.id,body:"COMMENT_APPROVAL::".concat(JSON.stringify({message:n.length?"Everyone disagreed to this post":"Everyone agreed to this post"})),generate_system_message:1,accepted_user_ids:a,rejected_user_ids:n};e(Sd(r))};return{approve:E,approveComment:_,addUserToPost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(du(t,a))},starPost:function(t){if("draft_post"!==t.type){var a,o,c="undefined"!==typeof n.workspaceId?parseInt(n.workspaceId):null;e((a={type:"post",type_id:t.id},o=function(e,a){e&&i.error(r.a.createElement(r.a.Fragment,null,d.notificationActionFailed)),a&&i.success(r.a.createElement(r.a.Fragment,null,d.notificationYouMarked,r.a.createElement("b",null,t.title)," ",t.is_favourite?d.notificationNotStar:d.notificationStar,"."))},Ia(X(a),"POST_FAVORITE_START","POST_FAVORITE_SUCCESS","POST_FAVORRITE_FAIL",o))),e(function(e,t){return Pa("STAR_POST_REDUCER",e,t)}({post_id:t.id,topic_id:c}))}},markPost:function(t){"draft_post"!==t.type&&(e(hd({post_id:t.id},(function(e,a){e&&i.error(r.a.createElement(r.a.Fragment,null,d.notificationActionFailed)),a&&i.success(r.a.createElement(r.a.Fragment,null,d.notificationYouMarked,r.a.createElement("b",null,t.name," ",t.is_mark_done?d.notificationNotDone:d.notificationDone)))}))),e(Pd({post_id:t.id,is_done:!t.is_mark_done})))},openPost:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("draft_post"===r.type){var o={type:"post_modal",mode:"create",item:{draft:r},params:n};e(Ye(o))}else i?"/posts"===i?a.push(i+"/".concat(r.id,"/").concat(Wt(r.title))):a.push(i+"/post/".concat(r.id,"/").concat(Wt(r.title))):a.push(t.pathname+"/post/".concat(r.id,"/").concat(Wt(r.title)))},archivePost:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if("draft_post"===t.type){var n=function(){e(ze({draft_id:t.draft_id,type:t.type})),e(Mu({post_id:t.id},(function(e,n){e?i.error(r.a.createElement(r.a.Fragment,null,d.notificationActionFailed)):(n&&i.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t.title)," ",d.notificationRemoved,".")),a(e,n))})))};n()}else{var o=function(){e(Ed({post_id:t.id,is_archived:1===t.is_archived?0:1},(function(n,o){n?i.success(r.a.createElement(r.a.Fragment,null,"Action failed.")):(o&&(t.is_archived?i.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t.title)," is unarchived.")):i.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t.title)," ",d.postArchivedMuted)),e(Xd({post_id:t.id,is_archived:1===t.is_archived?0:1}))),a(n,o))})))};o()}},markAsRead:u,markAsUnread:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={post_id:t.id,unread:1,topic_id:n.workspaceId},c=function(c,l){c?i.success(r.a.createElement(r.a.Fragment,null,"Action failed.")):(o=Object(R.a)(Object(R.a)({},o),{},{folderId:n.hasOwnProperty("folderId")?n.folderId:null}),l&&(t.recipients.some((function(e){return"TOPIC"===e.type}))&&e(Zm()),a&&i.success(r.a.createElement(r.a.Fragment,null,d.notificationYouMarked," ",r.a.createElement("b",null,t.title)," ",d.notificationUnread,".")),e($d({post_id:t.id,unread:1,user_id:s.id}))))};e(Od(o,c))},sharePost:function(e){var a="".concat(G()).concat(t.pathname,"/post/").concat(e.id,"/").concat(Wt(e.title));S(i,a)},snoozePost:function(t){var a={type:"snooze_post",post:t,topic_id:n.workspaceId};e(Ye(a))},followPost:function(t){t.is_followed?e(vd({post_id:t.id},(function(a,n){if(!a){var r="".concat(d.notificationStopFollow," ").concat(t.title);i.info(r),e(Ad({post_id:t.id,is_followed:!1}))}}))):e(gd({post_id:t.id},(function(a,n){if(!a){var r="".concat(d.notificationStartFollow," ").concat(t.title);i.info(r),e(Ad({post_id:t.id,is_followed:!0}))}})))},trash:function(t){var r={type:"confirmation",headerText:d.headerRemovePostHeader,submitText:d.buttonRemove,cancelText:d.buttonCancel,bodyText:d.removeThisPost,actions:{onSubmit:function(){e(Rd({id:t.id},(function(r,i){r||(e(_d({post_id:t.id,topic_id:parseInt(n.workspaceId)})),n.hasOwnProperty("postId")&&a.goBack())})))}}};e(Ye(r))},showModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o={};switch(t){case"create_company":o={type:"post_modal",mode:"create",item:{post:a},action:{create:p}};break;case"edit_company":o={type:"post_modal",mode:"edit",item:{post:a},action:{update:h}};break;case"edit":o={type:"post_modal",mode:t,item:{post:a},action:{update:f},params:n};break;case"confirmation":o={type:"confirmation",mode:t,submitText:d.accept,cancelText:d.buttonCancel,headerText:d.acceptThisPost,bodyText:d.acceptThisPostText,generalConditionText:d.acceptCondition,item:{post:a},actions:{onSubmit:function(){if(u(a),i&&i.current&&i.current.rewardMe(),r){var t={post_id:a.id,body:"<div></div>",mention_ids:[],file_ids:[],post_file_ids:[],personalized_for_id:null,parent_id:r.parent_id?r.parent_id:r.id,approval_user_ids:[],code_data:{push_title:"".concat(s.name," replied in ").concat(a.title),post_id:a.id,post_title:a.title}};1===r.users_approval.length?e(Sd(t,(function(t,n){t||_({post_id:a.id,approved:1,comment_id:r.id,transfer_comment_id:n.data.id},(function(t,n){t||e(_u({counter:1,id:r.id,parent_id:r.parent_id,post_id:a.id,reaction:"clap"}))}))}))):_({post_id:a.id,approved:1,comment_id:r.id},(function(t,n){if(!t){e(_u({counter:1,id:r.id,parent_id:r.parent_id,post_id:a.id,reaction:"clap"}));var i=1===r.users_approval.filter((function(e){return null===e.ip_address})).length,o=r.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===r.users_approval.length-1;i&&o&&O(a,r.users_approval.map((function(e){return e.id})),[])}}))}else{var n=1===a.users_approval.filter((function(e){return null===e.ip_address})).length,o=a.users_approval.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===a.users_approval.length-1;setTimeout((function(){E({post_id:a.id,approved:1},(function(t,r){if(!t&&(console.log(n,o,a),n&&o&&a.users_approval.length>1&&O(a,a.users_approval.map((function(e){return e.id})),[]),1===a.users_approval.length)){var i={post_id:a.id,body:"<div></div>",mention_ids:[],file_ids:[],post_file_ids:[],personalized_for_id:null,parent_id:null,approval_user_ids:[],has_accepted:1,code_data:{push_title:"".concat(s.name," replied in ").concat(a.title),post_id:a.id,post_title:a.title}};e(Sd(i))}}))}),1e3)}}}};break;case"create_edit_post_list":o={type:"post_list",mode:"create"};break;case"add_to_list":o={type:"post_list",mode:"add",item:{post:a}};break;case"edit_post_list":o={type:"post_list",mode:"edit",item:{post:a}};break;default:o={type:"post_modal",mode:t,item:{post:a},action:{create:m},params:n}}e(Ye(o))},update:f,clap:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Gd(t,a))},getRecentPosts:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Yd({topic_id:t},a))},getTagsCount:function(t,a){e(Vd({topic_id:t},a))},fetchCompanyPosts:function(t,a){e(function(e,t){return Ia($(e),"GET_COMPANY_POSTS_START","GET_COMPANY_POSTS_SUCCESS","GET_COMPANY_POSTS_FAIL",t)}(t,a))},setCompanyFilterPosts:function(t,a){e(Kd(t,a))},getPosts:function(t,a){e(zd(t,a))},visit:function(t){e(Jd(t))},markReadRequirement:function(t){var a={post_id:t.id,must_read:1,must_reply:0,is_approved:0};e(Du(a)),u(t)},remind:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o.createForPost(t.id,e,(function(e,t){e&&(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.error_message.length&&e.response.data.errors.error_message.find((function(e){return"ALREADY_CREATED_TODO"===e}))?i.error(d.reminderAlreadyExists):i.error(d.toasterGeneraError)),t&&i.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:d.toasterCreateTodo}})),n(e,t),a(e,t)}))},c={type:"todo_reminder",item:t,itemType:"POST",actions:{onSubmit:n}};e(Ye(c))},fetchPostClapHover:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(ru({post_id:t},a))},getUnreadPostsCount:function(){e(ou())},archiveAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(su(t,(function(e,t){})))},readAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(cu(t,(function(e,t){})))},getUnreadPostCommentsCount:function(){e(bu())},getUnreadNotificationEntries:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(nt(t))},like:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(hu(t,a))},unlike:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(Eu(t,a))},fetchPostDetail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(gu(t))},updatePostImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(vu(t))},getUnreadWsPostsCount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Gm(t,(function(a,n){a||e(Hm({topic_id:t.topic_id,count:n.data.result}))})))},close:function(t,a){e(Ru({post_id:t.id,is_close:t.is_close?0:1},a))},generateSystemMessage:O,fetchUnreadCompanyPosts:function(t,a){e(function(e,t){return Ia($(e),"GET_UNREAD_COMPANY_POSTS_START","GET_UNREAD_COMPANY_POSTS_SUCCESS","GET_UNREAD_COMPANY_POSTS_FAIL",t)}(t,a))},snooze:function(t){var a={type:"confirmation",headerText:d.headerSnoozePost,submitText:d.buttonSnooze,cancelText:d.buttonCancel,bodyText:d.snoozeThisPost,actions:{onSubmit:function(){e(jd({post_id:t.id,set_time:"tomorrow"},(function(e,t){e||i.success("Post successfully snoozed.")}))),e(_d(t))}}};e(Ye(a))},fetchPostList:function(){var t=arguments.length>1?arguments[1]:void 0;e(sd(0,t))},createNewPostList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(ld(t,a))},updatePostsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(dd(t,a))},deletePostsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(ud(t,a))},connectPostList:function(t,a){e(md(t,a))},disconnectPostList:function(t,a){e(pd(t,a))},updatePostListConnect:function(t,a){"POST_LIST_CONNECTED"===t.SOCKET_TYPE?e(fd(t,a)):e(bd(t,a))},markReplyRequirement:function(t){var a={post_id:t.id,must_read:0,must_reply:1,is_approved:0};e(Du(a))},setCommentType:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Fu(t,a))}}},ep=function(e){var t=Object(l.useDispatch)();Object(n.useEffect)((function(){var e,a;"undefined"!==typeof document.hidden?(e="visibilitychange",a="hidden"):"undefined"!==typeof document.msHidden?(e="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange",a="webkitHidden");var n=function(){document[a]?t(Fe({status:!1})):t(Fe({status:!0}))};return document.addEventListener(e,n,!1),function(){return document.removeEventListener(e,n,!1)}}),[])},tp=a(278),ap=function(e){Object(n.useEffect)((function(){P.sessionService.loadSession().then((function(e){var t=e.token,n=e.access_broadcast_token;window.io||(window.io=a(546)),window.Echo||(window.Echo=new tp.a({broadcaster:"socket.io",host:"https://driff.network",auth:{headers:{Authorization:t,"Driff-Broadcast-Token":n}}}))}))}),[])},np=function(e){var t=rp(),a=Object(l.useSelector)((function(e){return e.workspaces.postComments})),r=Object(l.useSelector)((function(e){return e.session.user})),i=Object(n.useState)(!1),o=Object(_.a)(i,2),c=o[0],s=o[1],d=Object(n.useState)(!1),u=Object(_.a)(d,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){if(!c&&!a.hasOwnProperty(e.id)){s(!0);var n={url:"/v1/messages?post_id=".concat(e.id,"&skip=",0,"&limit=",20)};t.fetchPostComments(n,(function(e,t){s(!1)}))}var i=e.users_approval.length>0&&e.users_approval.some((function(e){return null===e.ip_address&&e.id===r.id}));if(!m&&!e.hasOwnProperty("post_reads")){if(i)return;if(e.is_must_read&&e.author.id!==r.id&&e.required_users&&e.required_users.some((function(e){return e.id===r.id&&!e.must_read})))return;if(e.is_must_reply&&e.author.id!==r.id&&e.required_users&&e.required_users.some((function(e){return e.id===r.id&&!e.must_reply})))return;t.fetchPostRead(parseInt(e.id),(function(a,n){p(!0);var r={postId:e.id,readPosts:Object(Rt.a)(n.data)};t.setPostReadComments(r,(function(){p(!1)}))}))}}),[e]),{comments:e&&a[e.id]?a[e.id].comments:{}}},rp=function(){var e=Object(l.useDispatch)(),t=Up(),a=Op(),n=vs()._t,i={reminderAlreadyExists:n("TOASTER.REMINDER_EXISTS","Reminder already exists"),toasterGeneraError:n("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:n("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>.")};return{add:function(t){e(xd(t))},addQuote:function(t){var a;e(Pa("ADD_COMMENT_QUOTE",t,a))},approve:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(wu(t,a))},clap:function(t){e(Hd(t))},clearQuote:function(t){var a;e(Pa("CLEAR_COMMENT_QUOTE",t,a))},create:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Sd(t,a))},edit:function(t){e(Nd(t))},fetchPostComments:function(t,a){e(kd(t,a))},setToEdit:function(t){e(wd(t))},remove:function(t){console.log(t);var a={type:"confirmation",headerText:"Remove post comment?",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this comment?",actions:{onSubmit:function(){if(Object.keys(t.replies).length>0){var a={post_id:t.post_id,id:t.id,user_id:t.author.id,body:"<i>The comment has been removed by the author.</i>",post_file_ids:[],file_ids:[],mention_ids:[],personalized_for_id:null,parent_id:t.parent_id};e(Nd(a))}else e(eu({comment_id:t.id}))}}};e(Ye(a))},remind:function(n,o){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.createForPostComment(n.id,e,(function(e,t){e&&(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.error_message.length&&e.response.data.errors.error_message.find((function(e){return"ALREADY_CREATED_TODO"===e}))?a.error(i.reminderAlreadyExists):a.error(i.toasterGeneraError)),t&&a.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterCreateTodo}})),o(e,t),c(e,t)}))},l={type:"todo_reminder",parentItem:o,item:n,itemType:"POST_COMMENT",actions:{onSubmit:s}};e(Ye(l))},fetchPostReplyHover:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(iu({message_id:t},a))},like:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(_u(t,a))},unlike:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;e(Ou(t,a))},updateCommentImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Au(t))},important:function(t){e(ju({message_id:t.id,is_important:t.is_important?0:1}))},fetchPostRead:function(t,a){e(xu({post_id:t},a))},setPostReadComments:function(t,a){e(function(e,t){return Pa("SET_POSTREAD",e,t)}(t,a))},clearApprovingStatus:function(t,a){e(function(e,t){return Pa("CLEAR_COMMENT_APPROVING_STATE",e,t)}(t,a))},setRequestForChangeComment:function(t,a){e(function(e,t){return Pa("SET_CHANGE_REQUESTED_COMMENT",e,t)}(t,a))}}};function ip(){var e=Object(f.a)(["\n  display: block;\n"]);return ip=function(){return e},e}var op,cp,sp,lp=Object(E.a)(Zn)(ip()),dp=function(e){var t=Object(l.useSelector)((function(e){return e.posts.commentQuotes})),a=Object(n.useState)(null),i=Object(_.a)(a,2),o=i[0],c=i[1],s=Object(n.useState)(null),d=Object(_.a)(s,2),u=d[0],m=d[1];return Object(n.useEffect)((function(){if(Object.keys(t).length>0){var a=Object.values(t).filter((function(t){return t.id===e}));if(a.length){c(a[0]),a=a[0],console.log(a);var n="",i=document.createElement("div");i.innerHTML=a.body;for(var o=i.getElementsByTagName("img"),s=0;s<o.length;s++)n+=Object(us.renderToString)(r.a.createElement(lp,{className:"image-quote",target:"_blank",href:o[0].getAttribute("src"),icon:"image-video"},"Photo"));for(var l=i.getElementsByTagName("video"),d=0;d<l.length;d++)n+=Object(us.renderToString)(r.a.createElement(lp,{className:"video-quote",target:"_blank",href:l[0].getAttribute("player-source"),icon:"image-video"},"Video"));a.files&&a.files.forEach((function(e){"image"===e.type?n+=Object(us.renderToString)(r.a.createElement(lp,{className:"image-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Photo")):"video"===e.type?n+=Object(us.renderToString)(r.a.createElement(lp,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video"},"Video")):n+=Object(us.renderToString)(r.a.createElement(lp,{target:"_blank",href:e.view_link,icon:"download"},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),n+=Es.parseEmoji(a.body),m(n)}else c(null),m(null)}else c(null),m(null)}),[t,e]),[o,u]},up=function(){var e=Object(n.useRef)(null),t=am().generalSettings,a=t.active_topic,r=t.order_channel,i=Op(),o=Object(b.j)(),c=Object(b.g)(),s=o.params,d=o.url,u=mp(),m=Object(l.useSelector)((function(e){return e.workspaces})),p=m.activeTopic,f=m.folders,h=m.workspaces,E=m.workspaceTimeline,O=m.workspacesLoaded,g=m.favoriteWorkspacesLoaded,v=Object(l.useSelector)((function(e){return e.chat.channels})),A=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),j=Object(l.useSelector)((function(e){return e.session.user})),C=Object(n.useState)(!1),T=Object(_.a)(C,2),y=T[0],S=T[1],k=Object(n.useState)(!1),w=Object(_.a)(k,2),N=w[0],x=w[1];Object(n.useEffect)((function(){s.workspaceId&&u.fetchWorkspace(s.workspaceId),u.fetchFavoriteWorkspaces({},(function(){u.fetchWorkspaces({sort_by:r.sort_by.toLowerCase(),order_by:r.order_by})})),"external"===j.type&&d.startsWith("/workspace/team-chat")&&c.push("/workspace/chat")}),[]),Object(n.useEffect)((function(){Object.keys(h).length&&null===p&&(s.hasOwnProperty("workspaceId")?h.hasOwnProperty(s.workspaceId)?u.selectWorkspace(h[s.workspaceId]):O&&a&&(e.current||(e.current=!0,u.fetchWorkspace(s.workspaceId,(function(t,n){if(e.current=null,t)if(i.warning("This workspace cannot be found or accessed."),parseInt(s.workspaceId)===a.id){var r=Object.values(h).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));r.length&&(u.selectWorkspace(r[0]),u.redirectTo(r[0]))}else h.hasOwnProperty(a.id)&&(u.selectWorkspace(h[a.id]),u.redirectTo(h[a.id]));if(n.data){var o=Object(R.a)(Object(R.a)({},n.data.workspace_data),{},{channel:n.data.workspace_data.topic_detail.channel,unread_chats:n.data.workspace_data.topic_detail.unread_chats,unread_posts:n.data.workspace_data.topic_detail.unread_posts,folder_id:n.data.workspace_id,folder_name:n.data.workspace_name});u.redirectTo(o)}})))):"search"!==s.page&&(a&&h.hasOwnProperty(a.id)?(u.selectWorkspace(h[a.id]),d.startsWith("/workspace")&&u.redirectTo(h[a.id])):d.startsWith("/workspace")&&localStorage.getItem("fromRegister")&&(console.log("trigger"),u.selectWorkspace(Object.values(h)[0]),u.redirectTo(Object.values(h)[0]),localStorage.removeItem("fromRegister"))))}),[p,a,s,h,d,O]),Object(n.useEffect)((function(){var e=function(e,t){t&&x(!1)};p&&!A&&Object.keys(v).length&&d.startsWith("/workspace")?d.startsWith("/workspace/team-chat")?p.team_channel.code&&v.hasOwnProperty(p.team_channel.id)?u.selectChannel(v[p.team_channel.id]):p.team_channel.code&&!v.hasOwnProperty(p.team_channel.id)&&(N||(x(!0),u.fetchChannel({code:p.team_channel.code},e))):v.hasOwnProperty(p.channel.id)?u.selectChannel(v[p.channel.id]):N||(x(!0),u.fetchChannel({code:p.channel.code},e)):p&&A&&Object.keys(v).length&&d.startsWith("/workspace")&&(d.startsWith("/workspace/team-chat")?p.team_channel.code&&p.team_channel.id!==A.id&&(v.hasOwnProperty(p.team_channel.id)?u.selectChannel(v[p.team_channel.id]):N||(x(!0),u.fetchChannel({code:p.team_channel.code},e))):p.channel.id!==A.id&&(v.hasOwnProperty(p.channel.id)?u.selectChannel(v[p.channel.id]):N||(x(!0),u.fetchChannel({code:p.channel.code},e))))}),[p,A,N,d,v]),Object(n.useEffect)((function(){s.hasOwnProperty("workspaceId")&&x(!1)}),[s]),Object(n.useEffect)((function(){if(!y&&p&&!p.hasOwnProperty("primary_files")&&d.startsWith("/workspace/dashboard/")&&p.members.some((function(e){return e.id===j.id}))){S(!0);u.getPrimaryFiles(p.id,(function(e,t){if(setTimeout((function(){S(!1)}),300),!e){var a={id:p.id,folder_id:p.workspace_id,files:t.data};u.addPrimaryFilesToWorkspace(a)}}))}}),[y,p,d,j]);var I=null;return Object.keys(E).length&&p&&E[p.id]&&(I=E[p.id]),{favoriteWorkspacesLoaded:g,folders:f,workspaces:h,workspace:p,actions:u,workspacesLoaded:O,timeline:I,orderChannel:r,history:c}},mp=function(){var e=Object(l.useDispatch)(),t=Object(b.g)(),a=am(),n=a.setGeneralSetting,r=a.loggedUser,i=Op(),o=vs()._t,c={notificationError:o("NOTIFICATION.ERROR","An error has occurred try again!"),errorFetchingChannel:o("ERROR.CHANNEL_FETCH","Fetching channel failed")},s=function(t,a){e(ws(t,a))},d=function(t){var a={id:t.id,workspace_id:t.folder_id?t.folder_id:0,is_pinned:t.is_favourite?0:1};e(Vm(a))};return{addPrimaryFilesToWorkspace:function(t){var a;e(Pa("ADD_PRIMARY_FILES",t,a))},addRole:function(t,a){e(Rm(t,a))},deleteRole:function(t,a){e(Dm(t,a))},clearChannel:function(){var t,a;e(Pa("CLEAR_SELECTED_CHANNEL",t,a))},fetchChannel:function(t,a){e(Ds(t,(function(t,n){if(a(t,n),t)i.error(c.errorFetchingChannel);else if(n.data){var r=Object(R.a)(Object(R.a)({},n.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e(Ms(r)),s(r)}})))},fetchFavoriteWorkspaces:function(t,a){e(Xm(t,a))},fetchWorkspaceChannels:function(t,a){e(Ol(t,a))},fetchWorkspace:function(t,a){e(Sm({topic_id:t},a))},fetchWorkspaces:function(t,a){e(dm(t,a))},getDetail:function(t,a){e(mm({topic_id:t},a))},getMembers:function(t,a){e(Cm({topic_id:t},a))},getPrimaryFiles:function(t,a){e(jm({topic_id:t},a))},getTimeline:function(t,a){e(Tm(t,a))},join:function(t,a){e(gm(t,a))},leave:function(t,a,n){if(a.id===r.id&&t.is_favourite&&d(t),1===t.members.length&&1===t.is_lock){var i={id:t.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};e(xs(i))}else{var o={name:t.name,description:t.description,topic_id:t.id,is_external:0,member_ids:t.members.map((function(e){return e.id})),is_lock:t.is_lock?1:0,workspace_id:t.folder_id?t.folder_id:0,new_member_ids:[],remove_member_ids:[a.id]};o.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:r.id,name:r.name,first_name:r.first_name,partial_name:r.partial_name,profile_image_link:r.profile_image_thumbnail_link?r.profile_image_thumbnail_link:r.profile_image_link},title:"",added_members:[],removed_members:[a.id]})),a.id===r.id&&e(xm({workspace_id:t.id,channel_id:t.channel.id},n)),e(pm(o))}},redirectTo:function(e){e.folder_id?t.push("/workspace/chat/".concat(e.folder_id,"/").concat(Wt(e.folder_name),"/").concat(e.id,"/").concat(Wt(e.name))):t.push("/workspace/chat/".concat(e.id,"/").concat(Wt(e.name)))},selectChannel:s,selectWorkspace:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(_m(t,(function(e,r){n({active_topic:t}),a(e,r)})))},showModal:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"workspace",r={mode:a,item:t};r="folder"===n?Object(R.a)(Object(R.a)({},r),{},{type:"workspace_folder"}):Object(R.a)(Object(R.a)({},r),{},{type:"workspace_create_edit"}),e(Ye(r))},updateTimelinePage:function(t){e(function(e,t){return Pa("UPDATE_WORKSPACE_TIMELINE_PAGE",e,t)}(t))}}},pp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(b.i)(),a=fp(t),r=Object(l.useSelector)((function(e){return e.workspaces.activeTopic})),i=Object(l.useSelector)((function(e){return e.session.user})),o=Object(l.useSelector)((function(e){return e.files})),c=o.workspaceFiles,s=o.googleDriveApiFiles,d=o.gifBlobs,u=o.fileBlobs,m=o.fileThumbnailBlobs,p=Object(n.useState)(!1),f=Object(_.a)(p,2),h=f[0],E=f[1];Object(n.useEffect)((function(){if(e){if(!h&&r&&!c.hasOwnProperty(r.id)||!h&&r&&c.hasOwnProperty(r.id)&&!c[r.id].hasOwnProperty("loaded")){E(!0),a.getFiles({topic_id:r.id},(function(e,t){E(!1),a.getFolders({topic_id:r.id}),a.getFilesDetail(r.id),a.getFavoriteFiles(r.id),a.getPopularFiles(r.id),a.getEditedFiles(r.id),a.getTrashFiles(r.id),a.getGoogleDriveFiles(r.id),a.getGoogleDriveFolders(r.id),"internal"===i.type&&r&&r.team_channel&&r.team_channel.code&&(a.fetchClientChatFiles({topic_id:r.id,filter_by:"client"}),a.fetchTeamChatFiles({topic_id:r.id,filter_by:"team"}),a.fetchPrivatePostFiles({topic_id:r.id,filter_by:"privatePost"}),a.fetchClientPostFiles({topic_id:r.id,filter_by:"clientPost"}))}))}if(!h&&r&&c.hasOwnProperty(r.id)&&t.hasOwnProperty("fileFolderId")&&c[r.id].folders.hasOwnProperty(t.fileFolderId)&&!c[r.id].folders[t.fileFolderId].hasOwnProperty("loaded")){E(!0);var n={topic_id:r.id,folder_id:parseInt(t.fileFolderId)};a.getFiles(n,(function(e,t){E(!1)}))}}}),[h,r,c,t]);var O=[];Object.values(c).length&&c.hasOwnProperty(t.workspaceId)&&(t.hasOwnProperty("fileFolderId")&&c[r.id].folders.hasOwnProperty(t.fileFolderId)&&c[r.id].folders[t.fileFolderId].hasOwnProperty("files")?(O=Object.values(c[r.id].folders[t.fileFolderId].files).sort((function(e,t){return t>e?1:-1})),c[r.id].hasOwnProperty("search_results")&&c[r.id].search_results.length>0&&(O=c[r.id].search_results.sort((function(e,t){return t>e?1:-1})))):(O=Object.values(c[r.id].files).filter((function(e){return null===e.folder_id})).map((function(e){return e.id})).sort((function(e,t){return t>e?1:-1})),c[r.id].hasOwnProperty("search_results")&&c[r.id].search_results.length>0&&(O=c[r.id].search_results.sort((function(e,t){return t>e?1:-1})))));var g=r&&c[r.id];return{params:t,wsFiles:g?c[r.id]:null,actions:a,topic:r,fileIds:O,folders:g?c[r.id].folders:{},subFolders:g?Object.values(c[r.id].folders).filter((function(e){return e.parent_folder&&e.parent_folder.id==t.fileFolderId})):[],folder:g?c[r.id].folders[t.fileFolderId]:null,googleDriveApiFiles:s,gifBlobs:d,fileBlobs:u,fileThumbnailBlobs:m}},fp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(l.useDispatch)(),a=Op(),i=Object(n.useRef)(""),o=vs(),c=o._t,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"trashed"===e?r.a.createElement("i",{class:"fa fa-exclamation-triangle text-danger"}):e.includes("image")?r.a.createElement("i",{className:"fa fa-file-image-o text-instagram"}):e.includes("audio")?r.a.createElement("i",{className:"fa fa-file-audio-o text-dark"}):e.includes("video")?r.a.createElement("i",{className:"fa fa-file-video-o text-google"}):e.includes("pdf")?r.a.createElement("i",{className:"fa fa-file-pdf-o text-danger"}):e.includes("zip")||e.includes("archive")||e.includes("x-rar")?r.a.createElement("i",{className:"fa fa-file-zip-o text-primary"}):e.includes("excel")||e.includes("spreadsheet")||e.includes("csv")||e.includes("numbers")||e.includes("xml")?r.a.createElement("i",{className:"fa fa-file-excel-o text-success"}):e.includes("powerpoint")||e.includes("presentation")?r.a.createElement("i",{className:"fa fa-file-powerpoint-o text-secondary"}):e.includes("word")||e.includes("document")?r.a.createElement("i",{className:"fa fa-file-word-o text-info"}):e.includes("script")?r.a.createElement("i",{className:"fa fa-file-code-o"}):r.a.createElement("i",{className:"fa fa-file-text-o text-warning"}):r.a.createElement("i",{className:"fa fa-file-text-o text-warning"})},d={buttonCancel:c("BUTTON.CANCEL","Cancel"),buttonRemove:c("BUTTON.REMOVE","Remove"),removeHeaderFolder:c("FILES.REMOVE_HEADER","Remove folder for everyone?"),removeBodyFolder:c("FILES.REMOVE_BODY","This folder will be moved to the recycle bin and will be permanently removed after thirty (30) days."),removeConfirmation:c("FILES.REMOVE_HEADER","This folder will be removed permanently.")},u=function(e,a){t(Do(e,a))},m=function(e,a){t(Lo(e,a))},p=function(e,a){t(Fo(e,a))},f=function(e,a){t(Mo(e,a))},b=function(e,a){t(Uo(e,a))},h=function(e,a){t(Go(e,a))},E=function(e,a){t(Ho(e,a))},_=function(e,a){t(Bo(e,a))},O=function(e,a){t(Wo(e,a))},g=function(e,a){t(Yo(e,a))},v=function(e,a){t(Vo(e,a))},A=function(e,a){t(Qo(e,a))},j=function(e,a){t(Ko(e,a))},C=function(e,a){t(zo(e,a))},T=function(e,a){t(Jo(e,a))},y=function(e,a){t(Hi(e,a))},k=function(e,a){t(Gi({topic_id:e},a))},w=function(e,a){t(ko({workspace_id:e},a))},N=function(e,a){t(wo({workspace_id:e},a))},x=function(e,a){t(gc({},a))},I=function(e,a){t(vc({workspace_id:e},a))},P=function(e,a){t(zi({topic_id:e},a))},D=function(e,a){t(Vi({topic_id:e},a))},L=function(e,a){t(Yi({topic_id:e},a))},F=function(e,a){t(Bi({topic_id:e},a))},M=function(e,a){t(Xi(e,a))},U=function(e,a){t(Qi(e,a))},G=function(e,a){t(Ki(e,a))},H=function(e,a){t($i(e,a))},B=function(e,a){t(eo(e,a))},W=function(e,a,n){t(So({link_id:e,link_type:"topic",attachment_type:"folder"===a.type?"FOLDER":"FILE",payload:a},n))},Y=function(e,a){t(So({link_type:"company_drive",attachment_type:"folder"===e.type?"FOLDER":"FILE",payload:e},a))},V=function(e,a,n){var r={type:"confirmation",headerText:d.removeHeaderFolder,submitText:d.buttonRemove,cancelText:d.buttonCancel,bodyText:d.removeBodyFolder,actions:{onSubmit:function(){var r={id:e.id,topic_id:a};e.is_archived&&(r=Object(R.a)(Object(R.a)({},r),{},{force_delete:1})),t(ao(r,n))}}};e.is_archived&&(r=Object(R.a)(Object(R.a)({},r),{},{bodyText:d.removeConfirmation})),t(Ye(r))},Q=function(e,a){var n={type:"confirmation",headerText:"Remove folder for everyone?",submitText:"Remove",cancelText:"Cancel",bodyText:"This folder will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:function(){var n={id:e.id};e.is_archived&&(n=Object(R.a)(Object(R.a)({},n),{},{force_delete:1})),t(Jo(n,a))}}};e.is_archived&&(n=Object(R.a)(Object(R.a)({},n),{},{bodyText:"This folder will be removed permanently."})),t(Ye(n))},K=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(){var i={file_id:n.id,link_id:n.link_id,link_type:n.link_type,topic_id:e.workspaceId};r&&(i=Object(R.a)(Object(R.a)({},i),{},{force_delete:1})),t(io(i,(function(e,t){a.info("You have removed ".concat(n.search,"."))})))},o={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"This file will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:i}};t(Ye(o))},z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force_delete:!1},i=function(){var i={file_id:e.id,link_id:e.link_id,link_type:e.link_type};r.force_delete&&(i=Object(R.a)(Object(R.a)({},i),{},{force_delete:1})),t(qo(i,(function(t,r){a.info("You have removed ".concat(e.search,".")),n(t,r)})))},o={type:"confirmation",headerText:"Remove file",submitText:"Remove",cancelText:"Cancel",bodyText:"This file will be moved to the recycle bin and will be permanently removed after thirty (30) days.",actions:{onSubmit:i}};t(Ye(o))},q=function(n,o){var c=n.search.split(".").slice(0,-1).join(".");""===c&&(c=n.search),i.current=c;var s={type:"single_input",preInputLabel:"Renaming the file will update the filename for everyone.",label:"Filename",defaultValue:c,title:"Rename file",labelPrimaryAction:"Rename file",onPrimaryAction:function(){t(oo({id:n.id,name:i.current,topic_id:e.workspaceId},(function(e,t){e&&a.error(r.a.createElement("span",null,"System failed to rename the ",r.a.createElement("b",null,n.search)," to ",i.current,".")),t&&a.success(r.a.createElement("span",null,"You renamed ",r.a.createElement("b",null,n.search)," to ",i.current,".")),o(e,t)})))},onChange:function(e){i.current=e.target.value.trim()},onClose:function(){i.current=""}};t(Ye(s))},J=function(e,n){var o=e.search.split(".").slice(0,-1).join(".");""===o&&(o=e.search),i.current=o,t(Ye({type:"single_input",defaultValue:o,title:"Update filename",preInputLabel:"Renaming the file will update the filename for everyone.",label:"Filename",labelPrimaryAction:"Rename file",onPrimaryAction:function(){var t=i.current,o=e.search.split(".");o.length>=2&&(t="".concat(t,".").concat(o.pop())),j({id:e.id,name:t},(function(t,o){t&&a.error(r.a.createElement("span",null,"System failed to rename the ",r.a.createElement("b",null,e.search)," to ",i.current,".")),o&&a.success(r.a.createElement("span",null,"You renamed ",r.a.createElement("b",null,e.search)," to ",i.current,".")),n(t,o)}))},onChange:function(e){i.current=e.target.value.trim()},onClose:function(){i.current=""}}))},Z=function(n,i){t(ro({type_id:n.id,type:"file"},(function(i,o){if(i)a.error(r.a.createElement("div",null,"System failed to mark the file ",r.a.createElement("b",null,n.search)," ",n.is_favorite?"unfavorite":"as favorite"));else if(o){var c={file_id:n.id,topic_id:e.workspaceId,is_favorite:!n.is_favorite};e.hasOwnProperty("fileFolderId")&&(c=Object(R.a)(Object(R.a)({},c),{},{folder_id:e.fileFolderId})),t(po(c,(function(){a.success(r.a.createElement(r.a.Fragment,null,"You have marked ",r.a.createElement("b",null,n.search)," ",n.is_favorite?"as favorite":"unfavorite"))})))}})))},X=function(e,a){t(Wi({topic_id:e},a))},$=function(a,n){if(a.hasOwnProperty("payload_id")){var r=document.createElement("a");r.href=a.download_link.replace("/preview","/view"),r.target="_blank",r.click()}else{var i={workspace_id:e.workspaceId,file_id:a.id};t(Fi(i,n))}},ee=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(e.hasOwnProperty("payload_id")){var r=document.createElement("a");r.href=e.download_link.replace("/preview","/view"),r.target="_blank",r.click()}else{var i={file_id:e.id,files:Object.values(a)};t(Fi(i,n))}},te=function(a){var n={topic_id:e.workspaceId,search:a};t(Hi(n,(function(e,a){e||t(so(Object(R.a)(Object(R.a)({},n),{},{search_results:a.data.files})))})))},ae=function(e){var a={search:e};u(a,(function(e,n){e||t($o(Object(R.a)(Object(R.a)({},a),{},{search_results:n.data.files})))}))},ne=function(){var a={topic_id:e.workspaceId};t(lo(a))},re=function(e){S(a,e)},ie=function(){var a={type:"confirmation",headerText:"Empty trash",submitText:"Empty",cancelText:"Cancel",bodyText:"Are you sure you want to empty the trash?",actions:{onSubmit:function(){t(fo({topic_id:e.workspaceId}))}}};t(Ye(a))},oe=function(){var e={type:"confirmation",headerText:"Empty trash",submitText:"Empty",cancelText:"Cancel",bodyText:"Are you sure you want to empty the trash?",actions:{onSubmit:function(){t(Zo({}))}}};t(Ye(e))},ce=function(a){var n={type:"move_files",file:a,topic_id:e.workspaceId,folder_id:null};e.hasOwnProperty("fileFolderId")&&(n=Object(R.a)(Object(R.a)({},n),{},{folder_id:e.fileFolderId})),t(Ye(n))},se=function(n){var i={type:"move_company_files",dictionary:{headerText:"Move files",submitText:"Move",cancelText:"Cancel",bodyText:n.search},file:n,folder_id:null,actions:{onSubmit:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t(Oc(e,(function(e,t){e&&a.error(r.a.createElement("div",null,"Failed to move ",r.a.createElement("b",null,n.search)," to folder ",r.a.createElement("strong",null,o.selectedFolder))),t&&a.success(r.a.createElement("div",null,r.a.createElement("strong",null,n.search)," has been moved to folder ",r.a.createElement("strong",null,o.selectedFolder))),i(e,t)})))}}};e.hasOwnProperty("folderId")&&(i=Object(R.a)(Object(R.a)({},i),{},{folder_id:e.folderId})),t(Ye(i))},le=function(e){var a={type:"confirmation",headerText:"Download file",submitText:"Download",cancelText:"Cancel",bodyText:"Download ".concat(e.search,"?"),actions:{onSubmit:function(){if(e.hasOwnProperty("payload_id")){var t=document.createElement("a");t.href="https://drive.google.com/u/0/uc?export=download&id=".concat(e.payload_id),t.target="_blank",t.click()}else{var a=document.createElement("a");a.href=e.download_link,a.target="_blank",a.click()}}}};t(Ye(a))},de=function(e){return e?e<1e6?{size:e/1e3,unit:"KB"}:e<1e9?{size:e/1e6,unit:"MB"}:e<1e12?{size:e/1e9,unit:"GB"}:void 0:{size:0,unit:"KB"}},ue=function(e){t(Co(e))},me=function(e){t(Xo(e))},pe=function(e){var n={type:"confirmation",headerText:"Remove Google attachment",submitText:"Remove",cancelText:"Cancel",bodyText:"Are you sure you want to remove this file?",actions:{onSubmit:function(){var n={link_id:e.link_id,link_type:"topic_drive",attachment_type:e.attachment_type,attachment_id:e.id,payload:{id:e.payload_id,name:e.search,mime_type:e.mime_type}};t(Ro(n,(function(t,n){a.info("You have removed ".concat(e.search,"."))})))}}};t(Ye(n))},fe=function(e){var n={type:"confirmation",headerText:"Remove Google folder",cancelText:"Cancel",submitText:"Remove",bodyText:"Are you sure you want to remove this folder?",actions:{onSubmit:function(){var n={link_id:e.link_id,link_type:"topic_drive",attachment_type:e.attachment_type,attachment_id:e.id,payload:{id:e.payload_id,name:e.search,mime_type:e.mime_type}};t(Ro(n,(function(t,n){a.info("You have removed ".concat(e.search,"."))})))}}};t(Ye(n))},be=function(e){t(Po(e))},he=function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(bc(Object(R.a)(Object(R.a)({},a),{},{topic_id:e.workspaceId}),n))},Ee=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{notification:!0};t(hc(e,(function(t,i){i&&r.notification&&a.success("Item ".concat(e.search," is restored.")),n(t,i)})))},_e=function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Ec(Object(R.a)(Object(R.a)({},a),{},{topic_id:e.workspaceId,folder_id:a.id}),n))},Oe=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(_c(Object(R.a)(Object(R.a)({},e),{},{folder_id:e.id}),a))},ge=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Ac(e,a))},ve=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(jc(e,a))},Ae=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t(Cc(e,a))},je=function(e,a){t(Tc(e,a))},Ce=function(e,a){t(yc(e,a))},Te=function(e,a){t(Sc(e,a))},ye=function(e,a){t(kc(e,a))};return{addGoogleDriveFile:be,clearSearch:ne,copyLink:re,createFolder:M,download:le,favorite:Z,getFavoriteFiles:X,getFileIcon:s,getFiles:y,getFilesDetail:P,getFolders:U,getFoldersBreadcrumb:G,getPopularFiles:D,getEditedFiles:L,getTrashFiles:F,moveFile:ce,removeFile:K,removeFolder:V,removeTrashFiles:ie,renameFile:q,search:te,updateFolder:H,uploadFiles:B,viewFiles:$,viewCompanyFiles:ee,getFileSizeUnit:de,getPrimaryFiles:k,getGoogleDriveFiles:w,getGoogleDriveFolders:N,unlinkGoogleAttachment:pe,unlinkGoogleFolder:fe,uploadWorkspaceGoogleDriveFile:W,uploadCompanyGoogleDriveFile:Y,uploadingFiles:ue,fetchCompanyFiles:u,fetchCompanyFavoriteFiles:m,fetchCompanyFilesDetail:p,fetchCompanyFolderBreadCrumbs:f,fetchCompanyFolders:b,fetchCompanyPopularFiles:h,fetchCompanyRecentEditedFiles:E,fetchCompanyTrashedFiles:_,createCompanyFolders:O,renameCompanyFile:J,moveCompanyFile:se,uploadingCompanyFiles:me,uploadCompanyFiles:g,uploadCompanyBulkFiles:v,viewCompanyFile:A,updateCompanyFiles:j,updateCompanyFolders:C,removeCompanyFile:z,removeAllCompanyTrashFiles:oe,removeCompanyFolder:Q,deleteCompanyFolder:T,searchCompany:ae,restoreWorkspaceFile:he,restoreCompanyFile:Ee,restoreWorkspaceFolder:_e,restoreCompanyFolder:Oe,getCompanyGoogleDriveFolders:x,getCompanyGoogleDriveFiles:I,setGifSrc:ge,setFileSrc:ve,setFileThumbnailSrc:Ae,fetchTeamChatFiles:je,fetchClientChatFiles:Ce,fetchClientPostFiles:Te,fetchPrivatePostFiles:ye}},bp=a(47),hp=E.a.div(op||(op=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ep=Object(E.a)(pn)(cp||(cp=Object(f.a)(["\n  margin-right: 10px;\n  min-width: 24px;\n"]))),_p=E.a.div(sp||(sp=Object(f.a)(["\n  word-break: break-word;\n"]))),Op=function(){return{success:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bp.c.success(r.a.createElement(hp,null,r.a.createElement(Ep,{icon:"check",strokeWidth:"2"}),r.a.createElement(_p,null,e)),t)},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bp.c.error(r.a.createElement(hp,null,r.a.createElement(Ep,{icon:"alert-x",strokeWidth:"2"}),r.a.createElement(_p,null,e)),t)},warning:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bp.c.warn(r.a.createElement(hp,null,r.a.createElement(Ep,{icon:"warning",strokeWidth:"2"}),r.a.createElement(_p,null,e)),t)},info:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bp.c.info(r.a.createElement(hp,null,r.a.createElement(Ep,{icon:"info",strokeWidth:"2"}),r.a.createElement(_p,null,e)),t)},notify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(bp.c)(r.a.createElement(hp,null,r.a.createElement(_p,null,e)),t)},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bp.c.update(e,t)},dismiss:function(e){bp.c.dismiss(e)}}},gp=function(e){var t=Object(l.useSelector)((function(e){return e.notifications})),a=t.notifications;return{notifications:a,unreadCount:t.unreadCount,unreadNotifications:Object.values(a).filter((function(e){return 0===e.is_read})).length}},vp=function(e){var t=Object(l.useDispatch)(),a=Op();return{get:function(e,a){t(zu(e,a))},read:function(e){t(qu(e,(function(a,n){a||t(function(e,t){return Pa("READ_NOTIFICATION_REDUCER",e,t)}(e))})))},readAll:function(e){t(Zu(e,(function(e,n){e?a.error(r.a.createElement(r.a.Fragment,null,"Action failed")):n&&(t(function(e,t){return Pa("READ_ALL_NOTIFICATION_REDUCER",e,t)}()),a.success(r.a.createElement(r.a.Fragment,null,"You marked all notifications read")))})))},remove:function(e){t(Xu(e,(function(a,n){a||t(function(e,t){return Pa("REMOVE_NOTIFICATION_REDUCER",e,t)}(e))})))},removeAll:function(){t($u(0,(function(e,a){e||t(function(e,t){return Pa("REMOVE_ALL_NOTIFICATION_REDUCER",e,t)}())})))},selectWorkspace:function(e,a){t(_m(e,a))},unread:function(e){t(Ju(e,(function(a,n){a||t(function(e,t){return Pa("UNREAD_NOTIFICATION_REDUCER",e,t)}(e))})))}}},Ap=(a(569),a(570),function(){var e=am().generalSettings,t=e.timezone,a=e.date_format,n=e.time_format,r=e.language;pa.a.locale(r),pa.a.tz.setDefault(t);return{fromNow:function(e){return pa()(pa()(e,"X").toDate()).locale(r).fromNow()},localizeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(a," ").concat(n),i=pa()(pa()(e,"X").toDate());return i.locale(r).format(t)},localizeTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(n),a=pa()(pa()(e,"X").toDate());return a.locale(r).format(t)},localizeChatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LL";pa.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",sameDay:"[Today]",lastWeek:"dddd",sameElse:t}}),pa.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",sameDay:"[vandaag]",lastWeek:"dddd",sameElse:t}});var a=pa()(pa()(e,"X").toDate());return a.locale(r).calendar()},todayOrYesterdayDate:function(e){return pa.a.updateLocale("en",{calendar:{lastDay:"[Yesterday] ".concat(n),sameDay:"[Today] ".concat(n),sameElse:"dddd[,] ".concat(n)}}),pa.a.updateLocale("nl",{calendar:{lastDay:"[gisteren] ".concat(n),sameDay:"[vandaag] ".concat(n),sameElse:"dddd[,] ".concat(n)}}),pa()(pa()(e,"X").toDate()).locale(r).calendar()},todoFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LL ".concat(n);pa.a.updateLocale("en",{calendar:{lastDay:"[Yesterday at] ".concat(n),nextDay:"[Tomorrow at] ".concat(n),sameDay:"[Today at] ".concat(n),nextWeek:"dddd [at] ".concat(n),lastWeek:"[Last] dddd [at] ".concat(n),sameElse:t}}),pa.a.updateLocale("nl",{calendar:{lastDay:"[gisteren om] ".concat(n),nextDay:"[morgen om] ".concat(n),sameDay:"[vandaag om] ".concat(n),nextWeek:"dddd [om] ".concat(n),lastWeek:"[afgelopen] dddd [om] ".concat(n),sameElse:t}});var a=pa()(pa()(e,"X").toDate());return a.locale(r).calendar()},todoFormatShortCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(a," ").concat(n);pa.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",nextDay:"[Tomorrow]",sameDay:"[Today]",nextWeek:"[Next] dddd",lastWeek:"[Last] dddd",sameElse:t}}),pa.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",nextDay:"[morgen]",sameDay:"[vandaag]",nextWeek:"[deze] dddd",lastWeek:"[afgelopen] dddd",sameElse:t}});var i=pa()(pa()(e,"X").toDate());return i.locale(r).calendar()},channelPreviewDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(a);pa.a.updateLocale("en",{calendar:{lastDay:"[Yesterday]",sameDay:"".concat(n),lastWeek:"dddd",sameElse:t}}),pa.a.updateLocale("nl",{calendar:{lastDay:"[gisteren]",sameDay:"".concat(n),nextWeek:"[deze] dddd",lastWeek:"[afgelopen] dddd",sameElse:t}});var i=pa()(pa()(e,"X").toDate());return i.locale(r).calendar()}}});function jp(e,t){return Ia(function(e){return W({method:"GET",url:"/v2/global-search?".concat(w(e))})}(e),"SEARCH_START","SEARCH_SUCCESS","SEARCH_FAIL",t)}var Cp,Tp,yp,Sp=function(){var e=Object(l.useDispatch)();return{search:function(t,a){e(jp(t,a))},saveSearchValue:function(t,a){e(function(e,t){return Pa("SAVE_SEARCH_INPUT",e,t)}(t,a))},updateTabPage:function(t,a){e(function(e,t){return Pa("UPDATE_TAB",e,t)}(t,a))}}},kp=function(){var e=Object(l.useSelector)((function(e){return e.global})),t=e.searching,a=e.searchCount,n=e.searchResults,r=e.searchValue,i=e.tabs;return{count:a,results:Object.values(n),value:r,searching:t,tabs:i}},wp=function(){var e=Object(l.useDispatch)(),t=Object(l.useSelector)((function(e){return e.global.isLoading}));return{isActive:t,toggle:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(He(!t,a))},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(He(!0,t))},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e(He(!1,t))}}},Np=function(){var e=Object(l.useDispatch)(),t=Object(b.g)(),a=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),n=Object(l.useSelector)((function(e){return e.chat.channels})),r=Object(l.useSelector)((function(e){return e.session.user})),i=Op(),o=function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(Sm({topic_id:a.id},(function(r,o){console.log(o,r),r?i.warning("This workspace cannot be found or accessed."):(e(_m(a)),e(Pm(a.id)),n?a.folder_id?t.push("/workspace/posts/".concat(a.folder_id,"/").concat(Wt(a.folder_name),"/").concat(a.id,"/").concat(Wt(a.name),"/post/").concat(n.id,"/").concat(Wt(n.title))):t.push("/workspace/posts/".concat(a.id,"/").concat(Wt(a.name),"/post/").concat(n.id,"/").concat(Wt(n.title))):a.folder_id?t.push("/workspace/chat/".concat(a.folder_id,"/").concat(Wt(a.folder_name),"/").concat(a.id,"/").concat(Wt(a.name))):t.push("/workspace/chat/".concat(a.id,"/").concat(Wt(a.name))))})))};return{fetchWorkspaceAndRedirect:o,toChannel:function(e,a){t.push("/chat/".concat(e.code))},toChat:function(i,o){var c,s,l=function(){if("external"===r.type){var e=Object.values(a).find((function(e){return e.channel.id===i.id||e.team_channel&&e.team_channel.id===i.id}));e&&t.push({pathname:e.folder_id?"/workspace/chat/".concat(e.folder_id,"/").concat(e.folder_name,"/").concat(e.id,"/").concat(e.name):"/workspace/chat/".concat(e.id,"/").concat(e.name),state:{focusOn:o.code}})}else t.push({pathname:"/chat/".concat(i.code,"/").concat(o.code),state:{focusOn:o.code}})};if(n.hasOwnProperty(i.id)){var d=Object(R.a)({},n[i.id]);if(d.replies.find((function(e){return e.id===o.id})))e(El(d,l));else{var u={channel_id:d.id,skip:0,before_chat_id:o.id,limit:10};e(Us(u)),e(El(d,l))}}else c=i.code,s=l,e(Tl({code:c},(function(e,a){e||(t.push("/chat/".concat(a.data.code)),s&&s())})))},toFiles:function(a){if(a.workspaces.length){var n={id:a.workspaces[0].topic.id,name:a.workspaces[0].topic.name,folder_id:a.workspaces[0].workspace?a.workspaces[0].workspace.id:null,folder_name:a.workspaces[0].workspace?a.workspaces[0].workspace.name:null};e(_m(n)),n.folder_id?t.push("/workspace/files/".concat(n.folder_id,"/").concat(Wt(n.folder_name),"/").concat(n.id,"/").concat(Wt(n.name))):t.push("/workspace/files/".concat(n.id,"/").concat(Wt(n.name)))}else t.push("/files")},toPeople:function(e){t.push("/profile/".concat(e.id,"/").concat(Wt(e.name)))},toPost:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=n.post,c=n.workspace;c&&a[c.id]?(e(_m(c)),c.folder_id?t.push("/workspace/posts/".concat(c.folder_id,"/").concat(Wt(c.folder_name),"/").concat(c.id,"/").concat(Wt(c.name),"/post/").concat(i.id,"/").concat(Wt(i.title)),r):t.push("/workspace/posts/".concat(c.id,"/").concat(Wt(c.name),"/post/").concat(i.id,"/").concat(Wt(i.title)),r)):c&&"undefined"===typeof a[c.id]?o(c,i):t.push("/posts/".concat(i.id,"/").concat(Wt(i.title)),r)},toWorkspace:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"chat";if(a[n.id]){var i=Object(R.a)({},a[n.id]);e(_m(i)),i.folder_id?t.push("/workspace/".concat(r,"/").concat(i.folder_id,"/").concat(Wt(i.folder_name),"/").concat(i.id,"/").concat(Wt(i.name))):t.push("/workspace/".concat(r,"/").concat(i.id,"/").concat(Wt(i.name)))}else o(n)},toTodos:function(){t.push("/todos")}}},xp=function(){var e=vs()._t,t=fp().addGoogleDriveFile,a="363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",n="AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",i={connectPreview:e("GOOGLE_DRIVE.CONNECT_TO_PREVIEW","Connect to preview"),restrictedLink:e("GOOGLE_DRIVE.RESTRICTED_LINK","Restricted link, try another account")},o=function(e){e.preventDefault(),window.gapi.auth2.getAuthInstance().signIn()},c=function(e,a,n){e?window.gapi.client.load("drive","v2",(function(){window.gapi.client.drive.files.get({fileId:n,includePermissionsForView:"published",supportsAllDrives:!0}).execute((function(e){e.error?(t({file_id:n,metadata:{title:r.a.createElement("span",{className:"link"},a.href)}}),a.innerHTML='<span class="link">'.concat(a.href,'</span><span className="preview-text"> - ').concat(i.restrictedLink,"</span>"),a.onclick=o):(t({file_id:n,metadata:e}),a.innerHTML=e.title,a.onclick=null)}))})):a.onclick=o},s=function(e,t){window.gapi.load("client:auth2",Object(F.a)(L.a.mark((function r(){return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:window.gapi.client.init({clientId:a,apiKey:n,scope:"email https://www.googleapis.com/auth/drive.metadata.readonly",access_type:"offline"}).then(Object(F.a)(L.a.mark((function r(){var i;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.gapi.auth2.getAuthInstance();case 2:i=r.sent,window.gapi.auth.authorize({client_id:a,api_key:n,scope:"email https://www.googleapis.com/auth/drive.metadata.readonly",immediate:!0},(function(a){a.access_token?c(a.access_token,e,t):c(null,e,t)})),i.isSignedIn.listen((function(){c(i.isSignedIn.get(),e,t)}));case 5:case"end":return r.stop()}}),r)}))));case 1:case"end":return r.stop()}}),r)}))))};return{init:function(e){var t=e.querySelector(".link");t&&(t.innerHTML=e.dataset.hrefLink),(t=e.querySelector(".preview-text"))&&(t.innerHTML="- ".concat(i.connectPreview)),e.dataset.googleLinkRetrieve=1,s(e,e.dataset.googleFileId)}}},Rp=!1,Ip=function(){var e=Object(b.i)(),t=$m(),a=Object(l.useSelector)((function(e){return e.session.user})),r=Object(l.useSelector)((function(e){return e.posts.companyPosts})),i=r.flipper,o=r.limit,c=r.next_skip,s=r.has_more,d=r.posts,u=r.filter,m=r.tag,p=r.postListTag,f=r.count,h=r.sort,E=r.search,_=r.searchResults,O=Object(l.useSelector)((function(e){return e.posts})).postsLists,g=Object(l.useSelector)((function(e){return e.posts.archived})),v=Object(l.useSelector)((function(e){return e.posts.favourites})),A=Object(l.useSelector)((function(e){return e.posts.myPosts})),j=function(e){if("archive"===u){var a={skip:g.skip,limit:g.limit,filters:["post","archived"]};g.has_more&&t.fetchCompanyPosts(a,e)}else if("my_posts"===u){var n={skip:A.skip,limit:A.limit,filters:["post","created_by_me"]};A.has_more&&t.fetchCompanyPosts(n,e)}else{var r={skip:c,limit:o};s&&t.fetchCompanyPosts(r,e)}};Object(n.useEffect)((function(){Rp||(Rp=!0,e.postId&&t.fetchPostDetail({post_id:parseInt(e.postId)}),j(),t.fetchPostList(),t.fetchUnreadCompanyPosts({skip:0,limit:100,filters:["green_dot"]}))}),[]),Object(n.useEffect)((function(){0===g.skip&&"all"===u&&t.fetchCompanyPosts({skip:0,limit:25,filters:["post","archived"]})}),[u,g]),Object(n.useEffect)((function(){0===v.skip&&"star"===u&&t.fetchCompanyPosts({skip:0,limit:25,filters:["post","favourites"]})}),[u,v]),Object(n.useEffect)((function(){0===A.skip&&"my_posts"===u&&t.fetchCompanyPosts({skip:0,limit:25,filters:["post","created_by_me"]})}),[u,A]);var C=Object.values(d);_.length>0&&""!==E?C=C.filter((function(e){return _.some((function(t){return e.id===t.id}))})):0===_.length&&""!==E&&(C=[]),C=C.filter((function(e){return u?"all"===u||("inbox"===u?""!==E||(!(e.hasOwnProperty("draft_type")||1===e.is_archived||e.author.id===a.id)||e.author.id===a.id&&e.reply_count>0&&1!==e.is_archived):"my_posts"===u?!(!e.hasOwnProperty("author")||e.hasOwnProperty("draft_type"))&&e.author.id===a.id:"draft"===u?e.hasOwnProperty("draft_type"):"star"===u?e.is_favourite&&!e.hasOwnProperty("draft_type"):"archive"===u?1===e.is_archived&&!e.hasOwnProperty("draft_type"):void 0):m?"is_must_reply"===m?e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===a.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===a.id&&e.is_must_reply:"is_must_read"===m?e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===a.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===a.id&&e.is_must_read:"is_read_only"===m?e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type"):"is_unread"===m?e.is_unread&&!e.hasOwnProperty("draft_type")||e.unread_count>0&&!e.hasOwnProperty("draft_type"):"is_close"===m?e.is_close&&!e.hasOwnProperty("draft_type"):!!isNaN(parseInt(m))||e.post_list_connect.length>0&&e.post_list_connect[0].id===parseInt(m):p?!!isNaN(parseInt(p))||e.post_list_connect.length>0&&parseInt(e.post_list_connect[0].id)===parseInt(p):!e.hasOwnProperty("author")||e.author.id!==a.id})).sort((function(e,t){return t.updated_at.timestamp>e.updated_at.timestamp?1:-1})),f.is_must_reply=Object.values(d).filter((function(e){return e.is_must_reply&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===a.id&&!e.must_reply}))&&!e.hasOwnProperty("draft_type")||e.author.id===a.id&&e.is_must_reply})).length,f.is_must_read=Object.values(d).filter((function(e){return e.is_must_read&&!e.is_archived&&e.required_users&&e.required_users.some((function(e){return e.id===a.id&&!e.must_read}))&&!e.hasOwnProperty("draft_type")||e.author.id===a.id&&e.is_must_read})).length,f.is_read_only=Object.values(d).filter((function(e){return 1===e.is_read_only&&!e.is_archived&&!e.hasOwnProperty("draft_type")})).length,f.is_unread=Object.values(d).filter((function(e){return e.is_unread&&!e.hasOwnProperty("draft_type")||e.unread_count>0&&!e.hasOwnProperty("draft_type")})).length,f.is_close=Object.values(d).filter((function(e){return e.is_close&&!e.hasOwnProperty("draft_type")})).length;var T={drafts:Object.values(d).filter((function(e){return"draft_post"===e.type})).length};return{archived:g,flipper:i,actions:t,fetchMore:j,posts:C,filter:u,tag:m,postListTag:p,sort:h,post:Object.values(d).filter((function(t){return t.id===parseInt(e.postId)}))[0],search:E,user:a,count:f,counters:T,skip:c,postLists:O}},Pp=function(){var e=Object(b.i)(),t=fp(e),a=Object(l.useSelector)((function(e){return e.workspaces.activeTopic})),r=Object(l.useSelector)((function(e){return e.files.companyFiles})),i=r.init,o=r.count,c=r.has_more,s=r.skip,d=r.limit,u=r.items,m=r.search_results,p=r.search_value,f=Object(l.useSelector)((function(e){return e.files.companyFolders})),h=f.init,E=f.has_more,O=f.skip,g=f.limit,v=f.items,A=Object(l.useSelector)((function(e){return e.files.companyFiles.recently_edited})),j=A.init,C=A.has_more,T=A.skip,y=A.limit,S=A.items,k=Object(l.useSelector)((function(e){return e.files.companyFiles.favorite_files})),w=k.init,N=k.has_more,x=k.skip,R=k.limit,I=k.items,P=Object(l.useSelector)((function(e){return e.files.companyFiles.popular_files})),D=P.init,L=P.has_more,F=P.skip,M=P.limit,U=P.items,G=Object(l.useSelector)((function(e){return e.files.companyFiles.trash_files})),H=G.init,B=G.has_more,W=G.skip,Y=G.limit,V=G.items,Q=Object(l.useSelector)((function(e){return e.files.companyFiles.google_files})),K=Q.init,z=Q.has_more,q=Q.skip,J=Q.limit,Z=(Q.items,Object(l.useSelector)((function(e){return e.files.companyFolders.google_folders}))),X=Z.init,$=(Z.has_more,Z.skip),ee=Z.limit,te=(Z.items,Object(l.useSelector)((function(e){return e.files.googleDriveApiFiles}))),ae=Object(n.useState)(null),ne=Object(_.a)(ae,2),re=ne[0],ie=ne[1],oe=Object(n.useState)(!1),ce=Object(_.a)(oe,2),se=ce[0],le=ce[1],de=Object(n.useState)(!1),ue=Object(_.a)(de,2),me=ue[0],pe=ue[1],fe=Object(n.useState)(!1),be=Object(_.a)(fe,2),he=be[0],Ee=be[1],_e=Object(n.useState)(!1),Oe=Object(_.a)(_e,2),ge=Oe[0],ve=Oe[1],Ae=Object(n.useState)(!1),je=Object(_.a)(Ae,2),Ce=je[0],Te=je[1],ye=Object(n.useState)(!1),Se=Object(_.a)(ye,2),ke=Se[0],we=Se[1],Ne=Object(n.useState)(!1),xe=Object(_.a)(Ne,2),Re=xe[0],Ie=xe[1],Pe=Object(n.useState)(!1),De=Object(_.a)(Pe,2),Le=De[0],Fe=De[1],Me=Object(n.useState)(!1),Ue=Object(_.a)(Me,2),Ge=(Ue[0],Ue[1]),He=function(){!me&&c&&(pe(!0),t.fetchCompanyFiles({skip:s,limit:d},(function(){pe(!1)})))},Be=function(){!Ce&&N&&(Te(!0),t.fetchCompanyFavoriteFiles({skip:x,limit:R},(function(){Te(!1)})))},We=function(){!ke&&L&&(we(!0),t.fetchCompanyPopularFiles({skip:F,limit:M},(function(){we(!1)})))},Ye=function(){!Re&&B&&(Ie(!0),t.fetchCompanyTrashedFiles({skip:W,limit:Y},(function(){Ie(!1)})))},Ve=function(){!Le&&z&&(Fe(!0),t.getCompanyGoogleDriveFolders({skip:$,limit:ee},(function(){Fe(!1)})))},Qe=function(){!he&&z&&(Ge(!0),t.getCompanyGoogleDriveFiles({skip:q,limit:J},(function(){Ge(!1)})))};Object(n.useEffect)((function(){t.fetchCompanyFilesDetail(),i||He(),h||!se&&E&&(le(!0),t.fetchCompanyFolders({skip:O,limit:g},(function(){le(!1)}))),X||Ve(),K||Qe(),D||We(),w||Be(),j||!ge&&C&&(ve(!0),t.fetchCompanyRecentEditedFiles({skip:T,limit:y},(function(){ve(!1)}))),H||Ye()}),[]),Object(n.useEffect)((function(){!e.folderId||null!==re&&re.id===e.folderId?e.folderId||ie(null):"undefined"!==typeof v[e.folderId]?(t.fetchCompanyFolderBreadCrumbs({folder_id:e.folderId}),ie(v[e.folderId])):ie(null)})),Object(n.useEffect)((function(){re&&(re.init||re&&!he&&(Ee(!0),re.has_more&&(pe(!0),t.fetchCompanyFiles({skip:re.skip,limit:re.limit,folder_id:re.id},(function(){Ee(!1)})))))}),[re]);var Ke=[];return Ke=""!==p?m.sort((function(e,t){return t>e?1:-1})):e.hasOwnProperty("folderId")&&v.hasOwnProperty(e.folderId)&&v[e.folderId].hasOwnProperty("files")?Object.values(v[e.folderId].files).sort((function(e,t){return t>e?1:-1})):Object.values(u).filter((function(e){return null===e.folder_id})).map((function(e){return e.id})).sort((function(e,t){return t>e?1:-1})),{params:e,isLoaded:i,files:{files:u,recently_edited:S,popular_files:U,favorite_files:I,trash_files:V},fileCount:o,actions:t,topic:a,fileIds:Ke,folders:v,subFolders:re?re.subFolders:[],folder:re,googleDriveApiFiles:te,loadMore:{files:He,popularFiles:We,favoriteFiles:Be,trashFiles:Ye,googleDriveFiles:Qe,googleDriveFolders:Ve}}},Dp=function(){var e=Object(l.useDispatch)();return{fetchCompanyTimeline:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ma(t,a))},fetchCompanyRecentPosts:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ua(t,a))},fetchCompanyMembers:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ga(t,a))}}},Lp=function(){var e=Dp(),t=Object(l.useSelector)((function(e){return e.dashboard.timeline})),a=t.init,r=t.skip,i=t.limit,o=t.has_more,c=t.items,s=Object(l.useSelector)((function(e){return e.dashboard.members})),d=s.init,u=s.skip,m=s.limit,p=s.has_more,f=s.items,b=Object(l.useSelector)((function(e){return e.dashboard.recent_posts})),h=b.init,E=b.skip,_=b.limit,O=b.has_more,g=b.items,v=function(t){o&&e.fetchCompanyTimeline({skip:r,limit:i},t)},A=function(t){O&&e.fetchCompanyRecentPosts({skip:E,limit:_},t)},j=function(t){p&&e.fetchCompanyMembers({skip:u,limit:m},t)};return Object(n.useEffect)((function(){a||v(),d||j(),h||A()}),[]),{actions:e,fetchMoreTimeline:v,fetchMoreRecentPosts:A,fetchMoreMembers:j,timelineInit:a,timelineItems:c,recentPostsInit:h,recentPostsItems:g,membersInit:d,membersItems:f}},Fp=function(){var e=Object(l.useSelector)((function(e){return e.chat.channels})),t=Object(l.useSelector)((function(e){return e.chat.lastVisitedChannel})),a=rm(),r=Object(b.i)();Object(n.useEffect)((function(){t?a.select(e[t.id]):"undefined"===typeof r.code?a.fetchLastChannel():a.fetchSelectChannel(r.code)}),[])},Mp=function(){var e=Object(l.useDispatch)(),t=Op(),a=Object(b.g)(),n=vs()._t,i=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),o=Object(l.useSelector)((function(e){return e.session.user})),c={archiveWorkspace:n("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:n("BUTTON.ARCHIVE","Archive"),cancel:n("BUTTON.CANCEL","Cancel"),archiveBodyText:n("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unArchiveBodyText:n("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),unArchiveWorkspace:n("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),leaveWorkspace:n("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:n("TOASTER.JOIN_WORKSPACE","You have joined #")},s=function(t){i[t.id]?(e(_m(t)),t.folder_id?a.push("/workspace/chat/".concat(t.folder_id,"/").concat(Wt(t.folder_name),"/").concat(t.id,"/").concat(Wt(t.name))):a.push("/workspace/chat/".concat(t.id,"/").concat(Wt(t.name)))):d(t)},d=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(Sm({topic_id:n.id},(function(i,o){console.log(o,i),i?t.warning("This workspace cannot be found or accessed."):(e(_m(n)),e(Pm(n.id)),r?n.folder_id?a.push("/workspace/posts/".concat(n.folder_id,"/").concat(Wt(n.folder_name),"/").concat(n.id,"/").concat(Wt(n.name),"/post/").concat(r.id,"/").concat(Wt(r.title))):a.push("/workspace/posts/".concat(n.id,"/").concat(Wt(n.name),"/post/").concat(r.id,"/").concat(Wt(r.title))):n.folder_id?a.push("/workspace/chat/".concat(n.folder_id,"/").concat(Wt(n.folder_name),"/").concat(n.id,"/").concat(Wt(n.name))):a.push("/workspace/chat/".concat(n.id,"/").concat(Wt(n.name))))})))},u=function(t){var a={id:t.topic.id,workspace_id:t.workspace?t.workspace.id:0,is_pinned:t.topic.is_favourite?0:1};e(Vm(a,(function(e,t){e||m()})))},m=function(){e(Km())};return{edit:function(t){if(i[t.topic.id]){var a={type:"workspace_create_edit",mode:"edit",item:i[t.topic.id]};e(Ye(a))}},favourite:u,getFilterCount:m,leave:function(a){if(u(a),1===a.members.length&&a.topic.is_locked){var n={id:a.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};e(xs(n))}else{var i={name:a.topic.name,description:a.topic.description,topic_id:a.topic.id,is_external:a.topic.is_shared?1:0,member_ids:a.members.map((function(e){return e.id})),is_lock:a.topic.is_locked?1:0,workspace_id:a.workspace?a.workspace.id:0,new_member_ids:[],remove_member_ids:[o.id]};i.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:o.id,name:o.name,first_name:o.first_name,partial_name:o.partial_name,profile_image_link:o.profile_image_thumbnail_link?o.profile_image_thumbnail_link:o.profile_image_link},title:"",added_members:[],removed_members:[o.id]}));e(xm({workspace_id:a.topic.id,channel_id:a.channel.id},(function(e,n){e||(m(),t.success(r.a.createElement(r.a.Fragment,null,c.leaveWorkspace,r.a.createElement("b",null,a.topic.name))))}))),e(pm(i))}},join:function(a){var n={channel_id:a.channel.id,recipient_ids:[o.id]};e(gm(n,(function(e,n){e||(m(),s({id:a.topic.id,name:a.topic.name,folder_id:a.workspace?a.workspace.id:null,folder_name:a.workspace?a.workspace.name:null}),t.success(r.a.createElement(r.a.Fragment,null,c.joinWorkspace,r.a.createElement("b",null,a.topic.name))))})))},search:function(t,a){e(Um(t,a))},showArchiveConfirmation:function(a){var n={type:"confirmation",headerText:c.archiveWorkspace,submitText:c.archive,cancelText:c.cancel,bodyText:c.archiveBodyText,actions:{onSubmit:function(){return function(a){var n={id:a.channel.id,is_archived:!a.topic.is_archive,is_muted:!1,is_pinned:!1,is_shared:a.topic.is_shared};a.topic.is_archive&&(n.push_unarchived=1),e(xs(n,(function(e,n){e||(m(),t.success(r.a.createElement("span",null,a.topic.is_archive?"Unarchived ":"Archived "," ",r.a.createElement("b",null,a.topic.name))))})))}(a)}}};a.topic.is_archive&&(n=Object(R.a)(Object(R.a)({},n),{},{headerText:c.unArchiveWorkspace,submitText:c.unArchiveWorkspace,bodyText:c.unArchiveBodyText})),e(Ye(n))},showWorkspaceModal:function(){e(Ye({type:"workspace_create_edit",mode:"create"}))},toWorkspace:s,updateSearch:function(t,a){e(function(e,t){return Pa("UPDATE_WORKSPACE_SEARCH",e,t)}(t,a))}}},Up=function(){var e=Object(l.useDispatch)(),t=Op(),a=vs()._t,n=Object(b.i)(),i={toasterGeneraError:a("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:a("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterUpdateTodo:a("TOASTER.TODO_UPDATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterDoneTodo:a("TOASTER.TODO_DONE_SUCCESS","You have mark ::todo_title:: as done."),toasterUnDoneTodo:a("TOASTER.TODO_UNDONE_SUCCESS","You have mark ::todo_title:: as undone."),toasterDeleteTodo:a("TOASTER.TODO_DELETE_SUCCESS","You have successfully deleted ::todo_title::."),modalConfirmationTodoRemoveHeader:a("MODAL_CONFIRMATION.TODO_REMOVE_HEADER","Remove reminder item?"),modalConfirmationTodoRemoveBody:a("MODAL_CONFIRMATION.TODO_REMOVE_BODY","Are you sure you want to remove this item?"),modalConfirmationTodoRemoveSubmit:a("MODAL_CONFIRMATION.TODO_REMOVE_SUBMIT","Remove"),modalConfirmationTodoRemoveCancel:a("MODAL_CONFIRMATION.TODO_REMOVE_CANCEL","Cancel")},o=function(t){e(qm(t,(function(a,n){a||e(Jm({count:n.data,id:t.topic_id}))})))},c=function(){e(mt())},s=function(t,a){e(dt(t,a))},d=function(t,a){e(ut(t,a))},u=function(a,s){e(ft({todo_id:a.id},(function(e,l){l&&(t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterDeleteTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}})),n.workspaceId?o({topic_id:n.workspaceId}):c()),s&&s(e,l)})))};return{fetch:function(t,a){e(function(e,t){return Ia(J(e),"GET_TO_DO_START","GET_TO_DO_SUCCESS","GET_TO_DO_FAILURE",t)}(t,a))},fetchDetail:c,fetchWs:function(t,a){e(zm(t,(function(n,r){a&&a(),n||e(function(e,t){return Pa("GET_WORKSPACE_REMINDERS_CALLBACK",e,t)}(Object(R.a)(Object(R.a)({},r.data),{},{topic_id:t.topic_id})))})))},fetchWsCount:o,create:s,createFromModal:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},l=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};s(e,(function(e,s){e&&t.error(i.toasterGeneraError),s&&t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterCreateTodo}})),n.workspaceId?o({topic_id:n.workspaceId}):c(),l(e,s),a(e,s)}))},d={type:"todo_reminder",actions:{onSubmit:l},params:n};e(Ye(d))},createForPost:function(t,a,r){e(dt(Object(R.a)(Object(R.a)({},a),{},{link_id:t,link_type:"POST"}),(function(e,t){r&&r(e,t),n.workspaceId?o({topic_id:n.workspaceId}):c()})))},createForPostComment:function(t,a,r){e(dt(Object(R.a)(Object(R.a)({},a),{},{link_id:t,link_type:"POST_COMMENT"}),(function(e,t){r&&r(e,t),n.workspaceId?o({topic_id:n.workspaceId}):c()})))},createForChat:function(t,a,r){e(dt(Object(R.a)(Object(R.a)({},a),{},{link_id:t,link_type:"CHAT"}),(function(e,t){r&&r(e,t),n.workspaceId?o({topic_id:n.workspaceId}):c()})))},update:d,updateFromModal:function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},l=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};d(Object(R.a)(Object(R.a)({},e),{},{id:a.id}),(function(e,a){e&&t.error(i.toasterGeneraError),a&&(t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterUpdateTodo}})),n.workspaceId?o({topic_id:n.workspaceId}):c()),l(e,a),s(e,a)}))},u={type:"todo_reminder",mode:"edit",item:Object(R.a)(Object(R.a)({},a),{},{body:a.description},"undefined"===typeof a.user&&{user:a.author}),parentItem:a,itemType:a.link_type,actions:{onSubmit:l}};e(Ye(u))},markDone:function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(pt({todo_id:a.id},(function(e,l){l&&(n.workspaceId?o({topic_id:n.workspaceId}):c(),t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterDoneTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}}))),s(e,l)})))},markUnDone:function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(pt(Object(R.a)({todo_id:a.id},"DONE"===a.status&&{undo:1}),(function(e,l){l&&(n.workspaceId?o({topic_id:n.workspaceId}):c(),t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterUnDoneTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}}))),s(e,l)})))},toggleDone:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(pt(Object(R.a)({todo_id:a.id},"DONE"===a.status&&{undo:1}),(function(e,o){o&&("DONE"===o.data.status?t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterDoneTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}})):t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:i.toasterUnDoneTodo.replace("::todo_title::","<b>".concat(a.title,"</b>"))}}))),n(e,o)})))},remove:u,removeConfirmation:function(t,a){e(Ye({type:"confirmation",headerText:i.modalConfirmationTodoRemoveHeader,submitText:i.modalConfirmationTodoRemoveSubmit,cancelText:i.modalConfirmationTodoRemoveCancel,bodyText:i.modalConfirmationTodoRemoveBody,actions:{onSubmit:function(){u(t,a)}}}))},fetchDone:function(t,a){e(function(e,t){return Ia(J(e),"GET_DONE_TO_DO_START","GET_DONE_TO_DO_SUCCESS","GET_DONE_TO_DO_FAILURE",t)}(t,a))},fetchWsDone:function(t,a){e(zm(t,(function(n,r){a&&a(),n||e(function(e,t){return Pa("GET_DONE_WORKSPACE_REMINDERS_CALLBACK",e,t)}(Object(R.a)(Object(R.a)({},r.data),{},{topic_id:t.topic_id})))})))},fetchOverdue:function(t,a){e(function(e,t){return Ia(J(e),"GET_OVERDUE_TO_DO_START","GET_OVERDUE_TO_DO_SUCCESS","GET_OVERDUE_TO_DO_FAILURE",t)}(t,a))},fetchWsOverdue:function(t,a){e(zm(t,(function(n,r){a&&a(),n||e(function(e,t){return Pa("GET_OVERDUE_WORKSPACE_REMINDERS_CALLBACK",e,t)}(Object(R.a)(Object(R.a)({},r.data),{},{topic_id:t.topic_id})))})))}}},Gp=!1,Hp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(l.useSelector)((function(e){return e.global.todos})),a=t.isLoaded,r=t.skip,i=t.limit,o=t.hasMore,c=t.items,s=t.count,d=t.doneRecently,u=t.done,m=t.overdue,p=Object(l.useSelector)((function(e){return e.session})),f=p.user,b=Object(l.useSelector)((function(e){return e.users.users})),h=Up(),E=Ap(),_=E.localizeDate,O=function(){o&&h.fetch({skip:r,limit:i,filter:"new"}),u.hasMore&&h.fetchDone({skip:u.skip,limit:u.limit,filter:"done"}),m.hasMore&&h.fetchOverdue({skip:m.skip,limit:m.limit,filter:"overdue"})},g=function(e){var t=e.filter,a=void 0===t?"":t;return Object.values(c).map((function(e){if(null===e.author&&null===e.link_type){var t=Object.values(b).find((function(t){return t.id===e.user}));return Object(R.a)(Object(R.a)({},e),{},{author:t||Object(R.a)({},f),status:null!==e.remind_at&&_(e.remind_at.timestamp,"YYYY-MM-DD")===pa()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})}return Object(R.a)(Object(R.a)({},e),{},{status:null!==e.remind_at&&_(e.remind_at.timestamp,"YYYY-MM-DD")===pa()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})})).filter((function(e){if(a){if(""!==a.search&&!e.title.toLowerCase().includes(a.search.toLowerCase().trim())&&!e.description.toLowerCase().includes(a.search.toLowerCase().trim()))return!1;if(""!==a.status){if("ASSIGNED_TO_OTHERS"===a.status)return e.assigned_to&&e.assigned_to.id!==f.id&&e.user===f.id;if("ADDED_BY_OTHERS"===a.status)return e.assigned_to&&e.assigned_to.id===f.id&&e.user!==f.id;if(e.status===a.status)return!(e.workspace&&!e.assigned_to);if("DONE"===e.status){if("TODAY"===a.status&&null!==e.remind_at&&_(e.remind_at.timestamp,"YYYY-MM-DD")===pa()().format("YYYY-MM-DD"))return!0;if("OVERDUE"===a.status&&null!==e.remind_at&&_(e.remind_at.timestamp,"YYYY-MM-DD")<pa()().format("YYYY-MM-DD"))return!0;if("NEW"===a.status&&null!==e.remind_at&&_(e.remind_at.timestamp,"YYYY-MM-DD")>pa()().format("YYYY-MM-DD"))return!0;if("NEW"===a.status&&null===e.remind_at)return!0}return!1}return!(e.workspace&&!e.assigned_to)&&(!(!e.user||e.user!==f.id)||(!e.assigned_to||e.assigned_to.id===f.id))}return!0})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))};return Object(n.useEffect)((function(){Gp||(Gp=!0),!a&&e&&O(),h.fetchDetail({})}),[]),{isLoaded:a,items:c,count:s,getReminders:g,action:Object(R.a)(Object(R.a)({},h),{},{loadMore:O}),doneRecently:d}},Bp=function(e){var t=e.addressTo,a=Object(l.useSelector)((function(e){return e.global.recipients})),r=Object(l.useSelector)((function(e){return e.workspaces})),i=r.workspaces,o=r.activeTopic,c=Object(l.useSelector)((function(e){return e.users})).users,s=a.filter((function(e){return"undefined"!==typeof e.name})).sort((function(e,t){return e.name.localeCompare(t.name)})),d=s.find((function(e){return!0===e.main_department})),u=s.filter((function(e){return"TOPIC"===e.type})),m=s.filter((function(e){return"USER"===e.type&&1===e.active})).sort((function(e,t){return e.name.localeCompare(t.name)})),p=Object.values(c).filter((function(e){return 1===e.active&&"internal"===e.type})),f=Object(n.useState)([]),b=Object(_.a)(f,2),h=b[0],E=b[1],O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1];Object(n.useEffect)((function(){if(!v&&Object.values(c).length>1){A(!0);var e=[];u.forEach((function(t){"undefined"!==typeof i[t.type_id]&&"WORKSPACE"===i[t.type_id].type&&e.push(Object(R.a)(Object(R.a)(Object(R.a)({},t),i[t.type_id]),{},{icon:"compass",value:t.id,label:t.name}))}));var t=[];m.forEach((function(e){"undefined"!==typeof c[e.type_id]&&1===c[e.type_id].active&&t.push(Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"}))}));var a=[].concat(e,t),n=d?[Object(R.a)(Object(R.a)({},d),{},{participant_ids:p.map((function(e){return e.id})),member_ids:p.map((function(e){return e.id})),members:p.map((function(e){return e})),icon:"home",value:d.id,label:d.name})]:[];E([].concat(n,Object(Rt.a)(a)))}}),[h,a,c,i,E]);var j=[],C=[],T=[],y=[],S=!1;t.forEach((function(e){T.push(e.id),["DEPARTMENT","TOPIC","WORKSPACE"].includes(e.type)&&(e.member_ids||console.log(e),y=[].concat(Object(Rt.a)(y),[e.type_id]),C=[].concat(Object(Rt.a)(C),Object(Rt.a)(e.member_ids))),"USER"===e.type&&(j.push(e.type_id),C=[].concat(Object(Rt.a)(C),[e.type_id]),S||(S=!0))}));var k=t.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat();k=Object(Rt.a)(new Set(k));var w=Object.values(c).filter((function(e){return k.some((function(t){return t===e.id}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER",user_type:e.type})}));return{addressIds:k,options:h,userOptions:w,user_ids:Object(Rt.a)(new Set(C)),workspace_ids:y,responsible_ids:j,recipient_ids:T,is_personal:S,getAddressTo:function(e){return e.map((function(t){return Object(R.a)(Object(R.a)(Object(R.a)(Object(R.a)({},t),{},{icon:["TOPIC","DEPARTMENT"].includes(e.type)?"compass":"user-avatar"},"DEPARTMENT"===t.type&&{participant_ids:p.map((function(e){return e.id})),member_ids:p.map((function(e){return e.id})),members:p.map((function(e){return e}))}),"TOPIC"===t.type&&{participant_ids:t.participant_ids,member_ids:t.participant_ids,members:[],is_lock:t.private,is_shared:t.is_shared}),{},{value:t.id,label:t.name})}))},getDefaultAddressTo:function(){return[Object(R.a)(Object(R.a)(Object(R.a)({},u.filter((function(e){return e.type_id===o.id}))),o),{},{participant_ids:o.member_ids,icon:"compass",value:o.id,label:o.name})]},getDefaultAddressToAsCompany:function(){return[Object(R.a)(Object(R.a)({},d),{},{participant_ids:p.map((function(e){return e.id})),member_ids:p.map((function(e){return e.id})),members:p.map((function(e){return e})),icon:"home",value:d.id,label:d.name})]},actualUsers:c}},Wp=function(e){var t=Object(l.useDispatch)(),a=Object(l.useSelector)((function(e){return e.files.pendingWorkspaceFilesUpload}));Object(n.useEffect)((function(){0!==Object.keys(a).length&&Object.values(a).forEach((function(e){var a;t(Pa("PROCESS_WORKSPACE_FILES_UPLOAD",e,a)),t(Ui(e))}))}),[a])},Yp=function(){var e=Object(l.useSelector)((function(e){return e.notifications.notifications})),t=Object(l.useSelector)((function(e){return e.session.user})),a=rm(),r=Object(l.useDispatch)(),i=function(e){r(Yl({channel_id:e},(function(t,a){var n;t||a.data&&a.data.length>0&&r(Pa("ADD_HAS_UNPUBLISHED_ANSWERS",{channel_id:e},n))})))};Object(n.useEffect)((function(){document.body.classList.remove("form-membership");t&&"internal"===t.type&&r(ad()),a.loadMore({skip:0,limit:25},(function(){r(Ue()),r(ue({},(function(){r(Ne())}))),r(Te()),r(ot()),0===Object.keys(e).length&&r(zu({skip:0,limit:50})),r(nt({add_unread_comment:1})),r(st()),r(mt()),r(ol())})),r(td({})),r(Rl({},(function(e,t){e||(r(ed()),t.data&&t.data.forEach((function(e){i(e.channel.id)})))})))}),[])},Vp=Object(E.a)(Zn)(Cp||(Cp=Object(f.a)(["\n  display: block;\n  svg,\n  polyline,\n  circle,\n  g {\n    stroke: ",";\n  }\n"])),(function(e){return e.isAuthor?"#ffffffe6":"#8C3B9B"})),Qp=E.a.div(Tp||(Tp=Object(f.a)(["\n  cursor: pointer;\n  &:hover div.OriginalHtml {\n    transition: opacity 2s ease-out;\n    opacity: 1;\n    height: auto;\n  }\n"]))),Kp=E.a.div(yp||(yp=Object(f.a)(["\n  font-size: small;\n  padding-left: 0.5em;\n  border-left: gray 2px solid;\n  transition: opacity 2s ease-in;\n  opacity: 0;\n  height: 0;\n  overflow: hidden;\n"]))),zp=function(e){var t=e.reply,a=e.dictionary,n=e.isAuthor,i=e.user,o=e.recipients,c=e.selectedChannel,s=e.users,l=(e.translate,e.translated_channels),d=(e.language,e._t),u=function(e){var t="";if(e.startsWith("<div>I started a Google meet: ")){var n=c.title.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9_-]/g,"-");t=d("CHAT.MEET_MESSAGE","<div>I started a Google meet: ::link::</div><br/><div><i>Notice this meeting only works if you and the participant are using the same Google WorkSpace domain. If you both use a different domain, share the Google link generated by Google.</i></div>",{link:'<a href="https://meet.google.com/lookup/'.concat(n,'" rel="noopener noreferrer" target="_blank"><strong>').concat(a.clickHereToJoin,"</strong></a>")})}else{if(e.includes("JOIN_CHANNEL")){var l=e.match(/\d+/g),u=o.filter((function(e){var t=!1;return l.forEach((function(a){parseInt(a)===e.type_id&&(t=!0)})),t})).map((function(e){return e.name}));return t=(c.type,"<p><span class='channel-new-members'>".concat(u.join(", "),"</span><br> ").concat(a.joined," <span class='channel-title'>#").concat(c.title,"</span></p>"))}if(e.includes("MEMBER_REMOVE_CHANNEL"))return t=(c.type,"<p><span class='channel-new-members'>".concat(e.substr(e.indexOf(" ")),"</span><br> ").concat(a.left," <span class='channel-title'>#").concat(c.title,"</span></p>"));if(e.includes("ACCOUNT_DEACTIVATED")){var m=e.replace("ACCOUNT_DEACTIVATED ","");return m="s"===m[m.length-1]?"".concat(a.update,": ").concat(m,"' ").concat(a.accountDeactivated,"."):"".concat(a.update,": ").concat(m,"'s ").concat(a.accountDeactivated,".")}if(e.includes("NEW_ACCOUNT_ACTIVATED")){var p=e.replace("NEW_ACCOUNT_ACTIVATED ","");return p="s"===p[p.length-1]?"".concat(a.update,": ").concat(p,"' ").concat(a.accountActivated,"."):"".concat(a.update,": ").concat(p,"'s ").concat(a.accountActivated,".")}if(e.includes("HUDDLE_SKIP::"))t="You skipped today";else{if(e.includes("CHANNEL_UPDATE::")){var f=JSON.parse(e.replace("CHANNEL_UPDATE::","")),b={name:a.someone,id:null};if(f.author&&f.author.id===i.id)b={name:r.a.createElement("b",null,a.you),id:i.id};else if(f.author&&f.author.id!==i.id){var h=Object.values(s).find((function(e){return f.author.id===e.id}));h&&(b={name:h.name,id:h.id})}if(f.accepted_members&&f.author){var E=Object.values(s).find((function(e){return f.author===e.id}));E&&(b={name:E.name,id:E.id})}var _="";if(""!==f.title&&(_=r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{width:16,icon:"edit-3"})," ",b.name," ","TOPIC"===c.type?a.renameThisWorkspace:a.renameThisChat," ",r.a.createElement("b",null,"#",f.title),r.a.createElement("br",null))),""!==f.title||0!==f.added_members.length||0!==f.removed_members.length||f.hasOwnProperty("accepted_members")||(_=r.a.createElement(r.a.Fragment,null,i.id===f.author.id?r.a.createElement("b",null,a.you):r.a.createElement("b",null,b.name)," updated ",r.a.createElement("b",null,"#",c.title))),1===f.added_members.length&&0===f.removed_members.length&&""===f.title){var O=Object.values(s).find((function(e){return f.added_members.includes(e.id)}));O&&f.author&&f.author.id===O.id?_=r.a.createElement(r.a.Fragment,null,i.id===f.author.id?r.a.createElement("b",null,a.you):r.a.createElement("b",null,b.name)," ",a.joined," ",r.a.createElement("b",null,"#",c.title)):O&&(_=r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,b.name)," ",a.added," ",r.a.createElement("b",null,O.name)))}else if(f.added_members.length>=1){var g=Object.values(s).filter((function(e){return f.added_members.includes(e.id)}));_=""===_?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,b.name)," ",a.added," "):r.a.createElement(r.a.Fragment,null,_," ",a.andAdded),f.added_members.includes(i.id)&&(_=0!==(g=g.filter((function(e){return e.type_id!==i.id}))).length?r.a.createElement(r.a.Fragment,null,_," ",r.a.createElement("b",null,a.youAnd," ")):r.a.createElement(r.a.Fragment,null,_," ",r.a.createElement("b",null,a.you))),0!==g.length&&(_=r.a.createElement(r.a.Fragment,null,_," ",r.a.createElement("b",null,g.map((function(e){return e.name})).join(", ")),r.a.createElement("br",null)))}if(1===f.removed_members.length)if(f.author&&f.author.id===f.removed_members[0])_=""===_?f.author.id===i.id&&f.removed_members[0]===i.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,a.you)," ","TOPIC"===c.type?a.leftTheWorkspace:a.leftTheChat," "):r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,f.author.name)," ","TOPIC"===c.type?a.hasLeftWorkspace:a.hasLeftChat," "):r.a.createElement(r.a.Fragment,null,_," ","TOPIC"===c.type?a.andHasLeftWorkspace:a.andHasLeftChat);else{var v=Object.values(s).find((function(e){return f.removed_members.includes(e.id)}));_=""===_?r.a.createElement(r.a.Fragment,null,b.name," ",a.removed," ",r.a.createElement("b",null,v?v.name:null)):r.a.createElement(r.a.Fragment,null,_," ",a.andRemoved," ",r.a.createElement("b",null,v?v.name:null))}else if(f.removed_members.length>1){var A=Object.values(s).filter((function(e){return f.removed_members.includes(e.id)}));f.removed_members.includes(i.id)&&f.author&&f.author.id===i.id?(_=""===_?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,b.name)," ",a.left," "):r.a.createElement(r.a.Fragment,null,_," ",a.andLeft),0!==A.length&&(_=r.a.createElement(r.a.Fragment,null,_," ",a.andRemoved," ",r.a.createElement("b",null,A.map((function(e){return e.name})).join(", ")),r.a.createElement("br",null)))):(_=""===_?r.a.createElement(r.a.Fragment,null,b.name," ",a.removed," "):r.a.createElement(r.a.Fragment,null,_," ",a.andRemoved),f.removed_members.includes(i.id)&&(_=0!==A.length?r.a.createElement(r.a.Fragment,null,_," ",r.a.createElement("b",null,a.youAnd," ")):r.a.createElement(r.a.Fragment,null,_," ",r.a.createElement("b",null,a.you))),0!==A.length&&(_=r.a.createElement(r.a.Fragment,null,_," ",r.a.createElement("b",null,A.map((function(e){return e.name})).join(", ")),r.a.createElement("br",null))))}else if(f.accepted_members){var j=Object.values(s).find((function(e){return f.accepted_members[0]===e.id}));_=r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,b.name)," ",a.added," ",r.a.createElement("b",null,j&&j.name))}return Object(us.renderToString)(_)}if(e.includes("POST_CREATE::")){try{var C=JSON.parse(e.replace("POST_CREATE::","").replace("</div>","")),T=C.post.description;t=Object(us.renderToString)(r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,C.author.first_name)," ",a.createdThePost," ",r.a.createElement("b",null,'"',C.post.title,'"'),r.a.createElement("span",{className:"card card-body",style:{margin:0,padding:"10px"},dangerouslySetInnerHTML:{__html:T}})))}catch(S){t=e}return t}if(e.startsWith('{"Welk punt geef je ons"')||e.startsWith("ZAP_SUBMIT::")){try{var y=JSON.parse(e.replace("ZAP_SUBMIT::",""));t="<span class='zap-submit'>",t+="<span>Hoi, ".concat(y.project_manager," Bedrijf ").concat(y.company_name," heeft een NPS review achtergelaten voor project: ").concat(y.project_name,"</span><div><br/></div>"),Object.keys(y).filter((function(e){return"submission_id"!==e})).forEach((function(e){var a;""!==y[e]&&(t+='<span class="data-key">'.concat(e,'</span> : <span class="data-value">').concat(isNaN(y[e])?"true"===(a=y[e]).toLowerCase()?"\ud83d\udc4d":"false"===a.toLowerCase()?"\ud83d\udc4e":a:function(e){for(var t="",a=1;a<=10;a++)t+=Object(us.renderToString)(r.a.createElement(pn,{width:16,icon:"star",fill:a<=e?"#ffc107":"none"}));return t}(parseInt(y[e])),"</span><br/>"))})),t+="</span>"}catch(k){return e}}}}return""===t?e:t},m=t.body;t.is_deleted?m=a.chatRemoved:t.created_at.timestamp!==t.updated_at.timestamp&&(m="".concat(m,"<span class='edited-message'>(edited)</span>")),m=u(Es.parseEmoji(function(e){var t=function(e){return e.replace(/<[/]?img src="(.*?gif)[^>]*>/gi,"")}(e),a=t.match(Ut);if(!a)return t;a.forEach((function(t){e=e.replace(t,"")}));var n=document.createElement("p");return n.innerHTML=e,n.querySelectorAll("img[src='']").forEach((function(e){e.parentNode.removeChild(e)})),n.innerHTML}(m)));var p="",f="";if(t.quote){t.quote.user&&(p=i.id!==t.quote.user.id?t.quote.user.name:a.you);var b=document.createElement("div");b.innerHTML=t.quote.body;for(var h=b.getElementsByTagName("img"),E=0;E<h.length;E++)f+=Object(us.renderToString)(r.a.createElement(Vp,{className:"image-quote",target:"_blank",href:h[0].getAttribute("src"),icon:"image-video",isAuthor:n},"Photo"));for(var _=b.getElementsByTagName("video"),O=0;O<_.length;O++)f+=Object(us.renderToString)(r.a.createElement(Vp,{className:"video-quote",target:"_blank",href:_[0].getAttribute("player-source"),icon:"image-video",isAuthor:n},"Video"));t.quote.files&&t.quote.files.forEach((function(e){"image"===e.type?f+=Object(us.renderToString)(r.a.createElement(Vp,{className:"image-quote",target:"_blank",href:e.thumbnail_link,icon:"image-video",isAuthor:n},a.photo)):"video"===e.type?f+=Object(us.renderToString)(r.a.createElement(Vp,{className:"video-quote",target:"_blank",href:e.view_link,icon:"image-video",isAuthor:n},a.video)):f+=Object(us.renderToString)(r.a.createElement(Vp,{target:"_blank",href:e.view_link,icon:"documents",isAuthor:n},e.filename?"".concat(e.filename," "):"".concat(e.name," ")))})),f+=Es.parseEmoji(t.quote.body)}var g=!!t.body.substring(15,t.body.length-8).match(Gt),v=t.body.substring(5,t.body.length-6),A=!(""===v||"><"===v),j=!1,C=m.substring(5,m.length-6);if(C.length<=3&&C.match(["\xa9|\xae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]"," "].join("|"))&&!/[\u20ac\xa3$]/g.test(C)&&(j=!0),c.is_translate&&t.is_translated&&l.length>0&&l.includes(c.id)){var T=r.a.createElement(Qp,{dangerouslySetInnerHTML:{__html:t.translated_body+Object(us.renderToString)(r.a.createElement(Kp,{className:"OriginalHtml",dangerouslySetInnerHTML:{__html:t.body}}))}});m=Object(us.renderToString)(T)}return{parseSystemMessage:u,quoteBody:f,quoteAuthor:p,replyBody:m,hasMessage:A,isGifOnly:g,isEmoticonOnly:j}},qp=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(_.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a},Jp=function(e){e=Object(R.a)({handleTouchStart:function(){},handleTouchEnd:function(){},handleSwipeLeft:function(){},handleSwipeRight:function(){},handleSwipeUp:function(){},handleSwipeDown:function(){}},e);var t=0,a=null,n=null;return{touchStart:function(r){t=r.timeStamp,a=r.touches[0].clientX,n=r.touches[0].clientY,e.handleTouchStart(r)},touchMove:function(t){var r=t.touches[0].clientX,i=t.touches[0].clientY,o=a-r,c=n-i;Math.abs(o)>Math.abs(c)?o>0?e.handleSwipeLeft(t):e.handleSwipeRight(t):c>0?e.handleSwipeUp(t):e.handleSwipeDown(t),a=null,n=null},touchEnd:function(a){a.timeStamp-t<=125&&e.handleTouchEnd(a)}}},Zp=function(e){var t=e.dictionary,a=e.reply,n=e.selectedChannel,i=e.user,o=e._t,c=Object(l.useSelector)((function(e){return e.users.users})),s=Object(l.useSelector)((function(e){return e.global.recipients})),d=Object(b.i)(),u="";if(a.body.includes("POST_CREATE::"))if(""!==a.body.replace("POST_CREATE::","").trim()){var m=JSON.parse(a.body.replace("POST_CREATE::","")),p="";p=d&&d.workspaceId?d.folderId?"/workspace/posts/".concat(d.folderId,"/").concat(d.folderName,"/").concat(d.workspaceId,"/").concat(d.workspaceName,"/post/").concat(m.post.id,"/").concat(m.post.title):"/workspace/posts/".concat(d.workspaceId,"/").concat(d.workspaceName,"/post/").concat(m.post.id,"/").concat(m.post.title):"/posts/".concat(m.post.id,"/").concat(m.post.title);var f=Es.parseToText(m.post.description);u=Object(us.renderToString)(r.a.createElement("a",{href:p,className:"push-link","data-href":p,"data-has-link":"0","data-ctrl":"0"},r.a.createElement("b",null,m.author.first_name)," ",t.createdThePost," ",r.a.createElement("b",null,'"',m.post.title,'"'),m.post.description.includes("<img src")?r.a.createElement("span",{className:"card card-body"},r.a.createElement(pn,{icon:"image"})):""!==f.trim()&&r.a.createElement("span",{className:"card card-body",dangerouslySetInnerHTML:{__html:f}}),r.a.createElement("span",{className:"open-post"},t.openPost," ",r.a.createElement(pn,{icon:"arrow-right"}))))}else u="System message...";else if(a.body.includes("JOIN_CHANNEL")){var h=a.body.match(/\d+/g),E=s.filter((function(e){var t=!1;return h.forEach((function(a){parseInt(a)===e.type_id&&(t=!0)})),t})).map((function(e){return e.name}));u=(n.type,"<p><span class='channel-new-members'>".concat(E.join(", "),"</span><br> ").concat(t.joined," <span class='channel-title'>#").concat(n.title,"</span></p>"))}else if(a.body.includes("MEMBER_REMOVE_CHANNEL"))u=(n.type,"<p><span class='channel-new-members'>".concat(a.body.substr(a.body.indexOf(" ")),"</span><br> ").concat(t.left," <span class='channel-title'>#").concat(n.title,"</span></p>"));else if(a.body.includes("ACCOUNT_DEACTIVATED")){var _=a.body.replace("ACCOUNT_DEACTIVATED ","");u="s"===_[_.length-1]?"".concat(t.update,": ").concat(_,"' ").concat(t.accountDeactivated,"."):"".concat(t.update,": ").concat(_,"'s ").concat(t.accountDeactivated,".")}else if(a.body.includes("NEW_ACCOUNT_ACTIVATED")){var O=a.body.replace("NEW_ACCOUNT_ACTIVATED ","");u="s"===O[O.length-1]?"".concat(t.update,": ").concat(O,"' ").concat(t.accountActivated,"."):"".concat(t.update,": ").concat(O,"'s ").concat(t.accountActivated,".")}else if(a.body.startsWith("UPLOAD_BULK::")){var g=JSON.parse(a.body.replace("UPLOAD_BULK::",""));u=g.files&&1===g.files.length?o("SYSTEM.USER_UPLOADED_FILE",'<span class="chat-file-notification">::name:: uploaded <b>::filename::</b></span>',{name:g.author.first_name,filename:g.files[0].search}):o("SYSTEM.USER_UPLOADED_FILES",'<span class="chat-file-notification">::name:: uploaded ::count::  <b>files</b></span>',{name:g.author.first_name,count:g.files.length})}else if(a.body.includes("CHANNEL_UPDATE::")){var v=JSON.parse(a.body.replace("CHANNEL_UPDATE::","")),A={name:t.someone,id:null};if(v.author&&v.author.id===i.id)A={name:r.a.createElement("b",null,t.you),id:i.id};else if(v.author&&v.author.id!==i.id){var j=Object.values(c).find((function(e){return v.author.id===e.id}));j&&(A={name:j.name,id:j.id})}if(v.accepted_members&&v.author){var C=Object.values(c).find((function(e){return v.author===e.id}));C&&(A={name:C.name,id:C.id})}var T="";if(""!==v.title&&(T=r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{width:16,icon:"edit-3"})," ",A.name," ","TOPIC"===n.type?t.renameThisWorkspace:t.renameThisChat," ",r.a.createElement("b",null,"#",v.title),r.a.createElement("br",null))),""!==v.title||0!==v.added_members.length||0!==v.removed_members.length||v.hasOwnProperty("accepted_members")||(T=r.a.createElement(r.a.Fragment,null,i.id===v.author.id?r.a.createElement("b",null,t.you):r.a.createElement("b",null,A.name)," updated ",r.a.createElement("b",null,"#",n.title))),1===v.added_members.length&&0===v.removed_members.length&&""===v.title){var y=Object.values(c).find((function(e){return v.added_members.includes(e.id)}));y&&A.id===y.id?T=r.a.createElement(r.a.Fragment,null,i.id===A.id?r.a.createElement("b",null,t.you):r.a.createElement("b",null,A.name)," ",t.joined," ",r.a.createElement("b",null,"#",n.title)):y&&(T=r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,A.name)," ",t.added," ",r.a.createElement("b",null,y.name)))}else if(v.added_members.length>=1){var S=Object.values(c).filter((function(e){return v.added_members.includes(e.id)}));T=""===T?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,A.name)," ",t.added," "):r.a.createElement(r.a.Fragment,null,T," ",t.andAdded),v.added_members.includes(i.id)&&(T=0!==(S=S.filter((function(e){return e.type_id!==i.id}))).length?r.a.createElement(r.a.Fragment,null,T," ",r.a.createElement("b",null,t.youAnd," ")):r.a.createElement(r.a.Fragment,null,T," ",r.a.createElement("b",null,t.you))),0!==S.length&&(T=r.a.createElement(r.a.Fragment,null,T," ",r.a.createElement("b",null,S.map((function(e){return e.name})).join(", ")),r.a.createElement("br",null)))}if(1===v.removed_members.length)if(v.author&&v.author.id===v.removed_members[0])T=""===T?v.author.id===i.id&&v.removed_members[0]===i.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t.you)," ","TOPIC"===n.type?t.leftTheWorkspace:t.leftTheChat," "):r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,v.author.name)," ","TOPIC"===n.type?t.hasLeftWorkspace:t.hasLeftChat," "):r.a.createElement(r.a.Fragment,null,T," ","TOPIC"===n.type?t.andHasLeftWorkspace:t.andHasLeftChat);else{var k=Object.values(c).find((function(e){return v.removed_members.includes(e.id)}));T=""===T?r.a.createElement(r.a.Fragment,null,A.name," ",t.removed," ",r.a.createElement("b",null,k?k.name:null)):r.a.createElement(r.a.Fragment,null,T," ",t.andRemoved," ",r.a.createElement("b",null,k?k.name:null))}else if(v.removed_members.length>1){var w=Object.values(c).filter((function(e){return v.removed_members.includes(e.id)}));v.removed_members.includes(i.id)&&v.author&&v.author.id===i.id?(T=""===T?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,A.name)," ",t.left," "):r.a.createElement(r.a.Fragment,null,T," ",t.andLeft),0!==w.length&&(T=r.a.createElement(r.a.Fragment,null,T," ",t.andRemoved," ",r.a.createElement("b",null,w.map((function(e){return e.name})).join(", ")),r.a.createElement("br",null)))):(T=""===T?r.a.createElement(r.a.Fragment,null,A.name," ",t.removed," "):r.a.createElement(r.a.Fragment,null,T," ",t.andRemoved),v.removed_members.includes(i.id)&&(T=0!==w.length?r.a.createElement(r.a.Fragment,null,T," ",r.a.createElement("b",null,t.youAnd," ")):r.a.createElement(r.a.Fragment,null,T," ",r.a.createElement("b",null,t.you))),0!==w.length&&(T=r.a.createElement(r.a.Fragment,null,T," ",r.a.createElement("b",null,w.map((function(e){return e.name})).join(", ")),r.a.createElement("br",null))))}else if(v.accepted_members){var N=Object.values(c).find((function(e){return v.accepted_members[0]===e.id}));T=r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,A.name)," ",t.added," ",r.a.createElement("b",null,N&&N.name))}u=Object(us.renderToString)(T)}return{parseBody:u}},Xp=function(){var e=Object(l.useDispatch)();return{fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Rl(t,a))},create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Il(t,a))},update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Pl(t,a))},remove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Dl(t,a))},createAnswer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ll(t,a))},fetchUserBots:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Fl(t,a))},saveAnswer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ul(t,a))},createUserBot:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Bl(t,a))},updateAnswer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(zl(t,a))},clearHuddle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Kl(t,a))},updateUnpublishedAnswers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Vl(t,a))},skipHuddle:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Xl(t,a))}}},$p=function(e){var t=e.selectedChannel,a=new Date,n=a.getTime(),r=Xp(),i=(Object(l.useSelector)((function(e){return e.users.onlineUsers})),Object(l.useSelector)((function(e){return e.chat.editHuddle}))),o=Object(l.useSelector)((function(e){return e.chat.hasUnpublishedAnswers})),c=[{day:"M",value:1},{day:"T",value:2},{day:"W",value:3},{day:"TH",value:4},{day:"F",value:5}],s=localStorage.getItem("huddle"),d=Object(l.useSelector)((function(e){return e.chat.huddleBots})).find((function(e){if(!t||e.channel.id!==t.id)return!1;if("NEVER"===e.end_type){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||c.find((function(t){return t.day===e.repeat_select_weekly})).value!==a.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_ON"===e.end_type){var n=new Date(e.end_select_on.substr(0,4),parseInt(e.end_select_on.substr(5,2))-1,e.end_select_on.substr(8,2));if(!(a.getTime()<n.getTime()))return!1;if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||c.find((function(t){return t.day===e.repeat_select_weekly})).value!==a.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_AFTER_REPEAT"===e.end_type&&e.repeat_count<e.end_select_after){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||c.find((function(t){return t.day===e.repeat_select_weekly})).value!==a.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}})),u=Object(Rt.a)(o),m=!1,p=0===a.getDay()||6===a.getDay();if(d){var f=parseInt(d.start_at.time.substr(0,2)),b=parseInt(d.start_at.time.substr(3,2)),h=parseInt(d.publish_at.time.substr(0,2)),E=parseInt(d.publish_at.time.substr(3,2)),_=new Date;_.setUTCHours(f,b,0),_.setDate(a.getDate());var O=new Date;O.setUTCHours(h,E,0),O.setDate(a.getDate()),m=n>_.getTime()&&O.getTime()>n}return{huddle:d,huddleAnswered:s,huddleActions:r,showQuestions:null!==i||d&&void 0!==d.questions.find((function(e){return null===e.answer}))&&!u.some((function(e){return t&&t.id===e}))&&m&&!p,question:i?i.questions.find((function(e){return null===e.answer})):d?d.questions.find((function(e){return null===e.answer})):null,isFirstQuestion:d&&d.questions.find((function(e){return null===e.answer}))?d.questions.find((function(e){return null===e.answer})).isFirstQuestion:null,editHuddle:i}},ef=function(e){var t=Object(n.useState)(!0),a=Object(_.a)(t,2),i=a[0],o=a[1],c=Xp(),s=Op(),d=Object(b.g)(),u=Object(n.useRef)(null),m=Object(n.useRef)(null),p=new Date,f=p.getTime(),h=Object(l.useDispatch)(),E=Object(l.useSelector)((function(e){return e.session.user})),O=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),g=(Object(l.useSelector)((function(e){return e.chat.channels})),E.role&&E.role.name,Object(l.useSelector)((function(e){return e.users.onlineUsers})),Object(l.useSelector)((function(e){return e.chat.hasUnpublishedAnswers}))),v=Object(l.useSelector)((function(e){return e.chat.huddleBots})),A=[{day:"M",value:1},{day:"T",value:2},{day:"W",value:3},{day:"TH",value:4},{day:"F",value:5}],j=v.find((function(e){if(!(e.questions.filter((function(e){return null===e.answer})).length>0))return!1;var t,a=parseInt(e.start_at.time.substr(0,2)),n=parseInt(e.start_at.time.substr(3,2)),r=parseInt(e.publish_at.time.substr(0,2)),i=parseInt(e.publish_at.time.substr(3,2)),o=new Date;o.setUTCHours(a,n,0),o.setDate(p.getDate());var c=new Date;if(c.setUTCHours(r,i,0),c.setDate(p.getDate()),t=f>o.getTime()&&c.getTime()>f,!O||e.channel.id===O.id||!t)return!1;if("NEVER"===e.end_type){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||A.find((function(t){return t.day===e.repeat_select_weekly})).value!==p.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_ON"===e.end_type){var s=new Date(e.end_select_on.substr(0,4),parseInt(e.end_select_on.substr(5,2))-1,e.end_select_on.substr(8,2));if(!(p.getTime()<s.getTime()))return!1;if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||A.find((function(t){return t.day===e.repeat_select_weekly})).value!==p.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}else if("END_AFTER_REPEAT"===e.end_type&&e.repeat_count<e.end_select_after){if("DAILY"===e.repeat_type)return!0;if("WEEKLY"===e.repeat_type)return!(!e.repeat_select_weekly||A.find((function(t){return t.day===e.repeat_select_weekly})).value!==p.getDay());if("MONTHLY"===e.repeat_type)return e.showToday;if("YEARLY"===e.repeat_type)return e.showToday}})),C=0===p.getDay()||6===p.getDay(),T=Object(Rt.a)(g);if(void 0!==j&&!T.some((function(e){return j&&j.channel.id===e}))&&!C&&null===u.current){var y={onClick:function(){d.push("/chat/".concat(j.channel.code)),u.current=null,h(ws({id:j.channel.id}))},autoClose:!1,position:bp.c.POSITION.BOTTOM_LEFT,closeButton:function(e){var t=e.closeToast;return r.a.createElement("i",{className:"material-icons",onClick:function(e){e.stopPropagation(),t(),u.current=null,s.info("Huddle skipped."),c.skipHuddle({channel_id:j.channel.id,huddle_id:j.id,body:"HUDDLE_SKIP::".concat(JSON.stringify({huddle_id:j.id,author:{name:E.name,first_name:E.first_name,id:E.id,profile_image_link:E.profile_image_link},user_bot:j.user_bot}))})}},"skip")}};u.current=!0,m.current=j.id,Object(bp.c)("Huddle time at ".concat(j.channel.name),y)}else u.current&&j&&O&&O.id===j.channel.id&&(u.current=null,m.current=null,bp.c.dismiss());u.current&&j&&m.current&&m.current!==j.id&&(console.log("dismiss toaster",m.current,j.id),u.current=null,m.current=null,bp.c.dismiss()),"undefined"===typeof j&&u.current&&(u.current=null,m.current=null,bp.c.dismiss()),Object(n.useEffect)((function(){var e=setInterval((function(){var t,a,n=new Date;n.getDate()!==p.getDate()&&(console.log(n.getDate(),p.getDate()),h(Pa("CLEAR_HUDDLE",t,a)),h(ed()),h(function(e,t){return Pa("CLEAR_HAS_UNPUBLISHED_ANSWERS",e,t)}()),clearInterval(e),o((function(e){return!e})))}),6e4);return function(){return clearInterval(e)}}),[i])},tf=function(e){var t=e.draftId,a=e.initTimestamp,r=e.isExternalUser,i=e.item,o=e.form,c=e.is_personal,s=e.params,d=e.responsible_ids,u=e.user,m=e.topicId,p=e.toaster,f=e.setDraftId,b=e.savingDraft,h=e.setSavingDraft,E=Object(n.useRef)(0),O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1],j=Object(n.useState)(!1),C=Object(_.a)(j,2),T=C[0],y=C[1],S=Object(l.useDispatch)(),k=o.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared})),w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!b&&(""!==o.title||""!==o.body&&"<div><br></div>"!==o.body||o.selectedAddressTo.length)){var n={type:"draft_post",form:Object(R.a)(Object(R.a)({},o),{},{personal:c,users_responsible:d}),timestamp:a,id:a,created_at:{timestamp:a},updated_at:{timestamp:a},title:o.title,partial_body:o.body,clap_user_ids:[],author:u,user_reads:[],is_archived:0,is_must_read:o.must_read,is_must_reply:o.reply_required,is_read_only:o.no_reply,unread_count:0,reply_count:0,recipients:o.selectedAddressTo,recipient_ids:o.selectedAddressTo.map((function(e){return e.id})),users_approval:[],shared_with_client:!!(o.shared_with_client&&k||r),required_users:[],topic_id:m};h(!0),t?(n=Object(R.a)(Object(R.a)({},n),{},{draft_id:t,id:i.hasOwnProperty("draft")?i.draft.post_id:a,post_id:i.hasOwnProperty("draft")?i.draft.post_id:a}),S(Ke(n,(function(t,a){h(!1),t||(y(!0),setTimeout((function(){y(!1)}),2e3),e||p.success("Your post is still available as a draft"))})))):S(Qe(n,(function(t,a){h(!1),t||(f(a.data.id),y(!0),setTimeout((function(){y(!1)}),2e3),e||p.success("Your post is still available as a draft"))})))}};return Object(n.useEffect)((function(){var e=setTimeout((function(){A((function(e){return!e})),E.current=E.current+1}),1e3);return function(){return clearTimeout(e)}}),[o]),Object(n.useEffect)((function(){E.current>1&&w(!0)}),[v]),{handleSaveDraft:w,handleDeleteDraft:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&S(ze({type:"draft_post",draft_id:t},(function(n,r){S(qe(s?{topic_id:m,draft_type:"draft_post",draft_id:t,id:i.hasOwnProperty("draft")?i.draft.post_id:a,post_id:i.hasOwnProperty("draft")?i.draft.post_id:a}:{draft_type:"draft_post",draft_id:t,id:i.hasOwnProperty("draft")?i.draft.post_id:a,post_id:i.hasOwnProperty("draft")?i.draft.post_id:a},(function(t,a){e&&p.success("Draft successfully removed.")})))})))},draftSaved:T}},af=function(){var e=Object(l.useSelector)((function(e){return e.global.todos.items})),t=Object(b.i)(),a=Object(l.useSelector)((function(e){return e.session})).user,r=Object(l.useSelector)((function(e){return e.users.users})),i=Up(),o=Ap().localizeDate,c=Object(l.useSelector)((function(e){return e.workspaces.workspaceReminders})),s=Object(l.useSelector)((function(e){return e.workspaces.activeTopic})),d="undefined"!==typeof c[t.workspaceId],u=function(){if(d){var e=c[t.workspaceId];if(e){if(e.hasMore){var a={skip:e.skip,limit:25,topic_id:t.workspaceId,filter:"new"};i.fetchWs(a)}if(e.done&&e.done.hasMore){var n={skip:e.done.skip,limit:10,topic_id:t.workspaceId,filter:"done"};i.fetchWsDone(n)}if(e.overdue&&e.overdue.hasMore){var r={skip:e.overdue.skip,limit:10,topic_id:t.workspaceId,filter:"overdue"};i.fetchWsOverdue(r)}}}else{var o={skip:0,limit:25,topic_id:t.workspaceId,filter:"new"};i.fetchWs(o),i.fetchWsDone(Object(R.a)(Object(R.a)({},o),{},{limit:10,filter:"done"})),i.fetchWsOverdue(Object(R.a)(Object(R.a)({},o),{},{limit:25,filter:"overdue"}))}};return Object(n.useEffect)((function(){u(),i.fetchWsCount({topic_id:t.workspaceId})}),[]),{isLoaded:d,items:e,count:d?c[t.workspaceId].count:{new:0,today:0,all:0,overdue:0,assigned_to_others:0,added_by_others:0},getWorkspaceReminders:function(t){var n=t.filter,i=void 0===n?"":n;return Object.values(e).map((function(e){if(null===e.author&&null===e.link_type){var t=Object.values(r).find((function(t){return t.id===e.user}));return Object(R.a)(Object(R.a)({},e),{},{author:t||Object(R.a)({},a),status:null!==e.remind_at&&o(e.remind_at.timestamp,"YYYY-MM-DD")===pa()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})}return Object(R.a)(Object(R.a)({},e),{},{status:null!==e.remind_at&&o(e.remind_at.timestamp,"YYYY-MM-DD")===pa()().format("YYYY-MM-DD")&&"NEW"===e.status?"TODAY":e.status})})).filter((function(e){if(e.workspace&&s&&e.workspace.id===s.id){if(i){if(""!==i.search&&!e.title.toLowerCase().includes(i.search.toLowerCase().trim())&&!e.description.toLowerCase().includes(i.search.toLowerCase().trim()))return!1;if(""!==i.status){if("ASSIGNED_TO_OTHERS"===i.status)return e.assigned_to&&e.assigned_to.id!==a.id&&e.user===a.id;if("ADDED_BY_OTHERS"===i.status)return e.assigned_to&&e.assigned_to.id===a.id&&e.user!==a.id;if(e.status===i.status)return!0;if("DONE"===e.status){if("TODAY"===i.status&&null!==e.remind_at&&o(e.remind_at.timestamp,"YYYY-MM-DD")===pa()().format("YYYY-MM-DD"))return!0;if("OVERDUE"===i.status&&null!==e.remind_at&&o(e.remind_at.timestamp,"YYYY-MM-DD")<pa()().format("YYYY-MM-DD"))return!0;if("NEW"===i.status&&null!==e.remind_at&&o(e.remind_at.timestamp,"YYYY-MM-DD")>pa()().format("YYYY-MM-DD"))return!0;if("NEW"===i.status&&null===e.remind_at)return!0}return!1}return!e.assigned_to_others}return!0}return!1})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}))},action:Object(R.a)(Object(R.a)({},i),{},{loadMore:u}),workspaceName:s?s.name:null}},nf=function(e,t,a,r,i,o,c,s,d){var u=Object(l.useDispatch)(),m=Object(l.useSelector)((function(e){return e.posts.commentDrafts})),p=Object(n.useState)(!1),f=Object(_.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(!1),O=Object(_.a)(E,2),g=O[0],v=O[1],A=Object(n.useState)(!1),j=Object(_.a)(A,2),C=j[0],T=j[1],y=Object(n.useRef)(0),S=Object(n.useRef)(e),k=Object(n.useRef)(null),w=Object(n.useRef)(null),N=Object(n.useRef)(null);Object(n.useEffect)((function(){S.current=e,w.current=r,k.current=a,N.current=i}));var x=function(e){console.log("delete draft"),u(ze({type:"comment",draft_id:e},(function(t,a){t||u(function(e,t){return Pa("REMOVE_COMMENT_DRAFT",e,t)}({id:e}))})))},I=function(){if(w.current&&""===w.current.trim()){if(!N.current)return;x(N.current)}else{var e={draft_type:t,type:t,created_at:{timestamp:Math.floor(Date.now()/1e3)},text:k.current,comment_id:o,parent_id:s,post_id:c};v(!0),N.current?(e=Object(R.a)(Object(R.a)({},e),{},{draft_id:N.current}),u(Ke(e,(function(e,t){v(!1),e||t&&(T(!0),setTimeout((function(){T(!1)}),2e3))})))):u(Qe(e,(function(e,t){v(!1),e||t.data&&(d(t.data.id),T(!0),setTimeout((function(){T(!1)}),2e3))})))}};return Object(n.useEffect)((function(){return function(){if(i){var e=m.find((function(e){return e.id===i}));S.current(e)}else if(s){var t=m.find((function(e){return e.data.parent_id===s}));S.current(t)}else if(c&&!s){var a=m.find((function(e){return e.data.post_id===c&&!e.data.parent_id}));S.current(a)}else S.current(null)}(),function(){return I()}}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){h((function(e){return!e})),y.current=y.current+1}),2e3);return function(){return clearTimeout(e)}}),[r]),Object(n.useEffect)((function(){y.current>1&&I()}),[b]),{removeDraft:x,savingDraft:g,draftSaved:C}},rf=function(){var e=Object(l.useDispatch)(),t=Op(),i=Up(),o=vs()._t,c={reminderAlreadyExists:o("TOASTER.REMINDER_EXISTS","Reminder already exists"),toasterGeneraError:o("TOASTER.GENERAL_ERROR","An error has occurred try again!"),toasterCreateTodo:o("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>.")},s={fetch:Object(n.useRef)(!1)},d=function(t){e(al(t))};return{channelActions:rm(),fetch:function(t,a){var n=a.skip,r=void 0===n?0:n,i=a.limit,o=void 0===i?20:i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l={channel_id:t.id,skip:r,limit:o};e(Us(l,(function(e,t){s.fetch.current=!1,c(e,t)})))},create:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r={};e(Bs(r,n))},edit:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Ys(t,a))},react:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(zs({message_id:t,react_type:a},n))},remove:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e($s({message_id:t},a))},removeUnfurl:function(t){e(ct(t)),e(function(e,t){return Pa("REMOVE_UNFURL",e,t)}(t))},remind:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};i.createForChat(a.id,e,(function(e,a){e&&(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.error_message.length&&e.response.data.errors.error_message.find((function(e){return"ALREADY_CREATED_TODO"===e}))?t.error(c.reminderAlreadyExists):t.error(c.toasterGeneraError)),a&&t.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:c.toasterCreateTodo}})),n(e,a),o(e,a)}))},l={type:"todo_reminder",parentItem:n,item:a,itemType:"CHAT",actions:{onSubmit:s}};e(Ye(l))},markComplete:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(ml({message_id:t},a))},forward:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i={channel_id:t.current.id,body:n,mention_ids:[],file_ids:[],reference_id:a(40).generate(),reference_title:t.title,is_transferred:!0};e(Bs(i,r))},setQuote:d,setEdit:function(t){if(e(Xs(t)),t.quote&&t.quote.hasOwnProperty("id")){var a=Object(R.a)(Object(R.a)({},t.quote),{},{channel_id:t.channel_id});d(a)}},clipboardLink:function(e,a){S(t,"".concat(G(),"/chat/").concat(e.code,"/").concat(a.code))},setLastMessageVisiblility:function(t){e(function(e,t){return Pa("SET_LAST_CHAT_VISIBILITY",e,t)}(t))},markImportant:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(yl({message_id:t.id,is_important:t.is_important?0:1},a))},getStars:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(Nl({message_id:t},a))},setStar:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e(wl(t,a))},setHuddleAnswers:function(t){e(function(e,t){return Pa("SET_EDIT_HUDDLE_ANSWERS",e,t)}(t))},addSkip:function(t){e(function(e,t){return Pa("ADD_SKIP_ID",e,t)}(t))},resetTranslationBody:function(t){e(function(e,t){return Pa("RESET_TRANSLATED_BODY",e,t)}(t))},saveChannelTranslateState:function(t){e(function(e,t){return Pa("SET_CHANNEL_TRANSLATE_STATE",e,t)}(t))},viewFiles:function(t){var a={files:t,file_id:t[0].file_id};e(Fi(a))},saveFancyContent:function(t){e(function(e,t){return Pa("SET_FANCY_LINK",e,t)}(t))},setTranslationBody:function(t){e(function(e,t){return Pa("SET_TRANSLATED_BODY",e,t)}(t))},saveTranslation:function(t){e(Ws(t))}}},of=function(){var e=Object(l.useDispatch)(),t=Object(b.i)();Object(n.useEffect)((function(){!function(){var a={topic_id:t.workspaceId};t.workspaceId&&e(qm(a,(function(t,n){t||e(Jm({count:n.data,id:a.topic_id}))})))}()}),[])};function cf(){var e=Object(f.a)(["\n  overflow: auto;\n\n  &.list-group {\n    max-height: 390px !important;\n    @media all and (max-width: 620px) {\n      max-height: 60vh !important;\n      max-height: calc(var(--vh, 1vh) * 100 - 196px) !important;\n    }\n  }\n"]);return cf=function(){return e},e}var sf=E.a.ul(cf()),lf=function(e){var t=e.notifications,a=e.actions,n=e.history,i=e.dictionary,o=e.removeOverlay,c=Np(),s=vs()._t,d=Object(l.useSelector)((function(e){return e.session.user}));return 0===Object.keys(t).length?null:r.a.createElement(sf,{className:"list-group list-group-flush"},0===Object.values(t).length&&r.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},r.a.createElement("span",null,i.noNotificationsToShow)),Object.values(t).filter((function(e){return 0===e.is_read})).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},r.a.createElement("span",null,i.new)),Object.values(t).filter((function(e){return 0===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).map((function(e){return r.a.createElement(ff,{"data-toggle":"notification",key:e.id,notification:e,actions:a,history:n,redirect:c,removeOverlay:o,_t:s,user:d})}))),Object.values(t).filter((function(e){return 1===e.is_read})).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"text-divider small pb-2 pl-3 pt-3"},r.a.createElement("span",null,i.oldNotifications)),Object.values(t).filter((function(e){return 1===e.is_read})).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).map((function(e){return r.a.createElement(ff,{"data-toggle":"notification",key:e.id,notification:e,actions:a,history:n,redirect:c,removeOverlay:o,_t:s,user:d})}))))};function df(){var e=Object(f.a)(["\n  cursor: pointer;\n\n  .notification-container {\n    max-width: calc(100% - 60px);\n  }\n  .notification-activity {\n    width: calc(100% - 10px);\n    line-height: 1.1;\n    overflow: hidden;\n    display: block !important;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .notification-title {\n    width: calc(100% - 10px);\n    line-height: 1.1;\n    font-size: 12px;\n    margin: 0.25rem 0;\n  }\n  .list-group-item {\n    border: none;\n  }\n\n  .avatar {\n    margin-right: 1rem;\n  }\n  p {\n    margin: 0;\n  }\n"]);return df=function(){return e},e}var uf,mf,pf=E.a.li(df()),ff=function(e){var t=e.notification,a=e.actions,n=e.redirect,i=e.removeOverlay,o=e._t,c=e.user,s=Ap().fromNow,l=function(e){if(e.preventDefault(),i(e),0===t.is_read&&a.read({id:t.id}),"NEW_TODO"===t.type)n.toTodos();else if("WORKSPACE_ADD_MEMBER"===t.type){var r={id:t.data.id,name:t.data.title,folder_id:0!==t.data.workspace_folder_id?t.data.workspace_folder_id:null,folder_name:""!==t.data.workspace_folder_name?t.data.workspace_folder_name:null};n.toWorkspace(r)}else{var o={id:t.data.post_id,title:t.data.title},c=null,s=null;t.data.workspaces&&t.data.workspaces.length&&(c={id:(c=t.data.workspaces[0]).topic_id,name:c.topic_name,folder_id:c.workspace_id?c.workspace_id:null,folder_name:c.workspace_name?c.workspace_name:null}),"POST_COMMENT"!==t.type&&"POST_MENTION"!==t.type||t.data.comment_id&&(s={focusOnMessage:t.data.comment_id}),n.toPost({workspace:c,post:o},s)}},d=function(e){e.preventDefault(),e.stopPropagation(),0===t.is_read?a.read({id:t.id}):a.unread({id:t.id})},u={post:o("NOTIFICATION.POST_POPUP","Shared a post"),comment:o("NOTIFICATION.COMMENT_POPUP","Made a comment in ::title::",{title:""}),mention:o("NOTIFICATION.MENTION_POPUP","Mentioned you in ::title::",{title:""}),reminder:o("NOTIFICATION.REMINDER_POPUP","You asked to be reminded about ::title::",{title:""}),hasAcceptedProposal:o("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:o("POST.HAS_REQUESTED_CHANGE","has requested a change."),sentProposal:o("POST.SENT_PROPOSAL","sent a proposal."),closedThePost:o("NOTIFICATION.CLOSED_THE_POST","closed the post"),addedYouInWorkspace:o("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace")},m=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return r.a.createElement(pf,null,r.a.createElement("span",{className:"list-group-item d-flex hide-show-toggler"},r.a.createElement("div",null,null!==t.author&&r.a.createElement(kn,{id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,showSlider:!0}),"NEW_TODO"===t.type&&r.a.createElement(kn,{id:c.id,name:c.name,imageLink:c.profile_image_thumbnail_link?c.profile_image_thumbnail_link:c.profile_image_link,showSlider:!0})),function(){switch(t.type){case"POST_CREATE":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-activity text-link"},u.post),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"POST_COMMENT":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"nnotification-activity text-link"},u.comment),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"POST_MENTION":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-activity text-link"},u.mention),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"NEW_TODO":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,c.name),r.a.createElement("p",{className:"notification-activity text-link"},u.reminder),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"POST_ACCEPT_APPROVAL":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.hasAcceptedProposal),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"POST_REJECT_APPROVAL":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.hasRequestedChange),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"POST_REQST_APPROVAL":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.sentProposal),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"CLOSED_POST":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.closedThePost),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));case"WORKSPACE_ADD_MEMBER":return r.a.createElement("div",{className:"notification-container flex-grow-1",onClick:l},r.a.createElement("span",null,t.author.name),r.a.createElement("p",{className:"notification-title text-link"},u.addedYouInWorkspace),r.a.createElement("p",{className:"notification-title text-link"},t.data.title),r.a.createElement("span",{className:"text-muted small"},s(t.created_at.timestamp)));default:return null}}(),r.a.createElement("div",{style:{minWidth:"10px"}},0===t.is_read?r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:m,content:"Mark as read"},r.a.createElement("i",{onClick:d,className:"hide-show-toggler-item fa fa-circle-o font-size-11"})):r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:m,content:"Mark as unread"},r.a.createElement("i",{onClick:d,className:"hide-show-toggler-item fa fa-check font-size-11"})))))},bf=Object(E.a)(pn)(uf||(uf=Object(f.a)(["\n  width: 12px;\n"]))),hf=E.a.div(mf||(mf=Object(f.a)(["\n  cursor: pointer;\n  padding: 1.5em 1.5em 0em 1.5em !important;\n  background: ",";\n\n  border-bottom: ",";\n  .avatar {\n    margin-right: 1rem;\n  }\n  p {\n    margin: 0;\n  }\n  h6 {\n    color: ",";\n    font-family: Inter;\n    font-size: 12px;\n    letter-spacing: 0;\n    line-height: 15px;\n    .text-link {\n      color: #828282;\n      cursor: hand;\n      cursor: pointer;\n      &:hover {\n        color: #000;\n      }\n    }\n  }\n\n  .notification-body-wrapper {\n    .border-left-active {\n      border-left: 5px solid #822492 !important;\n    }\n    i {\n      left: 40px;\n      position: relative;\n    }\n    &:hover {\n      i {\n        opacity: 1;\n        visibility: visible;\n      }\n    }\n    i {\n      opacity: 0;\n      visibility: hidden;\n    }\n  }\n  .badge-danger {\n    background-color: #ff4445;\n  }\n  .badge-success {\n    background-color: #00c851;\n  }\n  :before {\n    display: none !important;\n  }\n"])),(function(e){return e.isRead?"transparent":"1"===e.darkMode?"#2a2f31":"#F9F9F9"}),(function(e){return"1"===e.darkMode?"1px solid #9b9b9b1a":"1px solid #ebebeb;"}),(function(e){return"1"===e.darkMode?"#afb8bd":"#000000"})),Ef=function(e){var t,a=e.notification,n=e.actions,i=e.history,o=e.redirect,c=e.user,s=e._t,l=e.darkMode,d=Ap().fromNow,u=function(e){if(e.preventDefault(),0===a.is_read&&n.read({id:a.id}),"NEW_TODO"===a.type)o.toTodos();else if("WORKSPACE_ADD_MEMBER"===a.type){var t={id:a.data.id,name:a.data.title,folder_id:0!==a.data.workspace_folder_id?a.data.workspace_folder_id:null,folder_name:""!==a.data.workspace_folder_name?a.data.workspace_folder_name:null};o.toWorkspace(t)}else{var r={id:a.data.post_id,title:a.data.title},i=null,c=null;a.data.workspaces&&a.data.workspaces.length&&(i={id:(i=a.data.workspaces[0]).topic_id,name:i.topic_name,folder_id:i.workspace_id?i.workspace_id:null,folder_name:i.workspace_name?i.workspace_name:null}),"POST_COMMENT"!==a.type&&"POST_MENTION"!==a.type||a.data.comment_id&&(c={focusOnMessage:a.data.comment_id}),o.toPost({workspace:i,post:r},c)}},m=function(e){e.preventDefault(),e.stopPropagation(),0===a.is_read?n.read({id:a.id}):n.unread({id:a.id})},p=function(e){e.preventDefault(),e.stopPropagation(),i.push("/profile/".concat(a.author.id,"/").concat(Wt(a.author.name)))},f={notificationNewPost:s("NOTIFICATION.NEW_POST",'shared a <span class="'.concat(a.is_read?"text-link":"text-primary font-weight-bold text-link",'">post</span>')),notificationComment:s("NOTIFICATION.COMMENT",'made a <span class="'.concat(a.is_read?"text-link":"text-primary font-weight-bold text-link",'">comment</span> in <span class="text-link">').concat(a.data.title)),notificationMention:s("NOTIFICATION.MENTION",'<span class="'.concat(a.is_read?"text-link":"text-primary font-weight-bold text-link",'">mentioned</span> you in')),hasAcceptedProposal:s("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:s("POST.HAS_REQUESTED_CHANGE","has requested a change."),sentProposal:s("POST.SENT_PROPOSAL","sent a proposal."),notificationClosedPost:s("NOTIFICATION.CLOSED_POST",'closed the <span class="'.concat(a.is_read?"text-link":"text-primary font-weight-bold text-link",'">post</span>')),addedYouInWorkspace:s("NOTIFICATION.WORKSPACE_ADDED_MEMBER","added you in a workspace"),reminder:s("NOTIFICATION.REMINDER_ICON","Reminder"),mustRead:s("NOTIFICATION.MUST_READ","Must read"),needsReply:s("NOTIFICATION.NEEDS_REPLY","Needs reply"),markAsRead:s("NOTIFICATION.MARK_AS_READ","Mark as read"),markAsUnread:s("NOTIFICATION.MARK_AS_UNREAD","Mark as unread")};return r.a.createElement(hf,{className:"timeline-item timeline-item-no-line",isRead:a.is_read,darkMode:l},r.a.createElement("div",null,a.author?r.a.createElement(kn,{id:a.author.id,name:a.author.name,imageLink:a.author.profile_image_thumbnail_link?a.author.profile_image_thumbnail_link:a.author.profile_image_link,showSlider:!0}):r.a.createElement(kn,{id:c.id,name:c.name,imageLink:c.profile_image_thumbnail_link?c.profile_image_thumbnail_link:c.profile_image_link,showSlider:!0})),r.a.createElement("div",null,r.a.createElement("div",{onClick:u},r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold"}},function(){switch(a.type){case"POST_CREATE":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:p,className:"author-name text-link"},a.author.name," "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:f.notificationNewPost}}));case"POST_COMMENT":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:p,className:"author-name text-link"},a.author.name," "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:f.notificationComment}}));case"POST_MENTION":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:p,className:"author-name text-link"},a.author.name)," ",r.a.createElement("span",{dangerouslySetInnerHTML:{__html:f.notificationMention}}),r.a.createElement("span",{className:"text-link",onClick:u}," ",a.data.title));case"NEW_TODO":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,s("NOTIFICATION.REMINDER","You asked to be reminded about ::title::",{title:a.data.title})));case"POST_ACCEPT_APPROVAL":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,a.author.name," ",f.hasAcceptedProposal));case"POST_REJECT_APPROVAL":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,a.author.name," ",f.hasRequestedChange));case"POST_REQST_APPROVAL":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,a.author.name," ",f.sentProposal));case"CLOSED_POST":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:p,className:"author-name text-link"},a.author.name," "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:f.notificationClosedPost}}));case"WORKSPACE_ADD_MEMBER":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:p,className:"author-name text-link"},a.author.name," "),r.a.createElement("span",null,f.addedYouInWorkspace));default:return null}}(),":"," ","NEW_TODO"===a.type?r.a.createElement(r.a.Fragment,null,Ht(a.data.description)):"POST_CREATE"===a.type||"POST_REQST_APPROVAL"===a.type||"POST_ACCEPT_APPROVAL"===a.type||"POST_REJECT_APPROVAL"===a.type||"CLOSED_POST"===a.type||"WORKSPACE_ADD_MEMBER"===a.type?r.a.createElement("span",{style:{fontWeight:"normal"}},a.data&&a.data.title):r.a.createElement("span",{style:{fontWeight:"normal"}},Ht(a.data.comment_body))),r.a.createElement("p",{style:{fontWeight:"normal",color:"#8B8B8B"}},"NEW_TODO"===a.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bf,{icon:"calendar"})," ",f.reminder," "),a.data.workspaces&&a.data.workspaces.length>0&&a.data.workspaces[0].workspace_name&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bf,{icon:"folder"}),r.a.createElement("span",{style:{verticalAlign:"middle"}}," ",a.data.workspaces[0].workspace_name," ")," "),a.data.workspaces&&a.data.workspaces.length>0&&a.data.workspaces[0].topic_name&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bf,{icon:"compass"}),r.a.createElement("span",{style:{verticalAlign:"middle"}}," ",a.data.workspaces[0].topic_name," ")," "))),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("span",{className:"text-muted font-weight-normal"},d(a.created_at.timestamp)),r.a.createElement("p",{style:{textAlign:"right",lineHeight:"1"}},0===a.is_read?r.a.createElement("span",{title:f.markAsRead,"data-toggle":"tooltip",onClick:m,className:"cursor-pointer"},"..."):r.a.createElement("span",{title:f.markAsUnread,"data-toggle":"tooltip",onClick:m,className:"cursor-pointer"},"...")),r.a.createElement("p",null," ",r.a.createElement("span",{className:"badge ".concat((t=a.data,t.must_read?"badge-danger":t.must_reply?"badge-success":null)," text-white")},function(e){return e.must_read?f.mustRead:e.must_reply?f.needsReply:null}(a.data))))))))};function _f(){var e=Object(f.a)(["\n  .text-link {\n    color: #828282;\n    cursor: pointer;\n\n    &:hover {\n      color: #000;\n    }\n  }\n\n  .notification-title-wrapper {\n    background: #7a1b8b;\n    color: #fff;\n  }\n"]);return _f=function(){return e},e}var Of=E.a.div(_f());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.toggleDropdown,o=Object(b.g)(),c=vp(),s=gp(c),l=s.notifications,d=s.unreadCount,u={container:Object(n.useRef)(null)},m=function(e){i(e)},p=vs()._t,f={new:p("NOTIFICATION.NEW","New"),notifications:p("NOTIFICATION.NOTIFICATIONS","Notifications"),markAllAsRead:p("NOTIFICATION.MARK_ALL_AS_READ","Mark all as read"),viewAll:p("NOTIFICATION.VIEW_ALL","View all"),unreadNotifications:p("NOTIFICATION.UNREAD_NOTIFICATIONS","Unread notifications"),oldNotifications:p("NOTIFICATION.OLD_NOTIFICATIONS","Old notifications"),noNotificationsToShow:p("NOTIFICATION.NO_NOTIFICATIONS_TO_SHOW","There are no notifications to show.")};return r.a.createElement(Of,{ref:u.container,className:"dropdown-menu dropdown-menu-right dropdown-menu-big notification-drop-down show ".concat(a),styles:"position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-252px, 38px, 0px);"},r.a.createElement("div",{className:"notification-title-wrapper p-4 text-center d-flex justify-content-between"},r.a.createElement("h6",{className:"mb-0"},f.notifications),d>0&&r.a.createElement("small",{className:"font-size-11 opacity-7"},d," ",f.unreadNotifications)),r.a.createElement("div",null,r.a.createElement(lf,{"data-toggle":"notification",notifications:l,actions:c,history:o,dictionary:f,removeOverlay:i})),r.a.createElement("div",{className:"p-2 text-right"},r.a.createElement("ul",{className:"list-inline small"},r.a.createElement("li",{className:"list-inline-item d-flex"},r.a.createElement("span",{className:"cursor-pointer text-link",onClick:function(e){m(e),o.push("/notifications")}},f.viewAll),r.a.createElement("span",{className:"cursor-pointer ml-auto text-link",onClick:function(e){c.readAll({}),m(e)}},f.markAllAsRead)))))}));function gf(){var e=Object(f.a)(["\n  @media (min-width: 400px) {\n    min-width: 360px;\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return gf=function(){return e},e}var vf=E.a.div(gf()),Af=function(e){var t=Object(n.useRef)(),a=Sp(),i=kp().value,o=Object(b.g)(),c=Object(n.useState)(i),s=Object(_.a)(c,2),l=s[0],d=s[1],u=function(){""!==l.trim()&&(t.current.classList.remove("show"),a.search({search:l,skip:0,limit:10}),a.saveSearchValue({value:l}),document.querySelector(".overlay").classList.remove("show"),o.push("/search"))},m={searchGlobalPopupPlaceholder:(0,vs()._t)("PLACEHOLDER.SEARCH_GLOBAL_POPUP","Search for anything in this Driff")};return r.a.createElement(vf,{className:"dropdown-menu p-2 dropdown-menu-right show",ref:t},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==i&&a.saveSearchValue({value:""}),d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&u()},value:l,type:"text",className:"form-control dropdown-search-input",placeholder:m.searchGlobalPopupPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0}),""!==l.trim()&&r.a.createElement("button",{onClick:function(){d(""),a.search({search:"",skip:0,limit:10}),a.saveSearchValue({value:""})},className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:u},r.a.createElement(pn,{icon:"search"})))))};function jf(){var e=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    max-width: 24px;\n    .more-options-tooltip {\n        &.orientation-top, &.orientation-bottom, &.orientation-left, &.orientation-right {\n            left: 0;\n            top: 26px;\n        }\n    }\n"]);return jf=function(){return e},e}var Cf,Tf=E.a.div(jf()),yf=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.history,o=e.parentFolder,c=e.workspaceID,s=fp(),l=Object(n.useState)([]),d=Object(_.a)(l,2),u=d[0],m=d[1],p=Object(b.j)().url;Object(n.useEffect)((function(){o&&s.getFoldersBreadcrumb({folder_id:o.id,topic_id:c},(function(e,t){t&&m(t.data.folders)}))}),[o]);return r.a.createElement(Tf,{className:" ".concat(a)},r.a.createElement(Uf,{width:140},u.map((function(e){return r.a.createElement("div",{onClick:function(){return function(e){var t=p.split("/folder/")[0];i.push(t+"/folder/".concat(e.id,"/").concat(Wt(e.search)))}(e)},className:"dropdown-item d-flex justify-content-between"},e.search)}))))})),Sf=E.a.div(Cf||(Cf=Object(f.a)(["\n  position: absolute;\n  will-change: transform;\n  top: 0px;\n  right: 0px;\n  transform: translate3d(5px, 59px, 0px);\n\n  .list-group-item {\n    color: #828282;\n  }\n"]))),kf=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.user,o=Object(b.g)(),c=Ra().processBackendLogout,s={container:Object(n.useRef)(null)},l=vs()._t,d={profile:l("PROFILE.PROFILE","Profile"),settings:l("PROFILE.SETTINGS","Settings"),signOut:l("PROFILE.SIGN_OUT","Sign out!")};return r.a.createElement(Sf,{ref:s.container,className:"user-profile-dropdown dropdown-menu dropdown-menu-big show ".concat(a),"x-placement":"bottom-end"},r.a.createElement("div",{className:"p-3 text-center"},r.a.createElement(kn,{name:i.name,imageLink:i.profile_image_thumbnail_link?i.profile_image_thumbnail_link:i.profile_image_link,id:i.id,partialName:i.partial_name,showSlider:!1}),r.a.createElement("h6",{className:"d-flex align-items-center justify-content-center"},i.name,r.a.createElement("span",{className:"btn btn-primary btn-sm ml-2","data-toggle":"tooltip",title:"","data-original-title":"Edit profile",onClick:function(){s.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),o.push("/profile/".concat(i.id,"/").concat(Wt(i.name),"/edit"))}},r.a.createElement(pn,{icon:"edit-2"})))),r.a.createElement("div",{className:"dropdown-menu-body"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement("span",{className:"cursor-pointer list-group-item",onClick:function(){s.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),o.push("/profile/".concat(i.id,"/").concat(Wt(i.name),"/view"))}},d.profile),r.a.createElement("span",{className:"cursor-pointer list-group-item",onClick:function(){s.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),o.push("/settings")}},d.settings),r.a.createElement("span",{className:"cursor-pointer list-group-item text-danger",onClick:function(){s.container.current.classList.remove("show"),document.querySelector(".overlay").classList.remove("show"),c()}},d.signOut))))}));function wf(){var e=Object(f.a)(["\n  position: absolute;\n  top: 1px;\n  padding: 3px 5px;\n  right: 0;\n  z-index: 1;\n  min-width: 20px;\n  &.double {\n    right: -3px;\n  }\n  &.triple {\n    right: -8px;\n  }\n  @media (max-width: 414px) {\n    padding: 2px 3px;\n    font-size: 8px;\n    top: 5px;\n    &.single {\n      padding: 2px 0;\n      border-radius: 100%;\n      min-width: 14px;\n    }\n  }\n"]);return wf=function(){return e},e}function Nf(){var e=Object(f.a)(["\n  padding-left: 5px;\n  @media (max-width: 1200px) {\n    display: flex !important;\n    left: auto;\n    right: 0;\n    top: 0;\n    height: 45px;\n  }\n  > li {\n    position: relative;\n    .nav-link {\n      max-height: 45px;\n      padding: 10px 10px !important;\n      &.profile-button {\n        position: relative;\n        padding: 0 !important;\n        margin-left: 10px;\n        .avatar-overlay {\n          position: absolute;\n          width: 45px;\n          height: 45px;\n          z-index: 1;\n        }\n        .avatar {\n          position: relative;\n          z-index: 0;\n        }\n        @media all and (max-width: 700px) {\n          margin-left: 4px;\n        }\n      }\n      @media (max-width: 620px) {\n        svg {\n          stroke: #363636;\n          width: 16px !important;\n          height: 16px !important;\n        }\n        &:not(.profile-button) {\n          margin: 0 4px;\n          &:first-of-type {\n            margin-right: 0;\n          }\n        }\n      }\n      @media all and (max-width: 920px) {\n        &.dark-mode-switch {\n          display: none !important;\n        }\n      }\n      @media all and (max-width: 700px) {\n        padding: 10px 4px !important;\n      }\n    }\n    .user-profile-dropdown {\n      position: absolute;\n      right: 0;\n      left: auto;\n      top: -10px;\n    }\n    .avatar-top-bar {\n      height: 2rem;\n      width: 2rem;\n    }\n    .notif-bell {\n      position: relative;\n    }\n    .notif-bell.active div {\n      filter: progid: DXImageTransform.Microsoft.BasicImage(rotation=0.25);\n      -webkit-transform: rotate(25deg);\n      -moz-transform: rotate(25deg);\n      -ms-transform: rotate(25deg);\n      -o-transform: rotate(25deg);\n      transform: rotate(25deg);\n      display: inline-block;\n    }\n  }\n"]);return Nf=function(){return e},e}var xf=E.a.ul(Nf()),Rf=E.a.span(wf()),If=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.dictionary,o=lm(),c=o.users,s=o.loggedUser,l=o.actions.fetchById,d=gp().unreadNotifications,u=am(),m=u.generalSettings.dark_mode,p=u.setGeneralSetting,f=Object(n.useState)(null),h=Object(_.a)(f,2),E=h[0],O=h[1],g=Object(n.useState)({}),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(n.useState)({}),T=Object(_.a)(C,2),y=T[0],S=T[1],k={container:Object(n.useRef)(null)},w=function(e){e.preventDefault();var t=e.currentTarget.dataset.toggle;S((function(e){return Object(R.a)(Object(R.a)(Object(R.a)({},e),e.name!==t&&{name:t}),{},{value:e.name!==t||!e.value})}))};Object(n.useEffect)((function(){var e=document.body;"0"===m?e.classList.remove("dark"):e.classList.add("dark")}),[m]);Object(n.useEffect)((function(){j(s)}),[s.profile_image_link]),Object(n.useEffect)((function(){var e=c[s.id]?c[s.id]:{};e.hasOwnProperty("loaded")?j(e):l(s.id)}),[]);var N=Object(b.g)(),x=Object(b.h)();return Ka(E,(function(){var e=k.container.current.querySelector("ul .dropdown-menu.show");e&&(e.classList.remove("show"),O(null)),document.querySelector(".overlay").classList.remove("show")}),null!==E),r.a.createElement(xf,{ref:k.container,className:"header-profile-navigation navbar-nav ".concat(a)},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"/",className:"nav-link","data-toggle":"search",onClick:w},r.a.createElement(qc,{content:i.generalSearch},r.a.createElement(pn,{icon:"search"}))),"search"===y.name&&y.value&&r.a.createElement(Af,null)),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"/",className:"nav-link notif-bell ".concat("notifications"===x.pathname.split("/")[1]&&"active"),"data-toggle":"notification",onClick:function(e){e.preventDefault(),N.push("/notifications")}},d>0&&r.a.createElement(Rf,{className:"badge badge-danger badge-pill ".concat(d>99?"triple":d>9?"double":"single")},d>99?"99+":d),r.a.createElement(qc,{content:i.generalNotifications},r.a.createElement(pn,{icon:"bell"})))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/",className:"nav-link dark-mode-switch",onClick:function(e){e.preventDefault(),S({}),p({dark_mode:"0"===m?"1":"0"})}},r.a.createElement(qc,{content:i.generalSwitchTheme},r.a.createElement(pn,{icon:"sun"}),r.a.createElement(pn,{icon:"moon"})))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{href:"/",className:"nav-link profile-button","data-toggle":"profile",onClick:w},r.a.createElement(qc,{content:s.name},r.a.createElement("div",{className:"avatar-overlay"}),r.a.createElement(kn,{name:A.name,id:A.id,type:"USER",className:"avatar-top-bar",imageLink:A.profile_image_thumbnail_link?A.profile_image_thumbnail_link:A.profile_image_link,noDefaultClick:!0}))),"profile"===y.name&&y.value&&r.a.createElement(kf,{user:s})))}));function Pf(){var e=Object(f.a)(["\n  visibility: hidden;\n  opacity: 0;\n  ",";\n  z-index: 30;\n  position: absolute;\n  cursor: pointer;\n  width: ","px;\n  background-color: #ffffff;\n  color: #4d4d4d;\n  border-radius: 8px;\n  padding: 8px 0;\n  box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n\n  .dark & {\n    color: #fff;\n  }\n\n  &.orientation-top {\n    bottom: -10px;\n  }\n  &.orientation-bottom {\n    top: calc(100% - 25px);\n    bottom: auto;\n  }\n  &.orientation-left {\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% + 25px);\n    right: auto;\n  }\n\n  button:hover {\n    color: #972c86;\n  }\n\n  > div {\n    text-align: left;\n    padding: 4px 24px;\n    cursor: pointer;\n\n    &.active,\n    &:hover {\n      background-color: #f0f0f0;\n      color: #7a1b8b;\n    }\n  }\n\n  > div:last-child {\n    border-bottom: none;\n  }\n"]);return Pf=function(){return e},e}function Df(){var e=Object(f.a)(["\n  display: inline-flex;\n  position: relative;\n  width: 25px;\n\n  svg {\n    cursor: pointer;\n    width: 100%;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"]);return Df=function(){return e},e}var Lf=E.a.div(Df()),Ff=E.a.div(Pf(),(function(e){return!e.hide&&"opacity: 1; visibility: visible"}),(function(e){return e.width})),Mf=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,o=(e.item,e.moreButton),c=void 0===o?"more-horizontal":o,s=e.children,l=void 0===s?"More Options":s,d=e.width,u=void 0===d?200:d,m=e.scrollRef,p=void 0===m?null:m,f=e.onClick,b=Object(I.a)(e,["className","item","moreButton","children","width","scrollRef","onClick"]),h={options:Object(n.useRef)(),container:Object(n.useRef)(),scrollRef:p},E=null,O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1],j=fs(h.container,h.options,p,v).orientation,C=function(){E=setTimeout((function(){A(!1)}),600)},T=function(){clearTimeout(E)};return r.a.createElement(Lf,Object.assign({className:"more-options ".concat(v?"more-options-active":""," ").concat(i),onClick:function(e){e.preventDefault(),e.stopPropagation(),f&&f(e),A(!v)},ref:h.container,onMouseEnter:T},b),r.a.createElement(pn,{onMouseLeave:C,"data-event":"touchstart focus mouseover","data-event-off":"mouseout","data-tip":"Message options",icon:c}),v&&r.a.createElement(Ff,{ref:h.options,width:u,hide:null===j.vertical||null===j.horizontal,className:"more-options-tooltip orientation-".concat(j.vertical," orientation-").concat(j.horizontal),onMouseLeave:C,onMouseEnter:T},l))})),Uf=r.a.memo(Mf);function Gf(){var e=Object(f.a)(["\n  width: ","%;\n"]);return Gf=function(){return e},e}function Hf(){var e=Object(f.a)(["\n  height: ","px;\n"]);return Hf=function(){return e},e}var Bf=E.a.div(Hf(),(function(e){return e.height})),Wf=E.a.div(Gf(),(function(e){return e.progress})),Yf=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.barClassName,i=void 0===n?"progress-bar-striped":n,o=e.height,c=void 0===o?10:o,s=e.amount,l=void 0===s?0:s,d=e.limit,u=l/(void 0===d?100:d)*100;return r.a.createElement(Bf,{className:"progress ".concat(a),height:c},r.a.createElement(Wf,{className:"progress-bar ".concat(i),role:"progressbar",progress:u}))}));function Vf(){var e=Object(f.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n  }\n"]);return Vf=function(){return e},e}var Qf=E.a.div(Vf()),Kf=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,o=e.scrollRef,c=Object(b.j)().params,s=Object(l.useDispatch)(),d=fp(),u=Ap().fromNow,m=function(){s(Fi({workspace_id:c.workspaceId,file_id:n.id,files:[Object(R.a)(Object(R.a)({},n),{},{filename:n.name,file_id:n.id})]}))};return r.a.createElement(Qf,{className:"attach-file-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(kn,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,id:n.user.id,showSlider:!0,scrollRef:o})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},r.a.createElement("span",null,r.a.createElement("span",{className:"font-weight-normal"},n.user.name)," ",r.a.createElement("span",{onClick:m,className:"file-summary"},i.attachedFile)),r.a.createElement("span",{className:"text-muted font-weight-normal"},u(n.created_at.timestamp))),r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},r.a.createElement("span",{onClick:m,className:"timeline-file-icon"},d.getFileIcon(n.mime_type)," ",r.a.createElement("span",null,n.name)))))}));function zf(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return zf=function(){return e},e}function qf(){var e=Object(f.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return qf=function(){return e},e}var Jf=E.a.div(qf()),Zf=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},Xf=Object(E.a)(nn.a)(zf()),$f=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,o=e.scrollRef,c=Object(b.g)(),s=Ap(),l=s.fromNow,d=s.localizeDate,u=function(e){e.preventDefault(),c.push("/posts/".concat(n.id,"/").concat(n.title))};return r.a.createElement(Jf,{className:"post-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(kn,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,id:n.user.id,showSlider:!0,scrollRef:o})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},n.user.name," ",r.a.createElement("span",{className:"post-title",onClick:u,title:n.title},i.sharedThePost,' "',n.title,'"')),r.a.createElement(Xf,{arrowSize:5,distance:10,onToggle:Zf,content:"".concat(d(n.created_at.timestamp))},r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp)))),n.body.replace(/<\/?[^>]+(>|$)/g,"")&&r.a.createElement("span",{onClick:u},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},r.a.createElement(pn,{icon:"arrow-right"}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.body}}))),n.files&&n.files.length>=1&&r.a.createElement(r.a.Fragment,null,i.fileAttachments,":",r.a.createElement(Hc,{attachedFiles:n.files,type:"timeline"}))))}));function eb(){var e=Object(f.a)([""]);return eb=function(){return e},e}var tb=E.a.div(eb());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=Ap().fromNow;return r.a.createElement(tb,{className:"timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(kn,{name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",null,n.user.name," ",r.a.createElement("a",{href:"#"},"shared a post")),r.a.createElement("span",{className:"text-muted font-weight-normal"},i(n.created_at.timestamp))),r.a.createElement("a",{href:"#"},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},n.body))))}));function ab(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return ab=function(){return e},e}function nb(){var e=Object(f.a)(["\n  font-weight: bold;\n  .action-text {\n    margin: 0;\n    color: #505050;\n    .joined {\n      color: #00c851;\n      font-weight: bold;\n    }\n    .left {\n      color: #f44;\n      font-weight: bold;\n    }\n  }\n"]);return nb=function(){return e},e}var rb=E.a.div(nb()),ib=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},ob=Object(E.a)(nn.a)(ab()),cb=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,o=e.scrollRef,c=Ap(),s=c.fromNow,d=c.localizeDate,u=Object(l.useSelector)((function(e){return e.session.user})),m=Object(l.useSelector)((function(e){return e.global.recipients.filter((function(e){return"USER"===e.type}))})),p=Object(l.useSelector)((function(e){return e.users.users})),f=null;n.body.includes("CHANNEL_UPDATE")&&(f=JSON.parse(n.body.replace("CHANNEL_UPDATE::","")));var b=function(){if(f){if(f.title&&""!==f.title)return"".concat(i.updatedWorkspaceTo," ").concat(f.title)}else{if(n.body.includes("NEW_ACCOUNT_ACTIVATED"))return"".concat(n.body.replace("NEW_ACCOUNT_ACTIVATED ","")," ").concat(i.isAddedToCompany);if(!n.body.includes("POST_CREATE"))return n.body;if(""!==n.body.replace("POST_CREATE::","").trim()){var e=JSON.parse(n.body.replace("POST_CREATE::",""));return r.a.createElement(r.a.Fragment,null,e.author.name," ",r.a.createElement("b",null,i.createdThePost," ",e.post.title))}}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===f.author)return"";if(e){if(f.accepted_members&&f.accepted_members.length){var t=p[f.accepted_members[0]];return"".concat(t.name," ").concat(i.hasJoined)}var a=m.filter((function(e){return e.type_id===f.author.id&&f.added_members.includes(e.type_id)}))[0];if(a)return a.type_id===u.id?"".concat(i.youJoined,"."):"".concat(a.name," ").concat(i.hasJoined)}else if(f.accepted_members&&f.accepted_members.length);else{var n=m.filter((function(e){return f.added_members.includes(e.type_id)&&e.type_id!==f.author.id})).map((function(e){return e.name}));if(n.length)return n.join(", ")+" ".concat(i.isAdded,".")}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===f.author)return"";if(e){var t=m.filter((function(e){return e.type_id===f.author.id&&f.removed_members.includes(e.type_id)}))[0];if(t)return t.type_id===u.id?"".concat(i.youLeft,"."):"".concat(t.name," ").concat(i.hasLeft)}else{var a=m.filter((function(e){return f.removed_members.includes(e.type_id)&&e.type_id!==f.author.id})).map((function(e){return e.name}));if(a.length)return a.join(", ")+" ".concat(i.isRemoved,".")}};return n.body.includes("POST_CREATE")?r.a.createElement(r.a.Fragment,null):r.a.createElement(rb,{className:"member-timeline timeline-item ".concat(a)},r.a.createElement("div",null,null!==f?r.a.createElement(r.a.Fragment,null,f.author?r.a.createElement(kn,{className:"mr-3",name:f.author.name,imageLink:f.author.profile_image_thumbnail_link?f.author.profile_image_thumbnail_link:f.author.profile_image_link,id:f.author.id,showSlider:!0,scrollRef:o}):r.a.createElement(kn,{className:"mr-3",imageLink:null,isBot:!0})):r.a.createElement(kn,{className:"mr-3",imageLink:null,isBot:!0})),null!==f?r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},f.author&&f.author.name," ",b()),r.a.createElement("span",{className:"text-muted font-weight-normal"},s(n.created_at.timestamp))),f.added_members.length||f.removed_members.length?r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},r.a.createElement("p",{className:"action-text"},f.added_members.length>0&&h(!0)),r.a.createElement("p",{className:"action-text"},f.added_members.length>0&&h()),r.a.createElement("p",{className:"action-text"},f.removed_members.length>0&&E(!0)),r.a.createElement("p",{className:"action-text"},f.removed_members.length>0&&E())):null):r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},b()),r.a.createElement(ob,{arrowSize:5,distance:10,onToggle:ib,content:"".concat(d(n.created_at.timestamp))},r.a.createElement("span",{className:"text-muted font-weight-normal"},s(n.created_at.timestamp))))))}));function sb(){var e=Object(f.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return sb=function(){return e},e}var lb=E.a.div(sb()),db=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.scrollRef,o=Ap().fromNow;return r.a.createElement(lb,{className:"topic-timeline timeline-item ".concat(a)},r.a.createElement("div",null,n.user&&r.a.createElement(kn,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,id:n.user.id,showSlider:!0,scrollRef:i})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"action-text title font-weight-normal"},n.user.name," ",r.a.createElement("strong",null,"created ",n.name," workspace")),r.a.createElement("span",{className:"text-muted font-weight-normal"},o(n.created_at.timestamp)))))}));function ub(){var e=Object(f.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]);return ub=function(){return e},e}var mb=E.a.div(ub()),pb=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.init,o=e.timeline,c=e.dictionary,s=Object(n.useRef)(null);return r.a.createElement(mb,{className:"timeline-panel card ".concat(a),ref:s},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},c.timeline),r.a.createElement("div",{className:"timeline"},i?r.a.createElement(r.a.Fragment,null,o&&Object.values(o).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).map((function(e){switch(e.tag){case"CHAT_BOT":return r.a.createElement(cb,{key:e.id,data:e.item,dictionary:c,scrollRef:s.current});case"POST":return r.a.createElement($f,{key:e.id,data:e.item,dictionary:c,scrollRef:s.current});case"DOCUMENT":return r.a.createElement(Kf,{key:e.id,data:e.item,dictionary:c,scrollRef:s.current});case"TOPIC":return r.a.createElement(db,{key:e.id,data:e.item,scrollRef:s.current})}}))):r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))))}));function fb(){var e=Object(f.a)([""]);return fb=function(){return e},e}var bb=E.a.div(fb()),hb=Object(b.k)((function(e){var t=e.redirectTo,a=Object(n.useState)(5),i=Object(_.a)(a,2),o=i[0],c=i[1],s=Object(n.useState)(0),l=Object(_.a)(s,2),d=l[0],u=l[1],m=vs()._t,p={invalidDriffName:m("REDIRECT.INVALID_DRIFF_NAME","Invalid driff name detected"),redirectedTo:m("REDIRECT.REDIRECT_TO","You will automatically get redirected to"),in:m("REDIRECT.IN","in")};return Object(n.useEffect)((function(){0===o&&(window.location.href=t())}),[o]),Object(n.useEffect)((function(){document.body.classList.add("form-membership"),setInterval((function(){c((function(e){return e-1}))}),1e3),setInterval((function(){u((function(e){return e+1.2}))}),50)}),[]),r.a.createElement(bb,{className:"redirect-panel form-wrapper"},r.a.createElement("div",{id:"logo"},r.a.createElement(fn,{icon:"driff-logo",width:"110",height:"80"})),r.a.createElement("h5",null,p.invalidDriffName),r.a.createElement("p",null,p.redirectedTo,r.a.createElement("br",null),r.a.createElement("a",{href:t()},t())," ",p.in," ",o,"s."),r.a.createElement(Yf,{amount:d,limit:100}))})),Eb=a(623),_b=a(624),Ob=a(619),gb=a(621),vb=a(622),Ab=a(283),jb=(a(571),a(572),a(279)),Cb=a.n(jb),Tb=a(293),yb=a(280),Sb=a.n(yb),kb=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.theme,o=void 0===i?"snow":i,c=e.placeholder,s=void 0===c?"":c,l=Object(I.a)(e,["className","theme","placeholder"]),d=vs()._t,u=""!==s?s:d("FORM.REACT_QUILL_PLACEHOLDER","Write great things here...");return r.a.createElement(qa.a,Object.assign({className:"quill-editor ".concat(n),theme:o},l,{ref:t,placeholder:u}))})),wb=za.Quill.import("blots/block");wb.tagName="div",za.Quill.register(wb),za.Quill.register("modules/magicUrl",Cb.a),za.Quill.register("modules/clipboard",Sb.a),za.Quill.register("modules/imageUploader",Tb.a);var Nb=a(281),xb=a.n(Nb);function Rb(){var e=Object(f.a)(["\n  height: 1.5rem;\n  width: 1.5rem;\n  border-radius: 50%;\n  margin-right: 1rem;\n  border-color: #191c20;\n  cursor: pointer;\n  > span {\n    color: ",";\n    background: ",";\n    font-size: 11px;\n    line-height: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin: auto;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    border-radius: inherit;\n  }\n"]);return Rb=function(){return e},e}function Ib(){var e=Object(f.a)(["\n  display: flex;\n"]);return Ib=function(){return e},e}var Pb=E.a.div(Ib()),Db=E.a.div(Rb(),(function(e){return e.active?"#FFF":"#828282"}),(function(e){return e.active?"#6495ED":"#f1f2f7"})),Lb=function(e){var t=e.onClick,a=e.selectedDay;return r.a.createElement(Pb,null,r.a.createElement(Db,{"data-name":"monday",onClick:t,active:"monday"===a},r.a.createElement("span",null,"M")),r.a.createElement(Db,{"data-name":"tuesday",onClick:t,active:"tuesday"===a},r.a.createElement("span",null,"T")),r.a.createElement(Db,{"data-name":"wednesday",onClick:t,active:"wednesday"===a},r.a.createElement("span",null,"W")),r.a.createElement(Db,{"data-name":"thursday",onClick:t,active:"thursday"===a},r.a.createElement("span",null,"TH")),r.a.createElement(Db,{"data-name":"friday",onClick:t,active:"friday"===a},r.a.createElement("span",null,"F")))};function Fb(){var e=Object(f.a)(['\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  font-size: 1rem;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-align: left;\n\n  input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    width: 100%;\n    left: 0px;\n    height: 100%;\n    z-index: 1;\n    top: 6px;\n  }\n\n  .checkmark {\n    height: 16px;\n    width: 16px;\n    background-color: #fff;\n    border-radius: 50%;\n    border: 1px solid #adb5bd;\n    position: relative;\n    margin-right: 14px;\n    transition: all 200ms ease;\n  }\n\n  &:hover {\n    input ~ .checkmark {\n      background-color: #972c86;\n      border-color: #972c86;\n      box-shadow: 0 0 0 0.2rem rgba(170, 102, 204, 0.3);\n    }\n\n    input:checked ~ .checkmark {\n      background-color: #972c86;\n      border-color: #972c86;\n    }\n\n    input ~ .checkmark:after {\n      background-color: #fff;\n    }\n  }\n\n  input:checked ~ .checkmark {\n    background-color: #fff;\n  }\n\n  .checkmark:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n\n  input:checked ~ .checkmark:after {\n    display: block;\n  }\n\n  .checkmark:after {\n    left: 3px;\n    top: 3px;\n    width: 8px;\n    height: 8px;\n    background-color: #972c86;\n    border-radius: 50%;\n    transition: all 200ms ease;\n  }\n']);return Fb=function(){return e},e}var Mb=E.a.div(Fb()),Ub=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,o=e.checked,c=void 0!==o&&o,s=e.onClick,l=e.name,d=e.value,u=e.readOnly,m=void 0===u?null:u,p=e.children,f=Object(I.a)(e,["className","checked","onClick","name","value","readOnly","children"]),b=Object(n.useState)(""),h=Object(_.a)(b,2),E=h[0],O=h[1],g=function(e){E.click(),s&&s(E)};return r.a.createElement(Mb,{ref:t,className:"component-radio-input ".concat(i),onClick:function(e){return g()}},m?r.a.createElement("input",Object.assign({readOnly:!0,checked:c,name:l,value:d,ref:O,type:"radio"},f)):r.a.createElement("input",Object.assign({checked:c,name:l,value:d,ref:O,type:"radio"},f)),r.a.createElement("span",{className:"checkmark"}),p)})),Gb=(Kn.a.string,Kn.a.func,Kn.a.number,Kn.a.oneOfType,r.a.memo(Ub)),Hb=a(35),Bb=a.n(Hb);function Wb(){var e=Object(f.a)(["\n  margin: 0 10px;\n"]);return Wb=function(){return e},e}function Yb(){var e=Object(f.a)(["\n  input {\n    width: auto;\n  }\n"]);return Yb=function(){return e},e}function Vb(){var e=Object(f.a)(["\n  margin: 0 10px;\n  background-color: #f1f2f7;\n  padding: 2px 5px;\n"]);return Vb=function(){return e},e}function Qb(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  .repeat-times {\n    width: 60px;\n    background-color: #f1f2f7;\n    border: none;\n  }\n"]);return Qb=function(){return e},e}function Kb(){var e=Object(f.a)(["\n  .dark & {\n    input,\n    select {\n      color: #fff;\n    }\n    option {\n      color: #000;\n    }\n  }\n  .react-time-picker__inputGroup__minute {\n    width: 18px !important;\n  }\n"]);return Kb=function(){return e},e}function zb(){var e=Object(f.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n  }\n  .component-radio-input input {\n    z-index: 0;\n  }\n"]);return zb=function(){return e},e}var qb=E.a.div(zb()),Jb=Object(E.a)(xb.a)(Kb()),Zb=E.a.div(Qb()),Xb=E.a.div(Vb()),$b=Object(E.a)(Gb)(Yb()),eh=E.a.div(Wb()),th=function(e){return(e<10?"0":"")+e},ah=r.a.memo((function(e){var t=vs()._t,a={huddleBot:t("HUDDLE.Question","Question"),huddleBotCreated:t("HUDDLE.HUDDLE_CREATED","Huddle bot created."),huddleBotUpdated:t("HUDDLE.HUDDLE_UPDATED","Huddle bot updated."),huddleBotFailed:t("HUDDLE.HUDDLE_FAILED","Huddle bot failed."),channels:t("HUDDLE.CHANNELS","Channels"),questions:t("HUDDLE.QUESTIONS","Questions"),startAt:t("HUDDLE.START_AT","Start at"),publishAt:t("HUDDLE.PUBLISH_AT","Publish at"),delete:t("HUDDLE.DELETE","Delete"),update:t("HUDDLE.UPDATE","Update"),create:t("HUDDLE.CREATE","Create"),cancel:t("HUDDLE.CANCEL","Cancel"),confirmationText:t("HUDDLE.DELETE_CONFIRMATION_TEXT","Are you sure you want to delete this huddle bot?"),deleteHuddle:t("HUDDLE.DELETE_HUDDLE","Delete huddle")},i=Xp(),o=Op(),c=Object(l.useDispatch)(),s=Object(l.useSelector)((function(e){return e.chat.bots})),d=Object(l.useSelector)((function(e){return e.chat.huddleBot})),u=s.channels,m=(s.loaded,[{question:""},{question:""},{question:""},{question:""},{question:""}]),p=new Date,f=th(p.getHours())+":"+th(p.getMinutes()),b=p.getTimezoneOffset()/60,h=Object(n.useState)([]),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)([]),A=Object(_.a)(v,2),j=A[0],C=A[1],T=Object(n.useState)([{value:"DAILY",label:"Daily"}]),y=Object(_.a)(T,2),S=y[0],k=y[1],w=Object(n.useState)({set_start_at:f,set_publish_at:f,channel_id:null,user_bot_id:d?d.id:null,questions:m,introduction_message:"",closing_message:"",publish_channel_id:null,repeat_type:"DAILY",repeat_select_weekly:null,repeat_select_monthly:1,repeat_select_yearly:null,end_type:"NEVER",end_select_after:1,end_select_on:null,repeat_hour:0,bot_name:""}),N=Object(_.a)(w,2),I=N[0],P=N[1],D=u.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{value:e.id,label:e.name,icon:"compass"})})),L=Object(Rt.a)(Array(31).keys()).map((function(e){return{value:e+1,label:e+1,icon:null}}));Object(n.useEffect)((function(){i.fetchUserBots({},(function(e,t){e||t.data.user_bots&&0===t.data.user_bots.length&&i.createUserBot({bot_name:"Huddle"})}))}),[]);var F=function(e){P(Object(R.a)(Object(R.a)({},I),{},{questions:I.questions.map((function(t,a){return a===parseInt(e.target.dataset.name)?Object(R.a)(Object(R.a)({},t),{},{question:e.target.value}):t}))}))},M=function(e){P(Object(R.a)(Object(R.a)({},I),{},Object(x.a)({},e.target.dataset.name,e.target.value)))},U=function(){P({set_start_at:f,set_publish_at:f,channel_id:null,user_bot_id:d.id,questions:m,bot_name:"",publish_channel_id:null,repeat_type:"DAILY",repeat_select_weekly:null,repeat_select_monthly:1,repeat_select_yearly:null,end_type:"NEVER",end_select_after:1,end_select_on:null,repeat_hour:0})},G=function(e){P(Object(R.a)(Object(R.a)({},I),{},{end_type:e}))},H=I.questions.filter((function(e){return""===e.question.trim()})).length===I.questions.length||null===I.channel_id;return r.a.createElement(qb,{className:"workspace-people container-fluid h-100"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6"},r.a.createElement("div",{className:"card"},d&&r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Bot name"),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:M,"data-name":"bot_name",type:"text",className:"form-control",placeholder:"Bot name","aria-describedby":"button-addon1",autoFocus:!0,value:I.bot_name})))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Publish question channel"),r.a.createElement(Yh,{options:D,value:O,onChange:function(e){if(console.log(e),null===e)g([]),P(Object(R.a)(Object(R.a)({},I),{},{set_start_at:f,set_publish_at:f,channel_id:null,user_bot_id:d.id,questions:m}));else if(g(e),e.huddle){console.log(e.huddle);var t=parseInt(e.huddle.publish_at.time.substr(0,2))-b,a=parseInt(e.huddle.start_at.time.substr(0,2))-b;P(Object(R.a)(Object(R.a)({},I),{},{introduction_message:e.huddle.introduction_message,closing_message:e.huddle.closing_message,channel_id:e.value,questions:e.huddle.questions,user_bot_id:d.id,set_publish_at:th(t>23?24-t:t)+":"+e.huddle.publish_at.time.substr(3,2),set_start_at:th(a>23?24-a:a)+":"+e.huddle.start_at.time.substr(3,2),publish_channel_id:e.huddle.publish_channel.id,repeat_type:e.huddle.repeat_type,repeat_select_weekly:e.huddle.repeat_select_weekly?e.huddle.repeat_select_weekly:[],repeat_select_monthly:e.huddle.repeat_select_monthly?e.huddle.repeat_select_monthly:1,repeat_select_yearly:e.huddle.repeat_select_yearly?new Date(e.huddle.repeat_select_yearly.substr(0,4),parseInt(e.huddle.repeat_select_yearly.substr(5,2))-1,e.huddle.repeat_select_yearly.substr(8,2)):null,end_type:e.huddle.end_type,end_select_after:e.huddle.end_select_after?e.huddle.end_select_after:1,end_select_on:e.huddle.end_select_on?new Date(e.huddle.end_select_on.substr(0,4),parseInt(e.huddle.end_select_on.substr(5,2))-1,e.huddle.end_select_on.substr(8,2)):null,bot_name:e.huddle.user_bot.first_name})),C([Object(R.a)(Object(R.a)({},e.huddle.publish_channel),{},{value:e.huddle.publish_channel.id,label:e.huddle.publish_channel.name,icon:"compass"})])}else P(Object(R.a)(Object(R.a)({},I),{},{channel_id:e.value,questions:m}))},isMulti:!1,isClearable:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Publish answer channel"),r.a.createElement(Yh,{options:D,value:j,onChange:function(e){console.log(e),null===e?(C([]),P(Object(R.a)(Object(R.a)({},I),{},{publish_channel_id:null}))):(C(e),P(Object(R.a)(Object(R.a)({},I),{},{publish_channel_id:e.value})))},isMulti:!1,isClearable:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"What time do you want to ask the questions?"),r.a.createElement("br",null),r.a.createElement(Jb,{className:"react-datetime-picker start_at",onChange:function(e){P(Object(R.a)(Object(R.a)({},I),{},{set_start_at:e}))},value:I.set_start_at,disableClock:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"What time do you want to publish?"),r.a.createElement("br",null),r.a.createElement(Jb,{className:"react-datetime-picker publish_at",onChange:function(e){P(Object(R.a)(Object(R.a)({},I),{},{set_publish_at:e}))},value:I.set_publish_at,disableClock:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Repeat every"),r.a.createElement(Yh,{options:[{value:"DAILY",label:"Daily",icon:null},{value:"WEEKLY",label:"Weekly",icon:null},{value:"MONTHLY",label:"Monthly",icon:null},{value:"YEARLY",label:"Yearly",icon:null}],value:S,onChange:function(e){P(Object(R.a)(Object(R.a)({},I),{},{repeat_type:e.value})),k(e)},isMulti:!1})),"WEEKLY"===I.repeat_type&&r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Repeat on"),r.a.createElement(Lb,{onClick:function(e){var t=e.currentTarget.dataset.name;P(Object(R.a)(Object(R.a)({},I),{},{repeat_select_weekly:t}))},selectedDay:I.repeat_select_weekly})),"MONTHLY"===I.repeat_type&&r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Repeat on"),r.a.createElement(Yh,{options:L,value:L.find((function(e){return e.value===I.repeat_select_monthly})),onChange:function(e){console.log(e),P(Object(R.a)(Object(R.a)({},I),{},{repeat_select_monthly:e.value}))},isMulti:!1})),"YEARLY"===I.repeat_type&&r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Repeat on"),r.a.createElement("div",null,r.a.createElement(Qc,{className:"react-datetime-picker",onChange:function(e){P(Object(R.a)(Object(R.a)({},I),{},{repeat_select_yearly:e}))},value:I.repeat_select_yearly}))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Ending"),r.a.createElement(Zb,null,r.a.createElement(Gb,{checked:"NEVER"===I.end_type,value:"NEVER",name:"NEVER",onClick:function(){return G("NEVER")}},"Never")),r.a.createElement(Zb,null,r.a.createElement(Gb,{checked:"END_ON"===I.end_type,value:"END_ON",name:"END_ON",onClick:function(){return G("END_ON")}},"On"),r.a.createElement(eh,null,r.a.createElement(Qc,{className:"react-datetime-picker",onChange:function(e){P(Object(R.a)(Object(R.a)({},I),{},{end_select_on:e}))},value:I.end_select_on,minDate:O.huddle?null:new Date((new Date).setDate((new Date).getDate()+1))}))),r.a.createElement(Zb,null,r.a.createElement($b,{checked:"END_AFTER_REPEAT"===I.end_type,value:"END_AFTER_REPEAT",name:"END_AFTER_REPEAT",onClick:function(){return G("END_AFTER_REPEAT")}},r.a.createElement("span",null,"After")),r.a.createElement(Xb,null,r.a.createElement("input",{type:"number",value:I.end_select_after,placeholder:"number",className:"repeat-times",onChange:function(e){P(Object(R.a)(Object(R.a)({},I),{},{end_select_after:e.target.value}))}}),r.a.createElement("span",null,"times")))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Welcome message"),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:M,"data-name":"introduction_message",type:"text",className:"form-control",placeholder:"Welcome message","aria-describedby":"button-addon1",value:I.introduction_message})))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,"Thank you message"),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:M,"data-name":"closing_message",type:"text",className:"form-control",placeholder:"Thank you message","aria-describedby":"button-addon1",value:I.closing_message})))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",null,a.questions),I.questions.map((function(e,t){return r.a.createElement("div",{className:"mb-2",key:t},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:F,"data-name":t,type:"text",className:"form-control",placeholder:"Question","aria-describedby":"button-addon1",value:e.question})))})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e=parseInt(I.set_publish_at.substr(0,2))+b,t=parseInt(I.set_start_at.substr(0,2))+b,n=I.set_publish_at.substr(3,2),r=I.set_start_at.substr(3,2),c=Object(R.a)(Object(R.a)({},I),{},{questions:I.questions.filter((function(e){return""!==e.question.trim()})),user_bot_id:d.id,set_publish_at:th(e>=0?e:24+e)+":"+n,set_start_at:th(t>=0?t:24+t)+":"+r});"DAILY"===c.repeat_type?(delete c.repeat_select_weekly,delete c.repeat_select_monthly,delete c.repeat_select_yearly,"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=Bb()(I.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on):"WEEKLY"===c.repeat_type?(delete c.repeat_select_monthly,delete c.repeat_select_yearly,c.repeat_select_weekly="thursday"===c.repeat_select_weekly?"TH":c.repeat_select_weekly.toUpperCase().charAt(0),"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=Bb()(I.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on):"MONTHLY"===c.repeat_type?(delete c.repeat_select_weekly,delete c.repeat_select_yearly,"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=Bb()(I.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on):"YEARLY"===c.repeat_type&&(delete c.repeat_select_weekly,delete c.repeat_select_monthly,c.repeat_select_yearly=Bb()(I.repeat_select_yearly,"YYYY-MM-DD").format("YYYY-MM-DD"),"NEVER"===c.end_type?(delete c.end_select_after,delete c.end_select_on):"END_ON"===c.end_type?(delete c.end_select_after,c.end_select_on=Bb()(I.end_select_on,"YYYY-MM-DD").format("YYYY-MM-DD")):delete c.end_select_on);var s=function(e,t){e?o.error(a.huddleBotFailed):(O.huddle?o.success(a.huddleBotUpdated):o.success(a.huddleBotCreated),U(),g([]))};O.huddle?("END_AFTER_REPEAT"!==(c=Object(R.a)(Object(R.a)({},c),{},{huddle_id:O.huddle.id,update_questions:c.questions,new_questions:[],remove_question_ids:[]})).end_type&&"END_AFTER_REPEAT"===O.huddle.end_type&&(c=Object(R.a)(Object(R.a)({},c),{},{reset_repeat_logs:1})),i.update(c,s)):(delete c.user_bot_id,i.create(c,s))},disabled:H},O.huddle?a.update:a.create),O.huddle&&r.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){var e=function(e,t){e||(U(),g([]))};c(Ye({type:"confirmation",headerText:a.deleteHuddle,submitText:a.delete,cancelText:a.cancel,bodyText:a.confirmationText,actions:{onSubmit:function(){return i.remove({huddle_id:O.huddle.id},e)}}}))},disabled:H},a.delete)))))))}));function nh(){var e=Object(f.a)(["\n  margin: 10px;\n  border-radius: 8px;\n  background: #f0f0f0;\n  padding: 10px;\n  display: block;\n  position: relative;\n  .dark & {\n    background: #191c20;\n  }\n  span {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    cursor: pointer;\n  }\n"]);return nh=function(){return e},e}var rh,ih,oh=E.a.div(nh()),ch=function(e){var t=e.question,a=e.huddle,n=e.isFirstQuestion,i=e.selectedChannel,o=e.user,c=vs()._t,s=Xp(),l={skip:c("SKIP","skip")};return r.a.createElement(oh,null,n&&a.introduction_message&&r.a.createElement("div",null,a.introduction_message),r.a.createElement("div",null,t.question),n&&r.a.createElement("span",{onClick:function(){s.skipHuddle({channel_id:i.id,huddle_id:a.id,body:"HUDDLE_SKIP::".concat(JSON.stringify({huddle_id:a.id,author:{name:o.name,first_name:o.first_name,id:o.id,profile_image_link:o.profile_image_link},user_bot:a.user_bot}))})}},r.a.createElement("i",null,l.skip)))},sh=Object(E.a)(kb)(rh||(rh=Object(f.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    @media (min-width: 768px) {\n      max-height: 370px;\n    }\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    ",";\n    ","\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-editor.ql-blank::before {\n    ",";\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 1000;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"])),(function(e){return e.showFileIcon&&"padding-left: 30px"}),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"}),(function(e){return e.showFileIcon&&"left: 25px"})),lh=Object(E.a)(pn)(ih||(ih=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 4px;\n  height: calc(100% - 8px);\n  background: white;\n  border: 1px solid white;\n  border-radius: 4px;\n  width: 20px;\n  // padding: 9px;\n  cursor: pointer;\n  z-index: 9;\n  color: #cacaca;\n  transition: color 0.15s ease-in-out;\n\n  &:hover {\n    color: #7a1b8b;\n  }\n"]))),dh=function(e){var t=e.selectedEmoji,i=e.onClearEmoji,o=e.selectedGif,c=e.onClearGif,s=e.dropAction,d=e.onActive,u=Object(b.g)(),m=Object(l.useDispatch)(),p=Object(n.useRef)(),f=Ap().localizeDate,h=rm(),E=h.setSidebarSearch,O=h.create,g=h.fetchChannelLastReply,v=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),A=Object(l.useSelector)((function(e){return e.global.recipients})),j=Object(l.useSelector)((function(e){return e.session.user})),C=Object(l.useSelector)((function(e){return e.chat.editChatMessage})),T=Object(l.useSelector)((function(e){return e.chat.sendButtonClicked})),y=Object(l.useSelector)((function(e){return e.users.externalUsers})),S=Object(l.useSelector)((function(e){return e.chat.skipIds})),k=Object(l.useSelector)((function(e){return e.users.users})),w=y.filter((function(e){return 1===e.active})),N=Object(n.useState)(""),x=Object(_.a)(N,2),I=x[0],P=x[1],D=Object(n.useState)(""),L=Object(_.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)([]),G=Object(_.a)(U,2),H=G[0],B=G[1],W=Object(n.useState)([]),Y=Object(_.a)(W,2),V=Y[0],Q=Y[1],K=Object(n.useState)([]),z=Object(_.a)(K,2),q=z[0],J=z[1],Z=Object(n.useState)(!1),X=Object(_.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(null),ae=Object(_.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(null),oe=Object(_.a)(ie,2),ce=oe[0],se=oe[1],le=Object(n.useState)(null),de=Object(_.a)(le,2),ue=de[0],me=de[1],pe=ys(),fe=Object(_.a)(pe,1)[0],be=Op(),he=$p({selectedChannel:v}),Ee=he.huddle,_e=he.huddleActions,Oe=he.showQuestions,ge=he.question,ve=he.isFirstQuestion,Ae=he.editHuddle;Object(n.useEffect)((function(){Ae&&ge&&ue!==ge.answer_id&&F!==ge.original_answer&&(p.current.getEditor().clipboard.dangerouslyPasteHTML(0,ge.original_answer),p.current.getEditor().getText()===ge.original_answer&&(me(ge.answer_id),M(ge.original_answer)))}),[Ae,ge,ue,F]);var je=function(){if(!I.includes('<span class="image-uploading">')){if(Oe){if(ge.isLastQuestion){var t=S.find((function(e){return e.channel_id===v.id})),n={huddle_id:Ee.id,answers:Ee.questions.map((function(e){return{question_id:e.id,question:e.question,answer:e.isLastQuestion?F:e.answer}})),skip_message_ids:t?[t.id]:[]},r=Ee.closing_message?Ee.closing_message:"Huddle submitted";if(Ae){var i={message_id:Ae.huddle_log.message_id,huddle_log_id:Ae.huddle_log.id,answers:Ae.questions.map((function(e){return{id:e.answer_id,answer:e.isLastQuestion?p.current.getEditor().getText():e.answer}}))};_e.updateUnpublishedAnswers(i,(function(e,t){e||_e.clearHuddle()}))}else _e.createAnswer(n,(function(e,t){e?be.error("Error huddle"):be.success(r)}))}return Ae?ge.isLastQuestion||(_e.updateAnswer({channel_id:v.id,question_id:ge.id,answer:p.current.getEditor().getText()}),me(null)):_e.saveAnswer({channel_id:v.id,question_id:ge.id,answer:F}),void Ce()}var o=Math.floor(Date.now()/1e3),c=[],s=!1,l=a(40).generate(),d=v.members.map((function(e){return e.id}));if(H.ops&&H.ops.length>0){var u=H.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));(c=Object(Rt.a)(new Set(u))).includes(NaN)&&(c=d.length?Object(Rt.a)(new Set([].concat(Object(Rt.a)(c.filter((function(e){return!isNaN(e)}))),Object(Rt.a)(d)))):c.filter((function(e){return!isNaN(e)}))),H.ops.forEach((function(e){e.insert.image&&(s=!0)}))}if(""!==zt.a.trim(F)||0!==c.length||s){var b=document.createElement("div");b.innerHTML=I;for(var h=b.childNodes.length-1;h>=0;h--){if(""!==zt.a.trim(b.childNodes[h].innerText)||"<br>"!==b.childNodes[h].innerHTML){b.childNodes[h].innerHTML=zt.a.trim(b.childNodes[h].innerHTML);break}b.removeChild(b.childNodes[h])}var _={channel_id:v.id,body:b.innerHTML,mention_ids:"TOPIC"!==v.type?c.filter((function(e){return!w.some((function(t){return t.id===e}))})):c,file_ids:[],reference_id:l,reference_title:"DIRECT"===v.type?"".concat(j.first_name," in a direct message"):v.title,topic_id:v.is_shared?v.entity_id:null,is_shared:v.is_shared?v.entity_id:null};fe&&(fe.user?_.quote={id:fe.id,body:fe.body,user_id:fe.user.id,user:fe.user,files:fe.files}:_.quote={id:fe.id,body:fe.body,user_id:null,user:null,files:fe.files});var O={message:b.innerHTML,body:b.innerHTML,mention_ids:c,user:j,original_body:I,is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:o},updated_at:{timestamp:o},channel_id:v.id,reactions:[],id:l,reference_id:l,quote:fe?_.quote:null,unfurls:[],g_date:f(o,"YYYY-MM-DD")};if($||m(Hs(O)),$){var g=Object(R.a)(Object(R.a)({},_),{},{message_id:ne.id,reply_id:ne.id});fe&&(_.quote=fe),m(Ys(g)),ee(!1),re(null),null!==C&&m(Xs(null))}else m(Bs(_));fe&&m(nl(fe)),ce&&(m(ze({type:"channel",draft_id:ce})),m(function(e,t){return Pa("CLEAR_CHANNEL_DRAFT",e,t)}({channel_id:v.id})),se(null)),Ce(),e.onSendCallback(),E({value:""})}}},Ce=function(){if(M(""),P(""),B([]),p.current)try{p.current.getEditor().setContents([])}catch(e){console.log(e)}},Te=function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){if("PERSONAL_BOT"===v.type)return;var t="TOPIC"===v.type?w.map((function(e){return e.id})):[],a=[j.id].concat(Object(Rt.a)(v.members.map((function(e){return e.id}))),Object(Rt.a)(q),Object(Rt.a)(t)),n=e.filter((function(e){var t=!1;return a.forEach((function(a){a===parseInt(e)&&(t=!0)})),!t}));Q(n.length?n.map((function(e){return parseInt(e)})):[])}else J([]),Q([])},ye=function(e){if(38===e.keyCode&&e.target.classList.contains("ql-editor")&&""===e.target.innerText.trim()&&!e.target.contains(document.querySelector(".ql-editor .anchor-blot"))){e.preventDefault();var t=v.replies.sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp})).filter((function(e){return!e.is_deleted&&e.user&&e.user.id===j.id}))[0];if("undefined"!==typeof t){if(m(Xs(t)),t.quote&&t.quote.hasOwnProperty("id")){var a=Object(R.a)(Object(R.a)({},t.quote),{},{channel_id:t.channel_id});m(al(a))}}else g(v.id)}};Object(n.useEffect)((function(){p.current&&(window.innerWidth>620&&p.current.focus())}),[]);var Se=function(e){var t=[];if(e.clipboardData.items.length)for(var a=0;a<e.clipboardData.items.length;a++){var n=e.clipboardData.items[a];"file"===n.kind&&t.push(n.getAsFile(n.type))}t.length&&s(t),setTimeout((function(){var e=p.current.getEditor();p.current.focus();var t=e.getSelection().index;e.insertText(t," "),e.setSelection(t+1)}),100)},ke=Object(l.useSelector)((function(e){return e.global.modals}));Object(n.useEffect)((function(){if(!Object.keys(ke).length)return document.addEventListener("paste",Se,!1),function(){return document.removeEventListener("paste",Se,!1)}}),[Object.keys(ke).length,Se]),Object(n.useEffect)((function(){return v&&v.replies.length&&document.addEventListener("keydown",ye,!1),function(){return document.removeEventListener("keydown",ye,!1)}}),[v]),Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&Ce()};return $?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[$]),Object(n.useEffect)((function(){if(t){var e=p.current.getEditor();p.current.focus();var a=e.getSelection().index;e.insertText(a,t.native),e.setSelection(a+2),i()}}),[t]),Object(n.useEffect)((function(){if(o){var e=p.current.getEditor();p.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",o.images.downsized.url),e.setSelection(t+5),c()}}),[o]),Object(n.useEffect)((function(){T&&(m(tl(!1)),je())}),[T]);rd(Ce,I,F,H),ks(Ce,p),nd((function(e){null===e?se(null):(p.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.text),se(e.draft_id),P(e.text))}),"channel",I,F,ce);var we=ms({mode:"chat",callback:je,mentionOrientation:"top",quillRef:p,members:"external"===j.type?v.members.filter((function(e){return e.has_accepted})):Object.values(k).filter((function(e){return!!("external"===e.type&&v.members.some((function(t){return t.id===e.id}))||"internal"===e.type&&null!==e.role)})),prioMentionIds:v.members.filter((function(e){return e.has_accepted})).map((function(e){return e.id}))}).modules;return Object(n.useEffect)((function(){var e;C&&!$&&null===ne&&(e=C,p.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),P(e.body),re(e),ee(!0),e.quote&&e.quote.hasOwnProperty("id")&&m(al(Object(R.a)(Object(R.a)({},e.quote),{},{channel_id:e.channel_id})))),null===C&&$&&ne&&(fe&&m(nl(fe)),ee(!1),re(null),Ce(),null!==C&&m(Xs(null)))}),[C]),r.a.createElement("div",{className:"chat-input-wrapper"},Oe&&!$&&null===ce&&r.a.createElement(ch,{question:ge,huddle:Ee,isFirstQuestion:ve,selectedChannel:v,user:j}),V.length>0&&r.a.createElement(ns,{onAddUsers:function(e){if("DIRECT"===v.type){var t=a(40).generate(),n=Math.round(+new Date/1e3),r=[].concat(Object(Rt.a)(v.members),Object(Rt.a)(e)),i=r.map((function(e){return e.first_name})).join(", "),o={id:t,entity_id:0,type:"GROUP",title:i,code:t,is_archived:!1,is_pinned:!1,is_hidden:!1,is_muted:!1,total_unread:0,profile:null,selected:!0,inviter:null,hasMore:!1,skip:0,isFetching:!1,members:r,replies:[],created_at:{timestamp:n},updated_at:{timestamp:n},last_reply:null,reference_id:t},c=o,s=A.filter((function(e){return"USER"===e.type})).filter((function(e){return v.members.some((function(t){return t.id===e.type_id}))})).map((function(e){return e.id})),l={recipient_ids:[].concat(Object(Rt.a)(s),Object(Rt.a)(e.map((function(e){return e.type_id})))),title:i};O(l,(function(e,t){if(!e){var a=Object(R.a)(Object(R.a)({},o),{},{id:t.data.channel.id,old_id:c.id,code:t.data.code,members:t.data.channel.members?t.data.channel.members:o.members,profile:null,type:"GROUP",last_reply:null,replies:[],selected:!0,search:t.data.search});m(Ms(a)),m(ws(a)),u.push("/chat/".concat(t.data.code))}}))}else{var d={channel_id:v.id,recipient_ids:e.map((function(e){return e.type_id}))};m(pl(d,(function(t,a){t||a&&J([].concat(Object(Rt.a)(q),Object(Rt.a)(e.map((function(e){return e.id})))))}))),Q([])}},onDoNothing:function(e){J(e.map((function(e){return e.type_id}))),Q([])},userIds:V,type:"TOPIC"===v.type?"workspace":"chat",basedOnUserId:!0,userMentionOnly:!0}),r.a.createElement(sh,{className:"chat-input",modules:we,ref:p,onChange:function(e,t,a,n){if(null!==v){var r=n.getText(e);P(e),M(r),B(n.getContents()),""===r.trim()?d(!1):d(!0),n.getContents().ops&&n.getContents().ops.length&&Te(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.type_id}))),window.Echo.private(localStorage.getItem("slug")+".App.Channel.".concat(v.id)).whisper("typing",{user:{id:j.id,name:j.name,profile_image_link:j.profile_image_thumbnail_link?j.profile_image_thumbnail_link:j.profile_image_link,email:j.email},typing:!0,channel_id:v.id})}},editMode:$,showFileIcon:$&&C&&C.files.length>0}),$&&C&&C.files.length>0&&r.a.createElement(lh,{className:"close-button",icon:"file"}))},uh=a(22),mh=a(46),ph={option:function(e,t){return Object(R.a)(Object(R.a)({},e),{},{color:t.isSelected&&"#ffffff",backgroundColor:t.isSelected?"#7a1b8b":"#ffffff",cursor:"pointer",transition:"all 0.15s ease","&:hover":{backgroundColor:t.isSelected?"#7a1b8b":"#8C3B9B",color:"#ffffff"}})},control:function(e,t){return Object(R.a)(Object(R.a)({},e),{},{borderColor:t.isFocused?"#7a1b8b":"#cccccc",boxShadow:(t.isFocused,0),cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:t.isFocused?"#7a1b8b":"#cccccc"}})},menu:function(e){return Object(R.a)(Object(R.a)({},e),{},{zIndex:9999})}},fh={option:function(e,t){return Object(R.a)(Object(R.a)({},e),{},{color:t.isSelected&&"#000000",backgroundColor:t.isSelected?"#7a1b8b":"#000000",cursor:"pointer",transition:"all 0.15s ease","&:hover":{backgroundColor:t.isSelected?"#7a1b8b":"#000000",color:"#ffffff"}})},control:function(e,t){return Object(R.a)(Object(R.a)({},e),{},{borderColor:t.isFocused?"#7a1b8b":"#ffffff",boxShadow:(t.isFocused,0),backgroundColor:"#111417",cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:t.isFocused?"#7a1b8b":"#ffffff"}})},multiValue:function(e,t){return Object(R.a)(Object(R.a)({},e),{},{borderColor:(t.isFocused,"#000000"),boxShadow:(t.isFocused,0),backgroundColor:"#25282c",cursor:"pointer",transition:"all 0.15s ease","&:hover":{borderColor:(t.isFocused,"#fff")}})},multiValueLabel:function(e){return Object(R.a)(Object(R.a)({},e),{},{color:"#c7c7c7"})},menu:function(e){return Object(R.a)(Object(R.a)({},e),{},{backgroundColor:"#111417",zIndex:9999})},dropdownItem:function(e){return Object(R.a)(Object(R.a)({},e),{},{backgroundColor:"red"})}},bh=a(282);function hh(){var e=Object(f.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  color: #505050 !important;\n  max-width: 2rem;\n  max-height: 2rem;\n"]);return hh=function(){return e},e}function Eh(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: #deebff;\n  }\n  > div {\n    display: flex;\n    align-items: center;\n  }\n\n  .workspaces {\n    display: block;\n    font-size: 12px;\n    width: 100%;\n  }\n"]);return Eh=function(){return e},e}var _h=E.a.div(Eh()),Oh=Object(E.a)(kn)(hh()),gh=function(e){return r.a.createElement(_h,null,r.a.createElement(uh.f.Option,e,e.data&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oh,{className:"react-select-avatar",key:e.data.id,imageLink:e.data.profile_image_thumbnail_link?e.data.profile_image_thumbnail_link:e.data.profile_image_link,name:e.data.name,partialName:e.data.partial_name}),r.a.createElement("div",null,e.children,e.data.has_accepted&&"external"===e.data.type&&r.a.createElement("div",{className:"ml-1 badge badge-info"},e.data.dictionary&&e.data.dictionary.peopleExternal),!e.data.has_accepted&&"external"===e.data.type&&r.a.createElement("div",{className:"ml-1 badge badge-info"},e.data.dictionary&&e.data.dictionary.peopleInvited),e.data.workspaces&&e.data.workspaces.length&&r.a.createElement("span",{className:"workspaces"},e.data.workspaces&&e.data.workspaces.join(", "))))))},vh=function(e){var t=e.children,a=e.selectProps,n=Object(I.a)(e,["children","selectProps"]);return r.a.createElement("div",{onClick:function(){n.data.has_accepted||"string"!==typeof n.data.id||a.onEmailClick(n.data)},className:n.data.has_accepted||"string"!==typeof n.data.id?"has-accepted":"has-not-accepted"},r.a.createElement(uh.f.MultiValueLabel,n,t))},Ah=function(e){var t=e.children,a=(e.selectProps,Object(I.a)(e,["children","selectProps"])),n=t.map((function(e,t){return 0===t?Object(R.a)(Object(R.a)({},e),{},{props:Object(R.a)(Object(R.a)({},e.props),{},{children:a.data.first_name&&""!==a.data.first_name.trim()?a.data.first_name:a.data.email})}):e}));return r.a.createElement(uh.f.MultiValueContainer,a,n)},jh=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.isMulti,o=void 0===i||i,c=e.isClearable,s=void 0!==c&&c,l=e.creatable,d=void 0!==l&&l,u=Object(I.a)(e,["className","isMulti","isClearable","creatable"]),m=am().generalSettings.dark_mode;return d?r.a.createElement(bh.a,Object.assign({ref:t,className:"react-select-container ".concat(n),styles:"0"===m?ph:fh,isMulti:o,isClearable:s,components:{Option:gh,MultiValueLabel:vh}},u,{onCreateOption:e.onCreateOption,onEmailClick:e.onEmailClick})):r.a.createElement(mh.a,Object.assign({ref:t,className:"react-select-container ".concat(n),styles:"0"===m?ph:fh,isMulti:o,isClearable:s,components:{Option:gh,MultiValueContainer:Ah}},u))}));function Ch(){var e=Object(f.a)([""]);return Ch=function(){return e},e}function Th(){var e=Object(f.a)(["\n  .btn-cross {\n    position: absolute;\n    right: 45px;\n    opacity: 0;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n  .not-empty .btn-cross {\n    z-index: 9;\n    opacity: 1;\n  }\n"]);return Th=function(){return e},e}var yh=E.a.form(Th()),Sh=Object(E.a)(pn)(Ch()),kh=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,o=e.onChange,c=e.onClick,s=e.placeholder,l=void 0===s?"Search":s,d=e.value,u=void 0===d?"":d,m=e.onClickEmpty,p=e.closeButton,f=void 0!==p&&p,b=Object(I.a)(e,["className","onChange","onClick","placeholder","value","onClickEmpty","closeButton"]),h=Object(n.useRef)();return Object(n.useEffect)((function(){""!==u&&h.current.classList.add("not-empty"),""===u&&h.current.classList.remove("not-empty")}),[o]),r.a.createElement(yh,{className:"".concat(i)},r.a.createElement("div",{ref:h,className:"input-group"},r.a.createElement("input",Object.assign({ref:t,onChange:o,value:u,type:"text",className:"form-control",placeholder:l},b)),f&&r.a.createElement("button",{onClick:m,className:"btn-cross",type:"button"},r.a.createElement(Sh,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:c,className:"btn btn-outline-light",type:"button"},r.a.createElement("i",{className:"ti-search"})))))})),wh=r.a.memo(kh);function Nh(){var e=Object(f.a)(["\n  padding: 0 5px;\n  display: flex;\n  align-items: center;\n  ","\n"]);return Nh=function(){return e},e}function xh(){var e=Object(f.a)(["\n  svg {\n    width: 0.8rem;\n    height: 0.8rem;\n  }\n  .value-remove {\n    > div:first-child {\n      display: none;\n    }\n    > div:last-child:hover {\n      background-color: ",";\n      color: #fff;\n    }\n    display: flex;\n    align-items: center;\n    -webkit-box-align: center;\n    align-items: center;\n    border-radius: 2px;\n    display: flex;\n    box-sizing: border-box;\n    :hover {\n      // background-color: rgb(255, 189, 173);\n      // color: rgb(222, 53, 11);\n      background-color: ",";\n      color: #fff;\n    }\n  }\n  ","\n"]);return xh=function(){return e},e}function Rh(){var e=Object(f.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  color: #505050 !important;\n  max-width: 2rem;\n  max-height: 2rem;\n"]);return Rh=function(){return e},e}function Ih(){var e=Object(f.a)(["\n  width: 1rem;\n  height: 1rem;\n  margin-left: 5px;\n"]);return Ih=function(){return e},e}function Ph(){var e=Object(f.a)(["\n  min-width: 1.75rem;\n  min-height: 1.75rem;\n  margin: -2px 10px 0 0;\n  border: none;\n  width: 2rem;\n  height: 2rem;\n"]);return Ph=function(){return e},e}function Dh(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]);return Dh=function(){return e},e}var Lh=E.a.div(Dh()),Fh=Object(E.a)(pn)(Ph()),Mh=Object(E.a)(pn)(Ih()),Uh=Object(E.a)(kn)(Rh()),Gh=E.a.div(xh(),(function(e){return e.isPrivate?"#1E90FF":"#7a1b8b"}),(function(e){return e.isPrivate?"#1E90FF":"#7a1b8b"}),(function(e){return e.isPrivate&&"\n      > div {\n        background: #f44;\n        color: #fff;\n      }\n    "})),Hh=E.a.div(Nh(),(function(e){return e.isPrivate&&"\n      background: #f44;\n      color: #fff;\n    "})),Bh=function(e){return r.a.createElement(Lh,null,r.a.createElement(uh.f.Option,e,e.data&&r.a.createElement("span",{className:"d-flex justify-content-start align-items-center"},"user-avatar"===e.data.icon?r.a.createElement(Uh,{className:"react-select-avatar mr-2",key:e.data.id,imageLink:e.data.profile_image_thumbnail_link?e.data.profile_image_thumbnail_link:e.data.profile_image_link,name:e.data.name,partialName:e.data.partial_name}):e.data.icon&&r.a.createElement(Fh,{className:"mr-2",icon:e.data.icon?e.data.icon:"folder"}),e.children,1===e.data.is_lock&&r.a.createElement(Mh,{className:"ml-1",icon:"lock",strokeWidth:"2",width:"12"}),e.data.is_shared&&r.a.createElement(Mh,{className:"ml-1",icon:"eye",strokeWidth:"2",width:"12"}),e.data.huddle&&r.a.createElement(Mh,{className:"ml-1",icon:"cpu",strokeWidth:"2",width:"12"}))))},Wh=function(e){var t=e.children,a=(e.selectProps,Object(I.a)(e,["children","selectProps"]));return r.a.createElement(Gh,{isPrivate:1===a.data.is_lock},r.a.createElement(uh.f.MultiValueContainer,a,r.a.createElement(uh.f.MultiValueLabel,a,r.a.createElement(Hh,{isPrivate:1===a.data.is_lock},a.data.label,1===a.data.is_lock&&r.a.createElement(Mh,{className:"ml-1",icon:"lock",strokeWidth:"2",width:"12",height:"12"}),a.data.is_shared&&r.a.createElement(Mh,{className:"ml-1",icon:"eye",strokeWidth:"2",width:"12",height:"12"}))),r.a.createElement(uh.f.MultiValueRemove,Object.assign({},a,{innerProps:{className:"value-remove"}}),t)))},Yh=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.isMulti,o=void 0!==i&&i,c=e.isClearable,s=void 0!==c&&c,l=Object(I.a)(e,["className","isMulti","isClearable"]),d=am().generalSettings.dark_mode,u={Option:Bh};return o&&(u={Option:Bh,MultiValueContainer:Wh}),r.a.createElement(mh.a,Object.assign({ref:t,className:"react-select-container ".concat(n),styles:"0"===d?ph:fh,isMulti:o,isClearable:s,components:u},l))})),Vh=a(620);function Qh(){var e=Object(f.a)(["\n  left: 15px;\n  bottom: 65px;\n\n  .common-picker-btn {\n    text-align: left;\n  }\n"]);return Qh=function(){return e},e}function Kh(){var e=Object(f.a)(["\n  padding: 5px;\n  display: flex;\n  justify-content: flex-end;\n"]);return Kh=function(){return e},e}function zh(){var e=Object(f.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  border: 1px solid #afb8bd;\n  border-radius: 5px;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return zh=function(){return e},e}function qh(){var e=Object(f.a)(["\n  cursor: pointer;\n  border: 1px solid #afb8bd;\n  height: 1.5rem;\n  margin: -1px 8px;\n  width: 1.5rem;\n  padding: 5px;\n  border-radius: 8px;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  &:hover {\n    background: #afb8bd;\n    color: #ffffff;\n  }\n  &.feather-send {\n    border: 1px solid #7a1b8b;\n    background-color: #7a1b8b;\n    color: #fff;\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    &:hover {\n      background-color: #8c3b9b;\n    }\n  }\n"]);return qh=function(){return e},e}function Jh(){var e=Object(f.a)(["\n  height: ","px;\n\n  &.description-input {\n    // overflow: auto;\n    // overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: 0;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n"]);return Jh=function(){return e},e}function Zh(){var e=Object(f.a)(["\n  display: flex;\n  align-items: baseline;\n  margin: 20px 0;\n  position: relative;\n  label {\n    white-space: nowrap;\n    margin: 0 20px 0 0;\n    min-width: 109px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  .description-wrapper {\n    margin-bottom: 25px;\n    min-height: 133px;\n    &.is-invalid {\n      border-color: #dc3545;\n      padding-right: calc(1.5em + 0.75rem);\n      background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");\n      background-repeat: no-repeat;\n      background-position: right 0.5rem top 0.5rem;\n      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n\n      .action-wrapper {\n        margin-right: -32px;\n      }\n    }\n    &.is-valid {\n      border-color: #28a745;\n      padding-right: calc(1.5em + 0.75rem);\n      background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");\n      background-repeat: no-repeat;\n      background-position: right 0.5rem top 0.5rem;\n      background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);\n\n      .action-wrapper {\n        margin-right: -32px;\n      }\n    }\n  }\n  .invalid-feedback {\n    display: block;\n    top: 55px;\n    position: relative;\n    left: 0px;\n    @media (max-width: 620px) {\n      position: absolute;\n      right: 0;\n      bottom: -20px;\n      left: auto;\n      top: auto;\n      text-align: right;\n    }\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n  .mention {\n    color: #7a1b8b;\n  }\n"]);return Zh=function(){return e},e}var Xh=Object(E.a)(Ob.a)(Zh()),$h=Object(E.a)(kb)(Jh(),(function(e){return e.height})),eE=Object(E.a)(pn)(qh()),tE=E.a.div(zh()),aE=E.a.div(Kh()),nE=Object(E.a)(Pi)(Qh()),rE=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onChange,o=e.showFileButton,c=void 0!==o&&o,s=e.onOpenFileDialog,l=e.defaultValue,d=void 0===l?"":l,u=e.valid,m=void 0===u?null:u,p=e.feedback,f=void 0===p?"":p,b=e.members,h=void 0===b?[]:b,E=e.workspaces,O=void 0===E?[]:E,g=e.disableMention,v=void 0!==g&&g,A=e.disableBodyMention,j=void 0!==A&&A,C=e.mentionedUserIds,T=e.onAddUsers,y=e.onDoNothing,S=e.modal,k=void 0===S?"post":S,w=e.setInlineImages,N=void 0===w?null:w,x=e.setImageLoading,R=void 0===x?null:x,P=e.prioMentionIds,D=void 0===P?[]:P,L=Object(I.a)(e,["className","onChange","showFileButton","onOpenFileDialog","defaultValue","valid","feedback","members","workspaces","disableMention","disableBodyMention","mentionedUserIds","onAddUsers","onDoNothing","modal","setInlineImages","setImageLoading","prioMentionIds"]),F=vs()._t,M=Object(n.useRef)(),U=Object(n.useRef)(),G={description:F("POST.DESCRIPTION","Description")},H=Object(n.useState)(!1),B=Object(_.a)(H,2),W=B[0],Y=B[1],V=function(){Y(!W)},Q=ms({mode:"description",mentionOrientation:"top",quillRef:M,members:h,workspaces:O,disableMention:v,setInlineImages:N,setImageLoading:R,prioMentionIds:Object(Rt.a)(new Set(D))}).modules;return r.a.createElement(Xh,{className:"description-input ".concat(a)},r.a.createElement(Vh.a,{for:"firstMessage"},G.description),r.a.createElement(tE,{className:"description-wrapper ".concat(null===m?"":m?"is-valid":"is-invalid")},r.a.createElement($h,Object.assign({className:"description-input",modules:Q,ref:M,onChange:i,height:80,defaultValue:d},L)),C.length>0&&!j&&r.a.createElement(ns,{onAddUsers:T,onDoNothing:y,userIds:C,baseOnId:!1,type:k}),r.a.createElement(aE,{className:"action-wrapper"},r.a.createElement(eE,{onClick:V,icon:"smile"}),c&&r.a.createElement(eE,{onClick:s,icon:"paperclip"})),r.a.createElement(bE,{valid:m},f)),!0===W&&r.a.createElement(nE,{handleShowEmojiPicker:V,onSelectEmoji:function(e){var t=M.current.getEditor();M.current.focus();var a=t.getSelection().index;t.insertText(a,e.native),t.setSelection(a+2)},onSelectGif:function(e){console.log(e);var t=M.current.getEditor();M.current.focus();var a=t.getSelection().index;t.insertEmbed(a,"image",e.images.downsized.url),t.setSelection(a+5)},orientation:"top",ref:U}))}));function iE(){var e=Object(f.a)(["\n  cursor: pointer;\n\n  label {\n    cursor: pointer;\n  }\n"]);return iE=function(){return e},e}var oE,cE=E.a.div(iE()),sE=Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=e.type,o=void 0===i?"":i,c=e.checked,s=void 0!==c&&c,l=e.name,d=e.onClick,u=e.children,m=Object(I.a)(e,["className","type","checked","name","onClick","children"]),p="";return""!==o&&(p="custom-checkbox-".concat(o," ")),r.a.createElement(cE,{"data-name":l,className:"custom-control custom-checkbox ".concat(p).concat(n),onClick:d},r.a.createElement("input",Object.assign({ref:t,name:l,"data-name":l,type:"checkbox",className:"custom-control-input",checked:s,readOnly:!0},m)),r.a.createElement("label",{"data-name":l,className:"custom-control-label"},u))})),lE=r.a.memo(sE),dE=["className","type","checked","name","onClick","children","disabled"],uE=E.a.div(oE||(oE=Object(f.a)(["\n  position: relative;\n  min-height: 1rem;\n  input {\n    cursor: ",";\n  }\n  .cci {\n    z-index: 1;\n    position: absolute;\n    width: 18px;\n    height: 18px;\n    opacity: 0;\n  }\n  .ccl {\n    cursor: pointer;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n\n    span {\n      display: inline-block;\n      vertical-align: middle;\n      transform: translate3d(0, 0, 0);\n    }\n    span:first-child {\n      position: relative;\n      width: 18px;\n      height: 18px;\n      border-radius: 3px;\n      transform: scale(1);\n      vertical-align: middle;\n      border: 1px solid #9098a9;\n      transition: all 0.2s ease;\n\n      svg {\n        position: absolute;\n        // top: 3px;\n        // left: 2px;\n        fill: none;\n        stroke: #ffffff;\n        stroke-width: 2;\n        stroke-linecap: round;\n        stroke-linejoin: round;\n        stroke-dasharray: 16px;\n        stroke-dashoffset: 16px;\n        transition: all 0.3s ease;\n        transition-delay: 0.1s;\n        transform: translate3d(0, 0, 0);\n        width: 8px;\n        height: 9px;\n        top: 4px;\n        left: 4px;\n        stroke-width: 3;\n      }\n    }\n  }\n  .cci.cci-active + .ccl {\n    span:first-child {\n      background: #506eec;\n      border-color: #506eec;\n      animation: wave 0.4s ease;\n\n      svg {\n        stroke-dashoffset: 0;\n      }\n    }\n  }\n"])),(function(e){return e.disabled?"not-allowed":"pointer"})),mE=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.type,o=void 0===i?"":i,c=e.checked,s=void 0!==c&&c,l=e.name,d=e.onClick,u=e.children,m=e.disabled,p=void 0!==m&&m,f=Object(I.a)(e,dE),b=Object(n.useState)(s),h=Object(_.a)(b,2),E=h[0],O=h[1],g="";""!==o&&(g="custom-checkbox-".concat(o," "));var v={checkbox:Object(n.useRef)(null)};return Object(n.useEffect)((function(){E!==s&&O((function(e){return!e}))}),[s,E]),r.a.createElement(uE,{"data-name":l,className:"custom-control custom-checkbox ".concat(g).concat(a),onClick:function(e){e.preventDefault(),e.stopPropagation(),O((function(e){return!e})),setTimeout((function(){d(e)}),300)},disabled:p},r.a.createElement("input",Object.assign({ref:v.checkbox,name:l,"data-name":l,type:"checkbox",className:"cci ".concat(E?"cci-active":""),checked:E,readOnly:!0},f,{disabled:p})),r.a.createElement("label",{"data-name":l,className:"ccl"},r.a.createElement("span",null,r.a.createElement("svg",{width:"12px",height:"10px",viewBox:"0 0 12 10"},r.a.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))),r.a.createElement("span",null,u)))}));function pE(){var e=Object(f.a)([""]);return pE=function(){return e},e}var fE=E.a.div(pE()),bE=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.valid,i=e.children;return r.a.createElement(fE,{className:"input-feedback ".concat(n?"valid":"invalid","-feedback ").concat(a)},i)}));function hE(){var e=Object(f.a)(["\n  position: absolute;\n  top: 105%;\n  font-size: 0.8rem;\n"]);return hE=function(){return e},e}function EE(){var e=Object(f.a)(["\n  padding: 5px;\n  font-size: 0.8rem;\n  > span {\n    cursor: pointer;\n  }\n  span.active {\n    text-decoration: underline;\n  }\n"]);return EE=function(){return e},e}function _E(){var e=Object(f.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    @media (min-width: 768px) {\n      max-height: 370px;\n    }\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n\n    &:focus {\n      border: none;\n    }\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    "," .mention {\n      color: #7a1b8b;\n    }\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]);return _E=function(){return e},e}function OE(){var e=Object(f.a)([""]);return OE=function(){return e},e}var gE=E.a.div(OE()),vE=Object(E.a)(kb)(_E(),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"})),AE=E.a.div(EE()),jE=E.a.span(hE()),CE=Object(n.forwardRef)((function(e,t){var i=e.selectedEmoji,o=e.onClearEmoji,c=e.selectedGif,s=e.onClearGif,d=e.dropAction,u=e.sent,m=e.handleClearSent,p=e.post,f=e.parentId,b=e.commentActions,h=e.userMention,E=e.handleClearUserMention,O=e.commentId,g=e.members,v=e.workspace,A=e.onClosePicker,j=e.onActive,C=e.prioMentionIds,T=e.approvers,y=e.onClearApprovers,S=e.onSubmitCallback,k=void 0===S?function(){}:S,w=e.mainInput,N=(e.readOnly,e.onToggleCommentType),x=e.commentType,I=e.imageLoading,P=void 0===I?null:I,D=e.setImageLoading,L=void 0===D?null:D,F=Object(l.useDispatch)(),M=Object(n.useRef)(),U=Object(l.useSelector)((function(e){return e.session.user})),G=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),H=Object(l.useSelector)((function(e){return e.posts.editPostComment})),B=Object(l.useSelector)((function(e){return e.global.recipients})),W=Object(l.useSelector)((function(e){return e.users.users})),Y=Object(n.useState)(""),V=Object(_.a)(Y,2),Q=V[0],K=V[1],z=Object(n.useState)(""),q=Object(_.a)(z,2),J=q[0],Z=q[1],X=Object(n.useState)([]),$=Object(_.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)([]),ne=Object(_.a)(ae,2),re=ne[0],ie=ne[1],oe=Object(n.useState)([]),ce=Object(_.a)(oe,2),se=ce[0],le=ce[1],de=Object(n.useState)(!1),ue=Object(_.a)(de,2),me=ue[0],pe=ue[1],fe=Object(n.useState)(null),be=Object(_.a)(fe,2),he=be[0],Ee=be[1],_e=Object(n.useState)(null),Oe=Object(_.a)(_e,2),ge=Oe[0],ve=Oe[1],Ae=Object(n.useState)([]),je=Object(_.a)(Ae,2),Ce=je[0],Te=je[1],ye=dp(H&&p&&H.post_id===p.id&&H.quote?H.quote.id:O),Se=Object(_.a)(ye,1)[0],ke=Object(n.useState)([]),we=Object(_.a)(ke,2),Ne=we[0],xe=we[1],Re=Object(n.useState)({}),Ie=Object(_.a)(Re,2),Pe=Ie[0],De=Ie[1],Le=vs()._t,Fe={savingDraftLabel:Le("DRAFT.SAVING_DRAFT","Saving draft..."),draftSavedLabel:Le("DRAFT.SAVED","Draft saved"),addInternalNote:Le("POST_COMMENT.ADD_INTERNAL_NOTE","Add internal note"),replyToCustomer:Le("POST_COMMENT.REPLY_TO_CUSTOMER","Reply to customer")},Me=nf((function(e){e?(M.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.data.text),ve(e.id),K(e.data.text)):ve(null)}),"comment",Q,J,ge,O,p.id,f,ve),Ue=Me.removeDraft,Ge=Me.savingDraft,He=Me.draftSaved,Be=p.recipients.filter((function(e){return"DEPARTMENT"===e.type})).length>0,We=function(){if(!P){var t=Math.floor(Date.now()/1e3),n=[],r=!1,i=a(40).generate(),o=p.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat();if(ee.ops&&ee.ops.length>0){var c=ee.ops.filter((function(e){return e.insert.mention})).filter((function(e){return"internal"===e.insert.mention.type||"external"===e.insert.mention.type})).map((function(e){return Number(e.insert.mention.type_id)}));(n=Object(Rt.a)(new Set(c))).includes(NaN)&&(n=o.length?Object(Rt.a)(new Set([].concat(Object(Rt.a)(n.filter((function(e){return!isNaN(e)}))),Object(Rt.a)(o)))):n.filter((function(e){return!isNaN(e)}))),ee.ops.forEach((function(e){e.insert.image&&(r=!0)}))}if(""!==J.trim()||0!==n.length||r){var s={post_id:p.id,body:Q,mention_ids:n,file_ids:Ce.map((function(e){return e.id})),post_file_ids:[],reference_id:i,personalized_for_id:null,parent_id:f,code_data:{push_title:"".concat(U.name," replied in ").concat(p.title),post_id:p.id,post_title:p.title},approval_user_ids:T.find((function(e){return"all"===e.value}))?T.find((function(e){return"all"===e.value})).all_ids:T.map((function(e){return e.value})).filter((function(e){return p.author.id!==e})),shared_with_client:!x||"internal"!==x};if(s.quote=Se?{id:Se.id,body:Se.body,user_id:Se.author?Se.author.id:Se.user_id,user:Se.author?Se.author:Se.user,files:Se.files}:null,!me){var l={author:U,body:Q,clap_count:0,code:t,created_at:{timestamp:t},files:[],files_trashed:[],id:i,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:n,original_body:Q,parent_id:f,personalized_for_id:null,post_id:p.id,quote:Se,reference_id:i,ref_quote:Se,replies:{},todo_reminder:null,total_replies:0,total_unread_replies:0,updated_at:{timestamp:t},unfurls:[],user_clap_count:0,clap_user_ids:[],users_approval:[]};b.add(l)}me?(s=Object(R.a)(Object(R.a)({},s),{},{id:he.id,parent_id:he.parent_id,reference_id:null}),H&&H.users_approval.find((function(e){return null!==e.ip_address&&e.is_approved}))&&delete s.approval_user_ids,b.edit(s),pe(!1),Ee(null)):(e.isApprover&&(s.has_rejected=1),b.create(s,k)),Se&&b.clearQuote(O),ge&&(Ue(ge),ve(null)),Pe.hasOwnProperty("post_id")&&F(lu(Pe,(function(e,t){e||F(du(Pe))}))),y(),Ye(),A(),N(null)}}},Ye=function(){Z(""),K(""),te([]),Te([]),M.current&&M.current.getEditor().setContents([]),null!==H&&F(wd(null))},Ve=function(e){if(e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)})),xe(e),e.length){var t=p.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),a=B.filter((function(e){return"USER"===e.type&&p.author.id===e.type_id||!("USER"!==e.type||!t.some((function(t){return t===e.type_id})))})).map((function(e){return e.id})),n=p.recipients.map((function(e){return e.id})),r=Object(Rt.a)(new Set([].concat(Object(Rt.a)(n),Object(Rt.a)(a),Object(Rt.a)(se)))),i=e.filter((function(e){var t=!1;return r.forEach((function(a){a===parseInt(e)&&(t=!0)})),!t}));ie(i.length?i.map((function(e){return parseInt(e)})):[])}else le([]),ie([])};Object(n.useEffect)((function(){h&&M.current.getEditor().clipboard.dangerouslyPasteHTML(0,h)}),[h]),Object(n.useEffect)((function(){M.current&&M.current.focus();var e=function(e){var t=[];if(e.clipboardData.items.length)for(var a=0;a<e.clipboardData.items.length;a++){var n=e.clipboardData.items[a];"file"===n.kind&&t.push(n.getAsFile(n.type))}t.length&&(d(t),F(Id(f)))};return document.addEventListener("paste",e,!1),function(){return document.removeEventListener("paste",e,!1)}}),[]),Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&Ye()};return me?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[me]),Object(n.useEffect)((function(){var e;H&&!me&&null===he&&w&&H.post_id===p.id&&(e=H,M.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),K(e.body),Ee(e),pe(!0),e.quote&&b.addQuote(e.quote)),null===H&&me&&he&&Qe()}),[H]),Object(n.useEffect)((function(){if(i){var e=M.current.getEditor();M.current.focus();var t=e.getSelection().index;e.insertText(t,i.native),e.setSelection(t+2),o()}}),[i]),Object(n.useEffect)((function(){if(c){var e=M.current.getEditor();M.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",c.images.downsized.url),e.setSelection(t+5),s()}}),[c]),Object(n.useEffect)((function(){u&&(We(),m())}),[u,x]);var Qe=function(){pe(!1),Ee(null),Ye(),y()};rd(Ye,Q,J,ee,T.map((function(e){return e.value})).filter((function(e){return p.author.id!==e}))),ks(Ye,M);var Ke=ms({mode:"post_comment",callback:We,removeMention:function(){var e=[];p.hasOwnProperty("to_add")&&(e=p.to_add.filter((function(e){return!Ne.includes(e)})));var t={post_id:p.id,topic_id:v.id,remove_recipient_ids:e};F(uu(t))},mentionOrientation:"top",quillRef:M,members:"external"===U.type?g.filter((function(e){return e.id!==U.id})):Object.values(W).filter((function(e){return e.id!==U.id&&!!("external"===e.type&&C.some((function(t){return t===e.id}))||"internal"===e.type&&null!==e.role)})),workspaces:G||[],disableMention:!1,setInlineImages:Te,setImageLoading:L,prioMentionIds:Object(Rt.a)(new Set(C)),post:p}).modules,ze=p.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return r.a.createElement(gE,{className:"chat-input-wrapper",ref:t},ze&&p.shared_with_client&&"internal"===U.type&&r.a.createElement(AE,null,r.a.createElement("span",{className:x&&"internal"===x?"active":"",onClick:function(){return N("internal")}},Fe.addInternalNote)," ","/"," ",r.a.createElement("span",{className:x&&"external"===x?"active":"",onClick:function(){return N("external")}},Fe.replyToCustomer)),re.length>0&&!Be&&r.a.createElement(ns,{onAddUsers:function(e){var t=["USER","WORKSPACE","TOPIC"],a=B.filter((function(e){return t.includes(e.type)})).filter((function(t){return e.some((function(e){return e.id===t.id}))})),n={post_id:p.id,topic_id:v.id,recipient_ids:a.map((function(e){return e.id})),recipients:a};console.log(e,n);var r=p.recipients.map((function(e){return e.id}));De(n),le([].concat(Object(Rt.a)(r),Object(Rt.a)(se),Object(Rt.a)(e.map((function(e){return e.id}))))),ie([])},onDoNothing:function(e){le(e.map((function(e){return e.id}))),ie([])},userIds:re}),r.a.createElement(vE,{className:"chat-input",modules:Ke,ref:M,onChange:function(e,t,a,n){var r=n.getText(e);""===r.trim()&&h&&(E(),De({})),""===r.trim()&&me&&(pe(!1),Ee(null),De({}),null!==H&&F(wd(null))),""===r.trim()&&ge&&(Ue(ge),ve(null)),K(e),Z(r),te(n.getContents());var i=!1,o=!1;n.getContents().ops&&n.getContents().ops.length&&(i=n.getContents().ops.filter((function(e){return e.insert.mention})).length,o=n.getContents().ops.filter((function(e){return e.insert.image})).length,Ve(n.getContents().ops.filter((function(e){return!(!e.insert.mention||"external"===e.insert.mention.type)})).map((function(e){return e.insert.mention.id})))),""!==r.trim()||i||o?j(!0):j(!1)},editMode:me}),(Ge||He)&&r.a.createElement(jE,{className:"text-muted"},He?Fe.draftSavedLabel:Fe.savingDraftLabel))}));function TE(){var e=Object(f.a)(["\n    .form-control {\n        margin-bottom: 0 !important;\n        border-radius: 6px !important;\n    }\n            \n    .invalid-feedback {\n        text-align: left;\n    }\n"]);return TE=function(){return e},e}var yE,SE=E.a.div(TE()),kE=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.type,i=void 0===n?"text":n,o=e.name,c=e.onChange,s=e.defaultValue,l=void 0===s?"":s,d=e.isValid,u=void 0===d?null:d,m=e.feedback,p=void 0===m?null:m,f=Object(I.a)(e,["className","type","name","onChange","defaultValue","isValid","feedback"]);return r.a.createElement(SE,{className:"form-group ".concat(a),isValid:u},r.a.createElement(Ob.a,null,r.a.createElement(gb.a,Object.assign({name:o,onChange:c,defaultValue:l,type:i,valid:u,invalid:null===u?u:!u},f)),r.a.createElement(bE,{valid:u},p)))})),wE=["className","name","placeholder","onChange","defaultValue","isValid","feedback"],NE=E.a.div(yE||(yE=Object(f.a)(["\n  .form-control {\n    margin-bottom: 0 !important;\n  }\n\n  .input-group-text {\n    height: 36px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: ",";\n    border-left: none;\n    border-radius: 0 6px 6px 0 !important;\n  }\n\n  .invalid-feedback {\n    text-align: left;\n  }\n"])),(function(e){return null===e.isValid?"#e9ecef":e.isValid?"#28a745":"#dc3545"})),xE=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,o=e.name,c=void 0===o?"password":o,s=e.placeholder,l=void 0===s?"Password":s,d=e.onChange,u=e.defaultValue,m=void 0===u?"":u,p=e.isValid,f=void 0===p?null:p,b=e.feedback,h=void 0===b?null:b,E=Object(I.a)(e,wE),O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1];return r.a.createElement(NE,{className:"form-group ".concat(i),isValid:f},r.a.createElement(Ob.a,null,r.a.createElement(gb.a,Object.assign({innerRef:t,name:c,onChange:d,placeholder:l,defaultValue:m,type:v?"text":"password",valid:f,invalid:null===f?f:!f},E,{required:!0})),r.a.createElement(vb.a,{className:"btn-toggle",addonType:"append"},r.a.createElement(Ab.a,{className:"btn",onClick:function(){A((function(e){return!e}))}},r.a.createElement(pn,{icon:v?"eye-off":"eye"}))),r.a.createElement(bE,{valid:f},h)))})),RE=r.a.memo(xE);function IE(){var e=Object(f.a)(["\n  position: absolute;\n  top: 105%;\n  font-size: 0.8rem;\n"]);return IE=function(){return e},e}function PE(){var e=Object(f.a)(["\n  padding: 5px;\n  font-size: 0.8rem;\n  > span {\n    cursor: pointer;\n  }\n  span.active {\n    text-decoration: underline;\n  }\n"]);return PE=function(){return e},e}function DE(){var e=Object(f.a)(["\n  &.chat-input {\n    // border: 1px solid #afb8bd;\n    // border-radius: 5px;\n    max-height: 180px;\n    position: static;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n\n    &:focus {\n      border: none;\n    }\n  }\n  .ql-container {\n    position: static;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-editor {\n    padding: 11px 9px;\n    "," .mention {\n      color: #7a1b8b;\n    }\n    &:focus {\n      box-shadow: none;\n      border-color: rgba(122, 27, 139, 0.8);\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0px 2px 3px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          cursor: pointer;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]);return DE=function(){return e},e}function LE(){var e=Object(f.a)(["\n  &.chat-input-wrapper:focus-within {\n    border: none;\n  }\n"]);return LE=function(){return e},e}var FE=E.a.div(LE()),ME=Object(E.a)(kb)(DE(),(function(e){return e.editMode&&"> div {width:calc(100% - 15px);}"})),UE=E.a.div(PE()),GE=E.a.span(IE()),HE=Object(n.forwardRef)((function(e,t){var i=e.selectedEmoji,o=e.onClearEmoji,c=e.selectedGif,s=e.onClearGif,d=e.dropAction,u=e.sent,m=e.handleClearSent,p=e.post,f=e.parentId,b=e.commentActions,h=e.userMention,E=e.handleClearUserMention,O=e.commentId,g=e.onActive,v=e.onClosePicker,A=e.prioMentionIds,j=e.approvers,C=e.onClearApprovers,T=e.onSubmitCallback,y=e.mainInput,S=(e.readOnly,e.onToggleCommentType),k=e.commentType,w=e.imageLoading,N=void 0===w?null:w,x=e.setImageLoading,I=void 0===x?null:x,P=Object(l.useDispatch)(),D=Object(n.useRef)(),L=Object(l.useSelector)((function(e){return e.session.user})),F=Object(l.useSelector)((function(e){return e.posts.editPostComment})),M=Object(l.useSelector)((function(e){return e.users.users})),U=Object(l.useSelector)((function(e){return e.global.recipients})),G=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),H=Object(n.useState)(""),B=Object(_.a)(H,2),W=B[0],Y=B[1],V=Object(n.useState)(""),Q=Object(_.a)(V,2),K=Q[0],z=Q[1],q=Object(n.useState)([]),J=Object(_.a)(q,2),Z=J[0],X=J[1],$=Object(n.useState)([]),ee=Object(_.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(_.a)(ne,2),ie=re[0],oe=re[1],ce=Object(n.useState)(!1),se=Object(_.a)(ce,2),le=se[0],de=se[1],ue=Object(n.useState)(null),me=Object(_.a)(ue,2),pe=me[0],fe=me[1],be=Object(n.useState)(null),he=Object(_.a)(be,2),Ee=he[0],_e=he[1],Oe=Object(n.useState)([]),ge=Object(_.a)(Oe,2),ve=ge[0],Ae=ge[1],je=dp(F&&p&&F.post_id===p.id&&F.quote?F.quote.id:O),Ce=Object(_.a)(je,1)[0],Te=Object(n.useState)([]),ye=Object(_.a)(Te,2),Se=ye[0],ke=ye[1],we=Object(n.useState)({}),Ne=Object(_.a)(we,2),xe=Ne[0],Re=Ne[1],Ie=vs()._t,Pe={savingDraftLabel:Ie("DRAFT.SAVING_DRAFT","Saving draft..."),draftSavedLabel:Ie("DRAFT.SAVED","Draft saved"),addInternalNote:Ie("POST_COMMENT.ADD_INTERNAL_NOTE","Add internal note"),replyToCustomer:Ie("POST_COMMENT.REPLY_TO_CUSTOMER","Reply to customer")},De=nf((function(e){e?(D.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.data.text),_e(e.id),Y(e.data.text)):_e(null)}),"comment",W,K,Ee,O,p.id,f,_e),Le=De.removeDraft,Fe=De.savingDraft,Me=De.draftSaved,Ue=p.recipients.filter((function(e){return"DEPARTMENT"===e.type})).length>0,Ge=function(){if(!N){var t=Math.floor(Date.now()/1e3),n=[],r=!1,i=a(40).generate(),o=p.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat();if(Z.ops&&Z.ops.length>0){var c=Z.ops.filter((function(e){return e.insert.mention})).filter((function(e){return"internal"===e.insert.mention.type||"external"===e.insert.mention.type})).map((function(e){return Number(e.insert.mention.type_id)}));(n=Object(Rt.a)(new Set(c))).includes(NaN)&&(n=o.length?Object(Rt.a)(new Set([].concat(Object(Rt.a)(n.filter((function(e){return!isNaN(e)}))),Object(Rt.a)(o)))):n.filter((function(e){return!isNaN(e)}))),Z.ops.forEach((function(e){e.insert.image&&(r=!0)}))}if(""!==K.trim()||0!==n.length||r){var s={post_id:p.id,body:W,mention_ids:n,file_ids:ve.map((function(e){return e.id})),post_file_ids:[],reference_id:i,personalized_for_id:null,parent_id:f,code_data:{push_title:"".concat(L.name," replied in ").concat(p.title),post_id:p.id,post_title:p.title},approval_user_ids:j.find((function(e){return"all"===e.value}))?j.find((function(e){return"all"===e.value})).all_ids:j.map((function(e){return e.value})).filter((function(e){return p.author.id!==e})),shared_with_client:!k||"internal"!==k};if(s.quote=Ce?{id:Ce.id,body:Ce.body,user_id:Ce.author?Ce.author.id:Ce.user_id,user:Ce.author?Ce.author:Ce.user,files:Ce.files}:null,!le){var l={author:L,body:W,clap_count:0,code:t,created_at:{timestamp:t},files:[],files_trashed:[],id:i,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:n,original_body:W,parent_id:f,personalized_for_id:null,post_id:p.id,quote:Ce,reference_id:i,ref_quote:Ce,replies:{},total_replies:0,todo_reminder:null,total_unread_replies:0,updated_at:{timestamp:t},unfurls:[],user_clap_count:0,clap_user_ids:[],users_approval:[]};b.add(l)}le?(s=Object(R.a)(Object(R.a)({},s),{},{id:pe.id,parent_id:pe.parent_id,reference_id:null}),F&&F.users_approval.find((function(e){return null!==e.ip_address&&e.is_approved}))&&delete s.approval_user_ids,b.edit(s),de(!1),fe(null)):(e.isApprover&&(s.has_rejected=1),b.create(s,T)),Ce&&b.clearQuote(O),Ee&&(Le(Ee),_e(null)),xe.hasOwnProperty("post_id")&&P(lu(xe,(function(e,t){e||P(du(xe))}))),C(),He(),v(),S(null)}}},He=function(){z(""),Y(""),X([]),Ae([]),D.current&&D.current.getEditor().setContents([]),null!==F&&P(wd(null))},Be=function(e){if(e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)})),ke(e),e.length){var t=p.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),a=U.filter((function(e){return"USER"===e.type&&p.author.id===e.type_id||!("USER"!==e.type||!t.some((function(t){return t===e.type_id})))})).map((function(e){return e.id})),n=p.recipients.map((function(e){return e.id})),r=Object(Rt.a)(new Set([].concat(Object(Rt.a)(n),Object(Rt.a)(a),Object(Rt.a)(ie)))),i=e.filter((function(e){var t=!1;return r.forEach((function(a){a===parseInt(e)&&(t=!0)})),!t}));ae(i.length?i.map((function(e){return parseInt(e)})):[])}else oe([]),ae([])};Object(n.useEffect)((function(){h&&D.current.getEditor().clipboard.dangerouslyPasteHTML(0,h)}),[h]),Object(n.useEffect)((function(){D.current&&D.current.focus();var e=function(e){var t=[];if(e.clipboardData.items.length)for(var a=0;a<e.clipboardData.items.length;a++){var n=e.clipboardData.items[a];"file"===n.kind&&t.push(n.getAsFile(n.type))}t.length&&(d(t),P(Id(f)))};return document.addEventListener("paste",e,!1),function(){return document.removeEventListener("paste",e,!1)}}),[]),Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&He()};return le?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[le]),Object(n.useEffect)((function(){var e;F&&!le&&null===pe&&y&&F.post_id===p.id&&(e=F,D.current.getEditor().clipboard.dangerouslyPasteHTML(0,e.body),Y(e.body),fe(e),de(!0),e.quote&&b.addQuote(e.quote)),null===F&&le&&pe&&We()}),[F]),Object(n.useEffect)((function(){if(i){var e=D.current.getEditor();D.current.focus();var t=e.getSelection().index;e.insertText(t,i.native),e.setSelection(t+2),o()}}),[i]),Object(n.useEffect)((function(){if(c){var e=D.current.getEditor();D.current.focus();var t=e.getSelection().index;e.insertEmbed(t,"image",c.images.downsized.url),e.setSelection(t+5),s()}}),[c]),Object(n.useEffect)((function(){u&&(Ge(),m())}),[u,k]);var We=function(){de(!1),fe(null),He(),C()};rd(He,W,K,Z),ks(He,D);var Ye=ms({mode:"post_comment",callback:Ge,removeMention:function(){var e=[];p.hasOwnProperty("to_add")&&(e=p.to_add.filter((function(e){return!Se.includes(e)})));var t={post_id:p.id,remove_recipient_ids:e};P(uu(t))},mentionOrientation:"top",quillRef:D,members:Object.values(M).filter((function(e){return!!("external"===e.type&&A.some((function(t){return t===e.id}))||"internal"===e.type&&null!==e.role)})),workspaces:G||[],disableMention:!1,setInlineImages:Ae,setImageLoading:I,prioMentionIds:Object(Rt.a)(new Set(A)),post:p}).modules,Ve=p.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return r.a.createElement(FE,{className:"chat-input-wrapper",ref:t},Ve&&p.shared_with_client&&"internal"===L.type&&r.a.createElement(UE,null,r.a.createElement("span",{className:k&&"internal"===k?"active":"",onClick:function(){return S("internal")}},Pe.addInternalNote)," ","/"," ",r.a.createElement("span",{className:k&&"external"===k?"active":"",onClick:function(){return S("external")}},Pe.replyToCustomer)),te.length>0&&!Ue&&r.a.createElement(ns,{onAddUsers:function(e){var t=["USER","WORKSPACE","TOPIC"],a=U.filter((function(e){return t.includes(e.type)})).filter((function(t){return e.some((function(e){return e.id===t.id}))})),n={post_id:p.id,recipient_ids:a.map((function(e){return e.id})),recipients:a};console.log(e,n,ie);var r=p.recipients.map((function(e){return e.id}));Re(n),oe([].concat(Object(Rt.a)(r),Object(Rt.a)(ie),Object(Rt.a)(e.map((function(e){return e.id}))))),ae([])},onDoNothing:function(e){oe(e.map((function(e){return e.id}))),ae([])},userIds:te,basedOnId:!1}),r.a.createElement(ME,{className:"chat-input",modules:Ye,ref:D,onChange:function(e,t,a,n){var r=n.getText(e);""===r.trim()&&h&&(E(),Re({})),""===r.trim()&&le&&(de(!1),fe(null),Re({}),null!==F&&P(wd(null))),""===r.trim()&&Ee&&(Le(Ee),_e(null)),Y(e),z(r),X(n.getContents());var i=!1,o=!1;n.getContents().ops&&n.getContents().ops.length&&(i=n.getContents().ops.filter((function(e){return e.insert.mention})).length,o=n.getContents().ops.filter((function(e){return e.insert.image})).length,Be(n.getContents().ops.filter((function(e){return!(!e.insert.mention||"external"===e.insert.mention.type)})).map((function(e){return e.insert.mention.id})))),""!==r.trim()||i||o?g(!0):g(!1)},editMode:le}),(Fe||Me)&&r.a.createElement(GE,{className:"text-muted"},Me?Pe.draftSavedLabel:Pe.savingDraftLabel))}));function BE(){var e=Object(f.a)(["\n  min-width: 1rem;\n  min-height: 1rem;\n  margin: -2px 10px 0 0;\n  border: none;\n"]);return BE=function(){return e},e}function WE(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]);return WE=function(){return e},e}function YE(){var e=Object(f.a)(['\n  .dark & {\n    > div {\n      > div {\n        background-color: #25282c;\n        margin: 10px;\n        border-radius: 2px;\n        color: #fff;\n\n        > div {\n          color: #c7c7c7;\n\n          &[class$="indicatorContainer"] {\n            background: rgb(17, 20, 23);\n          }\n        }\n      }\n    }\n    [class$="menu"] {\n      > div {\n        > div {\n          > div {\n            //background: rgb(17, 20, 23);\n          }\n        }\n      }\n    }\n  }\n']);return YE=function(){return e},e}var VE=Object(E.a)(mh.a)(YE()),QE=E.a.div(WE()),KE=Object(E.a)(pn)(BE()),zE=function(e){return r.a.createElement(QE,null,r.a.createElement(uh.f.Option,e,e.data&&r.a.createElement(r.a.Fragment,null,r.a.createElement(KE,{icon:e.data.icon}),e.children)))};Object(n.forwardRef)((function(e,t){var a=e.className,n=void 0===a?"":a,i=Object(I.a)(e,["className"]),o=vs()._t,c={visibleAllInternal:o("POST.VISIBLE_ALL_INTERNAL","Visible to all internal members"),visibleAllWorkspace:o("POST.VISIBLE_ALL_WORKSPACE","Visible to all workspace members"),responsbileUsers:o("POST.VISIBLE_RESPONSIBLE_USERS","Visible to responsible users only")},s=am().generalSettings.dark_mode,l={Option:zE},d=[{icon:"unlock",value:!1,label:c.visibleAllWorkspace},{icon:"lock",value:!0,label:c.responsbileUsers}];return r.a.createElement(VE,Object.assign({ref:t,className:"react-select-container ".concat(n),styles:"0"===s?ph:fh,isMulti:!1,isClearable:!1,components:l,options:d},i))}));function qE(){var e=Object(f.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n  .input-group {\n    input {\n      margin-bottom: 0 !important;\n    }\n    \n    &.driff-name {\n      .input-group-text {\n        border-radius: 0 6px 6px 0;\n      }\n      .invalid-feedback {\n          text-align: left;\n      }\n    }\n  }\n"]);return qE=function(){return e},e}var JE=E.a.div(qE()),ZE=Object(b.k)((function(e){var t=e.className,a=void 0===t?"":t,i=e.setRegisteredDriff,o=Wa(),c=Object(b.g)(),s=Object(n.useState)(!1),l=Object(_.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)({valid:{},message:{}}),p=Object(_.a)(m,2),f=p[0],h=p[1],E={name:Object(n.useRef)(null)},O=Object(n.useState)({name:""}),g=Object(_.a)(O,2),v=g[0],A=g[1],j=Object(n.useCallback)((function(e){e.persist(),A((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value.trim()))})),h((function(t){return Object(R.a)(Object(R.a)({},t),{},{valid:Object(R.a)(Object(R.a)({},t.valid),{},Object(x.a)({},e.target.name,void 0)),message:Object(R.a)(Object(R.a)({},t.message),{},Object(x.a)({},e.target.name,void 0))})}))}),[A]);Object(n.useEffect)((function(){document.body.classList.add("form-membership"),E.name.current.focus()}),[]);var C=vs()._t,y={continue:C("REGISTER.CONTINUE","Continue"),registerNewDriff:C("REGISTER.REGISTER_NEW_DRIFF","Register new driff"),yourDriff:C("REGISTER.YOUR_DRIFF","Your driff")};return r.a.createElement(JE,{className:"driff-register-panel fadeIn form-wrapper ".concat(a)},r.a.createElement("div",{id:"logo"},r.a.createElement(fn,{icon:"driff-logo",width:"110",height:"80"})),r.a.createElement("h5",null,y.yourDriff),r.a.createElement(Eb.a,null,r.a.createElement(_b.a,null,r.a.createElement(Ob.a,{className:"driff-name"},r.a.createElement(gb.a,{ref:E.name,onChange:j,name:"name",type:"text",className:"form-control",placeholder:"driff",autoCapitalize:"none",valid:f.valid.name,invalid:"undefined"!==typeof f.valid.name?!f.valid.name:f.valid.name,required:!0,autoFocus:!0}),r.a.createElement(vb.a,{addonType:"append"},r.a.createElement(Ab.a,null,".","drevv.com")),r.a.createElement(bE,{valid:f.valid.name},f.message.name))),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),d||!function(){var e={},t={};return""===v.name&&(e.name=!1,t.name="Driff is required."),h({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}())return null;u(!0),o.check(v.name,(function(e,t){u(!1),!e&&t.data.status||(h({valid:{name:!1},message:{name:r.a.createElement(r.a.Fragment,null,"Driff ",r.a.createElement("b",null,v.name)," does not exist.")}}),E.name.current.focus()),t&&t.data.status&&(h({valid:{name:!0},message:{}}),T(window.location.hostname)||"localhost"===window.location.hostname?(o.storeName(v.name,!0),i(v.name),c.push("/login")):window.location.href="".concat("https://").concat(v.name,".").concat("drevv.com"))}))}},d&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",y.continue),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-outline-light btn-sm",onClick:function(){c.push("/driff-register")}},y.registerNewDriff)))})),XE=a(284),$E=a.n(XE);function e_(){var e=Object(f.a)(["\n  .form-control {\n    margin-bottom: 0 !important;\n  }\n  .invalid-feedback {\n    text-align: left;\n  }\n  .input-group-text {\n    height: 36px;\n  }\n"]);return e_=function(){return e},e}function t_(){var e=Object(f.a)(["\n  .btn {\n    .badge {\n      position: relative;\n      right: auto;\n      top: 0px;\n      left: 0.5rem;\n    }\n  }\n"]);return t_=function(){return e},e}var a_=E.a.form(t_()),n_=Object(E.a)(_b.a)(e_()),r_=r.a.memo((function(e){var t=e.dictionary,a=e.setRegisteredDriff,i=Object(b.g)(),o=Object(l.useDispatch)(),c=Wa(),s=Object(n.useState)(!1),d=Object(_.a)(s,2),u=d[0],m=d[1],p=Object(n.useState)(!1),f=Object(_.a)(p,2),h=f[0],E=f[1],O=Object(n.useState)("/login"),g=Object(_.a)(O,2),v=g[0],A=g[1],j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),C=j.REACT_APP_localDNSName,y=j.REACT_APP_apiProtocol,S={company_name:Object(n.useRef)(null),slug:Object(n.useRef)(null)},k=Object(n.useState)({}),w=Object(_.a)(k,2),N=w[0],I=w[1],P=Object(n.useState)({valid:{},message:{}}),D=Object(_.a)(P,2),L=D[0],F=D[1],M=Object(n.useCallback)((function(e){e.persist(),I((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))})),F((function(t){return Object(R.a)(Object(R.a)({},t),{},{valid:Object(R.a)(Object(R.a)({},t.valid),{},Object(x.a)({},e.target.name,void 0)),message:Object(R.a)(Object(R.a)({},t.message),{},Object(x.a)({},e.target.name,void 0))})}))}),[I]),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2?arguments[2]:void 0;I((function(t){return Object(R.a)(Object(R.a)({},t),{},{invitations:e})})),t(),a.closeModal()},G=Object(n.useCallback)((function(e){e.persist(),i.push("/login")}),[]),H=Object(n.useCallback)((function(e){e.preventDefault(),u||function(){var e={},a={};return"undefined"===typeof N.company_name||""===N.company_name?(e.company_name=!1,a.company_name=t.companyRequired):e.company_name=!0,"undefined"!==typeof N.slug&&""!==N.slug||(e.slug=!1,a.slug=t.driffRequired),"undefined"===typeof N.email||""===N.email?(e.email=!1,a.email=t.emailRequired):Mt.test(N.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),"undefined"===typeof N.user_name||""===N.user_name?(e.user_name=!1,a.user_name=t.yourNameRequired):e.user_name=!0,"undefined"===typeof N.password||""===N.password?(e.password=!1,a.password=t.passwordRequired):e.password=!0,F({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()&&(m(!0),c.check(N.slug,(function(e,n){n.data.status?(m(!1),F({valid:{slug:!1},message:{slug:t.driffTaken}})):c.create(N,(function(e,t){m(!1),t&&(E(!0),T(window.location.hostname)||"localhost"===window.location.hostname?(c.storeName(N.slug,!0),a(N.slug)):A("".concat(y).concat(N.slug,".").concat(C,"/login")))}))})))}),[N]);return Object(n.useEffect)((function(){S.company_name.current&&S.company_name.current.focus()}),[]),Object(n.useEffect)((function(){var e=document.querySelector("h5.title");e&&(e.innerHTML=h?t.thankYou:t.driffRegistration)}),[h]),r.a.createElement(a_,null,h?r.a.createElement(r.a.Fragment,null,"Your Driff"," ",r.a.createElement("b",null,r.a.createElement("a",{href:v},N.slug,".",C))," ","is ready.",r.a.createElement("hr",null),r.a.createElement("a",{href:v,className:"btn btn-outline-light btn-sm"},t.signIn),r.a.createElement($E.a,{recycle:!1})):r.a.createElement(r.a.Fragment,null,r.a.createElement(kE,{ref:S.company_name,onChange:M,name:"company_name",isValid:L.valid.company_name,feedback:L.message.company_name,placeholder:t.companyName,innerRef:S.company_name,readOnly:u,autoFocus:!0}),r.a.createElement(n_,null,r.a.createElement(Ob.a,{className:"driff-name"},r.a.createElement(gb.a,{ref:S.slug,onChange:M,name:"slug",type:"text",placeholder:"Driff",autocapitalize:"none",valid:L.valid.slug,invalid:"undefined"!==typeof L.valid.slug?!L.valid.slug:L.valid.slug,readOnly:u,required:!0,autoFocus:!0}),r.a.createElement(vb.a,{addonType:"append"},r.a.createElement(Ab.a,null,".",C)),r.a.createElement(bE,{valid:L.valid.slug},L.message.slug))),r.a.createElement(kE,{onChange:M,name:"email",isValid:L.valid.email,feedback:L.message.email,placeholder:t.yourEmail,type:"email",readOnly:u}),r.a.createElement(kE,{onChange:M,name:"user_name",isValid:L.valid.user_name,feedback:L.message.user_name,placeholder:t.yourName,innerRef:S.user_name,readOnly:u}),r.a.createElement(RE,{onChange:M,isValid:L.valid.password,feedback:L.message.password,readOnly:u,placeholder:t.password}),r.a.createElement("button",{className:"btn btn-outline-light btn-sm mb-4",onClick:function(e){if(e.preventDefault(),!u){var t={type:"driff_invite_users",invitations:"undefined"!==typeof N.invitations?N.invitations:[],onPrimaryAction:U};o(Ye(t))}}},"undefined"!==typeof N.invitations?r.a.createElement(r.a.Fragment,null,t.invitedUsers," ",r.a.createElement("div",{className:"mr-2 d-sm-inline d-none"},r.a.createElement("div",{className:"badge badge-info text-white"},N.invitations.length))):r.a.createElement(r.a.Fragment,null,"+ ",t.inviteUser)),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:H},u&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.register),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-outline-light btn-sm",onClick:G},t.login)))}));function i_(){var e=Object(f.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n\n  .btn-magic-link {\n    background-color: #7a1b8b;\n    color: #fff;\n  }\n"]);return i_=function(){return e},e}var o_=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),c_=o_.REACT_APP_apiProtocol,s_=o_.REACT_APP_localDNSName,l_=E.a.form(i_()),d_=r.a.memo((function(e){var t=e.dictionary,a=Object(b.g)(),i=Object(l.useDispatch)(),o=am().driffSettings,c=Ra(),s=wa(),d=s.persistor,m=(s.persistenceOn,{email:Object(n.useRef)(),password:Object(n.useRef)()}),p=Object(n.useState)({email:"",password:"",remember_me:!0}),f=Object(_.a)(p,2),h=f[0],E=f[1],O=Object(n.useState)({valid:{},message:{}}),g=Object(_.a)(O,2),C=g[0],T=g[1],y=Object(n.useCallback)((function(e){e.persist(),E((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.dataset.name,!t[e.target.dataset.name]))}))}),[E]),S=Object(n.useCallback)((function(e){e.persist(),E((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value.trim()))}))}),[E]);return Object(n.useEffect)((function(){localStorage.getItem("persist:root")&&(d.purge(),localStorage.removeItem("persist:root"))})),j("code")&&j("state")?r.a.createElement(l_,{className:"fadeIn"}):r.a.createElement(l_,{className:"fadeIn"},o.settings.password_login&&r.a.createElement(r.a.Fragment,null,r.a.createElement(kE,{onChange:S,name:"email",isValid:C.valid.email,feedback:C.message.email,placeholder:t.email,innerRef:m.email,type:"email",autoFocus:!0}),r.a.createElement(RE,{ref:m.password,onChange:S,isValid:C.valid.password,feedback:C.message.password,placeholder:t.password}),r.a.createElement("div",{className:"form-group d-flex justify-content-between"},r.a.createElement(lE,{name:"remember_me",checked:h.remember_me,onClick:y},t.rememberMe),r.a.createElement(u.b,{to:"/reset-password"},t.resetPassword)),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(a){if(a.preventDefault(),function(){var e={},a={};return""===h.email?(e.email=!1,a.email=t.emailRequired):Mt.test(h.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),""===h.password?(e.password=!1,a.password=t.passwordRequired):e.password=!0,T({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()){for(var n=function(){var e=new v.DeviceUUID,t="";return t=A.isMobile?"".concat(A.mobileVendor).concat(A.mobileModel,":").concat(A.osName).concat(A.osVersion):"".concat(A.osName).concat(A.osVersion),{serial:e.get(),device:t,browser:A.browserName}}(),r=Object(R.a)(Object(R.a)({},h),{},{serial:n.serial,device:n.device,browser:n.browser}),o=["first_name","slug","free_account","topic_id","topic_name","slug_from","invited_by","invited_by_id"],s=0;s<o.length;s++){var l=o[s],d=j(l)?j(l):"";d&&(r=Object(R.a)(Object(R.a)({},r),{},Object(x.a)({},l,d)))}i(He(!0)),c.checkCredentials(r,(function(t,a){if(t&&(i(He(!1)),T((function(e){return Object(R.a)(Object(R.a)({},e),{},{valid:{email:!1,password:!1}})})),m.email.current.focus()),a)if(a.data.message&&"need_verify_via_email"===a.data.message);else{var n="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/chat";c.login(a.data,n)}}))}else C.valid.email?C.valid.password||m.password.current.focus():m.email.current.focus()}},t.signIn)),(o.settings.google_login||o.settings.magic_link)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),r.a.createElement("ul",{className:"list-inline"},o.settings.magic_link&&r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{onClick:function(){a.push("/magic-link")},className:"btn btn-floating btn-magic-link"},r.a.createElement("i",{className:"fa fa-magic"}))),o.settings.google_login&&r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{onClick:c.googleLogin,className:"btn btn-floating btn-google"},r.a.createElement("i",{className:"fa fa-google"}))))),o.settings.sign_up&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.noAccount),r.a.createElement(u.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow)),r.a.createElement("hr",null),r.a.createElement("a",{className:"btn btn-outline-light btn-sm",href:"".concat(c_).concat(s_)},t.logDifferent))}));function u_(){var e=Object(f.a)(["\n  ",";\n"]);return u_=function(){return e},e}var m_=E.a.div(u_(),(function(e){return!1===e.isLoading?"display: none; opacity: 0;":"opacity: ".concat(e.opacity,";")})),p_=Object(n.forwardRef)((function(e,t){var a=wp().isActive,i=Object(n.useState)(1),o=Object(_.a)(i,2),c=o[0],s=o[1];return Object(n.useEffect)((function(){!1===a?s(.8):c>.3&&setTimeout((function(){s(c+-.01)}),10)}),[a,c]),r.a.createElement(m_,{className:"preloader",isLoading:a,opacity:c},r.a.createElement("div",{className:"preloader-icon"}))})),f_=r.a.memo(p_);function b_(){var e=Object(f.a)([""]);return b_=function(){return e},e}var h_=E.a.form(b_()),E_=r.a.memo((function(e){var t=e.dictionary,a=Ra(),i=Object(n.useState)(!1),o=Object(_.a)(i,2),c=o[0],s=o[1],l={email:Object(n.useRef)(null)},d=Object(n.useState)({email:""}),m=Object(_.a)(d,2),p=m[0],f=m[1],b=Object(n.useState)({valid:{},message:{}}),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useCallback)((function(e){e.persist(),f((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value.trim()))}))}),[f]);return Object(n.useEffect)((function(){l.email.current.focus()}),[]),r.a.createElement(h_,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(kE,{innerRef:l.email,isValid:E.valid.email,feedback:E.message.email,onChange:g,name:"email",type:"email",placeholder:t.email,required:!0,autoFocus:!0})),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),!function(e){var a={},n={};return""===p.email?(a.email=!1,n.email=t.emailRequired):Mt.test(p.email)?a.email=!0:(a.email=!1,n.email=t.invalidEmail),O({valid:a,message:n}),!Object.values(a).some((function(e){return!1===e}))}()||c)return!1;s(!0),a.requestPasswordReset(p.email,(function(e,a){e&&O({valid:{email:!1},message:{email:t.emailNotFound}}),s(!1)}))}},c&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.submit),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.takeADifferentAction),r.a.createElement(u.b,{className:"btn btn-sm btn-outline-light mr-1-1",to:"/register"},t.registerNow)," ",t.or," ",r.a.createElement(u.b,{className:"btn btn-sm btn-outline-light ml-1",to:"/login"},t.login))}));function __(){var e=Object(f.a)([""]);return __=function(){return e},e}var O_=E.a.form(__()),g_=r.a.memo((function(e){var t=e.dictionary,a=Object(b.g)(),i=Object(b.j)("/resetpassword/:token/:email"),o=Ra(),c=wp(),s={password:Object(n.useRef)()},l=Object(n.useState)({token:i.params.token,email:i.params.email,password:""}),d=Object(_.a)(l,2),m=d[0],p=d[1],f=Object(n.useState)({password:""}),h=Object(_.a)(f,2),E=(h[0],h[1]),O=Object(n.useState)({error:"",success:""}),g=Object(_.a)(O,2),v=(g[0],g[1]),A=function(e){p(Object(R.a)(Object(R.a)({},m),{},Object(x.a)({},e.target.name,e.target.value.trim())))};return r.a.createElement(O_,null,r.a.createElement(kE,{onChange:A,name:"email",type:"email",placeholder:"Email",value:m.email,readOnly:!0}),r.a.createElement(RE,{ref:s.password,onChange:A}),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),!function(){v({error:"",success:""});var e=!0,a={password:"",form:""};return""===m.password&&(e=!1,a=Object(R.a)(Object(R.a)({},a),{},{password:t.passwordRequired})),E(a),!0!==e&&""!==a.password&&s.password.current.focus(),e}())return!1;c.show(),o.updatePassword(m,(function(e,t){e&&(setTimeout((function(){a.push("/reset-password")}),5e3),c.hide())}))}},t.updatePassword),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{nClick:function(e){e.preventDefault(),o.googleLogin()},className:"btn btn-floating btn-google"},r.a.createElement("i",{className:"fa fa-google"})))),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.noAccount),r.a.createElement(u.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow))}));function v_(){var e=Object(f.a)([""]);return v_=function(){return e},e}var A_=E.a.form(v_()),j_=r.a.memo((function(e){var t=e.dictionary,a={first_name:Object(n.useRef)()},i=Ra(),o=Object(n.useState)({}),c=Object(_.a)(o,2),s=c[0],l=c[1],d=Object(n.useState)(!1),m=Object(_.a)(d,2),p=m[0],f=m[1],b=Object(n.useState)({valid:{},message:{}}),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useCallback)((function(e){e.persist(),l((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))})),O((function(t){return Object(R.a)(Object(R.a)({},t),{},{valid:Object(R.a)(Object(R.a)({},t.valid),{},Object(x.a)({},e.target.name,void 0)),message:Object(R.a)(Object(R.a)({},t.message),{},Object(x.a)({},e.target.name,void 0))})}))}),[l]),v=Object(n.useCallback)((function(e){e.preventDefault(),function(){var e={},a={};return"undefined"===typeof s.first_name||""===s.first_name?(e.first_name=!1,a.first_name=t.firstNameRequired):e.first_name=!0,"undefined"===typeof s.last_name||""===s.last_name?(e.last_name=!1,a.last_name=t.lastNameRequired):e.last_name=!0,"undefined"===typeof s.email||""===s.email?(e.email=!1,a.email=t.emailRequired):Mt.test(s.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),"undefined"===typeof s.password||""===s.password?(e.password=!1,a.password=t.passwordRequired):e.password=!0,O({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()&&!p&&(f(!0),i.register(s,(function(e,t){if(f(!1),e.field){var a={},n={};Object.keys(e.field).forEach((function(t){console.log(t),a[t]=!1,n[t]=e.field[t]})),O({valid:a,message:n})}})))}),[s]);return Object(n.useEffect)((function(){a.first_name.current.focus()}),[]),r.a.createElement(A_,null,r.a.createElement(kE,{onChange:g,name:"first_name",isValid:E.valid.first_name,feedback:E.message.first_name,placeholder:t.firstName,innerRef:a.first_name,autoFocus:!0}),r.a.createElement(kE,{onChange:g,name:"middle_name",isValid:E.valid.middle_name,feedback:E.message.middle_name,placeholder:t.middleName}),r.a.createElement(kE,{onChange:g,name:"last_name",isValid:E.valid.last_name,feedback:E.message.last_name,placeholder:t.lastName}),r.a.createElement(kE,{onChange:g,name:"email",isValid:E.valid.email,feedback:E.message.email,placeholder:t.email,type:"email"}),r.a.createElement(RE,{onChange:g,isValid:E.valid.password,feedback:E.message.password,placeholder:t.password}),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:v},p&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",t.register),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.haveAccount),r.a.createElement(u.b,{className:"btn btn-outline-light btn-sm",to:"/login"},t.signIn))}));function C_(){var e=Object(f.a)(["\n  .form-control {\n    margin-bottom: 0 !important;\n  }\n  .invalid-feedback {\n    text-align: left;\n  }\n  .input-group-text {\n    height: 36px;\n  }\n"]);return C_=function(){return e},e}function T_(){var e=Object(f.a)([""]);return T_=function(){return e},e}var y_,S_,k_,w_,N_,x_,R_,I_,P_,D_,L_,F_,M_=E.a.form(T_()),U_=E.a.div(C_()),G_=r.a.memo((function(e){var t=Object(b.g)(),a=Ra(),i=Op(),o=Object(n.useState)(!1),c=Object(_.a)(o,2),s=c[0],l=c[1],d={first_name:Object(n.useRef)()},u=Object(n.useState)({user_id:0,topic_id:0,first_name:"",middle_name:"",last_name:"",email:"",password:"",company_name:"",responsible_user_id:null}),m=Object(_.a)(u,2),p=m[0],f=m[1],h=Object(n.useState)({valid:{},message:{}}),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(!1),A=Object(_.a)(v,2),C=(A[0],A[1]),T=vs(),y=T._t,S=T.setLocale,k={magicLink:y("LOGIN.MAGIC_LINK","Magic link"),rememberMe:y("LOGIN.REMEMBER_ME","Remember me"),resetPassword:y("LOGIN.RESET_PASSWORD","Reset password"),signIn:y("LOGIN.SIGN_IN","Sign in"),loginSocialMedia:y("LOGIN.SOCIAL_MEDIA_LOGIN","Login with your social media account."),noAccount:y("LOGIN.NO_ACCOUNT","Don't have an account?"),registerNow:y("LOGIN.REGISTER_NOW","Register now!"),logDifferent:y("LOGIN.LOG_INTO_DIFFERENT_DRIFF","Log into different Driff"),registerNewDriff:y("DOMAIN.REGISTER_NEW_DRIFF","Register new Driff"),submit:y("RESET_PASSWORD.SUBMIT","Submit"),login:y("RESET_PASSWORD.LOGIN","Login!"),takeADifferentAction:y("RESET_PASSWORD.TAKE_A_DIFFERENT_ACTION","Take a different action."),updatePassword:y("UPDATE_PASSWORD.UPDATE_PASSWORD","Update password"),register:y("REGISTER.REGISTER","Register"),haveAccount:y("REGISTER.HAVE_ACCOUNT","Already have an account?"),password:y("REGISTER.PASSWORD","Password"),firstName:y("REGISTER.FIRST_NAME","First name"),middleName:y("REGISTER.MIDDLE_NAME","Middle name"),lastName:y("REGISTER.LAST_NAME","Last name"),accept:y("REGISTER.ACCEPT","Accept"),driffRegistration:y("DRIFF.DRIFF_REGISTRATION","Driff registration."),inviteUser:y("DRIFF.INVITE","Invite user"),companyName:y("DRIFF.COMPANY_NAME","Company name"),yourEmail:y("DRIFF.YOUR_EMAIL","Your email"),yourName:y("DRIFF.YOUR_NAME","Your name"),sendLink:y("MAGIC_LINK.SEND_LINK","Send link"),emailRequired:y("FEEDBACK.EMAIL_REQUIRED","Email is required."),passwordRequired:y("FEEDBACK.PASSWORD_REQUIRED","Password is required."),invalidEmail:y("FEEDBACK.INVALID_EMAIL","Invalid email format"),yourNameRequired:y("FEEDBACK.YOUR_NAME_REQUIRED","Your name is required."),firstNameRequired:y("FEEDBACK.FIRST_NAME_REQUIRED","First name is required."),lastNameRequired:y("FEEDBACK.LAST_NAME_REQUIRED","Last name is required."),companyRequired:y("FEEDBACK.COMPANY_REQUIRED","Company name is required."),driffRequired:y("FEEDBACK.DRIFF_REQUIRED","Driff is required."),driffTaken:y("FEEDBACK.DRIFF_TAKEN","Driff is already taken"),emailNotFound:y("FEEDBACK.EMAIL_NOT_FOUND","Email not found."),notAllowedForExternal:y("FEEDBACK.NOT_ALLOWED_FOR_EXTERNAL","Not allowed for external users."),thankYou:y("FEEDBACK.THANK_YOU","Thank you!"),or:y("RESET_PASSWORD.OR","or"),createAccount:y("LOGIN.CREATE_ACCOUNT","Create account"),authentication:y("LOGIN.AUTHENTICATION","Authentication"),email:y("LOGIN.EMAIL","Email"),invitedUsers:y("DRIFF.INVITED_USERS","Invited users"),acceptInvite:y("REGISTER.ACCEPT_INVITE","Accept your invitation to")},w=Object(n.useCallback)((function(e){e.persist(),f((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))})),g((function(t){return Object(R.a)(Object(R.a)({},t),{},{valid:Object(R.a)(Object(R.a)({},t.valid),{},Object(x.a)({},e.target.name,void 0)),message:Object(R.a)(Object(R.a)({},t.message),{},Object(x.a)({},e.target.name,void 0))})}))}),[]);return Object(n.useEffect)((function(){a.fetchStateCode(j("state_code"),(function(n,r){if(n&&t.push("/login"),r)if(r.data.auth_login){i.success("Activation successful!");var o="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/workspace/chat";a.storeLoginToken(r.data.auth_login),a.processBackendLogin(r.data.auth_login,o)}else f((function(e){return Object(R.a)(Object(R.a)({},e),{},{user_id:r.data.user.id,topic_id:r.data.topic.id,email:r.data.user.email,responsible_user_id:r.data.responsible_user_id,last_name:r.data.user.last_name,first_name:r.data.user.first_name,middle_name:r.data.user.middle_name,company_name:r.data.user.company?r.data.user.company:""})})),S(r.data.user.language,C(!0)),setTimeout((function(){C(!1)}),1e3),localStorage.setItem("i18n_lang",r.data.user.language),d.first_name.current.focus()}))}),[]),r.a.createElement(M_,null,r.a.createElement(U_,{className:"form-group"},r.a.createElement(kE,{innerRef:d.first_name,value:p.first_name,onChange:w,name:"first_name",placeholder:k.firstName,isValid:O.valid.first_name,feedback:O.message.first_name,required:!0,autoFocus:!0})),r.a.createElement(U_,{className:"form-group"},r.a.createElement(kE,{onChange:w,value:p.middle_name,name:"middle_name",type:"text",placeholder:k.middleName,isValid:O.valid.middle_name,feedback:O.message.middle_name})),r.a.createElement(U_,{className:"form-group"},r.a.createElement(kE,{onChange:w,value:p.last_name,name:"last_name",type:"text",placeholder:k.lastName,isValid:O.valid.last_name,feedback:O.message.last_name})),r.a.createElement(U_,{className:"form-group"},r.a.createElement(kE,{onChange:w,value:p.company_name,name:"company_name",placeholder:k.companyName})),r.a.createElement(U_,{className:"form-group text-left"},r.a.createElement(kE,{onChange:w,name:"email",type:"text",value:p.email,isValid:O.valid.email,feedback:O.message.email,readOnly:!0})),r.a.createElement(U_,{className:"form-group"},r.a.createElement(RE,{innerRef:d.password,name:"password",onChange:w,placeholder:k.password,isValid:O.valid.password,feedback:O.message.password,required:!0})),r.a.createElement("button",{className:"btn btn-primary btn-block mt-2",onClick:function(t){t.preventDefault(),function(){var e={},t={};return""===p.email?(e.email=!1,t.email=k.emailRequired):Mt.test(p.email)?e.email=!0:(e.email=!1,t.email=k.invalidEmail),""===p.first_name?(e.first_name=!1,t.first_name=k.firstNameRequired):e.first_name=!0,""!==p.middle_name&&(e.middle_name=!0),""===p.last_name?(e.last_name=!1,t.last_name=k.lastNameRequired):e.last_name=!0,""===p.password?(e.password=!1,t.password=k.passwordRequired):e.password=!0,g({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}()&&!s&&(l(!0),a.updateExternalUser(p,(function(t,n){if(l(!1),n){i.success("Login successful!"),localStorage.setItem("fromRegister",!0);var r="undefined"!==typeof e.location.state&&"undefined"!==typeof e.location.state.from&&"/logout"!==e.location.state.from?e.location.state.from.pathname+e.location.state.from.search:"/workspace/chat";a.login(n.data.auth_login,r)}})))}},s&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})," ",k.accept))})),H_=(a(588),E.a.div(y_||(y_=Object(f.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: auto;\n  align-items: center;\n  justify-content: space-evenly;\n  font-size: 2.5rem;\n  color: #fff;\n  z-index: 9999;\n  .fas {\n    cursor: pointer;\n  }\n  .cannot-preview {\n    min-width: 40vw;\n    min-height: 40vh;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: #cccccc;\n    text-align: center;\n    p {\n      font-size: 1.1rem;\n      line-height: 1.4rem;\n      margin: 2rem 0 1.5rem 0;\n    }\n    svg {\n      width: 48px;\n      height: 48px;\n    }\n  }\n  .iframe.file {\n    min-width: 80vw;\n    min-height: 80vh;\n  }\n"])))),B_=Object(E.a)(pn)(S_||(S_=Object(f.a)(["\n  position: relative;\n  top: -3px;\n  margin-right: 5px;\n"]))),W_=Object(E.a)(pn)(k_||(k_=Object(f.a)([""]))),Y_=E.a.p(w_||(w_=Object(f.a)(["\n  display: block;\n  text-align: left;\n  margin-bottom: 0;\n"]))),V_=E.a.span(N_||(N_=Object(f.a)(["\n  position: relative;\n  z-index: 1;\n  display: inline-block;\n  font-size: 16px;\n  font-weight: 500;\n  margin: 0;\n  color: #fff;\n\n  &:hover {\n    text-decoration: none;\n    color: #fff;\n    cursor: pointer;\n  }\n"]))),Q_=E.a.p(x_||(x_=Object(f.a)(["\n  width: 100%;\n  display: block;\n  font-size: 11px;\n  font-weight: normal;\n  text-align: left;\n  margin: 0;\n"]))),K_=E.a.div(R_||(R_=Object(f.a)(['\n  position: relative;\n  top: 0;\n  margin: 0 auto;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: rgba(24, 24, 26, 0.5);\n\n  :before {\n    background-color: rgba(0, 0, 0, 0.8);\n    opacity: 0.5;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    content: "";\n    display: block;\n    z-index: -1;\n  }\n\n  .iframe {\n    width: 100%;\n    height: 100%;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .mfp-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .mfp-content {\n    margin-top: -20px;\n\n    .mfp-close {\n      position: relative;\n      width: 22px;\n    }\n  }\n  .mfp-figure {\n    &::after {\n      top: 58px;\n      bottom: 0;\n    }\n  }\n  .mfp-bottom-bar {\n    margin-top: 0;\n  }\n']))),z_=E.a.div(I_||(I_=Object(f.a)(["\n  position: relative;\n"]))),q_=E.a.button(P_||(P_=Object(f.a)(["\n  &:focus {\n    outline: none;\n  }\n"]))),J_=E.a.button(D_||(D_=Object(f.a)(["\n  opacity: ",";\n  visibility: ",";\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.show?"1":"0"}),(function(e){return e.show?"visible":"hidden"})),Z_=E.a.figure(L_||(L_=Object(f.a)(["\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0 auto;\n  img {\n    max-width: 100%;\n    max-height: 80vh;\n  }\n"]))),X_=E.a.div(F_||(F_=Object(f.a)(["\n  text-align: center;\n\n  .spinner-border {\n    border-width: 3px;\n    padding: 10px;\n    margin: 5px;\n  }\n  .file {\n    margin: 0 auto;\n    transition: all 0.5s ease;\n    opacity: 1;\n    max-height: 80vh;\n    max-width: 100%;\n\n    &:not([src]) {\n      opacity: 0;\n      max-height: 0;\n    }\n    &[src] {\n      ","\n    }\n\n    &.file-pdf {\n      &:not([data]) {\n        opacity: 0;\n        max-height: 0;\n      }\n      &[data] {\n        ","\n      }\n    }\n  }\n"])),(function(e){return e.isLoaded?"\n        opacity: 1;\n        max-height: 80vh;      \n      ":"\n        opacity: 0;\n        max-height: 0;\n      "}),(function(e){return e.isLoaded?"\n          max-width: 1060px;\n          max-height: 100%;\n          opacity: 1;\n        ":"\n          opacity: 0;\n          max-height: 0;\n        "})),$_=function(e){var t=e.className,i=void 0===t?"":t,o=e.file,c=e.setFiles,s=e.files,d=e.viewFiles,u=Object(l.useDispatch)(),m=qp(),p=pp(),f=p.fileBlobs,b=p.actions.setFileSrc,h=Object(n.useState)(!1),E=Object(_.a)(h,2),O=E[0],g=E[1],v={},A=JSON.parse(localStorage.getItem("userAuthToken"));Object(n.useEffect)((function(){!f[o.id]&&A?(g(!1),fetch(o.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(A.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);c(s.map((function(e){return e.id===o.id?Object(R.a)(Object(R.a)({},e),{},{imgSrc:t}):e}))),b({id:o.id,src:t},(function(){g(!0)}))}),(function(e){console.log(e,"error")}))):g(!0)}),[o]);var j=o.type.toLowerCase();return j.includes("video")?r.a.createElement(X_,{isLoaded:O,key:o.id,"data-index":o.id,className:"file-item mfp-img ".concat(i)},O?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"d-none",src:a(171),alt:"File not found."}),r.a.createElement("video",{className:"file opacity-0","data-index":o.id,"data-attempt":0,ref:function(e){return v[o.id]=e},controls:!0,playsInline:!0,key:o.id,autoPlay:!1,onLoadStart:function(e){e.currentTarget.classList.remove("d-none"),e.currentTarget.removeAttribute("height")},onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(U({isDNS:!0}),"/file-view-attempt/").concat(o.file_id,"/").concat(localStorage.getItem("atoken"))):(document.querySelector('.file-item[data-index="'.concat(e.currentTarget.dataset.index,'"] img')).classList.remove("d-none"),document.querySelector('.file-item[data-index="'.concat(e.currentTarget.dataset.index,'"] video')).classList.add("d-none"))},src:f[o.id]})):r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})):"image"===j?r.a.createElement(X_,{isLoaded:O,key:o.id,"data-index":o.id,className:"file-item mfp-img ".concat(i)},O?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"file","data-index":o.id,"data-attempt":0,onError:function(e){"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(U({isDNS:!0}),"/file-view-attempt/").concat(o.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=a(171))},ref:function(e){return v[o.id]=e},key:o.id,src:f[o.id],alt:o.filename?o.filename:o.search})):r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})):"pdf"===j?r.a.createElement(X_,{isLoaded:O,key:o.id,"data-index":o.id,className:"file-item mfp-img ".concat(i)},O?r.a.createElement(r.a.Fragment,null,r.a.createElement("object",{className:"file file-pdf",data:f[o.id],width:.9*m.width,height:m.height-122,onLoad:function(e){}},r.a.createElement("embed",{src:f[o.id],width:"600",height:"400"}))):r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})):r.a.createElement(X_,{isLoaded:O,key:o.id,"data-index":o.id,className:"file-item mfp-img cannot-preview ".concat(i)},r.a.createElement(W_,{icon:"eye-off"}),r.a.createElement("p",null,o.search?o.search:o.filename,"We can't preview this file type. ",r.a.createElement("br",null),"Try downloading the file to view it."),r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return function(e,t){if(t.remove_on_download){var a={file_id:t.file_id};d.topic_id&&(a=Object(R.a)(Object(R.a)({},a),{},{topic_id:d.topic_id})),u(wc(a))}e.preventDefault(),window.open(t.download_link,"_self").blur(),window.focus()}(e,o)}},"Download ",o.search))},eO=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Object(n.useRef)(),o=Object(l.useDispatch)(),c=Object(l.useSelector)((function(e){return e.files.channelFiles})),s=Object(l.useSelector)((function(e){return e.files.viewFiles})),d=Object(l.useSelector)((function(e){return e.files.workspaceFiles})),u=Ap().localizeDate,m=Object(n.useState)(0),p=Object(_.a)(m,2),f=p[0],b=p[1],h=Object(n.useState)([]),E=Object(_.a)(h,2),O=E[0],g=E[1],v=function(){var e=O.length;b(e-1===f?0:f+1)},A=function(){var e=O.length;b(0===f?e-1:f-1)},j=function(e){e.preventDefault(),e.stopPropagation(),o(Fi(null))};Object(n.useEffect)((function(){if(Object.keys(c).length&&c.hasOwnProperty(s.channel_id))g(c[s.channel_id]),c[s.channel_id].forEach((function(e,t){e.file_id===s.file_id&&b(t)}));else if(Object.keys(d).length&&d.hasOwnProperty(s.workspace_id)){var e=Object.values(d[s.workspace_id].files);s.hasOwnProperty("files")&&(e=s.files),g(e),b(e.findIndex((function(e){return e.id===s.file_id})))}else s.files&&s.files.length&&(g(s.files),b(s.files.findIndex((function(e){return e.file_id===s.file_id}))))}),[]),Object(n.useEffect)((function(){if(i.current){var e=function(e){switch(e.keyCode){case 27:j(e);break;case 39:v();break;case 37:A();break;default:return null}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}),[i]),Ka(i,(function(){o(Fi(null))}),!0);var C=O[f];if(0!==O.length&&null!==f&&"undefined"!==typeof C)return r.a.createElement(H_,{className:"fileviewer-container ".concat(a),"data-file-index":f},r.a.createElement(K_,{className:"iframe-img-container"},r.a.createElement("div",{className:"mfp-container mfp-s-ready mfp-image-holder"},r.a.createElement("div",{ref:i},r.a.createElement("div",{className:"mfp-content"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-start"},r.a.createElement(z_,null,r.a.createElement(Y_,null,r.a.createElement(V_,{onClick:function(e){return function(e,t){if(t.remove_on_download){var a={file_id:t.file_id};s.topic_id&&(a=Object(R.a)(Object(R.a)({},a),{},{topic_id:s.topic_id})),o(wc(a))}e.preventDefault(),window.open(t.download_link,"_self").blur(),window.focus()}(e,C)}},r.a.createElement(B_,{icon:"download"})," ",C.filename?C.filename:C.search)),C.created_at&&C.created_at.timestamp&&r.a.createElement(Q_,null,u(C.created_at.timestamp)," \u25cf ",C.type.toLowerCase())),r.a.createElement(q_,{onClick:function(e){return j(e)},title:"Close (Esc)",type:"button",className:"mfp-close"},"\xd7")),r.a.createElement("div",{className:"mfp-figure"},r.a.createElement(Z_,null,r.a.createElement($_,{files:O,file:O[f],setFiles:g,viewFiles:s}),r.a.createElement("figcaption",null,r.a.createElement("div",{className:"mfp-bottom-bar"},r.a.createElement("div",{className:"mfp-title"}),r.a.createElement("div",{className:"mfp-counter"},"".concat(f+1," of ").concat(O.length))))))),r.a.createElement("div",{className:"mfp-preloader"},"Loading..."),r.a.createElement(J_,{show:O.length>1,onClick:function(e){return A()},title:"Previous (Left arrow key)",type:"button",className:"mfp-arrow mfp-arrow-left mfp-prevent-close"}),r.a.createElement(J_,{show:O.length>1,onClick:function(e){return v()},title:"Next (Right arrow key)",type:"button",className:"mfp-arrow mfp-arrow-right mfp-prevent-close"})))))})),tO=a(632),aO=a(625),nO=a(626),rO=a(627),iO=r.a.memo((function(e){var t=e.data,a=t.submitText,i=t.cancelText,o=t.headerText,c=t.bodyText,s=t.type,d=t.size,u=void 0===d?"m":d,m=e.data.actions.onSubmit,p=Object(l.useDispatch)(),f=Object(n.useState)(!0),b=Object(_.a)(f,2),h=b[0],E=b[1],O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1],j=function(){E(!h),p(Ve({type:s}))},C=null;return r.a.createElement(tO.a,{isOpen:h,toggle:j,size:u,centered:!0},r.a.createElement(Ig,{toggle:j},o),r.a.createElement(aO.a,null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:c}}),e.data.generalConditionText&&r.a.createElement(pn,{className:"ml-2",icon:"help-circle",width:16,height:16,onMouseEnter:function(){A(!0),clearTimeout(C)}}),v&&r.a.createElement("div",{onMouseLeave:function(){C=setTimeout((function(){A(!1)}),600)}},e.data.generalConditionText)),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:j},i),r.a.createElement(rO.a,{color:"primary",onClick:function(){j(),m()}},a)," "))}));a(596);function oO(){var e=Object(f.a)(["\n  position: absolute;\n  top: -2px;\n  right: 15px;\n  background-color: unset;\n  width: 1rem;\n  height: 1rem;\n  padding: 0;\n  z-index: 1;\n"]);return oO=function(){return e},e}function cO(){var e=Object(f.a)(["\n  color: #ffffff !important;\n  height: 2.7rem;\n  width: 2.7rem;\n  &.feather-home {\n    background: #7a1b8b;\n    padding: 6px 0;\n  }\n  .chat-header-icon-left & {\n    height: 28px;\n    width: 28px;\n  }\n"]);return cO=function(){return e},e}function sO(){var e=Object(f.a)(["\n  position: relative;\n  line-height: 0;\n  > span {\n    font-size: 13px;\n    background-color: ",";\n    color: #fff;\n    display: inline-flex;\n    padding: 5px;\n    border-radius: 100%;\n    width: 2.7rem;\n    height: 2.7rem;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n  }\n  > svg {\n    padding: 6px;\n    background-color: ",";\n    border-radius: 50%;\n    &.dark {\n      background-color: ",";\n    }\n    &.feather-eye,\n    &.feather-eye-off {\n      padding: 0;\n      background-color: #fff;\n      border: 2px solid #fff;\n      color: #7a1b8b;\n      .dark & {\n        background-color: #191c20;\n        color: #fff;\n        border: 2px solid #191c20;\n      }\n    }\n  }\n  .chat-header-icon-left & {\n    span {\n      width: 28px;\n      height: 28px;\n    }\n  }\n"]);return sO=function(){return e},e}var lO=E.a.div(sO(),(function(e){return e.iconColor?e.iconColor:"#fff"}),(function(e){return e.iconColor,e.iconColor}),(function(e){return e.iconColor,e.iconColor})),dO=Object(E.a)(pn)(cO()),uO=Object(E.a)(pn)(oO()),mO=function(e){var t=e.replace(/\s/g,"");if("undefined"===typeof t)return"";for(var a=0,n=0;n<t.length;n++)a=t.charCodeAt(n)+((a<<5)-a);return"hsla(".concat(a%360,", ").concat(50,"%, ").concat(40,"%, 0.8)")},pO=function(e){var t=e.className,a=void 0===t?"":t,n=e.channel,i=e.children,o=void 0===i?null:i,c=e.onSelectChannel,s=void 0===c?null:c,d=e.showSlider,u=void 0===d||d,m=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),p=n.title?n.title.toLowerCase():"";return r.a.createElement(lO,{className:"pr-3 ".concat(a),type:n.type,iconColor:mO(p),onClick:s},n.profile&&n.members.length>=1&&"DIRECT"===n.type&&r.a.createElement(kn,{imageLink:n.profile.profile_image_thumbnail_link?n.profile.profile_image_thumbnail_link:n.profile.profile_image_link,userId:n.profile.id,id:n.profile.id,name:n.profile.name,partialName:n.profile.partial_name,type:"USER",showSlider:u,onClick:s}),"GROUP"===n.type&&(n.icon_link?r.a.createElement(kn,{forceThumbnail:!1,type:n.type,imageLink:n.icon_link,id:"ws_".concat(n.id),name:n.title,noDefaultClick:!1,showSlider:u,onClick:s}):r.a.createElement(dO,{icon:"users",alt:n.title})),"COMPANY"===n.type&&r.a.createElement(dO,{icon:"home",alt:n.title}),"POST"===n.type&&r.a.createElement(dO,{icon:"users",alt:n.title}),"PERSONAL_BOT"===n.type&&r.a.createElement(dO,{icon:"user",alt:n.title}),"TOPIC"===n.type&&r.a.createElement(kn,{forceThumbnail:!1,type:n.type,imageLink:n.icon_link,id:"ws_".concat(n.id),name:n.title,noDefaultClick:!1,showSlider:u,onClick:s}),n.team&&"TOPIC"===n.type&&m.hasOwnProperty(n.entity_id)&&m[n.entity_id].is_shared&&r.a.createElement(uO,{icon:"eye-off"}),!n.team&&"TOPIC"===n.type&&m.hasOwnProperty(n.entity_id)&&m[n.entity_id].is_shared&&r.a.createElement(uO,{icon:"eye"}),o)};function fO(){var e=Object(f.a)(["\n  margin: 0 0 1.5rem !important;\n"]);return fO=function(){return e},e}function bO(){var e=Object(f.a)(["\n  justify-content: space-between;\n  .chosen-channel-title {\n    color: #7a1b8b;\n    font-weight: 600;\n  }\n"]);return bO=function(){return e},e}function hO(){var e=Object(f.a)(["\n  // width: 30px;\n  // height: 30px;\n  // min-width: 30px;\n"]);return hO=function(){return e},e}function EO(){var e=Object(f.a)(["\n  padding: 5px 0;\n  color: ",";\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  font-weight: ",";\n  :hover {\n    color: #972c86;\n    font-weight: 600;\n    .channel-icon {\n      border: ",";\n    }\n  }\n  .channel-icon {\n    border: ",";\n  }\n"]);return EO=function(){return e},e}function _O(){var e=Object(f.a)(["\n  label {\n    margin-top: 0.5rem;\n    font-weight: 600;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    height: 300px;\n    max-height: 300px;\n    overflow: auto;\n  }\n"]);return _O=function(){return e},e}function OO(){var e=Object(f.a)(["\n  padding: 10px;\n"]);return OO=function(){return e},e}function gO(){var e=Object(f.a)(["\n  cursor: pointer;\n  cursor: hand;\n  border: 1px solid #afb8bd;\n  height: 38px;\n  margin: -1px 8px;\n  width: 40px;\n  padding: 10px;\n  border-radius: 8px;\n\n  // &.feather-send {\n  //     border: 1px solid #7a1b8b;\n  //     background-color: #7a1b8b;\n  //     color: #fff;\n  // }\n"]);return gO=function(){return e},e}var vO=Object(E.a)(pn)(gO()),AO=E.a.div(OO()),jO=E.a.div(_O()),CO=E.a.li(EO(),(function(e){return e.chosen?"#972c86":"#676767"}),(function(e){return e.chosen?"600":"500"}),(function(e){return e.chosen?"2px solid #972c86":"1px solid #972c86"}),(function(e){return e.chosen?"2px solid #972c86":"1px solid #ddd"})),TO=Object(E.a)(pO)(hO()),yO=Object(E.a)(nO.a)(bO()),SO=Object(E.a)(wh)(fO()),kO=r.a.memo((function(e){var t=e.data,i=t.type,o=t.message,c=Object(b.g)(),s=Object(l.useDispatch)(),d=Object(l.useSelector)((function(e){return e.chat.channels})),u=Object(n.useState)(""),m=Object(_.a)(u,2),p=m[0],f=m[1],h=Object(n.useState)(null),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(!0),A=Object(_.a)(v,2),j=A[0],C=A[1],T=function(){C(!j),s(Ve({type:i}))},y=Object.values(d).sort((function(e,t){var a;return 0!==(a=t.is_pinned-e.is_pinned)?a:e.last_reply&&t.last_reply?e.last_reply.created_at.timestamp===t.last_reply.created_at.timestamp?e.title.localeCompare(t.title):t.last_reply.created_at.timestamp-e.last_reply.created_at.timestamp:e.last_reply&&!t.last_reply?-1:!e.last_reply&&t.last_reply?1:e.last_reply||t.last_reply?void 0:e.title.localeCompare(t.title)})).filter((function(e){return!e.is_archived&&(""===p.trim()||-1!==e.title.toLowerCase().search(p.toLowerCase()))})),S=vs()._t,k={recentChannels:S("CHAT.FORWARD.RECENT_CHANNELS","Recent channels"),transferMessageTo:S("CHAT.FORWARD.TRANSFER_MESSAGE_TO","Transfer the message to"),searchChannelPlaceholder:S("CHAT.FORWARD.SEARCH_CHANNEL_PLACEHOLDER","Search channel")};return r.a.createElement(tO.a,{isOpen:j,toggle:T,size:"lg",className:"chat-forward-modal",centered:!0},r.a.createElement(Ig,{toggle:T},k.transferMessageTo),r.a.createElement(AO,null,r.a.createElement(SO,{onChange:function(e){f(e.target.value)},value:p,onClick:function(){},placeholder:k.searchChannelPlaceholder}),r.a.createElement(jO,null,r.a.createElement("label",null,k.recentChannels),Object.keys(d).length>0&&r.a.createElement("ul",null,y.map((function(e){return r.a.createElement(CO,{key:e.id,onClick:function(){return function(e){g(e)}(e)},chosen:O&&O.id===e.id},r.a.createElement(TO,{className:"message-forward-popup",channel:e}),e.title)}))))),O&&r.a.createElement(yO,null,r.a.createElement("span",{className:"chosen-channel-title"},O?O.title:null),r.a.createElement(vO,{onClick:function(){var e={channel_id:O.id,body:o.body,mention_ids:[],file_ids:o.files.length?o.files.map((function(e){return e.file_id})):[],reference_id:a(40).generate(),reference_title:O.title,is_transferred:!0};s(Bs(e,(function(e,t){e||(s(ws(O)),c.push("/chat/".concat(O.code)))}))),T()},icon:"send",fill:"#fff",className:"bg-primary"})))})),wO=a(105),NO=a.n(wO);function xO(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]);return xO=function(){return e},e}var RO=E.a.div(xO()),IO=r.a.memo((function(e){var t=e.data,a=t.type,i=t.message,o=vs()._t,c=Object(l.useDispatch)(),s=Object(l.useSelector)((function(e){return e.session.user})),d=Op(),u=Object(n.useState)(!1),m=Object(_.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)("20m"),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useState)(new Date),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(n.useState)(null),T=Object(_.a)(C,2),y=T[0],S=T[1],k=Object(n.useState)(!0),w=Object(_.a)(k,2),N=w[0],x=w[1],R={chatReminder:o("REMINDER.CHAT_REMINDER","Set a reminder"),oneHour:o("REMINDER.ONE_HOUR","1 hour"),threeHours:o("REMINDER.THREE_HOURS","3 hours"),tomorrow:o("REMINDER.TOMORROW","Tomorrow"),pickDateTime:o("REMINDER.PICK_DATE_TIME","Pick date and time"),snooze:o("REMINDER.SNOOZE","Snooze"),cancel:o("REMINDER.CANCEL","Cancel")},I=function(){x(!N),c(Ve({type:a}))},P=function(e,t){S(!1),O(t)};return r.a.createElement(tO.a,{isOpen:N,toggle:I,centered:!0,className:"chat-forward-modal"},r.a.createElement(Ig,{toggle:I},R.chatReminder),r.a.createElement(aO.a,null,r.a.createElement(RO,null,r.a.createElement(Gb,{readOnly:!0,onClick:function(e){P(0,"1h")},checked:"1h"===E,value:"1h",name:"role"},R.oneHour),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){P(0,"3h")},checked:"3h"===E,value:"3h",name:"role"},R.threeHours),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){P(0,"tomorrow")},checked:"tomorrow"===E,value:"tomorrow",name:"role"},R.tomorrow),r.a.createElement(Gb,{readOnly:!0,onClick:function(){O("pick_data"),S(!0)},checked:"pick_data"===E,value:"pick_data",name:"role"},R.pickDateTime),y&&r.a.createElement(NO.a,{minDate:new Date,onChange:function(e){j(e)},value:A,disableClock:!0}))),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{color:"primary",onClick:function(){if(!p){f(!0);var e={message_id:i.id,set_time:"pick_data"===E?Bb.a.utc(new Date(A)).format("YYYY-MM-DD HH:mm:ss"):E};c(rl(e,(function(){f(!1),I();var e="You",t="",a=new Date;switch(E){case"1h":a.setHours(a.getHours()+1),t="in an hour at ".concat(Yt(a)," today");break;case"3h":a.setHours(a.getHours()+3),t="in 3 hours at ".concat(Yt(a)," today");break;case"tomorrow":a.setDate(a.getDate()+1),t="at 9 AM tomorrow";break;case"pick_data":t="at ".concat(Bb()(new Date(A)).format("YYYY-MM-DD HH:mm"));break;default:t=E+" at 9 AM"}var n=document.createElement("div");n.innerHTML=i.body,n.innerText.length>=15&&(n.innerText=n.innerText.substring(0,15)+"..."),s.id!==i.user.id&&(e=i.user.name),d.success(r.a.createElement(r.a.Fragment,null,'I will remind you about this message ("',r.a.createElement("b",null,n.innerText)," from ",e," in ",t,'")'))})))}}},p&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),R.snooze)," ",r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:I},R.cancel)))}));function PO(){var e=Object(f.a)(["\n  .react-select-container {\n    max-width: 320px;\n  }\n"]);return PO=function(){return e},e}function DO(){var e=Object(f.a)(["\n  flex-wrap: nowrap;\n"]);return DO=function(){return e},e}function LO(){var e=Object(f.a)(["\n  font-weight: 500;\n"]);return LO=function(){return e},e}function FO(){var e=Object(f.a)([""]);return FO=function(){return e},e}function MO(){var e=Object(f.a)(["\n  left: unset;\n  bottom: 40px;\n\n  .common-picker-btn {\n    text-align: right;\n  }\n  .react-giphy-select__src-components-GiphyList-styles__list___Tdg5X {\n    height: 250px;\n  }\n"]);return MO=function(){return e},e}function UO(){var e=Object(f.a)(["\n  position: absolute;\n  right: 0;\n  cursor: pointer;\n  border: 1px solid #afb8bd;\n  height: 1.5rem;\n  margin: -1px 8px;\n  width: 1.5rem;\n  padding: 5px;\n  border-radius: 8px;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  &:hover {\n    background: #afb8bd;\n    color: #ffffff;\n  }\n  &.feather-send {\n    border: 1px solid #7a1b8b;\n    background-color: #7a1b8b;\n    color: #fff;\n    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    &:hover {\n      background-color: #8c3b9b;\n    }\n  }\n"]);return UO=function(){return e},e}function GO(){var e=Object(f.a)(["\n  width: 100%;\n  margin-top: 15px;\n  border: 1px solid #afb8bd;\n  border-radius: 5px;\n  ul {\n    margin: 0;\n    padding: 10px 0;\n    align-items: center;\n    justify-content: ",";\n    display: flex;\n    overflow-x: auto;\n  }\n  li {\n    list-style: none;\n    padding: 0 10px;\n    border-radius: 8px;\n    position: relative;\n\n    img {\n      width: auto;\n      height: 160px;\n      border: 1px solid #ddd;\n      object-fit: cover;\n      border-radius: inherit;\n    }\n    span {\n      position: absolute;\n      top: -10px;\n      right: -6px;\n      display: none;\n      color: black;\n    }\n    span:hover {\n      color: #7a1b8b;\n      cursor: pointer;\n    }\n    .app-file-list {\n      height: 158px;\n      width: 158px;\n      margin-bottom: 0;\n    }\n    &:first-of-type {\n      padding-left: 15px;\n    }\n    &:last-of-type {\n      padding-right: 15px;\n    }\n    .remove-upload {\n      background: rgba(0, 0, 0, 0.8);\n      color: #ffffff;\n      border-radius: 50%;\n      position: absolute;\n      height: 20px;\n      width: 20px;\n      display: ",";\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      border: 2px solid #fff;\n      top: -8px;\n      right: 2px;\n      &:hover {\n        background: rgba(0, 0, 0, 1);\n      }\n      svg {\n        width: 12px;\n        height: 12px;\n      }\n    }\n  }\n  li:hover span {\n    display: ",';\n  }\n  &:after {\n    content: "";\n    width: 100px;\n  }\n']);return GO=function(){return e},e}function HO(){var e=Object(f.a)(["\n  &.description-input {\n    // overflow: auto;\n    // overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: 0;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n    .ql-image {\n      display: none;\n    }\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n  .ql-editor {\n    height: 320px;\n    max-height: 320px;\n  }\n  .ql-mention-list-container-top,\n  .ql-mention-list-container {\n    width: 300px !important;\n    max-height: 170px;\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgba(26, 26, 26, 0.4) 0 2px 3px 0, rgba(0, 0, 0, 0.1) 0 1px 3px 0;\n    overflow-x: hidden;\n    overflow-y: auto;\n    z-index: 2;\n\n    .dark & {\n      background: #25282c;\n      color: #c7c7c7;\n    }\n\n    .ql-mention-list {\n      padding: 0;\n\n      .ql-mention-list-item {\n        display: flex;\n        align-items: center;\n        padding-top: 1rem;\n        padding-bottom: 1rem;\n        padding-left: 1rem;\n\n        &.selected {\n          background: #7a1b8b;\n          color: #fff;\n          span.all-pic > img {\n            filter: brightness(0) saturate(100%) invert(1);\n          }\n        }\n      }\n    }\n  }\n"]);return HO=function(){return e},e}function BO(){var e=Object(f.a)(["\n  flex: 1 0 0;\n  width: 100%;\n  border: 1px solid #afb8bd;\n  border-radius: 5px;\n  min-height: 350px;\n  position: relative;\n"]);return BO=function(){return e},e}var WO=E.a.div(BO()),YO=Object(E.a)(kb)(HO()),VO=E.a.div(GO(),(function(e){return e.hasOneFile?"center":"flex-start"}),(function(e){return e.hasOneFile?"none":"flex"}),(function(e){return e.hasOneFile?"none":"block"})),QO=Object(E.a)(pn)(UO()),KO=Object(E.a)(Pi)(MO()),zO=E.a.div(FO()),qO=E.a.span(LO()),JO=Object(E.a)(nO.a)(DO()),ZO=E.a.div(PO()),XO=[{id:"remove_automatically",value:"remove_automatically",label:"Remove file automatically in 5 days",icon:"file-minus"}],$O=function(e){var t=e.files,a=e.onRemoveFile;return r.a.createElement(VO,{hasOneFile:1===t.length},r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"remove-upload","aria-label":"close",onClick:function(){return function(e){a(e)}(e)}},r.a.createElement(pn,{icon:"x"})),"IMAGE"===e.type&&r.a.createElement("img",{alt:"file",src:e.src}),"IMAGE"!==e.type&&r.a.createElement(zO,{className:"card app-file-list"},r.a.createElement("div",{className:"app-file-icon"},r.a.createElement(fn,{icon:"document",width:"28",height:"32"})),r.a.createElement("div",{className:"p-2 small"},e.name)))}))))},eg=r.a.memo((function(e){var t=e.data,i=t.type,o=t.mode,c=t.droppedFiles,s=t.post,d=void 0===s?null:s,u=t.members,m=void 0===u?[]:u,p=(t.team_channel,Object(n.useRef)(0)),f=Op(),b=Object(n.useRef)(),h=vs()._t,E=Object(l.useDispatch)(),O=Object(n.useRef)(),g=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),v=Object(n.useRef)(null),j=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),C=Object(l.useSelector)((function(e){return e.session.user})),T=Object(l.useSelector)((function(e){return e.global.dataFromInput})),y=Object(l.useSelector)((function(e){return e.posts.commentType})),S=Object(l.useSelector)((function(e){return e.posts})),k=S.parentId,w=S.editPostComment,N=Object(n.useState)(!0),x=Object(_.a)(N,2),I=x[0],P=x[1],D=Object(n.useState)(!1),M=Object(_.a)(D,2),U=M[0],G=M[1],H=Object(n.useState)(c),B=Object(_.a)(H,2),W=B[0],Y=B[1],V=Object(n.useState)(""),Q=Object(_.a)(V,2),K=Q[0],z=Q[1],J=Object(n.useState)(""),Z=Object(_.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(_.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(_.a)(re,2),oe=ie[0],ce=ie[1],se=Object(n.useState)(null),le=Object(_.a)(se,2),de=le[0],ue=le[1],me=Object(n.useState)([]),pe=Object(_.a)(me,2),fe=pe[0],be=pe[1],he=Object(n.useState)(null),Ee=Object(_.a)(he,2),_e=Ee[0],Oe=Ee[1],ge=function(){ce(!oe)},ve={cancel:h("BUTTON.CANCEL","Cancel"),upload:h("BUTTON.UPLOAD","Upload"),fileUpload:h("FILE_UPLOAD","File upload"),quillPlaceholder:h("FORM.REACT_QUILL_PLACEHOLDER","Write great things here..."),fileUploadLabel:h("LABEL.EXTERNAL_WORKSPACE_FILES","Files added to workspace can be seen by internal and external accounts"),uploading:h("FILE_UPLOADING","Uploading File"),unsuccessful:h("FILE_UNSUCCESSFULL","Upload File Unsuccessful")};Object(n.useEffect)((function(){null!==T&&(O.current.getEditor().clipboard.dangerouslyPasteHTML(0,T.text),z(T.text),$(T.textOnly),ne(T.quillContents),O.current.focus())}),[T]),Object(n.useEffect)((function(){"post"===o&&w&&Y([].concat(Object(Rt.a)(w.files.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{src:e.view_link})}))),Object(Rt.a)(c)));var e=function(e){27===e.keyCode&&E(Ve({type:i})),A.osName.includes("Mac")?e.metaKey&&13===e.keyCode&&ye():e.ctrlKey&&13===e.keyCode&&ye()};return document.addEventListener("keydown",e,!1),function(){document.removeEventListener("keydown",e,!1)}}),[]);var Ae=function(){P(!I),E(Ve({type:i})),E(Je({sent:!1}))};function je(){return(je=Object(F.a)(L.a.mark((function e(){var t,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W.filter((function(e){return"string"===typeof e.id})).length){e.next=7;break}return t=new FormData,a={user_id:C.id,file_type:"private",folder_id:null,fileOption:de,options:{config:{onUploadProgress:Te}}},W.filter((function(e){return"string"===typeof e.id})).map((function(e,a){t.append("files[".concat(a,"]"),e.bodyFormData.get("file"))})),a.files=t,e.next=7,new Promise((function(e,t){e(q(a))})).then((function(e){var t=[].concat(Object(Rt.a)(W.filter((function(e){return"string"!==typeof e.id}))),Object(Rt.a)(e.data.map((function(e){return e}))));Se(t)})).catch((function(e){Ce(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=function(){null!==v.curent&&(G(!1),f.dismiss(v.current),f.error(r.a.createElement("div",null,ve.unsuccessful,".")),v.current=null)},Te=function(e){var t=e.loaded/e.total;null===v.current?v.current=f.info(r.a.createElement("div",null,ve.uploading,"."),{progress:p.current,autoClose:!0}):f.update(v.current,{progress:t,autoClose:!0})},ye=function(){U||(G(!0),function(){je.apply(this,arguments)}(),E(Ve({type:i})))},Se=function(e){var t=[],n=K,r=!1;if(ae.ops&&ae.ops.length>0){var i=ae.ops.filter((function(e){return e.insert.mention?e:null})).map((function(e){return Number(e.insert.mention.id)}));t=(t=Object(Rt.a)(new Set(i))).includes(NaN)?Object(Rt.a)(new Set([].concat(Object(Rt.a)(t.filter((function(e){return!isNaN(e)}))),Object(Rt.a)(j.members.map((function(e){return e.id})))))):t.filter((function(e){return!isNaN(e)})),ae.ops.forEach((function(e){e.insert.image&&(r=!0)}))}if(""!==X.trim()||0!==t.length||r||(n="<span></span>"),"chat"===o)E(jl({value:""})),e.forEach((function(r,i){var o={};i===e.length-1?(o={channel_id:j.id,body:n,mention_ids:t,file_ids:[r.id],quote:null,reference_id:a(40).generate(),reference_title:"DIRECT"===j.type?"".concat(C.first_name," in a direct message"):j.title},setTimeout((function(){E(Bs(o)),f.dismiss(v.current)}),300),E(Je({sent:!0}))):(o={channel_id:j.id,body:"",mention_ids:[],file_ids:[r.id],quote:null,reference_id:a(40).generate(),reference_title:"DIRECT"===j.type?"".concat(C.first_name," in a direct message"):j.title},E(Bs(o)))}));else if("post"===o){var c=a(40).generate(),s={post_id:d.id,body:n,mention_ids:t,file_ids:[].concat(Object(Rt.a)(e.map((function(e){return e.id}))),Object(Rt.a)(fe.map((function(e){return e.id})))),reference_id:c,personalized_for_id:null,parent_id:k,approval_user_ids:T&&T.approvers?T.approvers:[],shared_with_client:!y||"internal"!==y};if(E(Id(null)),E(Je({sent:!0})),E(Fu(null)),w)s=Object(R.a)(Object(R.a)({},s),{},{id:w.id,file_ids:[].concat(Object(Rt.a)(e.map((function(e){return e.id}))),Object(Rt.a)(W.filter((function(e){return"string"!==typeof e.id}))),Object(Rt.a)(fe.map((function(e){return e.id})))),parent_id:w.parent_id,reference_id:null}),E(Nd(s)),E(wd(null)),f.dismiss(v.current);else{var l=Math.floor(Date.now()/1e3),u={author:C,body:n,clap_count:0,code:l,created_at:{timestamp:l},files:[],files_trashed:[],id:c,is_archive:!1,is_editable:!0,is_edited:0,is_favourite:!1,mention_ids:t,original_body:n,parent_id:k,personalized_for_id:null,post_id:d.id,quote:null,reference_id:c,ref_quote:null,replies:{},todo_reminder:null,total_replies:0,total_unread_replies:0,updated_at:{timestamp:l},unfurls:[],user_clap_count:0,clap_user_ids:[],users_approval:[]};E(xd(u)),E(Sd(s)),f.dismiss(v.current)}}},ke=Object(n.useState)(!1),we=Object(_.a)(ke,2),Ne=we[0],xe=we[1];Object(n.useEffect)((function(){!0===Ne&&O.current&&setTimeout((function(){O.current.focus()}),300)}),[Ne]);var Re=!1;d&&(Re=d.recipients.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared})));var Ie=ms({mode:o,mentionOrientation:"bottom",quillRef:O,members:m,setImageLoading:Oe,setInlineImages:be}).modules;return r.a.createElement(tO.a,{isOpen:I,toggle:Ae,size:"lg",centered:!0},r.a.createElement(Ig,{toggle:Ae},ve.fileUpload),r.a.createElement(aO.a,null,r.a.createElement(WO,null,r.a.createElement(YO,{ref:function(e){O.current=e,xe(!0)},className:"chat-input description-input",modules:Ie,placeholder:ve.quillPlaceholder,readOnly:U,onChange:function(e,t,a,n){z(e),ne(n.getContents()),$(n.getText(e))},height:80}),r.a.createElement(QO,{onClick:ge,icon:"smile"}),!0===oe&&r.a.createElement(KO,{handleShowEmojiPicker:ge,onSelectEmoji:function(e){var t=O.current.getEditor();O.current.focus();var a=t.getSelection().index;t.insertText(a,e.native),t.setSelection(a+2)},onSelectGif:function(e){console.log(e);var t=O.current.getEditor();O.current.focus();var a=t.getSelection().index;t.insertEmbed(a,"image",e.images.downsized.url),t.setSelection(a+5)},orientation:"top",ref:b})),r.a.createElement($O,{files:W,onRemoveFile:function(e){Y(W.filter((function(t){return t.id!==e.id})))}}),r.a.createElement(ZO,{className:"mt-1"},r.a.createElement(Yh,{options:XO,value:de,onChange:function(e){console.log(e),ue(e)},isClearable:!0,maxMenuHeight:250,menuPlacement:"top",placeholder:"File options"}))),r.a.createElement(JO,null,(j&&j.entity_id&&g[j.entity_id]&&g[j.entity_id].is_shared&&g[j.entity_id].team_channel.id===j.id&&"internal"===C.type||Re&&"internal"===C.type)&&r.a.createElement(qO,null,ve.fileUploadLabel),r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:Ae},ve.cancel),r.a.createElement(rO.a,{color:"primary",onClick:ye,disabled:_e},U&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),ve.upload)))})),tg=a(292);a(604),a(605);function ag(){var e=Object(f.a)([""]);return ag=function(){return e},e}function ng(){var e=Object(f.a)(["\n  visibility: ",";\n  .reply-document-dropdown {\n    opacity: ",";\n    transition: opacity 200ms ease;\n    background: rgba(255, 255, 255, 0.9);\n\n    .dark & {\n      background: rgba(25, 28, 32, 0.9);\n    }\n  }\n  .click-cancel-drop {\n    .dark & {\n      background: #fff;\n      color: #7a1b8b;\n    }\n  }\n"]);return ng=function(){return e},e}var rg=E.a.section(ng(),(function(e){return e.hide?"hidden":"visible"}),(function(e){return e.hide?"0":"1"})),ig=Object(E.a)(pn)(ag()),og=Object(n.forwardRef)((function(e,t){var a=e.onCancel,n=e.onDrop,i=e.noX,o=void 0!==i&&i,c=e.disableInput,s=void 0!==c&&c,l=e.openOnLoad,d=void 0!==l&&l,u=e.hide,m=e.acceptType,p=void 0===m?"":m,f=Op(),b=vs()._t,h=e.placeholderText;h||(h=b("UPLOAD.DRAG_N_DROP_YOUR_FILES","Drag 'n' drop your files here."));var E=function(e){for(var t=e.acceptedFiles,a=e.rejectedFiles,i={timeOut:8e3,icon:"error"},o=0;o<t.length;o++){var c=t[o];0===c.size&&(f.error(r.a.createElement("span",null,"File ",r.a.createElement("b",null,c.name)," upload failed!",r.a.createElement("br",null),"Empty file detected."),i),delete t[o])}for(var s=0;s<a.length;s++){var l=a[s];f.error(r.a.createElement("span",null,"File ",r.a.createElement("b",null,l.name)," upload failed!",r.a.createElement("br",null),r.a.createElement("b",null,"Tip:")," Zip it and try again."),i)}n({acceptedFiles:t})},_=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg",".7z",".aac",".ai",".aif",".aifc",".aifc",".aiff",".aiff",".avi",".bmp",".bmp",".cab",".csv",".doc",".docx",".dot",".dotx",".eps",".epub",".flac",".flv",".gif",".ico",".jpg",".mj2",".mjp2",".mkv",".mng",".mov",".mp3",".mp4",".mpeg",".mpp",".mpt",".numbers",".odm",".odm",".odoc",".odp",".ods",".odt",".oga",".ogg",".otp",".ott",".pages",".pdf",".pea",".pez",".png",".pot",".pps",".ppt",".pptx",".pptz",".ps",".qt",".rar",".raw",".rtf",".spx",".stc",".svg",".tar",".tgz",".tif",".tiff",".tsv",".txt",".vcf",".wav",".webm",".webp",".wma",".wmv",".xla",".xlc",".xls",".xlsx",".xlt",".xlw",".xml",".zip"];return"imageOnly"===p&&(_=["image/ai","image/bmp","image/eps","image/gif","image/gpl","image/iff","image/jpeg","image/jpg","image/pdn","image/png","image/psp","image/svg"]),r.a.createElement(tg.a,{ref:t,onDrop:function(e,t){return E({acceptedFiles:e,rejectedFiles:t})},onCancel:function(){return a()},onDragLeave:function(){return a()},onFileDialogCancel:a,hide:u,openOnload:d,noClick:s,accept:_},(function(e){var t=e.getRootProps,n=e.getInputProps,i=e.isDragActive;return r.a.createElement(rg,{hide:u},r.a.createElement("div",Object.assign({},t(),{className:"reply-document-dropdown ".concat(i?"show-border":"no-border")}),r.a.createElement("input",n()),r.a.createElement("div",{className:"reply-dropzone"},r.a.createElement(ig,{icon:"upload-cloud"}),r.a.createElement("p",null,h))),!o&&r.a.createElement("button",{"aria-label":"close",className:"click-cancel-drop",onClick:a},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement(ig,{icon:"x"}))))}))}));function cg(){var e=Object(f.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  &.group-chat-input {\n    border: 1px solid #afb8bd;\n    border-radius: 5px;\n    max-height: 130px;\n    overflow: auto;\n    overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    display: none;\n  }\n  .ql-container {\n    border: none;\n  }\n  .ql-editor {\n    padding: 5px;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return cg=function(){return e},e}function sg(){var e=Object(f.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  min-width: 550px;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return sg=function(){return e},e}function lg(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n  .icon-wrapper {\n    width: 60px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    display: grid;\n\n    .btn {\n      background: #fff;\n      position: absolute;\n      right: 5px;\n      bottom: -5px;\n      padding: 3px;\n\n      &:hover {\n        background: #fff !important;\n      }\n    }\n  }\n  .name-wrapper {\n    width: calc(100% - 40px);\n  }\n  .form-group {\n    margin-bottom: 0;\n  }\n  label {\n    margin: 0 20px 0 0;\n    min-width: 530px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n"]);return lg=function(){return e},e}var dg=Object(E.a)(Ob.a)(lg()),ug=Object(E.a)(jh)(sg()),mg=Object(E.a)(kb)(cg()),pg=function(e){var t=e.data,i=t.type,o=t.mode,c=Object(n.useRef)(),s=Object(n.useRef)(),d=Object(l.useDispatch)(),u=Object(b.g)(),m=vs()._t,p=Op(),f=rm(),h=f.searchExisting,E=f.create,O=f.update,g=Ap().localizeDate,v=Object(l.useSelector)((function(e){return e.users.mentions})),A=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),j=Object(l.useSelector)((function(e){return e.session.user})),C=Object(l.useSelector)((function(e){return e.global.recipients})),T=Object(n.useState)(!0),y=Object(_.a)(T,2),S=y[0],k=y[1],w=Object(n.useState)(""),N=Object(_.a)(w,2),I=N[0],P=N[1],D=Object(n.useState)(""),L=Object(_.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)(!1),G=Object(_.a)(U,2),H=G[0],B=G[1],W=Object(n.useState)(!1),Y=Object(_.a)(W,2),V=Y[0],Q=Y[1],K=Object(n.useState)(!1),z=Object(_.a)(K,2),q=z[0],J=z[1],Z=Object(n.useState)(!1),X=Object(_.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(!1),ae=Object(_.a)(te,2),ne=ae[0],re=ae[1],ie=function(){k(!S),d(Ve({type:i}))},oe={chatTitle:m("MODAL.CHAT_TITLE","Title"),people:m("MODAL.PEOPLE","People"),firstMessage:m("MODAL.FIRST_MESSAGE","First message"),newGroupChat:m("MODAL.NEW_GROUP_CHAT","New group chat"),editChat:m("MODAL.EDIT_CHAT","Edit chat"),createChat:m("MODAL.CREATE_CHAT","Create chat"),chatInfo:m("FOLDER_INFO","Create a group chat to quickly discuss any subject with multiple people. A group chat can hold an unlimited amount of members."),chatInfoEdit:m("FOLDER_INFO_EDIT","Edit the chat's title and members. A group chat can hold an unlimited amount of members."),feedbackChatTitleIsRequired:m("FEEDBACK.CHAT_TITLE_IS_REQUIRED","Chat title is required."),feedbackChatTitleIsUnique:m("FEEDBACK.CHAT_TITLE_IS_UNIQUE","Chat title is already taken."),feedbackChatMemberIsRequired:m("FEEDBACK.CHAT_MEMBER_IS_REQUIRED","You must assign atleast a member on this chat.")},ce=Object.values(v).filter((function(e){return"internal"===e.type})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{value:e.id,label:e.name})})),se=ce.filter((function(e){return e.value===j.id})),le=Object(n.useState)({icon:{file:null,file_id:null,value:"edit"===o?A.icon_link:null},title:{value:"edit"===o?A.title:""},selectedUsers:{value:"edit"===o?A.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{value:e.id,label:e.first_name})})):se}}),de=Object(_.a)(le,2),ue=de[0],me=de[1],pe=function(){if(!ue.icon.file||ue.icon.file_id){if(!q){if(J(!0),"edit"===o){var e=A.members.filter((function(e){return!ue.selectedUsers.value.some((function(t){return t.id===e.id}))})).map((function(e){return e.id})),t=ue.selectedUsers.value.filter((function(e){return!A.members.some((function(t){return t.id===e.id}))})).map((function(e){return e.id})),n=Object(R.a)(Object(R.a)({id:A.id},ue.icon.file_id&&{file_id:ue.icon.file_id}),{},{channel_id:A.id,channel_name:ue.title.value,remove_member_ids:e,add_member_ids:t,message_body:"CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:j.id,name:j.name,first_name:j.first_name,partial_name:j.partial_name,profile_image_link:j.profile_image_thumbnail_link?j.profile_image_thumbnail_link:j.profile_image_link},title:A.title===ue.title.value?"":ue.title.value,added_members:t,removed_members:e}))});A.members=ue.selectedUsers.value,A.title=ue.title.value,O(n,(function(){J(!1)}))}else{var r=a(40).generate(),i=Math.round(+new Date/1e3),c={id:r,body:I,code:r,editable:0,unfurls:[],quote:null,files:[],mention_html:null,reactions:[],is_deleted:!1,is_completed:!0,is_transferred:!1,is_read:!0,channel_id:r,g_date:g(i),created_at:{timestamp:i},updated_at:{timestamp:i},user:j},s={id:r,entity_id:0,type:"GROUP",title:ue.title.value,code:r,is_archived:!1,is_pinned:!1,is_hidden:!1,is_muted:!1,total_unread:0,profile:null,selected:!0,inviter:null,hasMore:!1,skip:0,isFetching:!1,members:[].concat(Object(Rt.a)(ue.selectedUsers.value),[j]),replies:[c],created_at:{timestamp:i},updated_at:{timestamp:i},last_reply:{id:null,body:I,user:j,created_at:{timestamp:i}},reference_id:r},l={recipient_ids:C.filter((function(e){return"USER"===e.type})).filter((function(e){var t=!1;return ue.selectedUsers.value.forEach((function(a){a.id===e.type_id&&(t=!0)})),t})).map((function(e){return e.id})),title:ue.title.value};0!==F.trim().length&&(l=Object(R.a)(Object(R.a)({},l),{},{message_body:I}));var m=s;E(l,(function(e,t){if(J(!1),!e){var a=Object(R.a)(Object(R.a)(Object(R.a)({},s),{},{id:t.data.channel.id,old_id:m.id},ue.icon.file_id&&{file_id:ue.icon.file_id}),{},{code:t.data.code,members:t.data.channel.members?t.data.channel.members:s.members,profile:t.data.channel.profile,type:"GROUP",last_reply:t.data.channel.last_reply,replies:0!==F.trim().length?[Object(R.a)(Object(R.a)({},c),{},{id:t.data.last_reply.id,channel_id:t.data.channel.id,created_at:{timestamp:c.created_at.timestamp},updated_at:{timestamp:c.created_at.timestamp}})]:[],selected:!0,search:t.data.search});d(Ms(a)),d(ws(a)),u.push("/chat/".concat(t.data.code))}}))}ie()}}else ve(ue.icon.file)},fe=zt.a.debounce((function(){var e=C.filter((function(e){return"USER"===e.type})).filter((function(e){var t=!1;return ue.selectedUsers.value.forEach((function(a){a.id===e.type_id&&(t=!0)})),t})).map((function(e){return e.id}));if("edit"===o){if(ue.title.value===A.title&&JSON.stringify(A.members.map((function(e){return e.id})).sort())===JSON.stringify(ue.selectedUsers.value.map((function(e){return e.id})).sort())){var t=Object(R.a)({},ue);t.selectedUsers.valid=!0,t.selectedUsers.feedback=null,B(!1),me(t),ee(!0)}else if(e.length){Q(!0);h(ue.title.value,e,(function(e,t){Q(!1),e||(t.data.channel_id?B(!0):B(!1))})),ee(!1)}}else if(e.length){Q(!0);h(ue.title.value,e,(function(e,t){Q(!1),e||(t.data.channel_id?B(!0):B(!1))}))}}),300),be=ms({mode:"group_chat"}).modules;Object(n.useEffect)((function(){ue.selectedUsers.value.length&&fe()}),[ue.title.value,ue.selectedUsers.value.length]),Object(n.useEffect)((function(){if(!V){var e=Object(R.a)({},ue);""===e.title.value?(e.title.valid=!1,e.title.feedback=oe.feedbackChatTitleIsRequired):!0===H?(e.title.valid=!1,e.title.feedback=oe.feedbackChatTitleIsUnique):(e.title.valid=!0,e.title.feedback=null),0===e.selectedUsers.value.length?(e.selectedUsers.valid=!1,e.selectedUsers.feedback=oe.feedbackChatMemberIsRequired):(e.selectedUsers.valid=!0,e.selectedUsers.feedback=null),me(e)}}),[ue.title.value,ue.selectedUsers.value,H,V]);var he=function(){re(!1)},Ee=Object(n.useCallback)((function(e,t){me((function(a){return Object(R.a)(Object(R.a)({},a),{},{icon:Object(R.a)(Object(R.a)({},a.icon),{},{file:e,value:t})})}))}),[]),_e=Object(n.useCallback)((function(e){0===e.length?p.error("File type not allowed. Please use an image file."):e.length>1&&p.warning("Multiple files detected. First selected image will be used.");var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:Ee};d(Ye(t,(function(){he()})))}),[Ee,he]),Oe={iconDropZone:Object(n.useRef)(null)},ge=fp().uploadCompanyFiles,ve=function(e){ge({file:e},(function(e,t){me((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:Object(R.a)(Object(R.a)({},e.icon),{},{file_id:t.data.id})})}))}))};return Object(n.useEffect)((function(){ue.icon.file&&ee(!1)}),[ue.icon.file]),Object(n.useEffect)((function(){ue.icon.file_id&&pe()}),[ue.icon.file_id]),r.a.createElement(tO.a,{isOpen:S,toggle:ie,size:"lg",onOpened:function(){c&&c.current&&c.current.focus()},centered:!0},r.a.createElement(Ig,{toggle:ie},"edit"===o?oe.editChat:oe.newGroupChat),r.a.createElement(aO.a,null,r.a.createElement(dg,null,r.a.createElement("div",null,r.a.createElement(Vh.a,{className:"modal-info mb-3"},"edit"===o?oe.chatInfoEdit:oe.chatInfo),r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{className:"icon-wrapper",onClick:function(){Oe.iconDropZone.current.open()}},r.a.createElement(og,{acceptType:"imageOnly",hide:!ne,ref:Oe.iconDropZone,onDragLeave:he,onDrop:function(e){var t=e.acceptedFiles;_e(t)},onCancel:he}),r.a.createElement(kn,{imageLink:ue.icon.value,name:ue.title.value,noDefaultClick:!0,forceThumbnail:!1}),r.a.createElement("span",{className:"btn btn-outline-light btn-sm"},r.a.createElement(pn,{icon:"pencil"}))),r.a.createElement("div",{className:"name-wrapper"},r.a.createElement(Vh.a,{className:"modal-label",for:"chat"},oe.chatTitle),r.a.createElement(kE,{name:"title",style:{borderRadius:"5px"},defaultValue:ue.title.value,onChange:function(e){var t=e.target,a=t.name,n=t.value;me((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},a,{value:n}))}))},innerRef:c,isValid:ue.title.valid,feedback:ue.title.feedback}))))),r.a.createElement(dg,null,r.a.createElement("div",null,r.a.createElement(Vh.a,{className:"modal-label",for:"people"},oe.people),r.a.createElement(ug,{options:ce,value:ue.selectedUsers.value,onChange:function(e){me(null===e?function(e){return Object(R.a)(Object(R.a)({},e),{},{selectedUsers:{value:se}})}:function(t){return Object(R.a)(Object(R.a)({},t),{},{selectedUsers:{value:e}})})}}))),"new"===o&&r.a.createElement(dg,null,r.a.createElement("div",null,r.a.createElement(Vh.a,{className:"modal-label",for:"firstMessage"},oe.firstMessage),r.a.createElement(mg,{className:"group-chat-input",modules:be,ref:s,onChange:function(e,t,a,n){var r=n.getText(e);P(e),M(r)}}))),r.a.createElement(dg,null,r.a.createElement("button",{className:"btn btn-primary",disabled:V||Object.keys(ue).map((function(e){return ue[e].valid})).some((function(e){return!1===e}))||"edit"===o&&$,onClick:pe},q&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===o?oe.editChat:oe.createChat))))};function fg(){var e=Object(f.a)([""]);return fg=function(){return e},e}var bg,hg,Eg,_g,Og=E.a.img(fg()),gg=r.a.memo((function(e){var t=e.className,n=void 0===t?"":t,i=e.countryAbbr,o=void 0===i?"nl":i,c=Object(I.a)(e,["className","countryAbbr"]),s=o;null===o&&(s="nl");var l="";switch(s.toLocaleLowerCase()){case"en":case"uk":l=a(257);break;case"nl":l=a(258);break;case"de":l=a(606);break;default:l=a(258)}return r.a.createElement(Og,Object.assign({className:"flag ".concat(n),src:l,alt:"flag"},c))})),vg=Object(E.a)(Ob.a)(bg||(bg=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n\n  .icon-wrapper {\n    width: 60px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    display: grid;\n\n    .btn {\n      background: #fff;\n      position: absolute;\n      right: 5px;\n      bottom: -5px;\n      padding: 3px;\n\n      &:hover {\n        background: #fff !important;\n      }\n    }\n  }\n\n  .name-wrapper {\n    width: calc(100% - 40px);\n  }\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  .input-feedback {\n    margin-left: 130px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n  }\n\n  label {\n    margin: 0 20px 0 0;\n    min-width: 530px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n    // z-index: 2;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  .files {\n    width: 320px;\n  }\n  .file-attachments {\n    position: relative;\n    max-width: 100%;\n    margin-left: 128px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n    ul {\n      margin-right: 128px;\n      margin-bottom: 0;\n      @media all and (max-width: 480px) {\n        padding-right: 40px;\n      }\n      li {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n  }\n  &.file-attachment-wrapper {\n    margin-top: 30px;\n    margin-bottom: -20px;\n  }\n  &.action-wrapper {\n    z-index: 0;\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n      display: flex;\n      width: 100%;\n\n      .btn-archive {\n        display: flex;\n        margin-left: auto;\n        text-decoration: underline;\n        color: #a7abc3;\n      }\n    }\n  }\n  &.checkboxes {\n    flex-flow: row !important;\n    label {\n      min-width: 0;\n    }\n  }\n  &.external-select {\n    .invalid-feedback {\n      display: block;\n    }\n    .react-select__control {\n      border-color: ","!important;\n    }\n  }\n"])),(function(e){return!1===e.valid?"red":"#cccccc"})),Ag=Object(E.a)(Yh)(hg||(hg=Object(f.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]))),jg=Object(E.a)(jh)(Eg||(Eg=Object(f.a)(["\n  flex: 1 0 0;\n  width: 1%;\n  .react-select__control--menu-is-open {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .react-select__option {\n    background-color: #ffffff;\n  }\n  .react-select__menu-list--is-multi > div {\n    &:hover {\n      background: #8c3b9b;\n      color: #ffffff;\n      cursor: pointer;\n      .react-select__option {\n        background: #8c3b9b;\n        cursor: pointer;\n      }\n    }\n  }\n  .react-select__control--is-focused {\n    border-color: #7a1b8b !important;\n    box-shadow: none;\n  }\n  .has-not-accepted .react-select__multi-value__label {\n    background: #33b5e5;\n    color: #fff;\n  }\n  @media all and (max-width: 480px) {\n    width: 100%;\n  }\n"]))),Cg=Object(E.a)(rE)(_g||(_g=Object(f.a)(["\n  .description-input {\n    height: ","px;\n    max-height: 300px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n\n  .ql-toolbar {\n    bottom: 30px;\n    left: 40px;\n  }\n\n  .invalid-feedback {\n    position: absolute;\n    bottom: 0;\n    top: auto;\n  }\n"])),(function(e){return e.height})),Tg=r.a.memo((function(e){var t=e.data,i=t.type,o=t.mode,c=t.item,s=void 0===c?null:c,d=fp().uploadFiles,u=vs()._t,m=Object(b.g)(),p=Object(l.useDispatch)(),f=Op(),h=Object(n.useState)(!0),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(!1),A=Object(_.a)(v,2),j=A[0],C=A[1],T=Object(l.useSelector)((function(e){return e.settings.user})),y=Object(l.useSelector)((function(e){return e.session.user})),k=Object(l.useSelector)((function(e){return e.users.users})),w=Object(l.useSelector)((function(e){return e.users.externalUsers})),N=Object(l.useSelector)((function(e){return e.users.archivedUsers})),I=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),P=Object(l.useSelector)((function(e){return e.workspaces.folders})),D=Object(n.useState)([]),L=Object(_.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)([]),G=Object(_.a)(U,2),H=G[0],B=G[1],W=Object(n.useState)(""),Y=Object(_.a)(W,2),V=Y[0],Q=Y[1],K=Object(n.useState)(""),z=Object(_.a)(K,2),q=z[0],J=z[1],Z=Object(n.useState)({is_private:!1,has_folder:null!==s&&"WORKSPACE"===s.type&&null!==s.folder_id,icon:null,icon_link:s&&s.channel?s.channel.icon_link:null,name:"",selectedUsers:[],selectedFolder:null===s?null:"FOLDER"===s.type?{value:s.id,label:s.name}:s.folder_id?{value:s.folder_id,label:s.folder_name}:null,description:"",textOnly:"",has_externals:!1,selectedExternals:[]}),X=Object(_.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(!1),ae=Object(_.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(!1),oe=Object(_.a)(ie,2),ce=oe[0],se=oe[1],le=Object(n.useState)([]),de=Object(_.a)(le,2),ue=de[0],me=de[1],pe=Object(n.useState)([]),fe=Object(_.a)(pe,2),be=fe[0],he=fe[1],Ee=Object(n.useState)([]),_e=Object(_.a)(Ee,2),Oe=_e[0],ge=_e[1],ve=Object(n.useState)(!1),Ae=Object(_.a)(ve,2),je=Ae[0],Ce=Ae[1],ye=Object(n.useState)({name:null,description:null,has_folder:null,team:null,external:!0}),Se=Object(_.a)(ye,2),ke=Se[0],we=Se[1],Ne=Object(n.useState)({name:"",description:"",folder:"",team:"",external:""}),xe=Object(_.a)(Ne,2),Re=xe[0],Ie=xe[1],Pe={container:Object(n.useRef)(null),workspace_name:Object(n.useRef)(null),dropZone:Object(n.useRef)(null),iconDropZone:Object(n.useRef)(null),first_name:Object(n.useRef)(null)},De=Object(n.useState)([]),Le=Object(_.a)(De,2),Fe=Le[0],Me=Le[1],Ue=Object(n.useState)([]),Ge=Object(_.a)(Ue,2),He=Ge[0],Be=Ge[1],We=Object(n.useState)([]),Qe=Object(_.a)(We,2),Ke=Qe[0],ze=Qe[1],qe=Object(n.useState)({email:"",first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0}),Je=Object(_.a)(qe,2),Ze=Je[0],Xe=Je[1],$e=Object(n.useState)([]),et=Object(_.a)($e,2),tt=et[0],at=et[1],nt=[].concat(Object(Rt.a)(Object.values(k)),Object(Rt.a)(N)),rt=[{value:"en",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"en",className:"mr-2",width:"18"}),u("LANGUAGE.ENGLISH","English"))},{value:"nl",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"nl",className:"mr-2",width:"18"}),u("LANGUAGE.DUTCH","Dutch"))}],it={createWorkspace:u("WORKSPACE.CREATE_WORKSPACE","Create workspace"),create:u("BUTTON.CREATE","Create"),updateWorkspace:u("WORKSPACE.UPDATE_WORKSPACE","Update workspace"),update:u("BUTTON.UPDATE","Update"),workspaceName:u("WORKSPACE.WORKSPACE_NAME","Name"),workspaceInfo:u("WORKSPACE.WORKSPACE_INFO","A workspace centers the team communication about a subject. A workspace can only be connected to one folder."),lockWorkspace:u("WORKSPACE.WORKSPACE_LOCK","Make workspace private"),lockWorkspaceText:u("WORKSPACE.WORKSPACE_LOCK.DESCRIPTION","When a workspace is private it is only visible to the members of the workspace."),archiveThisWorkspace:u("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unArchiveThisWorkspace:u("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),description:u("LABEL.DESCRIPTION","Description"),addToFolder:u("CHECKBOX.ADD_TO_FOLDER","Add to folder"),folder:u("LABEL.FOLDER","Folder"),team:u("LABEL.TEAM","Team"),archiveWorkspace:u("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:u("BUTTON.ARCHIVE","Archive"),unArchiveWorkspace:u("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:u("BUTTON.CANCEL","Cancel"),archiveBodyText:u("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unArchiveBodyText:u("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),confirm:u("WORKSPACE.CONFIRM","Confirm"),lockedWorkspace:u("WORKSPACE.LOCKED_WORKSPACE","Private workspace"),lockedWorkspaceText:u("WORKSPACE.LOCKED_WORKSPACE_TEXT","Only members can view and search this workspace."),feedbackWorkspaceNameIsRequired:u("FEEDBACK.WORKSPACE_NAME_IS_REQUIRED","Workspace name is required."),feedbackWorkspaceNameAlreadyExists:u("FEEDBACK.WORKSPACE_NAME_ALREADY_EXISTS","Workspace name already exists."),feedbackWorkspaceDescriptionIsRequired:u("FEEDBACK.WORKSPACE_DESCRIPTION_IS_REQUIRED","Description is required."),toasterWorkspaceIsCreated:u("TOASTER.WORKSPACE_IS_CREATED","::workspace_name:: workspace is created.",{workspace_name:"<b>".concat($.name,"</b>")}),externalWorkspace:u("WORKSPACE.EXTERNAL_WORKSPACE","External workspace"),externalUserConfirmation:u("CONFIRMATION_EXTERNAL_USER","Are you sure you want to give an external user access to this Workspace?"),workspaceWithExternals:u("WORKSPACE.WORKSPACE_WITH_EXTERNALS","Workspace with externals"),externalGuest:u("WORKSPACE.EXTERNAL_GUEST","External guest"),peopleExternal:u("PEOPLE.EXTERNAL","External"),peopleInvited:u("PEOPLE.INVITED","Invited"),workspaceWithExternalsInfo1:u("WORKSPACE.WORKSPACE_WITH_EXTERNALS_INFO1","This function will allow users outside your company be invited on this workspace."),workspaceWithExternalsInfo2:u("WORKSPACE.WORKSPACE_WITH_EXTERNALS_INFO2","This may be your customer or supplier."),emailExists:u("WORKSPACE.EMAIL_EXISTS","Email already used"),invalidEmail:u("WORKSPACE.INVALID_EMAIL","Invalid email"),newExternalInfo:u("WORKSPACE.NEW_EXTERNAL_INFO","You are adding a new external user (#::email::#). You can add extra information to this account if you like. The account can verify or change this info during his first login.",{email:Ze.email}),newExternalUser:u("WORKSPACE.NEW_EXTERNAL_USER","New external user"),firstName:u("REGISTER.FIRST_NAME","First name"),middleName:u("REGISTER.MIDDLE_NAME","Middle name"),lastName:u("REGISTER.LAST_NAME","Last name"),companyName:u("DRIFF.COMPANY_NAME","Company name"),languageLabel:u("SETTINGS.LANGUAGE_LABEL","Language"),save:u("POST.SAVE","Save"),sendMyself:u("BUTTON.SEND_MYSELF","Send the signup link myself"),sendTruDriff:u("BUTTON.SEND_TRU_DRIFF","Send the signup link through Driff")},ot=Object(n.useCallback)((function(){return""===$.name?(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:it.feedbackWorkspaceNameIsRequired})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:!1})})),!1):Object.values(I).some((function(e){return"edit"===o?e.id!==s.id&&e.name.toLowerCase()===$.name.toLowerCase():e.name.toLowerCase()===$.name.toLowerCase()}))?(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:it.feedbackWorkspaceNameAlreadyExists})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:!0})})),!0):(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:""})})),void we((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:!0})})))}),[$.name,$.has_folder,$.selectedFolder,I,we,Ie]),ct=function(){g(!O),p(Ve({type:i}))},st=function(e){var t=e.target.dataset.name,a=!$[t];ee((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},t,a))}))},lt=Object.values(P).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"folder",value:e.id,label:e.name})})),dt=Object(n.useCallback)(Object(Kt.debounce)((function(e,t){e?(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:""})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:null})}))):!1===e&&!1===t?(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:it.emailExists})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:!1})}))):!1===e&&!0===t?(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:it.invalidEmail})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:!1})}))):(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:""})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:!0})})))}),300),[]),ut=function(e,t){var a=new FormData;a.append("files[0]",t),d({is_primary:0,topic_id:e.topic_id?e.topic_id:e.id,files:a},(function(t,a){p(pm(Object(R.a)(Object(R.a)({},e),{},{topic_id:e.topic_id?e.topic_id:e.id,file_id:a.data.files[0].id,workspace_id:e.folder_id?e.folder_id:e.workspace_id})))}))},mt=Object(n.useCallback)((function(e,t,a,n){var r=n.getText(e);n.getContents().ops&&n.getContents().ops.length&&function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){var t=[y.id].concat(Object(Rt.a)($.selectedUsers.map((function(e){return e.id}))),Object(Rt.a)(He)),a=e.filter((function(e){return!t.some((function(t){return t===e}))}));Me(a.length?a.map((function(e){return parseInt(e)})):[])}else Be([]),Me([])}(n.getContents().ops.filter((function(e){return e.insert.mention})).map((function(e){return e.insert.mention.id}))),ee((function(t){return Object(R.a)(Object(R.a)({},t),{},{description:e,textOnly:r})})),""===r.trim()?(Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{description:it.feedbackWorkspaceDescriptionIsRequired})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{description:!1})}))):we((function(e){return Object(R.a)(Object(R.a)({},e),{},{description:!0})}))}),[ee,Ie,we,$.selectedUsers,Fe,He]),pt=function(){re(!1)},ft=function(){se(!1)},bt=Object(n.useCallback)((function(e,t){ee((function(a){return Object(R.a)(Object(R.a)({},a),{},{icon:e,icon_link:t})}))}),[]),ht=Object(n.useCallback)((function(e){0===e.length?f.error("File type not allowed. Please use an image file."):e.length>1&&f.warning("Multiple files detected. First selected image will be used.");var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:bt};p(Ye(t,(function(){ft()})))}),[bt,ft]),Et=function(){var e={type:"confirmation",headerText:it.archiveWorkspace,submitText:it.archive,cancelText:it.cancel,bodyText:it.archiveBodyText,actions:{onSubmit:_t}};0===s.active&&(e=Object(R.a)(Object(R.a)({},e),{},{headerText:it.unArchiveWorkspace,submitText:it.unArchiveWorkspace,bodyText:it.unArchiveBodyText})),p(Ye(e))},_t=Object(n.useCallback)((function(){var e={id:s.channel.id,is_archived:1===s.active,is_muted:!1,is_pinned:!1,is_shared:s.is_external};e.is_archived||(e.push_unarchived=1),p(xs(e)),f.success(r.a.createElement("span",null,r.a.createElement("b",null,s.name)," workspace is",1===s.active?r.a.createElement(r.a.Fragment,null," unarchived"):r.a.createElement(r.a.Fragment,null," archived"),null!==$.selectedFolder&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("b",null,$.selectedFolder.label)," under directory"),".")),ct()}),[]);Object(n.useEffect)((function(){var e=null;if(Object.values(k).length&&(e=Object(R.a)(Object(R.a)({},k[y.id]),{},{value:y.id,label:y.name})),"edit"===o){var t=[],a=[],n=void 0!==s.type&&"WORKSPACE"===s.type?1===s.is_lock:1===s.private;s.members.length&&(t=s.members.filter((function(e){return 1===e.active&&"internal"===e.type})).map((function(e){return{value:e.id,label:e.name,name:e.name,id:e.id,first_name:""===e.first_name?e.email:e.first_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,has_accepted:e.has_accepted,email:e.email}})),a=s.members.filter((function(e){return"external"===e.type})).map((function(e){return{value:e.id,label:""!==e.name?e.name:""!==e.first_name?e.first_name:e.email,name:e.name,id:e.id,first_name:""===e.first_name?e.email:e.first_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,email:e.email,has_accepted:e.has_accepted}})),at(s.members.filter((function(e){return 0===e.active&&e.has_accepted})))),ee(Object(R.a)(Object(R.a)({},$),{},{has_folder:null!==s&&"WORKSPACE"===s.type&&null!==s.folder_id,selectedUsers:t,selectedFolder:s.folder_id?{value:s.folder_id,label:s.folder_name}:null,description:s.description,textOnly:s.description,name:s.name,is_private:n,has_externals:a.length>0,selectedExternals:a})),we({name:!0,folder:!0,team:!0}),s.hasOwnProperty("primary_files")&&he(s.primary_files)}else ee((function(t){return Object(R.a)(Object(R.a)({},t),{},{selectedUsers:e?[e]:[],selectedFolder:null===s?null:{value:s.id,label:s.name},has_folder:null!==s&&"FOLDER"===s.type})})),we((function(t){return Object(R.a)(Object(R.a)({},t),{},{team:!!e||null,name:null})}));return function(){return p(Te())}}),[]),Object(n.useEffect)((function(){var e=!0;$.has_folder&&null===$.selectedFolder&&(e=!1),we((function(t){return Object(R.a)(Object(R.a)({},t),{},{has_folder:e})})),ot()}),[$.has_folder,$.selectedFolder]),Object(n.useEffect)((function(){var e=Object.values(k).filter((function(e){return"internal"===e.type&&1===e.active})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{value:e.id,label:e.name})}));M(e)}),[Object.values(k).length]),Object(n.useEffect)((function(){if(w.length){var e=w.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{value:e.id,label:e.has_accepted?"".concat(e.email," | ").concat(e.first_name," ").concat(e.last_name," - ").concat(e.external_company_name):"".concat(e.email," "),dictionary:{peopleExternal:u("PEOPLE.EXTERNAL","External"),peopleInvited:u("PEOPLE.INVITED","Invited")}})}));B(e)}}),[w.length]);var Ot=function(e,t){return!t||(-1!==e.label.toLowerCase().search(t.toLowerCase())||e.data.email&&-1!==e.data.email.toLowerCase().search(t.toLowerCase()))},gt=function(){C((function(e){return!e}))},vt=function(e){e.persist(),Xe((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))}))},At=function(e,t){Xe(Object(R.a)(Object(R.a)({},Ze),{},{send_by_email:"myself"!==t}))};return r.a.createElement(tO.a,{innerRef:Pe.container,isOpen:O,toggle:ct,centered:!0,size:"lg",onOpened:function(){Pe.workspace_name&&Pe.workspace_name.current&&Pe.workspace_name.current.focus()}},r.a.createElement(Ig,{toggle:ct},"edit"===o?it.updateWorkspace:it.createWorkspace),r.a.createElement(aO.a,{onDragOver:function(){re(!0)}},r.a.createElement(tO.a,{isOpen:j,toggle:gt,centered:!0,onOpened:function(){Pe.first_name&&Pe.first_name.current&&Pe.first_name.current.focus()}},r.a.createElement(Ig,{toggle:gt},it.newExternalUser),r.a.createElement(aO.a,null,r.a.createElement(Vh.a,{className:"modal-info mb-3"},it.newExternalInfo),r.a.createElement(Vh.a,{className:"modal-label"},it.firstName),r.a.createElement(gb.a,{className:"mb-2",name:"first_name",value:Ze.first_name,onChange:vt,autoFocus:!0,innerRef:Pe.first_name}),r.a.createElement(Vh.a,{className:"modal-label"},it.middleName),r.a.createElement(gb.a,{className:"mb-2",name:"middle_name",value:Ze.middle_name,onChange:vt}),r.a.createElement(Vh.a,{className:"modal-label"},it.lastName),r.a.createElement(gb.a,{className:"mb-2",name:"last_name",value:Ze.last_name,onChange:vt}),r.a.createElement(Vh.a,{className:"modal-label"},it.companyName),r.a.createElement(gb.a,{className:"mb-2",name:"company",value:Ze.company,onChange:vt}),r.a.createElement(Vh.a,{className:"modal-label"},it.languageLabel),r.a.createElement(mh.a,{styles:"1"===T.GENERAL_SETTINGS.dark_mode?fh:ph,value:rt.find((function(e){return e.value===Ze.language})),onChange:function(e){Xe((function(t){return Object(R.a)(Object(R.a)({},t),{},{language:e.value})}))},options:rt}),r.a.createElement("div",{className:"mt-3"},r.a.createElement(Gb,{readOnly:!0,onClick:function(e){At(0,"myself")},checked:!Ze.send_by_email,value:"myself",name:"myself"},it.sendMyself),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){At(0,"driff")},checked:Ze.send_by_email,value:"driff",name:"driff"},it.sendTruDriff))),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{className:"btn-outline-secondary",onClick:gt},it.cancel),r.a.createElement(rO.a,{color:"primary",onClick:function(){gt(),Ke.some((function(e){return e.email===Ze.email}))?ze(Ke.map((function(e){return e.email===Ze.email?Ze:e}))):ze([].concat(Object(Rt.a)(Ke),[Ze])),Xe({email:"",first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0})}},it.save))),r.a.createElement(og,{hide:!ne,ref:Pe.dropZone,onDragLeave:pt,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var a=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,type:"IMAGE",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:y}):"video/mp4"===e.type?t.push({rawFile:e,type:"VIDEO",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:y}):t.push({rawFile:e,type:"DOC",id:a,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:y})})),me((function(e){return[].concat(Object(Rt.a)(e),t)})),pt()}(e.acceptedFiles)},onCancel:pt,attachedFiles:ue}),r.a.createElement(vg,{className:"modal-input mt-0"},r.a.createElement("div",null,r.a.createElement(Vh.a,{className:"modal-info pb-3 pt-3"},it.workspaceInfo),r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{className:"icon-wrapper",onClick:function(){Pe.iconDropZone.current.open()}},r.a.createElement(og,{acceptType:"imageOnly",hide:!ce,ref:Pe.iconDropZone,onDragLeave:ft,onDrop:function(e){var t=e.acceptedFiles;ht(t)},onCancel:ft}),r.a.createElement(kn,{imageLink:$.icon_link,name:$.name,noDefaultClick:!0,forceThumbnail:!1}),r.a.createElement("span",{className:"btn btn-outline-light btn-sm"},r.a.createElement(pn,{icon:"pencil"}))),r.a.createElement("div",{className:"name-wrapper"},r.a.createElement(Vh.a,{className:"modal-label",for:"chat"},it.workspaceName),r.a.createElement(gb.a,{name:"name",defaultValue:"edit"===o?s.name:"",onFocus:function(){Ie((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:""})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:null})}))},onChange:function(e){e.persist(),ee((function(t){return Object(R.a)(Object(R.a)({},t),{},{name:e.target.value.trim()})}))},onBlur:function(){ot()},valid:ke.name,invalid:null!==ke.name&&!ke.name,innerRef:Pe.workspace_name}),r.a.createElement(bE,{valid:ke.name},Re.name))))),r.a.createElement(vg,{className:"modal-input checkboxes"},r.a.createElement("div",null,r.a.createElement(lE,{type:"success",name:"has_folder",checked:$.has_folder,onClick:st},it.addToFolder)),r.a.createElement("div",null,r.a.createElement(lE,{type:"success",name:"has_externals",checked:$.has_externals,onClick:st},it.workspaceWithExternals)),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(qc,{content:r.a.createElement("div",null,it.workspaceWithExternalsInfo1,r.a.createElement("br",null),it.workspaceWithExternalsInfo2)},r.a.createElement(pn,{icon:"alert-circle",width:"16",height:"16"})))),!0===$.has_folder&&r.a.createElement(vg,{className:"modal-input"},r.a.createElement(Vh.a,{for:"people"},it.folder),r.a.createElement(Ag,{options:lt,value:$.selectedFolder,onChange:function(e){ee((function(t){return Object(R.a)(Object(R.a)({},t),{},{selectedFolder:e})}))},isMulti:!1,isClearable:!0}),r.a.createElement(bE,{valid:ke.has_folder},Re.has_folder)),r.a.createElement(vg,{className:"modal-input"},r.a.createElement(Vh.a,{for:"people"},it.team),r.a.createElement(jg,{valid:ke.team,options:F,value:$.selectedUsers,inputValue:V,onChange:function(e){null===e?(ee((function(e){return Object(R.a)(Object(R.a)({},e),{},{selectedUsers:[]})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{team:"edit"===o})}))):(ee((function(t){return Object(R.a)(Object(R.a)({},t),{},{selectedUsers:e})})),we((function(e){return Object(R.a)(Object(R.a)({},e),{},{team:!0})})))},onInputChange:function(e){Q(e)},filterOption:Ot,isSearchable:!0}),r.a.createElement(bE,{valid:ke.user},Re.user)),!0===$.has_externals&&r.a.createElement(vg,{className:"modal-input external-select",valid:ke.external},r.a.createElement(Vh.a,{for:"people"},it.externalGuest),r.a.createElement(bE,{valid:ke.external},Re.external),r.a.createElement(jg,{creatable:!0,options:H,value:$.selectedExternals,inputValue:q,isValidNewOption:function(e,t,a){var n=a.some((function(t){return t.email===e})),r=t.some((function(t){return t.email===e}));return!n&&!r&&""!==e&&(!!Mt.test(e)&&!nt.some((function(t){return t.email===e})))},onCreateOption:function(e){var t=Ke.find((function(t){return t.email===e}));Xe(t||{email:e,first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0}),gt(!0),ee((function(t){return Object(R.a)(Object(R.a)({},t),{},{selectedExternals:[].concat(Object(Rt.a)(t.selectedExternals),[{id:a(40).generate(),label:e,value:e,name:e,first_name:e,email:e,has_accepted:!1}])})}))},onChange:function(e){if(e&&e.some((function(e){return e.label.startsWith("Add ")&&!e.hasOwnProperty("id")}))){C(!0);var t=e.find((function(e){return e.label.startsWith("Add ")}));Xe({email:t.value,first_name:"",middle_name:"",last_name:"",company:"",language:"en",send_by_email:!0})}if(null===e)ee((function(e){return Object(R.a)(Object(R.a)({},e),{},{selectedExternals:[]})})),ze([]);else{var n=e.map((function(e){return e.id?e:Object(R.a)(Object(R.a)({},e),{},{id:a(40).generate(),label:e.value,value:e.value,name:e.value,first_name:e.value,email:e.value,has_accepted:!1})}));ee((function(e){return Object(R.a)(Object(R.a)({},e),{},{selectedExternals:n})})),ze(Ke.filter((function(t){return e.some((function(e){return e.email===t.email}))})))}},onInputChange:function(e){J(e);var t=H.some((function(t){return t.email===e})),a=$.selectedExternals.some((function(t){return t.email===e}));t||a||""===e?dt(null):Mt.test(e)?nt.some((function(t){return t.email===e}))?dt(!1,!1):dt(!0):dt(!1,!0)},filterOption:Ot,formatCreateLabel:function(e){return"Add ".concat(e)},isSearchable:!0,classNamePrefix:"react-select",onMenuClose:function(){we((function(e){return Object(R.a)(Object(R.a)({},e),{},{external:!0})}))},onEmailClick:function(e){var t=Ke.find((function(t){return t.email===e.email}));t&&Xe(t),gt(!0)}})),r.a.createElement(Cg,{className:"modal-description",height:window.innerHeight-660,required:!0,showFileButton:!0,onChange:mt,onOpenFileDialog:function(){Pe.dropZone.current&&Pe.dropZone.current.open()},defaultValue:"edit"===o&&s?s.description:"",mode:o,valid:ke.description,feedback:Re.description,disableBodyMention:!0,modal:"workspace",mentionedUserIds:Fe,onAddUsers:function(e){ee(Object(R.a)(Object(R.a)({},$),{},{selectedUsers:[].concat(Object(Rt.a)(e.map((function(e){return{id:e.id,value:e.id,label:e.name,name:e.name,first_name:e.first_name,profile_image_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link}}))),Object(Rt.a)($.selectedUsers))})),Me([])},onDoNothing:function(e){Be(e.map((function(e){return e.id}))),Me(Fe.filter((function(t){return!e.some((function(e){return e.id===t}))})))},setInlineImages:ge}),(ue.length>0||be.length>0)&&r.a.createElement(vg,{className:"file-attachment-wrapper"},r.a.createElement(Hc,{attachedFiles:[].concat(Object(Rt.a)(ue),Object(Rt.a)(be)),handleRemoveFile:function(e){he((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),me((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))}})),r.a.createElement(vg,{className:"action-wrapper"},r.a.createElement(Vh.a,null),r.a.createElement(lE,{name:"is_private",checked:$.is_private,onClick:st},it.lockWorkspace),r.a.createElement("div",{className:"lock-workspace-text-container pb-3"},r.a.createElement(Vh.a,{className:"lock-workspace-text"},it.lockWorkspaceText)),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){if(!je){var e=[].concat(Object(Rt.a)($.selectedUsers.filter((function(e){return"number"===typeof e.id}))),Object(Rt.a)($.selectedExternals.filter((function(e){return"number"===typeof e.id})))),t=e.map((function(e){return e.id})),a={name:$.name,description:$.description,is_external:0,member_ids:t,is_lock:$.is_private?1:0,workspace_id:$.selectedFolder&&"number"===typeof $.selectedFolder.value&&$.has_folder?$.selectedFolder.value:0,file_ids:Oe.map((function(e){return e.id}))};if(Ke.length&&$.has_externals&&(a="edit"===o?Object(R.a)(Object(R.a)({},a),{},{new_externals:Ke.filter((function(e){return $.selectedExternals.some((function(t){return t.email===e.email}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{first_name:e.first_name.trim(),middle_name:e.middle_name.trim(),last_name:e.last_name.trim(),company:e.company.trim()})})),is_external:1}):Object(R.a)(Object(R.a)({},a),{},{external_emails:Ke.filter((function(e){return $.selectedExternals.some((function(t){return t.email===e.email}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{first_name:e.first_name.trim(),middle_name:e.middle_name.trim(),last_name:e.last_name.trim(),company:e.company.trim()})})),is_external:1})),"edit"===o){var n=s.members.filter((function(e){return 1===e.active})),i=s.members.filter((function(e){return!t.some((function(t){return e.id===t}))})),c=t.filter((function(e){return!n.some((function(t){return t.id===e}))})),l=e.filter((function(e){return!e.has_accepted})).map((function(e){return e.id}));a=Object(R.a)(Object(R.a)({},a),{},{workspace_id:$.selectedFolder&&$.has_folder?$.selectedFolder.value:0,topic_id:s.id,remove_member_ids:i.map((function(e){return e.id})),new_member_ids:c}),(i.filter((function(e){return e.has_accepted})).length||a.new_member_ids.filter((function(e){return!l.some((function(t){return t===e}))&&!tt.some((function(t){return t.id===e}))})).length||s.name!==$.name)&&(a.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:y.id,name:y.name,first_name:y.first_name,partial_name:y.partial_name,profile_image_link:y.profile_image_thumbnail_link?y.profile_image_thumbnail_link:y.profile_image_link},title:$.name===s.name?"":$.name,added_members:c.filter((function(e){return!l.some((function(t){return t===e}))&&!tt.some((function(t){return t.id===e}))})),removed_members:i.filter((function(e){return e.has_accepted})).map((function(e){return e.id}))})));var d=function(){Ce(!0);if(1===s.members.length&&0===$.selectedUsers.length&&1===s.is_lock){var e={id:s.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1,is_shared:s.is_external};p(xs(e)),ct()}else i.some((function(e){return e===y.id}))&&p(xm({workspace_id:s.id,channel_id:s.channel.id})),p(pm(a,(function(e,t){if(ct(),!e){if($.icon&&ut(a,$.icon),t.data){var n=Ke.find((function(e){return!e.send_by_email}));if(n){var r=t.data.members.find((function(e){return e.email===n.email}));r&&r.invite_link&&S(f,r.invite_link)}}if(function(){var e=[];if(s.primary_files&&s.primary_files.length&&(e=s.primary_files.filter((function(e){return!be.some((function(t){return t.id===e.id}))}))),e.length){var t={topic_id:s.id,is_primary:1,file_ids:e.map((function(e){return e.id}))};p(To(t))}}(),ue.length){var i=new FormData;for(var o in ue)i.append("files["+o+"]",ue[o].rawFile);p(Mi({is_primary:1,topic_id:t.data.id,files:i}))}$.selectedFolder&&"number"===typeof $.selectedFolder.value?m.push("/workspace/dashboard/".concat($.selectedFolder.value,"/").concat(Wt($.selectedFolder.label),"/").concat(t.data.id,"/").concat(Wt($.name))):m.push("/workspace/dashboard/".concat(t.data.id,"/").concat(Wt($.name)))}})))};if(s.is_lock!==a.is_lock&&1===a.is_lock||$.has_externals){!function(){var e={type:"confirmation",headerText:$.has_externals&&1===a.is_lock?"".concat(it.lockedWorkspace," / ").concat(it.externalWorkspace):$.has_externals?it.externalWorkspace:it.lockedWorkspace,submitText:it.confirm,cancelText:it.cancel,bodyText:$.has_externals&&1===a.is_lock?"".concat(it.externalUserConfirmation,"<br/>").concat(it.lockedWorkspaceText):$.has_externals?it.externalUserConfirmation:it.lockedWorkspaceText,actions:{onSubmit:d}};p(Ye(e))}()}else d()}else{var b=function(){Ce(!0),p(um(a,(function(e,t){if(ct(),e&&(console.log(e),Ce(!1),f.warning(r.a.createElement("span",null,"Workspace creation failed.",r.a.createElement("br",null),"Please try again."))),t){if($.selectedFolder&&"number"===typeof $.selectedFolder.value?m.push("/workspace/dashboard/".concat($.selectedFolder.value,"/").concat(Wt(t.data.workspace.name),"/").concat(t.data.id,"/").concat(Wt(t.data.topic.name)),{folder_id:$.selectedFolder.value,workspace_id:t.data.id}):m.push("/workspace/dashboard/".concat(t.data.id,"/").concat(Wt(t.data.topic.name)),{folder_id:null,workspace_id:t.data.id}),ue.length){var a=new FormData;for(var n in ue)a.append("files["+n+"]",ue[n].rawFile);p(Mi({is_primary:1,topic_id:t.data.id,files:a}))}var i={id:t.data.id,name:t.data.topic.name,is_external:t.data.is_external,is_lock:t.data.is_lock,description:t.data.topic.description,unread_count:0,type:"WORKSPACE",key_id:t.data.key_id,active:1,unread_chats:0,unread_posts:0,folder_id:t.data.workspace?t.data.workspace.id:null,folder_name:t.data.workspace?t.data.workspace.name:null,member_ids:t.data.member_ids,members:t.data.members,channel:{code:t.data.channel.code,id:t.data.channel.id,loaded:!1},team_channel:{code:t.data.team_channel.code,id:t.data.team_channel.id,icon_link:t.data.team_channel.icon_link},created_at:t.data.topic.created_at,updated_at:t.data.topic.created_at,is_shared:$.has_externals},o=Ke.find((function(e){return!e.send_by_email}));if(o){var c=t.data.members.find((function(e){return e.email===o.email}));c&&c.invite_link&&S(f,c.invite_link)}p(_m(i)),$.icon&&ut(i,$.icon),null!==$.selectedFolder?f.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:it.toasterWorkspaceIsCreated}})):f.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:u("TOASTER.WORKSPACE_UNDER_FOLDER_IS_CREATED","::workspace_name:: workspace is created under ::folder_name:: directory",{workspace_name:"<b>".concat($.name,"</b>"),folder_name:"<b>".concat($.selectedFolder.label,"</b>")})}}))}})))};if(1===a.is_lock||$.has_externals){!function(){var e={type:"confirmation",headerText:$.has_externals&&1===a.is_lock?"".concat(it.lockedWorkspace," / ").concat(it.externalWorkspace):$.has_externals?it.externalWorkspace:it.lockedWorkspace,submitText:it.confirm,cancelText:it.cancel,bodyText:$.has_externals&&1===a.is_lock?"".concat(it.externalUserConfirmation,"<br/>").concat(it.lockedWorkspaceText):$.has_externals?it.externalUserConfirmation:it.lockedWorkspaceText,actions:{onSubmit:b}};p(Ye(e))}()}else b()}}},disabled:""===$.name.trim()||""===$.textOnly.trim()||0===$.selectedUsers.length},je&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===o?it.updateWorkspace:it.createWorkspace),"edit"===o&&r.a.createElement("div",{className:"action-archive-wrapper"},1===s.active?r.a.createElement("span",{onClick:Et,className:"btn-archive text-link mt-2 cursor-pointer"},it.archiveThisWorkspace):r.a.createElement("span",{onClick:Et,className:"btn-archive text-link mt-2 cursor-pointer"},it.unArchiveThisWorkspace)))))}));function yg(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin: 5px 0 20px 0;\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  ","\n\n  .input-feedback {\n    margin-left: 130px;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n  }\n\n  p {\n    max-width: 530px;\n    opacity: 0.8;\n  }\n\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.action-wrapper {\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n      display: flex;\n      width: 100%;\n\n      .btn-archive {\n        display: flex;\n        margin-left: auto;\n        text-decoration: underline;\n        color: #a7abc3;\n      }\n    }\n  }\n"]);return yg=function(){return e},e}var Sg=Object(E.a)(Ob.a)(yg(),""),kg=r.a.memo((function(e){var t=e.data,a=t.type,i=t.mode,o=t.item,c=void 0===o?null:o,s=Object(b.g)(),d=vs()._t,u={createWorkspaceFolder:d("WORKSPACE.CREATE_WORKSPACE_FOLDER","Create folder"),updateWorkspaceFolder:d("WORKSPACE.UPDATE_WORKSPACE_FOLDER","Update folder"),removeWorkspaceFolder:d("WORKSPACE.DELETE_WORKSPACE_FOLDER","Remove folder"),folderName:d("FOLDER_NAME","Name"),folderInfo:d("FOLDER_INFO","Folders help to organize your workspaces and are set for everyone who can see them. A workspace can only be connected to one folder."),lockWorkspaceFolder:d("WORKSPACE.WORKSPACE_FOLDER_LOCK","Make folder private"),lockWorkspaceFolderText:d("WORKSPACE.WORKSPACE_FOLDER_LOCK.DESCRIPTION","When a folder is private it is only visible to the members of the workspaces inside the folder."),description:d("DESCRIPTION","Description"),remove:d("WORKSPACE.REMOVE","Remove"),cancel:d("WORKSPACE.CANCEL","Cancel"),removeFolderText:d("WORKSPACE.REMOVE_FOLDER_TEXT","Workspaces in"),removeFolderText2:d("WORKSPACE.REMOVE_FOLDER_TEXT_2","will move back to the Workspaces sections in your sidebar. <br /><br />The workspaces in this folder will not be removed when you remove this folder."),confirm:d("WORKSPACE.CONFIRM","Confirm"),lockedFolder:d("WORKSPACE.LOCKED_FOLDER","Private folder"),lockedFolderText:d("WORKSPACE.LOCKED_FOLDER_TEXT","Only members can view and search this workspace.")},m=Op(),p=Object(n.useRef)(),f=Object(l.useDispatch)(),h=Object(l.useSelector)((function(e){return e.workspaces})),E=h.activeTopic,O=h.folders,g=Object(l.useSelector)((function(e){return e.workspaces.activeTab})),v=Object(n.useState)(!0),A=Object(_.a)(v,2),j=A[0],C=A[1],T=Object(n.useState)(!1),y=Object(_.a)(T,2),S=y[0],k=y[1],w=Object(n.useState)({is_private:!1,name:"",description:"",textOnly:"",workspace_id:null}),N=Object(_.a)(w,2),I=N[0],P=N[1],D=Object(n.useState)({name:null}),L=Object(_.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)({name:""}),G=Object(_.a)(U,2),H=G[0],B=G[1],W=function(){C(!j),f(Ve({type:a}))},Y=Object(n.useCallback)((function(e){var t=e.target.dataset.name;P((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},t,!e[t]))}))}),[P]);Object(n.useEffect)((function(){"edit"===i&&(console.log(c),P(Object(R.a)(Object(R.a)({},I),{},{name:c.name,description:c.description,textOnly:c.description,is_private:1===c.is_lock,workspace_id:c.id})))}),[]);var V=Object(n.useCallback)((function(){M(Object(R.a)(Object(R.a)({},F),{},{name:""!==I.name})),"edit"===i?""===I.name?B(Object(R.a)(Object(R.a)({},H),{},{name:"Please provide a folder name."})):Object.values(O).filter((function(e){return e.name.toLowerCase()===I.name.toLowerCase()})).length?c.name!==I.name&&B(Object(R.a)(Object(R.a)({},H),{},{name:"Folder name already exists."})):B(Object(R.a)(Object(R.a)({},H),{},{name:""})):""===I.name?B(Object(R.a)(Object(R.a)({},H),{},{name:"Please provide a folder name."})):Object.values(O).filter((function(e){return e.name.toLowerCase()===I.name.toLowerCase()})).length?B(Object(R.a)(Object(R.a)({},H),{},{name:"Folder name already exists."})):B(Object(R.a)(Object(R.a)({},H),{},{name:""}))}),[I.name,F,M,H,B,O]),Q=Object(n.useCallback)((function(e){e.persist(),null!==F.name&&M((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:null})})),P((function(t){return Object(R.a)(Object(R.a)({},t),{},{name:e.target.value.trim()})})),V()}),[F.name,M,P]),K=Object(n.useCallback)((function(){V()}),[V]),z=Object(n.useCallback)((function(){if(!S){var e={name:I.name,description:I.description,is_external:"extern"===g?1:0,is_folder:1,is_lock:I.is_private?1:0};if("edit"===i){e=Object(R.a)(Object(R.a)({},e),{},{workspace_id:I.workspace_id,topic_id:I.workspace_id});var t=function(){k(!0),f(pm(e,(function(e,t){k(!1),e&&(console.log(e),m.error(r.a.createElement("span",null,"Folder update failed.",r.a.createElement("br",null),"Please try again."))),t&&(m.success(r.a.createElement("span",null,r.a.createElement("b",null,I.name)," folder is updated")),W())})))};c.is_lock!==e.is_lock&&1===e.is_lock?f(Ye({type:"confirmation",headerText:u.lockedFolder,submitText:u.confirm,cancelText:u.cancel,bodyText:u.lockedFolderText,actions:{onSubmit:t}})):t()}else{var a=function(){k(!0),f(um(e,(function(e,t){k(!1),e&&(console.log(e),m.error(r.a.createElement("span",null,"Folder creation failed.",r.a.createElement("br",null),"Please try again."))),t&&(m.success(r.a.createElement("span",null,r.a.createElement("b",null,I.name)," folder is created")),W())})))};1===e.is_lock?f(Ye({type:"confirmation",headerText:u.lockedFolder,submitText:u.confirm,cancelText:u.cancel,bodyText:u.lockedFolderText,actions:{onSubmit:a}})):a()}}}),[f,W,g,I.description,I.is_private,I.name,F.name,P,i]),q=function(){f(Lm({topic_id:c.id},(function(e,t){e||E&&E.folder_id===c.id&&s.push("/workspace/chat/".concat(E.id,"/").concat(Wt(E.name)))}))),W()};return r.a.createElement(tO.a,{isOpen:j,toggle:W,size:"lg",onOpened:function(){p&&p.current&&p.current.focus()},centered:!0},r.a.createElement(Ig,{toggle:W,className:"workspace-folder-header"},"edit"===i?"Edit  folder":"Create new folder"),r.a.createElement(aO.a,null,r.a.createElement(Sg,{className:"modal-input"},r.a.createElement("div",null,r.a.createElement(Vh.a,{className:"modal-info"},u.folderInfo),r.a.createElement(Vh.a,{className:"modal-label",for:"folder"},u.folderName)),r.a.createElement("div",{className:"folder-searchbar-container"},r.a.createElement(gb.a,{className:"folder-searchbar",defaultValue:"edit"===i?c.name:"",onChange:Q,onBlur:K,valid:F.name,invalid:null!==F.name&&!F.name,innerRef:p}),r.a.createElement(bE,{valid:F.name},H.name))),r.a.createElement(Sg,{className:"action-wrapper",style:{marginTop:"40px"}},r.a.createElement("div",null,r.a.createElement(lE,{name:"is_private",checked:I.is_private,onClick:Y},u.lockWorkspaceFolder),r.a.createElement("div",{className:"lock-workspace-folder-text-container"},r.a.createElement(Vh.a,{className:"lock-workspace-text"},u.lockWorkspaceFolderText))),r.a.createElement("div",{className:"create-folder-btn ml-auto"},r.a.createElement("button",{className:"btn btn-primary",disabled:null===F.name||!1===F.name,onClick:z},S&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===i?u.updateWorkspaceFolder:u.createWorkspaceFolder)),"edit"===i&&r.a.createElement("div",{className:"action-archive-wrapper"},r.a.createElement("span",{onClick:function(){var e={type:"confirmation",headerText:u.removeWorkspaceFolder,submitText:u.remove,cancelText:u.cancel,bodyText:"".concat(u.removeFolderText," <b>").concat(c.name,"</b> ").concat(u.removeFolderText2),actions:{onSubmit:q}};f(Ye(e))},className:"btn-archive text-link mt-2 cursor-pointer"},u.removeWorkspaceFolder)))))}));function wg(){var e=Object(f.a)(["\n  width: 20px;\n  height: 20px;\n"]);return wg=function(){return e},e}function Ng(){var e=Object(f.a)(["\n  font-size: 17px;\n  color: #505050;\n  font-weight: 600;\n\n  button:focus {\n    outline: none;\n  }\n"]);return Ng=function(){return e},e}var xg=E.a.div(Ng()),Rg=Object(E.a)(pn)(wg()),Ig=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.children,i=e.toggle,o=Object(I.a)(e,["className","children","toggle"]);return r.a.createElement(xg,Object.assign({className:"model-header-section modal-header ".concat(a)},o),r.a.createElement("h5",{className:"modal-title"},n),r.a.createElement("button",{type:"button",onClick:i,className:"close","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement(Rg,{icon:"x"}))))}));function Pg(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]);return Pg=function(){return e},e}var Dg=E.a.div(Pg()),Lg=r.a.memo((function(e){var t=e.data,a=t.type,i=t.post,o=t.topic_id,c=Object(l.useDispatch)(),s=Op(),d=new Date,u=d.getMinutes();d.setMinutes(u+1);var m=Object(n.useState)("20m"),p=Object(_.a)(m,2),f=p[0],b=p[1],h=Object(n.useState)(d),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(null),A=Object(_.a)(v,2),j=A[0],C=A[1],T=Object(n.useState)(!0),y=Object(_.a)(T,2),S=y[0],k=y[1],w=Object(n.useState)(!0),N=Object(_.a)(w,2),x=N[0],R=N[1],I=Object(n.useState)(!1),P=Object(_.a)(I,2),D=P[0],L=P[1],F=function(){R(!x),c(Ve({type:a}))},M=function(e,t){C(!1),b(t),k(!0)};return r.a.createElement(tO.a,{isOpen:x,toggle:F,centered:!0,className:"chat-forward-modal"},r.a.createElement(Ig,{toggle:F},"Snooze post"),r.a.createElement(aO.a,null,r.a.createElement(Dg,null,r.a.createElement(Gb,{readOnly:!0,onClick:function(e){M(0,"2m")},checked:"2m"===f,value:"2m",name:"role"},"2 minutes"),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){M(0,"20m")},checked:"20m"===f,value:"20m",name:"role"},"20 minutes"),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){M(0,"1h")},checked:"1h"===f,value:"1h",name:"role"},"1 hour"),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){M(0,"3h")},checked:"3h"===f,value:"3h",name:"role"},"3 hours"),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){M(0,"tomorrow")},checked:"tomorrow"===f,value:"tomorrow",name:"role"},"Tomorrow"),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){M(0,"next_week")},checked:"next_week"===f,value:"next_week",name:"role"},"Next Week"),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){b("pick_data"),C(!0),k(!0)},checked:"pick_data"===f,value:"pick_data",name:"role"},"Pick date and time"),j&&r.a.createElement(NO.a,{minDate:d,onChange:function(e){e>new Date?(g(e),k(!0)):k(!1)},value:O,disableClock:!0})),!1===S&&r.a.createElement("div",null,"Date time is invalid. Please select new date time.")),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{disabled:!S,color:"primary",onClick:function(e){if(!D){if(L(!0),"pick_data"===f){var t=new Date;if(!(O>t))return void k(!1);k(!0)}var a={post_id:i.id,set_time:"pick_data"===f?Bb.a.utc(new Date(O)).format("YYYY-MM-DD HH:mm:ss"):f};c(jd(a,(function(e,t){if(L(!1),F(),!e){c(_d({post_id:i.id,topic_id:o}));var a="",n=new Date;switch(f){case"2m":n.setMinutes(n.getMinutes()+2),a="for 2 minutes.";break;case"20m":n.setMinutes(n.getMinutes()+20),a="for 20 minutes.";break;case"1h":n.setHours(n.getHours()+1),a="for an hour.";break;case"3h":n.setHours(n.getHours()+3),a="for 3 hours";break;case"tomorrow":n.setDate(n.getDate()+1),a="for a day";break;case"next_week":n.setDate(n.getDate()+7),a="for a a week";break;case"pick_data":a="until ".concat(Bb()(new Date(O)).format("YYYY-MM-DD HH:mm"));break;default:a=f+""}s.success("You snoozed this ".concat(i.title," ").concat(a))}})))}}},D&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Snooze")," ",r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:F},"Cancel")))}));function Fg(){var e=Object(f.a)([""]);return Fg=function(){return e},e}function Mg(){var e=Object(f.a)([""]);return Mg=function(){return e},e}var Ug=Object(E.a)(tO.a)(Mg()),Gg=Object(E.a)(_b.a)(Fg()),Hg=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.title,o=e.type,c=e.defaultValue,s=void 0===c?"":c,d=e.preInputLabel,u=void 0===d?"":d,m=e.label,p=void 0===m?"":m,f=e.postInputLabel,b=void 0===f?"":f,h=e.onPrimaryAction,E=e.onChange,O=e.onClose,g=void 0===O?function(){}:O,v=e.labelClose,A=void 0===v?"Close":v,j=e.labelPrimaryAction,C=void 0===j?"Save":j,T=Object(I.a)(e,["className","title","type","defaultValue","preInputLabel","label","postInputLabel","onPrimaryAction","onChange","onClose","labelClose","labelPrimaryAction"]),y=Object(l.useDispatch)(),S={main:Object(n.useRef)(null),name:Object(n.useRef)(null)},k=Object(n.useState)(s),w=Object(_.a)(k,2),N=w[0],x=w[1],R=function(){y(Ve({type:o}))},P=Object(n.useRef)();return r.a.createElement(Ug,Object.assign({ref:S.main,isOpen:!0,toggle:R,centered:!0,onOpened:function(){P&&P.current&&P.current.focus()},className:"single-input-modal ".concat(a)},T),r.a.createElement(Ig,{toggle:R},i),r.a.createElement(aO.a,null,""!==u&&r.a.createElement(Vh.a,{className:"modal-info mb-3"},u),r.a.createElement(Gg,null,""!==p&&r.a.createElement(Vh.a,{className:"modal-label"},p),r.a.createElement(gb.a,{innerRef:P,autoFocus:!0,defaultValue:s,onChange:function(e){x(e.target.value),E(e)}}),b)),r.a.createElement(nO.a,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){g(),R()}},A),r.a.createElement("button",{disabled:""===N.trim(),type:"button",className:"btn btn-primary",onClick:function(){h(),R()}},C)))}));function Bg(){var e=Object(f.a)([""]);return Bg=function(){return e},e}var Wg=Object(E.a)(tO.a)(Bg()),Yg=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.type,o=e.file,c=e.topic_id,s=e.folder_id,d=Object(I.a)(e,["className","type","file","topic_id","folder_id"]),u=Object(l.useDispatch)(),m=Op(),p=Object(l.useSelector)((function(e){return e.files.workspaceFiles})),f=Object(n.useState)(null),b=Object(_.a)(f,2),h=b[0],E=b[1],O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1],j=Object.values(p[c].folders).filter((function(e){return"undefined"===typeof e.payload&&((!s||e.id!==s)&&!e.is_archived)})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{id:e.id,label:e.search})})),C=function(){u(Ve({type:i}))},T=am().generalSettings.dark_mode;return r.a.createElement(Wg,Object.assign({isOpen:!0,toggle:C,centered:!0,className:"single-input-modal ".concat(a)},d),r.a.createElement(Ig,{toggle:C},"Move the file"),r.a.createElement(aO.a,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"pr-1 mb-3"},"Move"),r.a.createElement("div",{className:"folder-name mb-3"},o.search),r.a.createElement("span",{className:"pl-1 mb-3"},"to:")),r.a.createElement(Vh.a,{className:"folder-name"},"Select a folder"),r.a.createElement(mh.a,{styles:"0"===T?ph:fh,options:j,onChange:function(e){E(e)}})),r.a.createElement(nO.a,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:function(){C()}},"Cancel"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){if(!v){if(A(!0),h){u(bo({file_id:o.id,topic_id:c,folder_id:h.id},(function(e,t){A(!1),e?m.success(r.a.createElement("div",null,"Failed to move ",r.a.createElement("b",null,o.search)," to folder ",r.a.createElement("strong",null,h.label))):m.success(r.a.createElement("div",null,r.a.createElement("strong",null,o.search)," has been moved to folder ",r.a.createElement("strong",null,h.label)))})))}C()}}},v&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Move File")))})),Vg=(a(607),a(286)),Qg=a.n(Vg);function Kg(){var e=Object(f.a)(["\n  &.modal-dialog {\n    .modal-body {\n      padding: 0;\n\n      .cropper-view-box {\n        border-radius: 50%;\n      }\n    }\n  }\n"]);return Kg=function(){return e},e}var zg=Object(E.a)(tO.a)(Kg()),qg=r.a.memo((function(e){var t=e.data,a=t.type,i=t.imageFile,o=t.handleSubmit,c=Object(l.useDispatch)(),s=Object(n.useState)(!0),d=Object(_.a)(s,2),u=d[0],m=d[1],p={cropper:Object(n.useRef)(null)},f=function(){m(!u),c(Ve({type:a}))};return r.a.createElement(zg,{isOpen:u,toggle:f,size:"lg",centered:!0},r.a.createElement(Ig,{toggle:f},"Crop Image"),r.a.createElement(aO.a,{style:{padding:0}},r.a.createElement(Qg.a,{style:{height:window.innerHeight-300,width:"100%"},aspectRatio:1,guides:!1,src:URL.createObjectURL(i),ref:p.cropper})),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{color:"primary",onClick:function(){var e=p.cropper.current.getCroppedCanvas().toDataURL("image/jpeg",.5);o(function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),i=r.length,o=new Uint8Array(i);i--;)o[i]=r.charCodeAt(i);return new File([o],t,{type:n,lastModified:Date.now()})}(e,i.name),e),f()}},"Save"),r.a.createElement(rO.a,{color:"secondary",onClick:f},"Discard")))}));function Jg(){var e=Object(f.a)(["\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n"]);return Jg=function(){return e},e}var Zg=E.a.span(Jg()),Xg=r.a.memo((function(e){var t=e.data,a=t.submitText,i=void 0===a?"Submit":a,o=t.cancelText,c=void 0===o?"Cancel":o,s=t.onPrimaryAction,d=t.hasLastName,u=void 0!==d&&d,m=t.invitations,p=void 0===m?[]:m,f=t.type,b=Object(n.useState)(p),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useState)({valid:{},message:{}}),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(l.useDispatch)(),T=Object(n.useState)(!0),y=Object(_.a)(T,2),S=y[0],k=y[1],w=Object(n.useState)(!1),N=Object(_.a)(w,2),x=N[0],R=N[1],I=Object(n.useState)(!1),P=Object(_.a)(I,2),D=(P[0],P[1]),L=Object(n.useCallback)((function(e){e.persist();var t=e.currentTarget.dataset.id,a=e.currentTarget.name;O((function(n){return n[t][a]=e.target.value,n})),D((function(e){return!e}))}),[O,D]),F=Object(n.useCallback)((function(e){O((function(e){return u?e.push({first_name:"",last_name:"",email:""}):e.push({name:"",email:""}),e})),D((function(e){return!e}))}),[]),M=Object(n.useCallback)((function(e){var t=e.currentTarget.dataset.id;O((function(e){return e.splice(t,1),e})),D((function(e){return!e}))}),[O,D]),U=function(e){O((function(t){return t.splice(e,1),t}))},G=function(){k(!S),C(Ve({type:f}))};return Object(n.useEffect)((function(){for(var e=function(e){var t={};t=u?{first_name:"",last_name:"",email:""}:{name:"",email:""},O((function(e){return[].concat(Object(Rt.a)(e),[t])}))},t=E.length;t<3;t++)e()}),[]),r.a.createElement(tO.a,{isOpen:S,toggle:G,size:"lg",centered:!0},r.a.createElement(Ig,{toggle:G,className:"invited-users-modal"},"User invitations"),r.a.createElement(aO.a,null,r.a.createElement("table",{className:"table table-responsive"},r.a.createElement("tr",null,u?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name")):r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,r.a.createElement(pn,{className:"cursor-pointer",icon:"circle-plus",onClick:F}))),E.map((function(e,t){return r.a.createElement("tr",{key:t},u?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(kE,{"data-id":t,placeholder:"First name",name:"first_name",value:e.first_name,isValid:A.valid[t]?A.valid[t].first_name:null,feedback:A.message[t]?A.message[t].first_name:null,onChange:L})),r.a.createElement("td",null,r.a.createElement(kE,{"data-id":t,placeholder:"Last name",name:"last_name",value:e.last_name,isValid:A.valid[t]?A.valid[t].last_name:null,feedback:A.message[t]?A.message[t].last_name:null,onChange:L}))):r.a.createElement("td",null,r.a.createElement(kE,{"data-id":t,placeholder:"Name",name:"name",value:e.name,isValid:A.valid[t]?A.valid[t].name:null,feedback:A.message[t]?A.message[t].name:null,onChange:L})),r.a.createElement("td",null,r.a.createElement(kE,{"data-id":t,placeholder:"Email",name:"email",value:e.email,type:"email",isValid:A.valid[t]?A.valid[t].email:null,feedback:A.message[t]?A.message[t].email:null,onChange:L})),r.a.createElement("td",null,r.a.createElement(pn,{"data-id":t,className:"cursor-pointer",icon:"x",onClick:M})))})),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(Zg,{onClick:F},r.a.createElement(pn,{icon:"plus"})," ",r.a.createElement("span",null,"Add another")))))),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{color:"primary",onClick:function(){(function(){for(var e=!0,t={},a={},n=0;n<E.length;n++)u?""===E[n].first_name&&""===E[n].last_name&&""===E[n].email||("undefined"===typeof t[n]&&(t[n]={},a[n]={}),""===E[n].first_name?(t[n].first_name=!1,a[n].first_name="First name is required.",e=!1):t[n].first_name=!0,""===E[n].last_name?(t[n].last_name=!1,a[n].last_name="Last name is required.",e=!1):t[n].last_name=!0,""===E[n].email?(t[n].email=!1,a[n].email="Email is required.",e=!1):Mt.test(E[n].email)?t[n].email=!0:(t[n].email=!1,a[n].email="Email is invalid format.",e=!1)):""===E[n].name&&""===E[n].email||("undefined"===typeof t[n]&&(t[n]={},a[n]={}),""===E[n].name?(t[n].name=!1,a[n].name="Name is required.",e=!1):t[n].name=!0,""===E[n].email?(t[n].email=!1,a[n].email="Email is required.",e=!1):Mt.test(E[n].email)?t[n].email=!0:(t[n].email=!1,a[n].email="Email is invalid format.",e=!1));return j({valid:t,message:a}),e})()&&!x&&(R(!0),s(u?E.filter((function(e,t){return""!==e.first_name&&""!==e.last_name&&""!==e.email})):E.filter((function(e,t){return""!==e.name&&""!==e.email})),(function(){R(!1)}),{closeModal:G,deleteItemByIndex:U,invitationItems:E}))}},x&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),i)," ",r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:G},c)))}));function $g(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  > .form-control:not(:first-child) {\n    border-radius: 5px;\n  }\n\n  label {\n    white-space: nowrap;\n    margin: 0 20px 0 0;\n    min-width: 125px;\n  }\n  \n  .form-group {\n    width: calc(100% - 145px);\n  }\n\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.action-wrapper {\n    margin-top: 40px;\n\n    .action-archive-wrapper {\n        display: flex;\n        width: 100%;\n\n        .btn-archive {\n          display: flex;\n          margin-left: auto;\n          text-decoration: underline;\n          color: #a7abc3;\n        }\n    }\n  }\n"]);return $g=function(){return e},e}var ev=Object(E.a)(Ob.a)($g()),tv=r.a.memo((function(e){var t=e.data,a=t.type,i=t.mode,o=t.item,c=void 0===o?null:o,s=t.actions,d=Wa(),u=vs()._t,m={linkCreateTitle:u("SHORTCUT.LINK_CREATE_TITLE","Add shortcut"),linkUpdateTitle:u("SHORTCUT.LINK_UPDATE_TITLE","Update shortcut"),linkRemoveTitle:u("SHORTCUT.LINK_REMOVE_TITLE","Remove shortcut"),createLink:u("SHORTCUT.CREATE_LINK","Add"),updateLink:u("SHORTCUT.UPDATE_LINK","Update"),removeLink:u("SHORTCUT.REMOVE_LINK","Remove"),name:u("SHORTCUT.NAME","Name"),webAddress:u("SHORTCUT.WEB_ADDRESS","Web address"),remove:u("SHORTCUT.REMOVE","Remove"),cancel:u("SHORTCUT.CANCEL","Cancel")};c&&(m=Object(R.a)(Object(R.a)({},m),{},{removeLinkBodyText:u("SHORTCUT.REMOVE_LINK_BODY_TEXT","Are you sure to remove ::name::?",{name:'<a href="'.concat(c.web_address,'" target="_blank">').concat(c.name,"</a>")})}));var p=Object(n.useRef)(),f=Object(l.useDispatch)(),b=Object(n.useState)(!0),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useState)({name:"",web_address:""}),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(n.useState)(!1),T=Object(_.a)(C,2),y=T[0],S=T[1],k=Object(n.useState)({valid:{},message:{}}),w=Object(_.a)(k,2),N=w[0],I=w[1],P=Object(n.useCallback)((function(e){e.persist(),j((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))})),I((function(t){return Object(R.a)(Object(R.a)({},t),{},{valid:Object(R.a)(Object(R.a)({},t.valid),{},Object(x.a)({},e.target.name,void 0)),message:Object(R.a)(Object(R.a)({},t.message),{},Object(x.a)({},e.target.name,void 0))})}))}),[]),D=function(){O(!E),f(Ve({type:a}))};Object(n.useEffect)((function(){console.log(c),console.log(i),"edit"===i&&j(Object(R.a)(Object(R.a)({},A),{},{name:c.name,web_address:c.web_address,index:c.index}))}),[]);return r.a.createElement(tO.a,{isOpen:E,toggle:D,size:"lg",onOpened:function(){p&&p.current&&p.current.focus()},centered:!0},r.a.createElement(Ig,{toggle:D,className:"workspace-folder-header"},"edit"===i?m.linkUpdateTitle:m.linkCreateTitle),r.a.createElement(aO.a,null,r.a.createElement(ev,null,r.a.createElement("div",null,r.a.createElement(Vh.a,{for:"folder"},m.webAddress)),r.a.createElement(kE,{name:"web_address",defaultValue:A.web_address,placeholder:"e.g. ".concat(d.getBaseUrl()),onChange:P,isValid:N.valid.web_address,feedback:N.message.web_address})),r.a.createElement(ev,null,r.a.createElement("div",null,r.a.createElement(Vh.a,{for:"folder"},m.name)),r.a.createElement(kE,{name:"name",defaultValue:A.name,placeholder:"e.g. ".concat(d.getName()," Driff website"),onChange:P,isValid:N.valid.name,feedback:N.message.name})),r.a.createElement(ev,{className:"action-wrapper",style:{marginTop:"40px"}},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){if(function(){var e={},t={};return""===A.name?(e.name=!1,t.name="Name is required."):e.name=!0,""===A.web_address?(e.web_address=!1,t.web_address="Link is required."):e.web_address=!0,I({valid:e,message:t}),!Object.values(e).some((function(e){return!1===e}))}()&&!y)switch(S(!0),i){case"create":s.create(A,(function(){S(!1),D()}));break;case"edit":s.update(A,(function(){S(!1),D()}))}}},y&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===i?m.updateLink:m.createLink),"edit"===i&&r.a.createElement("div",{className:"action-archive-wrapper"},r.a.createElement("span",{onClick:function(){s.delete(A,{dictionary:m,callback:function(){D()}})},className:"btn-archive text-link mt-2 cursor-pointer"},m.removeLink)))))}));function av(){var e=Object(f.a)([""]);return av=function(){return e},e}var nv,rv,iv,ov,cv,sv,lv,dv=Object(E.a)(tO.a)(av()),uv=r.a.memo((function(e){var t=e.data,a=t.className,i=void 0===a?"":a,o=t.type,c=t.file,s=t.folder_id,d=t.dictionary,u=t.actions,m=Pp().folders,p=Object(l.useDispatch)(),f=Object(n.useState)(null),b=Object(_.a)(f,2),h=b[0],E=b[1],O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1],j=function(){p(Ve({type:o}))},C=Object.values(m).filter((function(e){return"undefined"===typeof e.payload&&((!s||e.id!==s)&&!e.is_archived)})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{id:e.id,label:e.search})})),T=am().generalSettings.dark_mode;return r.a.createElement(dv,{isOpen:!0,toggle:j,centered:!0,className:"single-input-modal ".concat(i)},r.a.createElement(Ig,{toggle:j},d.headerText),r.a.createElement(aO.a,null,r.a.createElement("div",null,d.bodyText),r.a.createElement(mh.a,{styles:"0"===T?ph:fh,options:C,onChange:function(e){E(e)}})),r.a.createElement(nO.a,null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){v||null===h||(A(!0),u.onSubmit({name:c.search,file_id:c.id,folder_id:h.id},(function(){A(!1),j()}),{selectedFolder:h.label}))}},v&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),d.submitText),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){j()}},d.cancelText)))})),mv=Object(E.a)(tO.a)(nv||(nv=Object(f.a)(["\n  .invalid-feedback {\n    display: block;\n  }\n  .modal-body {\n    padding-bottom: 0 !important;\n  }\n  .file-attachments-container {\n    display: inline-flex;\n  }\n"]))),pv=E.a.div(rv||(rv=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n  > div {\n    margin-bottom: 10px;\n  }\n"]))),fv=Object(E.a)(bE)(iv||(iv=Object(f.a)(["\n  display: block;\n"]))),bv=E.a.div(ov||(ov=Object(f.a)(["\n  z-index: 3;\n"]))),hv=E.a.div(cv||(cv=Object(f.a)(["\n  z-index: 2;\n"]))),Ev=E.a.div(sv||(sv=Object(f.a)(["\n  z-index: 1;\n"]))),_v=Object(E.a)(rE)(lv||(lv=Object(f.a)(["\n  .description-input {\n    height: ","px;\n    max-height: 400px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n"])),(function(e){return e.height>80?e.height:80})),Ov=r.a.memo((function(e){var t=e.data,a=t.type,i=t.item,o=t.parentItem,c=void 0===o?null:o,s=t.itemType,d=void 0===s?null:s,u=t.actions,m=t.params,p=t.mode,f=void 0===p?"create":p,b=am().generalSettings,h=b.date_picker_format,E=b.time_picker_format,O=b.language,g=vs()._t,v=Object(l.useDispatch)(),A=Op(),j=qp(),C=Object(l.useSelector)((function(e){return e.session.user})),T=Object(l.useSelector)((function(e){return e.users.users})),y=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),S=Object(l.useSelector)((function(e){return e.workspaces.workspacesLoaded})),k=Object(n.useState)(0),w=Object(_.a)(k,2),N=w[0],I=w[1],P=Object(n.useState)(!1),D=Object(_.a)(P,2),M=D[0],U=D[1],G=Object(n.useState)({title:{value:"POST"===d?i.title:c?c.title:""},description:{value:i&&i.body?i.body:""},set_time:{value:"1h"},topic_id:{value:null},assigned_to:{value:null}}),H=Object(_.a)(G,2),B=H[0],W=H[1],Y=i&&i.remind_at&&Math.round(+new Date/1e3)>i.remind_at.timestamp?Bb.a.unix(i.remind_at.timestamp).toDate():Bb()().add(1,"m").toDate(),V=Object(n.useState)(i&&i.remind_at?"pick_data":""),Q=Object(_.a)(V,2),K=Q[0],z=Q[1],J=Object(n.useState)(i&&i.remind_at?Bb.a.unix(i.remind_at.timestamp).toDate():Bb()().add(20,"m").toDate()),Z=Object(_.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useState)(!(!i||!i.remind_at)||null),te=Object(_.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!0),ie=Object(_.a)(re,2),oe=ie[0],ce=ie[1],se=Object(n.useState)(!1),le=Object(_.a)(se,2),de=le[0],ue=le[1],me=Object(n.useState)([]),pe=Object(_.a)(me,2),fe=pe[0],be=pe[1],he=Object(n.useState)(null),Ee=Object(_.a)(he,2),_e=Ee[0],Oe=Ee[1],ge=Object(n.useState)([]),ve=Object(_.a)(ge,2),Ae=ve[0],je=ve[1],Ce=Object(n.useState)(null),Te=Object(_.a)(Ce,2),ye=Te[0],Se=Te[1],ke=Object(n.useState)(""),we=Object(_.a)(ke,2),Ne=we[0],xe=we[1],Re=Object(n.useState)(!1),Ie=Object(_.a)(Re,2),Pe=Ie[0],De=Ie[1],Le=Object(n.useState)([]),Fe=Object(_.a)(Le,2),Me=Fe[0],Ue=Fe[1],Ge=Object(n.useState)([]),He=Object(_.a)(Ge,2),Be=He[0],We=He[1],Ye=Object(n.useState)([]),Qe=Object(_.a)(Ye,2),Ke=Qe[0],ze=Qe[1],qe=Object(n.useState)(!1),Je=Object(_.a)(qe,2),Ze=Je[0],Xe=Je[1],$e=Object(n.useState)([]),et=Object(_.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)(null),rt=Object(_.a)(nt,2),it=rt[0],ot=rt[1],ct=Object(n.useRef)(null),st=Object(n.useRef)(0),lt=function(){je(Object.values(T).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))};Object(n.useEffect)((function(){if(S&&Pe){if(!d&&m&&y[m.workspaceId]){var e=Object(R.a)({},y[m.workspaceId]);console.log("set default workspace"),Oe(Object(R.a)(Object(R.a)({},e),{},{icon:"compass",value:e.id,label:e.name})),W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:e.id}})),je(e.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}if(d&&c&&"CHAT"===d&&"TOPIC"===c.type&&y[c.entity_id]){var t=Object(R.a)({},y[c.entity_id]);Oe(Object(R.a)(Object(R.a)({},t),{},{icon:"compass",value:t.id,label:t.name})),W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:t.id}})),je(t.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}if(d&&"POST"===d&&"create"===f){var a=i.recipients.find((function(e){return"TOPIC"===e.type}));if(a){var n=Object(R.a)({},y[a.id]);Oe(Object(R.a)(Object(R.a)({},n),{},{icon:"compass",value:n.id,label:n.name})),W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:n.id}})),je(n.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}}if(d&&"POST_COMMENT"===d&&c&&"create"===f){var r=c.recipients.find((function(e){return"TOPIC"===e.type}));if(r){var o=Object(R.a)({},y[r.id]);Oe(Object(R.a)(Object(R.a)({},o),{},{icon:"compass",value:o.id,label:o.name})),W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:o.id}})),je(o.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})})))}}be(Object.values(y).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"compass",value:e.id,label:e.name})})))}}),[Pe,S,m]),Object(n.useEffect)((function(){if("edit"===f&&i&&i.workspace&&y[i.workspace.id]){var e=Object(R.a)({},y[i.workspace.id]);Oe(Object(R.a)(Object(R.a)({},e),{},{icon:"compass",value:e.id,label:e.name})),je(e.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:e.id},assigned_to:{value:i.assigned_to?i.assigned_to.id:null}})),i.assigned_to&&Se(Object(R.a)(Object(R.a)({},i.assigned_to),{},{icon:"user-avatar",value:i.assigned_to.id,label:i.assigned_to.name?i.assigned_to.name:i.assigned_to.email,type:"USER"}))}else"edit"===f&&i&&!i.workspace?(W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:null},assigned_to:{value:i.assigned_to?i.assigned_to.id:null}})),i.assigned_to&&Se(Object(R.a)(Object(R.a)({},i.assigned_to),{},{icon:"user-avatar",value:i.assigned_to.id,label:i.assigned_to.name?i.assigned_to.name:i.assigned_to.email,type:"USER"})),lt()):lt();"edit"===f&&i&&i.files.length&&We(i.files.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{id:e.file_id})}))),De(!0)}),[]);var dt={title:Object(n.useRef)(null),dropzone:Object(n.useRef)(null)},ut={author:g("REMINDER.AUTHOR","Author"),title:g("REMINDER.TITLE","Title"),description:g("REMINDER.DESCRIPTION","Description"),remindMeOn:g("REMINDER.REMIND_ME_ON","Remind me in"),message:g("REMINDER.MESSAGE","Message"),oneHour:g("REMINDER.ONE_HOUR","1 hour"),threeHours:g("REMINDER.THREE_HOURS","3 hours"),tomorrow:g("REMINDER.TOMORROW","Tomorrow"),pickDateTime:g("REMINDER.PICK_DATE_TIME","Pick date and time"),cancel:g("REMINDER.CANCEL","Cancel"),feedbackReminderDateFuture:g("FEEDBACK.REMINDER_DATE_MUST_BE_FUTURE","Reminder date must be in the future."),feedbackReminderDateOverdue:g("FEEDBACK.REMINDER_DATE_OVERDUE","Note: Reminder date is overdue."),reminderInfo:g("REMINDER.INFO","Reminders help to organize your thoughts and guide you through your day."),snooze:g("REMINDER.REMIND","Remind"),workspaceLabel:g("LABEL.WORKSPACE","Workspace"),assignedToLabel:g("LABEL.ASSIGN_TO","Assign to"),fileAttachments:g("POST.FILE_ATTACHMENTS","File attachments"),uploadingAndSending:g("TOASTER.CREATING_TODO_WITH_FILE","Uploading file and creating reminder"),unsuccessful:g("FILE_UNSUCCESSFULL","Upload File Unsuccessful")};ut.chatReminder=null===d?g("REMINDER.SET_A_REMINDER","New reminder"):g("REMINDER.SET_A_REMINDER_FOR_THIS_TYPE","Set a reminder for this ::type::",{type:d.toLowerCase().replace("_"," ")});var mt=function(){ce(!oe),v(Ve({type:a}))},pt=function(e){var t=e.currentTarget,a=t.name,n=t.value;W((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},a,Object(R.a)(Object(R.a)({},e[a]),{},{value:n})))}))},ft=function(e,t,a,n){""!==n.getText(e).trim()&&W((function(t){return Object(R.a)(Object(R.a)({},t),{},{description:Object(R.a)(Object(R.a)({},t.description),{},{value:e})})}))},bt=function(e,t){ne(!1),z(K===t?"":t)},ht=function(e){e&&!de&&(dt.title.current=e,setTimeout((function(){dt.title.current.focus(),ue(!0)}),500))},Et=function(e){Oe(e),e?(W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:e.id},assigned_to:{value:ye&&e.member_ids.some((function(e){return ye.id!==e}))?null:B.assigned_to.value}})),je(e.members.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),ye&&e.member_ids.some((function(e){return ye.id!==e}))&&Se(null)):(W(Object(R.a)(Object(R.a)({},B),{},{topic_id:{value:null},assigned_to:{value:null}})),lt(),Se(null))},_t=function(e){Se(e),W(e?Object(R.a)(Object(R.a)({},B),{},{assigned_to:{value:e.id}}):Object(R.a)(Object(R.a)({},B),{},{assigned_to:{value:null}}))},Ot=function(e){xe(e)},gt=function(){dt.dropzone.current&&dt.dropzone.current.open()},vt=function(){Xe(!1)},At=function(e){Be.some((function(t){return t.id===parseInt(e)}))&&ze([].concat(Object(Rt.a)(Be.filter((function(t){return t.id===parseInt(e)}))),Object(Rt.a)(Ke))),We((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),Ue((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))},jt=function(e){var t=e.loaded/e.total;null===ct.current?ct.current=A.info(r.a.createElement("div",null,ut.uploadingAndSending,"."),{progress:st.current,autoClose:!0}):A.update(ct.current,{progress:t,autoClose:!0})},Ct=function(){null!==ct.curent&&(U(!1),A.dismiss(ct.current),A.error(r.a.createElement("div",null,ut.unsuccessful,".")),ct.current=null)};function Tt(){return(Tt=Object(F.a)(L.a.mark((function e(t){var a,n,r=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:"create",a=new FormData,n={user_id:C.id,file_type:"private",folder_id:null,fileOption:null,options:{config:{onUploadProgress:jt}}},Me.map((function(e,t){return a.append("files[".concat(t,"]"),e.bodyFormData.get("file"))})),n.files=a,e.next=7,new Promise((function(e,t){return e(q(n))})).then((function(e){t=Object(R.a)(Object(R.a)({},t),{},{file_ids:[].concat(Object(Rt.a)(e.data.map((function(e){return e.id}))),Object(Rt.a)(t.file_ids))}),u.onSubmit(t,(function(){return A.dismiss(ct.current)}))})).catch((function(e){Ct()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(mv,{isOpen:oe,toggle:mt,size:"lg",className:"todo-reminder-modal",centered:!0},r.a.createElement(Ig,{toggle:mt},ut.chatReminder),r.a.createElement(aO.a,{"data-set-update":N,onDragOver:function(){Ze||Xe(!0)}},r.a.createElement(og,{hide:!Ze,ref:dt.dropzone,onDragLeave:vt,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var n=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,bodyFormData:a,type:"IMAGE",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:C}):"video/mp4"===e.type?t.push({rawFile:e,bodyFormData:a,type:"VIDEO",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:C}):t.push({rawFile:e,bodyFormData:a,type:"DOC",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:C})})),Ue((function(e){return[].concat(Object(Rt.a)(e),t)})),vt()}(e.acceptedFiles)},onCancel:vt,attachedFiles:Me}),null===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ut.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ut.title),r.a.createElement("div",{className:"col-12"},r.a.createElement(kE,{innerRef:ht,name:"title",defaultValue:B.title.value,placeholder:ut.title,onChange:pt,isValid:B.title.valid,feedback:B.title.feedback,autoFocus:!0})),r.a.createElement("div",{className:"col-12"},r.a.createElement(_v,{className:"modal-description",height:j.height-660,defaultValue:B.description.value,showFileButton:!0,onChange:ft,onOpenFileDialog:gt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:at,setImageLoading:ot})),(Me.length>0||Be.length>0)&&r.a.createElement("div",{className:"col-12"},r.a.createElement("div",null,r.a.createElement("label",{className:"modal-label",for:"workspace"},ut.fileAttachments)),r.a.createElement("div",{className:"file-attachments-container"},r.a.createElement(Hc,{attachedFiles:[].concat(Object(Rt.a)(Me),Object(Rt.a)(Be)),handleRemoveFile:At})))),r.a.createElement("div",{className:"column clearfix"},r.a.createElement("div",{className:"col-lg-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.workspaceLabel),r.a.createElement(bv,{className:"mb-2"},r.a.createElement(Yh,{options:fe,value:_e,onChange:Et,isMulti:!1,isClearable:!0}))),r.a.createElement("div",{className:"col-lg-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.assignedToLabel),r.a.createElement(hv,{className:"mb-2"},r.a.createElement(jh,{options:Ae,value:ye,inputValue:Ne,onChange:_t,onInputChange:Ot,isMulti:!1,isClearable:!0,isSearchable:!0}))))),"POST"===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ut.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ut.author),r.a.createElement("div",{className:"col-12 mb-3"},i.author.name),r.a.createElement("div",{className:"col-12 modal-label"},ut.title),r.a.createElement("div",{className:"col-12"},r.a.createElement(kE,{innerRef:ht,name:"title",defaultValue:B.title.value,placeholder:ut.title,onChange:pt,isValid:B.title.valid,feedback:B.title.feedback,autoFocus:!0})),r.a.createElement("div",{className:"col-12"},r.a.createElement(_v,{className:"modal-description",height:j.height-660,defaultValue:B.description.value,showFileButton:!0,onChange:ft,onOpenFileDialog:gt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:at,setImageLoading:ot})),(Me.length>0||Be.length>0)&&r.a.createElement("div",{className:"col-12"},r.a.createElement("div",null,r.a.createElement("label",{className:"modal-label",for:"workspace"},ut.fileAttachments)),r.a.createElement("div",{className:"file-attachments-container"},r.a.createElement(Hc,{attachedFiles:[].concat(Object(Rt.a)(Me),Object(Rt.a)(Be)),handleRemoveFile:At}))),r.a.createElement("div",{className:"column clearfix"},r.a.createElement("div",{className:"col-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.workspaceLabel),r.a.createElement(bv,{className:" mb-2"},r.a.createElement(Yh,{options:fe,value:_e,onChange:Et,isMulti:!1,isClearable:!0}))),r.a.createElement("div",{className:"col-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.assignedToLabel),r.a.createElement(hv,{className:"mb-2"},r.a.createElement(jh,{options:Ae,value:ye,inputValue:Ne,onChange:_t,onInputChange:Ot,isMulti:!1,isClearable:!0,isSearchable:!0})))))),"CHAT"===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ut.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ut.author),r.a.createElement("div",{className:"col-12 mb-3"},i.user?i.user.name:"System"),r.a.createElement("div",{className:"col-12 modal-label"},ut.title),r.a.createElement("div",{className:"col-12"},r.a.createElement(kE,{innerRef:ht,name:"title",defaultValue:B.title.value,placeholder:ut.title,onChange:pt,isValid:B.title.valid,feedback:B.title.feedback,autoFocus:!0})),r.a.createElement("div",{className:"col-12"},r.a.createElement(_v,{className:"modal-description",height:j.height-660,defaultValue:B.description.value,showFileButton:!0,onChange:ft,onOpenFileDialog:gt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:at,setImageLoading:ot})),(Me.length>0||Be.length>0)&&r.a.createElement("div",{className:"col-12"},r.a.createElement("div",null,r.a.createElement("label",{className:"modal-label",for:"workspace"},ut.fileAttachments)),r.a.createElement("div",{className:"file-attachments-container"},r.a.createElement(Hc,{attachedFiles:[].concat(Object(Rt.a)(Me),Object(Rt.a)(Be)),handleRemoveFile:At})))),r.a.createElement("div",{className:"column clearfix"},r.a.createElement("div",{className:"col-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.workspaceLabel),r.a.createElement(bv,{className:"mb-2"},r.a.createElement(Yh,{options:fe,value:_e,onChange:Et,isMulti:!1,isClearable:!0}))),r.a.createElement("div",{className:"col-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.assignedToLabel),r.a.createElement(hv,{className:"mb-2"},r.a.createElement(jh,{options:Ae,value:ye,inputValue:Ne,onChange:_t,onInputChange:Ot,isMulti:!1,isClearable:!0,isSearchable:!0}))))),"POST_COMMENT"===d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"col-12 modal-info"},ut.reminderInfo),r.a.createElement("div",{className:"col-12 modal-label"},ut.author),r.a.createElement("div",{className:"col-12 mb-3"},i.author.name),r.a.createElement("div",{className:"col-12 modal-label"},ut.title),r.a.createElement("div",{className:"col-12"},r.a.createElement(kE,{innerRef:ht,name:"title",defaultValue:B.title.value,placeholder:ut.title,onChange:pt,isValid:B.title.valid,feedback:B.title.feedback,autoFocus:!0})),r.a.createElement("div",{className:"col-12"},r.a.createElement(_v,{className:"modal-description",height:j.height-660,defaultValue:B.description.value,showFileButton:!0,onChange:ft,onOpenFileDialog:gt,disableBodyMention:!0,modal:"reminders",mentionedUserIds:[],setInlineImages:at,setImageLoading:ot})),(Me.length>0||Be.length>0)&&r.a.createElement("div",{className:"col-12"},r.a.createElement("div",null,r.a.createElement("label",{className:"modal-label",for:"workspace"},ut.fileAttachments)),r.a.createElement("div",{className:"file-attachments-container"},r.a.createElement(Hc,{attachedFiles:[].concat(Object(Rt.a)(Me),Object(Rt.a)(Be)),handleRemoveFile:At})))),r.a.createElement("div",{className:"column clearfix"},r.a.createElement("div",{className:"col-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.workspaceLabel),r.a.createElement(bv,{className:"mb-2"},r.a.createElement(Yh,{options:fe,value:_e,onChange:Et,isMulti:!1,isClearable:!0}))),r.a.createElement("div",{className:"col-6 float-left"},r.a.createElement("div",{className:"modal-label"},ut.assignedToLabel),r.a.createElement(hv,{className:"mb-2"},r.a.createElement(jh,{options:Ae,value:ye,inputValue:Ne,onChange:_t,onInputChange:Ot,isMulti:!1,isClearable:!0,isSearchable:!0}))))),r.a.createElement(Ev,{className:"column mt-2"},r.a.createElement("div",{className:"col-12 col-lg-4 modal-label mb-1"},ut.remindMeOn),r.a.createElement("div",{className:"col-12 mb-3"},r.a.createElement(pv,null,r.a.createElement(Gb,{readOnly:!0,onClick:function(e){bt(0,"1h")},checked:"1h"===K,value:"1h",name:"role"},ut.oneHour),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){bt(0,"3h")},checked:"3h"===K,value:"3h",name:"role"},ut.threeHours),r.a.createElement(Gb,{readOnly:!0,onClick:function(e){bt(0,"tomorrow")},checked:"tomorrow"===K,value:"tomorrow",name:"role"},ut.tomorrow),r.a.createElement(Gb,{readOnly:!0,onClick:function(){z("pick_data"),ne(!0)},checked:"pick_data"===K,value:"pick_data",name:"role"},ut.pickDateTime),ae&&r.a.createElement(Ob.a,null,r.a.createElement(NO.a,{minDate:Y,onChange:function(e){$(e)},value:X,locale:O,format:"".concat(h," ").concat(E),disableClock:!0}),r.a.createElement(fv,{valid:B.set_time.valid},B.set_time.feedback)))))),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:mt},ut.cancel),r.a.createElement(rO.a,{color:"primary",onClick:function(){if(!M&&function(){var e=Object(R.a)({},B);if(""===B.title.value.trim()?(e.title.valid=!1,e.title.feedback="Title is required."):(e.title.value=B.title.value.trim(),e.title.valid=!0,e.title.feedback=null),"pick_data"===K){var t=new Date,a=new Date(X);if(a>t){var n=Bb.a.utc(a).format("YYYY-MM-DD HH:mm:ss");e.set_time.value=n.slice(0,-2)+"00",e.set_time.valid=!0,e.set_time.feedback=null}else if(X.getTime()===a.getTime()){var r=Bb.a.utc(a).format("YYYY-MM-DD HH:mm:ss");e.set_time.value=r.slice(0,-2)+"00",e.set_time.valid=!0,e.set_time.feedback=ut.feedbackReminderDateOverdue}else e.set_time.valid=!1,e.set_time.feedback=ut.feedbackReminderDateFuture}else e.set_time.value=K,e.set_time.valid=!0;return W(e),I((function(e){return e?0:1})),!Object.keys(e).map((function(t){return e[t].valid})).some((function(e){return!1===e}))}()&&!it){U(!0);var e={};Object.keys(B).forEach((function(t){"set_time"===t?""!==B[t].value&&(e[t]=B[t].value):B[t].value&&(e[t]=B[t].value)})),e=Object(R.a)(Object(R.a)({},e),{},{file_ids:[].concat(Object(Rt.a)(tt.map((function(e){return e.id}))),Object(Rt.a)(Be.map((function(e){return e.id})))),remove_file_ids:Ke.map((function(e){return e.id}))}),Me.length>0?(!function(e){Tt.apply(this,arguments)}(e),mt()):(u.onSubmit(e,(function(e,t){})),U(!1),mt())}}},M&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),ut.snooze)," "))}));function gv(){var e=Object(f.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  place-content: center;\n  .feather {\n    cursor: pointer;\n  }\n  position: fixed;\n  top: 0;\n  z-index: 1000;\n\n  .button-notification {\n    background: #8c48ae;\n    border: none;\n    padding: 0 1rem;\n    margin: 0 6px;\n  }\n"]);return gv=function(){return e},e}var vv=E.a.div(gv()),Av=r.a.memo((function(e){var t=e.data,a=t.type,i=t.requirement,o=t.handleReminder,c=Ra(),s=c.logout,d=c.processBackendLogout,u=Object(l.useDispatch)(),m=vs()._t,p={update:m("DRIFF.DRIFF_VERSION_UPDATE","Go!"),remindMeAboutThis:m("DRIFF.REMIND_ME_ABOUT_THIS","Not right now"),updateReload:m("DRIFF.UPDATE_BODY_RELOAD","\ud83c\udf89  Driff is updated. Reload now?"),updateLogout:m("DRIFF.UPDATE_BODY_LOGOUT","\ud83c\udf89 Driff is updated. Logout now?")},f=Object(n.useState)(!0),b=Object(_.a)(f,2),h=b[0],E=b[1],O=function(){E(!h),u(Ve({type:a}))};return Object(n.useEffect)((function(){var e=setInterval((function(){var t=document.querySelector(".modal-backdrop");t&&t.classList.contains("show")&&(t.classList.remove("show"),clearInterval(e))}),100)}),[]),r.a.createElement(vv,{isOpen:h,toggle:O,size:"m",centered:!0},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:function(){switch(i){case"logout":return p.updateLogout;default:return p.updateReload}}()}}),r.a.createElement(rO.a,{className:"button-notification",onClick:function(){switch(O(),i){case"logout":s(d()());break;default:window.location.reload()}}},p.update)," ",r.a.createElement(pn,{className:"ml-3 align-self-center",icon:"x",onClick:function(){O(),o()}}))}));function jv(){var e=Object(f.a)(["\n  text-align: right;\n"]);return jv=function(){return e},e}function Cv(){var e=Object(f.a)(["\n  width: 100%;\n  min-height: 300px;\n  max-height: 600px;\n  border-radius: 6px;\n  border: 1px solid #e1e1e1;\n\n  &.description-input {\n    overflow: auto;\n    overflow-x: hidden;\n    position: static;\n    width: 100%;\n  }\n  .ql-toolbar {\n    position: absolute;\n    bottom: -25px;\n    padding: 0;\n    border: none;\n    .ql-formats {\n      margin-right: 10px;\n    }\n  }\n  .ql-container {\n    border: none;\n    max-height: inherit;\n  }\n  .ql-editor {\n    padding: 5px;\n    max-height: inherit;\n  }\n"]);return Cv=function(){return e},e}function Tv(){var e=Object(f.a)(["\n  .modal-footer {\n    justify-content: space-between;\n  }\n  .margin-left-auto {\n    margin-left: auto;\n  }\n"]);return Tv=function(){return e},e}var yv=Object(E.a)(tO.a)(Tv()),Sv=Object(E.a)(kb)(Cv()),kv=E.a.div(jv()),wv=r.a.memo((function(e){var t=e.data,a=t.type,i=t.item;console.log(e.data);var o=Object(l.useDispatch)(),c=Object(n.useState)(!0),s=Object(_.a)(c,2),d=s[0],u=s[1],m=Object(n.useState)({title:"",description:"",textOnly:"",major_release:!1}),p=Object(_.a)(m,2),f=p[0],b=p[1],h=Object(n.useState)(!1),E=Object(_.a)(h,2),O=E[0],g=(E[1],Object(n.useState)(!1)),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(n.useState)(!1),T=Object(_.a)(C,2),y=T[0],S=T[1],k=Object(n.useState)(!1),w=Object(_.a)(k,2),N=w[0],x=w[1],I=function(){i?!i.draft_id||i.body===f.description&&i.action_text===f.title?(u(!d),o(Ve({type:a}))):x(!0):""!==f.title&&""!==f.description?x(!0):(u(!d),o(Ve({type:a})))},P=function(){x(!N),S(!1)},D=function(){j(!A),S(!1)},L=function(e){j(!A),S(!0),u(!d),e&&M(),o(Ve({type:a}))};Object(n.useEffect)((function(){i&&b({title:i.action_text,description:i.body,textOnly:i.body,major_release:i.major_release})}),[]);var F=function(){o(ze({type:"release",draft_id:i.draft_id},(function(e,t){e||o(wt({id:i.draft_id}))})))},M=function(){i&&i.draft_id?F():o(Tt({id:i.id})),I()},U=function(){i&&i.draft_id?o(Ke(Object(R.a)(Object(R.a)({type:"release",draft_id:i.draft_id},f),{},{action_text:f.title,body:f.description}),(function(e,t){}))):o(Qe(Object(R.a)(Object(R.a)({},f),{},{action_text:f.title,body:f.description,type:"release"}))),u(!d),o(Ve({type:a}))},G=Object(n.useRef)(null),H=ms({mode:"description",mentionOrientation:"top",quillRef:G,disableMention:!0}).modules;return r.a.createElement(yv,{isOpen:d,toggle:I,size:"lg",className:"todo-reminder-modal",centered:!0},r.a.createElement(Ig,{toggle:I},"Release note"),r.a.createElement(aO.a,null,r.a.createElement(tO.a,{isOpen:A,toggle:D,onClosed:y?I:void 0,centered:!0},r.a.createElement(Ig,{toggle:D},"Delete log"),r.a.createElement(aO.a,null,"Are you sure you want to delete this release log?"),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{className:"btn-outline-secondary",onClick:function(){return L(!1)}},"Cancel"),r.a.createElement(rO.a,{color:"primary",onClick:function(){return L(!0)}},"Delete"))),r.a.createElement(tO.a,{isOpen:N,toggle:P,onClosed:y?I:void 0,centered:!0},r.a.createElement(Ig,{toggle:P},"Save as draft"),r.a.createElement(aO.a,null,"Save entry as draft?"),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{className:"btn-outline-secondary",onClick:function(){return L(!1)}},"Cancel"),r.a.createElement(rO.a,{color:"primary",onClick:U},"Save"))),r.a.createElement("div",{className:"col-12 modal-label"},"Title"),r.a.createElement("div",{className:"col-12"},r.a.createElement(kE,{name:"title",defaultValue:f.title,placeholder:"title",onChange:function(e){var t=e.currentTarget.value;b((function(e){return Object(R.a)(Object(R.a)({},e),{},{title:t})}))},autoFocus:!0})),r.a.createElement("div",{className:"col-12 modal-label"},"Description"),r.a.createElement("div",{className:"col-12"},r.a.createElement(Sv,{ref:G,onChange:function(e,t,a,n){var r=n.getText(e);""!==r.trim()&&b((function(t){return Object(R.a)(Object(R.a)({},t),{},{description:e,textOnly:r})}))},modules:H,name:"description",defaultValue:i?i.body:""})),r.a.createElement("br",null),r.a.createElement(kv,{className:"col-12"},r.a.createElement(lE,{name:"must_read",checked:f.major_release,onClick:function(){b(Object(R.a)(Object(R.a)({},f),{},{major_release:!f.major_release}))},type:"danger"},"Major release"))),r.a.createElement(nO.a,null,i&&r.a.createElement("div",null,r.a.createElement(rO.a,{className:"mr-1",outline:!0,color:"secondary",onClick:D},"Delete"),i.draft_id&&r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:U,disabled:""===f.textOnly||""===f.title},"Update draft")),!i&&r.a.createElement("div",null,r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:P,disabled:""===f.textOnly||""===f.title},"Save as draft")),r.a.createElement("div",{className:i?"":"margin-left-auto"},r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:I},"Cancel"),r.a.createElement(rO.a,{color:"primary ml-2",onClick:function(){if(i){var e={id:i.id,body:f.description,action_text:f.title,major_release:f.major_release};i.draft_id?(delete e.id,o(Ct(e,(function(e,t){e||F()})))):o(yt(e)),I()}else{var t={body:f.description,action_text:f.title,major_release:f.major_release};o(Ct(t)),I()}},disabled:""===f.textOnly||""===f.title},O&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),i&&i.draft_id?"Save":i?"Update":"Save")," ")))}));function Nv(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  transition: background 0.15s ease;\n  svg {\n    transition: none;\n  }\n  &:hover {\n    background: #25282c;\n    svg {\n      color: #ffffff;\n    }\n  }\n"]);return Nv=function(){return e},e}function xv(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]);return xv=function(){return e},e}var Rv=Object(E.a)(Ob.a)(xv()),Iv=E.a.div(Nv()),Pv=r.a.memo((function(e){var t=e.data,a=t.type,i=t.mode,o=t.item,c=Object(l.useDispatch)(),s=$m(),d=s.createNewPostList,u=s.updatePostsList,m=s.deletePostsList,p=s.connectPostList,f=s.fetchPostList,b=s.updatePostListConnect,h=Object(l.useSelector)((function(e){return e.posts.postsLists})),E=Object(n.useState)(!1),O=Object(_.a)(E,2),g=O[0],v=O[1],A=Object(n.useState)(!0),j=Object(_.a)(A,2),C=j[0],T=j[1],y=Object(n.useState)({name:"edit"===i?o.post.name:""}),S=Object(_.a)(y,2),k=S[0],w=S[1],N=Object(n.useState)({post_id:o&&o.post.hasOwnProperty("id")?o.post.id:null,link_id:""}),x=Object(_.a)(N,2),I=x[0],P=x[1],D=Object(n.useState)({name:null,link_id:null}),L=Object(_.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)({name:"",link_id:""}),G=Object(_.a)(U,2),H=G[0],B=G[1],W=am().generalSettings.dark_mode,Y=vs()._t,V={postListInfo:Y("POST.POST_LIST_INFO","Lists help you to combine post to groups (just for you!) or todo's"),cancel:Y("BUTTON.CANCEL","Cancel"),saveList:Y("BUTTON.SAVE_LIST","Save list"),addPost:Y("BUTTON.ADD_TO_LIST","Add"),update:Y("BUTTON.UPDATE","Update"),newList:Y("POST_LIST.NEW_LIST","New list"),updateList:Y("POST_LIST.UPDATE_LIST","Update list"),addToList:Y("POST_LIST.ADD_TO_LIST","Add to list"),title:Y("LABEL.TITLE","Title"),maxCharacters:Y("FEEDBACK.MAX_CHARACTERS","Max 50 characters"),requiredTitle:Y("FEEDBACK.REQUIRED","Title is required"),requiredPostList:Y("FEEDBACK.REQUIRED_POST_LIST","Please Select Post List"),archiveThisList:Y("POST_LIST.POST_LIST_ARCHIVE","Archive this list")},Q=function(){T(!C),c(Ve({type:a}))},K=Object(n.useCallback)((function(){v(!0),m({id:o.post.id},(function(e,t){e||(Q(),f())}))}),[k,o]),z=Object(n.useCallback)((function(){return""===k.name||k.name.length>50?(B((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:V.requiredTitle})})),M((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:!1})})),!1):(B((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:""})})),void M((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:!0})})))}),[k.name,B,M]);return r.a.createElement(tO.a,{isOpen:C,toggle:Q,size:"lg",className:"chat-forward-modal",centered:!0},r.a.createElement(Ig,{toggle:Q},"add"===i?V.addToList:"edit"===i?V.updateList:V.newList),r.a.createElement(aO.a,null,r.a.createElement(Rv,{className:"modal-input mt-0"},r.a.createElement("div",{className:"w-100"},r.a.createElement(Vh.a,{className:"modal-info pb-3 pt-3"},V.postListInfo),r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{className:"name-wrapper w-100"},"create"===i||"edit"===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vh.a,{className:"modal-label",for:"name"},V.title),r.a.createElement(gb.a,{name:"name",onFocus:function(){B((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:""})})),M((function(e){return Object(R.a)(Object(R.a)({},e),{},{name:!0})}))},onChange:function(e){e.persist(),w((function(t){return Object(R.a)(Object(R.a)({},t),{},{name:e.target.value.trim()})}))},onBlur:function(){z()},valid:F.name,invalid:null!==F.name&&!F.name,placeholder:V.title,defaultValue:"edit"===i?o.post.name:""}),r.a.createElement(bE,{valid:F.name},H.name)):r.a.createElement(r.a.Fragment,null,r.a.createElement(mh.a,{className:"react-select-container",styles:"0"===W?ph:fh,isMulti:!1,isClearable:!0,components:{Option:function(e){return r.a.createElement(Iv,null,r.a.createElement(uh.f.Option,e,e.data&&r.a.createElement("span",{className:"d-flex justify-content-start align-items-center"},r.a.createElement("div",{className:"select-option"},e.children))))}},options:h.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{label:e.name,value:e.id})})),onChange:function(e){null===e?(M((function(e){return Object(R.a)(Object(R.a)({},e),{},{link_id:!1})})),B((function(e){return Object(R.a)(Object(R.a)({},e),{},{link_id:V.requiredPostList})})),P((function(e){return Object(R.a)(Object(R.a)({},e),{},{link_id:""})}))):(M((function(e){return Object(R.a)(Object(R.a)({},e),{},{link_id:!0})})),P((function(t){return Object(R.a)(Object(R.a)({},t),{},{link_id:e.id})})))}}),r.a.createElement(bE,{valid:F.link_id},H.link_id)))))),"edit"===i&&r.a.createElement("span",{onClick:K,className:"btn-archive text-link mt-2 cursor-pointer d-flex flex-row-reverse"},V.archiveThisList)),r.a.createElement(nO.a,null,r.a.createElement(rO.a,{outline:!0,color:"secondary",onClick:Q},V.cancel),r.a.createElement(rO.a,{color:"primary",onClick:function(){if(!g)if("create"===i){if(!F.name)return;v(!0);var e={name:k.name};d(e,(function(e,t){e||(Q(),f())}))}else if("add"===i){if(!F.link_id)return;v(!0);var t=Object(R.a)({},I);p(t,(function(e,t){e||f({},(function(e,a){e||(b(t.data),Q())}))}))}else if("edit"===i){if(!F.name)return;v(!0);var a={name:k.name,id:o.post.id};u(a,(function(e,t){e||(Q(),f())}))}}},g&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"add"===i?V.addPost:"edit"===i?V.update:V.saveList)))}));function Dv(){var e=Object(f.a)([""]);return Dv=function(){return e},e}function Lv(){var e=Object(f.a)(["\n  .react-select-container {\n    width: 300px !important;\n    @media all and (max-width: 480px) {\n      width: 100%;\n    }\n  }\n"]);return Lv=function(){return e},e}function Fv(){var e=Object(f.a)(["\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"]);return Fv=function(){return e},e}var Mv=E.a.div(Fv()),Uv=E.a.div(Lv()),Gv=Object(E.a)(Yh)(Dv()),Hv=function(e){var t=e.dictionary,n=e.form,i=e.userOptions,o=e.isExternalUser,c=e.shareOption,s=e.setShareOption,l=e.setForm,d=e.user,u=[].concat(Object(Rt.a)(i.filter((function(e){return e.id!==d.id})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:a(40).generate(),value:"all",label:"All users",icon:"users",all_ids:i.filter((function(e){return e.id!==d.id})).map((function(e){return e.id}))}]),m=Object(Rt.a)(u),p=[{id:"internal",value:"internal",label:t.internalTeamLabel,icon:"eye-off"},{id:"external",value:"external",label:t.internalAndExternalTeamLabel,icon:"eye"}],f=function(e){var t=e.target.dataset.name;switch(t){case"no_reply":l((function(e){var a;return Object(R.a)(Object(R.a)({},e),{},(a={},Object(x.a)(a,t,!e[t]),Object(x.a)(a,"reply_required",!0!==!e[t]&&e.reply_required),a))}));break;case"reply_required":l((function(e){var a;return Object(R.a)(Object(R.a)({},e),{},(a={},Object(x.a)(a,t,!e[t]),Object(x.a)(a,"no_reply",!0!==!e[t]&&e.no_reply),Object(x.a)(a,"requiredUsers",0===e.requiredUsers.length&&e.selectedAddressTo.length>0?[{id:"all",value:"all",label:"All users",icon:"users",all_ids:i.filter((function(e){return e.id!==d.id})).map((function(e){return e.id}))}]:e.requiredUsers),a))}));break;default:l((function(e){var a;return Object(R.a)(Object(R.a)({},e),{},(a={},Object(x.a)(a,t,!e[t]),Object(x.a)(a,"requiredUsers",0===e.requiredUsers.length&&e.selectedAddressTo.length>0?[{id:"all",value:"all",label:"All users",icon:"users",all_ids:i.filter((function(e){return e.id!==d.id})).map((function(e){return e.id}))}]:e.requiredUsers),a))}))}};n.requiredUsers.length&&n.requiredUsers.find((function(e){return"all"===e.value}))&&(m=u.filter((function(e){return"all"===e.value})));var b=n.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared}));return r.a.createElement(Mv,null,r.a.createElement(Uv,{className:"d-flex align-items-center"},r.a.createElement(lE,{name:"must_read",checked:n.must_read,onClick:f,type:"danger"},t.mustRead),r.a.createElement(lE,{name:"reply_required",checked:n.reply_required,onClick:f,type:"warning"},t.replyRequired)),r.a.createElement(Uv,{className:"d-flex align-items-center"},(n.must_read||n.reply_required)&&r.a.createElement(Gv,{options:n.selectedAddressTo.length>0?m:[],value:n.requiredUsers,onChange:function(e){null===e?l(Object(R.a)(Object(R.a)({},n),{},{requiredUsers:[]})):e.find((function(e){return"all"===e.value}))?l(Object(R.a)(Object(R.a)({},n),{},{requiredUsers:e.filter((function(e){return"all"===e.value}))})):l(Object(R.a)(Object(R.a)({},n),{},{requiredUsers:e}))},isMulti:!0,isClearable:!0,maxMenuHeight:250,menuPlacement:"top"})),r.a.createElement(Uv,{className:"d-flex align-items-center"},r.a.createElement(lE,{name:"no_reply",checked:n.no_reply,onClick:f,type:"info"},t.noReplies),r.a.createElement(lE,{name:"must_read",checked:n.showApprover,onClick:function(){l(Object(R.a)(Object(R.a)({},n),{},{showApprover:!n.showApprover}))}},t.approve)),r.a.createElement(Uv,{className:"d-flex align-items-center"},n.showApprover&&r.a.createElement(Gv,{options:u,value:n.approvers,onChange:function(e){null===e?l(Object(R.a)(Object(R.a)({},n),{},{approvers:[]})):e.find((function(e){return"all"===e.value}))?l(Object(R.a)(Object(R.a)({},n),{},{approvers:e.filter((function(e){return"all"===e.value}))})):l(Object(R.a)(Object(R.a)({},n),{},{approvers:e}))},isMulti:!0,isClearable:!0,maxMenuHeight:250,menuPlacement:"top"})),!o&&b&&r.a.createElement(Uv,{className:"d-flex align-items-center"},r.a.createElement("span",null,t.shareWithClient)),!o&&b&&r.a.createElement(Uv,{className:"d-flex align-items-center"},r.a.createElement(Gv,{options:p,value:c,onChange:function(e){s(e),"external"===e.id?l(Object(R.a)(Object(R.a)({},n),{},{shared_with_client:!0})):l(Object(R.a)(Object(R.a)({},n),{},{shared_with_client:!1}))},maxMenuHeight:250,menuPlacement:"top"})))},Bv=function(e){var t=e.workspace_ids,a=e.addressIds,n=vs()._t;return{dictionary:{createPost:n("POST.CREATE_POST","Create post"),createNewPost:n("POST.CREATE_NEW_POST","Create new post"),editPost:n("POST.EDIT_POST","Edit post"),postTitle:n("POST.TITLE","Title"),postInfo:n("POST_INFO","A post is a message that can contain text and images. It can be directed at one or more workspaces, and to one or multiple persons."),visibility:n("POST.VISIBILITY","Visibility"),workspace:n("POST.WORKSPACE","Workspace"),responsible:n("POST.RESPONSIBLE","Responsible"),addressed:n("POST.ADDRESSED","Addressed"),addressedTo:n("POST.ADDRESSED_TO","Addressed to"),addressedPeople:n("POST.ADDRESSED_PEOPLE","Addressed people"),addressedPeopleOnly:n("POST.ADDRESSED_PEOPLE_ONLY","Addressed people only"),description:n("POST.DESCRIPTION","Description"),saveAsDraft:n("POST.SAVE_AS_DRAFT","Save as draft"),moreOptions:n("POST.MORE_OPTIONS","More options"),replyRequired:n("POST.REPLY_REQUIRED","Reply required"),mustRead:n("POST.MUST_READ","Must read"),noReplies:n("POST.NO_REPLIES","No replies"),schedulePost:n("POST.SCHEDULE","Schedule"),updatePostButton:n("POST.UPDATE_BUTTON","Update post"),createPostButton:n("POST.CREATE_BUTTON","Create post"),save:n("POST.SAVE","Save"),discard:n("POST.DISCARD","Discard"),draftBody:n("POST.DRAFT_BODY","Not sure about the content? Save it as a draft."),postVisibilityInfo:n("POST.POST_VISIBILITY_COUNT_INFO","This post will be visible to ::user_count:: in ::workspace_count::",{user_count:Object(us.renderToString)(r.a.createElement("span",{className:"user-popup"},1===a.length?n("POST.NUMBER_USER","1 user"):n("POST.NUMBER_USERS","::count:: users",{count:a.length}))),workspace_count:Object(us.renderToString)(r.a.createElement("span",{className:"workspace-popup"},1===t.length?n("POST.NUMBER_WORKSPACE","1 workspace"):n("POST.NUMBER_WORKSPACES","::count:: workspaces",{count:t.length})))}),approve:n("POST.APPROVE","Approve"),shareWithClient:n("POST.SHARE_WITH_CLIENT","Who can read this post"),fileUploadLabel:n("LABEL.EXTERNAL_WORKSPACE_FILES","Files added to workspace can be seen by internal and external accounts"),internalTeamLabel:n("LABEL.INTERNAL_TEAM","Internal team"),internalAndExternalTeamLabel:n("LABEL.INTERNAL_AND_EXTERTNAL_TEAM","Internal and external team"),uploading:n("FILE_UPLOADING","Uploading File"),unsuccessful:n("FILE_UNSUCCESSFULL","Upload File Unsuccessful"),fileAttachments:n("POST.FILE_ATTACHMENTS","File attachments"),sendingPost:n("TOASTER.SENDING_POST","Sending post"),updatingPost:n("TOASTER.UPDATING_POST","Updating post"),uploadingAndSending:n("TOASTER.SENDING_POST_WITH_FILE","Uploading file and sending post")}}};function Wv(){var e=Object(f.a)(["\n  .description-input {\n    height: ","px;\n  }\n\n  label {\n    min-width: 100%;\n    font-weight: 500;\n  }\n"]);return Wv=function(){return e},e}function Yv(){var e=Object(f.a)(["\n  cursor: pointer;\n  margin-bottom: 5px;\n  &:hover {\n    color: #972c86;\n  }\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n  svg {\n    transition: all 0.3s;\n    width: 15px;\n    margin-left: 5px;\n\n    &.ti-plus {\n      transform: rotate(-540deg);\n    }\n    &.rotate-in {\n      transform: rotate(0deg);\n    }\n  }\n"]);return Yv=function(){return e},e}function Vv(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  label {\n    margin: 0 20px 0 0;\n    min-width: 109px;\n  }\n  button {\n    margin-left: auto;\n  }\n  .react-select-container {\n    width: 100%;\n  }\n  .react-select__multi-value__label {\n    align-self: center;\n  }\n  &.modal-input {\n    z-index: 2;\n  }\n  &.more-option {\n    //z-index: 0;\n    overflow: unset;\n    width: 100%;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n      margin-right: 0;\n      margin-bottom: 1rem;\n    }\n  }\n  &.schedule-post {\n    width: 100%;\n    label {\n      margin: 0 20px 0 0;\n    }\n    .feather {\n      color: #c7ced6;\n    }\n    .react-date-picker__wrapper {\n      border: thin solid #c8ced5;\n      border-radius: 4px;\n      color: #c7ced6;\n      .react-date-picker__inputGroup {\n        padding: 0 6px;\n      }\n    }\n    #placeholder {\n      color: #c7ced6;\n    }\n    input {\n      color: #505050;\n      &::-webkit-input-placeholder {\n        color: #c7ced6;\n      }\n    }\n\n    .dark & {\n      input {\n        color: #ffffff;\n        &::-webkit-input-placeholder {\n          color: #c7ced6;\n        }\n      }\n    }\n  }\n  &.file-attachment-wrapper {\n    margin-top: 0;\n    margin-bottom: 20px;\n  }\n  &.file-attachment-wrapper > div {\n    display: flex;\n    width: 100%;\n    align-items: center;\n    .react-select-container {\n      max-width: 300px;\n    }\n  }\n  .file-attachments {\n    position: relative;\n    max-width: 100%;\n    // margin-left: 3rem;\n    // margin-right: 2rem;\n    @media all and (max-width: 480px) {\n      margin-left: 0;\n    }\n    ul {\n      //margin-right: 128px;\n      margin-bottom: 0;\n      @media all and (max-width: 480px) {\n        padding-right: 40px;\n      }\n      li {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n  }\n  .user-popup {\n    cursor: pointer;\n    margin: 0 0.25rem;\n  }\n  .workspace-popup {\n    cursor: pointer;\n    margin: 0 0.25rem;\n  }\n  .user-list {\n    transition: all 0.5s ease;\n    position: absolute;\n    bottom: 22px;\n    right: 0;\n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    overflow-x: hidden;\n    width: 230px;\n\n    .dark & {\n      background: #191c20;\n    }\n\n    &.active {\n      padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;\n    }\n\n    img {\n      min-width: 28px;\n    }\n\n    .item-user-name {\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: block;\n    }\n  }\n  .workspace-list {\n    position: absolute;\n    bottom: 22px;\n    right: 0;\n    background-color: #fff;\n    border: 1px solid #dee2e6;\n    padding: 0;\n    border-radius: 6px;\n    opacity: 0;\n    max-height: 0;\n    overflow: auto;\n    width: 230px;\n\n    .dark & {\n      background: #191c20;\n    }\n\n    &.active {\n      padding: 5px 10px;\n      opacity: 1;\n      max-height: 255px;\n    }\n\n    .item-workspace-name {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n  .post-visibility-container {\n    width: 100%;\n    .post-info {\n      font-size: 0.8rem;\n      flex-flow: wrap;\n      justify-content: flex-end;\n      @media all and (max-width: 480px) {\n        justify-content: flex-start;\n      }\n    }\n  }\n  .dark & {\n    input {\n      color: #ffffff !important;\n      &::-webkit-input-placeholder {\n        color: #c7ced6;\n      }\n    }\n  }\n  &.file-attachment-wrapper .file-label {\n    font-size: 0.8rem;\n  }\n"]);return Vv=function(){return e},e}var Qv=Object(E.a)(Ob.a)(Vv()),Kv=E.a.div(Yv()),zv=Object(E.a)(rE)(Wv(),(function(e){return e.height>80?e.height:80})),qv=[{id:"remove_automatically",value:"remove_automatically",label:"Remove file automatically in 5 days",icon:"file-minus"}],Jv=r.a.memo((function(e){var t=e.data,a=t.type,i=t.mode,o=t.item,c=void 0===o?{}:o,s=t.params,d=void 0===s?null:s,u=Object(b.g)(),m=qp(),p=Object(n.useRef)(),f=Object(l.useDispatch)(),h=Op(),E=Object(l.useSelector)((function(e){return e.session.user})),O="external"===E.type,g=Object(l.useSelector)((function(e){return e.global.recipients})),v=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),A=Object(l.useSelector)((function(e){return e.workspaces.activeTopic})),j=Object(n.useState)(Math.floor(Date.now()/1e3)),C=Object(_.a)(j,1)[0],T=Object(n.useState)(!0),y=Object(_.a)(T,2),S=y[0],k=y[1],w=Object(n.useState)(null),N=Object(_.a)(w,2),x=N[0],I=N[1],P=Object(n.useState)(!1),D=Object(_.a)(P,2),M=D[0],U=D[1],G=Object(n.useState)([]),H=Object(_.a)(G,2),B=H[0],W=H[1],Y=Object(n.useState)([]),V=Object(_.a)(Y,2),Q=V[0],K=V[1],z=Object(n.useState)(!1),J=Object(_.a)(z,2),Z=J[0],X=J[1],$=Object(n.useState)([]),ee=Object(_.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(_.a)(ne,2),ie=re[0],oe=re[1],ce=Object(n.useState)([]),se=Object(_.a)(ce,2),le=se[0],de=se[1],ue=Object(n.useState)(null),me=Object(_.a)(ue,2),pe=me[0],fe=me[1],be=Object(n.useState)(!1),he=Object(_.a)(be,2),Ee=he[0],_e=he[1],Oe=Object(n.useState)([]),ge=Object(_.a)(Oe,2),ve=ge[0],Ae=ge[1],je=Object(n.useState)(null),Ce=Object(_.a)(je,2),Te=Ce[0],ye=Ce[1],Se=Object(n.useRef)(null),ke=Object(n.useRef)(0),we={reactQuillRef:Object(n.useRef)(null),more_options:Object(n.useRef)(null),dropzone:Object(n.useRef)(null),arrow:Object(n.useRef)(null),visibilityInfo:Object(n.useRef)(null)},Ne=Object(n.useState)({must_read:!1,reply_required:!1,no_reply:!1,is_private:!1,has_folder:!1,title:"",selectedAddressTo:[],body:"",textOnly:"",show_at:null,end_at:null,approvers:[],showApprover:!1,mention_ids:[],requiredUsers:[],shared_with_client:!1}),xe=Object(_.a)(Ne,2),Re=xe[0],Ie=xe[1],Pe=Bp({addressTo:Re.selectedAddressTo}),De=Pe.options,Le=Pe.getDefaultAddressTo,Fe=Pe.getAddressTo,Me=Pe.responsible_ids,Ue=Pe.recipient_ids,Ge=Pe.is_personal,He=Pe.workspace_ids,Be=Pe.userOptions,We=Pe.addressIds,Ye=Pe.actualUsers,Qe=tf({draftId:x,initTimestamp:C,isExternalUser:O,item:c,form:Re,is_personal:Ge,params:d,responsible_ids:Me,user:E,topicId:d?A.id:null,toaster:h,setDraftId:I,savingDraft:Ee,setSavingDraft:_e}),Ke=Qe.draftSaved,ze=Qe.handleDeleteDraft,qe=Bv({workspace_ids:He,addressIds:We}).dictionary,Je=Object(n.useState)({id:"internal",value:"internal",label:qe.internalTeamLabel,icon:null}),Ze=Object(_.a)(Je,2),Xe=Ze[0],$e=Ze[1],et=Object(n.useRef)(null),tt=function(e){return et.current=h.info(e)},at=function(){return h.dismiss(et.current)},nt=function(){k(!S),f(Ve({type:a}))},rt=function(){nt()},it=function(){U(!1)};function ot(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(F.a)(L.a.mark((function e(t){var a,n,r,i=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"create",n=new FormData,r={user_id:E.id,file_type:"private",folder_id:null,fileOption:Te,options:{config:{onUploadProgress:lt}}},B.map((function(e,t){return n.append("files[".concat(t,"]"),e.bodyFormData.get("file"))})),r.files=n,e.next=7,new Promise((function(e,t){return e(q(r))})).then((function(e){"edit"===a?(t=Object(R.a)(Object(R.a)({},t),{},{file_ids:[].concat(Object(Rt.a)(e.data.map((function(e){return e.id}))),Object(Rt.a)(t.file_ids))}),f(Dd(t,(function(){Se.current&&h.dismiss(Se.current),X(!1),ze()})))):(t=Object(R.a)(Object(R.a)({},t),{},{file_ids:[].concat(Object(Rt.a)(e.data.map((function(e){return e.id}))),Object(Rt.a)(t.file_ids))}),f(Cd(t,(function(e,t){if(Se.current&&h.dismiss(Se.current),X(!1),!e)if(ze(),d){var a={topic_id:A.id,filter:"my_posts",tag:null};f(Om(a)),A.folder_id?u.push("/workspace/posts/".concat(A.folder_id,"/").concat(Wt(A.folder_name),"/").concat(A.id,"/").concat(Wt(A.name),"/post/").concat(t.data.id,"/").concat(Wt(t.data.title))):u.push("/workspace/posts/".concat(A.id,"/").concat(Wt(A.name),"/post/").concat(t.data.id,"/").concat(Wt(t.data.title)))}else{f(Kd({filter:"my_posts",tag:null})),u.push("/posts/".concat(t.data.id,"/").concat(Wt(t.data.title)))}}))))})).catch((function(e){st(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=function(){null!==Se.curent&&(X(!1),h.dismiss(Se.current),h.error(r.a.createElement("div",null,qe.unsuccessful,".")),Se.current=null)},lt=function(e){var t=e.loaded/e.total;null===Se.current?Se.current=h.info(r.a.createElement("div",null,qe.uploadingAndSending,"."),{progress:ke.current,autoClose:!0}):h.update(Se.current,{progress:t,autoClose:!0})};Object(n.useEffect)((function(){if(c.hasOwnProperty("draft"))Ie(c.draft.form),I(c.draft.draft_id);else if(d&&null!==A&&"edit"!==i)Ie(Object(R.a)(Object(R.a)({},Re),{},{selectedAddressTo:Le(),requiredUsers:[{id:"all",value:"all",label:"All users",icon:"users",all_ids:We}]}));else if("edit"===i&&c.hasOwnProperty("post")){var e=c.post.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length,t=c.post.recipients.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),a=(t=Object(Rt.a)(new Set(t)).filter((function(e){return e!==E.id}))).length===c.post.required_users.length;Ie(Object(R.a)(Object(R.a)({},Re),{},{body:c.post.body,textOnly:c.post.body,title:c.post.title,has_folder:!!c.post.recipients.find((function(e){return"TOPIC"===e.type})),no_reply:c.post.is_read_only,must_read:c.post.is_must_read,reply_required:c.post.is_must_reply,selectedAddressTo:Fe(c.post.recipients),file_ids:c.post.files.map((function(e){return e.id})),show_at:c.post.show_at,end_at:c.post.end_at,showApprover:c.post.users_approval.length>0,shared_with_client:c.post.shared_with_client,approvers:c.post.users_approval.length>0?c.post.users_approval.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{icon:"user-avatar",value:t.id,label:t.name,type:"USER",ip_address:e?null:t.ip_address,is_approved:!e&&t.is_approved})})):[],requiredUsers:c.post.required_users.length>0?a?[{id:"all",value:"all",label:"All users",icon:"users",all_ids:t}]:c.post.required_users.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name,type:"USER"})})):[]})),K(c.post.files.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{rawFile:e})})))}console.log(i,d)}),[]);Object(n.useEffect)((function(){Re.shared_with_client?$e({id:"external",value:"external",label:qe.internalAndExternalTeamLabel,icon:"eye"}):$e({id:"internal",value:"internal",label:qe.internalTeamLabel,icon:"eye-off"})}),[Re.shared_with_client]);var dt=Re.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared}));return r.a.createElement(tO.a,{isOpen:S,toggle:rt,size:"xl",onOpened:function(){p&&p.current&&p.current.focus()},centered:!0,className:"post-modal"},r.a.createElement(Ig,{toggle:rt},Ke?"Draft saved":Ee?"Saving draft...":"edit"===i?qe.editPost:qe.createNewPost),r.a.createElement(aO.a,{onDragOver:function(){M||U(!0)}},r.a.createElement(og,{hide:!M,ref:we.dropzone,onDragLeave:it,onDrop:function(e){!function(e){var t=[];e.forEach((function(e){var a=new FormData;a.append("file",e);var n=Math.floor(Date.now());"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push({rawFile:e,bodyFormData:a,type:"IMAGE",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:E}):"video/mp4"===e.type?t.push({rawFile:e,bodyFormData:a,type:"VIDEO",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:E}):t.push({rawFile:e,bodyFormData:a,type:"DOC",id:n,status:!1,src:URL.createObjectURL(e),name:e.name?e.name:e.path,uploader:E})})),W((function(e){return[].concat(Object(Rt.a)(e),t)})),it()}(e.acceptedFiles)},onCancel:it,attachedFiles:B}),r.a.createElement(Qv,{className:"modal-input mt-0"},r.a.createElement("div",{className:"w-100"},r.a.createElement(Vh.a,{className:"modal-info pb-3"},qe.postInfo)),r.a.createElement("div",{className:"w-100"},r.a.createElement(Vh.a,{className:"modal-label",for:"post-title"},qe.postTitle),r.a.createElement(gb.a,{className:"w-100",style:{borderRadius:"5px"},value:Re.title,onChange:function(e){Ie(Object(R.a)(Object(R.a)({},Re),{},{title:e.target.value}))},innerRef:p}))),r.a.createElement(Qv,{className:"modal-input"},r.a.createElement(Vh.a,{className:"modal-label",for:"workspace"},qe.addressedTo),r.a.createElement(Yh,{options:De,value:Re.selectedAddressTo,onChange:function(e){if(null===e)Ie(Object(R.a)(Object(R.a)({},Re),{},{selectedAddressTo:[],shared_with_client:!1}));else{var t=e.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared}));Ie(Object(R.a)(Object(R.a)({},Re),{},{selectedAddressTo:e,shared_with_client:!!t&&Re.shared_with_client}))}},isMulti:!0,isClearable:!0})),r.a.createElement(zv,{className:"modal-description",height:m.height-660,showFileButton:!0,onChange:function(e,t,a,n){var r=n.getText(e),i=[];n.getContents().ops&&n.getContents().ops.length&&function(e){if((e=e.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))).length){var t=Re.selectedAddressTo.map((function(e){return"USER"===e.type?e.type_id:e.participant_ids})).flat(),a=g.filter((function(e){return"USER"===e.type&&E.id===e.type_id||!("USER"!==e.type||!t.some((function(t){return t===e.type_id})))})).map((function(e){return e.id})),n=Re.selectedAddressTo.map((function(e){return e.id})),r=[].concat(Object(Rt.a)(a),Object(Rt.a)(n),Object(Rt.a)(ie)),i=e.filter((function(e){return!r.some((function(t){return t===e}))}));ae(i.length?i.map((function(e){return parseInt(e)})):[])}else oe([]),ae([])}(i=n.getContents().ops.filter((function(e){return e.insert.mention&&"external"!==e.insert.mention.type})).map((function(e){return e.insert.mention.id}))),Ae(n.getContents()),Ie(Object(R.a)(Object(R.a)({},Re),{},{body:e,textOnly:r.trim(),mention_ids:i.map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}))}))},onOpenFileDialog:function(){we.dropzone.current&&we.dropzone.current.open()},defaultValue:c.hasOwnProperty("draft")?Re.body:"edit"===i?c.post.body:"",mode:i,required:!0,mentionedUserIds:te,workspaces:v,onAddUsers:function(e){var t=De.filter((function(t){return e.some((function(e){return e.id===t.id}))}));Ie(Object(R.a)(Object(R.a)({},Re),{},{selectedAddressTo:[].concat(Object(Rt.a)(t),Object(Rt.a)(Re.selectedAddressTo))})),ae([]),oe([].concat(Object(Rt.a)(ie),Object(Rt.a)(e.map((function(e){return parseInt(e.id)})))))},onDoNothing:function(e){oe(e.map((function(e){return e.id}))),ae(te.filter((function(t){return!e.some((function(e){return e.id===t}))})))},setInlineImages:de,setImageLoading:fe,disableBodyMention:O,prioMentionIds:We,members:Object.values(Ye).filter((function(e){return"external"===E.type?We.some((function(t){return e.id===t})):!!("external"===e.type&&We.some((function(t){return t===e.id}))||"internal"===e.type&&null!==e.role)}))}),(B.length>0||Q.length>0)&&r.a.createElement(Qv,{className:"file-attachment-wrapper"},r.a.createElement("div",{className:"mb-2"},r.a.createElement(Vh.a,{className:"modal-label",for:"workspace"},qe.fileAttachments)),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Yh,{options:qv,value:Te,onChange:function(e){console.log(e),ye(e)},isClearable:!0,maxMenuHeight:250,menuPlacement:"top",placeholder:"File options"}),dt&&!O&&r.a.createElement("span",{className:"file-label ml-2"},qe.fileUploadLabel)),r.a.createElement("div",null,r.a.createElement(Hc,{attachedFiles:[].concat(Object(Rt.a)(B),Object(Rt.a)(Q)),handleRemoveFile:function(e){K((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))})),W((function(t){return t.filter((function(t){return t.id!==parseInt(e)}))}))}}))),r.a.createElement(Qv,{className:"modal-label more-option"},r.a.createElement(Kv,null,qe.moreOptions),r.a.createElement(Hv,{userOptions:Be,dictionary:qe,form:Re,isExternalUser:O,shareOption:Xe,setShareOption:$e,setForm:Ie,user:E})),r.a.createElement(Qv,{className:"mt-0 mb-0"},r.a.createElement("button",{className:"btn btn-primary",disabled:0===Re.selectedAddressTo.length||""===Re.title||pe,onClick:function(){if(!Z&&!pe){X(!0);var e=Re.selectedAddressTo.some((function(e){return("TOPIC"===e.type||"WORKSPACE"===e.type)&&e.is_shared})),t=ve.ops&&ve.ops.length>0?ve.ops.filter((function(t){return Re.shared_with_client&&e?t.insert.mention&&("internal"===t.insert.mention.type||"external"===t.insert.mention.type):t.insert.mention&&"internal"===t.insert.mention.type})).map((function(e){return parseInt(e.insert.mention.type_id)})):[],a={title:Re.title,body:Re.body,responsible_ids:Me,type:"post",personal:Ge,recipient_ids:Ue,must_read:Re.must_read?1:0,must_reply:Re.reply_required?1:0,read_only:Re.no_reply?1:0,show_at:Re.show_at?Bb()(Re.show_at,"YYYY-MM-DD").format("YYYY-MM-DD"):Re.end_at?Bb()(new Date).add(1,"day").format("YYYY-MM-DD"):null,end_at:Re.end_at?Bb()(Re.end_at,"YYYY-MM-DD").format("YYYY-MM-DD"):null,tag_ids:[],file_ids:le.map((function(e){return e.id})),code_data:{base_link:"".concat("https://").concat(localStorage.getItem("slug"),".").concat("drevv.com")},approval_user_ids:Re.showApprover&&Re.approvers.find((function(e){return"all"===e.value}))?Re.approvers.find((function(e){return"all"===e.value})).all_ids:Re.showApprover?Re.approvers.map((function(e){return e.value})).filter((function(e){return E.id!==e})):[],required_user_ids:(Re.must_read||Re.reply_required)&&Re.requiredUsers.find((function(e){return"all"===e.value}))?We.filter((function(e){return e!==E.id})):Re.must_read||Re.reply_required?Re.requiredUsers.map((function(e){return e.value})).filter((function(e){return E.id!==e})):[],shared_with_client:Re.shared_with_client&&e||O?1:0,body_mention_ids:t.filter((function(e){return We.some((function(t){return t===e}))}))};"edit"===i?(a=Object(R.a)(Object(R.a)({},a),{},{id:c.post.id,file_ids:[].concat(Object(Rt.a)(Q.map((function(e){return e.id}))),Object(Rt.a)(a.file_ids))}),c.post.users_approval.find((function(e){return null!==e.ip_address&&e.is_approved}))&&delete a.approval_user_ids,B.length?ot(a,"edit"):Re.selectedAddressTo.length&&(tt(qe.updatingPost),f(Dd(a,(function(e,t){at(),X(!1),ze()}))))):B.length?ot(a,"create"):Re.selectedAddressTo.length&&(tt(qe.sendingPost),f(Cd(a,(function(e,t){if(at(),X(!1),!e)if(ze(),d){var a={topic_id:A.id,filter:"my_posts",tag:null};f(Om(a)),A.folder_id?u.push("/workspace/posts/".concat(A.folder_id,"/").concat(Wt(A.folder_name),"/").concat(A.id,"/").concat(Wt(A.name),"/post/").concat(t.data.id,"/").concat(Wt(t.data.title))):u.push("/workspace/posts/".concat(A.id,"/").concat(Wt(A.name),"/post/").concat(t.data.id,"/").concat(Wt(t.data.title)))}else{f(Kd({filter:"my_posts",tag:null})),u.push("/posts/".concat(t.data.id,"/").concat(Wt(t.data.title)))}})))),nt(!1)}}},Z&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"edit"===i?qe.updatePostButton:qe.createPostButton)),r.a.createElement(Qv,{className:"mb-0 mt-1"},r.a.createElement(ds,{dictionary:qe,formRef:we,selectedAddressTo:Re.selectedAddressTo,workspaceIds:He,userOptions:Be}))))}));function Zv(){var e=Object(f.a)(["\n  z-index: 7;\n"]);return Zv=function(){return e},e}var Xv=E.a.div(Zv()),$v=r.a.memo((function(){var e=Object(n.useState)(0),t=Object(_.a)(e,2),a=t[0],i=t[1],o=Object(l.useSelector)((function(e){return e.global.modals})),c=Object(l.useSelector)((function(e){return e.files.viewFiles}));return ef(),Object(n.useEffect)((function(){Object.keys(o).length>0?i(document.documentElement.scrollTop):(window.scrollTo(0,a),i(0)),document.body.classList.remove("mobile-modal-open")}),[o]),Object.keys(o).length>0?r.a.createElement(Xv,null,Object.values(o).map((function(e){switch(e.type){case"confirmation":return r.a.createElement(iO,{key:e.type,data:e});case"forward":return r.a.createElement(kO,{key:e.type,data:e});case"reminder":return r.a.createElement(IO,{key:e.type,data:e});case"file_upload":return r.a.createElement(eg,{key:e.type,data:e});case"file_crop_upload":return r.a.createElement(qg,{key:e.type,data:e});case"chat_create_edit":return r.a.createElement(pg,{key:e.type,data:e});case"workspace_folder":return r.a.createElement(kg,{key:e.type,data:e});case"workspace_create_edit":return r.a.createElement(Tg,{key:e.type,data:e});case"snooze_post":return r.a.createElement(Lg,{key:e.type,data:e});case"driff_invite_users":return r.a.createElement(Xg,{key:e.type,data:e});case"single_input":return r.a.createElement(Hg,Object.assign({key:e.type},e));case"move_files":return r.a.createElement(Yg,Object.assign({key:e.type},e));case"move_company_files":return r.a.createElement(uv,{key:e.type,data:e});case"personal_link_create_edit":return r.a.createElement(tv,{key:e.type,data:e});case"todo_reminder":return r.a.createElement(Ov,{key:e.type,data:e});case"update_found":return r.a.createElement(Av,{key:e.type,data:e});case"release":return r.a.createElement(wv,{key:e.type,data:e});case"post_list":return r.a.createElement(Pv,{key:e.type,data:e});case"post_modal":return r.a.createElement(Jv,{key:e.type,data:e});default:return null}}))):null!==c?r.a.createElement(Xv,null,r.a.createElement(eO,null)):null}));function eA(){var e=Object(f.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n  \n  .btn-magic-link {\n    background-color: #7a1b8b;\n    color: #fff;\n  }  \n"]);return eA=function(){return e},e}var tA=E.a.form(eA()),aA=r.a.memo((function(e){var t=e.dictionary,a=wp(),i=Ra(),o={email:Object(n.useRef)(null)},c=Object(n.useState)({email:"",remember_me:!0}),s=Object(_.a)(c,2),l=s[0],d=s[1],m=Object(n.useState)({valid:{},message:{}}),p=Object(_.a)(m,2),f=p[0],b=p[1],h=Object(n.useCallback)((function(e){e.persist(),d((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.dataset.name,!t[e.target.dataset.name]))}))}),[d]),E=Object(n.useCallback)((function(e){e.persist(),d((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},e.target.name,e.target.value.trim()))})),b((function(t){return Object(R.a)(Object(R.a)({},t),{},{valid:Object(R.a)(Object(R.a)({},t.valid),{},Object(x.a)({},e.target.name,void 0)),message:Object(R.a)(Object(R.a)({},t.message),{},Object(x.a)({},e.target.name,void 0))})}))}),[d,b]);return r.a.createElement(tA,{className:"fadeIn"},r.a.createElement(kE,{onChange:E,name:"email",isValid:f.valid.email,feedback:f.message.email,placeholder:"Email",innerRef:o.email,type:"email",autoFocus:!0}),r.a.createElement("div",{className:"form-group d-flex justify-content-between"},r.a.createElement(lE,{name:"remember_me",checked:l.remember_me,onClick:h},t.rememberMe)),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(e){e.preventDefault(),function(){var e={},a={};return""===l.email?(e.email=!1,a.email=t.emailRequired):Mt.test(l.email)?e.email=!0:(e.email=!1,a.email=t.invalidEmail),b({valid:e,message:a}),!Object.values(e).some((function(e){return!1===e}))}()&&!a.isActive&&(a.show(),i.checkEmail(l.email,(function(e,n){n&&n.data.status?i.sendMagicLink(l.email,(function(e,n){a.hide(),e&&b({valid:{email:!1},message:{email:t.notAllowedForExternal}})})):(b({valid:{email:!1},message:{email:t.emailNotFound}}),a.hide())})))}},t.sendLink),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.loginSocialMedia),r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("span",{onClick:i.googleLogin,className:"btn btn-floating btn-google"},r.a.createElement("i",{className:"fa fa-google"})))),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-muted"},t.takeADifferentAction),r.a.createElement(u.b,{className:"btn btn-outline-light btn-sm",to:"/register"},t.registerNow)," or ",r.a.createElement(u.b,{className:"btn btn-outline-light btn-sm",to:"/login"},t.login))}));function nA(){var e=Object(f.a)([""]);return nA=function(){return e},e}var rA=E.a.div(nA()),iA=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;rm();return r.a.createElement(rA,{className:"".concat(a)})})),oA=function(){var e=Object(l.useDispatch)();return{create:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t},a);e(qi(r,n))},remove:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={link_type:t.link_type,link_id:t.link_id,file_id:t.id};e(Ji(n,a))},restore:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={link_type:t.link_type,link_id:t.link_id,file_id:t.id};e(Zi(n,a))},fetch:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t,skip:0,limit:1e3},a);e(Hi(r,n))},fetchPrimary:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t,skip:0,limit:1e3},a);e(Gi(r,n))},fetchRecentlyEdited:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t,skip:0,limit:1e3},a);e(Yi(r,n))},fetchImportant:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t,skip:0,limit:1e3},a);e(Wi(r,n))},fetchRemoved:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t,skip:0,limit:1e3},a);e(Bi(r,n))},fetchPopular:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t,skip:0,limit:1e3},a);e(Vi(r,n))},fetchStats:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={topic_id:t};e(zi(n,a))},fetchFolders:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=Object(R.a)({topic_id:t,skip:0,limit:1e3},a);e(Qi(r,n))}}};function cA(){var e=Object(f.a)([""]);return cA=function(){return e},e}var sA=E.a.div(cA()),lA=r.a.memo((function(e){var t=Object(b.i)(),a=e.className,n=void 0===a?"":a,i=oA(),o={};return j("search")&&(o.search=j("search")),j("skip")&&(o.skip=j("skip")),j("limit")&&(o.limit=j("limit")),i.fetchStats(t.workspaceId),i.fetch(t.workspaceId,o),i.fetchPopular(t.workspaceId,o),i.fetchImportant(t.workspaceId,o),i.fetchRecentlyEdited(t.workspaceId,o),i.fetchRemoved(t.workspaceId,o),i.fetchFolders(t.workspaceId,o),r.a.createElement(sA,{className:"".concat(n)})}));function dA(){var e=Object(f.a)(["\n  margin: 50px auto;\n  max-width: 430px;\n\n  .btn-magic-link {\n    background-color: #7a1b8b;\n    color: #fff;\n  }\n"]);return dA=function(){return e},e}var uA=E.a.form(dA()),mA=r.a.memo((function(e){return Object(n.useEffect)((function(){P.sessionService.deleteSession().then((function(){return P.sessionService.deleteUser()}))}),[]),r.a.createElement(uA,{className:"fadeIn"})}));function pA(){var e=Object(f.a)(["\n  @keyframes blink {\n    /**\n   * At the start of the animation the dot\n   * has an opacity of .2\n   */\n    0% {\n      opacity: 0.2;\n    }\n    /**\n   * At 20% the dot is fully visible and\n   * then fades out slowly\n   */\n    20% {\n      opacity: 1;\n    }\n    /**\n   * Until it reaches an opacity of .2 and\n   * the animation can start again\n   */\n    100% {\n      opacity: 0.2;\n    }\n  }\n\n  .loading span {\n    font-size: 2.5rem;\n    /**\n   * Use the blink animation, which is defined above\n   */\n    animation-name: blink;\n    /**\n   * The animation should take 1.4 seconds\n   */\n    animation-duration: 1.4s;\n    /**\n   * It will repeat itself forever\n   */\n    animation-iteration-count: infinite;\n    /**\n   * This makes sure that the starting style (opacity: .2)\n   * of the animation is applied before the animation starts.\n   * Otherwise we would see a short flash or would have\n   * to set the default styling of the dots to the same\n   * as the animation. Same applies for the ending styles.\n   */\n    animation-fill-mode: both;\n  }\n\n  .loading span:nth-child(2) {\n    /**\n   * Starts the animation of the third dot\n   * with a delay of .2s, otherwise all dots\n   * would animate at the same time\n   */\n    animation-delay: 0.2s;\n  }\n\n  .loading span:nth-child(3) {\n    /**\n   * Starts the animation of the third dot\n   * with a delay of .4s, otherwise all dots\n   * would animate at the same time\n   */\n    animation-delay: 0.4s;\n  }\n"]);return pA=function(){return e},e}var fA=E.a.div(pA()),bA=Object(b.k)((function(e){!function(e){var t=Object(l.useDispatch)(),a=Object(b.g)(),r=Object(b.j)("/authenticate/:token/:returnUrl?"),i=Object(b.j)("/magic-link/:token"),o=Object(b.i)(),c=Ra(),s=Object(n.useRef)(null);Object(n.useEffect)((function(){if("/logged-out"===a.location.pathname&&(c.logout(),a.push("/login")),null===i||s.current||(s.current=!0,c.checkMagicLink(i.params.token,(function(e,t){if(setTimeout((function(){s.current=null}),3e3),t)if(t.data.additional_data){if("POST"===t.data.additional_data.type){if(t.data.additional_data.data.workspace){var a=t.data.additional_data.data.workspace[0],n=t.data.additional_data.data.id,r=t.data.additional_data.data.code;if(a.workspace_id){var i="/workspace/posts/".concat(a.topic_id,"/").concat(Wt(a.topic_name),"/post/").concat(n,"/").concat(Wt(r));c.login(t.data,i)}else{var o="/workspace/posts/".concat(a.workspace_id,"/").concat(Wt(a.workspace_name),"/").concat(a.topic_id,"/").concat(Wt(a.topic_name),"/post/").concat(n,"/").concat(Wt(r));c.login(t.data,o)}}}else if("CHANNEL"===t.data.additional_data.type)if(t.data.additional_data.topic){var l=t.data.additional_data.topic,d=t.data.additional_data.workspace;if(d){var u="/workspace/chat/".concat(d.id,"/").concat(Wt(d.name),"/").concat(l.id,"/").concat(Wt(l.name));c.login(t.data,u)}else{var m="/workspace/chat/".concat(l.id,"/").concat(Wt(l.name));c.login(t.data,m)}}else if(t.data.additional_data.data){var p="/chat/".concat(t.data.additional_data.data.code);c.login(t.data,p)}else c.login(t.data,"/chat")}else c.login(t.data,"/chat")}))),null!==r){var n=localStorage.getItem("userAuthToken"),l=r.params.returnUrl?atob(r.params.returnUrl):"";if(!e.authenticated&&n){var d=JSON.parse(n);d.access_token!==r.params.token&&localStorage.removeItem("userAuthToken"),P.sessionService.saveSession({token:"".concat(d.token_type," ").concat(d.access_token),xsrf_token:"XSRF-TOKEN=".concat(d.access_token),access_broadcast_token:"".concat(d.access_broadcast_token),download_token:"".concat(d.download_token)}).then((function(){if(P.sessionService.saveUser(Object(R.a)({},d.user_auth)),"1"===localStorage.getItem("promptTrustDevice")){localStorage.removeItem("promptTrustDevice");var e={id:(new Date).getTime(),type:"modal",modal:"modal_dialog_yes_no",title:"Trust this device?",children:"",callback:{handleYes:(void 0).handleConfirmationDialogYes}};console.log(e)}r.params.returnUrl&&a.push(l)}))}}if(a.location.pathname.startsWith("/authenticate-ios/")&&!s.current){var u=C("".concat(G(),"/authenticate-ios?auth_token=").concat(o.tokens));s.current=!0,u.id&&u.auth_token&&u.redirect_url&&fetch("".concat(U(),"/users/").concat(u.id),{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(u.auth_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){s.current=null}),3e3),P.sessionService.saveSession({token:"Bearer ".concat(u.auth_token),xsrf_token:"XSRF-TOKEN=".concat(u.auth_token),access_broadcast_token:"".concat(u.access_broadcast_token),download_token:"".concat(u.download_token)}).then((function(){P.sessionService.saveUser(Object(R.a)({},e)),window.location.href=u.redirect_url}))}))}if(j("code")&&j("state")){var m=C(window.location.href);t(ie(m,(function(e,t){t&&c.login(t.data,"/chat")})))}}),[r,t,a,e,o])}(e);var t=Object(b.g)(),a=Object(b.h)(),i=am().driffSettings,o=Wa(),c=vs()._t,s=e.setRegisteredDriff,d={magicLink:c("LOGIN.MAGIC_LINK","Magic link"),rememberMe:c("LOGIN.REMEMBER_ME","Remember me"),resetPassword:c("LOGIN.RESET_PASSWORD","Reset password"),signIn:c("LOGIN.SIGN_IN","Sign in"),loginSocialMedia:c("LOGIN.SOCIAL_MEDIA_LOGIN","Login with your social media account."),noAccount:c("LOGIN.NO_ACCOUNT","Don't have an account?"),registerNow:c("LOGIN.REGISTER_NOW","Register now!"),logDifferent:c("LOGIN.LOG_INTO_DIFFERENT_DRIFF","Log into different Driff"),registerNewDriff:c("DOMAIN.REGISTER_NEW_DRIFF","Register new Driff"),submit:c("RESET_PASSWORD.SUBMIT","Submit"),login:c("RESET_PASSWORD.LOGIN","Login!"),takeADifferentAction:c("RESET_PASSWORD.TAKE_A_DIFFERENT_ACTION","Take a different action."),updatePassword:c("UPDATE_PASSWORD.UPDATE_PASSWORD","Update password"),register:c("REGISTER.REGISTER","Register"),haveAccount:c("REGISTER.HAVE_ACCOUNT","Already have an account?"),password:c("REGISTER.PASSWORD","Password"),firstName:c("REGISTER.FIRST_NAME","First name"),middleName:c("REGISTER.MIDDLE_NAME","Middle name"),lastName:c("REGISTER.LAST_NAME","Last name"),accept:c("REGISTER.ACCEPT","Accept"),driffRegistration:c("DRIFF.DRIFF_REGISTRATION","Driff registration."),inviteUser:c("DRIFF.INVITE","Invite user"),companyName:c("DRIFF.COMPANY_NAME","Company name"),yourEmail:c("DRIFF.YOUR_EMAIL","Your email"),yourName:c("DRIFF.YOUR_NAME","Your name"),sendLink:c("MAGIC_LINK.SEND_LINK","Send link"),emailRequired:c("FEEDBACK.EMAIL_REQUIRED","Email is required."),passwordRequired:c("FEEDBACK.PASSWORD_REQUIRED","Password is required."),invalidEmail:c("FEEDBACK.INVALID_EMAIL","Invalid email format"),yourNameRequired:c("FEEDBACK.YOUR_NAME_REQUIRED","Your name is required."),firstNameRequired:c("FEEDBACK.FIRST_NAME_REQUIRED","First name is required."),lastNameRequired:c("FEEDBACK.LAST_NAME_REQUIRED","Last name is required."),companyRequired:c("FEEDBACK.COMPANY_REQUIRED","Company name is required."),driffRequired:c("FEEDBACK.DRIFF_REQUIRED","Driff is required."),driffTaken:c("FEEDBACK.DRIFF_TAKEN","Driff is already taken"),emailNotFound:c("FEEDBACK.EMAIL_NOT_FOUND","Email not found."),notAllowedForExternal:c("FEEDBACK.NOT_ALLOWED_FOR_EXTERNAL","Not allowed for external users."),thankYou:c("FEEDBACK.THANK_YOU","Thank you!"),or:c("RESET_PASSWORD.OR","or"),createAccount:c("LOGIN.CREATE_ACCOUNT","Create account"),authentication:c("LOGIN.AUTHENTICATION","Authentication"),email:c("LOGIN.EMAIL","Email"),invitedUsers:c("DRIFF.INVITED_USERS","Invited users"),acceptInvite:c("REGISTER.ACCEPT_INVITE","Accept your invitation to")},u=Object(n.useState)(d.signIn),m=Object(_.a)(u,2),p=m[0],f=m[1];return Object(n.useEffect)((function(){document.querySelector("body").classList.add("form-membership")}),[]),Object(n.useEffect)((function(){switch(a.pathname){case"/magic-link":i.settings.magic_link?f(d.magicLink):t.push("/login");break;case"/driff-register":f(d.driffRegistration);break;case"/request-form":f("".concat(d.acceptInvite," ").concat(o.getName()));break;case"/reset-password":i.settings.password_login?f(d.resetPassword):t.push("/login");break;case"/register":i.settings.sign_up?f(d.createAccount):t.push("/login");break;default:0===a.pathname.indexOf("/authenticate/")||(j("code"),j("state"))?f(d.authentication):0===a.pathname.indexOf("/resetpassword/")?f(d.updatePassword):f(d.signIn)}}),[a]),r.a.createElement(fA,{className:"form-wrapper fadeIn"},r.a.createElement("div",{id:"logo"},r.a.createElement(fn,{icon:"driff-logo",width:"110",height:"80"})),i.settings.maintenance_mode?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"title"},"Maintenance Mode")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"title ".concat(j("code")&&j("state")&&"loading")},p,j("code")&&j("state")&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,"."))),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/login",render:function(){return r.a.createElement(d_,Object.assign({dictionary:d},e))}}),r.a.createElement(b.b,{path:"/magic-link",render:function(){return r.a.createElement(aA,Object.assign({dictionary:d},e))}}),r.a.createElement(b.b,{path:"/resetpassword/:token/:email",render:function(){return r.a.createElement(g_,Object.assign({dictionary:d},e))},exact:!0}),r.a.createElement(b.b,{path:"/reset-password",render:function(){return r.a.createElement(E_,Object.assign({dictionary:d},e))}}),r.a.createElement(b.b,{path:"/register",render:function(){return r.a.createElement(j_,Object.assign({dictionary:d},e))}}),r.a.createElement(b.b,{path:"/request-form",render:function(){return r.a.createElement(G_,e)}}),r.a.createElement(b.b,{path:"/driff-register",render:function(){return r.a.createElement(r_,Object.assign({dictionary:d,setRegisteredDriff:s},e))}}),r.a.createElement(b.b,{path:"/force-logout",render:function(){return r.a.createElement(mA,null)}}))))})),hA=a(109),EA=a(108),_A=a(76),OA=a(120),gA=a(174),vA=a.n(gA),AA=a(175),jA=a.n(AA);function CA(){var e=Object(f.a)(["\n  .card {\n    margin-bottom: 0;\n    min-width: 180px;\n    @media (max-width: 380px) {\n      min-width: auto;\n    }\n  }\n  > img {\n    width: 30px;\n  }\n"]);return CA=function(){return e},e}function TA(){var e=Object(f.a)(["\n  border-radius: 8px;\n  cursor: pointer;\n\n  > img {\n    border: 1px solid #ddd;\n    border-radius: inherit;\n    object-fit: cover;\n    max-height: 150px;\n    min-height: 150px;\n    max-width: 200px;\n    min-width: 200px;\n    @media (max-width: 380px) {\n      min-width: auto;\n      min-height: auto;\n    }\n  }\n"]);return TA=function(){return e},e}function yA(){var e=Object(f.a)(["\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n"]);return yA=function(){return e},e}function SA(){var e=Object(f.a)(["\n  &.img-error {\n    background-image: none;\n    padding: 2.8rem 3rem;\n  }\n"]);return SA=function(){return e},e}function kA(){var e=Object(f.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  vertical-align: text-bottom;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border: 0.25em solid #7a1b8b;\n  border-right-color: transparent;\n  border-radius: 50%;\n  animation: spin 0.75s linear infinite;\n  opacity: 0.8;\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return kA=function(){return e},e}function wA(){var e=Object(f.a)(["\n  position: relative;\n  border: 1px solid #ddd;\n  background-color: transparent;\n  max-height: 150px;\n  min-height: 150px;\n  max-width: 200px;\n  min-width: 200px;\n  border-radius: 8px;\n"]);return wA=function(){return e},e}var NA=E.a.div(wA()),xA=E.a.div(kA()),RA=E.a.img(SA()),IA=E.a.video(yA()),PA=E.a.div(TA()),DA=E.a.div(CA()),LA=Object(n.forwardRef)((function(e,t){var i=e.className,o=void 0===i?"":i,c=e.file,s=e.cbFilePreview,l=Object(I.a)(e,["className","file","cbFilePreview"]);"undefined"===typeof c.type&&(c.type=c.mime_type);var d=Object(n.useRef)(),u={fileAutomaticallyRemoved:(0,vs()._t)("FILE.AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request")},m=pp(),p=m.fileThumbnailBlobs,f=m.actions.setFileThumbnailSrc,b=Object(n.useState)(c.thumbnail_link&&c.type.toLowerCase().includes("image")?p[c.id]:c.view_link),h=Object(_.a)(b,2),E=h[0],O=h[1],g=JSON.parse(localStorage.getItem("userAuthToken")),v=function(e){"trashed"!==c.type&&s(e,c)},A=fp(),j=!1,C=Jp({handleTouchStart:function(e){j=!1},handleTouchEnd:function(e){e.preventDefault(),j||v(e)},handleSwipeLeft:function(e){j=!0},handleSwipeRight:function(e){j=!0}}),T=C.touchStart,y=C.touchMove,S=C.touchEnd;Object(n.useEffect)((function(){!E&&g&&fetch(c.thumbnail_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(g.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);O(t),f({id:c.id,src:t})}),(function(e){console.log(e,"error")}))}),[]);var k="trashed"===c.file_type;return r.a.createElement(PA,Object.assign({onTouchStart:T,onTouchEnd:S,onTouchMove:y,onClick:v,ref:t,className:"file-pill ".concat(o)},l),k?r.a.createElement(DA,null,r.a.createElement("div",{className:"card app-file-list"},r.a.createElement("div",{className:"app-file-icon"},A.getFileIcon("trashed")),r.a.createElement("div",{className:"p-2 small"},r.a.createElement("div",null,u.fileAutomaticallyRemoved)))):"image"===c.type.toLowerCase()?r.a.createElement(r.a.Fragment,null,r.a.createElement(NA,{className:E?"d-none":""},r.a.createElement(xA,{className:"img-loader"})),r.a.createElement(RA,{ref:d,"data-attempt":0,className:E?"":"d-none",onError:function(e){console.log(c,"image did not load"),"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(U({isDNS:!0}),"/file-view-attempt/").concat(c.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp?(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime())):(e.currentTarget.classList.add("img-error"),e.currentTarget.src=a(171))},height:150,src:E,alt:c.filename?c.filename:c.search,title:c.filename?c.filename:c.search})):c.type.toLowerCase().includes("video")?r.a.createElement(r.a.Fragment,null,r.a.createElement(IA,{"data-attempt":0,width:"320",height:"240",controls:!0,playsInline:!0,onLoadStart:function(e){},onError:function(e){console.log(e,"image did not load"),"0"===e.currentTarget.dataset.attempt?(e.currentTarget.dataset.attempt=1,e.currentTarget.src="".concat(U({isDNS:!0}),"/file-view-attempt/").concat(c.file_id,"/").concat(localStorage.getItem("atoken"))):"1"===e.currentTarget.dataset.attemp&&(e.currentTarget.dataset.attempt=2,e.currentTarget.src="".concat(e.currentTarget.src,"&timestamp=").concat((new Date).getTime()))}},r.a.createElement("source",{src:c.view_link,type:c.type}),"Your browser does not support the video tag.")):r.a.createElement(DA,null,r.a.createElement("div",{className:"card app-file-list"},r.a.createElement("div",{className:"app-file-icon"},A.getFileIcon(c.type)),r.a.createElement("div",{className:"p-2 small"},r.a.createElement("div",null,c.filename?c.filename:c.search)))))})),FA=r.a.memo(LA);function MA(){var e=Object(f.a)(['\n  display: flex;\n  align-items: center;\n  border: 10px solid #000;\n\n  :after {\n    content: "";\n    mask-image: ',";\n    background-color: #676767;\n    mask-repeat: no-repeat;\n    mask-size: 60%;\n    mask-position: center;\n    width: 20px;\n    height: 20px;\n    display: inline-block;\n  }\n"]);return MA=function(){return e},e}function UA(){var e=Object(f.a)([""]);return UA=function(){return e},e}function GA(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: column;\n"]);return GA=function(){return e},e}function HA(){var e=Object(f.a)(["\n  margin-bottom: 0.5rem;\n"]);return HA=function(){return e},e}function BA(){var e=Object(f.a)(["\n  position: relative;\n  z-index: 1;\n  border-radius: 8px;\n  color: #828282;\n"]);return BA=function(){return e},e}var WA=E.a.div(BA()),YA=E.a.div(HA()),VA=E.a.div(GA()),QA=Object(E.a)(FA)(UA()),KA=E.a.a(MA(),(function(e){return e.show?"url(".concat(vA.a,")"):"url(".concat(jA.a,")")})),zA=Object(n.forwardRef)((function(e,t){var a=e.className,i=void 0===a?"":a,o=e.files,c=(e.reply,e.type),s=void 0===c?"chat":c,d=e.topic_id,u=void 0===d?null:d,m=Object(I.a)(e,["className","files","reply","type","topic_id"]),p=Object(l.useDispatch)(),f=Object(n.useState)(!0),b=Object(_.a)(f,2),h=b[0],E=b[1],O=function(e,t){if(e.stopPropagation(),"chat"===s&&"trashed"!==t.file_type){var a={file_id:t.file_id,files:[t],topic_id:u};p(Fi(a))}};return r.a.createElement(WA,Object.assign({className:"message-files ".concat(i),filesLength:o.length,type:s},m),o.length>=1&&!1===("chat"===s&&1===o.length)&&r.a.createElement(KA,{onClick:function(){E(!h)},show:h},o.length>1?"".concat(o.length," files"):"1 file"),r.a.createElement(VA,null,h&&o.map((function(e,t){return 1===o.length&&"chat"===s?r.a.createElement(QA,{key:t,cbFilePreview:O,file:e,"data-file-type":e.type}):r.a.createElement(YA,{key:e.id},r.a.createElement(QA,{cbFilePreview:O,file:e,"data-file-type":e.type}))}))))})),qA=r.a.memo(zA);function JA(){var e=Object(f.a)(["\n  font-size: .835rem;\n  .media, .media div {\n    width: 100%;\n  }\n  .description{\n    img {\n      display: none;\n    }\n  }\n"]);return JA=function(){return e},e}function ZA(){var e=Object(f.a)(["\n  position: absolute;\n  right: 5px;\n  top: 10px;\n  z-index: 2;\n  cursor: pointer;\n"]);return ZA=function(){return e},e}var XA,$A,ej,tj,aj,nj,rj,ij,oj,cj,sj,lj=E.a.span(ZA()),dj=E.a.blockquote(JA()),uj=function(e){var t=e.prio,a=Object(n.useState)("Medium"),i=Object(_.a)(a,2),o=i[0],c=i[1];return Object(n.useEffect)((function(){c(4===t?"Critical":3===t?"High":2===t?"Medium":"Low")}),[t]),r.a.createElement("span",{className:"unfurl-priority"},r.a.createElement("strong",null,"Priority")," -- ",o)},mj=r.a.memo((function(e){var t=e.unfurlData,a=e.channelId,i=void 0===a?null:a,o=e.boardId,c=void 0===o?null:o,s=e.taskId,l=void 0===s?null:s,d=e.messageId,u=e.isAuthor,m=e.removeUnfurl,p=e.type,f=void 0===p?"chat":p,b=Object(n.useState)(!1),h=Object(_.a)(b,2),E=h[0],O=h[1];return Object(n.useEffect)((function(){var e=t.filter((function(e){return void 0===e.data.is_deleted}));if(e.length){e[0].data.url&&e[0].data.url.includes("drevv.com")&&O(!0)}}),[]),t.filter((function(e){return void 0===e.data.is_deleted})).slice(0,1).map((function(e,t){return"PRIVATE CONTENT"===e.data.title||"NOT AUTHORIZED"===e.data.title?null:r.a.createElement(dj,{className:"blockquote component-un-furl",key:t},r.a.createElement("div",{className:"media media-".concat(e.data.type)},r.a.createElement("div",{className:"media-wrapper"},r.a.createElement("div",{className:"media-header"},!E&&r.a.createElement("p",null,r.a.createElement("img",{alt:"provider",className:"provider-icon",src:e.data.provider_icon}),r.a.createElement("a",{className:"provider-name",href:e.data.provider_url,title:e.data.provider_name,target:"_blank",rel:"noopener noreferrer"},e.data.provider_name),e.data.author_name?r.a.createElement("span",{className:"item-author-name"}," | ",e.data.author_name):"")),r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",{className:"item-title"},r.a.createElement("a",{href:e.data.url,title:e.data.title,target:"_blank",rel:"noopener noreferrer"},e.data.title)),r.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.data.description}})),e.data.task_status&&r.a.createElement("div",{className:"unfurl-task-data"},r.a.createElement("span",{className:"unfurl-status"},r.a.createElement("strong",null,"Status")," -- ",e.data.task_status," "),r.a.createElement(uj,{prio:e.data.task_priority}),r.a.createElement("br",null),e.data.task_participants&&e.data.task_participants.length?r.a.createElement("span",{className:"unfurl-assignees"},r.a.createElement("strong",null,"Assignees")," -- ",e.data.task_participants.map((function(e){return e.name})).join(", ")):null))),u&&r.a.createElement(lj,{onClick:function(t){return a=e.id,void m("task"===f?{unfurl_id:a,board_id:c,task_id:l,message_id:d,type:"task"}:{unfurl_id:a,channel_id:i,message_id:d,type:"chat"});var a}},r.a.createElement(pn,{icon:"x"})))}))})),pj=function(e){var t=e.message,a=e.isAuthor,r=e.translate,i=e.chat_language,o=e.actions;Object(n.useEffect)((function(){a||t.user.chat_language===i||!r||t.is_translated||t.translated_language===i||function(e){return fetch("https://api.deepl.com/v2/translate?auth_key=4fb7583d-a163-7abb-8e71-c882d1fd9408&text="+e.body+"&target_lang="+i).then((function(e){return e.json()})).then((function(e){return e})).catch(console.log)}(t).then((function(e){if("undefined"!==typeof e){var a=e.translations[0].text;o.setTranslationBody(Object(R.a)(Object(R.a)({},t),{},{translated_body:a,is_translated:r,translated_language:i})),o.saveTranslation({message_id:t.id,body:a,language:i})}}))}),[r])},fj=function(e){var t=e.message,a=e.actions;function i(e){var t;return(t={content:e.body},W({method:"POST",url:"/v2/fancy-link",data:t})).then((function(e){return e})).then((function(e){l(e.data.body)})),null!==s?s:e.body}var o=Object(n.useState)(null),c=Object(_.a)(o,2),s=c[0],l=c[1],d=t.body;Object(n.useEffect)((function(){var e=d;if((d.match(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)([^<]+)(<\/a>)/g)||[]).length>0&&!t.is_fancy&&(e=i(t)),null!==s){var n=e.replace(/(<a [^>]*(href="([^>^\"]*)")[^>]*>)([^<]+)(<\/a>)/g,(function(e,t,a,n,i,o,c){var s=document.createElement("div");return s.innerHTML=e.trim(),s.getElementsByClassName("fancied").length>0?Object(us.renderToString)(r.a.createElement(es,{link:n,title:i})):e}));console.log({body:n,result:e}),a.saveFancyContent(Object(R.a)(Object(R.a)({},t),{},{body:n,is_fancy:!0}))}}),[s])},bj=E.a.div(XA||(XA=Object(f.a)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: column;\n  padding: ",";\n  border-radius: 6px;\n  background: ",";\n  text-align: left;\n  width: 100%;\n  color: ",";\n  font-size: 0.835rem;\n  overflow: visible;\n  min-height: ",";\n\n  &:after {\n    border: 10px solid #0000;\n    position: absolute;\n    top: 6px;\n    z-index: 1;\n    ",";\n    border-left-color: ",";\n    border-right-color: ",";\n    height: 5px;\n  }\n\n  a:not([href]):not([tabindex]) {\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  video {\n    width: 100%;\n  }\n  p.reply-author {\n    color: ",";\n    font-weight: 400;\n    font-size: 12px;\n    font-style: italic;\n    margin: 0;\n    display: block;\n    position: absolute;\n    top: -24px;\n    left: 0;\n    white-space: nowrap;\n    ","\n  }\n  span.emoticon-body {\n    font-size: 2.5rem;\n    padding: 20px 10px;\n    text-align: ",";\n  }\n  .reply-content img {\n    max-width: 100%;\n    max-height: 300px;\n  }\n  span.reply-date {\n    color: ",";\n    font-style: italic;\n    font-size: 11px;\n    position: absolute;\n    top: 0;\n    ",";\n    display: flex;\n    height: 100%;\n    text-align: ",";\n    white-space: nowrap;\n\n    .star-wrap {\n      position: relative;\n      display: flex;\n\n      svg {\n        width: 16px;\n        height: 16px;\n        color: #a7abc3;\n\n        &.active {\n          fill: #7a1b8bcc;\n          color: #7a1b8bcc;\n        }\n      }\n      .star-count {\n        font-size: 0.835rem;\n        color: #a7abc3;\n        height: 16px;\n        line-height: 16px;\n        padding: 0 4px;\n        border-radius: 6px;\n        font-style: normal;\n      }\n    }\n  }\n  ol {\n    text-align: left;\n    position: relative;\n    padding-inline-start: 0;\n    li {\n      margin-left: 0;\n    }\n  }\n  ul {\n    li {\n      text-align: left;\n      position: relative;\n      margin-left: 0;\n    }\n  }\n  span.is-deleted {\n    font-style: italic;\n    color: ",";\n  }\n  span.image-uploading {\n    display: none;\n  }\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n"])),(function(e){return e.hasFiles?"3px":"6px 9px 8px 9px"}),(function(e){return e.isAuthor?"#7A1B8B":"#F0F0F0"}),(function(e){return e.isAuthor?"#ffffff":"#000000"}),(function(e){return e.hasGif?"150px":"33px"}),(function(e){return e.isAuthor?"right: -16px":"left: -15px"}),(function(e){return e.isAuthor?"#7A1B8B":"#0000"}),(function(e){return e.isAuthor?"#0000":"#F0F0F0"}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#ffffff":"#AAB0C8"}),(function(e){return!0===e.isForwardedMessage&&"top: -40px;"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.showAvatar&&!1===e.hideBg||e.hasRemoveOnDlFiles?"#a7abc3":"#0000"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.isAuthor?"#ffffffe6":"#AAB0C8"})),hj=E.a.div($A||($A=Object(f.a)(["\n  background: ",";\n  border-radius: 6px;\n  margin: 4px -4px 4px -4px;\n  text-align: left;\n  padding: 10px 10px 10px 20px;\n  position: relative;\n  cursor: pointer;\n  max-width: ",";\n  &:before {\n    height: 70%;\n    width: 5px;\n    background: ",";\n    background: #ffffffe6;\n    position: absolute;\n    ",";\n    display: inline-block;\n    float: left;\n    left: 5px;\n    opacity: 0.8;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n  }\n  @media all and (max-width: 620px) {\n    margin: 7px -7px 10px -7px;\n    padding: 7px;\n  }\n"])),(function(e){return e.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(e){return e.hasFiles?"210px":"auto"}),(function(e){return e.isAuthor?"#8C3B9B":"#E4E4E4"}),(function(e){return!e.isEmoticonOnly&&"content: ''"})),Ej=E.a.div(ej||(ej=Object(f.a)(["\n  font-weight: 600;\n  @media all and (max-width: 620px) {\n    font-size: 11px;\n    line-height: 1.2;\n    font-weight: normal;\n  }\n"]))),_j=E.a.div(tj||(tj=Object(f.a)(["\n  color: ",";\n  max-width: 100%;\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      width: auto;\n      display: inline-block;\n    }\n  }\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-wrap;\n  a {\n    color: ",";\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    @media only screen and (max-width: 1024px) {\n      white-space: normal;\n      word-break: break-word;\n\n      &:hover {\n        word-break: unset;\n      }\n    }\n\n    &:hover {\n      overflow: unset;\n      white-space: unset;\n      text-overflow: unset;\n      word-break: break-word;\n    }\n  }\n"])),(function(e){return e.isAuthor?"#ffffffe6":"#000000"}),(function(e){return e.isAuthor?"#ffffffe6":"#8C3B9B"})),Oj=Object(E.a)(qA)(aj||(aj=Object(f.a)(["\n  img {\n    cursor: pointer;\n  }\n  a {\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .reply-file-item {\n    display: block;\n    font-weight: bold;\n\n    &.component-image-text-link {\n      img.component-svg-image {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        filter: brightness(0) saturate(100%) ",";\n      }\n\n      &:hover {\n        color: #972c86;\n\n        img.component-svg-image {\n          filter: brightness(0) saturate(100%) ",";\n        }\n      }\n    }\n\n    &.file-only {\n      img {\n        width: 52.5px;\n        height: 52.5px;\n      }\n    }\n  }\n\n  ","\n"])),(function(e){return e.isAuthor?Object(OA.hexToCSSFilter)("#ffffff").filter:Object(OA.hexToCSSFilter)("#8C3B9B").filter}),(function(e){return e.isAuthor?Object(OA.hexToCSSFilter)("#fff").filter:Object(OA.hexToCSSFilter)("#0056b3").filter}),(function(e){return e.hasMessage&&""})),gj=E.a.span(nj||(nj=Object(f.a)(["\n  max-width: ",";\n  padding: ",";\n  ul {\n    list-style-type: none;\n  }\n\n  a,\n  a:not([href]):not([tabindex]) {\n    cursor: pointer;\n    color: ",";\n    color: ",";\n    text-decoration: underline;\n\n    &.gdrive-link {\n      text-decoration: none;\n\n      .link {\n        @media (max-width: 1580px) {\n          max-width: 20vw;\n        }\n        @media (max-width: 1480px) {\n          max-width: 14vw;\n        }\n        @media (max-width: 1380px) {\n          max-width: 5vw;\n        }\n        @media (max-width: 991.99px) {\n          max-width: 350px;\n        }\n        @media (max-width: 822px) {\n          max-width: 20vw;\n        }\n      }\n      .preview-text {\n        font-weight: bold;\n        color: ",";\n      }\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n    &.btn {\n      border: 1px solid ",";\n\n      &:focus,\n      &:hover {\n        border: 1px solid ",";\n      }\n\n      &.btn-action {\n        margin-top: 0.5rem;\n        border-radius: 8px;\n      }\n\n      &.btn-complete {\n        color: ",";\n        border: 1px solid ",";\n      }\n    }\n  }\n\n  span.completed {\n    text-decoration: line-through;\n  }\n"])),(function(e){return e.hasFiles?"200px":"auto"}),(function(e){return e.hasFiles?"7px 4px 5px 6px":""}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#ffffff99":"#7a1b8b"}),(function(e){return e.isAuthor?"#FFF":"#828282"}),(function(e){return e.isAuthor?"#ffffff":"#7a1b8b"}),(function(e){return e.isAuthor?"#ffffff":"#8C3B9B"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#fff":"#0056b3"}),(function(e){return e.isAuthor?"#fff":"#0056b3"})),vj=E.a.div(rj||(rj=Object(f.a)(["\n  display: flex;\n  flex-flow: ",";\n\n  .chat-content {\n    width: 100%;\n    padding-left: 0;\n  }\n\n  .chat-clap {\n    float: ",";\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"left":"right"})),Aj=E.a.div(ij||(ij=Object(f.a)(["\n  ","\n\n  .reply-author {\n    ",";\n  }\n  .reply-content {\n    clear: both;\n    width: 100%;\n    display: block;\n\n    p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n\n      a {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        @media only screen and (max-width: 1024px) {\n          white-space: normal;\n          word-break: break-word;\n\n          &:hover {\n            word-break: unset;\n          }\n        }\n\n        &:hover {\n          overflow: unset;\n          white-space: unset;\n          text-overflow: unset;\n          word-break: break-word;\n        }\n      }\n    }\n  }\n  .gif_player {\n    clear: both;\n    position: relative;\n    left: 0;\n    overflow: hidden;\n    //height: 250px;\n    min-height: 150px;\n    cursor: pointer;\n    .gifPlayer {\n      border-radius: 8px;\n      max-height: 250px;\n    }\n    .play_button {\n      height: 60px;\n      width: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n"])),(function(e){return!e.isEmoticonOnly&&"\n    &:before {\n        ".concat((function(e){return e.showAvatar&&"content: ''"}),";\n        border: 10px solid transparent;\n        border-left-color: #f0f0f0;\n        position: absolute;\n        top: 6px;\n        left: -15px;\n        z-index: 1;\n        ").concat((function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -15px;\n            border-left-color: red;\n            border-left-color: #7A1B8B;\n            border-right-color: transparent;\n        "}),";\n        width: 20px;\n        height: 20px;\n    }\n    ")}),(function(e){return e.isAuthor?"margin-left: 30px":"margin-right: 30px"}),(function(e){return e.isAuthor,"#ff4444"})),jj=E.a.div(oj||(oj=Object(f.a)(["\n  color: #676767;\n  display: flex;\n  flex-flow: ",";\n  .reply-date {\n    margin: ",";\n    flex-flow: column;\n    justify-content: center;\n  }\n  .reply-date.updated {\n    > span:last-child {\n      display: none;\n    }\n  }\n  .reply-date.updated:hover {\n    > span:first-child {\n      display: none;\n    }\n    > span:last-child {\n      display: block;\n    }\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor?"0 10px 0 0":"0 0 0 10px"})),Cj=E.a.span(cj||(cj=Object(f.a)(["\n  color: #aab0c8;\n  font-style: italic;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  position: absolute;\n  top: calc(50% - 25px);\n  margin: 0 10px;\n  ",";\n  height: 25px;\n  white-space: nowrap;\n\n  svg {\n    width: 15px;\n    height: 15px;\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n  }\n"])),(function(e){return e.isAuthor?"right: 100%;":"left: 100%;"})),Tj=E.a.span(sj||(sj=Object(f.a)(["\n  padding: ",";\n  font-weight: 500;\n  color: #929496;\n  &.important {\n    font-weight: 600;\n    color: #191c20;\n  }\n  @media (max-width: 620px) {\n    display: block;\n    font-size: 11px;\n    line-height: 1.2;\n  }\n"])),(function(e){return e.isEmoticonOnly||e.isGifOnly||!0===e.hasFiles?"3px 9px 3px 9px":"0"})),yj=[.1,.2,.3,.4,.5,.6,.7,.8,.9],Sj=r.a.memo((function(e){var t=e.reply,a=e.showAvatar,i=e.selectedChannel,o=e.showGifPlayer,c=e.isAuthor,s=e.addMessageRef,l=e.user,d=e.recipients,u=e.isLastChat,m=e.chatMessageActions,p=e.timeFormat,f=e.isBot,h=e.chatSettings,E=e.isLastChatVisible,O=e.dictionary,g=e.users,v=e.translated_channels,A=e.chat_language,j=e.translate,C=e.language,T=e._t,y=Object(b.g)(),S=xp();fj({message:t,actions:m}),pj({message:t,isAuthor:c,translate:i.is_translate,chat_language:A,actions:m});var k=zp({reply:t,dictionary:O,isAuthor:c,user:l,recipients:d,selectedChannel:i,users:g,translate:j,language:C,_t:T,translated_channels:v,chat_language:A}),w=k.quoteAuthor,N=k.quoteBody,x=k.replyBody,R=k.hasMessage,I=k.isGifOnly,P=k.isEmoticonOnly,D=t.files.length>0,L=t.files.some((function(e){return e.remove_on_download})),F={container:Object(n.useRef)(null)},M=Object(n.useRef)(null),U=Object(_A.b)({threshold:1}),G=Object(_.a)(U,2),H=G[0],B=G[1],W=Object(_A.b)({threshold:yj,skip:!u}),Y=Object(_.a)(W,3),V=Y[0],Q=Y[1],K=Y[2],z=function(e){return e.preventDefault(),y.push(e.currentTarget.dataset.href),!1};Object(n.useEffect)((function(){var e=F.container.current.querySelector("a.push");return e&&e.addEventListener("click",z,!0),function(){e&&e.removeEventListener("click",z,!0)}}),[]),Object(n.useEffect)((function(){"object"===typeof y.location.state&&y.location.state&&y.location.state.focusOn===t.code&&F.container.current&&M.current&&(console.log(y.location.state,F.container.current),F.container.current.scrollIntoView({block:"center"}),M.current&&M.current.classList.add("pulse"),y.push(y.location.pathname,null))}),[y.location.state,F.container.current,M.current]),Object(n.useEffect)((function(){s&&B&&e.loadReplies()}),[s,B]),Object(n.useEffect)((function(){u&&K&&(K.boundingClientRect.height-K.intersectionRect.height>=16?E&&m.setLastMessageVisiblility({status:!1}):E||m.setLastMessageVisiblility({status:!0}))}),[u,K,E,Q]);var q=function(e){if(t.quote){var a=document.querySelector(".chat-list-item-".concat(t.quote.id));a&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},J=t.user&&g[t.user.id]&&"external"===g[t.user.id].type&&!c;return r.a.createElement(bj,{ref:F.container,tabIndex:t.id,hasFiles:D,className:"chat-bubble ql-editor ".concat(t.is_important&&"important"," ").concat(J&&"external-chat"),showAvatar:a,isAuthor:c,hideBg:P||I||D&&!R,theme:h.chat_message_theme,hasGif:o,hasRemoveOnDlFiles:L},r.a.createElement(r.a.Fragment,null,t.is_transferred&&r.a.createElement(Cj,{className:"small",isAuthor:c},r.a.createElement(pn,{icon:"corner-up-right"}),O.forwardedMessage),r.a.createElement(vj,{ref:s?H:null,className:"chat-content-clap",isAuthor:c},r.a.createElement(Aj,{showAvatar:a,isAuthor:c,isEmoticonOnly:P,className:"chat-content animated slower",ref:M},!c&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Tj,{isEmoticonOnly:P,hasFiles:D,isGifOnly:I,className:"chat-name-not-author-mobile ".concat(t.is_important&&"important")},"BOT"===t.user.type&&t.user.code&&t.user.code.includes("huddle")?t.user.name.substr(0,t.user.name.length/2):t.user.name)),t.quote&&t.quote.body&&!t.is_deleted&&(void 0!==t.quote.user_id||void 0!==t.quote.user)&&r.a.createElement(hj,{className:"quote-container",showAvatar:a,isEmoticonOnly:P,hasFiles:D,theme:h.chat_message_theme,onClick:q,onTouchEnd:q,isAuthor:c},t.quote.user_id===l.id?r.a.createElement(Ej,{theme:h.chat_message_theme,isAuthor:!0},"You"):r.a.createElement(Ej,{theme:h.chat_message_theme,isAuthor:t.quote.user_id===l.id},w),r.a.createElement(_j,{ref:function(e){e&&e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){S.init(e)}))},className:"quote-content",theme:h.chat_message_theme,isAuthor:c,dangerouslySetInnerHTML:{__html:N}})),t.files.length>0&&!t.is_deleted&&r.a.createElement(Oj,{hasMessage:R,isAuthor:c,theme:h.chat_message_theme,files:t.files,reply:t,type:"chat",topic_id:"TOPIC"===i.type?i.entity_id:null}),R&&r.a.createElement("span",{ref:u?V:null},r.a.createElement(gj,{ref:function(e){e&&e.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){S.init(e)}))},hasFiles:D,theme:h.chat_message_theme,isAuthor:c,className:"reply-content ".concat(P?"emoticon-body":""," ").concat(t.is_deleted?"is-deleted":""),dangerouslySetInnerHTML:{__html:x}})),o&&r.a.createElement(ls,{body:t.body,autoplay:!0}),!0===(t.unfurls&&t.unfurls.length&&!t.is_deleted&&!o&&!f)&&r.a.createElement(mj,{unfurlData:t.unfurls,isAuthor:c,removeUnfurl:m.removeUnfurl,channelId:i.id,messageId:t.id,type:"chat"}),void 0!==t.unfurl_loading&&t.unfurl_loading&&r.a.createElement(tn.a,{color:"#dedede",borderRadius:"10px",width:"100%",height:"150px",widthRandomness:0,heightRandomness:0}))),r.a.createElement(jj,{className:"chat-timestamp",isAuthor:c},r.a.createElement("span",{className:"reply-date created"},r.a.createElement("span",null,p.todayOrYesterdayDate(t.created_at.timestamp)),L&&r.a.createElement("span",null,O.removeOnDownload)))),e.children)})),kj=r.a.memo((function(e){var t=e.isAuthor,a=e.replyData,i=e.className,o=void 0===i?"":i,c=e.selectedChannel,s=e.dictionary,d=e.width,u=void 0===d?250:d,m=e.teamChannelId,p=void 0===m?null:m,f=e.isExternalUser,b=Object(n.useState)(!1),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useState)(!1),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(l.useDispatch)(),T=document.getElementById("component-chat-thread"),y=rf(),S=sm(),k=S.selectUserChannel,w=S.loggedUser,N=S.users,x=S.channels,I=S.history,P=S.match;Object(n.useEffect)((function(){a.user&&"BOT"===a.user.type&&a.body.includes("<div><p>Your")&&!a.hasOwnProperty("huddle_log")&&y.channelActions.fetchUnpublishedAnswers({channel_id:a.channel_id})}),[]);var D=function(){y.remove(a.id)},L=a.user&&N[a.user.id]&&"internal"===N[a.user.id].type,F=a.files.some((function(e){return"trashed"===e.file_type}));return r.a.createElement(Uf,{width:u,className:o,scrollRef:T},!a.hasOwnProperty("huddle_log")&&r.a.createElement("div",{onClick:function(){return y.remind(a,c)}},s.remindMeAboutThis),t&&a.hasOwnProperty("is_transferred")&&!a.is_transferred&&r.a.createElement("div",{onClick:function(){y.setEdit(a)}},s.edit),!a.hasOwnProperty("huddle_log")&&r.a.createElement("div",{onClick:function(){y.setQuote(a)}},s.quote),t&&r.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:s.removeChat,submitText:s.remove,cancelText:s.cancel,bodyText:s.removeThisChat,actions:{onSubmit:D}};C(Ye(e))}},s.remove),!a.hasOwnProperty("huddle_log")&&r.a.createElement("div",{onClick:function(e){e.stopPropagation(),y.clipboardLink(c,a),O(!E)}},s.copyMessageLink),!a.hasOwnProperty("huddle_log")&&!F&&r.a.createElement("div",{onClick:function(){C(Ye({type:"forward",channel:c,message:a}))}},s.forward),t&&r.a.createElement("div",{onClick:function(){return y.markImportant(a)}},a.is_important?s.unMarkImportant:s.markImportant),a.user&&a.user.code&&a.user.code.includes("huddle_bot")&&a.body.includes("<div><p>Your Unpublished")&&r.a.createElement("div",{onClick:function(){y.setHuddleAnswers({id:a.id,channel_id:a.channel_id,huddle_log:a.huddle_log})}},"Edit huddle"),a.body.startsWith("HUDDLE_SKIP::")&&r.a.createElement("div",{onClick:function(){y.addSkip({channel_id:a.channel_id,id:a.id})}},"Unskip"),a.user&&"BOT"!==a.user.type&&a.user.id!==w.id&&"DIRECT"!==c.type&&a.user.code&&"huddle_bot"!==a.user.code&&L&&r.a.createElement("div",{onClick:function(){if(!A){j(!0),k(a.user,(function(e){e&&e.id&&y.setQuote(Object(R.a)(Object(R.a)({},a),{},{channel_id:e.id})),j(!1)})),O(!E)}}},s.replyInPrivate),p&&!f&&r.a.createElement("div",{onClick:function(){if(!A){var e=function(e){if(e&&e.id){y.setQuote(Object(R.a)(Object(R.a)({},a),{},{channel_id:e.id}));var t=P.url;"/chat/:code"===P.path?I.push("/chat/".concat(p.code)):P.path.startsWith("/workspace/chat")&&I.push(t.replace("/workspace/chat","/workspace/team-chat"))}j(!1)};j(!0),x[p]?y.channelActions.select(x[p.id],e):y.channelActions.fetchByCode(p.code,(function(t,a){t||(e(a.data),y.channelActions.select(Object(R.a)(Object(R.a)({},a.data),{},{selected:!0,hasMore:!1,isFetching:!1,skip:0,replies:[]})))})),O(!E)}}},"Discuss on team chat"))}));function wj(){var e=Object(f.a)(['\n  .sepline {\n    font-weight: 600;\n    font-size: 0.85em;\n    color: #972c86;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: 100%;\n    margin: 10px auto 8px;\n    &::before,\n    &::after {\n      content: "";\n      position: absolute;\n      background-color: #972c86;\n      width: 100%;\n      height: 1px;\n      display: block;\n      clear: both;\n\n      @media only screen and (min-width: 1800px) {\n        max-width: 44%;\n      }\n\n      @media only screen and (max-width: 1799px) {\n        max-width: 42%;\n      }\n\n      @media only screen and (max-width: 1650px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1440px) {\n        max-width: 38%;\n      }\n\n      @media only screen and (max-width: 1360px) {\n        max-width: 36%;\n      }\n\n      @media only screen and (max-width: 1280px) {\n        max-width: 40%;\n      }\n\n      @media only screen and (max-width: 1136px) {\n        max-width: 32%;\n      }\n\n      @media only screen and (max-width: 1080px) {\n        max-width: 30%;\n      }\n\n      @media only screen and (max-width: 1024px) {\n        max-width: 26%;\n      }\n\n      @media only screen and (max-width: 1000px) {\n        max-width: 24%;\n      }\n\n      @media only screen and (max-width: 996px) {\n        max-width: 20%;\n      }\n\n      @media only screen and (max-width: 640px) {\n        max-width: 35%;\n      }\n    }\n    &::before {\n      left: 0;\n    }\n    &::after {\n      right: 0;\n    }\n  }\n']);return wj=function(){return e},e}function Nj(){var e=Object(f.a)(["\n  &.hide {\n    visibility: hidden;\n    opacity: 0;\n  }\n"]);return Nj=function(){return e},e}var xj=E.a.div(Nj()),Rj=E.a.div(wj()),Ij=function(e){return r.a.createElement(xj,{className:"new-message-sepline"},r.a.createElement(Rj,null,r.a.createElement("span",{className:"sepline"},"New Message/s")))};function Pj(){var e=Object(f.a)(['\n  &.orientation-top {\n    bottom: 25px;\n  }\n  &.orientation-bottom {\n    top: calc(100% + 5px);\n  }\n  &.orientation-left {\n    right: calc(100% - 25px);\n    left: auto;\n  }\n  &.orientation-right {\n    left: calc(100% - 25px);\n    right: auto;\n  }\n\n  @media (max-width: 576px) {\n    position: fixed;\n    justify-content: center;\n    display: flex;\n\n    &.orientation-top {\n      bottom: 100px;\n    }\n    &.orientation-bottom {\n      top: auto;\n      bottom: 100px;\n    }\n    &.orientation-left {\n      right: 0;\n      left: 0;\n    }\n    &.orientation-right {\n      left: 0;\n      right: 0;\n    }\n  }\n\n  .emoji-mart-bar {\n    display: none;\n  }\n\n  li {\n    &:before {\n      content: "" !important;\n      margin: 0 !important;\n      display: none !important;\n    }\n\n    padding-left: 0 !important;\n    text-align: left !important;\n    position: relative !important;\n    margin-left: 10px !important;\n  }\n']);return Pj=function(){return e},e}function Dj(){var e=Object(f.a)(["\n  @media (max-width: 620px) {\n    //display: none;\n  }\n  ",";\n\n  &:hover {\n    filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);\n  }\n"]);return Dj=function(){return e},e}function Lj(){var e=Object(f.a)(["\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n  padding: 0;\n  cursor: pointer;\n  position: relative;\n  @media (max-width: 620px) {\n    width: 20px;\n    height: 20px;\n  }\n"]);return Lj=function(){return e},e}var Fj=E.a.div(Lj()),Mj=Object(E.a)(pn)(Dj(),(function(e){return e.active&&"filter: brightness(0) saturate(100%) invert(23%) sepia(21%) saturate(6038%) hue-rotate(284deg) brightness(93%) contrast(91%);"})),Uj=Object(E.a)(cr)(Pj()),Gj=function(e){var t=e.reply,a=e.showEmojiSwitcher,i=void 0===a?null:a,o=null,c=rf(),s=document.getElementById("component-chat-thread"),l={container:Object(n.useRef)(null),picker:Object(n.useRef)(null)},d=Object(n.useState)(i),u=Object(_.a)(d,2),m=u[0],p=u[1],f=function(){return p(!m)},b=fs(l.container,l.picker,s,m).orientation;return Object(n.useEffect)((function(){null!==i&&p(!0)}),[i]),Ka(l.container,(function(){p(!1)}),!0),r.a.createElement(Fj,{className:"emoji-button-div",ref:l.container},r.a.createElement(Mj,{icon:"smile",active:m,onClick:f}),m&&r.a.createElement(Uj,{ref:l.picker,onMouseEnter:function(){clearTimeout(o)},onMouseLeave:function(){o=setTimeout((function(){p(!1)}),1e3)},className:"chat-reaction-picker",orientation:b,onSelectEmoji:function(e){f(),c.react(t.id,e.id)},show:m}))};function Hj(){var e=Object(f.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  i {\n    color: #ddd;\n  }\n  :hover i {\n    color: #676767;\n    cursor: pointer;\n  }\n"]);return Hj=function(){return e},e}var Bj=E.a.span(Hj()),Wj=r.a.memo((function(e){var t=e.unfurlData,a=e.channelId,n=e.replyId,i=e.isAuthor,o=e.deleteChatUnfurlAction,c=e.removeChatUnfurlAction;return t.filter((function(e){return void 0===e.data.is_deleted})).slice(0,1).map((function(e,t){return r.a.createElement("blockquote",{className:"blockquote component-un-furl",key:t},r.a.createElement("div",{className:"media media-".concat(e.data.type)},e.data.image&&!e.data.code?r.a.createElement("img",{className:"item-image",src:e.data.image,title:e.data.title,alt:e.data.title}):"",r.a.createElement("div",{className:"media-wrapper"},r.a.createElement("div",{className:"media-header"},r.a.createElement("p",null,r.a.createElement("img",{alt:"provider",className:"provider-icon",src:e.data.provider_icon}),r.a.createElement("a",{className:"provider-name",href:e.data.provider_url,title:e.data.provider_name,target:"_blank",rel:"noopener noreferrer"},e.data.provider_name),e.data.author_name?r.a.createElement("span",{className:"item-author-name"}," | ",e.data.author_name):"")),r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",{className:"item-title"},r.a.createElement("a",{href:e.data.url,title:e.data.title,target:"_blank",rel:"noopener noreferrer"},e.data.title)),r.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.data.description}})))),i&&r.a.createElement(Bj,{onClick:function(t){return r=e.id,o({unfurl_id:r}),void c({unfurl_id:r,channel_id:a,reply_id:n});var r}},r.a.createElement("i",{className:"fas fa-times"})))}))}));function Yj(){var e=Object(f.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n  }\n"]);return Yj=function(){return e},e}function Vj(){var e=Object(f.a)(["\n  background: ",";\n  color: ",";\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  cursor: pointer;\n  position: relative;\n  :hover {\n    .chat-emoji-users-list {\n      visibility: visible;\n    }\n  }\n"]);return Vj=function(){return e},e}var Qj=E.a.div(Vj(),(function(e){return e.isAuthor?"rgb(157 57 173 / 93%)":"rgba(240, 240, 240, 0.8)"}),(function(e){return e.isAuthor?"#fff":"#505050"})),Kj=Object(E.a)(xn)(Yj(),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"5px":"unset"})),zj=function(e){var t=e.type,a=e.count,n=e.reactions,i=e.isAuthor,o=e.reply,c=rf();return r.a.createElement(Qj,{onClick:function(){c.react(o.id,t)},isAuthor:i,className:"chat-emoji"},r.a.createElement(nr.a,{emoji:t,size:20}),a>1?r.a.createElement("span",{className:"emoji-counter"}," ",a):null,r.a.createElement(Kj,{className:"chat-emoji-users-list",isAuthor:i,users:n.map((function(e){return{id:e.user_id,name:e.user_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,partial_name:null}}))}))};function qj(){var e=Object(f.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  top: 1px;\n  visibility: hidden;\n  ul {\n    max-height: 250px;\n    padding: 5px 10px;\n  }\n  .profile-slider {\n    display: none !important;\n  }\n"]);return qj=function(){return e},e}function Jj(){var e=Object(f.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    position: relative;\n    z-index: 100;\n  }\n  li {\n    position: relative;\n    padding: 3px;\n    border-bottom: 1px solid;\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    :hover {\n      .chat-emoji-users-list {\n        visibility: visible;\n      }\n    }\n  }\n  li:last-child {\n    border: none;\n  }\n"]);return Jj=function(){return e},e}var Zj=E.a.div(Jj()),Xj=Object(E.a)(xn)(qj(),(function(e){return e.isAuthor?"unset":"116%"}),(function(e){return e.isAuthor?"116%":"unset"})),$j=function(e){var t=e.className,a=e.reactions,i=e.handleShowMoreEmojis,o=e.isAuthor,c=e.reply,s=e.chatReactionAction,l=Object(n.useRef)();Ka(l,i,!0);return r.a.createElement(Zj,{className:t,ref:l},r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.type,onClick:function(){return function(e){var t={message_id:c.id,react_type:e};s(t,(function(e,t){console.log(t,"chat reaction response")}))}(e.type)}},r.a.createElement(nr.a,{emoji:e.type,size:16}),r.a.createElement("span",null,e.reactions.length),r.a.createElement(Xj,{className:"chat-emoji-users-list",isAuthor:o,users:e.reactions.map((function(e){return{id:e.user_id,name:e.user_name,profile_image_link:e.profile_image_link,profile_image_thumbnail_link:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,partial_name:null}}))}))}))))};function eC(){var e=Object(f.a)(["\n  position: absolute;\n  background: #dedede;\n  border-radius: 8px;\n  max-width: 100px;\n  min-width: 60px;\n  padding: 5px;\n  top: 100%;\n  right: ",";\n  left: ",";\n  margin-top: 5px;\n  //visibility: hidden;\n"]);return eC=function(){return e},e}function tC(){var e=Object(f.a)(["\n  background: #dedede;\n  padding: 2px 5px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  margin: 0 2px;\n  position: relative;\n  cursor: pointer;\n  // :hover {\n  //     .chat-reactions-list {\n  //         visibility: visible;\n  //     }\n  // }\n"]);return tC=function(){return e},e}function aC(){var e=Object(f.a)(["\n  // position: absolute;\n  //bottom: -20px;\n  margin-top: -8px;\n  display: inline-flex;\n  max-width: 90%;\n  z-index: 1;\n  flex-flow: ",";\n  align-self: ",";\n  .profile-slider {\n    left: 60px !important;\n    right: unset !important;\n    bottom: 0px !important;\n    top: unset !important;\n  }\n  .chat-right & {\n    .profile-slider {\n      left: unset !important;\n      right: 0 !important;\n      bottom: 100% !important;\n      top: unset !important;\n    }\n  }\n"]);return aC=function(){return e},e}var nC=E.a.div(aC(),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"flex-end":"flex-start"})),rC=E.a.div(tC()),iC=Object(E.a)($j)(eC(),(function(e){return e.isAuthor?"0":"unset"}),(function(e){return e.isAuthor?"unset":"0"})),oC=function(e){var t=e.reactions,a=e.isAuthor,i=e.chatReactionAction,o=e.reply,c=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(t.length),s=Object(n.useState)(!1),l=Object(_.a)(s,2),d=l[0],u=l[1],m=function(){return u(!d)},p=function(){return Object.entries(Jt(t,"react_type")).map((function(e){return{type:e[0],reactions:e[1]}}))},f=Object(n.useState)(p()),b=Object(_.a)(f,2),h=b[0],E=b[1];return Object(n.useEffect)((function(){E(p())}),[]),Object(n.useEffect)((function(){c!==t.length&&E(Object.entries(Jt(t,"react_type")).map((function(e){return{type:e[0],reactions:e[1]}})))}),[t,c]),r.a.createElement(nC,{isAuthor:a},h.slice(0,7).map((function(e){return r.a.createElement(zj,{userReacted:!1,key:e.type,type:e.type,count:e.reactions.length,reactions:e.reactions,isAuthor:a,chatReactionAction:i,reply:o})})),h.length>7&&r.a.createElement(rC,null,r.a.createElement("span",{onClick:m},"..."),d&&r.a.createElement(iC,{isAuthor:a,reactions:h.slice(7),className:"chat-reactions-list",handleShowMoreEmojis:m,chatReactionAction:i,reply:o})))};function cC(){var e=Object(f.a)(["\n  position: absolute;\n  bottom: 100%;\n  max-width: 250px;\n  left: ",";\n  right: ",";\n  z-index: 999;\n  ul {\n    max-height: 250px;\n\n    li {\n      display: flex;\n      text-align: left;\n\n      > span {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return cC=function(){return e},e}function sC(){var e=Object(f.a)(["\n    // position: absolute;\n    // right: ",";\n    // left: ",";\n    //top: 100%;\n    text-align: ",";\n    color: #a7abc3;\n    z-index: 2;\n    font-size: 11px;\n    position: absolute;\n    bottom: -18px;\n    white-space: nowrap;\n    ",";\n    span {\n        cursor: pointer;\n        &:hover {\n            color: #7A1B8B;\n            transition: color 0.3s;\n        }\n    }\n"]);return sC=function(){return e},e}var lC=E.a.div(sC(),(function(e){return e.isAuthor?"0":"unset"}),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"right":"left"}),(function(e){return e.isAuthor?"right: 0px":"left: 0px"})),dC=Object(E.a)(xn)(cC(),(function(e){return e.isAuthor?"unset":"5px"}),(function(e){return e.isAuthor?"5px":"unset"})),uC=function(e){var t=e.isPersonal,a=e.seenMembers,i=e.isAuthor,o=Object(n.useState)(!1),c=Object(_.a)(o,2),s=c[0],l=c[1],d=function(){return l(!s)};return r.a.createElement(lC,e,t&&"seen",!t&&1===a.length&&"seen by ".concat(a.map((function(e){return e.first_name})).slice(0,1).toString()),!t&&a.length>1&&r.a.createElement(r.a.Fragment,null,"seen by"," ",a.map((function(e){return e.first_name})).slice(0,1).toString()," ","and",r.a.createElement("span",{onClick:d}," more")),!t&&a.length>1&&s&&r.a.createElement(dC,{className:"chat-seen-list",users:a,isAuthor:i,onShowList:d}))};function mC(){var e=Object(f.a)(["\n  color: #a7abc3;\n  font-style: italic;\n  font-size: 11px;\n  position: absolute;\n  top: 0;\n  left: calc(100% + 10px);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  white-space: nowrap;\n\n  .star-wrap {\n    .feather-star {\n      width: 16px;\n      height: 16px;\n\n      &.active {\n        fill: #7a1b8bcc;\n        color: #7a1b8bcc;\n      }\n    }\n  }\n"]);return mC=function(){return e},e}function pC(){var e=Object(f.a)(["\n  display: block;\n  width: 100%;\n"]);return pC=function(){return e},e}function fC(){var e=Object(f.a)(['\n  display: block;\n  width: 100%;\n\n  .chat-file-notification {\n    b:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n\n  .push-link {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 25px;\n    margin-bottom: -25px;\n    width: 100%;\n\n    &:before {\n      position: absolute;\n      left: -14px;\n      top: -7px;\n      bottom: 0;\n      width: 6px;\n      height: calc(100% - 12px);\n      background: linear-gradient(180deg, rgba(106, 36, 126, 1) 0%, rgba(216, 64, 113, 1) 100%);\n      content: "";\n      border-radius: 6px 0 0 6px;\n    }\n\n    .card-body {\n      margin-top: 0.5rem;\n      margin-bottom: 0.5rem;\n      padding: 1rem;\n      max-width: 95%;\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 12px;\n    }\n\n    .open-post {\n      display: flex;\n      position: absolute;\n      right: -20px;\n      bottom: -10px;\n      justify-content: center;\n      align-items: center;\n      font-size: 12px;\n\n      svg {\n        margin-left: 0;\n        height: 12px;\n      }\n    }\n  }\n']);return fC=function(){return e},e}var bC,hC,EC,_C,OC,gC,vC,AC,jC,CC,TC,yC,SC,kC,wC=E.a.span(fC()),NC=E.a.span(pC()),xC=E.a.div(mC()),RC=[.1,.2,.3,.4,.5,.6,.7,.8,.9],IC=Object(n.forwardRef)((function(e,t){var a=e.reply,i=e.selectedChannel,o=e.isLastChat,c=e.chatMessageActions,s=e.recipients,l=e.user,d=e.timeFormat,u=e.isLastChatVisible,m=e.dictionary,p=e.users,f=e._t,h=Object(b.g)(),E=Zp({dictionary:m,reply:a,recipients:s,selectedChannel:i,user:l,users:p,_t:f}).parseBody,O=Object(_A.b)({threshold:RC,skip:!o}),g=Object(_.a)(O,3),v=g[0],A=g[1],j=g[2];Object(n.useEffect)((function(){o&&j&&(j.boundingClientRect.height-j.intersectionRect.height>=16?u&&c.setLastMessageVisiblility({status:!1}):u||c.setLastMessageVisiblility({status:!0}))}),[o,j,u,A]);var C=function(e){if(e.preventDefault(),"1"===e.currentTarget.dataset.ctrl){e.currentTarget.dataset.ctrl="0";var t=document.createElement("a");t.href=e.currentTarget.dataset.href,t.target="_blank",t.click()}else h.push(e.currentTarget.dataset.href)},T=function(e){17===e.which&&(e.currentTarget.dataset.ctrl="1")},y=function(e){e.currentTarget.dataset.ctrl="0"};Object(n.useEffect)((function(){a&&document.querySelectorAll('.push-link[data-has-link="0"]').forEach((function(e){e.addEventListener("click",C),e.dataset.hasLink="1",e.addEventListener("keydown",T),e.addEventListener("keyup",y)}))}),[a]);return r.a.createElement(wC,{ref:o?v:null},r.a.createElement(NC,{ref:t,id:"bot-".concat(a.id),onClick:function(){if(a.body.startsWith("UPLOAD_BULK::")){var e=JSON.parse(a.body.replace("UPLOAD_BULK::",""));e.files&&c.viewFiles(e.files)}},dangerouslySetInnerHTML:{__html:E},isPostNotification:a.body.includes("POST_CREATE::")}),r.a.createElement(xC,{className:"chat-timestamp",isAuthor:!1},r.a.createElement("span",{className:"reply-date created"},d.localizeTime(a.created_at.timestamp))))})),PC=r.a.memo(IC),DC=E.a.div(bC||(bC=Object(f.a)(["\n  background: transparent;\n  background-repeat: repeat;\n  height: calc(100% - 125px);\n  overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  //z-index: 1;\n  scrollbar-width: none;\n  > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .chat-message-options svg {\n    fill: currentColor;\n  }\n  &.is-processed {\n    opacity: 0;\n  }\n  // .mention {\n  //   background: transparent;\n  //   display: inline-block;\n  //   width: auto;\n  //   height: auto;\n  //   padding: 0;\n  // }\n  // .mention.is-author {\n  //   background: transparent;\n  //   padding: 0;\n  // }\n"]))),LC=E.a.li(hC||(hC=Object(f.a)(["\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: ",';\n  text-align: center;\n  .chat-actions-container {\n    opacity: 0;\n\n    .star-wrap {\n      position: relative;\n      display: flex;\n      &[data-star="true"] {\n        .feather-star {\n          fill: #7a1b8bcc;\n          color: #7a1b8bcc;\n        }\n      }\n      .feather-star {\n        width: 16px;\n        height: 16px;\n        cursor: pointer;\n      }\n      .star-count {\n        font-size: 0.835rem;\n        color: #a7abc3;\n        height: 16px;\n        line-height: 16px;\n        padding: 0 4px;\n      }\n      .star-user-popup {\n        position: absolute;\n        width: 250px;\n        padding: 4px;\n        background-color: #ffffff;\n        top: 100%;\n        z-index: 1;\n        border-top: 1px solid #eeeeee;\n        border-radius: 8px;\n        color: #4d4d4d;\n\n        .dark & {\n          background-color: #25282c;\n          border-top: 1px solid #25282c;\n          border-radius: 8px;\n          color: #c7c7c7;\n        }\n\n        .name {\n          display: block;\n          width: 100%;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n\n      display: none;\n      visibility: hidden;\n    }\n  }\n\n  &:hover {\n    .chat-actions-container {\n      opacity: 1;\n    }\n  }\n'])),(function(e){return e.isLastChat?"20px":"5px"})),FC=E.a.div(EC||(EC=Object(f.a)(["\n  z-index: 2;\n  // display: flex;\n  // justify-content: center;\n  // align-items: center;\n  color: #a7abc3;\n  //padding: 26px 0 14px 0;\n  display: inline-block;\n  left: 50%;\n  position: sticky;\n  top: 10px;\n  transform: translateX(-50%);\n  span {\n    padding: 4px 8px;\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 6px;\n    margin: 0 4px;\n    background: #f0f0f0;\n  }\n  &[stuck] {\n    &:before,\n    &:after {\n      display: none;\n    }\n  }\n  @media (max-width: 620px) {\n    //padding: 14px 0 10px 0;\n  }\n"]))),MC=E.a.div(_C||(_C=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  //align-items: ",";\n  justify-content: flex-end;\n  flex-flow: column;\n  flex-flow: ",";\n  margin-left: ",";\n  ",";\n  margin-top: ",";\n  margin-top: ",";\n  @media (max-width: 620px) {\n    margin-top: ",";\n    margin-top: ",";\n    ",";\n    ",";\n    ",";\n  }\n  &:before {\n    ",";\n    border: 10px solid transparent;\n    border-right-color: ",";\n    position: absolute;\n    top: ",";\n    left: 30px;\n    z-index: 1;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n    ",";\n  }\n  .dark & {\n    &:before {\n      ",";\n      border: 10px solid transparent;\n      position: absolute;\n      top: ",";\n      left: 30px;\n      z-index: 1;\n      @media all and (max-width: 620px) {\n        display: none;\n      }\n      ",";\n    }\n  }\n"])),(function(e){return e.isAuthor?"flex-end":"flex-start"}),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor||e.showAvatar?"0":"22px"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 15px;"}),(function(e){return e.showAvatar&&"36px"}),(function(e){return e.showAvatar&&e.isAuthor&&"20px"}),(function(e){return e.showAvatar&&"12px"}),(function(e){return e.showAvatar&&e.isAuthor&&"8px"}),(function(e){return!e.showAvatar&&!e.isAuthor&&!e.isBot&&"margin-left: 0"}),(function(e){return!0===e.isAuthor&&!e.showAvatar&&"position: relative; right: 0px;"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 0px;"}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.isImportant?"#7B68EE":e.isExternalChat?"#FFDB92":"#f0f0f0"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;\n            border-left-color:  ".concat((function(e){return e.isImportant?"#7B68EE":"#7A1B8B"}),";\n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        ")}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;            \n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        "})),UC=E.a.div(OC||(OC=Object(f.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),GC=E.a.div(gC||(gC=Object(f.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n  button {\n    margin: 5px;\n  }\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),HC=Object(E.a)(kj)(vC||(vC=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n  margin: 5px;\n  max-width: 25px;\n\n  @media (max-width: 620px) {\n    margin-right: 0;\n  }\n\n  .more-options-tooltip {\n    &.orientation-bottom {\n      top: calc(100% - 35px);\n      @media (max-width: 620px) {\n        top: 100%;\n      }\n    }\n\n    &.orientation-top {\n      @media (max-width: 620px) {\n        bottom: 30px;\n      }\n    }\n\n    &.orientation-right {\n      left: calc(100% + 10px);\n      @media (max-width: 620px) {\n        left: 0;\n      }\n    }\n    &.orientation-left {\n      @media (max-width: 620px) {\n        left: auto;\n        right: 0;\n      }\n    }\n  }\n"]))),BC=E.a.div(AC||(AC=Object(f.a)(["\n  //width: 100%;\n  //overflow: hidden;\n  max-width: 75%;\n  position: relative;\n  flex-flow: column;\n  display: inherit;\n  margin-left: ",";\n  > img {\n    // max-height: ",";\n    max-height: 300px;\n    max-width: 100%;\n    width: auto;\n    object-fit: cover;\n  }\n  .edited-message {\n    color: #aab0c8;\n    font-style: italic;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    margin: 0 10px;\n    height: 25px;\n    white-space: nowrap;\n    ",";\n  }\n  .chat-options {\n    visibility: hidden;\n  }\n  .chat-options.active {\n    visibility: visible;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 991.99px) {\n    max-width: calc(100% - 110px);\n  }\n\n  @media (max-width: 620px) {\n    ",";\n    ",";\n  }\n"])),(function(e){return e.showAvatar&&!e.isAuthor?"1rem":"1.6rem"}),(function(e){return e.maxImgHeight>300?"".concat(e.maxImgHeight,"px;"):"300px"}),(function(e){return e.isAuthor?"right: 100%;":"left: 100%"}),(function(e){return!e.showAvatar&&!e.isAuthor&&"margin-left: 0"}),(function(e){return!0===!e.isAuthor&&"margin-left: 0"})),WC=E.a.div(jC||(jC=Object(f.a)(["\n  position: relative;\n  display: inline-flex;\n  border-radius: 8px;\n  background: #f4f4f4f4;\n  text-align: left;\n  min-width: 100px;\n  max-width: 100%;\n  padding: 7px 15px;\n  line-height: 1.5rem;\n  float: left;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: ",";\n  .chat-options {\n    visibility: hidden;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"})),YC=E.a.span(CC||(CC=Object(f.a)(["\n  color: red;\n  margin: 0 10px;\n"]))),VC=E.a.div(TC||(TC=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  &.initial-load {\n    position: absolute;\n    top: 45%;\n    left: 45%;\n    transform: translate(-45%, -45%);\n  }\n"]))),QC=E.a.div(yC||(yC=Object(f.a)(["\n  width: 100%;\n  ul {\n    margin: 0;\n  }\n"]))),KC=Object(E.a)(kn)(SC||(SC=Object(f.a)(["\n  align-self: flex-start;\n  width: 2rem !important;\n  height: 2rem !important;\n  margin-top: ",";\n\n  img {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n  .pixel-avatar {\n    padding-top: 2px !important;\n  }\n"])),(function(e){return!0===e.isForwardedMessage?"25px":"0"})),zC=E.a.div(kC||(kC=Object(f.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  svg {\n    max-width: 100%;\n    width: 100%;\n    max-height: 40%;\n    margin: auto;\n  }\n"]))),qC=function(e){Object(hA.a)(a,e);var t=Object(EA.a)(a);function a(e){var n;return Object(bs.a)(this,a),(n=t.call(this,e)).loadReplies=function(){console.log("load more");var e=n.props,t=e.selectedChannel,a=e.chatMessageActions,r=n.scrollComponent.current;if(!t.isFetching&&t.hasMore){console.log("load more trigger"),a.channelActions.fetchingMessages(t,!0);var i={skip:0,limit:20};"undefined"!==typeof t.replies&&(i={skip:0===t.skip&&t.replies.length?t.replies.length:t.skip,limit:20}),a.fetch(t,i,(function(e,i){if(e)a.channelActions.fetchingMessages(t,!1);else{if((0===t.replies.length||0===t.skip)&&"object"!==typeof n.props.history.location.state){r.scrollTop=r.scrollHeight;var o=r.scrollHeight;console.log("initial load",r.scrollHeight),setTimeout((function(){o<r.scrollHeight&&(r.scrollTop=r.scrollHeight)}),1e3)}!0===n.state.initializing&&n.setState({initializing:!1})}}))}},n.handleReadChannel=function(){if(n.props.unreadCount>0||n.props.selectedChannel.total_unread>0){var e=n.props,t=e.selectedChannel;e.chatMessageActions.channelActions.markAsRead(t)}},n.handleResendMessage=function(e){n.props.createChatMessageV2Action(e,(function(t,a){t&&n.props.onFailedMessageSend(e)}))},n.handleRemoveReply=function(e){n.props.cbOnRemoveReply(e)},n.handleEditReply=function(e){n.props.onEditReply(e)},n.handleQuoteReply=function(e){n.props.onSelectQuote(e)},n.handleLoadMoreRefChange=function(e,t){n.setState({loadMoreInView:e})},n.handleMessageRefChange=function(e,t,a){var r=n.scrollComponent.current;e&&r&&r.scrollTop<.5*r.scrollHeight&&n.loadReplies()},n.handleShowSeenUsers=function(){return n.setState({showSeenUsers:!n.state.showSeenUsers})},n.filterSeenMembers=function(){return n.props.selectedChannel.members.filter((function(e){return 2===n.props.selectedChannel.members.length?!(!n.props.selectedChannel.last_reply||!n.props.selectedChannel.last_reply.user)&&(n.props.selectedChannel.last_reply.user.id===n.props.user.id?!(n.props.user.id===e.id):!(n.props.selectedChannel.last_reply.user.id===e.id)):(!n.props.selectedChannel.last_reply||!n.props.selectedChannel.last_reply.user||n.props.selectedChannel.last_reply.user.id!==e.id)&&n.props.user.id!==e.id})).filter((function(e){return!!e.last_visited_at&&e.last_visited_at.timestamp>=n.props.selectedChannel.last_reply.created_at.timestamp}))},n.getLoadRef=function(e){var t=n.props.selectedChannel,a=!1;if(t.replies.length&&!t.isFetching){var r=t.replies.findIndex((function(t){return t.id===e}));r<Math.round(t.replies.length/2)&&r%2===0&&(a=!0)}return a},n.handleToggleStar=function(e){var t=e.currentTarget.dataset,a=t.messageId,r=t.star;e.currentTarget.dataset.star=r?"false":"true",n.props.chatMessageActions.setStar({message_id:a,star:"false"===r?1:0})},n.handleStarMouseOver=function(e){var t=e.currentTarget.dataset,a=t.messageId;"false"===t.loaded&&(e.currentTarget.dataset.loaded="true",n.props.chatMessageActions.getStars(a))},n.state={hasArrowUpListener:!1,initializing:!1,loadMoreInView:!1,fetchingReplies:!1,showEmoji:{}},n.scrollComponent=r.a.createRef(),n.infiniteScroll=r.a.createRef(),n.mouseOver=r.a.createRef(!1),n.varRefs={timerStart:r.a.createRef(0),xDown:r.a.createRef(null),yDown:r.a.createRef(null)},n}return Object(hs.a)(a,[{key:"componentWillUnmount",value:function(){var e=this.scrollComponent.current;console.log("save historical position"),this.props.chatMessageActions.channelActions.saveHistoricalPosition(this.props.selectedChannel.id,e)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedChannel,a=e.historicalPositions,n=this.scrollComponent.current;"object"!==typeof this.props.history.location.state&&(a.length?a.forEach((function(e){e.channel_id===t.id&&n&&(n.scrollTop=n.scrollHeight-e.scrollPosition)})):n&&(n.scrollTop=n.scrollHeight)),t.hasMore&&0===t.skip&&this.loadReplies(),t.is_read&&this.handleReadChannel()}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var a=this.props.selectedChannel,n=this.scrollComponent.current;return e.selectedChannel&&e.selectedChannel&&e.selectedChannel.replies&&a.replies&&n&&a.replies.length>20&e.selectedChannel.replies.length<a.replies.length&&a.replies.length-e.selectedChannel.replies.length>=2?n.scrollHeight-n.scrollTop:null}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.selectedChannel,i=n.historicalPositions,o=n.user,c=document.querySelectorAll('.mention[data-id="'.concat(o.id,'"]'));c.length&&c.forEach((function(e){e.classList.add("is-author")}));var s=this.scrollComponent.current;this.props.selectedChannel&&e.selectedChannel.id!==r.id&&(r.hasMore&&0===r.skip&&this.loadReplies(),this.handleReadChannel(),i.length&&i.forEach((function(e){e.channel_id===r.id&&s&&(console.log("scroll to this",s.scrollHeight-e.scrollPosition,e.scrollPosition),s.scrollTop=s.scrollHeight-e.scrollPosition)}))),r&&e.selectedChannel.id===this.props.selectedChannel.id&&(null!==a&&r.replies.length!==e.selectedChannel.replies.length&&(r.replies.length-e.selectedChannel.replies.length===1?r.last_reply&&r.last_reply.user&&r.last_reply.user.id!==this.props.user.id&&(this.props.isLastChatVisible||(s.scrollTop=s.scrollHeight-a)):s.scrollTop=s.scrollHeight-a),r.replies&&r.replies.length&&r.replies.length-e.selectedChannel.replies.length===1&&(r.last_reply&&r.last_reply.user&&r.last_reply.user.id===this.props.user.id?s&&(s.scrollTop=s.scrollHeight):this.props.isLastChatVisible&&!this.props.isIdle&&this.props.isBrowserActive&&document.hasFocus()&&(r.is_read&&this.props.chatMessageActions.channelActions.markAsRead(r),s&&(s.scrollTop=s.scrollHeight)))),this.props.unreadCount>0&&this.props.isLastChatVisible&&!this.props.isIdle&&this.props.isBrowserActive&&document.hasFocus()&&this.handleReadChannel()}},{key:"render",value:function(){var e=this,t=this.props.selectedChannel,a=0,n=[];return t.replies&&t.replies.length&&(n=Object.entries(Object(Kt.groupBy)(t.replies.map((function(t){return t.hasOwnProperty("g_date")?t:Object(R.a)(Object(R.a)({},t),{},{g_date:e.props.timeFormat.localizeDate(t.created_at.timestamp,"YYYY-MM-DD")})})),"g_date")).map((function(e){return{key:e[0],replies:e[1]}})).sort((function(e,t){return e.key.localeCompare(t.key)}))),r.a.createElement(DC,{ref:this.scrollComponent,id:"component-chat-thread",className:"component-chat-thread messages ".concat(this.props.className),tabIndex:"2","data-init":1,"data-channel-id":t.id},t.isFetching&&t.hasMore&&0===t.replies.length&&0===t.skip&&r.a.createElement(VC,{className:"initial-load"},r.a.createElement(tr,null)),r.a.createElement(QC,{ref:this.infiniteScroll,className:"infinite-scroll",id:"infinite-scroll-chat-replies"},t.replies&&t.replies.length>=20&&r.a.createElement(_A.a,{as:"div",onChange:function(t,a){return e.handleLoadMoreRefChange(t,a)}},r.a.createElement("span",{className:"intersection-load-more-ref"})),r.a.createElement("ul",null,t.replies&&t.replies.length?n.map((function(n,i){return r.a.createElement("div",{key:"".concat(n.key).concat(n.replies[0].created_at.timestamp)},r.a.createElement(FC,{className:"timestamp-container"},r.a.createElement("span",null,e.props.timeFormat.localizeChatDate(n.replies[0].created_at.timestamp,"ddd, MMM DD, YYYY"))),n.replies.map((function(i,o,c){var s=i.user&&i.user.id===e.props.user.id,l=!1,d=!1,u=!1,m=!1,p=!1;if(i.user){i.created_at.timestamp&&(0===o&&(d=!0,l=!0),0!==o&&e.props.timeFormat.localizeDate(c[o-1].created_at.timestamp,"D")!==e.props.timeFormat.localizeDate(i.created_at.timestamp,"D")&&(d=!0,l=!0),0!==o&&i.created_at.timestamp-c[o-1].created_at.timestamp>600&&(l=!0)),0!==o&&!0===c[o-1].is_read&&!1===i.is_read&&(p=!0),0!==o&&null===c[o-1].user&&(l=!0),a!==i.user.id&&(l=!0,a=i.user.id),"undefined"!==typeof i.body&&null!==i.body&&null!==i.body.match(Ut)&&(u=!0);m=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot","huddle_bot"].includes(i.user.code)}else if(0!==o){var f=n.replies[o-1];if(f.body===i.body&&Math.abs(i.created_at.timestamp-f.created_at.timestamp)<=10)return r.a.createElement(r.a.Fragment,null)}return r.a.createElement(LC,{key:i.id,"data-message-id":i.id,"data-code":i.code,"data-timestamp":i.created_at.timestamp,className:"chat-list chat-list-item-".concat(i.id," code-").concat(i.code),showTimestamp:d,isLastChat:t.replies[t.replies.length-1].id===i.id},i.user&&p&&e.props.unreadCount>0&&r.a.createElement(Ij,null),i.user&&r.a.createElement(MC,{isAuthor:s,className:"chat-reply-list-item chat-reply-list-item-".concat(i.id," ").concat(s?"chat-right":"chat-left"),"data-message-id":i.id,showAvatar:l,isBot:m,isImportant:i.is_important,isExternalChat:i.user&&e.props.users[i.user.id]&&"external"===e.props.users[i.user.id].type&&!s},i.message_failed?r.a.createElement(YC,null,r.a.createElement("i",{className:"fas fa-times-circle",onClick:function(t){return e.handleResendMessage(i.payload)}})):null,r.a.createElement(BC,{isAuthor:s,showAvatar:l,className:"chat-bubble-quote-div"},r.a.createElement(Sj,{chatMessageActions:e.props.chatMessageActions,timeFormat:e.props.timeFormat,recipients:e.props.recipients,user:e.props.user,reply:i,showAvatar:l,selectedChannel:e.props.selectedChannel,showGifPlayer:u,isAuthor:s,addMessageRef:e.getLoadRef(i.id),isLastChat:t.replies[t.replies.length-1].id===i.id,loadReplies:e.loadReplies,isBot:m,chatSettings:e.props.settings,isLastChatVisible:e.props.isLastChatVisible,dictionary:e.props.dictionary,users:e.props.users,translate:e.props.translate,language:e.props.language,_t:e.props._t,translated_channels:e.props.translated_channels,chat_language:e.props.chat_language},r.a.createElement(UC,{isAuthor:s,className:"chat-actions-container"},r.a.createElement(Gj,{isAuthor:s,reply:i,showEmojiSwitcher:e.state.showEmoji[i.id]}),!isNaN(i.id)&&!i.is_deleted&&r.a.createElement(HC,{dictionary:e.props.dictionary,className:"chat-message-options",selectedChannel:e.props.selectedChannel,isAuthor:s,replyData:i,teamChannelId:e.props.teamChannelId,isExternalUser:"external"===e.props.user.type}))),i.reactions.length>0&&r.a.createElement(oC,{reactions:i.reactions,isAuthor:s,reply:i,loggedUser:e.props.user,chatReactionAction:e.props.chatReactionV2Action}),t.last_reply&&t.last_reply.id===i.id&&e.filterSeenMembers().length>0&&r.a.createElement(uC,{isAuthor:s,onClick:e.handleShowSeenUsers,seenMembers:e.filterSeenMembers(),isPersonal:2===e.props.selectedChannel.members.length})),!s&&l&&r.a.createElement(KC,{isForwardedMessage:i.is_transferred,id:i.user.id,type:"USER",imageLink:i.user.profile_image_thumbnail_link?i.user.profile_image_thumbnail_link:i.user.profile_image_link,name:i.user.name,isBot:m,isHuddleBot:"huddle_bot"===i.user.code,showSlider:!0})),null===i.user&&r.a.createElement(MC,{className:"chat-reply-list-item system-reply-list-item chat-reply-list-item-".concat(i.id),"data-message-id":i.id,isAuthor:!1},r.a.createElement(BC,{isAuthor:s,showAvatar:l,className:"chat-bubble-quote-div"},r.a.createElement(WC,{className:"system-message",isAuthor:!1},r.a.createElement(PC,{recipients:e.props.recipients,user:e.props.user,chatMessageActions:e.props.chatMessageActions,timeFormat:e.props.timeFormat,selectedChannel:e.props.selectedChannel,reply:i,chatName:e.props.chatName,addMessageRef:e.getLoadRef(i.id),isLastChat:t.replies[t.replies.length-1].id===i.id,isLastChatVisible:e.props.isLastChatVisible,dictionary:e.props.dictionary,users:e.props.users,_t:e.props._t}),i.unfurls.length?r.a.createElement(Wj,{unfurlData:i.unfurls,isAuthor:!1,deleteChatUnfurlAction:e.props.deleteChatUnfurlAction,removeChatUnfurlAction:e.props.removeChatUnfurlAction,channelId:e.props.selectedChannel.id,replyId:i.id}):null,r.a.createElement(GC,{isAuthor:s,className:"chat-actions-container"},r.a.createElement(Gj,{isAuthor:s,reply:i,showEmojiSwitcher:e.state.showEmoji[i.id]}),!isNaN(i.id)&&!i.is_deleted&&r.a.createElement(HC,{dictionary:e.props.dictionary,scrollRef:e.scrollComponent,replyData:i,className:"chat-message-options",selectedChannel:e.props.selectedChannel,isAuthor:s,teamChannelId:e.props.teamChannelId,isExternalUser:"external"===e.props.user.type}))),i.reactions.length>0&&r.a.createElement(oC,{reactions:i.reactions,reply:i,isAuthor:!1,loggedUser:e.props.user,chatReactionAction:e.props.chatReactionV2Action}))))})))})):null,!this.state.initializing&&!t.isFetching&&t.replies&&t.replies.length<1&&r.a.createElement(zC,{className:"no-reply-container"},r.a.createElement(bn,{icon:3})))))}}]),a}(r.a.PureComponent);var JC,ZC,XC,$C,eT,tT,aT,nT,rT,iT,oT,cT,sT,lT,dT=Object(b.k)(Object(l.connect)((function(e){var t=e.global,a=t.recipients,n=t.isIdle,r=t.isBrowserActive,i=e.session.user,o=e.chat,c=o.historicalPositions,s=o.isLastChatVisible,l=e.users.users;return{user:i,settings:e.settings.user.CHAT_SETTINGS,historicalPositions:c,recipients:a,isLastChatVisible:s,users:l,isIdle:n,isBrowserActive:r}}),null)(qC)),uT=a(148),mT=a(295),pT=E.a.li(JC||(JC=Object(f.a)(["\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: ",';\n  text-align: center;\n  .chat-actions-container {\n    opacity: 0;\n\n    .star-wrap {\n      position: relative;\n      display: flex;\n      &[data-star="true"] {\n        .feather-star {\n          fill: #7a1b8bcc;\n          color: #7a1b8bcc;\n        }\n      }\n      .feather-star {\n        width: 16px;\n        height: 16px;\n        cursor: pointer;\n      }\n      .star-count {\n        font-size: 0.835rem;\n        color: #a7abc3;\n        height: 16px;\n        line-height: 16px;\n        padding: 0 4px;\n      }\n      .star-user-popup {\n        position: absolute;\n        width: 250px;\n        padding: 4px;\n        background-color: #ffffff;\n        top: 100%;\n        z-index: 1;\n        border-top: 1px solid #eeeeee;\n        border-radius: 8px;\n        color: #4d4d4d;\n\n        .dark & {\n          background-color: #25282c;\n          border-top: 1px solid #25282c;\n          border-radius: 8px;\n          color: #c7c7c7;\n        }\n\n        .name {\n          display: block;\n          width: 100%;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n\n      display: none;\n      visibility: hidden;\n    }\n  }\n\n  &:hover {\n    .chat-actions-container {\n      opacity: 1;\n    }\n  }\n'])),(function(e){return e.isLastChat?"20px":"5px"})),fT=E.a.div(ZC||(ZC=Object(f.a)(["\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #a7abc3;\n  padding: 26px 0 14px 0;\n  position: sticky;\n  top: 0;\n  span {\n    padding: 4px 8px;\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 6px;\n    margin: 0 4px;\n    background: #f0f0f0;\n  }\n  &[stuck] {\n    &:before,\n    &:after {\n      display: none;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 14px 0 10px 0;\n  }\n"]))),bT=E.a.div(XC||(XC=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  //align-items: ",";\n  justify-content: flex-end;\n  flex-flow: column;\n  flex-flow: ",";\n  margin-left: ",";\n  ",";\n  margin-top: ",";\n  margin-top: ",";\n  @media (max-width: 620px) {\n    margin-top: ",";\n    margin-top: ",";\n    ",";\n    ",";\n    ",";\n  }\n  &:before {\n    ",";\n    border: 10px solid transparent;\n    border-right-color: ",";\n    position: absolute;\n    top: ",";\n    left: 30px;\n    z-index: 1;\n    @media all and (max-width: 620px) {\n      display: none;\n    }\n    ",";\n  }\n  .dark & {\n    &:before {\n      ",";\n      border: 10px solid transparent;\n      position: absolute;\n      top: ",";\n      left: 30px;\n      z-index: 1;\n      @media all and (max-width: 620px) {\n        display: none;\n      }\n      ",";\n    }\n  }\n"])),(function(e){return e.isAuthor?"flex-end":"flex-start"}),(function(e){return e.isAuthor?"row":"row-reverse"}),(function(e){return e.isAuthor||e.showAvatar?"0":"22px"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 15px;"}),(function(e){return e.showAvatar&&"36px"}),(function(e){return e.showAvatar&&e.isAuthor&&"20px"}),(function(e){return e.showAvatar&&"12px"}),(function(e){return e.showAvatar&&e.isAuthor&&"8px"}),(function(e){return!e.showAvatar&&!e.isAuthor&&!e.isBot&&"margin-left: 0"}),(function(e){return!0===e.isAuthor&&!e.showAvatar&&"position: relative; right: 0px;"}),(function(e){return!0===e.isAuthor&&"position: relative; right: 0px;"}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.isImportant?"#7B68EE":e.isExternalChat?"#FFDB92":"#f0f0f0"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;\n            border-left-color:  ".concat((function(e){return e.isImportant?"#7B68EE":"#7A1B8B"}),";\n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        ")}),(function(e){return e.showAvatar&&"content: '';"}),(function(e){return e.showAvatar&&!e.isAuthor?"42px":"6px"}),(function(e){return!0===e.isAuthor&&"\n            left: auto;\n            right: -16px;            \n            border-right-color: transparent;\n            @media all and (max-width: 620px) {\n              display: none;\n            }\n        "})),hT=E.a.div($C||($C=Object(f.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),ET=E.a.div(eT||(eT=Object(f.a)(["\n  flex-flow: ",";\n  flex-wrap: wrap;\n  ",";\n  min-width: 150px;\n  color: #a7abc3;\n  background: #ffffff;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  top: 0;\n  ",";\n  height: calc(100% + 4px);\n  margin-top: -2px;\n  transition: opacity 0.3s ease;\n  button {\n    margin: 5px;\n  }\n"])),(function(e){return e.isAuthor?"row-reverse":"row"}),(function(e){return e.isAuthor?"margin-right: 10px":"margin-left: 10px"}),(function(e){return e.isAuthor?"right: 100%":"left: 100%"})),_T=Object(E.a)(kj)(tT||(tT=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n  margin: 5px;\n  max-width: 25px;\n\n  @media (max-width: 620px) {\n    margin-right: 0;\n  }\n\n  .more-options-tooltip {\n    &.orientation-bottom {\n      top: calc(100% - 35px);\n      @media (max-width: 620px) {\n        top: 100%;\n      }\n    }\n\n    &.orientation-top {\n      @media (max-width: 620px) {\n        bottom: 30px;\n      }\n    }\n\n    &.orientation-right {\n      left: calc(100% + 10px);\n      @media (max-width: 620px) {\n        left: 0;\n      }\n    }\n    &.orientation-left {\n      @media (max-width: 620px) {\n        left: auto;\n        right: 0;\n      }\n    }\n  }\n"]))),OT=E.a.div(aT||(aT=Object(f.a)(["\n  //width: 100%;\n  //overflow: hidden;\n  max-width: 75%;\n  position: relative;\n  flex-flow: column;\n  display: inherit;\n  margin-left: ",";\n  > img {\n    // max-height: ",";\n    max-height: 300px;\n    max-width: 100%;\n    width: auto;\n    object-fit: cover;\n  }\n  .edited-message {\n    color: #aab0c8;\n    font-style: italic;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    position: absolute;\n    top: 50%;\n    margin: 0 10px;\n    height: 25px;\n    white-space: nowrap;\n    ",";\n  }\n  .chat-options {\n    visibility: hidden;\n  }\n  .chat-options.active {\n    visibility: visible;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 991.99px) {\n    max-width: calc(100% - 110px);\n  }\n\n  @media (max-width: 620px) {\n    ",";\n    ",";\n  }\n"])),(function(e){return e.showAvatar&&!e.isAuthor?"1rem":"1.6rem"}),(function(e){return e.maxImgHeight>300?"".concat(e.maxImgHeight,"px;"):"300px"}),(function(e){return e.isAuthor?"right: 100%;":"left: 100%"}),(function(e){return!e.showAvatar&&!e.isAuthor&&"margin-left: 0"}),(function(e){return!0===!e.isAuthor&&"margin-left: 0"})),gT=E.a.div(nT||(nT=Object(f.a)(["\n  position: relative;\n  display: inline-flex;\n  border-radius: 8px;\n  background: #f4f4f4f4;\n  text-align: left;\n  min-width: 100px;\n  max-width: 100%;\n  padding: 7px 15px;\n  line-height: 1.5rem;\n  float: left;\n  align-items: center;\n  justify-content: flex-end;\n  flex-flow: ",";\n  .chat-options {\n    visibility: hidden;\n  }\n  :hover {\n    .chat-options {\n      visibility: visible;\n    }\n  }\n  @media (max-width: 620px) {\n    padding: 7px;\n  }\n"])),(function(e){return e.isAuthor?"row":"row-reverse"})),vT=E.a.span(rT||(rT=Object(f.a)(["\n  color: red;\n  margin: 0 10px;\n"]))),AT=Object(E.a)(kn)(iT||(iT=Object(f.a)(["\n  align-self: flex-start;\n  width: 2rem !important;\n  height: 2rem !important;\n  margin-top: ",";\n\n  img {\n    width: 2rem !important;\n    height: 2rem !important;\n  }\n  @media (max-width: 620px) {\n    display: none;\n  }\n  .pixel-avatar {\n    padding-top: 2px !important;\n  }\n"])),(function(e){return!0===e.isForwardedMessage?"25px":"0"})),jT=0,CT=r.a.memo((function(e){var t=e.index,a=e.reply,n=e.lastReply,i=e.isLastChatVisible,o=e.loadReplies,c=e.dictionary,s=rf(),d=Ap(),u=Object(l.useSelector)((function(e){return e.session.user})),m=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),p=Object(l.useSelector)((function(e){return e.global.recipients})),f=Object(l.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})),b=Object(l.useSelector)((function(e){return e.users.users})),h=!(!a||!a.user)&&a.user.id===u.id,E=!1,_=!1,O=!1,g=!1,v=!1;if(a&&a.user){a.created_at.timestamp&&(0===t&&(_=!0,E=!0),0!==t&&n&&d.localizeDate(n.created_at.timestamp,"D")!==d.localizeDate(a.created_at.timestamp,"D")&&(_=!0,E=!0),0!==t&&n&&a.created_at.timestamp-n.created_at.timestamp>600&&(E=!0)),0!==t&&n&&!0===n.is_read&&!1===a.is_read&&(v=!0),0!==t&&n&&null===n.user&&(E=!0),jT!==a.user.id&&(E=!0,jT=a.user.id),"undefined"!==typeof a.body&&null!==a.body&&null!==a.body.match(Ut)&&(O=!0);g=["gripp_bot_account","gripp_bot_invoice","gripp_bot_offerte","gripp_bot_project","gripp_bot_account","driff_webhook_bot"].includes(a.user.code)}var A=m.members.filter((function(e){return 2===m.members.length?!(!m.last_reply||!m.last_reply.user)&&(m.last_reply.user.id===u.id?!(u.id===e.id):!(m.last_reply.user.id===e.id)):(!m.last_reply||!m.last_reply.user||m.last_reply.user.id!==e.id)&&u.id!==e.id})).filter((function(e){return!!e.last_visited_at&&e.last_visited_at.timestamp>=m.last_reply.created_at.timestamp}));return r.a.createElement(pT,{"data-message-id":a.id,"data-code":a.code,"data-timestamp":a.created_at.timestamp,className:"chat-list chat-list-item-".concat(a.id," code-").concat(a.code),showTimestamp:_},_&&r.a.createElement(fT,{className:"timestamp-container"},r.a.createElement("span",null,d.localizeChatDate(a.created_at.timestamp,"ddd, MMM DD, YYYY"))),a.user&&v&&!i&&r.a.createElement(Ij,null),a.user&&r.a.createElement(bT,{isAuthor:h,className:"chat-reply-list-item chat-reply-list-item-".concat(a.id," ").concat(h?"chat-right":"chat-left"),"data-message-id":a.id,showAvatar:E,isBot:g,hasGif:O},a.message_failed?r.a.createElement(vT,null,r.a.createElement("i",{className:"fas fa-times-circle",onClick:function(t){return e.handleResendMessage(a.payload)}})):null,r.a.createElement(OT,{isAuthor:h,showAvatar:E,className:"chat-bubble-quote-div"},r.a.createElement(Sj,{chatMessageActions:s,timeFormat:d,recipients:p,user:u,reply:a,showAvatar:E,selectedChannel:m,showGifPlayer:O,isAuthor:h,isLastChat:n.id===a.id,loadReplies:o,isBot:g,chatSettings:f,isLastChatVisible:i,dictionary:c,users:b},r.a.createElement(hT,{isAuthor:h,className:"chat-actions-container"},r.a.createElement(Gj,{isAuthor:h,reply:a}),!isNaN(a.id)&&!a.is_deleted&&r.a.createElement(_T,{dictionary:c,className:"chat-message-options",selectedChannel:m,isAuthor:h,replyData:a}))),a.reactions.length>0&&r.a.createElement(oC,{reactions:a.reactions,isAuthor:h,reply:a,loggedUser:u,chatReactionAction:e.chatReactionV2Action}),m.last_reply&&m.last_reply.id===a.id&&A.length>0&&r.a.createElement(uC,{isAuthor:h,onClick:e.handleShowSeenUsers,seenMembers:A,isPersonal:2===m.members.length})),!h&&E&&r.a.createElement(AT,{isForwardedMessage:a.is_transferred,id:a.user.id,type:"USER",imageLink:a.user.profile_image_thumbnail_link?a.user.profile_image_thumbnail_link:a.user.profile_image_link,name:a.user.name,isBot:g})),null===a.user&&r.a.createElement(bT,{className:"chat-reply-list-item system-reply-list-item chat-reply-list-item-".concat(a.id),"data-message-id":a.id,isAuthor:!1,hasGif:O},r.a.createElement(OT,{isAuthor:h,showAvatar:E,className:"chat-bubble-quote-div"},r.a.createElement(gT,{className:"system-message",isAuthor:!1},r.a.createElement(PC,{recipients:p,user:u,chatMessageActions:s,timeFormat:d,selectedChannel:m,reply:a,isLastChat:n.id===a.id,isLastChatVisible:i,dictionary:c,users:b}),a.unfurls.length?r.a.createElement(Wj,{unfurlData:a.unfurls,isAuthor:!1,deleteChatUnfurlAction:e.deleteChatUnfurlAction,removeChatUnfurlAction:e.removeChatUnfurlAction,channelId:m.id,replyId:a.id,removeUnfurl:s.removeUnfurl}):null,r.a.createElement(ET,{isAuthor:h,className:"chat-actions-container"},r.a.createElement(Gj,{isAuthor:h,reply:a}),!isNaN(a.id)&&!a.is_deleted&&r.a.createElement(_T,{dictionary:c,replyData:a,className:"chat-message-options",selectedChannel:m,isAuthor:h}))),a.reactions.length>0&&r.a.createElement(oC,{reactions:a.reactions,reply:a,isAuthor:!1,loggedUser:u,chatReactionAction:e.chatReactionV2Action}))))})),TT=E.a.div(oT||(oT=Object(f.a)(["\n  background: transparent;\n  background-repeat: repeat;\n  //   height: calc(100% - 181px);\n  //   overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  z-index: 1;\n  > ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .chat-message-options svg {\n    fill: currentColor;\n  }\n  &.is-processed {\n    opacity: 0;\n  }\n  > div:first-child {\n    width: 100%;\n    overflow-x: hidden;\n  }\n"]))),yT=E.a.div(cT||(cT=Object(f.a)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  svg {\n    max-width: 100%;\n    width: 100%;\n    max-height: 40%;\n    margin: auto;\n  }\n"]))),ST=function(e){var t=e.dictionary,a=rf(),i=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),o=function(){if(!i.isFetching&&i.hasMore){a.channelActions.fetchingMessages(i,!0);var e={skip:0,limit:20};"undefined"!==typeof i.replies&&(e={skip:0===i.skip&&i.replies.length?i.replies.length:i.skip,limit:20}),a.fetch(i,e,(function(e,t){e&&a.channelActions.fetchingMessages(i,!1)}))}};return Object(n.useEffect)((function(){o()}),[i.id]),r.a.createElement(TT,{id:"component-chat-thread",className:"component-chat-thread messages",tabIndex:"2","data-init":1,"data-channel-id":i.id},i.replies&&i.replies.length>0&&r.a.createElement(mT.a,{totalCount:1e3,firstItemIndex:1e3-i.replies.length,initialTopMostItemIndex:i.replies.length-1,data:i.replies,startReached:o,itemContent:function(e,a){return r.a.createElement(CT,{index:e,reply:a,lastReply:i.replies[i.replies.length-1],dictionary:t})}}),i.replies&&0===i.replies.length&&!i.hasMore&&r.a.createElement(yT,{className:"no-reply-container"},r.a.createElement(bn,{icon:3})))},kT=E.a.div(sT||(sT=Object(f.a)(["\n  width: 100%;\n  z-index: 2;\n  @media (max-width: 992px) {\n    z-index: 1;\n  }\n"]))),wT=E.a.div(lT||(lT=Object(f.a)(["\n  flex: 1;\n"]))),NT=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,o=e.isWorkspace,c=void 0!==o&&o,s=Object(uT.a)({timeout:6e4}).isIdle,d=Object(l.useDispatch)(),u=rf(),m=Ap(),p=Object(l.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})).virtualization,f=Object(l.useSelector)((function(e){return e.settings.user.GENERAL_SETTINGS})),b=f.chat_language,h=f.translated_channels,E=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),O=Object(l.useSelector)((function(e){return e.workspaces.isOnClientChat})),g=Object(n.useState)(!1),v=Object(_.a)(g,2),A=v[0],j=v[1],C=od(),T={dropZoneRef:Object(n.useRef)()},y=function(){j(!1)},S=function(e){var t=[];e.forEach((function(e){var n=new FormData;n.append("file",e);var r=a(40).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?t.push(Object(R.a)(Object(R.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):"video/mp4"===e.type?t.push(Object(R.a)(Object(R.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:n,name:e.name?e.name:e.path})):t.push(Object(R.a)(Object(R.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:n,name:e.name?e.name:e.path}))})),y();var n={type:"file_upload",droppedFiles:t,mode:"chat",members:E?E.members:[],team_channel:E.team&&"TOPIC"===E.type?E.id:null};d(Ye(n))},k=vs()._t,w={remindMeAboutThis:k("TODO.REMIND_ABOUT_THIS","Remind about this"),quote:k("CHAT.QUOTE","Quote"),copyMessageLink:k("CHAT.COPY_MESSAGE_LINK","Copy message link"),forward:k("CHAT.FORWARD","Forward"),edit:k("CHAT.EDIT","Edit"),remove:k("CHAT.REMOVE","Remove"),removeChat:k("MODAL.REMOVE_CHAT","Remove chat"),cancel:k("MODAL.CANCEL","Cancel"),removeThisChat:k("MODAL.REMOVE_THIS_CHAT","Are you sure you want to remove this chat?"),update:k("SYSTEM.UPDATE","Update"),accountActivated:k("SYSTEM.ACCOUNT_ACTIVATED","account is activated"),accountDeactivated:k("SYSTEM.ACCOUNT_DEACTIVATED","account is deactivated"),removed:k("SYSTEM.REMOVED","removed"),andRemoved:k("SYSTEM.AND_REMOVED","and removed"),you:k("SYSTEM.YOU","You"),youAnd:k("SYSTEM.YOU_AND","You and"),joined:k("SYSTEM.JOINED","joined"),andJoined:k("SYSTEM.AND_JOINED","and joined"),left:k("SYSTEM.LEFT","left"),andLeft:k("SYSTEM.AND_LEFT","and left"),createdThePost:k("SYSTEM.CREATED_THE_POST","created the post"),openPost:k("SYSTEM.OPEN_POST","Open post"),someone:k("SYSTEM.SOMEONE","Someone"),added:k("SYSTEM.ADDED","added"),andAdded:k("SYSTEM.AND_ADDED","and added"),renameThisWorkspace:k("SYSTEM.RENAME_THIS_WORKSPACE","renamed this workspace to"),renameThisChat:k("SYSTEM.RENAME_THIS_CHAT","renamed this chat to"),forwardedMessage:k("CHAT.FORWARDED_MESSAGE","Forwarded message"),chatRemoved:k("CHAT.BODY_REMOVED","The chat message has been removed"),workspace:k("CHAT.WORKSPACE","Workspace"),hasLeftChat:k("SYSTEM.HAS_LEFT_CHAT","has left the chat"),hasLeftWorkspace:k("SYSTEM.HAS_LEFT_WORKSPACE","has left the workspace"),andHasLeftChat:k("SYSTEM.AND_HAS_LEFT_CHAT","and has left the chat"),andHasLeftWorkspace:k("SYSTEM.AND_HAS_LEFT_WORKSPACE","and has left the workspace"),youLeftChat:k("SYSTEM.YOU_LEFT_CHAT","You left the chat"),youLeftWorkspace:k("SYSTEM.YOU_LEFT_WORKSPACE","You left the workspace"),leftTheWorkspace:k("SYSTEM.LEFT_THE_WORKSPACE","left the workspace"),leftTheChat:k("SYSTEM.LEFT_THE_CHAT","left the chat"),markImportant:k("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:k("CHAT.UNMARK_IMPORTANT","Unmark as important"),teamFeedback:k("HUDDLE.HUDDLE_TEAM_FEEDBACK","Huddle team feedback"),replyInPrivate:k("CHAT.REPLY_IN_PRIVATE","Reply in private"),removeOnDownload:k("CHAT.REMOVE_ON_DOWNLOAD","Remove on download"),withClient:k("PAGE.WITH_CLIENT","With client"),mute:k("CHAT.MUTE","Mute"),unmute:k("CHAT.UNMUTE","Unmute"),hide:k("CHAT.HIDE","Hide"),unhide:k("CHAT.UNHIDE","Unhide"),favorite:k("FAVORITE","Favorite"),unfavorite:k("UNFAVORITE","Unfavorite"),markAsUnread:k("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:k("POST.MARK_AS_READ","Mark as read"),unarchive:k("CHAT.UNARCHIVE","Un-archive"),archive:k("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:k("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:k("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),headerArchive:k("HEADER.ARCHIVE","Chat archive"),headerUnarchive:k("HEADER.UNARCHIVE","Un-archive channel"),clickHereToJoin:k("CHAT.CLICK_HERE_TO_JOIN","Click here to join")};return nm(document.querySelector(".chat-footer .ql-editor")),r.a.createElement(kT,{className:"chat-content ".concat(i),onDragOver:function(){j(!0)}},r.a.createElement(og,{hide:!A,ref:T.dropZoneRef,onDragLeave:y,onDrop:function(e){var t=e.acceptedFiles;S(t)},onCancel:y}),!c&&r.a.createElement(Ry,{dictionary:w,channel:E}),null!==E?p?r.a.createElement(ST,{dictionary:w}):r.a.createElement(r.a.Fragment,null,r.a.createElement(dT,{selectedChannel:E,chatMessageActions:u,timeFormat:m,dictionary:w,unreadCount:C,teamChannelId:O,isIdle:s,_t:k,translated_channels:h,chat_language:b}),r.a.createElement($S,{selectedChannel:E,translated_channels:h,chatMessageActions:u})):r.a.createElement(wT,null),r.a.createElement(sy,{onShowFileDialog:function(){T.dropZoneRef.current&&T.dropZoneRef.current.open()},dropAction:S}))}));function xT(){var e=Object(f.a)([""]);return xT=function(){return e},e}function RT(){var e=Object(f.a)(["\n  padding: 0 10px 10px 2.5rem;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  margin-top: 8px;\n  background: #fafafa;\n  border-radius: 4px;\n\n  .dark & {\n    background: #25282c;\n    color: #fff;\n  }\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: 12px;\n    top: 12px;\n    cursor: pointer;\n    svg {\n      width: 16px;\n    }\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return RT=function(){return e},e}var IT=E.a.div(RT()),PT=Object(E.a)(pn)(xT()),DT=function(e){var t=ys(),a=Object(_.a)(t,2),n=a[0],i=a[1],o=Object(l.useDispatch)();return n?r.a.createElement(IT,null,r.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:n.user?n.user.name:""}}),r.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:n.body?i:""}}),r.a.createElement("span",{className:"quote-clear-container",onClick:function(){o(nl(n))}},r.a.createElement(PT,{icon:"x"}))):null};function LT(){var e=Object(f.a)(["\n  border-radius: 50%;\n  min-width: 26px;\n  min-height: 26px;\n  width: 26px;\n  height: 26px;\n  background: #fff;\n  color: #972c86;\n  box-shadow: 0 2px 3px 0 rgba(26, 26, 26, 0.4), 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n  z-index: -3;\n  text-align: center;\n"]);return LT=function(){return e},e}function FT(){var e=Object(f.a)(["\n  margin-left: 10px !important;\n"]);return FT=function(){return e},e}function MT(){var e=Object(f.a)(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  position: absolute;\n  top: -5px;\n  opacity: ",";\n  z-index: 999;\n  > div:nth-child(2) {\n    margin-left: ",";\n  }\n  .avatar-typing {\n    height: 26px !important;\n    width: 26px !important;\n  }\n"]);return MT=function(){return e},e}var UT=E.a.div(MT(),(function(e){return e.users?"1":0}),(function(e){return 2===e.users||e.users>2?"-8px":"10"})),GT=E.a.div(FT()),HT=E.a.div(LT()),BT=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=id(),i=Object(_.a)(n,1)[0];return r.a.createElement(UT,{users:i.length,className:"component-chat-indicator ".concat(a)},i.length>2?r.a.createElement(HT,null,"".concat(i.length-2,"+")):null,i.map((function(e,t){return t<=1?r.a.createElement(kn,{key:t,className:"xs avatar-typing",imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,name:e.name?e.name:e.email,id:e.id,noDefaultClick:!0}):null})),r.a.createElement(GT,{className:"typing-indicator"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)))}));function WT(){var e=Object(f.a)(["\n  width: 14px;\n  height: 14px;\n  margin-left: 5px;\n"]);return WT=function(){return e},e}function YT(){var e=Object(f.a)(["\n  font-weight: 500;\n  color: #9b9b9b;\n  padding: 10px 10px 10px 0;\n"]);return YT=function(){return e},e}var VT=E.a.div(YT()),QT=Object(E.a)(pn)(WT()),KT=function(e){var t=e.className,a=void 0===t?"":t,n=e.channel,i=vs()._t,o=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),c=Object(l.useSelector)((function(e){return e.session.user})),s={lockedLabel:i("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),teamChat:i("CHAT.INFO_TEAM_CHAT","You are in the team chat"),clientChat:i("CHAT.INFO_CLIENT_CHAT","Client can read this chat")};return r.a.createElement(r.a.Fragment,null,n&&!n.is_archived&&o.hasOwnProperty(n.entity_id)&&1===o[n.entity_id].active&&r.a.createElement(VT,{className:"locked-label ".concat(a)},o[n.entity_id].is_shared&&o[n.entity_id].channel.id===n.id&&"internal"===c.type&&r.a.createElement("span",null,s.clientChat,r.a.createElement(QT,{icon:"eye"})),o[n.entity_id].is_shared&&o[n.entity_id].team_channel.id===n.id&&"internal"===c.type&&r.a.createElement("span",null,s.teamChat," ",r.a.createElement(QT,{icon:"eye-off"}))))};function zT(){var e=Object(f.a)(["\n  right: 100px;\n  bottom: 80px;\n\n  @media (max-width: 414px) {\n    right: -10px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]);return zT=function(){return e},e}function qT(){var e=Object(f.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  .workspace-chat & {\n    width: 100%;\n    margin: 0 auto;\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 6px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n"]);return qT=function(){return e},e}function JT(){var e=Object(f.a)([""]);return JT=function(){return e},e}function ZT(){var e=Object(f.a)(["\n  width: 20px;\n"]);return ZT=function(){return e},e}function XT(){var e=Object(f.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  flex-flow: column;\n  .feather-paperclip,\n  .feather-meet,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .feather-meet {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n"]);return XT=function(){return e},e}function $T(){var e=Object(f.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]);return $T=function(){return e},e}function ey(){var e=Object(f.a)(["\n  position: relative;\n  z-index: 3;\n  padding-top: 0 !important; \n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]);return ey=function(){return e},e}var ty=E.a.div(ey()),ay=E.a.div($T()),ny=E.a.div(XT()),ry=Object(E.a)(pn)(ZT()),iy=Object(E.a)(pn)(JT()),oy=E.a.div(qT(),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),cy=Object(E.a)(Pi)(zT()),sy=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,o=e.onShowFileDialog,c=e.dropAction,s=Ap(),d=s.localizeChatDate,u=s.localizeDate,m=Object(l.useDispatch)(),p=Op(),f={picker:Object(n.useRef)()},b=Object(n.useState)(!1),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useState)(null),v=Object(_.a)(g,2),A=v[0],j=v[1],C=Object(n.useState)(null),T=Object(_.a)(C,2),y=T[0],S=T[1],k=Object(n.useState)(!1),w=Object(_.a)(k,2),N=(w[0],w[1]),x=Object(n.useState)("default"),R=Object(_.a)(x,2),I=R[0],P=R[1],D=Object(n.useState)(null),L=Object(_.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)("#cacaca"),G=Object(_.a)(U,2),H=G[0],B=G[1],W=Object(l.useSelector)((function(e){return e.chat})),Y=W.editChatMessage,V=W.selectedChannel,Q=Object(l.useSelector)((function(e){return e.session.user})),K=ys(),z=Object(_.a)(K,1)[0],q=function(){m(tl(!0))},J=function(){O(!E)},Z=vs()._t,X={unarchiveThisWorkspace:Z("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:Z("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:Z("BUTTON.CANCEL","Cancel"),unarchiveBodyText:Z("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),chatUnarchiveConfirmation:Z("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),headerUnarchive:Z("HEADER.UNARCHIVE","Un-archive channel"),youAreViewing:Z("CHAT.LABEL","You are viewing"),joinWorkspaceChat:Z("CHAT.JOIN_WORKSPACE_CHAT","Join workspace chat"),googleMeet:Z("CONFIRMATION.GOOGLE_MEET","Google meet"),yes:Z("YES","Yes"),no:Z("NO","No"),googleMeetConfirmation:Z("CONFIRMATION.GOOGLE_MEET_BODY","Are you sure you want to start a meeting in this channel?")},$=function(){var e={id:V.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};m(xs(e)),p.success(r.a.createElement("span",null,r.a.createElement("b",null,"TOPIC"===V.type?"".concat(V.title," workspace is un-archived."):"".concat(V.title," channel is un-archived."))))},ee=cd(V&&V.members&&V.members.length?V.members.map((function(e){return e.id})):[]),te=function(){var e=Math.floor(Date.now()/1e3),t=a(40).generate(),n=V.title.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9_-]/g,"-"),r='<div>I started a Google meet: <a href="https://meet.google.com/lookup/'.concat(Wt(n),'" rel="noopener noreferrer" target="_blank"><strong>Click here to join</strong></a></div><br/><div><i>Notice this meeting only works if you and the participant are using the same Google WorkSpace domain. If you both use a different domain, share the Google link generated by Google.</i></div>'),i={channel_id:V.id,body:r,mention_ids:[],file_ids:[],reference_id:t,reference_title:"".concat(Q.first_name," started a Google meeting"),quote:null},o={message:r,body:r,mention_ids:[],user:Q,original_body:"".concat(Q.first_name," started a Google meet. Click here to join"),is_read:!0,editable:!0,files:[],is_archive:!1,is_completed:!0,is_transferred:!1,is_deleted:!1,created_at:{timestamp:e},updated_at:{timestamp:e},channel_id:V.id,reactions:[],id:t,reference_id:t,quote:null,unfurls:[],g_date:u(e,"YYYY-MM-DD")};m(Hs(o)),m(Bs(i))};return r.a.createElement(ty,{className:"chat-footer ".concat(i)},r.a.createElement(BT,null),r.a.createElement(KT,{channel:V}),ee&&r.a.createElement(oy,{className:"d-flex align-items-end chat-input-cointainer-footer",backgroundSend:F,cursor:I,fillSend:H},V&&V.is_archived?r.a.createElement(ay,null,r.a.createElement(ry,{icon:"archive"}),r.a.createElement("h4",null,"TOPIC"===V.type?"This is an archived workspace":"This is an archived channel"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){var e={type:"confirmation",cancelText:X.cancel,headerText:"TOPIC"===V.type?X.unarchiveWorkspace:X.headerUnarchive,submitText:"TOPIC"===V.type?X.unarchiveWorkspace:X.headerUnarchive,bodyText:"TOPIC"===V.type?X.unarchiveBodyText:X.chatUnarchiveConfirmation,actions:{onSubmit:$}};m(Ye(e))}},"TOPIC"===V.type?"Un-archive workspace":"Un-archive channel")):r.a.createElement(r.a.Fragment,null,r.a.createElement(ny,{className:"flex-grow-1 chat-input-footer"},V&&!V.is_archived&&z&&r.a.createElement(oy,{className:"d-flex pr-2 pl-2"},r.a.createElement(DT,null)),r.a.createElement(oy,{className:"d-flex flex-grow-1"},r.a.createElement(dh,{onActive:function(e){var t;N(e),M((t=e?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),P(t[1]),B(t[2])},selectedGif:y,onSendCallback:function(){O(!1)},onClearGif:function(){S(null)},selectedEmoji:A,onClearEmoji:function(){j(null)},dropAction:c}),r.a.createElement(qS,{channel:V,showEmojiPicker:E,handleShowEmojiPicker:J,handleGoogleMeet:function(){m(Ye({type:"confirmation",cancelText:X.no,headerText:X.googleMeet,submitText:X.yes,bodyText:X.googleMeetConfirmation,actions:{onSubmit:te}}))},onShowFileDialog:o,editChatMessage:Y,quote:z}))),r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Send"},r.a.createElement(iy,{onClick:q,icon:"send"}))),!0===E&&r.a.createElement(cy,{handleSend:q,handleShowEmojiPicker:J,onSelectEmoji:function(e){j(e)},onSelectGif:function(e){S(e)},orientation:"top",ref:f.picker})),ee&&Y&&r.a.createElement(oy,{className:"d-flex align-items-end"},r.a.createElement("div",{className:"p-5"},Y.files.map((function(e){return e.filename})).join(", "))),!1===ee&&null!==V&&"internal"===Q.type&&r.a.createElement(oy,{className:"channel-viewing"},r.a.createElement("div",{className:"channel-name"},X.youAreViewing," #",V.title),r.a.createElement("div",{className:"channel-create"},"Created by ",V.creator&&V.creator.name," on ",d(V.created_at&&V.created_at.timestamp)),r.a.createElement("div",{className:"channel-action"},r.a.createElement("button",{onClick:function(){m(gm({channel_id:V.id,recipient_ids:[Q.id]},(function(e,t){e||p.success(r.a.createElement(r.a.Fragment,null,"You have joined ",r.a.createElement("b",null,"#",V.title)))})))}},X.joinWorkspaceChat))))}));function ly(){var e=Object(f.a)(["\n  height: 2rem !important;\n  width: 2rem !important;\n  margin-left: ",";\n"]);return ly=function(){return e},e}function dy(){var e=Object(f.a)(["\n  .people-list {\n    right: 0;\n  }\n"]);return dy=function(){return e},e}var uy=E.a.div(dy()),my=Object(E.a)(kn)(ly(),(function(e){return e.firstUser?"0":"-0.5rem"})),py=function(e){var t=e.members,a=e.classNames,n=void 0===a?"":a,i=5;qp().width<=575&&(i=5);var o=t?t.slice(0,i):[],c=t?t.slice(i):[];return r.a.createElement(uy,{className:"d-flex ".concat(n)},o.map((function(e,t){return r.a.createElement(my,{id:e.id,firstUser:0===t,className:"chat-members",key:e.id,name:e.name?e.name:e.email,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,hasAccepted:e.has_accepted})})),c.length>0&&r.a.createElement(Mn,{recipients:c}))};function fy(){var e=Object(f.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  min-width: 14px;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"]);return fy=function(){return e},e}function by(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"]);return by=function(){return e},e}function hy(){var e=Object(f.a)(["\n  display: inline-flex;\n  align-items: center;\n"]);return hy=function(){return e},e}function Ey(){var e=Object(f.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: -25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  // @media (max-width: 480px) {\n  //   margin: 0 0 0.75rem !important;\n  // }\n"]);return Ey=function(){return e},e}function _y(){var e=Object(f.a)(["\n  color: #7a1b8b;\n  height: 24px;\n  width: 24px;\n  transition: color 0.15s ease-in-out;\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]);return _y=function(){return e},e}function Oy(){var e=Object(f.a)(["\n  @media (min-width: 992px) {\n    display: none;\n  }\n  color: #7a1b8b;\n  cursor: pointer;\n  transition: color 0.15s ease-in-out;\n  margin-right: 12px;\n  margin-top: 8px;\n  display: flex;\n  span {\n    line-height: 1.7;\n  }\n  &:hover {\n    color: #7a1b8bcc;\n  }\n"]);return Oy=function(){return e},e}function gy(){var e=Object(f.a)(["\n  width: 0.9rem;\n  height: 0.9rem;\n"]);return gy=function(){return e},e}function vy(){var e=Object(f.a)([""]);return vy=function(){return e},e}function Ay(){var e=Object(f.a)(["\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n\n  .chat-header-left {\n    display: flex;\n  }\n\n  .chat-header-title {\n    font-size: 15px;\n    font-weight: 500;\n    text-align: center;\n    display: flex;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n\n    a {\n      color: #000 !important;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      .dark & {\n        color: #ffffff !important;\n      }\n    }\n  }\n  .chat-header-right {\n    @media (max-width: 414px) {\n      .nav {\n        display: flex;\n      }\n    }\n    margin-left: auto;\n    ul {\n      flex-flow: row;\n    }\n    li .more-options-tooltip {\n      top: 115%;\n    }\n    li .more-options-tooltip > div {\n      display: flex;\n      align-items: center;\n      svg {\n        margin-right: 4px;\n      }\n    }\n  }\n  .dictionary-label {\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 255px !important;\n  }\n"]);return Ay=function(){return e},e}var jy=E.a.div(Ay()),Cy=Object(E.a)(pn)(vy()),Ty=Object(E.a)(pn)(gy()),yy=E.a.div(Oy()),Sy=Object(E.a)(pn)(_y()),ky=Object(E.a)(Uf)(Ey()),wy=E.a.div(hy()),Ny=E.a.div(by()),xy=Object(E.a)(pn)(fy(),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),Ry=function(e){var t=e.className,a=void 0===t?"":t,n=e.channel,i=e.dictionary,o=Object(l.useDispatch)(),c=Object(b.g)(),s=rm(),d=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),u=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),m=Object(l.useSelector)((function(e){return e.global.unreadCounter})),p=function(){s.archive(n)},f=mp(),h=am(),E=h.generalSettings.workspace_open_folder,_=h.setGeneralSetting,O=function(e){e.preventDefault(),d.workspace_folder&&_({workspace_open_folder:Object(R.a)(Object(R.a)({},E),{},Object(x.a)({},d.workspace_folder.id,d.workspace_folder.id))}),document.body.classList.remove("navigation-show"),f.selectWorkspace(u[d.entity_id]),f.redirectTo(u[d.entity_id])};return null===n?null:r.a.createElement(jy,{className:"chat-header border-bottom ".concat(a)},r.a.createElement("div",{className:"chat-header-left"},r.a.createElement(yy,{className:"chat-back-button",onClick:function(){document.body.classList.remove("m-chat-channel-closed")}},r.a.createElement(Sy,{icon:"chevron-left"}),m.chat_message>0&&r.a.createElement("span",null,m.chat_message.toString())),r.a.createElement(pO,{className:"chat-header-icon",channel:n})),r.a.createElement("div",{className:"chat-header-title"},function(){switch(d.type){case"TOPIC":return d.workspace_folder?r.a.createElement(r.a.Fragment,null,d.workspace_folder.name,"\xa0",">","\xa0",r.a.createElement("a",{onClick:O,"data-href":s.getChannelLink(d),href:s.getChannelLink(d)},d.title)):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"dictionary-label"},i.workspace,"\xa0",">","\xa0"),r.a.createElement("a",{onClick:O,"data-href":s.getChannelLink(d),href:s.getChannelLink(d)},d.title));case"DIRECT":return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{onClick:function(e){return function(e,t){e.preventDefault(),c.push("/profile/".concat(t.id,"/").concat(Wt(t.name)))}(e,d.profile)},"data-href":"/profile/".concat(d.profile.id,"/").concat(d.profile.name),href:"/profile/".concat(d.profile.id,"/").concat(d.profile.name)},d.profile?d.profile.name:d.title));default:return d.title}}()),r.a.createElement(xy,{icon:"star",isFav:n.is_pinned,onClick:function(){n.is_pinned?s.unPin(n):s.pin(n)}}),r.a.createElement(Ny,{className:"chat-header-badge"},"TOPIC"===n.type&&!n.is_archived&&u.hasOwnProperty(n.entity_id)&&1===u[n.entity_id].is_lock&&1===u[n.entity_id].active&&r.a.createElement(Cy,{className:"ml-1",icon:"lock",strokeWidth:"2",width:12}),"TOPIC"===n.type&&!n.is_archived&&u.hasOwnProperty(n.entity_id)&&u[n.entity_id].is_shared&&1===u[n.entity_id].active&&(n.team?r.a.createElement(Cy,{className:"ml-1",icon:"eye",strokeWidth:"3",width:12}):r.a.createElement(wy,{className:"badge badge-external ml-1"},r.a.createElement(Ty,{icon:"eye",className:"mr-1"}),i.withClient))),r.a.createElement("div",{className:"chat-header-right"},r.a.createElement("ul",{className:"nav align-items-center justify-content-end"},!1===["DIRECT","PERSONAL_BOT"].includes(n.type)&&r.a.createElement("li",null,r.a.createElement(py,{members:n.members.filter((function(e){return e.has_accepted}))})),r.a.createElement("li",{className:"ml-2"},r.a.createElement(ky,{role:"tabList"},!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(n.type)&&r.a.createElement("div",{onClick:function(){n.is_archived?s.unArchive(n):o(Ye({type:"confirmation",headerText:"Chat archive",submitText:"Archive",cancelText:"Cancel",bodyText:"Are you sure you want to archive this chat?",actions:{onSubmit:p}}))}},n.is_archived?i.unarchive:i.archive),"GROUP"===n.tyope&&!n.is_archived&&r.a.createElement("div",{onClick:function(){o(Ye({type:"chat_create_edit",mode:"edit"}))}},i.edit),r.a.createElement("div",{onClick:function(){n.is_pinned?s.unPin(n):s.pin(n)}},n.is_pinned?i.unfavorite:i.favorite),r.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===n.total_unread&&n.is_read?s.markAsUnRead(n):s.markAsRead(n)}(e)}},0===n.total_unread&&!0===n.is_read?i.markAsUnread:i.markAsRead),r.a.createElement("div",{onClick:function(){n.is_muted?s.unMute(n):s.mute(n)}},n.is_muted?i.unmute:i.mute),"PERSONAL_BOT"!==n.type&&r.a.createElement("div",{onClick:function(){n.is_hidden?s.unHide(n):s.hide(n),n.total_unread>0&&s.markAsRead(n)}},n.is_hidden?i.unhide:i.hide))))))};function Iy(){var e=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  left: -45px;\n\n  img {\n    max-width: 100% !important;\n  }\n"]);return Iy=function(){return e},e}function Py(){var e=Object(f.a)(["\n  ","\n"]);return Py=function(){return e},e}function Dy(){var e=Object(f.a)(["\n  &.them {\n    &:before {\n      left: 25px !important;\n    }\n  }\n"]);return Dy=function(){return e},e}var Ly=E.a.div(Dy()),Fy=E.a.div(Py(),(function(e){return!1===e.isAuthor&&"\n    margin-left: 35px;"})),My=E.a.div(Iy()),Uy=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.reply;return r.a.createElement(Ly,{className:"message-item ".concat(a," ").concat(!0===n.author?"me":"them")},r.a.createElement(Fy,{className:"message-item-content",isAuthor:n.author},!1===n.author&&r.a.createElement(r.a.Fragment,null,r.a.createElement(My,{className:"avatar avatar-sm"},r.a.createElement("img",{src:"https://24.driff.online/user-profile/38?timestamp=1589155257",className:"rounded-circle",alt:"fpo-placeholder"}))),n.message),r.a.createElement("span",{className:"time small text-muted font-italic"},"Yesterday"))}));function Gy(){var e=Object(f.a)(["\n  overflow-y: hidden;\n  outline: currentcolor none medium;\n"]);return Gy=function(){return e},e}var Hy=E.a.div(Gy());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(Hy,{className:"messages ".concat(a),tabIndex:"2"},r.a.createElement(Uy,{reply:{message:"Hi!",timestamp:Math.floor(Date.now()/1e3),author:!1}}),r.a.createElement(Uy,{reply:{message:"Lorem ipsum dolor sit amet, consectetur\n                    adipisicing elit.\n                    Exercitationem fuga iure iusto libero, possimus quasi quis repellat sint tempora\n                    ullam!",timestamp:Math.floor(Date.now()/1e3),author:!0}}),r.a.createElement(Uy,{reply:{message:"Hello! How are you today?",timestamp:Math.floor(Date.now()/1e3),author:!1}}),r.a.createElement("div",{className:"message-item me"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item"},r.a.createElement("div",{className:"message-item-content d-flex"},r.a.createElement("i",{className:"ti-file mr-2 font-size-20 mt-2"}),r.a.createElement("div",null,r.a.createElement("div",null,"important_documents.pdf ",r.a.createElement("i",{className:"text-muted small"},"(50KB)")),r.a.createElement("ul",{className:"list-inline small"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"Download")),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/"},"View"))))),r.a.createElement("span",{className:"small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item me"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item me message-media"},r.a.createElement("img",{src:"https://via.placeholder.com/600X600",alt:"fpo-placeholder"}),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")),r.a.createElement("div",{className:"message-item message-item-divider"},r.a.createElement("span",null,"Today")),r.a.createElement("div",{className:"message-item"},r.a.createElement("div",{className:"message-item-content"},"Lorem ipsum dolor sit."),r.a.createElement("span",{className:"time small text-muted font-italic"},"02:30 PM")))}));function By(){var e=Object(f.a)(["\n  color: #363636;\n  ",";\n  flex-grow: 1;\n  ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: calc(100% - 100px);\n\n  &.is-unread {\n    span {\n      font-weight: bold;\n    }\n  }\n\n  span {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: block;\n  }\n\n  .badge-wrapper {\n    margin-right: 0.5rem !important;\n  }\n"]);return By=function(){return e},e}function Wy(){var e=Object(f.a)(["\n  max-width: 100%;\n  .chat-timestamp_text {\n    margin: 1px 0 3px 0;\n  }\n"]);return Wy=function(){return e},e}var Yy=E.a.div(Wy()),Vy=E.a.h6(By(),(function(e){return e.channel.total_unread&&"color: #7a1b8b"}),(function(e){return null!==e.selectedChannel&&e.channel.id===e.selectedChannel.id&&"font-weight: bold;"})),Qy=r.a.memo((function(e){var t=Ap().channelPreviewDate,a=e.className,n=void 0===a?"":a,i=e.search,o=void 0===i?"":i,c=e.selectedChannel,s=e.channel,d=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),u=r.a.createElement(r.a.Fragment,null,!!s.is_archived&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Jc,{badgeClassName:"bg-warning-bright",label:"Archived"})),function(e){var t=e;if("DIRECT"===s.type&&s.profile&&(t=s.profile.name),""===o)return t;var a=t.split(new RegExp("(".concat(o,")"),"gi"));return r.a.createElement("span",null,a.map((function(e){return e.toLowerCase()===o.toLowerCase()?r.a.createElement("b",null,e):e})))}(s.title));return r.a.createElement(Yy,{className:"d-flex justify-content-between align-items-center"},r.a.createElement(Vy,{className:"mb-1 ".concat(s.is_read?"":"is-unread"," ").concat(n),selectedChannel:c,channel:s},r.a.createElement(qc,{direction:"up-start",arrow:!1,content:s.title},r.a.createElement("span",null,u," ",s.team&&"TOPIC"===s.type&&d.hasOwnProperty(s.entity_id)&&d[s.entity_id].is_shared&&"(team chat)"," ",!s.team&&"TOPIC"===s.type&&d.hasOwnProperty(s.entity_id)&&d[s.entity_id].is_shared&&"(client chat)"))),r.a.createElement("span",{className:"small text-muted chat-timestamp_text",dangerouslySetInnerHTML:{__html:s.last_reply?t(s.last_reply.created_at.timestamp):""}}))}));function Ky(){var e=Object(f.a)(["\n  position: relative;\n  height: 18px;\n  width: 25px;\n  > svg {\n    position: absolute;\n    top: -1px;\n    height: 20px;\n    width: 20px;\n    left: 1.5px;\n  }\n"]);return Ky=function(){return e},e}var zy=Object(E.a)(Uf)(Ky()),qy=function(e){var t=e.selectedChannel,a=e.channel,n=e.moreButton,i=void 0===n?"more-horizontal":n,o=e.onSelectOptions,c=void 0===o?null:o,s=Object(l.useDispatch)(),d=rm(),u=document.getElementById("pills-home"),m=vs()._t,p={mute:m("CHAT.MUTE","Mute"),unmute:m("CHAT.UNMUTE","Unmute"),hide:m("CHAT.HIDE","Hide"),unhide:m("CHAT.UNHIDE","Unhide"),favorite:m("FAVORITE","Favorite"),unfavorite:m("UNFAVORITE","Unfavorite"),markAsUnread:m("POST.MARK_AS_UNREAD","Mark as unread"),markAsRead:m("POST.MARK_AS_READ","Mark as read"),unarchive:m("CHAT.UNARCHIVE","Un-archive"),archive:m("CHAT.ARCHIVE","Archive"),chatUnarchiveConfirmation:m("CHAT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this channel?"),chatArchiveConfirmation:m("CHAT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this channel?"),cancel:m("BUTTON.CANCEL","Cancel"),headerArchive:m("HEADER.ARCHIVE","Chat archive"),headerUnarchive:m("HEADER.UNARCHIVE","Un-archive channel")},f=function(){a.is_archived?d.unArchive(a):d.archive(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(zy,{channel:a,scrollRef:u,moreButton:i,onClick:c},r.a.createElement("div",{onClick:function(){a.is_pinned?d.unPin(a):d.pin(a)}},a.is_pinned?p.unfavorite:p.favorite),r.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),0===a.total_unread&&a.is_read?d.markAsUnRead(a):d.markAsRead(a)}(e)}},0===a.total_unread&&!0===a.is_read?p.markAsUnread:p.markAsRead),r.a.createElement("div",{onClick:function(){a.is_muted?d.unMute(a):d.mute(a)}},a.is_muted?p.unmute:p.mute),"PERSONAL_BOT"!==a.type&&r.a.createElement("div",{onClick:function(){a.is_hidden?d.unHide(a):d.hide(a),a.total_unread>0&&d.markAsRead(a),t&&(t.id,a.id)}},a.is_hidden?p.unhide:p.hide),!1===["PERSONAL_BOT","COMPANY","TOPIC"].includes(a.type)&&r.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:p.headerArchive,submitText:p.archive,cancelText:p.cancel,bodyText:p.chatArchiveConfirmation,actions:{onSubmit:f}};a.is_archived&&(e=Object(R.a)(Object(R.a)({},e),{},{headerText:p.headerUnarchive,submitText:p.unarchive,bodyText:p.chatUnarchiveConfirmation})),s(Ye(e))}},a.is_archived?p.unarchive:p.archive)))};function Jy(){var e=Object(f.a)(["\n  color: #fff !important;\n  min-height: 18px;\n  width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]);return Jy=function(){return e},e}function Zy(){var e=Object(f.a)(["\n  position: relative;\n  top: -2px;\n  right: 0;\n  width: 15px;\n  height: 15px;\n"]);return Zy=function(){return e},e}function Xy(){var e=Object(f.a)(["\n  max-width: 12px;\n"]);return Xy=function(){return e},e}function $y(){var e=Object(f.a)(["\n  min-width: 200px;\n  max-height: 40px;\n  min-height: 24px;\n  display: table-cell;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  line-height: 2;\n  width: calc(100% - ","px);\n  svg {\n    margin-right: 4px;\n    display: inline;\n  }\n"]);return $y=function(){return e},e}function eS(){var e=Object(f.a)([""]);return eS=function(){return e},e}function tS(){var e=Object(f.a)([""]);return tS=function(){return e},e}function aS(){var e=Object(f.a)(["\n  display: flex;\n"]);return aS=function(){return e},e}function nS(){var e=Object(f.a)(["\n  //display: flex;\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n  font-weight: ",";\n"]);return nS=function(){return e},e}var rS=E.a.span(nS(),(function(e){return e.hasUnRead?"bold":"normal"})),iS=E.a.span(aS()),oS=E.a.span(tS()),cS=E.a.span(eS()),sS=E.a.div($y(),(function(e){return e.iconWidth})),lS=Object(E.a)(fn)(Xy()),dS=Object(E.a)(pn)(Zy()),uS=E.a.span(Jy()),mS=r.a.memo((function(e){var t=e.channel,a=e.drafts,i=e.dictionary,o=e.selectedChannel,c=Object(l.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})),s=Object(l.useSelector)((function(e){return e.session.user})),d=Object(n.useState)(0),u=Object(_.a)(d,2),m=u[0],p=u[1],f={icons:Object(n.useRef)(null)},b=!1,h="",E="";if(t.last_reply&&c.preview_message){if(t.last_reply.is_deleted)E='<span class="is-deleted">'+i.messageRemoved+"</span>";else{var O=t.is_translate&&t.last_reply.translated_body?t.last_reply.translated_body:t.last_reply.body,g=document.createElement("div");g.innerHTML=O;for(var v=g.getElementsByClassName("OriginalHtml");v[0];)v[0].parentNode.removeChild(v[0]);E=g.innerHTML,E=Es.parseEmoji(E.replace(/<[/]?img[^>]*>/gi,"")),E=Object(us.renderToString)(r.a.createElement(iS,{className:"last-reply-content",dangerouslySetInnerHTML:{__html:E}}));try{E=E.replace(/<?(data-value)="[^"]*"/g," ").replace(/(<([^>]+)>)/gi," ")}catch(S){E=Ht(E)}}(""===t.last_reply.body||t.last_reply.files&&t.last_reply.files.length||t.replies.length&&t.replies[t.replies.length-1].files.length||t.last_reply.body.match(/<img/))&&(b=!0);var A=(h+=E).replace(/\s/g,"");if(b&&(h=Object(us.renderToString)(r.a.createElement(lS,{icon:"image-video"}))+h),t.last_reply.user){var j;if(t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var C=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));h="".concat(C.author.first_name," has created the post ").concat(C.post.title)}if(t.last_reply.body.includes("ZAP_SUBMIT::")&&(h="System message update..."),t.last_reply.user&&t.last_reply.user.id===s.id)!A&&b&&(h+="Photo"),h=Object(us.renderToString)(r.a.createElement(cS,{className:"last-reply-name"},i.you,":"))+" "+h;else h=Object(us.renderToString)(r.a.createElement(cS,{className:"last-reply-name"},null!==(j=t.last_reply.user.first_name)&&void 0!==j?j:t.last_reply.user.name,":"))+" "+h;h=(h=h.replace("NEW_ACCOUNT_ACTIVATED","New account activated")).replace("ACCOUNT_DEACTIVATED","Account deactivated")}else{if(h="System message update...",t.last_reply.body.includes("POST_CREATE::"))if(""!==t.last_reply.body.replace("POST_CREATE::","").trim()){var T=JSON.parse(t.last_reply.body.replace("POST_CREATE::",""));h="".concat(T.author.first_name," has created the post ").concat(T.post.title)}}"undefined"!==typeof a[t.id]&&(a[t.id].text&&"<div><br></div>"!==a[t.id].text?h="DRAFT:&nbsp;".concat(Object(us.renderToString)(r.a.createElement(oS,{dangerouslySetInnerHTML:{__html:a[t.id].text.replace(/(<([^>]+)>)/gi," ")}}))):a[t.id].reply_quote&&(h="QUOTE:&nbsp;".concat(a[t.id].reply_quote.body,"&nbsp;~").concat(a[t.id].reply_quote.user.name)))}Object(n.useEffect)((function(){f.icons.current&&p(f.icons.current.clientWidth)}),[f.icons,t]);var y=!1===t.add_user&&(!t.is_read||t.total_unread>0);return r.a.createElement(rS,{hasUnRead:t.total_unread>0,className:"d-flex justify-content-between align-items-center small text-muted "},r.a.createElement(sS,{iconWidth:m,isUnread:t.total_unread>0,className:"last-reply-body",dangerouslySetInnerHTML:{__html:h}}),r.a.createElement("div",{ref:f.icons,className:"chat-timestamp d-inline-flex justify-content-center align-items-end flex-row-reverse"},r.a.createElement(qy,{className:"ml-1",moreButton:"chevron-down",selectedChannel:o,channel:t}),0===t.total_unread&&!1===t.is_read?r.a.createElement(r.a.Fragment,null,r.a.createElement(uS,{className:"badge badge-primary badge-pill ml-1"},"\xa0")):r.a.createElement(r.a.Fragment,null,y&&r.a.createElement(uS,{className:"badge badge-primary badge-pill ml-1 ".concat(t.is_read||0!==t.total_unread?"":"unread")},t.total_unread>0?t.total_unread:t.is_read?null:"0")),t.is_muted&&r.a.createElement(dS,{icon:"volume-x",className:"".concat(t.is_pinned&&"mr-1")})))}));function pS(){var e=Object(f.a)([""]);return pS=function(){return e},e}function fS(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: row;\n  cursor: pointer;\n  position: relative;\n  transition: all 0.15s linear;\n  min-height: 64px;\n  max-height: 64px;\n  ","\n\n  .channel-info {\n    width: 100%;\n    max-width: calc(100% - 55px);\n  }\n  .more-options {\n    position: relative;\n    display: none;\n    opacity: 0;\n    z-index: -1;\n    background: transparent;\n    border: 1px solid transparent;\n    svg {\n      transition: transform 0.5s;\n    }\n    &.more-options-active {\n      svg {\n        transform: rotate(990deg);\n      }\n    }\n  }\n  &:focus,\n  &:hover {\n    background: #f0f0f050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n    .more-options {\n      display: inline-flex;\n      opacity: 1;\n      z-index: 1;\n      &.active {\n        color: #4d4d4d !important;\n      }\n    }\n    h6 {\n      color: #7a1b8b;\n    }\n  }\n  h6 {\n    ","\n  }\n  &:after {\n    ",";\n    width: 3px;\n    height: 100%;\n    background: #7a1b8b;\n    display: block;\n    position: absolute;\n    top: 0;\n    animation: fadeIn 0.15s linear;\n    left: 1px;\n    @media (max-width: 991.99px) {\n      left: -15px;\n    }\n  }\n\n  .chat-timestamp {\n    transition: opacity 0.3s ease;\n    svg {\n      margin-left: 4px;\n      &.feather-star {\n        fill: #ffc107;\n        color: #ffc107;\n      }\n      &.feather-chevron-down {\n        margin-left: 0;\n      }\n    }\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 25px;\n    position: relative;\n    right: 0;\n    padding: 3px;\n    top: 1px;\n  }\n  .avatar .profile-slider {\n    display: flex;\n    min-width: 300px;\n    max-width: 370px;\n    flex-flow: column;\n    .information-wrapper {\n      margin: 0;\n    }\n    .info-details {\n      margin-left: 2rem;\n      overflow: auto;\n    }\n  }\n"]);return fS=function(){return e},e}var bS=E.a.li(fS(),(function(e){return e.selected&&"\n    background: #F0F0F050;\n    padding: 0 25px !important;\n    margin: 0 -25px;\n  "}),(function(e){return e.selected&&"color: #7A1B8B;"}),(function(e){return e.selected&&"content: '';"})),hS=E.a.div(pS()),ES=function(e){var t=e.className,a=void 0===t?"":t,i=e.channel,o=e.selectedChannel,c=e.channelDrafts,s=e.dictionary,l=e.addLoadRef,d=e.onLoadMore,u=e.onSelectChannel,m={container:Object(n.useRef)(null)},p=Object(_A.b)({threshold:1}),f=Object(_.a)(p,2),b=f[0],h=f[1];Object(n.useEffect)((function(){l&&h&&d()}),[l,h]);var E=function(){u(i)},O=0,g=null,v=null;return r.a.createElement(bS,{ref:m.container,className:"list-group-item d-flex align-items-center link-1 pl-1 pr-1 pl-lg-0 pr-lg-0 pb-2 pt-2 ".concat(a),selected:null!==o&&i.id===o.id,onClick:E,onTouchStart:function(e){O=e.timeStamp,g=e.touches[0].clientX,v=e.touches[0].clientY},onTouchEnd:function(e){e.timeStamp-O<=125&&(e.target&&e.target.classList.contains("feather")||(E(),setTimeout((function(){document.activeElement.blur()}),300)))},onTouchMove:function(e){var t=e.touches[0].clientX,a=e.touches[0].clientY,n=g-t,r=v-a;Math.abs(n)>Math.abs(r)?n>0?m.container.current.focus():O+=125:O-=125,g=null,v=null}},r.a.createElement(pO,{channel:i}),r.a.createElement("div",{className:"channel-info",ref:l?b:null},r.a.createElement(hS,{className:"channel-title-preview"},r.a.createElement(Qy,{className:"chat-date-icons",selectedChannel:o,channel:i})),r.a.createElement(mS,{channel:i,drafts:c,dictionary:s}),r.a.createElement("div",{className:"d-flex"},i.is_hidden&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Jc,{label:"Hidden"})))))},_S=a(633);function OS(){var e=Object(f.a)(["\n  background: #7a1b8b;\n  color: #fff !important;\n  min-height: 18px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  position: absolute;\n  right: 0px;\n  bottom: 0;\n  width: 18px;\n  height: 18px;\n  font-size: 11px;\n  &.unread {\n    color: #7a1b8b !important;\n    display: none;\n  }\n"]);return OS=function(){return e},e}function gS(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  margin-right: 0.5rem;\n  .more-options {\n    margin-top: 0.5rem;\n    position: static;\n    opacity: 0;\n    svg {\n      position: relative;\n    }\n  }\n  .feather-more-horizontal {\n    width: 20px;\n    height: 18px;\n    vertical-align: initial;\n  }\n  :hover {\n    .more-options {\n      opacity: 1;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return gS=function(){return e},e}function vS(){var e=Object(f.a)(["\n  padding: 0 24px;\n  ul {\n    margin: 0;\n    padding-left: 0;\n    padding-bottom: 12px;\n    overflow: auto;\n    // overflow-y: hidden;\n    // overflow-x: scroll;\n    display: flex;\n    border-bottom: 1px solid #dee2e6;\n    .dark & {\n      border-bottom-color: rgba(155, 155, 155, 0.2) !important;\n    }\n    .fav-channel {\n      padding-right: 0 !important;\n      cursor: pointer;\n    }\n  }\n  // .more-options-tooltip {\n  //   position: fixed;\n  //   top: 240px;\n  //   left: ",";\n  //   &.orientation-left {\n  //     left: ",";\n  //   }\n  // }\n  .feather-star,\n  .feather-volume-x {\n    position: absolute;\n    background-color: unset;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    z-index: 1;\n  }\n  .feather-star {\n    bottom: 0;\n    left: 0;\n    fill: rgb(255, 193, 7);\n    color: rgb(255, 193, 7);\n  }\n  .feather-volume-x {\n    bottom: 0;\n    right: 0;\n    background-color: #fff;\n    border: 2px solid #fff;\n    color: #7a1b8b;\n    .dark & {\n      background-color: #191c20;\n      color: #fff;\n      border: 2px solid #191c20;\n    }\n  }\n  .feather-eye,\n  .feather-eye-off {\n    top: -2px;\n    right: 0px;\n  }\n  .more-options {\n    display: none;\n  }\n  :hover {\n    .more-options {\n      display: block;\n    }\n  }\n  -webkit-transition: all 0.3s ease-out;\n  -moz-transition: all 0.3s ease-out;\n  -o-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n"]);return vS=function(){return e},e}var AS=E.a.div(vS(),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left,"px"):"30px"}),(function(e){return e.rect&&e.rect.left?"".concat(e.rect.left-170,"px"):"30px"})),jS=E.a.div(gS()),CS=E.a.div(OS()),TS=function(e){var t=e.channels,a=e.onSelectChannel,n=function(e){a(e)};return r.a.createElement(AS,{className:"mb-2"},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement(jS,{key:e.id},r.a.createElement(pO,{channel:e,className:"fav-channel",onSelectChannel:function(){return n(e)},showSlider:!1},r.a.createElement(pn,{icon:"star"}),e.is_muted&&r.a.createElement(pn,{icon:"volume-x"}),!e.is_muted&&r.a.createElement(CS,{className:"badge badge-pill ml-1 ".concat(e.is_read||0!==e.total_unread?"":"unread")},e.total_unread>9?"".concat(e.total_unread,"+"):e.total_unread>0?e.total_unread:e.is_read?null:"0")))}))))};function yS(){var e=Object(f.a)(["\n  font-weight: 300;\n  margin: 24px 0 6px 0;\n"]);return yS=function(){return e},e}function SS(){var e=Object(f.a)(["\n  border-bottom: 1px solid #ebebeb;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n"]);return SS=function(){return e},e}function kS(){var e=Object(f.a)(["\n  padding-left: 24px;\n  padding-right: 24px;\n  list-style: none;\n  h4:first-of-type {\n    margin-top: 12px !important;\n  }\n  .avatar {\n    border: 0 !important;\n  }\n  @media (max-width: 991.99px) {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]);return kS=function(){return e},e}function wS(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  flex-flow: column;\n"]);return wS=function(){return e},e}var NS=E.a.div(wS()),xS=E.a.ul(kS()),RS=E.a.div(SS()),IS=E.a.h4(yS()),PS=function(e){var t=e.className,a=void 0===t?"":t,i=e.search,o=e.channels,c=e.selectedChannel,s=e.workspace,d=e.dictionary,u=Object(n.useState)(!1),m=Object(_.a)(u,2),p=m[0],f=m[1],h=rm(),E=ps(o,i,{},s),O=E.favoriteChannels,g=E.sortedChannels,v=E.searchArchivedChannels,A=Object(l.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})).virtualization,j=Object(b.g)(),C=Object(l.useSelector)((function(e){return e.chat.channelDrafts})),T=Object(l.useSelector)((function(e){return e.chat.fetch})),y=T.skip,S=T.fetching,k=T.hasMore,w=function(){S||!k||p||(f(!0),h.loadMore({skip:y},(function(){return f(!1)})))},N=function(){h.searchArchivedChannels(!v)},x=function(e){if(document.body.classList.add("m-chat-channel-closed"),null!==c&&!A){var t=document.getElementById("component-chat-thread");t&&(console.log("set historical"),h.saveHistoricalPosition(c.id,t))}h.select(Object(R.a)(Object(R.a)({},e),{},{selected:!0})),j.push("/chat/".concat(e.code))};return r.a.createElement(NS,{className:"chat-lists ".concat(a)},O.length>0&&r.a.createElement(TS,{channels:O,onSelectChannel:x}),r.a.createElement(xS,{className:"list-group list-group-flush"},g.map((function(e,t,a){var n="",o=!1;if(0!==t){var s=a[t-1],l=e;"PERSONAL_BOT"===s.type&&"PERSONAL_BOT"!==l.type?n=(l.is_relevant,d.chats):s.is_relevant&&!l.is_relevant?s.add_user||s.add_open_topic||!l.add_user&&!l.add_open_topic||(n=d.contacts):s.is_relevant||l.is_relevant||s.add_user||s.add_open_topic||!l.add_user&&!l.add_open_topic||(n=d.contacts)}else"PERSONAL_BOT"===e.type?n=d.personalBot:e.is_relevant&&e.add_user?n=d.chats:e.add_user||e.add_open_topic?n=d.contacts:(n=d.chats,o=!0);return r.a.createElement(r.a.Fragment,{key:e.id},""!==i&&""!==n&&r.a.createElement(RS,null,r.a.createElement(IS,null,n," "),o&&r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:v,type:"switch",id:"show_archive",name:"show archive",onChange:N,label:r.a.createElement("span",null,d.showArchived)})),r.a.createElement(ES,{channel:e,selectedChannel:c,channelDrafts:C,dictionary:d,search:i,addLoadRef:""===i&&t>g.length-5,onLoadMore:w,onSelectChannel:x}))})),!0===s&&0===g.length?r.a.createElement("li",null,r.a.createElement("h4",null,d.nothingToSeeHere)):0===g.length&&""!==i&&r.a.createElement("li",null,r.a.createElement("h4",null,d.noMatchingChats))))};function DS(){var e=Object(f.a)(["\n  // overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  position: relative;\n\n  .recent-new-group-wrapper {\n    padding-right: 24px;\n  }\n\n  .badge-filter {\n    justify-content: center;\n    align-items: center;\n    display: inline-flex;\n    margin-left: 0;\n\n    @media (max-width: 991.99px) {\n      margin-left: 1.5rem;\n    }\n    @media (max-width: 480px) {\n      margin-left: 1rem;\n    }\n  }\n  // .tab-panel {\n  //   overflow-x: hidden;\n  // }\n  .tab-content,\n  .tab-panel {\n    display: flex;\n    height: 100%;\n  }\n  .tab-content {\n    flex-flow: column;\n  }\n  .badge-filter {\n    width: 130px;\n  }\n"]);return DS=function(){return e},e}var LS,FS,MS,US=E.a.div(DS()),GS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.pill,i=void 0===n?"pills-home":n,o=e.search,c=e.dictionary,s=e.resetFilter,l=sm(),d=l.channels,u=l.selectedChannel;return r.a.createElement(US,{className:"chat-sidebar-content ".concat(a),tabIndex:"1"},r.a.createElement("div",{className:"tab-content pt-2",id:"pills-tabContent"},"pills-workspace"===i&&r.a.createElement("div",{className:"badge-filter badge badge badge-info text-white cursor-pointer mb-2",onClick:s},r.a.createElement(pn,{className:"mr-1",icon:"x",width:11,height:11,onClick:s})," Workspace chats"),"pills-home"===i&&r.a.createElement("div",{className:"tab-panel fade ".concat("pills-home"===i&&"show active"),id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},r.a.createElement(PS,{search:o,workspace:null,channels:d,selectedChannel:u,dictionary:c})),"pills-workspace"===i&&r.a.createElement("div",{className:"tab-panel workspace-chat-list fade ".concat("pills-workspace"===i&&"show active"),id:"pills-workspace",role:"tabpanel","aria-labelledby":"pills-workspace-tab"},r.a.createElement(PS,{search:o,workspace:!0,channels:d,selectedChannel:u,dictionary:c}))))})),HS=E.a.div(LS||(LS=Object(f.a)(['\n  z-index: 2;\n  .nav-tabs {\n    .nav-item {\n      cursor: pointer;\n      @media (max-width: 480px) {\n        width: 100% !important;\n        border: 0 !important;\n        .nav-link {\n          border: 1px solid #ebebeb;\n          border-radius: 0.5rem;\n          background-color: #fafafa;\n          margin-bottom: 4px;\n          &.active {\n            background-color: #7a1b8b;\n            color: #ffffff;\n            border-color: #7a1b8b;\n          }\n        }\n      }\n    }\n    @media (max-width: 480px) {\n      border: 0;\n    }\n  }\n  &:after {\n    content: "";\n    width: 1px;\n    height: calc(100% - 24px);\n    display: block;\n    background: #dee2e6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 6;\n    background: rgb(222, 226, 230);\n    .dark & {\n      background: #333539;\n    }\n    @media (max-width: 991.99px) {\n      display: none;\n    }\n  }\n']))),BS=Object(E.a)(wh)(FS||(FS=Object(f.a)(["\n  flex-grow: 1;\n  margin: 0 0.5rem 0 0 !important;\n\n  .form-control {\n    border-radius: 8px !important;\n    padding-left: 40px;\n    transition: padding-left 0.4s cubic-bezier(0.275, 0.42, 0, 1);\n    &:focus {\n      padding-left: 12px;\n    }\n  }\n  .not-empty .form-control {\n    padding-left: 12px;\n  }\n  .not-empty .input-group-append {\n    display: none;\n  }\n  .btn-cross {\n    right: 0 !important;\n  }\n  .input-group-append {\n    position: absolute;\n    top: 2px;\n    left: 0;\n    button {\n      border: 0 !important;\n      padding: 10px 14px !important;\n      color: #aaaaaa;\n      pointer-events: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n  &::placeholder {\n    color: #aaaaaa;\n  }\n"]))),WS=Object(E.a)(Uf)(MS||(MS=Object(f.a)(["\n  border: 1px solid #fff;\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n\n  .dark & {\n    border: 1px solid #25282c;\n    background: #25282c;\n  }\n  .feather-more-horizontal {\n    width: 25px;\n    height: 36px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n\n  @media (max-width: 480px) {\n    margin: 0 0 0.75rem !important;\n  }\n"]))),YS=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Object(l.useDispatch)(),o=Object(l.useSelector)((function(e){return e.chat.searchArchivedChannels})),c=am(),s=c.chatSettings,d=c.setChatSetting,u=om(),m=u.actions,p=u.chatSidebarSearch;Fp();var f=Object(n.useState)(""),b=Object(_.a)(f,2),h=b[0],E=b[1],O=Object(n.useState)(""),g=Object(_.a)(O,2),v=g[0],A=g[1],j=Object(n.useState)(s.chat_filter),C=Object(_.a)(j,2),T=C[0],y=C[1],S={container:Object(n.useRef)(null),navTab:Object(n.useRef)(null)};Object(n.useEffect)((function(){var e=setTimeout((function(){if(m.setSidebarSearch({value:v}),""!==v.trim()){var e={search:v,skip:0,limit:50};o&&(e=Object(R.a)(Object(R.a)({},e),{},{filter:"archived"})),m.search(e)}}),300);return function(){return clearTimeout(e)}}),[v,o]);var k=function(){E(""),A("")},w=function(){y("pills-home")},N=function(e){T===e.target.getAttribute("aria-controls")?w():y(e.target.getAttribute("aria-controls"))},x=vs()._t,I={chats:x("CHAT.CHATS","Chats"),contacts:x("CHAT.CONTACTS","Contacts"),workspaceChats:x("CHAT.WORKSPACE_CHATS","Workspace chats"),recentChats:x("CHAT.RECENT_CHATS","Recent chats"),newGroupChat:x("CHAT.NEW_GROUP_CHAT","New group chat"),searchChatPlaceholder:x("CHAT.SEARCH_CHAT_PLACEHOLDER","Search contacts or chats"),recent:x("CHAT.RECENT","Recent"),favorite:x("CHAT.FAVORITE","Favorite"),hidden:x("CHAT.HIDDEN","Hidden"),pinned:x("CHAT.PINNED","Pinned"),startNew:x("CHAT.START_NEW","Start new"),viewOpenWorkspace:x("CHAT.VIEW_OPEN_WORKSPACE","View open workspace"),archived:x("CHAT.ARCHIVED","Archived"),nothingToSeeHere:x("CHAT.NOTHING_TO_SEE_HERE","Nothing to see here!"),noMatchingChats:x("CHAT.NO_MATCHING_CHATS","No matching chats found"),messageRemoved:x("CHAT.MESSAGE_REMOVED","The chat message has been removed."),personalBot:x("CHAT.PERSONAL_BOT","Personal bot"),you:x("CHAT.PREVIEW_AUTHOR_YOU","You"),showArchived:x("CHAT.SHOW_ARCHIVED","Show archived")};return Object(n.useEffect)((function(){s.chat_filter!==T&&d({chat_filter:T})}),[s.chat_filter,T]),Object(n.useEffect)((function(){""===p?k():E(p)}),[p]),r.a.createElement(HS,{ref:S.container,className:"chat-sidebar ".concat(a)},r.a.createElement("div",{className:"chat-sidebar-header d-flex justify-content-between align-items-flex-start align-items-center"},r.a.createElement(BS,{onChange:function(e){A(e.target.value)},onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),!1;27===e.keyCode&&k()},value:v,onClickEmpty:k,closeButton:"true",className:"chat-search",placeholder:I.searchChatPlaceholder}),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center ml-2",style:{height:"38px"}},r.a.createElement(WS,{ref:S.navTab,role:"tabList"},r.a.createElement("div",{className:"option-filter ".concat("pills-home"===T?"active":""),onClick:N,"aria-controls":"pills-home","aria-selected":"false"},I.chats),r.a.createElement("div",{className:"option-filter ".concat("pills-workspace"===T?"active":""),onClick:N,"aria-controls":"pills-workspace","aria-selected":"false"},I.workspaceChats),r.a.createElement("div",{className:"d-flex",onClick:function(){i(Ye({type:"chat_create_edit",mode:"new"}))}},r.a.createElement(pn,{className:"mr-2",width:14,height:14,icon:"plus"})," ",I.newGroupChat)))),r.a.createElement(GS,{pill:T,search:h,dictionary:I,resetFilter:w}))}));function VS(){var e=Object(f.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    min-width: ",";\n    .btn-meet,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"]);return VS=function(){return e},e}function QS(){var e=Object(f.a)(["\n  width: 40px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n"]);return QS=function(){return e},e}var KS=E.a.div(QS()),zS=E.a.div(VS(),(function(e){return e.editMode&&!e.clientChat?"160px":e.editMode&&e.clientChat?"120px":!e.editMode&&e.clientChat?"80px":"120px"}),(function(e){return e.clientChat&&e.showButtons&&e.editMode?"120px":e.clientChat&&e.showButtons&&!e.editMode?"90px":e.showButtons&&e.editMode?"150px":e.showButtons?"120px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),qS=function(e){var t=e.channel,a=e.showEmojiPicker,i=e.handleShowEmojiPicker,o=e.handleGoogleMeet,c=e.onShowFileDialog,s=e.editChatMessage,d=e.quote,u=Object(l.useDispatch)(),m=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),p=Object(n.useState)(!1),f=Object(_.a)(p,2),b=f[0],h=f[1],E=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},O=t&&m[t.entity_id]&&m[t.entity_id].is_shared&&m[t.entity_id].channel.id===t.id;return r.a.createElement(zS,{editMode:null!==s,showButtons:b,clientChat:O},s&&r.a.createElement(KS,null,r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:E,content:"Close edit"},r.a.createElement(pn,{className:"close-button",icon:"x",onClick:function(){d&&u(nl(d)),null!==s&&u(Xs(null))}}))),r.a.createElement(KS,{className:"btn-smile"},r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:E,content:"Emoji"},r.a.createElement(pn,{className:"".concat(a?"active":""),onClick:i,icon:"smile"}))),!O&&r.a.createElement(KS,{className:"btn-meet"},r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:E,content:"Google meet"},r.a.createElement(pn,{onClick:o,icon:"meet"}))),r.a.createElement(KS,{className:"btn-paperclip"},r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:E,content:"Attach file"},r.a.createElement(pn,{onClick:c,icon:"paperclip"}))),r.a.createElement(KS,{className:"chat-buttons"},r.a.createElement(pn,{onClick:function(){h((function(e){return!e}))},icon:b?"x":"more-vertical"})))};function JS(){var e=Object(f.a)(["\n  font-weight: 600;\n  cursor: pointer;\n"]);return JS=function(){return e},e}function ZS(){var e=Object(f.a)(["\nfont-size:13px;\nfont-weight:600;\n  .card {\n    overflow: visible;\n  }\n  .custom-switch {\n    input {\n      cursor: pointer;\n    }\n  }\n  "]);return ZS=function(){return e},e}var XS=E.a.div(ZS()),$S=(E.a.span(JS()),function(e){e.className;var t=e.selectedChannel,a=e.chatMessageActions,i=e.translated_channels,o=(Object(b.g)(),Object(l.useDispatch)()),c=Op(),s=am().setGeneralSetting,d=vs(),u=d._t,m=(d.setLocale,d.uploadTranslationToServer,{chatTranslateTitle:u("SETTINGS.CHAT_TRANSLATE_TITLE","Live translation"),chatTranslateTitleExtra:u("SETTINGS.CHAT_TRANSLATE_TITLE_EXTRA","Talk in your own language")}),p=Object(n.useCallback)((function(e){e.persist();var n=e.target,o=n.name,l=n.checked,d=n.dataset;c.success(r.a.createElement("span",null,d.successMessage)),a.saveChannelTranslateState(Object(R.a)(Object(R.a)({},t),{},{is_translate:l})),f(Object(R.a)(Object(R.a)({},t),{},Object(x.a)({},o,l)));var u=t.id;s(l?{translated_channels:[].concat(Object(Rt.a)(i),[u])}:{translated_channels:i.filter((function(e){return e!==u}))})})),f=Object(n.useCallback)((function(e){o(function(e,t){return Pa("SET_CHANNEL_IS_TRANSLATE",e,t)}(e,(function(){var t=Object(R.a)({},e);o(function(e,t){return Ia(Q(e),"UPDATE_CHANNEL_IS_TRANSLATE","UPDATE_CHANNEL_IS_TRANSLATE_SUCCESS","UPDATE_CHANNEL_IS_TRANSLATE_FAILURE",t)}(t))})))}));i.length>0&&i.includes(t.id)&&!t.is_translate&&a.saveChannelTranslateState(Object(R.a)(Object(R.a)({},t),{},{is_translate:!0}));var h=i.includes(t.id);return r.a.createElement(XS,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"flex-grow-1 "},r.a.createElement("span",null,m.chatTranslateTitleExtra)),r.a.createElement(_S.a,{className:"cursor-pointer text-muted",type:"switch",id:"is_translate",checked:h,name:"is_translate",onChange:p,"data-success-message":"You have turn ".concat(h?"OFF":"ON"," translate chat messages!"),label:r.a.createElement("span",null,m.chatTranslateTitle)})))});function ek(){var e=Object(f.a)(["\n  .chat-sidebar-panel {\n    max-width: 540px;\n  }\n  .chat-content-panel {\n    padding-right: 1.5rem;\n    flex-grow: 1;\n    flex: 1 1 auto;\n    @media (min-width: 1920px) {\n      max-width: calc(100% - 540px);\n    }\n  }\n  @media (max-width: 1550px) {\n    .chat-sidebar-panel {\n      flex: 0 0 40%;\n      max-width: 40%;\n    }\n    .chat-content-panel {\n      flex: 0 0 60%;\n      max-width: 60%;\n    }\n  }\n  @media (max-width: 1280px) {\n    .chat-sidebar-panel {\n      flex: 0 0 45%;\n      max-width: 45%;\n    }\n    .chat-content-panel {\n      flex: 0 0 55%;\n      max-width: 55%;\n    }\n  }\n  @media (max-width: 991.99px) {\n    .chat-sidebar-panel {\n      flex: unset;\n      max-width: 100%;\n      padding: 0 !important;\n    }\n    .chat-content-panel {\n      padding: 0;\n      flex: auto;\n      max-width: 100%;\n    }\n  }\n  .row {\n    flex-wrap: unset;\n  }\n"]);return ek=function(){return e},e}var tk,ak,nk,rk,ik,ok=E.a.div(ek()),ck=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return null!==localStorage.getItem("chat_translate_change")&&(localStorage.removeItem("chat_translate_change"),window.location.reload()),r.a.createElement(ok,{className:"company-chat ".concat(a)},r.a.createElement("div",{className:"row no-gutters chat-block"},r.a.createElement(YS,{className:"col-lg-4 chat-sidebar-panel"}),r.a.createElement(NT,{className:"col-lg-8 chat-content-panel"})))})),sk=E.a.div(tk||(tk=Object(f.a)(["\n  border-left: 5px solid #822492;\n  text-align: left;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  position: relative;\n\n  .bg-overlay {\n    position: absolute;\n    z-index: 0;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    transition: all 0.3s ease;\n    background: linear-gradient(0deg, rgba(252, 252, 252, 1) 0%, rgba(252, 252, 252, 0.25) 50%, rgba(255, 255, 255, 0.5) 100%);\n    opacity: 0;\n\n    .dark & {\n      background: none;\n    }\n\n    &.hide {\n      opacity: 1;\n    }\n  }\n\n  .card-body {\n    position: relative;\n    z-index: 1;\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .card-title {\n    position: relative;\n\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),lk=E.a.div(ak||(ak=Object(f.a)(["\n  &.hide {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n  &.show {\n    .btn-toggle-show {\n      display: block;\n      color: #828282;\n    }\n  }\n\n  .btn-toggle-show {\n    text-align: right;\n    display: none;\n  }\n"]))),dk=E.a.div(nk||(nk=Object(f.a)(["\n  transition: all 0.3s ease;\n  max-width: 700px;\n  min-height: 140px;\n\n  &.hide {\n    max-height: 140px;\n  }\n\n  &.show {\n    max-height: ","px;\n  }\n\n  img {\n    max-width: 100%;\n    max-height: 250px;\n  }\n"])),(function(e){return e.height})),uk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.onEditClick,o=e.workspace,c=e.isMember,s=e.isExternal,l=e.dictionary,d=Object(n.useState)(""),u=Object(_.a)(d,2),m=u[0],p=u[1],f=Object(n.useState)(null),b=Object(_.a)(f,2),h=b[0],E=b[1],O=Object(n.useState)(140),g=Object(_.a)(O,2),v=g[0],A=g[1],j={description:Object(n.useRef)(null)};return Object(n.useEffect)((function(){j.description.current&&(!0===h?setTimeout((function(){j.description.current.style.overflow=""}),[300]):!1===h&&(j.description.current.style.overflow="hidden"))}),[h,j.description.current]),Object(n.useEffect)((function(){o&&m!==o.description&&(p(o.description),E(null),j.description.current=null)}),[o]),r.a.createElement(sk,{className:"dashboard-about-workspace card ".concat(a)},r.a.createElement("div",{className:"bg-overlay ".concat(null===h?"":!0===h?"show":"hide")}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},l.aboutThisWorkspace," ",!0===c&&!s&&1===o.active&&r.a.createElement(pn,{icon:"edit",onClick:i})),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lk,{className:null===h?"":!0===h?"show":"hide"},r.a.createElement(dk,{ref:function(e){null===j.description.current&&e&&(j.description.current=e,e.clientHeight>140?(A(e.clientHeight),E(!1)):E(null))},height:v,className:"dashboard-description ".concat(null===h?"":!0===h?"show":"hide"),dangerouslySetInnerHTML:{__html:o.description}}),null!==h&&r.a.createElement("div",{onClick:function(e){e.preventDefault(),E((function(e){return!e}))},className:"btn-toggle-show cursor-pointer mt-2"},h?l.showLess:l.showMore)))))})),mk=E.a.div(rk||(rk=Object(f.a)(["\n  .avatar {\n    cursor: pointer;\n    // height: 2.5rem !important;\n    // width: 2.5rem !important;\n  }\n  .user-name {\n    display: flex;\n    cursor: pointer;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  > .col-12 {\n    padding: 0;\n  }\n  .card.border {\n    overflow: visible;\n  }\n  .people-text-truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: ","px;\n  }\n  .button-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n  }\n"])),(function(e){return e.userNameMaxWidth})),pk=Object(E.a)(Jc)(ik||(ik=Object(f.a)(["\n  .badge {\n    background: ",";\n  }\n"])),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),fk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.loggedUser,o=e.onNameClick,c=void 0===o?null:o,s=e.onChatClick,l=void 0===s?null:s,d=e.user,u=e.dictionary,m=e.showOptions,p=void 0!==m&&m,f=e.onUpdateRole,b=void 0===f?null:f,h=e.roles,E=e.onArchiveUser,O=void 0===E?null:E,g=e.onActivateUser,v=void 0===g?null:g,A=e.onChangeUserType,j=void 0===A?null:A,C=e.showInactive,T=void 0!==C&&C,y=e.showWorkspaceRole,S=void 0!==y&&y,k=Object(n.useState)(320),w=Object(_.a)(k,2),N=w[0],x=w[1],R={cardBody:Object(n.useRef)(null),content:Object(n.useRef)(null)},I=function(e){var t={user_id:d.id,role_id:h[e]};b(t)},P=function(){if(R.content.current){var e=R.content.current.clientWidth-150,t=R.content.current.querySelector(".button-wrapper");t&&(e-=t.clientWidth),(t=R.content.current.querySelector(".avatar"))&&(e-=t.clientWidth),(t=R.content.current.querySelector(".label-wrapper"))&&(e-=t.clientWidth),x(e)}};Object(n.useEffect)((function(){return window.addEventListener("resize",P),P(),function(){return window.removeEventListener("resize",P)}}),[]);var D=function(){O(d)},L=function(){v(d)};return r.a.createElement(mk,{className:"workspace-user-item-list col-12 col-md-6 ".concat(a),userNameMaxWidth:N},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card border",key:d.id},r.a.createElement("div",{className:"card-body",ref:R.cardBody},r.a.createElement("div",{ref:R.content,className:"d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"d-flex justify-content-start align-items-center"},r.a.createElement(kn,{id:d.id,name:d.name?d.name:d.email,hasAccepted:d.has_accepted,imageLink:d.profile_image_thumbnail_link?d.profile_image_thumbnail_link:d.profile_image_link?d.profile_image_link:"",showSlider:!0}),r.a.createElement("div",{className:"user-info-wrapper ml-3"},""!==d.email&&d.hasOwnProperty("has_accepted")&&!d.has_accepted&&"external"===d.type?r.a.createElement("h6",{className:"user-name mb-1 "},r.a.createElement(qc,{content:d.email},r.a.createElement("div",{className:"mr-2 people-text-truncate"},""!==d.name?d.name:d.email)),r.a.createElement(Jc,{label:u.peopleInvited,badgeClassName:"badge badge-info text-white"}),r.a.createElement(Jc,{label:u.peopleExternal,badgeClassName:"badge badge-info text-white"})):r.a.createElement("h6",{className:"user-name mb-1 ",onClick:function(){c&&c(d)}},r.a.createElement(qc,{content:d.email},r.a.createElement("div",{className:"mr-2"},d.name)),r.a.createElement("span",{className:"label-wrapper d-inline-flex start align-items-center"},"external"===d.type&&"external"!==i.type&&r.a.createElement(Jc,{label:u.peopleExternal,badgeClassName:"badge badge-info text-white"}),0===d.active&&r.a.createElement(Jc,{label:"Inactive",badgeClassName:"badge badge-light text-white"}),S&&d.workspace_role&&""!==d.workspace_role&&r.a.createElement(pk,{role:d.workspace_role,badgeClassName:"WATCHER"===d.workspace_role||"TEAM_LEAD"===d.workspace_role?"text-dark":"text-white",label:function(){switch(d.workspace_role){case"ADVISOR":return u.roleAdvisor;case"APPROVER":return u.roleApprover;case"CLIENT":return u.roleClient;case"COMMUNICATION_LEAD":return u.roleCommunicationLead;case"DEVELOPER":return u.roleDeveloper;case"DESIGNER":return u.roleDesigner;case"FREELANCER":return u.roleFreelancer;case"SUPERVISOR":return u.roleSupervisor;case"TEAM_LEAD":return u.roleTeamLead;case"TECHNICAL_ADVISOR":return u.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return u.roleTechnicalLead;case"WATCHER":return u.roleWatcher;default:return""}}()}))),d.role&&"internal"===d.type&&r.a.createElement("span",{className:"small text-muted"},d.role.display_name),d.external_company_name&&"external"===d.type&&r.a.createElement("span",{className:"small text-muted"},d.external_company_name))),null!==l&&"external"!==i.type&&r.a.createElement("div",{className:"button-wrapper"},d.contact&&""!==d.contact&&i.id!==d.id&&r.a.createElement("a",{href:"tel:".concat(d.contact.replace(/ /g,"").replace(/-/g,""))},r.a.createElement(pn,{className:"mr-2",icon:"phone"})),i.id!==d.id&&1===d.active&&r.a.createElement(pn,{onClick:function(){l&&l(d)},icon:"message-circle"}),p&&i.id!==d.id&&r.a.createElement(Uf,{className:"ml-2",width:240,moreButton:"more-horizontal",scrollRef:R.cardBody.current},!T&&"internal"===d.type&&d.role&&"employee"===d.role.name&&r.a.createElement("div",{onClick:function(){return I("admin")}},u.assignAsAdmin),!T&&"internal"===d.type&&d.role&&"admin"===d.role.name&&r.a.createElement("div",{onClick:function(){return I("employee")}},u.assignAsEmployee),!T&&"external"===d.type&&r.a.createElement("div",{onClick:function(){j&&j(d,"internal")}},u.moveToInternal),!T&&"internal"===d.type&&r.a.createElement("div",{onClick:function(){j&&j(d,"external")}},u.moveToExternal),T&&0===d.active&&!d.deactivate?r.a.createElement("div",{onClick:D},u.unarchiveUser):null,d.active?r.a.createElement("div",{onClick:D},u.archiveUser):null,!d.deactivate&&d.active?r.a.createElement("div",{onClick:L},u.deactivateUser):null,d.deactivate&&0===d.active?r.a.createElement("div",{onClick:L},u.activateUser):null)))))))}));function bk(){var e=Object(f.a)(["\n  .badge {\n    background: ",";\n  }\n"]);return bk=function(){return e},e}function hk(){var e=Object(f.a)(["\n  text-align: center;\n  position: absolute;\n  bottom: -10px;\n  z-index: 2;\n  width: 100%;\n  > span {\n    background: #fff;\n    padding: 10px;\n    .dark & {\n      background: #191c20;\n    }\n  }\n"]);return hk=function(){return e},e}function Ek(){var e=Object(f.a)(["\n  padding: 16px 0 !important;\n  .card-title {\n    position: relative;\n    .feather-edit {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n  .more-options {\n    display: none;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .profile-name {\n    cursor: pointer;\n    margin-bottom: 4px;\n  }\n  > .more-options svg {\n    width: auto;\n  }\n  .more-options-tooltip {\n    display: none;\n    right: calc(100% + 5px);\n    left: auto;\n  }\n  &:hover {\n    .more-options-tooltip {\n      display: block;\n    }\n  }\n"]);return Ek=function(){return e},e}var _k,Ok=E.a.li(Ek()),gk=E.a.div(hk()),vk=Object(E.a)(Jc)(bk(),(function(e){switch(e.role){case"APPROVER":return"#00CDAC";case"CLIENT":return"#4DD091";case"COMMUNICATION_LEAD":return"#00B0BA";case"DEVELOPER":return"#0065A2";case"DESIGNER":return"#FF60A8";case"FREELANCER":return"#C05780";case"SUPERVISOR":return"#FC6238";case"TEAM_LEAD":return"#CFF800";case"TECHNICAL_ADVISOR":return"#FFA23A";case"TECHNICAL_LEAD":return"#6C88C4";case"WATCHER":return"#FFEC59";default:return"#fb3"}})),Ak=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.member,i=e.hideOptions,o=e.actions,c=e.workspace_id,s=e.dictionary,d=e.showMoreButton,u=e.showLessButton,m=e.toggleShow,p=e.loggedUser,f=e.onLeaveWorkspace,h=void 0===f?null:f,E=e.workspace,_=void 0===E?null:E,O=e.scrollRef,g=e.onAddRole,v=void 0===g?null:g,A=Object(b.g)(),j=Object(l.useDispatch)(),C=Op(),T=function(){var e={topic_id:c,user_id:n.id};o.deleteRole(e)},y=function(){var e={topic_id:c,emails:[n.email]};j(Bm(e,(function(e,t){e||C.success(s.invitationSent)})))};return r.a.createElement(Ok,{className:"team-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(a)},r.a.createElement("div",{className:"d-flex align-items-center "},r.a.createElement("div",{className:"pr-3"},r.a.createElement(kn,{id:n.id,name:n.name,imageLink:n.profile_image_thumbnail_link?n.profile_image_thumbnail_link:n.profile_image_link,partialName:n.partial_name,noDefaultClick:!n.has_accepted,hasAccepted:n.has_accepted,showSlider:!0,scrollRef:O})),r.a.createElement("div",null,r.a.createElement("h6",{className:"profile-name",onClick:function(){n.has_accepted&&A.push("/profile/".concat(n.id,"/").concat(Wt(n.name)))}},n.has_accepted||""!==n.name?n.name:n.email),"internal"===n.type&&n.designation&&r.a.createElement("small",{className:"text-muted"},n.designation),"external"===n.type&&n.external_company_name&&r.a.createElement("small",{className:"text-muted"},n.external_company_name))),r.a.createElement("div",{className:"ml-auto"},n.workspace_role&&""!==n.workspace_role&&r.a.createElement(vk,{role:n.workspace_role,badgeClassName:"WATCHER"===n.workspace_role||"TEAM_LEAD"===n.workspace_role?"text-dark":"text-white",label:function(){switch(n.workspace_role){case"ADVISOR":return s.roleAdvisor;case"APPROVER":return s.roleApprover;case"CLIENT":return s.roleClient;case"COMMUNICATION_LEAD":return s.roleCommunicationLead;case"DEVELOPER":return s.roleDeveloper;case"DESIGNER":return s.roleDesigner;case"FREELANCER":return s.roleFreelancer;case"SUPERVISOR":return s.roleSupervisor;case"TEAM_LEAD":return s.roleTeamLead;case"TECHNICAL_ADVISOR":return s.roleTechnicalAdvisor;case"TECHNICAL_LEAD":return s.roleTechnicalLead;case"WATCHER":return s.roleWatcher;default:return""}}()}),"external"===n.type&&"external"!==p.type&&n.has_accepted&&r.a.createElement(Jc,{badgeClassName:"badge-info text-white",label:s.peopleExternal}),"external"===n.type&&!n.has_accepted&&r.a.createElement(Jc,{badgeClassName:"badge-info text-white",label:s.peopleInvited}),"external"===n.type&&"external"!==p.type&&!n.has_accepted&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Jc,{badgeClassName:"badge-info text-white",label:s.peopleExternal}))),d&&r.a.createElement(gk,{className:"btn-toggle-show"},r.a.createElement("span",{className:"cursor-pointer",onClick:m},s.showMore)),u&&r.a.createElement(gk,{className:"btn-toggle-show"},r.a.createElement("span",{className:"cursor-pointer",onClick:m},s.showLess)),!i&&r.a.createElement(Uf,{moreButton:"more-horizontal",width:250},"APPROVER"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"approver")}},s.assignAsApprover),"APPROVER"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsApprover),"CLIENT"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"client")}},s.assignAsClient),"CLIENT"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsClient),"COMMUNICATION_LEAD"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"communication_lead")}},s.assignAsCommunicationLead),"COMMUNICATION_LEAD"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsCommunicationLead),"DESIGNER"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"designer")}},s.assignAsDesigner),"DESIGNER"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsDesigner),"DEVELOPER"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"developer")}},s.assignAsDeveloper),"DEVELOPER"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsDeveloper),"FREELANCER"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"freelancer")}},s.assignAsFreelancer),"FREELANCER"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsFreelancer),"SUPERVISOR"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"supervisor")}},s.assignAsSupervisor),"SUPERVISOR"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsSupervisor),"TEAM_LEAD"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"team_lead")}},s.assignAsTeamLead),"TEAM_LEAD"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsTeamLead),"TECHNICAL_ADVISOR"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"technical_advisor")}},s.assignAsTechnicalAdvisor),"TECHNICAL_ADVISOR"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsTechnicalAdvisor),"TECHNICAL_LEAD"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"technical_lead")}},s.assignAsTechnicalLead),"TECHNICAL_LEAD"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsTechnicalLead),"WATCHER"!==n.workspace_role&&r.a.createElement("div",{onClick:function(){return v(n,"watcher")}},s.assignAsWatcher),"WATCHER"===n.workspace_role&&r.a.createElement("div",{onClick:T},s.revokeAsWatcher),n.id===p.id&&r.a.createElement("div",{onClick:function(){return h(_,n)}},s.leave),n.id!==p.id&&"internal"===p.type&&r.a.createElement("div",{onClick:function(){return h(_,n)}},s.remove),0===n.active&&"external"===n.type&&r.a.createElement("div",{onClick:function(){var e={type:"confirmation",headerText:s.resendInvite,submitText:s.resend,cancelText:s.cancel,bodyText:"".concat(s.resendInviteConfirmation," ").concat(n.email,"?"),actions:{onSubmit:y}};j(Ye(e))}},s.resendInvite),!n.has_accepted&&0===n.active&&"external"===n.type&&n.invite_link&&r.a.createElement("div",{onClick:function(){S(C,n.invite_link)}},s.sendInviteManually)))})),jk=E.a.div(_k||(_k=Object(f.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]))),Ck=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,o=e.onEditClick,c=e.isExternal,s=e.isMember,d=e.dictionary,u=e.actions,m=Object(n.useRef)(null),p=Object(n.useState)(null),f=Object(_.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(!1),O=Object(_.a)(E,2),g=O[0],v=O[1],A=Op(),j=Object(l.useSelector)((function(e){return e.session.user})),C=Object(n.useCallback)((function(e){null===b&&h(e)}),[]),T=!s||0===i.active,y=i.members.filter((function(e){return 1===e.active||!e.has_accepted})),S=function(){v((function(e){return!e}))},k=function(e,t){u.leave(e,t,(function(t,a){t||A.success(r.a.createElement(r.a.Fragment,null,d.leaveWorkspace,r.a.createElement("b",null,e.name)))}))},w=function(e,t){var a={topic_id:i.id,user_id:e.id,role:t};u.addRole(a)};return r.a.createElement(jk,{className:"dashboard-team card ".concat(a),ref:m},r.a.createElement("div",{ref:C,className:"card-body"},r.a.createElement("h5",{className:"card-title"},d.team," ",!0===s&&!c&&1===i.active&&r.a.createElement(pn,{onClick:o,icon:"plus"})),0===y.length?r.a.createElement(r.a.Fragment,null,d.emptyTeam):r.a.createElement("ul",{className:"list-group list-group-flush"},(g?y:y.slice(0,5)).map((function(e,t){return r.a.createElement(Ak,{key:e.id,member:e,parentRef:b,onEditClick:o,onLeaveWorkspace:k,onAddRole:w,hideOptions:T,actions:u,workspace_id:i.id,dictionary:d,showMoreButton:4===t&&y.length>5&&!g,showLessButton:t===y.length-1&&y.length>5&&g,toggleShow:S,loggedUser:j,workspace:i,scrollRef:m.current})})))))}));function Tk(){var e=Object(f.a)(["\n  cursor: pointer;\n\n  .done {\n    text-decoration: line-through;\n    color: #00c851;\n  }\n  .avatar {\n    cursor: pointer;\n  }\n  .user-name {\n    cursor: pointer;\n  }\n  .feather-message-circle {\n    cursor: pointer;\n  }\n  .recent-post-timestamp {\n    @media only screen and (max-width: 480px) {\n      display: none !important;\n    }\n  }\n"]);return Tk=function(){return e},e}var yk=E.a.li(Tk()),Sk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.post,i=e.onOpenPost,o=Ap().localizeChatDate,c=function(e){i(n)};return r.a.createElement(yk,{className:"recent-post-list-item list-group-item d-flex align-items-center p-l-r-0 ".concat(a),onClick:c},r.a.createElement("div",{className:"flex-grow-1 min-width-0",onClick:c},r.a.createElement("div",{className:"mb-1 d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"app-list-title text-truncate"},n.title),r.a.createElement("div",{className:"pl-3 d-flex recent-post-timestamp align-items-center"},o(n.created_at.timestamp)))))}));function kk(){var e=Object(f.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]);return kk=function(){return e},e}var wk=E.a.div(kk()),Nk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.search,i=e.dictionary;return r.a.createElement(wk,{className:"post-filter-search-panel app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement(sw,{search:n,placeholder:i.searchPost})))}));function xk(){var e=Object(f.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]);return xk=function(){return e},e}function Rk(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]);return Rk=function(){return e},e}function Ik(){var e=Object(f.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n"]);return Ik=function(){return e},e}function Pk(){var e=Object(f.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]);return Pk=function(){return e},e}function Dk(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]);return Dk=function(){return e},e}function Lk(){var e=Object(f.a)(["\n  width: 16px;\n"]);return Lk=function(){return e},e}function Fk(){var e=Object(f.a)(["\n  flex-flow: column;\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    overflow: inherit;\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 2.5rem;\n      height: 2.5rem;\n    }\n    @media (max-width: 991.99px) {\n      img {\n        width: 2rem;\n        height: 2rem;\n      }\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"]);return Fk=function(){return e},e}var Mk=E.a.li(Fk()),Uk=Object(E.a)(pn)(Lk()),Gk=E.a.div(Dk()),Hk=E.a.div(Pk()),Bk=Object(E.a)(mE)(Ik()),Wk=E.a.div(Rk()),Yk=E.a.div(xk()),Vk=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isExternalUser,o=e.post,c=e.dictionary,s=e.disableOptions,d=e.toggleCheckbox,u=e.checked,m=e.workspace,p=e.hasUnread,f=e.postActions,b=f.starPost,h=f.openPost,E=f.archivePost,O=f.markAsRead,g=f.markAsUnread,v=f.sharePost,A=f.followPost,j=f.remind,C=f.showModal,T=f.close,y=f.disconnectPostList,S=f.updatePostListConnect,k=Object(l.useSelector)((function(e){return e.session.user})),w=Object(l.useSelector)((function(e){return e.workspaces.flipper})),N=Ap().fromNow,x=Object(n.useState)(0),R=Object(_.a)(x,2),I=R[0],P=R[1],D=function(){var e=o.users_approval.length>0&&o.users_approval.some((function(e){return null===e.ip_address&&e.id===k.id}));if(o.is_must_read&&o.author.id!==k.id){if(o.is_must_read&&o.required_users&&o.required_users.some((function(e){return e.id===k.id&&!e.must_read})))return!0}else{if(!o.is_must_reply||o.author.id===k.id)return!!e;if(o.required_users&&o.required_users.some((function(e){return e.id===k.id&&!e.must_reply})))return!0}};return r.a.createElement(Mk,{"data-toggle":w?"1":"0",appListWidthDiff:I+50,className:"list-group-item post-item-panel ".concat(p?"has-unread":""," ").concat(a," pl-3"),onClick:function(){return h(o)}},r.a.createElement(HN,{post:o,user:k,dictionary:c,isExternalUser:i,classNames:"text-truncate"}),r.a.createElement(Wk,null,r.a.createElement(Bk,{name:"test",checked:u,onClick:function(){return d(o.id)},disabled:D()}),r.a.createElement(Hk,{className:"d-flex ml-2 mr-2"},r.a.createElement(kn,{title:"FROM: ".concat(o.author.name),className:"author-avatar mr-2",id:o.author.id,name:o.author.name,imageLink:o.author.profile_image_thumbnail_link?o.author.profile_image_thumbnail_link:o.author.profile_image_link})),r.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},r.a.createElement("div",{className:"app-list-title text-truncate ".concat(p?"has-unread":"")},r.a.createElement("div",{className:"text-truncate d-flex"},r.a.createElement("span",{className:"text-truncate"},o.author.id!==k.id&&!o.is_followed&&r.a.createElement(Uk,{icon:"eye-off"}),o.title),r.a.createElement(Yk,{className:"hover-btns ml-1"},"draft_post"!==o.type&&!s&&o.author.id===k.id&&r.a.createElement(Uk,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),C("edit",o)}}),!s&&!D()&&r.a.createElement(Uk,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),E(o)}}))),r.a.createElement(Gk,null,0!==o.unread_count&&r.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},o.unread_count," new"),r.a.createElement("div",{className:"text-muted"},0===o.reply_count?c.noComment:1===o.reply_count?c.oneComment:c.comments.replace("::comment_count::",o.reply_count)),r.a.createElement("span",{className:"time-stamp text-muted"},r.a.createElement("span",null,N(o.updated_at.timestamp)))))),r.a.createElement(ow,{post:o,dictionary:c,user:k,cbGetWidth:P}),r.a.createElement("div",{className:"d-flex"},"draft_post"!==o.type&&!s&&r.a.createElement(Uf,{className:"d-flex ml-2",item:o,width:220,moreButton:"more-horizontal"},null===o.todo_reminder&&r.a.createElement("div",{onClick:function(){return j(o)}},c.remindMeAboutThis),o.author&&o.author.id===k.id&&r.a.createElement("div",{onClick:function(){return C("edit",o)}},c.editPost),0===o.is_unread?r.a.createElement("div",{onClick:function(){return g(o,!0)}},c.markAsUnread):D()?null:r.a.createElement("div",{onClick:function(){return O(o,!0)}},c.markAsRead),r.a.createElement("div",{onClick:function(){return v(o)}},c.share),o.author&&o.author.id!==k.id&&r.a.createElement("div",{onClick:function(){return A(o)}},o.is_followed?c.unFollow:c.follow),r.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),s||b(o)}},o.is_favourite?c.unStar:c.star),(o.author&&o.author.id===k.id||"external"===o.author.type&&"internal"===k.type)&&r.a.createElement("div",{onClick:function(){return T(o)}},o.is_close?c.openThisPost:c.closeThisPost),o.post_list_connect&&r.a.createElement("div",{onClick:function(){return function(){if(1!==o.post_list_connect.length)C("add_to_list",o);else{var e={link_id:o.post_list_connect[0].id,post_id:o.id};y(e,(function(e,t){e||(t.data.topic_id=m&&m.id?m.id:null,S(t.data))}))}}()}},1===o.post_list_connect.length?c.removeToList:c.addToList)))))}));function Qk(){var e=Object(f.a)([""]);return Qk=function(){return e},e}function Kk(){var e=Object(f.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]);return Kk=function(){return e},e}function zk(){var e=Object(f.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return zk=function(){return e},e}var qk=E.a.div(zk()),Jk=Object(E.a)(pn)(Kk()),Zk=E.a.div(Qk()),Xk=r.a.memo((function(e){var t=e.workspace,a=e.isMember,n=e.filter,i=e.filters,o=e.tag,c=e.count,s=e.postLists,l=e.counters,d=e.postActions,u=e.onGoBack,m=e.dictionary,p=e.disableOptions,f=e.postListTag;return r.a.createElement(qk,{className:"col-md-3 app-sidebar bottom-modal-mobile"},r.a.createElement(Zk,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"bottom-modal-mobile_inner"},r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},a&&r.a.createElement("div",{className:"card-body create-new-post-wrapper"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){d.showModal("create")},disabled:p},m.createNewPost)),r.a.createElement(tw,{workspace:t,filter:n,filters:i,tag:o,onGoBack:u,counters:l,dictionary:m}),r.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},r.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},m.category,r.a.createElement("span",{className:"ml-auto",onClick:function(){d.showModal("create_edit_post_list")},disabled:p},r.a.createElement(Jk,{className:"mr-0",icon:"plus"})))),r.a.createElement(iw,{count:c,workspace:t,tag:o,onGoBack:u,dictionary:m}),r.a.createElement(LN,{workspace:t,postLists:s,tag:o,postListTag:f,onGoBack:u,dictionary:m,postActions:d}))))}));function $k(){var e=Object(f.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']);return $k=function(){return e},e}var ew=E.a.div($k()),tw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,o=e.filter,c=void 0===o?"all":o,s=e.filters,d=e.onGoBack,u=e.counters,m=e.dictionary,p=Object(l.useDispatch)(),f=$m(),b=Object(n.useState)(!1),h=Object(_.a)(b,2),E=h[0],O=h[1],g=function(e){if(s){if("archive"!==e.target.dataset.value||!i||s.hasOwnProperty("archived")||E||function(){O(!0);f.getPosts({filters:["post","archived"],topic_id:i.id},(function(e,t){if(O(!1),!e){var a=t.data.posts.map((function(e){return e.files}));a.length&&(a=a.flat()),p(qd({topic_id:i.id,posts:t.data.posts,filter:t.data.posts,files:a,filters:{archived:{active:!1,skip:t.data.next_skip,hasMore:t.data.total_take===t.data.posts.length}}}))}}))}(),e.target.dataset.value===c)d();else{var t={topic_id:i.id,filter:e.target.dataset.value,tag:null};p(Om(t)),d()}document.body.classList.remove("mobile-modal-open")}};return r.a.createElement(ew,{className:"post-filter-item list-group list-group-flush ".concat(a)},r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"inbox"===c?"active":""),"data-value":"inbox",onClick:g},r.a.createElement(pn,{className:"mr-2",icon:"inbox"}),m.inbox,r.a.createElement("span",{className:"small ml-auto"},i&&i.unread_posts>0&&i.unread_posts)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"all"===c?"active":""),"data-value":"all",onClick:g},r.a.createElement(pn,{className:"mr-2",icon:"mail"}),m.all),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"my_posts"===c?"active":""),"data-value":"my_posts",onClick:g},r.a.createElement(pn,{className:"mr-2",icon:"send-post"}),m.myPosts),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"star"===c?"active":""),"data-value":"star",onClick:g},r.a.createElement(pn,{className:"mr-2",icon:"star"}),m.starred),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"archive"===c?"active":""),"data-value":"archive",onClick:g},r.a.createElement(pn,{className:"mr-2",icon:"archive"}),m.archived),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(c&&"draft"===c?"active":""),"data-value":"draft",onClick:g},r.a.createElement(pn,{className:"mr-2",icon:"edit-3"}),m.drafts,r.a.createElement("span",{className:"small ml-auto"},u.drafts>0&&u.drafts)))}));function aw(){var e=Object(f.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin!important;\n  }\n"]);return aw=function(){return e},e}var nw,rw=E.a.div(aw()),iw=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=e.tag,o=e.count,c=e.onGoBack,s=e.dictionary,d=Object(l.useDispatch)(),u=function(e){var t={topic_id:n.id,tag:e.target.dataset.value,filter:null};i===e.target.dataset.value&&(t=Object(R.a)(Object(R.a)({},t),{},{tag:null,filter:"all"})),d(Om(t)),c(),document.body.classList.remove("mobile-modal-open")};return r.a.createElement(rw,{className:"list-group list-group-flush ".concat(a)},r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_must_reply"===i?"active":""),"data-value":"is_must_reply",onClick:u},r.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),s.replyRequired,r.a.createElement("span",{className:"small ml-auto"},o&&o.is_must_reply>0&&o.is_must_reply)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_must_read"===i?"active":""),"data-value":"is_must_read",onClick:u},r.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),s.mustRead,r.a.createElement("span",{className:"small ml-auto"},o&&o.is_must_read>0&&o.is_must_read)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_read_only"===i?"active":""),"data-value":"is_read_only",onClick:u},r.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),s.noReplies,r.a.createElement("span",{className:"small ml-auto"},o&&o.is_read_only>0&&o.is_read_only)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_unread"===i?"active":""),"data-value":"is_unread",onClick:u},r.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),s.unread,r.a.createElement("span",{className:"small ml-auto"},o&&o.is_unread>0&&o.is_unread)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(i&&"is_close"===i?"active":""),"data-value":"is_close",onClick:u},r.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),s.closed,r.a.createElement("span",{className:"small ml-auto"},o&&o.is_close>0&&o.is_close)))})),ow=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isBadgePill,o=void 0!==i&&i,c=e.post,s=e.dictionary,l=e.user,d=e.cbGetWidth,u=void 0===d?function(){}:d,m={container:Object(n.useRef)(null)};Object(n.useEffect)((function(){m.container.current&&u(m.container.current.clientWidth)}),[c]);var p=c.users_approval.some((function(e){return e.id===l.id}));return r.a.createElement("div",{ref:m.container},(c.is_must_read||c.is_must_reply||c.is_read_only||"draft_post"===c.type||0!==c.is_archived||!0===c.is_personal)&&r.a.createElement(r.a.Fragment,null,!c.recipients.every((function(e){return"USER"===e.type}))&&c.recipients.some((function(e){return"USER"===e.type}))&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(o?"badge-pill":"")},s.private)),1===c.is_archived&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(o?"badge-pill":"")},s.archived)),"draft_post"===c.type&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-light text-white ".concat(o?"badge-pill":"")},s.draft)),(c.is_must_read&&c.required_users&&c.required_users.some((function(e){return e.id===l.id&&!e.must_read}))||c.author.id===l.id&&c.is_must_read)&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none ").concat(c.author.id===l.id?"opacity-2":"")},r.a.createElement("div",{className:"badge badge-danger ".concat(o?"badge-pill":"")},s.mustRead)),(c.is_must_reply&&c.required_users&&c.required_users.some((function(e){return e.id===l.id&&!e.must_reply}))||c.author.id===l.id&&c.is_must_reply)&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none ").concat(c.author.id===l.id?"opacity-2":"")},r.a.createElement("div",{className:"badge badge-warning ".concat(o?"badge-pill":"")},s.replyRequired)),c.is_read_only&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-info ".concat(o?"badge-pill":"")},s.noReplies))),c.post_approval_label&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge ".concat("ACCEPTED"===c.post_approval_label?"badge-success":"badge-primary"," ").concat(o?"badge-pill":"")},function(e){switch(e){case"ACCEPTED":return s.accepted;case"NEED_ACTION":return p?s.actionNeeded:null;case"REQUEST_UPDATE":return c.author.id===l.id?s.changeRequested:null;case"SPLIT":return"Split";case"REQUEST_APPROVAL":return c.author.id===l.id?s.requestForApproval:null;default:return null}}(c.post_approval_label))),c.is_close&&r.a.createElement("div",{className:"".concat(a," mr-3 d-sm-inline d-none")},r.a.createElement("div",{className:"badge badge-closed ".concat(o?"badge-pill":"")},s.repliesClosed)))})),cw=E.a.div(nw||(nw=Object(f.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),sw=r.a.memo((function(e){var t=e.search,a=e.placeholder,i=Object(l.useDispatch)(),o=Object(b.i)(),c=Object(n.useState)(null===t?"":t),s=Object(_.a)(c,2),d=s[0],u=s[1],m=parseInt(o.workspaceId),p=Object(Kt.debounce)((function(e){i(Am({topic_id:m,search:e,search_result:[]})),""!==e&&i(zd({topic_id:m,search:e},(function(t,a){t||i(Am({topic_id:m,search:e,search_result:a.data.posts}))})))}),500);return r.a.createElement(cw,{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:a,value:d,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&p()},onChange:function(e){u(e.target.value),p(e.target.value.trim())}}),r.a.createElement("div",{className:"input-group-append"},""!==d.trim()&&r.a.createElement("button",{onClick:function(){u(""),i(Am({topic_id:m,search:"",search_result:[]}))},className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:p},r.a.createElement("i",{className:"ti-search"}))))}));function lw(){var e=Object(f.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]);return lw=function(){return e},e}function dw(){var e=Object(f.a)(["\n  cursor: pointer;\n"]);return dw=function(){return e},e}function uw(){var e=Object(f.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]);return uw=function(){return e},e}function mw(){var e=Object(f.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]);return mw=function(){return e},e}function pw(){var e=Object(f.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 25px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]);return pw=function(){return e},e}function fw(){var e=Object(f.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]);return fw=function(){return e},e}function bw(){var e=Object(f.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]);return bw=function(){return e},e}var hw=E.a.div(bw()),Ew=E.a.div(fw()),_w=Object(E.a)(Uf)(pw()),Ow=Object(E.a)(Hc)(mw()),gw=Object(E.a)(pn)(uw()),vw=E.a.div(dw()),Aw=E.a.div(lw()),jw=r.a.memo((function(e){var t=e.post,i=e.posts,o=e.filter,c=e.postActions,s=e.user,d=e.onGoBack,u=e.workspace,m=e.dictionary,p=e.disableOptions,f=e.readByUsers,b=void 0===f?[]:f,h=e.isMember,E=c.markAsRead,O=c.markAsUnread,g=c.sharePost,v=c.followPost,A=c.remind,j=c.close,C=Object(l.useDispatch)(),T=rp(),y=Object(l.useSelector)((function(e){return e.users.users})),S=Object(n.useState)(!1),k=Object(_.a)(S,2),w=k[0],N=k[1],x=np(t).comments,I=b.some((function(e){return e.id===s.id})),P=Object(Rt.a)(new Set(t.view_user_ids)),D=Object.values(y).filter((function(e){return P.some((function(t){return t===e.id}))})),L=Object.values(y).filter((function(e){return t.clap_user_ids.some((function(t){return t===e.id}))})),F=function(){d()},M={dropZoneRef:Object(n.useRef)(null)},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;C(Id(e)),c.setCommentType(t),M.dropZoneRef.current&&M.dropZoneRef.current.open()},G=function(){N(!1)},H=function(e){var n=[];e.forEach((function(e){var t=new FormData;t.append("file",e);var r=a(40).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?n.push(Object(R.a)(Object(R.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):"video/mp4"===e.type?n.push(Object(R.a)(Object(R.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):n.push(Object(R.a)(Object(R.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:t,name:e.name?e.name:e.path}))})),G();var r={type:"file_upload",droppedFiles:n,mode:"post",post:t,members:u?u.members:[]};C(Ye(r))},B=function(){var e=t.users_approval.length>0&&t.users_approval.some((function(e){return null===e.ip_address&&e.id===s.id}));if(t.is_must_read&&t.author.id!==s.id){if(t.is_must_read&&t.required_users&&t.required_users.some((function(e){return e.id===s.id&&!e.must_read})))return!0}else{if(!t.is_must_reply||t.author.id===s.id)return!!e;if(t.required_users&&t.required_users.some((function(e){return e.id===s.id&&!e.must_reply})))return!0}};Object(n.useEffect)((function(){return t.view_user_ids.some((function(e){return e===s.id}))||B()||c.visit({post_id:t.id,personalized_for_id:null}),(1===t.is_unread||t.unread_count>0||!t.is_updated)&&(B()||c.markAsRead(t)),"undefined"===typeof t.fetchedReact&&c.fetchPostClapHover(t.id),c.getUnreadWsPostsCount({topic_id:u.id}),function(){return c.getUnreadWsPostsCount({topic_id:u.id})}}),[]);var W=t.recipients.filter((function(e){return"TOPIC"===e.type&&1===e.private}));return r.a.createElement(r.a.Fragment,null,null!==t.todo_reminder&&r.a.createElement(os,{todoReminder:t.todo_reminder,type:"POST"}),r.a.createElement(hw,{className:"card-header d-flex justify-content-between"},r.a.createElement("div",{className:"d-flex flex-column align-items-start"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"align-self-start"},r.a.createElement(gw,{className:"close mr-2",icon:"arrow-left",onClick:F})),r.a.createElement("div",null,r.a.createElement("h5",{ref:M.title,className:"post-title mb-0"},r.a.createElement("span",null,t.author.id!==s.id&&!t.is_followed&&r.a.createElement(gw,{icon:"eye-off"}),t.title,W.length===t.recipients.length&&r.a.createElement(gw,{className:"ml-1",icon:"lock",strokeWidth:"2",width:14,height:14})))))),r.a.createElement("div",null,t.author.id===s.id&&!p&&r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},r.a.createElement("a",{onClick:function(){return c.showModal("edit",t)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},r.a.createElement(gw,{icon:"edit-3"})))),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return c.trash(t)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},r.a.createElement(gw,{icon:"trash"}))),r.a.createElement("li",null,r.a.createElement(_w,{className:"ml-2",item:t,width:220,moreButton:"more-horizontal"},r.a.createElement("div",{onClick:function(){return A(t)}},m.remindMeAboutThis),0===t.is_unread?r.a.createElement("div",{onClick:function(){return O(t,!0)}},m.markAsUnread):r.a.createElement("div",{onClick:function(){return E(t,!0)}},m.markAsRead),r.a.createElement("div",{onClick:function(){return g(t)}},m.share),t.author.id!==s.id&&r.a.createElement("div",{onClick:function(){return v(t)}},t.is_followed?m.unFollow:m.follow),r.a.createElement("div",{onClick:function(){return j(t)}},t.is_close?m.openThisPost:m.closeThisPost)))),t.author.id!==s.id&&r.a.createElement("div",null,r.a.createElement(_w,{className:"ml-2",item:t,width:170,moreButton:"more-horizontal"},null===t.todo_reminder&&r.a.createElement("div",{onClick:function(){return A(t)}},m.remindMeAboutThis),!B()&&r.a.createElement("div",{onClick:function(){return E(t,!0)}},m.markAsRead),r.a.createElement("div",{onClick:function(){return O(t,!0)}},m.markAsUnread),r.a.createElement("div",{onClick:function(){return g(t)}},m.share),t.author.id!==s.id&&r.a.createElement("div",{onClick:function(){return v(t)}},t.is_followed?m.unFollow:m.follow),"external"===t.author.type&&"internal"===s.type&&r.a.createElement("div",{onClick:function(){return j(t)}},t.is_close?m.openThisPost:m.closeThisPost))))),r.a.createElement(Ew,{onDragOver:function(){N(!0)}},r.a.createElement(og,{hide:!w,ref:M.dropZoneRef,onDragLeave:G,onDrop:function(e){var t=e.acceptedFiles;H(t)},onCancel:G}),r.a.createElement(_N,{post:t,user:s,postActions:c,isAuthor:t.author&&t.author.id===s.id,dictionary:m,disableOptions:p,workspaceId:u.id,disableMarkAsRead:B}),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},t.author.id!==s.id&&t.is_must_read&&t.required_users&&t.required_users.some((function(e){return e.id===s.id&&!e.must_read}))&&r.a.createElement(vw,{className:"d-sm-inline d-none"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){c.markReadRequirement(t)},disabled:p},m.markAsRead))),r.a.createElement("hr",{className:"m-0"}),r.a.createElement(YI,{dictionary:m,hasRead:I,likers:L,post:t,readByUsers:b,viewerIds:P,viewers:D,handleReaction:function(){var e={post_id:t.id,id:null,clap:0===t.user_clap_count?1:0,personalized_for_id:null};c.clap(e,(function(t,a){t&&(1===e.clap?c.unlike(e):c.like(e))})),0===t.user_clap_count?c.like(e):c.unlike(e)}}),t.files.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},m.files),r.a.createElement(Ow,{attachedFiles:t.files,type:"post",post:t})),r.a.createElement("hr",{className:"m-0"})),t.files_trashed&&t.files_trashed.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Aw,{className:"card-body"},r.a.createElement("h6",{className:"font-size-11 text-uppercase"},m.files),r.a.createElement("span",{className:"text-muted"},m.filesAutomaticallyRemoved),r.a.createElement(Ow,{attachedFiles:t.files_trashed,type:"post",post:t})),r.a.createElement("hr",{className:"m-0"})),x&&Object.keys(x).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(vN,{comments:x,post:t,user:s,commentActions:T,onShowFileDialog:U,dropAction:H,workspace:u,isMember:h,dictionary:m,disableOptions:p,postActions:c}),r.a.createElement("hr",{className:"m-0"})),r.a.createElement(aN,{post:t,posts:i,filter:o,commentActions:T,postActions:c,overview:F,onShowFileDialog:U,dropAction:H,workspace:u,isMember:h,disableOptions:p,mainInput:!0})))}));function Cw(){var e=Object(f.a)(["\n  display: inline-block;\n"]);return Cw=function(){return e},e}function Tw(){var e=Object(f.a)(["\n  min-width: ",";\n  display: flex;\n  .feather {\n    width: 18px;\n    height: 18px;\n  }\n  .chat-buttons {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    .btn-approver {\n      padding-top: 13px;\n    }\n    min-width: ",";\n    .btn-approver,\n    .btn-image,\n    .btn-smile,\n    .btn-paperclip {\n      display: ",";\n    }\n    .chat-buttons {\n      display: block;\n    }\n  }\n"]);return Tw=function(){return e},e}function yw(){var e=Object(f.a)(["\n  width: 40px;\n  height: 46px;\n  display: flex;\n  align-items: center;\n  padding: 13px 10px;\n  align-self: flex-end;\n  .feather {\n    cursor: pointer;\n  }\n  @media (max-width: 414px) {\n    width: 30px;\n    padding: 13px 2px;\n  }\n  &.btn-approver {\n    padding-top: 16px;\n  }\n"]);return yw=function(){return e},e}var Sw,kw,ww,Nw,xw,Rw,Iw,Pw,Dw,Lw,Fw,Mw,Uw=E.a.div(yw()),Gw=E.a.div(Tw(),(function(e){return e.editMode?"200px":"160px"}),(function(e){return e.showButtons&&e.editMode?"180px":e.showButtons?"150px":e.editMode?"60px":"30px"}),(function(e){return e.showButtons?"block":"none"})),Hw=Object(E.a)(lE)(Cw()),Bw=function(e){var t=e.parentId,a=e.showEmojiPicker,i=e.handleShowEmojiPicker,o=e.onShowFileDialog,c=e.editPostComment,s=e.handleQuillImage,d=e.showApprover,u=e.toggleApprover,m=e.mainInput,p=e.disableButtons,f=e.commentType,b=Object(l.useDispatch)(),h=Object(n.useState)(!1),E=Object(_.a)(h,2),O=E[0],g=E[1],v=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))};return r.a.createElement(Gw,{editMode:null!==c,showButtons:O},c&&m&&r.a.createElement(Uw,null,r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:v,content:"Close edit"},r.a.createElement(pn,{className:"close-button",icon:"x",onClick:function(){null!==c&&b(wd(null))}}))),r.a.createElement(Uw,{className:"btn-approver"},r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:v,content:"Select approver"},r.a.createElement(Hw,{name:"approve",checked:d,onClick:u,disabled:p}))),r.a.createElement(Uw,{className:"btn-smile"},r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:v,content:"Emoji"},r.a.createElement(pn,{className:"".concat(a?"active":""),onClick:i,icon:"smile"}))),r.a.createElement(Uw,{className:"btn-image"},r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:v,content:"Inline image"},r.a.createElement(pn,{icon:"image",onClick:s}))),r.a.createElement(Uw,{className:"btn-paperclip"},r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:v,content:"Attach file"},r.a.createElement(pn,{onClick:function(){p||o(t,f)},icon:"paperclip"}))),r.a.createElement(Uw,{className:"chat-buttons"},r.a.createElement(pn,{onClick:function(){g((function(e){return!e}))},icon:O?"x":"more-vertical"})))},Ww=a(106),Yw=E.a.div(Sw||(Sw=Object(f.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),Vw=E.a.div(kw||(kw=Object(f.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),Qw=Object(E.a)(pn)(ww||(ww=Object(f.a)([""]))),Kw=E.a.div(Nw||(Nw=Object(f.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),zw=E.a.div(xw||(xw=Object(f.a)(["\n  width: 100%;\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),qw=E.a.div(Rw||(Rw=Object(f.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),Jw=Object(E.a)(Pi)(Iw||(Iw=Object(f.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),Zw=E.a.div(Pw||(Pw=Object(f.a)(["\n  padding: 5px 45px;\n"]))),Xw=E.a.div(Dw||(Dw=Object(f.a)(["\n  width: 100%;\n  text-align: center;\n  padding: 15px 10px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  h4 {\n    margin: 0 10px;\n  }\n"]))),$w=Object(E.a)(pn)(Lw||(Lw=Object(f.a)(["\n  margin-right: 6px;\n  width: 20px;\n"]))),eN=E.a.div(Fw||(Fw=Object(f.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),tN=E.a.span(Mw||(Mw=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),aN=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,o=e.overview,c=e.onShowFileDialog,s=e.dropAction,d=e.post,u=e.posts,m=e.filter,p=e.parentId,f=void 0===p?null:p,b=e.commentActions,h=e.userMention,E=void 0===h?null:h,O=e.handleClearUserMention,g=void 0===O?null:O,v=e.commentId,A=void 0===v?null:v,j=e.innerRef,C=void 0===j?null:j,T=e.workspace,y=e.isMember,S=e.disableOptions,k=e.mainInput,w=d.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),N=$m(),x=Object(l.useDispatch)(),I={picker:Object(n.useRef)(),postInput:Object(n.useRef)(null)},P=Object(l.useSelector)((function(e){return e.session.user})),D=Object(l.useSelector)((function(e){return e.posts.editPostComment})),L=Object(l.useSelector)((function(e){return e.posts.changeRequestedComment})),F=Object(l.useSelector)((function(e){return e.users.users})),M=Object(n.useRef)(),U=Object(n.useState)(!1),G=Object(_.a)(U,2),H=G[0],B=G[1],W=Object(n.useState)(null),Y=Object(_.a)(W,2),V=Y[0],Q=Y[1],K=Object(n.useState)(null),z=Object(_.a)(K,2),q=z[0],J=z[1],Z=Object(n.useState)(!1),X=Object(_.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(!1),ae=Object(_.a)(te,2),ne=(ae[0],ae[1]),re=Object(n.useState)("default"),ie=Object(_.a)(re,2),oe=ie[0],ce=ie[1],se=Object(n.useState)(null),le=Object(_.a)(se,2),de=le[0],ue=le[1],me=Object(n.useState)("#cacaca"),pe=Object(_.a)(me,2),fe=pe[0],be=pe[1],he=Object(n.useState)(!1),Ee=Object(_.a)(he,2),_e=Ee[0],Oe=Ee[1],ge=Object(n.useState)([]),ve=Object(_.a)(ge,2),Ae=ve[0],je=ve[1],Ce=Object(n.useState)({approve:!1,change:!1}),Te=Object(_.a)(Ce,2),ye=Te[0],Se=Te[1],ke=Object(n.useState)(!(!w||!d.shared_with_client||"internal"!==P.type)),we=Object(_.a)(ke,2),Ne=we[0],xe=we[1],Re=Object(n.useState)(d.shared_with_client?null:"internal"),Ie=Object(_.a)(Re,2),Pe=Ie[0],De=Ie[1],Le=Object(n.useState)(null),Fe=Object(_.a)(Le,2),Me=Fe[0],Ue=Fe[1],Ge=function(){Ne||B(!H)},He=Op(),Be=vs()._t,We={unarchiveThisWorkspace:Be("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),unarchiveWorkspace:Be("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:Be("BUTTON.CANCEL","Cancel"),unarchiveBodyText:Be("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?"),workspaceIsUnarchived:Be("TOASTER.WORKSPACE_IS_UNARCHIVED","workpace is un-archived"),thisIsAnArchivedWorkspace:Be("FOOTER.THIS_IS_AN_ARCHIVED_WORKSPACE","This is an archived workpace"),noReplyAllowed:Be("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:Be("TOOLTIP.ATTACH_FILES","Attach files"),youAreViewing:Be("FOOTER.YOU_ARE_VIEWING","You are viewing"),joinWorkspace:Be("BUTTON.JOIN_WORKSPACE","Join workspace"),lockedLabel:Be("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:Be("POST.REQUEST_CHANGE","Request for change"),accept:Be("POST.ACCEPT","Accept"),requestApprovalFrom:Be("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:Be("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:Be("POST.ADDRESSED_TO","Addressed to"),selectApprover:Be("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:Be("TOOLTIP.EMOJI","Emoji"),images:Be("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:Be("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:Be("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:Be("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:Be("POST.REOPEN","Reopen"),agree:Be("POST.AGREE","Agree"),disagree:Be("POST.DISAGREE","Disagree"),overview:Be("POST.OVERVIEW","Overview"),archivePostOpenNext:Be("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next")},Ve=function(){var e={id:T.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,push_unarchived:1};x(xs(e)),He.success(r.a.createElement("span",null,r.a.createElement("b",null,T.name," ",We.workspaceIsUnarchived,".")))},Qe=d.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),Ke=[].concat(Object(Rt.a)(Object.values(F).filter((function(e){return Qe.some((function(t){return t===e.id}))&&e.id!==P.id})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:a(40).generate(),value:"all",label:"All users",icon:"users",all_ids:Qe.filter((function(e){return F[e]&&F[e].active&&e!==P.id}))}]);Ae.length&&Ae.find((function(e){return"all"===e.value}))&&(Ke=Ke.filter((function(e){return"all"===e.value})));Object(n.useEffect)((function(){if(D){var e=D.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;D.users_approval.length>0&&(Oe(!0),je(D.users_approval.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{icon:"user-avatar",value:t.id,label:t.name,type:"USER",ip_address:e?null:t.ip_address,is_approved:!e&&t.is_approved})})))),xe(!1),D.shared_with_client?De("external"):De("internal")}}),[D]);var ze=d.users_approval.length>0&&d.users_approval.filter((function(e){return null===e.ip_address})).length===d.users_approval.length,qe=d.users_approval.some((function(e){return e.id===P.id})),Je=d.users_approval.map((function(e){return e.name})),Ze=d.users_approval.length>1,Xe=d.users_approval.some((function(e){return e.id===P.id&&null!==e.ip_address}));Object(n.useEffect)((function(){L&&A&&A===L.id?(Oe(!0),je([Object(R.a)(Object(R.a)({},L.author),{},{icon:"user-avatar",value:L.author.id,label:L.author.name,type:"USER",ip_address:null,is_approved:null})])):(Oe(!1),je([]))}),[L]);var $e=d.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),et=d.recipients.find((function(e){return"USER"===e.type})),tt=d.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return r.a.createElement(Yw,{className:"post-detail-footer card-body ".concat(i)},S&&r.a.createElement(Xw,null,r.a.createElement($w,{icon:"archive"}),r.a.createElement("h4",null,We.thisIsAnArchivedWorkspace),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){x(Ye({type:"confirmation",cancelText:We.cancel,headerText:We.unarchiveWorkspace,submitText:We.unarchiveWorkspace,bodyText:We.unarchiveBodyText,actions:{onSubmit:Ve}}))}},We.unarchiveWorkspace)),r.a.createElement(Kw,{className:"d-flex pr-2 pl-2"},r.a.createElement(PI,{commentActions:b,commentId:D&&d&&D.post_id===d.id&&D.quote?D.quote.id:A,editPostComment:D,mainInput:k})),r.a.createElement(Kw,{className:"d-flex alig-items-center"},$e&&et&&r.a.createElement("div",{className:"locked-label mb-2"},We.sharedWithAdditionalPeople),$e&&tt&&r.a.createElement("div",{className:"locked-label mb-2"},We.sharedWithPublicWs),_e&&r.a.createElement(eN,null,ye.change&&qe&&r.a.createElement("label",null,We.requestChangeTo),!qe&&r.a.createElement("label",null,We.addressedTo),r.a.createElement(Yh,{options:Ke,value:Ae,onChange:function(t){null!==t&&t.length||(L&&b.clearApprovingStatus(L.id),e.handleCancelChange&&e.handleCancelChange(),ye.change&&(Se(Object(R.a)(Object(R.a)({},ye),{},{change:!1})),Oe(!1))),null===t?je([]):t.find((function(e){return"all"===e.value}))?je(t.filter((function(e){return"all"===e.value}))):je(t)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),ze&&!qe&&r.a.createElement(zw,{className:"d-flex align-items-center mb-2"},r.a.createElement("div",{className:"alert alert-primary",style:{color:"#7a1b8b"}},We.requestApprovalFrom," ",Je.join(", "))),d.is_close&&k&&r.a.createElement(qw,{className:"d-flex align-items-center"},r.a.createElement("div",{className:"alert alert-warning"},r.a.createElement("span",null,We.creatorClosedPost),(d.author.id===P.id||"external"===d.author.type&&"internal"===P.type)&&r.a.createElement("span",{onClick:function(){N.close(d)}},We.reopen))),d.is_read_only&&k&&r.a.createElement(Kw,{className:"d-flex align-items-end"},r.a.createElement(zw,{className:"d-flex align-items-center"},r.a.createElement("div",{className:"alert alert-warning"},We.noReplyAllowed))),(y&&!S||ye.change||Xe)&&!d.is_close&&!d.is_read_only&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Kw,{className:"d-flex align-items-end",backgroundSend:de,cursor:oe,fillSend:fe},r.a.createElement(Vw,{ref:C,className:"flex-grow-1 chat-input-footer",disableButtons:Ne},r.a.createElement(CE,{handleClearSent:function(){ee(!1)},sent:$,commentId:A,userMention:E,handleClearUserMention:g,commentActions:b,parentId:f,post:d,selectedGif:q,onClearGif:function(){J(null)},selectedEmoji:V,onClearEmoji:function(){Q(null)},dropAction:s,members:T?T.members:[],workspace:T||null,onActive:function(e){var t;ne(e),ue((t=e&&!Me?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),ce(t[1]),be(t[2])},onClosePicker:function(){B(!1)},ref:I.postInput,prioMentionIds:Qe,approvers:_e?Ae:[],onClearApprovers:function(){Oe(!1),je([])},onSubmitCallback:function(e,t){e||(d.is_must_reply&&d.required_users.some((function(e){return e.id===P.id&&!e.must_reply}))&&(N.markReplyRequirement(d),N.markAsRead(d)),1===d.users_approval.length&&ze&&qe&&_e&&N.approve({post_id:d.id,approved:0},(function(e,t){Se(Object(R.a)(Object(R.a)({},ye),{},{change:!1}))})),L&&b.approve({post_id:d.id,approved:0,comment_id:L.id,transfer_comment_id:t.data.id}))},isApprover:ye.change&&ze,mainInput:k,readOnly:Ne,onToggleCommentType:function(e){xe(!e),De(e)},commentType:Pe,imageLoading:Me,setImageLoading:Ue}),r.a.createElement(Bw,{parentId:f,handleQuillImage:function(){if(I.postInput&&!Ne){var e=I.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:Ge,onShowFileDialog:c,showApprover:_e,toggleApprover:function(){Ne||Oe((function(e){return!e}))},editPostComment:D,mainInput:k,disableButtons:Ne,commentType:Pe})),r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Send"},r.a.createElement(Qw,{onClick:function(){Ne||ee(!0)},icon:"send"})),!0===H&&r.a.createElement(Jw,{handleShowEmojiPicker:Ge,onSelectEmoji:function(e){Q(e)},onSelectGif:function(e){J(e)},orientation:"top",ref:I.picker})),D&&D.files.length>0&&r.a.createElement(Zw,null,D.files.map((function(e){return e.name})).join(", "))),(ze&&qe&&!ye.change||Ze&&qe&&!Xe)&&r.a.createElement(Kw,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},r.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===d.users_approval.length?(Se(Object(R.a)(Object(R.a)({},ye),{},{change:!0})),Oe(!0),je([Object(R.a)(Object(R.a)({},d.author),{},{icon:"user-avatar",value:d.author.id,label:d.author.name,type:"USER",ip_address:null,is_approved:null})])):(Se(Object(R.a)(Object(R.a)({},ye),{},{change:!0})),N.approve({post_id:d.id,approved:0},(function(e,t){if(Se(Object(R.a)(Object(R.a)({},ye),{},{change:!1})),!e){var a=1===d.users_approval.filter((function(e){return null===e.ip_address})).length,n=d.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===d.users_approval.length-1;a&&n&&N.generateSystemMessage(d,[],d.users_approval.map((function(e){return e.id})))}})))}},We.disagree," ",ye.change&&r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),r.a.createElement(Ww.a,{ref:M,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){N.showModal("confirmation",d,null,M)}},We.agree," ",ye.approve&&r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))))),!1===y&&null!==T&&!S&&r.a.createElement(Kw,{className:"channel-viewing"},r.a.createElement("div",{className:"channel-name"},We.youAreViewing," #",T.name),r.a.createElement("div",{className:"channel-action"},r.a.createElement("button",{onClick:function(){x(gm({channel_id:T.channel.id,recipient_ids:[P.id]},(function(e,t){})))}},We.joinWorkspace))),m&&("all"===m||"inbox"===m)&&r.a.createElement(Kw,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},r.a.createElement(tN,{className:"mr-3",onClick:o},r.a.createElement(pn,{className:"mr-2",icon:"corner-up-left"})," ",We.overview),r.a.createElement(tN,{onClick:function(){var e=u.reduce((function(e,t,a){return t.id===d.id&&(e=u[a+1]),e}),null);N.archivePost(d,(function(){if(e){var t=T.folder_name&&T.folder_id?"/workspace/posts/".concat(T.folder_id,"/").concat(Wt(T.folder_name),"/").concat(T.id,"/").concat(Wt(T.name)):"/workspace/posts/".concat(T.id,"/").concat(Wt(T.name));console.error("PATH",t),N.openPost(e,t)}else o()}))}},We.archivePostOpenNext," ",r.a.createElement(pn,{className:"ml-2",icon:"corner-up-right"})))))}));function nN(){var e=Object(f.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]);return nN=function(){return e},e}function rN(){var e=Object(f.a)(["\n  min-width: 150px;\n"]);return rN=function(){return e},e}function iN(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n  // .receiver.client-shared {\n  //   background: #ffdb92;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n  // .receiver.client-not-shared {\n  //   background: #d6edff;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n"]);return iN=function(){return e},e}function oN(){var e=Object(f.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]);return oN=function(){return e},e}function cN(){var e=Object(f.a)(["\n  width: 16px;\n  cursor: pointer;\n"]);return cN=function(){return e},e}function sN(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return sN=function(){return e},e}function lN(){var e=Object(f.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .author-avatar {\n    width: 40px;\n    height: 40px;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]);return lN=function(){return e},e}var dN=E.a.div(lN()),uN=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},mN=Object(E.a)(nn.a)(sN()),pN=Object(E.a)(pn)(cN()),fN=Object(E.a)(pn)(oN()),bN=E.a.div(iN()),hN=E.a.div(rN()),EN=E.a.span(nN()),_N=r.a.memo((function(e){var t=e.post,a=e.user,i=e.postActions,o=e.dictionary,c=e.disableOptions,s=e.workspaceId,d=e.disableMarkAsRead,u="external"===a.type,m=Object(l.useDispatch)(),p={container:Object(n.useRef)(null),body:Object(n.useRef)(null)},f=pp(),h=f.fileBlobs,E=f.actions.setFileSrc,O=Np(),g=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),v=Object(l.useSelector)((function(e){return e.global.recipients.filter((function(e){return t.recipient_ids.includes(e.id)})).sort((function(e,t){if(e.type!==t.type){if("TOPIC"===e.type)return-1;if("TOPIC"===t.type)return 1}return e.name.localeCompare(t.name)}))})),A=Object(n.useState)(t.is_favourite),j=Object(_.a)(A,2),C=j[0],T=j[1],y=Object(n.useState)({approve:!1,change:!1}),S=Object(_.a)(y,2),k=S[0],w=(S[1],Ap()),N=w.fromNow,x=w.localizeDate,I=xp(),P=qp(),D=Object(b.g)(),L=function(e){var a=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(a=e.target.dataset.id);else{var n=t.files.find((function(t){return t.thumbnail_link===e.srcElement.currentSrc}));n&&(a=n.id)}a&&m(Fi({file_id:parseInt(a),files:t.files}))},F=JSON.parse(localStorage.getItem("userAuthToken"));Object(n.useEffect)((function(){p.body.current&&(p.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){I.init(e)})),p.body.current.querySelectorAll("img").forEach((function(e){var a=e.getAttribute("src");if(e.classList.contains("has-listener")){var n=t.files.find((function(e){return a.includes(e.code)}));n&&h[n.id]&&(e.setAttribute("src",h[n.id]),e.setAttribute("data-id",n.id))}else{e.addEventListener("click",L,!1),e.classList.add("has-listener");var r=t.files.find((function(e){return a.includes(e.code)}));r&&h[r.id]&&(e.setAttribute("src",h[r.id]),e.setAttribute("data-id",r.id))}})));var e=t.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!h[e.id]&&t.body.includes(e.code)&&fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(F.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(a){var n=URL.createObjectURL(a);E({id:e.id,src:n}),i.updatePostImages({post_id:t.id,topic_id:s,file:Object(R.a)(Object(R.a)({},e),{},{blobUrl:n})})}),(function(e){console.log(e,"error")}))}))}),[t.body,p.body,t.files,s]);var M=function(e){var t=e.target.dataset,a=t.id,n=t.type;switch(n){case"DEPARTMENT":D.push("/chat");break;case"TOPIC":var r=g[a];r&&O.toWorkspace(r);break;case"USER":D.push("/profile/".concat(a,"/").concat(Wt(e.target.innerHTML)));break;default:console.log(a,n)}};Object(n.useEffect)((function(){p.container.current&&p.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",M)}))}));var U=t.users_approval.length>0&&t.users_approval.filter((function(e){return null===e.ip_address})).length===t.users_approval.length,G=t.users_approval.length>1,H=v.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return r.a.createElement(dN,{ref:p.container,className:"card-body"},H&&!u&&r.a.createElement(EN,{className:t.shared_with_client?"client-shared":"client-not-shared"},t.shared_with_client&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fN,{icon:"eye"}),o.sharedClientBadge),!t.shared_with_client&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fN,{icon:"eye-off"}),o.notSharedClientBadge)),r.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},r.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},r.a.createElement(kn,{className:"author-avatar mr-2 post-author",id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link}),r.a.createElement("div",null,r.a.createElement("span",{className:"author-name"},t.author.first_name),r.a.createElement(bN,null,v.length>=1&&r.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=v.some((function(e){return e.type_id===a.id})),t=P.width>576?e?4:5:e?0:1,n="",i=v.filter((function(e){return!("USER"===e.type&&e.type_id===a.id)}));i.length&&(n+=i.filter((function(e,a){return a<t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(us.renderToString)(r.a.createElement(fN,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(us.renderToString)(r.a.createElement(fN,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1">'.concat(e.name,"</span>")})).join(", ")),e&&(i.length,n+='<span class="receiver mb-1">'.concat(o.me,"</span>"));var c="";return i.length+(e?1:0)>t&&(c+=i.filter((function(e,a){return a>=t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(us.renderToString)(r.a.createElement(fN,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(us.renderToString)(r.a.createElement(fN,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),c='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(c,"</span></span>")),"".concat(n," ").concat(c)}()}})))),r.a.createElement(hN,{className:"d-inline-flex"},r.a.createElement(ow,{post:t,isBadgePill:!0,dictionary:o,user:a}),t.files.length>0&&r.a.createElement(pN,{className:"mr-2",icon:"paperclip"}),r.a.createElement(pN,{className:"mr-2",onClick:function(){c||(i.starPost(t),T(!C))},icon:"star",fill:C?"#ffc107":"none",stroke:C?"#ffc107":"currentcolor"}),!c&&!d()&&r.a.createElement(pN,{className:"mr-2",onClick:function(){i.archivePost(t)},icon:"archive"}),r.a.createElement("div",{className:"time-stamp"},r.a.createElement(mN,{arrowSize:5,distance:10,onToggle:uN,content:"".concat(x(t.created_at.timestamp))},r.a.createElement("span",{className:"text-muted"},N(t.created_at.timestamp))))))),t.files.length>0&&r.a.createElement(CN,{files:t.files}),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"w-100 post-body-content",ref:p.body,dangerouslySetInnerHTML:{__html:Es.parseEmoji(t.body)}})),(U||G)&&r.a.createElement(IN,{postBody:!0,approving:k,fromNow:N,usersApproval:t.users_approval,user:a,post:t,isMultipleApprovers:G}))}));function ON(){var e=Object(f.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return ON=function(){return e},e}var gN=E.a.div(ON()),vN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.comments,i=e.post,o=e.user,c=e.commentActions,s=e.onShowFileDialog,l=e.dropAction,d=e.workspace,u=e.isMember,m=e.dictionary,p=e.disableOptions,f=e.postActions;return r.a.createElement(gN,{className:"post-comments card-body ".concat(a)},n&&r.a.createElement("ul",null,Object.values(n).map((function(e){return r.a.createElement(yI,{key:e.id,comment:e,post:i,user:o,commentActions:c,onShowFileDialog:s,dropAction:l,workspace:d,isMember:u,dictionary:m,disableOptions:p,postActions:f})}))))}));function AN(){var e=Object(f.a)(["\n    video {\n        max-width: 100%;\n        max-height: 250px;\n    }\n"]);return AN=function(){return e},e}var jN=E.a.div(AN()),CN=function(e){var t=e.files.filter((function(e){return e.type.toLowerCase().includes("video")})),a=function(e,t){e.stopPropagation()};return t.length?r.a.createElement(jN,{className:"d-flex align-items-center"},t.map((function(e){return r.a.createElement(FA,{cbFilePreview:a,file:e,"data-file-type":e.type})}))):null};function TN(){var e=Object(f.a)(["\n  text-align: right;\n  display: flex;\n  justify-content: center;\n  .read-users-container .name {\n    color: #212529;\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return TN=function(){return e},e}function yN(){var e=Object(f.a)(["\n  .alert {\n    color: #fff !important;\n  }\n  span.approve-ip {\n    display: none;\n  }\n  :hover {\n    span.approve-ip {\n      display: block;\n    }\n  }\n"]);return yN=function(){return e},e}function SN(){var e=Object(f.a)([""]);return SN=function(){return e},e}var kN,wN,NN=E.a.div(SN()),xN=E.a.div(yN()),RN=E.a.div(TN()),IN=function(e){var t=e.fromNow,a=e.user,n=e.approving,i=e.usersApproval,o=e.handleApprove,c=void 0===o?function(){}:o,s=e.handleRequestChange,d=void 0===s?function(){}:s,u=e.postBody,m=void 0!==u&&u,p=e.post,f=e.isMultipleApprovers,b=e.isBotMessage,h=void 0!==b&&b,E=Object(l.useSelector)((function(e){return e.users.users})),_=vs()._t,O={comment:_("NOTIFICATION.COMMENT_POPUP","Made a comment in ::title::",{title:""}),requestChange:_("POST.REQUEST_CHANGE","Request for change"),hasRequestedChange:_("POST.HAS_REQUESTED_CHANGE","has requested a change."),accept:_("POST.ACCEPT","Accept"),hasAcceptedProposal:_("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),askForChange:_("POST.ASK_FOR_CHANGE","asked ::author:: for a change",{author:p.author.name}),agreedToThis:_("POST.AGREED_TO_THIS","I've agreed to this"),disagreedToThis:_("POST.DISAGREED_TO_THIS","I've disagreed to this"),agreedBy:_("POST.AGREED_BY","Agreed by"),disagreedBy:_("POST.DISAGREED_BY","Disagreed by"),agree:_("POST.AGREE","Agree"),disagree:_("POST.DISAGREE","Disagree")},g=i.find((function(e){return null!==e.ip_address&&e.is_approved})),v=i.find((function(e){return null!==e.ip_address&&!e.is_approved})),A=i.some((function(e){return e.id===a.id})),j=i.filter((function(e){return null!==e.ip_address&&e.is_approved})),C=i.filter((function(e){return null!==e.ip_address&&!e.is_approved})),T=i.filter((function(e){return null===e.ip_address})),y=j.map((function(e){return e.id})),S=Object.values(E).filter((function(e){return y.some((function(t){return t===e.id}))})),k=C.map((function(e){return e.id})),w=Object.values(E).filter((function(e){return k.some((function(t){return t===e.id}))})),N=T.map((function(e){return e.id})),x=Object.values(E).filter((function(e){return N.some((function(t){return t===e.id}))})),R=i.some((function(e){return e.id===a.id&&null!==e.ip_address})),I=i.filter((function(e){return null!==e.ip_address&&e.is_approved})).length===i.length;return r.a.createElement(NN,null,!m&&!R&&A&&r.a.createElement("div",{className:"d-flex align-items-center mt-3"},r.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:d},O.disagree," ",n.change&&r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),r.a.createElement("button",{className:"btn btn-primary",onClick:c},O.agree," ",n.approve&&r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))),h&&r.a.createElement(xN,null,r.a.createElement("div",{className:"d-flex align-items-center ".concat(I?"justify-content-center":"")},r.a.createElement("div",{className:"".concat(I?"alert alert-success":"")},r.a.createElement("span",null,I?"Everyone agreed to this post":"Everyone disagreed to this post")))),T&&!f&&r.a.createElement(RN,{className:"readers-container"},x.length>0&&r.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},r.a.createElement("span",{className:"no-readers"},_("POST.PERSON_PENDING_SINGLE","Waiting for approval from: ::name::",{name:x[0].name})),r.a.createElement("span",{className:"hover read-users-container"},x.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))}))))),g&&!f&&r.a.createElement(xN,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("span",null,g.name," ",O.hasAcceptedProposal," "),r.a.createElement("span",{className:"approve-ip"},t(g.created_at.timestamp)," - ",g.ip_address)))),v&&!f&&r.a.createElement(xN,null,v.name," ",A?O.askForChange:O.hasRequestedChange," ",r.a.createElement("span",{className:"text-muted approve-ip"},t(v.created_at.timestamp)," - ",v.ip_address)),f&&r.a.createElement(RN,{className:"readers-container"},w.length>0&&r.a.createElement("div",{className:"user-reads-container read-by badge badge-danger"},r.a.createElement("span",{className:"no-readers"},_("POST.PERSON_DISAGREED","::count:: person disagreed",{count:C.length})),r.a.createElement("span",{className:"hover read-users-container"},w.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),x.length>0&&r.a.createElement("div",{className:"user-reads-container read-by badge badge-warning"},r.a.createElement("span",{className:"no-readers"},_("POST.PERSON_PENDING","::count:: person pending",{count:x.length})),r.a.createElement("span",{className:"hover read-users-container"},x.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),S.length>0&&r.a.createElement("div",{className:"user-reads-container read-by badge badge-success"},r.a.createElement("span",{className:"no-readers"},_("POST.PERSON_APPROVED","::count:: person approved",{count:j.length})),r.a.createElement("span",{className:"hover read-users-container"},S.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))}))))))},PN=E.a.div(kN||(kN=Object(f.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),DN=Object(E.a)(pn)(wN||(wN=Object(f.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),LN=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,o=e.postLists,c=e.onGoBack,s=e.postListTag,d=e.postActions,u=Object(n.useState)(null),m=Object(_.a)(u,2),p=m[0],f=m[1],b=d.showModal,h=Object(l.useDispatch)();return r.a.createElement(PN,{className:"post-filter-item list-group list-group-flush ".concat(a)},o&&o.map((function(e){return r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(s&&parseInt(s)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){e.persist();var t={topic_id:i.id,tag:null,postListTag:e.target.dataset.id,filter:null};h(Om(t)),c(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(t){f(e.id)},onMouseLeave:function(e){return f(null)}},r.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,p&&p===e.id&&r.a.createElement("span",{className:"small ml-auto",onClick:function(t){return function(e,t){e.stopPropagation(),b("edit_post_list",t)}(t,e)}},r.a.createElement(DN,{className:"mr-0 small",icon:"edit-3"}))||r.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))}));function FN(){var e=Object(f.a)(["\n  width: 12px;\n  margin: 0;\n"]);return FN=function(){return e},e}function MN(){var e=Object(f.a)(["\n  .client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  .receiver {\n    display: inline-block;\n    align-items: center;\n  }\n  .feather-eye {\n    vertical-align: text-top;\n  }\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n"]);return MN=function(){return e},e}var UN=E.a.div(MN()),GN=Object(E.a)(pn)(FN()),HN=function(e){var t=e.classNames,a=void 0===t?"":t,n=e.dictionary,i=e.post,o=e.user,c=e.isExternalUser,s=i.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),l=qp();return r.a.createElement(UN,{className:"post-recipients ".concat(a," ").concat(s&&!c&&"has-external")},r.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=i.recipients.some((function(e){return e.type_id===o.id})),t=l.width>576?e?4:5:e?0:1,a="",d=i.recipients.filter((function(e){return!("USER"===e.type&&e.type_id===o.id)}));i.shared_with_client&&s&&!c?a+='<span class="receiver client-shared">'.concat(Object(us.renderToString)(r.a.createElement(GN,{icon:"eye"}))," ").concat(n.sharedClientBadge,"</span>"):i.shared_with_client||!s||c||(a+='<span class="receiver client-not-shared">'.concat(Object(us.renderToString)(r.a.createElement(GN,{icon:"eye-off"}))," ").concat(n.notSharedClientBadge,"</span>")),d.length&&(a+=d.filter((function(e,a){return a<t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(us.renderToString)(r.a.createElement(GN,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(us.renderToString)(r.a.createElement(GN,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(", ")),e&&(d.length,a+='<span class="receiver">'.concat(n.me,"</span>"));var u="";return d.length+(e?1:0)>t&&(u+=d.filter((function(e,a){return a>=t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span class="receiver">'.concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(us.renderToString)(r.a.createElement(GN,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(us.renderToString)(r.a.createElement(GN,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),u='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(u,"</span></span>")),"".concat(a," ").concat(u)}()}}))};function BN(){var e=Object(f.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return BN=function(){return e},e}function WN(){var e=Object(f.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return WN=function(){return e},e}function YN(){var e=Object(f.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]);return YN=function(){return e},e}function VN(){var e=Object(f.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]);return VN=function(){return e},e}function QN(){var e=Object(f.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]);return QN=function(){return e},e}var KN=E.a.div(QN()),zN=E.a.div(VN()),qN=E.a.div(YN()),JN=E.a.li(WN(),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),ZN=E.a.li(BN(),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),XN=function(e){var t=e.actions,a=e.dictionary,i=e.filter,o=e.isExternalUser,c=e.loading,s=e.posts,l=e.search,d=e.workspace,u=s.filter((function(e){return 0===e.is_unread&&0===e.unread_count})),m=s.filter((function(e){return 1===e.is_unread||e.unread_count>0})),p=Object(n.useState)({showUnread:m.length>0,showRead:0===m.length}),f=Object(_.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)([]),O=Object(_.a)(E,2),g=O[0],v=O[1],A=function(e){var t=!g.some((function(t){return t===e}))?[].concat(Object(Rt.a)(g),[e]):g.filter((function(t){return t!==e}));v(t)};return Object(n.useEffect)((function(){v([])}),[i]),Object(n.useEffect)((function(){b.showUnread||b.showRead||(m.length?h((function(e){return Object(R.a)(Object(R.a)({},e),{},{showUnread:!0})})):u.length&&h((function(e){return Object(R.a)(Object(R.a)({},e),{},{showRead:!0})})))}),[b,u,m]),r.a.createElement(r.a.Fragment,null,("all"===i||"inbox"===i)&&g.length>0&&r.a.createElement(KN,null,r.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.archiveAll({selected_post_ids:g,topic_id:d.id}),v([])}},a.archive),r.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.readAll({selected_post_ids:g,topic_id:d.id}),v([]),t.getUnreadNotificationEntries({add_unread_comment:1})}},a.markAsRead)),"draft"===i&&r.a.createElement(KN,null,r.a.createElement("button",{className:"btn all-action-button",onClick:function(){v(s.map((function(e){return e.id})))}},a.selectAll),r.a.createElement("button",{className:"btn all-action-button",onClick:function(){g.length&&g.forEach((function(e){var a=s.find((function(t){return t.id===e}));a&&t.archivePost(a)}))}},a.remove)),r.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},r.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":c},""!==l&&r.a.createElement(r.a.Fragment,null,0===s.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},a.searchNoResult," ",l):1===s.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},a.searchResult," ",l):r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},a.searchResults," ",l)),"draft"===i&&r.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},r.a.createElement("div",null,s.map((function(e){return r.a.createElement(Vk,{key:e.id,post:e,postActions:t,dictionary:a,toggleCheckbox:A,checked:g.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:o})})))),"draft"!==i&&r.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},""===l&&r.a.createElement("div",null,r.a.createElement(JN,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){b.showUnread?h({showUnread:!(u.length>0),showRead:u.length>0}):h({showUnread:!0,showRead:b.showRead})},showPosts:b.showUnread},r.a.createElement("span",{className:"badge badge-light"},r.a.createElement(pn,{icon:b.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),a.unread))),m.length>0&&r.a.createElement(zN,{className:"unread-posts-container collapse ".concat(b.showUnread||""!==l?"show":""),id:"unread-posts-container",showPosts:b.showUnread},m.map((function(e,n){return r.a.createElement(Vk,{key:e.id,firstPost:0===n,post:e,postActions:t,dictionary:a,toggleCheckbox:A,checked:g.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:o})}))),""===l&&r.a.createElement("div",null,r.a.createElement(ZN,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){b.showRead?h({showUnread:m.length>0,showRead:!(m.length>0)}):h({showUnread:m.length>0,showRead:u.length>0})},showPosts:b.showRead},r.a.createElement("span",{className:"badge badge-light"},r.a.createElement(pn,{icon:b.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),a.allOthers))),u.length>0&&r.a.createElement(qN,{className:"read-posts-container collapse ".concat(b.showRead||""!==l?"show":""),showPosts:b.showRead},u.map((function(e,n){return r.a.createElement(Vk,{key:e.id,firstPost:0===n,post:e,postActions:t,dictionary:a,toggleCheckbox:A,checked:g.some((function(t){return t===e.id})),hasUnread:!1,isExternalUser:o})})))))))};function $N(){var e=Object(f.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return $N=function(){return e},e}var ex=E.a.div($N()),tx=function(e){var t=e.actions,a=e.dictionary,n=e.disableOptions,i=e.isMember;return r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement(ex,null,r.a.createElement(bn,{icon:3,height:252}),i&&r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){t.showModal("create")},disabled:n},a.createNewPost)))};function ax(){var e=Object(f.a)(["\n  border-radius: 6px;\n  font-size: 11px;\n  display: inline-flex;\n  margin-bottom: 5px;\n  margin-left: -30px;\n  padding: 2px 5px;\n  align-items: center;\n  > svg {\n    width: 12px;\n    height: 12px;\n  }\n  &.client-shared {\n    background: #ffdb92;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n  &.client-not-shared {\n    background: #d6edff;\n    color: #212529;\n    margin-right: 5px;\n    .feather {\n      margin-right: 5px;\n    }\n  }\n"]);return ax=function(){return e},e}function nx(){var e=Object(f.a)(["\n  min-width: 150px;\n"]);return nx=function(){return e},e}function rx(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  padding-bottom: 3px;\n\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n    z-index: 1;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n      border-radius: unset;\n    }\n  }\n  .receiver {\n    align-items: center;\n    display: inline-flex;\n    > svg {\n      margin-left: 5px;\n    }\n  }\n  // .receiver.client-shared {\n  //   background: #ffdb92;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n  // .receiver.client-not-shared {\n  //   background: #d6edff;\n  //   color: #212529;\n  //   margin-right: 5px;\n  //   .feather {\n  //     margin-right: 5px;\n  //   }\n  // }\n"]);return rx=function(){return e},e}function ix(){var e=Object(f.a)(["\n  width: 12px;\n  vertical-align: top;\n  margin-right: 0;\n"]);return ix=function(){return e},e}function ox(){var e=Object(f.a)(["\n  width: 16px;\n  cursor: pointer;\n"]);return ox=function(){return e},e}function cx(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return cx=function(){return e},e}function sx(){var e=Object(f.a)(["\n  position: relative;\n  flex: unset;\n  svg {\n    cursor: pointer;\n    margin-right: 5px;\n  }\n  .recipients svg {\n    margin: 0;\n  }\n\n  .avatar.post-author {\n    min-width: 45px;\n  }\n\n  .author-name {\n    display: block;\n    font-size: 14px;\n    font-weight: 500;\n    color: rgb(80, 80, 80);\n    .dark & {\n      color: #c7c7c7;\n    }\n  }\n  .recipients {\n    color: #8b8b8b;\n    font-size: 10px;\n  }\n\n  .ellipsis-hover {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .recipient-names {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n  }\n\n  .recipient-names {\n    transition: all 0.5s ease;\n    position: absolute;\n    top: 20px;\n    left: -2px;\n    width: 200px;\n    border-radius: 8px;\n    overflow-y: auto;\n    border: 1px solid #fff;\n    box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n    background: #fff;\n    max-height: 0;\n    opacity: 0;\n\n    &:hover {\n      max-height: 300px;\n      opacity: 1;\n    }\n\n    .dark & {\n      border: 1px solid #25282c;\n      background: #25282c;\n    }\n\n    > span {\n      display: block;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding: 0.25rem 0.5rem;\n    }\n  }\n"]);return sx=function(){return e},e}var lx=E.a.div(sx()),dx=function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},ux=Object(E.a)(nn.a)(cx()),mx=Object(E.a)(pn)(ox()),px=Object(E.a)(pn)(ix()),fx=E.a.div(rx()),bx=E.a.div(nx()),hx=E.a.span(ax()),Ex=r.a.memo((function(e){var t=e.post,a=e.user,i=e.postActions,o=e.dictionary,c=e.disableOptions,s=e.disableMarkAsRead,d="external"===a.type,u=Object(l.useDispatch)(),m={container:Object(n.useRef)(null),body:Object(n.useRef)(null)},p=pp(),f=p.fileBlobs,h=p.actions.setFileSrc,E=Np(),O=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),g=Object(l.useSelector)((function(e){return e.global.recipients.filter((function(e){return t.recipient_ids.includes(e.id)})).sort((function(e,t){if(e.type!==t.type){if("TOPIC"===e.type)return-1;if("TOPIC"===t.type)return 1}return e.name.localeCompare(t.name)}))})),v=Object(n.useState)(t.is_favourite),A=Object(_.a)(v,2),j=A[0],C=A[1],T=Object(n.useState)({approve:!1,change:!1}),y=Object(_.a)(T,2),S=y[0],k=(y[1],Ap()),w=k.fromNow,N=k.localizeDate,x=xp(),I=qp(),P=Object(b.g)(),D=function(e){var a=null;if(e.srcElement.currentSrc.startsWith("blob"))e.target.dataset.id&&(a=e.target.dataset.id);else{var n=t.files.find((function(t){return t.thumbnail_link===e.srcElement.currentSrc}));n&&(a=n.id)}a&&u(Fi({file_id:parseInt(a),files:t.files}))},L=JSON.parse(localStorage.getItem("userAuthToken"));Object(n.useEffect)((function(){m.body.current&&(m.body.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){x.init(e)})),m.body.current.querySelectorAll("img").forEach((function(e){var a=e.getAttribute("src");if(e.classList.contains("has-listener")){var n=t.files.find((function(e){return a.includes(e.code)}));n&&f[n.id]&&(e.setAttribute("src",f[n.id]),e.setAttribute("data-id",n.id))}else{e.addEventListener("click",D,!1),e.classList.add("has-listener");var r=t.files.find((function(e){return a.includes(e.code)}));r&&f[r.id]&&(e.setAttribute("src",f[r.id]),e.setAttribute("data-id",r.id))}})));var e=t.files.filter((function(e){return e.type.includes("image")}));e.length&&e.forEach((function(e){f[e.id]||fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(L.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(a){var n=URL.createObjectURL(a);h({id:e.id,src:n}),i.updatePostImages({post_id:t.id,topic_id:null,file:Object(R.a)(Object(R.a)({},e),{},{blobUrl:n})})}),(function(e){console.log(e,"error")}))}))}),[t.body,m.body,t.files]);var F=function(e){var t=e.target.dataset,a=t.id,n=t.type;switch(n){case"DEPARTMENT":P.push("/chat");break;case"TOPIC":var r=O[a];r&&E.toWorkspace(r);break;case"USER":P.push("/profile/".concat(a,"/").concat(Wt(e.target.innerHTML)));break;default:console.log(a,n)}};Object(n.useEffect)((function(){m.container.current&&m.container.current.querySelectorAll('.receiver[data-init="0"]').forEach((function(e){e.dataset.init=1,e.addEventListener("click",F)}))}));var M=t.users_approval.length>0&&t.users_approval.filter((function(e){return null===e.ip_address})).length===t.users_approval.length,U=t.users_approval.length>1,G=g.some((function(e){return"TOPIC"===e.type&&e.is_shared}));return r.a.createElement(lx,{ref:m.container,className:"card-body"},G&&!d&&r.a.createElement(hx,{className:t.shared_with_client?"client-shared":"client-not-shared"},t.shared_with_client&&r.a.createElement(r.a.Fragment,null,r.a.createElement(px,{icon:"eye"}),o.sharedClientBadge),!t.shared_with_client&&r.a.createElement(r.a.Fragment,null,r.a.createElement(px,{icon:"eye-off"}),o.notSharedClientBadge)),r.a.createElement("div",{className:"d-flex align-items-center p-l-r-0 m-b-20"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-muted w-100"},r.a.createElement("div",{className:"d-inline-flex justify-content-center align-items-start"},r.a.createElement(kn,{className:"mr-2 post-author",id:t.author.id,name:t.author.name,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link}),r.a.createElement("div",null,r.a.createElement("span",{className:"author-name"},t.author.first_name),r.a.createElement(fx,null,g.length>=1&&r.a.createElement("span",{className:"recipients",dangerouslySetInnerHTML:{__html:function(){var e=g.some((function(e){return e.type_id===a.id})),t=I.width>576?e?4:5:e?0:1,n="",i=g.filter((function(e){return!("USER"===e.type&&e.type_id===a.id)}));i.length&&(n+=i.filter((function(e,a){return a<t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(us.renderToString)(r.a.createElement(px,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(us.renderToString)(r.a.createElement(px,{icon:"eye"})):"","</span>"):'<span class="receiver mb-1">'.concat(e.name,"</span>")})).join(", ")),e&&(i.length,n+='<span class="receiver mb-1">'.concat(o.me,"</span>"));var c="";return i.length+(e?1:0)>t&&(c+=i.filter((function(e,a){return a>=t})).map((function(e){return["DEPARTMENT","TOPIC"].includes(e.type)?'<span data-init="0" data-id="'.concat(e.type_id,'" data-type="').concat(e.type,'" class="receiver mb-1">').concat(e.name," ").concat("TOPIC"===e.type&&1===e.private?Object(us.renderToString)(r.a.createElement(px,{icon:"lock"})):""," ").concat("TOPIC"===e.type&&e.is_shared?Object(us.renderToString)(r.a.createElement(px,{icon:"eye"})):"","</span>"):'<span class="receiver">'.concat(e.name,"</span>")})).join(""),c='<span class="ellipsis-hover">... <span class="recipient-names">'.concat(c,"</span></span>")),"".concat(n," ").concat(c)}()}})))),r.a.createElement(bx,{className:"d-inline-flex"},r.a.createElement(ow,{post:t,isBadgePill:!0,dictionary:o,user:a}),t.files.length>0&&r.a.createElement(mx,{className:"mr-2",icon:"paperclip"}),r.a.createElement(mx,{className:"mr-2",onClick:function(){c||(i.starPost(t),C(!j))},icon:"star",fill:j?"#ffc107":"none",stroke:j?"#ffc107":"currentcolor"}),!c&&!s()&&r.a.createElement(mx,{className:"mr-2",onClick:function(){i.archivePost(t)},icon:"archive"}),r.a.createElement("div",{className:"time-stamp"},r.a.createElement(ux,{arrowSize:5,distance:10,onToggle:dx,content:"".concat(N(t.created_at.timestamp))},r.a.createElement("span",{className:"text-muted"},w(t.created_at.timestamp))))))),t.files.length>0&&r.a.createElement(CN,{files:t.files}),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"w-100 post-body-content",ref:m.body,dangerouslySetInnerHTML:{__html:Es.parseEmoji(t.body)}})),(M||U)&&r.a.createElement(IN,{postBody:!0,approving:S,fromNow:w,usersApproval:t.users_approval,user:a,post:t,isMultipleApprovers:U}))}));function _x(){var e=Object(f.a)(["\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin-left: auto;\n  }\n  > ul {\n    width: 100%;\n  }\n"]);return _x=function(){return e},e}var Ox=E.a.div(_x()),gx=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.comments,i=e.post,o=e.user,c=e.commentActions,s=e.onShowFileDialog,l=e.dropAction,d=e.workspace,u=e.isMember,m=void 0===u||u,p=e.dictionary,f=e.disableOptions,b=void 0!==f&&f,h=e.postActions;return r.a.createElement(Ox,{className:"post-comments card-body ".concat(a)},n&&r.a.createElement("ul",null,Object.values(n).map((function(e){return r.a.createElement(yI,{key:e.id,comment:e,post:i,user:o,commentActions:c,onShowFileDialog:s,dropAction:l,workspace:d,isMember:m,dictionary:p,disableOptions:b,isCompanyPost:!0,postActions:h})}))))}));function vx(){var e=Object(f.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]);return vx=function(){return e},e}function Ax(){var e=Object(f.a)(["\n  cursor: pointer;\n"]);return Ax=function(){return e},e}function jx(){var e=Object(f.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]);return jx=function(){return e},e}function Cx(){var e=Object(f.a)(["\n  li {\n    display: inline-block;\n\n    &:not(:last-child) {\n      margin-right: 1rem;\n    }\n\n    .feather-paperclip {\n      margin-right: 0.5rem;\n    }\n  }\n"]);return Cx=function(){return e},e}function Tx(){var e=Object(f.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  height: 36px;\n  width: 40px;\n  align-items: center;\n  justify-content: center;\n  .feather-more-horizontal {\n    width: 25px;\n    height: 24px;\n  }\n  .more-options-tooltip {\n    left: auto;\n    right: 0;\n    top: 28px;\n    width: 250px;\n\n    svg {\n      width: 14px;\n    }\n  }\n"]);return Tx=function(){return e},e}function yx(){var e=Object(f.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n\n  .receiver {\n    border-radius: 6px;\n    padding: 3px 5px;\n    background-color: rgba(210, 210, 210, 0.2);\n    font-size: 11px;\n    margin-right: 3px;\n    cursor: pointer;\n  }\n\n  a {\n    color: #7a1b8b;\n    text-decoration: underline;\n\n    .dark & {\n      color: #7a1b8b !important;\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      .not-read-users-container,\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .not-read-users-container,\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n      background: #fff;\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    position: relative;\n    display: inline-flex;\n    margin-right: 0.5rem;\n\n    .not-read-users-container,\n    .read-users-container {\n      transition: all 0.5s ease;\n      position: absolute;\n      right: 0;\n      bottom: 30px;\n      border: 1px solid #dee2e6;\n      border-radius: 6px;\n      background-color: #fff;\n      overflow: auto;\n      opacity: 0;\n      max-height: 0;\n\n      &:hover {\n        opacity: 1;\n        max-height: 165px;\n      }\n\n      .dark & {\n        background-color: #25282c;\n        border: 1px solid #25282c;\n      }\n\n      > span {\n        padding: 0.5rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n\n        .avatar {\n          img {\n            min-width: 2.3rem;\n          }\n        }\n\n        .name {\n          width: 100%;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: block;\n        }\n      }\n    }\n  }\n\n  .user-reads-container {\n    span.not-readers:hover ~ span.not-read-users-container,\n    span.no-readers:hover ~ span.read-users-container {\n      opacity: 1;\n      max-height: 165px;\n    }\n  }\n"]);return yx=function(){return e},e}function Sx(){var e=Object(f.a)(["\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  min-height: 70px;\n  > div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ul {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0;\n    padding: 0;\n    li {\n      list-style: none;\n      .post-title {\n        width: 100%;\n      }\n    }\n  }\n\n  .company-post-detail-header {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .close {\n    .dark & {\n      color: #fff;\n    }\n  }\n\n  .author-name {\n    color: #a7abc3;\n    font-size: 14px;\n  }\n"]);return Sx=function(){return e},e}var kx,wx,Nx,xx,Rx,Ix,Px,Dx,Lx,Fx,Mx,Ux=E.a.div(Sx()),Gx=E.a.div(yx()),Hx=Object(E.a)(Uf)(Tx()),Bx=Object(E.a)(Hc)(Cx()),Wx=Object(E.a)(pn)(jx()),Yx=E.a.div(Ax()),Vx=E.a.div(vx()),Qx=function(e){var t=e.post,i=e.posts,o=e.filter,c=e.postActions,s=e.user,d=e.onGoBack,u=e.dictionary,m=e.readByUsers,p=void 0===m?[]:m,f=c.markAsRead,b=c.markAsUnread,h=c.sharePost,E=c.followPost,O=c.remind,g=c.close,v=Object(l.useDispatch)(),A=rp(),j=Object(l.useSelector)((function(e){return e.users.users})),C=Object(n.useState)(!1),T=Object(_.a)(C,2),y=T[0],S=T[1],k=np(t).comments,w=p.some((function(e){return e.id===s.id})),N=Object(Rt.a)(new Set(t.view_user_ids)),x=Object.values(j).filter((function(e){return N.some((function(t){return t===e.id}))})),I=Object.values(j).filter((function(e){return t.clap_user_ids.some((function(t){return t===e.id}))})),P=function(){d()},D={dropZoneRef:Object(n.useRef)(null)},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(Id(e)),c.setCommentType(t),D.dropZoneRef.current&&D.dropZoneRef.current.open()},F=function(){S(!1)},M=function(e){var n=[];e.forEach((function(e){var t=new FormData;t.append("file",e);var r=a(40).generate();"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type||"image/webp"===e.type?n.push(Object(R.a)(Object(R.a)({},e),{},{type:"IMAGE",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):"video/mp4"===e.type?n.push(Object(R.a)(Object(R.a)({},e),{},{type:"VIDEO",id:r,status:!1,src:URL.createObjectURL(e),bodyFormData:t,name:e.name?e.name:e.path})):n.push(Object(R.a)(Object(R.a)({},e),{},{type:"DOC",id:r,status:!1,src:"#",bodyFormData:t,name:e.name?e.name:e.path}))})),F(),v(Ye({type:"file_upload",droppedFiles:n,mode:"post",post:t}))},U=t.users_responsible.some((function(e){return e.id===s.id})),G=function(){var e=t.users_approval.length>0&&t.users_approval.some((function(e){return null===e.ip_address&&e.id===s.id}));if(t.is_must_read&&t.author.id!==s.id){if(t.is_must_read&&t.required_users&&t.required_users.some((function(e){return e.id===s.id&&!e.must_read})))return!0}else{if(!t.is_must_reply||t.author.id===s.id)return!!e;if(t.required_users&&t.required_users.some((function(e){return e.id===s.id&&!e.must_reply})))return!0}};return Object(n.useEffect)((function(){return t.view_user_ids.some((function(e){return e===s.id}))||G()||c.visit({post_id:t.id,personalized_for_id:null}),(1===t.is_unread||t.unread_count>0||!t.is_updated)&&(G()||c.markAsRead(t)),"undefined"===typeof t.fetchedReact&&c.fetchPostClapHover(t.id),c.getUnreadNotificationEntries({add_unread_comment:1}),function(){return c.getUnreadNotificationEntries({add_unread_comment:1})}}),[]),r.a.createElement(r.a.Fragment,null,null!==t.todo_reminder&&r.a.createElement(os,{todoReminder:t.todo_reminder,type:"POST"}),r.a.createElement(Ux,{className:"card-header d-flex justify-content-between"},r.a.createElement("div",{className:"d-flex flex-column align-items-start"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"align-self-start"},r.a.createElement(Wx,{className:"close mr-2",icon:"arrow-left",onClick:P})),r.a.createElement("div",null,r.a.createElement("h5",{ref:D.title,className:"post-title mb-0"},r.a.createElement("span",null,t.author.id!==s.id&&!t.is_followed&&r.a.createElement(Wx,{icon:"eye-off"}),t.title))))),r.a.createElement("div",null,t.author.id===s.id&&r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{"data-toggle":"modal","data-target":"#editTaskModal"},r.a.createElement("a",{onClick:function(){return c.showModal("edit_company",t)},className:"btn btn-outline-light ml-2",title:"","data-toggle":"tooltip","data-original-title":"Edit Task"},r.a.createElement(Wx,{icon:"edit-3"})))),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return c.trash(t)},className:"btn btn-outline-light ml-2","data-toggle":"tooltip",title:"","data-original-title":"Delete Task"},r.a.createElement(Wx,{icon:"trash"})))),r.a.createElement("div",null,r.a.createElement(Hx,{className:"ml-2",item:t,width:220,moreButton:"more-horizontal"},null===t.todo_reminder&&r.a.createElement("div",{onClick:function(){return O(t)}},u.remindMeAboutThis),0===t.is_unread?r.a.createElement("div",{onClick:function(){return b(t,!0)}},u.markAsUnread):G()?null:r.a.createElement("div",{onClick:function(){return f(t,!0)}},u.markAsRead),r.a.createElement("div",{onClick:function(){return h(t)}},u.share),t.author.id!==s.id&&r.a.createElement("div",{onClick:function(){return E(t)}},t.is_followed?u.unFollow:u.follow),(t.author&&t.author.id===s.id||"external"===t.author.type&&"internal"===s.type)&&r.a.createElement("div",{onClick:function(){return g(t)}},t.is_close?u.openThisPost:u.closeThisPost))))),r.a.createElement(Gx,{onDragOver:function(){S(!0)}},r.a.createElement(og,{hide:!y,ref:D.dropZoneRef,onDragLeave:F,onDrop:function(e){var t=e.acceptedFiles;M(t)},onCancel:F}),r.a.createElement(Ex,{post:t,user:s,postActions:c,isAuthor:t.author.id===s.id,dictionary:u,disableMarkAsRead:G}),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center mb-3"},t.author.id!==s.id&&t.is_must_read&&t&&t.required_users&&t.required_users.some((function(e){return e.id===s.id&&!e.must_read}))&&r.a.createElement(Yx,{className:"d-sm-inline d-none"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){c.markReadRequirement(t)}},u.markAsRead))),r.a.createElement("hr",{className:"m-0"}),r.a.createElement(YI,{dictionary:u,hasRead:w,likers:I,post:t,readByUsers:p,viewerIds:N,viewers:x,handleReaction:function(){var e={post_id:t.id,id:null,clap:0===t.user_clap_count?1:0,personalized_for_id:null};c.clap(e,(function(t,a){t&&(1===e.clap?c.unlike(e):c.like(e))})),0===t.user_clap_count?c.like(e):c.unlike(e)}}),t.files.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-3 font-size-11 text-uppercase"},u.files),r.a.createElement(Bx,{attachedFiles:t.files,type:"post",post:t})),r.a.createElement("hr",{className:"m-0"})),t.files_trashed&&t.files_trashed.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Vx,{className:"card-body"},r.a.createElement("h6",{className:"font-size-11 text-uppercase"},u.files),r.a.createElement("span",{className:"text-muted"},u.filesAutomaticallyRemoved),r.a.createElement(Bx,{attachedFiles:t.files_trashed,type:"post",post:t})),r.a.createElement("hr",{className:"m-0"})),k&&Object.keys(k).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gx,{comments:k,post:t,user:s,commentActions:A,onShowFileDialog:L,dropAction:M,dictionary:u,postActions:c}),r.a.createElement("hr",{className:"m-0"})),r.a.createElement(nR,{isMember:U,post:t,posts:i,filter:o,commentActions:A,postActions:c,overview:P,onShowFileDialog:L,dropAction:M,mainInput:!0})))},Kx=E.a.div(kx||(kx=Object(f.a)(["\n  position: relative;\n  z-index: 3;\n  .feather-send {\n    border: 1px solid #e1e1e1;\n    height: 100%;\n    cursor: pointer;\n    width: 48px;\n    border-radius: 8px;\n    transition: background-color 0.15s ease-in-out;\n    padding: 12px;\n    margin-right: 1rem;\n    @media (max-width: 480px) {\n      margin-right: 0;\n    }\n  }\n  .chat-input-wrapper {\n    display: flex;\n    flex-grow: 1;\n    flex-flow: column;\n    .quill {\n      width: 100%;\n    }\n  }\n"]))),zx=E.a.div(wx||(wx=Object(f.a)(["\n  position: relative;\n  border: 1px solid #e1e1e1;\n  box-shadow: 0 3px 10px #7a1b8b12;\n  border-radius: 8px;\n  margin-right: 8px;\n  min-height: 48px;\n  display: flex;\n  .feather-approver,\n  .feather-image,\n  .feather-paperclip,\n  .feather-smile {\n    border-radius: 4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n  }\n  .feather-smile {\n    background: transparent;\n    border-color: transparent;\n    transition: color 0.15s ease-in-out;\n    color: #cacaca;\n    &.active {\n      color: #7a1b8b;\n    }\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.disableButtons?"inherit":"#7a1b8b"}),(function(e){return e.disableButtons?"inherit":"#7a1b8b"})),qx=Object(E.a)(pn)(Nx||(Nx=Object(f.a)([""]))),Jx=E.a.div(xx||(xx=Object(f.a)(["\n  .feather-send {\n    background: "," !important;\n    fill: ",";\n    &:hover {\n      cursor: ",";\n    }\n  }\n  &.channel-viewing {\n    display: flex;\n    flex-wrap: wrap;\n    background-color: #f8f8f8;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    padding: 20px 0;\n    > div {\n      flex: 0 1 100%;\n    }\n\n    .channel-name {\n      color: #64625c;\n      font-size: 17px;\n      font-weight: 600;\n    }\n    .channel-create {\n      letter-spacing: 0;\n      color: #b8b8b8;\n      font-weight: normal;\n      font-size: 19px;\n      text-transform: lowercase;\n      margin-bottom: 16px;\n    }\n    .channel-action {\n      button {\n        background: #7a1b8b;\n        color: #fff;\n        border: none;\n        padding: 8px 15px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n  @media all and (max-width: 620px) {\n    .emojiButton {\n      display: none;\n    }\n    svg.feather-send {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.backgroundSend}),(function(e){return e.fillSend}),(function(e){return e.cursor})),Zx=E.a.div(Rx||(Rx=Object(f.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    text-align: center;\n  }\n  .request-approval {\n    color: #7a1b8b;\n  }\n"]))),Xx=E.a.div(Ix||(Ix=Object(f.a)(["\n  width: 100%;\n\n  .alert {\n    width: 100%;\n    margin-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n    span:last-child {\n      cursor: pointer;\n    }\n  }\n"]))),$x=Object(E.a)(Pi)(Px||(Px=Object(f.a)(["\n  right: 130px;\n  bottom: 120px;\n\n  @media (max-width: 414px) {\n    right: 5px;\n    bottom: 150px;\n  }\n\n  .common-picker-btn {\n    text-align: right;\n  }\n"]))),eR=E.a.div(Dx||(Dx=Object(f.a)(["\n  padding: 5px 45px;\n"]))),tR=E.a.div(Lx||(Lx=Object(f.a)(["\n  padding-right: 55px;\n  display: flex;\n  padding-bottom: 10px;\n  margin-left: auto;\n  flex-direction: column;\n  > div.react-select-container {\n    width: 300px;\n  }\n"]))),aR=E.a.span(Fx||(Fx=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]))),nR=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,o=e.overview,c=e.onShowFileDialog,s=e.dropAction,d=e.post,u=e.posts,m=e.filter,p=e.parentId,f=void 0===p?null:p,b=e.commentActions,h=e.userMention,E=void 0===h?null:h,O=e.handleClearUserMention,g=void 0===O?null:O,v=e.commentId,A=void 0===v?null:v,j=e.innerRef,C=void 0===j?null:j,T=e.mainInput,y=d.recipients.some((function(e){return"TOPIC"===e.type&&e.is_shared})),S=$m(),k={picker:Object(n.useRef)(),postInput:Object(n.useRef)(null)},w=Object(l.useSelector)((function(e){return e.session.user})),N=Object(l.useSelector)((function(e){return e.users.users})),x=Object(l.useSelector)((function(e){return e.posts.editPostComment})),I=Object(l.useSelector)((function(e){return e.posts.changeRequestedComment})),P=Object(n.useRef)(),D=Object(n.useState)(!1),L=Object(_.a)(D,2),F=L[0],M=L[1],U=Object(n.useState)(null),G=Object(_.a)(U,2),H=G[0],B=G[1],W=Object(n.useState)(null),Y=Object(_.a)(W,2),V=Y[0],Q=Y[1],K=Object(n.useState)(!1),z=Object(_.a)(K,2),q=z[0],J=z[1],Z=Object(n.useState)(!1),X=Object(_.a)(Z,2),$=(X[0],X[1]),ee=Object(n.useState)("default"),te=Object(_.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(null),ie=Object(_.a)(re,2),oe=ie[0],ce=ie[1],se=Object(n.useState)("#cacaca"),le=Object(_.a)(se,2),de=le[0],ue=le[1],me=Object(n.useState)(!1),pe=Object(_.a)(me,2),fe=pe[0],be=pe[1],he=Object(n.useState)([]),Ee=Object(_.a)(he,2),_e=Ee[0],Oe=Ee[1],ge=Object(n.useState)({approve:!1,change:!1}),ve=Object(_.a)(ge,2),Ae=ve[0],je=ve[1],Ce=Object(n.useState)(!(!y||!d.shared_with_client||"internal"!==w.type)),Te=Object(_.a)(Ce,2),ye=Te[0],Se=Te[1],ke=Object(n.useState)(d.shared_with_client?null:"internal"),we=Object(_.a)(ke,2),Ne=we[0],xe=we[1],Re=Object(n.useState)(null),Ie=Object(_.a)(Re,2),Pe=Ie[0],De=Ie[1],Le=function(){ye||M(!F)},Fe=vs()._t,Me={noReplyAllowed:Fe("FOOTER.NO_REPLY_ALLOWED","No reply allowed"),attachFiles:Fe("TOOLTIP.ATTACH_FILES","Attach files"),lockedLabel:Fe("CHAT.INFO_PRIVATE_WORKSPACE","You are in a private workspace."),requestChange:Fe("POST.REQUEST_CHANGE","Request for change"),accept:Fe("POST.ACCEPT","Accept"),requestApprovalFrom:Fe("POST.REQUEST_APPROVAL_FROM","Request approval from"),requestChangeTo:Fe("POST.REQUEST_CHANGE_TO","Request change to"),addressedTo:Fe("POST.ADDRESSED_TO","Addressed to"),selectApprover:Fe("TOOLTIP.SELECT_APPROVER","Select approver"),emoji:Fe("TOOLTIP.EMOJI","Emoji"),images:Fe("TOOLTIP.IMAGES","Images"),sharedWithAdditionalPeople:Fe("POST.INFO_SHARED_WITH_PEOPLE","Your comment is published in secured workspace(s) & shared with additional people"),sharedWithPublicWs:Fe("POST.INFO_SHARED_WITH_PUBLIC_WS","Your comment is published in secured workspace(s) & public workspace(s)"),creatorClosedPost:Fe("POST.CREATOR_CLOSED_POST","The creator closed this post for commenting"),reopen:Fe("POST.REOPEN","Reopen"),agree:Fe("POST.AGREE","Agree"),disagree:Fe("POST.DISAGREE","Disagree"),overview:Fe("POST.OVERVIEW","Overview"),archivePostOpenNext:Fe("POST.ARCHIVE_POST_OPEN_NEXT","Archive Post & open next")},Ue=d.recipients.filter((function(e){return"DEPARTMENT"!==e.type})).map((function(e){return"USER"===e.type?[e.type_id]:e.participant_ids})).flat(),Ge=[].concat(Object(Rt.a)(Object.values(N).filter((function(e){return Ue.some((function(t){return t===e.id}))&&e.id!==w.id})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{icon:"user-avatar",value:e.id,label:e.name?e.name:e.email,type:"USER"})}))),[{id:a(40).generate(),value:"all",label:"All users",icon:"users",all_ids:Ue.filter((function(e){return N[e]&&N[e].active&&e!==w.id}))}]);_e.length&&_e.find((function(e){return"all"===e.value}))&&(Ge=Ge.filter((function(e){return"all"===e.value})));Object(n.useEffect)((function(){if(x){var e=x.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length;x.users_approval.length>0&&(be(!0),Oe(x.users_approval.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{icon:"user-avatar",value:t.id,label:t.name,type:"USER",ip_address:e?null:t.ip_address,is_approved:!e&&t.is_approved})})))),Se(!1),x.shared_with_client?xe("external"):xe("internal")}}),[x]);var He=d.users_approval.length>0&&d.users_approval.filter((function(e){return null===e.ip_address})).length===d.users_approval.length,Be=d.users_approval.some((function(e){return e.id===w.id})),We=d.users_approval.map((function(e){return e.name})),Ye=d.users_approval.length>1,Ve=d.users_approval.some((function(e){return e.id===w.id&&null!==e.ip_address}));Object(n.useEffect)((function(){I&&A&&A===I.id?(be(!0),Oe([Object(R.a)(Object(R.a)({},I.author),{},{icon:"user-avatar",value:I.author.id,label:I.author.name,type:"USER",ip_address:null,is_approved:null})])):(be(!1),Oe([]))}),[I]);var Qe=d.recipients.find((function(e){return"TOPIC"===e.type&&1===e.private})),Ke=d.recipients.find((function(e){return"USER"===e.type})),ze=d.recipients.find((function(e){return"TOPIC"===e.type&&0===e.private}));return r.a.createElement(Kx,{className:"company-post-detail-footer card-body ".concat(i)},r.a.createElement(Jx,{className:"d-flex pr-2 pl-2"},r.a.createElement(PI,{commentActions:b,commentId:x&&d&&x.post_id===d.id&&x.quote?x.quote.id:A,editPostComment:x,mainInput:T})),r.a.createElement(Jx,{className:"d-flex alig-items-center"},Qe&&Ke&&r.a.createElement("div",{className:"locked-label mb-2"},Me.sharedWithAdditionalPeople),Qe&&ze&&r.a.createElement("div",{className:"locked-label mb-2"},Me.sharedWithPublicWs),fe&&r.a.createElement(tR,null,Ae.change&&Be&&r.a.createElement("label",null,Me.requestChangeTo),!Be&&r.a.createElement("label",null,Me.addressedTo),r.a.createElement(Yh,{options:Ge,value:_e,onChange:function(t){null!==t&&t.length||(I&&b.clearApprovingStatus(I.id),e.handleCancelChange&&e.handleCancelChange(),Ae.change&&(je(Object(R.a)(Object(R.a)({},Ae),{},{change:!1})),be(!1))),null===t?Oe([]):t.find((function(e){return"all"===e.value}))?Oe(t.filter((function(e){return"all"===e.value}))):Oe(t)},isMulti:!0,isClearable:!0,menuPlacement:"top"}))),He&&!Be&&r.a.createElement(Zx,{className:"d-flex align-items-center mb-2"},r.a.createElement("div",{className:"alert alert-primary request-approval"},Me.requestApprovalFrom," ",We.join(", "))),d.is_close&&T&&r.a.createElement(Xx,{className:"d-flex align-items-center"},r.a.createElement("div",{className:"alert alert-warning"},r.a.createElement("span",null,Me.creatorClosedPost),(d.author.id===w.id||"external"===d.author.type&&"internal"===w.type)&&r.a.createElement("span",{onClick:function(){S.close(d)}},Me.reopen))),d.is_read_only&&T&&r.a.createElement(Jx,{className:"d-flex align-items-end"},r.a.createElement(Zx,{className:"d-flex align-items-center"},r.a.createElement("div",{className:"alert alert-warning"},Me.noReplyAllowed))),!d.is_close&&!d.is_read_only&&r.a.createElement(Jx,{className:"d-flex align-items-end",backgroundSend:oe,cursor:ae,fillSend:de},r.a.createElement(zx,{ref:C,className:"flex-grow-1 chat-input-footer",disableButtons:ye},r.a.createElement(HE,{handleClearSent:function(){J(!1)},sent:q,commentId:A,userMention:E,handleClearUserMention:g,commentActions:b,parentId:f,post:d,selectedGif:V,onClearGif:function(){Q(null)},selectedEmoji:H,onClearEmoji:function(){B(null)},dropAction:s,members:d.users_responsible,onActive:function(e){var t;$(e),ce((t=e&&!Pe?["#7a1b8b","pointer","#fff"]:["","default","#cacaca"])[0]),ne(t[1]),ue(t[2])},onClosePicker:function(){M(!1)},ref:k.postInput,prioMentionIds:Ue,approvers:fe?_e:[],onClearApprovers:function(){be(!1),Oe([])},onSubmitCallback:function(e,t){e||(d.is_must_reply&&d.required_users.some((function(e){return e.id===w.id&&!e.must_reply}))&&(S.markReplyRequirement(d),S.markAsRead(d)),1===d.users_approval.length&&He&&Be&&fe&&S.approve({post_id:d.id,approved:0},(function(e,t){je(Object(R.a)(Object(R.a)({},Ae),{},{change:!1}))})),I&&b.approve({post_id:d.id,approved:0,comment_id:I.id,transfer_comment_id:t.data.id}))},isApprover:Ae.change&&He,mainInput:T,readOnly:ye,onToggleCommentType:function(e){Se(!e),xe(e)},commentType:Ne,imageLoading:Pe,setImageLoading:De}),r.a.createElement(Bw,{parentId:f,handleQuillImage:function(){if(k.postInput&&!ye){var e=k.postInput.current.parentNode.querySelector("button.ql-image");e&&e.click()}},handleShowEmojiPicker:Le,onShowFileDialog:c,showApprover:fe,toggleApprover:function(){ye||be((function(e){return!e}))},editPostComment:x,mainInput:T,disableButtons:ye,commentType:Ne})),r.a.createElement(nn.a,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Send"},r.a.createElement(qx,{onClick:function(){ye||J(!0)},icon:"send"})),!0===F&&r.a.createElement($x,{handleShowEmojiPicker:Le,onSelectEmoji:function(e){B(e)},onSelectGif:function(e){Q(e)},orientation:"top",ref:k.picker})),x&&x.files.length>0&&r.a.createElement(eR,null,x.files.map((function(e){return e.name})).join(", ")),(He&&Be&&!Ae.change||Ye&&Be&&!Ve)&&r.a.createElement(Jx,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},r.a.createElement("button",{className:"btn btn-outline-primary mr-3",onClick:function(){1===d.users_approval.length?(je(Object(R.a)(Object(R.a)({},Ae),{},{change:!0})),be(!0),Oe([Object(R.a)(Object(R.a)({},d.author),{},{icon:"user-avatar",value:d.author.id,label:d.author.name,type:"USER",ip_address:null,is_approved:null})])):(je(Object(R.a)(Object(R.a)({},Ae),{},{change:!0})),S.approve({post_id:d.id,approved:0},(function(e,t){if(je(Object(R.a)(Object(R.a)({},Ae),{},{change:!1})),!e){var a=1===d.users_approval.filter((function(e){return null===e.ip_address})).length,n=d.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===d.users_approval.length-1;a&&n&&S.generateSystemMessage(d,[],d.users_approval.map((function(e){return e.id})))}})))}},Me.disagree," ",Ae.change&&r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"})),r.a.createElement(Ww.a,{ref:P,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){S.showModal("confirmation",d,null,P)}},Me.agree," ",Ae.approve&&r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}))))),m&&("all"===m||"inbox"===m)&&r.a.createElement(Jx,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},r.a.createElement(aR,{className:"mr-3",onClick:o},r.a.createElement(pn,{className:"mr-2",icon:"corner-up-left"})," ",Me.overview),r.a.createElement(aR,{onClick:function(){var e=u.reduce((function(e,t,a){return t.id===d.id&&(e=u[a+1]),e}),null);S.archivePost(d,(function(){e?S.openPost(e,"/posts"):o()}))}},Me.archivePostOpenNext," ",r.a.createElement(pn,{className:"ml-2",icon:"corner-up-right"})))))})),rR=E.a.div(Mx||(Mx=Object(f.a)(['\n  > span {\n    cursor: pointer;\n    cursor: hand;\n\n    &.active {\n      border-color: #ebebeb !important;\n\n      &:after {\n        content: "";\n        width: 3px;\n        height: 100%;\n        background: #7a1b8b;\n        display: block;\n        position: absolute;\n        top: 0;\n        animation: fadeIn 0.15s linear;\n        left: 0;\n      }\n    }\n\n    svg {\n      width: 16px;\n    }\n  }\n']))),iR=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.filter,o=void 0===i?"inbox":i,c=e.onGoBack,s=e.counters,d=e.dictionary,u=$m(),m=u.setCompanyFilterPosts,p=u.fetchCompanyPosts,f=Object(l.useSelector)((function(e){return e.global.unreadCounter})),b=Object(l.useSelector)((function(e){return e.posts.archived})),h=Object(n.useState)(!1),E=Object(_.a)(h,2),O=E[0],g=E[1],v=function(e){if(e.persist(),"archive"!==e.target.dataset.value||0!==b.skip||O||(g(!0),p({skip:0,limit:25,filters:["post","archived"]},(function(){return g(!1)}))),e.target.dataset.value===o)c();else{var t={filter:e.target.dataset.value,tag:null};m(t),c()}document.body.classList.remove("mobile-modal-open")};return r.a.createElement(rR,{className:"post-filter-item list-group list-group-flush ".concat(a)},r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(o&&"inbox"===o?"active":""),"data-value":"inbox",onClick:v},r.a.createElement(pn,{className:"mr-2",icon:"inbox"}),d.inbox,f.general_post>0&&r.a.createElement("span",{className:"small ml-auto"},f.general_post)),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(o&&"all"===o?"active":""),"data-value":"all",onClick:v},r.a.createElement(pn,{className:"mr-2",icon:"mail"}),d.all),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(o&&"my_posts"===o?"active":""),"data-value":"my_posts",onClick:v},r.a.createElement(pn,{className:"mr-2",icon:"send-post"}),d.myPosts),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(o&&"star"===o?"active":""),"data-value":"star",onClick:v},r.a.createElement(pn,{className:"mr-2",icon:"star"}),d.starred),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(o&&"archive"===o?"active":""),"data-value":"archive",onClick:v},r.a.createElement(pn,{className:"mr-2",icon:"archive"}),d.archived),r.a.createElement("span",{className:"list-group-item d-flex align-items-center ".concat(o&&"draft"===o?"active":""),"data-value":"draft",onClick:v},r.a.createElement(pn,{className:"mr-2",icon:"edit-3"}),d.drafts,r.a.createElement("span",{className:"small ml-auto"},s.drafts>0&&s.drafts)))}));function oR(){var e=Object(f.a)(["\n  overflow: unset !important;\n\n  .action-left {\n    ul.list-inline {\n      margin-bottom: 0;\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .action-right {\n    margin: 0 !important;\n  }\n"]);return oR=function(){return e},e}var cR,sR=E.a.div(oR()),lR=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.search,i=e.dictionary;return r.a.createElement(sR,{className:"post-filter-search-panel app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement(wR,{search:n,placeholder:i.searchPost})))})),dR=E.a.div(cR||(cR=Object(f.a)(["\n  a {\n    cursor: pointer;\n  }\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n"]))),uR=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.tag,i=e.count,o=e.onGoBack,c=e.dictionary,s=$m().setCompanyFilterPosts,l=function(e){e.persist();var t={tag:e.target.dataset.value,filter:null};n===e.target.dataset.value&&(t=Object(R.a)(Object(R.a)({},t),{},{tag:null,filter:"all"})),s(t),o(),document.body.classList.remove("mobile-modal-open")};return r.a.createElement(dR,{className:"list-group list-group-flush ".concat(a)},r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(n&&"is_must_reply"===n?"active":""),"data-value":"is_must_reply",onClick:l},r.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),c.replyRequired,r.a.createElement("span",{className:"small ml-auto"},i&&i.is_must_reply>0&&i.is_must_reply)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(n&&"is_must_read"===n?"active":""),"data-value":"is_must_read",onClick:l},r.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),c.mustRead,r.a.createElement("span",{className:"small ml-auto"},i&&i.is_must_read>0&&i.is_must_read)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(n&&"is_read_only"===n?"active":""),"data-value":"is_read_only",onClick:l},r.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),c.noReplies,r.a.createElement("span",{className:"small ml-auto"},i&&i.is_read_only>0&&i.is_read_only)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(n&&"is_unread"===n?"active":""),"data-value":"is_unread",onClick:l},r.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),c.unread,r.a.createElement("span",{className:"small ml-auto"},i&&i.is_unread>0&&i.is_unread)),r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(n&&"is_close"===n?"active":""),"data-value":"is_close",onClick:l},r.a.createElement("span",{className:"text-closed fa fa-circle mr-2"}),c.closed,r.a.createElement("span",{className:"small ml-auto"},i&&i.is_close>0&&i.is_close)))}));function mR(){var e=Object(f.a)(["\n  display: inline-block;\n  > svg {\n    width: 0.9rem;\n    height: 0.9rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]);return mR=function(){return e},e}function pR(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]);return pR=function(){return e},e}function fR(){var e=Object(f.a)(["\n  &.custom-checkbox {\n    padding: 0;\n  }\n  label {\n    margin: 0;\n  }\n"]);return fR=function(){return e},e}function bR(){var e=Object(f.a)(["\n  position: relative;\n  .feather-corner-up-right {\n    position: absolute;\n    top: -23px;\n    right: 17px;\n  }\n"]);return bR=function(){return e},e}function hR(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n  font-weight: 400;\n  font-size: 11px;\n"]);return hR=function(){return e},e}function ER(){var e=Object(f.a)(["\n  width: 16px;\n"]);return ER=function(){return e},e}function _R(){var e=Object(f.a)(["\n  flex-flow: column;\n  .post-recipients {\n    margin-bottom: 0.5rem;\n  }\n  .post-recipients.has-external {\n    margin-left: -25px;\n  }\n  .feather-eye-off {\n    position: relative;\n    top: -1px;\n    margin-right: 0.25rem;\n    width: 12px;\n  }\n  &:first-of-type {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  &:last-of-type {\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .custom-checkbox {\n    padding-left: 12px;\n  }\n\n  .app-list-title {\n    color: #343a40;\n    font-weight: normal;\n    width: 100%;\n    //padding-left: 2.5rem;\n    overflow: inherit;\n    //width: calc(100% - ","px);\n\n    &.has-unread {\n      font-weight: bold;\n\n      .post-partialBody {\n        color: #343a40;\n        font-weight: normal;\n\n        .dark & {\n          color: #c7c7c7;\n        }\n      }\n    }\n\n    &.text-success {\n      text-decoration: line-through;\n    }\n\n    .time-stamp {\n      margin-left: 1rem;\n      font-weight: 400;\n      font-size: 11px;\n    }\n  }\n\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n\n  &:hover {\n    .more-options,\n    .hover-btns {\n      display: inline-block;\n    }\n  }\n\n  .more-options {\n    padding: 0 4px;\n    svg {\n      width: 16px;\n    }\n  }\n  .feather {\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  .post-partialBody {\n    color: #b8b8b8 !important;\n    font-weight: 400;\n  }\n\n  .post-read-title {\n    color: #363636;\n  }\n  .author-avatar {\n    img {\n      width: 100%;\n      height: 100%;\n    }\n    @media (max-width: 991.99px) {\n    img {\n      width: 2rem;\n      height: 2rem;\n    }\n  }\n\n  // .ellipsis-hover {\n  //   position: relative;\n  //   cursor: pointer;\n\n  //   &:hover {\n  //     .recipient-names {\n  //       opacity: 1;\n  //       max-height: 300px;\n  //     }\n  //   }\n  // }\n"]);return _R=function(){return e},e}var OR,gR=E.a.li(_R(),(function(e){return e.appListWidthDiff})),vR=Object(E.a)(pn)(ER()),AR=E.a.div(hR()),jR=E.a.div(bR()),CR=Object(E.a)(mE)(fR()),TR=E.a.div(pR()),yR=E.a.div(mR()),SR=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isExternalUser,o=e.post,c=e.dictionary,s=e.disableOptions,d=e.toggleCheckbox,u=e.checked,m=e.hasUnread,p=e.postActions,f=p.starPost,b=p.openPost,h=p.archivePost,E=p.markAsRead,O=p.markAsUnread,g=p.sharePost,v=p.followPost,A=p.remind,j=p.showModal,C=p.close,T=p.disconnectPostList,y=Object(l.useSelector)((function(e){return e.session.user})),S=Object(l.useSelector)((function(e){return e.workspaces.flipper})),k=Ap().fromNow,w=Object(n.useState)(0),N=Object(_.a)(w,2),x=N[0],R=N[1],I=function(){var e=o.users_approval.length>0&&o.users_approval.some((function(e){return null===e.ip_address&&e.id===y.id}));if(o.is_must_read&&o.author.id!==y.id){if(o.is_must_read&&o.required_users&&o.required_users.some((function(e){return e.id===y.id&&!e.must_read})))return!0}else{if(!o.is_must_reply||o.author.id===y.id)return!!e;if(o.required_users&&o.required_users.some((function(e){return e.id===y.id&&!e.must_reply})))return!0}};return r.a.createElement(gR,{"data-toggle":S?"1":"0",appListWidthDiff:x+50,className:"list-group-item post-item-panel ".concat(m?"has-unread":""," ").concat(a," pl-3"),onClick:function(){return b(o,"/posts")}},r.a.createElement(HN,{post:o,user:y,dictionary:c,isExternalUser:i,classNames:"text-truncate"}),r.a.createElement(TR,null,r.a.createElement(CR,{name:"test",checked:u,onClick:function(){return d(o.id)},disabled:I()}),r.a.createElement(jR,{className:"d-flex ml-2 mr-2"},r.a.createElement(kn,{title:"FROM: ".concat(o.author.name),className:"author-avatar mr-2",id:o.author.id,name:o.author.name,imageLink:o.author.profile_image_thumbnail_link?o.author.profile_image_thumbnail_link:o.author.profile_image_link})),r.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-grow-1 min-width-0 mr-1"},r.a.createElement("div",{className:"app-list-title text-truncate ".concat(m?"has-unread":"")},r.a.createElement("div",{className:"text-truncate d-flex"},r.a.createElement("span",{className:"text-truncate"},o.author.id!==y.id&&!o.is_followed&&r.a.createElement(vR,{icon:"eye-off"}),o.title),r.a.createElement(yR,{className:"hover-btns ml-1"},"draft_post"!==o.type&&!s&&o.author.id===y.id&&r.a.createElement(vR,{icon:"pencil",onClick:function(e){e.preventDefault(),e.stopPropagation(),j("edit",o)}}),!s&&!I()&&r.a.createElement(vR,{icon:"archive",onClick:function(e){e.preventDefault(),e.stopPropagation(),h(o)}}))),r.a.createElement(AR,null,0!==o.unread_count&&r.a.createElement("div",{className:"mr-2 badge badge-secondary text-white text-9"},o.unread_count," new"),r.a.createElement("div",{className:"text-muted"},0===o.reply_count?c.noComment:1===o.reply_count?c.oneComment:c.comments.replace("::comment_count::",o.reply_count)),r.a.createElement("span",{className:"time-stamp text-muted"},r.a.createElement("span",null,k(o.updated_at.timestamp)))))),r.a.createElement(ow,{post:o,dictionary:c,user:y,cbGetWidth:R}),r.a.createElement("div",{className:"d-flex"},"draft_post"!==o.type&&!s&&r.a.createElement(Uf,{className:"d-flex ml-2",item:o,width:220,moreButton:"more-horizontal"},null===o.todo_reminder&&r.a.createElement("div",{onClick:function(){return A(o)}},c.remindMeAboutThis),o.author&&o.author.id===y.id&&r.a.createElement("div",{onClick:function(){return j("edit_company",o)}},c.editPost),0===o.is_unread?r.a.createElement("div",{onClick:function(){return O(o,!0)}},c.markAsUnread):I()?null:r.a.createElement("div",{onClick:function(){return E(o,!0)}},c.markAsRead),r.a.createElement("div",{onClick:function(){return g(o)}},c.share),o.author&&o.author.id!==y.id&&r.a.createElement("div",{onClick:function(){return v(o)}},o.is_followed?c.unFollow:c.follow),r.a.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),s||f(o)}},o.is_favourite?c.unStar:c.star),(o.author&&o.author.id===y.id||"external"===o.author.type&&"internal"===y.type)&&r.a.createElement("div",{onClick:function(){return C(o)}},o.is_close?c.openThisPost:c.closeThisPost),o.post_list_connect&&r.a.createElement("div",{onClick:function(){return function(){if(1!==o.post_list_connect.length)j("add_to_list",o);else{var e={link_id:o.post_list_connect[0].id,post_id:o.id};T(e,(function(e,t){console.log(e,t)}))}}()}},1===o.post_list_connect.length?c.removeToList:c.addToList)))))})),kR=E.a.div(OR||(OR=Object(f.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]))),wR=r.a.memo((function(e){var t=e.search,a=e.placeholder,i=Object(l.useDispatch)(),o=Object(n.useState)(t),c=Object(_.a)(o,2),s=c[0],d=c[1],u=Object(Kt.debounce)((function(e){var t;(i(Qd({search:e,search_result:[]})),""!==e)&&i((t=function(t,a){t||i(Qd({search:e,search_result:a.data.posts}))},Ia($({search:e}),"SEARCH_COMPANY_POSTS_START","SEARCH_COMPANY_POSTS_SUCCESS","SEARCH_COMPANY_POSTS_FAIL",t)))}),500);return r.a.createElement(kR,{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:a,value:s,"aria-describedby":"button-addon1",onKeyDown:function(e){"Enter"===e.key&&u(s)},onChange:function(e){d(e.target.value),u(e.target.value.trim())}}),""!==t.trim()&&r.a.createElement("button",{onClick:function(){d(""),i(Qd({search:"",search_result:[]}))},className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:u},r.a.createElement("i",{className:"ti-search"}))))}));function NR(){var e=Object(f.a)([""]);return NR=function(){return e},e}function xR(){var e=Object(f.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]);return xR=function(){return e},e}function RR(){var e=Object(f.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return RR=function(){return e},e}var IR,PR,DR=E.a.div(RR()),LR=Object(E.a)(pn)(xR()),FR=E.a.div(NR()),MR=r.a.memo((function(e){var t=e.workspace,a=e.filter,n=e.tag,i=e.postListTag,o=e.count,c=e.postLists,s=e.counters,l=e.postActions,d=e.onGoBack,u=e.dictionary,m=e.disableOptions;return r.a.createElement(DR,{className:"col-md-3 app-sidebar bottom-modal-mobile"},r.a.createElement(FR,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"bottom-modal-mobile_inner"},r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},r.a.createElement("div",{className:"card-body create-new-post-wrapper"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){l.showModal("create_company")},disabled:m},u.createNewPost)),r.a.createElement(iR,{filter:a,tag:n,onGoBack:d,counters:s,dictionary:u}),r.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},r.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},u.category,r.a.createElement("span",{className:"ml-auto",onClick:function(){l.showModal("create_edit_post_list")},disabled:m},r.a.createElement(LR,{className:"mr-0",icon:"plus"})))),r.a.createElement(uR,{count:o,workspace:t,tag:n,onGoBack:d,dictionary:u}),r.a.createElement(HR,{postLists:c,tag:n,postListTag:i,onGoBack:d,dictionary:u,postActions:l}))))})),UR=E.a.div(IR||(IR=Object(f.a)(["\n  a {\n    cursor: pointer;\n  }\n"]))),GR=Object(E.a)(pn)(PR||(PR=Object(f.a)(["\n  width: 1em;\n  vertical-align: bottom;\n  margin-right: 40px;\n\n  &:hover {\n    color: #000000;\n  }\n"]))),HR=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.postLists,o=e.tag,c=e.postListTag,s=e.onGoBack,l=Object(n.useState)(null),d=Object(_.a)(l,2),u=d[0],m=d[1],p=$m(),f=p.setCompanyFilterPosts,b=p.showModal;return r.a.createElement(UR,{className:"post-filter-item list-group list-group-flush ".concat(a)},i&&i.map((function(e){return r.a.createElement("a",{className:"list-group-item d-flex align-items-center ".concat(c&&parseInt(c)===e.id?"active":""),"data-value":e.name.toLowerCase(),"data-id":e.id,key:e.id,onClick:function(e){return function(e){var t={tag:null,postListTag:e.target.dataset.id,filter:null};o===e.target.dataset.id&&(t=Object(R.a)(Object(R.a)({},t),{},{tag:null,filter:"all"})),f(t),s(),document.body.classList.remove("mobile-modal-open")}(e)},onMouseOver:function(t){m(e.id)},onMouseLeave:function(e){return m(null)}},r.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),e.name,u&&u===e.id&&r.a.createElement("span",{className:"small ml-auto",onClick:function(t){return function(e,t){e.stopPropagation(),b("edit_post_list",t)}(t,e)}},r.a.createElement(GR,{className:"mr-0 small",icon:"edit-3"}))||r.a.createElement("span",{className:"small ml-auto"},e.total_post_connected>0?e.total_post_connected:""))})))}));function BR(){var e=Object(f.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return BR=function(){return e},e}var WR=E.a.div(BR()),YR=function(e){var t=e.actions,a=e.dictionary;return r.a.createElement("div",{className:"card card-body app-content-body"},r.a.createElement(WR,null,r.a.createElement(bn,{icon:3,height:252}),r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:function(){t.showModal("create_company")}},a.createNewPost)))};function VR(){var e=Object(f.a)(["\n  border-radius: ",";\n  border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return VR=function(){return e},e}function QR(){var e=Object(f.a)(["\n  border-radius: 6px 6px 0 0 !important;\n  border-bottom: 1px solid #ebebeb;\n  // border-bottom: ",";\n  .badge-light {\n    background: rgb(175, 184, 189, 0.2);\n    .dark & {\n      color: #fff;\n    }\n  }\n"]);return QR=function(){return e},e}function KR(){var e=Object(f.a)(["\n  li {\n    border-radius: 0 !important;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]);return KR=function(){return e},e}function zR(){var e=Object(f.a)(["\n  li {\n    border-radius: 0 !important;\n  }\n"]);return zR=function(){return e},e}function qR(){var e=Object(f.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]);return qR=function(){return e},e}var JR,ZR,XR,$R,eI,tI,aI,nI,rI,iI,oI,cI=E.a.div(qR()),sI=E.a.div(zR()),lI=E.a.div(KR()),dI=E.a.li(QR(),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),uI=E.a.li(VR(),(function(e){return e.showPosts?"0":"0 0 6px 6px !important"}),(function(e){return e.showPosts?"0":"1px solid #ebebeb"})),mI=function(e){var t=e.actions,a=e.dictionary,i=e.filter,o=e.isExternalUser,c=e.loading,s=e.posts,l=e.search,d=s.filter((function(e){return 0===e.is_unread&&0===e.unread_count})),u=s.filter((function(e){return 1===e.is_unread||e.unread_count>0})),m=Object(n.useState)({showUnread:u.length>0,showRead:0===u.length}),p=Object(_.a)(m,2),f=p[0],b=p[1],h=Object(n.useState)([]),E=Object(_.a)(h,2),O=E[0],g=E[1],v=function(e){var t=!O.some((function(t){return t===e}))?[].concat(Object(Rt.a)(O),[e]):O.filter((function(t){return t!==e}));g(t)};return Object(n.useEffect)((function(){g([])}),[i]),Object(n.useEffect)((function(){f.showUnread||f.showRead||(u.length?b((function(e){return Object(R.a)(Object(R.a)({},e),{},{showUnread:!0})})):d.length&&b((function(e){return Object(R.a)(Object(R.a)({},e),{},{showRead:!0})})))}),[f,d,u]),r.a.createElement(r.a.Fragment,null,("all"===i||"inbox"===i)&&O.length>0&&r.a.createElement(cI,null,r.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.archiveAll({selected_post_ids:O}),g([])}},a.archive),r.a.createElement("button",{className:"btn all-action-button",onClick:function(){t.readAll({selected_post_ids:O}),g([]),t.getUnreadNotificationEntries({add_unread_comment:1})}},a.markAsRead)),"draft"===i&&r.a.createElement(cI,null,r.a.createElement("button",{className:"btn all-action-button",onClick:function(){g(s.map((function(e){return e.id})))}},a.selectAll),r.a.createElement("button",{className:"btn all-action-button",onClick:function(){O.length&&O.forEach((function(e){var a=s.find((function(t){return t.id===e}));a&&t.archivePost(a)}))}},a.remove)),r.a.createElement("div",{className:"card card-body app-content-body mb-4 unset-flex"},r.a.createElement("div",{className:"app-lists",tabIndex:"1","data-loaded":"0","data-loading":c},""!==l&&r.a.createElement(r.a.Fragment,null,0===s.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},a.searchNoResult," ",l):1===s.length?r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},a.searchResult," ",l):r.a.createElement("h6",{className:"search-title card-title font-size-11 text-uppercase mb-4"},a.searchResults," ",l)),"draft"===i&&r.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},r.a.createElement("div",null,s.map((function(e){return r.a.createElement(SR,{key:e.id,post:e,postActions:t,dictionary:a,toggleCheckbox:v,checked:O.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:o})})))),"draft"!==i&&r.a.createElement("ul",{className:"list-group list-group-flush ui-sortable fadeIn"},""===l&&r.a.createElement("div",null,r.a.createElement(dI,{className:"list-group-item post-item-panel pl-3 unread-posts-header",onClick:function(){f.showUnread?b({showUnread:!(d.length>0),showRead:d.length>0}):b({showUnread:!0,showRead:f.showRead})},showPosts:f.showUnread},r.a.createElement("span",{className:"badge badge-light"},r.a.createElement(pn,{icon:f.showUnread?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),a.unread))),u.length>0&&r.a.createElement(sI,{className:"unread-posts-container collapse ".concat(f.showUnread||""!==l?"show":""," fadeIn"),id:"unread-posts-container",showPosts:f.showUnread},u.map((function(e){return r.a.createElement(SR,{key:e.id,post:e,postActions:t,dictionary:a,toggleCheckbox:v,checked:O.some((function(t){return t===e.id})),hasUnread:!0,isExternalUser:o})}))),""===l&&r.a.createElement("div",null,r.a.createElement(uI,{className:"list-group-item post-item-panel pl-3 other-posts-header",onClick:function(){f.showRead?b({showUnread:u.length>0,showRead:!(u.length>0)}):b({showUnread:u.length>0,showRead:d.length>0})},showPosts:f.showRead},r.a.createElement("span",{className:"badge badge-light"},r.a.createElement(pn,{icon:f.showRead?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),a.allOthers))),d.length>0&&r.a.createElement(lI,{className:"read-posts-container collapse ".concat(f.showRead||""!==l?"show":""," fadeIn"),showPosts:f.showRead},d.map((function(e){return r.a.createElement(SR,{key:e.id,post:e,postActions:t,dictionary:a,toggleCheckbox:v,checked:O.some((function(t){return t===e.id})),hasUnread:!1,isExternalUser:o})})))))))},pI=function(e){var t=e.users,a=Object(n.useState)(!1),i=Object(_.a)(a,2),o=i[0],c=i[1],s=Object(n.useState)(null),l=Object(_.a)(s,2),d=l[0],u=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"hover read-users-container"},t.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id,onClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),c(!0),u(t)}(t,e)}})," ",r.a.createElement("span",{className:"name"},e.name))}))),o&&r.a.createElement(vn.a,{appear:!0,in:o,timeout:300,classNames:"slide"},r.a.createElement(gn,{id:d?d.id:null,onShowPopup:function(){return c((function(e){return!e}))},showPopup:o,orientation:{vertical:"bottom",horizontal:"left"}})))},fI=E.a.div(JR||(JR=Object(f.a)(["\n  .profile-slider {\n    left: 0 !important;\n    right: unset !important;\n    bottom: 30px !important;\n    top: unset !important;\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]))),bI=Object(E.a)(pn)(ZR||(ZR=Object(f.a)(["\n  width: 16px;\n"]))),hI=E.a.span(XR||(XR=Object(f.a)(["\n  cursor: pointer;\n"]))),EI=function(e){var t=e.comment,a=e.dictionary,n=e.disableOptions,i=e.likers,o=e.post,c=e.handleReaction,s=e.handleShowInput,l=function(){return o.post_reads?o.post_reads.filter((function(e){return(t.shared_with_client||"internal"===e.type)&&e.last_read_timestamp>=t.updated_at.timestamp})):[]};return r.a.createElement(fI,{className:"d-flex align-items-center justify-content-start"},r.a.createElement("div",{className:"clap-count-wrapper"},r.a.createElement(bI,{className:t.user_clap_count?"mr-2 comment-reaction clap-true":"mr-2 comment-reaction clap-false",icon:"thumbs-up",onClick:c}),t.clap_count,0!==i.length&&r.a.createElement("span",{className:"hover read-users-container"},i.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),!o.is_read_only&&!n&&!o.is_close&&r.a.createElement(hI,{className:"ml-3",onClick:s},a.comment),r.a.createElement("div",{className:"user-reads-container"},r.a.createElement("span",{className:"no-readers"},r.a.createElement(bI,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),l().length),r.a.createElement(pI,{users:l()})))},_I=E.a.li($R||($R=Object(f.a)(['\n  margin-bottom: 1rem;\n  overflow: initial;\n\n  &.important {\n    background: #6a5acd !important;\n    color: #fff;\n    .text-muted {\n      color: #fffafa !important;\n    }\n  }\n\n  .mention {\n    font-weight: bold;\n    color: #7a1b8b;\n    &[data-value="All"],\n    &[data-id="','"] {\n      font-weight: normal;\n      box-shadow: none;\n      padding: 0 4px;\n      border-radius: 8px;\n      text-decoration: underline;\n      display: inline-block;\n      width: auto;\n      height: auto;\n    }\n  }\n\n  .quote {\n    margin: 0 auto 0.5rem;\n    width: 95%;\n    position: relative;\n    padding: 0 1rem;\n    color: #868686;\n    border-left: 4px solid #972c86;\n\n    // &:before {\n    //   border: 10px solid #0000;\n    //   border-right-color: #36393d;\n    // }\n\n    // &.border-side {\n    //   border-left: 5px solid #822492;\n    //   border-radius: 0 !important;\n    // }\n\n    > * {\n      margin-bottom: 0;\n    }\n  }\n\n  .quote-author {\n    margin-top: 1rem;\n    margin-left: 2.5%;\n    margin-bottom: 0.5rem;\n  }\n\n  .files {\n    margin-bottom: 1rem;\n\n    li {\n      display: inline-block;\n\n      &:not(:last-child) {\n        margin-right: 1rem;\n      }\n\n      .feather-paperclip {\n        margin-right: 0.5rem;\n      }\n    }\n  }\n\n  .clap-count-wrapper {\n    position: relative;\n\n    &:hover {\n      .read-users-container {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .read-users-container {\n      position: absolute;\n      left: 22px;\n      z-index: 1;\n      bottom: 0;\n      border-radius: 8px;\n      opacity: 0;\n      max-height: 0;\n      transition: all 0.5s ease;\n      overflow-y: auto;\n      background: #fff;\n      border: 1px solid #fff;\n      box-shadow: 0 5px 10px -1px rgba(0, 0, 0, 0.15);\n\n      &:hover {\n        max-height: 300px;\n        opacity: 1;\n      }\n\n      .dark & {\n        border: 1px solid #25282c;\n        background: #25282c;\n      }\n\n      > span {\n        padding: 0.25rem 0.5rem 0.25rem 0.25rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: start;\n\n        .avatar {\n          min-width: 1.5rem;\n          max-width: 1.5rem;\n          width: 1.5rem;\n          height: 1.5rem;\n        }\n        .name {\n          display: block;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n      }\n    }\n  }\n'])),(function(e){return e.userId})),OI=E.a.li(eI||(eI=Object(f.a)(["\n  overflow: initial;\n  z-index: 10;\n"]))),gI=E.a.div(tI||(tI=Object(f.a)(["\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .comment-reaction {\n    cursor: pointer;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n"]))),vI=E.a.div(aI||(aI=Object(f.a)(["\n  .more-options {\n    margin-left: auto;\n    width: 28px;\n    height: 28px;\n    padding: 6px 0 0 5px;\n    svg {\n      width: 1rem;\n      height: 1rem;\n    }\n  }\n"]))),AI=E.a.div(nI||(nI=Object(f.a)(["\n  img {\n    max-width: 50%;\n    @media (max-width: 991.99px) {\n      max-width: 100%;\n    }\n  }\n  ul {\n    padding-left: 40px;\n    li {\n      list-style: initial;\n    }\n  }\n"]))),jI=E.a.div(rI||(rI=Object(f.a)(["\n  h6 {\n    margin: 0;\n  }\n  .text-muted {\n    font-size: 0.75rem;\n  }\n  .file-attachments {\n    margin-top: 1rem;\n  }\n"]))),CI=Object(E.a)(aN)(iI||(iI=Object(f.a)([""]))),TI=Object(E.a)(nR)(oI||(oI=Object(f.a)([""]))),yI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.comment,o=e.post,c=e.type,s=void 0===c?"main":c,d=e.user,u=e.commentActions,m=e.parentId,p=e.onShowFileDialog,f=e.dropAction,h=e.parentShowInput,E=void 0===h?null:h,O=e.workspace,g=e.isMember,v=e.dictionary,A=e.disableOptions,j=e.isCompanyPost,C=void 0!==j&&j,T=e.postActions,y=Object(l.useDispatch)(),S={input:Object(n.useRef)(null),body:Object(n.useRef)(null),main:Object(n.useRef)(null),content:Object(n.useRef)(null)},k=Object(n.useRef)(),w=pp(),N=w.fileBlobs,x=w.actions.setFileSrc,I=Object(b.g)(),P=xp(),D=Object(l.useSelector)((function(e){return e.users.users})),L=Object(l.useSelector)((function(e){return e.posts.clearApprovingState})),F=Object(n.useState)(null),M=Object(_.a)(F,2),U=M[0],G=M[1],H=Object(n.useState)(null),B=Object(_.a)(H,2),W=B[0],Y=B[1],V=Object(n.useState)(null),Q=Object(_.a)(V,2),K=(Q[0],Q[1]),z=Object(n.useState)({approve:!1,change:!1}),q=Object(_.a)(z,2),J=q[0],Z=q[1],X=Object.values(D).filter((function(e){return i.clap_user_ids.some((function(t){return t===e.id}))})),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;E?E(e):G("number"!==typeof e?i.id:e),te()},ee=function(){Y(null)},te=function(){null!==U&&null!==S.input.current&&(S.input.current.querySelector(".ql-editor").scrollIntoView({behavior:"smooth",block:"center",inline:"start"}),S.input.current.querySelector(".ql-editor").focus())},ae=Ap().fromNow,ne=function(e){var t=null;e.target.dataset.id&&(t=e.target.dataset.id),t&&y(Fi({file_id:parseInt(t),files:i.files}))},re=JSON.parse(localStorage.getItem("userAuthToken"));Object(n.useEffect)((function(){S.content.current&&(S.content.current.querySelectorAll('[data-google-link-retrieve="0"]').forEach((function(e){P.init(e)})),S.content.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");if(e.classList.contains("has-listener")){var a=i.files.find((function(e){return t.includes(e.code)}));a&&N[a.id]&&(e.setAttribute("src",N[a.id]),e.setAttribute("data-id",a.id))}else{e.addEventListener("click",ne,!1),e.classList.add("has-listener");var n=i.files.find((function(e){return t.includes(e.code)}));n&&N[n.id]&&(e.setAttribute("src",N[n.id]),e.setAttribute("data-id",n.id))}})));var e=i.files.filter((function(e){return e.type.toLowerCase().includes("image")}));e.length&&e.forEach((function(e){!N[e.id]&&i.body.includes(e.code)&&fetch(e.view_link,{method:"GET",keepalive:!0,headers:{Authorization:"Bearer ".concat(re.access_token),"Access-Control-Allow-Origin":"*",Connection:"keep-alive",crossorigin:!0}}).then((function(e){return e.blob()})).then((function(t){var a=URL.createObjectURL(t);x({id:e.id,src:a}),u.updateCommentImages({post_id:o.id,id:i.id,parent_id:"main"===s?null:m,file:Object(R.a)(Object(R.a)({},e),{},{blobUrl:a})})}),(function(e){console.log(e,"error")}))}))}),[i.body,S.content,i.files]),Object(n.useEffect)((function(){te()}),[te]),Object(n.useEffect)((function(){"object"===typeof I.location.state&&I.location.state&&I.location.state.focusOnMessage===i.id&&S.body.current&&(S.body.current.scrollIntoView(),S.main.current.classList.add("bounceIn"),I.push(I.location.pathname,null))}),[I.location.state]),Object(n.useEffect)((function(){return null!==i.body.match(/\.(gif)/g)&&K(!0),i.clap_count>0&&i.clap_user_ids.length!==i.clap_count&&u.fetchPostReplyHover(i.id),function(){I.push(I.location.pathname,null)}}),[]);var ie=function(){G(null),Z(Object(R.a)(Object(R.a)({},J),{},{change:!1}))};return Object(n.useEffect)((function(){L&&L===i.id&&(Z(Object(R.a)(Object(R.a)({},J),{},{change:!1})),u.clearApprovingStatus(null))}),[L]),r.a.createElement(r.a.Fragment,null,r.a.createElement(_I,{ref:S.main,isImportant:i.is_important,className:"comment card border fadeBottom ".concat(a," animated ").concat(i.is_important&&"important"),userId:d.id},null!==i.todo_reminder&&r.a.createElement(os,{todoReminder:i.todo_reminder,type:"POST_COMMENT"}),i.quote&&r.a.createElement(MI,{quote:i.quote,dictionary:v}),r.a.createElement(gI,{ref:S.body,className:"card-body",type:s},r.a.createElement(vI,{className:"d-flex"},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement(kn,{className:"mr-2",id:i.author.id,name:i.author.name,imageLink:i.author.profile_image_thumbnail_link?i.author.profile_image_thumbnail_link:i.author.profile_image_link,showSlider:!0}),r.a.createElement("span",null,i.author.first_name),r.a.createElement("span",{className:"text-muted ml-1"},ae(i.created_at.timestamp))),!o.is_read_only&&!A&&r.a.createElement(Uf,{scrollRef:S.body.current,moreButton:"more-horizontal"},null===i.todo_reminder&&r.a.createElement("div",{onClick:function(){return u.remind(i,o)}},v.remindMeAboutThis),d.id===i.author.id&&r.a.createElement("div",{onClick:function(){return u.setToEdit(i)}},v.editReply),r.a.createElement("div",{onClick:function(){E?E(i.id):(G(i.id),te()),u.addQuote(i)}},v.quote),d.id!==i.author.id&&r.a.createElement("div",{onClick:function(){Y('<p class="mention-data"><span class="mention" data-index="0" data-denotation-char="@" data-id="'.concat(i.author.id,'" data-value="').concat(i.author.name,'">\n        <span contenteditable="false"><span class="ql-mention-denotation-char">@</span>').concat(i.author.name,"</span></span></p> ")),G(!0)}},v.mentionUser),d.id===i.author.id&&r.a.createElement("div",{onClick:function(){return u.remove(i)}},v.removeReply),d.id===i.author.id&&r.a.createElement("div",{onClick:function(){return u.important(i)}},i.is_important?v.unMarkImportant:v.markImportant))),!i.shared_with_client&&o.shared_with_client&&r.a.createElement("span",null,r.a.createElement("i",null,v.internalComment)),i.files.length>0&&r.a.createElement(CN,{files:i.files}),r.a.createElement(AI,{ref:S.content,className:"mt-2 mb-3",dangerouslySetInnerHTML:{__html:i.body.startsWith("COMMENT_APPROVAL::")?"<span></span>":Es.parseEmoji(i.body)}}),i.users_approval.length>0&&!J.change&&r.a.createElement(Ww.a,{ref:k,type:"confetti",config:{elementCount:65,elementSize:10,spread:140,lifetime:360}},r.a.createElement(IN,{approving:J,fromNow:ae,usersApproval:i.users_approval,user:d,handleApprove:function(){T.showModal("confirmation",o,i,k)},handleRequestChange:function(){i.users_approval.length>1?(Z(Object(R.a)(Object(R.a)({},J),{},{change:!0})),J.approve||u.approve({post_id:o.id,approved:0,comment_id:i.id},(function(e,t){if(Z(Object(R.a)(Object(R.a)({},J),{},{change:!1})),!e){var a=1===i.users_approval.filter((function(e){return null===e.ip_address})).length,n=i.users_approval.filter((function(e){return null!==e.ip_address&&!e.is_approved})).length===i.users_approval.length-1;a&&n&&T.generateSystemMessage(o,[],i.users_approval.map((function(e){return e.id})))}}))):($(i.id),Z(Object(R.a)(Object(R.a)({},J),{},{change:!0})),u.setRequestForChangeComment(i))},post:o,isMultipleApprovers:i.users_approval.length>1,isBotMessage:i.body.startsWith("COMMENT_APPROVAL::")})),i.files.length>=1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h6",null,v.files),r.a.createElement(Hc,{attachedFiles:i.files,type:"comment",comment:i})),i.files_trashed&&i.files_trashed.length>=1&&r.a.createElement(r.a.Fragment,null,r.a.createElement(jI,null,r.a.createElement("h6",{className:"font-size-11 text-uppercase"},v.files),r.a.createElement("span",{className:"text-muted"},v.filesAutomaticallyRemoved),r.a.createElement(Hc,{attachedFiles:i.files_trashed,type:"comment",comment:i}))),r.a.createElement(EI,{comment:i,dictionary:v,disableOptions:A,likers:X,post:o,handleReaction:function(){if(!A){var e={id:i.id,reaction:"clap",counter:0===i.user_clap_count?1:0,post_id:o.id,parent_id:"main"===s?null:m};u.clap(e,(function(t,a){t&&(1===e.counter?u.unlike(e):u.like(e))})),0===i.user_clap_count?u.like(e):u.unlike(e)}},handleShowInput:$}))),"main"===s&&Object.values(i.replies).length>0&&r.a.createElement(wI,{parentShowInput:$,comments:i.replies,post:o,user:d,commentActions:u,parentId:"main"===s?i.id:null,onShowFileDialog:p,dropAction:f,workspace:O,isMember:g,dictionary:v,disableOptions:A,isCompanyPost:C,postActions:T}),null!==U&&r.a.createElement(OI,{className:"card"},C?r.a.createElement(TI,{innerRef:S.input,user:d,commentId:U,post:o,parentId:"main"===s?i.id:m,commentActions:u,userMention:W,handleClearUserMention:ee,onShowFileDialog:p,dropAction:f,workspace:O,isMember:g,disableOptions:A,handleCancelChange:ie,mainInput:!1}):r.a.createElement(CI,{innerRef:S.input,user:d,commentId:U,post:o,parentId:"main"===s?i.id:m,commentActions:u,userMention:W,handleClearUserMention:ee,onShowFileDialog:p,dropAction:f,workspace:O,isMember:g,disableOptions:A,handleCancelChange:ie,mainInput:!1})))}));function SI(){var e=Object(f.a)(["\n  width: 95%;\n"]);return SI=function(){return e},e}var kI=E.a.ul(SI()),wI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.comments,i=e.post,o=e.commentActions,c=e.parentId,s=e.user,l=e.onShowFileDialog,d=e.dropAction,u=e.parentShowInput,m=e.workspace,p=e.isMember,f=e.dictionary,b=e.disableOptions,h=e.postActions;return n&&r.a.createElement(kI,{className:"sub-comments ".concat(a)},Object.values(n).map((function(e){return r.a.createElement(yI,{key:e.id,comment:e,type:"sub",post:i,user:s,parentShowInput:function(){u(e.id)},commentActions:o,parentId:c,onShowFileDialog:l,dropAction:d,workspace:m,isMember:p,dictionary:f,disableOptions:b,postActions:h})})))}));function NI(){var e=Object(f.a)([""]);return NI=function(){return e},e}function xI(){var e=Object(f.a)(["\n  padding: 0 10px 10px;\n  display: block;\n  text-align: left;\n  position: relative;\n  width: 100%;\n  border-left: 2px solid #972c86;\n  margin-left: 30px;\n  margin-bottom: 10px;\n\n  .quote-author-name,\n  .quote-message {\n    position: relative;\n    display: inline-block;\n    width: calc(100% - 20px);\n  }\n  .quote-author-name {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  .quote-message {\n    font-size: 12px;\n  }\n  .quote-clear-container {\n    position: absolute;\n    left: -35px;\n    top: calc(50% - 10px);\n    background-color: #fff;\n    cursor: pointer;\n  }\n  img,\n  video {\n    display: none;\n  }\n  .video-quote,\n  .image-quote {\n    img {\n      display: inline-block;\n    }\n  }\n"]);return xI=function(){return e},e}var RI=E.a.div(xI()),II=Object(E.a)(pn)(NI()),PI=function(e){var t=e.commentActions,a=e.commentId,n=e.editPostComment,i=e.mainInput,o=dp(a),c=Object(_.a)(o,2),s=c[0],l=c[1],d=function(){t.clearQuote(a)};return s?n&&i?r.a.createElement(RI,null,r.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:s.user?s.user.name:""}}),r.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:s.body?l.split("</p>")[0]:""}}),r.a.createElement("span",{className:"quote-clear-container",onClick:d},r.a.createElement(II,{icon:"x"}))):n&&!i?null:r.a.createElement(RI,null,r.a.createElement("span",{className:"quote-author-name",dangerouslySetInnerHTML:{__html:s.user?s.user.name:""}}),r.a.createElement("span",{className:"quote-message",dangerouslySetInnerHTML:{__html:s.body?l.split("</p>")[0]:""}}),r.a.createElement("span",{className:"quote-clear-container",onClick:d},r.a.createElement(II,{icon:"x"}))):null},DI=a(294);function LI(){var e=Object(f.a)(["\n  text-align: center;\n"]);return LI=function(){return e},e}var FI=E.a.div(LI()),MI=function(e){var t=e.quote,a=e.dictionary,i=Object(n.useRef)(null),o=Object(n.useState)(!1),c=Object(_.a)(o,2),s=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(_.a)(d,2),m=u[0],p=u[1],f=Object(n.useState)(200),b=Object(_.a)(f,2),h=b[0],E=b[1],O={transition:"max-height ".concat(300,"ms ease-in-out"),maxHeight:"200px",overflow:"hidden"},g={entering:{maxHeight:"".concat(h,"px")},entered:{maxHeight:"".concat(h,"px")},exiting:{maxHeight:"200px"},exited:{maxHeight:"200px"}},v=function(){l(!s)};return Object(n.useEffect)((function(){i.current&&(E(i.current.scrollHeight),i.current.scrollHeight>200&&p(!0))}),[]),r.a.createElement(DI.a,{in:s,timeout:300},(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Object(R.a)(Object(R.a)({},O),g[e]),ref:i},t.user&&r.a.createElement("div",{className:"quote-author"},a.quotedCommentFrom," ",t.user.name),r.a.createElement("div",{className:"quote border-side",dangerouslySetInnerHTML:{__html:t.body}})),m&&r.a.createElement(FI,{onClick:v,className:"btn-toggle-show cursor-pointer mt-2"},s?a.showLess:a.showMore))}))};function UI(){var e=Object(f.a)(["\n  width: 16px;\n\n  &.close {\n    cursor: pointer;\n  }\n"]);return UI=function(){return e},e}function GI(){var e=Object(f.a)(["\n  width: 100%;\n  padding: 0.5rem 1.5rem;\n  flex-wrap: wrap;\n  .seen-indicator,\n  .post-reaction {\n    cursor: pointer;\n  }\n  img {\n    border-radius: 6px;\n    max-height: 250px;\n  }\n  .clap-true {\n    color: #7a1b8b;\n    fill: #7a1b8b;\n  }\n  .readers-container {\n    @media (max-width: 575.99px) {\n      flex: 0 1 100%;\n      .clap-count-wrapper {\n        display: inline-block;\n        margin-right: 0.5rem;\n      }\n      .user-reads-container {\n        .not-read-users-container,\n        .read-users-container {\n          right: -75px;\n        }\n        &.read-by {\n          width: 100%;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          .not-read-users-container,\n          .read-users-container {\n            right: -20px;\n          }\n        }\n      }\n    }\n  }\n  /* slide enter */\n  .slide-enter,\n  .slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    z-index: 1;\n  }\n  .slide-enter.slide-enter-active,\n  .slide-appear.slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .slide-exit.slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(50px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .slide-exit-done {\n    opacity: 0;\n  }\n"]);return GI=function(){return e},e}var HI,BI=E.a.div(GI()),WI=Object(E.a)(pn)(UI()),YI=function(e){var t=e.dictionary,a=e.hasRead,n=e.likers,i=e.post,o=e.readByUsers,c=e.viewerIds,s=e.viewers,l=e.handleReaction;return r.a.createElement(BI,{className:"d-flex align-items-center"},r.a.createElement("div",{className:"clap-count-wrapper d-none d-sm-flex"},r.a.createElement(WI,{className:i.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:l}),i.clap_count,0!==n.length&&r.a.createElement("span",{className:"hover read-users-container"},n.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),r.a.createElement("div",{className:"readers-container ml-auto text-muted"},(o.length>0||i.required_users&&i.required_users.length>0)&&i.is_must_read&&r.a.createElement("div",{className:"user-reads-container read-by"},a&&r.a.createElement("span",{className:"mr-2"},r.a.createElement(WI,{className:"mr-2",icon:"check"})," ",t.alreadyReadThis),r.a.createElement("span",{className:"no-readers"},t.readByNumberofUsers),r.a.createElement("span",{className:"hover read-users-container"},o.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))}))),i.required_users&&i.required_users.length>0&&i.is_must_read&&r.a.createElement("span",{className:"not-readers"},"\xa0 ",t.ofNumberOfUsers),r.a.createElement("span",{className:"hover not-read-users-container"},i.required_users&&i.required_users.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:null,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),r.a.createElement("div",{className:"clap-count-wrapper d-sm-none"},r.a.createElement(WI,{className:i.user_clap_count?"mr-2 post-reaction clap-true":"mr-2 post-reaction clap-false",icon:"thumbs-up",onClick:l}),i.clap_count,0!==n.length&&r.a.createElement("span",{className:"hover read-users-container"},n.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(kn,{className:"mr-2",key:e.id,name:e.name,imageLink:e.profile_image_thumbnail_link?e.profile_image_thumbnail_link:e.profile_image_link,id:e.id})," ",r.a.createElement("span",{className:"name"},e.name))})))),r.a.createElement(WI,{className:"mr-2",icon:"message-square"}),i.reply_count,r.a.createElement("div",{className:"user-reads-container"},r.a.createElement("span",{className:"no-readers"},r.a.createElement(WI,{className:"ml-2 mr-2 seen-indicator",icon:"eye"}),c.length),r.a.createElement(pI,{users:s}))))},VI=E.a.div(HI||(HI=Object(f.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n    cursor: hand;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),QI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.posts,o=e.dictionary,c=e.disableOptions,s=$m(),l=Object(b.j)(),d=Object(n.useState)(null),u=Object(_.a)(d,2),m=u[0],p=u[1],f=Object(n.useCallback)((function(e){null===m&&p(e)}),[]),h=function(e){s.openPost(e,l.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(n.useEffect)((function(){l.params.hasOwnProperty("workspaceId")&&s.getRecentPosts(l.params.workspaceId)}),[l.params.workspaceId]),r.a.createElement(VI,{className:"recent-posts card ".concat(a)},r.a.createElement("div",{ref:f,className:"card-body"},r.a.createElement("h5",{className:"card-title"},o.recentPosts," ",r.a.createElement(pn,{icon:"refresh-ccw",onClick:function(){l.params.hasOwnProperty("workspaceId")&&s.getRecentPosts(l.params.workspaceId)}})),i&&Object.keys(i).length?r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(i).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return r.a.createElement(Sk,{key:e.id,post:e,parentRef:m,postActions:s,onOpenPost:h,disableOptions:c})}))):r.a.createElement("span",{className:"medium text-muted"},o.noRecentPosts)))}));function KI(){var e=Object(f.a)(["\n  .feather-edit {\n    cursor: pointer;\n  }\n  overflow: unset;\n\n  .card-title {\n    position: relative;\n    .feather-plus {\n      right: 0;\n      width: 16px;\n      position: absolute;\n      cursor: pointer;\n      &:hover {\n        color: #7a1b8b;\n      }\n    }\n  }\n\n  .team-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n\n    .more-options {\n      visibility: visible;\n      display: flex;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n"]);return KI=function(){return e},e}var zI,qI=E.a.div(KI()),JI=function(e){var t=e.className,a=void 0===t?"":t,i=e.onEditClick,o=e.dictionary,c=e.actions,s=Object(n.useRef)(null),d=Object(n.useState)(null),u=Object(_.a)(d,2),m=u[0],p=u[1],f=Object(l.useSelector)((function(e){return e.users.users})),b=Object(l.useSelector)((function(e){return e.session.user})),h=Object(n.useState)(!1),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useCallback)((function(e){null===m&&p(e)}),[]),A=function(){g((function(e){return!e}))},j=Object.values(f).filter((function(e){return 1===e.active&&"internal"===e.type&&!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot"].includes(e.email)})).sort((function(e,t){return e.name.localeCompare(t.name)}));return r.a.createElement(qI,{className:"dashboard-team card ".concat(a),ref:s},r.a.createElement("div",{ref:v,className:"card-body"},r.a.createElement("h5",{className:"card-title"},o.team),r.a.createElement("ul",{className:"list-group list-group-flush"},(O?j:j.slice(0,5)).map((function(e,t){return r.a.createElement(Ak,{key:e.id,member:e,hideOptions:!0,parentRef:m,onEditClick:i,actions:c,dictionary:o,showMoreButton:4===t&&j.length>5&&!O,showLessButton:t===j.length-1&&j.length>5&&O,showMore:O,toggleShow:A,loggedUser:b,scrollRef:s.current})})))))},ZI=E.a.div(zI||(zI=Object(f.a)(["\n  .feather-refresh-ccw {\n    cursor: pointer;\n  }\n\n  .card-title {\n    position: relative;\n\n    .feather-refresh-ccw {\n      right: 0;\n      width: 16px;\n      position: absolute;\n    }\n  }\n\n  .recent-post-list-item {\n    position: relative;\n\n    .more-options-tooltip {\n      &.orientation-top {\n        bottom: 10px;\n      }\n      &.orientation-right {\n        left: 100%;\n      }\n    }\n    &:hover {\n      .more-options {\n        visibility: visible;\n      }\n    }\n\n    .more-options {\n      visibility: hidden;\n    }\n  }\n\n  .file-attachments {\n    .files {\n      width: 100%;\n    }\n  }\n\n  .feather {\n    cursor: pointer;\n    &:hover {\n      color: #7a1b8b;\n    }\n  }\n  li .custom-control {\n    padding-left: 14px;\n  }\n"]))),XI=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.posts,o=e.dictionary,c=e.disableOptions,s=$m(),l=Object(b.j)(),d=Object(n.useState)(null),u=Object(_.a)(d,2),m=u[0],p=u[1],f=Object(n.useCallback)((function(e){null===m&&p(e)}),[]),h=function(e){s.openPost(e,l.url.replace("/workspace/dashboard/","/workspace/posts/"))};return Object(n.useEffect)((function(){l.params.hasOwnProperty("workspaceId")&&s.getRecentPosts(l.params.workspaceId)}),[l.params.workspaceId]),r.a.createElement(ZI,{className:"recent-posts card ".concat(a)},r.a.createElement("div",{ref:f,className:"card-body"},r.a.createElement("h5",{className:"card-title"},o.recentPosts," ",r.a.createElement(pn,{icon:"refresh-ccw",onClick:function(){l.params.hasOwnProperty("workspaceId")&&s.getRecentPosts(l.params.workspaceId)}})),i&&Object.keys(i).length?r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(i).sort((function(e,t){return t.created_at.timestamp>e.created_at.timestamp?1:-1})).map((function(e){return r.a.createElement(Sk,{key:e.id,post:e,parentRef:m,postActions:s,onOpenPost:h,disableOptions:c})}))):r.a.createElement("span",{className:"medium text-muted"},o.noRecentPosts)))}));function $I(){var e=Object(f.a)(["\n  overflow: auto !important;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"]);return $I=function(){return e},e}var eP=E.a.div($I()),tP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.match,i=e.actions,o=n.params,c=vs()._t,s=Lp(),l=s.timelineInit,d=s.timelineItems,u=s.recentPostsInit,m=Ip().posts,p=window.innerWidth,f={aboutThisWorkspace:c("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:c("TEAM","Team"),timeline:c("TIMELINE","Timeline"),noRecentPosts:c("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:c("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:c("FILE_ATTACHMENTS","File attachments"),attachedFile:c("ATTACHED_A_FILE","attached a file"),sharedThePost:c("SHARED_THE_POST","shared the post"),hasJoined:c("TIMELINE.HAS_JOINED","has joined"),hasLeft:c("TIMELINE.HAS_LEFT","has left"),youJoined:c("TIMELINE.YOU_JOINED","You joined"),youLeft:c("TIMELINE.YOU_LEFT","You left"),isAdded:c("TIMELINE.IS_ADDED","is added"),isRemoved:c("TIMELINE.IS_REMOVED","is removed"),createdThePost:c("TIMELINE.CREATED_POST","created the post"),isAddedToCompany:c("TIMELINE.IS_ADDED_TO_COMPANY","is added to the company"),updatedWorkspaceTo:c("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),revokeAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsApprover:c("TEAM.REVOKE_APPROVER","Revoke as approver"),assignAsTeamLead:c("TEAM.REVOKE_TEAM_LEAD","Assign as team lead"),assignAsApprover:c("TEAM.REVOKE_APPROVER","Assign as approver"),remove:c("TEAM.REMOVE","Remove"),showMore:c("SHOW_MORE","Show more"),showLess:c("SHOW_LESS","Show less")};return r.a.createElement(eP,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("div",{className:"row"},p>620?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-6"},r.a.createElement(pb,{init:l,timeline:d,actions:i,params:o,dictionary:f})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(JI,{dictionary:f}),r.a.createElement(XI,{posts:m,dictionary:f}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement(JI,{dictionary:f}),r.a.createElement(XI,{init:u,posts:m,dictionary:f}),r.a.createElement(pb,{init:l,timeline:d,actions:i,params:o,dictionary:f})))))}));function aP(){var e=Object(f.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return aP=function(){return e},e}var nP,rP,iP=Object(E.a)(Uf)(aP()),oP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.file,o=e.files,c=e.scrollRef,s=void 0===c?null:c,l=e.actions,d=e.forceDelete,u=e.disableOptions,m=Op();return r.a.createElement(iP,{className:"file-options ".concat(a),moreButton:"more-horizontal",file:i,scrollRef:s},r.a.createElement("div",{onClick:function(){l.viewCompanyFiles(i,o)}},"View Details"),r.a.createElement("div",{onClick:function(){l.download(i)}},"Download"),d?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){l.restoreCompanyFile(i,(function(e,t){t&&(i.folder_id&&"undefined"!==typeof n[i.folder_id]?m.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("b",null,i.search)," is restored to #",n[i.folder_id].search," folder.")):m.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("span",{className:"font-weight-bold"},i.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){l.copyLink(i.view_link)}},"Share"),r.a.createElement("div",{onClick:function(){l.favorite(i)}},i.is_favorite?"Unfavorite":"Favorite"),r.a.createElement("div",{onClick:function(){l.moveCompanyFile(i)}},"Move to"),r.a.createElement("div",{onClick:function(){l.renameCompanyFile(i)}},"Rename")),!u&&r.a.createElement("div",{onClick:function(){i.hasOwnProperty("payload_id")?l.unlinkGoogleAttachment(i):l.removeCompanyFile(i,(function(){}),{forceDelete:d})}},"Remove"))})),cP=E.a.div(nP||(nP=Object(f.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),sP=Object(E.a)(pn)(rP||(rP=Object(f.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),lP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folders,o=e.file,c=e.files,s=e.actions,l=e.forceDelete,d=void 0!==l&&l,u=e.disableOptions,m=s.getFileSizeUnit(o.hasOwnProperty("size")&&"number"===typeof o.size?o.size:0),p=Object(n.useState)(o.is_favorite),f=Object(_.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)("undefined"===typeof o.name?o.search:o.name),O=Object(_.a)(E,2),g=O[0],v=O[1];return Object(n.useEffect)((function(){v("undefined"===typeof o.name?o.search:o.name)}),[o.name,o.search]),r.a.createElement(cP,{className:"file-list-item cursor-pointer ".concat(a),onClick:function(){s.viewCompanyFiles(o,c)}},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"string"===typeof o.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===b&&r.a.createElement(sP,{icon:"star"}),s.getFileIcon(o.mime_type),"number"===typeof o.id&&r.a.createElement(oP,{file:o,files:c,folders:i,actions:Object(R.a)(Object(R.a)({},s),{},{favorite:function(){h((function(e){return!e})),s.favorite(o)}}),forceDelete:d,disableOptions:u}),"string"===typeof o.id&&r.a.createElement(Yf,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(qc,{content:g},r.a.createElement("div",{className:"file-name"},o.hasOwnProperty("payload_id")&&r.a.createElement(pn,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),g)),r.a.createElement("div",{className:"text-muted"},m.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],m.unit))))}));function dP(){var e=Object(f.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return dP=function(){return e},e}function uP(){var e=Object(f.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return uP=function(){return e},e}var mP,pP,fP,bP,hP=E.a.div(uP()),EP=Object(E.a)(pn)(dP()),_P=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.actions,o=e.history,c=e.params,s=e.handleAddEditFolder,l=e.disableOptions,d=Object(b.j)(),u=d.path,m=d.url;return r.a.createElement(hP,{className:"file-list-item cursor-pointer ".concat(a),onClick:function(e){if(e.preventDefault(),n.hasOwnProperty("payload"))window.open(n.payload.url,"_blank");else if("/files/folder/:folderId/:folderName"===u){var t=m.split("/folder/")[0];o.push(t+"/folder/".concat(n.id,"/").concat(Wt(n.search)))}else o.push(o.location.pathname+"/folder/".concat(n.id,"/").concat(Wt(n.search)))}},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"app-file-icon"},n.hasOwnProperty("payload")&&r.a.createElement(EP,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),r.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!l&&r.a.createElement(pL,{folder:n,actions:i,history:o,params:c,handleAddEditFolder:s})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(qc,{content:n.search},r.a.createElement("div",{className:"file-name"},n.search)))))})),OP=E.a.div(mP||(mP=Object(f.a)(["\n  body & {\n    &.files-body.card {\n      margin-bottom: 1rem;\n    }\n  }\n\n  .app-lists {\n    overflow: auto;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n\n  .card-body {\n    position: relative;\n    padding-bottom: 12px;\n\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),gP=Object(E.a)(Uf)(pP||(pP=Object(f.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]))),vP=E.a.div(fP||(fP=Object(f.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),AP=E.a.div(bP||(bP=Object(f.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]))),jP=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,o=e.dropZoneRef,c=e.filter,s=e.search,d=e.files,u=e.handleAddEditFolder,m=e.actions,p=e.params,f=e.folders,b=e.folder,h=e.fileIds,E=e.history,O=e.subFolders,g=e.dictionary,v=e.disableOptions,A=e.loadMore,j=e.isLoaded,C=document.querySelector(".app-content-body"),T=Object(l.useSelector)((function(e){return e.session.user})),y={files:Object(n.useRef)(null),btnLoadMore:Object(n.useRef)(null)},S=Object(n.useState)(!1),k=Object(_.a)(S,2),w=k[0],N=k[1],x=function(){o.current&&o.current.open()},I=function(){N(!1)},P=function(e){"false"===e.target.dataset.loading&&e.target.scrollTop+500>=e.target.scrollHeight-e.target.offsetHeight&&y.btnLoadMore.current&&y.btnLoadMore.current.click()};return Object(n.useEffect)((function(){if(y.files.current){var e=y.files.current;return e&&"0"===e.dataset.loaded?(A.files(),e.dataset.loaded="1",y.files.current.addEventListener("scroll",P,!1),function(){return y.files.current.removeEventListener("scroll",P,!1)}):void 0}}),[y.files.current]),r.a.createElement(OP,{className:"files-body card app-content-body ".concat(i),onDragOver:function(){["recent","important","removed"].includes(c)||w||N(!0)}},r.a.createElement("span",{className:"d-none",ref:y.btnLoadMore,onClick:A.files},"Load more"),!v&&r.a.createElement(og,{ref:o,hide:!w,onDragLeave:I,onDrop:function(e){!function(e){N(!1);var t=Math.floor(Date.now()/1e3),n=new FormData;for(var r in e)e.hasOwnProperty(r)&&(e[r].reference_id=a(40).generate(),n.append("files["+r+"]",e[r]));var i={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:b?b.id:null,id:e.reference_id,reference_id:e.reference_id,is_favorite:!1,link_id:null,link_index_id:null,link_type:"COMPANY",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:T.id,view_link:null,uploading:!0}})),folder_id:b?b.id:null};m.uploadingCompanyFiles(i);var o={is_primary:0,files:n};p.folderId&&(o=Object(R.a)(Object(R.a)({},o),{},{folder_id:p.folderId})),m.uploadCompanyBulkFiles(o)}(e.acceptedFiles)},onCancel:I,params:p}),r.a.createElement("div",{ref:y.files,className:"card-body app-lists","data-loaded":0},"undefined"!==typeof d&&r.a.createElement(r.a.Fragment,null,b&&"removed"!==c&&!v&&r.a.createElement(gP,{moreButton:"settings"},r.a.createElement("div",{onClick:function(){u(b,"update")}},g.editFolder),r.a.createElement("div",{onClick:function(){if(b){m.removeFolder(b,(function(e,t){if(!e&&t){var a=E.location.pathname.split("/folder/")[0];E.push(a)}}))}}},g.removeFolder)),"removed"===c&&d&&d.hasOwnProperty("trash_files")&&(Object.keys(d.trash_files).length>0||Object.values(f).filter((function(e){return e.is_archived})).length>0)&&r.a.createElement(pn,{icon:"trash",onClick:m.removeAllCompanyTrashFiles}),""===c&&r.a.createElement(r.a.Fragment,null,"undefined"===typeof p.folderId&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},g.allFiles),b&&r.a.createElement(yP,{folder:b,history:E,dictionary:g,folders:f}),r.a.createElement("div",{className:"row"},p.hasOwnProperty("folderId")?O.filter((function(e){return!e.is_archived})).map((function(e){return r.a.createElement(_P,{key:e.id,actions:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:v,folder:e,history:E,params:p,handleAddEditFolder:u})})):Object.values(f).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return r.a.createElement(_P,{key:e.id,actions:m,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:v,folder:e,history:E,params:p,handleAddEditFolder:u})}))),"undefined"!==typeof p.folderId?r.a.createElement(r.a.Fragment,null,b?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},b.search),r.a.createElement("div",{className:"row"},d&&h.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(lP,{key:e,scrollRef:C,actions:m,folders:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],files:d.files,disableOptions:v}):null}))),d&&0===h.length&&r.a.createElement(vP,null,r.a.createElement(bn,{icon:4,height:282}),r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:x,disabled:v},g.uploadFiles))):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},d&&h.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(lP,{key:e,scrollRef:C,actions:m,folders:f,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],files:d.files,disableOptions:v}):null}))),d&&d.popular_files.length>0&&r.a.createElement(OL,{search:s,scrollRef:C,files:Object.values(d.files).filter((function(e){return d.popular_files.includes(e.id)})),actions:m,disableOptions:v}),d&&d.recently_edited.length>0&&r.a.createElement(AL,{search:s,scrollRef:C,files:Object.values(d.files).filter((function(e){return d.recently_edited.includes(e.id)})),actions:m,disableOptions:v}),j&&0===d.popular_files.length&&0===d.recently_edited.length&&0===h.length&&0===Object.values(f).filter((function(e){return!0!==e.is_archived})).length&&0===O.length&&r.a.createElement(vP,null,r.a.createElement(bn,{icon:4,height:282}),r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:x,disabled:v},g.uploadFiles)),!j&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}))),"recent"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(AL,{search:s,scrollRef:C,files:Object.values(d.files).filter((function(e){return d.recently_edited.includes(e.id)})),actions:m,disableOptions:v}),!(d&&d.recently_edited.length>0)&&r.a.createElement(vP,null,r.a.createElement(bn,{icon:4,height:282}))),"important"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(hL,{search:s,scrollRef:C,files:Object.values(d.files).filter((function(e){return d.favorite_files.includes(e.id)})),actions:m,dictionary:g}),!(d&&d.hasOwnProperty("favorite_files")&&d.favorite_files.length>0)&&r.a.createElement(vP,null,r.a.createElement(bn,{icon:4,height:282}),r.a.createElement(AP,null,r.a.createElement("p",null,"No favorite files."),r.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(SL,{scrollRef:C,search:s,files:d.trash_files,actions:m,params:p,folders:f,subFolders:O,handleAddEditFolder:u,folder:b,disableOptions:v}),!(d&&d.hasOwnProperty("trash_files")&&Object.keys(d.trash_files).length>0)&&!(Object.values(f).some((function(e){return e.is_archived}))||O.some((function(e){return e.is_archived})))&&r.a.createElement(vP,null,r.a.createElement(bn,{icon:4,height:282}))))))}));function CP(){var e=Object(f.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return CP=function(){return e},e}var TP=E.a.div(CP()),yP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,o=e.history,c=e.dictionary,s=e.folders,l=e.workspaceID,d=Object(b.j)().url,u=Object(n.useState)(!1),m=Object(_.a)(u,2),p=m[0],f=m[1];return Object(n.useEffect)((function(){i.parent_folder&&Object.values(s).forEach((function(e){e.id===i.parent_folder.id&&(e.parent_folder?f(!0):f(!1))})),i.parent_folder||f(!1)}),[i]),r.a.createElement(TP,{className:"files-breadcrumb d-flex ".concat(a)},r.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},r.a.createElement("li",{onClick:function(){var e=o.location.pathname.split("/folder/")[0];o.push(e)}},c.allFiles),r.a.createElement(pn,{width:12,icon:"chevron-right"}),p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(yf,{parentFolder:i.parent_folder,workspaceID:l,history:o})),r.a.createElement(pn,{width:12,icon:"chevron-right"})),i.parent_folder&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:function(){return function(e){var t=d.split("/folder/")[0];o.push(t+"/folder/".concat(e.id,"/").concat(Wt(e.name)))}(i.parent_folder)}},i.parent_folder.name),r.a.createElement(pn,{width:12,icon:"chevron-right"})),r.a.createElement("div",null,i.search)))}));function SP(){var e=Object(f.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return SP=function(){return e},e}var kP=E.a.div(SP()),wP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.dropZoneRef,i=e.onSearchChange,o=e.onSearch,c=e.onEnter,s=e.handleAddEditFolder,l=e.folders,d=e.history,u=e.params,m=e.clearFilter,p=e.dictionary,f=e.onClickEmpty,b=e.value,h=function(e){if(m(),l.hasOwnProperty(e.target.dataset.value)){var t=l[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):u.hasOwnProperty("folderId")?d.push(d.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Wt(t.search))):d.push("/files/folder/".concat(t.id,"/").concat(Wt(t.search)))}},E={label:r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{className:"mr-1",icon:"plus"})," ",p.add),items:[{value:"folder",label:p.folder,onClick:function(){return s("add")}},{value:"file",label:p.file,onClick:function(){n.current&&n.current.open()}}]},_={label:p.folders,items:Object.values(l).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:h}}))};return r.a.createElement(kP,{className:"files-header app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(Wc,{dropdown:E})),r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(Wc,{dropdown:_}))),r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:i,value:b,onKeyDown:c,className:"form-control",placeholder:p.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==b.trim()&&r.a.createElement("button",{onClick:f,className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:o},r.a.createElement(pn,{icon:"search"}))))))}));function NP(){var e=Object(f.a)(["\n  width: 15px;\n"]);return NP=function(){return e},e}function xP(){var e=Object(f.a)(["\n  cursor: pointer;\n  cursor: hand;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return xP=function(){return e},e}function RP(){var e=Object(f.a)([""]);return RP=function(){return e},e}function IP(){var e=Object(f.a)(["\n  text-align: left;\n  @media (max-width: 991.99px) {\n    .card {\n      margin-bottom: 0;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      display: flex;\n      .card-body {\n        order: 2;\n      }\n      .app-sidebar-menu {\n        order: 1;\n        display: flex;\n        flex-direction: column;\n\n        .card-body {\n          order: 1;\n          border-bottom: 1px solid #ebebeb;\n        }\n        .list-group {\n          order: 2;\n          border-bottom: 1px solid #ebebeb;\n        }\n      }\n    }\n    .folder-list {\n      display: none !important;\n    }\n  }\n"]);return IP=function(){return e},e}var PP,DP,LP=E.a.div(IP()),FP=E.a.div(RP()),MP=E.a.span(xP(),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),UP=Object(E.a)(pn)(NP()),GP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isMember,i=e.actions,o=e.filterFile,c=e.filter,s=void 0===c?"all":c,d=e.dropZoneRef,u=e.storageLimit,m=void 0===u?25:u,p=e.wsFiles,f=e.folders,b=e.activeFolder,h=e.clearFilter,E=e.params,_=e.disableOptions,O=e.workspace,g="external"===Object(l.useSelector)((function(e){return e.session.user})).type,v=vs()._t,A=i.getFileSizeUnit(p.storage),j=0===p.storage?0:p.storage<1e8?1e8:p.storage,C={uploadFiles:v("FILE.UPLOAD_FILES","Upload files"),allFiles:v("FILES.ALL_FILES","All files"),recentlyEdited:v("FILES.RECENTLY_EDITED","Recently edited"),favorite:v("FILE.FAVORITE","Favorite"),removed:v("FILES.REMOVED","Removed"),storageStatus:v("FILES.STORAGE_STATUS","Storage Status"),usedOf:v("FILE.USED_OF","used of"),gigabyte:v("FILE.GIGABYTE","GB"),teamChat:v("FILES_SIDEBAR.TEAM_CHAT","Team chat"),clientChat:v("FILES_SIDEBAR.CLIENT_CHAT","Client chat"),privatePost:v("FILES_SIDEBAR.PRIVATE_POST","Private post"),postWithClient:v("FILES_SIDEBAR.POST_WITH_CLIENT","Post with client")};return r.a.createElement(LP,{className:"file-sidebar bottom-modal-mobile ".concat(a)},r.a.createElement(FP,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"card bottom-modal-mobile_inner"},!0===n&&r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){d.current&&d.current.open()},disabled:_},C.uploadFiles),r.a.createElement("form",{className:"d-none",id:"file-upload"},r.a.createElement("input",{type:"file",multiple:""}))),r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement(MP,{onClick:o,"data-filter":"",active:""===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"folder"}),C.allFiles,r.a.createElement("span",{className:"small ml-auto"},p&&p.count>0?p.count:null)),f&&Object.values(f).filter((function(e){return!e.is_archived})).length>0&&!0===n&&r.a.createElement(MP,{className:"d-flex align-items-center folder-list"},r.a.createElement("ul",null,Object.values(f).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return r.a.createElement(ND,{key:e.id,clearFilter:h,folders:f,params:E,folder:e,activeFolder:b})})))),r.a.createElement(DD,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){i.uploadWorkspaceGoogleDriveFile(E.workspaceId,e)}))},disableOptions:_}),!g&&O&&O.team_channel&&O.team_channel.code&&r.a.createElement(r.a.Fragment,null,r.a.createElement(MP,{onClick:o,"data-filter":"team",active:"team"===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"eye-off"}),C.teamChat),r.a.createElement(MP,{onClick:o,"data-filter":"client",active:"client"===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"eye"}),C.clientChat),r.a.createElement(MP,{onClick:o,"data-filter":"privatePost",active:"privatePost"===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"eye-off"}),C.privatePost),r.a.createElement(MP,{onClick:o,"data-filter":"clientPost",active:"clientPost"===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"eye"}),C.postWithClient)),r.a.createElement(MP,{onClick:o,"data-filter":"recent",active:"recent"===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"monitor"}),C.recentlyEdited),r.a.createElement(MP,{onClick:o,"data-filter":"important",active:"important"===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"star"}),C.favorite,r.a.createElement("span",{className:"small ml-auto"},p&&p.stars>0?p.stars:null)),r.a.createElement(MP,{onClick:o,"data-filter":"removed",active:"removed"===s,className:"list-group-item d-flex align-items-center"},r.a.createElement(UP,{className:"mr-2",icon:"trash"}),C.removed,r.a.createElement("span",{className:"small ml-auto"},p&&p.trash>0?p.trash:null))),"undefined"!==typeof p&&null!==p&&r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-4"},C.storageStatus),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"mr-3"},r.a.createElement(pn,{icon:"database"})),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement(Yf,{amount:j,limit:1e9*m}),r.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},A.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],A.unit," ",C.usedOf," ",m,C.gigabyte)))))))})),HP=E.a.div(PP||(PP=Object(f.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .app-file-icon {\n      position: relative;\n\n      &.uploading {\n        background: #afb8bd;\n        opacity: 0.8;\n      }\n      .progress {\n        bottom: 10px;\n        position: absolute;\n        width: 90%;\n        left: 5%;\n      }\n    }\n  }\n"]))),BP=Object(E.a)(pn)(DP||(DP=Object(f.a)(["\n  position: absolute;\n  top: 10px;\n  left: 5px;\n  width: 16px;\n  fill: #ffc107;\n  color: #ffc107;\n"]))),WP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folders,o=e.file,c=e.actions,s=e.isMember,l=e.forceDelete,d=void 0!==l&&l,u=e.disableOptions,m=c.getFileSizeUnit(o.hasOwnProperty("size")&&"number"===typeof o.size?o.size:0),p=Object(n.useState)(o.is_favorite),f=Object(_.a)(p,2),b=f[0],h=f[1];return r.a.createElement(HP,{className:"file-list-item cursor-pointer ".concat(a),onClick:function(){c.viewFiles(o)}},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"string"===typeof o.id?"app-file-icon uploading":"app-file-icon uploaded"},!0===b&&r.a.createElement(BP,{icon:"star"}),c.getFileIcon(o.mime_type),"number"===typeof o.id&&r.a.createElement(vD,{file:o,folders:i,actions:Object(R.a)(Object(R.a)({},c),{},{favorite:function(){h((function(e){return!e})),c.favorite(o)}}),isMember:s,forceDelete:d,disableOptions:u}),"string"===typeof o.id&&r.a.createElement(Yf,{amount:100,barClassName:"progress-bar-striped progress-bar-animated"})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(qc,{content:o.name?o.name:o.search},r.a.createElement("div",{className:"file-name"},o.hasOwnProperty("payload_id")&&r.a.createElement(pn,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",fill:"#000",height:"20",width:"15",opacity:".8"}),o.name?o.name:o.search)),r.a.createElement("div",{className:"text-muted"},m.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],m.unit))))}));function YP(){var e=Object(f.a)(["\n  position: absolute;\n  top: 10px;\n  left: 8px;\n"]);return YP=function(){return e},e}function VP(){var e=Object(f.a)(["\n  .card {\n    overflow: unset;\n\n    .file-options {\n      position: absolute;\n      top: 10px;\n      right: 5px;\n      width: 16px;\n    }\n\n    .file-name {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]);return VP=function(){return e},e}var QP=E.a.div(VP()),KP=Object(E.a)(pn)(YP()),zP=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.actions,o=e.isMember,c=e.history,s=e.params,l=e.handleAddEditFolder,d=e.disableOptions,u=Object(b.j)(),m=u.path,p=u.url;return r.a.createElement(QP,{className:"file-list-item cursor-pointer ".concat(a),onClick:function(e){if(e.preventDefault(),n.hasOwnProperty("payload"))window.open(n.payload.url,"_blank");else if("/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===m||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===m){var t=p.split("/folder/")[0];c.push(t+"/folder/".concat(n.id,"/").concat(Wt(n.search)))}else c.push(c.location.pathname+"/folder/".concat(n.id,"/").concat(Wt(n.search)))}},r.a.createElement("div",{className:"card  app-file-list"},r.a.createElement("div",{className:"app-file-icon"},n.hasOwnProperty("payload")&&r.a.createElement(KP,{icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),r.a.createElement("i",{className:"fa fa-folder-o text-instagram"}),!d&&r.a.createElement(CD,{folder:n,actions:i,isMember:o,history:c,params:s,handleAddEditFolder:l})),r.a.createElement("div",{className:"p-2 small"},r.a.createElement(qc,{content:n.search},r.a.createElement("div",{className:"file-name"},n.search)))))}));function qP(){var e=Object(f.a)(["\n  padding: 10px;\n  p {\n    margin: 0;\n  }\n"]);return qP=function(){return e},e}function JP(){var e=Object(f.a)(["\n  padding: 5rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return JP=function(){return e},e}function ZP(){var e=Object(f.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 18px;\n"]);return ZP=function(){return e},e}function XP(){var e=Object(f.a)(["\n  .card-body {\n    position: relative;\n    overflow: visible !important;\n    padding-bottom: 12px;\n    min-height: 100px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    .recent-new-group-wrapper {\n      padding-right: 24px;\n    }\n  }\n  .feather-trash {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    width: 18px;\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]);return XP=function(){return e},e}var $P=E.a.div(XP()),eD=Object(E.a)(Uf)(ZP()),tD=E.a.div(JP()),aD=E.a.div(qP()),nD=r.a.memo((function(e){var t=e.className,i=void 0===t?"":t,o=e.dropZoneRef,c=e.filter,s=e.search,d=e.wsFiles,u=e.isMember,m=e.handleAddEditFolder,p=e.actions,f=e.params,b=e.folders,h=e.folder,E=e.fileIds,O=e.history,g=e.subFolders,v=e.dictionary,A=e.disableOptions,j=Op(),C=document.querySelector(".app-content-body"),T=Object(l.useSelector)((function(e){return e.session.user})),y=Object(n.useState)(!1),S=Object(_.a)(y,2),k=S[0],w=S[1],N=function(){o.current&&o.current.open()},x=function(){w(!1)};return Object(n.useEffect)((function(){k&&w(!1)}),[d]),Object(n.useEffect)((function(){k&&!u&&j.warning("You are not a member of this workspace.")}),[k]),r.a.createElement($P,{className:"files-body card app-content-body ".concat(i),onDragOver:function(){["recent","important","removed"].includes(c)||k||w(!0)}},!A&&r.a.createElement(og,{ref:o,hide:!(k&&!0===u),onDragLeave:x,onDrop:function(e){!function(e){w(!1);var t=Math.floor(Date.now()/1e3),n={files:e.map((function(e){return{created_at:{timestamp:t},download_link:null,folder_id:h?h.id:null,id:a(40).generate(),is_favorite:!1,link_id:null,link_index_id:null,link_type:"TOPIC",mime_type:e.type,search:e.name,size:e.size,type:e.type,updated_at:{timestamp:t},user_id:T.id,view_link:null,uploading:!0}})),folder_id:h?h.id:null,topic_id:parseInt(f.workspaceId),workspace_id:f.hasOwnProperty("folderId")?parseInt(f.fileFolderId):null};p.uploadingFiles(n);var r=new FormData;for(var i in e)e.hasOwnProperty(i)&&(e[i].ref_id=a(40).generate(),r.append("files["+i+"]",e[i]));var o={is_primary:0,topic_id:f.workspaceId,files:r};f.fileFolderId&&(o=Object(R.a)(Object(R.a)({},o),{},{folder_id:f.fileFolderId})),p.uploadFiles(o)}(e.acceptedFiles)},onCancel:x,params:f}),r.a.createElement("div",{className:"card-body"},h&&u&&"removed"!==c&&!A&&r.a.createElement(eD,{moreButton:"settings"},r.a.createElement("div",{onClick:function(){m(h,"update")}},v.editFolder),r.a.createElement("div",{onClick:function(){if(h){p.removeFolder(h,f.workspaceId,(function(e,t){if(!e&&t){var a=O.location.pathname.split("/folder/")[0];O.push(a)}}))}}},v.removeFolder)),"removed"===c&&d&&d.hasOwnProperty("trash_files")&&(Object.keys(d.trash_files).length>0||Object.values(b).filter((function(e){return e.is_archived})).length>0)&&r.a.createElement(pn,{icon:"trash",onClick:p.removeTrashFiles}),""===c&&r.a.createElement(r.a.Fragment,null,"undefined"===typeof f.fileFolderId&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},v.allFiles),h&&h.search&&r.a.createElement(MD,{folder:h,history:O,dictionary:v,folders:b,workspaceID:f.workspaceId}),r.a.createElement("div",{className:"row"},f.hasOwnProperty("fileFolderId")?g.filter((function(e){return!e.is_archived})).map((function(e){return r.a.createElement(zP,{key:e.id,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:O,isMember:u,params:f,handleAddEditFolder:m})})):Object.values(b).filter((function(e){return null===e.parent_folder&&!e.is_archived})).map((function(e){return r.a.createElement(zP,{key:e.id,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",disableOptions:A,folder:e,history:O,isMember:u,params:f,handleAddEditFolder:m})}))),"undefined"!==typeof f.fileFolderId?r.a.createElement(r.a.Fragment,null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},h.search),r.a.createElement("div",{className:"row"},d&&E.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(WP,{key:e,isMember:u,scrollRef:C,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],folders:b,disableOptions:A}):null}))),d&&0===E.length&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}),u&&r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:N,disabled:A},v.uploadFiles))):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},E.map((function(e){return d.files.hasOwnProperty(e)?r.a.createElement(WP,{key:e,isMember:u,scrollRef:C,actions:p,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:d.files[e],folders:b,disableOptions:A}):null}))),d.popular_files.length>0&&r.a.createElement(mD,{search:s,scrollRef:C,wsFiles:d,actions:p,folders:b,disableOptions:A}),d.recently_edited.length>0&&r.a.createElement(bD,{search:s,scrollRef:C,wsFiles:d,actions:p,folders:b,disableOptions:A})),0===E.length&&0===d.popular_files.length&&0===d.recently_edited.length&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}),u&&r.a.createElement("button",{className:"btn btn-outline-primary btn-block",onClick:N,disabled:A},v.uploadFiles))),"team"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(HD,{search:s,scrollRef:C,wsFiles:d,actions:p,folders:b,disableOptions:A}),!(d&&d.team_chat.length>0)&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}))),"client"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(YD,{search:s,scrollRef:C,wsFiles:d,actions:p,folders:b,disableOptions:A}),!(d&&d.client_chat.length>0)&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}))),"privatePost"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(KD,{search:s,scrollRef:C,wsFiles:d,actions:p,folders:b,disableOptions:A}),!(d&&d.private_post.length>0)&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}))),"clientPost"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(JD,{search:s,scrollRef:C,wsFiles:d,actions:p,folders:b,disableOptions:A}),!(d&&d.client_post.length>0)&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}))),"recent"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bD,{search:s,scrollRef:C,wsFiles:d,actions:p,folders:b,disableOptions:A}),!(d&&d.recently_edited.length>0)&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}))),"important"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lD,{search:s,scrollRef:C,wsFiles:d,folders:b,actions:p}),!(d&&d.hasOwnProperty("favorite_files")&&d.favorite_files.length>0)&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282}),r.a.createElement(aD,null,r.a.createElement("p",null,"No favorite files."),r.a.createElement("p",null,"Mark files as favorites that you want to easily find later.")))),"removed"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_D,{scrollRef:C,search:s,wsFiles:d,actions:p,isMember:u,params:f,folders:b,subFolders:g,handleAddEditFolder:m,folder:h,disableOptions:A}),!(d&&d.hasOwnProperty("trash_files")&&Object.keys(d.trash_files).length>0)&&!(Object.values(b).some((function(e){return e.is_archived}))||g.some((function(e){return e.is_archived})))&&r.a.createElement(tD,null,r.a.createElement(bn,{icon:4,height:282})))))}));function rD(){var e=Object(f.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return rD=function(){return e},e}var iD=E.a.div(rD()),oD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isMember,i=e.dropZoneRef,o=e.onSearchChange,c=e.onSearch,s=e.onEnter,l=e.wsFiles,d=e.handleAddEditFolder,u=e.folders,m=e.history,p=e.params,f=e.clearFilter,b=e.dictionary,h=e.disableOptions,E=e.onClickEmpty,_=e.value,O=function(e){if(f(),l.folders.hasOwnProperty(e.target.dataset.value)){var t=l.folders[e.target.dataset.value];t.hasOwnProperty("payload")?window.open(t.payload.url,"_blank"):p.hasOwnProperty("fileFolderId")?m.push(m.location.pathname.split("/folder/")[0]+"/folder/".concat(t.id,"/").concat(Wt(t.search))):m.push(m.location.pathname+"/folder/".concat(t.id,"/").concat(Wt(t.search)))}},g={label:r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{className:"mr-1",icon:"plus"})," ",b.add),items:[{value:"folder",label:b.folder,onClick:function(){return d("add")}},{value:"file",label:b.file,onClick:function(){i.current&&i.current.open()}}]},v={label:b.folders,items:l&&Object.values(u).length?Object.values(u).filter((function(e){return!e.is_archived})).map((function(e){return{value:e.id,label:e.search,onClick:O}})):[]};return r.a.createElement(iD,{className:"files-header app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("ul",{className:"list-inline"},!0===n&&!h&&r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(Wc,{dropdown:g})),!0===n&&Object.values(u).filter((function(e){return!e.is_archived})).length>=1&&r.a.createElement("li",{className:"list-inline-item mb-0"},r.a.createElement(Wc,{dropdown:v}))),r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:o,onKeyDown:s,value:_,className:"form-control",placeholder:b.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==_.trim()&&r.a.createElement("button",{onClick:E,className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:c},r.a.createElement(pn,{icon:"search"}))))))}));function cD(){var e=Object(f.a)([""]);return cD=function(){return e},e}var sD=E.a.div(cD()),lD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,o=e.actions;return r.a.createElement(sD,{className:"important-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Favorite"),r.a.createElement("div",{className:"row"},i&&i.favorite_files.length>0&&i.favorite_files.map((function(e){return r.a.createElement(WP,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folders:n,file:i.files[e],actions:o})}))))}));function dD(){var e=Object(f.a)([""]);return dD=function(){return e},e}var uD=E.a.div(dD()),mD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,o=e.actions,c=e.disableOptions;return r.a.createElement(uD,{className:"popular-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),r.a.createElement("div",{className:"row"},i&&i.popular_files.length>0&&i.popular_files.map((function(e){return r.a.createElement(WP,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:o,folders:n,disableOptions:c})}))))}));function pD(){var e=Object(f.a)([""]);return pD=function(){return e},e}var fD=E.a.div(pD()),bD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,o=e.actions,c=e.disableOptions;return r.a.createElement(fD,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),r.a.createElement("div",{className:"row"},i&&i.recently_edited.length>0&&i.recently_edited.map((function(e){return i.files.hasOwnProperty(e)?r.a.createElement(WP,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:o,folders:n,disableOptions:c}):null}))))}));function hD(){var e=Object(f.a)([""]);return hD=function(){return e},e}var ED=E.a.div(hD()),_D=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.actions,i=e.wsFiles,o=e.isMember,c=e.folders,s=e.subFolders,l=e.folder,d=e.params,u=e.handleAddEditFolder,m=e.disableOptions,p=Object(b.g)();return r.a.createElement(ED,{className:"remove-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),l&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},l.search),r.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?s.filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement(zP,{key:e.id,actions:n,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:o,params:d,handleAddEditFolder:u,disableOptions:m})})):Object.values(c).filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement(zP,{key:e.id,actions:n,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:p,isMember:o,params:d,handleAddEditFolder:u,disableOptions:m})}))),r.a.createElement("div",{className:"row"},d.hasOwnProperty("fileFolderId")?i&&Object.values(i.trash_files).length>0&&Object.values(i.trash_files).filter((function(e){return l?l.id===e.folder_id:null===e.folder_id})).map((function(e){return r.a.createElement(WP,{key:e.id,isMember:o,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:n,folders:c,disableOptions:m})})):i&&Object.values(i.trash_files).length>0&&Object.values(i.trash_files).map((function(e){return"undefined"!==typeof e?r.a.createElement(WP,{key:e.id,isMember:o,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:n,folders:c,disableOptions:m}):null}))))}));function OD(){var e=Object(f.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return OD=function(){return e},e}var gD=Object(E.a)(Uf)(OD()),vD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.file,o=e.scrollRef,c=void 0===o?null:o,s=e.actions,l=e.isMember,d=e.forceDelete,u=e.disableOptions,m=Op();return r.a.createElement(gD,{className:"file-options ".concat(a),moreButton:"more-horizontal",file:i,scrollRef:c},r.a.createElement("div",{onClick:function(){s.viewFiles(i)}},"View Details"),r.a.createElement("div",{onClick:function(){s.favorite(i)}},i.is_favorite?"Unfavorite":"Favorite"),r.a.createElement("div",{onClick:function(){s.copyLink(i.view_link)}},"Share"),r.a.createElement("div",{onClick:function(){s.download(i)}},"Download"),r.a.createElement("div",{onClick:function(){l?s.moveFile(i):m.warning(r.a.createElement(r.a.Fragment,null,"You are ",r.a.createElement("b",null,"not")," a member of this workspace."))}},"Move to"),r.a.createElement("div",{onClick:function(){l?s.renameFile(i):m.warning("You are not a member of this workspace.")}},"Rename"),d&&r.a.createElement("div",{onClick:function(){s.restoreWorkspaceFile(i,(function(e,t){t&&(i.folder_id&&"undefined"!==typeof n[i.folder_id]?m.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("b",null,i.search)," is restored to #",n[i.folder_id].search," folder.")):m.success(r.a.createElement(r.a.Fragment,null,"Item ",r.a.createElement("span",{className:"font-weight-bold"},i.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),!u&&r.a.createElement("div",{onClick:function(){l?i.hasOwnProperty("payload_id")?s.unlinkGoogleAttachment(i):s.removeFile(i,d):m.warning("You are not a member of this workspace.")}},"Remove"))}));function AD(){var e=Object(f.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return AD=function(){return e},e}var jD=Object(E.a)(Uf)(AD()),CD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.scrollRef,o=void 0===i?null:i,c=e.actions,s=e.isMember,l=e.history,d=e.params,u=e.handleAddEditFolder,m=Op();return r.a.createElement(jD,{className:"file-options ".concat(a),moreButton:"more-horizontal",folder:n,scrollRef:o},!n.hasOwnProperty("payload")&&r.a.createElement("div",{onClick:function(){s?u(n,"edit"):m.warning("You are not a member of this workspace.")}},"Rename"),n.is_archived&&r.a.createElement("div",{onClick:function(){console.log(n),c.restoreWorkspaceFolder(n,(function(e,t){t&&(n.parent_folder?m.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #$",n.parent_folder," folder.")):m.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),r.a.createElement("div",{onClick:function(){if(s)if(n.hasOwnProperty("payload"))c.unlinkGoogleFolder(n);else{c.removeFolder(n,d.workspaceId,(function(e,t){if(!e&&t){var a=l.location.pathname.split("/folder/")[0];l.push(a)}}))}else m.warning("You are not a member of this workspace.")}},"Remove"))})),TD=function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.folders,o=e.activeFolder,c=e.clearFilter,s=e.params;return r.a.createElement(ND,{className:a,clearFilter:c,folders:i,params:s,folder:n,activeFolder:o})};function yD(){var e=Object(f.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return yD=function(){return e},e}function SD(){var e=Object(f.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n\n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return SD=function(){return e},e}var kD=E.a.li(SD(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),wD=E.a.ul(yD(),(function(e){return e.maxHeight})),ND=function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,o=e.folders,c=e.activeFolder,s=e.clearFilter,l=Object(b.g)(),d=Object(b.j)(),u=d.params,m=d.path,p=d.url,f={container:Object(n.useRef)(null),arrow:Object(n.useRef)(null),nav:Object(n.useRef)(null)},h=Object(n.useState)(null),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(null),A=Object(_.a)(v,2),j=A[0],C=A[1];return Object(n.useEffect)((function(){null!==f.nav.current&&C(f.nav.current.scrollHeight)}),[f.nav.current,j]),Object(n.useEffect)((function(){c&&c.parent_folder&&c.parent_folder.id===i.id&&g(!0)}),[u,c]),r.a.createElement(kD,{ref:f.container,className:"folder-list fadeIn ".concat(a),selected:!!c&&c.id==i.id},r.a.createElement("a",{onClick:function(){if(i.hasOwnProperty("payload"))window.open(i.payload.url,"_blank");else{if(s(),"/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===m||"/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===m){var e=p.split("/folder/")[0];l.push(e+"/folder/".concat(i.id,"/").concat(Wt(i.search)))}else l.push(l.location.pathname+"/folder/".concat(i.id,"/").concat(Wt(i.search)));g((function(e){return!e}))}}},i.search,i.hasOwnProperty("payload")&&r.a.createElement(pn,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(O?"ti-minus rotate-in":"ti-plus")})),Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement(wD,{ref:f.nav,maxHeight:j,className:O?"enter-active":"leave-active"},O&&Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).map((function(e){return r.a.createElement(TD,{key:e.id,clearFilter:s,params:u,folderHeight:j,activeFolder:c,folders:o,folder:e})}))))},xD=a(151),RD=a.n(xD);function ID(){var e=Object(f.a)(["\n  cursor: pointer;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  opacity: ",";\n  .dropdown-menu {\n    width: 90%;\n    left: 5%;\n    top: 110%;\n  }\n  .link-div {\n    padding: 10px;\n  }\n"]);return ID=function(){return e},e}var PD=E.a.div(ID(),(function(e){return e.disabled?".5":"1"})),DD=function(e){var t=e.className,a=void 0===t?"":t,i=e.onChange,o=e.disableOptions,c=vs()._t,s=Object(n.useState)(!1),l=Object(_.a)(s,2),d=l[0],u=l[1],m=function(e){console.log("oauth token:",e),null===localStorage.getItem("gdrive")&&localStorage.setItem("gdrive",e)},p={linkGoogleDrive:c("FILE.LINK_GOOGLE_DRIVE","Link your Google Drive first"),gDriveAttachFile:c("FILE.ATTACH_GOOGLE_DRIVE_FILE","Attach a file"),gDriveAttachFolder:c("FILE.ATTACH_GOOGLE_DRIVE_FOLDER","Attach a folder")};return r.a.createElement(PD,{className:"google-drive dropdown ".concat(a),onClick:function(){o||u(!d)},disabled:o},r.a.createElement(pn,{className:"mr-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"})," Google Drive",r.a.createElement("div",{className:"dropdown-menu ".concat(d?"show":"")},null===localStorage.getItem("gdrive")?r.a.createElement(RD.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return i(e)},onAuthenticate:function(e){return m(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,viewId:"DOCS"},r.a.createElement("div",{className:"link-div"},p.linkGoogleDrive)):r.a.createElement(r.a.Fragment,null,r.a.createElement(RD.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return i(e)},onAuthenticate:function(e){return m(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"DOCS"},r.a.createElement("div",{className:"dropdown-item"},p.gDriveAttachFile)),r.a.createElement(RD.a,{clientId:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",developerKey:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",scope:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.metadata.readonly"],onChange:function(e){return console.log("on change:",e)},onAuthenticate:function(e){return m(e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:null!==localStorage.getItem("gdrive"),viewId:"FOLDERS",createPicker:function(e,t){var a=e.picker.ViewId.FOLDERS,n=new e.picker.DocsView(a).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.folder").setSelectFolderEnabled(!0);console.log("AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA"),(new window.google.picker.PickerBuilder).addView(n).setOAuthToken(t).setDeveloperKey("AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA").setCallback((function(e){i(e),console.log("Custom picker is ready!",e)})).build().setVisible(!0)}},r.a.createElement("div",{className:"dropdown-item"},p.gDriveAttachFolder)))))};function LD(){var e=Object(f.a)(["\n    letter-spacing: 0.5px;\n    font-weight: 500;\n    line-height: 1;\n    height: 37px;\n    align-items: center;\n    ul {\n        list-style-type: none;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        flex-wrap: wrap;\n        li {\n            height: 100%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n        }\n        > svg {\n            margin: 0 6px;\n        }\n    }\n"]);return LD=function(){return e},e}var FD=E.a.div(LD()),MD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,o=e.history,c=e.dictionary,s=e.folders,l=e.workspaceID,d=Object(b.j)().url,u=Object(n.useState)(!1),m=Object(_.a)(u,2),p=m[0],f=m[1];return Object(n.useEffect)((function(){i.parent_folder&&Object.values(s).forEach((function(e){e.id===i.parent_folder.id&&(e.parent_folder?f(!0):f(!1))})),i.parent_folder||f(!1)}),[i]),r.a.createElement(FD,{className:"files-breadcrumb d-flex ".concat(a)},r.a.createElement("ul",{className:"font-size-11 text-uppercase mb-4"},r.a.createElement("li",{onClick:function(){var e=o.location.pathname.split("/folder/")[0];o.push(e)}},c.allFiles),r.a.createElement(pn,{width:12,icon:"chevron-right"}),p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(yf,{parentFolder:i.parent_folder,workspaceID:l,history:o})),r.a.createElement(pn,{width:12,icon:"chevron-right"})),i.parent_folder&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:function(){return function(e){var t=d.split("/folder/")[0];o.push(t+"/folder/".concat(e.id,"/").concat(Wt(e.name)))}(i.parent_folder)}},i.parent_folder.name),r.a.createElement(pn,{width:12,icon:"chevron-right"})),r.a.createElement("div",null,i.search)))}));function UD(){var e=Object(f.a)([""]);return UD=function(){return e},e}var GD=E.a.div(UD()),HD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,o=e.actions,c=e.disableOptions;return r.a.createElement(GD,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Team chat"),r.a.createElement("div",{className:"row"},i&&i.team_chat.length>0&&i.team_chat.map((function(e){return i.files.hasOwnProperty(e)?r.a.createElement(WP,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:o,folders:n,disableOptions:c}):null}))))}));function BD(){var e=Object(f.a)([""]);return BD=function(){return e},e}var WD=E.a.div(BD()),YD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,o=e.actions,c=e.disableOptions;return r.a.createElement(WD,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Client chat"),r.a.createElement("div",{className:"row"},i&&i.client_chat.length>0&&i.client_chat.map((function(e){return i.files.hasOwnProperty(e)?r.a.createElement(WP,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:o,folders:n,disableOptions:c}):null}))))}));function VD(){var e=Object(f.a)([""]);return VD=function(){return e},e}var QD=E.a.div(VD()),KD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,o=e.actions,c=e.disableOptions;return r.a.createElement(QD,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Private post"),r.a.createElement("div",{className:"row"},i&&i.private_post.length>0&&i.private_post.map((function(e){return i.files.hasOwnProperty(e)?r.a.createElement(WP,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:o,folders:n,disableOptions:c}):null}))))}));function zD(){var e=Object(f.a)([""]);return zD=function(){return e},e}var qD=E.a.div(zD()),JD=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.wsFiles,o=e.actions,c=e.disableOptions;return r.a.createElement(qD,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Post with client"),r.a.createElement("div",{className:"row"},i&&i.client_post.length>0&&i.client_post.map((function(e){return i.files.hasOwnProperty(e)?r.a.createElement(WP,{key:e,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:i.files[e],actions:o,folders:n,disableOptions:c}):null}))))}));function ZD(){var e=Object(f.a)(["\n  width: 15px;\n"]);return ZD=function(){return e},e}function XD(){var e=Object(f.a)(["\n  cursor: pointer;\n\n  ","\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return XD=function(){return e},e}function $D(){var e=Object(f.a)([""]);return $D=function(){return e},e}function eL(){var e=Object(f.a)(["\n  text-align: left;\n    @media (max-width: 991.99px) {\n        .card {\n            margin-bottom: 0;\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: 0;\n            display: flex;\n            .card-body {\n                order: 2;\n            }\n            .app-sidebar-menu {\n                order: 1;\n                display: flex;\n                flex-direction: column;\n\n                .card-body {\n                    order: 1;\n                    border-bottom: 1px solid #ebebeb;\n                }\n                .list-group {\n                    order: 2;\n                    border-bottom: 1px solid #ebebeb;\n                }\n            }\n        }\n        .folder-list {\n            display: none !important;\n        }\n    }\n"]);return eL=function(){return e},e}var tL=E.a.div(eL()),aL=E.a.div($D()),nL=E.a.span(XD(),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),rL=Object(E.a)(pn)(ZD()),iL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.actions,i=e.filterFile,o=e.filter,c=void 0===o?"all":o,s=e.dropZoneRef,l=e.storageLimit,d=void 0===l?25:l,u=e.fileCount,m=e.folders,p=e.activeFolder,f=e.clearFilter,b=e.params,h=e.disableOptions,E=vs()._t,_=n.getFileSizeUnit(u.storage),O=0===u.storage?0:u.storage<1e8?1e8:u.storage,g={uploadFiles:E("FILE.UPLOAD_FILES","Upload files"),allFiles:E("FILES.ALL_FILES","All files"),recentlyEdited:E("FILES.RECENTLY_EDITED","Recently edited"),favorite:E("FILE.FAVORITE","Favorite"),removed:E("FILES.REMOVED","Removed"),storageStatus:E("FILES.STORAGE_STATUS","Storage Status"),usedOf:E("FILE.USED_OF","used of"),gigabyte:E("FILE.GIGABYTE","GB")};return r.a.createElement(tL,{className:"file-sidebar bottom-modal-mobile ".concat(a)},r.a.createElement(aL,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"card bottom-modal-mobile_inner"},r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:"btn btn-primary btn-block file-upload-btn",onClick:function(){s.current&&s.current.open()},disabled:h},g.uploadFiles),r.a.createElement("form",{className:"d-none",id:"file-upload"},r.a.createElement("input",{type:"file",multiple:""}))),r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement(nL,{onClick:i,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},r.a.createElement(rL,{className:"mr-2",icon:"folder"}),g.allFiles,r.a.createElement("span",{className:"small ml-auto"},u.all>0?u.all:null)),m&&Object.values(m).filter((function(e){return!e.is_archived})).length>0&&r.a.createElement(nL,{className:"d-flex align-items-center folder-list"},r.a.createElement("ul",null,Object.values(m).filter((function(e){return!e.is_archived&&null===e.parent_folder})).map((function(e){return r.a.createElement(dL,{key:e.id,clearFilter:f,folders:m,params:b,folder:e,activeFolder:p})})))),r.a.createElement(DD,{onChange:function(e){"picked"===e.action&&e.docs.forEach((function(e){n.uploadCompanyGoogleDriveFile(e)}))},disableOptions:h}),r.a.createElement(nL,{onClick:i,"data-filter":"recent",active:"recent"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement(rL,{className:"mr-2",icon:"monitor"}),g.recentlyEdited),r.a.createElement(nL,{onClick:i,"data-filter":"important",active:"important"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement(rL,{className:"mr-2",icon:"star"}),g.favorite,r.a.createElement("span",{className:"small ml-auto"},u.stars>0?u.stars:null)),r.a.createElement(nL,{onClick:i,"data-filter":"removed",active:"removed"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement(rL,{className:"mr-2",icon:"trash"}),g.removed,r.a.createElement("span",{className:"small ml-auto"},u.trash>0?u.trash:null))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"mb-4"},g.storageStatus),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"mr-3"},r.a.createElement(pn,{icon:"database"})),r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement(Yf,{amount:O,limit:1e9*d}),r.a.createElement("div",{className:"line-height-12 small text-muted mt-2"},_.size.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0],_.unit," ",g.usedOf," ",d,g.gigabyte)))))))}));function oL(){var e=Object(f.a)(["\n  display: block !important;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  list-style: none;\n\n  &.enter-active {\n    max-height: 1000px;\n    //max-height: ","px;\n  }\n  &.leave-active {\n    max-height: 0px;\n  }\n"]);return oL=function(){return e},e}function cL(){var e=Object(f.a)(["\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  width: 100%;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    color: ",";\n    :hover {\n      color: #7a1b8b;\n    }\n  }\n\n  .sub-menu-arrow {\n    display: inline-block;\n    transition: all 0.3s;\n    width: 15px;\n    font-size: 8.8px;\n    transform: rotate(0deg);\n    margin-right: 2px;\n    margin-left: 10px;\n    \n    &.ti-minus {\n      margin-left: 6px;\n    }\n\n    &.rotate-in {\n      transform: rotate(-540deg);\n    }\n  }\n\n  > ul {\n    padding: 0;\n    margin-left: 5px;\n  }\n"]);return cL=function(){return e},e}var sL=E.a.li(cL(),(function(e){return e.selected?"bold":"normal"}),(function(e){return e.selected?"#7a1b8b !important":"#64625C"})),lL=E.a.ul(oL(),(function(e){return e.maxHeight})),dL=function(e){var t=e.className,a=void 0===t?"":t,i=e.folder,o=e.folders,c=e.activeFolder,s=e.clearFilter,l=Object(b.g)(),d=Object(b.j)(),u=d.params,m=d.path,p=d.url,f={container:Object(n.useRef)(null),arrow:Object(n.useRef)(null),nav:Object(n.useRef)(null)},h=Object(n.useState)(null),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(null),A=Object(_.a)(v,2),j=A[0],C=A[1];return Object(n.useEffect)((function(){null!==f.nav.current&&C(f.nav.current.scrollHeight)}),[f.nav.current,j]),Object(n.useEffect)((function(){c&&c.parent_folder&&c.parent_folder.id===i.id&&g(!0)}),[u,c]),r.a.createElement(sL,{ref:f.container,className:"folder-list fadeIn ".concat(a),selected:!!c&&c.id===i.id},r.a.createElement("a",{onClick:function(){if(i.hasOwnProperty("payload"))window.open(i.payload.url,"_blank");else{if(s(),"/files/folder/:folderId/:folderName"===m){var e=p.split("/folder/")[0];l.push(e+"/folder/".concat(i.id,"/").concat(Wt(i.search)))}else l.push("/files/folder/".concat(i.id,"/").concat(Wt(i.search)));g((function(e){return!e}))}}},i.search,i.hasOwnProperty("payload")&&r.a.createElement(pn,{className:"ml-2",icon:"gdrive",viewBox:"0 0 512 512",height:"20",width:"15",fill:"#000",opacity:".8"}),Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement("i",{className:"sub-menu-arrow ti-angle-up ".concat(O?"ti-minus rotate-in":"ti-plus")})),Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).length>0&&r.a.createElement(lL,{ref:f.nav,maxHeight:j,className:O?"enter-active":"leave-active"},O&&Object.values(o).filter((function(e){return!e.is_archived&&e.parent_folder&&e.parent_folder.id===i.id})).map((function(e){return r.a.createElement(kL,{key:e.id,clearFilter:s,params:u,folderHeight:j,activeFolder:c,folders:o,folder:e})}))))};function uL(){var e=Object(f.a)(["\n  .more-options-tooltip {\n    position: absolute;\n    font-size: 0.835rem;\n    width: 150px;\n\n    &.orientation-top {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-bottom {\n      top: calc(100% - 25px);\n      bottom: auto;\n    }\n    &.orientation-left {\n      right: calc(100% + 5px);\n      left: auto;\n    }\n    &.orientation-right {\n      left: calc(100% + 25px);\n      right: auto;\n    }\n  }\n"]);return uL=function(){return e},e}var mL=Object(E.a)(Uf)(uL()),pL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.scrollRef,o=void 0===i?null:i,c=e.actions,s=e.history,l=e.handleAddEditFolder,d=Op();return r.a.createElement(mL,{className:"file-options ".concat(a),moreButton:"more-horizontal",folder:n,scrollRef:o},!n.hasOwnProperty("payload")&&!n.is_archived&&r.a.createElement("div",{onClick:function(){l(n,"edit")}},"Rename"),n.is_archived&&r.a.createElement("div",{onClick:function(){c.restoreCompanyFolder(n,(function(e,t){t&&(n.parent_folder?d.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #$",n.parent_folder," folder.")):d.success(r.a.createElement(r.a.Fragment,null,"Folder ",r.a.createElement("span",{className:"font-weight-bold"},n.search)," is restored to #All Files folder.")))}),{message:!1})}},"Restore"),r.a.createElement("div",{onClick:function(){if(n.hasOwnProperty("payload"))c.unlinkGoogleFolder(n);else{c.removeCompanyFolder(n,(function(e,t){if(!e&&t){var a=s.location.pathname.split("/folder/")[0];s.push(a),d.info(r.a.createElement(r.a.Fragment,null,"You have removed ",r.a.createElement("b",null,n.search),"."))}}))}}},"Remove"))}));function fL(){var e=Object(f.a)([""]);return fL=function(){return e},e}var bL=E.a.div(fL()),hL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.files,o=e.actions,c=e.dictionary;return r.a.createElement(bL,{className:"important-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},c.favoriteTitle),r.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return r.a.createElement(WP,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,folders:n,actions:o})}))))}));function EL(){var e=Object(f.a)([""]);return EL=function(){return e},e}var _L=E.a.div(EL()),OL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.files,o=e.actions,c=e.disableOptions;return r.a.createElement(_L,{className:"popular-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Popular"),r.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return r.a.createElement(lP,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,actions:o,folders:n,files:i,disableOptions:c})}))))}));function gL(){var e=Object(f.a)([""]);return gL=function(){return e},e}var vL=E.a.div(gL()),AL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.folders,i=e.files,o=e.actions,c=e.disableOptions;return r.a.createElement(vL,{className:"recent-edited-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Recently edited"),r.a.createElement("div",{className:"row"},i.length>0&&i.map((function(e){return r.a.createElement(lP,{key:e.id,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:i,folders:n,actions:o,disableOptions:c})}))))}));function jL(){var e=Object(f.a)([""]);return jL=function(){return e},e}var CL,TL,yL=E.a.div(jL()),SL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.actions,i=e.files,o=e.folders,c=e.subFolders,s=e.folder,l=e.params,d=e.handleAddEditFolder,u=e.disableOptions,m=Object(b.g)();return r.a.createElement(yL,{className:"remove-files ".concat(a)},r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},"Removed"),s&&r.a.createElement("h6",{className:"font-size-11 text-uppercase mb-4"},s.search),r.a.createElement("div",{className:"row"},l.hasOwnProperty("folderId")?c.filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement(_P,{key:e.id,actions:n,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:m,params:l,handleAddEditFolder:d,disableOptions:u})})):Object.values(o).filter((function(e){return e.is_archived})).map((function(e){return r.a.createElement(_P,{key:e.id,actions:n,folders:o,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",folder:e,history:m,params:l,handleAddEditFolder:d,disableOptions:u})}))),r.a.createElement("div",{className:"row"},l.hasOwnProperty("folderId")?i&&Object.values(i).length>0&&Object.values(i).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})).map((function(e){return r.a.createElement(lP,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(i).filter((function(e){return s?s.id===e.folder_id:null===e.folder_id})),actions:n,folders:o,disableOptions:u})})):i&&Object.values(i).length>0&&Object.values(i).map((function(e){return"undefined"!==typeof e?r.a.createElement(lP,{key:e.id,forceDelete:!0,className:"col-xl-3 col-lg-4 col-md-6 col-sm-12",file:e,files:Object.values(i),folders:o,actions:n,disableOptions:u}):null}))))})),kL=function(e){var t=e.className,a=void 0===t?"":t,n=e.folder,i=e.folders,o=e.activeFolder,c=e.clearFilter,s=e.params;return r.a.createElement(dL,{className:a,clearFilter:c,folders:i,params:s,folder:n,activeFolder:o})},wL=E.a.div(CL||(CL=Object(f.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]))),NL=E.a.div(TL||(TL=Object(f.a)(["\n  padding-top: 10px;\n"]))),xL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isMember,o=e.workspace,c=Object(l.useDispatch)(),s=Object(b.g)(),d=vs()._t,u=Pp(),m=u.params,p=u.isLoaded,f=u.files,h=u.fileCount,E=u.actions,O=u.fileIds,g=u.folders,v=u.folder,A=u.subFolders,j=u.loadMore,C=Object(n.useState)(""),T=Object(_.a)(C,2),y=T[0],S=T[1],k=Object(n.useState)(""),w=Object(_.a)(k,2),N=w[0],x=w[1],I={dropZone:Object(n.useRef)(null)},P=!1;o&&0===o.active&&(P=!0);var D=function(){E.searchCompany(N)},L=function(){x(""),E.clearSearch()},F={createFolder:d("FILE.CREATE_FOLDER","Create folder"),create:d("FILE.CREATE","Create"),updateFolder:d("FILE.UPDATE_FOLDER","Update folder"),update:d("FILE.UPDATE","Update"),editFolder:d("FILE.EDIT_FOLDER","Edit folder"),removeFolder:d("FILE.REMOVE_FOLDER","Remove folder"),add:d("FILE.ADD","Add"),favorite:d("FILE.FAVORITE","Favorite"),favoriteTitle:d("FILE.FAVORITE_TITLE","Favorite"),file:d("FILE.FILE","File"),folder:d("FILE.FOLDER","Folder"),folders:d("FILE.FOLDERS","Folders"),allFiles:d("FILES.ALL_FILES","All files"),recentlyEdited:d("FILES.RECENTLY_EDITED","Recently edited"),removed:d("FILES.REMOVED","Removed"),searchInputPlaceholder:d("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:d("FILE.UPLOAD_FILES","Upload files")},M=Object(n.useRef)(""),U=function(){M.current=""},G=function(e){M.current=e.target.value.trim()},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=function(){var e={name:M.current};m.hasOwnProperty("folderId")&&(e=Object(R.a)(Object(R.a)({},e),{},{folder_id:m.folderId})),E.createCompanyFolders(e,(function(e,t){if(!e)if(m.hasOwnProperty("folderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(Wt(t.data.folder.search)))}else s.push(s.location.pathname+"/folder/".concat(t.data.folder.id,"/").concat(Wt(t.data.folder.search)))}))},n=function(){E.updateCompanyFolders({id:e.id,name:M.current,is_archived:!0},(function(e,t){if(!e&&m.hasOwnProperty("folderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(Wt(t.data.folder.search)))}}))},i={type:"single_input",defaultValue:"",label:"Folder name",postInputLabel:null===v?"":r.a.createElement(NL,null,"The folder will be created inside ",r.a.createElement("b",null,"#",v.search)),onChange:G,onClose:U};"add"===t?i=Object(R.a)(Object(R.a)({},i),{},{title:F.createFolder,preInputLabel:"Folders help to organize your files. A file can only be connected to one folder.",labelPrimaryAction:F.create,onPrimaryAction:a}):(M.current=e.search,i=Object(R.a)(Object(R.a)({},i),{},{defaultValue:e.search,title:"Rename folder",preInputLabel:"Renaming the folder will update the folder name for everyone.",labelPrimaryAction:"Rename folder",onPrimaryAction:n})),c(Ye(i))},B=function(){S("")};return Object(n.useEffect)((function(){v&&v.is_archived&&"removed"!==y&&S("removed")}),[v,y,S]),r.a.createElement(wL,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("div",{className:"row app-block"},r.a.createElement(iL,{init:p,actions:E,isMember:i,clearFilter:B,params:m,dropZoneRef:I.dropZone,className:"col-lg-3",filterFile:function(e){if(m.hasOwnProperty("folderId")){var t=s.location.pathname.split("/folder/")[0];s.push(t)}S(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:y,fileCount:h,folders:g,activeFolder:v,dictionary:F,disableOptions:P}),r.a.createElement("div",{className:"col-lg-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(wP,{isMember:i,clearFilter:B,dropZoneRef:I.dropZone,history:s,params:m,onSearch:D,onSearchChange:function(e){""===e.target.value&&L(),x(e.target.value)},onEnter:function(e){"Enter"===e.key&&D()},files:f,handleAddEditFolder:H,folders:g,dictionary:F,disableOptions:P,onClickEmpty:L,value:N}),r.a.createElement(jP,{dropZoneRef:I.dropZone,isLoaded:p,loadMore:j,filter:y,search:N,folders:g,folder:v,fileIds:O,subFolders:A,history:s,actions:E,params:m,files:f,handleAddEditFolder:H,dictionary:F,disableOptions:P}))))}));function RL(){var e=Object(f.a)(["\n  height: 1rem;\n  width: 1rem;\n  cursor: pointer;\n  ","\n"]);return RL=function(){return e},e}function IL(){var e=Object(f.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return IL=function(){return e},e}function PL(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n\n  &.page-notifications,\n  &.page-profile,\n  &.page-settings,\n  &.page-system {\n    .navbar-left {\n      .navbar-nav {\n        .navbar-wrap {\n          .navbar-top {\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n  .navbar-left {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding-right: 15px;\n    .navbar-nav {\n      height: 100%;\n      .navbar-wrap {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        .navbar-top {\n          margin-top: 4px;\n          display: flex;\n          align-items: center;\n          height: 40px;\n        }\n        .navbar-bottom {\n          @media all and (max-width: 700px) {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            padding: 0 16px;\n          }\n        }\n      }\n      @media all and (max-width: 700px) {\n        margin-left: 0;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  svg.feather-home {\n    color: rgb(80, 80, 80);\n\n    .dark & {\n      color: #fff;\n    }\n  }\n  .dash {\n  }\n  @media all and (max-width: 700px) {\n    align-items: start;\n  }\n"]);return PL=function(){return e},e}var DL,LL,FL,ML,UL,GL,HL,BL,WL,YL=E.a.div(PL()),VL=E.a.h2(IL()),QL=Object(E.a)(pn)(RL(),(function(e){return e.isFavorite&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),KL=r.a.memo((function(){var e=Object(b.j)(),t=Object(l.useSelector)((function(e){return e.settings})),a=t.driff,i=t.user.GENERAL_SETTINGS.dark_mode,o=Object(l.useSelector)((function(e){return e.global.unreadCounter})),c=Object(l.useSelector)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),s=Object(l.useSelector)((function(e){return Object.values(e.workspaces.workspaces).find((function(e){return c&&c.id===e.id}))})),d=vs()._t,u={pageTitleDashboard:d("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:d("PAGE_TITLE.POSTS","Posts"),pageTitleChat:d("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:d("PAGE_TITLE.FILES","Files"),pageTitleNotifications:d("PAGE_TITLE.NOTIFICATIONS","Notifications"),pageTitlePeople:d("PAGE_TITLE.PEOPLE","People"),pageTitleProfile:d("PAGE_TITLE.PROFILE","Profile"),pageTitleSearch:d("PAGE_TITLE.SEARCH","Search"),pageTitleSettings:d("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:d("PAGE_TITLE.TODOS","Reminders"),pageTitleSystemPeople:d("PAGE_TITLE.SYSTEM_PEOPLE","All people"),generalSearch:d("GENERAL.SEARCH","Search"),generalNotifications:d("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:d("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===i?d("SETTINGS.DARK_MODE","dark mode"):d("SETTINGS.LIGHT_MODE","light mode")}),bots:d("SIDEBAR.BOTS","Bots")},m=Object(l.useDispatch)(),p=Object(n.useState)(u.pageTitleDashboard),f=Object(_.a)(p,2),h=f[0],E=f[1],O=function(){if(s){var e={id:s.id,workspace_id:0,is_pinned:s.is_favourite?0:1};m(Vm(e))}};return Object(n.useEffect)((function(){var t=document.body;switch(["people","workspace","notifications"].includes(e.params.page)?t.classList.remove("stretch-layout"):t.classList.add("stretch-layout"),e.params.page){case"posts":E(u.pageTitlePosts);break;case"chat":E(u.pageTitleChat);break;case"files":E(u.pageTitleFiles);break;case"notifications":E(u.pageTitleNotifications);break;case"people":E(u.pageTitlePeople);break;case"profile":E(u.pageTitleProfile);break;case"search":E(u.pageTitleSearch);break;case"settings":E(u.pageTitleSettings);break;case"todos":E(u.pageTitleTodos);break;default:E(u.pageTitleDashboard)}o.chat_message>=1||o.unread_channel>0?document.title="".concat(h," \u2039 * ").concat(a.company_name," @ Driff"):document.title="".concat(h," \u2039 ").concat(a.company_name," @ Driff")}),[e.params.page,m,h]),r.a.createElement(YL,{className:"page-".concat(e.params.page)},r.a.createElement("div",{className:"navbar-left"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("div",{className:"navbar-wrap"},r.a.createElement("div",{className:"navbar-top"},r.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},r.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:function(e){e.preventDefault(),document.body.classList.add("navigation-show")}},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},function(){switch(e.params.page){case"notifications":return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{className:"mr-2",icon:"bell"}),r.a.createElement(VL,null,u.pageTitleNotifications));case"profile":return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{className:"mr-2",icon:"user"}),r.a.createElement(VL,null,u.pageTitleProfile));case"settings":return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{className:"mr-2",icon:"settings"}),r.a.createElement(VL,null,u.pageTitleSettings));case"system":return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{className:"mr-2",icon:"user"}),r.a.createElement(VL,null,u.pageTitleSystemPeople));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{className:"mr-2",icon:"home"})," ",r.a.createElement(VL,null,a.company_name),c&&r.a.createElement(QL,{className:"mr-2",icon:"star",onClick:O,isFavorite:s&&s.is_favourite}))}}())),!["system","notifications","profile","settings"].includes(e.params.page)&&r.a.createElement("div",{className:"navbar-bottom"},r.a.createElement("div",{className:"navbar-main"},r.a.createElement(hF,{dictionary:u})))))),r.a.createElement("div",null,r.a.createElement(If,{dictionary:u})))})),zL=E.a.div(DL||(DL=Object(f.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n"]))),qL=Object(E.a)(wh)(LL||(LL=Object(f.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 0;\n  }\n"]))),JL=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=sm(),o=i.users,c=i.loggedUser,s=i.selectUserChannel,l=Object(b.g)(),d=Object(n.useState)(""),u=Object(_.a)(d,2),m=u[0],p=u[1],f={search:Object(n.useRef)()},h=function(e){l.push("/profile/".concat(e.id,"/").concat(Wt(e.name)))},E=function(e){return s(e)};Object(n.useEffect)((function(){f.search.current.focus()}),[]);var O=Object.values(o).sort((function(e,t){return e.name.toString().localeCompare(t.name)})).filter((function(e){return!["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email)&&("internal"===e.type&&(1===e.active&&(""===m||-1!==e.name.toLowerCase().search(m.toLowerCase())||-1!==e.email.toLowerCase().search(m.toLowerCase()))))})),g=vs()._t,v={searchPeoplePlaceholder:g("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:g("PEOPLE.EXTERNAL","External"),peopleInvited:g("PEOPLE.INVITED","Invited")};return r.a.createElement(zL,{className:"workspace-people container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(qL,{ref:f.search,value:m,closeButton:"true",onClickEmpty:function(){p("")},placeholder:v.searchPeoplePlaceholder,onChange:function(e){p(e.target.value)},autoFocus:!0}),r.a.createElement("div",{className:"row"},O.map((function(e){return r.a.createElement(fk,{loggedUser:c,key:e.id,user:e,onNameClick:h,onChatClick:E,dictionary:v})}))))))})),ZL=E.a.div(FL||(FL=Object(f.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),XL=E.a.span(ML||(ML=Object(f.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),$L=E.a.div(UL||(UL=Object(f.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),eF=E.a.div(GL||(GL=Object(f.a)(["\n  //text-align: right;\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),tF=Object(E.a)(pn)(HL||(HL=Object(f.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),aF=!1,nF=function(e){var t=e.className,a=void 0===t?"":t,i=Object(b.i)(),o=Object(b.g)(),c=Ip(),s=c.actions,l=c.fetchMore,d=c.posts,u=c.filter,m=c.tag,p=c.postListTag,f=c.sort,h=c.post,E=c.user,O=c.search,g=c.count,v=c.postLists,A=c.counters,j=h?Object.values(h.user_reads).sort((function(e,t){return e.name.localeCompare(t.name)})):[],C=h&&h.required_users?h.required_users:[],T=Object(n.useState)(!1),y=Object(_.a)(T,2),S=y[0],k=y[1],w=Object(n.useState)(!1),N=Object(_.a)(w,2),x=N[0],R=N[1],I=Object(n.useState)({}),P=Object(_.a)(I,2),D=P[0],L=P[1],F="external"===E.type,M=function(){i.hasOwnProperty("postId")&&o.push("/posts")},U=vs()._t,G={createNewPost:U("POST.CREATE_NEW_POST","Create new post"),all:U("POST.ALL","All"),inbox:U("POST.INBOX","Inbox"),newReply:U("POST.NEW_REPLY","New reply"),myPosts:U("POST.MY_POSTS","My sent posts"),starred:U("POST.STARRED","Starred"),archived:U("POST.ARCHIVED","Archived"),draft:U("POST.DRAFT","Draft"),drafts:U("POST.DRAFTS","Drafts"),category:U("POST.CATEGORY","Category"),replyRequired:U("POST.REPLY_REQUIRED","Reply required"),mustRead:U("POST.MUST_READ","Must read"),noReplies:U("POST.NO_REPLIES","No replies"),sortBy:U("POST.SORT_BY","Sort by"),starredFavorite:U("POST.STARRED_FAVORITE","Starred / Favorite"),recent:U("POST.RECENT","Recent"),unread:U("POST.UNREAD","Unread"),searchPost:U("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:U("POST.MARK_AS_READ","Mark as read"),markAsUnread:U("POST.MARK_AS_UNREAD","Mark as unread"),share:U("POST.SHARE","Share"),snooze:U("POST.SNOOZE","Snooze"),follow:U("POST.FOLLOW","Follow"),unFollow:U("POST.UNFOLLOW","Unfollow"),files:U("POST.FILES","Files"),comment:U("POST.COMMENT","Comment"),editPost:U("POST.EDIT_POST","Edit post"),editReply:U("POST.EDIT_REPLY","Edit reply"),removeReply:U("POST.REMOVE_REPLY","Remove reply"),quote:U("POST.QUOTE","Quote"),mentionUser:U("POST.MENTION_USER","Mention user"),remindMeAboutThis:U("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:U("POST.SEARCH_RESULT","Search Result:"),searchResults:U("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:U("POST.NO_SEARCH_RESULT","No result found:"),actionMarkAsDone:U("POST.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:U("POST.ACTION_MARK_AS_UNDONE","Mark as not done"),private:U("POST.PRIVATE","Private"),by:U("POST.BY","by"),star:U("POST.STAR","Mark with star"),unStar:U("POST.UNSTAR","Unmark star"),alreadyReadThis:U("POST.ALREADY_READ_THIS","I've read this"),readByNumberofUsers:1===j?U("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_name::",{user_name:j[0].first_name}):U("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:j.length}),me:U("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:U("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:U("SHOW_MORE","Show more"),showLess:U("SHOW_LESS","Show less"),markAll:U("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:U("POST.ARCHIVE_ALL","Archive all"),noComment:U("POST.NO_COMMENT","no comment"),oneComment:U("POST.ONE_COMMENT","1 comment"),comments:U("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:U("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:U("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:U("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:U("POST.ARCHIVE","Archive"),requestChange:U("POST.REQUEST_CHANGE","Request for change"),accept:U("POST.ACCEPT","Accept"),hasAcceptedProposal:U("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:U("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:U("POST.ACTION_NEEDED","Action needed"),changeRequested:U("POST.CHANGE_REQUESTED","Change requested"),accepted:U("POST.ACCEPTED","Accepted"),requestForApproval:U("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:U("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:U("POST.REPLIES_CLOSED","Replies closed"),openThisPost:U("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:U("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:U("POST.REOPEN","Reopen"),closed:U("POST.CLOSED","Closed"),createNewList:U("POST.CREATE_NEW_LIST","New List"),addToList:U("POST.ADD_TO_LIST","Add to list"),removeToList:U("POST.REMOVE_TO_LIST","Remove to list"),ofNumberOfUsers:U("POST.OF_NUMBER_OF_USERS","of ::user_count:: user/s",{user_count:C.length}),allOthers:U("POST.ALL_OTHERS","All others"),sharedClientBadge:U("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:U("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:U("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:U("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:U("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:U("BUTTON.SELECT_ALL","Select all"),remove:U("BUTTON.REMOVE","Remove")},H=Object(n.useMemo)((function(){var e=Object(Kt.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&R(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(n.useEffect)((function(){x&&(aF||""!==O||h||(k(!0),aF=!0,l((function(e,t){k(!1),aF=!1,R(!1)}))))}),[x]),Object(n.useEffect)((function(){return s.getUnreadNotificationEntries({add_unread_comment:1}),function(){return s.getUnreadNotificationEntries({add_unread_comment:1})}}),[]),Object(n.useEffect)((function(){if(p){var e=Object(Kt.find)(v,(function(e){return parseInt(e.id)===parseInt(p)}));if(v.map((function(t){e&&parseInt(p)===t.id&&L(t)})),!e){L(v[0]);var t={tag:null,postListTag:v[0].id,filter:null};s.setCompanyFilterPosts(t)}}}),[p,v]);return null===d?r.a.createElement(r.a.Fragment,null):r.a.createElement(ZL,{className:"container-fluid h-100 fadeIn ".concat(a),onScroll:H},r.a.createElement("div",{className:"row app-block"},r.a.createElement(MR,{filter:u,tag:m,postListTag:p,postActions:s,count:g,postLists:v,counters:A,onGoBack:M,dictionary:G}),r.a.createElement("div",{className:"col-md-9 app-content"},r.a.createElement("div",{className:"app-content-overlay"}),!h&&r.a.createElement(lR,{activeSort:f,search:O,dictionary:G,className:"mb-3"}),!!p&&r.a.createElement(eF,null,r.a.createElement("span",null,"Filter:"),r.a.createElement(XL,{className:"ml-2 recipients"},r.a.createElement("span",{className:"receiver"},r.a.createElement("span",{onClick:function(){s.setCompanyFilterPosts({tag:null,filter:"all"})}},r.a.createElement(tF,{icon:"x",className:"mr-1"})),D.name))),0===d.length&&""===O?r.a.createElement(YR,{actions:s,dictionary:G}):r.a.createElement(r.a.Fragment,null,h?r.a.createElement("div",{className:"card card-body app-content-body"},r.a.createElement($L,{className:"fadeBottom"},r.a.createElement(Qx,{readByUsers:j,post:h,posts:d,filter:u,postActions:s,user:E,history:o,onGoBack:M,dictionary:G,isExternalUser:F}))):r.a.createElement(mI,{actions:s,dictionary:G,filter:u,isExternalUser:F,loading:S,posts:d,search:O})),r.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))},rF=E.a.div(BL||(BL=Object(f.a)(['\n  .card {\n    overflow: visible;\n  }\n\n  .custom-switch {\n    padding: 0;\n    justify-content: left;\n    align-items: center;\n    display: flex;\n    min-height: 38px;\n    .custom-control-label::after {\n      right: -11px;\n      left: auto;\n      width: 1.25rem;\n      height: 1.25rem;\n      border-radius: 100%;\n      top: 2px;\n    }\n\n    input[type="checkbox"]:checked + .custom-control-label::after {\n      right: -23px;\n    }\n\n    .custom-control-label::before {\n      right: -2.35rem;\n      left: auto;\n      width: 3rem;\n      height: 1.5rem;\n      border-radius: 48px;\n      top: 0;\n    }\n\n    input {\n      cursor: pointer;\n    }\n    label {\n      cursor: pointer;\n      width: calc(100% - 40px);\n      min-height: 25px;\n      display: flex;\n      align-items: center;\n\n      span {\n        display: block;\n        width: calc(100% - 35px);\n      }\n    }\n  }\n  .version-number {\n    display: flex;\n    place-content: center;\n    font-size: 13px;\n  }\n']))),iF=E.a.span(WL||(WL=Object(f.a)(["\n  font-weight: 500;\n  cursor: pointer;\n"]))),oF=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=!!localStorage.getItem("persistence"),o=wa().persistor,c=Object(n.useState)(i),s=Object(_.a)(c,2),d=s[0],u=s[1],m=Object(b.g)(),p=Ap().localizeDate,f=Object(l.useDispatch)(),h=Op(),E=Object(l.useSelector)((function(e){return e.session})).user,O=am(),g=O.generalSettings,v=g.language,A=g.timezone,j=g.date_format,C=g.time_format,T=g.dark_mode,y=g.notifications_on,S=g.log_rocket,k=g.sentry,w=g.logs,N=g.order_channel,R=g.daily_digest,I=g.chat_language,P=O.chatSettings,D=P.order_channel,L=P.sound_enabled,F=P.preview_message,M=P.virtualization,U=O.userSettings.isLoaded,G=O.setChatSetting,H=O.setWorkspaceSetting,B=O.setGeneralSetting,W=O.setPushSubscription,Y=vs(),V=Y._t,Q=Y.setLocale,K=Y.uploadTranslationToServer,z=Object(x.a)({chatSettingsTitle:V("SETTINGS.CHAT_TITLE","Chat Settings"),soundLabel:V("SETTINGS.SOUND_LABEL","Play a sound when receiving a new chat message"),previewMessageLabel:V("SETTINGS.PREVIEW_MESSAGE_LABEL","Show chat preview message"),sortChannelLabel:V("SETTINGS.SORT_CHANNEL_LABEL","Sort channel by"),sortChannelRecentActivityValue:V("SETTINGS.SORT_CHANNEL_RECENT_ACTIVITY_VALUE","Recent activity"),sortChannelNameValue:V("SETTINGS.SORT_CHANNEL_NAME_VALUE","Channel name"),allowNotifications:V("SETTINGS.ALLOW_NOTIFICATIONS","Allow notifications"),notificationSound:V("SETTINGS.NOTIFICATION_SOUND","Notification sound"),notificationSoundDefault:V("SETTINGS.NOTIFICATION_SOUND_DEFAULT","Default"),notificationSoundJingleBells:V("SETTINGS.NOTIFICATION_SOUND_JINGLE_BELLS","Jingle bells"),localizationSettingsTitle:V("SETTINGS.LOCALIZATION_TITLE","Localization"),languageLabel:V("SETTINGS.LANGUAGE_LABEL","Language"),timezoneLabel:V("SETTINGS.TIMEZONE_LABEL","Timezone"),dateTimeFormatLabel:V("SETTINGS.DATE_TIME_FORMAT_LABEL","Date and time format"),workspaceSettingsTitle:V("SETTINGS.WORKSPACE_TITLE","Workspace Settings"),sortWorkspaceLabel:V("SETTINGS.SORT_WORKSPACE_LABEL","Sort workspace by"),viewRelease:V("SETTINGS.VIEW_RELEASE","View Release List"),liveTranslation:V("SETTINGS.LIVE_TRANSLATION","Talk in your own language (live translation)"),dailyDigest:V("SETTINGS.DAILY_DIGEST","Daily digest"),chatTranslateTitle:V("SETTINGS.CHAT_TRANSLATE","Talk in your own language (live translation) !BETA!")},"chatTranslateTitle",V("SETTINGS.CHAT_TRANSLATE","Choose a target language to be translated !BETA!")),q=[{value:"channel_date_updated",label:z.sortChannelRecentActivityValue},{value:"channel_name",label:z.sortChannelNameValue}],J=[{value:"en",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"en",className:"mr-2",width:"18"}),V("LANGUAGE.ENGLISH","English"))},{value:"nl",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"nl",className:"mr-2",width:"18"}),V("LANGUAGE.DUTCH","Dutch"))},{value:"de",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"de",className:"mr-2",width:"18"}),V("LANGUAGE.GERMAN","German"))}],Z=[{value:"en",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"en",className:"mr-2",width:"18"}),V("LANGUAGE.ENGLISH","English"))},{value:"bg",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"bg",className:"mr-2",width:"18"}),V("LANGUAGE.BULGARIAN","Bulgarian"))},{value:"cs",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"cs",className:"mr-2",width:"18"}),V("LANGUAGE.CZECH","Czech"))},{value:"da",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"da",className:"mr-2",width:"18"}),V("LANGUAGE.DANISH","Danish"))},{value:"de",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"de",className:"mr-2",width:"18"}),V("LANGUAGE.GERMAN","German"))},{value:"el",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"el",className:"mr-2",width:"18"}),V("LANGUAGE.GREEK","Greek"))},{value:"es",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"es",className:"mr-2",width:"18"}),V("LANGUAGE.SPANISH","Spanish"))},{value:"et",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"et",className:"mr-2",width:"18"}),V("LANGUAGE.ESTONIAN","Estonian"))},{value:"fi",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"fi",className:"mr-2",width:"18"}),V("LANGUAGE.FINNISH","Finnish"))},{value:"fr",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"fi",className:"mr-2",width:"18"}),V("LANGUAGE.FRENCH","French"))},{value:"hu",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"fi",className:"mr-2",width:"18"}),V("LANGUAGE.HUNGARAIN","Hungarian"))},{value:"it",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"it",className:"mr-2",width:"18"}),V("LANGUAGE.ITALIAN","Italian"))},{value:"ja",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"ja",className:"mr-2",width:"18"}),V("LANGUAGE.JAPANESE","Japanese"))},{value:"lt",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"lt",className:"mr-2",width:"18"}),V("LANGUAGE.LITHUANIAN","Lithuanian"))},{value:"lv",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"lv",className:"mr-2",width:"18"}),V("LANGUAGE.LATVIAN","Latvian"))},{value:"nl",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"nl",className:"mr-2",width:"18"}),V("LANGUAGE.DUTCH","Dutch"))},{value:"pl",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"pl",className:"mr-2",width:"18"}),V("LANGUAGE.POLISH","Polish"))},{value:"pt",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"pt",className:"mr-2",width:"18"}),V("LANGUAGE.PORTUGUESE","Portuguese"))},{value:"ro",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"ro",className:"mr-2",width:"18"}),V("LANGUAGE.ROMANIAN","Romanian"))},{value:"ru",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"ru",className:"mr-2",width:"18"}),V("LANGUAGE.RUSSIAN","Russian"))},{value:"sk",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"sk",className:"mr-2",width:"18"}),V("LANGUAGE.SLOVAK","Slovak"))},{value:"sk",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"sk",className:"mr-2",width:"18"}),V("LANGUAGE.SLOVENIAN","Slovenian"))},{value:"sk",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"SV",className:"mr-2",width:"18"}),V("LANGUAGE.SWEDISH","Swedish"))},{value:"zh",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(gg,{countryAbbr:"zh",className:"mr-2",width:"18"}),V("LANGUAGE.CHINESE","Chinese"))}],X=pa.a.tz.names().map((function(e){return{value:e,label:e}})),$=[{value:"DD-MM-YYYY",label:"DD-MM-YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"},{value:"MM-DD-YYYY",label:"MM-DD-YYYY"}],ee=[{value:"hh:mm A",label:"AM/PM"},{value:"HH:mm",label:"24-hour format"}],te=Object(n.useCallback)((function(e){B({chat_language:e.value,translated_channels:[]}),setTimeout((function(){localStorage.setItem("chat_translate_change","1")}),1e3),h.success(r.a.createElement("span",null,"You have successfully updated chat target language"))}),[B]),ae=Object(n.useCallback)((function(e){e.persist();var t=e.target,a=t.name,n=t.checked,i=t.dataset;G(Object(x.a)({},a,n)),h.success(r.a.createElement("span",null,i.successMessage))}),[G]),ne=Object(n.useCallback)((function(e){e.persist();var t=e.target,a=t.name,n=t.checked,i=t.dataset;B(Object(x.a)({},a,"daily_digest"===a?n:n?"1":"0"),(function(){["log_rocket","sentry"].includes(a)?(localStorage.setItem(a,n?"1":"0"),window.location.reload()):"logs"===a&&(n?localStorage.setItem("logger","all"):localStorage.removeItem("logger"))})),h.success(r.a.createElement("span",null,i.successMessage))}),[G]),re=Object(n.useCallback)((function(e){e.persist();var t=e.target,a=t.name,n=t.dataset;if(y){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),W(!1),f(lt({user_id:E.id}))}else W(null);B(Object(x.a)({},a,!y)),h.success(r.a.createElement("span",null,n.successMessage))}),[B]),ie=Object(n.useCallback)((function(e){B({timezone:e.value}),h.success(r.a.createElement("span",null,"You have successfully updated Timezone"))}),[]),oe=Object(n.useCallback)((function(e){B({date_format:e.value}),h.success(r.a.createElement("span",null,"You have successfully updated Date format"))}),[]),ce=Object(n.useCallback)((function(e){B({time_format:e.value}),h.success(r.a.createElement("span",null,"You have successfully updated Time format"))}),[]);return r.a.createElement(rF,{className:"profile-settings ".concat(a)},U?r.a.createElement(r.a.Fragment,null,"owner"===E.role.name&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center mb-0"},"System Settings ",r.a.createElement(pn,{className:"cursor-pointer",icon:"settings",onClick:function(){var e=document.createElement("a");e.href="https://".concat(Ya(),".driff.io/admin"),e.target="_blank",e.click()}})))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},z.chatSettingsTitle),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:L,type:"switch",id:"chat_sound_enabled",name:"sound_enabled",onChange:ae,"data-success-message":"".concat(L?"Chats are now muted!":"Chat sound is enabled!"),label:r.a.createElement("span",null,z.soundLabel)}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:F,type:"switch",id:"chat_preview_message",name:"preview_message",onChange:ae,"data-success-message":"You have turn ".concat(F?"OFF":"ON"," preview in chat messages!"),label:r.a.createElement("span",null,z.previewMessageLabel)}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:M,type:"switch",id:"chat_virtualization",name:"virtualization",onChange:ae,"data-success-message":"You have turn ".concat(M?"OFF":"ON"," virtualization in chat messages!"),label:r.a.createElement("span",null,"Virtualized chat")}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:d,type:"switch",id:"redux_persist",name:"persistence",onChange:function(e){e.persist();var t=e.target,a=t.checked,n=t.dataset;u(a),a?localStorage.setItem("persistence",!0):(i&&(o.purge(),localStorage.removeItem("persist:root")),localStorage.removeItem("persistence")),h.success(r.a.createElement("span",null,n.successMessage))},"data-success-message":"You have turn ".concat(d?"OFF":"ON"," data persistence in chat!"),label:r.a.createElement("span",null,"Persisted data")}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},z.chatTranslateTitle),r.a.createElement("div",{className:"col-7"},r.a.createElement(mh.a,{styles:"0"===T?ph:fh,value:Z.find((function(e){return e.value===I})),onChange:te,options:Z}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},z.sortChannelLabel),r.a.createElement("div",{className:"col-7"},r.a.createElement(mh.a,{styles:"0"===T?ph:fh,value:q.find((function(e){return e.value===D.order_by})),onChange:function(e){G({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),h.success(r.a.createElement("span",null,"You have successfully sort channel"))},options:q}))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},z.workspaceSettingsTitle),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},z.sortWorkspaceLabel),r.a.createElement("div",{className:"col-7"},r.a.createElement(mh.a,{styles:"0"===T?ph:fh,value:q.find((function(e){return e.value===N.order_by})),onChange:function(e){H({order_channel:{order_by:e.value,sort_by:"channel_date_updated"===e.value?"DESC":"ASC"}}),h.success(r.a.createElement("span",null,"You have successfully sort channel"))},options:q}))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},z.localizationSettingsTitle),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},z.languageLabel),r.a.createElement("div",{className:"col-7"},r.a.createElement(mh.a,{styles:"0"===T?ph:fh,value:J.find((function(e){return e.value===v})),onChange:function(e){Q(e.value),h.success(r.a.createElement("span",null,"You have successfully updated Language"))},options:J}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},z.timezoneLabel),r.a.createElement("div",{className:"col-7"},r.a.createElement(mh.a,{styles:"0"===T?ph:fh,value:X.find((function(e){return e.value===A})),onChange:ie,options:X}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-5 text-muted"},z.dateTimeFormatLabel),r.a.createElement("div",{className:"col-7 justify-content-center align-items-center"},r.a.createElement("div",{className:"row"},r.a.createElement(mh.a,{styles:"0"===T?ph:fh,className:"col-6",value:$.find((function(e){return e.value===j})),onChange:oe,options:$}),r.a.createElement(mh.a,{styles:"0"===T?ph:fh,className:"col-6",value:ee.find((function(e){return e.value===C})),onChange:ce,options:ee})))),["anthea@makedevelopment.com","nilo@makedevelopment.com","jessryll@makedevelopment.com","johnpaul@makedevelopment.com"].includes(E.email)&&r.a.createElement("div",{className:"row mb-2 mt-4"},r.a.createElement("div",{className:"col-12 text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){K((function(){localStorage.removeItem("i18new");var e=document.createElement("a");e.href="https://".concat(Ya(),".driff.io/admin/translations"),e.target="_blank",e.click(),setTimeout((function(){var e=document.createElement("a");e.href="https://driff.io/admin/translations",e.target="_blank",e.click()}),1e3)}))}},"Update translation"))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},"Notifications"),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:y,type:"switch",id:"notifications_on",name:"notifications_on","data-success-message":"".concat(y?"Notifications disabled":"Notifications enabled"),onChange:re,label:r.a.createElement("span",null,z.allowNotifications)}))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:R,type:"switch",id:"daily_digest",name:"daily_digest","data-success-message":"".concat(R?"Daily digest disabled":"Daily digest enabled"),onChange:ne,label:r.a.createElement("span",null,z.dailyDigest)}))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},"Extra settings"),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:"1"===T,type:"switch",id:"dark_mode",name:"dark_mode","data-success-message":"".concat(T?"Dark mode is now enabled":"Dark mode is now disabled"),onChange:ne,label:r.a.createElement("span",null,"Dark mode")})),r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:"1"===S,type:"switch",id:"log_rocket",name:"log_rocket","data-success-message":"".concat(S?"LogRocket is now enabled":"LogRocket is now disabled"),onChange:ne,label:r.a.createElement("span",null,"LogRocket")})),r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:"1"===k,type:"switch",id:"sentry",name:"sentry","data-success-message":"".concat(k?"Sentry is now enabled":"Sentry is now disabled"),onChange:ne,label:r.a.createElement("span",null,"Sentry")})),r.a.createElement("div",{className:"col-12 text-muted"},r.a.createElement(_S.a,{className:"cursor-pointer text-muted",checked:"1"===w,type:"switch",id:"logs",name:"logs","data-success-message":"".concat(k?"Logs are now enabled":"Logs are now disabled"),onChange:ne,label:r.a.createElement("span",null,"Logs")})))))):r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),r.a.createElement("span",{className:"version-number mb-3"},"Driff version: ",Ba.a.version," ",p(Ba.a.timestamp)," \xa0",r.a.createElement(iF,{onClick:function(){m.push("/releases")}},z.viewRelease)))}));function cF(){var e=Object(f.a)(["\n  overflow: auto;\n  .row-settings {\n    justify-content: center;\n  }\n"]);return cF=function(){return e},e}var sF=E.a.div(cF()),lF=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(sF,{className:"container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row row-settings"},r.a.createElement("div",{className:"col-12 col-md-7 col-xl-6"},r.a.createElement(oF,null))))}));function dF(){var e=Object(f.a)(['\n  color: #828282;\n  margin: 0 1rem;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']);return dF=function(){return e},e}function uF(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n  }\n"]);return uF=function(){return e},e}function mF(){var e=Object(f.a)([""]);return mF=function(){return e},e}var pF=E.a.div(mF()),fF=E.a.ul(uF()),bF=Object(E.a)(ar)(dF()),hF=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.dictionary,i=Object(l.useSelector)((function(e){return e.global.unreadCounter})),o=Object(l.useSelector)((function(e){return e.chat.lastVisitedChannel})),c=Object(l.useSelector)((function(e){return e.session.user})),s=Object(l.useSelector)((function(e){return e.global.todos.count}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(pF,{className:"".concat(a)},r.a.createElement(fF,{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(bF,{to:"/dashboard"},n.pageTitleDashboard)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(bF,{to:null!==o&&o.hasOwnProperty("code")?"/chat/".concat(o.code):"/chat"},n.pageTitleChat," ",r.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},i.chat_message>0?i.chat_message:null))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(bF,{to:"/posts"},n.pageTitlePosts," ",r.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},i.general_post>0?i.general_post:null))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(bF,{to:"/todos"},n.pageTitleTodos," ",r.a.createElement("div",{className:"ml-2 badge badge-pill badge badge-danger"},s.all>0?s.all:null))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(bF,{to:"/files"},n.pageTitleFiles)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(bF,{to:"/people"},n.pageTitlePeople)),c.role&&["owner"].includes(c.role.name)&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(bF,{to:"/bot"},n.bots)))))}));function EF(){var e=Object(f.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .row-user-profile-panel {\n    justify-content: center;\n\n    .avatar {\n      width: 68px;\n      height: 68px;\n    }\n\n    input.designation {\n      &::-webkit-input-placeholder {\n        font-size: 12px;\n      }\n      &:-ms-input-placeholder {\n        font-size: 12px;\n      }\n      &::placeholder {\n        font-size: 12px;\n      }\n    }\n\n    .col-label {\n      max-width: 130px;\n\n      @media only screen and (min-width: 1200px) {\n        max-width: 180px;\n      }\n    }\n  }\n\n  .close {\n    border-radius: 100%;\n    padding: 2px;\n  }\n\n  label {\n    padding: 5px 10px;\n    border-radius: 6px;\n    width: 100%;\n  }\n\n  .btn-toggle {\n    &:hover {\n      .input-group-text {\n        border: 1px solid #e1e1e1;\n        background: #fff;\n        color: #7a1b8b;\n      }\n    }\n    .input-group-text {\n      border: 1px solid #7a1b8b;\n      background: #7a1b8b;\n      color: #fff;\n    }\n    svg {\n      cursor: pointer;\n    }\n  }\n\n  .avatar-container {\n    cursor: pointer;\n    position: relative;\n    width: 68px;\n    height: 68px;\n    margin: 0 auto;\n\n    .btn {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      background-color: #fff;\n      border-radius: 50px 50px 50px 50px;\n      height: 25px;\n      width: 25px;\n      padding: 5px;\n    }\n  }\n\n  .form-group {\n    &.designation {\n      margin: 0 auto;\n      width: 66.66%;\n    }\n  }\n"]);return EF=function(){return e},e}var _F=E.a.div(EF()),OF=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Object(b.g)(),o=Object(l.useDispatch)(),c=Op(),s=lm(),d=s.users,u=s.loggedUser,m=Ra(),p=m.checkEmail,f=m.fetchById,h=m.getReadOnlyFields,E=m.getRequiredFields,O=m.update,g=m.updateProfileImage,v=sm().selectUserChannel,A=d[e.match.params.id],j=A&&u.id===A.id,C=h(A?A.import_from:""),T=E(A?A.import_from:""),y=Object(n.useState)(!1),S=Object(_.a)(y,2),k=S[0],w=S[1],N=Object(n.useState)(!1),I=Object(_.a)(N,2),P=I[0],D=I[1],L=Object(n.useState)(!1),F=Object(_.a)(L,2),M=F[0],U=F[1],G=Object(n.useState)(!1),H=Object(_.a)(G,2),B=H[0],W=H[1],Y=Object(n.useState)(A&&A.loaded?A:{}),V=Object(_.a)(Y,2),Q=V[0],K=V[1],z=Object(n.useState)({valid:{},feedbackState:{},feedbackText:{}}),q=Object(_.a)(z,2),J=q[0],Z=q[1],X={dropZoneRef:Object(n.useRef)(null),first_name:Object(n.useRef)(null),password:Object(n.useRef)(null)},$=vs()._t,ee={companyName:$("PROFILE.COMPANY_NAME","Company name"),information:$("PROFILE.INFORMATION","Information"),firstName:$("PROFILE.FIRST_NAME","First name:"),middleName:$("PROFILE.MIDDLE_NAME","Middle name:"),lastName:$("PROFILE.LAST_NAME","Last name:"),password:$("PROFILE.PASSWORD","Password:"),position:$("PROFILE.POSITION","Position:"),city:$("PROFILE.CITY","City:"),address:$("PROFILE.ADDRESS","Address:"),zip_code:$("PROFILE.ZIP_POST_CODE","ZIP/POST code:"),phone:$("PROFILE.Phone","Phone:"),email:$("PROFILE.EMAIL","Email:"),edit:$("BUTTON.EDIT","Edit"),saveChanges:$("BUTTON.SAVE_CHANGES","Save changes"),cancel:$("BUTTON.Cancel","Cancel"),clickToChangePassword:$("PROFILE.CLICK_TO_CHANGE_PASSWORD","Click to change your password"),external:$("PROFILE.EXTERNAL","External")},te=u&&"internal"===u.type&&A&&"external"===A.type&&1===A.active,ae=Object(n.useCallback)((function(e){if("boolean"===typeof e)return e?"is-valid":"is-invalid"}),[]),ne=Object(n.useCallback)((function(){U((function(e){return!e}))}),[U]),re=Object(n.useCallback)((function(){D((function(e){return!e}))}),[D]),ie=Object(n.useCallback)((function(){w((function(e){return!e})),K(Object(R.a)({},A)),Z({valid:{},feedbackState:{},feedbackText:{}}),U(!1)}),[A,K,U,w]),oe=Object(n.useCallback)((function(e){if(null!==e.target){var t=e.target,a=t.name,n=t.value;K((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(x.a)({},a,n.trim()))}))}}),[]),ce=Object(n.useCallback)((function(e){if(null!==e.target){var t=e.target,a=t.name,n=t.value;if(A[a]===Q[a])return void Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},Object(x.a)({},a,void 0)),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},Object(x.a)({},a,void 0)),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},Object(x.a)({},a,void 0))}}));"email"===a?T.includes(a)&&""===n.trim()?Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},Object(x.a)({},a,!1)),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},Object(x.a)({},a,!1)),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},Object(x.a)({},a,"Email is required"))}})):""===n.trim()||Mt.test(n.trim())?p(Q.email,(function(e,t){t&&(t.data.status?Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},Object(x.a)({},a,!1)),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},Object(x.a)({},a,!1)),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},Object(x.a)({},a,"Email is already taken"))}})):Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},Object(x.a)({},a,!0)),feedbackState:Object(R.a)({},e.feedbackState),feedbackText:Object(R.a)({},e.feedbackText)}})))})):Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},Object(x.a)({},a,!1)),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},Object(x.a)({},a,!1)),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},Object(x.a)({},a,"Invalid email format"))}})):T.includes(a)?Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},Object(x.a)({},a,""!==n.trim())),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},Object(x.a)({},a,""!==n.trim())),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},Object(x.a)({},a,""===n.trim()?"Field is required.":""))}})):Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},Object(x.a)({},a,!0)),feedbackState:e.feedbackState,feedbackText:e.feedbackText}}))}}),[A,Q,T]),se=Object(n.useCallback)((function(){!1===Object.values(J.valid).find((function(e){return!1===e}))?c.error("Some fields require your attention."):!0===Object.values(J.valid).find((function(e){return!0===e}))?Q.profile_image_link!==A.profile_image_link?g(Q,J.feedbackText.profile_image_link,(function(e,t){t&&w(!1)})):te?A.email!==Q.email?O(Object(R.a)(Object(R.a)({},Q),{},{change_email:1}),(function(e,t){t&&w(!1)})):O(Object(R.a)({},Q),(function(e,t){t&&w(!1)})):O(Q,(function(e,t){t&&w(!1)})):(A&&Q.email&&A.email!==Q.email?T.includes("email")&&""===Q.email.trim()?Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},{email:!1}),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},{email:"Email is required"})}})):""===Q.email.trim()||Mt.test(Q.email.trim())?p(Q.email,(function(e,t){t&&(t.data.status?Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},{email:!1}),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},{email:"Email is already taken"})}})):te?A.email!==Q.email?O(Object(R.a)(Object(R.a)({},Q),{},{change_email:1}),(function(e,t){t&&w(!1)})):O(Object(R.a)({},Q),(function(e,t){t&&w(!1)})):O(Q,(function(e,t){t&&w(!1)})))})):Z((function(e){return{valid:Object(R.a)(Object(R.a)({},e.valid),{},{email:!1}),feedbackState:Object(R.a)(Object(R.a)({},e.feedbackState),{},{email:!1}),feedbackText:Object(R.a)(Object(R.a)({},e.feedbackText),{},{email:"Invalid email format"})}})):c.info("Nothing was updated."),w(!1))}),[Q,J,O,w,A,te]),le=Object(n.useCallback)((function(){B||W(!0)}),[B,W]),de=Object(n.useCallback)((function(){W(!1)}),[W]),ue=Object(n.useCallback)((function(e,t){K((function(e){return Object(R.a)(Object(R.a)({},e),{},{profile_image_link:t})})),Z((function(t){return{valid:Object(R.a)(Object(R.a)({},t.valid),{},{profile_image_link:!0}),feedbackState:Object(R.a)({},t.feedbackState),feedbackText:Object(R.a)(Object(R.a)({},t.feedbackText),{},{profile_image_link:e})}})),w(!0),c.info(r.a.createElement(r.a.Fragment,null,"Click the ",r.a.createElement("b",null,"Save Changes")," button to update your profile image."))}),[]),me=Object(n.useCallback)((function(e){0===e.length?c.error("File type not allowed. Please use an image file."):e.length>1&&c.warning("Multiple files detected. First selected image will be used.");var t={type:"file_crop_upload",imageFile:e[0],mode:"profile",handleSubmit:ue};o(Ye(t,(function(){de()})))}),[ue,de]),pe=Object(n.useCallback)((function(){window.location.href="mailto:".concat(A.email)}),[A]);return Object(n.useEffect)((function(){(!e.match.params.hasOwnProperty("id")||e.match.params.hasOwnProperty("id")&&!e.match.params.hasOwnProperty("name")&&parseInt(e.match.params.id)===u.id)&&i.push("/profile/".concat(u.id,"/").concat(Wt(u.name)))}),[]),Object(n.useEffect)((function(){var t=d[e.match.params.id]?d[e.match.params.id]:{};t.hasOwnProperty("loaded")?Q.id!==t.id&&K(t):f(e.match.params.id)}),[e.match.params.id,d,K]),Object(n.useEffect)((function(){"edit"===e.match.params.mode&&Q.id&&u.id===Q.id&&(i.push("/profile/".concat(Q.id,"/").concat(Wt(Q.name))),w(!0)),"view"===e.match.params.mode&&Q.id&&u.id===Q.id&&(i.push("/profile/".concat(Q.id,"/").concat(Wt(Q.name))),w(!1))}),[Q,e.match.params.mode]),Object(n.useEffect)((function(){M&&X.password.current&&X.password.current.focus()}),[M,X.password]),Object(n.useEffect)((function(){k&&X.first_name.current&&X.first_name.current.focus()}),[k,X.first_name]),Q.id?r.a.createElement(_F,{className:"user-profile-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row row-user-profile-panel"},r.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body text-center",onDragOver:le},(j||te)&&r.a.createElement(og,{acceptType:"imageOnly",hide:!B,ref:X.dropZoneRef,onDragLeave:de,onDrop:function(e){var t=e.acceptedFiles;me(t)},onCancel:de}),r.a.createElement("div",{className:"avatar-container"},r.a.createElement(kn,{imageLink:Q.profile_image_link,name:Q.name?Q.name:Q.email,noDefaultClick:!0,forceThumbnail:!1}),(j||te)&&r.a.createElement("span",{className:"btn btn-outline-light btn-sm"},r.a.createElement(pn,{icon:"pencil",onClick:function(){k||(w(!0),X.dropZoneRef.current.open())}}))),k?r.a.createElement("h5",{className:"mb-1 mt-2"},Q.first_name," ",Q.middle_name," ",Q.last_name):r.a.createElement("h5",{className:"mb-1 mt-2"},A.first_name," ",A.middle_name," ",A.last_name),k&&!C.includes("designation")?r.a.createElement("div",{className:"text-muted small d-flex align-items-center mt-2"},r.a.createElement(kE,{placeholder:"Job Title eg. Manager, Team Leader, Designer",className:"designation",name:"designation",onChange:oe,onBlur:ce,defaultValue:A.designation,isValid:J.feedbackState.designation,valid:J.feedbackText.designation})):r.a.createElement("p",{className:"text-muted small"},A.designation),u.id!==A.id&&r.a.createElement("div",{className:"d-flex justify-content-center"},""!==A.contact&&"internal"===u.type&&r.a.createElement("button",{className:"btn btn-outline-light mr-1"},r.a.createElement("a",{href:"tel:".concat(A.contact.replace(/ /g,"").replace(/-/g,""))},r.a.createElement(pn,{className:"",icon:"phone"}))),"external"!==A.type&&"internal"===u.type&&r.a.createElement("button",{className:"ml-1 btn btn-outline-light"},r.a.createElement(pn,{onClick:function(){!function(e){v(e)}(A)},icon:"message-circle"}))))),r.a.createElement("div",{className:"card"},k?r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ee.information),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.firstName),r.a.createElement("div",{className:"col col-form"},C.includes("first_name")?r.a.createElement(Vh.a,null,A.first_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(gb.a,{className:ae(J.valid.first_name),innerRef:X.first_name,name:"first_name",onChange:oe,onBlur:ce,defaultValue:A.first_name}),r.a.createElement(bE,{valid:J.feedbackState.first_name},J.feedbackText.first_name)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.middleName),r.a.createElement("div",{className:"col col-form"},C.includes("middle_name")?r.a.createElement(Vh.a,null,A.middle_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(gb.a,{className:ae(J.valid.middle_name),name:"middle_name",onChange:oe,onBlur:ce,defaultValue:A.middle_name}),r.a.createElement(bE,{valid:J.feedbackState.middle_name},J.feedbackText.middle_name)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.lastName),r.a.createElement("div",{className:"col col-form"},C.includes("last_name")?r.a.createElement(Vh.a,null,A.last_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(gb.a,{className:ae(J.valid.last_name),name:"last_name",onChange:oe,onBlur:ce,defaultValue:A.last_name}),r.a.createElement(bE,{valid:J.feedbackState.last_name},J.feedbackText.last_name)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.password),r.a.createElement("div",{className:"col col-form"},C.includes("password")||te?r.a.createElement(Vh.a,null,"*****"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vh.a,{onClick:ne,className:"cursor-pointer mb-0 ".concat(M?"d-none":"")},ee.clickToChangePassword),r.a.createElement(_b.a,{className:"form-group-password mb-0 ".concat(M?"":"d-none")},r.a.createElement(Ob.a,null,r.a.createElement(gb.a,{className:ae(J.valid.password),innerRef:X.password,name:"password",onChange:oe,onBlur:ce,defaultValue:"",type:P?"text":"password"}),r.a.createElement(vb.a,{className:"btn-toggle",addonType:"append"},r.a.createElement(Ab.a,{className:"btn",onClick:re},r.a.createElement(pn,{icon:P?"eye-off":"eye"})))),r.a.createElement(bE,{valid:J.feedbackState.password},J.feedbackText.password))))),"external"===A.type&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.companyName),r.a.createElement("div",{className:"col col-form"},C.includes("company_name")?r.a.createElement(Vh.a,null,A.external_company_name&&A.external_company_name):r.a.createElement(r.a.Fragment,null,r.a.createElement(gb.a,{className:ae(!0),name:"company_name",disabled:te||!j,onChange:oe,onBlur:ce,defaultValue:A.external_company_name?A.external_company_name:""})))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.city),r.a.createElement("div",{className:"col col-form"},C.includes("place")?r.a.createElement(Vh.a,null,A.place):r.a.createElement(r.a.Fragment,null,r.a.createElement(gb.a,{className:ae(J.valid.place),name:"place",disabled:te||!j,onChange:oe,onBlur:ce,defaultValue:A.place}),r.a.createElement(bE,{valid:J.feedbackState.place},J.feedbackText.place)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.address),r.a.createElement("div",{className:"col col-form"},C.includes("address")?r.a.createElement(Vh.a,null,A.address):r.a.createElement(r.a.Fragment,null,r.a.createElement(kE,{name:"address",disabled:te||!j,onChange:oe,onBlur:ce,defaultValue:A.address,isValid:J.feedbackState.address,feedback:J.feedbackText.address})))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.phone),r.a.createElement("div",{className:"col col-form"},C.includes("contact")?r.a.createElement(Vh.a,null,A.contact):r.a.createElement(r.a.Fragment,null,r.a.createElement(gb.a,{className:ae(J.valid.contact),name:"contact",disabled:te||!j,onChange:oe,onBlur:ce,defaultValue:A.contact}),r.a.createElement(bE,{valid:J.feedbackState.contact},J.feedbackText.contact)))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.email),r.a.createElement("div",{className:"col col-form"},C.includes("email")?r.a.createElement(Vh.a,null,A.email):r.a.createElement(r.a.Fragment,null,r.a.createElement(gb.a,{type:"email",className:ae(J.valid.email),name:"email",onChange:oe,onBlur:ce,defaultValue:A.email}),r.a.createElement(bE,{valid:J.feedbackState.email},J.feedbackText.email)))),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center mt-0"},r.a.createElement("div",null,"\xa0"),r.a.createElement("div",null,r.a.createElement("span",{onClick:ie,className:"btn btn-outline-light mr-2"},ee.cancel),r.a.createElement("span",{onClick:se,className:"btn btn-primary"},ee.saveChanges)))):r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},ee.information,j||te?r.a.createElement("span",{onClick:ie,className:"btn btn-outline-light btn-sm"},r.a.createElement(pn,{className:"mr-2",icon:"edit-2"})," ",ee.edit):null),A.first_name&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.firstName),r.a.createElement("div",{className:"col col-form"},A.first_name)),A.middle_name&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.middleName),r.a.createElement("div",{className:"col col-form"},A.middle_name)),A.last_name&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.lastName),r.a.createElement("div",{className:"col col-form"},A.last_name)),A.id===u.id&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.password),r.a.createElement("div",{className:"col col-form"},"*****")),"external"===A.type&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.companyName),r.a.createElement("div",{className:"col col-form"},A.external_company_name&&A.external_company_name)),A.role&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.position),r.a.createElement("div",{className:"col col-form"},"external"===A.type?ee.external:A.role.name)),A.place&&"internal"===u.type&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.city),r.a.createElement("div",{className:"col col-form"},A.place)),A.address&&"internal"===u.type&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.address),r.a.createElement("div",{className:"col col-form"},A.address)),A.contact&&"internal"===u.type&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.phone),r.a.createElement("div",{className:"col col-form"},A.contact)),A.email&&"internal"===u.type&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col col-label text-muted"},ee.email),r.a.createElement("div",{className:"col col-form cursor-pointer",onClick:pe},A.email))))))):r.a.createElement(r.a.Fragment,null)}));function gF(){var e=Object(f.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n  overflow: auto;\n"]);return gF=function(){return e},e}var vF=E.a.div(gF()),AF=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=Object(l.useSelector)((function(e){return e.session.user})),i=Object(b.g)(),o=vp(),c=gp(),s=c.notifications,d=c.unreadNotifications,u=vs()._t,m=Np(),p=am().generalSettings.dark_mode,f={new:u("NOTIFICATION.NEW","New"),markAllAsRead:u("NOTIFICATION.MARK_ALL_AS_READ","Mark all as read"),oldNotifications:u("NOTIFICATION.OLD_NOTIFICATIONS","Old notifications"),noNotificationsToShow:u("NOTIFICATION.NO_NOTIFICATIONS_TO_SHOW","There are no notifications to show."),howdy:u("NOTIFICATION.howdy","Here you go, "),notificationCount1:u("NOTIFICATION.noficicationCount1","You have"),notificationCount2:u("NOTIFICATION.noficicationCount2","new notifications."),viewSettings:u("NOTIFICATION.VIEW_SETTINGS","View Settings"),improve:u("NOTIFICATION.IMPROVE_NOTIFICATIONS","Improve your notifications"),mustRead:u("NOTIFICATION.MUST_READ","Must read"),needsReply:u("NOTIFICATION.NEEDS_REPLY","Needs reply")},h=Object.values(s).sort((function(e,t){return t.created_at.timestamp-e.created_at.timestamp}));return r.a.createElement(vF,{className:"user-profile-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row row-user-profile-panel"},r.a.createElement(iM,{className:"col-md-3",dictionary:f,user:n,unreadNotifications:d,darkMode:p}),r.a.createElement("div",{className:"col-md-6"},h.length>0&&r.a.createElement("div",{className:"card app-content-body mb-4 "},r.a.createElement("div",{className:"card-body ",style:{padding:"0px"}},r.a.createElement("div",{className:"timeline"},h.map((function(e){return r.a.createElement(Ef,{key:e.id,notification:e,actions:o,history:i,redirect:m,user:n,_t:u,darkMode:p})}))))),!h.length&&r.a.createElement("div",{className:"card empty-notification"},r.a.createElement("h4",null,f.noNotificationsToShow),r.a.createElement("div",{className:"card-body d-flex justify-content-center align-items-center"},r.a.createElement(bn,{icon:1,height:330}))))))}));function jF(){var e=Object(f.a)(["\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return jF=function(){return e},e}var CF=E.a.div(jF()),TF=function(e){var t=e.actions,a=e.clearTab,i=e.value,o=Object(n.useState)(i),c=Object(_.a)(o,2),s=c[0],l=c[1],d=function(){""!==s.trim()&&(a(),t.search({search:s,skip:0,limit:10}),t.saveSearchValue({value:s}))};Object(n.useEffect)((function(){l(i)}),[i]);var u={searchGlobalPlaceholder:(0,vs()._t)("PLACEHOLDER.SEARCH_GLOBAL","Search for anything in this Driff")};return r.a.createElement(CF,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("div",null,r.a.createElement("h2",{className:"mb-4 text-center"},"What do you want to find?"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==i&&(a(),t.saveSearchValue({value:""})),l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&d()},type:"text",className:"form-control",placeholder:u.searchGlobalPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:s}),""!==s.trim()&&r.a.createElement("button",{onClick:function(){l(""),a(),t.search({search:"",skip:0,limit:10}),t.saveSearchValue({value:""})},className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:d},r.a.createElement(pn,{icon:"search"}))))))))},yF=function(e){var t=e.activeTab,a=e.onSelectTab,n=e.tabs;return r.a.createElement("ul",{className:"nav nav-pills mb-4",role:"tablist"},n.hasOwnProperty("CHANNEL")&&Object.keys(n.CHANNEL).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("channel"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"channel",role:"tab","aria-controls":"clasic","aria-selected":"true"},"Chat channel")),n.hasOwnProperty("CHAT")&&Object.keys(n.CHAT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("chat"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"chat",role:"tab","aria-controls":"clasic","aria-selected":"true"},"Message")),n.hasOwnProperty("COMMENT")&&Object.keys(n.COMMENT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("comment"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"comment",role:"tab","aria-controls":"clasic","aria-selected":"true"},"Comment")),n.hasOwnProperty("DOCUMENT")&&Object.keys(n.DOCUMENT).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("document"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"document",role:"tab","aria-controls":"articles","aria-selected":"false"},"Files")),n.hasOwnProperty("PEOPLE")&&Object.keys(n.PEOPLE).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("people"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"people",role:"tab","aria-controls":"users","aria-selected":"false"},"People")),n.hasOwnProperty("POST")&&Object.keys(n.POST).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("post"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"post",role:"tab","aria-controls":"photos","aria-selected":"false"},"Posts")),n.hasOwnProperty("WORKSPACE")&&Object.keys(n.WORKSPACE).length>0&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link ".concat(("workspace"===t||null===t)&&"active"),onClick:a,"data-toggle":"tab","data-value":"workspace",role:"tab","aria-controls":"photos","aria-selected":"false"},"Workspace")))},SF=function(e){var t=e.activeTab,a=e.tabs,n=e.redirect;return r.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"channel"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("CHANNEL")&&r.a.createElement(kF,{channels:a.CHANNEL.items,page:a.CHANNEL.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"chat"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("CHAT")&&r.a.createElement(NF,{chats:a.CHAT.items,page:a.CHAT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"comment"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("COMMENT")&&r.a.createElement(PF,{comments:a.COMMENT.items,page:a.COMMENT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"document"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("DOCUMENT")&&r.a.createElement(BF,{files:a.DOCUMENT.items,page:a.DOCUMENT.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"people"===t)&&"active show"),id:"users",role:"tabpanel"},a.hasOwnProperty("PEOPLE")&&r.a.createElement(HF,{people:a.PEOPLE.items,page:a.PEOPLE.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"post"===t)&&"active show"),id:"photos",role:"tabpanel"},a.hasOwnProperty("POST")&&r.a.createElement(YF,{posts:a.POST.items,page:a.POST.page,redirect:n})),r.a.createElement("div",{className:"tab-pane fade ".concat((null===t||"workspace"===t)&&"active show"),role:"tabpanel"},a.hasOwnProperty("WORKSPACE")&&r.a.createElement(qF,{workspaces:a.WORKSPACE.items,page:a.WORKSPACE.page,redirect:n})))},kF=function(e){var t=e.channels,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return e.data?r.a.createElement(wF,{key:e.id,data:e.data,redirect:n}):null})))},wF=function(e){var t=e.data,a=e.redirect,n=t.channel;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("h5",{onClick:function(){a.toChannel(n)}},n.title))},NF=function(e){var t=e.chats,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).filter((function(e){return e.data&&null!==e.data.message})).map((function(e){return r.a.createElement(IF,{key:e.id,data:e.data,redirect:n})})))};function xF(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]);return xF=function(){return e},e}var RF=E.a.li(xF()),IF=function(e){var t=e.data,a=e.redirect,n=t.channel,i=t.message;return r.a.createElement(RF,{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("div",null,r.a.createElement(kn,{id:i.user.id,name:i.user.name,imageLink:i.user.profile_image_thumbnail_link?i.user.profile_image_thumbnail_link:i.user.profile_image_link,showSlider:!0})),r.a.createElement("div",{className:"ml-2",onClick:function(){a.toChat(n,i)}},r.a.createElement("p",null,i.user.name," - ",n.title),r.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:i.body}})))},PF=function(e){var t=e.comments,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return r.a.createElement(UF,{key:e.id,comment:e,redirect:n})})))};function DF(){var e=Object(f.a)(["\n  img {\n    max-height: 200px;\n    padding: 20px;\n    margin-top: 20px;\n    float: right;\n  }\n  p {\n    display: none;\n    &:nth-child(1),\n    &:nth-child(2),\n    &:nth-child(3),\n    &:nth-child(4),\n    &:nth-child(5) {\n      display: block;\n    }\n  }\n"]);return DF=function(){return e},e}function LF(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  p {\n    margin: 0;\n  }\n"]);return LF=function(){return e},e}var FF=E.a.li(LF()),MF=E.a.div(DF()),UF=function(e){var t=e.comment,a=e.redirect,n=t.data;return r.a.createElement(FF,{className:"list-group-item p-l-0 p-r-0",onClick:function(){if(null!==n)if(n.workspaces.length){var e={id:n.workspaces[0].topic.id,name:n.workspaces[0].topic.name,folder_id:n.workspaces[0].workspace?n.workspaces[0].workspace.id:null,folder_name:n.workspaces[0].workspace?n.workspaces[0].workspace.name:null};a.toPost({workspace:e,post:n.post},{focusOnMessage:n.comment.id})}else a.toPost({workspace:null,post:n.post},{focusOnMessage:n.comment.id})}},null!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(kn,{id:n.comment.author.id,name:n.comment.author.name,imageLink:(n.comment.author.profile_image_link,n.comment.author.profile_image_thumbnail_link),showSlider:!0})),r.a.createElement("div",{className:"ml-2"},r.a.createElement("p",null,n.comment.author.name),r.a.createElement(MF,{className:"text-muted",dangerouslySetInnerHTML:{__html:n.comment.body}}))),null===n&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-muted",dangerouslySetInnerHTML:{__html:t.search_body}})))},GF=function(e){var t=e.user,a=e.redirect;return r.a.createElement("li",{className:"list-group-item p-l-r-0"},r.a.createElement("div",{className:"media",onClick:function(){a.toPeople(t)}},r.a.createElement(kn,{id:t.id,name:t.name,imageLink:t.profile_image_thumbnail_link?t.profile_image_thumbnail_link:t.profile_image_link,className:"mr-2"}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",{className:"m-0"},t.name))))},HF=function(e){var t=e.page,a=e.people,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.keys(a).length>0&&Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(GF,{key:e.id,user:e.data,redirect:n})})))},BF=function(e){var t=e.files,a=e.page,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(t).slice(a>1?10*a-10:0,10*a).map((function(e){return r.a.createElement(WF,{key:e.data.id,file:e.data,redirect:n})})))},WF=function(e){var t=e.file,a=e.redirect;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("label",{onClick:function(){a.toFiles(t)}},t.name))},YF=function(e){var t=e.page,a=e.posts,n=e.redirect;return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(VF,{key:e.id,data:e.data,redirect:n})})))},VF=function(e){var t=e.data,a=e.redirect,n=t.post,i=t.workspaces,o=Ap().localizeChatDate;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("div",{onClick:function(){var e=null;i.length&&(e={id:i[0].topic.id,name:i[0].topic.name,folder_id:i[0].workspace?i[0].workspace.id:null,folder_name:i[0].workspace?i[0].workspace.name:null}),console.log("trigger"),a.toPost({post:n,workspace:e})}},r.a.createElement("h5",null,n.title),r.a.createElement("div",{className:"text-muted font-size-13"},r.a.createElement("div",null,o(n.created_at.timestamp)))))},QF=a(107),KF=a.n(QF),zF=function(e){var t=e.actions,a=e.activeTab,i=e.tabs,o=e.value,c=Object(n.useState)(!1),s=Object(_.a)(c,2),l=s[0],d=s[1],u=function(e,n){var r=a;"workspace"===a?r="topic":"people"===a&&(r="user"),d(!0),t.search({search:o,skip:e,limit:n,tag:r},(function(e,t){d(!1)}))};if(Object(n.useEffect)((function(){if(a&&!l){var e=i[a.toUpperCase()].page,t=i[a.toUpperCase()].count;(1===e&&t<10&&i[a.toUpperCase()].total_count>10||1===e&&0===t)&&u(t,10)}}),[i,a,l]),a&&i[a.toUpperCase()].maxPage<=1||null===a)return null;var m=i[a.toUpperCase()].page,p=i[a.toUpperCase()].maxPage;return r.a.createElement("nav",{className:"mt-3"},r.a.createElement(KF.a,{forcePage:m-1,previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:p,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var n=e.selected+1,r=i[a.toUpperCase()].items.slice(n>1?10*n-10:0,10*n),o=i[a.toUpperCase()].count;10!==r.length&&u(o,10*n);var c=Object(R.a)(Object(R.a)({},i[a.toUpperCase()]),{},{page:n,key:a.toUpperCase()});t.updateTabPage(c)},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))},qF=function(e){var t=e.page,a=e.workspaces,n=e.redirect,i=Object(l.useSelector)((function(e){return e.workspaces.workspaces}));return r.a.createElement("ul",{className:"list-group list-group-flush"},Object.values(a).slice(t>1?10*t-10:0,10*t).map((function(e){return r.a.createElement(JF,{key:e.id,data:e.data,redirect:n,workspaces:i})})))},JF=function(e){var t=e.data,a=e.redirect,n=e.workspaces,i=t.topic,o=t.workspace;return r.a.createElement("li",{className:"list-group-item p-l-0 p-r-0"},r.a.createElement("h5",{onClick:function(){var e={id:i.id,name:i.name,folder_id:o?o.id:null,folder_name:o?o.name:null};n.hasOwnProperty(i.id)?a.toWorkspace(e):a.fetchWorkspaceAndRedirect(e)}},i.name))};function ZF(){var e=Object(f.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"]);return ZF=function(){return e},e}var XF,$F,eM,tM,aM=E.a.div(ZF()),nM=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Np(),o=Sp(),c=kp(),s=c.count,l=c.results,d=c.searching,u=c.tabs,m=c.value,p=Object(n.useState)(null),f=Object(_.a)(p,2),b=f[0],h=f[1];Object(n.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),function(){return document.getElementById("main").removeAttribute("style")}}),[]),Object(n.useEffect)((function(){if(Object.keys(u).length&&null===b){var e=Object.keys(u)[0];h(e.toLowerCase())}else 0===Object.keys(u).length&&null!==b&&h(null)}),[u,b]);return r.a.createElement(aM,{className:"user-search-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(TF,{actions:o,value:m,clearTab:function(){return h(null)}}),""!==m&&r.a.createElement("h4",{className:"mb-5"},r.a.createElement(pn,{icon:"search"}),d&&r.a.createElement("span",null,"Searching ",r.a.createElement("span",{className:"text-primary"},"\u201c",m,"\u201d")),!d&&r.a.createElement("span",null,s," results found for: ",r.a.createElement("span",{className:"text-primary"},"\u201c",m,"\u201d"))),r.a.createElement(yF,{activeTab:b,onSelectTab:function(e){e.currentTarget.dataset.value!==b&&h(e.currentTarget.dataset.value)},tabs:u}),r.a.createElement(SF,{activeTab:b,results:l,tabs:u,redirect:i}),s>0&&r.a.createElement(zF,{activeTab:b,tabs:u,actions:o,value:m}))))))})),rM=E.a.div(XF||(XF=Object(f.a)(["\n  font-family: Inter;\n  letter-spacing: 0;\n  text-align: center;\n  font-size: 12px;\n  p {\n    padding: 0 !important;\n    margin: 0 !important;\n    color: #8b8b8b;\n    text-align: center;\n    line-height: 15px;\n  }\n  span {\n    text-align: center;\n    cursor: pointer;\n  }\n\n  .app-sidebar-menu {\n    padding: 2em 1em;\n    text-align: center;\n  }\n  .app-sidebar-menu p {\n    padding: 0 !important;\n    margin: 0 !important;\n    color: #8b8b8b;\n    line-height: 15px;\n  }\n  .app-sidebar-menu p:last-child {\n    padding-bottom: 1em !important;\n  }\n  .app-sidebar-menu span {\n    text-decoration: underline !important;\n    margin-top: 1em;\n    display: block;\n    cursor: pointer;\n  }\n  .app-sidebar-menu p:nth-of-type(2) {\n    font-weight: bold;\n    color: ",";\n  }\n"])),(function(e){return"1"===e.darkMode?"#afb8bd":"#000000"})),iM=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.dictionary,i=e.user,o=e.unreadNotifications,c=e.darkMode,s=Object(b.g)(),l=vp();return r.a.createElement(rM,{className:"bottom-modal-mobile ".concat(a),darkMode:c},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},r.a.createElement("p",null,"\ud83d\udcec"),r.a.createElement("p",null,n.howdy," ",i.first_name),r.a.createElement("p",null,n.notificationCount1," ",o," ",n.notificationCount2),r.a.createElement("span",{onClick:function(e){e.preventDefault(),l.readAll({})}},n.markAllAsRead))),r.a.createElement("p",null,n.improve),r.a.createElement("span",{onClick:function(){s.push("/settings")},style:{color:"#5B1269"}},n.viewSettings))})),oM=E.a.div($F||($F=Object(f.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n\n  .people-search {\n    flex: 0 0 80%;\n    justify-content: flex-start;\n    padding-left: 0;\n  }\n"]))),cM=Object(E.a)(wh)(eM||(eM=Object(f.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n"]))),sM=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=sm(),o=i.users,c=i.userActions,s=i.loggedUser,d=i.selectUserChannel,u=Object(l.useSelector)((function(e){return e.users.roles})),m=Object(l.useSelector)((function(e){return e.users.archivedUsers})),p=Object(b.g)(),f=Object(l.useDispatch)(),h=Object(n.useState)(""),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(!1),A=Object(_.a)(v,2),j=A[0],C=A[1],T=[].concat(Object(Rt.a)(Object.values(o)),Object(Rt.a)(m)),y={search:Object(n.useRef)()},S=function(e){p.push("/profile/".concat(e.id,"/").concat(Wt(e.name)))},k=function(e){return d(e)},w=T.filter((function(e){if(["gripp_project_bot","gripp_account_activation","gripp_offerte_bot","gripp_invoice_bot","gripp_police_bot","driff_webhook_bot"].includes(e.email))return!1;if(j){if(1===e.active)return!1;if(""===e.name.trim())return!1}else if(1!==e.active)return!1;return""===O||-1!==e.name.toLowerCase().search(O.toLowerCase())||-1!==e.email.toLowerCase().search(O.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)})),N=vs()._t,x={searchPeoplePlaceholder:N("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:N("PEOPLE.EXTERNAL","External"),peopleInvited:N("PEOPLE.INVITED","Invited"),assignAsAdmin:N("PEOPLE.ASSIGN_AS_ADMIN","Assign as administrator"),assignAsEmployee:N("PEOPLE.ASSIGN_AS_EMPLOYEE","Assign as employee"),archiveUser:N("PEOPLE.ARCHIVE_USER","Archive user"),unarchiveUser:N("PEOPLE.UNARCHIVE_USER","Unarchive user"),showInactiveMembers:N("PEOPLE.SHOW_INACTIVE_MEMBERS","Show inactive members"),archive:N("PEOPLE.ARCHIVE","Archive"),unarchive:N("PEOPLE.UNARCHIVE","Un-archive"),archiveConfirmationText:N("PEOPLE.ARCHIVE_CONFIRMATION_TEXT","Are you sure you want to archive this user? This means this user can't log in anymore and will be removed from all its workspaces and group chats. If you want to remove him also from all chats and workspaces please use archive this user."),unarchiveConfirmationText:N("PEOPLE.UNARCHIVE_CONFIRMATION_TEXT","Are you sure you want to un-archive this user? The user will be re-added to its connected workspaces and group chats."),cancel:N("BUTTON.CANCEL","Cancel"),activateUser:N("PEOPLE.ACTIVATE_USER","Activate user"),deactivateUser:N("PEOPLE.DEACTIVATE_USER","Deactivate user"),deactivateConfirmationText:N("PEOPLE.DEACTIVATE_CONFIRMATION_TEXT","Are you sure you want to deactivate this user? This means this user can't log in anymore. If you want to remove him also from all chats and workspaces please use archive this user."),activateConfirmationText:N("PEOPLE.ACTIVATE_CONFIRMATION_TEXT","Are you sure you want to activate this user? This means this user can log in again and see chats and workspaces."),activate:N("PEOPLE.ACTIVATE","Activate"),deactivate:N("PEOPLE.DEACTIVATE","Deactivate"),moveToInternal:N("PEOPLE.MOVE_TO_INTERNAL","Move to internal"),moveToExternal:N("PEOPLE.MOVE_TO_EXTERNAL","Move to external")},R=Op();Object(n.useEffect)((function(){y.search.current.focus(),0===Object.keys(u).length&&c.fetchRoles(),0===m.length&&c.fetchArchivedUsers()}),[]);var I=function(e){var t={type:"confirmation",headerText:e.active?x.archive:x.unarchive,submitText:e.active?x.archive:x.unarchive,cancelText:x.cancel,bodyText:e.active?x.archiveConfirmationText:x.unarchiveConfirmationText,actions:{onSubmit:function(){e.active?c.archive({user_id:e.id},(function(t,a){t||R.success("".concat(e.name," archived."))})):c.unarchive({user_id:e.id},(function(t,a){t||R.success("".concat(e.name," unarchived."))}))}}};f(Ye(t))},P=function(e){var t={type:"confirmation",headerText:e.active?x.deactivate:x.activate,submitText:e.active?x.deactivate:x.activate,cancelText:x.cancel,bodyText:e.active?x.deactivateConfirmationText:x.activateConfirmationText,actions:{onSubmit:function(){e.active&&!e.deactivate?c.deactivate({user_id:e.id},(function(t,a){t||R.success("".concat(e.name," deactivated."))})):0===e.active&&e.deactivate&&c.activate({user_id:e.id},(function(t,a){t||R.success("".concat(e.name," activated."))}))}}};f(Ye(t))};return r.a.createElement(oM,{className:"workspace-people container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"people-header"},r.a.createElement("div",{className:"d-flex align-items-center people-search"},r.a.createElement(cM,{ref:y.search,value:O,closeButton:"true",onClickEmpty:function(){g("")},placeholder:"Search by name or email",onChange:function(e){g(e.target.value)},autoFocus:!0}),r.a.createElement(_S.a,{className:"ml-2 mb-3 cursor-pointer text-muted cursor-pointer",checked:j,id:"show_inactive",name:"show_inactive",type:"switch",onChange:function(){C((function(e){var t=!e;return t?R.success("Showing inactive members"):R.success("Showing active members only"),t}))},"data-success-message":"".concat(j?"Inactive users are shown":"Inactive users are no longer visible"),label:r.a.createElement("span",null,x.showInactiveMembers)})),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){f(Ye({type:"driff_invite_users",hasLastName:!0,invitations:[],onPrimaryAction:function(e,t,a){0===e.length&&a.closeModal();var n=0;e.forEach((function(i,s){Object.values(o).some((function(e){return e.email===i.email}))?(R.error(r.a.createElement(r.a.Fragment,null,"Email ",r.a.createElement("b",null,i.email)," is already taken!")),s===e.length-1&&(n===e.length&&a.closeModal(),t())):c.inviteAsInternalUsers({email:i.email,first_name:i.first_name,last_name:i.last_name},(function(r,o){r&&(R.error("Something went wrong with ".concat(i.first_name," ").concat(i.last_name)),a.deleteItemByIndex(a.invitationItems.findIndex((function(e){return e.email===i.email})))),o&&(n+=1,a.deleteItemByIndex(a.invitationItems.findIndex((function(e){return e.email===i.email}))),R.success("You have invited ".concat(i.first_name," ").concat(i.last_name))),s===e.length-1&&(n===e.length&&a.closeModal(),t())}))}))}}))}},r.a.createElement(pn,{className:"mr-2",icon:"user-plus"})," Invite users"))),r.a.createElement("div",{className:"row"},w.map((function(e){return r.a.createElement(fk,{loggedUser:s,key:e.id,user:e,onNameClick:S,onChatClick:k,dictionary:x,onUpdateRole:c.updateUserRole,showOptions:"admin"===s.role.name||"owner"===s.role.name,roles:u,onArchiveUser:I,onActivateUser:P,onChangeUserType:c.updateType,showInactive:j})}))))))})),lM=E.a.div(tM||(tM=Object(f.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"})),dM=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Hp(!0),o=i.getReminders,c=i.action,s=i.isLoaded,l=i.count,d=vs()._t,u=Object(n.useState)(""),m=Object(_.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)(""),h=Object(_.a)(b,2),E=h[0],O=h[1],g=Object(n.useState)(!1),v=Object(_.a)(g,2),A=v[0],j=v[1],C=[d("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),d("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),d("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],T=[d("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),d("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),d("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==E&&(C=[].concat(Object(Rt.a)(C),[d("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")]),T=[].concat(Object(Rt.a)(T),[d("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")])),""===E&&"OVERDUE"===p&&(C=[].concat(Object(Rt.a)(C),[d("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),T=[].concat(Object(Rt.a)(T),[d("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var y=Object(n.useState)(Math.floor(Math.random()*C.length)),S=Object(_.a)(y,2),k=S[0],w=S[1],N={searchInputPlaceholder:d("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:d("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:d("REMINDER.TYPE_POST","Post"),typeChat:d("REMINDER.TYPE_CHAT","Chat"),typePostComment:d("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:d("REMINDER.STATUS_TODAY","Today"),statusAll:d("REMINDER.STATUS_ALL","ALL"),statusExpired:d("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:d("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:d("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:d("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:d("REMINDER.STATUS_DONE","Done"),emptyText:d("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:d("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:C[k],noItemsFoundText:T[k],actionReschedule:d("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:d("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:d("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:d("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:d("REMINDER.ACTION_REMOVE","Remove"),actionFilter:d("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:d("REMINDER.AUTHOR","Author"),reminderAssignedTo:d("REMINDER.ASSIGNED_TO","Assigned to"),todo:d("REMINDER.TO_DO","To do"),done:d("REMINDER.DONE","Done"),addDate:d("REMINDER.ADD_DATE","Add date"),addedByMe:d("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:d("REMINDER.ADDED_BY_OTHERS","Added by others")},x=Object(n.useMemo)((function(){var e=Object(Kt.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&j(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(n.useEffect)((function(){A&&c.loadMore()}),[A]),Object(n.useEffect)((function(){w(Math.floor(Math.random()*C.length))}),[p]);var R=o({filter:{status:p,search:E}});return r.a.createElement(lM,{className:"container-fluid h-100 fadeIn ".concat(a),onScroll:x},r.a.createElement("div",{className:"row app-block"},r.a.createElement(bM,{className:"col-lg-3",dictionary:N,todoActions:c,setFilter:function(e){f(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:p,count:l}),r.a.createElement("div",{className:"col-lg-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(CM,{dictionary:N,onSearchChange:function(e){O(e.target.value)},clearSearch:function(){O("")},searchValue:E}),r.a.createElement(qM,{complete:!1,isLoaded:s,todoItems:R.filter((function(e){return"DONE"!==e.status})),dictionary:N,todoActions:c,filter:p,doneTodoItems:R.filter((function(e){return"DONE"===e.status}))}))))}));function uM(){var e=Object(f.a)(["\n  cursor: pointer;\n  font-size: 13px;\n  .dark & {\n    background: #191c20 !important;\n    border-color: #ffffff14 !important;\n  }\n\n  ","\n\n  &.folder-list {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    > ul {\n      list-style: none;\n      padding: 0.75rem 1.5rem;\n      width: 100%;\n      margin: 0;\n\n      li {\n        margin-bottom: 5px;\n      }\n    }\n  }\n"]);return uM=function(){return e},e}function mM(){var e=Object(f.a)([""]);return mM=function(){return e},e}var pM=E.a.div(mM()),fM=E.a.span(uM(),(function(e){return e.active&&"\n        background: 0 0;\n        color: #7a1b8b;\n    "})),bM=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.dictionary,i=e.todoActions,o=e.setFilter,c=e.filter,s=e.count;return r.a.createElement(pM,{className:"todo-sidebar bottom-modal-mobile ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return i.createFromModal()}},n.createNewTodoItem)),r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"1"},r.a.createElement("div",{className:"list-group list-group-flush"},r.a.createElement(fM,{onClick:o,"data-filter":"",active:""===c,className:"list-group-item d-flex align-items-center"},r.a.createElement("span",{className:"text-secondary fa fa-circle mr-2"}),n.statusAll,s&&s.all>0&&r.a.createElement("span",{className:"small ml-auto"},s.all)),r.a.createElement(fM,{onClick:o,"data-filter":"OVERDUE",active:"OVERDUE"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),n.statusExpired,s&&s.overdue>0&&r.a.createElement("span",{className:"small ml-auto"},s.overdue)),r.a.createElement(fM,{onClick:o,"data-filter":"TODAY",active:"TODAY"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement("span",{"data-filter":"TODAY"},r.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),n.statusToday),s&&s.today>0&&r.a.createElement("span",{className:"small ml-auto"},s.today)),r.a.createElement(fM,{onClick:o,"data-filter":"NEW",active:"NEW"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement("span",{"data-filter":"NEW"},r.a.createElement("span",{className:"text-default fa fa-circle mr-2"}),n.statusUpcoming),s&&s.new>0&&r.a.createElement("span",{className:"small ml-auto"},s.new)),r.a.createElement(fM,{onClick:o,"data-filter":"ASSIGNED_TO_OTHERS",active:"ASSIGNED_TO_OTHERS"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement("span",{"data-filter":"ASSIGNED_TO_OTHERS"},r.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),n.addedByMe),s&&s.assigned_to_others>0&&r.a.createElement("span",{className:"small ml-auto"},s.assigned_to_others)),r.a.createElement(fM,{onClick:o,"data-filter":"ADDED_BY_OTHERS",active:"ADDED_BY_OTHERS"===c,className:"list-group-item d-flex align-items-center"},r.a.createElement("span",{"data-filter":"ADDED_BY_OTHERS"},r.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),n.addedByOthers),s&&s.added_by_others>0&&r.a.createElement("span",{className:"small ml-auto"},s.added_by_others))))))}));function hM(){var e=Object(f.a)(["\n  overflow: inherit !important;\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return hM=function(){return e},e}var EM,_M,OM,gM,vM,AM,jM=E.a.div(hM()),CM=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.clearSearch,i=e.onEnter,o=e.dictionary,c=e.onSearchChange,s=e.searchValue;return r.a.createElement(jM,{className:"todos-header app-action ".concat(a)},r.a.createElement("div",{className:"action-left"},r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onKeyDown:i,onChange:c,value:s,className:"form-control",placeholder:o.searchInputPlaceholder,"aria-describedby":"button-addon1"}),""!==s.trim()&&r.a.createElement("button",{onClick:n,className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1"},r.a.createElement(pn,{icon:"search"}))))))})),TM=Object(E.a)(pn)(EM||(EM=Object(f.a)(["\n  width: 16px;\n  cursor: pointer;\n"]))),yM=E.a.div(_M||(_M=Object(f.a)(["\n  display: flex;\n  > svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  .feather-pencil {\n    margin-right: 5px;\n  }\n"]))),SM=E.a.li(OM||(OM=Object(f.a)(["\n  &.reminder-list {\n    background: transparent;\n    font-size: 13px;\n    padding: 5px 20px;\n    margin-top: 0;\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n    border-top: none;\n    border-bottom: 1px solid #ebebeb;\n    .dark & {\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n  }\n  .avatars-container {\n    display: flex;\n    align-items: center;\n    min-width: 105px;\n    justify-content: flex-end;\n  }\n  .workspace-label {\n    text-align: right;\n    cursor: pointer;\n  }\n  .todo-title {\n    text-decoration: ",";\n    cursor: pointer;\n  }\n  .badge.badge-light {\n    background: #efefef;\n    color: #828282;\n    .dark & {\n      background: rgb(175, 184, 189, 0.2) !important;\n      color: #fff;\n    }\n  }\n  .hover-btns {\n    display: none;\n    margin-right: 0.5rem;\n  }\n  &:hover {\n    .hover-btns {\n      display: flex;\n    }\n    .more-options {\n      display: inline-block;\n    }\n  }\n  .reminder-date,\n  .todo-type-badge,\n  .todo-title-description {\n    cursor: pointer;\n  }\n  .todo-title-description i {\n    margin-right: 5px;\n  }\n  @media all and (max-width: 480px) {\n    .reminder-content {\n      flex-wrap: wrap;\n    }\n  }\n"])),(function(e){return e.isDone?"line-through":"none"})),kM=E.a.div(gM||(gM=Object(f.a)(["\n  max-height: 50px;\n  > * {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),wM=E.a.div(vM||(vM=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 130px;\n"]))),NM=E.a.div(AM||(AM=Object(f.a)(["\n  min-width: 142px;\n  text-align: right;\n"]))),xM=function(e){var t=e.todo,a=e.todoActions,i=e.handleLinkClick,o=e.dictionary,c=e.todoFormat,s=e.todoFormatShortCode,d=e.getFileIcon,u=e.showWsBadge,m=e.handleRedirectToWorkspace,p=Object(l.useDispatch)(),f=Object(n.useState)("DONE"===t.status),b=Object(_.a)(f,2),h=b[0],E=b[1];Object(n.useEffect)((function(){"DONE"!==t.status||h?"DONE"!==t.status&&h&&a.markDone(t):a.markUnDone(t)}),[h]);var O=function(e){e.stopPropagation(),e.preventDefault(),a.updateFromModal(t)},g=function(e){e.preventDefault(),t.link_type?i(e,t):a.updateFromModal(t)},v=t.assigned_to&&t.assigned_to.id!==t.user||null!==t.workspace&&null===t.assigned_to||null===t.workspace&&null!==t.assigned_to;return r.a.createElement(r.a.Fragment,null,r.a.createElement(SM,{className:"reminder-list",isDone:h},t.workspace&&u&&r.a.createElement("div",{className:"text-truncate false mt-2 workspace-label",onClick:function(e){return m(e,t)}},r.a.createElement("span",{className:"badge ml-4 badge-light border-0"},t.workspace.name)),r.a.createElement("div",{className:"d-flex align-items-center reminder-content"},r.a.createElement("span",{className:"custom-control custom-checkbox mr-2"},r.a.createElement(qc,{content:"DONE"===t.status?o.actionMarkAsUndone:o.actionMarkAsDone},r.a.createElement(mE,{checked:h,onClick:function(e){E(!h)}}))),r.a.createElement("span",{className:"align-items-center todo-title-description text-truncate mr-3 ".concat(h&&"text-muted"),onClick:g},r.a.createElement("span",{className:"todo-title"},t.title),t.description&&!h&&r.a.createElement(kM,{className:"text-truncate",dangerouslySetInnerHTML:{__html:t.description}}),!h&&t.files.map((function(e){return r.a.createElement("span",{key:"".concat(t.id).concat(e.file_id),onClick:function(a){return function(e,t,a){e.preventDefault(),e.stopPropagation();var n={files:t.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{filename:e.name})})),file_id:a.file_id};p(Fi(n))}(a,t.files,e)}},d(e.mime_type))}))),r.a.createElement(yM,{className:"hover-btns ml-1"},r.a.createElement(TM,{icon:"pencil",onClick:O}),r.a.createElement(TM,{icon:"trash",onClick:function(e){e.stopPropagation(),e.preventDefault(),a.removeConfirmation(t)}})),r.a.createElement("div",{className:"d-flex align-items-center ml-auto"},r.a.createElement(wM,{className:"".concat(h&&"text-muted")},r.a.createElement(TM,{icon:"calendar"}),r.a.createElement(qc,{content:t.remind_at?c(t.remind_at.timestamp):o.addDate},r.a.createElement("span",{className:"badge mr-3 reminder-date ".concat(function(e){return"OVERDUE"===e.status?"Yesterday"===s(e.remind_at.timestamp)?"text-warning":"text-danger":"TODAY"===e.status?null===e.remind_at?"text-default":"text-success":"NEW"===e.status?"text-default":void 0}(t)),onClick:O},t.remind_at?s(t.remind_at.timestamp,"MM/DD/YYYY"):o.addDate))),r.a.createElement(NM,null,null!==t.link_type&&r.a.createElement("span",{className:"badge mr-3 badge-light todo-type-badge ".concat(h&&"text-muted"),onClick:g},function(e){switch(e.link_type){case"POST":return o.typePost;case"CHAT":return o.typeChat;case"POST_COMMENT":return o.typePostComment;default:return null}}(t))),r.a.createElement("div",{className:"avatars-container"},null!==t.author&&r.a.createElement(kn,{name:t.author.name,tooltipName:o.reminderAuthor,imageLink:t.author.profile_image_thumbnail_link?t.author.profile_image_thumbnail_link:t.author.profile_image_link,id:t.author.id}),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(TM,{icon:"chevron-right"}),r.a.createElement(kn,{name:t.assigned_to?t.assigned_to.name:t.workspace.name,tooltipName:o.reminderAssignedTo,imageLink:t.assigned_to?t.assigned_to.profile_image_link:t.workspace?t.workspace.channel.icon_link:null,id:t.assigned_to?t.assigned_to.id:t.workspace.id,type:t.assigned_to?"USER":"TOPIC",noDefaultClick:!t.assigned_to})))))))};function RM(){var e=Object(f.a)(["\n  font-weight: 700;\n  cursor: pointer;\n"]);return RM=function(){return e},e}function IM(){var e=Object(f.a)(["\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return IM=function(){return e},e}var PM=E.a.div(IM()),DM=E.a.span(RM()),LM=function(e){var t=e.className,a=void 0===t?"":t,n=e.id,i=void 0===n?"":n,o=e.handleClick,c=e.active,s=e.headerText,l=void 0===s?"":s;return r.a.createElement(PM,{className:a},r.a.createElement(DM,{className:"badge badge-light",onClick:o,id:i},r.a.createElement(pn,{icon:c?"arrow-down":"arrow-up",width:16,height:16,className:"mr-1"}),l),e.children)};function FM(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 5rem;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return FM=function(){return e},e}var MM=E.a.div(FM()),UM=function(e){var t=e.dictionary;return r.a.createElement(MM,null,r.a.createElement("h3",null,t.noItemsFoundHeader),r.a.createElement("h5",null,t.noItemsFoundText," "))};function GM(){var e=Object(f.a)(["\n  list-style: none;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  .list-group-item:last-child {\n    border-bottom: none;\n  }\n  li:last-child {\n    border-bottom: none;\n  }\n"]);return GM=function(){return e},e}function HM(){var e=Object(f.a)(["\n  .badge.badge-light {\n    background: rgba(175, 184, 189, 0.2);\n    border: 1px solid #f8f9fa;\n    color: #212529;\n    .dark & {\n      color: #fff;\n      background: rgb(175, 184, 189, 0.2) !important;\n      border: 1px solid rgb(175, 184, 189, 0.2);\n    }\n  }\n"]);return HM=function(){return e},e}var BM,WM,YM=E.a.div(HM()),VM=E.a.ul(GM()),QM=function(e){var t=e.className,a=void 0===t?"":t,n=e.active,i=e.handleHeaderClick,o=e.headerText,c=e.headerChild,s=e.dictionary,l=e.items,d=e.ItemList,u=e.showEmptyState,m=void 0===u||u,p=e.listGroupClassname,f=void 0===p?"":p;return r.a.createElement(YM,{className:a},r.a.createElement(LM,{active:n,headerText:o,handleClick:i},c),0===l.length&&m&&n&&r.a.createElement(UM,{dictionary:s}),l.length>0&&n&&r.a.createElement(VM,{className:f},l.map((function(e){return d(e)}))),e.children)},KM=E.a.div(BM||(BM=Object(f.a)(["\n  flex: unset !important;\n  height: 100% !important;\n  overflow: unset !important;\n  ",'\n  .list-group {\n    .list-group-item {\n      padding: 0rem 1.5rem 0 0.75rem;\n\n      > a {\n        display: block;\n        width: 100%;\n\n        .badge-todo-type {\n          border: 1px solid #000;\n        }\n      }\n    }\n  }\n\n  .custom-checkbox {\n    position: relative;\n    top: 1.5px;\n    padding: 0;\n    input[type="checkbox"] {\n      cursor: pointer;\n    }\n\n    .cci.cci-active + .ccl {\n      span:first-child {\n        background: #00c851;\n        border-color: #00c851;\n      }\n    }\n  }\n\n  .todo-title {\n    // color: #343a40;\n\n    &.description {\n      color: #b8b8b8;\n    }\n\n    svg {\n      height: 16px;\n    }\n  }\n\n  .card-body {\n    padding: 0;\n    overflow: unset;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  }\n'])),(function(e){return e.active&&"\n  height: 100% !important;\n  "})),zM=Object(E.a)(QM)(WM||(WM=Object(f.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n  .dark & {\n    :first-of-type {\n      border-bottom: none;\n    }\n    :last-of-type {\n      background: #2b2d31;\n      border-color: rgba(155, 155, 155, 0.1);\n    }\n    :last-of-type .list-group-item {\n      background: transparent !important;\n    }\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n    color: #8b8b8b;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    color: #8b8b8b;\n    stroke: #8b8b8b;\n  }\n"]))),qM=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.dictionary,o=(e.filter,e.isLoaded),c=e.todoActions,s=e.todoItems,l=e.doneTodoItems,d=e.workspaceName,u=void 0===d?null:d,m=Ap(),p=m.todoFormat,f=m.todoFormatShortCode,h=fp().getFileIcon,E=Np(),O=Object(b.i)(),g=function(e,t){if(e.preventDefault(),"CHAT"===t.link_type)E.toChat(t.data.channel,t.data.chat_message);else{var a={id:"POST_COMMENT"===t.link_type&&t.data?t.data.post.id:t.link_id,title:t.title},n=Object(R.a)(Object(R.a)({},t.workspace),{},{folder_id:t.folder?t.folder.id:null,folder_name:t.folder?t.folder.name:null});E.toPost({workspace:n,post:a})}},v=Object(n.useState)({todo:!0,done:!1}),A=Object(_.a)(v,2),j=A[0],C=A[1],T=function(e,t){e.preventDefault(),e.stopPropagation(),E.toWorkspace(t.workspace,"reminders")};return r.a.createElement(KM,{className:"todos-body card app-content-body mb-4 ".concat(a),active:!s.length},!o&&r.a.createElement("div",{className:"card-body"},r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})),o&&r.a.createElement("div",{className:"card-body"},r.a.createElement(zM,{active:j.todo,dictionary:i,handleHeaderClick:function(){C({todo:!j.todo,done:j.done})},headerText:i.todo,items:s,headerChild:O.hasOwnProperty("workspaceId")?r.a.createElement("span",{className:"badge badge-light"},u):null,ItemList:function(e){return r.a.createElement(xM,{key:e.id,todo:e,todoActions:c,dictionary:i,handleLinkClick:g,todoFormat:p,todoFormatShortCode:f,getFileIcon:h,showWsBadge:!O.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:T})}}),r.a.createElement(zM,{active:j.done,dictionary:i,showEmptyState:!1,listGroupClassname:"list-group-done",handleHeaderClick:function(){C({todo:j.todo,done:!j.done})},headerText:i.done,items:l,ItemList:function(e){return r.a.createElement(xM,{key:e.id,todo:e,todoActions:c,dictionary:i,handleLinkClick:g,todoFormat:p,todoFormatShortCode:f,getFileIcon:h,showWsBadge:!O.hasOwnProperty("workspaceId"),handleRedirectToWorkspace:T})}})))}));function JM(){var e=Object(f.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n  h5 {\n    margin-bottom: 0;\n    font-size: 14px;\n  }\n\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]);return JM=function(){return e},e}function ZM(){var e=Object(f.a)(["\n  font-weight: 700;\n  cursor: pointer;\n  background: #f8f9fa !important;\n  border: 1px solid #f8f9fa;\n"]);return ZM=function(){return e},e}function XM(){var e=Object(f.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n  :first-of-type {\n    padding-bottom: 10px;\n  }\n  :nth-child(even) {\n    background: #f8f9fa;\n  }\n  :nth-child(odd) {\n    background: transparent;\n  }\n  border-bottom: 1px solid #ebebeb;\n  :last-of-type {\n    border: none;\n  }\n\n  .custom-checkbox .ccl span:first-child {\n    border-radius: 10px;\n  }\n\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child {\n    background: #efefef;\n    border: 1px solid #9098a9;\n  }\n  .list-group-done .custom-checkbox .cci.cci-active + .ccl span:first-child svg {\n    stroke: #191c20;\n  }\n  div:first-child {\n    padding-left: 20px;\n    padding-right: 0;\n  }\n"]);return XM=function(){return e},e}E.a.div(XM()),E.a.span(ZM()),E.a.div(JM());function $M(){var e=Object(f.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  .card {\n    height: 95%;\n    text-align: center;\n    justify-content: center;\n  }\n"]);return $M=function(){return e},e}var eU=E.a.div($M()),tU=r.a.memo((function(e){var t={redirecting:(0,vs()._t)("REDIRECT.REDIRECTING","Redirecting...")},a=Ra(),i=rm(),o=Object(b.g)(),c=Object(b.j)("/magic-link/:token");return Object(n.useEffect)((function(){null!==c&&a.checkMagicLink(c.params.token,(function(e,t){if(t)if(console.log(t.data),t.data.additional_data){if("POST"===t.data.additional_data.type){if(t.data.additional_data.data.workspace){var a=t.data.additional_data.data.workspace[0],n=t.data.additional_data.data.id,r=t.data.additional_data.data.code;if(a.workspace_id){var c="/workspace/posts/".concat(a.workspace_id,"/").concat(Wt(a.workspace_name),"/").concat(a.topic_id,"/").concat(Wt(a.topic_name),"/post/").concat(n,"/").concat(Wt(r));o.push(c)}else{var s="/workspace/posts/".concat(a.topic_id,"/").concat(Wt(a.topic_name),"/post/").concat(n,"/").concat(Wt(r));o.push(s)}}}else if("CHANNEL"===t.data.additional_data.type)if(console.log("redirect to chat"),t.data.additional_data.topic){var l=t.data.additional_data.topic,d=t.data.additional_data.workspace;if(d){var u="/workspace/chat/".concat(d.id,"/").concat(Wt(d.name),"/").concat(l.id,"/").concat(Wt(l.name));o.push(u)}else{var m="/workspace/chat/".concat(l.id,"/").concat(Wt(l.name));o.push(m)}}else if(t.data.additional_data.data){var p="/chat/".concat(t.data.additional_data.data.code);i.fetchSelectChannel(t.data.additional_data.data.code,(function(){document.body.classList.add("m-chat-channel-closed")})),o.push(p)}else o.push("/workspace/chat")}else console.log("default to workspace chat"),o.push("/workspace/chat")}))}),[]),r.a.createElement(eU,{className:"workspace-people container-fluid h-100"},r.a.createElement("div",{className:"row justify-content-center align-items-center h-100"},r.a.createElement("div",{className:"col-12 col-lg-5 col-xl-6 h-50"},r.a.createElement("div",{className:"card"},r.a.createElement("h3",null,t.redirecting)))))}));function aU(){var e=Object(f.a)(["\n  overflow: auto;\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n  .feather-edit {\n    cursor: pointer;\n  }\n"]);return aU=function(){return e},e}var nU=E.a.div(aU()),rU=r.a.memo((function(e){var t=Object(l.useDispatch)(),a=Ap().fromNow,i=Object(l.useSelector)((function(e){return e.global.releases})).items,o=Object(l.useSelector)((function(e){return e.session.user}));Object(n.useEffect)((function(){t(jt())}),[]);var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a={type:"release",item:e};t(Ye(a))},s=["anthea@makedevelopment.com","jessryll@makedevelopment.com","nilo@makedevelopment.com","sander@zuid.com","johnpaul@makedevelopment.com"].includes(o.email);return r.a.createElement(nU,{className:"container-fluid h-100"},r.a.createElement("div",{className:"row row-user-profile-panel justify-content-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title d-flex justify-content-between align-items-center"},r.a.createElement("span",null,"Announcements"),s&&r.a.createElement(pn,{icon:"edit",height:16,width:16,onClick:function(){return c(null)}})),r.a.createElement("div",null,i.length>0&&i.map((function(e){return r.a.createElement(cU,{key:e.draft_id?e.draft_id:e.id,item:e,fromNow:a,openModal:c,isAuthorizedUser:s})}))))))))}));function iU(){var e=Object(f.a)(["\n  margin-bottom: 2rem;\n  .date-edit {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .title {\n    font-weight: bold;\n    font-size: 1.1rem;\n  }\n  .feather-pencil {\n    cursor: pointer;\n    display: none;\n  }\n  .text-muted,\n  .description {\n    font-size: 0.8rem;\n  }\n  :hover {\n    .feather-pencil {\n      display: block;\n    }\n  }\n"]);return iU=function(){return e},e}var oU=E.a.div(iU()),cU=r.a.memo((function(e){var t=e.item,a=e.fromNow,n=e.openModal,i=e.isAuthorizedUser;return r.a.createElement(oU,null,r.a.createElement("div",{className:"date-edit"},r.a.createElement("span",{className:"text-muted"},a(t.created_at.timestamp)," \xa0 ",(null===t||void 0===t?void 0:t.draft_type)&&r.a.createElement("div",{className:"badge badge-warning"},"draft")),i&&r.a.createElement(pn,{icon:"pencil",height:12,width:12,onClick:function(){return n(t)}})),r.a.createElement("div",{className:"title"},t.action_text),r.a.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:Es.parseEmoji(t.body)}}))}));function sU(){var e=Object(f.a)(["\n  padding-bottom: ",";\n"]);return sU=function(){return e},e}var lU=E.a.div(sU(),(function(e){return e.isOnWorkspace?"0 !important":"calc(1.875rem * 2)"})),dU=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal,i=Object(l.useSelector)((function(e){return e.session.user})),o=i.role&&"owner"===i.role.name;return r.a.createElement(lU,{className:"main-content ".concat(a),isOnWorkspace:"workspace"===e.match.params.page},r.a.createElement(b.d,null,r.a.createElement(b.b,Object.assign({},e,{component:OF,path:["/profile/:id/:name/:mode","/profile/:id/:name","/profile","/profile/:id"],exact:!0})),r.a.createElement(b.b,Object.assign({},e,{component:AF,path:["/notifications"]})),r.a.createElement(b.b,Object.assign({},e,{component:nM,path:["/search"]})),!n&&r.a.createElement(b.b,Object.assign({},e,{component:tP,path:["/dashboard"]})),!n&&r.a.createElement(b.b,Object.assign({},e,{component:nF,path:["/posts/:postId/:postTitle/:postCommentCode?","/posts"]})),!n&&r.a.createElement(b.b,Object.assign({},e,{component:ck,path:["/chat/:code/:messageId","/chat/:code","/chat"]})),r.a.createElement(b.b,Object.assign({},e,{render:function(e){return r.a.createElement(xL,e)},path:["/files/folder/:folderId/:folderName","/files"]})),!n&&r.a.createElement(b.b,Object.assign({},e,{component:JL,path:["/people"]})),!n&&r.a.createElement(b.b,Object.assign({},e,{component:sM,path:["/system/people"]})),r.a.createElement(b.b,Object.assign({},e,{component:lF,path:["/settings"]})),r.a.createElement(b.b,Object.assign({},e,{component:dM,path:["/todos"]})),o&&r.a.createElement(b.b,Object.assign({},e,{component:ah,path:["/bot"]})),r.a.createElement(b.b,Object.assign({},e,{component:tU,path:["/magic-link/:token"]})),r.a.createElement(b.b,Object.assign({},e,{component:rU,path:["/releases"]})),r.a.createElement(b.a,{from:"*",to:{pathname:n?"/workspace/chat":"/chat",state:{from:e.location}}})))}));function uU(){var e=Object(f.a)(["\n  z-index: 1 !important;\n"]);return uU=function(){return e},e}var mU=E.a.footer(uU());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(mU,{className:"".concat(a)},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,"\xa9 ","2020"," Made with ","<3"," by Driff"),r.a.createElement("div",null,r.a.createElement("nav",{className:"nav"},r.a.createElement("a",{href:"https://themeforest.net/licenses/standard",className:"nav-link"},"Licenses"),r.a.createElement("a",{href:"/",className:"nav-link"},"Change Log"),r.a.createElement("a",{href:"/",className:"nav-link"},"Get Help")))))}));function pU(){var e=Object(f.a)(["\n  .list-group-item:last-child {\n    border-bottom-width: thin !important;\n  }\n  li {\n    cursor: pointer;\n  }\n  &.list-group .list-group-item.active {\n    border-color: #eeebee;\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: #111417 !important;\n    }\n  }\n"]);return pU=function(){return e},e}var fU=E.a.ul(pU()),bU=function(e){var t=e.actions,a=e.counters,n=e.dictionary,i=e.filterBy,o="external"===Object(l.useSelector)((function(e){return e.session.user})).type,c=function(e){e.persist(),i!==e.target.dataset.value&&(t.updateSearch({filterBy:e.target.dataset.value}),document.body.classList.remove("mobile-modal-open"))};return r.a.createElement(fU,{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"all"===i?"active":""),"data-value":"all",onClick:c},r.a.createElement("span",{className:"text-primary fa fa-circle mr-2"}),n.all,r.a.createElement("span",{className:"small ml-auto"},a.nonMember+a.member>0&&a.nonMember+a.member)),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"member"===i?"active":""),"data-value":"member",onClick:c},r.a.createElement("span",{className:"text-success fa fa-circle mr-2"}),n.labelJoined,r.a.createElement("span",{className:"small ml-auto"},a.member>0&&a.member)),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"favourites"===i?"active":""),"data-value":"favourites",onClick:c},r.a.createElement("span",{className:"text-warning fa fa-circle mr-2"}),n.favourites,r.a.createElement("span",{className:"small ml-auto"},a.favourites>0&&a.favourites)),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"new"===i?"active":""),"data-value":"new",onClick:c},r.a.createElement("span",{className:"text-info fa fa-circle mr-2"}),n.new,r.a.createElement("span",{className:"small ml-auto"},a.new>0&&a.new)),!o&&r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"nonMember"===i?"active":""),"data-value":"nonMember",onClick:c},r.a.createElement("span",{className:"text-secondary fa fa-circle mr-2"}),n.notJoined,r.a.createElement("span",{className:"small ml-auto"},a.nonMember>0&&a.nonMember)),!o&&r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"external"===i?"active":""),"data-value":"external",onClick:c},r.a.createElement("span",{className:"text-external fa fa-circle mr-2"}),n.withClient,r.a.createElement("span",{className:"small ml-auto"},a.external>0&&a.external)),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"private"===i?"active":""),"data-value":"private",onClick:c},r.a.createElement("span",{className:"text-danger fa fa-circle mr-2"}),n.private,r.a.createElement("span",{className:"small ml-auto"},a.private>0&&a.private)),r.a.createElement("li",{className:"list-group-item d-flex align-items-center ".concat(i&&"archived"===i?"active":""),"data-value":"archived",onClick:c},r.a.createElement("span",{className:"text-light fa fa-circle mr-2"}),n.archived,r.a.createElement("span",{className:"small ml-auto"},a.archived>0&&a.archived)))};function hU(){var e=Object(f.a)([""]);return hU=function(){return e},e}function EU(){var e=Object(f.a)(["\n  margin-right: 4px;\n"]);return EU=function(){return e},e}function _U(){var e=Object(f.a)(["\n  display: inline-flex;\n  align-items: center;\n"]);return _U=function(){return e},e}function OU(){var e=Object(f.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n    @media (max-width: 991.99px) {\n      border-bottom-left-radius: 0 !important;\n      border-bottom-right-radius: 0 !important;\n      display: flex;\n      flex-direction: column;\n      .card-body {\n        display: none;\n      }\n      .create-new-post-wrapper {\n        border-top: 1px solid #ebebeb;\n        display: block;\n        order: 9;\n      }\n      .list-group-flush {\n        border-top: 1px solid #ebebeb;\n      }\n    }\n  }\n  @media (max-width: 991.99px) {\n    margin-bottom: 0 !important;\n  }\n"]);return OU=function(){return e},e}var gU=E.a.div(OU()),vU=E.a.button(_U()),AU=Object(E.a)(pn)(EU()),jU=E.a.div(hU()),CU=function(e){var t=e.actions,a=e.counters,n=e.dictionary,i=e.filterBy,o=Object(l.useSelector)((function(e){return e.session.user}));return r.a.createElement(gU,{className:"col-md-3 app-sidebar bottom-modal-mobile"},r.a.createElement(jU,{className:"mobile-overlay",onClick:function(){document.body.classList.remove("mobile-modal-open")}}),r.a.createElement("div",{className:"bottom-modal-mobile_inner"},r.a.createElement("div",{className:"app-sidebar-menu",tabIndex:"2"},"internal"===o.type&&r.a.createElement("div",{className:"card-body create-new-post-wrapper"},r.a.createElement(vU,{className:"btn btn-primary btn-block",onClick:t.showWorkspaceModal},r.a.createElement(AU,{icon:"circle-plus"}),n.addNewWorkspace)),r.a.createElement("div",{className:"post-filter-item list-group list-group-flush"},r.a.createElement("span",{className:"list-group-item d-flex align-items-center pr-3","data-value":"inbox"},n.filters)),r.a.createElement(bU,{actions:t,counters:a,dictionary:n,filterBy:i}))))};function TU(){var e=Object(f.a)(["\n  overflow: inherit !important;\n  .action-right {\n    margin: 0 !important;\n  }\n  .action-left {\n    ul {\n      margin-bottom: 0;\n      display: inherit;\n\n      li {\n        position: relative;\n\n        .button-dropdown {\n        }\n      }\n    }\n    .app-sidebar-menu-button {\n      margin-left: 8px;\n    }\n  }\n  .btn-cross {\n    position: absolute;\n    top: 0;\n    right: 45px;\n    border: 0;\n    background: transparent;\n    padding: 0;\n    height: 100%;\n    width: 36px;\n    border-radius: 4px;\n    z-index: 9;\n    svg {\n      width: 16px;\n      color: #495057;\n    }\n  }\n"]);return TU=function(){return e},e}var yU=E.a.div(TU()),SU=r.a.memo((function(e){var t=e.actions,a=e.dictionary,i=e.search,o=i.value,c=i.searching,s=i.filterBy,l=Object(n.useState)(""),d=Object(_.a)(l,2),u=d[0],m=d[1],p=function(){t.updateSearch(Object(R.a)(Object(R.a)({},i),{},{results:[],value:u,filterBy:s,searching:!0})),t.search({search:u,skip:0,limit:25,filter_by:s},(function(e,a){e?t.updateSearch(Object(R.a)(Object(R.a)({},i),{},{searching:!1})):t.updateSearch(Object(R.a)(Object(R.a)({},i),{},{value:u,filterBy:s,searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25),page:1}))}))},f=function(){t.updateSearch({results:[],searching:!0,value:"",filterBy:"all",page:1,maxPage:1,count:0}),t.search({search:"",skip:0,limit:25,filter_by:"all"},(function(e,a){e?t.updateSearch({searching:!1,value:"",filterBy:"all"}):t.updateSearch({value:"",filterBy:"all",searching:!1,count:a.data.total_count,results:a.data.workspaces,maxPage:Math.ceil(a.data.total_count/25)})})),m("")};Object(n.useEffect)((function(){var e=setTimeout((function(){t.updateSearch({value:u,hasMore:!0})}),500);return function(){return clearTimeout(e)}}),[u]);return r.a.createElement(yU,{className:"files-header app-action"},r.a.createElement("div",{className:"action-left mt-2"},r.a.createElement("span",{className:"app-sidebar-menu-button btn btn-outline-light",onClick:function(){document.body.classList.toggle("mobile-modal-open")}},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("div",{className:"action-right"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onChange:function(e){""===e.target.value.trim()&&""!==o?f():m(e.target.value)},value:u,onKeyDown:function(e){"Enter"!==e.key||c||p()},className:"form-control",placeholder:a.searchWorkspacePlaceholder,"aria-describedby":"button-addon1"}),""!==u.trim()&&r.a.createElement("button",{onClick:f,className:"btn-cross",type:"button"},r.a.createElement(pn,{icon:"x"})),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",id:"button-addon1",onClick:p},r.a.createElement(pn,{icon:"search"}))))))}));function kU(){var e=Object(f.a)(["\n  background: #00c851;\n  border-radius: 50%;\n  margin-right: 3px;\n"]);return kU=function(){return e},e}function wU(){var e=Object(f.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  color: #fff;\n  stroke-width: 3;\n  padding: 2px;\n"]);return wU=function(){return e},e}function NU(){var e=Object(f.a)(["\n  span.text-success {\n    margin-right: 0;\n  }\n"]);return NU=function(){return e},e}function xU(){var e=Object(f.a)(["\n  width: 1rem;\n  height: 1rem;\n  margin-right: 3px;\n"]);return xU=function(){return e},e}function RU(){var e=Object(f.a)(["\n  .workspace-title {\n    cursor: pointer;\n  }\n  .labels span {\n    display: flex;\n    align-items: center;\n  }\n  .mobile-icon {\n    display: none;\n  }\n  @media (max-width: 414px) {\n    .badge {\n      display: none;\n    }\n    .mobile-icon {\n      display: block;\n    }\n  }\n"]);return RU=function(){return e},e}var IU=E.a.div(RU()),PU=Object(E.a)(pn)(xU()),DU=E.a.span(NU()),LU=Object(E.a)(pn)(wU()),FU=E.a.span(kU()),MU=function(e){var t=e.dictionary,a=e.isExternal,n=e.isMember,i=e.item,o=e.onRedirect;return r.a.createElement(IU,{className:"workspace-details"},r.a.createElement("div",{className:"title-labels"},r.a.createElement("span",{className:"workspace-title",onClick:function(e){return o(e,i)}},i.topic.name),i.topic.is_locked&&r.a.createElement(PU,{icon:"lock"}),i.topic.is_shared&&!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-external ml-1 align-items-center"},r.a.createElement(PU,{icon:"eye"})," ",t.withClient),r.a.createElement(PU,{icon:"eye",className:"mobile-icon"}))),r.a.createElement("div",{className:"labels"},n&&r.a.createElement(DU,{className:"mr-2"},r.a.createElement(FU,null,r.a.createElement(LU,{icon:"check"})),r.a.createElement("span",{className:"text-success"},t.labelJoined)),r.a.createElement("span",{className:"mr-2"},r.a.createElement(PU,{icon:"user"}),i.members.length),i.workspace&&r.a.createElement("span",{className:"mr-2"},r.a.createElement(PU,{icon:"folder"}),i.workspace.name)))};function UU(){var e=Object(f.a)(["\n  padding: 5px 10px;\n  font-size: 12px;\n  font-weight: 500;\n"]);return UU=function(){return e},e}function GU(){var e=Object(f.a)(["\n  width: 1rem;\n  height: 1rem;\n  margin-right: 10px;\n  &.favorite {\n    color: rgb(255, 193, 7);\n    fill: rgb(255, 193, 7);\n  }\n  :hover {\n    color: #7a1b8b;\n    cursor: pointer;\n    &.favorite {\n      color: rgb(255, 193, 7);\n      fill: rgb(255, 193, 7);\n    }\n  }\n"]);return GU=function(){return e},e}function HU(){var e=Object(f.a)(["\n  margin-left: 10px;\n"]);return HU=function(){return e},e}var BU=E.a.div(HU()),WU=Object(E.a)(pn)(GU()),YU=E.a.button(UU()),VU=function(e){var t=e.actions,a=e.dictionary,n=e.isExternal,i=e.isMember,o=e.item;return r.a.createElement(BU,{className:"workspace-list-buttons"},i&&!n&&r.a.createElement(WU,{icon:"pencil",onClick:function(){return t.edit(o)}}),i&&r.a.createElement(WU,{icon:"star",className:"".concat(o.topic.is_favourite&&"favorite"),onClick:function(){return t.favourite(o)}}),i&&!n&&r.a.createElement(WU,{icon:"trash",onClick:function(){return t.showArchiveConfirmation(o)}}),r.a.createElement(YU,{className:"btn ".concat(i?"btn-danger":"btn-primary"),onClick:function(){i?t.leave(o):t.join(o)}},i?a.buttonLeave:a.buttonJoin))};function QU(){var e=Object(f.a)(["\n  position: absolute;\n  z-index: 2;\n  width: 1rem;\n  height: 1rem;\n  top: 0;\n  right: 0;\n  color: rgb(255, 193, 7);\n  fill: rgb(255, 193, 7);\n"]);return QU=function(){return e},e}function KU(){var e=Object(f.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  border-right: none;\n  border-left: none;\n\n  .workspace-icon {\n    position: relative;\n  }\n  .workspace-list-buttons {\n    display: none;\n  }\n  .workspace-title {\n    font-size: 1rem;\n  }\n  .title-labels,\n  .labels {\n    display: flex;\n  }\n  .title-labels {\n    align-items: center;\n    .feather-lock {\n      margin: 0 5px;\n    }\n    .feather-eye {\n      width: 0.8rem;\n      height: 0.8rem;\n    }\n  }\n  :hover {\n    button {\n      display: inline-flex;\n    }\n    .workspace-list-buttons {\n      display: block;\n    }\n  }\n"]);return KU=function(){return e},e}var zU=E.a.li(KU()),qU=Object(E.a)(pn)(QU()),JU=function(e){var t=e.actions,a=e.dictionary,n=e.item,i=cd(n.members.map((function(e){return e.id}))),o="external"===Object(l.useSelector)((function(e){return e.session.user})).type,c=function(e,a){var n={id:a.topic.id,name:a.topic.name,folder_id:a.workspace?a.workspace.id:null,folder_name:a.workspace?a.workspace.name:null};t.toWorkspace(n)};return r.a.createElement(zU,{className:"list-group-item"},r.a.createElement("div",{className:"workspace-icon mr-3"},n.topic.is_favourite&&r.a.createElement(qU,{icon:"star"}),r.a.createElement(kn,{forceThumbnail:!1,type:"TOPIC",imageLink:n.topic.icon_link,id:n.topic.id,name:n.topic.name,onClick:function(e){return c(0,n)},showSlider:!1})),r.a.createElement(MU,{dictionary:a,isExternal:o,isMember:i,item:n,onRedirect:c}),r.a.createElement(VU,{actions:t,dictionary:a,isExternal:o,isMember:i,item:n}))};function ZU(){var e=Object(f.a)(["\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  li {\n    padding: 15px;\n  }\n  li:nth-child(2) {\n    border-top: none;\n  }\n  &.active-workspaces {\n    border-radius 6px 6px 0 0;\n  }\n  &.archived-workspaces {\n    .dark & {\n      border: 1px solid;\n      border-top: 0;\n      border-color: hsla(0,0%,60.8%,.1);\n      border-radius: 0 0 6px 6px;\n      background: #252a2d;\n    }\n  }\n  &.archived-workspaces li {\n    background-color: #fafafa;\n    opacity: .7;\n    .dark & {\n      background-color: #252a2d;\n    }\n  }\n  &.archived-workspaces li:last-child {\n    border-radius 0 0 6px 6px;\n    border-bottom: none;\n  }\n"]);return ZU=function(){return e},e}function XU(){var e=Object(f.a)(["\n  border: none;\n  cursor: pointer;\n  .badge.badge-light {\n    background: #f1f2f7;\n  }\n"]);return XU=function(){return e},e}function $U(){var e=Object(f.a)(["\n  overflow: visible !important;\n"]);return $U=function(){return e},e}var eG=E.a.div($U()),tG=E.a.li(XU()),aG=E.a.ul(ZU()),nG=function(e){var t=e.actions,a=e.dictionary,i=e.filterBy,o=e.results,c=Object(n.useState)({showActive:!0,showArchived:!0}),s=Object(_.a)(c,2),l=s[0],d=s[1],u=function(e){d(Object(R.a)(Object(R.a)({},l),{},Object(x.a)({},e,!l[e])))};return r.a.createElement(eG,{className:"card"},r.a.createElement(aG,{className:"active-workspaces"},r.a.createElement(tG,{className:"list-group-item",onClick:function(){return u("showActive")}},r.a.createElement("span",{className:"badge badge-light"},r.a.createElement(pn,{icon:l.showActive?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),a.active)),l.showActive&&o.filter((function(e){return"favourites"===i?!e.topic.is_archive&&e.topic.is_favourite:!e.topic.is_archive})).map((function(e){return r.a.createElement(JU,{actions:t,key:e.topic.id,dictionary:a,item:e})}))),r.a.createElement(aG,{className:"archived-workspaces"},r.a.createElement(tG,{className:"list-group-item",onClick:function(){return u("showArchived")}},r.a.createElement("span",{className:"badge badge-light"},r.a.createElement(pn,{icon:l.showArchived?"arrow-up":"arrow-down",width:16,height:16,className:"mr-1"}),a.archived)),l.showArchived&&o.filter((function(e){return"favourites"===i?e.topic.is_archive&&e.topic.is_favourite:e.topic.is_archive})).map((function(e){return r.a.createElement(JU,{actions:t,key:e.topic.id,dictionary:a,item:e})}))))};function rG(){var e=Object(f.a)(["\n  overflow: hidden auto;\n  .app-block {\n    overflow: inherit;\n    .app-content {\n      height: auto;\n    }\n  }\n"]);return rG=function(){return e},e}var iG=E.a.div(rG()),oG=function(e){var t=Object(l.useSelector)((function(e){return e.workspaces.search})),a=t.hasMore,i=t.results,o=t.filterBy,c=t.value,s=vs()._t,d=Mp(),u=Object(n.useState)(!1),m=Object(_.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)(!1),h=Object(_.a)(b,2),E=h[0],O=h[1];Object(n.useEffect)((function(){document.body.classList.add("stretch-layout"),d.getFilterCount()}),[]),Object(n.useEffect)((function(){d.updateSearch({searching:!0,results:[]}),O(!0),d.search({search:c,skip:0,limit:25,filter_by:o},(function(e,t){O(!1),e?d.updateSearch({searching:!1}):d.updateSearch({filterBy:o,searching:!1,count:t.data.total_count,hasMore:t.data.has_more,results:t.data.workspaces,maxPage:Math.ceil(t.data.total_count/25)})}))}),[o,c]);var g={notJoined:s("ALL_WORKSPACE.NOT_JOINED","Not joined"),withClient:s("ALL_WORKSPACE.WITH_CLIENT","With client"),searchWorkspacePlaceholder:s("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:s("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:s("WORKSPACE.PRIVATE","Private"),archived:s("WORKSPACE.ARCHIVED","Archived"),new:s("WORKSPACE.NEW","New"),active:s("ALL_WORKSPACE.ACTIVE","Active"),labelOpen:s("LABEL.OPEN","Open"),labelJoined:s("LABEL.JOINED","Joined"),buttonJoin:s("BUTTON.JOIN","Join"),buttonLeave:s("BUTTON.LEAVE","Leave"),externalAccess:s("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access"),addNewWorkspace:s("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),favourites:s("WORKSPACE.FAVOURITES","Favourites"),all:s("ALL_WORKSPACE.ALL","All")},v=Object(n.useMemo)((function(){var e=Object(Kt.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&f(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);return Object(n.useEffect)((function(){p&&(console.log("load more"),!E&&a&&d.search({search:c,skip:i.length,limit:25,filter_by:o},(function(e,t){O(!1),f(!1),e?d.updateSearch({searching:!1}):d.updateSearch({filterBy:o,searching:!1,hasMore:t.data.has_more,count:t.data.total_count,results:[].concat(Object(Rt.a)(i),Object(Rt.a)(t.data.workspaces)),maxPage:Math.ceil(t.data.total_count/25)})})))}),[p]),r.a.createElement(iG,{className:"container-fluid h-100 fadeIn",onScroll:v},r.a.createElement("div",{className:"row app-block"},r.a.createElement(CU,{actions:d,dictionary:g,filterBy:o,counters:t.counters}),r.a.createElement("div",{className:"col-lg-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(SU,{actions:d,dictionary:g,search:t}),r.a.createElement(nG,{actions:d,dictionary:g,filterBy:o,results:i}))))};function cG(){var e=Object(f.a)(["\n  height: 72vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  svg {\n    display: block;\n    margin: 0 auto 2rem;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return cG=function(){return e},e}function sG(){var e=Object(f.a)(["\n  position: relative;\n  //padding-bottom: 0 !important;\n  // overflow: hidden;\n\n  .spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 45vw;\n\n    .spinner-border {\n      color: #5b1a67;\n    }\n  }\n"]);return sG=function(){return e},e}var lG,dG,uG,mG=E.a.div(sG()),pG=E.a.div(cG()),fG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal,i=vs()._t,o={createWorkspace:i("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:i("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace")},c=Object(l.useDispatch)(),s=lm().loggedUser,d=mp(),u=Object(l.useSelector)((function(e){return e.workspaces})),m=u.workspaces,p=u.workspacesLoaded,f=u.favoriteWorkspacesLoaded,h=u.activeTopic,E=u.workspaceTimeline,_=null;Object.keys(E).length&&h&&E[h.id]&&(_=E[h.id]);var O=cd(h&&h.member_ids.length?h.member_ids:[]);return r.a.createElement(mG,{className:"main-content ".concat(a)},p||f?r.a.createElement(r.a.Fragment,null,Object.keys(m).length>=1?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{render:function(e){return r.a.createElement(oG,Object.assign({isExternal:n},e))},path:["/workspace/search"]}),r.a.createElement(b.b,{render:function(){return r.a.createElement(QG,Object.assign({},e,{workspace:h,isMember:O,actions:d,workspaceTimeline:_}))},path:["/workspace/dashboard/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/dashboard/:workspaceId/:workspaceName","/workspace/dashboard"]}),r.a.createElement(b.b,{exact:!0,render:function(){return r.a.createElement(fB,Object.assign({},e,{workspace:h,isMember:O}))},path:["/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle","/workspace/posts/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/posts/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/posts/:workspaceId/:workspaceName","/workspace/posts"]}),r.a.createElement(b.b,{exact:!0,render:function(){return r.a.createElement(_G,Object.assign({},e,{workspace:h}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/chat"]}),!n&&r.a.createElement(b.b,{exact:!0,render:function(){return r.a.createElement(_G,Object.assign({},e,{workspace:h}))},path:["/workspace/chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/chat/:workspaceId/:workspaceName","/workspace/team-chat/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/team-chat/:workspaceId/:workspaceName","/workspace/chat"]}),r.a.createElement(b.b,Object.assign({exact:!0},e,{render:function(e){return r.a.createElement(qG,Object.assign({},e,{workspace:h,isMember:O}))},path:["/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/files/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/files/:workspaceId/:workspaceName","/workspace/files"]})),r.a.createElement(b.b,{render:function(){return r.a.createElement(cB,Object.assign({},e,{workspace:h,isMember:O}))},path:["/workspace/people/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/people/:workspaceId/:workspaceName","/workspace/people"]}),r.a.createElement(b.b,{render:function(){return r.a.createElement(KB,Object.assign({},e,{workspace:h,isMember:O}))},path:["/workspace/reminders/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/reminders/:workspaceId/:workspaceName","/workspace/reminders"]}),r.a.createElement(b.b,Object.assign({},e,{component:EB,path:["/workspace/settings/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/settings/:workspaceId/:workspaceName","/workspace/settings"]})),r.a.createElement(b.a,{from:"*",to:{pathname:"/workspace/chat",state:{from:e.location}}}))):r.a.createElement(pG,null,r.a.createElement("div",null,r.a.createElement(bn,{height:275,icon:1}),"external"!==s.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,o.sidebarTextCreateWorkspace),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){c(Ye({type:"workspace_create_edit",mode:"add"}))}},o.createWorkspace))))):r.a.createElement("div",{className:"spinner-container"},r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"})))})),bG=E.a.div(lG||(lG=Object(f.a)([""]))),hG=E.a.div(dG||(dG=Object(f.a)(["\n  padding: 24px 24px 0 24px;\n  @media (max-width: 991.99px) {\n    padding: 15px;\n  }\n"]))),EG=E.a.div(uG||(uG=Object(f.a)(["\n  padding: 8rem 0;\n  max-width: 375px;\n  margin: auto;\n  text-align: center;\n\n  svg {\n    display: block;\n  }\n  button {\n    width: auto !important;\n    margin: 2rem auto;\n  }\n"]))),_G=function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,o=Object(b.j)(),c=Object(l.useDispatch)(),s=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),d=Object(l.useSelector)((function(e){return e.session.user})),u=Object(n.useState)(!1),m=Object(_.a)(u,2),p=m[0],f=m[1];of();return r.a.createElement(bG,{className:"workspace-chat container-fluid ".concat(a)},r.a.createElement(hG,{className:"row no-gutters chat-block"},i&&!i.team_channel.code&&o.path.startsWith("/workspace/team-chat/")&&"internal"===d.type&&r.a.createElement(EG,null,r.a.createElement(bn,{icon:3,height:252}),r.a.createElement("button",{className:"btn btn-outline-primary btn-block",disable:p,onClick:function(){p||(f(!0),c(Wm({id:i.id},(function(e,t){console.log(t,"create team channel"),f(!1)}))))}},p?"Activating...":"Activate chat")),(o.path.startsWith("/workspace/chat")&&s&&s.id===i.channel.id||i&&i.team_channel.code&&"internal"===d.type&&s&&s.team)&&r.a.createElement(NT,{className:"col-lg-12",isWorkspace:!0,selectedChannel:s})))};function OG(){var e=Object(f.a)(["\n  .timeline-file-icon {\n    color: #505050;\n    display: flex;\n    align-items: center;\n    i {\n      margin-right: 8px;\n      display: inline-block;\n      //filter: brightness(0) saturate(100%);\n    }\n  }\n  .file-summary {\n    cursor: pointer;\n    cursor: hand;\n  }\n  .timeline-file-icon {\n    cursor: pointer;\n    cursor: hand;\n  }\n"]);return OG=function(){return e},e}var gG=E.a.div(OG()),vG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,o=e.scrollRef,c=Object(b.j)().params,s=Object(l.useDispatch)(),d=Ap().fromNow;return r.a.createElement(gG,{className:"attach-file-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(kn,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,id:n.user.id,showSlider:!0,scrollRef:o})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between font-weight-bold mb-4"},r.a.createElement("span",null,r.a.createElement("span",{className:"font-weight-normal"},n.user.name)," ",r.a.createElement("span",{onClick:function(){s(Fi({workspace_id:c.workspaceId,file_id:n.id,files:[Object(R.a)(Object(R.a)({},n),{},{filename:n.name,file_id:n.id})]}))},className:"file-summary"},i.attachedFile)),r.a.createElement("span",{className:"text-muted font-weight-normal"},d(n.created_at.timestamp)))))}));function AG(){var e=Object(f.a)(["\n  .title {\n    font-weight: normal;\n    .post-title {\n      cursor: pointer;\n      cursor: hand;\n      color: #505050;\n      font-weight: 600;\n\n      .text-primary {\n        font-weight: 600;\n        font-style: italic;\n        font-weight: normal;\n      }\n    }\n  }\n  img {\n    max-width: 100%;\n  }\n  .files {\n  }\n  .post-body {\n    max-height: 255px;\n    overflow: hidden;\n    position: relative;\n\n    svg {\n      cursor: pointer;\n      cursor: hand;\n      position: absolute;\n      right: 6px;\n      color: #000;\n      bottom: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return AG=function(){return e},e}var jG=E.a.div(AG()),CG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,o=e.scrollRef,c=Object(b.g)(),s=Object(b.j)().params,l=Ap().fromNow,d=function(e){e.preventDefault(),c.push("/workspace/posts/".concat(s.workspaceId,"/").concat(s.workspaceName,"/post/").concat(n.id,"/").concat(n.title))};return r.a.createElement(jG,{className:"post-timeline timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(kn,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,id:n.user.id,showSlider:!0,scrollRef:o})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},n.user.name," ",r.a.createElement("span",{className:"post-title",onClick:d,title:n.title},i.sharedThePost,' "',n.title,'"')),r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp))),n.body.replace(/<\/?[^>]+(>|$)/g,"")&&r.a.createElement("span",{onClick:d},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1 post-body"},r.a.createElement(pn,{icon:"arrow-right"}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.body}}))),n.files&&n.files.length>=1&&r.a.createElement(r.a.Fragment,null,i.fileAttachments,":",r.a.createElement(Hc,{attachedFiles:n.files,type:"timeline"}))))}));function TG(){var e=Object(f.a)([""]);return TG=function(){return e},e}var yG=E.a.div(TG());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.workspace,i=Ap().fromNow;return r.a.createElement(yG,{className:"timeline-item ".concat(a)},r.a.createElement("div",null,r.a.createElement(kn,{name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",null,n.user.name," ",r.a.createElement("a",{href:"#"},"shared a post")),r.a.createElement("span",{className:"text-muted font-weight-normal"},i(n.created_at.timestamp))),r.a.createElement("a",{href:"#"},r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},n.body))))}));function SG(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return SG=function(){return e},e}function kG(){var e=Object(f.a)(["\n    font-weight: bold;\n    .action-text {\n        margin: 0;\n        color: #505050;\n        .joined {\n            color: #00c851\n            font-weight: bold;\n        }\n        .left {\n            color: #f44;\n            font-weight: bold;\n        }\n    }\n"]);return kG=function(){return e},e}var wG=E.a.div(kG()),NG=Object(E.a)(nn.a)(SG()),xG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,o=e.scrollRef,c=Ap(),s=c.fromNow,d=c.localizeDate,u=Object(l.useSelector)((function(e){return e.users.users})),m=Object(l.useSelector)((function(e){return e.users.archivedUsers})),p=[].concat(Object(Rt.a)(Object.values(u)),Object(Rt.a)(m)),f=null,b=null;n.body.includes("CHANNEL_UPDATE")&&(f=JSON.parse(n.body.replace("CHANNEL_UPDATE::",""))),f&&f.author&&(b=f.author.name?f.author:p.find((function(e){return e.id===f.author})));var h=function(){if(""!==f.title)return"".concat(i.updatedWorkspaceTo," ").concat(f.title)};return null===f?null:r.a.createElement(wG,{className:"member-timeline timeline-item ".concat(a)},r.a.createElement("div",null,null!==f?r.a.createElement(r.a.Fragment,null,b?r.a.createElement(kn,{className:"mr-3",name:b.name,imageLink:b.profile_image_thumbnail_link?b.profile_image_thumbnail_link:b.profile_image_link,id:b.id,showSlider:!0,scrollRef:o}):r.a.createElement(kn,{className:"mr-3",imageLink:null,isBot:!0})):r.a.createElement(kn,{className:"mr-3",imageLink:null,isBot:!0})),r.a.createElement("div",null,null!==f?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},b&&b.name," ",h()),r.a.createElement("span",{className:"text-muted font-weight-normal"},s(n.created_at.timestamp))),f.added_members.length||f.removed_members.length?r.a.createElement("div",{className:"mb-3 border p-3 border-radius-1"},r.a.createElement("p",{className:"action-text"},f.added_members.length>0&&function(){if(null===f.author){if(!f.accepted_members)return"";var e=p.filter((function(e){return f.accepted_members.some((function(t){return t===e.id}))}));if(e.length)return e.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else if(f.accepted_members){var t=p.filter((function(e){return f.accepted_members.some((function(t){return t===e.id}))}));if(t.length)return t.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}else{var a=p.filter((function(e){return f.added_members.some((function(t){return t===e.id}))}));if(a.length)return a.map((function(e){return e.name})).join(", ")+" ".concat(i.isAdded,".")}}()),r.a.createElement("p",{className:"action-text"},f.removed_members.length>0&&function(){if(null===f.author)return"";var e=p.filter((function(e){return f.removed_members.some((function(t){return t===e.id}))}));return e.length?e.map((function(e){return e.name})).join(", ")+" ".concat(i.isRemoved,"."):void 0}())):null):r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"title"},h()),r.a.createElement(NG,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"".concat(d(n.created_at.timestamp))},r.a.createElement("span",{className:"text-muted font-weight-normal"},s(n.created_at.timestamp)))))))}));function RG(){var e=Object(f.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return RG=function(){return e},e}var IG=E.a.div(RG()),PG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.dictionary,o=e.scrollRef,c=Ap().fromNow;return r.a.createElement(IG,{className:"topic-timeline timeline-item ".concat(a)},r.a.createElement("div",null,n.user&&r.a.createElement(kn,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,id:n.user.id,showSlider:!0,scrollRef:o})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"action-text title font-weight-normal"},n.user.name," ",r.a.createElement("strong",null,i.created," ",n.name," ",i.workspace)),r.a.createElement("span",{className:"text-muted font-weight-normal"},c(n.created_at.timestamp)))))}));function DG(){var e=Object(f.a)(["\n  .action-text {\n    .joined {\n      color: #00c851;\n    }\n\n    .left {\n      color: #f44;\n    }\n  }\n  .title {\n    color: #505050;\n  }\n"]);return DG=function(){return e},e}var LG=E.a.div(DG()),FG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.data,i=e.tag,o=e.dictionary,c=e.workspace,s=e.scrollRef,l=Ap().fromNow;return r.a.createElement(LG,{className:"topic-timeline timeline-item ".concat(a)},r.a.createElement("div",null,n.user&&r.a.createElement(kn,{className:"mr-3",name:n.user.name,imageLink:n.user.profile_image_thumbnail_link?n.user.profile_image_thumbnail_link:n.user.profile_image_link,id:n.user.id,showSlider:!0,scrollRef:s})),r.a.createElement("div",null,r.a.createElement("h6",{className:"d-flex justify-content-between mb-4"},r.a.createElement("span",{className:"action-text title font-weight-normal"},n.user.name," ",r.a.createElement("strong",null,"ARCHIVED_WORKSPACE"===i?o.archived:o.unarchived," ",c.name," ",o.workspace)),r.a.createElement("span",{className:"text-muted font-weight-normal"},l(n.created_at.timestamp)))))})),MG=function(e){var t=e.actions,a=e.workspace,n=e.workspaceTimeline,i=n.page,o=n.maxPage,c=n.timeline,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;t.getTimeline({topic_id:a.id,skip:e,limit:n})};return r.a.createElement("nav",{className:"mt-3"},r.a.createElement(KF.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:o,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var r=e.selected+1;r!==i&&(t.updateTimelinePage({id:a.id,page:r}),n.total_items!==Object.keys(c).length&&Object.keys(c).length<=10*r&&(10*r-Object.keys(c).length>0?s(Object.keys(c).length,10*r):s(Object.keys(c).length,10)))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"}))};function UG(){var e=Object(f.a)(["\n  overflow: unset;\n  @media (max-width: 620px) {\n    .timeline-item .d-flex.justify-content-between.mb-4 {\n      flex-direction: column;\n\n      .text-muted.font-weight-normal {\n        padding-top: 2px;\n        font-size: 12px;\n      }\n    }\n  }\n"]);return UG=function(){return e},e}var GG,HG,BG,WG=E.a.div(UG()),YG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.workspaceTimeline,o=e.actions,c=e.workspace,s=e.dictionary,l=Object(n.useRef)(null),d=Object(n.useState)(!1),u=Object(_.a)(d,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){i||!c||m||(p(!0),o.getTimeline({topic_id:c.id,skip:0,limit:10},(function(){p(!1)})))}),[i,c,m]),r.a.createElement(WG,{className:"timeline-panel card ".concat(a),ref:l},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},s.timeline),r.a.createElement("div",{className:"timeline"},i&&Object.values(i.timeline).sort((function(e,t){return t.item.created_at.timestamp>e.item.created_at.timestamp?1:-1})).slice(i.page>1?10*i.page-10:0,10*i.page).map((function(e){switch(e.tag){case"CHAT_BOT":return r.a.createElement(xG,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"POST":return r.a.createElement(CG,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"ICON":case"DOCUMENT":return r.a.createElement(vG,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"TOPIC":return r.a.createElement(PG,{key:e.id,data:e.item,dictionary:s,scrollRef:l.current});case"UNARCHIVED_WORKSPACE":case"ARCHIVED_WORKSPACE":return r.a.createElement(FG,{key:e.id,data:e.item,tag:e.tag,dictionary:s,workspace:c,scrollRef:l.current});default:return null}})))),i&&i.total_items>10&&r.a.createElement(MG,{workspaceTimeline:i,actions:o,workspace:c}))})),VG=E.a.div(GG||(GG=Object(f.a)(["\n  overflow: auto !important;\n  min-height: calc(100vh - 100px);\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  h5 {\n    text-align: left;\n  }\n"]))),QG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal,i=e.isMember,o=e.match,c=e.actions,s=e.workspaceTimeline,l=e.workspace,d=o.params,u=vs()._t,m=Uu().recentPosts,p=window.innerWidth,f=function(){c.showModal(l,"edit","workspace")};of();var b={aboutThisWorkspace:u("DASHBOARD.ABOUT_THIS_WORKSPACE","About this workspace"),team:u("TEAM","Team"),timeline:u("TIMELINE","Timeline"),noRecentPosts:u("DASHBOARD.NO_RECENT_POSTS","No recent posts."),recentPosts:u("DASHBOARD.RECENT_POSTS","Recent posts"),fileAttachments:u("FILE_ATTACHMENTS","File attachments"),peopleExternal:u("PEOPLE.EXTERNAL","External"),peopleInvited:u("PEOPLE.INVITED","Invited"),emptyTeam:u("DASHBOARD.EMPTY_TEAM","There are no team members for this workspace."),showMore:u("DASHBOARD.SHOW_MORE","Show more"),showLess:u("DASHBOARD.SHOW_LESS","Show less"),attachedFile:u("ATTACHED_A_FILE","attached a file"),sharedThePost:u("SHARED_THE_POST","shared the post"),hasJoined:u("TIMELINE.HAS_JOINED","has joined"),hasLeft:u("TIMELINE.HAS_LEFT","has left"),youJoined:u("TIMELINE.YOU_JOINED","You joined"),youLeft:u("TIMELINE.YOU_LEFT","You left"),isAdded:u("TIMELINE.IS_ADDED","is added"),isRemoved:u("TIMELINE.IS_REMOVED","is removed"),createdThePost:u("TIMELINE.CREATED_POST","created the post"),updatedWorkspaceTo:u("TIMELINE.UPDATED_WORKSPACE_TO","Updated workspace to"),remove:u("TEAM.REMOVE","Remove"),leave:u("TEAM.LEAVE","Leave"),leaveWorkspace:u("TOASTER.LEAVE_WORKSPACE","You have left #"),archived:u("TIMELINE.ARCHIVED","archived"),unarchived:u("TIMELINE.UNARCHIVED","unarchived"),workspace:u("TIMELINE.WORKSPACE","workspace"),created:u("TIMELINE.CREATED","created"),resend:u("TEAM.RESEND","Resend"),cancel:u("MODAL.CANCEL","Cancel"),resendInvite:u("MODAL.RESEND_INVITE","Resend invite"),resendInviteConfirmation:u("MODAL.RESEND_INVITE_CONFIRMATION","Are you sure you want to resend invite to this email:"),invitationSent:u("TOASTER.INVITE_SENT","Invitation sent"),assignAsAdvisor:u("TEAM.ASSIGN_ADVISOR","Assign as advisor"),assignAsApprover:u("TEAM.ASSIGN_APPROVER","Assign as approver"),assignAsClient:u("TEAM.ASSIGN_CLIENT","Assign as client"),assignAsCommunicationLead:u("TEAM.ASSIGN_COMMUNICATION_LEAD","Assign as communication lead"),assignAsDesigner:u("TEAM.ASSIGN_DESIGNER","Assign as designer"),assignAsDeveloper:u("TEAM.ASSIGN_DEVELOPER","Assign as developer"),assignAsFreelancer:u("TEAM.ASSIGN_FREELANCER","Assign as freelancer"),assignAsSupervisor:u("TEAM.ASSIGN_SUPERVISOR","Assign as supervisor"),assignAsTeamLead:u("TEAM.ASSIGN_TEAM_LEAD","Assign as team lead"),assignAsTechnicalAdvisor:u("TEAM.ASSIGN_TECHNICAL_ADVISOR","Assign as technical advisor"),assignAsTechnicalLead:u("TEAM.ASSIGN_TECHNICAL_LEAD","Assign as technical lead"),assignAsWatcher:u("TEAM.ASSIGN_WATCHER","Assign as watcher"),revokeAsAdvisor:u("TEAM.REVOKE_ADVISOR","Revoke as advisor"),revokeAsApprover:u("TEAM.REVOKE_APPROVER","Revoke as approver"),revokeAsClient:u("TEAM.REVOKE_CLIENT","Revoke as client"),revokeAsCommunicationLead:u("TEAM.REVOKE_COMMUNICATION_LEAD","Revoke as communication lead"),revokeAsDesigner:u("TEAM.REVOKE_DESIGNER","Revoke as designer"),revokeAsDeveloper:u("TEAM.REVOKE_DEVELOPER","Revoke as developer"),revokeAsFreelancer:u("TEAM.REVOKE_FREELANCER","Revoke as freelancer"),revokeAsSupervisor:u("TEAM.REVOKE_SUPERVISOR","Revoke as supervisor"),revokeAsTeamLead:u("TEAM.REVOKE_TEAM_LEAD","Revoke as team lead"),revokeAsTechnicalAdvisor:u("TEAM.REVOKE_TECHNICAL_ADVISOR","Revoke as technical advisor"),revokeAsTechnicalLead:u("TEAM.REVOKE_TECHNICAL_LEAD","Revoke as technical lead"),revokeAsWatcher:u("TEAM.REVOKE_WATCHER","Revoke as watcher"),roleAdvisor:u("ROLE.ADVISOR","Advisor"),roleApprover:u("ROLE.APPROVER","Approver"),roleClient:u("ROLE.CLIENT","Client"),roleCommunicationLead:u("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:u("ROLE.DESIGNER","Designer"),roleDeveloper:u("ROLE.DEVELOPER","Developer"),roleFreelancer:u("ROLE.FREELANCER","Freelancer"),roleSupervisor:u("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:u("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:u("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:u("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:u("ROLE.WATCHER","Watcher"),sendInviteManually:u("TEAM.SEND_INVITE_MANUALLY","Send invite manually")},h=!1;return l&&0===l.active&&(h=!0),r.a.createElement(VG,{className:"container-fluid fadeIn ".concat(a)},r.a.createElement("div",{className:"row"},null===l?r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):r.a.createElement(r.a.Fragment,null,p>620?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-6"},r.a.createElement(uk,{isMember:i,workspace:l,onEditClick:f,isExternal:n,dictionary:b}),r.a.createElement(YG,{workspaceTimeline:s,actions:c,workspace:l,dictionary:b})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Ck,{workspace:l,actions:c,onEditClick:f,isMember:i,isExternal:n,dictionary:b}),r.a.createElement(QI,{posts:m,dictionary:b,disableOptions:h}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement(uk,{isMember:i,workspace:l,onEditClick:f,isExternal:n,dictionary:b}),r.a.createElement(Ck,{workspace:l,onEditClick:f,isMember:i,isExternal:n,dictionary:b}),r.a.createElement(QI,{posts:m,dictionary:b,disableOptions:h}),r.a.createElement(YG,{workspaceTimeline:s,actions:c,params:d,dictionary:b}))))))})),KG=E.a.div(HG||(HG=Object(f.a)(["\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n"]))),zG=E.a.div(BG||(BG=Object(f.a)(["\n  padding-top: 10px;\n"]))),qG=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isMember,o=e.workspace,c=Object(l.useDispatch)(),s=Object(b.g)(),d=vs()._t,u=pp(!0),m=u.params,p=u.wsFiles,f=u.actions,h=u.topic,E=u.fileIds,O=u.folders,g=u.folder,v=u.subFolders;of();var A=Object(n.useState)(""),j=Object(_.a)(A,2),C=j[0],T=j[1],y=Object(n.useState)(""),S=Object(_.a)(y,2),k=S[0],w=S[1],N={dropZone:Object(n.useRef)(null)},x=!1;o&&0===o.active&&(x=!0);var I=function(){f.search(k)},P=function(){w(""),f.clearSearch()},D={createFolder:d("CREATE_FOLDER","Create folder"),create:d("CREATE","Create"),updateFolder:d("UPDATE_FOLDER","Update folder"),update:d("UPDATE","Update"),editFolder:d("EDIT_FOLDER","Edit folder"),removeFolder:d("REMOVE_FOLDER","Remove folder"),renameFolder:d("RENAME.FOLDER","Rename folder"),folderInfo:d("FOLDER.INFO","Folders help to organize your files. A file can only be connected to one folder."),renameFolderInfo:d("RENAME.FOLDER_INFO","Renaming the folder will update the folder name for everyone."),add:d("ADD","Add"),favorite:d("FAVORITE","Favorite"),file:d("FILE","File"),folder:d("FOLDER","Folder"),folderName:d("FOLDER_NAME","Folder name"),folders:d("FOLDERS","Folders"),allFiles:d("FILES.ALL_FILES","All files"),recentlyEdited:d("FILES.RECENTLY_EDITED","Recently edited"),removed:d("FILES.REMOVED","Removed"),searchInputPlaceholder:d("FILES.SEARCH_INPUT_PLACEHOLDER","Search by file or folder name"),uploadFiles:d("UPLOAD_FILES","Upload files")},L=Object(n.useRef)(""),F=function(){L.current=""},M=function(e){L.current=e.target.value.trim()},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=function(){if(h){var e={topic_id:h.id,name:L.current};m.hasOwnProperty("fileFolderId")&&(e=Object(R.a)(Object(R.a)({},e),{},{folder_id:m.fileFolderId})),f.createFolder(e,(function(e,t){if(!e)if(m.hasOwnProperty("fileFolderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(Wt(t.data.folder.search)))}else s.push(s.location.pathname+"/folder/".concat(t.data.folder.id,"/").concat(Wt(t.data.folder.search)))}))}},n=function(){if(h){f.updateFolder({id:e.id,topic_id:h.id,name:L.current},(function(e,t){if(!e&&m.hasOwnProperty("fileFolderId")){var a=s.location.pathname.split("/folder/")[0];s.push(a+"/folder/".concat(t.data.folder.id,"/").concat(Wt(t.data.folder.search)))}}))}},i={type:"single_input",defaultValue:"",label:D.folderName,postInputLabel:g?r.a.createElement(zG,null,"The folder will be created inside ",r.a.createElement("b",null,"#",g.search)):"",onChange:M,onClose:F};"add"===t?i=Object(R.a)(Object(R.a)({},i),{},{title:D.createFolder,preInputLabel:D.folderInfo,labelPrimaryAction:D.create,onPrimaryAction:a}):(L.current=e.search,i=Object(R.a)(Object(R.a)({},i),{},{defaultValue:e.search,title:D.renameFolder,preInputLabel:D.renameFolderInfo,labelPrimaryAction:D.renameFolder,onPrimaryAction:n})),c(Ye(i))},G=function(){T("")};return Object(n.useEffect)((function(){g&&g.is_archived&&"removed"!==C&&T("removed")}),[g,C,T]),r.a.createElement(KG,{className:"container-fluid h-100 fadeIn ".concat(a)},r.a.createElement("div",{className:"row app-block"},"undefined"===typeof p||null===p?r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(GP,{actions:f,isMember:i,clearFilter:G,params:m,dropZoneRef:N.dropZone,className:"col-lg-3",filterFile:function(e){if(m.hasOwnProperty("fileFolderId")){var t=s.location.pathname.split("/folder/")[0];s.push(t)}T(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:C,wsFiles:p,folders:O,activeFolder:g,dictionary:D,disableOptions:x,workspace:o}),r.a.createElement("div",{className:"col-md-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(oD,{isMember:i,clearFilter:G,dropZoneRef:N.dropZone,history:s,params:m,onSearch:I,onSearchChange:function(e){""===e.target.value&&P(),w(e.target.value)},onEnter:function(e){"Enter"===e.key&&I()},wsFiles:p,handleAddEditFolder:U,folders:O,dictionary:D,disableOptions:x,onClickEmpty:P,value:k}),r.a.createElement(nD,{dropZoneRef:N.dropZone,filter:C,search:k,folders:O,folder:g,fileIds:E,isMember:i,subFolders:v,history:s,actions:f,params:m,wsFiles:p,handleAddEditFolder:U,dictionary:D,disableOptions:x})))))})),JG=a(628);function ZG(){var e=Object(f.a)(["\n  width: 12px !important;\n"]);return ZG=function(){return e},e}function XG(){var e=Object(f.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  a {\n    position: relative !important;\n    height: 40px !important;\n    display: inline-flex !important;\n    align-items: center !important;\n    padding: 0 !important;\n    svg {\n      margin-left: 6px;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return XG=function(){return e},e}E.a.li(XG(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),Object(E.a)(pn)(ZG());function $G(){var e=Object(f.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return $G=function(){return e},e}function eH(){var e=Object(f.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return eH=function(){return e},e}function tH(){var e=Object(f.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return tH=function(){return e},e}function aH(){var e=Object(f.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n    .feather-pencil {\n      display: none;\n    }\n    :hover {\n      .sub-menu-arrow {\n        margin-left: 10px;\n      }\n      .feather-pencil {\n        display: block;\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #fff9;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 6px;\n      width: 14px;\n      height: 14px;\n    }\n  }\n"]);return aH=function(){return e},e}E.a.li(aH(),(function(e){return!e.show&&"display: none;"}),"",(function(e){return e.selected?"600":"400"}),""),Object(E.a)(pn)(tH()),E.a.ul(eH(),(function(e){return e.maxHeight})),Object(E.a)(pn)($G());var nH,rH,iH=E.a.div(nH||(nH=Object(f.a)(["\n  position: relative;\n  display: flex;\n  margin-left: 6px;\n  align-items: center;\n  > a:after {\n    display: none;\n  }\n  .dropdown-toggle {\n    cursor: pointer;\n    cursor: hand;\n\n    &:after {\n      display: none;\n    }\n    .feather {\n      &:hover {\n        color: #000000;\n      }\n    }\n  }\n  .dropdown-menu {\n    position: absolute;\n    top: 25px;\n    left: 50%;\n    transform: translateX(-50%);\n    > span {\n      cursor: pointer;\n      cursor: hand;\n    }\n  }\n  @media all and (max-width: 400px) {\n    margin-right: 0;\n  }\n  .feather.feather-pencil {\n    width: 14px;\n    height: 14px;\n  }\n"]))),oH=Object(E.a)(nn.a)(rH||(rH=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),cH=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Op(),o=vs()._t,c={archiveThisWorkspace:o("WORKSPACE.WORKSPACE_ARCHIVE","Archive this workspace"),unarchiveThisWorkspace:o("WORKSPACE.WORKSPACE_UNARCHIVE","Un-archive this workspace"),archiveWorkspace:o("HEADER.ARCHIVE_WORKSPACE","Archive workspace"),archive:o("BUTTON.ARCHIVE","Archive"),unarchiveWorkspace:o("HEADER.UNARCHIVE_WORKSPACE","Un-archive workspace"),cancel:o("BUTTON.CANCEL","Cancel"),archiveBodyText:o("TEXT.ARCHIVE_CONFIRMATION","Are you sure you want to archive this workspace?"),unarchiveBodyText:o("TEXT.UNARCHIVE_CONFIRMATION","Are you sure you want to un-archive this workspace?")},s=Object(n.useRef)(),d=Object(l.useDispatch)(),u=Object(l.useSelector)((function(e){return e.workspaces.activeTopic})),m=Object(l.useSelector)((function(e){return e.workspaces.folders})),p=Object(n.useState)(!1),f=Object(_.a)(p,2),b=f[0],h=f[1],E=function(){h(!b)},O=function(e){g(e.target.dataset.name)},g=function(e){var t={mode:"edit",item:u};t="folder"===e?Object(R.a)(Object(R.a)({},t),{},{type:"workspace_folder",item:m[u.folder_id]}):Object(R.a)(Object(R.a)({},t),{},{type:"workspace_create_edit"}),d(Ye(t))},v=function(){var e={id:u.channel.id,is_archived:!1,is_muted:!1,is_pinned:!1,is_shared:u.is_external,push_unarchived:1};d(xs(e)),i.success(r.a.createElement("span",null,r.a.createElement("b",null,u.name," workspace is un-archived.")))};return Ka(s,E,b),cd(u?u.member_ids:[])?r.a.createElement(iH,{className:"nav-item ".concat(a),ref:s},r.a.createElement("div",null,r.a.createElement("span",{className:"dropdown-toggle ".concat(b?"show":""),"data-toggle":"dropdown",onClick:function(){u&&null!==u.folder_id||u&&0===u.active?E():g("workspace")}},r.a.createElement(oH,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"Workspace settings"},r.a.createElement(pn,{icon:"pencil"}))),r.a.createElement("div",{className:"dropdown-menu ".concat(b?"show":"")},1===u.active?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"dropdown-item","data-name":"folder",onClick:O},"Folder settings"),r.a.createElement("span",{className:"dropdown-item","data-name":"workspace",onClick:O},"Workspace settings")):r.a.createElement("span",{className:"dropdown-item","data-name":"unarchive",onClick:function(){d(Ye({type:"confirmation",cancelText:c.cancel,headerText:c.unarchiveWorkspace,submitText:c.unarchiveWorkspace,bodyText:c.unarchiveBodyText,actions:{onSubmit:v}}))}},"Un-archive workspace")))):null}));function sH(){var e=Object(f.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: 4px;\n  color: #fff8;\n"]);return sH=function(){return e},e}function lH(){var e=Object(f.a)(["\n  ","\n  cursor: pointer;\n  cursor: hand;\n  position: relative;\n  transition: all 0.3s ease;\n  background: ",";\n  border-radius: 8px;\n  a.archived-folder {\n    ","\n  }\n  > a {\n    position: relative;\n    font-weight: ",";\n\n    div {\n      position: relative;\n      height: 40px;\n      display: inline-flex;\n      align-items: center;\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n        overflow: hidden;\n        transition: all 0.3s ease;\n        opacity: 1;\n        &.enter-active {\n          transform: translate(0, 0);\n        }\n\n        &.leave-active {\n          opacity: 0;\n          transform: translate(0, 100%);\n        }\n      }\n    }\n  }\n\n  ul {\n    li {\n      .badge {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        top: 7px;\n        right: -12px;\n        border-radius: 50%;\n        background: #28a745;\n        font-size: 0;\n      }\n    }\n  }\n  .nav-action {\n    ","\n    background-color: #ffffff14;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    color: #cbd4db;\n    padding: 0 10px;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    svg {\n      margin-right: 4px;\n      width: 13px;\n      height: 13px;\n    }\n  }\n"]);return lH=function(){return e},e}E.a.li(lH(),(function(e){return!e.show&&"display: none;"}),(function(e){return e.selected?"#ffffff14":"transparent"}),"",(function(e){return e.selected?"600":"400"}),""),Object(E.a)(pn)(sH());function dH(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  color: #8b8b8b;\n"]);return dH=function(){return e},e}function uH(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  color: #cbd4db;\n  .feather {\n    margin-left: 5px;\n  }\n"]);return uH=function(){return e},e}function mH(){var e=Object(f.a)(["\n  min-width: 0.8rem;\n  min-height: 0.8rem;\n  width: 0.8rem;\n  height: 0.8rem;\n"]);return mH=function(){return e},e}function pH(){var e=Object(f.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  align-self: center;\n"]);return pH=function(){return e},e}function fH(){var e=Object(f.a)(["\n  display: flex;\n  padding-top: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n  .feather-star {\n    top: -2px;\n    right: -2px;\n  }\n  .feather-folder {\n    margin-right: 5px;\n    width: 0.7rem;\n    height: 0.7rem;\n  }\n  .workspace-folder-name {\n    font-size: 0.7rem;\n  }\n"]);return fH=function(){return e},e}var bH=E.a.div(fH()),hH=E.a.div(pH()),EH=Object(E.a)(pn)(mH()),_H=E.a.div(uH()),OH=E.a.div(dH()),gH=function(e){var t=e.isExternal,a=e.onSelectWorkspace,n=e.workspace;return r.a.createElement(bH,{onClick:function(){a(n)}},r.a.createElement(TH,{avatarClassName:"avatar-sm",workspace:n}),r.a.createElement(hH,null,r.a.createElement(_H,null,r.a.createElement("span",{className:"text-truncate"},n.name),1===n.is_lock&&r.a.createElement(EH,{icon:"lock"}),n.is_shared&&!t&&r.a.createElement(EH,{icon:"eye"})),n.folder_name&&r.a.createElement(OH,{className:"workspace-folder-name"},r.a.createElement(EH,{icon:"folder"}),r.a.createElement("span",{className:"text-truncate"},n.folder_name))))};function vH(){var e=Object(f.a)(["\n  position: absolute;\n  right: -7px;\n  top: -4px;\n  z-index: 1;\n  padding: 4px 8px;\n  font-size: 10px;\n  &.badge.badge-primary {\n    background: #3f034a;\n  }\n"]);return vH=function(){return e},e}function AH(){var e=Object(f.a)(["\n  position: relative;\n"]);return AH=function(){return e},e}var jH=E.a.div(AH()),CH=Object(E.a)(JG.a)(vH()),TH=function(e){var t=e.avatarClassName,a=void 0===t?"":t,n=e.onSelectWorkspace,i=void 0===n?null:n,o=e.workspace;return r.a.createElement(jH,{className:"workspace-icon mr-3"},o.hasOwnProperty("workspace_counter_entries")&&o.workspace_counter_entries>0&&r.a.createElement(CH,{className:"badge badge-primary badge-pill ml-1"},o.workspace_counter_entries>99?"99+":o.workspace_counter_entries),r.a.createElement(kn,{className:a,forceThumbnail:!1,type:"TOPIC",imageLink:o.channel?o.channel.icon_link:null,id:o.id,name:o.name,onClick:i,noDefaultClick:!i,showSlider:!1}))};function yH(){var e=Object(f.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n  cursor: pointer;\n  ","\n"]);return yH=function(){return e},e}function SH(){var e=Object(f.a)(["\n  height: 14px !important;\n  width: 14px !important;\n  margin-left: 5px;\n"]);return SH=function(){return e},e}function kH(){var e=Object(f.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0;\n  svg {\n    margin-left: 4px;\n    @media all and (max-width: 620px) {\n      width: 18px !important;\n      height: 18px !important;\n    }\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return kH=function(){return e},e}function wH(){var e=Object(f.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #000000;\n  font-weight: normal;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .avatar {\n    height: 2rem;\n    width: 2rem;\n    margin-right: 0.25rem;\n  }\n  svg {\n    color: #64625c;\n  }\n  .feather-lock {\n    color: #64625c;\n  }\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return wH=function(){return e},e}function NH(){var e=Object(f.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]);return NH=function(){return e},e}function xH(){var e=Object(f.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: rgb(80, 80, 80);\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n\n  .dark & {\n    color: #fff;\n  }\n\n  svg {\n    color: #64625c;\n  }\n\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return xH=function(){return e},e}function RH(){var e=Object(f.a)(["\n  letter-spacing: 0;\n  margin-bottom: 0;\n  color: #b8b8b8;\n  font-weight: 500;\n  font-size: 20px;\n  margin-right: 2px;\n  @media all and (max-width: 620px) {\n    font-size: 16px;\n  }\n"]);return RH=function(){return e},e}function IH(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n\n  li {\n    // justify-content: center;\n    align-items: center;\n    &.nav-item-last {\n      flex-grow: 1;\n      display: flex;\n      justify-content: flex-end;\n      padding-right: 15px;\n      border-right: 1px solid #f1f1f1;\n      max-width: 80px;\n      @media all and (max-width: 700px) {\n        display: none;\n      }\n      .btn {\n        @media all and (max-width: 920px) {\n          display: none;\n        }\n      }\n      .nav-item-avatars-wrap {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n      .avatar-sm {\n        border: 2px solid #ffffff;\n      }\n      @media all and (max-width: 440px) {\n        display: none;\n      }\n    }\n    .badge {\n      display: flex;\n    }\n    svg {\n      color: #b8b8b8;\n    }\n    svg.feather-eye {\n      color: inherit;\n      margin-left: 0;\n      margin-right: 0.4rem;\n      width: 11px !important;\n      height: 11px !important;\n    }\n    svg.feather-pencil {\n      width: 16px;\n      height: 16px;\n      color: #64625c;\n    }\n    svg.feather-compass {\n      color: rgb(80, 80, 80);\n\n      .dark & {\n        color: #fff;\n      }\n    }\n  }\n  .nav-link {\n    padding: 0px !important;\n    background: transparent !important;\n    svg {\n      color: #000000;\n      width: 24px !important;\n      height: 24px !important;\n    }\n  }\n"]);return IH=function(){return e},e}function PH(){var e=Object(f.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .btn {\n    font-weight: 400;\n    height: 32px;\n    margin-left: 12px;\n    padding-top: 0;\n    padding-bottom: 0;\n    svg {\n      color: #ffffff;\n      margin-right: 6px;\n      width: 16px;\n      height: 16px;\n    }\n  }\n  .nav-item {\n    display: flex;\n  }\n  @media (max-width: 991.99px) {\n    margin-right: 5px;\n    padding-right: 10px;\n  }\n  @media (max-width: 991.99px) {\n    .nav-item-folder,\n    .nav-item-chevron {\n      display: none;\n    }\n  }\n  @media all and (max-width: 700px) {\n    margin-right: 0;\n    padding-right: 0;\n  }\n  .navbar-nav {\n    height: 100%;\n    .navbar-wrap {\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .navbar-top {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        height: 40px;\n      }\n      .navbar-bottom {\n        @media all and (max-width: 700px) {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          padding: 0 16px;\n          overflow: auto;\n        }\n      }\n    }\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  svg.feather-menu {\n    color: #7a1b8b !important;\n  }\n  .component-user-list-pop-up-container .profile-slider {\n    right: 165px;\n    top: 0;\n  }\n"]);return PH=function(){return e},e}var DH,LH,FH,MH,UH,GH,HH,BH,WH,YH,VH=E.a.div(PH()),QH=E.a.ul(IH()),KH=E.a.h2(RH()),zH=E.a.h2(xH()),qH=E.a.span(NH()),JH=E.a.h3(wH()),ZH=E.a.h3(kH()),XH=Object(E.a)(pn)(SH()),$H=Object(E.a)(pn)(yH(),(function(e){return e.isFav&&"\n    color: rgb(255, 193, 7)!important;\n    fill: rgb(255, 193, 7);\n    :hover {\n      color: rgb(255, 193, 7);\n    }"})),eB=function(e){var t=e.isExternal,a=Op(),i=Object(l.useDispatch)(),o=Object(b.j)(),c=Object(l.useSelector)((function(e){return e.workspaces})),s=c.activeTopic,d=c.folders,u=c.workspacesLoaded,m=Object(l.useSelector)((function(e){return e.settings})),p=m.driff,f=m.user.GENERAL_SETTINGS.dark_mode,h=Object(l.useSelector)((function(e){return e.session.user})),E=vs()._t,_={allWorkspaces:E("SIDEBAR.ALL_WORKSPACES","Browse Workspaces"),pageTitleWorkspaceReminders:E("PAGE_TITLE.WORKSPACE_REMINDERS","Reminders"),pageTitleWorkspaceDashboard:E("PAGE_TITLE.WORKSPACE_DASHBOARD","Dashboard"),pageTitleWorkspacePosts:E("PAGE_TITLE.WORKSPACE_POSTS","Posts"),pageTitleWorkspaceChat:E("PAGE_TITLE.WORKSPACE_CHAT","Chat"),pageTitleWorkspaceFiles:E("PAGE_TITLE.WORKSPACE_FILES","Files"),pageTitleWorkspaceNotifications:E("PAGE_TITLE.WORKSPACE_NOTIFICATIONS","Notifications"),pageTitleWorkspacePeople:E("PAGE_TITLE.WORKSPACE_PEOPLE","People"),pageTitleWorkspaceProfile:E("PAGE_TITLE.WORKSPACE_PROFILE","Profile"),pageTitleWorkspaceSearch:E("PAGE_TITLE.WORKSPACE_SEARCH","Search workspace"),pageTitleSettings:E("PAGE_TITLE.SETTINGS","Settings"),pageTitleTodos:E("PAGE_TITLE.TODOS","Reminders"),generalSearch:E("GENERAL.SEARCH","Search"),generalNotifications:E("GENERAL.NOTIFICATIONS","Notifications"),generalSwitchTheme:E("SETTINGS.SWITCH_TO_THEME_MODE","Switch to ::mode::",{mode:"0"===f?E("SETTINGS.DARK_MODE","dark mode"):E("SETTINGS.LIGHT_MODE","light mode")}),actionWorkspaceNewWorkspace:E("ACTION.NEW_WORKSPACE","New workspace"),actionWorkspaceInvite:E("ACTION.INVITE_WORKSPACE","Invite"),actionWorkspaceJoin:E("ACTION.JOIN_WORKSPACE","Join"),statusWorkspacePrivate:E("WORKSPACE.STATUS_PRIVATE","Private"),statusWorkspaceArchived:E("WORKSPACE.STATUS_ARCHIVED","Archived"),statusNoWorkspaceExternal:E("WORKSPACE.EXTERNAL_NO_WORKSPACES","You currently don't have any workspaces."),toasterJoinWorkspace:E("TOASTER.JOIN_WORKSPACE","You have joined ::topic_name::",{topic_name:s?"<b>#{activeTopic.name}</b>":""}),withClient:E("PAGE.WITH_CLIENT","With client")},O=function(e){e.preventDefault(),document.body.classList.add("navigation-show")};Object(n.useEffect)((function(){var e=document.body,t="";switch(o.params.page){case"posts":t=_.pageTitleWorkspacePosts;break;case"chat":t=_.pageTitleWorkspaceChat;break;case"files":t=_.pageTitleWorkspaceFiles;break;case"people":t=_.pageTitleWorkspacePeople;break;case"settings":t=_.pageTitleSettings;break;case"reminders":t=_.pageTitleWorkspaceReminders;break;default:t=_.pageTitleWorkspaceDashboard}[_.pageTitleWorkspaceDashboard,_.pageTitleWorkspaceFiles,_.pageTitleWorkspacePeople].includes(t)?e.classList.remove("stretch-layout"):e.classList.add("stretch-layout"),s&&(s.unread_chats>=1||s.unread_posts>0?document.title="".concat(t," \u2039 * ").concat(s.name," \u2014 ").concat(p.company_name," @ Driff"):document.title="".concat(t," \u2039 ").concat(s.name," \u2014 ").concat(p.company_name," @ Driff"))}),[o.params.page,i,s]);var g=function(){var e={id:s.id,workspace_id:s.folder_id?s.folder_id:0,is_pinned:s.is_favourite?0:1};i(Vm(e))},v=s&&h&&s.members.some((function(e){return e.id===h.id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(VH,{className:"navbar-left"},r.a.createElement(QH,{className:"navbar-nav"},"search"===o.params.page?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},r.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:O},r.a.createElement(pn,{icon:"menu"}))),r.a.createElement("li",{className:"nav-item nav-item-folder d-inline-flex justify-content-start align-items-center"},r.a.createElement(pn,{className:"mr-2",icon:"compass"}),r.a.createElement(zH,null,_.allWorkspaces))):s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-wrap"},r.a.createElement("div",{className:"navbar-top"},r.a.createElement("li",{className:"nav-item navigation-toggler mobile-toggler"},r.a.createElement("a",{href:"/",className:"nav-link",title:"Show navigation",onClick:O},r.a.createElement(pn,{icon:"menu"}))),null===s.folder_id?r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item nav-item-folder"},r.a.createElement(KH,null,"Workspaces")),r.a.createElement("li",{className:"nav-item-chevron"},r.a.createElement(pn,{icon:"chevron-right"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(JH,{className:"current-title"},r.a.createElement(kn,{forceThumbnail:!1,type:s.type,imageLink:s.channel.icon_link,id:"ws_".concat(s.id),name:s.name,noDefaultClick:!1}),r.a.createElement(qH,null,s.name))),1===s.is_lock&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-danger text-white ml-1"},_.statusWorkspacePrivate)),0===s.active&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-light text-white ml-1"},_.statusWorkspaceArchived)),s.is_shared&&!t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},r.a.createElement(XH,{icon:"eye"})," ",_.withClient)),v&&r.a.createElement("li",{className:"nav-item"},r.a.createElement($H,{icon:"star",isFav:s.is_favourite,onClick:g})),r.a.createElement("li",{className:"nav-item"},!t&&r.a.createElement(cH,null))):r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item nav-item-folder"},r.a.createElement(KH,null,r.a.createElement(qH,null,s.folder_name,d.hasOwnProperty(s.folder_id)&&1===d[s.folder_id].is_lock&&r.a.createElement(XH,{icon:"lock",strokeWidth:"2"})," "))),r.a.createElement("li",{className:"nav-item-chevron"},r.a.createElement(pn,{icon:"chevron-right"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(JH,{className:"current-title"},r.a.createElement(kn,{forceThumbnail:!1,type:s.type,imageLink:s.channel.icon_link,id:"ws_".concat(s.id),name:s.name,noDefaultClick:!1}),r.a.createElement(qH,null,s.name))),1===s.is_lock&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-danger text-white ml-1"},_.statusWorkspacePrivate)),0===s.active&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-light text-white ml-1"},_.statusWorkspaceArchived)),s.is_shared&&!t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},r.a.createElement(XH,{icon:"eye"})," ",_.withClient)),v&&r.a.createElement("li",{className:"nav-item"},r.a.createElement($H,{icon:"star",isFav:s.is_favourite,onClick:g})),r.a.createElement("li",{className:"nav-item"},!t&&r.a.createElement(cH,null)))),r.a.createElement("div",{className:"navbar-bottom"},r.a.createElement(b.b,Object.assign({},e,{exact:!0,render:function(e){return r.a.createElement(rB,Object.assign({},e,{user:h,workspace:s}))},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page"]})))),r.a.createElement("li",{className:"nav-item-last"},r.a.createElement("div",{className:"nav-item-avatars-wrap"},r.a.createElement(py,{members:s.members})),s.member_ids.includes(h.id)&&!t?r.a.createElement("button",{onClick:function(){i(Ye({type:"workspace_create_edit",mode:"edit",item:s}))},className:"btn btn-primary",disabled:0===s.active},r.a.createElement(pn,{icon:"user-plus"}),_.actionWorkspaceInvite):t?null:r.a.createElement("button",{onClick:function(){i(gm({channel_id:s.channel.id,recipient_ids:[h.id]},(function(e,t){e||a.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:_.toasterJoinWorkspace}}))})))},className:"btn btn-primary",disabled:0===s.active},r.a.createElement(pn,{icon:"user-plus"}),_.actionWorkspaceJoin))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},u&&r.a.createElement(r.a.Fragment,null,"external"===h.type?r.a.createElement(r.a.Fragment,null,_.statusNoWorkspaceExternal):r.a.createElement(ZH,{onClick:function(){i(Ye({type:"workspace_create_edit",mode:"create"}))}},_.actionWorkspaceNewWorkspace," ",r.a.createElement(pn,{className:"ml-2",icon:"circle-plus"}))))))),r.a.createElement("div",null,r.a.createElement(If,{dictionary:_})))},tB=E.a.div(DH||(DH=Object(f.a)([""]))),aB=E.a.ul(LH||(LH=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  margin-left: -15px;\n  li {\n    display: inline-block;\n    text-align: center;\n    margin-right: 1.5rem;\n    &:last-child {\n      display: inline-flex !important;\n      justify-content: flex-end;\n    }\n    a {\n      white-space: nowrap;\n    }\n  }\n  li:first-child {\n    margin-left: 15px;\n    @media all and (max-width: 700px) {\n      margin-left: 0;\n    }\n  }\n"]))),nB=Object(E.a)(ar)(FH||(FH=Object(f.a)(['\n  color: #828282;\n  transition: color 200ms ease 0ms;\n  font-weight: 500;\n  border-radius: 0;\n  display: flex;\n  height: 27px;\n  position: relative;\n  font-size: 13px;\n  &.active {\n    color: #363636;\n    .dark & {\n      color: #fff;\n    }\n    &:after {\n      content: "";\n      height: 2px;\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      background: #7a1b8b;\n      position: absolute;\n    }\n  }\n  .badge {\n    font-size: 0;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    background: #7a1b8b;\n    top: 0;\n    right: -13px;\n  }\n  @media all and (max-width: 700px) {\n    margin: 0;\n  }\n']))),rB=r.a.memo((function(e){var t=Object(b.g)(),a=e.className,n=void 0===a?"":a,i=e.workspace,o=e.user,c=Object(l.useSelector)((function(e){return e.workspaces.workspaceReminders})),s=Object(b.i)(),d="undefined"!==typeof c[s.workspaceId],u=e.match.url;if("/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?"===e.match.path)u=u.split("/post/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path||"/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName"===e.match.path)u=u.split("/folder/")[0].replace("/workspace/".concat(e.match.params.page),"");else if("/workspace/:workspaceId/:workspaceName"===e.match.path&&"undefined"===typeof e.match.params.page){var m=u.split("/");m.splice(2,0,"chat"),t.push(m.join("/"))}else u=u.replace("/workspace/".concat(e.match.params.page),"");var p=vs()._t,f={pageTitleDashboard:p("PAGE_TITLE.DASHBOARD","Dashboard"),pageTitlePosts:p("PAGE_TITLE.POSTS","Posts"),pageTitleChat:p("PAGE_TITLE.CHAT","Chat"),pageTitleFiles:p("PAGE_TITLE.FILES","Files"),pageTitlePeople:p("PAGE_TITLE.PEOPLE","People"),pageTitleClientChat:p("PAGE_TITLE.CLIENT_CHAT","Client chat"),pageTitleTeamChat:p("PAGE_TITLE.TEAM_CHAT","Team chat"),pageTitleReminders:p("PAGE_TITLE.REMINDERS","Reminders")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(tB,{className:"".concat(n)},r.a.createElement(aB,{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(nB,{isSub:!0,to:"/workspace/dashboard".concat(u)},f.pageTitleDashboard)),(i&&"internal"===o.type&&i.is_shared||i&&"internal"===o.type&&i.team_channel.code)&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(nB,{isSub:!0,to:"/workspace/team-chat".concat(u)},f.pageTitleTeamChat,null!==i&&(null===i||void 0===i?void 0:i.team_unread_chats)>0&&r.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},i.team_unread_chats))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(nB,{isSub:!0,to:"/workspace/chat".concat(u)},i&&i.is_shared&&"internal"===o.type?f.pageTitleClientChat:f.pageTitleChat,null!==i&&i.unread_chats>0&&r.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},i.unread_chats))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(nB,{isSub:!0,to:"/workspace/posts".concat(u)},f.pageTitlePosts,null!==i&&i.unread_posts>0&&r.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},i.unread_posts))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(nB,{isSub:!0,to:"/workspace/reminders".concat(u)},f.pageTitleReminders,d&&c[s.workspaceId].count.all>0&&r.a.createElement("div",{className:"ml-2 badge badge-pill badge-danger"},c[s.workspaceId].count.all))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(nB,{isSub:!0,to:"/workspace/files".concat(u)},f.pageTitleFiles)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(nB,{isSub:!0,to:"/workspace/people".concat(u)},f.pageTitlePeople)))))})),iB=E.a.div(MH||(MH=Object(f.a)(["\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  .people-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n"]))),oB=Object(E.a)(wh)(UH||(UH=Object(f.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n  min-width: 250px;\n  padding-right: 14px;\n  @media all and (max-width: 991.99px) {\n    width: 100%;\n    padding-right: 1rem;\n  }\n"]))),cB=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=e.isExternal,o=e.isMember,c=e.workspace,s=Object(l.useDispatch)(),d=sm(),u=d.selectUserChannel,m=d.loggedUser,p=Object(l.useSelector)((function(e){return e.workspaces})).activeTopic,f=Object(b.g)();of();var h=Object(n.useState)(""),E=Object(_.a)(h,2),O=E[0],g=E[1],v={search:Object(n.useRef)()},A=function(e){f.push("/profile/".concat(e.id,"/").concat(Wt(e.name)))},j=function(e){return u(e)};Object(n.useEffect)((function(){v.search.current.focus()}),[]);var C=[];c&&(C=c.members);var T=C.filter((function(e){return""===O||-1!==e.name.toLowerCase().search(O.toLowerCase())||-1!==e.email.toLowerCase().search(O.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)})),y=vs()._t,S={searchPeoplePlaceholder:y("PLACEHOLDER.SEARCH_PEOPLE","Search by name or email"),peopleExternal:y("PEOPLE.EXTERNAL","External"),peopleInvited:y("PEOPLE.INVITED","Invited"),peopleManage:y("PEOPLE.MANAGE","Manage People"),roleAdvisor:y("ROLE.ADVISOR","Advisor"),roleApprover:y("ROLE.APPROVER","Approver"),roleClient:y("ROLE.CLIENT","Client"),roleCommunicationLead:y("ROLE.COMMUNICATION_LEAD","Communication lead"),roleDesigner:y("ROLE.DESIGNER","Designer"),roleDeveloper:y("ROLE.DEVELOPER","Developer"),roleFreelancer:y("ROLE.FREELANCER","Freelancer"),roleSupervisor:y("ROLE.SUPERVISOR","Supervisor"),roleTeamLead:y("ROLE.TEAM_LEAD","Team lead"),roleTechnicalAdvisor:y("ROLE.TECHNICAL_ADVISOR","Technical advisor"),roleTechnicalLead:y("ROLE.TECHNICAL_LEAD","Technical lead"),roleWatcher:y("ROLE.WATCHER","Watcher")};return nm(v.search.current),r.a.createElement(iB,{className:"workspace-people fadeIn container-fluid ".concat(a)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"people-header"},r.a.createElement(oB,{ref:v.search,value:O,closeButton:"true",onClickEmpty:function(){g("")},placeholder:S.searchPeoplePlaceholder,onChange:function(e){g(e.target.value)},autoFocus:!0}),!i&&o&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){s(Ye({type:"workspace_create_edit",mode:"edit",item:p}))}},r.a.createElement(pn,{className:"mr-2",icon:"user-plus"})," ",S.peopleManage))),r.a.createElement("div",{className:"row"},T.map((function(e){return r.a.createElement(fk,{key:e.id,loggedUser:m,user:e,onNameClick:A,onChatClick:j,dictionary:S,showWorkspaceRole:!0})}))))))})),sB=E.a.div(GH||(GH=Object(f.a)(["\n  overflow-y: auto;\n  overflow-x: hidden;\n  text-align: left;\n\n  .app-lists {\n    overflow: visible !important;\n  }\n\n  .app-block {\n    overflow: inherit;\n  }\n\n  .search-title {\n    margin: 1.5rem 1.5rem 0;\n  }\n\n  .app-content-body {\n    position: relative;\n    overflow: visible !important;\n    height: auto !important;\n    min-height: auto;\n\n    .app-lists {\n      overflow: auto;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  }\n\n  .all-action-button {\n    background: none;\n    color: #828282;\n    padding: 10px 5px 5px 5px;\n    font-weight: 500;\n    .dark & {\n      color: rgba(255, 255, 255, 0.5);\n    }\n  }\n  .unset-flex {\n    flex: unset !important;\n  }\n  .other-posts-header {\n    background-color: #fafafa !important;\n    .dark & {\n      background-color: hsla(0, 0%, 100%, 0.0784313725490196) !important;\n    }\n  }\n"]))),lB=E.a.div(HH||(HH=Object(f.a)(["\n  min-height: 240px;\n  .card-body {\n    padding: 1rem 1.5rem;\n  }\n"]))),dB=E.a.div(BH||(BH=Object(f.a)(["\n  margin-bottom: 10px;\n  .btn {\n    margin-left: 10px;\n  }\n"]))),uB=E.a.span(WH||(WH=Object(f.a)(["\n  max-width: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  @media all and (max-width: 1200px) {\n    max-width: 200px;\n  }\n"]))),mB=Object(E.a)(pn)(YH||(YH=Object(f.a)(["\n  width: 1em;\n  &:hover {\n    color: #000000;\n  }\n"]))),pB=!1,fB=function(e){var t=e.className,a=void 0===t?"":t,i=e.workspace,o=e.isMember,c=Object(b.i)(),s=Object(b.g)(),d=Object(l.useDispatch)();of();var u=Uu(),m=u.actions,p=u.posts,f=u.filter,h=u.tag,E=u.sort,O=u.post,g=u.user,v=u.search,A=u.count,j=u.postLists,C=u.counters,T=u.filters,y=u.postListTag,S=O?Object.values(O.user_reads).sort((function(e,t){return e.name.localeCompare(t.name)})):[],k=O&&O.required_users?O.required_users:[],w=Object(n.useState)(!1),N=Object(_.a)(w,2),x=N[0],I=N[1],P=Object(n.useState)(!1),D=Object(_.a)(P,2),L=D[0],F=D[1],M=Object(n.useState)({}),U=Object(_.a)(M,2),G=U[0],H=U[1],B="external"===g.type,W=function(){if(c.hasOwnProperty("postId")){var e=s.location.pathname.split("/post/")[0];s.push(e)}};Object(n.useEffect)((function(){c.hasOwnProperty("workspaceId")&&m.getUnreadWsPostsCount({topic_id:c.workspaceId})}),[]),Object(n.useEffect)((function(){c.hasOwnProperty("workspaceId")&&m.getRecentPosts(c.workspaceId)}),[c.workspaceId]);var Y=vs()._t,V={createNewPost:Y("POST.CREATE_NEW_POST","Create new post"),all:Y("POST.ALL","All"),inbox:Y("POST.INBOX","Inbox"),newReply:Y("POST.NEW_REPLY","New reply"),myPosts:Y("POST.MY_POSTS","My sent posts"),starred:Y("POST.STARRED","Starred"),archived:Y("POST.ARCHIVED","Archived"),draft:Y("POST.DRAFT","Draft"),drafts:Y("POST.DRAFTS","Drafts"),category:Y("POST.CATEGORY","Category"),replyRequired:Y("POST.REPLY_REQUIRED","Reply required"),mustRead:Y("POST.MUST_READ","Must read"),noReplies:Y("POST.NO_REPLIES","No replies"),sortBy:Y("POST.SORT_BY","Sort by"),starredFavorite:Y("POST.STARRED_FAVORITE","Starred / Favorite"),recent:Y("POST.RECENT","Recent"),unread:Y("POST.UNREAD","Unread"),searchPost:Y("POST.SEARCH_POST","Search by post title, content, or comment"),markAsRead:Y("POST.MARK_AS_READ","Mark as read"),markAsUnread:Y("POST.MARK_AS_UNREAD","Mark as unread"),share:Y("POST.SHARE","Share"),snooze:Y("POST.SNOOZE","Snooze"),follow:Y("POST.FOLLOW","Follow"),unFollow:Y("POST.UNFOLLOW","Unfollow"),files:Y("POST.FILES","Files"),comment:Y("POST.COMMENT","Comment"),editPost:Y("POST.EDIT_POST","Edit post"),editReply:Y("POST.EDIT_REPLY","Edit reply"),removeReply:Y("POST.REMOVE_REPLY","Remove reply"),quote:Y("POST.QUOTE","Quote"),mentionUser:Y("POST.MENTION_USER","Mention user"),remindMeAboutThis:Y("TODO.REMIND_ABOUT_THIS","Remind about this"),searchResult:Y("POST.SEARCH_RESULT","Search Result:"),searchResults:Y("POST.SEARCH_RESULTS","Search Results:"),searchNoResult:Y("POST.NO_SEARCH_RESULT","No result found:"),private:Y("POST.PRIVATE","Private"),by:Y("POST.BY","by"),star:Y("POST.STAR","Mark with star"),unStar:Y("POST.UNSTAR","Unmark star"),alreadyReadThis:Y("POST.ALREADY_READ_THIS","I've read this"),readByNumberofUsers:1===S?Y("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_name::",{user_name:S[0].first_name}):Y("POST.READY_BY_NUMBER_OF_USERS","Read by ::user_count:: users",{user_count:S.length}),me:Y("POST.LOGGED_USER_RESPONSIBLE","me"),quotedCommentFrom:Y("POST.QUOTED_COMMENT_FROM","Quoted comment from"),showMore:Y("SHOW_MORE","Show more"),showLess:Y("SHOW_LESS","Show less"),markAll:Y("POST.MARK_ALL_AS_READ","Mark all as read"),archiveAll:Y("POST.ARCHIVE_ALL","Archive all"),noComment:Y("POST.NO_COMMENT","no comment"),oneComment:Y("POST.ONE_COMMENT","1 comment"),comments:Y("POST.NUMBER_COMMENTS","::comment_count:: comments"),messageInSecureWs:Y("POST.MESSAGE_IN_SECURE_WORKSPACE","message in a secure workspace"),markImportant:Y("CHAT.MARK_IMPORTANT","Mark as important"),unMarkImportant:Y("CHAT.UNMARK_IMPORTANT","Unmark as important"),archive:Y("POST.ARCHIVE","Archive"),requestChange:Y("POST.REQUEST_CHANGE","Request for change"),accept:Y("POST.ACCEPT","Accept"),hasAcceptedProposal:Y("POST.HAS_ACCEPTED_PROPOSAL","has accepted the proposal."),hasRequestedChange:Y("POST.HAS_REQUESTED_CHANGE","has requested a change."),actionNeeded:Y("POST.ACTION_NEEDED","Action needed"),changeRequested:Y("POST.CHANGE_REQUESTED","Change requested"),accepted:Y("POST.ACCEPTED","Accepted"),requestForApproval:Y("POST.REQUEST_FOR_APPROVAL","Request for approval"),closeThisPost:Y("POST.CLOSE_THIS_POST","Close this post"),repliesClosed:Y("POST.REPLIES_CLOSED","Replies closed"),openThisPost:Y("POST.OPEN_THIS_POST","Open this post"),creatorClosedPost:Y("POST.CREATOR_CLOSED_POST","The creator/internal closed this post for commenting"),reopen:Y("POST.REOPEN","Reopen"),closed:Y("POST.CLOSED","Closed"),createNewList:Y("POST.CREATE_NEW_LIST","New List"),addToList:Y("POST.ADD_TO_LIST","Add to list"),removeToList:Y("POST.REMOVE_TO_LIST","Remove to list"),ofNumberOfUsers:Y("POST.OF_NUMBER_OF_USERS","of ::user_count:: user/s",{user_count:k.length}),allOthers:Y("POST.ALL_OTHERS","All others"),sharedClientBadge:Y("POST.BADGE_SHARED_CLIENT","The client can see this post"),notSharedClientBadge:Y("POST.BADGE_NOT_SHARED_CLIENT","This post is private to our team"),internalComment:Y("COMMENT.INTERNAL_COMMENT","Internal comment"),fileAutomaticallyRemoved:Y("FILE.FILE_AUTOMATICALLY_REMOVED_LABEL","File automatically removed by owner request"),filesAutomaticallyRemoved:Y("FILE.FILES_AUTOMATICALLY_REMOVED_LABEL","Files automatically removed by owner request"),selectAll:Y("BUTTON.SELECT_ALL","Select all"),remove:Y("BUTTON.REMOVE","Remove")};Object(n.useEffect)((function(){if("star"===f){m.getPosts({filters:["post","favourites"],topic_id:parseInt(c.workspaceId)},(function(e,t){if(!e){var a=t.data.posts.map((function(e){return e.files}));a.length&&(a=a.flat()),d(qd({topic_id:parseInt(c.workspaceId),posts:t.data.posts,filter:t.data.posts,files:a,filters:{favourites:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}else if("my_posts"===f){m.getPosts({filters:["post","created_by_me"],topic_id:parseInt(c.workspaceId)},(function(e,t){if(!e){var a=t.data.posts.map((function(e){return e.files}));a.length&&(a=a.flat()),d(qd({topic_id:parseInt(c.workspaceId),posts:t.data.posts,filter:t.data.posts,files:a,filters:{myPosts:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}}))}}))}}),[f]);var Q=Object(n.useMemo)((function(){var e=Object(Kt.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&F(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(n.useEffect)((function(){L&&function(){if(!pB&&""===v&&!O){pB=!0,I(!0);var e={filters:"archive"===f?["post","archived"]:"star"===f?["post","favourites"]:"my_posts"===f?["post","created_by_me"]:[],topic_id:i.id,skip:"archive"===f?null===T||void 0===T?void 0:T.archived.skip:"star"===f?null===T||void 0===T?void 0:T.favourites.skip:"my_posts"===f?null===T||void 0===T?void 0:T.myPosts.skip:T.all.skip};if("all"===f){if(T.all&&!T.all.hasMore)return}else if("archive"===f){if(T.archived&&!T.archived.hasMore)return}else if("star"===f){if(T.favourites&&!T.favourites.hasMore)return}else if("my_posts"===f&&T.myPosts&&!T.myPosts.hasMore)return;m.getPosts(e,(function(e,t){if(I(!1),pB=!1,F(!1),!e){var a=t.data.posts.map((function(e){return e.files}));a.length&&(a=a.flat()),d(qd({topic_id:i.id,posts:t.data.posts,files:a,filters:Object(R.a)(Object(R.a)(Object(R.a)(Object(R.a)({},"all"===f&&{all:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"archive"===f&&{archived:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"star"===f&&{favourites:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}}),"myPosts"===f&&{myPosts:{active:!0,skip:t.data.next_skip,hasMore:25===t.data.total_take}})}))}}))}}()}),[L]),Object(n.useEffect)((function(){if(y){var e=Object(Kt.find)(j,(function(e){return parseInt(e.id)===parseInt(y)}));if(j.map((function(t){e&&parseInt(y)===t.id&&H(t)})),!e){H(j[0]);var t={topic_id:i.id,tag:null,postListTag:j[0].id,filter:null};d(Om(t))}}}),[y,j]);var K=!1;return i&&0===i.active&&(K=!0),null===p?r.a.createElement(r.a.Fragment,null):r.a.createElement(sB,{className:"container-fluid h-100 fadeIn ".concat(a),onScroll:Q},r.a.createElement("div",{className:"row app-block"},r.a.createElement(Xk,{disableOptions:K,isMember:o,workspace:i,filter:f,filters:T,tag:h,postListTag:y,postActions:m,count:A,postLists:j,counters:C,onGoBack:W,dictionary:V}),r.a.createElement("div",{className:"col-md-9 app-content"},r.a.createElement("div",{className:"app-content-overlay"}),!O&&r.a.createElement(Nk,{activeSort:E,workspace:i,search:v,dictionary:V,className:"mb-3"}),!!y&&r.a.createElement(dB,null,r.a.createElement("span",null,"Filter:"),r.a.createElement(uB,{className:"ml-2 recipients"},r.a.createElement("span",{className:"receiver"},r.a.createElement("span",{onClick:function(){var e={topic_id:i.id,tag:null,postListTag:null,filter:"all"};d(Om(e))}},r.a.createElement(mB,{icon:"x",className:"mr-1"})),G.name))),0===p.length&&""===v?r.a.createElement(tx,{actions:m,dictionary:V,disableOptions:K,isMember:o}):r.a.createElement(r.a.Fragment,null,null!==O?r.a.createElement("div",{className:"card card-body app-content-body mb-4"},r.a.createElement(lB,{className:"fadeBottom"},r.a.createElement(jw,{readByUsers:S,post:O,posts:p,filter:f,postActions:m,user:g,history:s,onGoBack:W,dictionary:V,workspace:i,isMember:o,disableOptions:K,isExternalUser:B}))):r.a.createElement(XN,{actions:m,dictionary:V,filter:f,isExternalUser:B,loading:x,posts:p,search:v,workspace:i})),r.a.createElement("div",{className:"mt-3 post-btm"},"\xa0"))))};function bB(){var e=Object(f.a)([""]);return bB=function(){return e},e}var hB=E.a.div(bB()),EB=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t;return r.a.createElement(hB,{className:"container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row no-gutters chat-block"},"Workspace Settings"))}));function _B(){var e=Object(f.a)(["\n  .empty-notification {\n    h4 {\n      margin: 2rem auto;\n      text-align: center;\n      color: #972c86;\n    }\n  }\n"]);return _B=function(){return e},e}var OB=E.a.div(_B());r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=Np(),o=Mp(),c=Object(l.useSelector)((function(e){return e.workspaces.search})),s=Object(l.useSelector)((function(e){return e.session.user})),d=c.count,u=c.maxPage,m=c.page,p=c.results,f=c.searching,b=c.filter_by,h=c.value;Object(n.useEffect)((function(){return document.getElementById("main").setAttribute("style","overflow: auto"),""===h&&(o.search({search:"",skip:0,limit:25,filter_by:b},(function(e,t){e?o.updateSearch(Object(R.a)(Object(R.a)({},c),{},{searching:!1})):o.updateSearch(Object(R.a)(Object(R.a)({},c),{},{filter_by:b,searching:!1,count:t.data.total_count,results:t.data.workspaces,maxPage:Math.ceil(t.data.total_count/25)}))})),o.updateSearch(Object(R.a)(Object(R.a)({},c),{},{searching:!0}))),function(){return document.getElementById("main").removeAttribute("style")}}),[]);var E=vs()._t,_={labelResultsFor:E("LABEL.RESULTS_FOR","results found for: "),labelSearching:E("LABEL.SEARCHING","Searching "),sidebarWorkspaces:E("SIDEBAR.WORKSPACES","Workspaces"),buttonNextPage:E("BUTTON.NEXT_PAGE","Next"),buttonPrevPage:E("BUTTON.PREV_PAGE","Previous")};return r.a.createElement(OB,{className:"user-search-panel container-fluid h-100 ".concat(a)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(VB,{actions:o,search:c}),""!==h?r.a.createElement("h4",{className:"mb-5"},r.a.createElement(pn,{icon:"search"}),f&&r.a.createElement("span",null,_.labelSearching,r.a.createElement("span",{className:"text-primary"},"\u201c",h,"\u201d")),!f&&r.a.createElement("span",null,d," ",_.labelResultsFor,r.a.createElement("span",{className:"text-primary"},"\u201c",h,"\u201d"))):r.a.createElement("h4",{className:"mb-5"},p.length>0&&r.a.createElement("span",null,d," ",_.sidebarWorkspaces)),p.length>0&&r.a.createElement(MB,{user:s,actions:o,page:m,results:p,redirect:i}),d>25&&r.a.createElement("nav",{className:"mt-3"},r.a.createElement(KF.a,{previousLabel:_.buttonPrevPage,nextLabel:_.buttonNextPage,breakLabel:"...",breakClassName:"break-me page-item",breakLinkClassName:"page-link",pageCount:u,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t=e.selected+1;p.length===d?o.updateSearch(Object(R.a)(Object(R.a)({},c),{},{filter_by:b,page:t})):(p.length<25*t&&o.search({search:h,skip:p.length,limit:25*t-p.length,filter_by:b},(function(e,a){e?o.updateSearch(Object(R.a)(Object(R.a)({},c),{},{searching:!1,filter_by:b})):o.updateSearch(Object(R.a)(Object(R.a)({},c),{},{searching:!1,filter_by:b,count:a.data.total_count,results:[].concat(Object(Rt.a)(a.data.workspaces),Object(Rt.a)(p)),maxPage:Math.ceil(a.data.total_count/25),page:t}))})),o.updateSearch(Object(R.a)(Object(R.a)({},c),{},{filter_by:b,value:h,searching:!0,page:t})))},containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link"})))))))}));function gB(){var e=Object(f.a)(["\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n"]);return gB=function(){return e},e}function vB(){var e=Object(f.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  stroke-width: 3px;\n  margin-right: 3px;\n  margin-bottom: 0.1rem;\n"]);return vB=function(){return e},e}function AB(){var e=Object(f.a)(["\n  width: 1rem;\n  height: 1rem;\n  stroke-width: 2px;\n"]);return AB=function(){return e},e}function jB(){var e=Object(f.a)(["\n  margin-left: auto;\n  display: none;\n"]);return jB=function(){return e},e}function CB(){var e=Object(f.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  list-style: none;\n  :hover {\n    button {\n      display: inline-flex;\n    }\n  }\n"]);return CB=function(){return e},e}var TB,yB,SB,kB,wB,NB,xB,RB=E.a.li(CB()),IB=E.a.button(jB()),PB=Object(E.a)(pn)(AB()),DB=Object(E.a)(pn)(vB()),LB=Object(E.a)(pn)(gB()),FB=function(e){var t=e.dictionary,a=e.onJoinWorkspace,n=e.onLeaveWorkspace,i=e.item,o=e.redirect,c=e.workspaces,s=i.topic,l=i.workspace,d=cd(i.members.map((function(e){return e.id})));return r.a.createElement(RB,{className:"list-group-item p-l-0 p-r-0",onClick:function(){var e={id:s.id,name:s.name,folder_id:l?l.id:null,folder_name:l?l.name:null};c.hasOwnProperty(s.id)?o.toWorkspace(e):o.fetchWorkspaceAndRedirect(e)}},r.a.createElement("div",{className:"workspace-search-detail"},r.a.createElement("div",{className:"workspace-title-status"},r.a.createElement("h5",null,s.name),s.is_locked&&r.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelPrivate),s.is_archive&&r.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelArchived),!s.is_archive&&!s.is_locked&&r.a.createElement("span",{className:"badge badge-ultralight ml-1"},t.labelOpen),s.is_shared&&r.a.createElement("span",{className:"badge badge-warning ml-1 d-flex align-items-center",style:{backgroundColor:"#FFDB92"}},r.a.createElement(LB,{icon:"eye"})," ",t.externalAccess)),r.a.createElement("ul",{className:"workspace-detail-lists"},d&&r.a.createElement("li",{className:"text-success"},r.a.createElement(PB,{icon:"check"}),t.labelJoined),r.a.createElement("li",null,i.members.length," ",1===i.members.length?t.member:t.members),r.a.createElement("li",null,r.a.createElement(DB,{icon:"folder"}),l?l.name:"Workspaces"),r.a.createElement("li",null,Ht(s.description)))),d?r.a.createElement(IB,{onClick:function(e){e.stopPropagation(),n(i)},className:"btn btn-primary join-button"},t.buttonLeave):r.a.createElement(IB,{onClick:function(e){e.stopPropagation(),a(i)},className:"btn btn-primary join-button"},r.a.createElement(pn,{icon:"user-plus"}),t.buttonJoin))},MB=function(e){var t=e.actions,a=e.page,n=e.results,i=e.redirect,o=e.user,c=Object(l.useDispatch)(),s=Object(l.useSelector)((function(e){return e.workspaces.workspaces})),d=Op(),u=vs()._t,m={labelArchived:u("LABEL.ARCHIVED","Archived"),labelPrivate:u("LABEL.PRIVATE","Private"),labelOpen:u("LABEL.OPEN","Open"),labelJoined:u("LABEL.JOINED","Joined"),sidebarWorkspaces:u("SIDEBAR.WORKSPACES","Workspaces"),member:u("LABEL.MEMBER","member"),members:u("LABEL.MEMBERS","members"),buttonJoin:u("BUTTON.JOIN","Join"),buttonLeave:u("BUTTON.LEAVE","Leave"),leaveWorkspace:u("TOASTER.LEAVE_WORKSPACE","You have left #"),joinWorkspace:u("TOASTER.JOIN_WORKSPACE","You have joined #"),externalAccess:u("WORKSPACE_SEARCH.EXTERNAL_ACCESS","External access")},p=function(e){var a={channel_id:e.channel.id,recipient_ids:[o.id]};t.join(a,(function(t,a){t||(!function(e){var t={id:e.topic.id,name:e.topic.name,folder_id:e.workspace?e.workspace.id:null,folder_name:e.workspace?e.workspace.name:null};s.hasOwnProperty(e.topic.id)?(console.log("to workspace",e),i.toWorkspace(t)):(console.log("fetch workspace",e),i.fetchWorkspaceAndRedirect(t))}(e),d.success(r.a.createElement(r.a.Fragment,null,m.joinWorkspace,r.a.createElement("b",null,e.topic.name))))}))},f=function(e){if(1===e.members.length&&e.topic.is_locked){var t={id:e.channel.id,is_archived:!0,is_muted:!1,is_pinned:!1};c(xs(t))}else{var a={name:e.topic.name,description:e.topic.description,topic_id:e.topic.id,is_external:0,member_ids:e.members.map((function(e){return e.id})),is_lock:e.topic.is_locked?1:0,workspace_id:e.workspace?e.workspace.id:0,new_member_ids:[],remove_member_ids:[o.id]};a.system_message="CHANNEL_UPDATE::".concat(JSON.stringify({author:{id:o.id,name:o.name,first_name:o.first_name,partial_name:o.partial_name,profile_image_link:o.profile_image_thumbnail_link?o.profile_image_thumbnail_link:o.profile_image_link},title:"",added_members:[],removed_members:[o.id]}));c(xm({workspace_id:e.topic.id,channel_id:e.channel.id},(function(t,a){t||d.success(r.a.createElement(r.a.Fragment,null,m.leaveWorkspace,r.a.createElement("b",null,e.topic.name)))}))),c(pm(a))}};return r.a.createElement("div",{className:"tab-content search-results",id:"myTabContent"},r.a.createElement("div",{className:"tab-pane fade active show",role:"tabpanel"},r.a.createElement("ul",{className:"list-group list-group-flush"},n.sort((function(e,t){return e.topic.name.localeCompare(t.topic.name)})).slice(a>1?25*a-25:0,25*a).map((function(e){return r.a.createElement(FB,{key:e.topic.id,dictionary:m,onJoinWorkspace:p,onLeaveWorkspace:f,item:e,redirect:i,workspaces:s})})))))},UB=E.a.div(TB||(TB=Object(f.a)(["\n  .input-group {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    .input-wrap {\n      width: 90%;\n      position: relative;\n      input {\n        ","\n      }\n      .btn-cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n        border: 0;\n        background: transparent;\n        padding: 0;\n        height: 100%;\n        width: 36px;\n        border-radius: 4px;\n        z-index: 9;\n        svg {\n          width: 16px;\n          color: #495057;\n        }\n      }\n    }\n  }\n"])),""),GB=Object(E.a)(pn)(yB||(yB=Object(f.a)(["\n  stroke-width: 2px;\n"]))),HB=E.a.div(SB||(SB=Object(f.a)([""]))),BB=E.a.div(kB||(kB=Object(f.a)(["\n  margin-bottom: 5px;\n  @media all and (max-width: 480px) {\n    margin-top: 40px;\n  }\n"]))),WB=E.a.ul(wB||(wB=Object(f.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  label {\n    margin: 0;\n  }\n  .custom-control {\n    min-height: 1rem;\n  }\n"]))),YB=E.a.div(NB||(NB=Object(f.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease !important;\n  width: 100%;\n\n  &.enter-active {\n    max-height: ","px;\n    overflow: visible;\n  }\n\n  &.leave-active {\n    max-height: 0;\n  }\n\n  label {\n    min-width: auto;\n    font-size: 12.6px;\n\n    &:hover {\n      color: #972c86;\n    }\n  }\n"])),(function(e){return e.maxHeight})),VB=function(e){var t=e.actions,a=e.search,i=a.value,o=a.searching,c=a.filterBy,s=a.filters,l=Object(n.useState)(i),d=Object(_.a)(l,2),u=d[0],m=d[1],p=Object(n.useState)(c),f=Object(_.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(s),O=Object(_.a)(E,2),g=O[0],v=O[1],A=function(){t.search({search:u,skip:0,limit:25,filter_by:b},(function(e,n){e?t.updateSearch(Object(R.a)(Object(R.a)({},a),{},{searching:!1})):t.updateSearch(Object(R.a)(Object(R.a)({},a),{},{value:u,filter_by:b,searching:!1,count:n.data.total_count,results:n.data.workspaces,maxPage:Math.ceil(n.data.total_count/25),page:1}))})),t.updateSearch({results:[],value:u,filter_by:b,searching:!0})},j=function(){t.updateSearch({results:[],searching:!0,value:"",filter_by:"",page:1,maxPage:1,count:0}),t.search({search:"",skip:0,limit:25,filter_by:""},(function(e,n){e?t.updateSearch(Object(R.a)(Object(R.a)({},a),{},{searching:!1,value:"",filter_by:""})):t.updateSearch(Object(R.a)(Object(R.a)({},a),{},{value:"",filter_by:"",searching:!1,count:n.data.total_count,results:n.data.workspaces,maxPage:Math.ceil(n.data.total_count/25)}))})),m("")},C=function(e){var t=e.target.dataset.name;v((function(e){return function(e,t){h((function(a){return e[t].checked?"":t})),e[t].checked=!e[t].checked;var a=Object.values(e).reduce((function(e,a){return t!==a.key&&(a.checked=!1,e[a.key]=Object(R.a)({},a)),e}),{});return Object(R.a)(Object(R.a)({},e),a)}(e,t)}))};Object(n.useEffect)((function(){Object.values(g).map((function(e){return e.checked})).includes(!0)&&!o||i?t.updateSearch({results:[],value:u,filter_by:b,searching:!0},(function(){A()})):j()}),[b]),Object(n.useEffect)((function(){m(i)}),[i]);var T=vs()._t,y={searchWorkspaceSearchPlaceholder:T("PLACEHOLDER.SEARCH_WORKSPACE","Search by workspace name or description"),searchWorkspaceSearchTitle:T("PLACEHOLDER.SEARCH_WORKSPACE_TITLE","Search workspace"),filters:T("PLACEHOLDER.SEARCH_WORKSPACE_FILTER","Filters","Filters"),private:T("WORKSPACE.PRIVATE","Private"),archived:T("WORKSPACE.ARCHIVED","Archived"),nonMember:T("WORKSPACE.NON_MEMBER","Non Member"),new:T("WORKSPACE.NEW","New"),external:T("WORKSPACE.EXTERNAL","External")};return r.a.createElement(UB,{className:"card p-t-b-40","data-backround-image":"assets/media/image/image1.jpg"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("h2",{className:"mb-4 text-center"},y.searchWorkspaceSearchTitle),r.a.createElement("div",{className:"input-group"},r.a.createElement(HB,{className:"input-wrap"},r.a.createElement("input",{onChange:function(e){""===e.target.value.trim()&&""!==i?j():m(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||o||A()},type:"text",className:"form-control",placeholder:y.searchWorkspaceSearchPlaceholder,"aria-describedby":"button-addon1",autoFocus:!0,value:u}),""!==u.trim()&&r.a.createElement("button",{className:"btn-cross",type:"button",onClick:j},r.a.createElement(GB,{icon:"x"}))),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-light",type:"button",onClick:A},r.a.createElement(pn,{icon:"search"})))),r.a.createElement(YB,{className:"enter-active"},r.a.createElement("div",{className:"row d-flex justify-content-center my-3"},r.a.createElement(BB,{className:"px-3"},r.a.createElement(pn,{icon:"sliders"})),r.a.createElement(WB,{className:"d-flex"},Object.values(g).map((function(e){return r.a.createElement("li",{className:"d-flex align-items-center mr-2",key:e.key},r.a.createElement("span",{className:"custom-control custom-checkbox custom-checkbox-success"},r.a.createElement(lE,{name:e.key,checked:e.checked,type:"danger",onClick:C})),r.a.createElement("span",null,y[e.key]))}))))))))},QB=E.a.div(xB||(xB=Object(f.a)(["\n  //overflow: ",";\n  overflow: auto;\n  text-align: left;\n  min-height: 100px;\n  .app-sidebar-menu {\n    overflow: hidden;\n    outline: currentcolor none medium;\n  }\n  .app-block {\n    overflow: unset !important;\n    height: auto;\n    // height: ",";\n    .app-content .app-action .action-right {\n      margin-left: 0;\n    }\n    .app-content .app-action {\n      padding: 20px;\n    }\n  }\n  }\n"])),(function(e){return e.hasReminders?"auto !important":"unset !important"}),(function(e){return e.hasReminders?"auto":"100%"})),KB=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,i=af(),o=i.getWorkspaceReminders,c=i.action,s=i.isLoaded,l=i.count,d=i.workspaceName,u=vs()._t,m=Object(n.useState)(""),p=Object(_.a)(m,2),f=p[0],b=p[1],h=Object(n.useState)(""),E=Object(_.a)(h,2),O=E[0],g=E[1],v=Object(n.useState)(!1),A=Object(_.a)(v,2),j=A[0],C=A[1],T=[u("REMINDER.NO_ITEMS_FOUND_HEADER_2","WOO!"),u("REMINDER.NO_ITEMS_FOUND_HEADER_4","Queue\u2019s empty, time to dance!"),u("REMINDER.NO_ITEMS_FOUND_HEADER_5","No reminders.")],y=[u("REMINDER.NO_ITEMS_FOUND_TEXT_2","Nothing here but me\u2026 \ud83d\udc7b"),u("REMINDER.NO_ITEMS_FOUND_TEXT_4","Job well done!\ud83d\udc83\ud83d\udd7a"),u("REMINDER.NO_ITEMS_FOUND_TEXT_5","You run a tight ship captain! \ud83d\ude80")];""!==O&&(T=[].concat(Object(Rt.a)(T),[u("REMINDER.NO_ITEMS_FOUND_HEADER_1","Couldn\u2019t find what you\u2019re looking for.")]),y=[].concat(Object(Rt.a)(y),[u("REMINDER.NO_ITEMS_FOUND_TEXT_1","Try something else, Sherlock. \ud83d\udd75")])),""===O&&"OVERDUE"===f&&(T=[].concat(Object(Rt.a)(T),[u("REMINDER.NO_ITEMS_FOUND_HEADER_3","Nothing is overdue.")]),y=[].concat(Object(Rt.a)(y),[u("REMINDER.NO_ITEMS_FOUND_TEXT_3","You are out of this world! \ud83d\udc68\u200d\ud83d\ude80")]));var S=Object(n.useState)(Math.floor(Math.random()*T.length)),k=Object(_.a)(S,2),w=k[0],N=k[1],x={searchInputPlaceholder:u("REMINDER.SEARCH_INPUT_PLACEHOLDER","Search your reminders on title and description."),createNewTodoItem:u("REMINDER.CREATE_NEW_TODO_ITEM","Add new"),typePost:u("REMINDER.TYPE_POST","Post"),typeChat:u("REMINDER.TYPE_CHAT","Chat"),typePostComment:u("REMINDER.TYPE_POST_COMMENT","Post comment"),statusToday:u("REMINDER.STATUS_TODAY","Today"),statusAll:u("REMINDER.STATUS_ALL","ALL"),statusExpired:u("REMINDER.STATUS_EXPIRED","Expired"),statusUpcoming:u("REMINDER.STATUS_UPCOMING","Today"),statusOverdue:u("REMINDER.STATUS_OVERDUE","Overdue"),statusUpcomingToday:u("REMINDER.STATUS_UPCOMING","Upcoming Today"),statusDone:u("REMINDER.STATUS_DONE","Done"),emptyText:u("REMINDER.EMPTY_STATE_TEXT","Use your reminder list to keep track of all your tasks and activities."),emptyButtonText:u("REMINDER.EMPTY_STATE_BUTTON_TEXT","New reminder"),noItemsFoundHeader:T[w],noItemsFoundText:y[w],actionReschedule:u("REMINDER.ACTION_RESCHEDULE","Reschedule"),actionEdit:u("REMINDER.ACTION_EDIT","Edit"),actionMarkAsDone:u("REMINDER.ACTION_MARK_AS_DONE","Mark as done"),actionMarkAsUndone:u("REMINDER.ACTION_MARK_AS_UNDONE","Mark as not done"),actionRemove:u("REMINDER.ACTION_REMOVE","Remove"),actionFilter:u("REMINDER.ACTION_FILTER","Filter"),reminderAuthor:u("REMINDER.AUTHOR","Author"),reminderAssignedTo:u("REMINDER.ASSIGNED_TO","Assigned to"),todo:u("REMINDER.TO_DO","To do"),done:u("REMINDER.DONE","Done"),addDate:u("REMINDER.ADD_DATE","Add date"),addedByMe:u("REMINDER.ADDED_BY_ME","Added by me"),addedByOthers:u("REMINDER.ADDED_BY_OTHERS","Added by others")},R=Object(n.useMemo)((function(){var e=Object(Kt.throttle)((function(e){e.target.scrollHeight-e.target.scrollTop<1500&&C(!0)}),300);return function(t){return t.persist(),e(t)}}),[]);Object(n.useEffect)((function(){j&&c.loadMore()}),[j]),Object(n.useEffect)((function(){N(Math.floor(Math.random()*T.length))}),[f]);var I=o({filter:{status:f,search:O}});return r.a.createElement(QB,{className:"container-fluid h-100 fadeIn ".concat(a),hasReminders:I.length>0,onScroll:R},r.a.createElement("div",{className:"row app-block"},r.a.createElement(bM,{className:"col-lg-3",dictionary:x,todoActions:c,setFilter:function(e){b(e.target.dataset.filter),document.body.classList.remove("mobile-modal-open")},filter:f,count:l}),r.a.createElement("div",{className:"col-lg-9 app-content mb-4"},r.a.createElement("div",{className:"app-content-overlay"}),r.a.createElement(CM,{dictionary:x,onSearchChange:function(e){g(e.target.value)},clearSearch:function(){g("")},searchValue:O}),r.a.createElement(qM,{complete:!1,isLoaded:s,todoItems:I.filter((function(e){return"DONE"!==e.status})),dictionary:x,todoActions:c,filter:f,doneTodoItems:I.filter((function(e){return"DONE"===e.status})),workspaceName:d}))))}));function zB(){var e=Object(f.a)([""]);return zB=function(){return e},e}var qB=E.a.div(zB()),JB=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.isExternal;return r.a.createElement(qB,{className:"header ".concat(a)},r.a.createElement(b.d,null,r.a.createElement(b.b,{render:function(){return r.a.createElement(eB,Object.assign({isExternal:n},e))},path:["/workspace/:page"]}),r.a.createElement(b.b,{render:function(){return r.a.createElement(KL,Object.assign({isExternal:n},e))},path:["/:page"]})))}));function ZB(){var e=Object(f.a)([""]);return ZB=function(){return e},e}var XB=E.a.div(ZB()),$B=r.a.memo((function(e){var t=e.className,a=void 0===t?"":t,n=e.showNotificationBar;return r.a.createElement(XB,{className:"navigation ".concat(a," ").concat(n&&"notification-bar")},r.a.createElement(b.b,{exact:!0,render:function(){return r.a.createElement(EW,e)},path:["/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:workspaceId/:workspaceName/folder/:fileFolderId/:fileFolderName","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:folderId/:folderName/:workspaceId/:workspaceName","/workspace/:page/:workspaceId/:workspaceName/post/:postId/:postTitle/:postCommentCode?","/workspace/:page/:workspaceId/:workspaceName","/workspace/:workspaceId/:workspaceName","/workspace/:page","/profile/:id/:name/:mode","/profile/:id/:name","/profile/:id","/profile","/chat/:code/:messageId","/chat/:code","/posts/:postId/:postTitle/:postCommentCode?","/files/folder/:folderId/:folderName","/system/people","/magic-link/:token","/:page"]}))}));function eW(){var e=Object(f.a)([""]);return eW=function(){return e},e}function tW(){var e=Object(f.a)(["\n  padding: 15px 30px 0 30px;\n  color: #cbd4db;\n  > div {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      :hover {\n        cursor: pointer;\n        color: #fff;\n      }\n    }\n  }\n  .feather {\n    width: 1rem;\n    height: 1rem;\n    margin-right: 15px;\n  }\n"]);return tW=function(){return e},e}var aW=E.a.div(tW()),nW=Object(E.a)(pn)(eW()),rW=function(e){var t=e.dictionary,a=e.isExternal,i=e.onShowModalButtons,o=e.showButtons,c={btn1Ref:Object(n.useRef)(null),btn2Ref:Object(n.useRef)(null),btn3Ref:Object(n.useRef)(null),btn4Ref:Object(n.useRef)(null)},s=Object(l.useDispatch)(),d=Op();return Ka(c.btn1Ref,i,o),Ka(c.btn2Ref,i,o),Ka(c.btn3Ref,i,o),Ka(c.btn4Ref,i,o),r.a.createElement(vn.a,{appear:!0,in:o,timeout:300,unmountOnExit:!0,classNames:"bslide"},r.a.createElement(aW,null,!a&&r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){i(),s(Ye({type:"chat_create_edit",mode:"new"}))},ref:c.btn1Ref},r.a.createElement(nW,{icon:"message-circle"}),t.chat)),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){i(),s(Ye({type:"post_modal",mode:"create",item:{post:null}}))},ref:c.btn2Ref},r.a.createElement(nW,{icon:"file-text"}),t.post)),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){var e={type:"todo_reminder",actions:{onSubmit:function(e){s(dt(e,(function(e,a){e&&d.error(t.toasterGeneraError),a&&d.success(r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.toasterCreateTodo}}))})))}}};i(),s(Ye(e))},ref:c.btn3Ref},r.a.createElement(nW,{icon:"calendar"}),t.reminder)),!a&&r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){i(),s(Ye({type:"workspace_create_edit",mode:"create"}))},ref:c.btn4Ref},r.a.createElement(nW,{icon:"compass"}),t.workspace))))};function iW(){var e=Object(f.a)([""]);return iW=function(){return e},e}function oW(){var e=Object(f.a)(['\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  :before {\n    content: "";\n    position: absolute;\n    width: 6px;\n    height: 6px;\n    right: -6px;\n    border-radius: 50%;\n    top: -2px;\n    background: #f44;\n  }\n']);return oW=function(){return e},e}function cW(){var e=Object(f.a)(["\n  background: #fff3 !important;\n  border: 0 !important;\n  margin: 15px 30px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  color: #ffffff !important;\n\n  div {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 500;\n  }\n"]);return cW=function(){return e},e}function sW(){var e=Object(f.a)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n"]);return sW=function(){return e},e}function lW(){var e=Object(f.a)(["\n  width: 84px;\n  height: 56px;\n  filter: brightness(0) saturate(100%) invert(1);\n  cursor: pointer;\n"]);return lW=function(){return e},e}function dW(){var e=Object(f.a)(["\n  .navigation-menu-tab-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //padding: 30px;\n    margin-bottom: 1rem;\n    min-height: 74px;\n    max-height: 74px;\n    background-color: #3f034a;\n    .driff-logo {\n      width: 90px;\n      height: 90px;\n      border-radius: 50%;\n      background-color: #fff3;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border: 1px solid #fff3;\n      @media (max-width: 620px) {\n        width: 75px;\n        height: 75px;\n      }\n    }\n    @media (max-width: 620px) {\n      padding: 20px 0;\n    }\n    .dark & {\n      background-color: inherit;\n    }\n  }\n  .driff-company-name {\n    display: flex;\n    align-items: center;\n    position: relative;\n\n    &.active {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    &:hover {\n      svg {\n        &.action {\n          opacity: 1;\n        }\n      }\n    }\n\n    a {\n      width: 100%;\n      input {\n        width: calc(100% - 28px);\n        background-color: #fff;\n        border: none;\n        color: #000;\n        border-radius: 6px;\n        padding-left: 6px;\n      }\n    }\n\n    svg {\n      &.action {\n        opacity: 0;\n        cursor: pointer;\n        width: 14px;\n        color: #fff;\n        top: 8px;\n        right: 22px;\n        position: absolute;\n        transition: all 0.5s ease;\n      }\n    }\n  }\n  .your-workspaces-title {\n    margin: 0 15px;\n    padding: 15px 10px 10px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff9;\n    border-top: 1px solid #fff3;\n    svg {\n      color: #ffffff;\n    }\n    @media (max-width: 620px) {\n      padding: 15px 2px 15px 2px;\n      font-size: 10px;\n      text-transform: uppercase;\n      svg {\n        margin-right: 3px;\n        stroke: #fff9;\n        width: 16px;\n        height: 16px;\n      }\n    }\n  }\n  li {\n    position: relative;\n  }\n  .navigation-menu-group {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    height: 78vh;\n    overflow: scroll;\n    overscroll-behavior: contain;\n    margin: 0 15px;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    ul li a {\n      justify-content: space-between;\n      height: 40px;\n      padding: 0 10px;\n      @media (max-width: 620px) {\n        color: #ffffff;\n        padding: 0 8px;\n      }\n    }\n  }\n  .navigation-menu-tab-header-options {\n    margin-bottom: 1rem;\n    @media (max-width: 620px) {\n      margin-bottom: 10px;\n    }\n  }\n"]);return dW=function(){return e},e}var uW=E.a.div(dW()),mW=Object(E.a)(fn)(lW()),pW=Object(E.a)(pn)(sW()),fW=E.a.button(cW()),bW=E.a.span(oW()),hW=Object(E.a)(pn)(iW()),EW=function(e){var t=e.className,a=void 0===t?"":t,i=e.isExternal,o=Object(b.g)(),c=Object(l.useDispatch)(),s=Object(l.useSelector)((function(e){return e.global.todos.count})),d=am(),u=d.updateCompanyName,m=d.driffSettings,p=d.generalSettings,f=d.userSettings,h=Object(l.useSelector)((function(e){return e.session.user})),E=vs()._t,O=Object(n.useState)(!1),g=Object(_.a)(O,2),v=g[0],A=g[1],j={allWorkspaces:E("SIDEBAR.ALL_WORKSPACES","Browse workspaces"),people:E("SIDEBAR.PEOPLE","All people"),workspace:E("SIDEBAR.WORKSPACE","Workspace"),workspaces:E("SIDEBAR.WORKSPACES","Workspaces"),chats:E("SIDEBAR.CHATS","Chats"),yourWorkspaces:E("SIDEBAR.YOUR_WORKSPACES","Your workspaces"),newWorkspace:E("SIDEBAR.NEW_WORKSPACE","New workspace"),addNewWorkspace:E("SIDEBAR.ADD_NEW_WORKSPACES","Add new workspace"),workspacesFolder:E("SIDEBAR.WORKSPACES_FOLDER","Workspaces"),generalFolder:E("SIDEBAR.GENERAL_FOLDER","General"),archivedFolder:E("SIDEBAR.ARCHIVED_FOLDER","Archived workspaces"),shortcuts:E("SIDEBAR.SHORTCUTS","Shortcuts"),personalLinks:E("SIDEBAR.PERSONAL_LINKS","Personal"),companyLinks:E("SIDEBAR.COMPANY_LINKS","Company"),addPersonalShortcut:E("SIDEBAR.ADD_PERSONAL_SHORTCUT","Add personal shortcut"),todoLinks:E("SIDEBAR.TODO_LINKS","Reminders"),addTodoItem:E("SIDEBAR.ADD_TODO_ITEM","Add reminder"),createWorkspace:E("WORKSPACE.CREATE_WORKSPACE","Create workspace"),sidebarTextCreateWorkspace:E("WORKSPACE.TEXT_CREATE_WORKSPACE","Create workspace"),bots:E("SIDEBAR.BOTS","Bots"),favoriteWorkspaces:E("SIDEBAR.FAVORITE_WORKSPACES","Favorite workspaces"),browseAll:E("SIDEBAR.BROWSE_ALL","Browse all..."),toasterCreateTodo:E("TOASTER.TODO_CREATE_SUCCESS","You will be reminded about this comment under <b>Reminders</b>."),toasterGeneraError:E("TOASTER.GENERAL_ERROR","An error has occurred try again!"),chat:E("SIDEBAR.CHAT","Chat"),post:E("SIDEBAR.POST","Post"),reminder:E("SIDEBAR.REMINDER","Reminder"),addNew:E("SIDEBAR.ADD_NEW","Add new"),startBrowsing:E("SIDEBAR.START_BROWSING","Start browsing..."),addYourFavWs:E("SIDEBAR.ADD_YOUR_FAVORITE_WORKSPACE","Add your favorite <br/>workspaces here, ::name::!",{name:h.first_name})},C=function(){A((function(e){return!e}))};return r.a.createElement(uW,{className:"navigation-menu-tab ".concat(a)},r.a.createElement("div",{className:"navigation-menu-tab-header","data-toggle":"tooltip",title:"Driff","data-placement":"right","data-original-title":"Driff"},(m.READ_RELEASE_UPDATES&&f.READ_RELEASE_UPDATES&&m.READ_RELEASE_UPDATES.timestamp>f.READ_RELEASE_UPDATES.timestamp||null===(null===f||void 0===f?void 0:f.READ_RELEASE_UPDATES))&&r.a.createElement(bW,null,r.a.createElement(hW,{icon:"gift",color:"#fff",onClick:function(){o.push("/releases")}})),r.a.createElement(mW,{icon:"driff-logo2","data-link":"/",onClick:function(e){e.preventDefault(),e.target.dataset.link?c(Ge({mode:3})):c(Ge({mode:2})),o.push(e.target.dataset.link)}})),r.a.createElement(oY,{count:s,dictionary:j,isExternal:i,driffSettings:m,user:h,updateCompanyName:u}),r.a.createElement(PW,{dictionary:j,generalSettings:p,isExternal:i,user:h}),r.a.createElement(rW,{dictionary:j,isExternal:i,onShowModalButtons:C,showButtons:v}),r.a.createElement("div",null,r.a.createElement(fW,{onClick:C,className:"btn btn-outline-light",type:"button"},r.a.createElement("div",null,r.a.createElement(pW,{icon:"circle-plus"}),j.addNew))))};function _W(){var e=Object(f.a)(["\n  display: flex;\n  flex-flow: column;\n  margin-top: 1rem;\n  color: #cbd4db;\n  span:last-child {\n    margin-top: 1rem;\n  }\n"]);return _W=function(){return e},e}function OW(){var e=Object(f.a)(["\n  padding: 0 30px;\n  overflow: auto;\n"]);return OW=function(){return e},e}function gW(){var e=Object(f.a)(["\n  color: rgba(255, 255, 255, 0.6);\n  text-decoration: underline;\n  :hover {\n    cursor: pointer;\n  }\n"]);return gW=function(){return e},e}function vW(){var e=Object(f.a)(["\n  margin: 0 15px;\n  display: flex;\n  align-items: center;\n  color: rgba(255, 255, 255, 0.6);\n  border-top: 2px solid;\n  padding: 15px 0;\n  > span {\n    margin-left: 15px;\n  }\n"]);return vW=function(){return e},e}function AW(){var e=Object(f.a)(["\n  display: flex;\n  align-items: start;\n  justify-content: center;\n  text-align: center;\n  color: #fff;\n\n  svg {\n    display: block;\n    margin: 1rem auto;\n\n    circle {\n      fill: transparent;\n    }\n  }\n  button {\n    text-transform: uppercase;\n  }\n"]);return AW=function(){return e},e}function jW(){var e=Object(f.a)(["\n  height: 14px;\n  width: 14px;\n  cursor: pointer;\n  margin-left: 5px;\n"]);return jW=function(){return e},e}function CW(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return CW=function(){return e},e}function TW(){var e=Object(f.a)(["\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  flex-flow: column;\n  min-height: 0;\n"]);return TW=function(){return e},e}var yW=E.a.div(TW()),SW=Object(E.a)(nn.a)(CW()),kW=Object(E.a)(pn)(jW()),wW=E.a.div(AW()),NW=E.a.div(vW()),xW=E.a.span(gW()),RW=E.a.div(OW()),IW=E.a.div(_W()),PW=function(e){var t=e.dictionary,a=e.isExternal,i=e.generalSettings,o=e.user,c=Object(l.useDispatch)(),s=up(),d=s.actions,u=s.folders,m=s.history,p=s.orderChannel,f=s.workspaces,b=s.favoriteWorkspacesLoaded,h=Object(l.useSelector)((function(e){return e.chat.selectedChannel})),E=Object(l.useSelector)((function(e){return e.chat.channels})),O=Object(l.useSelector)((function(e){return e.settings.user.CHAT_SETTINGS})).virtualization,g=Object(l.useSelector)((function(e){return e.global.recipients})).find((function(e){return"DEPARTMENT"===e.type})),v=Object.values(f).find((function(e){return g&&g.id===e.id})),A=Object(l.useSelector)((function(e){return e.chat.companyChannel})),j=Object(n.useState)(null),C=Object(_.a)(j,2),T=C[0],y=C[1];Object(n.useEffect)((function(){T&&(d.selectWorkspace(T),d.redirectTo(T))}),[T]),Object(n.useEffect)((function(){var e=Object.values(f);if(null===i.active_topic&&e.length&&null===T){var t=e.sort((function(e,t){return t.updated_at.timestamp>e.updated_at.timestamp?1:-1})).find((function(e){return"WORKSPACE"===e.type&&1===e.active}));y(t)}}),[i.active_topic,T,f,y]);var S=function(){c(Ye({type:"workspace_create_edit",mode:"create"}))},k=Object.values(f).sort((function(e,t){return"channel_date_updated"===p.order_by?-1:e.name.localeCompare(t.name)})).filter((function(e){return e.is_favourite})),w=function(e){if(v&&e.id===v.id&&A)m.push("/chat/".concat(A.code)),d.selectChannel(E[A.id]);else{if(document.body.classList.remove("navigation-show"),h&&!O){var t=document.getElementById("component-chat-thread");t&&(console.log(t.scrollHeight-t.scrollTop,"save this scroll"),c(Js({channel_id:h.id,scrollPosition:t.scrollHeight-t.scrollTop})))}h&&h.id!==e.channel.id&&E[e.channel.id]&&d.selectChannel(E[e.channel.id]),d.selectWorkspace(e),d.redirectTo(e)}},N=function(){m.push("/workspace/search")},x=function(){return r.a.createElement(wW,null,r.a.createElement("div",null,r.a.createElement(bn,{height:200,icon:2}),"external"!==o.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,t.sidebarTextCreateWorkspace),r.a.createElement("button",{className:"btn btn-primary mt-2",onClick:S},t.createWorkspace))))};return r.a.createElement(yW,null,r.a.createElement(NW,null,r.a.createElement("span",null,t.favoriteWorkspaces),!a&&r.a.createElement(SW,{arrowSize:5,distance:10,onToggle:function(){document.querySelectorAll("span.react-tooltip-lite").forEach((function(e){e.parentElement.classList.toggle("tooltip-active")}))},content:"New folder"},r.a.createElement(kW,{onClick:function(){c(Ye({type:"workspace_folder",mode:"create"}))},icon:"folder-plus"}))),r.a.createElement(RW,null,r.a.createElement("div",{id:"elements",className:"open"},b&&Object.values(f).length>0&&0===k.length&&r.a.createElement(IW,null,r.a.createElement("span",{role:"img","aria-label":"star"},"\u2728"),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.addYourFavWs}}),r.a.createElement(xW,{onClick:N},t.startBrowsing)),b&&0===Object.values(u).length&&0===Object.values(f).length&&r.a.createElement(x,null),b&&Object.values(f).length>0&&k.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,k.map((function(e){return r.a.createElement(gH,{key:e.id,isExternal:a,onSelectWorkspace:w,workspace:e})}))),r.a.createElement(xW,{onClick:N},t.browseAll)))))};function DW(){var e=Object(f.a)(["\n  height: 12px !important;\n  width: 12px !important;\n  cursor: pointer;\n  margin-left: auto;\n  color: #fff8;\n"]);return DW=function(){return e},e}function LW(){var e=Object(f.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n  width: 1rem !important;\n  height: 1rem !important;\n"]);return LW=function(){return e},e}function FW(){var e=Object(f.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  &.enter-active {\n    max-height: 250px;\n    overflow: scroll;\n  }\n  // &.enter-active {\n  //   max-height: ","px !important;\n  // }\n  &.leave-active {\n    max-height: 0;\n  }\n  li.personal-link {\n    min-height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      min-height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      &.shorcut-title {\n        padding-left: 0.5rem;\n        font-weight: 500;\n      }\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n  li.shorcut-title-link {\n    padding: 0;\n\n    .shorcut-title {\n      background: #ffffff10;\n    }\n  }\n"]);return FW=function(){return e},e}function MW(){var e=Object(f.a)(["\n  cursor: pointer;\n  position: relative;\n  transition: all 0.3s ease;\n  > a {\n    position: relative;\n    font-weight: ",";\n    display: flex;\n    color: #fff;\n    height: 40px;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n  .quick-links {\n    .feather-pencil {\n      display: none;\n    }\n    &:hover {\n      .sub-menu-arrow {\n        margin-left: ",";\n      }\n      .feather-pencil {\n        display: ",";\n      }\n    }\n  }\n"]);return MW=function(){return e},e}var UW=E.a.li(MW(),(function(e){return e.selected?"600":"400"}),(function(e){return e.showEditIcon?"10px":"auto"}),(function(e){return e.showEditIcon?"block":"none"})),GW=E.a.ul(FW(),(function(e){return e.maxHeight})),HW=Object(E.a)(pn)(LW()),BW=Object(E.a)(pn)(DW()),WW=function(e){var t=e.className,a=void 0===t?"":t,i=e.user,o=e.dictionary,c=am(),s=c.generalSettings,d=c.showModal,u=Object(l.useSelector)((function(e){return e.global.links})),m=new RegExp("^(http|https)://"),p={container:Object(n.useRef)(),arrow:Object(n.useRef)(),nav:Object(n.useRef)()},f=Object(n.useState)(!1),b=Object(_.a)(f,2),h=b[0],E=b[1],O=function(e){var t=e.currentTarget.dataset.index;d("personal_link_edit",Object(R.a)(Object(R.a)({},s.personal_links[t]),{},{index:t}))};return r.a.createElement(UW,{ref:p.container,className:"fadeIn ".concat(a," ").concat(h&&"folder-open"),selected:h,showEditIcon:i&&i.role&&("admin"===i.role.name||"owner"===i.role.name)},r.a.createElement("a",{className:"quick-links",href:"/",onClick:function(e){e.preventDefault(),E((function(e){return!e}))}},r.a.createElement(HW,{icon:"link"}),r.a.createElement("div",null,o.shortcuts),i&&i.role&&("admin"===i.role.name||"owner"===i.role.name)&&r.a.createElement(BW,{icon:"pencil",onClick:function(){window.open("".concat("https://").concat(localStorage.getItem("slug"),".driff.io/admin/quick-links"),"_blank")}}),r.a.createElement("i",{ref:p.arrow,className:"sub-menu-arrow ti-angle-up ".concat(h?"ti-minus rotate-in":"ti-plus")})),r.a.createElement(GW,{ref:p.nav,className:h?"enter-active":"leave-active"},r.a.createElement("li",{className:"personal-link shorcut-title-link"},r.a.createElement("div",{className:"shorcut-title"},o.personalLinks)),s.personal_links.map((function(e,t){return r.a.createElement("li",{key:t,className:"personal-link"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("a",{href:m.test(e.web_address)?e.web_address:"https://".concat(e.web_address),target:"_blank",rel:"noopener noreferrer"},e.name)),r.a.createElement("div",{className:"action"},r.a.createElement(pn,{className:"cursor-pointer","data-index":t,icon:"pencil",onClick:O}))))})),s.personal_links.length<5&&r.a.createElement("li",{className:"personal-link nav-action cursor-pointer",onClick:function(){d("personal_link_create")}},r.a.createElement("div",{className:"justify-content-start"},r.a.createElement(pn,{icon:"circle-plus",width:24,height:24})," ",o.addPersonalShortcut)),"external"!==i.type&&u.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:e.id},0===t&&r.a.createElement("li",{className:"personal-link shorcut-title-link pt-2"},r.a.createElement("div",{className:"shorcut-title"},o.companyLinks)),r.a.createElement(QW,{link:e,className:"quick-links"}))}))))};function YW(){var e=Object(f.a)(["\n  cursor: pointer;\n  background: ",";\n  height: 40px;\n  width: 100%;\n  padding: 0 10px;\n  font-weight: ",";\n  color: ",";\n  div {\n    position: relative;\n    height: 40px;\n    display: inline-flex;\n    align-items: center;\n    svg {\n      margin-left: 6px;\n    }\n    a {\n      display: block;\n      background-color: transparent;\n    }\n  }\n  @media (max-width: 620px) {\n    color: #ffffff;\n  }\n"]);return YW=function(){return e},e}var VW=E.a.li(YW(),(function(e){return e.selected?"#fff3":"#ffffff14"}),(function(e){return e.selected?"600":"400"}),(function(e){return e.selected?"#ffffffEB":"#cbd4db"})),QW=function(e){var t=e.className,a=void 0===t?"":t,n=e.link;return r.a.createElement(VW,{className:"topic-list ".concat(a)},r.a.createElement("div",null,r.a.createElement("a",{href:n.link,target:"_blank"},n.menu_name)))};function KW(){var e=Object(f.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return KW=function(){return e},e}function zW(){var e=Object(f.a)(["\n  overflow: hidden;\n  transition: all 0.3s ease;\n  display: block !important;\n  margin: 0 15px !important;\n  border-radius: 0 0 8px 8px;\n\n  li {\n    height: 40px;\n    width: 100%;\n    padding: 0 10px;\n    font-weight: 400;\n    color: #cbd4db;\n    background: #ffffff14;\n\n    > div {\n      position: relative;\n      height: 40px;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: space-between;\n\n      > div {\n        display: flex;\n      }\n\n      a {\n        background-color: transparent;\n      }\n    }\n\n    .action {\n      display: none;\n      align-items: center;\n    }\n\n    &:hover {\n      .action {\n        display: flex;\n      }\n    }\n\n    svg {\n      height: 14px;\n      width: 14px;\n      margin-right: 4px;\n    }\n  }\n\n  &.enter-active {\n    max-height: ","px !important;\n  }\n  &.leave-active {\n    max-height: 0;\n  }\n"]);return zW=function(){return e},e}function qW(){var e=Object(f.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n  .sub-menu-arrow {\n    margin-right: 10px;\n  }\n"]);return qW=function(){return e},e}E.a.li(qW(),(function(e){return e.selected?"600":"400"})),E.a.ul(zW(),(function(e){return e.maxHeight})),Object(E.a)(pn)(KW());function JW(){var e=Object(f.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return JW=function(){return e},e}function ZW(){var e=Object(f.a)(["\n  position: relative;\n  transition: all 0.3s ease;\n\n  > a {\n    position: relative;\n    font-weight: ",";\n    height: 40px;\n    display: flex;\n    color: #fff;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0 15px;\n    border-radius: 8px 8px 0 0;\n  }\n"]);return ZW=function(){return e},e}E.a.li(ZW(),(function(e){return e.selected?"600":"400"})),Object(E.a)(pn)(JW());function XW(){var e=Object(f.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px;\n  border-radius: 8px;\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n"]);return XW=function(){return e},e}function $W(){var e=Object(f.a)(["\n  cursor: pointer;\n  margin: 0 8px 0 15px;\n"]);return $W=function(){return e},e}function eY(){var e=Object(f.a)(["\n  display: flex;\n  color: #fff;\n  height: 40px;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 0 15px 10px 15px;\n  border-radius: 8px;\n  width: 100%;\n\n  &.active {\n    background: #ffffff14;\n  }\n  div {\n    display: inline-block;\n    position: relative;\n  }\n  input {\n    width: calc(100% - 75px);\n    background-color: #fff;\n    border: none;\n    color: #000;\n    border-radius: 6px;\n    padding-left: 6px;\n  }\n"]);return eY=function(){return e},e}function tY(){var e=Object(f.a)(["\n  .badge {\n    padding: 4px 8px;\n    font-size: 9px;\n  }\n"]);return tY=function(){return e},e}var aY=E.a.div(tY()),nY=E.a.div(eY()),rY=Object(E.a)(pn)($W()),iY=Object(E.a)(ar)(XW()),oY=function(e){var t=e.dictionary,a=e.isExternal,i=e.driffSettings,o=e.user,c=e.updateCompanyName,s=Object(b.i)(),d=Object(b.h)(),u=Object(l.useSelector)((function(e){return e.chat.lastVisitedChannel})),m=Object(n.useState)(i.company_name),p=Object(_.a)(m,2),f=p[0],h=p[1],E=Object(n.useState)(!1),O=Object(_.a)(E,2),g=O[0],v=O[1],A=Object(n.useRef)(null);Object(n.useEffect)((function(){A.current&&A.current.select()}),[g]);var j=function(){document.body.classList.remove("navigation-show")},C=function(){v((function(e){var t=!e;return t||i.company_name===f||c({company_name:f}),t}))};return r.a.createElement(aY,{className:"flex navigation-menu-tab-header-options"},r.a.createElement("ul",null,!a&&r.a.createElement("li",{onClick:j,className:"driff-company-name ".concat(g?"active":"")},g?r.a.createElement(nY,{className:"active"},r.a.createElement(rY,{icon:"home"}),r.a.createElement("input",{ref:A,defaultValue:i.company_name,onChange:function(e){h(e.target.value)},onKeyDown:function(e){switch(e.keyCode){case 13:case 27:C();break;default:return}},name:"company-name",autoFocus:!0})):r.a.createElement(iY,{active:["dashboard","posts","chat","files","people"].includes(s.page),to:null!==u&&u.hasOwnProperty("code")?"/chat/".concat(u.code):"/chat"},r.a.createElement(rY,{icon:"home"}),i.company_name),o.role&&["owner","admin"].includes(o.role.name)&&r.a.createElement(r.a.Fragment,null,g?r.a.createElement(pn,{className:"action",onClick:C,icon:"save"}):r.a.createElement(pn,{className:"action",onClick:C,icon:"pencil"}))),r.a.createElement("li",{onClick:j},r.a.createElement(iY,{to:"/workspace/search",active:["/workspace/search"].includes(d.pathname)},r.a.createElement(rY,{icon:"compass"}),r.a.createElement("div",null,t.allWorkspaces))),"internal"===o.type&&r.a.createElement("li",null,r.a.createElement(iY,{to:"/system/people",active:["/system/people"].includes(d.pathname)},r.a.createElement(rY,{icon:"user"}),r.a.createElement("div",null,t.people))),r.a.createElement(WW,{user:o,dictionary:t})))};function cY(){var e=Object(f.a)([""]);return cY=function(){return e},e}var sY=E.a.div(cY()),lY=r.a.memo((function(){return r.a.createElement(sY,{className:"overlay",onClick:function(){document.body.classList.remove("navigation-show")}})})),dY=a(92),uY=a.n(dY),mY=a(40),pY=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===i&&(i=mY.generate()),uY.a.create(e,{body:t,icon:null!==a?a:"./assets/icons/favicon.png",timeout:r,tag:e,onClick:function(){window.focus(),n&&n(),this.close()}})},fY=function(e){return/(?:(?:ht|f)tp(?:s?):\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |/.,*:;=]|%[a-f\d]{2})*)?/gi.test(e)},bY=function(e){Object(hA.a)(a,e);var t=Object(EA.a)(a);function a(e){var n;return Object(bs.a)(this,a),(n=t.call(this,e)).refetchPosts=function(){n.props.refetchPosts()},n.refetchPostComments=function(){Object.keys(n.props.postComments).forEach((function(e){n.props.refetchPostComments({post_id:e})}))},n.refetch=function(){n.props.lastReceivedMessage&&n.props.lastReceivedMessage.id&&n.props.refetchMessages({message_id:n.props.lastReceivedMessage.id})},n.refetchOtherMessages=function(){if(n.props.lastReceivedMessage&&n.props.lastReceivedMessage.id&&Object.values(n.props.channels).length){var e=Object.values(n.props.channels);n.props.refetchOtherMessages({message_id:n.props.lastReceivedMessage.id,channel_ids:e.filter((function(e){return"number"===typeof e.id&&e.id!==n.props.lastReceivedMessage.channel_id})).map((function(e){return e.id}))},(function(e,t){e||t.data.filter((function(e){return e.count_message>0})).forEach((function(e){n.props.getChannelDetail({id:e.channel_id})}))}))}},n.state={reconnected:null,disconnectedTimestamp:null,reconnectedTimestamp:null},n.onlineUsers=r.a.createRef(null),n.publishChannelId=r.a.createRef(null),n}return Object(hs.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getOnlineUsers(),this.props.getLatestReply({},(function(e,t){console.log(t,"latest")})),window.Echo.connector.socket.on("connect",(function(){console.log("socket connected")})),window.Echo.connector.socket.on("disconnect",(function(){console.log("socket disconnected"),e.setState({disconnectedTimestamp:Math.floor(Date.now()/1e3)})})),window.Echo.connector.socket.on("reconnect",(function(){console.log("socket reconnected"),e.setState({reconnected:!0,reconnectedTimestamp:Math.floor(Date.now()/1e3)}),e.refetch(),e.refetchOtherMessages(),e.refetchPosts(),e.refetchPostComments(),e.props.getFavoriteWorkspaceCounters()})),window.Echo.connector.socket.on("reconnecting",(function(){console.log("socket reconnecting")})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".Driff.User.").concat(this.props.user.id)).listen(".unarchive-post-notification",(function(t){console.log(t),t.posts.forEach((function(t){e.props.getUnarchivePost({post_id:t.id})}))})).listen(".huddle-notification",(function(t){switch(console.log("huddle notification",t),t.SOCKET_TYPE){case"HUDDLE_CREATED":e.props.incomingHuddleBot(Object(R.a)(Object(R.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,a){return Object(R.a)(Object(R.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===a,isLastQuestion:t.questions.length===a+1})}))}));break;case"HUDDLE_UPDATED":e.props.incomingUpdatedHuddleBot(Object(R.a)(Object(R.a)({},t),{},{start_at:t.set_start_at,publish_at:t.set_publish_at,questions:t.questions.map((function(e,a){return Object(R.a)(Object(R.a)({},e),{},{answer:null,original_answer:null,isFirstQuestion:0===a,isLastQuestion:t.questions.length===a+1})}))}));break;case"HUDDLE_DELETED":e.props.incomingDeletedHuddleBot({id:parseInt(t.id)});break;case"HUDDLE_ANSWER_UPDATE":e.props.incomingHuddleAnswers(Object(R.a)(Object(R.a)({},t),{},{channel:{id:t.huddle.channel_id}}));break;case"USER_ANSWERED":e.props.incomingHuddleAnswers(t),e.props.incomingChatMessage(Object(R.a)(Object(R.a)({},t.message),{},{huddle_log:t.huddle_log}));break;case"HUDDLE_SKIP":e.props.incomingHuddleSkip(t);break;default:return null}})).listen(".workspace-todo-notification",(function(t){switch(console.log("workspace todo notification",t),t.workspace&&Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace.id===e.id}))&&e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),t.SOCKET_TYPE){case"CREATE_WORKSPACE_TODO":e.props.incomingToDo(Object(R.a)(Object(R.a)({},t),{},{user:t.user_id}));break;case"UPDATE_WORKSPACE_TODO":e.props.incomingUpdateToDo(t);break;case"DONE_TODO":e.props.incomingDoneToDo(t);break;case"DELETE_WORKSPACE_TODO":e.props.incomingRemoveToDo(t);break;case"REMIND_WORKSPCE_TODO":e.props.incomingUpdateToDo(t);break;case"ADVANCE_REMIND_TODO":if(A.isSafari&&e.props.notificationsOn){pY("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var a="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?a=t.data.workspaces.length?t.data.workspaces[0].workspace?"/workspace/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Wt(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Wt(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Wt(t.data.post.title)):"/workspace/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Wt(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Wt(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Wt(t.data.post.title)):"CHAT"===t.link_type&&(a="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==a&&e.props.history.push(a)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(t);break;default:return null}})).listen(".todo-notification",(function(t){switch(console.log("todo notification",t),e.props.getFavoriteWorkspaceCounters(),e.props.getToDoDetail(),t.SOCKET_TYPE){case"CREATE_TODO":e.props.incomingToDo(Object(R.a)(Object(R.a)({},t),{},{user:t.user_id}));break;case"UPDATE_TODO":e.props.incomingUpdateToDo(t);break;case"DONE_TODO":e.props.incomingDoneToDo(t);break;case"DELETE_TODO":e.props.incomingRemoveToDo(t);break;case"REMIND_TODO":e.props.incomingUpdateToDo(t);break;case"ADVANCE_REMIND_TODO":if(A.isSafari&&e.props.notificationsOn){pY("You asked to be reminded about ".concat(t.title),t.title,e.props.user.profile_image_link,(function(){if(t.link_type){var a="";"POST_COMMENT"===t.link_type||"POST"===t.link_type?a=t.data.workspaces.length?t.data.workspaces[0].workspace?"/workspace/posts/".concat(t.data.workspaces[0].workspace.id,"/").concat(Wt(t.data.workspaces[0].workspace.name),"/").concat(t.data.workspaces[0].topic.id,"/").concat(Wt(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Wt(t.data.post.title)):"/workspace/posts/".concat(t.data.workspaces[0].topic.id,"/").concat(Wt(t.data.workspaces[0].topic.name),"/post/").concat(t.data.post.id,"/").concat(Wt(t.data.post.title)):"/posts/".concat(t.data.post.id,"/").concat(Wt(t.data.post.title)):"CHAT"===t.link_type&&(a="/chat/".concat(t.data.channel.code,"/").concat(t.data.chat_message.code)),""!==a&&e.props.history.push(a)}else e.props.history.push("/todos")}))}e.props.incomingReminderNotification(t);break;default:return null}})).listen(".workspace-role-notification",(function(t){console.log("workspace role",t),e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(console.log("google attachment",t),t.SOCKET_TYPE){case"GOOGLE_ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;default:return null}})).listen(".workspace-folder-notification",(function(t){switch(console.log(t,"folder"),t.SOCKET_TYPE){case"FOLDER_CREATE":case"FOLDER_UPDATE":e.props.incomingFolder(t);break;case"FOLDER_DELETE":if(e.props.incomingDeletedFolder(t),"/workspace/files"===e.props.match.url&&e.props.location.pathname.includes(t.folder.id)&&e.props.location.pathname.includes(t.topic_id)){var a=e.props.location.pathname.split("/folder/")[0];e.props.history.push(a)}break;case"FOLDER_RESTORE":e.props.incomingRestoreFolder(t);break;case"FOLDER_FORCE_DELETE":e.props.incomingRemovedFolder(t);break;default:return null}})).listen(".workspace-file-notification",(function(t){switch(console.log(t,"file","line 170"),t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){console.log(t,"timeline"),e.props.incomingTimeline(t)})).listen(".upload-bulk-private-workspace-files",(function(t){console.log(t,"files bulk"),e.props.incomingFiles(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".favourite-notification",(function(t){switch(console.log(t,"favourite-notification"),t.SOCKET_TYPE){case"FAVOURITE_ITEM":e.props.incomingFavouriteItem(t);break;default:return null}})).listen(".unread-post",(function(t){console.log(t,"unread-post"),e.props.incomingReadUnreadReducer(t)})).listen(".post-notification",(function(t){switch(console.log(t,"post-notif"),e.props.getFavoriteWorkspaceCounters(),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),t.SOCKET_TYPE){case"CLOSED_POST":e.props.incomingClosePost(t);break;case"POST_APPROVED":e.props.incomingPostApproval(t);break;case"POST_REQUIRED":e.props.incomingPostRequired(t);break;case"POST_COMMENT_APPROVED":e.props.incomingCommentApproval(Object(R.a)(Object(R.a)({},t),{},{users_approval:t.users_approval.map((function(e){return e.id===t.user_approved.id?Object(R.a)(Object(R.a)({},e),t.user_approved):e}))}));break;case"READ_SELECTED_UNREAD_POST":e.props.incomingReadSelectedPosts(t);break;case"ARCHIVED_SELECTED_POST":e.props.incomingArchivedSelectedPosts(t);break;case"ADD_RECIPIENTS":e.props.fetchPost({post_id:t.post_id},(function(t,a){if(!t){var n=Object(R.a)(Object(R.a)({},a.data),{},{clap_user_ids:[]});e.props.incomingPost(n)}}));break;case"POST_CREATE":t.clap_user_ids=[];var a=Object(R.a)({},t),n=a.users_approval.some((function(t){return t.id===e.props.user.id}));e.props.user.id!==t.author.id&&A.isSafari&&e.props.notificationsOn&&pY("".concat(t.author.first_name," shared a post"),t.title,t.author.profile_image_link,null),null!==t.show_at&&(e.props.user.id,t.author.id),e.props.incomingPost(Object(R.a)(Object(R.a)({},a),{},{post_approval_label:n?"NEED_ACTION":null})),t.channel_messages&&t.channel_messages.forEach((function(a){a.system_message.files=[],a.system_message.editable=!1,a.system_message.unfurls=[],a.system_message.reactions=[],a.system_message.is_deleted=!1,a.system_message.todo_reminder=null,a.system_message.is_read=!1,a.system_message.is_completed=!1,a.system_message.user=null,a.system_message.new_post=!0,a.system_message.topic=a.topic,a.system_message.shared_with_client=t.shared_with_client,e.props.incomingPostNotificationMessage(a.system_message)}));break;case"POST_UPDATE":if(e.props.incomingUpdatedPost(t),t.channel_messages&&t.post_participant_data)if(t.post_participant_data.from_company||t.post_participant_data.all_participant_ids.some((function(t){return t===e.props.user.id}))){if(!t.post_participant_data.from_company&&t.post_participant_data.all_participant_ids.some((function(t){return t===e.props.user.id})))t.clap_user_ids=[],e.props.incomingPost(t),t.channel_messages&&t.channel_messages.forEach((function(a){a.system_message.files=[],a.system_message.editable=!1,a.system_message.unfurls=[],a.system_message.reactions=[],a.system_message.is_deleted=!1,a.system_message.todo_reminder=null,a.system_message.is_read=!0,a.system_message.is_completed=!1,a.system_message.user=null,a.system_message.new_post=!1,a.system_message.topic=a.topic,a.system_message.shared_with_client=t.shared_with_client,e.props.incomingPostNotificationMessage(a.system_message)}));else if(t.post_participant_data.from_company){var r=Object.values(e.props.channels).filter((function(e){return"COMPANY"===e.type}));if(r.length){var i=r[0].id,o=Object(Rt.a)(t.channel.messages);o=o.filter((function(e){return e.channel.id!==i})),e.props.deletePostNotification(o)}}}else e.props.deletePostNotification(t.channel_messages),e.props.incomingDeletedPost(t);break;case"POST_DELETE":e.props.incomingDeletedPost(t);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(t);break;case"POST_CLAP_TOGGLE":e.props.user.id!==t.author.id&&(e.props.incomingPostClap(t),e.props.user.id===t.post_user_id&&1===t.clap_count&&Object(bp.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourPost),{position:bp.c.POSITION.BOTTOM_LEFT}));break;case"MARKED_DONE":e.props.incomingPostMarkDone(t);break;case"COMMENT_IMPORTANT":e.props.incomingImportantComment(t);break;default:return null}})).listen(".post-comment-notification",(function(t){switch(console.log(t,"comment-notif"),t.SOCKET_TYPE){case"POST_COMMENT_CREATE":if(e.props.incomingComment(Object(R.a)(Object(R.a)({},t),{},{clap_user_ids:[]})),e.props.getUnreadNotificationCounterEntries({add_unread_comment:1}),t.workspaces&&t.workspaces.length>=1&&t.author.id!==e.props.user.id){e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_POST"});var a=t.workspaces.map((function(e){return e.topic_id}));Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&a.some((function(t){return t===e.id}))}))&&e.props.getFavoriteWorkspaceCounters()}if(t.author.id!==e.props.user.id){if(A.isSafari&&e.props.notificationsOn){var n="";(n=t.workspaces.length?t.workspaces[0].workspace_id?"/workspace/posts/".concat(t.workspaces[0].workspace_id,"/").concat(Wt(t.workspaces[0].workspace_name),"/").concat(t.workspaces[0].topic_id,"/").concat(Wt(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Wt(t.post_title)):"/workspace/posts/".concat(t.workspaces[0].topic_id,"/").concat(Wt(t.workspaces[0].topic_name),"/post/").concat(t.post_id,"/").concat(Wt(t.post_title)):"/posts/".concat(t.post_id,"/").concat(Wt(t.post_title)))===e.props.location.pathname&&!e.props.isIdle&&e.props.isBrowserActive&&document.hasFocus()||pY("".concat(t.author.first_name," replied in a post"),Ht(t.body),t.author.profile_image_link,(function(){return e.props.history.push(n,{focusOnMessage:t.id})}))}t.workspaces.forEach((function(t){e.props.getUnreadWorkspacePostEntries({topic_id:t.topic_id},(function(a,n){a||e.props.updateWorkspacePostCount({topic_id:t.topic_id,count:n.data.result})}))}))}break;case"POST_COMMENT_DELETE":e.props.incomingDeletedComment(t);break;case"POST_COMMENT_UPDATE":e.props.incomingComment(Object(R.a)(Object(R.a)({},t),{},{clap_user_ids:[]}));break;case"POST_COMMENT_CLAP_TOGGLE":e.props.user.id!==t.author.id&&(e.props.incomingCommentClap(t),e.props.user.id===t.comment_user_id&&1===t.clap_count&&Object(bp.c)("".concat(t.author.name," ").concat(e.props.dictionary.likedYourComment),{position:bp.c.POSITION.BOTTOM_LEFT}));break;default:return null}})).listen(".chat-notification",(function(t){console.log(t,"chat-notification");var a=e.props,n=a.user,r=a.selectedChannel,i=a.isIdle,o=a.isBrowserActive;switch(t.SOCKET_TYPE){case"CHAT_CREATE":t.is_huddle&&e.publishChannelId.current!==t.channel_id&&(e.props.toaster.success("".concat(e.props.dictionary.huddlePublished," - ").concat(t.channel_name),{toastId:t.channel_id}),e.props.clearUnpublishedAnswer(t),setTimeout((function(){e.publishChannelId.current=null}),5e3));var c=Object(R.a)({},t),s=Object(Rt.a)(new Set(function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_apiVersion:"v2",REACT_APP_ENV:"development",REACT_APP_mockServerBaseUrl:"driff.network/api",REACT_APP_google_client_id:"363604057187-bc7k9qbdi4ok7auv3lhih9pgeotav6um.apps.googleusercontent.com",REACT_APP_push_public_key:"BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg",REACT_APP_google_key_local:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_apiProtocol:"https://",REACT_APP_localDNSName:"drevv.com",REACT_APP_localDNSProtocol:"https://",REACT_APP_google_key:"AIzaSyCE7DKikvWcAGdtgT7qTdy9aPp9sz_qXGA",REACT_APP_translation_api_base_url:"https://{{driffName}}.driff.io/api",REACT_APP_apiDNSName:"driff.network",REACT_APP_push_private_key:"CvHbNIIXn2A_asWFwuWEaHneBsgkFD3kVUSyAz1AzBg",REACT_APP_dictionary_file:"https://{{driffName}}.driff.io/api/lang",REACT_APP_sentry_dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",REACT_APP_apiBaseUrl:"driff.network/api",REACT_APP_socketAddress:"https://driff.network"}),a=t.REACT_APP_apiDNSName,n=t.REACT_APP_localDNSName,r=[];return e.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi,(function(e){fY(e)&&r.push(e)})),r.filter((function(e){return!e.includes(a)&&e.includes(n)&&!e.includes("/profile/")})).length?[r.filter((function(e){return!e.includes(a)&&e.includes(n)}))[0]]:[]}(t.body)));if(s.length&&e.props.generateUnfurl({type:"chat",message_id:c.id,link_url:s[0]},(function(t,a){a?e.props.generateUnfurlReducer({unfurls:a.data.unfurls,channel_id:c.channel_id,message_id:c.id}):console.log(t)})),(null===c.user||c.user.id!==n.id&&!c.is_muted)&&e.props.soundPlay(),null!==c.user&&e.props.user.id===c.user.id||(delete c.reference_id,c.g_date=e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),!i&&o&&document.hasFocus()&&e.props.isLastChatVisible&&e.props.selectedChannel&&e.props.selectedChannel.id===c.channel_id&&(c.is_read=!0)),e.props.incomingChatMessage(Object(R.a)(Object(R.a)({},c),{},{translated_body:null})),delete t.SOCKET_TYPE,delete t.socket,t.user.id!==n.id&&!t.is_muted&&e.props.notificationsOn&&A.isSafari&&(!e.props.location.pathname.includes("/chat/")||r.code!==t.channel_code||i||!o||!document.hasFocus())){pY("".concat(t.reference_title),t.reference_title.includes("in a direct message")?"".concat(Ht(t.body)):"".concat(t.user.first_name,": ").concat(Ht(t.body)),t.user.profile_image_link,(function(){return e.props.history.push("/chat/".concat(t.channel_code,"/").concat(t.code))}))}if(void 0===t.workspace_id||null===t.workspace_id||0===t.workspace_id){var l={};"CHAT_REMINDER_MESSAGE"===t.entity_type?l={count:1,entity_type:"CHAT_REMINDER_MESSAGE"}:c.user.id!==n.id&&(l={count:1,entity_type:"CHAT_MESSAGE"}),e.props.setGeneralChat(l)}else c.user.id!==n.id&&(e.props.setGeneralChat({count:1,entity_type:"WORKSPACE_CHAT_MESSAGE"}),Object.values(e.props.workspaces).some((function(e){return e.is_favourite&&t.workspace_id===e.id}))&&e.props.getFavoriteWorkspaceCounters());"undefined"===typeof e.props.channels[t.channel_id]&&e.props.getChannel({code:t.channel_code});break;case"CHAT_UPDATE":e.props.incomingUpdatedChatMessage(Object(R.a)(Object(R.a)({},t),{},{translated_body:null}));break;case"CHAT_DELETE":e.props.incomingDeletedChatMessage(t);break;case"TOGGLE_IMPORTANT":e.props.incomingImportantChat(t);break;case"STAR_CHAT":e.props.incomingChatStar(t);break;default:return null}})).listen(".post-list-notification",(function(t){console.log(t,"post-list-notification"),e.props.getPostList({},(function(a,n){if(!a){var r={link_id:t.link_id,post_id:t.post_id};switch(t.SOCKET_TYPE){case"POST_LIST_CONNECTED":e.props.incomingPostListConnect(r);break;case"POST_LIST_DISCONNECTED":e.props.incomingPostListDisconnect(r);break;default:return null}}}))})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.Broadcast")).listen(".remove-file-notification",(function(t){switch(console.log(t,"remove file"),t.SOCKET_TYPE){case"REMOVE_FILE":e.props.incomingRemoveFileAutomatically(t);break;case"REMOVE_FILE_ON_DOWNLOAD":e.props.incomingRemoveFileAfterDownload(t.files);break;default:return null}})).listen(".workspace-team-channel",(function(t){console.log(t),e.props.incomingTeamChannel(t)})).listen(".announcement-notification",(function(t){switch(console.log(t),t.SOCKET_TYPE){case"ANNOUNCEMENT_UPDATED":e.props.incomingUpdatedAnnouncement(t);break;case"ANNOUNCEMENT_CREATED":e.props.incomingCreatedAnnouncement(t);break;case"ANNOUNCEMENT_DELETED":e.props.incomingDeletedAnnouncement(t);break;default:return null}})).listen(".users-online-broadcast",(function(t){e.props.incomingOnlineUsers(t)})).listen(".user-updated",(function(t){switch(console.log("user updated",t),t.SOCKET_TYPE){case"ARCHIVED_ACCOUNT":var a={channel_ids:[].concat(Object(Rt.a)(t.connected_data.user_removed_channel_ids),Object(Rt.a)(t.connected_data.archived_channel_ids)),topic_ids:[].concat(Object(Rt.a)(t.connected_data.user_removed_topic_ids),Object(Rt.a)(t.connected_data.archived_topic_ids)),user:t.user};e.props.incomingArchivedUser(a),t.user.id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),P.sessionService.deleteSession().then((function(){return P.sessionService.deleteUser()})));break;case"RESTORED_ACCOUNT":e.props.incomingUnarchivedUser(t);break;case"DEACTIVATE_ACCOUNT":e.props.incomingDeactivatedUser(t),t.user_id===e.props.user.id&&(localStorage.removeItem("userAuthToken"),localStorage.removeItem("token"),localStorage.removeItem("atoken"),P.sessionService.deleteSession().then((function(){return P.sessionService.deleteUser()})));break;case"ACTIVATE_ACCOUNT":e.props.incomingActivatedUser(t);break;default:return null}})).listen(".updated-version",(function(t){console.log(t,"version");var a=t.version,n=t.requirement,r=parseFloat(a.substr(2)),i=parseFloat(Ba.a.version.substr(2));if(!T(window.location.hostname)&&"localhost"!==window.location.hostname&&r>i){e.props.addToModals({id:a,type:"update_found",requirement:n,handleReminder:function(){}}),localStorage.setItem("site_ver",a)}})).listen(".user-role-notification",(function(t){console.log(t,"updated role"),e.props.incomingUserRole(t),t.user_id===e.props.user.id&&e.props.getUser({id:e.props.user.id},(function(e,t){e||P.sessionService.saveUser(Object(R.a)({},t.data))}))})).listen(".company-announcement",(function(t){e.props.updateCompanyPostAnnouncement(t)})).listen(".company-request-form-notification",(function(t){switch(console.log(t,"company-request-form-notification"),t.SOCKET_TYPE){case"CREATE_REQUEST_FORM":e.props.incomingInternalUser(t);break;default:return null}})).listen(".company-notification",(function(t){switch(console.log(t,"company-notification"),t.SOCKET_TYPE){case"UPDATE_COMPANY_NAME":e.props.incomingUpdateCompanyName(t);break;default:return null}})).listen(".company-file-notification",(function(t){switch(console.log(t,"company file"),t.SOCKET_TYPE){case"FILE_EMPTY":e.props.incomingCompanyEmptyTrash(t);break;case"UPLOAD_BULK":e.props.incomingCompanyFiles(t);break;case"FILE_MOVE":e.props.incomingCompanyMoveFile(t);break;case"FILE_RESTORE":e.props.incomingCompanyRestoreFile(t);break;case"FILE_TRASH":e.props.incomingCompanyRemovedFile(t);break;case"FILE_UPDATE":e.props.incomingCompanyUpdatedFile(t);break;default:return null}})).listen(".company-folder-notification",(function(t){switch(console.log(t,"company folder"),t.SOCKET_TYPE){case"FOLDER_CREATE":e.props.incomingCompanyFolder(t);break;case"FOLDER_UPDATE":e.props.incomingCompanyUpdatedFolder(t);break;case"FOLDER_DELETE":e.props.incomingCompanyDeletedFolder(t);break;case"FOLDER_RESTORE":e.props.incomingCompanyRestoreFolder(t);break;default:return null}})).listen(".delete-workspace",(function(t){console.log("deleted folder",t),e.props.incomingDeletedWorkspaceFolder(t)})).listen(".workspace-role-notification",(function(t){console.log("workspace role",t),e.props.incomingWorkspaceRole(t)})).listen(".google-attachment-notification",(function(t){switch(console.log("google attachment",t),t.SOCKET_TYPE){case"ATTACHMENT_CREATE":"GOOGLE_DRIVE_FILE"===t.attachment_type?e.props.incomingGoogleFile(t):"GOOGLE_DRIVE_FOLDER"===t.attachment_type&&e.props.incomingGoogleFolder(t);break;case"ATTACHMENT_DELETE":e.props.incomingDeletedGoogleFile(t);break;default:return null}})).listen(".user-activated",(function(e){console.log(e,"new user")})).listen(".external-user-notification",(function(t){console.log(t,"new external user"),e.props.incomingExternalUser(t)})).listen(".user-notification",(function(t){switch(console.log(t,"user notif"),t.SOCKET_TYPE){case"USER_UPDATE":e.props.incomingUpdatedUser(t),t.id!==e.props.user.id&&t.user_id!==e.props.user.id||e.props.getUser({id:e.props.user.id},(function(e,t){e||P.sessionService.saveUser(Object(R.a)({},t.data))}));break;default:return null}})).listen(".post-notification",(function(t){switch(console.log(t,"post notif broadcast"),t.SOCKET_TYPE){case"POST_DELETE_ATTACHMENT":case"POST_COMMENT_DELETE_ATTACHMENT":e.props.incomingDeletedPostFile(t);break;default:return null}})).listen(".workspace-timeline-notification",(function(t){console.log(t,"timeline"),e.props.incomingTimeline(t)})).listen(".upload-bulk-workspace-files",(function(t){console.log(t,"files bulk"),e.props.incomingFiles(t),t.channel_messages&&t.channel_messages.forEach((function(t){t.system_message.channel_id=t.channel.id,t.system_message.files=[],t.system_message.editable=!1,t.system_message.unfurls=[],t.system_message.reactions=[],t.system_message.is_deleted=!1,t.system_message.todo_reminder=null,t.system_message.is_read=!1,t.system_message.is_completed=!1,t.system_message.user=null,t.system_message.topic=t.topic,t.system_message.shared_with_client=!0,e.props.incomingPostNotificationMessage(t.system_message)}))})).listen(".workspace-file-notification",(function(t){switch(console.log(t,"file","line 506"),t.SOCKET_TYPE){case"FILE_RESTORE":e.props.incomingRestoreFile(t);break;case"FILE_UPDATE":e.props.incomingFile(t);break;case"FILE_MOVE":e.props.incomingMovedFile(t);break;case"FILE_TRASH":e.props.incomingDeletedFile(t);break;case"FILE_EMPTY":e.props.incomingEmptyTrash(t);break;case"FILE_DELETE":e.props.incomingRemovedFile(t);break;case"FILE_BULK_TRASH":e.props.incomingDeletedFiles(t);break;default:return null}})).listen(".new-workspace",(function(t){console.log(t,"new workspace"),("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(a,n){a||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,a){if(!t){var n=Object(R.a)(Object(R.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(n)}}))):e.props.incomingWorkspaceFolder(Object(R.a)(Object(R.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-workspace",(function(t){if(console.log(t,"update workspace"),e.props.incomingUpdatedWorkspaceFolder(Object(R.a)(Object(R.a)({},t),{},{is_shared:t.is_shared})),"WORKSPACE"===t.type){if(t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(a,n){a||e.props.getWorkspace({topic_id:t.id})})));if(t.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&"external"===e.props.user.type&&1!==t.private&&t.remove_member_ids.some((function(t){return t===e.props.user.id}))){var a=Object.values(e.props.workspaces).filter((function(e){return e.id!==t.id&&e.is_favourite&&e.channel&&e.channel.code}));if(a.length){var n=a[0];e.props.setActiveTopic(n),n.folder_id?e.props.history.push("/workspace/chat/".concat(n.folder_id,"/").concat(Wt(n.folder_name),"/").concat(n.id,"/").concat(Wt(n.name))):e.props.history.push("/workspace/chat/".concat(n.id,"/").concat(Wt(n.name))),e.props.selectedChannel&&t.system_message&&e.props.selectedChannel.id===t.system_message.channel_id&&e.props.selectedChannel.code===t.channel.code&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)&&e.props.channels[n.channel.id]&&(e.props.setSelectedChannel(e.props.channels[n.channel.id]),e.props.history.push("/chat/".concat(n.channel.code)))}}}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var r=e.props.location.pathname;r=r.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.id,"/").concat(Wt(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.workspace_id,"/").concat(Wt(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Wt(t.name)))}})),window.Echo.private("".concat("dev24admin"===localStorage.getItem("slug")?"dev":localStorage.getItem("slug"),".App.User.").concat(this.props.user.id)).listen(".favourite-workspace-notification",(function(t){console.log(t),e.props.incomingFavouriteWorkspace(t)})).listen(".post-require-author-notify",(function(e){console.log(e,".post-read-require")})).listen(".post-read-require",(function(t){console.log(t,".post-read-require"),e.props.incomingMarkAsRead(t)})).listen(".new-workspace",(function(t){console.log(t,"new workspace broadcast"),("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(a,n){a||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,a){if(!t){var n=Object(R.a)(Object(R.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(n)}}))):e.props.incomingWorkspaceFolder(Object(R.a)(Object(R.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".new-lock-workspace",(function(t){console.log(t,"new workspace lock"),("WORKSPACE"!==t.type||t.members.some((function(t){return t.id===e.props.user.id})))&&(void 0!==t.topic?(null!==t.workspace?e.props.folders.hasOwnProperty(t.workspace.id)?e.props.incomingWorkspace(t):e.props.getWorkspaceFolder({folder_id:t.workspace.id},(function(a,n){a||e.props.incomingWorkspace(t)})):e.props.incomingWorkspace(t),e.props.getChannel({code:t.channel.code},(function(t,a){if(!t){var n=Object(R.a)(Object(R.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,isFetching:!1});e.props.addToChannels(n)}}))):e.props.incomingWorkspaceFolder(Object(R.a)(Object(R.a)({},t.workspace),{},{key_id:t.key_id,type:t.type})))})).listen(".update-lock-workspace",(function(t){if(console.log(t,"update lock workspace"),e.props.incomingUpdatedWorkspaceFolder(t),"WORKSPACE"===t.type){if(t.new_member_ids.length>0)t.new_member_ids.some((function(t){return t===e.props.user.id}))&&(0===t.workspace_id||e.props.folders.hasOwnProperty(t.workspace_id)?e.props.getWorkspace({topic_id:t.id}):e.props.getWorkspaceFolder({folder_id:t.workspace_id},(function(a,n){a||e.props.getWorkspace({topic_id:t.id})})));if(t.remove_member_ids.length>0&&"/workspace/search"!==e.props.match.url&&t.remove_member_ids.some((function(t){return t===e.props.user.id}))){var a=Object.values(e.props.workspaces).filter((function(e){return e.id!==t.id&&e.is_favourite&&e.channel&&e.channel.code}));if(a.length){var n=a[0];e.props.setActiveTopic(n),n.folder_id?e.props.history.push("/workspace/chat/".concat(n.folder_id,"/").concat(Wt(n.folder_name),"/").concat(n.id,"/").concat(Wt(n.name))):e.props.history.push("/workspace/chat/".concat(n.id,"/").concat(Wt(n.name))),e.props.selectedChannel&&t.system_message&&e.props.selectedChannel.id===t.system_message.channel_id&&e.props.selectedChannel.code===t.channel.code&&e.props.location.pathname==="/chat/".concat(e.props.selectedChannel.code)&&e.props.channels[n.channel.id]&&(e.props.setSelectedChannel(e.props.channels[n.channel.id]),e.props.history.push("/chat/".concat(n.channel.code)))}}}if(e.props.activeTopic&&e.props.activeTopic.id===t.id&&"WORKSPACE"===t.type&&e.props.match.url.startsWith("/workspace")&&"/workspace/search"!==e.props.match.url){var r=e.props.location.pathname;r=r.split("/")[2],0===t.workspace_id?0!==t.original_workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.id,"/").concat(Wt(t.name))):t.original_workspace_id!==t.workspace_id&&e.props.history.push("/workspace/".concat(r,"/").concat(t.workspace_id,"/").concat(Wt(t.current_workspace_folder_name),"/").concat(t.id,"/").concat(Wt(t.name)))}})).listen(".users-online",(function(t){console.log(t,"users-online"),e.props.currentOnlineUsers(t.current_users_online.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{id:e.user_id})})))})).listen(".post-view",(function(t){console.log(t,"post view");var a={post_id:t.post_id,viewer:t.user};e.props.incomingPostViewer(a)})).listen(".updated-post-visitors",(function(e){console.log(e,"comment post view")})).listen(".move-private-topic-workspace",(function(t){console.log(t,"move workspace private"),e.props.incomingMovedTopic(t)})).listen(".update-channel-name",(function(t){console.log(t,"updated channel name");var a=Object(R.a)(Object(R.a)({},t),{},{message:Object(R.a)(Object(R.a)({},t.message),{},{g_date:e.props.localizeDate(t.message.created_at.timestamp,"YYYY-MM-DD"),user:null,is_read:!0,files:[],reactions:[],unfurls:[],mention_html:null,quote:null})});e.props.incomingUpdatedChannelDetail(a)})).listen(".member-update-timestamp",(function(t){e.props.setMemberTimestamp(t)})).listen(".new-added-member-chat",(function(t){if(console.log("new chat member",t),t.id){var a=JSON.parse(t.body.replace("CHANNEL_UPDATE::","")),n=Object(R.a)(Object(R.a)({},t),{},{is_deleted:!1,reactions:[],last_reply:null,body:t.body,created_at:t.created_at,updated_at:t.created_at,files:[],id:t.id,quote:null,user:null,unfurls:[],is_read:!1,channel_id:t.channel_id,g_date:e.props.localizeDate(t.created_at.timestamp,"YYYY-MM-DD"),code:t.code}),r={users:Object.values(e.props.users).filter((function(e){return a.added_members.some((function(t){return t===e.id}))})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{bot_profile_image_link:null,last_visited_at:null,active:1,workspace_role:""})})),channel_id:t.channel_id,data:t,message:n};e.props.channels.hasOwnProperty(t.channel_id)||a.author.id===e.props.user.id?e.props.joinWorkspaceReducer(r):(e.props.getChannel({code:t.channel_code},(function(t,a){if(!t){var n=Object(R.a)(Object(R.a)({},a.data),{},{hasMore:!0,skip:0,replies:[],selected:!0,is_archived:1===a.data.is_archived,isFetching:!1});e.props.addToChannels(n)}})),t.workspace_data&&(t.workspace_data.workspace&&!e.props.folders.hasOwnProperty(t.workspace_data.workspace.id)?e.props.getWorkspaceFolder({folder_id:t.workspace_data.workspace.id},(function(a,n){a||e.props.getWorkspace({topic_id:t.workspace_data.topic.id})})):e.props.getWorkspace({topic_id:t.workspace_data.topic.id})))}})).listen(".archived-chat-channel",(function(t){if(console.log(t,"archived chat",e.props),t.channel_data.topic_detail)if(t.channel_data.timeline&&e.props.incomingTimeline({timeline_data:t.channel_data.timeline,workspace_data:{topic_id:t.channel_data.topic_detail.id}}),"UNARCHIVED"===t.channel_data.status)e.props.incomingUnArchivedWorkspaceChannel(t.channel_data);else{if(e.props.activeTopic&&e.props.activeTopic.id===t.channel_data.topic_detail.id){var a=null;if(null!==t.channel_data.topic_detail.workspace_id||0!==t.channel_data.topic_detail.workspace_id)if(e.props.folders.hasOwnProperty(t.channel_data.topic_detail.workspace_id)&&e.props.folders[t.channel_data.topic_detail.workspace_id].workspace_ids.length>1){var n=Object.values(e.props.workspaces).filter((function(a){return e.props.folders[t.channel_data.topic_detail.workspace_id].workspace_ids.some((function(e){return e===a.id}))})).sort((function(e,t){return e.name.localeCompare(t.name)}));console.log(n,"other workspaces"),a=n[0].id===e.props.activeTopic.id?n[1]:n[0]}else{var r=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));r.length&&(a=r[0])}else{var i=Object.values(e.props.workspaces).filter((function(e){return null===e.folder_id})).sort((function(e,t){return e.name.localeCompare(t.name)}));i.length&&(a=i[0])}a&&(e.props.workspaceActions.selectWorkspace(a),e.props.workspaceActions.redirectTo(a))}e.props.incomingArchivedWorkspaceChannel(t.channel_data)}else e.props.incomingArchivedChannel(t.channel_data)})).listen(".new-chat-channel",(function(t){console.log(t,"chat channel"),t.channel_data.creator_by.id!==e.props.user.id&&e.props.getChannel({code:t.channel_data.code},(function(a,n){if(!a){var r=Object(R.a)(Object(R.a)({},n.data),{},{selected:!1,replies:[],skip:0,hasMore:!0,isFetching:!1,creator:t.channel_data.creator_by});e.props.addToChannels(r)}}))})).listen(".chat-message-react",(function(t){console.log(t),e.props.incomingChatMessageReaction(Object(R.a)(Object(R.a)({},t),{},{user_name:t.name}))})).listen(".updated-notification-counter",(function(t){(console.log(t,"updated counter"),"CHAT"===t.entity_group_type)&&(Object.values(e.props.workspaces).find((function(e){return e.is_favourite&&(e.channel.id===parseInt(t.entity_id)||e.team_channel&&e.team_channel.id===parseInt(t.entity_id))}))&&e.props.getFavoriteWorkspaceCounters());e.props.setUnreadNotificationCounterEntries(t)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.useDriff.updateFaviconState(0!==Object.keys(this.props.unreadCounter).filter((function(e){return"chat_reminder_message"!==e})).reduce((function(e,t){return e+=a.props.unreadCounter[t]}),0)||0!==this.props.todos.count.overdue)}},{key:"render",value:function(){return null}}]),a}(n.Component);var hY=Object(l.connect)((function(e){var t=e.session.user,a=e.settings.userSettings,n=e.chat,r=n.channels,i=n.selectedChannel,o=n.isLastChatVisible,c=n.lastReceivedMessage,s=e.workspaces,l=s.workspaces,d=s.workspacePosts,u=s.folders,m=s.activeTopic,p=s.workspacesLoaded,f=s.postComments,b=e.global,h=b.unreadCounter,E=b.todos,_=b.recipients,O=b.isIdle,g=b.isBrowserActive,v=e.users,A=v.mentions;return{user:t,users:v.users,settings:a,channels:r,selectedChannel:i,workspacePosts:d,folders:u,mentions:A,activeTopic:m,workspacesLoaded:p,workspaces:l,isLastChatVisible:o,lastReceivedMessage:c,unreadCounter:h,todos:E,recipients:_,postComments:f,isIdle:O,isBrowserActive:g}}),(function(e){return{addToChannels:Object(It.bindActionCreators)(Ms,e),addUserToReducers:Object(It.bindActionCreators)(Xe,e),getChannel:Object(It.bindActionCreators)(Ds,e),setBrowserTabStatus:Object(It.bindActionCreators)(Fe,e),getOnlineUsers:Object(It.bindActionCreators)(oe,e),getConnectedSlugs:Object(It.bindActionCreators)(Me,e),getUser:Object(It.bindActionCreators)(ce,e),setMemberTimestamp:Object(It.bindActionCreators)(Fs,e),setAllMessagesAsRead:Object(It.bindActionCreators)(Gs,e),incomingChatMessage:Object(It.bindActionCreators)(Vs,e),incomingChatMessageFromOthers:Object(It.bindActionCreators)(Qs,e),addFilesToChannelAction:Object(It.bindActionCreators)(Di,e),deleteFilesFromChannelAction:Object(It.bindActionCreators)(Li,e),generateUnfurl:Object(It.bindActionCreators)(Be,e),generateUnfurlReducer:Object(It.bindActionCreators)(We,e),setChannel:Object(It.bindActionCreators)(Rs,e),incomingArchivedChannel:Object(It.bindActionCreators)(Ks,e),incomingChatMessageReaction:Object(It.bindActionCreators)(qs,e),incomingUpdatedChatMessage:Object(It.bindActionCreators)(Zs,e),incomingDeletedChatMessage:Object(It.bindActionCreators)(el,e),incomingUpdatedChannelDetail:Object(It.bindActionCreators)(dl,e),getChannelMembers:Object(It.bindActionCreators)(bl,e),updateChannelMembersTitle:Object(It.bindActionCreators)(hl,e),incomingWorkspaceFolder:Object(It.bindActionCreators)(fm,e),incomingWorkspace:Object(It.bindActionCreators)(bm,e),incomingUpdatedWorkspaceFolder:Object(It.bindActionCreators)(hm,e),incomingMovedTopic:Object(It.bindActionCreators)(Em,e),setGeneralChat:Object(It.bindActionCreators)(rt,e),setUnreadNotificationCounterEntries:Object(It.bindActionCreators)(it,e),incomingPost:Object(It.bindActionCreators)(Ld,e),incomingPostClap:Object(It.bindActionCreators)(Bd,e),incomingDeletedPost:Object(It.bindActionCreators)(Md,e),incomingComment:Object(It.bindActionCreators)(Ud,e),incomingCommentClap:Object(It.bindActionCreators)(Wd,e),incomingFolder:Object(It.bindActionCreators)(to,e),incomingDeletedFolder:Object(It.bindActionCreators)(no,e),incomingFile:Object(It.bindActionCreators)(co,e),incomingFiles:Object(It.bindActionCreators)(mo,e),incomingDeletedFile:Object(It.bindActionCreators)(uo,e),incomingMovedFile:Object(It.bindActionCreators)(ho,e),incomingRestoreFile:Object(It.bindActionCreators)(Eo,e),incomingRestoreFolder:Object(It.bindActionCreators)(_o,e),incomingEmptyTrash:Object(It.bindActionCreators)(Oo,e),incomingCompanyFolder:Object(It.bindActionCreators)(ec,e),incomingCompanyUpdatedFolder:Object(It.bindActionCreators)(tc,e),incomingCompanyDeletedFolder:Object(It.bindActionCreators)(ac,e),incomingCompanyFile:Object(It.bindActionCreators)(nc,e),incomingCompanyFiles:Object(It.bindActionCreators)(rc,e),incomingCompanyDeletedFile:Object(It.bindActionCreators)(ic,e),incomingCompanyMovedFile:Object(It.bindActionCreators)(oc,e),incomingCompanyEmptyTrash:Object(It.bindActionCreators)(cc,e),incomingCompanyRemovedFile:Object(It.bindActionCreators)(sc,e),incomingCompanyMoveFile:Object(It.bindActionCreators)(lc,e),incomingCompanyRestoreFile:Object(It.bindActionCreators)(dc,e),incomingCompanyRestoreFolder:Object(It.bindActionCreators)(uc,e),incomingCompanyRemovedFolder:Object(It.bindActionCreators)(mc,e),incomingCompanyDeletedFiles:Object(It.bindActionCreators)(pc,e),incomingCompanyUpdatedFile:Object(It.bindActionCreators)(fc,e),incomingPostViewer:Object(It.bindActionCreators)(Zd,e),incomingUpdatedPost:Object(It.bindActionCreators)(Fd,e),incomingTimeline:Object(It.bindActionCreators)(ym,e),incomingDeletedPostFile:Object(It.bindActionCreators)(vo,e),incomingDeletedComment:Object(It.bindActionCreators)(tu,e),incomingUpdatedUser:Object(It.bindActionCreators)(fe,e),unreadChannelReducer:Object(It.bindActionCreators)(_l,e),incomingRemovedFile:Object(It.bindActionCreators)(Ao,e),incomingRemovedFolder:Object(It.bindActionCreators)(jo,e),getWorkspace:Object(It.bindActionCreators)(Sm,e),setSelectedChannel:Object(It.bindActionCreators)(ws,e),incomingArchivedWorkspaceChannel:Object(It.bindActionCreators)(wm,e),incomingUnArchivedWorkspaceChannel:Object(It.bindActionCreators)(Nm,e),updateWorkspaceCounter:Object(It.bindActionCreators)(km,e),fetchPost:Object(It.bindActionCreators)(au,e),incomingDeletedFiles:Object(It.bindActionCreators)(yo,e),incomingGoogleFile:Object(It.bindActionCreators)(No,e),incomingGoogleFolder:Object(It.bindActionCreators)(xo,e),joinWorkspaceReducer:Object(It.bindActionCreators)(vm,e),incomingDeletedGoogleFile:Object(It.bindActionCreators)(Io,e),incomingWorkspaceRole:Object(It.bindActionCreators)(Im,e),incomingDeletedWorkspaceFolder:Object(It.bindActionCreators)(Fm,e),incomingExternalUser:Object(It.bindActionCreators)(Oe,e),getWorkspaceFolder:Object(It.bindActionCreators)(Mm,e),incomingUpdateCompanyName:Object(It.bindActionCreators)(Qu,e),incomingInternalUser:Object(It.bindActionCreators)(ve,e),incomingToDo:Object(It.bindActionCreators)(bt,e),incomingUpdateToDo:Object(It.bindActionCreators)(ht,e),incomingDoneToDo:Object(It.bindActionCreators)(Et,e),incomingRemoveToDo:Object(It.bindActionCreators)(_t,e),incomingPostMarkDone:Object(It.bindActionCreators)(Pd,e),incomingFavouriteItem:Object(It.bindActionCreators)(Ot,e),incomingReadUnreadReducer:Object(It.bindActionCreators)($d,e),updateCompanyPostAnnouncement:Object(It.bindActionCreators)(Ku,e),incomingUserRole:Object(It.bindActionCreators)(Ce,e),deletePostNotification:Object(It.bindActionCreators)(gl,e),incomingPostNotificationMessage:Object(It.bindActionCreators)(vl,e),incomingMarkAsRead:Object(It.bindActionCreators)(nu,e),addToModals:Object(It.bindActionCreators)(Ye,e),refetchMessages:Object(It.bindActionCreators)(gt,e),refetchOtherMessages:Object(It.bindActionCreators)(vt,e),getChannelDetail:Object(It.bindActionCreators)(Al,e),incomingReminderNotification:Object(It.bindActionCreators)(tm,e),getLatestReply:Object(It.bindActionCreators)(At,e),incomingPostRecipients:Object(It.bindActionCreators)(mu,e),refetchPosts:Object(It.bindActionCreators)(pu,e),refetchPostComments:Object(It.bindActionCreators)(fu,e),getUnreadNotificationCounterEntries:Object(It.bindActionCreators)(nt,e),incomingImportantComment:Object(It.bindActionCreators)(Cu,e),incomingImportantChat:Object(It.bindActionCreators)(Sl,e),incomingReadSelectedPosts:Object(It.bindActionCreators)(Tu,e),incomingArchivedSelectedPosts:Object(It.bindActionCreators)(yu,e),getUnreadWorkspacePostEntries:Object(It.bindActionCreators)(Gm,e),updateWorkspacePostCount:Object(It.bindActionCreators)(Hm,e),incomingPostApproval:Object(It.bindActionCreators)(ku,e),incomingChatStar:Object(It.bindActionCreators)(xl,e),incomingCommentApproval:Object(It.bindActionCreators)(Nu,e),incomingArchivedUser:Object(It.bindActionCreators)(xe,e),incomingUnarchivedUser:Object(It.bindActionCreators)(Re,e),incomingDeactivatedUser:Object(It.bindActionCreators)(Ie,e),incomingActivatedUser:Object(It.bindActionCreators)(Pe,e),incomingHuddleBot:Object(It.bindActionCreators)(Ml,e),incomingUpdatedHuddleBot:Object(It.bindActionCreators)(Gl,e),incomingDeletedHuddleBot:Object(It.bindActionCreators)(Hl,e),incomingHuddleAnswers:Object(It.bindActionCreators)(Wl,e),clearUnpublishedAnswer:Object(It.bindActionCreators)(ql,e),incomingClosePost:Object(It.bindActionCreators)(Iu,e),incomingHuddleSkip:Object(It.bindActionCreators)($l,e),incomingOnlineUsers:Object(It.bindActionCreators)(De,e),incomingUpdatedAnnouncement:Object(It.bindActionCreators)(St,e),incomingCreatedAnnouncement:Object(It.bindActionCreators)(kt,e),incomingDeletedAnnouncement:Object(It.bindActionCreators)(wt,e),getPostList:Object(It.bindActionCreators)(sd,e),incomingPostListConnect:Object(It.bindActionCreators)(fd,e),incomingPostListDisconnect:Object(It.bindActionCreators)(bd,e),getUnarchivePost:Object(It.bindActionCreators)(Pu,e),incomingPostRequired:Object(It.bindActionCreators)(Lu,e),incomingTeamChannel:Object(It.bindActionCreators)(Ym,e),incomingRemoveFileAfterDownload:Object(It.bindActionCreators)(Nc,e),incomingRemoveFileAutomatically:Object(It.bindActionCreators)(xc,e),incomingFavouriteWorkspace:Object(It.bindActionCreators)(Qm,e),getFavoriteWorkspaceCounters:Object(It.bindActionCreators)(Zm,e),getToDoDetail:Object(It.bindActionCreators)(mt,e),setActiveTopic:Object(It.bindActionCreators)(_m,e)}}))(Object(b.k)(bY)),EY="BIVuX3s2BgNuajbJpVoDLDtqyIpZqf9eHCxegEBaza0OcEfYLHNZkuMscN86IjrMUw_ZzF8Td28aLi_4aRJclRg";function _Y(){return(_Y=Object(F.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OY(){return navigator.serviceWorker.register("/sw.js")}function gY(){return(gY=Object(F.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:EY});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vY="serviceWorker"in navigator&&"PushManager"in window;function AY(){var e=Object(n.useState)("undefined"!==typeof Notification&&Notification.permission),t=Object(_.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),o=Object(_.a)(i,2),c=o[0],s=o[1],d=Object(n.useState)(null),u=Object(_.a)(d,2),m=u[0],p=u[1],f=Object(n.useState)(null),b=Object(_.a)(f,2),h=b[0],E=b[1],O=Object(n.useState)(!0),g=Object(_.a)(O,2),v=g[0],A=g[1],j=Object(n.useState)(null),C=Object(_.a)(j,2),T=C[0],y=C[1],S=Object(n.useState)(null),k=Object(_.a)(S,2),w=k[0],N=k[1],x=Object(n.useState)(localStorage.getItem("remindNotification")),R=Object(_.a)(x,2),I=R[0],P=R[1],D=Object(n.useState)(!1),M=Object(_.a)(D,2),U=M[0],G=M[1],H=Object(l.useDispatch)(),B=Object(l.useSelector)((function(e){return e.notifications.hasSubscribed})),W=function(){A(!0),E(!1),y(!0),function(){return gY.apply(this,arguments)}().then((function(e){s(e),H(at(e,(function(e,t){if(console.log("subscribed",t),e)return y(!1),A(!1),void E(e);y(!1),p(t.data.id)}))),A(!1)})).catch((function(e){console.error("Couldn't create the notification subscription","name:",e.name,"message:",e.message,"code:",e.code),E(e),A(!1)}))};Object(n.useEffect)((function(){vY&&(A(!0),E(!1),OY().then((function(){A(!1)}))),G(!0)}),[]),Object(n.useEffect)((function(){A(!0),E(!1),N(!0),function(){var e=Object(F.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"undefined"!==typeof navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:t=e.sent,console.log(t,"existing subscription"),H(em(!!t)),s(t),N(!1),A(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){null===c&&null===T&&!1===w&&W()}),[c,T,w,H]),Object(n.useEffect)((function(){console.log(vY,B),vY&&null===B&&(console.log("trigger resubscribe"),OY().then((function(){"granted"===a&&(console.log("resubscribed"),H(em(!0)),W())})))}),[B,a]);return{onClickRemindLater:function(){var e=Math.floor(Date.now()/1e3)+86400;localStorage.setItem("remindNotification",e),P(e)},onClickAskUserPermission:function(){A(!0),E(!1),function(){return _Y.apply(this,arguments)}().then((function(e){r(e),"granted"!==e?(E({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),s(!1)):W(),A(!1)}))},onClickSubscribeToPushNotification:W,onClickSendSubscriptionToPushServer:function(){A(!0),E(!1),H(at(c,(function(e,t){if(e)return A(!1),void E(e);p(t.data.id)})))},pushServerSubscriptionId:m,onClickSendNotification:function(){A(!0),E(!1),H(tt({sub_id:m},(function(e,t){A(!1),e&&E(e)})))},userConsent:a,pushNotificationSupported:vY,userSubscription:c,error:h,loading:v,showNotificationBar:"default"===a&&null===c&&(null===I||I<Math.floor(Date.now()/1e3)),mounted:U}}function jY(){var e=Object(f.a)(["\n    text-decoration: underline;\n    cursor: pointer;\n"]);return jY=function(){return e},e}function CY(){var e=Object(f.a)(["\n  padding: 10px;\n  width: 100%;\n  background: #000;\n  color: #fff;\n  height: 40px;\n  display: flex;\n  justify-content: space-between;\n  .feather {\n      cursor: pointer;\n  }\n"]);return CY=function(){return e},e}var TY=E.a.div(CY()),yY=E.a.span(jY()),SY=function(e){var t=e.onClickAskUserPermission,a=e.onClickRemindLater;return r.a.createElement(TY,null,r.a.createElement("p",null,"Please enable notification to get real-time updates. ",r.a.createElement(yY,{onClick:t},"Enable notification")),r.a.createElement(pn,{icon:"x",onClick:a}))};function kY(){var e=Object(f.a)(["\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n"]);return kY=function(){return e},e}function wY(){var e=Object(f.a)([""]);return wY=function(){return e},e}var NY=E.a.div(wY()),xY=E.a.audio(kY()),RY=r.a.memo((function(e){Wp(e),ep(),ap(),Yp();var t=AY(),i=t.mounted,o=t.showNotificationBar,c=t.onClickAskUserPermission,s=t.onClickRemindLater,d=Object(b.j)().path,u=Ra().displayWelcomeBanner,m=Qa(),p=vs()._t,f={huddlePublished:p("HUDDLE.HUDDLE_PUBLISHED","Huddle published"),likedYourPost:p("TOAST.LIKED_YOUR_POST","liked your post"),likedYourComment:p("TOAST.LIKED_YOUR_COMMENT","liked your comment")},h=Object(l.useSelector)((function(e){return e.session.user})),E=Op(),_=Ap().localizeDate,O=mp(),g={audio:Object(n.useRef)(null)},v=Object(l.useDispatch)(),A=am(),j=A.driffSettings.isCompSettingsLoaded,C=A.chatSettings.sound_enabled,T=A.generalSettings,y=T.notifications_on,S=T.notification_sound,k=Object(b.g)(),w="external"===h.type;Object(n.useEffect)((function(){if("/logout"===d){var e="".concat(M(),"/logged-out");window.location.href="".concat(U({isDNS:!0}),"/auth-web/logout?redirect_link=").concat(e)}}),[d,v,k]),Object(n.useEffect)((function(){h.id&&j&&u()}),[h,j]),Object(n.useEffect)((function(){g.audio.current&&(g.audio.current.pause(),g.audio.current.load())}),[S]);return Object(uT.a)({timeout:6e4,onIdle:function(){console.log("on idle"),v(xt(!0))},onActive:function(){console.log("on active"),v(xt(!1))},debounce:250}),r.a.createElement(r.a.Fragment,null,r.a.createElement(xY,{ref:g.audio,controls:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement("source",{src:a(610),type:"audio/ogg"}),r.a.createElement("source",{src:a(611),type:"audio/mpeg"}),r.a.createElement("source",{src:a(612),type:"audio/m4r"})),"Your browser does not support the audio element."),o&&i&&r.a.createElement(SY,{onClickAskUserPermission:c,onClickRemindLater:s}),i&&r.a.createElement(JB,{isExternal:w}),i&&r.a.createElement(NY,{id:"main"},r.a.createElement(b.b,{render:function(e){return r.a.createElement($B,Object.assign({isExternal:w},e,{showNotificationBar:o}))},path:["/:page"]}),r.a.createElement(b.d,null,r.a.createElement(b.b,{render:function(e){return r.a.createElement(fG,Object.assign({isExternal:w},e))},path:["/workspace"]}),r.a.createElement(b.b,{render:function(e){return r.a.createElement(dU,Object.assign({},e,{isExternal:w}))},path:["/:page"]}))),r.a.createElement(lY,null),void 0!==h.id&&void 0!==window.Echo&&r.a.createElement(hY,{dictionary:f,useDriff:m,localizeDate:_,toaster:E,soundPlay:function(){if(C&&g.audio.current){var e=g.audio.current.play();void 0!==e&&e.then((function(){})).catch((function(e){console.log("error sound play")}))}},workspaceActions:O,notificationsOn:y}))})),IY=function(e){var t=e.children,a=Object(I.a)(e,["children"]),i=am(),o=i.init,c=i.fetch,s=i.fetchUserSettings,d=i.userSettings,u=i.driffSettings;o();var m=Object(l.useDispatch)(),p=Object(b.g)(),f=Object(l.useSelector)((function(e){return e.session})),h=Object(l.useSelector)((function(e){return e.global.i18nLoaded}));return Object(n.useEffect)((function(){f.checked&&f.authenticated&&(c(),s())}),[f.checked,f.authenticated,s,u.isSettingsLoaded]),Object(n.useEffect)((function(){f.user.id&&m(Xe({id:f.user.id,name:f.user.name,partial_name:f.user.partial_name,profile_image_link:f.user.profile_image_thumbnail_link?f.user.profile_image_thumbnail_link:f.user.profile_image_link,type:f.user.type}))}),[f.user]),f.checked&&h?f.authenticated&&!d.isLoaded?null:f.authenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.d,null,r.a.createElement(b.b,Object.assign({},a,{component:bA,path:["/logged-out","/force-logout"],exact:!0})),r.a.createElement(b.b,Object.assign({},a,{component:lA,path:["/test/files/workspace/:workspaceId"]}),t),r.a.createElement(b.b,Object.assign({},a,{component:iA,path:["/test/chat"]}),t),r.a.createElement(b.b,Object.assign({},a,{component:RY,path:["/notifications","/profile","/dashboard","/posts","/chat","/files","/people","/search","/settings","/system/people","/todos","/bot","/releases"]}),t),r.a.createElement(b.b,Object.assign({},a,{component:RY,path:["/workspace/chat","/workspace/:page","/magic-link/:token"]}),t),r.a.createElement(b.a,{path:"*",to:{pathname:f.user.type&&"external"===f.user.type?"/workspace/chat":"/chat",state:{from:p.location}}}))):r.a.createElement(b.d,null,r.a.createElement(b.b,Object.assign({},a,{component:bA,path:["/driff-register","/register","/magic-link","/resetpassword/:token/:email","/reset-password","/login","/authenticate/:token/:returnUrl?","/request-form","/magic-link/:token","/authenticate-ios/:tokens"],exact:!0}),t),r.a.createElement(b.a,{from:"*",to:{pathname:"/login",state:{from:p.location}}})):null};function PY(){var e=Object(f.a)(["\n  body & {\n    &.form-wrapper {\n      margin: 50px auto;\n      max-width: 860px;\n      width: 98%;\n      background-color: transparent;\n      box-shadow: none;\n      @media (max-width: 576px) {\n        width: auto;\n        margin: 0 20px;\n        padding: 32px;\n      }\n      h2 {\n        margin: 0 0 20px 0;\n        font-size: 26px;\n        text-align: left;\n        min-height: 80px;\n        color: #000000;\n        font-weight: 700;\n        line-height: 1.4;\n        @media (max-width: 576px) {\n          font-size: 26px;\n          min-height: auto;\n        }\n      }\n      p {\n        text-align: left;\n        font-size: 1rem;\n      }\n\n      .col-sm-6 {\n        padding: 60px 40px;\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n        background: #ffffff;\n        @media (max-width: 576px) {\n          padding: 30px 20px;\n          border-radius: 0;\n          border-bottom-left-radius: 4px;\n          border-bottom-right-radius: 4px;\n        }\n        .btn {\n          width: 100%;\n          text-align: center;\n          justify-content: center;\n          margin-bottom: 0 !important;\n          font-size: 18px;\n          height: 44px;\n          font-weight: bold;\n          color: #4d075a;\n          &:hover {\n            background-color: #7a1b8b;\n            border-color: #7a1b8b;\n            color: #ffffff;\n          }\n        }\n        border: 1px solid #ddd;\n        border-left: 0;\n\n        @media (max-width: 576px) {\n          border: 1px solid #ddd;\n          border-top: 0;\n        }\n        &.col-set-up {\n          background-color: #4d075a;\n          border: 0;\n          border-radius: 0;\n          border-top-left-radius: 4px;\n          border-bottom-left-radius: 4px;\n          h2 {\n            color: #fff;\n          }\n          p {\n            color: #fff;\n          }\n          @media (max-width: 576px) {\n            border-radius: 0;\n            border-top-left-radius: 4px;\n            border-top-right-radius: 4px;\n          }\n          .btn.btn-outline-light {\n            background-color: #fff;\n            &:hover {\n              background-color: rgba(255, 255, 255, 0.2) !important;\n              border-color: rgba(255, 255, 255, 0.2) !important;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .input-group {\n    input {\n      margin-bottom: 0 !important;\n    }\n    &.driff-name {\n      .input-group-text {\n        border-radius: 0 6px 6px 0;\n      }\n      .invalid-feedback {\n        text-align: left;\n      }\n    }\n  }\n"]);return PY=function(){return e},e}var DY=E.a.div(PY()),LY=Object(b.k)((function(e){var t=e.className,a=void 0===t?"":t,i=vs()._t,o={setupDriffHeader:i("DRIFF.SETUP_DRIFF_HEADER","Setup a new Driff"),setupDriffBody:i("DRIFF.SETUP_DRIFF_BODY","Start with a fresh installation for you and your team."),setupDriffButton:i("DRIFF.SETUP_DRIFF_BUTTON","+ Create a Driff"),signInDriffHeader:i("DRIFF.SIGIN_DRIFF_HEADER","Is your team already using Driff?"),signInDriffBody:i("DRIFF.SIGIN_DRIFF_BODY","Find and sign in to your team's Driff and start collaborating."),signInDriffButton:i("DRIFF.SIGIN_DRIFF_BUTTON","Sign in to Driff")};return Object(n.useEffect)((function(){document.body.classList.add("form-membership")}),[]),r.a.createElement(DY,{className:"driff-register-panel fadeIn form-wrapper ".concat(a)},r.a.createElement("div",{id:"logo"},r.a.createElement(fn,{icon:"driff-logo",width:"110",height:"80"})),r.a.createElement(Eb.a,{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-6 col-set-up"},r.a.createElement("h2",null,o.setupDriffHeader),r.a.createElement("p",null,o.setupDriffBody),r.a.createElement(u.b,{className:"btn btn-outline-light mt-4 mb-4",to:"/driff-register"},o.setupDriffButton)),r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement("h2",null,o.signInDriffHeader),r.a.createElement("p",null,o.signInDriffBody),r.a.createElement(u.b,{className:"btn btn-outline-light mt-4 mb-4",to:"/driff"},o.signInDriffButton))))}));a(613);function FY(){var e=Object(f.a)(["\n  min-height: 100%;\n  .Toastify__toast {\n    border-radius: 8px;\n  }\n  /* slide enter */\n  .mobile-slide-enter,\n  .mobile-slide-appear {\n    opacity: 0;\n    transform: scale(0.97) translateY(200px);\n    z-index: 1;\n  }\n  .mobile-slide-enter.mobile-slide-enter-active,\n  .mobile-slide-appear.mobile-slide-appear-active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n    transition: opacity 300ms linear 100ms, transform 300ms ease-in-out 100ms;\n  }\n\n  /* slide exit */\n  .mobile-slide-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n  .mobile-slide-exit.mobile-slide-exit-active {\n    opacity: 0;\n    transform: scale(0.97) translateY(5px);\n    transition: opacity 150ms linear, transform 150ms ease-out;\n  }\n  .mobile-slide-exit-done {\n    opacity: 0;\n  }\n"]);return FY=function(){return e},e}var MY=E.a.div(FY());var UY=r.a.memo((function(){var e=am().driffSettings,t=Qa(),a=t.actions,i=t.redirected,o=t.registeredDriff,c=t.setRegisteredDriff,s=Object(b.h)(),d=Object(l.useDispatch)(),u=Object(b.g)(),m=Object(l.useSelector)((function(e){return e.users})).profileSlider,p=Object(l.useSelector)((function(e){return e.session}));return vs(p),Object(n.useEffect)((function(){"/force-logout"===s.pathname&&P.sessionService.deleteSession().then((function(){P.sessionService.deleteUser(),u.push("/login")})),T(window.location.hostname)||"localhost"===window.location.hostname||a.checkUpdateVersion();var e=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),e.settings.maintenance_mode?r.a.createElement(MY,{className:"App"},r.a.createElement(bA,{setRegisteredDriff:c})):r.a.createElement(MY,{className:"App"},function(){if(localStorage.getItem("atoken")&&localStorage.getItem("slug"))return r.a.createElement("img",{style:{visibility:"hidden",display:"none"},alt:"login token",src:"".concat(U({isDNS:!0}),"/auth-web/login?token=").concat(localStorage.getItem("atoken")),height:1,width:1})}(),r.a.createElement(bp.b,{transition:bp.a,position:"top-center",autoClose:2e3,pauseOnHover:!1,draggable:!1,pauseOnFocusLoss:!1}),r.a.createElement(f_,null),"/driff"===s.pathname?r.a.createElement(ZE,{setRegisteredDriff:c}):"/driff-register"===s.pathname?r.a.createElement(b.b,{render:function(){return r.a.createElement(bA,{setRegisteredDriff:c})},path:"/driff-register",exact:!0}):r.a.createElement(r.a.Fragment,null,!0===i?r.a.createElement(hb,{redirectTo:a.getBaseUrl}):null===o?r.a.createElement(LY,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.d,null,r.a.createElement(h.a,null,r.a.createElement(IY,{path:"*"}))))),m&&r.a.createElement(vn.a,{appear:!0,in:null!==m||void 0!==m,timeout:300,classNames:"mobile-slide"},r.a.createElement(gn,{profile:m,onShowPopup:function(){d(Nt({id:null}))},classNames:"mobile"})),r.a.createElement($v,null))})),GY=(a(614),a(615),a(288));"1"===localStorage.getItem("sentry")&&c.a({dsn:"https://9194a5544a55461cb07592b59d0177b2@o129942.ingest.sentry.io/5501227",integrations:[new d.a.BrowserTracing],tracesSampleRate:1}),"1"===localStorage.getItem("log_rocket")&&(p.a.init("z1ni7v/driff",{dom:{textSanitizer:!0,inputSanitizer:!0}}),p.a.getSessionURL((function(e){s.b((function(t){t.setExtra("sessionURL",e)}))})));var HY=wa(),BY=HY.store,WY=HY.persistor,YY=HY.persistenceOn;o.a.render(r.a.createElement(l.Provider,{store:BY},YY?r.a.createElement(GY.a,{loading:null,persistor:WY},r.a.createElement(u.a,null,r.a.createElement(UY,null))):r.a.createElement(u.a,null,r.a.createElement(UY,null))),document.getElementById("root"))},71:function(e){e.exports=JSON.parse('{"a":{"version":"2.6.6","timestamp":1623396187,"requirement":"normal"}}')}},[[300,1,2]]]);